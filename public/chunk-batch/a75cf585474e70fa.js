(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[176613],{

/***/ 695048:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(816661);__web_req__(945823);__web_req__(656875);__web_req__(755566);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var vbB=function(a,b,c){if(a===b)throw Error("Trying to sort items with duplicate IDs");return a==null?c?-1:1:b==null?c?1:-1:c?a<b?-1:1:a<b?1:-1},wbB=function(a){const b=a.sortOrder===1;return(c,d)=>{switch(a.fe){case 3:var e,f;if(c.title==null&&d.title==null)return 0;const g=(e=c.title)===null||e===void 0?void 0:e.toLowerCase();e=(f=d.title)===null||f===void 0?void 0:f.toLowerCase();return g===e?vbB(c.id,d.id,b):vbB(g,e,b);case 1:return c.XO==null&&d.XO==null?0:c.XO===d.XO?c.title===d.title?vbB(c.id,
d.id,b):vbB(c.title,d.title,b):vbB(c.XO,d.XO,b);case 4:return c.Df==null&&d.Df==null?0:c.Df===d.Df?c.title===d.title?vbB(c.id,d.id,b):vbB(c.title,d.title,b):vbB(c.Df,d.Df,b);case 2:case 7:case 5:case 6:throw Error(`SortBy value ${__c.Qj.serialize(a.fe)} isn't supported yet`);default:throw new __c.t(a.fe);}}},xbB=function(a,b){var c;const d=b.item;d.itemType==="folder"||d.itemType==="template"||d.itemType==="library"||__c.ct(d.upload)||(a.Zcj.set(b.item.id,b),(c=d.upload)===null||c===void 0||c.finished.then(()=>
a.Suf(b)))},BbB=function(a,b,c){const d=new Set;({Udp:c}=c!==null&&c!==void 0?c:{});const {I3b:e,CHc:f,ukc:g,BHc:h}=c!==null&&c!==void 0?c:{},k=new ybB(async l=>{try{k.error=void 0;e===null||e===void 0||e({continuation:l});const n=await b.g6({I:a.$Mj,flags:a.O1m,userId:a.userId,X:a.X,continuation:l});f===null||f===void 0||f({continuation:l,Ab:n.Ab});const p=await zbB(a,n,d);g===null||g===void 0||g({continuation:l,Ab:n.Ab});return{results:p,continuation:n.continuation}}catch(n){throw n instanceof Error&&
(k.error=n,h===null||h===void 0||h({continuation:l}),n instanceof __c.$a||a.$Mj.errorService.error(n)),n;}});a.ES.addListeners({events:"all",Jz:"all",callback:l=>AbB(l,l.type==="add_upload",k,d,b)});a.l5h.wao.forEach(l=>AbB(l,!0,k,d,b));return{Ob:k,ivp:d}},DbB=function(a,b,c,d){d.has(a.id)||c.results.some(e=>e.id===a.id)||CbB(()=>{c.results.splice(b,0,a);d.add(a.id)})},zbB=async function(a,b,c){var d=b.type==="libraries"?EbB(b.Woa):FbB(b.items);d=(await a.ES.Qdg(d)).filter(__c.Ua);a.Usa(d);d=d.filter(e=>
!c.has(e.id));d.forEach(e=>c.add(e.id));await GbB(a,b);return d},AbB=function(a,b,c,d,e){e=e.NId(a);if(a.item.itemType!=="audio")switch(e.action){case "do-nothing":break;case "add-item-to-view":if(!b&&c.status===0)break;if(c.results.some(g=>g.id===a.item.id))break;let f=0;if(e.IEb){const g=wbB(e.IEb);e=c.results.findIndex(h=>g(h,a.item)>0);if(e!==-1)f=e;else if(c.ub&&!b)break;else f=c.results.length}DbB(a.item,f,c,d);break;case "remove-item-from-view":HbB(a.item,c,d);break;default:throw new __c.t(e);
}},EbB=function(a){return a.map(b=>({type:"library",tj:b}))},FbB=function(a){return a.map(b=>{switch(b.type){case 2:return{type:"folder",na:b.na};case 3:return{type:"media",media:b.media,oda:b.oda};case 4:case 1:var c;return{type:"design",summary:__c.m(b.document),access:__c.m(b.eq,"No ACL available for item: "+b.id),category:b.category,kn:b.kn,B1:(c=b.XWc)===null||c===void 0?void 0:c.id};case 5:return{type:"template",template:b.template,kn:b.kn};case 6:return{type:"video",video:b.video};case 8:return{type:"file",
file:b.file};case 7:break;default:throw Error(`Unsupported item type: ${b.type}`);}}).filter(__c.Ua)},GbB=async function(a,b){b.type==="items"&&b.metadata&&(b=b.metadata,b.pinned&&await a.ES.TMe({mb:b.pinned.mb,entries:b.pinned.entries}),b.Ina&&(b=b.Ina,await a.ES.jJm({entries:b.entries,ige:b.ige,type:b.type})))},HbB=function(a,b,c){const d=b.results.findIndex(e=>e.id===a.id);d!==-1&&CbB(()=>{b.results.splice(d,1);c.delete(a.id)})},CbB=__webpack_require__(400770).runInAction;var IbB=class{Suf(a){this.Zcj.delete(a.item.id)}get wao(){return Array.from(this.Zcj.values())}constructor(){this.Zcj=new Map}};var ybB,JbB;ybB=class extends __c.YRd{};
JbB=class{LWh(a){if(a.hUc==="no-cache")return BbB(this,a).Ob;let b=this.Yci.get(a.id);b||(b=new Map,this.Yci.set(a.id,b));const c=a.serialize();let d=b.get(c);d||(d=BbB(this,a),b.set(c,d));return d.Ob}HQa(a,b){if(a.hUc==="no-cache")return BbB(this,a,b).Ob;let c=this.nSh.get(a.id);c||(c=new Map,this.nSh.set(a.id,c));const d=a.serialize();let e=c.get(d);e||(e=BbB(this,a,b),c.set(d,e));return e.Ob}sJm(a){var b,c=a.key,d,e;(b=c.type==="brand_libraries"?(d=this.Yci.get(c.id))===null||d===void 0?void 0:
d.get(c.serialize()):(e=this.nSh.get(c.id))===null||e===void 0?void 0:e.get(c.serialize()))&&DbB(a.item,0,b.Ob,b.ivp)}constructor(a){this.Yci=new Map;this.nSh=new Map;this.l5h=new IbB;this.$Mj={errorService:a.errorService,dc:a.dc,Jf:a.Jf,Bi:a.Bi,z1c:a.z1c};this.userId=a.userId;this.X=a.X;this.O1m=a.flags;this.ES=a.ES;this.Usa=a.Usa;this.ES.addListeners({events:["add_upload","remove_upload"],Jz:"all",callback:b=>{b.type==="add_upload"&&xbB(this.l5h,b);b.type==="remove_upload"&&this.l5h.Suf(b)}})}};
__c.Qna={};__c.Qna.wSl=JbB;
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=sourcemaps/a75cf585474e70fa.js.map