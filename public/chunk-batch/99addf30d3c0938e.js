(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[19986],{

/***/ 482530:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(447605);__web_req__(764820);__web_req__(294098);__web_req__(83503);__web_req__(327362);__web_req__(293952);__web_req__(991363);__web_req__(917183);__web_req__(651699);__web_req__(366183);__web_req__(159692);__web_req__(5862);__web_req__(221981);__web_req__(249608);__web_req__(850719);__web_req__(317135);__web_req__(569994);__web_req__(405113);__web_req__(630476);__web_req__(730757);__web_req__(283579);__web_req__(512724);__web_req__(222307);__web_req__(543095);__web_req__(829421);__web_req__(13077);__web_req__(891069);__web_req__(140815);__web_req__(492025);__web_req__(723870);__web_req__(549685);__web_req__(48888);__web_req__(728225);__web_req__(360321);__web_req__(76245);__web_req__(42853);__web_req__(624684);__web_req__(754101);__web_req__(785562);__web_req__(732901);__web_req__(630833);__web_req__(972452);__web_req__(345811);__web_req__(234984);__web_req__(397070);__web_req__(558082);__web_req__(741298);__web_req__(896992);__web_req__(598984);__web_req__(562169);__web_req__(484391);__web_req__(757515);__web_req__(397592);__web_req__(157825);__web_req__(162018);__web_req__(488738);__web_req__(487352);__web_req__(229001);__web_req__(548758);__web_req__(133600);__web_req__(857255);__web_req__(114073);__web_req__(587437);__web_req__(305452);__web_req__(383677);__web_req__(851909);__web_req__(121623);__web_req__(958906);__web_req__(353889);__web_req__(734237);__web_req__(169562);__web_req__(798618);__web_req__(241869);__web_req__(451856);__web_req__(300572);__web_req__(667484);__web_req__(934683);__web_req__(253420);__web_req__(940649);__web_req__(458375);__web_req__(563461);__web_req__(73036);__web_req__(822403);__web_req__(31055);__web_req__(697890);__web_req__(668206);__web_req__(446874);__web_req__(439573);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var hC;var b$q=__c.b$q;var HGs;var ops=__c.ops;var zKe=__c.zKe;var tk=__c.tk;var ii=__c.ii;var ei=__c.ei;var OEe=__c.OEe;var Ao=__c.Ao;var qc=__c.qc;var qk=__c.qk;var nc=__c.nc;var pr=__c.pr;var Ux=__c.Ux;var lu=__c.lu;var op=__c.op;var wp=__c.wp;var C=__c.C;var E=__c.E;var T=__c.T;var np=__c.np;var pKh=__c.pKh;var v0g=__c.v0g;var Gb=__c.Gb;var zcr=__c.zcr;var au=__c.au;var Zo=__c.Zo;var wc=__c.wc;var gv=__c.gv;var Kb=__c.Kb;var Ob=__c.Ob;var sr=__c.sr;var dr=__c.dr;var fo=__c.fo;var md=__c.md;
var lr=__c.lr;var gj=__c.gj;var or=__c.or;var ey=__c.ey;var Wu=__c.Wu;var kr=__c.kr;var So=__c.So;var WA=__c.WA;var rA=__c.rA;var eu=__c.eu;var dvg=__c.dvg;var Pdr=__c.Pdr;var O=__c.O;var xf=__c.xf;var wf=__c.wf;var UXe=__c.UXe;var Hy=__c.Hy;var zk=__c.zk;var fa=__c.fa;var F=__c.F;var U=__c.U;var Qa=__c.Qa;var H=__c.H;var $5g=__c.$5g;var QC=__c.QC;var Xt=__c.Xt;var zr=__c.zr;var Zj=__c.Zj;var gWa=__c.gWa;var zj=__c.zj;var Xk=__c.Xk;var im=__c.im;var gk=__c.gk;var Zl=__c.Zl;var an=__c.an;var Zk=__c.Zk;
var qvb=__c.qvb;var tr=__c.tr;var Mn=__c.Mn;var zm=__c.zm;var Ic=__c.Ic;var on=__c.on;var Qif=__c.Qif;var Wb=__c.Wb;var pXa=__c.pXa;var Fs=__c.Fs;var cr=__c.cr;var fj=__c.fj;var hr=__c.hr;var ir=__c.ir;var lc=__c.lc;var my=__c.my;var Vb=__c.Vb;var pd=__c.pd;var Pif=__c.Pif;var ma=__c.ma;var $c=__c.$c;var EKe=__c.EKe;var lw=__c.lw;var cp=__c.cp;var TJa=__c.TJa;var Do=__c.Do;var dy=__c.dy;var Pj=__c.Pj;var wr=__c.wr;var rk=__c.rk;var nFd=__c.nFd;var Sj=__c.Sj;var ku=__c.ku;var If=__c.If;var $m=__c.$m;
var J1g=__c.J1g;var K1g=__c.K1g;var Ia=__c.Ia;var Sy=__c.Sy;var Ka=__c.Ka;var mIp=__c.mIp;var Tx=__c.Tx;var kNe=__c.kNe;var lNe=__c.lNe;var nk=__c.nk;var Njf=__c.Njf;var PD=__c.PD;var Qb=__c.Qb;var Rj=__c.Rj;var yg=__c.yg;var es=__c.es;var Kk=__c.Kk;var cVc=__c.cVc;var fZc=__c.fZc;var wMb=__c.wMb;var Ds=__c.Ds;var Es=__c.Es;var fe=__c.fe;var Je=__c.Je;var je=__c.je;var Fj=__c.Fj;var Hj=__c.Hj;var Aj=__c.Aj;var Nj=__c.Nj;var jk=__c.jk;var sy=__c.sy;var Yo=__c.Yo;var Ov=__c.Ov;var xg=__c.xg;
var LTi=__c.LTi;var ub=__c.ub;var JTi=__c.JTi;var ip=__c.ip;var Xh=__c.Xh;var Li=__c.Li;var fu=__c.fu;var Pk=__c.Pk;var Bj=__c.Bj;var bk=__c.bk;var Yj=__c.Yj;var Xo=__c.Xo;var rd=__c.rd;var Cs=__c.Cs;var uf=__c.uf;var NYc=__c.NYc;var J=__c.J;var lif=__c.lif;var tA=__c.tA;var uA=__c.uA;var Ej=__c.Ej;var wA=__c.wA;var Pu=__c.Pu;var ak=__c.ak;var bl=__c.bl;var RVc=__c.RVc;var dl=__c.dl;var uV;var jr=__c.jr;var Yc=__c.Yc;var P=__c.P;var S=__c.S;var lBj=__c.lBj;var xr=__c.xr;var Sb=__c.Sb;var jV;var hV;
var vf=__c.vf;var L=__c.L;var Fdr=__c.Fdr;var Yv=__c.Yv;var Ee=__c.Ee;var Bg=__c.Bg;var ss=__c.ss;var bh=__c.bh;var Mg=__c.Mg;var Oj=__c.Oj;var ck=__c.ck;var BId=__c.BId;var Me=__c.Me;var Ie=__c.Ie;var Rw=__c.Rw;var v=__c.v;var Xj=__c.Xj;var Vj=__c.Vj;var dk=__c.dk;var sA=__c.sA;var $l=__c.$l;var ls=__c.ls;var qu=__c.qu;var oa=__c.oa;var tb=__c.tb;var na=__c.na;var n=__c.n;var dm=__c.dm;var Bz=__c.Bz;var Py=__c.Py;
var Lps,Mps,Nps,Ops,Pps,Qps,Rps,Sps,Tps,Ups,Vps,Wps,Xps,Yps,Zps,$ps,aqs,bqs,cqs,dqs,eqs,fqs,gqs,hqs,iqs,jqs,kqs,lqs,mqs,nqs,oqs,pqs,qqs,rqs,sqs,tqs,uqs,vqs,xqs,yqs,zqs,Aqs,Bqs,Fqs,Hqs,Gqs,Iqs,Jqs,Kqs,Lqs,Mqs,Nqs,Pqs,Qqs,Oqs,Vqs,Wqs,Xqs,Zqs,$qs,ars,brs,drs,frs,qrs,rrs,srs,trs,wrs,xrs,yrs,zrs,Ars,Brs,Crs,urs,vrs,Ers,Frs,Grs,Hrs,Jrs,Irs,Rrs,Vrs,Zrs,css,dss,hss,iss,jss,gss,rss,sss,tss,xss,zss,Ass,Dss,Gss,Jss,Kss,vV,Lss,Mss,Nss,Oss,Pss,Rss,Sss,Tss,Uss,Vss,Wss,Xss,Yss,Zss,$ss,ats,bts,cts,dts,ets,its,mts,
nts,ots,wV,jts,Qss,fts,sts,tts,uts,vts,xts,yts,Ats,Cts,Dts,Ets,Fts,Bts,Gts,Its,Jts,Kts,Mts,Ots,Wts,eus,jus,kus,tus,mus,wus,vus,Cus,Dus,Gus,Kus,Pus,Tus,Uus,Xus,Yus,Zus,avs,$us,dvs,bvs,cvs,evs,fvs,tvs,uvs,vvs,wvs,Avs,yvs,zvs,xvs,Dvs,Cvs,Bvs,Evs,Fvs,Hvs,Ivs,Jvs,Mvs,Kvs,Lvs,Svs,Ovs,Rvs,Qvs,Tvs,Wvs,Xvs,Yvs,aws,bws,Vvs,ews,mws,nws,ows,pws,qws,sws,uws,Jws,cxs,gxs,hxs,ixs,lxs,mxs,kxs,jxs,nxs,pxs,rxs,sxs,xxs,yxs,zxs,Gxs,Fxs,Jxs,Kxs,Lxs,Mxs,Nxs,Oxs,Pxs,Qxs,Rxs,Sxs,Zxs,ays,dys,kys,eys,gys,iys,fys,hys,jys,lys,
mys,qys,zys,Dys,Ays,Cys,Bys,Eys,Hys,Fys,Gys,Iys,Jys,Lys,Kys,Mys,Qys,Pys,Rys,Nys,Sys,Tys,Uys,Vys,Wys,Xys,Yys,$ys,azs,Zys,bzs,czs,dzs,ezs,fzs,gzs,hzs,izs,jzs,lzs,mzs,nzs,qzs,rzs,szs,tzs,uzs,vzs,xzs,Bzs,Gzs,Wzs,Zzs,Izs,cAs,dAs,eAs,gAs,hAs,fAs,kAs,lAs,mAs,nAs,qAs,pAs,rAs,oAs,iAs,uAs,vAs,wAs,xAs,yAs,zAs,AAs,yV,BAs,zV,CAs,DAs,FAs,HAs,KAs,IAs,NAs,QAs,SAs,PAs,UAs,WAs,TAs,XAs,OAs,VAs,bBs,cBs,dBs,LAs,$As,YAs,ZAs,gBs,fBs,eBs,AV,hBs,jBs,kBs,mBs,lBs,nBs,pBs,rBs,vBs,BBs,DBs,CBs,HBs,IBs,JBs,KBs,LBs,MBs,NBs,OBs,
PBs,SBs,TBs,XBs,UBs,VBs,WBs,YBs,bCs,BV,dCs,gCs,hCs,eCs,kCs,iCs,fCs,nCs,qCs,pCs,oCs,rCs,uCs,wCs,tCs,sCs,ACs,DCs,ECs,FCs,HCs,GCs,ICs,JCs,KCs,MCs,NCs,OCs,PCs,QCs,RCs,SCs,WCs,XCs,YCs,ZCs,bDs,dDs,eDs,fDs,gDs,iDs,kDs,mDs,nDs,oDs,qDs,pDs,vDs,tDs,xDs,rDs,sDs,uDs,wDs,zDs,FDs,GDs,HDs,IDs,BDs,ADs,CDs,DDs,JDs,ODs,NDs,KDs,EDs,MDs,PDs,LDs,SDs,YDs,eEs,gEs,hEs,iEs,kEs,mEs,nEs,fEs,oEs,rEs,vEs,zEs,AEs,GEs,DEs,IEs,JEs,KEs,NEs,QEs,TEs,YEs,ZEs,$Es,bFs,cFs,eFs,fFs,hFs,dFs,iFs,kFs,jFs,lFs,mFs,nFs,qFs,rFs,sFs,tFs,yFs,BFs,
gFs,DFs,EFs,CFs,FFs,GFs,KFs,OFs,NFs,PFs,mGs,nGs,oGs,pGs,qGs,rGs,sGs,tGs,uGs,zGs,vGs,AGs,BGs,DGs,EGs,FGs,CGs,GGs,IGs,KGs,MGs,OGs,PGs,TGs,UGs,WGs,XGs,ZGs,bHs,$Gs,aHs,cHs,eHs,fHs,gHs,hHs,jHs,iHs,kHs,lHs,nHs,oHs,qHs,rHs,pHs,tHs,uHs,sHs,vHs,wHs,xHs,yHs,zHs,CHs,DHs,AHs,BHs,EHs,FHs,GHs,LHs,PHs,RHs,SHs,THs,UHs,VHs,WHs,XHs,YHs,$Hs,cIs,bIs,dIs,fIs,gIs,iIs,kIs,wIs,xIs,yIs,BIs,FIs,GIs,LIs,OIs,PIs,QIs,SIs,RIs,UIs,WIs,XIs,YIs,VIs,aJs,bJs,fJs,gJs,hJs,iJs,jJs,cJs,mJs,nJs,vJs,xJs,yJs,zJs,AJs,CJs,EJs,DJs,dJs,eJs,GJs,
FJs,JJs,KJs,LJs,MJs,SJs,YJs,ZJs,hKs,jKs,nKs,pKs,qKs,rKs,sKs,tKs,vKs,wKs,xKs,yKs,BKs,CKs,EKs,DKs,FKs,GKs,MKs,NKs,SKs,UKs,VKs,WKs,YKs,IKs,JKs,KKs,LKs,$Ks,XKs,aLs,bLs,cLs,eLs,iLs,jLs,oLs,uLs,BLs,CLs,ELs,FLs,ILs,JLs,LLs,NLs,OLs,PLs,MLs,QLs,VLs,WLs,YLs,XLs,aMs,fMs,iMs,kMs,HV,dHs,rIs,nMs,vLs,pMs,qMs,rMs,sMs,tMs,uMs,vMs,wMs,oMs,$Js,aKs,xMs,yMs,zMs,AMs,BMs,JMs,HMs,RMs,aNs,eNs,gNs,lNs,nNs,qNs,pNs,oNs,uNs,vNs,wNs,yNs,ANs,zNs,BNs,CNs,DNs,GNs,HNs,JNs,LNs,MNs,NNs,ONs,PNs,TNs,WNs,XNs,YNs,aOs,bOs,eOs,hOs,iOs,jOs,
mOs,nOs,kOs,lOs,oOs,vOs,xOs,zOs,AOs,BOs,DOs,EOs,FOs,COs,GOs,HOs,IOs,JOs,KOs,LOs,OOs,POs,QOs,ROs,TOs,UOs,VOs,WOs,XOs,YOs,dPs,cPs,bPs,ZOs,gPs,hPs,fPs,iPs,jPs,lPs,kPs,mPs,oPs,nPs,pPs,qPs,tPs,uPs,zPs,APs,BPs,CPs,xPs,yPs,wPs,EPs,GPs,HPs,DPs,JPs,MPs,RPs,SPs,bQs,hQs,mQs,oQs,nQs,pQs,rQs,tQs,uQs,xQs,wQs,BQs,yQs,zQs,DQs;Lps=async function(a,b){return a.Dbi(b).then(c=>({text:c!==null&&c!==void 0?c:b,url:b,type:"embed"}))};
Mps=function(a,b){const c=a.Xa.state,d={...Py,link:b};if((c===null||c===void 0?void 0:c.type)==="SHEET_CELL"&&a.Wc){const e=c.anchor,f=c.sheet.config,g=a.Wc.getContent(f,e.row,e.column);Bz(a.Wc,h=>{g&&g.isEmpty&&h.EGa(f,e,b);h.setAttributes(f,e,d)})}else(c===null||c===void 0?void 0:c.type)==="RANGE"&&dm(c.eRc()).ok?a.Xa.aBa(b,d):a.Xa.t_a(d)};
Nps=function(a,b){const c=b.length,d=Math.max(0,...b.map(g=>g.length)),e=__c.utg(a,{rows:c,columns:d}),f=new Map;for(let g=0;g<c;g++)for(let h=0;h<d;h++){const k=n(e.layout.rows[g].sp.get(e.layout.columns[h].id));if(b[g][h]!=null){const l=a.config.oTh(b[g][h]+"\n");f.set(k,l)}}return{...e,cells:f}};
Ops=function(a,b,c){na(c.length>0,"Cannot copy empty subset of table");const {rows:d,columns:e}=__c.zNe(b,c);var f=d.map(k=>({...k,sp:new Map(e.map(l=>{const m=k.sp.get(l.id);return m?[l.id,m]:void 0}).filter(tb))}));const g=e.map(k=>({...k}));oa(f.length>0);oa(g.length>0);const h=new Set(c);f={cells:new Map(f.flatMap(k=>Array.from(k.sp.values(),l=>{const m=b.cells.get(l);if(m&&h.has(m))return[l,a.config.H4e(m)]}).filter(tb))),layout:{...b.layout,rows:f,columns:g}};return a.config.W4(f,{table:b,cells:c})};
Pps=function(a,b){return`${a.id}:${b.id}`};Qps=function(a){var b=qu;return __c.Mta(b,new __c.Nta(()=>b.I6c.M7(a)),c=>c.Tza(a))};Rps=function(a,b){__c.ta(a.document.Ja,"fixed");return new __c.hOd(a.Q1a,a.QWe,a.ns,a.Zm,a.document,a.Lmc,a.qd,b,void 0,()=>{},a.Wwg,!0)};Sps=function(a,{$e:b}){__c.I5p(a,{vZ:"closed",$e:b});__c.L5p(a,{$e:b,vZ:"ended"});__c.Q5p(a,{$e:b,vZ:"ended"})};Tps=function(a,b){oa(!a.Wjh);(0,__c.Ib)(()=>a.Wjh=b)};Ups=function(a,b){oa(a.j1k===void 0);a.j1k=b};
Vps=function(a,b){a.V.track(__c.ake,{action:"page_numbers_dropdown_menu_opened",Xh:b,location:"edit_panel"})};Wps=function(a,b){a.SQn.push(b)};Xps=function(a,b){a.Aoo.add(b)};Yps=function(a,b){var c,d;return(((d=a.document.pages.previous(b,e=>!e.draft))===null||d===void 0?void 0:(c=d.transition.ref)===null||c===void 0?void 0:c.durationUs)||0)/1E6};
Zps=function(a,b){var c;if(b.audio&&a.bod)return(c=__c.nKe(a.bod,b.audio.id))===null||c===void 0?void 0:c.filter(d=>{d=d.He*1E6;return d>=b.trim.startUs&&d<=b.trim.endUs})};$ps=async function(a,b){return __c.j_e(a,__c.Lf({elements:b.map(c=>ls.snapshot(c))}))};aqs=function(a,b){if(b.image.ref){var c;a=a.Pa.jp(b.image.ref.media);var d;return(d=a===null||a===void 0?void 0:(c=a.g4)===null||c===void 0?void 0:c.E$j)!==null&&d!==void 0?d:!0}return!!b.video.ref};
bqs=function(a,b){const c=b.ha;if(aqs(a,c)&&!__c.Wqb(a.wJa,b,$l.Rs))return{l7q:{get:()=>c.flipX,set:d=>{c.flipX=d}},Fct:{get:()=>c.flipY,set:d=>{c.flipY=d}}}};cqs=function(a,b,c,d,e){const f=__c.Avf(a,b,d);e=(new Map(b.cells.map((g,h)=>[g,h]))).get(e);f&&sA(f)&&e&&__c.kjf(a,b,d)&&(b=a.oHj.Awf(f,e),b!=null&&a.ngb(f,c,b+1,b,"content_styles"))};
dqs=function(a,b,c,d){var e=a.gd;a=__c.Avf(a,b,c);const f=e.xE(b);e=f===null||f===void 0?void 0:dk(f);b=(new Map(b.cells.map((k,l)=>[k,l]))).get(d);if(a!=null&&([d]=b!=null?a.Ijm({rb:d,id:b}):[],f&&d!=null)){var g=a.padding.paddingTop,h=a.padding.paddingBottom;b=(f.width-a.eb)/2;a=a.Jdg.map(k=>Vj(k.left,0,k.left+k.width,f.height-g-h));return e!=null&&a!=null?Xj(a[d-1].translate(b,g).transform(e.invert())):void 0}};
eqs=function(a,b){if(a.X&&!__c.Kv(a.vc,b)){var c=b.ha,d=c.type==="group",e=__c.tf(c),f=c.type==="text",g=c.type==="embed",h=c.type==="rect"&&c.fill.video.ref;if(!(d||e||g||h||f)){if(b.type==="controlled-element"){var k,l;if((k=(l=a.qEk).PZm)===null||k===void 0?0:k.call(l,b))return}return{get:()=>c.link,set:m=>{if(m){if(m=a.o6i(m))c.link=m}else c.link=void 0}}}}};
fqs=function(a,b,c){switch(b.type){case "fixed":const d=c.shift();b.Jc.forEach(e=>{(e=e.image.ref)&&d&&a.C7a(e,d)});b=b.elements.toArray();return __c.qKf(a,b,c);case "concatenated-fixed":return b.pages.reduce((e,f)=>fqs(a,f,e),c);case "responsive":return __c.sKf(a,[...b.text.items],c);default:throw new v(b);}};gqs=function(a,b,c){b.reduce((d,e)=>fqs(a,e,d),c)};
hqs=function(a,b){switch(b.type){case "fixed":return[...b.Jc.map(c=>a.DDe(c.image.ref)),...__c.tKf(a,b.elements.toArray())];case "concatenated-fixed":return b.pages.flatMap(c=>hqs(a,c));case "responsive":return[...__c.uKf(a,Array.from(b.text.items))];default:throw new v(b);}};
iqs=function(a,b,c){oa(!c.includes("\n"));b=b.resolve(a.Jh).map(p=>p.resolve(a.Jh)).sort((p,q)=>p.index-q.index||p.length-q.length);const d=a.text.cursor(),e=a.text.X4(),f=__c.Jbg(e);let g=0;var h=0;const k=[];for(let p=0;p<b.length;p++){var l=b[p];oa(h<=l.index);d.ot(l.index-h,f);__c.Kbg(d,e,l.length,{Ya:q=>oa(!q.includes("\n")),item:({display:q=1})=>oa(q!==1)});h=__c.Hz(a.Ab,Rw.of({index:l.index,length:Math.min(c.length,1)}));h=Ie.pick("inline",h);var m=__c.Mbg(d.D5,__c.Nbg(h));c.length>0&&(e.h0(m),
e.insert(c),e.MS(m));k.push(Rw.of({index:l.index+g,length:c.length}));g+=c.length-l.length;h=l.index+l.length;[l]=a.tree.oBa(l.index+l.length);l.type===6&&(m=__c.xbg(l,m),e.h0(m),d.ot(l.length(),f),e.MS(m),h+=l.length())}a.D8a.next(e.build())};jqs=function(a){const b=new fV(a.tagName.toLowerCase());b.setContent(a.innerHTML);if(a.attributes.length)for(const c of a.attributes)b.setAttribute(c.name,c.value);return b};
kqs=function(a){const b=document.createElement("div");b.innerHTML=a.toString().trim();return n(b.firstElementChild)};
lqs=function(a,b,c){const d=[];Bz(a.Wc,e=>{for(const f of c){const g=b.layout.cells.get(f.row,f.column);e.setAttributes(b,{row:(g===null||g===void 0?void 0:g.span.Zb)||f.row,column:(g===null||g===void 0?void 0:g.span.dc)||f.column},{...Me.Ff,...BId,fontFamily:a.Tp.ZT||Me.Ff.fontFamily});g!=null&&(__c.bkg(b,g.span),e.u0(b,{row:g.span.Zb,column:g.span.dc},void 0),e.iCb(b,{row:g.span.Zb,column:g.span.dc},void 0));d.push({row:(g===null||g===void 0?void 0:g.span.Zb)||f.row,column:(g===null||g===void 0?
void 0:g.span.dc)||f.column})}});__c.Djg(a.Gva,b,d)};mqs=function(a,b,c){const d={phe:a.IRh(c).filter(e=>e.type!=="rule-x"&&e.type!=="rule-y"),vHb:a.vHb(c)};return new __c.Ukg(b,a.o9,c,d)};nqs=function(a,b){var c=__c.Ita.YX(b.layout.rows);const d=__c.Jta.YX(b.layout.columns),e=new Set;c=c.map(f=>d.map(g=>{g=f.sp.get(g.id);g=g!=null?b.cells.get(g):void 0;if(!g||e.has(g))return"";e.add(g);g=g.content.text.cells.Ya();return g.substr(0,g.length-1)}));return a.csv.encode(c,{field:"\t"})};
oqs=function(a,b,c){const d=fV.element("table"),e=__c.ttg(b),f=new Set;b.layout.rows.forEach((g,h)=>{const k=d.appendChild(fV.element("tr"));b.layout.columns.forEach((l,m)=>{l=g.sp.get(l.id);if(l!=null){if(f.has(l))return;f.add(l)}var p=l!=null?b.cells.get(l):void 0;p=(p=p?a.sR.config.oGg(p):void 0)?c(p):fV.element("td");k.appendChild(p);const {rows:q,columns:r}=(l!=null?e.get(l):void 0)||{rows:[h],columns:[m]};q.length>1&&p.setAttribute("rowspan",q.length.toString());r.length>1&&p.setAttribute("colspan",
r.length.toString())})});d.setStyle("font-family","sans-serif");d.setStyle("color","black");d.setStyle("border","1px solid black");return d};
pqs=function(a,b,c){const d=[],e=[];for(const m of b.rows){const p=m.rowIndex;let q=0;for(const r of m.cells){var f;const t=r.cellIndex;b=r.rowSpan;const u=r.colSpan;for(var g=c(r);(f=d[p])===null||f===void 0?0:f[t+q];)q++;e.push({text:g,rows:Array.from({length:b},(w,x)=>p+x),columns:Array.from({length:u},(w,x)=>t+q+x)});for(g=0;g<b;g++)for(let w=0;w<u;w++){var h,k,l;(l=(h=d)[k=p+g])!==null&&l!==void 0?l:h[k]=[];d[p+g][t+q+w]=!0}}}return __c.vtg(a.sR,e)};
qqs=function(a){const b=Math.round(a*1E3)/1E3;return Math.abs(a-b)<1E-10?b:a};
rqs=function(a,b,c,d,e,f){var g=__c.hk(ck(0,d.map(l=>__c.JXa(e,l))),0).Lb();const h={width:Math.ceil(qqs(g.width)),height:Math.ceil(qqs(g.height)),units:4},k=Oj(-g.left,-g.top);d=__c.rde(__c.ch,d.map(l=>{var m=ls.snapshot(l);l.type==="chart"?(l=l.Xrc.get(),m=l==null?m:{...m,data:l,Ob:void 0}):m=l.type==="text"&&l.SR?{...m,width:l.width,height:l.height}:m;return m})).map(l=>{l=__c.uw(l,k);if(l.type==="text"&&l.SR){var m=__c.Qn.create(l),p=m.text.Iz(0);m=__c.TWb(f,b,m);p=Mg.ld().attrs(p).Vb(`${m}\n`).build();
l={...l,SR:!1,text:p}}return bh.DUa(l)});g=__c.jtb.snapshot(a.$i);return new __c.Ig({doctype:new __c.Jg(h),dimensions:new __c.Yl(h),language:a.language,title:a.title,$i:__c.wua(g),pages:[new __c.Vl({id:c.sh.generate(),background:void 0,Q0:new __c.Wl({wh:[ss]}),elements:d})]})};sqs=function(a){const b=new Map;for(const [c,d]of a)__c.uj(b,c,d);return b};tqs=function(){var a;return(a=document.activeElement.closest(".jHvOGA"))!==null&&a!==void 0?a:void 0};uqs=function(a,b){return a.type==="fixed"&&!Bg(b.$k(a))};
vqs=function(a){const b={};Ee(Ie,a,"all",(c,d)=>{__c.Ve(d)!=null?(d=n(__c.Ve(d)),b[d]=c):__c.Te(d)?b[d]=void 0:b[d]=c});return b};xqs=function(a,b){(new wqs(b)).Xsh(a);return b};yqs=function(a){a=a.getAttribute("href");if(a!=null)try{const b=Yv(a);return dm(b).ok?b:void 0}catch(b){}};zqs=function(a){let b;try{b=new URL(a)}catch(c){return!1}return b.protocol==="http:"||b.protocol==="https:"};
Aqs=async function(a){const b=a.match(/^data:([a-z]+\/[^:;]+);base64,/);if(b){const [c,d]=b;return __c.JIa(a.slice(c.length),d)}if(zqs(a))return fetch(a).then(c=>c.blob()).catch(()=>{})};Bqs=function(a){const b=[0],c=__c.Re.marginInlineStart.max;for(let d=32;d<=c;d+=24)b.push(d);return b.reduce((d,e)=>Math.abs(e-a)<Math.abs(d-a)?e:d,0)};
Fqs=function({xcb:a,cHa:b,xmd:c,viewport:d,jc:e,oc:f,ka:g,V:h,z2a:k}){const l=new Cqs(d,k),m=new Dqs(l,e,f,h),p=(0,__c.Jdr)(({oa:r})=>Fdr(Eqs,{layout:g.layout,Ix:l.Ix,DQ:m.DQ,Iy:l.Iy,Npe:m.Npe,P1f:m.P1f,GTf:m.GTf,oa:r,Hua:l.Hua}));if(k){const r=(0,__c.Jdr)(()=>m.s_f?Fdr(__c.ger,{s_f:m.s_f}):null),t=w=>x=>m.Npe(w,x),u=()=>b.GRb("Deselect");(0,__c.Tdr)(()=>({isActive:l.isActive,Iy:l.Iy}),({isActive:w,Iy:x})=>{c.Iqf=w&&x&&l.Hua?{Oq:r,Qpe:t(x),h7c:m.Abr,oa:u,t_h:"none"}:void 0},{equals:__c.Qdr.shallow})}const q=
[["ArrowUp",()=>m.Nxn("prev")],["ArrowDown",()=>m.Nxn("next")],["Escape",()=>{l.Iy?m.GTf():b.GRb("Deselect")}]];a.Nkj=()=>({Qd:()=>!0,Button:(0,__c.Jdr)(r=>{const {HAc:t,Tv:u,pressed:w,...x}=r;l.lCb(w);return Fdr(t,{id:"StickyNote",icon:__c.aer,hb:L("+T7h4A"),pressed:w,onClick:u,...x})}),na:r=>Fdr(p,{oa:r.oa}),DSh:q})};Hqs=function(a){return a.raw.length?Gqs(a.raw[0]):[]};
Gqs=function(a){const b=new Map;return a.map(c=>{if(b.has(c)){var d;const e=((d=b.get(c))!==null&&d!==void 0?d:0)+1;b.set(c,e);c=`${c} (${e})`}b.set(c,0);return c})};Iqs=function(a,b,c){switch(b){case "enabled":return{value:a,label:c,disabled:!1};case "disabled":return{value:a,label:c,disabled:!0};case "hidden":break;default:throw new v(b);}};Jqs=function(a){switch(a){case 0:return"image";case 1:return"proto";case 2:return"text";case 3:return"content";default:throw new v(a);}};
Kqs=function(a){var b=new Uint16Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint8Array(b.buffer);b="";for(c=0;c<a.byteLength;c++)b+=String.fromCharCode(a[c]);return btoa(b)};Lqs=function(a,{html:b},c){if(!b||!a.jbe(b).body.innerText.trim().length){b=[];for(const e of c||[])a.N7.images.includes(e.type)&&(c=e.getAsFile())&&b.push(c);if(b.length>0){var d;return{type:0,file:(d=b.find(e=>e.type!=="image/svg+xml"))!==null&&d!==void 0?d:b[0]}}}};
Mqs=function(a){return(new DOMParser).parseFromString(a,"text/html")};Nqs=function(a){a=atob(a);var b=new Uint8Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint16Array(b.buffer);b="";for(c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b};Pqs=function(a,b){if(!__c.Kv(a.wJa,b))return Oqs(b.ha)};Qqs=function(a,b){if(!__c.Wqb(a.wJa,b)){a=b.ha;if(a.image.ref)return Oqs(a.image.ref);if(a.video.ref)return Oqs(a.video.ref)}};
Oqs=function(a){return{get:()=>a.xa,set:b=>{a.xa=b}}};
Vqs=function({Nl:a,NT:b,old:c}){const d=g=>a?gV(Rqs,{...g,...Sqs,Nl:a}):null,e=g=>b?gV(Tqs,{...g,...Sqs,NT:b}):null,f=g=>c?gV(Uqs,{...g,...Sqs,old:c}):null;return({y6:g})=>{switch(g.type){case "element":case "grid_element":case "shape_element":case "table_element":return gV(d,{element:g.element,page:g.page});case "fixed_page":return gV(e,{page:g.page});case "item":return gV(f,{item:g.item,context:g.context});case "table_item":const h=g.item,k=g.context;if(g.inner&&g.inner.item){const l=g.inner.rb;
return gV(f,{item:g.inner.item,context:__c.Ef(k.Hw(h),l)})}return gV(f,{item:h,context:k});case "body":case "responsive_page":case "computed_range":break;default:throw new v(g);}}};Wqs=function(a){return vf({category_name:a.AP,issue_count:a.XXb,skip_rule:a.xQs})};Xqs=function(a){return vf({category_name:a.AP,rule_name:a.D_e,card_position:a.sjf})};
Zqs=function(a){if(a.store.layout===2){var b,c;const d=a.views.Category,e=a.views.aBh;Yqs.includes(a.KNe.view)&&((b=a.navigation.screen)===null||b===void 0?void 0:b.ff)!==d?a.fkg.wkg():a.KNe.view==="issue"&&((c=a.navigation.screen)===null||c===void 0?void 0:c.ff)!==e&&a.fkg.emm()}};
$qs=function(a){a.cnq=hV(()=>a.KNe.view,b=>{var c,d,e;const f=a.views.Category,g=a.views.aBh,h=a.views.YPd;if(((c=a.navigation.screen)===null||c===void 0?void 0:c.ff)!==f&&Yqs.includes(b)){var k,l;((k=a.navigation.screen)===null||k===void 0?void 0:k.ff)===g&&a.navigation.goBack();((l=a.navigation.screen)===null||l===void 0?void 0:l.ff)!==f&&a.store.layout===2&&a.navigation.dh({ff:a.views.Category,options:a.hui,qb:a.K0d.Fgj})}else if(((d=a.navigation.screen)===null||d===void 0?void 0:d.ff)!==g&&b===
"issue")a.Z3g();else if(((e=a.navigation.screen)===null||e===void 0?void 0:e.ff)!==h&&b==="home"){var m,p,q;((m=a.navigation.screen)===null||m===void 0?void 0:m.ff)===g&&a.navigation.goBack();((p=a.navigation.screen)===null||p===void 0?void 0:p.ff)===f&&a.navigation.goBack();((q=a.navigation.screen)===null||q===void 0?void 0:q.ff)!==h&&(a.navigation.clear(),a.store.layout===2&&a.navigation.dh({ff:a.views.YPd,options:a.hui}))}})};
ars=function(a){a.IBm=hV(()=>a.store.layout,b=>{b===1?(a.lD(),setTimeout(a.jC,300)):a.Umh()})};brs=function(a){a.Vmq=hV(()=>a.skeleton.Dx,(b,c)=>{c===a.views.rfj&&b!==c&&a.Umh()})};drs=function(a,b){a.V.track(crs,{hG:a.store.hG,...b})};frs=function(a,b){a.V.track(ers,{hG:a.store.hG,...b})};
qrs=function(a,b,c,d,e,f,g,h,k,l,m,p,q){const r=new __c.q8d,t=iV(()=>b.Fie),u=new grs(d),w=new hrs(u,b,r,e,a,c,t,f),x=N=>({AP:N.category,D_e:N.rule,sjf:b.iLb.findIndex(Q=>Q===N)}),y=N=>(N=N!==null&&N!==void 0?N:b.HU)?x(N):void 0,z=N=>Q=>{drs(w,{Ev:"unresolved",tgb:"undo_button_clicked",BEf:{AP:Q.category,D_e:Q.rule,sjf:N}})},A=jV(N=>{const Q=x(N);drs(w,{Ev:"resolved",tgb:"resolve_button_clicked",BEf:Q});a.T4n(N,z(Q===null||Q===void 0?void 0:Q.sjf))}),B=jV(N=>{N.checked=!N.checked;const Q=x(N);drs(w,
{Ev:N.checked?"checkbox_checked":"checkbox_unchecked",tgb:"checkbox_clicked",BEf:Q})}),D=jV(()=>{const N=Sb();a.NMi(Q=>{frs(w,{egm:N,Ev:"resolved",tgb:"multi_select_resolve_button_clicked",rjn:Q.map(x)})},Q=>{frs(w,{egm:N,Ev:"unresolved",tgb:"multi_select_undo_button_clicked",rjn:Array.from(Q).map(([R,W])=>({AP:W.category,D_e:W.rule,sjf:R}))})})}),G=jV(N=>{b.view==="issue"&&a.aJd(N||"home")}),I=Vqs({Nl:h,NT:k,old:l}),K=iV(()=>{const N=kV((W,X=!1)=>{b.HU!==W?(a.Mib(W,X),drs(w,{Ev:"selected",tgb:"card_clicked",
BEf:y(W)})):X&&a.aJd("issue")},[]),Q=kV(()=>{a.wkg();w.tje({p5f:b.view})},[]),R=kV(W=>{N(W,!0);w.tje({p5f:"issue",tgb:"resolve_button_clicked",YAf:y(W)})},[N]);return gV(irs,{Z3g:R,jIh:b.jIh,lmi:b.lmi,HU:b.HU,Iwl:p&&b.AUd==="resolving",cRb:I,aZk:N,LVk:B,$Uk:A,e6r:Q,VYd:q})});c=iV(()=>{const N=kV(Q=>{a.aJd(Q);w.tje({tgb:"card_clicked",yS:"category_page",p5f:b.view,YAf:y()})},[]);return gV(jrs,{va:u.va,nDc:b.nDc,oDc:b.oDc,dab:N,OVl:gV(krs,{S2h:m})})});d=iV(()=>{lV(()=>()=>Zqs(w),[]);return gV(lrs,{bBh:K})});
e=iV(()=>{lV(()=>()=>Zqs(w),[]);return b.HU?gV(mrs,{tWc:g,cRb:I,AE:b.HU,EQh:G,hG:u.hG,VYd:q}):null});const M=iV(()=>gV(nrs,{Dti:b.Dti,NMi:D,H3s:b.EPh.length,layout:u.layout}));f=iV(()=>{const N=mV(null),Q=kV(Z=>{Z.stopPropagation()},[]);lV(()=>{const Z=N.current;Z===null||Z===void 0||Z.addEventListener("focusout",Q);return()=>{Z===null||Z===void 0||Z.removeEventListener("focusout",Q)}},[N,Q]);const R=kV(Z=>{a.aJd(Z);w.tje({tgb:"card_clicked",yS:"category_page",p5f:b.view,YAf:y()})},[]),W=kV(()=>{var Z;
(Z=N.current)===null||Z===void 0||Z.focus();b.view==="issue"&&b.HU?a.aJd(b.HU.category):a.wkg();w.tje({tgb:"back_button_clicked",p5f:b.view,YAf:y()})},[]),X=kV(()=>{w.Umh();w.m8e("close_button_clicked")},[]);return nV("div",{className:"_758flQ",ref:N,tabIndex:-1,children:[gV("div",{className:"zO2oIQ",children:gV(ors,{title:b.Fie,Po:W,PV:X,ejb:b.view!=="home"})}),gV("div",{className:"VmJ8yg",children:gV(prs,{va:u.va,view:b.view,nDc:b.nDc,oDc:b.oDc,dab:R,EQh:G,bBh:K,Fgj:M,HU:b.HU,tWc:g,cRb:I,hG:u.hG,
VYd:q,S2h:m})})]})});u.qmo(f,c,d,e);u.ogo(M);return{Eia:w,navigation:r}};rrs=function(a){var b,c;a.wkg();(b=a.z9e)===null||b===void 0||b.call(a);a.z9e=void 0;(c=a.JJe)===null||c===void 0||c.call(a);a.JJe=void 0;a.awo()};srs=function(a){a.JJe||a.x$j||a.Gch||(a.vzl(),a.fvo())};trs=function(a,b){a.da.document.Ja==="fixed"&&(a.store.G9m=a.da.document.pages.count());a.z9e=hV(()=>b.Nx,c=>{a.G3f(c,b.Wwk)},{fireImmediately:!0,delay:300})};
wrs=function(a,b,c=!1){const d=b.y6;a.store.XPi=b;let e;a.da.document.Ja!=="responsive"&&(e=a.viewport.ya);urs(a,d).then(()=>a.iKk(d,e)).catch(f=>a.errorService.pa(f,{Ka:"accessibilityCheckerPresenter.selectCheckable: "})).finally(jV(()=>{const f=a.store.XPi;f&&(f.equals(b)?(vrs(a,d),b.selected=!0,a.store.XPi=void 0):a.store.Nx.find(g=>g.equals(f))||(a.store.XPi=void 0))})).finally(()=>{var f;c&&((f=a.store.HU)===null||f===void 0?0:f.equals(b))&&a.aJd("issue")})};
xrs=function(a,b){b.xZn||b.state!=="resolved"||(b.xZn=!0,setTimeout(jV(()=>{if(b.state==="resolved"){const c=a.store.Nx,d=c.indexOf(b);d>=0&&c.splice(d,1)}}),a.store.view==="home"?0:1E3))};yrs=function(a){a.store.EPh.forEach(b=>b.checked=!1)};zrs=function(a,b){return!!a.store.iLb.find(({y6:c})=>c.target===b)};
Ars=function(a,b,c){switch(b.type){case "body":case "responsive-page":return a.store.iLb.find(({y6:d})=>{var e,f;if((e=d.mD)===null||e===void 0||!e.range||!c||"page"in b&&((f=d.page)===null||f===void 0?void 0:f.ha)!==b.page)return!1;({GCe:d}=a.Xa.Qma(b.text,c,d.mD.range));return d});case "table-item-cell":return a.store.iLb.find(({y6:d})=>{var e,f;return d.type==="table_item"&&((e=d.inner)===null||e===void 0?void 0:e.rb)===b.rb&&!((f=d.inner)===null||f===void 0?0:f.item)});case "layout-item-cell":case "sheet-item-cell-richtext":break;
default:throw new v(b);}};Brs=async function(a,b,c){var d;if(b.type!=="body"&&b.type!=="responsive_page"){var e=a.Fka(b),f=a.viewport.scrollingContainer;if(e&&f){var g=f.scrollHeight;e=e.tl.y;var h=f.scrollTop;f=f.clientHeight;if(!(Math.abs(Math.ceil(h)-Math.ceil(e))<2||h<e&&h+f>=g))return b=(c?c===((d=b.page)===null||d===void 0?void 0:d.ha):1)&&!__c.cn()?"smooth":"auto",a.viewport.voa(e,b)}}};
Crs=async function(a,b,c){var d=b.context;b=b.page;if(d.type!=="fixed-document"&&a.viewport.wQ&&(d=__c.Bf(d),d.type==="concatenated-fixed-page"&&d.pages.first()!==b.ha&&c!==d.ha))return a.viewport.YE(d.tb(b.ha))};
urs=async function(a,b){const c=b.page;if(c&&c.ha!==a.viewport.Zg.ha&&a.da.document.Ja!=="responsive"&&(c.type!=="fixed-page"||c.container.type!=="design-item"))return b=__c.Bf(c),a.viewport.YE(c,a.viewport.jh&&a.viewport.wQ&&((b===null||b===void 0?void 0:b.type)!=="concatenated-fixed-page"||(b===null||b===void 0?void 0:b.ha)!==a.viewport.ya)||__c.cn()?void 0:{animate:{from:a.viewport.Zg}}),Drs(()=>c.ha.type==="responsive"?a.viewport.CP!=null:a.viewport.jh,{timeout:300})};
vrs=function(a,b){switch(b.type){case "element":case "grid_element":case "shape_element":case "table_element":var c=b.group,d=b.element;const e=b.context,f=b.type;b=b.inner;if(c)oa(__c.Koe(d)),e.type==="group-element"?a.selection.Kl(e,d):(oa(e.type!=="chart-element"&&e.type!=="layout-element-cell"&&e.type!=="controlled-element"),a.selection.Kl(e.Sf(c),d));else if(b)switch(f){case "grid_element":a.selection.oSc(e.Sf(d),b);break;case "shape_element":a.selection.Qee(e.Sf(d),b);break;case "table_element":a.selection.aPa(e.Sf(d),
b,[b]);break;default:throw new v(f);}else e.type!=="chart-element"?a.selection.Kl(e,d):a.selection.Kl(e.container,e.Yb);break;case "fixed_page":c=b.context;b=b.page;na(c.type!=="design-item");a.selection.GU(c,b.ha);break;case "responsive_page":a.Xa.Qu(b.context.tb(b.target).text);break;case "body":a.Xa.Qu(__c.Df(b.context,b.target).text);break;case "item":case "table_item":c=b.context;d=b.item;(b=b.inner)?b.item?a.Xa.Vv(b.rb.content.text,b.item):a.Xa.dsb(c.text,d,[b.rb]):a.Xa.Vv(c.text,d);break;case "computed_range":a.Xa.Qu(b.context.text,
b.mD.range);break;default:throw new v(b);}};Ers=function(a,b){var c;const d=a.store.HU;a=a.store.iLb.find(({y6:g})=>{var h;return g.element?g.element===b:((h=g.page)===null||h===void 0?void 0:h.ha)===b});var e;const f=d?(e=d.y6.element)!==null&&e!==void 0?e:(c=d.y6.page)===null||c===void 0?void 0:c.ha:void 0;return a?{Tld:f===b,type:"warning"}:void 0};
Frs=function(a){a.x$j=hV(()=>{var b,c,d;return{inner:(b=a.selection.La)===null||b===void 0?void 0:b.inner,Bg:(c=a.selection.La)===null||c===void 0?void 0:c.Bg,$z:(d=a.selection.La)===null||d===void 0?void 0:d.$z}},({inner:b,Bg:c,$z:d})=>{let e;if(c){switch(c.type){case "grid":(b=(b===null||b===void 0?void 0:b.type)==="grid"?b.Od:void 0)&&zrs(a,b)&&(e=b);break;case "shape":b=(b===null||b===void 0?void 0:b.type)==="shape"?b.Od:void 0;var f=c.paths.filter(g=>g.fill.dropTarget===!0);(f=f.length===1?f[0]:
void 0)&&zrs(a,f)?e=f:b&&zrs(a,b)&&(e=b);break;case "table":(b=(b===null||b===void 0?void 0:b.type)==="table"?b.Od:void 0)&&zrs(a,b)&&(e=b);break;case "group":(b=(b===null||b===void 0?void 0:b.type)==="group"?b.nb.at(0):void 0)&&zrs(a,b)&&(e=b);break;case "layout":d=(b===null||b===void 0?void 0:b.type)==="layout"?(f=b.Od)===null||f===void 0?void 0:f.element:void 0;(d=(b===null||b===void 0?void 0:b.type)==="layout-cell"?b.Od:void 0)&&zrs(a,d)&&(e=d);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "controlled":break;
default:throw new v(c);}e||(e=c)}else d&&d.type==="fixed-page"&&(e=d.ha);a.mPi(e)})};
Grs=function(a){a.Gch=a.Xa.yUe(()=>{const b=a.selection.Jb;if(!b)return!1;var c=b.type;const d=b.container,e=a.store.iLb,f=a.store.HU;let g;switch(c){case 0:({range:c}=a.Xa.smb(d.text,b.range));g=Ars(a,d,c);break;case 2:g=e.find(({y6:h})=>{var k,l;return h.type==="table_item"&&((k=h.inner)===null||k===void 0?void 0:k.rb)===b.only&&!((l=h.inner)===null||l===void 0?0:l.item)});break;case 1:g=e.find(({y6:h})=>{var k;return h.type==="table_item"&&((k=h.inner)===null||k===void 0?0:k.item)?h.inner.item===
b.only:h.item===b.only});break;case 3:case 4:case 5:break;default:throw new v(c);}g&&g!==f&&a.mPi(g.target);g||a.mPi(void 0)},{fireImmediately:!1})};
Hrs=function(a,b,c,d,e,f,g){const h=jV(()=>{b.layout===2&&(a.Umh(),a.m8e())}),k={Button:iV(({nE:p,onClick:q,oa:r})=>{const t=kV(()=>{q===null||q===void 0||q();r&&b.layout===1&&r();l("file_menu")},[q,r]);return gV(p,{onClick:t,eB:a.ekg,$hc:b.layout===2?xr:void 0,children:L("i3xHIg")})}),navigation:b.layout===2?d:void 0,onClose:h},l=p=>{b.layout===1?(a.C2s(),a.ekg?a.YMd(p):a.m8e("view_settings_menu_toggled")):(!c.g3&&k&&c.Stc(k),a.izl(),a.YMd(p))};let m=g;c.Tu(()=>({Ji:f.mode>=30,mi:b.layout===2}),
({lL:p},{Ji:q,mi:r})=>{p&&(k.navigation=r?d:void 0,q=q?k:void 0,p.j9i=q,m&&(q&&r&&c.Stc(q),a.izl(),m=!1))},{equals:oV.structural});e===null||e===void 0||e.install({key:"accessibility-checker",type:"simple",name:L("DJFkPQ"),Icon:lBj,aliases:[L("v25ELQ"),L("8YeK6A"),L("RsRlBQ"),L("/hr0NQ"),L("A9rBrQ")],execute:async()=>{l("quick_actions")}})};
Jrs=function(a){switch(a.type){case "element":return Irs(a);case "fixed_page":return{type:"fixed_page",context:a.context,target:a.page,page:a.context.tb(a.page)};case "computed_range":var b=a.mD,c=a.context;return{type:"computed_range",target:b,context:c,page:c.type==="responsive-page"?c:void 0,mD:b};case "item":c=a.item;const d=a.inner;a=a.context;const e=a.type==="responsive-page"?a:void 0;if(c.type==="table"){const f=d===null||d===void 0?void 0:d.rb,g=d===null||d===void 0?void 0:d.item;return{type:"table_item",
target:(b=g!==null&&g!==void 0?g:f)!==null&&b!==void 0?b:c,page:e,context:a,item:c,inner:d}}return{type:"item",target:c,context:a,page:e,item:c};case "responsive_page":return b=a.context,c=a.body,{type:"responsive_page",target:c,context:b,page:b.tb(c)};case "body":return{type:"body",target:a.body,context:a.context};case "table_cell":throw Error("Use LintableItem (with a LintableItemInner) instead of LintableTableCell");default:throw new v(a);}};
Irs=function(a){const b=a.element,c=a.context,d=a.inner,e=a.page;a=a.parent;switch(b.type){case "rect":case "line":case "chart":case "text":case "embed":case "group":case "controlled":case "sheet":return{type:"element",context:c,target:b,page:e,group:a,element:b};case "grid":let f;(d===null||d===void 0?void 0:d.type)==="grid"&&(f=d.rb);oa(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"grid_element",context:c,target:f!==null&&f!==void 0?f:b,page:e,element:b,inner:f};case "shape":let g;
(d===null||d===void 0?void 0:d.type)==="shape"&&(g=d.path);return{type:"shape_element",context:c,target:g!==null&&g!==void 0?g:b,page:e,group:a,element:b,inner:g};case "table":let h;(d===null||d===void 0?void 0:d.type)==="table"&&(h=d.rb);oa(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"table_element",context:c,target:h!==null&&h!==void 0?h:b,page:e,element:b,inner:h};case "layout":return __c.yo("FixedDesignLinterAdapter",{type:"element",context:c,target:b,page:e,group:a,
element:b});default:throw new v(b);}};
Rrs=function(a){var b=a.Sq;const c=a.S3g,d=a.b3c,e=a.Ma,f=a.Ec,g=a.da;var h=a.la;const k=a.V,l=a.ka,m=a.Wd,p=a.bJa,q=a.ea.errorService,r=a.viewport,t=a.aba,u=a.Ja,w=a.tWc,x=a.we,y=a.selection,z=a.Xa,A=a.gd;let B,D,G,I,K;const M=()=>{W.tje({tgb:B.k6d,p5f:B.view,yS:"category_page",YAf:B.HU?{AP:B.HU.category,D_e:B.HU.rule,sjf:B.iLb.findIndex(Z=>Z===B.HU)}:void 0})},N=()=>{drs(W,{Ev:"selected",tgb:B.k6d,BEf:B.HU?{AP:B.HU.category,D_e:B.HU.rule,sjf:B.iLb.findIndex(Z=>Z===B.HU)}:void 0})},Q=u==="fixed"||
a.xsf;switch(u){case "fixed":var R=a.xvg;K=pV(()=>!Krs.RZd&&!!g.document.pages.some(Z=>Z.type==="responsive"));D=a.Nl;G=a.NT;B=a=new Lrs(d);b=new Mrs(b,t,d,R,Krs.RZd,g.document,z);h=new Nrs(a,p,g,y,r,h,z,A,q,Krs.RZd,M,N);break;case "responsive":Q&&(I=a.old);K=pV(()=>!1);B=R=new Ors(d);b=new Prs(b,t,d,!1,!1,g.document,z);h=new Qrs(R,p,g,y,r,h,z,A,q,!1,M,N);break;default:throw new v(u);}const {Eia:W,navigation:X}=qrs(h,B,b,l,f,k,w,D,G,I,K,u==="responsive"||Krs.RZd,Q);Hrs(W,l,m,X,x,e,c)};
Vrs=function(a){const b=a.store,c=a.L;if(!b||!c)return{a_l:void 0};const d=b.Gh,e=f=>d==null?null:gV(Srs,{vAe:f.vAe,page:d,selected:f.mc,ySr:c.rFn,wLf:c.wLf,w$d:c.w$d,Nl:a.Nl});return{a_l:iV(()=>{var f=b.n0h;const g=b.wm,h=b.vNe,k=b.q8c,l=b.t8c;return h||k?h?d!=null&&f.length>0?gV(Urs,{n0h:f,wm:g,R3o:e}):gV(Trs,{title:L("63v7ew"),content:L("mCxSxg")}):(f=l?L("FqeC2Q"):L("jQRKWA"),gV(Trs,{title:f,content:L("CBxIHQ")})):(requestAnimationFrame(()=>{c.mIn()}),null)})}};
Zrs=function({Ma:a,selection:b,viewport:c,Wd:d,pn:e,ka:f,Fd:g,Nl:h,m7e:k}){if(k){var l={na:()=>gV(Trs,{title:L("dhOFpQ"),content:""}),header:{title:L("v5miQg")}},m=new Wrs(c,b,g),p=new Xrs(m,b,f,e,l,k),{a_l:q}=Vrs({store:m,L:p,Nl:h});l.na=()=>q?gV(q,{}):null;d.Tu(()=>a.mode>=30&&m.vNe&&f.layout===1,({lL:r},t)=>{r&&(r.k9i=t?{Button:u=>gV(Yrs,{...u,zLf:p.zLf})}:void 0)})}};
css=function(a){const b=a.LF.qed;a.V.track($rs,{hG:a.LF.Y0c,Ave:a.LF.Owe,elementType:a.LF.kpg,Jsk:a.PO.text.length,SMe:a.LF.jpg,mediaType:ass(b),resourceId:bss(b)})};dss=function(a){var b;const c=a.LF.bwa;a.LF.mrd&&(a.Jbg=a.sJb.fD([a.Zun]));c&&(a.Jbg=(b=a.dg)===null||b===void 0?void 0:__c.CMg(b,a.fill));return a.Jbg};
hss=function(a,b,c,d){const e=iV(()=>{lV(()=>{const g=d.Mpi&&dss(c);return()=>{g===null||g===void 0||g.then(({dispose:h})=>h())}},[]);return d.Mpi?gV(ess,{magic:d.Mpi,onClick:c.RSq}):null}),f=__c.qw(fss,{P:a.P,ou:"alt_text_form"});return iV(g=>{const [h]=tV(()=>g.kb?(b.kb=g.kb,gss(a,g.kb)):a.h8r);return gV(f,{nph:d.nph,LWh:d.LWh,Lip:e,Ovc:d.Ovc,placeholder:b.placeholder,Pna:c.setText,Rxi:c.pRi,onSubmit:c.AX,Qc:()=>{c.onFormOpen(g.hG)},...g,di:()=>{var k;const l=a.NFh.sb("close_alt_text_view",{Fb:{name:"editor.editing.alt_text.close_alt_text_view",
type:b.Edh?"save":"without_saving"}});(k=g.di)===null||k===void 0||k.call(g);c.onFormClose(g.hG);l.end()},Qf:{ua:h,l$:!0}})})};iss=function(a,b){a.text=b;a.Qfa=b;a.state="magic_success"};jss=function(a){a.state="magic_error";n(a.PAc).BUj=!0};gss=function(a,b){var c;return(c=a.Coj)!==null&&c!==void 0&&c.isRecording()?a.Coj:(b=a.NFh.sb("open_alt_text_view",{Fb:{name:"editor.editing.alt_text.open_alt_text_view",type:b}}),a.Coj=b)};
rss=function(a){var b=a.K2;const c=a.Ja,d=a.selection,e=a.ih,f=a.Cd,g=a.ka;var h=a.la;const k=a.V,l=a.Pa,m=a.Aw,p=a.lW,q=a.$b,r=a.undo;var t=a.ea;const u=t.$fa,w=t.errorService,x=t.ub,y=t.pb;t=a.we;var z=a.k3c;const A=a.lae,B=new kss(a.Ga);z=new lss(()=>x===null||x===void 0?void 0:x.sU({UT:__c.Sv({appName:"Alt Text Suggestions"})},{target:"_blank"}),()=>y===null||y===void 0?void 0:y.Ys(new __c.Dk({uri:"https://www.canva.com/policies/ai-safety/",target:1})),z);const D=new mss(d,b,l,q);b=new __c.eNg([new __c.ZMg(l),
new __c.$Mg(l,m),new __c.aNg(l,p),new __c.bNg(q),new __c.cNg],__c.WLg(l),w,__c.gNg.njj);switch(c){case "fixed":a=n(a.eIb.VN)({type:"custom_thumbnail",Z3a:64E4});h=new nss(D,z,u,h,r,k,B,w,b,a);break;case "responsive":h=new nss(D,z,u,h,r,k,B,w,b);break;default:throw new v(c);}const G=hss(B,D,h,z),I=iV(N=>gV(oss,{Oe:N.Oe,children:gV(G,{...N})}));e.kc(()=>({sfd:D.nig,layout:g.layout}),(N,{sfd:Q,layout:R})=>{N.Khc=Q?{Button:W=>{const X=kV(()=>{var Z;D.kb="contextual_menu";gss(B,"contextual_menu");R===
2?(Z=W.Jg)===null||Z===void 0||Z.dh({ff:I,options:{sg:()=>L("2kDi/A")}}):D.YFb&&e.R5(D.YFb)},[W.Jg]);return gV(pss,{...W,onClick:X})},na:I}:void 0;D.YFb=N.Khc;A&&R===1&&D.YFb&&e.R5(D.YFb)},{equals:oV.structural,a_n:!0});const K=new __c.Xx,M=()=>K.dh({ff:I,options:{sg:()=>L("2kDi/A")}});f.plugins.Khc=()=>({Qd:()=>D.nig,Button:N=>{const Q=N.onClick,R=kV(()=>{Q&&Q();M()},[Q]);return gV(qss,{...N,onClick:R})},navigation:K});t===null||t===void 0||t.Am(()=>!!D.YFb&&D.nig&&g.layout!==2&&D.YBj,{type:"simple",
key:"alt-text",name:L("2kDi/A"),Icon:lBj,aliases:[L("L4kqUg"),L("IMUp/A"),L("42FIOw"),L("TqUHjA"),L("F7VHdQ")],execute:async()=>{oa(!!D.YFb&&D.nig&&D.YBj);D.kb="quick_action";gss(B,"quick_action");D.YFb&&e.R5(D.YFb)}});return{tWc:G}};sss=function(){throw Error("Semantics text attribute not supported in Sheets");};tss=function(a,b){var c,d;return(d=(c=__c.BB(a,b))===null||c===void 0?void 0:c.GH)!==null&&d!==void 0?d:[]};
xss=function(a){if(a.Ja==="responsive")return{m7e:void 0};var b=a.Fd;a=new uss(a.jc);b=new vss(a,b);return{m7e:new wss(a,b)}};
zss=function({F4:a,activeIndex:b,Abf:c,jme:d,hasError:e,id:f,va:g,MK:h,uQk:k,onClick:l,options:m,setActive:p,spacing:q,Kua:r,PGa:t}){if(!g&&e)return gV(S,{padding:"2u",children:gV(P,{alignment:"center",children:L("cXUN2w")})});e=__c.Ol(m,Number(h));var u;f=g&&d?gV(yss,{jme:d,ut:k,MK:h,spacing:q,Kua:r,PGa:t}):gV(S,{id:f,role:"grid",children:gV(Yc,{spacing:(u=t!==null&&t!==void 0?t:q)!==null&&u!==void 0?u:"1u",children:e.map((w,x)=>gV(jr,{columns:h,role:"row",spacing:q,Kua:r,PGa:t,children:w.map((y,
z)=>{const A=Number(h)*x+z;z=A===b;return gV("div",{id:z?a:void 0,onClick:()=>l(A),onMouseEnter:()=>p(A),role:"gridcell",children:gV(c,{active:z,option:y})},A)})},x))})});return gV(S,{padding:"2u",children:gV(__c.Eu,{keyFrame:g&&d?0:1,direction:"replace",children:f})})};Ass=function(a,b){b<0||b>=a.store.options.length||(a.store.activeIndex=b)};
Dss=function({Abf:a,jme:b,onSelect:c,MK:d,uQk:e,options:f}){const g=new Bss(d,f),h=new Css(g,c),k=jV(m=>{Ass(h,m)}),l=jV(m=>{var p;if(m=h.store.options[m])(p=h.onSelect)===null||p===void 0||p.call(h,m)});return{TPh:()=>{h.store.activeIndex=-1},gBh:iV(m=>gV(zss,{activeIndex:g.activeIndex,Abf:a,jme:b,MK:d,uQk:e,onClick:l,options:f.get(),setActive:k,...m})),onKeyDown:m=>{h.onKeyDown(m.key)}}};
Gss=function({Qe:a,we:b,T2h:c}){if(a&&b&&c){var {TPh:d,gBh:e,onKeyDown:f}=Dss({Abf:Ess,jme:Fss,MK:3,onSelect:async()=>{a.KJ({});a.close({trigger:"insert"})},options:pV(()=>[])});b.Am(()=>!0,{type:"simple",key:"cover",name:L("3SRQvA"),Icon:__c.ocr,vI:!1,execute:async()=>{d();a.push({Haa:pV(()=>({LQ:a.F4,HQa:"none",ariaExpanded:!1,ariaHasPopup:"grid"})),K8:{defaultValue:L("L2Fjrg"),jCa:!0},Component:iV(({aBb:g})=>gV(e,{F4:a.F4,hasError:!1,id:g,va:!1,Kua:"1.5u",PGa:"1u"})),onKeyDown:jV(g=>{f(g);return!1})})}})}};
Jss=function({pK:a,Qe:b,we:c}){const d=new Hss,e=(g,h)=>b.w6a({Yue:!0,Y_c:g,kb:h}),f=async(g,h)=>{oa(d.status!=="loading");try{uV(()=>d.status="loading"),b.KJ({}),await a(g),e(!0,h),b.close({trigger:"insert"}),uV(()=>d.status="none")}catch(k){e(!1,h),uV(()=>d.status="error")}};c.install({type:"simple",key:"embed",name:L("pwHv5A"),Icon:__c.lYi,vI:!1,execute:async()=>{b.push({Component:iV(()=>d.status==="error"?gV(Iss,{}):null),Haa:pV(()=>({ariaExpanded:d.status==="error",HQa:"none"})),Ube:{show:pV(()=>
d.status==="error")},K8:{loading:pV(()=>d.status==="loading"),defaultValue:"",placeholder:L("w4sSag")},yZb:jV(()=>{d.status==="error"&&(d.status="none")}),onKeyDown:g=>{const h=b.query;g.key==="Enter"&&h.length&&d.status!=="loading"&&f(h,"keyboard");return!1}})}})};
Kss=function({Gb:a,oc:b,Qe:c,we:d,toolbar:e,Tp:f}){const g=async(h,k)=>{var l;c.KJ({});c.close({trigger:"insert"});await ((l=b.jdg)===null||l===void 0?void 0:l.call(b,h,{Uc:"quick_actions"},void 0,`static-${k}`));e.SJa()};d.install({type:"simple",key:"poll",name:L("8GP/2A"),Icon:__c.FRo,execute:async()=>g(__c.Kps(f.ZT,"poll",a),"poll")});d.install({type:"simple",key:"quiz",name:L("qO376Q"),Icon:__c.HRo,execute:async()=>g(__c.Kps(f.ZT,"quiz",a),"quiz")})};
vV=function(a,b){return a.inh.get(`#${b.id.toLowerCase()}`)||a.inh.get(`.${b.className.toLowerCase()}`)||b.className.toLowerCase().split(" ").map(c=>a.inh.get(`.${c}`)).find(c=>!!c)||a.inh.get(b.tagName.toLowerCase())||a.inh.get(`${b.tagName.toLowerCase()}.${b.className}`)};
Lss=function(a){a=wV(a);var b;a:{if(a.length&&a!=="initial"&&(b=document.createElement("canvas").getContext("2d"))){b.fillStyle=a;b=b.fillStyle;break a}b=void 0}a=b||a;try{try{const {r:d,g:e,b:f,a:g}=__c.sJa(a);var c=__c.ai(new __c.Sh(Math.floor((1-g)*255+g*d),Math.floor((1-g)*255+g*e),Math.floor((1-g)*255+g*f))).toLowerCase()}catch(d){const {r:e,g:f,b:g}=__c.di(a);c=__c.ai(new __c.Sh(e,f,g)).toLowerCase()}return c}catch(d){}};
Mss=function(a,b){var c,d;const e=b.style.backgroundColor||((c=vV(a,b))===null||c===void 0?void 0:c.backgroundColor)||b.style.background||((d=vV(a,b))===null||d===void 0?void 0:d.background);if(e&&e!=="transparent")return Lss(e)};Nss=function(a,b){var c,d;const e=b.style.borderLeftColor||((c=vV(a,b))===null||c===void 0?void 0:c.borderLeftColor)||b.style.borderInlineStartColor||((d=vV(a,b))===null||d===void 0?void 0:d.borderInlineStartColor);if(e)return Lss(e)};
Oss=function(a,b){var c,d;const e=b.style.borderRightColor||((c=vV(a,b))===null||c===void 0?void 0:c.borderRightColor)||b.style.borderInlineEndColor||((d=vV(a,b))===null||d===void 0?void 0:d.borderInlineEndColor);if(e)return Lss(e)};Pss=function(a,b){var c;if(a=b.style.color||((c=vV(a,b))===null||c===void 0?void 0:c.color))return Lss(a)};
Rss=function(a,b){var c,d;const e=b.style.borderLeftWidth||((c=vV(a,b))===null||c===void 0?void 0:c.borderLeftWidth)||b.style.borderInlineStartWidth||((d=vV(a,b))===null||d===void 0?void 0:d.borderInlineStartWidth);if(e)return Qss(wV(e))};Sss=function(a,b){var c,d;const e=b.style.borderRightWidth||((c=vV(a,b))===null||c===void 0?void 0:c.borderRightWidth)||b.style.borderInlineEndWidth||((d=vV(a,b))===null||d===void 0?void 0:d.borderInlineEndWidth);if(e)return Qss(wV(e))};Tss=function(a){a=wV(a);switch(a){case "solid":case "dotted":case "dashed":return a}};
Uss=function(a,b){var c,d;const e=b.style.borderLeftStyle||((c=vV(a,b))===null||c===void 0?void 0:c.borderLeftStyle)||b.style.borderInlineStartStyle||((d=vV(a,b))===null||d===void 0?void 0:d.borderInlineStartStyle);if(e)return Tss(e)};Vss=function(a,b){var c,d;const e=b.style.borderRightStyle||((c=vV(a,b))===null||c===void 0?void 0:c.borderRightStyle)||b.style.borderInlineEndStyle||((d=vV(a,b))===null||d===void 0?void 0:d.borderInlineEndStyle);if(e)return Tss(e)};
Wss=function(a,b){var c;if(a=b.style.fontSize||((c=vV(a,b))===null||c===void 0?void 0:c.fontSize))return c=Qss(wV(a)),c!=null&&c>0?c:void 0};Xss=function(a,b){var c;if(a=b.style.fontWeight||((c=vV(a,b))===null||c===void 0?void 0:c.fontWeight)){c=wV(a);switch(c){case "normal":case "bold":return c}c=parseInt(c,10);if(!isNaN(c))return __c.AOh.getStyle(c)}};
Yss=function(a,b,c){var d;if(a=b.style.textAlign||((d=vV(a,b))===null||d===void 0?void 0:d.textAlign))switch(d=wV(a),d){case "start":case "center":case "end":case "justify":return d;case "left":return c==="rtl"?"end":"start";case "right":return c==="rtl"?"start":"end"}};Zss=function(a){let b=0;for(a=a.parentElement;a!=null;)["OL","UL"].includes(a.tagName)&&(b=Math.min(8,b+1)),a=a.parentElement;return b<=0?void 0:b};
$ss=function(a){var b;a:{for(b=a;b!=null;){if(b.tagName==="LI")break a;b=b.parentElement}b=void 0}switch(b===null||b===void 0?void 0:b.getAttribute("role")){case "checkbox":return(b===null||b===void 0?void 0:b.getAttribute("aria-checked"))==="true"?"checked":"unchecked"}a:{for(b=a.parentElement;b!=null;){if(["OL","UL"].includes(b.tagName))break a;b=b.parentElement}b=void 0}const c=a.style.listStyleType||a.style.listStyle||(b===null||b===void 0?void 0:b.style.listStyleType)||(b===null||b===void 0?
void 0:b.style.listStyle);if(c)switch(a=wV(c),a){case "none":case "disc":case "circle":case "square":case "decimal":case "lower-alpha":case "lower-roman":return a}else{if((b===null||b===void 0?void 0:b.tagName)==="OL")return"decimal";if((b===null||b===void 0?void 0:b.tagName)==="UL")switch(Zss(a)){case 0:case 1:return"disc";case 2:return"circle";default:return"square"}}};ats=function(a,b){var c;if(a=b.style.fontStyle||((c=vV(a,b))===null||c===void 0?void 0:c.fontStyle))switch(c=wV(a),c){case "normal":case "italic":return c}};
bts=function(a,b){var c;if(a=b.style.textDecoration||((c=vV(a,b))===null||c===void 0?void 0:c.textDecoration)){var d;wV(a).split(" ").forEach(e=>{switch(e){case "none":case "underline":d=e}});return d}};cts=function(a,b){var c;if(a=b.style.textTransform||((c=vV(a,b))===null||c===void 0?void 0:c.textTransform))switch(c=wV(a),c){case "none":case "uppercase":return c}};
dts=function(a,b){var c;if(a=b.style.textDecoration||((c=vV(a,b))===null||c===void 0?void 0:c.textDecoration)){var d;wV(a).split(" ").forEach(e=>{switch(e){case "line-through":d="strikethrough";break;case "none":d="none"}});return d}};ets=function(a,b){var c=(a=b.style.direction||((c=vV(a,b))===null||c===void 0?void 0:c.direction))?wV(a):void 0;switch(c){case "ltr":case "rtl":return c;default:if(b.dir==="ltr"||b.dir==="rtl")return b.dir}};
its=function(a,b){var c;if(a=b.style.lineHeight||((c=vV(a,b))===null||c===void 0?void 0:c.lineHeight))return c=wV(a),c=fts(c),c!=null?Math.max(gts,Math.min(c,hts)):void 0};mts=function(a,b){var c;if(a=b.style.letterSpacing||((c=vV(a,b))===null||c===void 0?void 0:c.letterSpacing)){c=wV(a);switch(c){case "normal":return 0}c=c&&c.endsWith("em")?jts(c):void 0;return c!=null?Math.max(kts,Math.min(lts,c)):void 0}};
nts=function(a){a=a.tagName.toLowerCase();switch(a){case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "p":return a;case "blockquote":case "quote":return"blockquote"}};ots=function(a,b){var c=(a=b.style.verticalAlign||((c=vV(a,b))===null||c===void 0?void 0:c.verticalAlign))?wV(a):void 0;switch(c){case "super":case "sub":return c}};wV=function(a){for(;pts.test(a);)a=a.replace(pts,"$1");return a};jts=function(a){a=parseFloat(a);if(!isNaN(a)&&Number.MIN_SAFE_INTEGER<a&&a<Number.MAX_SAFE_INTEGER)return a};
Qss=function(a){if(a){if(a.endsWith("px"))return jts(a);if(a.endsWith("pt")&&(a=jts(a),a!=null))return Math.round(a*4/3*100)/100}};fts=function(a){if(a&&/^\d*\.?\d+$/.test(a))return jts(a)};sts=function(a,b){let c;try{c=(new DOMParser).parseFromString(b,"text/html")}catch(d){return}b=new qts(c.getElementsByTagName("style"));a=new rts(b,a);xqs(c,a);return a.finish()};tts=function(a){const b=a.nPf.trimEnd(),c=a.nPf.slice(b.length);a.builder.Vb(b);a.nPf=c};
uts=function(a,b){tts(a);Object.assign(a.ivm,b);a.builder.attrs(b)};vts=function(a,b){a.nPf+=b.replace(/\u00a0/g," ")};xts=function(a,b){const c={...wts.get(b.tagName)};var d=Xss(a.tfa,b);d&&(c.fontWeight=d);(d=ats(a.tfa,b))&&(c.fontStyle=d);(d=Pss(a.tfa,b))&&(c.color=d);(d=bts(a.tfa,b))&&(c.decoration=d);(a=dts(a.tfa,b))&&(c.Xu=a);return c};yts=function(a,b,c){b=xts(a,b);const d=__c.ne(Ie,b,(e,f)=>a.ivm[f]);uts(a,b);c();uts(a,d)};
Ats=function(a){return dl.ld().attrs({fontFamily:a.Tp.PTb&&__c.lj(a.Tp.PTb),fontSize:zts,color:"#ffffff"})};Cts=async function(a,b,c){const d=a.zJj;if(d==null)a.Xa.A$b(c);else if(b=Bts(a.uzb,b,c),b=await a.t7a(b,{Uc:"code_blocks"}),b!=null&&b.cells.size!==0){var [e,f]=[...b.cells.entries()][0],g=__c.osa(d.Hw(b),e,f);requestAnimationFrame(()=>a.selection.Qu(g,f.text,Rw.end()))}};Dts=async function(a){if(a.PNh){const b=Ats(a).Vb("\n").build();await Cts(a,"#1f1f1f",b)}else a.showNotification(L("9mS+7A"))};
Ets=async function(a){const b=await a.SWq(a.la);await uV(()=>{if(!b)return a.showNotification(L("WQlllg"));var c=Ats(a);c=a.Sds(c,b);if(c==null||c.d4.length<=1)return a.showNotification(L("WQlllg"));var d;const e=(d=c.backgroundColor)!==null&&d!==void 0?d:"#1f1f1f";return Cts(a,e,c.d4)})};Fts=async function(a){var b;const c=__c.AXi();let d;try{d=await c.read()}catch(e){a.Ib({Cb:L("H8xFAw")});return}return d===null||d===void 0?void 0:(b=d["text/html"])===null||b===void 0?void 0:b.text()};
Bts=function(a,b,c){a=a.next();const d={...__c.zn,padding:{...__c.kYc,all:10},gridColumnStart:"1",gridColumnEnd:"2",gridRowStart:"1",gridRowEnd:"2"};return{...__c.qZc,width:"100%",fill:{...ss,color:b},ob:{...__c.jYc,all:10},cells:new Map([[a,{...__c.pZc,text:c}]]),behavior:{rules:[{Cp:void 0,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["1fr"],columnGap:0,rowGap:0,Xv:new Map([[a,d]])}},{Cp:450,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["auto"],columnGap:0,rowGap:0,Xv:new Map([[a,d]])}}]}}};
Gts=function(a,b){return(c,d,e)=>{if(!a())return!0;e=e.format;const f=d.index;d=d.length;d>0&&(c.deleteText(f,d,"user"),c.focus());c.insertText(f,"`",e,"user");c.history.cutoff();c.deleteText(f-2,3,"user");b();return!1}};
Its=function({selection:a,Xa:b,wUa:c,t7a:d,uzb:e,Tp:f,Qe:g,we:h,la:k,lfb:l,SZd:m}){const p=new Hts(a,b,d,e,k,f);l&&(c.B1.tLn=Gts(()=>p.PNh,()=>Dts(p)));m&&g&&h&&h.Am(()=>p.PNh||p.Mhm,{type:"simple",key:"code-blocks",name:L("l+Rifw"),Icon:__c.lYi,execute:async()=>{g.KJ({});g.close({trigger:"insert"});await Ets(p)}})};Jts=function(a,b){b=__c.Yne(b,a.Kn,a.Qk);a.t7a(b,{Uc:"quick_actions"})};
Kts=async function(a,b){const c=new __c.Djj({zGc:Array.from(b.keys()),M2c:!0,query:"",context:new __c.MF({Ru:a.ja,vt:!1,GO:21}),types:[2]});({results:a}=await a.Vf.Cee(c));return a.filter(d=>d.type==="LAYOUT").map(d=>{const e=b.get(d.id);if(e)try{const f=__c.ZZg.deserialize(JSON.parse(d.K6d));return{...e,W_b:f}}catch(f){}}).filter(d=>d!=null)};
Mts=async function(a){if(!(a.store.bAf.length>0))try{a.store.UPg=!0;const {bAf:b}=await __webpack_require__.me(941898).then(()=>({bAf:__c.Lts})),c=await Kts(a,b);uV(()=>{a.store.bAf=c;a.store.Uei=!1})}catch(b){uV(()=>{a.store.Uei=!0})}finally{uV(()=>{a.store.UPg=!1})}};
Ots=async function(a){if(!(a.store.ERf.length>0))try{a.store.YPg=!0;const {ERf:b}=await __webpack_require__.me(431364).then(()=>({ERf:__c.Nts})),c=await Kts(a,b);uV(()=>{a.store.ERf=c;a.store.iJi=!1})}catch(b){uV(()=>{a.store.iJi=!0})}finally{uV(()=>{a.store.YPg=!1})}};
Wts=function({t7a:a,aWj:b,ja:c,Qe:d,we:e,Kn:f,ng:g,Vf:h,Hb:k}){b=new __c.are({id:c,clientId:b});const l=new Pts,m=new Qts(l,h,g,f,c,b,a);a=()=>{const x=m.ng.Jb;return x!=null&&RVc(x.container)};const {TPh:p,gBh:q,onKeyDown:r}=Dss({Abf:Rts,jme:Sts,MK:3,onSelect:async x=>{d.KJ({});Jts(m,x.W_b);d.close({trigger:"insert"})},options:pV(()=>l.bAf)});e.Am(a,{type:"simple",key:"highlight-block",name:L("uhQfzQ"),Icon:Tts,vI:!1,cNa:()=>({lg:iV(()=>k.Rd.Aej?gV(k.Rd.Aej,{}):null),F1:k.Rd.kBr}),execute:async()=>
{p();Mts(m);d.push({Haa:pV(()=>({LQ:d.F4,HQa:"none",ariaExpanded:!l.UPg,ariaHasPopup:"grid"})),K8:{defaultValue:L("xCwiAg"),jCa:!0},Component:iV(({aBb:x})=>gV(q,{F4:d.F4,hasError:l.Uei,id:x,va:l.UPg,Kua:"1.5u",PGa:"1u"})),onKeyDown:jV(x=>{r(x);return!1})})}});const {TPh:t,gBh:u,onKeyDown:w}=Dss({Abf:Rts,jme:Uts,MK:3,uQk:1,onSelect:async x=>{d.KJ({});Jts(m,x.W_b);d.close({trigger:"insert"})},options:pV(()=>l.ERf)});e.Am(a,{type:"simple",key:"quotes",name:L("jzPZzg"),Icon:Vts,vI:!1,execute:async()=>
{t();Ots(m);d.push({Haa:pV(()=>({LQ:d.F4,HQa:"none",ariaExpanded:!l.YPg,ariaHasPopup:"grid"})),K8:{defaultValue:L("3iOE/Q"),jCa:!0},Component:iV(({aBb:x})=>gV(u,{F4:d.F4,hasError:l.iJi,id:x,va:l.YPg,Kua:"1.5u",PGa:"1u"})),onKeyDown:jV(x=>{w(x);return!1})})}})};
eus=function(a,b){const c=a.we,d=a.Qe,e=a.Kn;var f=a.session;const g=f.id;f=f.clientId;const h=a.gd,k=a.selection,l=a.Hb,m=a.Vf;var p=new __c.are({id:g,clientId:f});Its({we:c,Qe:d,la:a.la,selection:k,Xa:a.Xa,wUa:a.wUa,t7a:b,uzb:p,Tp:a.Tp,lfb:a.lfb,SZd:a.SZd});if(d&&c){var q=new Xts(d,e,b,p,a.Ti,k),r=jV(async z=>{const A=k.Jb;A!=null&&RVc(A.container)&&await q.fMj(z,A.container)}),t=[Yts,Zts,$ts].map(z=>({type:"simple",key:`simple-action-${z.keyName}`,name:z.label,Icon:z.icon,vI:!1,async execute(){return r(z.EFe)}}));
a={type:"multi-simple",key:"layout-columns-presets",iCl:pV(()=>t)};var {TPh:u,gBh:w,onKeyDown:x}=Dss({Abf:aus,MK:3,onSelect:z=>{r(z.EFe)},options:pV(()=>bus)});p={type:"simple",key:"layout-columns-all",name:L("mconjg"),Icon:cus,vI:!1,cNa:()=>({lg:iV(()=>l.Rd.vfj?gV(l.Rd.vfj,{}):null),F1:l.Rd.oBr}),execute:async()=>{u();d.push({Haa:pV(()=>({LQ:d.F4,HQa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),K8:{jCa:!0,query:pV(dus)},Component:({aBb:z})=>gV(w,{F4:d.F4,id:z,spacing:"2u"}),onKeyDown:jV(z=>{x(z);
return!1})})}};var y=()=>{const z=k.Jb;return!(z==null||!RVc(z.container)||!h.TEa(z.container.text))};c.Am(y,p);c.Am(y,a);Wts({Qe:d,we:c,t7a:b,aWj:f,ja:g,Kn:e,ng:k,Vf:m,Hb:l})}};
jus=function({xcb:a,cHa:b,xmd:c,viewport:d,oc:e,ka:f,gEk:g,V:h,z2a:k}){const l=new fus(d,k),m=new gus(l,e,h),p=iV(({oa:r})=>gV(hus,{nwc:l.nwc,layout:f.layout,Ix:l.Ix,DQ:m.DQ,Q1f:m.Q1f,HTf:m.HTf,AQa:m.AQa,oa:r,Hua:l.Hua}));if(k){const r=w=>x=>m.AQa(w,x),t=w=>{var x=w.Od;w=w.container;if(x=(x===null||x===void 0?void 0:x.type)==="line"?w.Sf(x):void 0)return g.J7p(x.container.ha,x.ha)},u=()=>b.GRb("Deselect");hV(()=>({isActive:l.isActive,nwc:l.nwc}),({isActive:w,nwc:x})=>{c.Iqf=w&&x&&l.Hua?{Qpe:r(x),
pLj:t,oa:u}:void 0},{equals:oV.shallow})}const q=[["ArrowUp",()=>m.Lxn("prev")],["ArrowDown",()=>m.Lxn("next")],["Escape",()=>{l.nwc?m.HTf():b.GRb("Deselect")}]];a.jXc=()=>({Qd:()=>!0,Button:iV(r=>{const {HAc:t,Tv:u,pressed:w,...x}=r;l.lCb(w);return gV(t,{id:"Line",icon:ius,hb:L("ONGArA"),pressed:w,onClick:u,...x})}),na:r=>gV(p,{oa:r.oa}),DSh:q})};
kus=function({Qe:a,we:b,kya:c,selection:d,oc:e,Hb:f}){a&&b&&b.Am(()=>d.Jb!=null&&__c.QVc(d.Jb.container),{type:"simple",key:"break",name:L("zbsOKQ"),Icon:__c.Zyf,jm:bl("Enter"),cNa:()=>({lg:iV(()=>f.Rd.U$i?gV(f.Rd.U$i,{}):void 0),F1:f.Rd.ZAr}),execute:async()=>{a.KJ({});e.addPageBreak({Uc:"quick_actions"});a.close({trigger:"insert"})}});__c.$o(c,[bl("Enter"),g=>{const h=d.Jb;h!=null&&__c.QVc(h.container)&&(g.preventDefault(),e.addPageBreak({Uc:"shortcut"}))},L("w16Knw"),["edit","suggest"]])};
tus=function(a){const b=a.canvas,c=a.Qe,d=a.ka,e=a.selection,f=a.Cd,g=a.viewport,h=a.Ma,k=a.Xa,l=a.Hb,m=a.$f;if(c){a.Ja==="responsive"?c.Vth("responsive"):hV(()=>a.viewport.ya.type==="responsive",w=>{c.Vth(w?"responsive":"fixed")},{fireImmediately:!0});lus(()=>{var w,x,y,z;const A=a.selection.La,B=a.selection.Jb;var D;(B===null||B===void 0?void 0:B.type)===4||(B===null||B===void 0?void 0:B.type)===5||(B===null||B===void 0?void 0:B.type)===1&&(B===null||B===void 0?void 0:(w=B.only)===null||w===void 0?
void 0:w.type)==="sheet"||(A===null||A===void 0?void 0:(x=A.inner)===null||x===void 0?void 0:x.type)==="sheet"||(A===null||A===void 0?void 0:(y=A.inner)===null||y===void 0?void 0:y.type)==="sheet-cell-media"||(A===null||A===void 0?void 0:A.type)==="elements"&&((z=A.Od)===null||z===void 0?void 0:z.type)==="sheet"?c.vuh({type:"sheet",editable:(D=A===null||A===void 0?void 0:A.Ji())!==null&&D!==void 0?D:!0}):c.vuh(void 0)});var p=pV(()=>{var w;if(((w=e.Jb)===null||w===void 0?void 0:w.type)===0)return a.gd.SEa(e.Jb.container.text,
e.Jb.range)},{equals:__c.vk(ak)});mus(a,p);var q=new nus(e,h,d),r=new ous(q,k,g,e,c),t=new pus(h,e,d,k),u=new qus(t,k,h);hV(()=>k.focused,()=>{var w;return(w=u.ZBn)===null||w===void 0?void 0:w.call(u)});f.plugins.D4=()=>({Qd:()=>q.Oqh,Button:iV(w=>{const x=w.onClick,y=kV(z=>uV(()=>{x===null||x===void 0||x();r.pSk(z)}),[x]);return gV("div",{ref:c.Tnl,children:gV(rus,{...w,open:c.isOpen,kCk:q.fMc&&d.layout===1?"gradient":"static",Icon:q.fMc?__c.Hmg:d.layout===2?__c.X$d:Pu,Qj:q.jwl?m.kDh:void 0,onClick:y})})})});
b.kc(()=>t.Vim,(w,x)=>{w.xn.dM.X9f=x?iV(()=>{var y=p.get();if(y==null)return null;y=y.Lb();return gV(sus,{show:t.EQ,onClick:r.pSk,top:y.top+y.height/2,One:l.One,onFocus:u.onFocus,onBlur:u.onBlur,onMouseDown:u.onMouseDown})}):void 0})}};
mus=function(a,b){var c;const d=a.canvas,e=a.session.undo,f=a.viewport,g=a.Ma,h=a.ka,k=a.selection,l=a.xX,m=a.Qe,p=a.Tna,q=a.Xa,r=a.gd,t=a.BYd;if(m){var u,w,x=()=>{var z;if(((z=k.Jb)===null||z===void 0?void 0:z.type)===4){const A=pV(()=>{if(f.HF){var B=k.Jb;if((B===null||B===void 0?void 0:B.type)===4&&B.qu)return __c.fXf(B,r,f)}});z=pV(()=>{var B;const D=(B=A.get())===null||B===void 0?void 0:B.xza;return D?Xj(D):void 0});uus?m.xyc({type:"sheet",box:z,bQf:__c.hXf(A,d,p)}):m.xyc({type:"fixed",anchor:"top",
direction:"right",box:pV(()=>{if(f.HF){var B=k.Jb;if((B===null||B===void 0?void 0:B.type)===4&&B.qu){var D=B.container.sheet;const M=__c.Nk(D.config,B.qu.column,B.qu.row);if(M){var G=new wA(B.container.container.Hw(B.container.sheet),r,f);B=__c.Lk(D.config).find(N=>__c.ek(N.box,M));var I=G.CJ,K=G.jA;I=D.config.direction==="rtl"?Ej(K.tr,I.tr):Ej(K.tl,I.tl);G=G.SN.then(dk(K));D=__c.Mk(D.config,I,B).then(G.invert());return Xj(M.transform(D))}}}})})}else m.xyc({type:"responsive",box:pV(()=>{const A=f.HF,
B=f.CP,D=b.get();if(A&&B&&D)return D.transform(B.invert())})})},y=({jm:z,trigger:A})=>{if(h.layout===1&&k.La){var B,D,G;({to:z}=vus({jm:z,Ja:"fixed"}));if(((B=k.La.inner)===null||B===void 0?void 0:B.type)==="sheet"||A!=="shortcut_targeted"){if(((G=k.La)===null||G===void 0?void 0:(D=G.inner)===null||D===void 0?void 0:D.type)==="sheet"){const I=pV(()=>{if(k.La)return __c.gXf(k.La,f,g)});B=pV(()=>{var K;const M=(K=I.get())===null||K===void 0?void 0:K.xza;return M?Xj(M):void 0});uus?m.xyc({type:"sheet",
box:B,bQf:__c.hXf(I,d,p)}):m.xyc({type:"fixed",box:pV(()=>{var K=k.La;if(K&&K.inner&&K.inner.type==="sheet"){var M=K.inner.qu;if(M!=null){var N;K.type==="pages"?N=new uA(K.container.tb(K.inner.page),f,g):K.type==="elements"&&(N=new tA(K.container.Sf(K.inner.sheet),f));if(N!=null){K=N.sheet;var Q=N.CJ,R=N.jA;N=N.SN;var W=__c.Nk(K,M.column,M.row);if(W)return M=__c.Lk(K).find(X=>__c.ek(X.box,W)),Q=K.direction==="rtl"?Ej(R.tr,Q.tr):Ej(R.tl,Q.tl),R=N.then(dk(R)),K=__c.Mk(K,Q,M).then(R.invert()),Xj(W.transform(K))}}}}),
anchor:"top",direction:"right"})}m.open({trigger:A,to:z})}}};a.wUa.B1.s$d=jV(z=>{if(h.layout!==1)return!0;if(g.mode<=20)return!1;var A=k.Jb;if((A===null||A===void 0?void 0:A.container.type)==="sheet-item-cell-richtext")return!0;let B;switch(z){case "/":A="shortcut";break;case ":":A="shortcut_targeted";B="blank-emoji-responsive";break;case "@":A="shortcut_targeted";B="mention";break;default:throw new v(z);}m.open({trigger:A,to:B});if(!m.isOpen)return!0;w=e.startBuffering();u=q.aBa(z,lif(q)).connect();
x();return!1});a.Ja!=="responsive"&&m.nRc(l,y);m.nRc(a.Ja==="responsive"?l:a.HBb,({jm:z,trigger:A,l7e:B})=>{var D=k.Jb;if(D&&B){B=h.layout===1&&(__c.vba(z)||wus(B.prefix,z))&&D.container.type!=="sheet-item-cell-richtext";if(D.type===0)return!1;if(B||!__c.vba(z))if(B||__c.vba(z)){var {to:G}=vus({jm:z,Ja:"responsive",QA:D.type});B=()=>{var I;m.open({trigger:A,to:G});m.isOpen&&(w=e.startBuffering(),((I=k.Jb)===null||I===void 0?void 0:I.type)!==0||__c.vba(z)||(u=q.aBa(z,lif(q)).connect()),x())};switch(D.type){case 2:const I=
D.only;if(!I){B();break}D=__c.Ef(D.container,I).text;q.Qu(D,Rw.all());q.focus();B();break;case 4:B();break;case 5:case 3:case 1:B();break;default:throw new v(D);}}else switch(D.type){case 2:B=D.only;if(!B)break;D=__c.Ef(D.container,B).text;q.Qu(D,Rw.all());q.focus();q.aBa(z);break;case 4:case 5:case 3:case 1:break;default:throw new v(D);}}});hV(()=>m.query,z=>{z===" "&&(q.aBa(" "),setTimeout(()=>{m.close({trigger:"escape"})},0))});m.addEventListener("beforeapply",jV(()=>{u!==null&&u!==void 0&&u.Oc&&
(q.Qu(u.Oc,u),q.mQ(),u.disconnect())}));m.addEventListener("close",jV(({trigger:z})=>{w===null||w===void 0||w.stop();w=void 0;u===null||u===void 0||u.disconnect();u=void 0;z!=="show_dialog"&&setTimeout(()=>{q.focused||q.focus()})}));a=t===null||t===void 0?void 0:t.get();(a===null||a===void 0?0:(c=a.pra)===null||c===void 0?0:c.XNn)&&m.open({trigger:"ui_state"})}};
wus=function(a,b){switch(b){case "/":return!!a.match(/(^|\s)$/);case ":":return!!a.match(/(^|\s)$/);case "@":return!!a.match(/(^|\s|\p{P})$/u);default:throw new v(b);}};vus=function(a){switch(a.jm){case ":":return{trigger:"shortcut_targeted",to:a.Ja==="fixed"?"blank-emoji-fixed":"blank-emoji-responsive"};case "@":return{trigger:"shortcut_targeted",to:a.Ja==="fixed"||a.QA===4?"mention-insert":"mention"};default:return{trigger:"shortcut"}}};
Cus=function({xcb:a,cHa:b,xmd:c,viewport:d,jc:e,oc:f,fca:g,ka:h,V:k,z2a:l}){const m=new xus(g,d,l),p=new yus(m,e,f,k),q=iV(({oa:t})=>gV(zus,{oa:t,layout:h.layout,fca:g,FSc:m.FSc,Ix:m.Ix,DQ:p.DQ,G9:p.G9,CMd:p.CMd,ITf:p.ITf,Hua:m.Hua}));if(l){const t=iV(()=>m.dCb&&p.zGa?gV(Aus,{shape:m.dCb,bIs:p.zGa}):null),u=x=>y=>p.G9(x,y),w=()=>b.GRb("Deselect");hV(()=>({isActive:m.isActive,dCb:m.dCb}),({isActive:x,dCb:y})=>{c.Iqf=x&&y&&m.Hua?{Oq:t,Qpe:u(y),h7c:p.zbr,oa:w}:void 0},{equals:oV.shallow})}const r=[["ArrowUp",
()=>p.Mxn("prev")],["ArrowDown",()=>p.Mxn("next")],["Escape",()=>{m.FSc?p.ITf():b.GRb("Deselect")}]];a.NVa=()=>({Qd:()=>!0,Button:iV(t=>{const {HAc:u,Tv:w,pressed:x,...y}=t;m.lCb(x);return gV(u,{id:"Shape",icon:Bus,hb:L("8CFVjw"),pressed:x,onClick:w,...y})}),na:t=>gV(q,{oa:t.oa}),DSh:r})};Dus=function({nOs:a,$Ls:b,hl:c}){let d;a&&b?d=L("N/GixA"):a?d=L("qXgT6g"):b&&(d=L("0E7snA"));return gV(c,{label:n(d),Icon:Pu})};
Gus=function({selection:a,xJj:b,Cd:c,Vi:d,Ma:e,Ga:f}){const g=new Eus(a,e);a=f.Ud("editor.editing.sheet_adding");const h=new Fus(g,d,a),k=jV(()=>{h.addRow("before")}),l=jV(()=>{h.addRow("after")}),m=jV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction==="rtl"?"after":"before")}),p=jV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction!=="rtl"?"after":"before")});b.kc(()=>g.iYf,(q,r)=>{q.Fzc=(r===null||r===void 0?0:r.yrj)?{Button:iV(y=>gV(y.hl,{label:J("w4rzTQ",[g.lF.length]),Icon:__c.cir,onClick:k,
oa:y.oa}))}:void 0;q.Gzc=(r===null||r===void 0?0:r.zrj)?{Button:iV(y=>gV(y.hl,{label:J("KiqINg",[g.lF.length]),Icon:__c.eir,onClick:l,oa:y.oa}))}:void 0;q.Dzc=(r===null||r===void 0?0:r.Sqj)?{Button:iV(y=>gV(y.hl,{label:J("Yf0hww",[g.L0b.length]),Icon:__c.UFq,onClick:m,oa:y.oa}))}:void 0;q.Ezc=(r===null||r===void 0?0:r.Tqj)?{Button:iV(y=>gV(y.hl,{label:J("qRE55g",[g.L0b.length]),Icon:__c.air,onClick:p,oa:y.oa}))}:void 0;var t;const u=(t=(r===null||r===void 0?void 0:r.yrj)||(r===null||r===void 0?void 0:
r.zrj))!==null&&t!==void 0?t:!1;var w;const x=(w=(r===null||r===void 0?void 0:r.Sqj)||(r===null||r===void 0?void 0:r.Tqj))!==null&&w!==void 0?w:!1;q.w9i=u||x?{Button:iV(y=>gV(Dus,{nOs:u,$Ls:x,hl:y.hl}))}:void 0});c.plugins.Fzc=()=>({Qd:()=>{var q;return!((q=g.iYf)===null||q===void 0||!q.yrj)},Button:iV(q=>gV(q.xi,{icon:Pu,onClick:k,yh:"icon-and-label",children:J("w4rzTQ",[g.lF.length])}))});c.plugins.Gzc=()=>({Qd:()=>{var q;return!((q=g.iYf)===null||q===void 0||!q.zrj)},Button:iV(q=>gV(q.xi,{icon:Pu,
onClick:l,yh:"icon-and-label",children:J("KiqINg",[g.lF.length])}))});c.plugins.Dzc=()=>({Qd:()=>{var q;return!((q=g.iYf)===null||q===void 0||!q.Sqj)},Button:iV(q=>gV(q.xi,{icon:Pu,onClick:m,yh:"icon-and-label",children:J("Yf0hww",[g.L0b.length])}))});c.plugins.Ezc=()=>({Qd:()=>{var q;return!((q=g.iYf)===null||q===void 0||!q.Tqj)},Button:iV(q=>gV(q.xi,{icon:Pu,onClick:p,yh:"icon-and-label",children:J("qRE55g",[g.L0b.length])}))})};
Kus=function(a,b){const c=a.viewport,d=a.selection,e=a.Ja,f=a.Gb,g=a.we,h=a.Qe,k=a.Tp,l=a.Ti;if(h&&g){var m=a.Ga.Ud("editor.editing.sheet_adding");a=jV((r,t)=>{const u=m.sb("create_and_add_sheet",{Fb:{name:"editor.element.add",type:"sheet",attrs:new Map([["action","quick_actions"]])}});r=__c.Pxa(bh,{...NYc,config:__c.yke({...__c.zId,Gb:f,RYb:r,SYb:t,OJ:"wrap",dj:BId.dj,fontSize:BId.fontSize,fontFamily:k.ZT}),id:f.Ag.generate(),top:0,left:0,width:1,height:1});b(r,{Uc:"quick_actions",span:u,s_d:!0})});
var p=new Hus,q=new Ius(h,a,l);g.Am(()=>{const r=d.Jb;return e!=="responsive"&&uf(c.ya)?!1:r!=null?__c.TVc(r.container):!0},{type:"simple",key:"sheet",name:L("fN/KMA"),aliases:[L("Yvno9Q")],Icon:__c.iG,execute:async()=>h.push({K8:{jCa:!0,query:pV(()=>{var r=p.activeCell;return`${r.col+1}x${r.row+1}`})},Haa:pV(()=>({LQ:h.F4,HQa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:r=>gV(Jus,{...r,XIs:p,L:q}),onKeyDown:r=>{r.key!=="Tab"&&r.preventDefault();switch(r.key){case "Enter":q.select(p.activeCell,
"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":q.QXg(p,r.key)}return!1},onClose:()=>q.reset(p),reset:()=>q.reset(p)}),vI:!1})}};
Pus=function(a,b){const c=a.we,d=a.Qe,e=a.qsg,f=a.Ti,g=a.lja,h=a.V,k=a.viewport,l=a.Gb,m=a.Ga.Ud("table_adding"),p=(x,y,z)=>{x=__c.utg(g,{columns:x,rows:y});const A={...Cs,text:Mg.W4("\n")};x=bh.ywc({...x,cells:rd(x.cells,B=>({...B,content:A})),...__c.gYc,id:l.Ag.generate(),top:0,left:0,width:1,height:1,eb:1,Ub:1});x=new __c.Lv({hg:1,element:x});z.addEvent("table_proto_created");z.mb().addEvent("table_proto_created");return x},q=(x,y,z)=>{if(a.Ja==="responsive")return p(x,y,z);switch(k.ya.type){case "fixed":case "concatenated-fixed":return x=
__c.utg(a.HPb,{columns:x,rows:y}),x=new __c.Lv({hg:1,element:bh.ywc(x),fonts:[]}),z.addEvent("table_proto_created"),z.mb().addEvent("table_proto_created"),x;case "responsive":return p(x,y,z);default:throw new v(k.ya);}},r=()=>{const x=a.selection.Jb;return x!=null&&__c.SVc(x.container)?!0:a.Ja!=="responsive"?!uf(a.viewport.ya):!1},t=jV((x,y,z)=>{const A=m.sb("create_and_add_table",{Fb:{name:"editor.element.add",type:"table",attrs:new Map([["action","quick_actions"]])}});b((z!==null&&z!==void 0?z:
q)(x,y,A),void 0,{Uc:"quick_actions",span:A,s_d:!0})}),u=new Lus,w=new Mus(d,h,t,f);if(a.Ja!=="responsive"){const x=jV((z,A,B)=>{z=__c.utg(a.HPb,{columns:z,rows:A});A=rd(z.cells,(D,G)=>{G=G.match(/\d+$/);const I={"text-align":"center"};Number(G?G[0]:[])===1&&(I["font-weight"]="bold");G={...Cs,text:Mg.ld().attrs(I).Vb("\n").build()};return{...D,content:G}});z=bh.ywc({...z,cells:A,width:428,height:250,eb:428,Ub:250,layout:{...z.layout,cellPadding:10,borderStyle:{...z.layout.borderStyle,color:"#cccccc",
weight:2}}});z=new __c.Lv({hg:1,element:z});B.addEvent("table_proto_created");B.mb().addEvent("table_proto_created");return z}),y=jV(()=>{w.addTable(3,4,x)});a.xcb.Table=()=>({Qd:r,Button:iV(z=>{const {HAc:A,Tv:B,oa:D,...G}=z;z=kV(()=>{B();y();w.Tya();D()},[B,D]);return gV(A,{id:"Table",icon:Nus,hb:L("/92zfw"),onClick:z,...G})})})}!e&&d&&c&&c.Am(r,{type:"simple",key:"table",name:L("AibD4g"),Icon:__c.HTj,execute:async()=>d.push({K8:{jCa:!0,query:pV(()=>{var x=u.activeCell;return`${x.col+1}x${x.row+
1}`})},Haa:pV(()=>({LQ:d.F4,HQa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:x=>gV(Ous,{...x,LXs:u,L:w}),onKeyDown:x=>{x.key!=="Tab"&&x.preventDefault();switch(x.key){case "Enter":w.select(u.activeCell,"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":w.QXg(u,x.key)}return!1},onClose:()=>w.reset(u),reset:()=>w.reset(u)}),vI:!1})};
Tus=function({xcb:a,cHa:b,xmd:c,viewport:d,jc:e,Zc:f,oc:g,V:h,z2a:k}){const l=new Qus(d,k),m=new Rus(l,e,f,g,h);if(k){const q=iV(()=>{var t,u=l.jD?m.sZm(l.jD):void 0;if(!u)return null;const w=u.text,x=u.attributes;u=u.dimensions;const y=x["font-family"],z=x["font-weight"];return gV("div",{style:{width:u.width,height:u.height,color:x.color,fontSize:`${x["font-size"]}px`,fontFamily:y?__c.oj(y):void 0,fontWeight:z?(t=__c.tj(z))===null||t===void 0?void 0:t.toString():void 0},children:w})}),r=()=>b.GRb("Deselect");
hV(()=>l.isActive,t=>{c.Iqf=t&&l.Hua?{Oq:q,Qpe:m.addText,h7c:m.h7c,oa:r}:void 0})}const p=q=>{q.key==="Escape"&&b.GRb("Deselect")};hV(()=>l.isActive,q=>{q?document.addEventListener("keydown",p):document.removeEventListener("keydown",p)});a.Text=()=>({Qd:()=>!0,Button:iV(q=>{const {HAc:r,Tv:t,oa:u,active:w,...x}=q;l.lCb(w);q=kV(()=>{t();l.Hua||(m.addText(),u())},[t,u]);return gV(r,{id:"Text",icon:Sus,hb:L("yeR+vA"),onClick:q,active:w,...x})})})};
Uus=function(a){const b=a.we,c=a.Qe,d=a.oc;a.keyboardShortcuts.register(["t",()=>d.addText(L("7D/4Bg"),{Uc:"shortcut"}),L("WPMnRQ"),["edit"]]);b===null||b===void 0||b.install({type:"simple",key:"text",name:L("zHOe/Q"),Icon:__c.oA,jm:{key:"t"},vI:!1,execute:async()=>{c===null||c===void 0||c.close({trigger:"insert"});c===null||c===void 0||c.KJ({});d.addText(L("7D/4Bg"),{Uc:"quick_actions"})}})};
Xus=function(a){const b=a.keyboardShortcuts,c=a.we,d=a.Qe,e=a.oc;a.$Yh||(b.register(["r",()=>e.G9(Vus,"static-rectangle",{Uc:"shortcut"}),L("t4sYiQ"),["edit"]],["c",()=>e.G9(Wus,"static-circle",{Uc:"shortcut"}),L("WNgl/w"),["edit"]]),c===null||c===void 0||c.install({type:"simple",key:"circle",name:L("YWLlfw"),Icon:__c.XTj,jm:{key:"c"},vI:!1,execute:async()=>{d===null||d===void 0||d.close({trigger:"insert"});d===null||d===void 0||d.KJ({});await e.G9(Wus,"static-circle",{Uc:"quick_actions"})}}),c===
null||c===void 0||c.install({type:"simple",key:"rectangle",name:L("cnGpyQ"),aliases:[L("OLOtCg")],Icon:__c.FTj,jm:{key:"r"},execute:async()=>{d===null||d===void 0||d.close({trigger:"insert"});d===null||d===void 0||d.KJ({});await e.G9(Vus,"static-rectangle",{Uc:"quick_actions"})}}))};
Yus=function(a){const b=a.we,c=a.Qe,d=a.oc,e=a.N_j?__c.ier:__c.her;a.keyboardShortcuts.register(["s",()=>d.G9(e,"static-sticky-note",{Uc:"shortcut"}),L("G/kzLg"),["edit"]]);b===null||b===void 0||b.install({type:"simple",key:"sticky-note",name:L("JzZYlg"),aliases:[L("GOfopA"),L("aw0D4Q"),L("VZc9jw")],Icon:__c.lfk,jm:{key:"s"},vI:!1,execute:async()=>{c===null||c===void 0||c.close({trigger:"insert"});c===null||c===void 0||c.KJ({});await d.G9(__c.her,"static-sticky-note",{Uc:"quick_actions"})}})};
Zus=function(a){const b=a.keyboardShortcuts,c=a.we,d=a.oc;a.$Yh||(b.register(["l",()=>d.AQa({},{Uc:"shortcut"}),L("8VCGoA"),["edit"]],["|",()=>d.AQa({AOe:2},{Uc:"shortcut"},{}),L("HdnMAQ"),["edit"]]),c===null||c===void 0||c.install({type:"simple",key:"line",name:L("P9yWmw"),Icon:__c.hfk,jm:{key:"l"},execute:async()=>{d.AQa({},{Uc:"quick_actions"})}}),c===null||c===void 0||c.install({type:"simple",key:"arrow-line",name:L("RWM/gg"),Icon:__c.jfk,execute:async()=>{d.AQa({nfb:3},{Uc:"quick_actions"})}}))};
avs=function(a){const b=a.session.document,c=a.selection,d=a.Ma,e=a.xJj,f=a.oc,g=a.viewport;if(b.Ja==="fixed"){var h=()=>{var k,l;const m=(l=(k=c.La)===null||k===void 0?void 0:k.pages)!==null&&l!==void 0?l:[];if(k=b.pages.last(p=>m.includes(p))){oa(f.PL!=null);const p=f.PL(k,{Uc:"contextual_menu",location:"canvas"});Promise.resolve().then(()=>g.YE(p))}};e.kc(()=>{var k,l,m;return d.mode>=40&&((k=c.La)===null||k===void 0?void 0:k.type)==="pages"&&((l=c.La.inner)===null||l===void 0?void 0:l.type)!==
"sheet"&&((m=c.La.inner)===null||m===void 0?void 0:m.type)!=="sheet-cell-media"&&!$us(c.La)},(k,l)=>{k.dsa=l?{Button:iV(m=>gV(m.hl,{label:L("IFfqmQ"),disabled:!f.bMa(1),onClick:h,Icon:__c.gAf,oa:m.oa,jm:bl("Enter")}))}:void 0});e.kc(()=>d.mode>=30&&$us(c.La),(k,l)=>{const m=()=>{if($us(c.La)){var p=c.La.inner.container,q=c.La.inner.pages.at(-1);q&&f.Arj(p,q,{Uc:"contextual_menu",location:"canvas"})}};k.ayh=l?{Button:p=>gV(p.hl,{label:L("3vzkKw"),disabled:!$us(c.La)||!f.TTd(c.La.inner.container,1),
onClick:m,Icon:__c.gAf,oa:p.oa,jm:bl(Xo("Enter"))})}:void 0})}};$us=function(a){var b,c;return(a===null||a===void 0?void 0:a.type)==="pages"&&((b=a.inner)===null||b===void 0?void 0:b.type)==="pages"&&((c=a.inner.inner)===null||c===void 0?void 0:c.type)==="background"};
dvs=function(a,b){const c=a.store.rzj;var d=a.store.Ijc;if(c&&d){d=d.map(e=>{var f,g;return{element:e,box:a.store.$Va==="page"&&((f=a.selection.La)===null||f===void 0?0:f.box)?Xj((g=a.selection.La)===null||g===void 0?void 0:g.box):Xj(Yj(e))}});switch(b){case "top":b=bvs(d.map(({element:e,box:f})=>({element:e,delta:c.t.y-f.t.y})),"y");break;case "middle":b=bvs(d.map(({element:e,box:f})=>({element:e,delta:c.c.y-f.c.y})),"y");break;case "bottom":b=bvs(d.map(({element:e,box:f})=>({element:e,delta:c.b.y-
f.b.y})),"y");break;case "left":b=bvs(d.map(({element:e,box:f})=>({element:e,delta:c.Sb.x-f.Sb.x})),"x");break;case "center":b=bvs(d.map(({element:e,box:f})=>({element:e,delta:c.c.x-f.c.x})),"x");break;case "right":b=bvs(d.map(({element:e,box:f})=>({element:e,delta:c.r.x-f.r.x})),"x");break;default:throw new v(b);}cvs(a,b)}};bvs=function(a,b){return{targets:sqs(a.map(({delta:c,element:d})=>[c,d])),axis:b}};
cvs=function(a,b){const c=b.targets;b=b.axis;for(const [d,e]of c)a.Hr.U1a(e).translate(b==="x"?d:0,b==="y"?d:0)};evs=function(a,b){switch(b){case "center":a.alignment="50%";break;case "left":a.alignment="0%";break;case "right":a.alignment="100%";break;default:throw new v(b);}};fvs=function(a){return a.size===1?a.values().next().value:void 0};
tvs=function(a){var b=a.Ja,c=a.S3;const d=a.selection;var e=a.Cd;const f=a.ka,g=new gvs(a.Ma,d),h=new hvs(g,c),k={Qd:()=>h.Uul,Button:iV(m=>gV(ivs,{...m,alignment:g.gfh})),Su:{sg:()=>L("V/DN5w")},na:iV(m=>gV(jvs,{...m,alignment:g.gfh,GJa:h.GJa}))},l={Qd:()=>h.Uul,Button:iV(m=>gV(ivs,{...m,alignment:g.gfh,onClick:h.Kdq}))};e.plugins.H0a=()=>f.layout===2?k:l;if(b!=="responsive"){e=a.Hr;const m=a.Zc,p=a.V,q=a.ih;b=a.we;c=a.keyboardShortcuts;const r=new __c.nXi(d,a.gb,a.re),t=new kvs(r,e,m,d,p),u=()=>
t.GJa("left","menu"),w=()=>t.GJa("center","menu"),x=()=>t.GJa("right","menu"),y=()=>t.GJa("top","menu"),z=()=>t.GJa("middle","menu"),A=()=>t.GJa("bottom","menu");q&&q.kc(()=>{var B,D,G,I,K,M;return{YZc:r.VTd,WNg:(B=r.ybb)===null||B===void 0?void 0:B.WNg,VNg:(D=r.ybb)===null||D===void 0?void 0:D.VNg,YNg:(G=r.ybb)===null||G===void 0?void 0:G.YNg,ZNg:(I=r.ybb)===null||I===void 0?void 0:I.ZNg,XNg:(K=r.ybb)===null||K===void 0?void 0:K.XNg,UNg:(M=r.ybb)===null||M===void 0?void 0:M.UNg}},(B,{YZc:D,WNg:G,
VNg:I,YNg:K,ZNg:M,XNg:N,UNg:Q})=>{!D||G&&I&&K&&M&&N&&Q?(B.H0a=void 0,B.kyh=void 0,B.jyh=void 0,B.myh=void 0,B.nyh=void 0,B.lyh=void 0,B.iyh=void 0):(B.H0a={Button:R=>gV(lvs,{...R,$Va:r.$Va})},B.kyh={Button:R=>gV(mvs,{...R,onClick:u,disabled:G})},B.jyh={Button:R=>gV(nvs,{...R,onClick:w,disabled:I})},B.myh={Button:R=>gV(ovs,{...R,onClick:x,disabled:K})},B.nyh={Button:R=>gV(pvs,{...R,onClick:y,disabled:M})},B.lyh={Button:R=>gV(qvs,{...R,onClick:z,disabled:N})},B.iyh={Button:R=>gV(rvs,{...R,onClick:A,
disabled:Q})})},{equals:oV.shallow});a=pV(()=>r.Epk?void 0:iV(()=>gV(svs,{display:"comfortable",KTc:f.layout===1,GJa:t.GJa,$Va:r.$Va,IXd:r.IXd,DXd:r.DXd,wXd:r.wXd,CXd:r.CXd,xXd:r.xXd,GXd:r.GXd})));b===null||b===void 0||b.Am(()=>{var B;return r.VTd&&!((B=r.ybb)===null||B===void 0?0:B.ZNg)},{type:"simple",key:"align-top",name:L("IDKHXA"),$Vb:()=>r.$Va?r.$Va==="page"?L("oUIJeA"):L("Vt0K/Q"):L("IDKHXA"),Icon:__c.N8g,execute:async()=>t.GJa("top","quick_actions")});b===null||b===void 0||b.Am(()=>{var B;
return r.VTd&&!((B=r.ybb)===null||B===void 0?0:B.XNg)},{type:"simple",key:"align-middle",name:L("PcAfBw"),$Vb:()=>r.$Va?r.$Va==="page"?L("cvbe3Q"):L("6DJE4g"):L("PcAfBw"),Icon:__c.J8g,execute:async()=>t.GJa("middle","quick_actions")});b===null||b===void 0||b.Am(()=>{var B;return r.VTd&&!((B=r.ybb)===null||B===void 0?0:B.UNg)},{type:"simple",key:"align-bottom",name:L("+olaig"),$Vb:()=>r.$Va?r.$Va==="page"?L("7FSYWw"):L("ubRa0A"):L("+olaig"),Icon:__c.D8g,execute:async()=>t.GJa("bottom","quick_actions")});
b===null||b===void 0||b.Am(()=>{var B;return r.VTd&&!((B=r.ybb)===null||B===void 0?0:B.WNg)},{type:"simple",key:"align-left",name:L("A2UFbA"),$Vb:()=>r.$Va?r.$Va==="page"?L("lBeN7g"):L("aPV1gw"):L("A2UFbA"),Icon:__c.H8g,execute:async()=>t.GJa("left","quick_actions")});b===null||b===void 0||b.Am(()=>{var B;return r.VTd&&!((B=r.ybb)===null||B===void 0?0:B.VNg)},{type:"simple",key:"align-center",name:L("/N5DHw"),$Vb:()=>r.$Va?r.$Va==="page"?L("6XfRBw"):L("iutmFw"):L("/N5DHw"),Icon:__c.F8g,execute:async()=>
t.GJa("center","quick_actions")});b===null||b===void 0||b.Am(()=>{var B;return r.VTd&&!((B=r.ybb)===null||B===void 0?0:B.YNg)},{type:"simple",key:"align-right",name:L("xJd0CQ"),$Vb:()=>r.$Va?r.$Va==="page"?L("sA5UnA"):L("eqyQBw"):L("xJd0CQ"),Icon:__c.L8g,execute:async()=>t.GJa("right","quick_actions")});c.register([bl(Xo("j")),()=>t.ZGn(),L("74ZxvQ"),["edit"]]);return{Imd:r,nyt:t,F6f:a}}};uvs=function(a){a.store.HC==="layers"&&a.hac||(a.C0e(),a.jC(),a.YUc())};
vvs=function(a){const {hl:b,MQh:c,...d}=a;let e;switch(c){case "topic":a=__c.gHi;e=L("OIpCMA");break;case "color":a=__c.Xzh;e=L("fiROpg");break;case "author":a=__c.kjg;e=L("RLWDLA");break;case "reaction":a=__c.VLr;e=L("v++iLQ");break;default:throw new v(c);}return gV(b,{...d,Icon:a,label:e})};wvs=function(a,b,c){a=a.width*a.height;b=b.width*b.height;return c>0&&b/a<2&&c/b>=.01};
Avs=function(a,b){if(a.rotation===0&&b.rotation===0){var c=bk(a,b);return c?c.width*c.height:0}a=[a.tl,a.tr,a.br,a.Fn];b=xvs([b.tl,b.tr,b.br,b.Fn]);for(c of b){if(a.length<=2)break;a=yvs(a,c)}return(c=a.length<=2?null:a)?Math.abs(zvs(c)):0};yvs=function(a,b){const c=[],d=xvs(a);a=a.map(f=>{const [g,h,k]=Bvs(b);return Math.sign(h*f.x+g*f.y+k)});for(let f=0;f<d.length;f++){var e=d[f];const g=a[f],h=a[f+1]||a[0];g<=0&&c.push(e[0]);g*h<0&&(e=Cvs(e,b))&&c.push(e)}return c};
zvs=function(a){return a.length<3?0:xvs(a).reduce((b,[c,d])=>b+(c.x*d.y-d.x*c.y),0)/2};xvs=function(a){const b=a.slice();a=a.slice();const c=a.shift();if(c==null)return[];a.push(c);return Dvs(b,a)};Dvs=function(a,b){na(a.length===b.length,"both arrays must have the same length");return a.map((c,d)=>[c,b[d]])};Cvs=function(a,b){const [c,d,e]=Bvs(a),[f,g,h]=Bvs(b);a=c*h-f*e;b=g*e-d*h;const k=d*f-g*c;return k===0||isNaN(k)||isNaN(a)||isNaN(b)?null:new Bj(a/k,b/k)};
Bvs=function(a){const [{x:b,y:c},{x:d,y:e}]=a;return[b-d,e-c,d*c-e*b]};Evs=function(a,b){const c=a.Dq(()=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:d,children:gV(__c.ok,{message:b})})),d=()=>{c()}};Fvs=function(a,b,c){b.forEach(d=>{const e=a.Dug.get(d);e&&e.some(f=>f===c)&&a.Dug.set(d,e.filter(f=>f!==c))})};Hvs=function(a,b,c,d,e){const f=a.get(e,b);if(f)f.update(d,c);else{const g=new Gvs(e,b.length,c,d);b.forEach(h=>{__c.uj(a.Dug,h,g)})}};
Ivs=function(a,b){if(b!==a.page)return a.pMd=[],a.fqh=new WeakMap,!0;if(a.pMd.length<1)return!0;const c=new Set(b.elements.toArray());a.pMd=a.pMd.filter(d=>c.has(d));return a.pMd.some(d=>d.text.Ya!==a.fqh.get(d))};Jvs=function(a){return typeof WeakRef!=="undefined"?new WeakRef(a):{deref:()=>a}};Mvs=function(a,b,c,d){c=c.map(Kvs);return Lvs(a,b,c,Math.max(2E3,Math.min(d!==null&&d!==void 0?d:5E3,5E3)))};
Kvs=function(a){let b=Nvs,c=0,d=Nvs;var e=0,f=0;const g=[],h=a.sxc.length;if(h<=8){for(f=0;f<h;f++){var k=a.sxc[f],l=k.ugd;f!==0&&f%2===0&&(c=0,b=d+16);g.push({Uvo:k,y2b:b,Aac:c});c+=l.width+16;d=Math.max(d,b+l.height);e=Math.max(e,c)}return{key:a.key,elements:g,width:e,height:d}}for(e=0;e<h;e++)k=a.sxc[e],l=k.ugd,e!==0&&e%4===0&&(c+=f+16,d=Math.max(d,b),b=Nvs,f=0),g.push({Uvo:k,y2b:b,Aac:c}),b+=l.height+16,f=Math.max(f,l.width),d=Math.max(d,b);return{key:a.key,elements:g,width:c+f,height:d}};
Lvs=function(a,b,c,d){let e=0,f=0,g=[];const h=[];for(const l of c){e+l.width>d&&g.length!==0&&(e=0,f+=Math.max(...g.map(r=>r.height),0)+80,g=[]);var k=Ovs(a,l.key);c=b.nV();k=Mg.ld().mv("font-size",Pvs).Vb(Qvs(k)).build();const m=__c.xo.create(Rvs()),{width:p,height:q}=__c.ho(c,k,1,m);c=.5*(__c.oWb(Pvs,m,p,q).Lb().width-p);k={...l,y2b:f,Aac:e,P1s:c};g.push(k);e=e+Math.max(l.width,p+c)+64;h.push(k)}return h};Svs=function(a,b){return{topLeftCorner:{top:a.y+b.y2b,left:a.x+b.Aac+b.P1s}}};
Ovs=function(a,b){switch(a){case "color":return L("H6eBIA");case "author":return b?b:L("QQQgpA");case "topic":return b?b:L("YyGQUQ");case "reaction":return b?J("lo/HDw",[b]):L("NOPhIw");default:throw new v(a);}};Rvs=function(a="#000000"){return{Kc:[{type:"background",parameters:new Map([["roundness",(.5).toString()],["spread",(.5).toString()],["transparency",(1).toString()],["color",a]])}]}};Qvs=function(a){a=a.replace(/\r\n|[\r\u2028\u2029]/g,"\n");a.endsWith("\n")||(a+="\n");return a};
Tvs=function(a,b){const c=b.x,d=b.y;for(const e of a)for(const {Uvo:f,Aac:g,y2b:h}of e.elements){a=f.ugd.left;b=f.ugd.top;uV(()=>{f.ugd.left=c+e.Aac+g;f.ugd.top=d+e.y2b+h});for(const k of f.z7n){const l=k.left-a,m=k.top-b;uV(()=>{k.left=c+e.Aac+g+l;k.top=d+e.y2b+h+m})}}};
Wvs=async function(a,b,c,d){const e=[];for(const g of c){const {top:h,left:k}=Svs(d,g).topLeftCorner||{top:0,left:0};c=a;var f=__c.Jqe({page:c.store.Zg.page,gb:c.gb,region:Yj({top:h,left:k,width:g.width,height:Nvs}).Lb(),wv:Uvs,dg:c.dg});c=Vvs(f);f=Rvs(f);(c=await a.oc.addText(Ovs(b,g.key),{Uc:"arrangement",v7:"none",m_:"default_title",Mra:"none"},{type:"v2",attrs:{"font-size":Pvs,color:c}},{zQf:!0,Tk:f},Svs(d,g)))&&e.push(c)}a.store.selection.jed(a.store.Zg,...e);return e};
Xvs=function(a,b){switch(b){case "color":return c=>{var d;if(c=(d=c.paths.first())===null||d===void 0?void 0:d.fill)return d=__c.Cw(c),d.length?JSON.stringify(d):c.color};case "author":return c=>{var d;return(d=__c.kk(c).BGb)===null||d===void 0?void 0:d.text.Ya};case "topic":return()=>{};case "reaction":return async c=>{if(c=await a.nYe.AHe(a.store.Zg.page,c))return c.toString()};default:throw new v(b);}};
Yvs=async function(a,b,c){const d=new Map;a=Xvs(a,b);for(const e of c){c=await a(e.ugd);const f=d.get(c);f?f.sxc.push(e):d.set(c,{key:c,sxc:[e]})}return b==="reaction"?[...d.entries()].sort(([e],[f])=>f?e?parseInt(f,10)-parseInt(e,10):1:-1).map(e=>e[1]):Array.from(d.values())};
aws=async function(a){a.store.state=1;const b=__c.Eb();let c;a.Ea(({onClose:e})=>{c=e;return gV(Zvs,{bRr:()=>b.resolve(void 0)})});let d;for(const [e,f]of a.sxc.entries())a.aPj.set(e,f);try{const e=a.store.sfh.map(f=>{var g,h;return((h=(g=f.fd.first())===null||g===void 0?void 0:g.text.Ya)!==null&&h!==void 0?h:"").replace(/\n/g," ")});d=await Promise.race([a.D4d().then(f=>f.inm({uMr:e,YXp:void 0}).then(async g=>g.type!=="SUCCESS"?g:await __c.Qh(async()=>{const h=await f.cVn({tc:g.tc});switch(h.status){case 1:case 2:return h.result;
case 3:break;default:throw new v(h.status);}},500,{...$vs}).result)),b.promise])}catch(e){a.ikh(),a.errorService.pa(e,"Error sorting elements by topic")}finally{c===null||c===void 0||c()}return d};bws=function(a,b){b=b.map(d=>a.aPj.get(d)).filter(d=>d!==void 0);const c=new Set(a.store.wm);return b.filter(d=>c.has(d.ugd))};Vvs=function(a){return Li(cws,b=>Math.abs(__c.fWa(Xh(b),Xh(a))))};
ews=function(a,b){const c=b.error,d=b.mPo,e=b.message;switch(c){case 1:case 2:case 3:case 3:a.Ea(()=>gV(dws,{title:d,message:e}));a.errorService.pa(e,"Error sorting elements by topic");break;case 2:case 4:case 1:Evs(a.alert,e);a.errorService.pa(e,"Error sorting elements by topic");break;default:throw new v(c);}};
mws=function({selection:a,document:b,ya:c,X:d,Ec:e,ka:f,oc:g,Ep:h,VXa:k,gb:l,undo:m,toolbar:p,Cd:q,ih:r,D4d:t,Qa:u,Jj:w,errorService:x,V:y,Ga:z,la:A,Ea:B,alert:D,$f:G,rf:I,dg:K,nYe:M,Yf:N}){const Q=new fws(a,c,d),R=__c.La(async()=>{if(d){var {j6p:ca}=await __webpack_require__.me(875664).then(()=>({j6p:__c.gws}));return await ca({Jj:w,X:d,Qa:u,ka:f,k4g:jV(qa=>{const ra=jV(()=>{e.U3b=void 0});e.U3b=()=>gV(qa,{onClose:ra})})})}},{Uwa:!0});c=z.Ud("editor.editing.cluster");const W=new hws(b,Q,p,a,g,h,
k,M,l,m,I,K,x,A,y,c,async()=>{const ca=await R();return ca===null||ca===void 0?void 0:ca()},B,D,t,G.nBi),X=()=>W.itc("floating_toolbar"),Z=()=>W.zD("floating_toolbar"),da=()=>W.Ltc("floating_toolbar"),la=()=>W.TZb("floating_toolbar"),ka={Qd:()=>Q.Mjh,Button:ca=>gV(iws,{...ca,Yf:N}),Su:{sg:()=>L("j0l+TQ")},na:iV(ca=>gV(jws,{tW:G.taj,itc:X,zD:Z,Ltc:da,TZb:la,oa:ca.oa,ka:f,Yf:N,lKd:Q.lKd}))};q.plugins.Zea=()=>ka;Q.mGj=ka;const pa=()=>W.itc("menu"),ja=()=>W.zD("menu"),ia=()=>W.Ltc("menu"),ba=()=>W.TZb("menu");
r.kc(()=>({Mjh:Q.Mjh,Fo:f.layout===2}),(ca,{Mjh:qa,Fo:ra})=>{if(qa){var sa=wa=>gV(kws,{...wa,itc:pa,zD:ja,Ltc:ia,TZb:ba,lKd:Q.lKd});ca.Zea={Button:wa=>gV(lws,{...wa,onClick:ra&&N?()=>{var Aa;return(Aa=wa.Jg)===null||Aa===void 0?void 0:Aa.dh({ff:sa,options:{sg:()=>L("j0l+TQ")}})}:wa.onClick,Yf:N}),na:sa};ca.gzh={Button:wa=>gV(vvs,{...wa,MQh:"color",onClick:pa})};ca.fzh={Button:wa=>gV(vvs,{...wa,MQh:"author",onClick:ja})};ca.izh=Q.lKd?{Button:wa=>gV(vvs,{...wa,MQh:"topic",onClick:ia})}:void 0;ca.hzh=
{Button:wa=>gV(vvs,{...wa,MQh:"reaction",onClick:ba})}}else ca.Zea=void 0,ca.gzh=void 0,ca.fzh=void 0,ca.izh=void 0,ca.hzh=void 0});return{NQh:W}};nws=function(a,b){a.container.page.elements.j4a(b,a.elements)};ows=function(a,b){a.container.page.elements.VYa(b,a.elements)};pws=function(a,b){var c;const d=b.elements;(a=(c=a.store.Gug)===null||c===void 0?void 0:c.last(e=>!d.includes(e)))&&nws(b,a)};
qws=function(a,b){var c;const d=b.elements;(a=(c=a.store.Gug)===null||c===void 0?void 0:c.first(e=>!d.includes(e)))&&ows(b,a)};sws=function(a,b){const c=a.selection.La;a.V.track(rws,{action:b,oD:c&&c.elements?c.elements.map(d=>d.type):void 0,ENr:c&&c.elements?c.elements.length:0,HC:a.store.Gs})};uws=function(a,b){a.V.track(tws,{action:b,kb:"mobile_toolbar"})};
Jws=function({selection:a,viewport:b,gb:c,Cni:d,ka:e,V:f,exk:g,xT:h,ih:k,UR:l,Lk:m,ya:p,Nl:q,zt:r,$f:t}){const u=new vws(p,a,c,g),w=new wws(u,b,d,e,a,l,k,f),x=N=>gV(q,{...N,nd:xws,sf:yws}),y=iV(N=>gV(zws,{...N,gb:c,o6:r,nd:xws})),z=N=>__c.jUb(h,N).name,A=iV(({element:N})=>{const Q=kV(W=>{w.VVk(W,N)},[N]),R=u.Pe;return R.type!=="fixed-page"?null:gV(Aws,{element:N,y$h:z,page:R,selected:u.wm.includes(N),Nl:x,onClick:w.EUk,lZa:w.lZa,onMouseEnter:w.dfi,onMouseLeave:w.Z3i,onContextMenu:Q,sfj:e.layout===
2?Bws:Cws,cic:k.cic})}),B=iV(()=>{const N=u.Pe;return N.page.type!=="fixed"?null:gV(Dws,{page:N.page,selected:u.SKh,onClick:w.owi,onMouseEnter:w.dfi,onMouseLeave:w.Z3i,onContextMenu:w.VVk,lZa:w.lZa,nTo:y,sfj:e.layout===2?Bws:Cws,cic:k.cic})}),D=iV(()=>gV(Ews,{onChange:w.U2s,Gs:u.Gs}));a=()=>{var N;m===null||m===void 0||(N=m.rN)===null||N===void 0||N.call(m,new ip)};const G=pV(()=>u.sVe),I=pV(()=>u.wm),K=__c.eFe({Sgf:u,Rgf:w,na:N=>gV(A,{element:N.item}),rN:a}),M=__c.eFe({Sgf:u,Rgf:w,na:N=>gV(A,{element:N.item}),
rN:a,MOe:"basic"});a=iV(({Au:N})=>gV(Fws,{layout:e.layout,lTo:B,hlp:D,t$i:M,Wqp:K,Au:N,sVe:G,yql:w.yql,wm:I,Dri:w.Dri}));b={Button:N=>{const Q=N.onClick,R=kV(()=>{Q===null||Q===void 0||Q();w.CHn()},[Q]);return nV(xV,{children:[gV(Gws,{...N,onClick:R}),(t===null||t===void 0?void 0:t.fBh)&&gV(t.fBh,{})]})},Su:{qma:iV(()=>gV(Hws,{KF:u.fRe,onClick:w.kCo})),sg:iV(()=>gV(Iws,{KF:u.fRe,wm:u.wm}))},na:a,onClose:jV(()=>{w.store.fRe="single";uws(w,"hidden")})};return{R8f:a,Zgp:b}};
cxs=function({selection:a,gb:b,ya:c,ka:d,V:e,Ga:f,isDragging:g,keyboardShortcuts:h,Ma:k,viewport:l,Cd:m,ih:p,we:q,xT:r,UR:t,Lk:u,Nl:w,zt:x,$f:y}){f=f.Ud("editor.editing.arrangement.layering");const z=new Kws(a,k,d),A=new Lws(z,a,e,f),B=Q=>A.akc(Q,"toolbar");k=iV(()=>gV(Mws,{display:"comfortable",oZr:B,Ekq:z.Urg,bkq:z.Hrg,Llq:z.Urg,Klq:z.Hrg}));h.register([Nws,()=>A.akc("forward","shortcut"),L("aTrwIA"),["edit"]],[Ows,()=>A.akc("backward","shortcut"),L("dsP+YA"),["edit"]],[Pws,()=>A.akc("front","shortcut"),
L("57tYtg"),["edit"]],[Qws,()=>A.akc("back","shortcut"),L("UcHnxQ"),["edit"]]);const D=()=>A.akc("forward","menu"),G=()=>A.akc("front","menu"),I=()=>A.akc("backward","menu"),K=()=>A.akc("back","menu");p.kc(()=>({qig:z.RN,WFp:z.b4h,JFp:z.a4h}),(Q,{qig:R,WFp:W,JFp:X})=>{!R||W&&X?(Q.xyh=void 0,Q.Mzc=void 0,Q.Nzc=void 0,Q.pAc=void 0,Q.qAc=void 0):(Q.xyh={Button:Rws},Q.Mzc={Button:Z=>gV(Sws,{...Z,onClick:D,jm:Nws,disabled:W})},Q.Nzc={Button:Z=>gV(Tws,{...Z,onClick:G,jm:Pws,disabled:W})},Q.pAc={Button:Z=>
gV(Uws,{...Z,onClick:I,jm:Ows,disabled:X})},Q.qAc={Button:Z=>gV(Vws,{...Z,onClick:K,jm:Qws,disabled:X})})},{equals:oV.shallow});q===null||q===void 0||q.Am(()=>z.RN&&!z.a4h,{type:"simple",key:"send-backward",name:L("u+2kVg"),Icon:__c.Bcr,jm:Ows,execute:async()=>I()},{type:"simple",key:"send-to-back",name:L("t3ZWGw"),Icon:Wws,jm:Qws,execute:async()=>K()});q===null||q===void 0||q.Am(()=>z.RN&&!z.b4h,{type:"simple",key:"bring-forward",name:L("Pxfk5A"),Icon:Xws,jm:Nws,execute:async()=>D()},{type:"simple",
key:"bring-to-front",name:L("pbaLlQ"),Icon:Yws,jm:Pws,execute:async()=>G()});const {R8f:M,Zgp:N}=Jws({selection:a,viewport:l,gb:b,Cni:A,ka:d,V:e,exk:g,ih:p,xT:r,ya:c,UR:t,Lk:u,Nl:w,zt:x,$f:y});m.plugins.Woa=()=>({Qd:()=>z.KYf,...N});m.plugins.Mzc=()=>({Qd:()=>z.KYf,Button:iV(Q=>gV(Zws,{...Q,onClick:D,disabled:z.Urg}))});m.plugins.Nzc=()=>({Qd:()=>z.KYf,Button:iV(Q=>gV($ws,{...Q,onClick:G,disabled:z.Urg}))});m.plugins.pAc=()=>({Qd:()=>z.KYf,Button:iV(Q=>gV(axs,{...Q,onClick:I,disabled:z.Hrg}))});m.plugins.qAc=
()=>({Qd:()=>z.KYf,Button:iV(Q=>gV(bxs,{...Q,onClick:K,disabled:z.Hrg}))});return{Q8f:k,R8f:M}};gxs=function({selection:a,update:b,getValue:c,PJb:d,jyb:e,label:f}){const g=new dxs,h=new exs(g,a,b);a=iV(()=>{lV(()=>jV(h.onBlur),[]);return gV(fxs,{value:g.value,disabled:d===null||d===void 0?void 0:d(),Gx:c(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:f,unit:e===null||e===void 0?void 0:e()})});return{store:g,Jjd:a}};
hxs=function(a,b,c){const {x:d,y:e}=c(b[0]),f=b.every(h=>JTi(c(h).x,d));b=b.every(h=>JTi(c(h).y,e));const g=ub.direction===2?a.width-d:d;a=a.units;return{x:f?LTi(xg(4,a,g),a):void 0,y:b?LTi(xg(4,a,e),a):void 0}};ixs=function(a){a=Yj(a);return ub.direction===2?a.tr:a.tl};lxs=function(a,b){var c=a.selection.La;if(c&&c.type==="elements"){var d=c.elements;if(d.length!==0&&d.every(jxs))return c=a.gb.$k(c.container.page),hxs(c,d,e=>kxs(a,e,b))}};
mxs=function(a,b,c){return a.re.TSa.has(c==="start"?b.start:b.end)};kxs=function(a,b,c){const {s:d,e}=(new __c.Un(a.re,b)).Iha;return c==="start"?d:e};jxs=function(a){return a.type==="line"};
nxs=function(a,b,c,d){var e;const f=c.elements,g=c.container.page;c=c.box;(e=a.V)===null||e===void 0||e.track(__c.Hph,{xGa:f.map(h=>h.type),Uc:d,dE:g.elements.count(),Xb:void 0,Jzl:b.x,Kzl:b.y,r4j:c===null||c===void 0?void 0:c.tl.x,s4j:c===null||c===void 0?void 0:c.tl.y,yWf:c===null||c===void 0?void 0:c.width,rWf:c===null||c===void 0?void 0:c.height})};
pxs=function(a,b,c,d,e){let f,g;if(e==null){const h=oxs[a][d];f=(k,l)=>h*l;g=oxs[a].small*.5}else f=(h,k)=>{let l=h+k*(e/2+.5);l=Math.round(l/e)*e;return l+(d==="small"?0:e*3*k)-h};switch(c){case "up":return{delta:{x:0,y:f(b.y,-1)},XWi:g};case "down":return{delta:{x:0,y:f(b.y,1)},XWi:g};case "left":return{delta:{x:f(b.x,-1),y:0},XWi:g};case "right":return{delta:{x:f(b.x,1),y:0},XWi:g};default:throw new v(c);}};
rxs=function(a,b,c,d,e,f){if(a.N){var {x:g,y:h}=e||{},{x:k,y:l}=f||{},{x:m,y:p}=c||{},{x:q,y:r}=d||{};a.N.track(qxs,{Coa:g,Qsb:h,Nnb:k,Onb:l,v$r:m,w$r:p,Q9r:q,R9r:r,units:__c.Qv(__c.Pv(b))})}};
sxs=function(a,b,c,d,e){var f=a.selection.La;if(f&&f.type==="elements"&&c.every(jxs)&&a.store.$Nh){f=a.gb.$k(f.container.page).units;b=Ov(f,b);var g=a.store.C7,h=a.store.E2a;for(const k of c){c=new __c.FZd(k,a.Hr.re);const {x:l,y:m}=kxs(a.store,k,d),p=e==="x"?new Bj(b,m):new Bj(l,b);d==="start"?__c.ree(c,p):c.setEndPoint(p)}rxs(a,f,g,h,a.store.C7,a.store.E2a)}};
xxs=function({selection:a,gb:b,Hr:c,toolbar:d,Cd:e,Zo:f,Wj:g,xX:h,$X:k,p9:l,V:m}){var p;const q=new txs(a,k),{QHn:r,hsc:t}=new uxs(q,a,c,b,g,l,m),u=jV((x,y)=>r(x,y,"keyboard"));h.register(["ArrowUp",()=>u("up","small"),L("B5NX3g"),["edit"]],["ArrowDown",()=>u("down","small"),L("SzdIhw"),["edit"]],["ArrowLeft",()=>u("left","small"),L("qpV6YA"),["edit"]],["ArrowRight",()=>u("right","small"),L("1v1q7g"),["edit"]],[Xo("ArrowUp"),()=>u("up","large"),L("B5NX3g"),["edit"]],[Xo("ArrowDown"),()=>u("down",
"large"),L("SzdIhw"),["edit"]],[Xo("ArrowLeft"),()=>u("left","large"),L("qpV6YA"),["edit"]],[Xo("ArrowRight"),()=>u("right","large"),L("1v1q7g"),["edit"]],[Yo("ArrowUp"),()=>u("up","small"),L("B5NX3g"),["edit"]],[Yo("ArrowDown"),()=>u("down","small"),L("SzdIhw"),["edit"]],[Yo("ArrowLeft"),()=>u("left","small"),L("qpV6YA"),["edit"]],[Yo("ArrowRight"),()=>u("right","small"),L("1v1q7g"),["edit"]],[Yo(Xo("ArrowUp")),()=>u("up","large"),L("B5NX3g"),["edit"]],[Yo(Xo("ArrowDown")),()=>u("down","large"),
L("SzdIhw"),["edit"]],[Yo(Xo("ArrowLeft")),()=>u("left","large"),L("qpV6YA"),["edit"]],[Yo(Xo("ArrowRight")),()=>u("right","large"),L("1v1q7g"),["edit"]]);const w=x=>r(x,"small","nudge");e.plugins.N0a=()=>({Qd:()=>q.VBj,Button:x=>gV(vxs,{...x,hsc:t}),Su:{sg:()=>L("aYsObw")},na:x=>gV(wxs,{...x,PG:w})});sy(f.controls,()=>q.uQg);(p=d.vE)===null||p===void 0||p.XQ(()=>q.uQg)};
yxs=function(a,b,c){var d,e,f;const g=a.selection.La,h=a.store.position,k=g===null||g===void 0?void 0:(d=g.box)===null||d===void 0?void 0:d.Lb();(f=a.N)===null||f===void 0||f.track(__c.Hph,{oD:g===null||g===void 0?void 0:(e=g.elements)===null||e===void 0?void 0:e.map(l=>jk(l)?"sticky_note":l.type),Uc:"position_panel",Xb:void 0,units:__c.Qv(__c.Pv(b)),Jzl:c===null||c===void 0?void 0:c.x,Kzl:c===null||c===void 0?void 0:c.y,r4j:h===null||h===void 0?void 0:h.x,s4j:h===null||h===void 0?void 0:h.y,yWf:k===
null||k===void 0?void 0:k.width,rWf:k===null||k===void 0?void 0:k.height})};
zxs=function(a){if(a&&a.type===1&&a.only){if(a.container.type==="marker"||a.container.type==="section-marker")return oa(a.container.container.type!=="break-item","Page break item cover cannot be directly selected"),{yEc:"body",OSa:__c.hVc.snapshot(a.only),text:a.container.container.text,ref:a.container.marker};if(a.only.type==="break"&&a.only.marker.Kg.ref)return{yEc:"break",OSa:__c.hVc.snapshot(a.only.marker.Kg.ref),text:a.container.text,ref:a.only.marker}}};
Gxs=function(a){const b=a.selection,c=a.Hb,d=a.V,e=a.Cd;var f=a.ih;const g=new Axs(a.oc,b,a.S3,a.Jg,a.nU,a.Ma,a.undo,c,a.rHc,d);f.kc(()=>g.nWf,(A,B)=>{A.FAc=B?{Button:iV(D=>gV(D.hl,{...D,lg:B==="set"&&c.Rd.Sjj?gV(c.Rd.Sjj,{}):void 0,Icon:B==="set"?__c.ocr:Bxs,label:B==="set"?L("R1qqvg"):L("+NqaGw"),onClick:B==="set"?g.ZSk:g.bTk}))}:void 0});e.plugins.FAc=()=>({Qd:()=>!!g.nWf,Button:iV(A=>gV(A.xi,{...A,icon:g.nWf==="set"?__c.ocr:Bxs,yh:"icon",tooltip:g.nWf==="set"?L("R1qqvg"):L("+NqaGw"),onClick:g.nWf===
"set"?g.ZSk:g.bTk}))});if(a.Ja!=="responsive"){var h=a.gb;f=a.Wj;var k=a.Hr,l=a.re,m=a.toolbar,p=a.Zo,q=a.xX,r=a.$X;a=a.p9;var t=new Cxs(b,h),u=new Dxs(t,b,h,d),w=()=>{var A=b.La;if(A&&A.type==="elements")return A=h.$k(A.container.page).units,` ${Exs(A)}`},{Jjd:x}=gxs({selection:b,update:u.kj,getValue:()=>{var A;return(A=t.position)===null||A===void 0?void 0:A.x},PJb:()=>t.F6k,jyb:w,label:"X"});({Jjd:u}=gxs({selection:b,update:u.Cj,getValue:()=>{var A;return(A=t.position)===null||A===void 0?void 0:
A.y},PJb:()=>t.F6k,jyb:w,label:"Y"}));var {tud:y,...z}=Fxs({Wj:f,selection:b,gb:h,Hr:k,re:l,jyb:w,V:d});xxs({selection:b,gb:h,Wj:f,Hr:k,toolbar:m,Cd:e,Zo:p,xX:q,$X:r,p9:a,V:d});return{tud:y,...z,wnj:x,xnj:u}}};
Fxs=function({Wj:a,selection:b,gb:c,Hr:d,re:e,jyb:f,V:g}){const h=new Hxs(b,c,e);a=new Ixs(a,h,b,c,d,g);({Jjd:c}=gxs({selection:b,update:a.wus,getValue:()=>{var k;return(k=h.C7)===null||k===void 0?void 0:k.x},PJb:()=>h.Izl,jyb:f,label:L("uiBQMQ")}));({Jjd:d}=gxs({selection:b,update:a.xus,getValue:()=>{var k;return(k=h.C7)===null||k===void 0?void 0:k.y},PJb:()=>h.Izl,jyb:f,label:L("/qrYnA")}));({Jjd:e}=gxs({selection:b,update:a.uus,getValue:()=>{var k;return(k=h.E2a)===null||k===void 0?void 0:k.x},
PJb:()=>h.q4j,jyb:f,label:L("cYMiqw")}));({Jjd:b}=gxs({selection:b,update:a.vus,getValue:()=>{var k;return(k=h.E2a)===null||k===void 0?void 0:k.y},PJb:()=>h.q4j,jyb:f,label:L("B+Mtdg")}));return{tud:a,Gkj:c,Hkj:d,gdj:e,hdj:b}};Jxs=function(a,b){return ub.direction!==2||a.store.G5d?Nj():__c.Uj(b.c,Aj(b.rotation),!0,!1)};Kxs=function(a,b,c){const {horizontal:d,vertical:e}=__c.yee(a.gaa,[b]);return c==="x"&&!!d||c==="y"&&!!e};
Lxs=function(a,b,c,d,e){var f,g,h=a.store.size;const k=h===null||h===void 0?void 0:h.width;h=h===null||h===void 0?void 0:h.height;const l=a.selection.La;a.N.track(__c.$Oh,{oD:b.map(m=>m.type),Uc:a.store.G5d?"keyboard":"position_panel",GMb:d,Xqb:e,ezg:k,wLm:h,tam:a.store.GSd,x:l===null||l===void 0?void 0:(f=l.box)===null||f===void 0?void 0:f.Lb().left,y:l===null||l===void 0?void 0:(g=l.box)===null||g===void 0?void 0:g.Lb().top,units:__c.Qv(__c.Pv(c))})};
Mxs=function(a){return __c.Xfg(a===3||a===2?"bottom":ub.direction===2?"left":"right",a)};Nxs=function(a,b,c){if(a!==null&&a!==void 0&&a.Qdd)switch(a.Qdd.type){case "table":var d;c=a.Qdd.D_i;a=a.Qdd.rows;b===null||b===void 0||(d=b.UZe)===null||d===void 0||d.call(b,c.table,c.container,a,"contextual_menu");break;case "sheet":b=a.Qdd.sheet;a=a.Qdd.rows;c===null||c===void 0||c.UZe(b,a.map(e=>e));break;default:throw new v(a.Qdd);}};
Oxs=function(a,b,c){if(a!==null&&a!==void 0&&a.U_c)switch(a.U_c.type){case "table":var d;c=a.U_c.D_i;a=a.U_c.columns;b===null||b===void 0||(d=b.NTf)===null||d===void 0||d.call(b,c.ha,c.container,a,"contextual_menu");break;case "sheet":b=a.U_c.sheet;a=a.U_c.columns;c===null||c===void 0||c.NTf(b,a.map(e=>e));break;default:throw new v(a.U_c);}};
Pxs=function(a,b,c){if(a!==null&&a!==void 0&&a.Rdd)switch(a.Rdd.type){case "table":var d;c=a.Rdd.D_i;a=a.Rdd.rows;b===null||b===void 0||(d=b.XZe)===null||d===void 0||d.call(b,c,"row",a,"contextual_menu");break;case "sheet":b=a.Rdd.sheet;a=a.Rdd.rows;c===null||c===void 0||c.KMi(b,a.map(e=>e));break;default:throw new v(a.Rdd);}};
Qxs=function(a,b,c){if(a!==null&&a!==void 0&&a.V_c)switch(a.V_c.type){case "table":var d;c=a.V_c.D_i;a=a.V_c.columns;b===null||b===void 0||(d=b.XZe)===null||d===void 0||d.call(b,c,"column",a,"contextual_menu");break;case "sheet":b=a.V_c.sheet;a=a.V_c.columns;c===null||c===void 0||c.Ede(b,a.map(e=>e));break;default:throw new v(a.V_c);}};
Rxs=function(a){switch(a.type){case "controlled":case "rect":case "shape":case "separator":case "layout":case "table":case "chart":case "embed":return a;case "design":var b;if(((b=a.Yw.ref)===null||b===void 0?void 0:b.type)==="sticky-scroll")break;return a;case "sheet":case "break":case "pill":break;default:throw new v(a);}};
Sxs=function(a,b,c){if(b.size>0&&c.size===0)return{Qdd:b.size>1?{type:"sheet",sheet:a,rows:b}:void 0,Rdd:{type:"sheet",sheet:a,rows:b}};if(c.size>0&&b.size===0)return{U_c:c.size>1?{type:"sheet",sheet:a,columns:c}:void 0,V_c:{type:"sheet",sheet:a,columns:c}}};
Zxs=function(a){const b=a.selection;var c=a.V,d=a.EPa;const e=a.Vi,f=new Txs(a.Ma,b),g=new Uxs(f,c,e);if(a.Ja!=="responsive"){var h;const r=a.gb,t=a.gaa,u=a.qe,w=a.ncb,x=a.Wj,y=a.viewport,z=a.tud;var k=a.Zo;var l=a.xX;var m=a.toolbar;const A=()=>{var N=b.La;if(N&&N.type==="elements")return N=r.$k(N.container.page).units,` ${Exs(N)}`},{store:B,Jjd:D}=gxs({selection:b,update:(N,Q)=>M.resizeTo(N,Q,"y"),getValue:()=>K.x5m,PJb:()=>!K.y5m,jyb:A,label:L("ve8EdA")}),{store:G,Jjd:I}=gxs({selection:b,update:(N,
Q)=>M.resizeTo(N,Q,"x"),getValue:()=>K.RPo,PJb:()=>!K.SPo,jyb:A,label:L("nImjeQ")}),K=new Vxs(f,b,r,t,B,G),M=new Wxs(K,g,b,u,t,d,e,r,w,c,x,y,z);c=iV(()=>gV(Xxs,{label:L("hCgNKA"),GSd:K.GSd,Ygf:K.Ygf,jwi:M.jwi}));d=(N,Q)=>jV(()=>M.gYr(N,Q));l.register([bl("ArrowLeft"),d("left","small"),L("ISKsQA"),["edit"]],[bl("ArrowRight"),d("right","small"),L("pjnYvA"),["edit"]],[bl("ArrowUp"),d("up","small"),L("MuydoQ"),["edit"]],[bl("ArrowDown"),d("down","small"),L("liTRpQ"),["edit"]],[bl(Xo("ArrowLeft")),d("left",
"large"),L("ISKsQA"),["edit"]],[bl(Xo("ArrowRight")),d("right","large"),L("pjnYvA"),["edit"]],[bl(Xo("ArrowUp")),d("up","large"),L("MuydoQ"),["edit"]],[bl(Xo("ArrowDown")),d("down","large"),L("liTRpQ"),["edit"]]);sy(k.controls,()=>K.G5d);(h=m.vE)===null||h===void 0||h.XQ(()=>K.G5d);k=K;l=M;m={pnj:I,xej:D,Qfj:c}}const p=k||f,q=l||g;a.ih.kc(()=>p.m0b,(r,t)=>{var u,w,x,y;const z={Button:iV(B=>gV(B.hl,{...B,Icon:__c.Lcr,label:L("g/5NUQ"),onClick:q.lBi}))},A={Button:iV(B=>gV(B.hl,{...B,Icon:__c.Hcr,label:L("h7cPEw"),
onClick:q.jBi}))};r.HXc=(t===null||t===void 0?void 0:(u=t.Qdd)===null||u===void 0?void 0:u.type)==="sheet"?z:void 0;r.QXc=(t===null||t===void 0?void 0:(w=t.Qdd)===null||w===void 0?void 0:w.type)==="table"?z:void 0;r.GXc=(t===null||t===void 0?void 0:(x=t.U_c)===null||x===void 0?void 0:x.type)==="sheet"?A:void 0;r.PXc=(t===null||t===void 0?void 0:(y=t.U_c)===null||y===void 0?void 0:y.type)==="table"?A:void 0;if(t===null||t===void 0?0:t.Rdd){const B=t.Rdd.rows.size;r.DAc={Button:iV(D=>gV(D.hl,{Icon:__c.Jcr,
label:J("2SUQmA",[B]),onClick:q.mBi,oa:D.oa}))}}else r.DAc=void 0;if(t===null||t===void 0?0:t.V_c){const B=t.V_c.columns.size;r.CAc={Button:iV(D=>gV(D.hl,{Icon:__c.Fcr,label:J("U4i6zQ",[B]),onClick:q.kBi,oa:D.oa}))}}else r.CAc=void 0;if(t===null||t===void 0?0:t.item){const B=t.item;r.GAc={Button:iV(D=>gV(D.hl,{...D,Icon:B.width==="100cqw"?Yxs:__c.zYp,label:B.width==="100cqw"?L("8zQa7Q"):L("oAhr9A"),onClick:g.vqh}))}}else r.GAc=void 0});return m||{}};
ays=function(a,b,c,d){var e,f;const g=(f=a.selection.La)===null||f===void 0?void 0:(e=f.box)===null||e===void 0?void 0:e.Lb(),{width:h,height:k,left:l,top:m}=g||{};a.N.track($xs,{oD:c,kb:d,width:h,height:k,x:l,y:m,rotation:a.store.rotation,O1k:b||0})};
dys=function({selection:a,yua:b,xX:c,toolbar:d,Zo:e,$X:f,V:g}){var h;const k=new bys(a,f),l=new cys(k,b,a,g);({Jjd:a}=gxs({selection:a,update:l.Pys,getValue:()=>k.rotation,PJb:()=>k.disabled,jyb:()=>"\u00b0",label:L("00WB4Q")}));b=(m,p)=>jV(()=>l.hYr(m,p));__c.$o(c,[Yo(","),b("left","small"),L("jthlfA"),["edit"]],[Yo("."),b("right","small"),L("oazzMw"),["edit"]],[Yo(Xo(",")),b("left","large"),L("jthlfA"),["edit"]],[Yo(Xo(".")),b("right","large"),L("oazzMw"),["edit"]]);sy(e.controls,()=>k.UQg);(h=
d.vE)===null||h===void 0||h.XQ(()=>k.UQg);return{ijj:a}};
kys=function(a,b){var c=b==="vertical"?eys:fys,d=b==="vertical"?gys:hys,e=b==="vertical"?iys:jys;a=a.map(k=>({element:k,box:Xj(Yj(k))})).slice();const f=a.sort(c)[0],g=a.sort(d).slice(-1)[0];c=a.filter(k=>k!==f&&k!==g).sort(e);d=b==="vertical"?f.box.b.y:f.box.r.x;e=b==="vertical"?g.box.t.y:g.box.Sb.x;const h=c.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);a=a.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);f===g&&h<d-e&&([d,e]=[e,d]);return{spacing:(e-d-h)/(c.length+1),LEe:d,
xni:e,first:f,middle:c,last:g,rDo:h,l2i:a}};eys=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.y-b.y;return lys(c)?a.x-b.x:c};gys=function(a,b){a=a.box.br;b=b.box.br;const c=a.y-b.y;return lys(c)?a.x-b.y:c};iys=function(a,b){return a.box.c.y-b.box.c.y};fys=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.x-b.x;return lys(c)?a.y-b.y:c};hys=function(a,b){a=a.box.br;b=b.box.br;const c=a.x-b.x;return lys(c)?a.y-b.y:c};jys=function(a,b){return a.box.c.x-b.box.c.x};lys=function(a){return Math.abs(a)<1E-4};
mys=function(a,b,c,d){const e=c==="left"?d-b.left:0;c=c==="top"?d-b.top:0;a.Hr.U1a([b]).translate(e,c);return Yj(b)};
qys=function({selection:a,Hr:b,Imd:c,keyboardShortcuts:d,V:e,yCe:f}){const g=new __c.rXi(c,f),h=new __c.qXi(g,b,a,e),k=()=>h.n3g("menu");a={Button:iV(m=>{var p;return gV(nys,{...m,type:(p=g.params)===null||p===void 0?void 0:p.type,onClick:k,disabled:g.xNe,jm:oys})})};const l=()=>h.n3g("toolbar");b=iV(()=>{var m;return((m=g.params)===null||m===void 0?void 0:m.type)!=null?gV(pys,{type:g.params.type,onClick:l,disabled:g.xNe}):null});d.register([oys,()=>!g.xNe&&h.n3g("shortcut"),L("WLw+ig"),["edit"]]);
return{Q0s:a,Slj:b,U0s:g}};
zys=function({selection:a,Hr:b,Imd:c,ka:d,keyboardShortcuts:e,V:f,Cd:g,ih:h,yCe:k}){const l=new rys(c),m=new sys(l,b,a,f),{Q0s:p,Slj:q,U0s:r}=qys({selection:a,Hr:b,Imd:c,keyboardShortcuts:e,V:f,yCe:k}),t=()=>m.AUe("vertical","menu"),u=()=>m.AUe("horizontal","menu");h&&h.kc(y=>{var z,A;return{rSp:(y===null||y===void 0?void 0:y.type)==="elements"&&y.Ji()&&!l.Rei,xNe:r.xNe,iqr:(z=l.Ifh)===null||z===void 0?void 0:z.oBk,$lr:(A=l.Ifh)===null||A===void 0?void 0:A.Sxk}},(y,{rSp:z,xNe:A,iqr:B,$lr:D})=>{!z||
A&&B&&D?(y.JXc=void 0,y.PDh=void 0,y.wDh=void 0,y.vDh=void 0):(y.JXc={Button:iV(G=>{var I;return gV(tys,{...G,T0s:(I=r.params)===null||I===void 0?void 0:I.type})})},y.PDh=p,y.wDh={Button:G=>gV(uys,{...G,onClick:t,disabled:B})},y.vDh={Button:G=>gV(vys,{...G,onClick:u,disabled:D})})},{equals:oV.shallow});const w=y=>m.AUe(y,"toolbar"),x=pV(()=>l.Rei?void 0:iV(()=>{var y,z;return gV(wys,{display:"comfortable",KTc:d.layout===1,AUe:w,Dlq:(y=l.Ifh)===null||y===void 0?void 0:y.Sxk,Elq:(z=l.Ifh)===null||z===
void 0?void 0:z.oBk,Slj:q})}));g.plugins.JXc=()=>({Qd:()=>d.layout===2&&!l.Rei,Button:y=>gV(xys,{...y}),Su:{sg:()=>L("8xqoHg")},na:()=>gV(yys,{coe:x.get()})});return{coe:x}};
Dys=function(a,b,c,d,e){var f=c[b];const g=d.get(c[a]),h=d.get(f),k=e==="x"||e==="y"?c.filter((r,t)=>{if(t===a||t===b)r=!1;else{r=d.get(r);const [u,w]=Ays(g,h,e);r=e==="x"?r.Sb.x>u.Sb.x&&r.r.x<w.r.x:r.t.y>u.t.y&&r.b.y<w.b.y}return r}):[],{mui:l,oui:m,lui:p}=(()=>{switch(e){case "grid":return{mui:new Bj(h.tl.x,h.tl.y),oui:new Bj(g.tl.x,g.tl.y),lui:[]};case "diagonal-two-element":return Bys(g,h);case "x":case "y":return Cys(g,h,k.map(r=>d.get(r)),e);default:throw new v(e);}})();f=(r,t)=>{r=d.get(r);
return Yj({top:t.y,left:t.x,width:r.width,height:r.height})};const q=new Map;for(let r=0;r<c.length;r++){const t=c[r];if(r===a){q.set(t,f(t,l));continue}if(r===b){q.set(t,f(t,m));continue}const u=k.indexOf(t);u!==-1?q.set(t,f(t,p[u])):q.set(t,d.get(t))}return q};Ays=function(a,b,c){return a.tl[c]<b.tl[c]?[a,b]:[b,a]};
Cys=function(a,b,c,d){const [e,f]=Ays(a,b,d);a=e===a?"forwards":"backwards";b=new Bj(d==="x"?f.tl.x-e.tl.x:0,d==="y"?f.tl.y-e.tl.y:0);const g=new Bj(d==="x"?f.width-e.width:0,d==="y"?f.height-e.height:0);d=f.translate(d==="x"?e.tl.x-f.tl.x:0,d==="y"?e.tl.y-f.tl.y:0);b=Hj(b,g);b=e.translate(b.x,b.y);c=c.map(h=>h.translate(g.x,g.y));return a==="backwards"?{mui:new Bj(d.tl.x,d.tl.y),oui:new Bj(b.tl.x,b.tl.y),lui:c.map(h=>new Bj(h.tl.x,h.tl.y))}:{mui:new Bj(b.tl.x,b.tl.y),oui:new Bj(d.tl.x,d.tl.y),lui:c.map(h=>
new Bj(h.tl.x,h.tl.y))}};Bys=function(a,b){const [c,d]=Ays(a,b,"y");a=c===a?"down":"up";let e;(c.Sb.x===Math.min(c.Sb.x,d.Sb.x)?"main":"anti")==="main"?(b=new Bj(d.br.x-c.width,d.br.y-c.height),e=new Bj(c.tl.x,c.tl.y)):(b=new Bj(d.Fn.x,d.Fn.y-c.height),e=new Bj(c.tr.x-d.width,c.tr.y));return{mui:a==="down"?b:e,oui:a==="down"?e:b,lui:[]}};
Eys=function(a){const b=ck(0,[Yj(a.elements[0])]);return a.elements.map(c=>{c=ck(0,[Yj(c)]);return`${c.width},${c.height},${c.rotation},`+`${Math.round((c.tl.x-b.tl.x)*1E5)/1E5},${Math.round((c.tl.y-b.tl.y)*1E5)/1E5}`}).join("|")};
Hys=function(a){var b;if(b=a.length!==1){a:{for(b=0;b<a.length-1;b++)if(!(Math.abs(a[b].c.x-a[b+1].c.x)<.5&&Math.abs(a[b].c.y-a[b+1].c.y)<.5)){b=!1;break a}b=!0}b=!b}if(b){a:{b=new Set;var c=new Set,d=new Set;for(var e=0;e<a.length;e++){var f=a[e];const g=Math.round(f.Sb.x);f=Math.round(f.t.y);const h=`${g}/${f}`;if(b.has(h)){b=!1;break a}b.add(h);c.add(g);d.add(f);if(c.size*d.size>a.length){b=!1;break a}}b=c.size<=1||d.size<=1||c.size*d.size<a.length?!1:!0}if(b)return"grid";b=Fys(a,"x");c=Fys(a,
"y");d=b?Gys(a,"x"):void 0;e=c?Gys(a,"y"):void 0;b=d!=null||e!=null?a.length!==2&&(d!=null&&e!=null||e==null&&d!==0&&b&&b[0]-b[1]===0||d==null&&e!==0&&c&&c[0]-c[1]===0)?"grid":d!=null&&e!=null?Math.abs(d)<Math.abs(e)?"x":"y":d!=null?"x":"y":void 0;!(c=a.length!==2)&&(c=b!=null&&b!=="grid")&&(c=a[0],a=a[1],d=ck(0,[c,a]),c=!(b==="x"?d.height>Math.max(c.height,a.height):d.width>Math.max(c.width,a.width)));return c?b:"diagonal-two-element"}};
Fys=function(a,b){let c=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const d of a)if(a=b==="x"?[d.t.y,d.b.y]:[d.Sb.x,d.r.x],c=[Math.max(c[0],a[0]),Math.min(c[1],a[1])],c[0]>c[1])return;return c};Gys=function(a,b){a=b==="x"?[...a].sort(Iys):[...a].sort(Jys);let c=0;for(let f=0;f<a.length-1;f++){var d=a[f],e=a[f+1];d=b==="x"?e.tl.x-d.tr.x:e.tl.y-d.Fn.y;d<0&&(c+=d)}return c};Iys=function(a,b){return a.tl.x-b.tl.x};Jys=function(a,b){return a.tl.y-b.tl.y};
Lys=function(a,b){if(__c.fk(ck(0,a),b))return b=Kys(a,b),a.indexOf(b)};Kys=function(a,b){return a.reduce((c,d)=>{const e=Fj(d.c,b);return e<c.distance?{box:d,distance:e}:c},{box:a[0],distance:Infinity}).box};Mys=function(a,b){a=a.store.bcb;return a!=null&&a.Puc!==b};
Qys=function(a,b,c,d){var e=a.Rhe;if(e==null)d();else{a.store.Kga=d;e=Nys([...e.elements],c);var f;a.t2=(f=a.t2)!==null&&f!==void 0?f:a.undo.startBuffering();try{const g=new Map(e.map(p=>[p,new Oys(Yj(p))]));a.store.hPn=e;a.store.WEd=g;const h=g.get(b).Icg.c,k=e.indexOf(b);if(k===-1)throw Error();const l=a.xhk(a.store.$Ci,h),m=Pys(a,k,l!==null&&l!==void 0?l:k,e,c);a.setState({key:l,CPb:c,Puc:b,MYg:m});a.store.Slg.set(a.store.bcb.key,m);a.cke(h)}catch(g){d(),a.CL()}}};
Pys=function(a,b,c,d,e){const f=a.store.WEd;return rd(a.e_p(b,c,d,a.store.P9r,e),(g,h)=>{h=f.get(h);g=g.tl;const k=h.container.tl;h=h.Icg.Lb();return Yj({...h,left:h.left+(g.x-k.x),top:h.top+(g.y-k.y)})})};Rys=function(a,b,c,d){d-=b.left;c-=b.top;a.Hr.U1a([b]).translate(d,c)};
Nys=function(a,b){const c=Sys();if(b==="grid"){const e=Math.max(...a.map(f=>{f=c(f);return f.left+f.width}));return a.sort((f,g)=>{f=c(f);g=c(g);return f.left+Math.round(f.top)*e-(g.left+Math.round(g.top)*e)})}const d=b==="x"||b==="diagonal-two-element"?"left":"top";return a.sort((e,f)=>e[d]-f[d])};Sys=function(){const a=new Map;return b=>{if(a.has(b))return a.get(b);const c=ck(0,[Yj(b)]).Lb();a.set(b,c);return c}};
Tys=function(a){switch(a.type){case "rect":return a.fill.video.ref!=null?"video":a.fill.image.ref!=null?"image":"color";case "group":return"group";case "grid":return"grid";case "text":return"text";case "shape":return"shape";case "table":return"table";case "chart":return"chart";default:return"other"}};
Uys=function(a){const b=[{mime:"text/plain",type:"text"},{mime:"text/html",type:"html"},{mime:"application/x-canva",type:"proto"}];let c=null;for(const d of b)if(a.getData(d.mime).length>0){c=d.type;break}return c};Vys=function(a){let b;a.cells.rB===1&&a.cells.Apa<=1&&a.forEach({item:c=>{b=c}});return b};Wys=function(a){const b=[];a.cells.Apa===1&&a.forEach({item:c=>b.push(c)});return b};Xys=function(a){const b=[];Wys(a).forEach(c=>{c.type==="rect"&&(c.fill.image||c.fill.video)&&b.push(c)});return b};
Yys=function(a){switch(a.ei.type){case "date":return{content:{...__c.qYc,value:__c.pyb(__c.Km(a.ei.date))},Ab:{...__c.FYc}};case "mention":return{content:{...__c.vYc,value:[{text:a.ei.text,user:a.ei.user,brand:a.ei.brand}]},Ab:{...__c.GYc}};case "select":return{content:{...__c.tYc,value:a.ei.text},Ab:{...__c.HYc,options:a.ei.options.map(b=>({label:b.label,fill:b.fill}))}};case "embed":return{content:{...__c.wYc,value:[{embed:{text:a.ei.text,url:a.ei.url}}]}};default:throw new v(a.ei);}};
$ys=function(a){const b=[];a.forEach(c=>{(c.fill.image||c.fill.video)&&b.push({fill:c.fill,Fx:void 0})});return b.length>0?{content:{...__c.uYc,value:b}}:{content:{...__c.tYc,value:a.map(c=>`<${Zys(c.type)}>`).join("\n")}}};
azs=function(a){switch(a.type){case "pill":return Yys(a);case "rect":return $ys([a]);case "embed":return{content:{...__c.wYc,value:[{embed:{text:a.altText?a.altText.text:a.url,url:a.url}}]}};case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "chart":case "separator":return{content:{...__c.yYc,value:dl.ld().Vb(`<${Zys(a.type)}>`).Vb("\n").build()}};default:throw new v(a);}};
Zys=function(a){switch(a){case "controlled":return console.warn("Controlled items are currently not supported. Call site:","richtext3ToSheetCell itemTypeToText"),"";case "rect":return L("Po4g+Q");case "shape":return L("3KoYQg");case "break":return L("vRuadQ");case "separator":return L("9Ah64A");case "embed":return L("blnNUw");case "pill":return L("sYyvAw");case "chart":return L("db+1ng");case "design":return L("rLM0FQ");case "layout":return L("3ljN7A");case "table":return L("SsLNlA");case "sheet":return L("j7viPg");
default:throw new v(a);}};bzs=async function(a,b,c){b.forEach(d=>{d.content.text.setAttributes(je(Je.Ff,()=>{}));d.content.text.Fua(a.content.text.cells.Ya());let e=0;a.content.text.forEach({...fe,Ya:(f,g)=>{f=f.length;d.content.text.setAttributes(g,{index:e,length:f});e+=f}})});c.mb().addEvent("content_added")};
czs=function(a,b){const c=b.At.rows.length;b=b.At.cols.length;const d=c*b;return c>a.zsb?(a.la.Ib({Cb:L("5Jz/og")}),!1):b>a.ysb?(a.la.Ib({Cb:L("V4HzaA")}),!1):d>a.hge?(a.la.Ib({Cb:L("DD0OAw")}),!1):!0};
dzs=function(a,b,c,d){b.layout.cells.forEach((e,f)=>{var g;if(((g=e.content.ref)===null||g===void 0?void 0:g.type)==="formula"){e=e.content.ref.value;switch(e.type){case "canonical":oa(e.Bf.length===0);e=e.zpa;break;case "invalid":e=e.bRc;break;default:throw new v(e);}e=e.trim().slice(1);var h,k=(h=__c.nee(a.JB,{type:0,zpa:e}))!==null&&h!==void 0?h:{type:1,Wka:e};c&&(k=a.mba.zSd(b,k,{ut:-c.B0b,ZR:-c.eTb}));Bz(d,l=>{l.naa(b,{row:f.Zb,column:f.dc},__c.Ehe(k.Wka))})}})};
ezs=function(a,b,c,d,e,f){var g;let h;const k=a.selection.La;if((k===null||k===void 0?void 0:(g=k.inner)===null||g===void 0?void 0:g.type)==="sheet"){var l,m;const q=k.type==="elements"?k.inner.sheet.config:k.inner.page.sheet,r=(l=a.Vi)===null||l===void 0?void 0:__c.wps(l,b.config,c,q,k.inner.cells.map(t=>t),d,e,f);r&&k.type==="elements"&&(f===null||f===void 0?0:f.yTc)&&((m=a.Wc)===null||m===void 0||Bz(m,t=>{for(const u of r)t.setAttributes(q,{row:u.row,column:u.column},{OJ:f.yTc})}));if(r===null||
r===void 0||!r.length)return;switch(k.type){case "elements":a.selection.G5a(k.inner.container,r[0],r[0],r);h=k.inner.sheet;break;case "pages":a.selection.q_a(k.inner.container,r[0],r[0],r);break;case "audio":break;default:throw new v(k);}}else{var p;e=(k===null||k===void 0?void 0:k.hp)||a.viewport.Zg.page;if(uf(e)||e.type==="responsive"||!czs(a,b.config))return;const q=e.elements.append(b);oa(q.type==="sheet");h=q;if(f===null||f===void 0?0:f.yTc)(p=a.Wc)===null||p===void 0||Bz(p,r=>{q.config.layout.cells.forEach((t,
u)=>{r.setAttributes(q.config,{row:u.Zb,column:u.dc},{OJ:f.yTc})})});a.Wc&&dzs(a,h.config,c,a.Wc)}d.mb().addEvent("content_added");return h};fzs=function(a,b,c,d,e,f,g,h){var k,l;const m=(k=a.Vi)===null||k===void 0?void 0:__c.wps(k,b.config,e,c.sheet.config,d,f,g,h);m&&(h===null||h===void 0?0:h.yTc)&&((l=a.Wc)===null||l===void 0||Bz(l,p=>{for(const q of m)p.setAttributes(c.sheet.config,{row:q.row,column:q.column},{OJ:h.yTc})}));m!==null&&m!==void 0&&m.length&&(__c.Hv(a.selection,c,m[0],m[0],m),f.mb().addEvent("content_added"))};
gzs=function(a,b,c,d,e,f){var g=a.selection.Jb;if((g===null||g===void 0?void 0:g.type)===4)fzs(a,b,g.container,g.cells.map(p=>p),c,d,e,f);else if((g===null||g===void 0?void 0:g.type)===0&&g.container.type==="sheet-item-cell-richtext"){var h,k;g=g.container.container;var l={row:g.row,column:g.column};(h=(k=a.mS).aqb)===null||h===void 0||h.call(k);fzs(a,b,g.container,[l],c,d,e,f)}else if(czs(a,b.config)){var m=a.Xa.QKc(b);if(m){oa(m.item.type==="sheet");if(f===null||f===void 0?0:f.yTc)(l=a.Wc)===null||
l===void 0||Bz(l,p=>{oa(m.item.type==="sheet");m.item.config.layout.cells.forEach((q,r)=>{oa(m.item.type==="sheet");p.setAttributes(m.item.config,{row:r.Zb,column:r.dc},{OJ:f.yTc})})});a.Wc&&dzs(a,m.item.config,c,a.Wc)}}};hzs=function(a,b){const c=__c.iOc.domain.cells.ld();b.forEach((d,e)=>c.add({top:e,left:0,bottom:e,right:0},{...Es,content:{...__c.tYc,value:d}}));a=__c.yke({Gb:a.Gb,RYb:1,SYb:b.length,...BId});return{...a,At:{...a.At,cells:c.build()}}};
izs=async function(a,b,c,d,e){var f,g;const h=a.selection.La,k=a.selection.Jb;if(dm(b).ok)return a.rBc(Yv(b),c);if((h===null||h===void 0?void 0:(f=h.inner)===null||f===void 0?void 0:f.type)==="table")a={...Ds,content:{...Cs,text:Mg.W4(`${b}\n`)}},await bzs(a,h.inner.cells,c);else if((h===null||h===void 0?void 0:(g=h.inner)===null||g===void 0?void 0:g.type)==="sheet"){var l;const r=h.type==="elements"?h.inner.sheet.config:h.inner.page.sheet,t=h.inner.cells;var m=b.split("\n").filter(u=>u.length>0);
if(m.length>1){var p;m=hzs(a,m);m={...NYc,top:0,left:0,width:m.At.cols.reduce((w,x)=>w+x.width,0),height:m.At.rows.reduce((w,x)=>w+x.height,0),id:a.Gb.Ag.generate(),config:m};const u=wMb.create(m);(p=a.Wc)===null||p===void 0||Bz(p,w=>{u.config.layout.cells.forEach((x,y)=>{x=__c.GSc.snapshot(x).content;oa((x===null||x===void 0?void 0:x.type)==="plaintext");w.EGa(u.config,{row:y.Zb,column:y.dc},x.value)})});p=wMb.snapshot(u);ezs(a,p,void 0,c,d,e)}else(l=a.Wc)===null||l===void 0||Bz(l,u=>{t.forEach(w=>
{u.EGa(r,w,b)})}),c.mb().addEvent("content_added")}else if((k===null||k===void 0?void 0:k.type)===4){var q;const r=k.container.sheet.config,t=k.cells;p=b.split("\n");if(p.length>1){p=hzs(a,p);p={...fZc,id:a.Gb.Ai.generate(),config:p};const u=cVc.create(p);(m=a.Wc)===null||m===void 0||Bz(m,w=>{u.config.layout.cells.forEach((x,y)=>{x=__c.ZUc.snapshot(x).content;oa((x===null||x===void 0?void 0:x.type)==="plaintext");w.EGa(u.config,{row:y.Zb,column:y.dc},x.value)})});p=cVc.snapshot(u);gzs(a,p,void 0,
c,d,e)}else(q=a.Wc)===null||q===void 0||Bz(q,u=>{t.forEach(w=>{u.EGa(r,w,b)})}),c.mb().addEvent("content_added")}else k!=null?a.Xa.A$b(dl.ld().attrs(a.uZq()).Vb(b).build()):await a.oc.addText(b.replace(/\t/g," "),{Uc:"paste",span:c}),c.mb().addEvent("content_added")};
jzs=async function(a,b,c){var d,e;const f=a.selection.La;if((f===null||f===void 0?void 0:(d=f.inner)===null||d===void 0?void 0:d.type)==="table")await bzs({...Ds,content:{...Cs,text:b}},f.inner.cells,c);else{d=b.cells.Ya();if(dm(d).ok)return a.rBc(Yv(d),c);if((f===null||f===void 0?void 0:(e=f.inner)===null||e===void 0?void 0:e.type)==="sheet"){var g;const h=f.type==="elements"?f.inner.sheet.config:f.inner.page.sheet,k=f.inner.cells,l=b.attrs.attributes["font-size"],m=b.attrs.attributes["font-family"];
(g=a.Wc)===null||g===void 0||Bz(g,p=>{k.forEach(q=>{var r=Mg.create(b);p.jCb(h,q,r);r={};l&&l.size!==0||(r.fontSize=BId.fontSize);m&&m.size!==0||!a.Tp.ZT||(r.fontFamily=a.Tp.ZT);Object.keys(r).length>0&&p.setAttributes(h,q,r)})})}else await a.oc.addText(d.replace(/\t/g," "),{Uc:"paste",span:c});c.mb().addEvent("content_added")}};
lzs=function(a,b,c){const d=a.selection.Jb;if((d===null||d===void 0?void 0:d.type)===4){var e;const g=b.cells.Ya();if(dm(g).ok)a.rBc(Yv(g),c);else{var f=kzs(b).content;(e=a.Wc)===null||e===void 0||Bz(e,h=>{d.cells.forEach(k=>{h.iCb(d.container.sheet.config,k,f)})});c.mb().addEvent("content_added")}}else return a=a.Xa.A$b(b),c.mb().addEvent("content_added"),a};mzs=function(a,b){if(!a.jMc||!a.jMc(b.media))return b.filter?{...b,filter:void 0}:b};nzs=function(a,b){if(!a.jMc||!a.jMc(b.video))return b};
qzs=async function(a,b,c,d){if(b.$i.size>0){const h=new ozs(__c.aAa(b.$i));c.pages&&(c.pages=c.pages.map(k=>h.Nlc(k)));c.elements&&(c.elements=h.uEc(c.elements));c.GH&&(c.GH=c.GH.map(k=>h.VVd(k)));d.mb().addEvent("text_styles_inlined")}if(b.ja==="")return{k5b:!0,...c};b=new __c.K8e({gJ:b.ja,extension:b.Kf});const e=__c.Lf(c);let f;try{f=await a.zq.TW(e,{type:"document",ref:b})}catch(h){f=!1}d.mb().addEvent("resources_loaded");const g=new pzs(a.vVq(),a.wVq(),f?void 0:h=>!a.$Cf(h));c.pages&&(c.pages=
c.pages.map(h=>g.Nlc(h)));c.tracks&&(c.tracks=c.tracks.map(h=>g.cKj(h)));c.wh&&(c.wh=c.wh.map(h=>g.Tza(h)));c.elements&&(c.elements=g.uEc(c.elements));c.GH&&(c.GH=c.GH.map(h=>g.VVd(h)));d.mb().addEvent("resources_normalized");return{k5b:f,...c}};rzs=function(a){const b=ls.snapshot(a);return a.type==="line"?{...b,...Yj(a).Lb()}:a.type==="chart"?(a=a.Xrc.get(),a==null?b:{...b,data:a}):b};
szs=function(a,b,c){const d=new Map;for(const f of b){var e;b=a.layout.cells.get(f.row,f.column);if((b===null||b===void 0?void 0:(e=b.ref.content.ref)===null||e===void 0?void 0:e.type)!=="formula")continue;const g=c===null||c===void 0?void 0:c.getContent(a,b.span.Zb,b.span.dc);g&&d.set(`${b.span.dc.id}:${b.span.Zb.id}`,g===null||g===void 0?void 0:g.DR)}return d};
tzs=function(a,b,c,d,e){const f=new Map,g=new Map,h=new Map,k=new Set,l=new Set,m=[],p=[];let q,r,t=1;for(const y of d){var u,w;d=c.gK(y.row);q=q!=null?Math.min(q,d):d;d=c.uK(y.column);r=r!=null?Math.min(r,d):d;d=c.layout.cells.get(y.row,y.column);const z=(d===null||d===void 0?void 0:d.span)||{Zb:y.row,dc:y.column,Ue:y.row,Ye:y.column},A=Kk(z.dc,z.Ye,c.layout.cols),B=Kk(z.Zb,z.Ue,c.layout.rows),D=`C${t++}`;var x=d===null||d===void 0?void 0:(u=d.ref)===null||u===void 0?void 0:u.content.ref;let G=x?
e(x):void 0;if((x===null||x===void 0?void 0:x.type)==="formula")switch(oa((G===null||G===void 0?void 0:G.type)==="formula"),x.value.type){case "invalid":break;case "canonical":x=__c.V7q(b,c,x.value);x=b.Jie(c,x);if(x.type!=="canonical")throw Error();G={...G,value:{...__c.oYc,zpa:x.zpa,Bf:[]}};break;default:throw new v(x.value);}g.set(D,{...Es,content:G,Ab:(d===null||d===void 0?0:(w=d.ref)===null||w===void 0?0:w.Ab.ref)?__c.SNc.snapshot(d===null||d===void 0?void 0:d.ref.Ab.ref):void 0});h.set(`${z.dc.id}:${z.Zb.id}`,
c.layout.attrs.get(Me.Js,z.Zb,z.dc)||{});for(const I of A){k.has(I.id)||(k.add(I.id),m.push(__c.bOc.snapshot(I)));for(const K of B)l.has(K.id)||(l.add(K.id),p.push(__c.aOc.snapshot(K))),f.set(`${I.id}:${K.id}`,D)}}return{sheet:{At:__c.xke(a.domain.cells,{cpa:g,UAc:f,cols:m,rows:p,_attributes:h}),G6:[],direction:c.direction,Cr:new Map,YT:__c.AId,nqa:!1,view:__c.LYc},metadata:{B0b:q!==null&&q!==void 0?q:0,eTb:r!==null&&r!==void 0?r:0}}};
uzs=function(a,b,c){return(d,e)=>{var f;const g=c===null||c===void 0?void 0:c.getContent(a.config,e.Zb,e.dc),h=a.config.layout.attrs.get(Me.Js,e.Zb,e.dc)||{};var k=__c.GUb(h.textAlign,d===null||d===void 0?void 0:d.type,g===null||g===void 0?void 0:(f=g.Ab)===null||f===void 0?void 0:f.type);k={...__c.H_e(h),"text-align":k};f={...Ds,content:{...Cs,text:Mg.ld().attrs(k).Vb("\n").build()}};if(!g)return f;k=Mg.zXi().attrs(k);switch(d===null||d===void 0?void 0:d.type){case void 0:case "embed":case "number":case "boolean":case "plaintext":case "media":case "mention":var l=
k.Vb(g.DR+"\n").build();break;case "formula":d=`${e.dc.id}:${e.Zb.id}`;(d=b===null||b===void 0?void 0:b.BFe.get(d))&&(l=k.Vb(d+"\n").build());break;case "text2":l=Mg.snapshot(d.value);l=k.append(l).build();break;default:throw new v(d);}return l?{...Ds,content:{...Cs,text:Mg.Lvb(l)},fill:{...ss,color:h===null||h===void 0?void 0:h.F_}}:f}};
vzs=function(a,b,c){return(d,e)=>{const f=a.config.layout.attrs.get(Me.Js,e.Zb,e.dc)||{};var g=__c.GUb(f.textAlign,d===null||d===void 0?void 0:d.type);g={...__c.Oy(f),textAlign:g};let h;(d===null||d===void 0?void 0:d.type)==="formula"?(d=`${e.dc.id}:${e.Zb.id}`,(d=b===null||b===void 0?void 0:b.BFe.get(d))&&(h=dl.ld().attrs(g).Vb(d+"\n").build())):d&&(h=c(a.config,d,e));return h?{...Ds,content:{text:h},fill:{...ss,color:f===null||f===void 0?void 0:f.F_}}:{...Ds,content:{...Cs,text:dl.ld().attrs(g).Vb("\n").build()}}}};
xzs=function(a){if(a)return[...a.entries()].map(([b,c])=>new wzs({...c,selection:b.slice(1)}))};Bzs=function(a,{aspectRatio:b,Qn:c,wb:d}){return new yzs({aspectRatio:b&&new zzs(b),Qn:c&&new Azs(c),wb:d&&a.GWf(d)})};Gzs=function(a){return new Czs({Wpa:a.Wpa.filter(tb).map(b=>new Dzs({boundingBox:new Ezs({left:b.boundingBox.Hkb,top:b.boundingBox.Jkb,width:b.boundingBox.width,height:b.boundingBox.height}),qaa:new Fzs({yd:b.qaa.yd,P5:b.qaa.P5.filter(tb),J9c:b.qaa.J9c})}))})};
Wzs=function(a){return __c.xd(a.map(b=>{switch(b.type){case "inpainting":return new Hzs({...b,mask:Izs(b.mask)});case "prompt_inpainting":var c=Izs(b.mask);a:{var d=b.jib;switch(d){case "normal":d=1;break a;case "color_harmonized":d=2;break a;case "phoenix":d=3;break a;default:throw new v(d);}}return new Jzs({...b,mask:c,jib:d});case "text_breakout_inpainting":return new Kzs({un:b.un});case "bg_remover":return new Lzs(b);case "erase_restore":return new Mzs({...b,mask:new Nzs(b.mask)});case "prompt_editing":return new Ozs({...b,
mask:b.mask?Izs(b.mask):void 0});case "outpainting":return new Pzs({...b});case "segmentation_bg_remover":return new Qzs({mask:Izs(b.mask)});case "image_merge":return new Rzs({...b,q4a:new Szs({...b.q4a,EB:b.q4a.EB&&new Tzs({...b.q4a.EB})})});case "bg_generation":return new Uzs(b);case "style_transfer":return new Vzs(b);default:throw new v(b);}}))};Zzs=function(a){return __c.xd(a.map(b=>new Xzs({mask:Izs(b.mask),Li:b.Li&&new Yzs(b.Li),HK:b.HK&&xzs(b.HK)||[]})))};
Izs=function(a){switch(a.type){case "mask_selection":return new Nzs(a);case "segmentation_mask":const {points:c,CKa:d,...e}=a;a=__c.hBf(__c.xd(c));a:switch(d){case "standard":var b=1;break a;case "more":b=2;break a;default:throw new v(d);}return new $zs({...e,points:a,CKa:b});case "adaptive_brush_mask":return new aAs(a);case "foreground_mask":return new bAs({region:2});case "background_mask":return new bAs({region:1});default:throw new v(a);}};
cAs=function(a,{aspectRatio:b,Qn:c,wb:d}){return{aspectRatio:b&&{...b},Qn:c&&{...c},wb:d&&a.rof(d)}};dAs=function(a){return a!==null&&a!==void 0&&a.length?new Map(a.map(b=>[`#${b.selection}`,b])):__c.Ky.HK};eAs=function(a){return{Wpa:a.Wpa.map(b=>{const c=b.boundingBox;return{boundingBox:{...c,Hkb:c.left,Jkb:c.top},qaa:{...b.qaa}}})}};
gAs=function(a){return a.map(b=>{switch(b.type){case "INPAINTING":return{...b,type:"inpainting",mask:fAs(b.mask)};case "PROMPT_INPAINTING":var c=fAs(b.mask);a:{var d=b.jib;switch(d){case 1:d="normal";break a;case 2:d="color_harmonized";break a;case 3:d="phoenix";break a;default:throw new v(d);}}return{...b,type:"prompt_inpainting",mask:c,jib:d};case "TEXT_BREAKOUT_INPAINTING":return{type:"text_breakout_inpainting",un:b.un};case "BG_REMOVER":return{...b,type:"bg_remover"};case "ERASE_RESTORE":return{type:"erase_restore",
mask:{...b.mask,type:"mask_selection"}};case "PROMPT_EDITING":return{...b,type:"prompt_editing",mask:b.mask?fAs(b.mask):void 0};case "OUTPAINTING":return{...b,type:"outpainting"};case "SEGMENTATION_BG_REMOVER":return{type:"segmentation_bg_remover",mask:fAs(b.mask)};case "IMAGE_MERGE":return{...b,zg:b.Avi,type:"image_merge"};case "BG_GENERATION":return{...b,type:"bg_generation"};case "STYLE_TRANSFER":return{...b,type:"style_transfer"};default:throw new v(b);}})};
hAs=function(a){return a.map(b=>({mask:fAs(b.mask),Li:b.Li&&{...b.Li},HK:b.HK&&dAs(b.HK)}))};
fAs=function(a){switch(a.type){case "MASK_SELECTION":return{...a,type:"mask_selection"};case "SEGMENTATION_MASK":var b=a.iUa,c=a.points?__c.fBf(a.points.xs,a.points.ys):[];a:{var d=a.CKa;switch(d){case 1:d="standard";break a;case 2:d="more";break a;default:throw new v(d);}}return{...a,type:"segmentation_mask",iUa:b,points:c,CKa:d};case "ADAPTIVE_BRUSH_MASK":return{...a,type:"adaptive_brush_mask"};case "FGBG_MASK":return{type:a.region===1?"background_mask":"foreground_mask"};default:throw new v(a);
}};kAs=function(a,b,c){const d=[],e=[];b.forEach(g=>{var h;const k=(h=a.xM)===null||h===void 0?void 0:h.DDe(g.image.ref);k&&d.push(k);e.push(bh.V3(es.snapshot(g)))});const f=iAs(d);b={contentType:"page_backgrounds",lZb:b.length};return{aTb:new jAs({...c,wh:e,fill:e[0],Gbe:f}),sue:b}};
lAs=function(a,b,c,d,e){const {sheet:f,metadata:g}=tzs(__c.BBa,a.JB,c,b,k=>__c.FSc.snapshot(k)),h=[...b].sort((k,l)=>c.layout.rows.Yi(k.row,l.row)||c.layout.cols.Yi(k.column,l.column))[0];d=Hj(d,new Bj(c.Ad(h.column),c.rd(h.row)));a=a.Wc?szs(c,b,a.Wc):new Map;return{sheet:{...NYc,id:e,config:f,top:d.y,left:d.x,width:f.At.cols.reduce((k,l)=>k+l.width,0),height:f.At.rows.reduce((k,l)=>k+l.height,0)},metadata:{...g,BFe:a}}};
mAs=async function(a,b,c){var d,e=a.selection.La;const f=e&&e.type==="pages"?e:void 0;e=!0;let g=b.wh.map(k=>Qps(bh.lY(k)));c.mb().addEvent("proto_deserialized");a.session!==b.session&&({k5b:e,wh:g}=await qzs(a.FBb,b,{wh:g},c));c.mb().addEvent("content_normalized");const h=a.viewport.Zg;((d=a.timing)===null||d===void 0?0:d.Ws)&&h.type==="fixed-page"?(d=__c.eSd(a.qd,h.page.Jc,a.timing.DG),a.WV.Btn(g,d,b.width,b.height)):a.WV.fun(g[0],b.width,b.height,f);c.mb().addEvent("content_added");return e};
nAs=async function(a,b,c){if(!a.Pp.JEj({eGl:b.tracks.length}))return c.abort(),!1;let d=b.tracks.map(f=>__c.sde(qu,bh.wXh(f)));c.mb().addEvent("proto_deserialized");let e=!0;b.session!==a.session&&({k5b:e,tracks:d}=await qzs(a.FBb,b,{tracks:d},c));c.mb().addEvent("content_normalized");uV(()=>{var f;const g=(f=__c.Mi(d,k=>{var l;return(l=k.startUs)!==null&&l!==void 0?l:0}).startUs)!==null&&f!==void 0?f:0,h=a.Pp.Fbi()-g;d=d.reduce((k,l)=>{var m;const p=((m=l.startUs)!==null&&m!==void 0?m:0)+h;p<=a.Pp.dQe&&
k.push({...l,startUs:p});return k},[]);f=a.jEa.document.audio.tracks.Bda(void 0,d);c.mb().addEvent("content_added");__c.Nde(a.selection,f)});return e};
qAs=function(a,b,c,d,e){var f;b=oAs(b,{width:d,height:e,units:4},a.gb.$k(c.page),a.viewport.jz().transform(a.viewport.Ql(c)),pAs(a,c));d=__c.Mi(b,l=>Math.min(...Yj(l).oh().map(m=>m.y)));const g=Yj(d);d=l=>c.page.elements.some(m=>{m=Yj(m);const p=g.transform(Oj(l,l));return m.approximatelyEquals(p)});let h=0;for(;d(h);)h+=__c.Hk;if((f=a.timing)===null||f===void 0?0:f.Ws){f=a.timing.DG;var k;d=(k=__c.Mi(b,m=>{var p;return(p=m.startUs)!==null&&p!==void 0?p:0}).startUs)!==null&&k!==void 0?k:0;const l=
f-d;b=b.map(m=>{var p;const q=((p=m.startUs)!==null&&p!==void 0?p:0)+l;p=m.durationUs!=null?m.durationUs:m.type!=="rect"&&m.type!=="layout"||m.fill.video==null?5E6:a.qd.LVb(m.fill.video)||5E6;return{...m,startUs:q,durationUs:p}})}return b.map(l=>__c.uw(l,Oj(h,h)))};pAs=function(a,b){const c=a.hMa.store.L_;if((c===null||c===void 0?void 0:c.page)===b.page)return a.viewport.Ql(b).transformPoint(c.position)};
rAs=function(a,b,c,d){var e,f,g,h;c={width:c,height:d,units:4};c=b.dimensions||c;d=a.jEa.document.dimensions;return((f=a.jEa.doctype)===null||f===void 0?0:(e=f.Rc)===null||e===void 0?0:e.PMa)||((h=a.jEa.doctype)===null||h===void 0?0:(g=h.Rc)===null||g===void 0?0:g.jfb)?(e=d.width/c.width,e=Bg(c)?d:{width:c.width*e,height:c.height*e,units:4},__c.doe(c,e,e,b,a.Gb)):a.c3c&&Bg(c)||b.sheet!=null?{...b,dimensions:c}:__c.aoe(c,d,b,a.Gb)};
oAs=function(a,b,c,d,e){if(!a.length)return[];const f=ck(0,a.map(Yj));b=Bg(b)?f:Yj({left:0,top:0,...yg(4,b)});const g=!Bg(c),h=g?Yj({left:0,top:0,...yg(4,c)}):void 0;c=f;!h||h.approximatelyEquals(b)||__c.ek(h,f)||(c=__c.Bde(f.transform(Rj(f.tl,h.tl)),h.tl,h));if(!g)c=c.transform(e?Rj(c.c,e):Rj(c.c,d.c));else if(h&&!bk(c,d)){var k;e=(k=bk(h,d))!==null&&k!==void 0?k:d;c=c.transform(Rj(c.c,e.c))}const l=Nj().then(Rj(f.tl,c.tl)).then(__c.Tj(c.tl,c.width/f.width));return a.map(m=>__c.uw(m,l))};
iAs=function(a){return a.map(b=>new sAs({value:b&&tAs.serialize(b)}))};uAs=function(a){switch(a){case "solid":return __c.hge([]);case "dotted":return __c.hge([1,1]);case "dashed":return __c.hge([3,1]);default:throw new v(a);}};vAs=function(a){const b=[];a.cells.Apa===1&&a.forEach({item:c=>b.push(c)});return b};wAs=function(a){return a<=0?"solid":a===1?"dotted":"dashed"};
xAs=function(a,b,c){const d=fV.element("td");(a=c===null||c===void 0?void 0:c.getContent(a,b.row,b.column))&&d.setContent(a.DR);return d};yAs=function(a,b){const c=new Map;for(const {row:d,column:e}of b)(b=__c.Fde(__c.CId,a,e,d))&&c.set(Pps(e,d),b);return c};zAs=function(a){const b=new Map;for(const c of a.layout.rows)for(const d of a.layout.cols){const e=__c.Fde(__c.CId,a,d,c);e&&b.set(Pps(d,c),e)}return b};
AAs=function(a){if(a.Xdf){var b=a.Xdf.transform();if(b.cells.Ya().trim().length!==0){var c=__c.sQb(a.Pi,b,1,"em-square"),d=__c.Yn(c,a.container.width);c.destroy();b={...__c.Is,id:a.Gb.Ag.generate(),top:a.cmc,left:0,width:d.width,height:d.height,text:b,Wn:1,Vu:1,Jf:{Yh:d.Yh}};a.elements.push(b);a.cmc+=d.height}}};yV=function(a){a.I$==null||a.lgn(a.I$)||a.aMa("\n")};
BAs=function(a,b,c){const d={},e=()=>{zV(Wss(c,a),h=>{d["font-size"]=h});var g=its(c,a);zV(g?g*1E3:void 0,h=>{d.leading=h});g=mts(c,a);zV(g?g*1E3:void 0,h=>{d.tracking=h});zV(cts(c,a),h=>{d["text-transform"]=h});g=ets(c,a);zV(g,h=>{d.direction=h});zV(Yss(c,a,g),h=>{d["text-align"]=h});g=Zss(a);zV(g,h=>{d["list-level"]=h});zV(g?g*1700:void 0,h=>{d["head-indent"]=h});zV($ss(a),h=>{h!=="checked"&&h!=="unchecked"&&(d["list-marker"]=h)});zV(nts(a),h=>{d.semantics=h})},f=()=>{zV(Xss(c,a),g=>{d["font-weight"]=
g});zV(ats(c,a),g=>{d["font-style"]=g});zV(Pss(c,a),g=>{d.color=g});zV(bts(c,a),g=>{d.decoration=g});zV(dts(c,a),g=>{d.strikethrough=g});zV(yqs(a),g=>{d.link=g})};switch(b){case "block":e();f();break;case "inline":f();break;default:throw new v(b);}return d};zV=function(a,b){a!=null&&b(a)};CAs=function(a){a.Heb&&(a.TWa.push(a.Heb),a.Heb=void 0)};DAs=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};
FAs=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":d=Mg.OI.deserialize(d.text);const k=fV.element("div");(new EAs(d)).transform().forEach(q=>{k.appendChild(q)});return k;case "GROUP":const l=fV.element("div");FAs(a,d.nb).forEach(q=>l.appendChild(q));return l;case "TABLE":return d=bh.$xe(d),oqs(a.GPa,d,q=>{const r=fV.element("td");(new EAs(q)).transform().forEach(t=>r.appendChild(t));return r});case "SHEET":d=__c.DBa(bh,d);const m=wMb.create(d),p=c===null||c===void 0?void 0:c.sheets[d.id];
d=p?p.cells?yAs(p.sheet,p.cells):zAs(p.sheet):zAs(m.config);return(new GAs(m.config,(q,r)=>{switch(q.type){case "text2":const t=fV.element("td");r=Mg.snapshot(q.value);(new EAs(r)).transform().forEach(w=>t.appendChild(w));return t;default:q=(p===null||p===void 0?void 0:p.sheet)||m.config;const u=n(q.A0b(r.row.id));r=n(q.dTb(r.column.id));return xAs(q,{row:u,column:r},a.Wc)}},d)).transform();case "SHAPE":var e;if(!d.fd.length)break;var f=__c.Pn.create(bh.sFc(d)),g=n(f.fd.first());d=g.text.Ya.trim();
if(!d)break;var h;f=jk(f)?(h=(e=f.fd.next(g))===null||e===void 0?void 0:e.text.Ya.trim())!==null&&h!==void 0?h:"":"";if(!f)return f=fV.element("p"),f.setContent(d),f;e=fV.element("table");g=e.appendChild(fV.element("tr"));h=g.appendChild(fV.element("td"));g=g.appendChild(fV.element("td"));h.setContent(d);g.setContent(f);return e;case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new v(d);}}).filter(tb)};
HAs=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":return Mg.OI.deserialize(d.text).cells.Ya().trim();case "GROUP":return HAs(a,d.nb);case "TABLE":var e=bh.$xe(d);return nqs(a.GPa,e);case "SHEET":e=__c.DBa(bh,d);var f=wMb.create(e);d=c===null||c===void 0?void 0:c.sheets[e.id];const h=(d===null||d===void 0?void 0:d.sheet)||f.config;return a.vph.serialize(e.config,l=>l(h));case "SHAPE":if(!d.fd.length)break;var g=__c.Pn.create(bh.sFc(d));const k=n(g.fd.first());d=k.text.Ya.trim();if(!d)break;
g=jk(g)?(f=(e=g.fd.next(k))===null||e===void 0?void 0:e.text.Ya.trim())!==null&&f!==void 0?f:"":"";return d+(g?` \u2014 ${g}`:"");case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new v(d);}}).filter(tb).join("\n")};
KAs=function(a,b){const c=a.grid.Xv;var d=b.map(l=>IAs(l,c));const e=JAs(d.map(l=>l.gridColumnStart)),f=JAs(d.map(l=>l.gridRowStart));var g=a.grid.gridTemplateColumns.filter((l,m)=>e.includes(m+1));d=a.grid.gridTemplateRows.filter((l,m)=>f.includes(m+1));g=g.map(l=>parseFloat(l));const h=Math.min(...g),k=h<1?1/h:1;g=g.map(l=>`${l*k}fr`);return{Cp:a.Cp,grid:{gridTemplateColumns:g,gridTemplateRows:d,columnGap:a.grid.columnGap,rowGap:a.grid.rowGap,Xv:new Map(b.map(l=>{const m=IAs(l,c),p=e.indexOf(m.gridColumnStart)+
1,q=f.indexOf(m.gridRowStart)+1;__c.ta(m.gridColumnStart+1,m.gridColumnEnd);__c.ta(m.gridRowStart+1,m.gridRowEnd);return[l,{...__c.zn,alignSelf:m.alignSelf,padding:m.padding,gridColumnStart:p.toString(),gridColumnEnd:(p+1).toString(),gridRowStart:q.toString(),gridRowEnd:(q+1).toString()}]}))}}};
IAs=function(a,b){a=b.get(a);b=d=>{d=parseInt(d!==null&&d!==void 0?d:"1",10);oa(!isNaN(d),"Invalid placement position");return isNaN(d)?1:d};var c;return{alignSelf:a===null||a===void 0?void 0:a.alignSelf,padding:(c=a===null||a===void 0?void 0:a.padding)!==null&&c!==void 0?c:__c.kYc,gridColumnStart:b(a===null||a===void 0?void 0:a.gridColumnStart),gridRowStart:b(a===null||a===void 0?void 0:a.gridRowStart),gridColumnEnd:b(a===null||a===void 0?void 0:a.gridColumnEnd),gridRowEnd:b(a===null||a===void 0?
void 0:a.gridRowEnd)}};
NAs=function(a,b,c,d,e){const f=[];b.forEach({item:m=>{f.push(LAs(m));if(m.type==="sheet"&&!c.has(m.id)){var p=cVc.create(m);p=a.Wc?szs(p.config,p.config.layout.cells.map((q,r)=>({row:r.Zb,column:r.dc})),a.Wc):new Map;c.set(m.id,{B0b:0,eTb:0,BFe:p})}}});var g=__c.nLr(a.Xa),h=a.xM&&g?__c.uKf(a.xM,[...g.items.values()]):[];g===null||g===void 0||g.disconnect();g=h.map(m=>new sAs({value:m&&tAs.serialize(m)}));const {media:k,Bc:l}=__c.Lf({GH:[b]});h={contentType:"richtext3",lZb:f.length,oD:f.join(", "),
GD:[...k.map(m=>m.id),...l]};b=bh.O5a(b);return{aTb:new MAs({...e,Oc:b,Gbe:g,Swc:c}),sue:h,HDc:d}};QAs=function(a,b,c,d,e,f,g,h,k){b.type==="table"?a.CB.osi(d,e,f,b,!0,"clipboard"):b.type==="sheet"?(c=c!=null?h===null||h===void 0?void 0:h.get(c):void 0,b=OAs(a,b,c),a.CB.osi(d,e,f,b,!0,"clipboard")):PAs(a,b,g,k)};
SAs=function(a,b,c,d,e,f,g,h){c=c!=null?e===null||e===void 0?void 0:e.get(c):void 0;b.type==="sheet"?gzs(a.AWa,b,c,f,g,h):b.type==="table"?(b=(new RAs(a.Gb,k=>kzs(a.sR.config.oGg(k)),__c.FAa,k=>{if(!a.Wc)return k;const l=__c.bVc.create(k);Bz(a.Wc,m=>{l.layout.cells.forEach((p,q)=>{p.content.ref&&p.content.ref.type==="text3"&&m.afc(l,{column:q.dc,row:q.Zb},p.content.ref.value)})});return __c.bVc.snapshot(l)},b)).transform(),b={...fZc,id:a.Gb.Ai.generate(),config:b},gzs(a.AWa,b,c,f,g,h)):PAs(a,b,d,
f)};PAs=function(a,b,c,d){b=TAs(a,b);const e=dl.ld();for(f of b)e.append(f);var f=dl.Lvb(e.build());UAs(a,f.slice(0,f.length-1),c,d)};
UAs=function(a,b,c,d){var e,f,g;const h=((e=a.selection.La)===null||e===void 0?void 0:e.type)==="pages"&&((f=a.selection.La.Od)===null||f===void 0?void 0:f.type)==="responsive"?a.selection.La.Od:void 0;h&&a.Xa.Qu(h.text,Rw.end());b=lzs(a.AWa,b,d);(b=b===null||b===void 0?void 0:b.wIj())&&b.items.size>0&&((g=a.xM)===null||g===void 0||__c.sKf(g,[...b.items],c));b===null||b===void 0||b.disconnect()};WAs=function(a,b,c){return VAs(a)&&!c.marker.Kg.ref&&b.width==="100cqw"};
TAs=function(a,b){switch(b.type){case "table":return[...b.cells.values()].filter(({content:{text:d}})=>d.cells.Apa>1||d.cells.rB>0).map(d=>d.content.text);case "sheet":const c=cVc.create(b);return c.config.layout.cells.map((d,e)=>d.content.ref?XAs(a,c.config,d.content.ref,e):void 0).filter(tb);case "layout":return[...b.cells.values()].filter(({text:d})=>d.cells.Apa>1||d.cells.rB>0).map(d=>d.text);default:throw new v(b);}};
XAs=function(a,b,c,d){var e,f,g=__c.me(Me,b.layout.attrs.get(Me.Js,d.Zb,d.dc)||{});const h=(e=a.Wc)===null||e===void 0?void 0:e.getContent(b,d.Zb,d.dc);b=__c.GUb(g.textAlign,c.type,h===null||h===void 0?void 0:(f=h.Ab)===null||f===void 0?void 0:f.type,h?()=>h.VC.type:void 0);f={...__c.Oy(g),textAlign:b};g=h===null||h===void 0?void 0:h.DR;if(b=h===null||h===void 0?void 0:h.Ab)switch(b.type){case "date":if(c.type==="number"&&(b=__c.qyb(c.value)))return dl.ld().attrs(f).item(YAs(b,g,a.jEa.document.language)).Vb("\n").build();
break;case "select":if(g)return dl.ld().attrs(f).item(ZAs(g,b.options)).Vb("\n").build()}switch(c.type){case "number":case "formula":case "boolean":case "plaintext":return g&&g.length>0?dl.ld().attrs(f).Vb(`${g}\n`).build():void 0;case "media":if(c.value.count()===0)break;const k=dl.ld().attrs(f);c.value.forEach(p=>k.item($As(p)));return k.Vb("\n").build();case "mention":if(c.value.count()===0)break;const l=dl.ld().attrs(f);c.value.forEach(p=>l.item({...__c.lZc,ei:{type:"mention",...p}}));return l.Vb("\n").build();
case "embed":if(c.value.count()===0)break;const m=dl.ld().attrs(f);c.value.forEach(p=>m.item({...__c.lZc,ei:{type:"embed",...p.embed}}));return m.Vb("\n").build();case "text3":return a=dl.snapshot(c.value),a.cells.Apa>1||a.cells.rB>0?dl.ld().attrs(f).append(a).build():void 0;default:throw new v(c);}};OAs=function(a,b,c){b=cVc.create(b);c=(new aBs(vzs(b,c,(d,e,f)=>XAs(a,d,e,f)),b.config)).transform();return{...__c.eZc,...c}};
VAs=function(a){const b=a.selection.Jb;if(!b||b.container.type!=="body"&&b.container.type!=="responsive-page")return!1;switch(b.type){case 0:return a.Xa.Qma(b.container.text,b.range,Rw.start()).intersects;case 1:return!!b.only&&!a.Xa.kTd(b.container.text,b.only);default:return!1}};
bBs=function(a,b,c){switch(b.type){case "controlled":case "rect":case "chart":case "design":case "embed":case "pill":case "break":case "separator":case "sheet":return b;case "shape":throw new __c.Fv;case "table":return{...b,cells:rd(b.cells,d=>({...d,content:{...d.content,text:a.OUf(d.content.text,c)}}))};case "layout":return{...b,cells:rd(b.cells,d=>({...d,text:a.OUf(d.text,c)}))};default:throw new v(b);}};cBs=function(a){let b;a.cells.rB===1&&a.cells.Apa===0&&a.forEach({item:c=>{b=c}});return b};
dBs=function(a){const b=[];a.cells.Apa===0&&a.forEach({item:c=>b.push(c)});return b};LAs=function(a){switch(a.type){case "pill":return`${a.ei.type}_${a.type}`.toLowerCase();default:return a.type.toLowerCase()}};$As=function(a){var b,c;const {width:d,height:e}=n(a.Fx||((b=a.fill.image.ref)===null||b===void 0?void 0:b.wb)||((c=a.fill.video.ref)===null||c===void 0?void 0:c.wb));return{...__c.cZc,eb:d,Ub:e,fill:es.snapshot(a.fill)}};
YAs=function(a,b,c){return{...__c.lZc,ei:{type:"date",text:b!==null&&b!==void 0?b:a.toString(),date:{day:a.getUTCDate(),month:(a.getUTCMonth()+1)%12,year:a.getUTCFullYear()},language:c!==null&&c!==void 0?c:"en",style:2}}};ZAs=function(a,b){let c="0";b=b.map((d,e)=>{d.label===a&&(c=e.toString());return{id:e,label:d.label,fill:{...ss,color:d.fill.color}}});return{...__c.lZc,ei:{type:"select",text:a,options:b,YG:c}}};
gBs=function(a,b,c){const d=Qb("cf27dcb6",!1),e=Qb("73c869d2",!1),f={},g=()=>{var k=ets(c,a);AV(k,l=>{f.direction=l});AV(Yss(c,a,k),l=>{f.textAlign=l});AV(Zss(a),l=>{f.Fk=l});AV($ss(a),l=>{f.yk=l});AV(its(c,a),l=>{f.lineHeight=l});k=eBs(a,k);AV(k,l=>{f.marginInlineStart=l});AV(fBs(a,k),l=>{f.textIndent=l});AV(nts(a),l=>{e&&(f.zCa=l)})},h=()=>{AV(Wss(c,a),k=>{if(!d||a.tagName!=="SUB"&&a.tagName!=="SUP")f.fontSize=k});AV(Xss(c,a),k=>{f.fontWeight=k});AV(ats(c,a),k=>{f.fontStyle=k});AV(Pss(c,a),k=>{f.color=
k});AV(Mss(c,a),k=>{k!=="#ffffff"&&(f.backgroundColor=k,f.opa=__c.Tag.opa,f.npa=__c.Tag.npa)});AV(bts(c,a),k=>{f.decoration=k});AV(dts(c,a),k=>{f.Xu=k});AV(yqs(a),k=>{f.link=k});AV(mts(c,a),k=>{f.letterSpacing=k});AV(ots(c,a),k=>{if(d)switch(k){case "super":f.verticalAlign=__c.zB.verticalAlign;f.PJ=__c.zB.PJ;break;case "sub":f.verticalAlign=__c.hzg.verticalAlign;f.PJ=__c.hzg.PJ;break;default:throw new v(k);}})};switch(b){case "block":g();h();break;case "inline":h();break;default:throw new v(b);}return f};
fBs=function(a,b){a=Qss(wV(a.style.textIndent));b=a!=null&&a>0?24+((b||0)===0?8:0):0;return b>0?b:void 0};eBs=function(a,b){b=b==="rtl"?a.style.marginRight:a.style.marginLeft;return(a=Qss(wV(a.style.marginInlineStart||b)))?Bqs(a):void 0};AV=function(a,b){a!=null&&b(a)};
hBs=function(a,b){const {width:c,height:d}=Li(a.files,g=>g.width);oa(c>0&&d>0);const e=Vj(0,0,c,d).Lb();let f;b?f="100%":b=a.type===2?"50%":c<d?"50%":"100%";return{...__c.cZc,width:b,maxWidth:f,fill:{...ss,image:{...__c.rs,media:{id:a.id,version:a.version},wb:e}},eb:void 0,Ub:void 0}};jBs=function(a,b){return oqs(a.GPa,b,c=>{const d=fV.element("td");(new iBs(c,a.Wc,a.GPa)).transform().forEach(e=>d.appendChild(e));return d})};
kBs=function(a,b){var c;const d=cVc.create(b),e=(c=a.HDc)===null||c===void 0?void 0:c.sheets[b.id];b=e?e.cells?yAs(e.sheet,e.cells):zAs(e.sheet):zAs(d.config);return(new GAs(d.config,(f,g)=>{switch(f.type){case "text3":return g=dl.snapshot(f.value),g=(new iBs(g,a.Wc,a.GPa)).transform(),f=fV.element("td"),f.setContent(g.join("")),f;default:f=(e===null||e===void 0?void 0:e.sheet)||d.config;const h=n(f.A0b(g.row.id));g=n(f.dTb(g.column.id));return xAs(f,{row:h,column:g},a.Wc)}},b)).transform()};
mBs=function(a,b){const c=fV.element("table"),d=fV.element("tr");c.appendChild(d);c.setStyle("padding-block-start",`${b.padding.rd}px`);c.setStyle("padding-block-end",`${b.padding.Ee}px`);b.fill.color&&c.setStyle("background-color",b.fill.color);b.cells.forEach(e=>{e=lBs(a,e);d.appendChild(e)});return c};lBs=function(a,b){const c=fV.element("td");(new iBs(b.text,a.Wc,a.GPa)).transform().forEach(d=>c.appendChild(d));b.fill.color&&c.setStyle("background-color",b.fill.color);return c};
nBs=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};pBs=function(a,b,c,d,e){var f;const g=new qts(b.getElementsByTagName("style"));e=new oBs(()=>({...a.owd(),...d}),{kXd:h=>a.kXd(h,c),jXd:h=>a.jXd(h,g,c)},g,a.Gb,c,()=>Py,e,(f=a.Ta)===null||f===void 0?void 0:f.c_c,a.iyl);return xqs(b,e).transform()};
rBs=function({cEr:a,NEr:b,KKs:c,YKs:d,ZKs:e,ih:f,la:g,ka:h,Ec:k}){const l=jV(()=>k.Kv=void 0),m=jV(()=>k.Kv=()=>gV(__c.Xur,{closeDialog:l})),p=jV(()=>k.Kv=()=>gV(qBs,{closeDialog:l})),q=Symbol("ContextualMenuCopyPaste"),r=A=>{h.layout===2&&g.Ib({Cb:A,group:q})},t=A=>{A&&r(L("l7+Eng"))},u=()=>{h.layout===2?p():m()},w=()=>a().then(()=>r(L("hQep9g"))).catch(u),x=()=>b().then(t).catch(u),y=()=>b({Uid:!0}).then(t).catch(u),z=()=>b({TCg:!0}).then(t).catch(u);f.kc(()=>({fMs:c(),PNs:d(),QNs:e()}),(A,{fMs:B,
PNs:D,QNs:G})=>{A.Wjd=B?{Button:I=>gV(I.hl,{Icon:PD,label:L("y+PwqQ"),onClick:w,oa:I.oa,jm:bl("c")})}:void 0;A.Hkd=D?{Button:I=>{const K=kV(()=>{var M,N;(M=I.oa)===null||M===void 0||M.call(I);(N=I.Jg)===null||N===void 0||N.clear()},[I]);return gV(I.hl,{Icon:__c.gir,label:L("mvO3fA"),onClick:x,oa:K,jm:bl("v")})}}:void 0;A.uhj=G?{Button:I=>gV(I.hl,{...I,Icon:__c.gir,label:L("iV8+cw")})}:void 0;A.A9f=G?{Button:I=>gV(I.hl,{...I,Icon:__c.gir,label:L("JQ7LxA"),onClick:y,jm:bl(Xo("v"))})}:void 0;A.z9f=G?
{Button:I=>gV(I.hl,{...I,Icon:__c.gir,label:L("RBZgMg"),onClick:z,jm:bl(Yo("v"))})}:void 0},{equals:oV.shallow})};
vBs=function(a,b,c,d){const e=a.selection,f=a.Wc,g=a.Gb,h=a.kh,k=new sBs(c,a.ILd,f,a.Kn,g,(h===null||h===void 0?void 0:h.Caa)||d.Caa,{c_c:()=>{var r;return((r=e.Jb)===null||r===void 0?void 0:r.type)===4}},tBs);if(a.Ja==="responsive")return k;const l=a.session,m=a.viewport,p=new uBs(b,()=>{const r=m.Zg;if(r.type==="responsive-page")throw Error("Cannot get the target box for a responsive page");const t=yg(4,r.page.dimensions||l.document.dimensions);return Bg(t)?m.jz().transform(m.Ql(r)).scale(.85):
Yj({top:0,left:0,...t}).translate(t.width*.075,t.height*.075).scale(.85)},a.Pi,a.C_i,f,g,(h===null||h===void 0?void 0:h.Caa)||d.Caa,{c_c:()=>{var r,t;return((t=e.La)===null||t===void 0?void 0:(r=t.inner)===null||r===void 0?void 0:r.type)!=="table"}}),q=()=>{var r,t;return e.Jb||((r=e.La)===null||r===void 0?void 0:r.type)==="pages"&&((t=e.La.Od)===null||t===void 0?void 0:t.type)==="responsive"?k:p};return{BXh(r){return q().BXh(r)},hXd(r){return q().hXd(r)},sof(r){return q().sof(r)},serialize(r){return q().serialize(r)}}};
BBs=function(a,b,c,d,e,f){const g=a.alert,h=a.zc;var k=a.session;const l=a.Ma,m=a.viewport,p=a.la,q=a.Xa,r=a.selection;var t=a.Jg;const u=a.N;var w=a.oc;const x=a.Ep,y=a.qc;var z=a.nU;const A=a.Op;var B=a.ILd,D=a.lja,G=a.Lxc;const I=a.timing,K=a.Gb,M=a.JB;var N=a.mba;const Q=a.Vi,R=a.Wc;var W=a.DJ,X=a.mS,Z=a.Tp;const da=a.W8a,la=a.MIa,ka=a.nwa,pa=()=>{const qa=g.Dq(()=>gV(Pk,{dismissible:!0,Mc:qa,tone:"warn",HH:!1,children:L("1qqN6w")}))},{$Uf:ja}=new wBs({session:0,ja:"",domain:"",width:0,height:0});
d=new xBs(r,a.Ja!=="responsive"?a.jc:void 0,m,p,K,w,q,d,e,a.Ja!=="responsive"?a.EPa:void 0,M,N,Q,R,W,X,Z,da.zsb,da.ysb,da.hge);const ia=new yBs(b,d,c,pa,qa=>{ka.SKb&&[...qa.values()].find(ra=>!__c.ymf(ka,ra))&&p.Ib({Cb:L("Y1SDvw"),Qq:{buttonText:L("0MD9lQ"),onClick:()=>la.E0k()},group:zBs})},ja,qa=>!(h===null||h===void 0||!h.rules.find(ra=>{var sa;return((sa=ra.ed)===null||sa===void 0?void 0:sa.brand)===qa})),document.location.hostname,k,Date.now(),l,q,r,t,u,f,w,y,x,z,A===null||A===void 0?void 0:
A.xM,B,D,G,M,Q,R,K);if(a.Ja==="responsive")return ia;k=new __c.bj(Math.round(Math.random()*1E4).toString(36)+Date.now().toString(36));t=a.hMa;w=a.HPb;z=a.EPa;B=a.Hb;D=a.gb;G=a.WV;e=a.Ar;N=a.C_i;W=a.$ga;X=a.PE;Z=a.Jg;const ba=a.qd,ca=new ABs(ia,b,d,a.oc,c,pa,ja,k,document.location.hostname,a.session,Date.now(),l,q,B,u,f,r,Z,A===null||A===void 0?void 0:A.xM,m,t,D,G,e,w,z,N,I,ba,M,Q,R,K,W,y,x,p,X,da.c3c,da.UE);return{copy(qa,ra){return(r.Jb?ia:ca).copy(qa,ra)},cut(qa,ra,sa,wa){return(r.Jb?ia:ca).cut(qa,
ra,sa,wa)},paste(qa,ra,sa,wa,Aa){return(r.Jb?ia:ca).paste(qa,ra,sa,wa,Aa)},Iod(){return(r.Jb?ia:ca).Iod()},xig(){return(r.Jb?ia:ca).xig()},Jkc(){return(r.Jb?ia:ca).Jkc()},$_f(qa){return(r.Jb?ia:ca).$_f(qa)}}};
DBs=function(a,b,c,d,e,f){const g=a.Ja,h=a.Ma,k=a.errorService,l=a.N,m=a.selection,p=a.Xa,q=a.la,r=a.HBb,t=a.yqd,u=I=>{k.ku({level:"info",category:"clipboard",message:I})},w=async(I,K,M)=>{u("cut");I=b.sb(I,{Fb:{name:"editor.cut"}});const N=await c.cut(M,K,I,void 0);N?(I.mb().sG(N.aTb.type.toLowerCase()),I.mb().addEvent("copied"),I.mb().nk(({Ii:Q})=>{l.track(Njf,{...N.sue,action:"cut",kb:K,Rb:Q()})}),I.ne()):(I.mb().sG("no_data"),I.end())},x=I=>{h.mode>=30?I=p.focused:I!==null&&I!==void 0&&I.target?
I.target instanceof Element&&__c.ITb(I.target)!=null?I=!0:(I=I.target,I=I instanceof Node?I.parentElement:null,I=(I===null||I===void 0?void 0:I.closest(".a5dsSw"))!=null):I=!1;return I},y=async I=>{if(!(h.mode<=20)&&(x(I)||document.activeElement&&tqs()!=null||!__c.Iba(I)&&!z()))return w("editor_clipboard_cut_shortcut_used","shortcut",I)},z=()=>{var I;return((I=document.getSelection())===null||I===void 0?void 0:I.type)==="Range"},A=async(I,K,M)=>{u("copy");I=b.sb(I,{Fb:{name:"editor.copy"}});const N=
await c.copy(M,void 0);N?(I.mb().sG(N.aTb.type.toLowerCase()),I.mb().addEvent("copied"),I.mb().nk(({Ii:Q})=>{l.track(Njf,{...N.sue,action:"copy",kb:K,Rb:Q()})}),I.ne()):(I.mb().sG("no_data"),I.end())},B=async I=>{(x(I)||document.activeElement&&tqs()!=null||!__c.Iba(I)&&!z())&&await A("editor_clipboard_copy_shortcut_used","shortcut",I)},D=async(I,K,M,N)=>{u("paste");const Q=b.sb(I,{Fb:{name:"editor.paste",attrs:new Map([["control_context",K]])}});M===null||M===void 0||M.preventDefault();I=await d.paste(M,
void 0,m.Jb&&(N===null||N===void 0?0:N.zUn)?new Set(["text/plain"]):void 0);if(!I)return q.Ib({Cb:L("xsdoFQ")}),Q.mb().sG("no_data"),Q.end(),!1;Q.mb().addEvent("clipboard_data_read");Q.mb().sG(Jqs(I.type));await c.paste(I,Q,K,(f===null||f===void 0?void 0:f.Caa)||e.Caa,N).catch(R=>{if(R instanceof __c.mpe)Q.abort(),q.Ib({Cb:L("d6WIJg"),group:__c.lpe});else throw Q.end("error"),R;});return!0},G=async(I,K)=>{h.mode<=30||!(x(I)||document.activeElement&&tqs()!=null)&&__c.Iba(I)||await D("editor_clipboard_paste_shortcut_used",
"shortcut",I,K)};rBs({cEr:()=>A("editor_clipboard_copy_menu_used","menu"),NEr:I=>D("editor_clipboard_paste_menu_used","menu",void 0,I),KKs:()=>c.Iod(),YKs:()=>c.xig(),ZKs:()=>c.Jkc(),ih:a.ih,ka:a.ka,Ec:a.Ec,la:q});if(g==="responsive")document.addEventListener("cut",y),document.addEventListener("copy",B),document.addEventListener("paste",G);else if(CBs()){const I=[bl("x"),()=>y(),L("EtFtgQ"),["edit"]],K=[bl("c"),()=>B(),L("y+PwqQ"),["edit"]],M=[bl("v"),()=>G(),L("mvO3fA"),["edit"]];a.s0d.register(I);
a.s0d.register(K);a.s0d.register(M)}else document.addEventListener("cut",y),document.addEventListener("copy",B),document.addEventListener("paste",G,{capture:!0});r.register([bl(Xo("v")),()=>{D("editor_clipboard_paste_shortcut_used","shortcut",void 0,{Uid:c.Jkc(),zUn:!c.Jkc()})},L("mvO3fA"),["edit","suggest"]],[bl(Yo(Xo("v"))),()=>{D("editor_clipboard_paste_shortcut_used","shortcut",void 0,{Uid:c.Jkc(),zUn:!c.Jkc()})},L("mvO3fA"),["edit","suggest"]],[bl(Yo("v")),()=>{!t.z$a&&c.Jkc()&&D("editor_clipboard_paste_shortcut_used",
"shortcut",void 0,{TCg:!0})},L("mvO3fA"),["edit","suggest"]]);g!=="responsive"&&a.s0d.register([bl(Xo("v")),()=>{c.Jkc()&&G(void 0,{Uid:!0})},L("mvO3fA"),["edit"]],[bl(Yo(Xo("v"))),()=>{c.Jkc()&&G(void 0,{Uid:!0})},L("mvO3fA"),["edit"]],[bl(Yo("v")),()=>{!t.z$a&&c.Jkc()&&G(void 0,{TCg:!0})},L("mvO3fA"),["edit"]])};CBs=function(){var a=navigator;return a!=null&&/iPad|Macintosh/i.test(a.userAgent)&&a.maxTouchPoints!=null&&a.maxTouchPoints>2};
HBs=function(a){const b=a.LOp;a=a.kY;const c=new EBs;a=new FBs(c,a);b.Jzh=iV(()=>c.Iae==null?null:gV(GBs,{bounds:c.Iae}));return{TOp:a}};IBs=function(a,b){return __c.Ho.L3j&&nk(a.gb,b,c=>!(c===null||c===void 0||!c.zyg))};JBs=function(a){return a.every(b=>!!b.fill.image.ref)};KBs=function(a){return a.every(b=>!!b.fill.video.ref)};LBs=function(a){return a.every(b=>!!b.fill.image.ref)};MBs=function(a){return a.every(b=>!!b.fill.video.ref)};
NBs=function(a,b,c,d){switch(b.type){case "group":case "grid":case "table":case "sheet":var e,f;a.Pta(c,d,1,b.container.container);(e=(f=a.Ep).gwa)===null||e===void 0||e.call(f,[b.container.ha],b.container.container);return!0;case "sheet-cell-media":var g,h;a.Pta(c,d,1,b.container.container.container);(g=(h=a.Ep).gwa)===null||g===void 0||g.call(h,[b.sheet],b.container.container.container);return!0;case "shape":var k,l;a.Pta(c,d,1,b.container.container);(k=(l=a.Ep).gwa)===null||k===void 0||k.call(l,
[b.shape],b.container.container);return!0;case "layout":case "layout-cell":return!1;default:throw new v(b);}};
OBs=function(a,b,c,d){var e,f;if(c.length===b.layout.cells.size)switch(c=b.container,c.type){case "fixed-page":var g,h;(g=(h=a.Ep).gwa)===null||g===void 0||g.call(h,[b.layout],c);break;case "group-element":case "controlled-element":throw Error("Deleting layout in these containers not supported");case "layout-element-cell":OBs(a,c.container,[c.rb],d);break;default:throw new v(c);}else(e=(f=a.Ep).Vxm)===null||e===void 0||e.call(f,b.layout,c),a.ng.T9c(b,b.layout.cells.values().next().value)};
PBs=function(a,b){const c={type:a};if(a!=="page"&&a!=="row"&&a!=="column")return c;const d={};switch(b===null||b===void 0?void 0:b.type){case "page":d.bEs=b.pages.length;break;case "table-element":case "table-item":a==="column"?(a=lNe(b.table,b.cells),d.Nib=a[a.length-1]-a[0]+1):a==="row"&&(a=kNe(b.table,b.cells),d.W0b=a[a.length-1]-a[0]+1);break;case "sheet-page-content":case "sheet-element":case "sheet-item":a==="column"?d.Nib=b.columns.length:a==="row"&&(d.W0b=b.rows.length)}c.tLk=d;return c};
SBs=function(a,b){switch(a.type){case "background":a={message:L("AYGgyw"),Icon:Tx,mode:"inner",jm:"Delete"};break;case "page":var c,d;a={message:J("JwjLTA",[(d=(c=a.tLk)===null||c===void 0?void 0:c.bEs)!==null&&d!==void 0?d:1]),Icon:Tx,jm:"Delete"};break;case "scrollable-design":case "element":a={message:L("eLUEGw"),Icon:Tx,mode:"outer",jm:"Delete"};break;case "grid":a={message:L("9p4Z5w"),Icon:__c.ozr,mode:"outer"};break;case "table-element":case "table-item":a={message:L("Kj4xeQ"),Icon:__c.fah,
mode:"outer"};break;case "controlled":case "group":a={message:L("IBNQDA"),Icon:mIp,mode:"inner"};break;case "image":a={message:L("8gZNXQ"),Icon:__c.Tu,mode:"inner"};break;case "video":a={message:L("jOQ+DQ"),Icon:__c.vD,mode:"inner"};break;case "shape":a={message:L("4iOUcQ"),Icon:__c.$Xi,mode:"outer"};break;case "layout-element":case "layout-item":a={message:L("nMb99Q"),Icon:__c.CWi,mode:"outer"};break;case "column":var e,f;a={message:J("78BjBg",[(f=(e=a.tLk)===null||e===void 0?void 0:e.Nib)!==null&&
f!==void 0?f:1]),Icon:QBs,mode:"column"};break;case "row":var g,h;a={message:J("F6TSbw",[(h=(g=a.tLk)===null||g===void 0?void 0:g.W0b)!==null&&h!==void 0?h:1]),Icon:RBs,mode:"row"};break;case "sheet-element":case "sheet-item":a={message:L("V1ylcQ"),Icon:__c.iG,mode:"outer"};break;case "sheet-element-cell-media":case "sheet-item-cell-media":a={message:L("eLUEGw"),Icon:Tx,mode:"inner"};break;case "sheet-page-content":throw Error("Sheet page content cannot be deleted directly");default:throw new v(a.type);
}return{...a,message:b?L("eLUEGw"):a.message,Icon:b?Tx:a.Icon}};TBs=function(a){switch(a){case "section":return J("/g1arw",[1]);case "page":return J("JwjLTA",[1]);default:throw new v(a);}};
XBs=function(a,b,c,d,e){var f=UBs(a,b);f&&(f.count()===c.length||f.some(g=>!g.draft&&!c.includes(g)))&&(f=__c.LXe(a.document,c,a.Oo),!f||a.FQn.Bjq?(VBs(a,b,c),WBs(a,d,e)):a.KNs({ake:g=>{if(g){var h=a.FQn;h.storage?h.storage.setItem("E2DontShowPageDeleteWarningWithLink",JSON.stringify(g)):h.AAm=g}},onCancel:()=>e.abort(),onClose:()=>e.abort(),lp:()=>{VBs(a,b,c);WBs(a,d,e)},GZg:f,hC:c.length}))};
UBs=function(a,b){switch(b.type){case "fixed-document":return a.document.pages;case "concatenated-fixed-page":var c;return(a=UBs(a,b.container))?(c=b.Nha(a))===null||c===void 0?void 0:c.pages:void 0;default:throw new v(b);}};VBs=function(a,b,c){var d,e;const f=UBs(a,b);if(f){var g=YBs(f,c);g==null&&(g=n(f.last()),oa(a.Y6h.PL!=null),{ha:g}=a.Y6h.PL(g,{location:"delete_all_pages",Uc:"delete_all_pages"},{template:"default"}));a.ng.GU(b,g);(d=(e=a.Ep).jXh)===null||d===void 0||d.call(e,c,f)}};
WBs=function(a,b,c){var d,e;const f=(e=(d=a.ng.La)===null||d===void 0?void 0:d.pages)!==null&&e!==void 0?e:[],g=new Map;for(const [k,l]of a.document.pages.toArray().entries())g.set(l,k);d=f.map(k=>g.get(k)).filter(tb);c.mb().addEvent("deleted");const h={action:"delete",PTc:d.map(String),kb:b,location:b};c.mb().nk(({Ii:k})=>{a.N.track(__c.Sjf,{...h,Rb:k(),Ey:0})});c.ne()};
YBs=function(a,b){var c=a.first(e=>b.includes(e)),d=a.last(e=>b.includes(e));c=c&&a.previous(c);d=d&&a.next(d);a=a.first(e=>!b.includes(e));return d||c||a};bCs=function({X:a,Qa:b}){const c=new ZBs,d=new $Bs(c,a,b);d.init();return iV(()=>d.Qla?gV(aCs,{Mc:d.Mc}):null)};
BV=function(a,b,c){const d=a.map(({label:f,values:g,type:h,Ab:k})=>{let l;h.binding!=="unused"&&(l=h.id);return{...__c.us,label:f,values:g,Ab:k,id:l,Mb:void 0}}),e=__c.ujj(d,b);return{ZQa:"state",mediaId:`_gc${b.type.toLowerCase().replace(/_/g,"")}`,config:e,data:d,Ob:void 0,dqa:f=>{var g=`_gc${b.type.toLowerCase().replace(/_/g,"")}`,h={...__c.vs,title:c&&cCs.aHm?{...__c.nXc,text:c}:__c.vs.title};a:switch(e.type){case "LINE":case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "BUBBLEPLOT":case "DOTPLOT":case "STACKED_AREA":case "GROUPED_DOTPLOT":case "RADAR":var k=
__c.Mw.eqa(n(e.Mb)).length<=5;break a;case "BAR_RACE":case "PIE":case "DONUT":case "SCATTERPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "HISTOGRAM":case "FUNNEL":k=!1;break a;default:throw new v(e);}return{...__c.Nz,ZQa:"state",mediaId:g,ko:h,data:d,config:e,Ob:void 0,Un:k,style:__c.Kw(f)}}}};dCs=function(a,b,c){switch(a.type){case "COLUMN":return a.header;case "BLOCK_HEADER":return b;case "BLOCK_VALUE":return c;default:throw new v(a);}};
gCs=function(a,b,c){const d=new Set(Hqs(c));if(!b.every(f=>d.has(f)))return Ka({QFe:"LABELLED_SERIES_FROM_ROWS",binding:"labels"});var e=eCs(c.data());c=[];for(const [f,g]of e){e={binding:"unused"};a&&d.has(a)&&f===a?e={binding:"labelBy",id:Sy()}:b.includes(f)&&(e={binding:"valueBy",id:Sy()});const {values:h,Ab:k}=fCs([...g],e.binding);c.push({label:f,values:h,type:e,Ab:k})}return Ia(c)};
hCs=function(a,b){var c=Hqs(b),d=c.indexOf(a.label);const e=c.indexOf(a.group);c=c.indexOf(a.value);if(d<0)return Ka({QFe:"PIVOT",binding:"label"});if(e<0)return Ka({QFe:"PIVOT",binding:"groupBy"});if(c<0)return Ka({QFe:"PIVOT",binding:"valueBy"});var f=new Set,g=new Set;for(var h of b.raw.slice(1))f.add(h[e]),g.add(h[d]);h=Array.from(f);const k=Array.from(g);g=new Map;for(f=0;f<h.length;f++)g.set(h[f],f);const l=new Map;for(const q of b.raw.slice(1))b=q[d],g=q[e],f=q[c],l.has(b)||l.set(b,new Map),
n(l.get(b)).set(g,f);const {values:m,Ab:p}=fCs(k,"labelBy");a=[{label:a.label,values:m,type:{binding:"labelBy",id:Sy()},Ab:p}];d=h.map(q=>{const r=k.map(x=>{if(!l.has(x))return"";x=n(l.get(x));return x.has(q)?n(x.get(q)):""}),t={binding:"valueBy",id:Sy()},{values:u,Ab:w}=fCs(r,"valueBy");return{label:q,values:u,type:t,Ab:w}});return Ia(a.concat(d))};eCs=function(a){const b=new Map;for(const c of a)for(const [d,e]of c)__c.uj(b,d,e);return b};
kCs=function(a,b){const c=b.raw[0],d=iCs(c),e=iCs([...c,d]),f=a.map(g=>c.indexOf(g));oa(f.every(g=>g>=0),"not all datablock headers are defined in the csv");a=[[...c.filter((g,h)=>!f.includes(h)),d,e]];for(const g of b.raw.slice(1))for(const h of f)a.push([...g.filter((k,l)=>!f.includes(l)),c[h],g[h]]);return{zrr:d,Tid:e,x8s:new jCs(a)}};iCs=function(a){let b=1,c;do c=J("rlYolQ",[b++]);while(a.includes(c));return c};
fCs=function(a,b){let c=a,d;switch(b){case "valueBy":case "sizeBy":const [e,f]=__c.ahe(a,{tCe:!1});f.ok?(c=e.map(k=>{const l=__c.Wge(k,f.value[0]);return l.ok?l.value.toString():k}),d=__c.DQe({kind:"number",format:f.value[0]},{Luc:!1})):d=__c.DQe({kind:"number",format:__c.tZg},{Luc:!1});break;case "xValueBy":case "yValueBy":const [g,h]=__c.ahe(a,{tCe:!1});h.ok?(c=g.map(k=>{const l=__c.Wge(k,h.value[0]);return l.ok?l.value.toString():k}),d=__c.DQe({kind:"number",format:h.value[0]},{Luc:!1})):d=__c.BQe;
break;case "labelBy":case "groupBy":case "colorBy":d=__c.BQe;break;case "unused":break;default:throw new v(b);}return{values:c,Ab:d}};
nCs=function(a,b){switch(a.type){case "WIDE_DATA":if(a.group.type==="BLOCK_HEADER"&&a.value.type==="BLOCK_VALUE"&&a.label.type==="COLUMN")a=gCs(a.label.header,[...a.JPj],b);else{const {x8s:c,zrr:d,Tid:e}=kCs([...a.JPj],b);a=hCs({group:dCs(a.group,d,e),label:dCs(a.label,d,e),value:dCs(a.value,d,e)},c)}break;case "LONG_DATA":a=hCs({label:a.v6d,group:a.c1q,value:a.Tid},b);break;case "SCATTERPLOT":case "DOT_PLOT":case "GROUPED_DOT_PLOT":a=lCs(a.v6d,a.YUl,[a.fVl],a.SGj,a.Uxl,b);break;case "HIERARCHY_CHART":a=
mCs([...a.R_m],a.Tid,b);break;case "SINGLE_SERIES_PART_TO_WHOLE":a=gCs(a.v6d,[a.Tid],b);break;case "HISTOGRAM":a=gCs(void 0,[a.Tid],b);break;default:throw new v(a);}return a};
qCs=function(a,b){b=nCs(a,b);if(!b.ok)return b;b=b.value;if(!b.length)throw Error("Error getting chart series");const c={ST:b.length,rowCount:b[0].values.length+1},{jkn:d,bindings:e}=oCs(b);var f=e.valueBy,g=e.labelBy;const h=e.groupBy;var k=e.sizeBy,l=e.colorBy,m=e.xValueBy;const p=e.yValueBy;switch(a.type){case "WIDE_DATA":case "LONG_DATA":switch(a.Yc){case 1:return Ia({Tab:BV(b,{...__c.G1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 10:return Ia({Tab:BV(b,{...__c.N1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 2:case 8:return Ia({Tab:BV(b,
{...__c.B1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 3:return Ia({Tab:BV(b,{...__c.C1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 9:return Ia({Tab:BV(b,{...__c.F1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 4:return Ia({Tab:BV(b,{...__c.L1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 6:return Ia({Tab:BV(b,{...__c.E1g,uh:f,Zf:g[0]},a.title),Jqa:c});case 5:case 7:return Ia({Tab:BV(b,{...__c.D1g,uh:f,Zf:g[0]},a.title),Jqa:c});default:throw new v(a);}case "SCATTERPLOT":f=g[0];l=l[0];oa(m.length===1,`xValueBy does not exist for ${a.type}`);
oa(p.length===1,`yValueBy does not exist for ${a.type}`);g=n(b.find(r=>r.type.binding==="xValueBy"),`xSeries does not exist for ${a.type}`);var q=n(b.find(r=>r.type.binding==="yValueBy"),`ySeries does not exist for ${a.type}`);g=g.Ab===__c.BQe;q=q.Ab===__c.BQe;return g&&q?Ia({Tab:BV(b,{...K1g,Zf:f,Jo:l,LN:m[0],JM:[p[0]],mf:pCs(K1g.mf,d.get(m[0])),ve:pCs(K1g.ve,d.get(p[0]))},a.title),Jqa:c}):g||q?(k=g?"x":"y",Ia({Tab:BV(b,{...J1g,Zf:f,Jo:l,w6:g?"X":"Y",LN:m[0],JM:[p[0]],Y9:pCs(J1g.Y9,k==="x"?d.get(m[0]):
d.get(p[0])),r5:pCs(J1g.r5,k==="x"?d.get(p[0]):d.get(m[0]))},a.title),Jqa:c})):Ia({Tab:BV(b,{...__c.I1g,Zf:f,Jo:l,Cu:k[0],LN:m[0],JM:p,mf:pCs(__c.I1g.mf,d.get(m[0])),ve:pCs(__c.I1g.ve,d.get(p[0]))},a.title),Jqa:c});case "DOT_PLOT":return oa(m.length===1,`xValueBy does not exist for ${a.type}`),oa(p.length===1,`yValueBy does not exist for ${a.type}`),k=n(b.find(r=>r.type.binding==="xValueBy"),`xSeries does not exist for ${a.type}`).label===a.jUp,Ia({Tab:BV(b,{...J1g,Zf:g[0],Jo:l[0],w6:k?"X":"Y",LN:m[0],
JM:[p[0]],Y9:pCs(J1g.Y9,k?d.get(m[0]):d.get(p[0])),r5:pCs(J1g.r5,k?d.get(p[0]):d.get(m[0]))},a.title),Jqa:c});case "GROUPED_DOT_PLOT":return oa(m.length===1,`xValueBy does not exist for ${a.type}`),oa(p.length===1,`yValueBy does not exist for ${a.type}`),Ia({Tab:BV(b,{...K1g,Zf:g[0],Jo:l[0],LN:m[0],JM:[p[0]],mf:pCs(K1g.mf,d.get(m[0])),ve:pCs(K1g.ve,d.get(p[0]))},a.title),Jqa:c});case "HIERARCHY_CHART":switch(m=a.R_m.map(r=>h.find(t=>d.get(t)===r)).filter(tb),a.Yc){case 1:return Ia({Tab:BV(b,{...__c.PXc,
groupBy:m,Cu:f,wG:m.length},a.title),Jqa:c});case 2:return Ia({Tab:BV(b,{...__c.OXc,groupBy:m,Cu:f,wG:m.length},a.title),Jqa:c});default:throw new v(a);}case "HISTOGRAM":return oa(f.length===1,`valueBy does not exist for ${a.type}`),Ia({Tab:BV(b,{...__c.M1g,uh:f[0]},a.title),Jqa:c});case "SINGLE_SERIES_PART_TO_WHOLE":switch(oa(f.length===1,`valueBy does not exist for ${a.type}`),a.Yc){case 1:return Ia({Tab:BV(b,{...__c.GXc,Zf:g.length===1?g[0]:void 0,uh:f[0]},a.title),Jqa:c});case 2:return Ia({Tab:BV(b,
{...__c.HXc,Zf:g.length===1?g[0]:void 0,uh:f[0]},a.title),Jqa:c});case 3:return Ia({Tab:BV(b,{...__c.O1g,Zf:g.length===1?g[0]:void 0,uh:f[0]},a.title),Jqa:c});default:throw new v(a);}default:throw new v(a);}};pCs=function(a,b){return b?{...a,title:{...a.title,text:b}}:a};
oCs=function(a){return a.reduce((b,c)=>{const d=c.type;switch(d.binding){case "unused":return b;case "valueBy":case "labelBy":case "groupBy":case "sizeBy":case "colorBy":case "xValueBy":case "yValueBy":return b.jkn.set(d.id,c.label),b.bindings[d.binding].push(d.id),b;default:throw new v(d);}},{jkn:new Map,bindings:{valueBy:[],labelBy:[],groupBy:[],sizeBy:[],colorBy:[],xValueBy:[],yValueBy:[]}})};
rCs=function({root:a=null,onChange:b}){const c=mV(null);lV(()=>{if(c.current){var d=new __c.Ok,e=d.SY(a,"0px");d.observe(c.current,f=>{b(f)});return e}},[b,a]);return{hcb:c}};uCs=function(a,b,c){if(!a||a.trim()==="")return Ka({type:"no_markdown_provided"});const d=sCs(a);var e=a.split(/\n+/).filter(f=>f.trim()!=="");a=[];for(const f of e){e=tCs(f.trim(),b,c,d);if(!e.ok)return Ka(e.error);a.push(e.value)}return Ia(a)};
wCs=function(a){if(!a)return[];const b=[];let c;for(;(c=vCs.exec(a))!=null;)b.push(c[1]);return b};tCs=function(a,b,c,d){var e=wCs(a);if(e.length===0)return Ia({type:"text",content:a});const f=new Map;for(const h of e){e=d.get(h);if(e===void 0)return Ka({type:"missing_placeholder",xyu:h});var g=c.find(k=>k.Wa===h);if(g)return Ia({type:"chart",Yb:g,index:e});(g=b.find(k=>k.Wa===h))&&f.set(h,{formula:g,index:e})}return f.size>0?Ia({type:"formula",content:a,OTa:f}):Ka({type:"invalid_section"})};
sCs=function(a){a=wCs(a);const b=new Map;let c=0;for(const d of a)b.has(d)||b.set(d,c++);return b};ACs=function(a){switch(a.type){case "text":return{type:"text",Zup:()=>gV(xCs,{content:a.content})};case "chart":return{type:"chart",NVo:b=>gV(yCs,{section:a,...b})};case "formula":return{type:"formula",r9o:b=>gV(zCs,{section:a,...b})};default:throw new v(a);}};
DCs=function(a,b){return a.split(BCs).filter(c=>c!=="").map(c=>{var d=c.match(CCs);return d&&(d=b.get(d[1]))?{type:"formula-placeholder",VQq:d.formula,index:d.index}:{type:"text",content:c}})};
ECs=function(a,b){switch(a.type){case "text":return DCs(a.value,b);case "strong":case "emphasis":case "heading":return[{type:"bold",children:a.children.flatMap(c=>ECs(c,b))}];case "paragraph":return a.children.flatMap(c=>ECs(c,b));case "break":return[{type:"break"}];default:throw Error(`Unknown markdown node type: ${a.type}`);}};
FCs=function(a){switch(a.type){case "text":return[{type:"text",content:a.value}];case "strong":case "emphasis":case "heading":return[{type:"bold",children:a.children.flatMap(b=>FCs(b))}];case "paragraph":return a.children.flatMap(b=>FCs(b));case "break":return[{type:"break"}];default:throw Error(`Unknown markdown node type: ${a.type}`);}};
HCs=function(a){var b=a.DR;const c=a.VC;a=a.Ab;if(c&&c.type){var d=c.type;switch(d){case 1:return b=GCs(a),new __c.k7c({value:c.value,l8h:b});case 2:return new __c.k7c({value:c.value,l8h:new __c.i7c});case 3:return new __c.l7c({value:c.value});case 4:return new __c.m7c({value:b});case 6:return new __c.n7c;case 7:return new __c.o7c({name:b});case 8:return new __c.p7c({title:b});case 9:break;default:throw new v(d);}}};
GCs=function(a){if(a===void 0)return new __c.e7c;const b=a.type;switch(b){case "plain_number":return new __c.f7c({Zv:a.xj.Zv,Hq:a.xj.Hq});case "percentage":return new __c.h7c({Zv:a.xj.Zv,Hq:a.xj.Hq});case "currency":return new __c.g7c({Zv:a.xj.Zv,Hq:a.xj.Hq,jka:a.xj.symbol,locale:a.xj.locale});case "date":return new __c.i7c;case "select":case "mention":case "embed":case "checkbox":return new __c.e7c;default:throw new v(b);}};
ICs=function(a,b){const c=b.sheet,d=new Map;b=b.cells.reduce((f,{row:g,column:h})=>{const k=a.Wc.getContent(c,g,h);if(!k||!k.Pr)return f;switch(k.Pr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":f.push({reference:$m({row:g,column:h},c),value:k.DR.trim(),xJ:void 0});break;case "number":var l;if(!k.Ab){f.push({reference:$m({row:g,column:h},c),value:k.Pr.value.toString().trim(),xJ:void 0});break}switch((l=k.Ab.xj)===null||l===
void 0?void 0:l.type){case "date":var m;f.push({reference:$m({row:g,column:h},c),value:k.DR,xJ:k.Pr.value.toString()});g=n((m=k.Ab.xj)===null||m===void 0?void 0:m.format);var p;d.set(g,((p=d.get(g))!==null&&p!==void 0?p:0)+1);break;case "currency":case "percentage":case "plain":case void 0:f.push({reference:$m({row:g,column:h},c),value:k.Pr.value.toString().trim(),xJ:void 0});break;default:throw new v(k.Ab.xj);}break;default:throw new v(k.Pr);}return f},[]);const e=d.size>0?Array.from(d.entries()).reduce(([f,
g],[h,k])=>k>g?[h,k]:[f,g])[0]:void 0;return{data:b,Jqa:{dateFormat:e}}};
JCs=function(a,b){const c=b.cells,d=b.sheet;na(c.length>0);let e=0,f=0;const g=c[0].row,h=c[0].column;c.forEach(l=>{const m=d.gK(l.row)-d.gK(g);l=d.uK(l.column)-d.uK(h);e=Math.max(e,m);f=Math.max(f,l)});const k=Array.from({length:e+1},()=>Array(f+1).fill(""));c.forEach(l=>{var m;const p=d.gK(l.row)-d.gK(g),q=d.uK(l.column)-d.uK(h);if((l=(m=a.aja.Vai(d,l.column,l.row))===null||m===void 0?void 0:m.content)&&l.Pr)switch(l.Pr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":k[p][q]=l.DR.trim();
break;case "number":k[p][q]=l.Pr.value.toString().trim();break;default:throw new v(l.Pr);}else k[p][q]=""});return k};
KCs=function(a){var b=a.GKa.findSheet();if(!b)return Ka({errorMessage:L("lGc67g"),xCa:void 0,GYc:"no_selection"});const c=b.sheet;b=b.sheetName;const d=c.layout.rows.toArray(),e=c.layout.cols.toArray(),f=d.flatMap(l=>e.map(m=>({row:l,column:m})));b={sheet:c,cells:f,range:`A1:${$m({row:d[d.length-1],column:e[e.length-1]},c)}`,sheetName:b};const {data:g,Jqa:h}=ICs(a,b);if(g.length<2)return Ka({errorMessage:L("Xi2QLg"),xCa:b,GYc:"too_few_cells"});const k=new Map;c.layout.cells.forEach((l,m)=>{if(l.content.ref){l=
m.dc;var p=m.Zb;m=$m({column:l,row:p},c);if(l=a.Wc.getContent(c,p,l))l=HCs(l),l!==void 0&&k.set(m,l)}});return Ia({xCa:b,Ima:g,Jqa:h,tu:k})};MCs=async function(a){try{const b=await a.LS.lgk(new LCs),c=Date.now();uV(()=>{a.store.quota={kind:"loaded",lve:b.quota.lve,jF:b.quota.jF,Ucd:b.quota.Ucd?new Date(c+b.quota.Ucd):void 0}})}catch(b){a.errorService.pa(b),uV(()=>{a.errorService.pa(b,"Error fetching credits.");a.store.ysd=L("ldPNNQ")})}};
NCs=function(a){switch(a){case 1:case 5:return{IGf:L("q0uMCg"),fth:L("kC6nPg"),Gd:1};case 4:return{IGf:L("SbbsuQ"),fth:L("yaFQLA"),Gd:1};case 2:return{IGf:L("E9w/qw"),fth:L("j7cy7A"),Gd:0};case 3:return{IGf:L("qLeuiA"),fth:L("/mPGOg"),Gd:1};case 6:return{IGf:L("ldPNNQ"),fth:L("rtuM4A"),Gd:0};default:throw new v(a);}};
OCs=function(a){switch(a){case 1:return"no_valid_insights";case 5:return"unsupported_functionality";case 4:return"unrelated_query";case 2:return"insufficient_data";case 3:return"dangerous_content";case 6:return"internal_error";default:throw new v(a);}};
PCs=function(a){switch(a.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":case "SUNBURST":return a.type;case "POPULATION_PYRAMID":case "DUMBBELL":case "LOLLIPOP":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":throw Error("Unsupported chart type");
default:throw new v(a);}};QCs=function(a){switch(a){case void 0:break;case "stacked":return"STACKED";case "proportional-stacked":return"PROPORTIONAL_STACKED";case "stacked":return"STACKED";case "proportional":return"PROPORTIONAL";case "unstacked":return"UNSTACKED";case "stream":return"STREAM";default:throw new v(a);}};
RCs=function(a){if(a){if(a===L("/15meQ"))return{type:"spot_trends",index:0};if(a===L("WdBwUg"))return{type:"visualize",index:1};if(a===L("JLfw8A"))return{type:"summarize",index:2};if(a===L("l8zS1w"))return{type:"find_outliers",index:3}}};
SCs=function(a){var b;if(a=a.selection.La){if(((b=a.pages)===null||b===void 0?void 0:b.length)===1&&(b=a.pages[0],uf(b)&&b.id))return{sheet:b.sheet,sheetId:b.id};switch(a.type){case "elements":var c,d;if(((c=a.inner)===null||c===void 0?void 0:c.type)==="sheet")return{sheet:a.inner.sheet.config,sheetId:a.inner.sheet.id};if(((d=a.Od)===null||d===void 0?void 0:d.type)==="sheet")return{sheet:a.Od.config,sheetId:a.Od.id};break;case "pages":var e;if(((e=a.inner)===null||e===void 0?void 0:e.type)==="sheet"&&
a.inner.page.id)return{sheet:a.inner.page.sheet,sheetId:a.inner.page.id};if(a.pages.length===1&&(c=a.pages[0],uf(c)&&c.id))return{sheet:c.sheet,sheetId:c.id}}}};WCs=function({X:a,Qa:b,Tb:c,za:d,h2d:e}){if(a){var f=new TCs,g=new UCs(f,a,b,c,d,e);return{rcf:iV(()=>{lV(()=>{g.$Jq()},[]);return f.wge?gV(VCs,{onClose:g.Mc,onClick:g.AZr}):null}),PUr:g.Mc}}};
XCs=function(a,b){if(b.type==="fixed-page"){var c;oa(a.session.document.Ja==="fixed");var d;return(d=(c=b.container)===null||c===void 0?void 0:c.tb(b.page))!==null&&d!==void 0?d:If(a.session.document).tb(b.page)}if(b.container!=null&&b.container.type!=="fixed-document"&&b.container.type!=="responsive-document")return XCs(a,b.container)};
YCs=function(a,b,c){switch(a){case 5:return{Icon:__c.zu,hb:void 0,label:L("ZK0snA")};case 2:return{Icon:__c.XCg,hb:L("KkfI8w"),label:void 0};case 3:return{Icon:__c.XCg,hb:L("eCV9Kg"),label:void 0};case 1:return{Icon:__c.Jqg,hb:L("SSbFKQ"),label:void 0};case 6:return{Icon:__c.SB,hb:void 0,label:L("LtzRdg")};case 4:return{Icon:__c.SB,hb:void 0,label:L("YLfGCA")};case 0:return{Icon:void 0,hb:void 0,label:L("FXfIUQ")};case "view":return{Icon:c==="compact"?ku:__c.yv,label:c==="compact"?void 0:L("shxLEA"),
hb:b===2?L("nOK04Q"):L("shxLEA"),variant:"secondary"};case "comment":return{Icon:c==="compact"?ku:__c.iI,label:c==="compact"?void 0:L("REoikw"),hb:b===4?L("nOK04Q"):L("REoikw"),variant:"secondary"};case "playground":throw Error(`${a} mode is not supported`);default:throw new v(a);}};ZCs=function(a){function b(){a(...(d!==null&&d!==void 0?d:[]));e=d=void 0}function c(...f){d=f;e||(e=setTimeout(b,1100))}let d,e;c.cancel=()=>{clearTimeout(e);e=d=void 0};return c};
bDs=function(a){const b=CV.box(a(),{deep:!1});let c;const d=jV(g=>b.set(g)),e=ZCs(d),f=()=>{c===null||c===void 0||c();c=void 0;e.cancel()};$Cs(b,()=>{f();c=hV(a,g=>{g===1?(e.cancel(),d(g)):e(g)},{fireImmediately:!0})});aDs(b,f);return b};dDs=function(a){const b=CV.box(),c=hV(()=>a.vO===1,d=>{b.set(d?void 0:cDs())},{fireImmediately:!0});return{XCk:pV(()=>{var d;return(d=b.get())!==null&&d!==void 0?d:cDs()}),dispose:c}};
eDs=function(a){const b=a.layout.direction!==2?2:void 0;return a.layout.direction=b};fDs=function(a){const b=a.direction!=="rtl"?"rtl":"ltr";return a.direction=b};gDs=function(a){const b=a.direction!==2?2:1;return a.direction=b};iDs=function(a,b){a=a.S_a.tId;return b.direction?{value:hDs[b.direction],selection:"table"}:a?{value:"ltr",selection:"table"}:void 0};kDs=function(a,b){a=a.S_a.tId;return b.direction==="rtl"?{value:jDs[b.direction],selection:"sheet"}:a?{value:"ltr",selection:"sheet"}:void 0};
mDs=function(a,b){a=a.S_a.tId;return b.direction===2?{value:lDs[b.direction],selection:"layout"}:a?{value:"ltr",selection:"layout"}:void 0};nDs=function(a,b,c,d){na(c!==0);if(c<0){const e=b.x;b=b.y;b=a==="horizontal"?new Bj(e+c,b):new Bj(e,b+c);c=-c}return{dir:a,start:b,length:c,type:d}};
oDs=function(a){const b=a.image.ref;a=a.video.ref;a=a===null||a===void 0?void 0:a.video;return{mediaId:(b===null||b===void 0?void 0:b.media.id)||a||"",BE:(b===null||b===void 0?void 0:b.media.version.toString())||""}};
qDs=function(a){const b=a.zjr,c=a.onClick,d=a.onMouseEnter,e=a.onMouseLeave,f=a.onDragStart,g=a.pe,h=a.onDragEnd;return({direction:k})=>{const l=k==="top"||k==="bottom"?"right":"bottom";return gV(__c.nvh,{onClick:()=>c(k),onMouseEnter:()=>d===null||d===void 0?void 0:d(k),onMouseLeave:e,onDragStart:m=>f(k,new Bj(m.clientX,m.clientY)),pe:m=>g(k,new Bj(m.clientX,m.clientY)),onDragEnd:m=>h(k,new Bj(m.clientX,m.clientY)),Uwd:pDs(b?k:"plus"),Cob:"floating",fixedRotation:b,hb:b?L("kZxMcQ"):L("QLoPdg"),hk:l})}};
pDs=function(a){switch(a){case "plus":return __c.g4d;case "top":return __c.a6g;case "bottom":return __c.Y5g;case "left":return __c.Lzc;case "right":return __c.tEd;default:throw new v(a);}};
vDs=function(a,b,c,d,e,f,g,h,k){var l=__c.Rhe(b),m=__c.Rhe(c);l=rDs(d,l);m=rDs(sDs(d),m);f=tDs(b,f,d);const p={...f,...(k===null||k===void 0?void 0:k.Wur)};g={...__c.QYc,...p,...__c.qWa({Sb:l,r:m,height:f.weight}).Lb(),id:g.Ag.generate(),start:{...p.start,position:{left:l.x,top:l.y}},end:{...p.end,position:{left:m.x,top:m.y}}};a=a.elements.append(g);e.connect(a.start,b,{iea:1,anchorPoint:uDs(d)});e.connect(a.end,c,{iea:h,anchorPoint:(k===null||k===void 0?0:k.oLm)?k.oLm:h===1?uDs(sDs(d)):new Bj(.5,
.5)});return a};
tDs=function(a,b,c){const d=b.y5c(a);if(d.length){var e;const g=uDs(c);var f=[...d].sort(l=>{const m=b.TSa.get(l.start)===a,p=b.TSa.get(l.end)===a;return m&&wDs(g,l.start)||p&&wDs(g,l.end)?-1:m?0:1});[f]=f;const {eEk:h,HFf:k}=xDs(b,f,a,g);switch((e=f.geometry.ref)===null||e===void 0?void 0:e.type){case void 0:e=void 0;break;case "elbowed":e={...__c.RYc,ob:f.geometry.ref.ob};break;case "curved":e={...__c.SYc,depth:0,skew:0};break;default:throw new v(f.geometry.ref);}c=n(f.color||f.fill.gradient.ref);return{end:{...k,
anchor:void 0},start:{...h,anchor:void 0},geometry:e,weight:f.weight,color:c.type!=null?void 0:c,fill:{...ss,gradient:c.type!=null?c:void 0},xa:f.xa,tg:f.tg,Pl:f.Pl}}return(e=(f=a.paths.first())===null||f===void 0?void 0:f.stroke.ref)&&e.weight>0?(f=n(e.color||e.fill.gradient.ref),{...yDs,weight:Math.max(Math.round(e.weight),1),color:f.type!=null?void 0:f,fill:{...ss,gradient:f.type!=null?f:void 0},tg:e.tg,Pl:e.Pl,xa:a.xa,geometry:__c.RYc}):{...yDs,xa:a.xa,geometry:__c.RYc}};
xDs=function(a,b,c,d){const e=[2,3];var f=b.end.marker;if(f&&e.includes(f))return{eEk:b.start,HFf:b.end};if((f=b.start.marker)&&e.includes(f))return{eEk:b.end,HFf:b.start};const [g,h]=a.TSa.get(b.start)===c?[b.start,b.end]:[b.end,b.start],[k,l]=wDs(d,g)?[g,h]:[h,g];return{eEk:k,HFf:l}};rDs=function(a,[b,c,d,e]){switch(a){case "top":return d;case "right":return c;case "bottom":return e;case "left":return b;default:throw new v(a);}};
sDs=function(a){switch(a){case "top":return"bottom";case "right":return"left";case "bottom":return"top";case "left":return"right";default:throw new v(a);}};uDs=function(a){switch(a){case "top":return{x:.5,y:0};case "right":return{x:1,y:.5};case "bottom":return{x:.5,y:1};case "left":return{x:0,y:.5};default:throw new v(a);}};wDs=function(a,b){if(!b.anchor)return!1;const c=b.anchor.left;return b.anchor.top===a.y&&c===a.x};
zDs=function(a){var b,c,d,e;a.xOf&&(clearTimeout(a.xOf),a.xOf=void 0);(b=a.Kga)===null||b===void 0||b.call(a);a.Kga=void 0;(c=a.Xmq)===null||c===void 0||c.call(a);(d=a.cSh)===null||d===void 0||d.onDragEnd();a.cSh=void 0;document.body.classList.toggle("_1Nlzlw",!1);a.store.Djh=!1;a.store.mUi=!1;a.store.isDragging=!1;a.store.fIe=void 0;a.store.syf=void 0;a.store.connectTarget=void 0;a.Hje=void 0;a.from=void 0;(e=a.store.ryf)===null||e===void 0||e.pages.Er()};
FDs=function(a,b,c,d){const e=a.Wj.NTc;d=ADs(BDs(d),b.rotation);const f=CDs(c,b),{position:g,XLb:h,rmc:k}=DDs(b,d,f,e,yg(4,c.dimensions||a.document.dimensions));return{ZKr:EDs(b,g),XLb:h,rmc:k}};
GDs=function(a,b,c,d,e){c=yg(4,c.dimensions||a.document.dimensions);c=n(a.store.ryf).pages.set(0,{...__c.Js,id:a.Gb.sh.generate(),dimensions:c});e=EDs(b,e);e=c.elements.append(e);a.Gbb.TVg(e);const f=c.elements.append(ls.snapshot(b));b=tDs(b,a.re,d);a=vDs(c,f,e,d,a.$X,n(a.UZm),a.Gb,1,{Wur:b});f.xa=1;jk(e)&&(a.xa=1);return{Swd:c,fIe:e,syf:a,lXi:f}};
HDs=function(a,b){a.Xmq=hV(()=>Yj(b).Lb(),c=>{const d=n(a.store.lXi),e=n(a.store.fIe);d.top=c.top;d.left=c.left;d.width=c.width;d.height=c.height;d.rotation=c.rotation;e.width=c.width;e.height=c.height;e.rotation=c.rotation})};IDs=function(a,b,c){b=Yj({...b,left:a.x,top:a.y});switch(c){case "top":c=b.b;break;case "bottom":c=b.t;break;case "left":c=b.r;break;case "right":c=b.Sb;break;default:throw new v(c);}return Rj(c,a).transformPoint(a)};
BDs=function(a){switch(a){case "top":return{x:0,y:-1};case "right":return{x:1,y:0};case "bottom":return{x:0,y:1};case "left":return{x:-1,y:0};default:throw new v(a);}};ADs=function(a,b){a=Sj(new Bj(0,0),Aj(b)).transformPoint(a);return{x:a.x,y:a.y}};CDs=function(a,b){const c=Yj(b);return a.elements.filter(d=>{d.type!=="shape"||!nFd(d)&&!jk(d)?d=!1:Yj(d).intersects(c)?(d=Yj(d),d=Math.max(Math.abs(d.width-c.width),Math.abs(d.height-c.height))<=Number.EPSILON):d=!0;return d})};
DDs=function(a,b,c,d,e){const f=Yj(a);var g=JDs(f,f,b,b.x!==0?d:void 0,b.y!==0?d:void 0);const h=Yj({top:g.y,left:g.x,width:f.width,height:f.height,rotation:f.rotation});var k=KDs(h,c);if(!k)return LDs(g,a,e)?{position:g,XLb:1,rmc:!0}:(g=MDs(f,c),{position:new Bj(a.left+g,a.top+g),XLb:1,rmc:!1});k=Yj(k);a=NDs(k,f,ADs(b,90),c,d);k=NDs(k,f,ADs(b,-90),c,d);b=k.XLb+a.XLb+1;d=a.position;a=k.position;k=LDs(d,f,e);e=LDs(a,f,e);e=k||e?k?e?Fj(d,g)<=Fj(a,g)?d:a:d:a:void 0;return e?{position:e,XLb:b,rmc:!0}:
(c=MDs(h,c),{position:new Bj(g.x+c,g.y+c),XLb:b,rmc:!1})};JDs=function(a,b,c,d,e){const f=ODs(a,c),g=ODs(b,c);c=__c.Kj(f/2+g/2+80,c);a={x:c.x+a.center().x-b.width/2,y:c.y+a.center().y-b.height/2};b.rotation===0&&(d&&(a.x=Math.round(a.x/d)*d),e&&(a.y=Math.round(a.y/e)*e));return a};ODs=function(a,b){a=a.oh().map(c=>__c.Mj(c,b));return Math.max(...a)-Math.min(...a)};
NDs=function(a,b,c,d,e,f=0){a=JDs(a,b,c,e,e);const g=KDs(Yj({top:a.y,left:a.x,width:b.width,height:b.height,rotation:b.rotation}),d);return g?NDs(Yj(g),b,c,d,e,f+1):{position:a,XLb:f+1}};KDs=function(a,b){for(const c of b)if(a.intersects(Yj(c)))return c};EDs=function(a,b){const c={fd:n(a.fd).map(d=>{const e={...d.text.Iz(0),link:void 0};return{...__c.aSc.snapshot(d),text:Mg.ld().attrs(e).kT().build()}})};return{...__c.qde(qu,__c.Pn.snapshot(a)),...c,link:void 0,left:b.x,top:b.y}};
MDs=function(a,b){const c=f=>b.some(g=>{g=Yj(g);const h=a.translate(f,f);return g.approximatelyEquals(h)});let d=0,e=0;for(;c(d)&&e<100;)d+=__c.Hk,e+=1;return d};
PDs=function(a,b){var c=a.oh();a=Math.round(Math.min(...c.map(k=>k.x)));var d=Math.round(Math.max(...c.map(k=>k.x))),e=Math.round(Math.min(...c.map(k=>k.y)));c=Math.round(Math.max(...c.map(k=>k.y)));var f=b.oh();b=Math.round(Math.min(...f.map(k=>k.x)));var g=Math.round(Math.max(...f.map(k=>k.x))),h=Math.round(Math.min(...f.map(k=>k.y)));f=Math.round(Math.max(...f.map(k=>k.y)));return!(a>=g||d<=b||e>=f||c<=h)};
LDs=function(a,b,c){if(Bg(c))return!0;a=Yj({...b,top:a.y,left:a.x});return PDs(Vj(0,0,c.width,c.height),a)};SDs=function({update:a,getValue:b,PJb:c,jyb:d,label:e,oIh:f=!0}){const g=new QDs,h=new RDs(g,a,f);a=iV(()=>gV(fxs,{value:g.value,disabled:c===null||c===void 0?void 0:c(),Gx:b(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:e,unit:d===null||d===void 0?void 0:d()}));return{store:g,KX:a}};
YDs=function({document:a,viewport:b,Df:c,la:d}){const e=new TDs(a,b);a=new UDs(e,d);b=()=>` ${VDs[e.dimensions.units]}`;const {KX:f}=SDs({update:a.MFs,label:L("gPUe1Q"),getValue:()=>e.columns,oIh:!1}),{KX:g}=SDs({update:a.RSi,label:L("JE/qcA"),getValue:()=>e.rows,oIh:!1}),{KX:h}=SDs({update:a.LFs,getValue:()=>e.PDc,PJb:()=>e.Aom,jyb:b,label:L("zKi7Hw")}),{KX:k}=SDs({update:a.dHs,getValue:()=>e.noa,PJb:()=>e.a7n,jyb:b,label:L("zKi7Hw")}),{KX:l}=SDs({update:a.KFs,getValue:()=>e.S_c,jyb:b,label:L("8bavyQ")}),
{KX:m}=SDs({update:a.cHs,getValue:()=>e.Pdd,jyb:b,label:L("8bavyQ")}),p=()=>nV(xV,{children:[gV(f,{}),gV(h,{}),gV(l,{})]}),q=()=>nV(xV,{children:[gV(g,{}),gV(k,{}),gV(m,{})]});return{Abj:()=>gV(WDs,{Haj:p,ljj:q}),S_o:r=>gV(XDs,{Df:c,Haj:p,ljj:q,onClose:r.onClose}),store:e}};
eEs=function({viewport:a,document:b,header:c,ka:d,Df:e,V:f,la:g,plk:h,ZHg:k}){const {Abj:l,S_o:m,store:p}=YDs({document:b,viewport:a,Df:e,la:g}),q=new ZDs(p,d,a,b),r=new $Ds(b,q,d,h,k,f,g),t=()=>{r.qBn();c.k8()},u=new __c.q8d,w=()=>({sg:aEs,get tDa(){return d.layout===2?()=>gV(bEs,{onClick:t}):void 0},Twc:!1}),x=()=>u.dh({ff:()=>gV(m,{onClose:r.Ovs}),options:w()}),y=A=>{r.Cgo(A);q.lq==="custom"&&x()},z=iV(A=>gV(cEs,{options:dEs,lq:q.lq,Oe:A.Oe,Qc:r.nGn,di:r.oGn,Uy:y,oa:A.oa}));return{xdp:iV(A=>d.layout===
2?gV(z,{...A}):gV(cEs,{options:dEs,lq:q.lq,Oe:A.Oe,Qc:r.nGn,di:r.oGn,Uy:r.Cgo,onSubmit:r.qBn,onCancel:A.oa,oa:A.oa,Abj:q.uqo?l:void 0})),zZq:w,cHi:pV(()=>q.cHi),navigation:u}};gEs=function(a,b){const c=b.position;b=b.direction===1;const d=rk(a.ya,a.document.dimensions),{width:e}=yg(4,d);return fEs(d.units,(a.Ti&&!b?e-c:c)/Ov(d.units)).toString()};hEs=function(a,b,c){if(a.store.TVe==="viewable")return!0;c=a.ya===c;return!(a.store.hck.has(b)||a.canvas.U4a==="none"&&b.direction===1&&!c)};
iEs=function(a,b){return a.viewport.Ql(a.viewport.Zg).transformPoint(b)};kEs=function(a,b,c){a.N.track(jEs,{previous:c.toString(),value:b.position.toString(),direction:b.direction===1?"horizontal":"vertical",Yp:0,Ur:0,Ey:0})};mEs=function(a,b,c){var d=b.filter(e=>e.direction===2);b=b.filter(e=>e.direction===1).length;d=d.length;a.N.track(lEs,{G1q:-1,direction:b&&d?"mixed":d?"vertical":b?"horizontal":"none",kb:c,AZg:b,OZg:d,Yp:0,Ur:0,Ey:0})};
nEs=function(a){const b=a.filter(c=>c.direction===2);a=a.filter(c=>c.direction===1);return{direction:b.length&&a.length?"mixed":b.length?"vertical":a.length?"horizontal":"none",OZg:b.length,AZg:a.length}};fEs=function(a,b){const c=d=>{const e=Math.pow(10,d);return(Math.round(b*e)/e).toFixed(d)};switch(a){case 1:return c(1);case 2:return c(3);case 3:case 4:return c(0);default:throw new v(a);}};
oEs=function({onClick:a}){const b=kV(c=>{c.preventDefault()},[]);return gV("div",{className:"xlB9Gg",onPointerDown:a,onMouseDown:b})};
rEs=function(a){const b=new pEs(a.NNe,a.cxa,a.gd,a.Xa,a.Ma,a.Kn),c=a.Ja!=="responsive"&&a.vzb?new qEs(a.uug,a.vzb):void 0;a.ih.kc(()=>{const d=c===null||c===void 0?void 0:c.W0a;return d&&Object.keys(d).length!==0?{actions:d,Llf:c}:{actions:b.W0a,Llf:b}},(d,{actions:e,Llf:f})=>{d.tfj=e["add-column"]?{Button:m=>gV(m.hl,{Icon:Pu,label:L("gQ2wmg"),onClick:f.fxi,oa:m.oa})}:void 0;d.ufj=f.RSk&&e["add-row"]?{Button:m=>gV(m.hl,{Icon:Pu,label:L("yR5v2g"),onClick:f.RSk,oa:m.oa})}:void 0;const g=ub.direction===
2,h=g?xr:wr,k=g?wr:xr,l=f.xln;d.xfj=e["move-column-before"]?{Button:iV(m=>gV(m.hl,{Icon:l===2?k:h,label:l===2?L("AbZWJg"):L("GsrOSg"),onClick:f.yDn,oa:m.oa}))}:void 0;d.wfj=e["move-column-after"]?{Button:iV(m=>gV(m.hl,{Icon:l===2?h:k,label:l===2?L("GsrOSg"):L("AbZWJg"),onClick:f.xDn,oa:m.oa}))}:void 0;d.zfj=f.ADn&&e["move-row-up"]?{Button:iV(m=>gV(m.hl,{Icon:__c.NB,label:L("rLHohQ"),onClick:f.ADn,oa:m.oa}))}:void 0;d.yfj=f.zDn&&e["move-row-down"]?{Button:iV(m=>gV(m.hl,{Icon:__c.$t,label:L("SnU4qQ"),
onClick:f.zDn,oa:m.oa}))}:void 0},{equals:oV.shallow});return{zqr:b}};
vEs=function({gd:a,NNe:b,cxa:c,LA:d,oOe:e,HEf:f,Kn:g,Z$b:h}){function k(q,r){l.ipe&&c.ngb(l.ipe,g,q,r)}const l=new sEs(b,a,e,f,h),m=new tEs(l),p=q=>d.SN.transformPoint(q);return iV(()=>{const q=l.AGh,r=l.ipe,t=l.y5l,u=l.wln,w=l.eb;if(l.u6c||!(q&&t&&u&&w&&r))return null;var x;return gV(uEs,{Eca:u,oj:r,eb:w,gridTemplateColumns:t.grid.gridTemplateColumns,direction:(x=q===null||q===void 0?void 0:q.direction)!==null&&x!==void 0?x:1,ngb:k,MFj:p,Tvi:m.Tvi,Oxi:m.Oxi,zGh:m.zGh})})};
zEs=function(a){if(a.Ja!=="responsive"){const r=a.viewport,t=a.uug,u=a.Ycj;a.canvas.kc(()=>t.selected.p_n,(w,x)=>{w.yg.aQd=x?y=>y.page.page!==r.ya?null:gV(wEs,{Mrp:()=>gV(xEs,{viewport:r,Pc:y.Pc,context:x,zop:u})}):void 0})}const b=a.canvas,c=a.NNe,d=a.gd,e=a.jfj,f=a.Ggp,g=a.cBh,h=a.Hqr,k=a.HEf,l=a.Dgp,m=pV(()=>h.Bhn),p=pV(()=>h.JSa),q=pV(()=>k.OXb);b.kc(r=>r===40&&(c.selected.jw||c.focused.jw||c.VD.jw),(r,t)=>{r.xn.dM.aQd=t?()=>gV(yEs,{yI:c,gd:d,Vij:f,Uij:e,Cij:g,Jor:m,Fzk:p,OXb:q,GRo:l}):void 0})};
AEs=function(a,b,c){return Pj(b).transformPoint(__c.Qj(Aj(-c)).transformPoint(a))};GEs=function(a){var b=a.Xa;const c=a.viewport;var d=a.cxa;const e=a.mh,f=a.Z$b,g=new BEs(a.NNe,a.ptr,a.gd,f);b=new CEs(g,d,b,e,c);if(a.Ja==="responsive"||!a.uZd)return{cBh:DEs(g,b),HEf:g};d=a.vzb;a=new EEs(a.uug,f);return{Ycj:DEs(a,new FEs(a,d,e,c)),Irq:a,cBh:DEs(g,b),HEf:g}};
DEs=function(a,b){return iV(({$c:c=1})=>{const d=a.orientation,e=a.direction,f=a.gap,g=a.nEo,h=a.vzj,k=a.eb,l=a.dii,m=a.v6a,p=a.kfd,q=a.padding;return d&&l!=null&&f!=null&&g&&h&&k&&!p?gV(HEs,{orientation:d,width:h.pTd*c,height:h.fif*c,onClick:b.onClick,padding:{paddingTop:q.paddingTop*c,paddingRight:q.paddingRight*c,paddingBottom:q.paddingBottom*c,paddingLeft:q.paddingLeft*c},eb:k*c,T0q:g.map(r=>(r*c).toString()+"px"),gap:f*c,dii:l,onDragStart:b.onDragStart,pe:b.pe,onDragEnd:b.onDragEnd,lYd:m===null||
m===void 0?void 0:m.lYd,Rwb:m===null||m===void 0?void 0:m.Rwb,o$b:m===null||m===void 0?void 0:m.o$b,direction:e,$c:c}):null})};IEs=function(a,b){const c=a.oj.zoom;if(!(a.Kuo<a.oj.nXg)){b=b.x-a.yzl.x;a.Ilc==="right"&&(b*=-1);var d=a.oj.width/c;const e=a.oj.zoom;__c.vce(a.jw,d,Math.max(a.oj.nXg*e,Math.min((a.Kuo-b*2)/c,d)),a.oj.Mp.width,e)}};JEs=function(a,b){const c=(a.width-a.eb)/2;return Vj(b.tl.x+c,b.tl.y+a.padding.paddingTop,b.tr.x-c,b.br.y-a.padding.paddingBottom)};
KEs=function(a,b){const c=a.Ipa,d=a.oHb,e=a.B7l;if(c){var f=c.grid.gridTemplateColumns;b/=a.z1p;if(!(d>=f.length||e>=f.length)){a=f.map(k=>parseFloat(k));var g=f.reduce((k,l)=>k+parseFloat(l),0);a=a[d]+a[e];var h=.1*g;b=Math.max(h,Math.min(a-h,b*g));f=[...f];f[d]=`${b}fr`;f[e]=`${a-b}fr`;c.grid.gridTemplateColumns=f}}};
NEs=function(a,b,c,d,e){const f=new LEs(a,c,d,g=>n(b.CP).transformPoint(g),e);return iV(()=>{var g,h;const {oj:k,m6d:l}=(h=e.selected)!==null&&h!==void 0?h:{},{width:m,height:p}=l!==null&&l!==void 0?l:{};return m!=null&&p!=null&&k&&(g=sA(k))!==null&&g!==void 0&&g.wLc?gV(MEs,{eT:m,kBa:p,paddingTop:k.padding.paddingTop,paddingBottom:k.padding.paddingBottom,eb:k.eb,onDragStart:f.JTr,pe:f.ITr,onDragEnd:f.HTr,Ilc:e.Ilc,Z$b:e.Z$b}):null})};
QEs=function({selection:a,Zo:b,oOe:c}){const d=jV(()=>{c.NQg=!0}),e=jV(()=>{c.NQg=!1});b.Tu(()=>{var f,g,h,k,l,m;return{Ilc:c.Ilc,wLc:(m=((f=c.selected)===null||f===void 0?void 0:f.oj)!=null&&((g=sA(c.selected.oj))===null||g===void 0?void 0:g.wLc))!==null&&m!==void 0?m:!1,Dmr:((h=a.Jb)===null||h===void 0?void 0:h.type)===1&&((l=a.Jb)===null||l===void 0?void 0:(k=l.only)===null||k===void 0?void 0:k.type)==="layout"}},(f,{Ilc:g,wLc:h,Dmr:k})=>{f.layout.U7f=k?g||!h?()=>null:iV(({onDragStart:l,onDragEnd:m,
...p})=>{const q=c.selected.jw;var r=c.selected.oj;const t=c.selected.aIa;var u=c.selected.m6d;const {width:w,height:x}=u!==null&&u!==void 0?u:{},y=q&&r!=null?OEs(r):!1;r=kV((z,A,B,D,G)=>{l(z,A,B,D,G);y&&d()},[l,y]);u=kV(()=>{e();m()},[m]);return q&&t&&w!=null&&x!=null?gV(PEs,{width:w,height:x,kMs:y||c.NQg,onDragStart:r,onDragEnd:u,...p}):null}):void 0})};
TEs=function(a,b,c,d,e){const f=new REs(a,b,c,d,e);return{jfj:iV(()=>{const g=e.focused.jw,h=e.focused.oj,k=e.focused.m6d,l=e.focused.$Bf;return k&&g&&h&&l!=null&&!e.gKs?gV(SEs,{jw:g,m6d:k,oj:h,$Bf:l,onDragStart:f.lTr,pe:f.kTr,onDragEnd:f.jTr,onMouseEnter:f.onMouseEnter,onMouseLeave:f.onMouseLeave,onClick:f.onClick,Ezk:e.Ezk}):null})}};
YEs=function({Cd:a,Nr:b,V:c,Llf:d,yI:e}){const f=new UEs(e,d),g=new VEs(f,c);a.plugins.kic=()=>({Qd:()=>!!f.YTd,Button:h=>gV(WEs,{...h}),Su:{sg:()=>{L("BtDtuQ")}},na:iV(h=>{var k,l,m,p,q,r;return gV(XEs,{...h,Qh:b,uSk:((k=f.YTd)===null||k===void 0?0:k.cellPadding)?g.cRi:void 0,cellPadding:((l=f.YTd)===null||l===void 0?0:l.cellPadding)?f.wvm:void 0,iTr:((m=f.YTd)===null||m===void 0?0:m.columnGap)?g.JFs:void 0,columnGap:((p=f.YTd)===null||p===void 0?0:p.columnGap)?f.columnGap:void 0,i2r:((q=f.YTd)===
null||q===void 0?0:q.rowGap)?g.bHs:void 0,rowGap:((r=f.YTd)===null||r===void 0?0:r.rowGap)?f.rowGap:void 0})})})};
ZEs=function(a,b,c,d,e,f,g){const h=jV((q,r,t,u)=>{b.qIb==null&&(a.VD.Ayb={aIa:r,jw:q,n_c:t&&u?{rb:t,id:u}:void 0})}),k=jV((q,r,t)=>{b.qIb==null&&(a.VD.Ayb=t!==void 0?{aIa:r,jw:q,n_c:void 0}:void 0)}),l=jV((q,r,t,u)=>{switch(u){case "padding":c.nPi(r,q,[t]);break;case "before_text":c.Qu(t.text,Rw.start());c.focus();break;case "after_text":c.Qu(t.text,Rw.end());c.focus();break;default:throw new v(u);}}),m=d({}),p=(q,r)=>e.Hta(q,r);f.Ema.cAh=iV(q=>{const r=q.Pc,t=q.item,u=q.Mp,w=DV(()=>new __c.UIb(t,
u,r),[t,u,r]);return gV(__c.VIb,{...q,E9:m,oj:w,Nte:g.itr,Hta:p,onMouseEnter:h,onMouseLeave:k,mDn:l})})};
$Es=async function(a){var b,c;const d=(c=a.selection.La)===null||c===void 0?void 0:(b=c.pages)===null||b===void 0?void 0:b.at(0);if(d&&a.ja){d.id?c=new __c.Gt({selection:new __c.bwd({lyd:d.id})}):(b=a.session.document.pages.toArray().indexOf(d)+1,c=new __c.Gt({h_:b}));b=!(!a.$d||!__c.eVe(a.$d))&&a.Swg&&!!a.R6d.lWk;c=__c.Ft.bWb({id:a.ja,extension:a.session.extension,Cc:__c.ri(new __c.ti({wa:c}))});try{await a.IO(c),b&&a.V.track(__c.klk,{ja:a.ja,reason:"private_link_copied",errorMessage:"Private link copied to clipboard",
njb:"copy_page_link",location:"toast_message"}),a.la.Ib({Cb:b?L("jjR/oQ"):L("dYyNFQ"),media:{content:b?gV(fu,{size:"medium"}):gV(dy,{size:"medium"})},Qq:b&&a.R6d.lWk?{buttonText:L("dxl/gA"),onClick:a.R6d.lWk}:void 0}),a.V.track(Njf,{action:"copy",contentType:"page_link",kb:"menu"}),a.V.track(__c.ilk,{medium:"link",location:"page_menu",tsb:a.document&&a.$d?__c.Ukk(a.document.zc.extension,a.$d.xna,a.$d.uV):void 0})}catch(e){a.errorService.pa(e)}}};
bFs=function(a){const b=a.Cd,c=a.ih,d=a.la,e=a.V,f=a.session,g=a.ka,h=__c.hp();if(a.Ja!=="responsive"){var k=If(f.document),l=new aFs(a.R6d,a.selection,d,e,f,a.ja,h,a.errorService,a.document,a.Mtd,a.Swg,a.$d);if(l.pGp){const m=()=>$Es(l),p={Button:iV(r=>{var t,u;return gV(r.hl,{label:L("J3oYlg"),disabled:((u=a.selection.La)===null||u===void 0?void 0:(t=u.pages)===null||t===void 0?void 0:t.length)!==1,onClick:m,Icon:Do,oa:r.oa})})};c.kc(()=>{var r;return((r=a.selection.La)===null||r===void 0?void 0:
r.type)==="pages"&&(!a.selection.La.inner||g.layout===2&&a.selection.La.inner.type==="background")},(r,t)=>{r.jAc=t?p:void 0});const q={Button:({xi:r,onClick:t,...u})=>{const w=kV(()=>{t&&t();$Es(l)},[t]);return gV(r,{...u,icon:Do,yh:"icon-and-label",onClick:w,children:L("J3oYlg")})}};b.plugins.jAc=()=>({Qd:()=>{var r,t;return((r=a.selection.La)===null||r===void 0?void 0:r.type)==="pages"&&!((t=a.selection.La)===null||t===void 0?0:t.inner)},...q});a.BYd&&hV(()=>{var r,t,u;return(u=a.BYd)===null||
u===void 0?void 0:(t=u.get())===null||t===void 0?void 0:(r=t.selection)===null||r===void 0?void 0:r.lyd},r=>{if(r){const t=k.ha.pages.first(u=>u.id===r);t&&a.selection.GU(k,t)}})}}};
cFs=function(a,b){if(b.startsWith(location.origin)){var c=TJa(b);if(c&&c.id===a.ja)try{var d,e,f;const g=(f=(new URL(b)).searchParams.get("ui"))!==null&&f!==void 0?f:void 0,h=__c.cKa(g),k=h===null||h===void 0?void 0:(e=h.wa)===null||e===void 0?void 0:(d=e.selection)===null||d===void 0?void 0:d.lyd;return k?a.document.pages.first(l=>l.id===k):void 0}catch(g){}}};
eFs=function(a,b){const c=a.store.Vao;if(c){var d=!!a.store.link;c.forEach(({nvr:e})=>{e.set(b)});a.store.Lmb&&dFs(a,b);b&&a.la.Ib({Cb:d?L("vgGQGQ"):L("wStY/A")});a.sje({type:c[c.length-1].MMa.ha.type})}};
fFs=function(a,b){var c;if(a.store.Lmb){var d=((c=a.jc.state)===null||c===void 0?void 0:c.type)==="multi-config"?__c.CB(a.jc.state):a.jc.state;c=!!a.store.link;a.jc.select(a.store.Lmb);a.jc.setContext({[4]:void 0});dFs(a,b);d||a.jc.deselectAll();b&&a.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});a.sje({type:"text",wuj:!0})}};
hFs=async function(a,b){var c,d,e=a.store.xy;const f=!!a.store.link;if(e){var g=e.sheet;e=e.anchor;b?await ((c=a.DJ)===null||c===void 0?void 0:gFs(c,g,[e],b)):(d=a.DJ)===null||d===void 0||d.$Ki(g,e);b&&a.la.Ib({Cb:f?L("vgGQGQ"):L("wStY/A")});a.sje({type:"sheet-cell",wuj:!1})}};dFs=function(a,b){var c,d;const e=b==="";a.store.ANi&&(a.store.ANi.set(b),((d=a.store.W1a)===null||d===void 0?void 0:(c=d.inner)===null||c===void 0?void 0:c.type)==="sheet"&&a.jc.setAttributes({color:e?void 0:Py.color}))};
iFs=function(a){var b;a.G4b=a.selection.La;a.Odf=((b=a.jc.state)===null||b===void 0?void 0:b.type)==="multi-config"?__c.CB(a.jc.state):a.jc.state;a.Odf&&a.hVj==null&&(a.hVj=hV(()=>({jc:a.Odf,Ji:a.store.KAk,link:a.store.iFl}),({jc:c,Ji:d,link:e})=>{a.jc.state===c&&(a.Gnj=d,a.Hnj=e)},{equals:oV.structural,fireImmediately:!0}))};
kFs=async function(a,b){try{const c=await a.Th.Aqa(new __c.Vod({user:a.X.user.id,brand:a.X.zb.brand.id,types:[1],query:b,Fy:3,limit:5})),d=jFs(a,c),e=(d===null||d===void 0?void 0:d.map(a.w6l))||[];return await Promise.all(e)}catch(c){a.errorService.pa(c,{Ka:`Failed to search for designs with query: ${b}`})}};
jFs=function(a,b){if(b.items&&b.items.length){var c=Math.min(b.items.length,4);return b.items.map(d=>{var e,f;return{id:d.id,title:d.name,href:__c.Ft.bWb({id:d.id,extension:(f=d.document)===null||f===void 0?void 0:(e=f.extensions)===null||e===void 0?void 0:e.default}),hs:d.thumbnail&&d.thumbnail.url,width:d.thumbnail&&d.thumbnail.width||40,height:d.thumbnail&&d.thumbnail.height||40,Uq:d.Uq}}).filter(d=>d.id!==a.ja).slice(0,c)}};
lFs=async function(a,b){const c=__c.rif(a.Xa),d=a.undo.startBuffering();try{const f=a.ox.Mgb,g=a.ox.link,h=a.ox.QFf;if(f&&g!==null&&g!==void 0&&g.href){var e=await a.Hu.pK(g.href);await uV(async()=>{var k;if(((k=a.Xa.state)===null||k===void 0?void 0:k.type)==="RANGE"&&c!==null&&c!==void 0&&c.Oc){(k=a.Xa.state.xz)?a.Xa.Vv(c.Oc,k):(a.Xa.Qu(c.Oc,c),a.Xa.zHf(g.href));a.Xa.mQ();var l=TJa(g.href);l=h&&g.href&&g.href===h&&l?L("PwCL7w"):h;await b(f,g.href,e.title||l,k===null||k===void 0?void 0:k.width)}})}}finally{uV(()=>
{d.stop();c===null||c===void 0||c.disconnect()})}};mFs=function(a){switch(a){case "iframe":case "pill":return"item";case "link":return"text";default:throw new v(a);}};nFs=function(a,b,c){c=c(b).then(jV(d=>{a.Axb.delete(b);a.store.lgl.set(b,d);return d})).catch(jV(d=>{a.Axb.delete(b);d instanceof __c.jm&&a.cOm.add(b);throw d;}));a.Axb.set(b,c)};qFs=function(a){const b=new oFs,c=new pFs(b,d=>a.BEj({url:d,maxWidth:void 0,maxHeight:void 0}));return{mgl:b,dws:c}};
rFs=async function(a,b){b=(new URL(b)).pathname;b=TJa(b);if(!b)return[];try{const {document:c}=await a.Db.getDocument(new __c.dt({id:b.id,extension:b.extension,aFa:!0}));return c.draft.content.pages}catch(c){return[]}};
sFs=function(a){var b;if(((b=a.ox.link)===null||b===void 0?void 0:b.type)==="url"&&a.ox.link.href){var c=a.ox.link.href;rFs(a,c).then(jV(d=>{c.includes("include_page_ids")?a.E4i({pages:d,pFd:null,bWe:__c.oLr(c)}):a.E4i({pages:d,pFd:null,bWe:null});a.store.mGm=a.store.pFd.slice().sort().join(",");a.store.bxe=a.store.pFd}))}};
tFs=async function(a,b,c){var d;const e=__c.rif(a.Xa),f=(d=a.ox.wMa)===null||d===void 0?void 0:d.xz,g=a.undo.startBuffering();try{if((f===null||f===void 0?void 0:f.type)==="embed"){var h=f.url;h&&(await a.Hu.pK(h),await uV(async()=>{e!==null&&e!==void 0&&e.Oc&&(f&&a.Xa.Vv(e.Oc,f),a.Xa.mQ(),await b(c,{width:f.width,maxWidth:f.maxWidth}))}))}}finally{uV(()=>{g.stop();e===null||e===void 0||e.disconnect()})}};
yFs=function({ja:a,D$a:b,Oo:c,oc:d,V:e,Hu:f,KR:g,Db:h,Xm:k,errorService:l,Th:m,X:p,la:q,ubs:r,t1g:t,P:u,undo:w,...x}){const {M7f:y,Gof:z}=uFs({ja:a,Xm:k,errorService:l,Th:m,X:p}),A=new __c.JLr(x.ox,c,f,r===null||r===void 0?void 0:r.GPc,z),B=new __c.HLr(A,b,t,z),{C2o:D}=vFs({...x,pvr:B,Db:h,la:q,Hu:f,oc:d,V:e,KR:g,P:u,undo:w}),{zcf:G,KPc:I,f3k:K}=wFs({...x,Db:h,la:q,Hu:f,oc:d,V:e,undo:w}),{Chp:M}=xFs(),N=r?iV(()=>gV(r.zne,{urd:A.Mt,h_:A.h_,c9:B.c9})):void 0,Q=iV(()=>gV(y,{Gk:A.Gk,jxd:A.jxd,oZf:A.oZf,
uZa:B.uZa})),R=iV(ja=>gV(M,{...ja,M7f:A.jxd?Q:void 0,zne:N,dVr:B.X0m})),W=iV(ja=>gV(__c.OLr,{...ja,value:A.ygc,error:A.KAd!=="none",HOe:A.HOe,onChange:B.rUk,onSubmit:B.sUk})),X=iV(ja=>{const ia=ja.oa,ba=ja.Csb,ca=kV(()=>{B.onSubmit();ia===null||ia===void 0||ia()},[ia]),qa=kV(()=>{B.onRemove();ia===null||ia===void 0||ia()},[ia]);return gV(ba?__c.TLr:__c.SLr,{...ja,Dob:A.Dob,vzd:I.vzd,link:A.link,Iac:A.Iac,loading:A.Xqc,a9:ca,onCopy:b.onCopy,gcc:B.gcc,onRemove:qa})}),Z=iV(()=>gV(__c.QLr,{onClick:b.onCopy,
disabled:A.link.type==="page"||!A.Dob})),da=iV(()=>gV(__c.RLr,{onClick:B.onRemove,disabled:!A.Dob})),la=iV(ja=>gV(__c.PLr,{...ja,disabled:A.Xqc,FDa:A.FDa,value:A.Mt,error:A.zVi,Iac:A.Iac,mda:A.mda,Wsd:A.Wsd,Sw:A.Sw,onSubmit:B.onSubmit,onChange:B.VZb,fj:B.uhb,onFocus:B.BCi,dAf:B.dAf,Q1e:B.Q1e})),ka=()=>{B.Oba();sFs(K)},pa=()=>{B.QV();K.xzm()};return{W8f:iV(ja=>{const ia=!!N||A.jxd,ba=pV(()=>x.ox.jTg);return gV(__c.MLr,{...ja,Csb:A.Csb,URe:A.URe,open:A.open,Hac:A.iEk,KAd:A.KAd,Dob:A.Dob,Xqc:A.Xqc,fze:A.fze,
L3e:A.L3e,onBlur:B.Qkg,Oba:ka,QV:pa,EE:B.EE,selection:ba,Buttons:X,eq:la,Aca:ia?R:void 0,V8f:W,ckd:D,zcf:G,Bzh:Z,HCh:da})})}};BFs=function({document:a,je:b}){const c=new zFs(a);a=iV(({urd:d,h_:e,c9:f})=>{d=c.oYm(d);return gV(AFs,{pages:d,h_:e,ypc:c.ypc,onSelect:f,je:b})});return{store:c,zne:a}};
gFs=async function(a,b,c,d,e){c=c.filter(k=>a.dmb(b,[k],k));var f;const g=(f=e===null||e===void 0?void 0:e.Nsq)!==null&&f!==void 0?f:!1,h=c.filter(k=>{const l=a.contentType(b,k);return l===1||l===2||g&&a.isEmpty(b,k)});a.Xed(b,c,d,void 0);if(!(h.length<0))try{const k=await a.Hu.fetch(d);uV(()=>{CFs(a,b,h,k)})}catch(k){uV(()=>{a.Xed(b,h,d,void 0)})}};DFs=function(a,b,c,d){const e=a.link(b,c);(e===null||e===void 0?void 0:e.type)===0&&Bz(a.Wc,f=>{f.EGa(b,c,d)})};
EFs=async function(a,b,c){const d=a.TO(b,c);if(!d)throw Error("Cell has no URL to embed");const e=await a.Hu.fetch(d);uV(()=>{CFs(a,b,[c],e)})};CFs=function(a,b,c,d){Bz(a.Wc,e=>{for(const l of c){var f=e,g=b,h=l,k=d;f.setAttributes(g,h,{link:void 0,decoration:void 0,color:void 0});f.naa(g,h,__c.Fhe([{embed:{text:k.text?k.text:k.url,url:k.url}}]));f.u0(g,h,{type:"embed",xj:void 0})}})};
FFs=function(a,b,c){Bz(a.Wc,d=>{for(const g of c){var e=d,f=b;a.isEmpty(f,g)&&(e.setAttributes(f,g,{link:void 0,decoration:void 0,color:void 0}),e.u0(f,g,{type:"embed",xj:void 0}),e.naa(f,g,__c.NQd))}})};GFs=function(a,b){return(a=TJa((new URL(a)).pathname))?b?b.gqa(new __c.Tn(a)):Promise.reject(Error("DocumentService not provided")):Promise.reject(Error("Invalid document path"))};KFs=function(a,b,c){const d=new HFs(c);b=new IFs(b,d,c);return{DJ:a&&new JFs(a,b),W2e:d}};
OFs=function(a){const b=a.W2e,c=a.jc,d=a.Wj,e=a.ih,f=a.ka,g=a.N3a,h=a.W8f,k=new LFs(a.DJ,b,a.ZIs,a.ox,a.selection),l=new MFs(k,b,e),m=NFs(k,l,g,h);d.xn.kc(p=>{if(p===40&&f.layout!==2)return k.selection},(p,q)=>{q?(l.open(q.link),p.dM.x4b=iV(r=>gV(m,{selection:q,page:r.page.type==="responsive-page"?r.page.ha:void 0}))):(l.close(),p.dM.x4b=void 0)});d.kc(p=>{var q;if(p===40&&(c===null||c===void 0?void 0:(q=c.state)===null||q===void 0?void 0:q.type)!=="focused"&&f.layout!==2)return k.selection},(p,q)=>
{q?(l.open(q.link),p.yg.x4b=iV(r=>gV(m,{selection:q,page:r.page.ha}))):(l.close(),p.yg.x4b=void 0)});return{nJs:l}};NFs=function(a,b,c,d){const e=PFs(a,b,c,d);return iV(f=>{const g=f.selection;return gV(__c.vA,{nz:g.FD,page:f.page,Qjc:g.anchor,overflow:!0,children:gV(QFs,{anchorPoint:g.anchorPoint,children:gV(e,{selection:g})})})})};
PFs=function(a,b,c,d){const e=iV(()=>gV(d,{oa:b.uue,Oe:"fixed"})),f=iV(()=>gV(RFs,{open:a.rw,onClick:b.xMd,oa:b.uue,Gcj:e}));return iV(g=>{g=g.selection;if(g.link.type===2)return gV(SFs,{rw:a.rw,Gcj:e});const h=c(g.link.url);if(!h)return null;g=iV(()=>gV(TFs,{eTg:h,Xzo:a.doi}));const k=a.Fie,l=a.thumbnail;if(k&&l){const m=iV(()=>gV(UFs,{thumbnail:l,eTg:h}));return gV(VFs,{title:k,Lbf:m,fag:g,a8f:f})}return k?gV(WFs,{title:k,fag:g,a8f:f}):gV(XFs,{fag:g,a8f:f})})};
mGs=function(a){var b,c=a.selection;const d=a.Ma,e=a.Oo;var f=a.iTg;const g=a.Hu,h=a.KR,k=a.Db,l=a.V,m=a.keyboardShortcuts,p=a.i5n,q=a.XGa,r=a.toolbar,t=a.Cd,u=a.kba,w=a.ih,x=a.oc;var y=a.Wc;const z=a.Wj,A=a.viewport;var B=a.gb;const D=a.gd,G=a.la,I=a.we,K=a.session,M=a.X;var N=a.ja;const Q=a.Th,R=a.errorService,W=a.ka,X=a.Xm,Z=K.undo;let da,la;const ka=a.Ga.Ud("editor.editing.linking");var pa=new __c.INb(k);const ja=__c.hp(),{DJ:ia,W2e:ba}=KFs(y,g,k);y=a.Xa;B=new YFs(B,A);const ca=new ZFs(c,y,ia,
B,d,W,e,pa,M);var qa=new $Fs(x,g,pa,y,G,Z);const ra=new aGs(ca,qa,ia,y,G,l,N,ja);if(a.Ja!=="responsive"){const Xa=a.viewport;B=a.selection;const cb=a.jc,mb=a.je,nb=new bGs(a.session),{store:ob,zne:sb}=BFs({document:a.session.document,je:mb});pa=new cGs(f,B,d,cb,ca,ia,r,W,ob,e,pa,M);qa=new dGs(a.session.document,pa,qa,B,g,G,Z,ka,x);N=new eGs(f,pa,qa,ra,ia,nb,B,cb,Xa,G,l,N,ja,Z,a.session.document);f={GPc:ob,zne:sb};da=pa;la=N;y={Ja:a.Ja,X7b:qa,selection:B,document:a.session.document,ox:pa,DJ:ia,jc:cb,
Xa:y}}else da=ca,la=ra,f=void 0,y={Ja:a.Ja,X7b:qa,ox:ca,DJ:ia,Xa:y};const {W8f:sa}=yFs({...y,ja:K.id,D$a:la,Oo:e,oc:x,V:l,Db:k,Hu:g,KR:h,Xm:X,errorService:R,Th:Q,X:M,la:G,ubs:f,t1g:()=>{setTimeout(()=>{if(da.u1b&&Sa&&w.FZ(Sa)&&da.Rua){var Xa;(Xa=r.vE)===null||Xa===void 0||Xa.vB(da.Rua);w.Npd()}})},P:ka,undo:Z}),wa={Button:iV(Xa=>{const cb=Xa.onClick,mb=Xa.open,nb=kV(()=>{cb===null||cb===void 0||cb();!mb&&la.dMf("link")},[cb,mb]);return gV(fGs,{...Xa,onClick:nb,state:da.PFf,selected:da.FIi})}),Su:{sg:()=>
L("vcZEOw")},na:sa};t.plugins.Link=jV(()=>{da.Rua={Qd:()=>da.M3e,...wa};return da.Rua});const Aa={Button:iV(Xa=>{const cb=Xa.onClick,mb=Xa.open,nb=kV(()=>{cb===null||cb===void 0||cb();!mb&&la.dMf("link")},[cb,mb]);return gV(fGs,{...Xa,onClick:nb,state:da.PFf,selected:!1})}),na:sa};u?u.Link=()=>{da.Rua={Qd:()=>da.u1b,...Aa};return da.Rua}:(b=r.vE)===null||b===void 0||b.kc(()=>da.u1b,(Xa,cb)=>{da.Rua=cb?Aa:void 0;Xa.Link=()=>da.Rua});const Ba=Xa=>({Button:iV(cb=>gV(gGs,{...cb,link:Xa,label:da.QFf||
"",tooltip:da.Yni||"",icon:da.fTg,layout:W.layout,onClick:la.gcc,disabled:da.OFf}))}),za={Button:iV(Xa=>gV(hGs,{...Xa,onClick:la.onCopy}))};t.plugins.mdb=()=>({Qd:()=>da.P3e,...Ba(da.link)});t.plugins.Skb=()=>({Qd:()=>da.C3e,...za});if(u)u.mdb=()=>({Qd:()=>da.P3e,...Ba(da.link)}),u.Skb=()=>({Qd:()=>da.C3e,...za});else{var Fa,Da;(Fa=r.vE)===null||Fa===void 0||Fa.kc(()=>da.P3e?da.link:void 0,(Xa,cb)=>{Xa.mdb=cb?()=>Ba(cb):void 0});(Da=r.vE)===null||Da===void 0||Da.kc(()=>da.C3e,(Xa,cb)=>{Xa.Skb=cb?
()=>za:void 0})}b=iGs(e,la);const Oa=new jGs(c,A,D,d),{nJs:Ja}=ia?OFs({jc:a.Ja!=="responsive"?a.jc:void 0,selection:c,DJ:ia,ZIs:Oa,W2e:ba,ih:w,Wj:z,ka:W,N3a:b,ox:da,W8f:sa}):{};let Sa;const Ta=Xa=>()=>{var cb,mb,nb,ob;if(r.vE&&!r.vE.hidden&&da.Rua&&((cb=(mb=da.Rua).Qd)===null||cb===void 0?0:cb.call(mb)))r.vE.vB(da.Rua);else if((nb=wa.Qd)===null||nb===void 0?0:nb.call(wa))(ob=r.vE)===null||ob===void 0||ob.vB(wa);else if(Ja===null||Ja===void 0?0:Ja.isOpen)Ja.SJa();else if(Sa)da.xy&&Oa.GFj&&w.DMb(Oa.GFj,
"sheet","right_click"),w.R5(Sa);else return;la.dMf(Xa)},Za=Xa=>()=>{ia&&da.xy&&FFs(ia,da.xy.sheet,da.xy.cells);Ta(Xa)()},Ra=bl("k");c=[Ra,jV(Za("link_keyboard_shortcut")),L("vcZEOw"),["edit","suggest"]];m===null||m===void 0||m.register(c);p.register(c);q.register(c);w.kc(()=>({sfd:da.sfd,Fo:W.layout===2}),(Xa,{sfd:cb,Fo:mb})=>{Sa=cb?{Button:nb=>{const ob=mb?()=>{var sb;return(sb=nb.Jg)===null||sb===void 0?void 0:sb.dh({ff:sa,options:{sg:()=>L("vcZEOw")}})}:Ta("link_context_menu");return gV(kGs,{...nb,
state:da.PFf,jm:Ra,onClick:ob})},na:sa}:void 0;Xa.Link=Sa},{equals:oV.structural,a_n:!0});I===null||I===void 0||I.Am(()=>da.Z3e,{type:"simple",key:"link",name:L("vcZEOw"),Icon:Do,execute:async()=>{Ta("quick_actions")()}});I===null||I===void 0||I.Am(()=>da.ykh,{type:"simple",key:"link-insert",name:L("vcZEOw"),Icon:Do,execute:async()=>Za("quick_actions")()});a.Wj.Xj=b;a.Wj.dda.Xj=b;a.Ja!=="responsive"&&hV(()=>d.mode,Xa=>{switch(Xa){case 30:case 40:a.Wj.qEa.mBh=void 0;break;case 20:a.Wj.qEa.mBh=new lGs(a.selection);
break;case 10:a.Wj.qEa.mBh={CZf:()=>!0};break;default:throw new v(Xa);}},{fireImmediately:!0});return{DJ:ia}};nGs=function(a){hV(()=>a.Ot,b=>{b&&(a.store.ali=!0)});hV(()=>a.selection.La,()=>{a.store.ali=a.Ot})};oGs=function(a,{action:b,ML:c,tPe:d,location:e,mb:f}){b={ja:"",action:b,ML:c,tPe:d,location:e};f?(f.addEvent("actioned"),cp({mb:f,V:a.N,event:__c.Lyh,props:b})):a.N.track(__c.Lyh,b)};
pGs=function(a){return a.map(b=>{switch(b){case $l.Rs:return"content";case $l.CLa:return"text_formatting";case $l.COLOR:return"color";case $l.gkd:return"effects";default:throw new v(b);}})};
qGs=function(a,{selection:b,locked:c,ML:d,location:e,mb:f}){const g=[];switch(b.type){case "audio":break;case "pages":if(!b.inner){b=b.pages.filter(h=>h.type!=="responsive");b.forEach(h=>a.vc.gTc(h,c,d));b.length>1&&g.push("page");break}switch(b.inner.type){case "pages":if(!b.inner.inner){b.inner.pages.forEach(k=>a.vc.gTc(k,c,d));g.push("page");break}switch(b.inner.inner.type){case "background":b.inner.inner.Jc.forEach(k=>{a.vc.zSi(k,c)});g.push("background");break;default:throw new v(b.inner.inner.type);
}break;case "background":const h=b.inner.page;if(h.type==="responsive")return;if(Bg(h.dimensions||a.document.dimensions))break;b.inner.Jc.forEach(k=>{a.vc.zSi(k,c)});g.push("background");break;case "sheet":case "sheet-cell-media":break;default:throw new v(b.inner);}break;case "elements":b.elements.forEach(h=>{a.vc.Eol(h,c,d);g.push(h.type)});break;default:throw new v(b);}oGs(a,{action:c?"locking":"unlocking",ML:d!=null?pGs(d).join(","):"",tPe:g.join(","),location:e,mb:f})};
rGs=function({document:a,viewport:b,je:c}){var d=c&&__c.cyr(({zd:f,nd:g,sf:h,qpf:k})=>{f=[...a.pages][f-1];return gV(__c.LOm,{R4a:!k&&f.draft,children:gV(c,{nd:g,sf:h,page:If(a).tb(f)})})});const e=pV(()=>{const f=b.ya;return f!=null&&a.pages.has(f)?[...a.pages].indexOf(f):0});d=__c.rhq({Exg:!1,Yoa:d,So:e});return __c.T7p({fAc:d,yAc:__c.V7p()})};sGs=function(a){const b=new Map;b.set("pages",Array.from(a).join(","));return b};
tGs=function(a){switch(a){case 0:return"CX3XCQ";case 1:return"r4r9MA";case 2:return"HJl02Q";case 3:return"GuWP5w";default:throw Error("indentation not supported");}};uGs=function(a){a.store.Aui&&(a.store.Aui.selected=!1,a.store.Aui=void 0);a.store.$Yg&&(a.store.$Yg.selected=!1,a.store.$Yg=void 0)};
zGs=function(a,b){if(!a[0])return{tree:[],mbo:void 0};b=b[0];let c;var d=vGs(a);const e={};__c.vSb(d,4).forEach((k,l)=>{k.forEach(m=>{m=Math.round(__c.wSb({fontSize:m.attrs["font-size"],fontWeight:m.attrs["font-weight"]}));e[m]=l})});d=new __c.bj("outline-tree-");const f=new wGs(d.next(),-1,void 0);let g=f;for(const k of a){var h=(a=k.d$j)?Math.round(__c.wSb({fontSize:a.fontSize,fontWeight:a.fontWeight})):0;const l=e[h];a=b===k;if(l==null||l>=3||h<xGs||yGs(()=>k.tuc.get().trim()===""))g.selected=
g.selected||a,a&&(c=g);else{h=new wGs(d.next(),l,k);for((h.selected=a)&&(c=h);g.level>=h.level&&g.parent;)g=g.parent;h.parent=g;g.children.push(h);g=h}}return{tree:f.children,mbo:c}};vGs=function(a){a=a.map(c=>__c.mSb(c.d$j));const b=new Map;a.forEach(c=>{const d=__c.nSb(c),e=b.get(d);e?e.frequency++:b.set(d,{attrs:c,frequency:1})});return[...b.values()]};AGs=function(a,b){return a.Ma.mode<40?!0:b.draft?!1:a.document.pages.filter(c=>!c.draft).length<=1};
BGs=function(a,b){return a.Ma.mode<40?!0:b.ha.draft?!1:b.container.pages.filter(c=>!c.draft).length<=1};DGs=function(a,b,c){const d=a.P.sb("unhide_pages",{Fb:{name:`editor.page_drafting.${b}_unhide_pages`}});CGs(a,c,!1);a.LH("unhide",b,d,c);d.ne()};
EGs=function(a,b){const c=a.P.sb("unhide_sections",{Fb:{name:"editor.page_drafting.page_controls_unhide_sections"}});b.forEach(d=>{d.ha.draft=!1});b=b.map(d=>{var e;return(e=d.container)===null||e===void 0?void 0:e.ha});a.LH("unhide","page_controls",c,b);c.ne()};
FGs=function(a,b){const c=a.P.sb("hide_sections",{Fb:{name:"editor.page_drafting.page_controls_hide_sections"}});b.forEach(d=>{d.ha.draft=!0});b=b.map(d=>{var e;return(e=d.container)===null||e===void 0?void 0:e.ha});a.LH("hide","page_controls",c,b);c.ne()};CGs=function(a,b,c){b.forEach(d=>{d.draft=c;d.type!=="responsive"&&GGs(a,d)})};
GGs=function(a,b){var c,d;if(b.draft)switch(a=e=>{e.elements.Er(f=>lw(f))},b.type){case "fixed":a(b);break;case "concatenated-fixed":b.pages.forEach(a);break;default:throw new v(b);}else(c=(d=a.oc).Ipe)===null||c===void 0||c.call(d,b)};HGs=__c.HGs=function(a,b){a.N.track(__c.cah,b)};IGs=function(a,{c$m:b,qQm:c,kb:d,Rb:e}){a.N.track(__c.Sjf,{action:"reorder",kb:d,Rb:e,PTc:b.map(String),P_i:c.map(String),location:"page_navigator",Ey:0})};
KGs=function(a,{action:b,previous:c,current:d,kb:e,Rb:f}){a.N.track(JGs,{action:b,icd:c,nPj:d,kb:e,Rb:f})};MGs=function(a,{VJ:b,Rb:c,kb:d}){a.N.track(LGs,{w2s:b?"fixed":"scaled",Rb:c,kb:d})};OGs=function(a,{l8k:b,OOj:c,aQk:d,Rb:e}){a.N.track(NGs,{action:"resize",l8k:b,OOj:c,aQk:d,Rb:e})};
PGs=function(a,b){const c=Math.round(b.width),d=Math.round(b.height);if(a){if(c<=0||d<=0)return a;switch(b.units){case 1:return J("5fKDgA",[a,c,d]);case 3:return J("XW7xhg",[a,c,d]);case 2:return J("I87Viw",[a,c,d]);case 4:return J("E2FYXw",[a,c,d]);default:throw Error("Invalid unit type");}}};TGs=function({pfa:a,BS:b}){return{CWc:iV(({page:c,cDd:d,className:e})=>{const f=kV(()=>{a.bvl(c)},[c]);return gV(QGs,{className:e,onClick:f,XPk:d.Nea,dJe:d.dJe})}),vWc:b?c=>gV(RGs,{...c,BS:b}):void 0,bwt:SGs}};
UGs=function(a,b){const c=EKe(a,b);a=Yps(a,b)/c*100;var d;b=(((d=b.transition.ref)===null||d===void 0?void 0:d.durationUs)||0)/1E6;return{Fzl:a,A3h:b/c*100}};WGs=function({zy:a,Nxa:b,Bw:c,oN:d,document:e,uG:f}){const g=k=>e.pages.previous(k),h=k=>e.pages.previous(k,l=>!l.draft);return({page:k,mc:l})=>gV(VGs,{zy:a,Nxa:b,oN:d,Bw:c,uG:f,QYq:g,NYq:h,page:k,mc:l})};XGs=function(a,b){const c=a.props.rZb,d=a.props.durationUs;return{type:b,t4d:b==="end"?c+d:c,lln:void 0,gMg:a.props.Xo.scrollLeft,deltaX:0}};
ZGs=function(a,{qBf:b}){return(a=__c.Mi(a.targets.get(),c=>Math.abs(b-c.MCa)))&&YGs(a,b)?a===null||a===void 0?void 0:a.MCa:void 0};bHs=function(a,{MCa:b,qBf:c,dFf:d,b9d:e}){return $Gs(a,{MCa:b,qBf:c,dFf:d})||aHs(a,{b9d:e})};$Gs=function(a,{MCa:b,qBf:c,dFf:d}){if(a.hFf==null||d==null)return!1;d=Math.abs(b-c)>Math.abs(b-d);return a.hFf.YQs===b-c>0&&d};aHs=function(a,{b9d:b}){const c=n(a.hFf);return b-c.DB>a.XQs};
cHs=function({ajl:a,Xil:b,e4:c,page:d}){if(d.type==="responsive-page"||d.type==="concatenated-fixed-page")return{left:0,top:0,width:a,height:b};d=c.width/c.height;if(d<.9)return b=a*.6/c.width,d=c.width*b,{left:(a-d)/2,top:8,width:d,height:c.height*b};if(d>1.1)return a/=c.width,d=c.height*a,{left:0,top:(b-d)/2,width:c.width*a,height:d};const e=Math.max(a/c.width,b/c.height);d=c.width*e;c=c.height*e;return{left:d>a?-((d-a)/2):0,top:c>b?-((c-b)/2):0,width:d,height:c}};
eHs=function(a,b){var c;if(!b.VJ&&dHs(b,a))return(c=a.Jc.first())===null||c===void 0?void 0:c.color};fHs=function({r:a,g:b,b:c}){return`radial-gradient(100% 120% at 0% 120%, rgba(${a}, ${b}, ${c}, 0.8) 55%, rgba(0, 0, 0, 0))`};gHs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};hHs=function({r:a,g:b,b:c}){return`drop-shadow(0 0 5px rgb(${a} ${b} ${c} / 60%)) drop-shadow(0 0 8px rgb(${a} ${b} ${c}))`};
jHs=function(a){switch(a.type){case "fixed":return iHs(a);case "concatenated-fixed":return{gradient:{background:fHs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};case "responsive":return{gradient:{background:fHs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};default:throw new v(a);}};
iHs=function(a){var b,c,d,e;if(a.draft||((b=a.Jc.first())===null||b===void 0?0:b.image.ref)||((c=a.Jc.first())===null||c===void 0?0:c.video.ref)||((d=a.Jc.first())===null||d===void 0?0:d.gradient.ref))return{gradient:{background:"radial-gradient(100% 120% at 0 120%, rgba(13, 18, 22, 0.8), rgba(0, 0, 0, 0))"},text:{color:"#ffffff",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"},icon:{color:"#ffffff",filter:"drop-shadow(0 0 5px rgb(13 18 22 / 60%)) rgb(13 18 22 / 70%))"}};a=(e=
a.Jc.first())===null||e===void 0?void 0:e.color;if(!a)return{gradient:{background:fHs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};const f=Xh(a);e=Li(["#000000","#ffffff"],g=>__c.yj(g,f))==="#000000";return{gradient:{background:fHs(f)},text:{color:e?"#000000":"#ffffff",textShadow:gHs(f)},icon:{color:e?"#000000":"#ffffff",filter:hHs(f)}}};
kHs=function(a,b,c){var d;b=a.type==="fixed"&&b.P5d(a)&&!uf(a)&&(!Bg(b.document.dimensions)||c.i4>1);if(uf(a))return __c.iG;if(b)return __c.iAf;if(a.type==="concatenated-fixed")return __c.jO;if(((d=a.Fe)===null||d===void 0?void 0:d.type)==="inline")return __c.YJh;if(a=nk(c,a,__c.dSj))switch(a){case 9:return EV.twq?__c.Co:__c.IMp;case 1:return __c.IMp;case 2:return __c.afk;case 3:return __c.iAf;case 4:return __c.e9j;case 5:return __c.aPp;case 6:return __c.vD;case 7:return __c.jO;case 8:return __c.iG;
default:throw new v(a);}};lHs=function(a,b){b=a.Hnd.Zai(b);if(b===-1)throw Error("Audio track not found in audio timeline");const c=a.yGc>0?$c:0,d=a.Hnd.height.get()>0?$c:0;return{top:a.$Rc+a.yGc+c+a.XUf.height+d+b*a.Hnd.rowHeight.get(),rowHeight:a.Hnd.rowHeight.get()}};nHs=function(a){const b={XUf:{height:FV}};a=new mHs(b,a);return{xac:b,Hda:a}};
oHs=function(a,b,c){if(c&&(c=nk(a.gb,c,__c.dSj),a=a.gb.i4>1,EV.Cvq&&b.data.type==="searchMedia"&&(b.data.kind==="searchImageMedia"||b.data.kind==="searchPrivateMedia")&&(a||c!==6))){b=b.data.media.files.filter(f=>f.quality<=7).sort((f,g)=>g.quality-f.quality);const {height:d,width:e}=b[0];if(e&&d)return{type:"fixed",dimensions:{width:e,height:d,units:4},Fe:{type:"inline",FG:void 0}}}};
qHs=function(a,b,c){a.eGc===void 0&&a.store.ya!==c&&pHs(b)&&(a.eGc=window.setTimeout(()=>{a.store.XG(c);a.pdd()},750))};
rHs=function(a,b,c){a.eGc===void 0&&a.store.ya!==c&&(a.eGc=window.setTimeout(()=>{switch(b.data.type){case "editingElements":a.GG.r_h(c);a.store.mi&&a.store.XG(c);a.pdd();break;case "searchMedia":case "video":case "audio":case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "datasetFieldPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.store.XG(c);a.pdd();
break;default:throw new v(b.data);}},750))};
pHs=function(a){switch(a.data.type){case "chart":const b=a.data.Yb.config;a=a.data.Yb.ZQa==="state"?b.type:__c.wne(b.type);return __c.ffk(a,"responsive");case "table":case "video":case "searchMedia":case "embed":case "layout":case "sheet":case "template":case "design":return!0;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":return!1;default:throw new v(a.data);
}};
tHs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.pdd();b.data.type!=="editingElements"&&a.store.viewport.YE(c);a:switch(c.type){case "fixed-page":var e=c;break a;case "concatenated-fixed-page":e=c.tb(c.pages.first());break a;case "responsive-page":throw new __c.Ww;default:throw new v(c);}switch(b.data.type){case "editingElements":a.GG.r_h(c.page,"to-origin");a.store.mi&&(await ma(0),a.store.viewport.YE(c));break;case "searchMedia":switch(b.data.kind){case "futureSearchMedia":case "searchImageMedia":case "searchPrivateMedia":d=sHs(a,
e);b=b.data;b.kind!=="futureSearchMedia"?b={type:"image",image:Pif(b.media)}:(b=await b.future,b=b.type==="static"?{type:"image",image:Pif(b.media)}:{type:"video",video:b.video});d&&a.zl.i_a(d,b);break;default:a.Pxa.Vze(e,b,{location:"page_navigator",Msc:d})}break;case "video":c=await b.data.video;if(c.contentType==="STICKER"){a.Pxa.Vze(e,b,{location:"page_navigator",Msc:d});break}d=sHs(a,e);b={type:"video",video:c};d&&a.zl.i_a(d,b);break;case "audio":a.Pxa.Vze(e,b,{location:"page_navigator",Msc:d});
break;case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.Pxa.Vze(e,b,{location:"page_navigator",Msc:d});break;case "datasetFieldPlaceholder":break;default:throw new v(b.data);}};
uHs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.pdd();b.data.type!=="editingElements"&&a.store.viewport.YE(c);switch(b.data.type){case "chart":case "table":case "video":case "searchMedia":case "embed":case "layout":case "template":case "design":case "sheet":await a.Pxa.Vze(c,b,{location:"page_navigator",Msc:d});break;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":break;
default:throw new v(b.data);}};sHs=function(a,b){const c=a.nWq(b,b.page.elements.toArray());return c.length?c.reduce((d,e)=>d.Zr.width*d.Zr.height>e.Zr.width*e.Zr.height?d:e):__c.My.nba(b,__c.lk(a.Ih,b.page))};vHs=async function(a,b,c,d,e){c=a.orj(d,c,e);if(!c)return null;if(a.timing.Ws)return c;b.KF==="command"?await b.SRd(c):await b.Cra(c);__c.Ho.axg&&b.mi&&setTimeout(()=>a.selection.deselectAll());return c};
wHs=function(a,b,c){a.yvm=hV(()=>c.jh?c.ya:void 0,d=>{d&&b.LSa&&b.KF==="single"&&!b.mc(d)&&b.Bea(d)})};xHs=async function(a,b){a.mc(b)?await a.nFc(b):await a.SRd(b)};yHs=async function(a,b,c){if(b&&b!==c){if(a.ZJ===a.hC){var d=a.document.pages.first();const f=a.document.pages.last();if(a.ya===d&&b===f&&c===d||a.ya===f&&b===d&&c===f){await a.Cra(c);return}}var e=!1;d=a.document.pages.flatMap(f=>{const g=e;if(f===b||f===c)e=!e;return e||g?[f]:[]});await a.GU(pd([...a.Cg,...d]));a.dpa=c}else await a.Cra(c)};
zHs=function(a){a.$4k!=null&&(cancelAnimationFrame(a.$4k),a.$4k=void 0);a.K6g==null&&(a.K6g=a.P.sb("scroll",{Fb:{name:"page_navigator.scroll",performance:{lT:!0}}}),a.K6g.mb().nk(({Ii:b})=>{a.N.d3i({Rb:b()})}))};
CHs=function(a,b,c){const d=n(a.cVa),e=a.Xo.clientWidth,f=a.Xo.scrollTo;if(d.Iwa(c)){var g=n(__c.dSd(a.qd,c.Jc).find(l=>l.fill===b));c=g.startUs;var h=c+g.durationUs;g=d.YIa(c);var k=d.YIa(h);d.o0f&&AHs(a.timing.DG,{startUs:c,endUs:h})||!BHs(a,g,k)||(a=g,k-g<e&&(a=Math.max(0,(g+k)/2-e/2)),f({left:a,behavior:"smooth"}))}};
DHs=function(a,b){var c=n(a.cVa);const d=a.Xo.clientWidth,e=a.Xo.clientHeight,f=a.Xo.scrollTo,g=a.Xo.scrollHeight;b=a.l1a.RO(b);const h=b.startUs,k=h+b.durationUs,l=c.YIa(h),m=c.YIa(k);let p;c.o0f&&AHs(a.timing.DG,{startUs:h,endUs:k})||!BHs(a,l,m)||(p=l,m-l<d&&(p=Math.max(0,(l+m)/2-d/2)));const {top:q,rowHeight:r}=lHs(a.Hda,b);c=q+r;let t;q<a.Xo.scrollTop+a.Hda.$Rc?t=Math.max(q-a.Hda.$Rc,0):c>a.Xo.scrollTop+a.Xo.clientHeight&&(t=Math.max(c-a.Xo.clientHeight,0));a=()=>f({left:p,top:t,behavior:"smooth"});
t&&t+e>g?requestAnimationFrame(a):(p!=null||t!=null)&&a()};AHs=function(a,b){return b.startUs<=a&&b.endUs>=a};BHs=function(a,b,c){const d=n(a.cVa),e=a.Xo.scrollLeft;a=e+a.Xo.clientWidth-d.veb-d.e2f;return c<=e||b>=a};EHs=function(a,b,c="smooth"){const d=a.Xo.scrollLeft,e=a.Xo.scrollTo;a=a.Xo.offsetWidth;b<d?e({left:b-200,behavior:c}):(a=a!==null&&a!==void 0?a:0,b>d+a&&e({left:b+200-a,behavior:c}))};FHs=function(a){a.EIf!=null&&(cancelAnimationFrame(a.EIf),a.EIf=null);a.fQb=null;a.TUc=[]};
GHs=function(a,b,c,d){if(a.zu){var e=b,f=c,g=()=>{if(a.zu)if(e*=.95,f*=.95,Math.sqrt(e*e+f*f)<=1)a.EIf=null;else{var h={};if(d==="horizontal"||d==="diagonal")h.left=a.zu.scrollLeft-e;if(d==="vertical"||d==="diagonal")h.top=a.zu.scrollTop-f;a.Xo.scrollTo(h);a.EIf=requestAnimationFrame(g)}};a.EIf=requestAnimationFrame(g)}};LHs=function({timing:a,oN:b,P:c,N:d,Hda:e,l1a:f,qd:g}){c=new HHs(c,d);e=new IHs(c,a,e,f,g);a=new JHs(c,e,b,a);b=Vb()&&EV.JDq?new KHs(c):void 0;return{Jfg:a,Xo:c,pbb:e,PHl:b}};
PHs=function(a,b,c){const d=MHs(async()=>{const {xbq:e}=await __webpack_require__.me(106146).then(()=>({xbq:__c.NHs}));return{default:await e(a,b,c)}});return e=>gV(OHs,{fallback:null,children:gV(d,{...e})})};
RHs=function(a){const b=a.Wz;return iV(c=>{var d;const e=mV(null),f=(d=__c.Bga(e,{Kch:"--17LfHw"}))===null||d===void 0?void 0:d.Kch;lV(()=>{f&&b.Qjo(f)},[f]);return nV("div",{className:GV("ni1AiA",{hFmqkA:b.isLinear}),ref:e,children:[gV(QHs,{...a,...c}),b.F5b&&gV(a.n3o,{}),!!a.loe&&gV(a.loe,{})]})})};
SHs=function(a,b,c={}){let d=Zps(a.Ar,b);if(!d)return[];c.bgi||(d=d.filter(g=>c.bgi?!0:g.position===1));const e=a.Ow.YIa,f=e(b.startUs);return d.map(({He:g,position:h})=>{g=Math.floor(g*1E6+b.startUs-b.trim.startUs);return{MCa:g,Ygs:h,Aac:e(g,{withTrim:!0,Egc:!0})-f}})};
THs=function(a,b,c,d,e){const f=b.jT,g=b.track.volume,h=d+b.startUs,k=h+b.durationUs,l=b.ZHc&&!f,m=Math.round(h-b.trim.startUs);return a.Ow.m2c.map((p,q)=>{var r=p.page,t=p.Vda;const u=p.paddingRight;var w=p.durationUs;p=p.width;const x=t+w;var y=Math.round(Math.max(t,Math.min(h,x)));t=(l?x:Math.round(Math.max(t,Math.min(k,x))))-y;if(t===0||!HV(a.Ow,r))return null;r=y-m;w=p-p/w*(w-t);p=a.Ow.m2c;y=0;for(q+=1;q<p.length&&!HV(a.Ow,p[q].page);)y+=p[q].width+p[q].paddingRight,q++;q=q<p.length?y:0;return{state:{startUs:r,
durationUs:t,width:w,height:c,SYi:e,volume:g},draft:q>0,paddingRight:u+q}}).filter(tb)};UHs=function(a,b){const c=a.trim.startUs,d=b/a.durationUs;return{$uo:c?d*c:0,A9g:e=>1/d*e}};VHs=function(a){a.store.lKh="max"};
WHs=function(a,b,c,d){const e=a.Sla.Xfd;if(a.timing.Ws){b=a.mi.get()?[]:a.Sla.Bug.get();const h=a.Sla.iKh.get(),k=a.Sla.Tdh.get();return pd([...b,...h,...k]).map(l=>({MCa:l,sgd:e,N3c:e}))}const f=[{MCa:0,sgd:a.Sla.Xfd*5,N3c:a.Sla.Xfd}],g=a.Ar.ana==="trim"&&a.Ar.e3e(b.track)?SHs(a,b,{bgi:a.GUi}).map(h=>h.MCa):[];d.forEach((h,k)=>{const l=h.Vda,m=l+h.durationUs;f.push({MCa:m,sgd:e,N3c:d[k+1]?e:a.Sla.Xfd*5});c.forEach(p=>{l<p&&p<m&&f.push({MCa:p,sgd:e,N3c:e})});g.forEach(p=>{l<p&&p<m&&f.push({MCa:p,
sgd:p===0?0:e,N3c:e})})});return f};XHs=function(a,b){var c;const d=a.store,e=a.EKp;a=a.ret;const f=b.track,g=b.oxa,h=b.bBk;if(g&&g!==6&&g!==5||h)return d.Kch;if(((c=b.audio)===null||c===void 0?void 0:c.G5b)===2)return a;if(b=d.Bwj.get(f.audio))return b;const k=e[d.kln%e.length];uV(()=>{d.Bwj.set(f.audio,k);d.kln++});return k};YHs=function(a,b){a.Ar.select(...a.mR.filter(c=>c!==b))};
$Hs=function({positions:a,data:b}){if(a)return{box:{top:a.gy.y-(a.start?a.start.NCa.y:0),left:a.gy.x-(a.start?a.start.NCa.x:0)+(b.QK-ZHs),width:ZHs/b.QK*b.JI,height:ZHs,rotation:0}}};
cIs=function(a,b,c){const d=a.SGi.map(k=>k.map(l=>{var m;return(m=b.find(p=>p!==l&&p.track.id!=null&&p.track.id===l.track.id))!==null&&m!==void 0?m:l})),e=new Set(d.flat());var f=b.filter(k=>!e.has(k));const g=f.filter(k=>{var l;return((l=k.audio)===null||l===void 0?void 0:l.G5b)===2});f=f.filter(k=>{var l;return((l=k.audio)===null||l===void 0?void 0:l.G5b)!==2});g.length>0&&d.unshift(g);f.length>0&&d.push(f);const h=aIs(c);a.SGi=d.reduce((k,l)=>{l.filter(m=>b.includes(m)).sort(h).forEach(m=>{const p=
bIs(a,m,k);k[p]||(k[p]=[]);k[p].push(m)});return k},[]);a.dJl.clear();return a.SGi};bIs=function(a,b,c){a=a.dJl.get(b);var d;if(a&&!dIs(b,(d=c[a])!==null&&d!==void 0?d:[]))return a;d=c.findIndex(e=>!dIs(b,e!==null&&e!==void 0?e:[]));return d>=0?d:c.length};dIs=function(a,b){const c=a.ZHc&&!a.durationUs?Infinity:a.startUs+a.durationUs;return b.some(d=>d===a?!1:d.track.loop===2||a.track.loop===2?!0:(d.ZHc&&!d.durationUs?Infinity:d.startUs+d.durationUs)>a.startUs&&c>d.startUs)};
fIs=function(a){return b=>gV(eIs,{...a,...b})};gIs=function(a){const b=mV(null),[c,d]=tV(!0);lV(()=>{if(b.current)return a.observe(b.current,d)},[d,a]);return[c,b]};iIs=function(a){return b=>gV(hIs,{...a,...b})};
kIs=function({wmc:a,selection:b,ih:c,Ar:d,Wz:e,wA:f,dVa:g,Ow:h,hUq:k}){const l=r=>{const t=my(d,r);e.Apb(t)||__c.Nde(b,[r])},m=r=>{r.stopPropagation();e.U0c&&(r=my(e.Ar,e.U0c),e.sqh(r))},p=()=>{e.ftn("contextual_menu")},q=()=>{e.ktn()};c.kc(()=>{var r,t;return{URp:((r=b.La)===null||r===void 0?void 0:r.type)==="audio",For:((t=d.$Ra)===null||t===void 0?void 0:t.loop)===2}},(r,{URp:t,For:u})=>{t?(r.dyh=u?void 0:{Button:w=>gV(w.hl,{label:L("LNMQvg"),onClick:m,Icon:__c.sEg,disabled:!e.wBj||e.mR.length>
1,oa:w.oa})},r.Fzh={Button:w=>gV(w.hl,{label:J("Pd364g",[e.mR.length]),onClick:p,Icon:Tx,oa:w.oa,jm:"Delete"})},r.X7f={Button:w=>gV(w.hl,{label:J("ksDiTw",[e.mR.length]),onClick:q,Icon:__c.uPe,oa:w.oa,jm:bl("d")})},r.zca=u?void 0:{Button:w=>gV(w.hl,{label:L("0GYwog"),onClick:()=>{d.hkc.n6&&d.toolbar.vB(d.hkc.n6)},Icon:__c.n$g,oa:w.oa,disabled:e.mR.length>1})},a||(r.fsa={Button:w=>gV(w.hl,{label:L("dqBWeQ"),onClick:()=>{d.vNf()},Icon:__c.NKe,oa:w.oa,disabled:e.mR.length>1})})):(r.dyh=void 0,r.Fzh=
void 0,r.X7f=void 0,r.wld=void 0,r.zca=void 0,r.fsa=void 0)},{equals:oV.structural});return{onContextMenu:(r,t,u)=>{r.preventDefault();const w=__c.Cj({x:r.clientX||0,y:r.clientY||0});l(t);t=w.x;var x=k();!x||t<x||!f||!g||u!==null&&u!==void 0&&u.Qvu||(u=t-x,t=h.dHg(u)/1E6,x=h.YIa(g.currentTime*1E6,{Egc:!1}),Math.abs(x-u)>jIs&&(f.Lsb=t));c.DMb(w,"audio_timeline","right_click","bottom-start");r.stopPropagation()},lZa:(r,t)=>{r.stopPropagation();l(t)}}};
wIs=function({wmc:a,Dc:b,oc:c,viewport:d,Ma:e,Ar:f,l1a:g,K8b:h,selection:k,ih:l,Ho:m,Ow:p,Sla:q,timing:r,wA:t,dVa:u,Xo:w,errorService:x,ka:y,Pma:z,Bgc:A,Nxa:B,Lk:D,r2b:G,TFl:I,xac:K,kvg:M,xyg:N,cBs:Q}){const R=pV(()=>A.E3c),W=pV(()=>y.layout===2);x=PHs(x,m,M);const X=new lIs(f,g,k,new mIs,nIs,oIs,p,q,z,B,W,G,I,R,r,N,h,t,D),Z=parseInt("28px",10);K.Hnd={Zai:ja=>X.iZc.findIndex(ia=>ia.some(ba=>ba===ja)),height:pV(()=>{const ja=X.ihm,ia=B.voe&&B.iei.get()?Z:0;return ja+ia}),rowHeight:pV(()=>X.ywj),HZg:pV(()=>
X.iZc.length)};f.Fbi=ja=>{if(!p.Cgb)return p.Iwa(ja!==null&&ja!==void 0?ja:d.ya).Vda;if(ja)return p.Iwa(ja).Vda;var ia;ja=(ia=u===null||u===void 0?void 0:u.currentTime)!==null&&ia!==void 0?ia:0;return Math.max(Math.min(ja*1E6,f.dQe),0)};const da=fIs({Wz:X,LAc:x,Ho:m});g=pIs({Ow:p,Ar:f,Wz:X});const {onContextMenu:la,lZa:ka}=kIs({selection:k,Ar:f,Wz:X,ih:l,wmc:a,wA:t,dVa:u,Ow:p,hUq:()=>w.getBoundingClientRect().left+p.veb+qIs-w.scrollLeft});a=iIs({Ma:e,Ho:m,Ar:f,Wz:X,w3b:da,LAc:x,u$i:g,onContextMenu:la,
lZa:ka,Qza:l,Ow:p,mi:W,Xo:w});__c.gde(b,"audio",ja=>{X.dFn(ja.id);A.E3c&&setTimeout(Q)});k=async({data:ja,positions:ia})=>{if(ja.type==="audio"&&ia&&p.Wze!=null&&c.cGb!=null){ia=Math.max(Math.min(p.Wze*1E6,f.dQe),0);ja=await ja.audio;if(!ja)throw Error("The Audio object could not be found.");c.cGb(ja,{Uc:"object_panel_drag",startUs:ia});t===null||t===void 0||t.seek(p.Wze);p.onDrop()}};l={canDrop(){return!0},It:ja=>{if(ja.positions)return rIs(p,{scrollLeft:w.scrollLeft,left:w.getBoundingClientRect().left},
ja.positions.gy.x),X.FZb(ja.data.result.kd.Xq),$Hs(ja)}};a=lc(b,["audio"],async({data:ja,positions:ia},{zC:ba})=>{if(ja.type==="audio"&&ia&&p.Wze){ja=await ja.audio;if(!ja)throw Error("The Audio object could not be found.");t===null||t===void 0||t.seek(p.Wze);f.fdd(ba.track,ja,"audio_timeline_replace");p.onDrop()}},a,l);e=lc(b,["audio"],k,iV(ja=>gV(sIs,{children:ja.children,connectDropTarget:ja.connectDropTarget,drag:ja.drag,Wz:X,w3b:da})),l);k=lc(b,["audio"],k,iV(ja=>gV(tIs,{connectDropTarget:ja.connectDropTarget,
drag:ja.drag,Dc:b,Wz:X,Ow:p,w3b:da})),l);const pa=ja=>{var ia;ja.stopPropagation();(ia=B.l0k)===null||ia===void 0||ia.call(B,"audio_timeline")};l=iV(()=>X.vqa?gV(uIs,{onClick:pa,label:L("hrciHQ")}):null);A.QVl=RHs({kwj:new vIs,Wz:X,g$i:a,loe:l,w3b:da,n3o:k,f$i:e,mi:W});return{Wz:X,SKp:ja=>{if(ja.data.type==="audio")return X.FZb(ja.data.result.kd.Xq),$Hs(ja)}}};xIs=function(a,b){a.ooo.add(b)};
yIs=function({tf:a,Gpa:b,rw:c,onChange:d,onSubmit:e}){const f=mV(null),g=kV(k=>{d(!1);e(k)},[d,e]),h=kV(k=>{k.key==="Escape"&&d(!1);k.key!=="Enter"&&k.key!=="Escape"||setTimeout(()=>{var l;return(l=f.current)===null||l===void 0?void 0:l.focus()},0)},[d]);return c?nV(ir,{spacing:"0",Fa:"center",children:[gV(hr,{width:"content",children:gV(__c.Qu,{className:"FmO3ug",nM:a<10?"NxXA5w":a<100?"RzFpKA":"_3ZP36A",ariaLabel:L("8aYwqA"),placeholder:b===null||b===void 0?void 0:b.toString(),$g:g,onKeyDown:h,
autoFocus:"on-desktop",min:1,max:a,maximumFractionDigits:0,maxLength:a.toString().length})}),gV(hr,{width:"content",children:gV(P,{size:"medium",weight:"bold",className:"S9lMNA",children:J("bw8g6Q",[a])})})]}):gV(fj,{ref:f,className:"vZB9Zg",variant:"tertiary",size:"small",hb:L("8aYwqA"),onClick:()=>d(!0),children:b!=null?J("q6CACQ",[b,a]):J("plwCKA",[a])})};
BIs=function({keyboardShortcuts:a,document:b,viewport:c,gb:d,N:e,P:f}){const g=new zIs(c,b,d,e,f),h=l=>g.qpl(l),k=l=>g.Tfa(l);b=iV(l=>gV(AIs,{...l,rw:g.rw,onChange:h,onSubmit:k}));a.register([bl(Yo("g")),()=>g.qpl(!0),L("8aYwqA"),["edit","view","comment"]]);return{Z1o:b}};
FIs=function({Bgc:a,xac:b,Hda:c,onDragEnd:d,onDragStart:e,N:f,P:g,od:h=ub.od}){b.u2c={height:pV(()=>a.E3c?CIs:0)};const k=new DIs,l=new EIs(c,f,g);b=jV(p=>{l.onDragStart(k,p);e===null||e===void 0||e()});c=jV(()=>{l.onDragEnd(k);d===null||d===void 0||d()});f=jV(p=>{l.pe(k,p)});const m=new cr({fIa:pV(()=>"k1UFGA"),onDragStart:b,pe:f,onDragEnd:c});return{T7f:iV(function({disabled:p}){return gV("div",{className:GV("rRLseg k1UFGA",{QdeuaQ:k.isDragging,_7N0f3Q:h,hzE_6A:p}),onMouseDown:p?void 0:m.onMouseDown,
onTouchStart:p?void 0:m.onTouchStart,children:gV("div",{className:"y8mVQA"})})}),isDragging:pV(()=>k.isDragging)}};GIs=function(a){a.dzl=void 0;a.L_=void 0;a.Pze=void 0;a.OW=void 0;a.p_h=!1;a.jrc=!1;a.yQg=!1};
LIs=function({n2a:a,Xo:b,Nl:c,mi:d,timing:e}){const f=new __c.t4g;f.Ohb=b;lus(()=>{f.DVc({BVg:d.get()?400:void 0,RVg:400,LKg:d.get()?60:void 0,dwh:30})});b=new __c.r4g(f);const g=new HIs(c,d);c=new IIs(g,b);const h=__c.kc(a,"timelineItems"),k=__c.hde(h,"timelineItems",c.onDragStart,c.pe,c.onDragEnd,c.Iw,{w3a:{enabled:"touch-only"}});a=iV(({item:l,onDragStart:m,children:p})=>e.Ws?gV(JIs,{item:l,onDragStart:m,jnq:k,spq:g,children:p}):p);hV(()=>h.isDragging,l=>{l||GIs(g)});c=iV(()=>gV(__c.hd,{open:h.isDragging,
level:1,children:gV(KIs,{store:g})}));return{n2a:h,Pga:g,aAc:a,g3o:c}};OIs=function(a,b,c=d=>d.timing){return a.mQq.get()?MIs(b,c):NIs(b,c)};PIs=function(a,b,c){var d,e;if(((d=a.Cuc.get(b))===null||d===void 0?void 0:d.RNi)!==c.RNi||((e=a.Cuc.get(b))===null||e===void 0?void 0:e.nPb)!==c.nPb)c.RNi||c.nPb?a.Cuc.set(b,c):a.Cuc.has(b)&&a.Cuc.delete(b)};QIs=function(a,b){const c=a.startUs,d=a.endUs;return c===0&&d===Infinity?b.length>0:b.some(e=>e.endUs>c&&d>e.startUs)};
SIs=function(a,b,c,d,e=f=>f.timing){d=b<0?!1:b>=c.length?!0:d==="above";b=Math.max(0,Math.min(c.length-1,b));let f=RIs(a,c[b],e);if(f==null){if(d){b++;if(b>=c.length)return{rowIndex:c.length,Vbe:0,SHd:!0};f=RIs(a,c[b],e);return f==null?{rowIndex:b,Vbe:0,SHd:!0}:{rowIndex:b,Vbe:f,SHd:!1}}a=b>0?RIs(a,c[b-1],e):void 0;if(a==null)return{rowIndex:b,Vbe:0,SHd:!0};--b;f=a}return{rowIndex:b,Vbe:f,SHd:!1}};
RIs=function(a,b,c=f=>f.timing,d=0,e=b.length-1){if(!b.length)return 0;const f=a.startUs,g=a.endUs;if(f!==0||g!==Infinity){d=Math.max(0,d);e=Math.max(d,Math.min(b.length-1,e));if(f>=c(b[e]).endUs)return e+1;if(g<=c(b[d]).startUs)return d;if(d!==e){var h=d+Math.floor((e-d)/2),k=c(b[h]);if(f>=k.endUs)return RIs(a,b,c,h+1,e);if(g<=k.startUs)return RIs(a,b,c,d,h-1)}}};UIs=function(a,b){return new TIs(pV(()=>b.AYj(a)),pV(()=>b.timing.Ws))};
WIs=function(a,b){const c=a.vmf(a.page),d=n(b.parent),e=b.elements.map(f=>n(c.items.find(g=>g.element===f)));return{type:1,data:b,group:d,TBb:c,items:e,...VIs(a,c,e)}};XIs=function(a,b){const c=a.vmf(a.page),d=b.elements.flatMap(e=>{if(e.type==="group"){const f=c.items.filter(g=>g.parent===e);if(f.length)return f}return[n(c.items.find(f=>f.element===e))]});return{type:0,data:b,TBb:c,items:d,...VIs(a,c,d)}};
YIs=function(a,b){const c=a.vmf(a.page);let d=c.gxa;const e=b.wh.map(f=>{const g=a.qd.DK(f)||5E6,h=d;d+=g;return{timing:{startUs:h,endUs:h+g,durationUs:g},fill:f}});for(const f of e)c.Ol(f);return{type:2,data:b,TBb:c,items:e,...VIs(a,c,e)}};
VIs=function(a,b,c){const d=n(c[0]),e=n(b.b2d(d)).rowIndex,f=d.timing.startUs,g=c.slice(1);let h=Infinity,k=Infinity;for(const l of c)c=n(b.b2d(l)),h=Math.min(h,l.timing.startUs),k=Math.min(k,c.rowIndex);a=new ZIs(a.RTa,a.ePb,f,e,d.timing.durationUs,Math.max(0,f-h),Math.max(0,e-k));b=new $Is(b,a,d,g);return{Jmg:d,q6d:a,F8m:b}};
aJs=async function(a,b){var c=5E6;if(b.type==="video"){var d=await b.video;(d=d.yv||d.Tmc)&&(c=d*1E6)}d=a.vmf(a.page);c={timing:{startUs:d.gxa,endUs:d.gxa+c,durationUs:c}};d.Ol(c);c=[c];return{type:3,data:b,TBb:d,items:c,...VIs(a,d,c)}};
bJs=function(a,b){if(a.page.locked)return!1;switch(b.type){case "timelineItems":case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":return!0;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":return!0;case "searchElementGroupMedia":case "searchTemplate":return!1;default:throw new v(b);}default:throw new v(b);}};
fJs=function(a,b){const c=a.page;var d=b.TBb;const e=b.q6d;b=b.items;const f=cJs(b);if(e.nok){var g=[],h=new Set;for(const l of d.items){d=l.parent||l.element;if(b.includes(l)){if(d.type==="group"){if(h.has(d))continue;h.add(d)}c.elements.mxa(k,d);g.push(d)}var k=d}e.nPb?(dJs(a.L2c,g,void 0,e.nPb,void 0,Infinity),eJs(a.L2c,g,f)):eJs(a.L2c,[],f)}else eJs(a.L2c,[],f)};
gJs=function(a,b){const c=a.page,d=b.TBb,e=b.q6d,f=b.items;b=b.group;const g=cJs(f);if(e.nok){var h,k=!1,l=[];for(const p of d.items){f.includes(p)&&(k||(c.elements.mxa(h,b),k=!0),b.nb.mxa(m,p.element),l.push(p.element));if(p.parent===b)var m=p.element;k||(h=p.parent||p.element)}e.nPb?(dJs(a.L2c,l,b,e.nPb,void 0,Infinity),eJs(a.L2c,l,g)):eJs(a.L2c,[],g)}else eJs(a.L2c,[],g)};
hJs=function(a,b){const c=a.page;a=yg(4,a.gb.$k(c));const d=b.TBb;b=b.items;const e=new Map(b.map(g=>[g,n(d.b2d(g)).startUs]));let f;for(const g of d.items)if(b.includes(g)){const h=e.get(g),k=g.fill,l={...es.snapshot(k),durationUs:void 0,transition:void 0};f=c.elements.CI(f,{...Fs,fill:l,startUs:h,durationUs:g.timing.durationUs,top:0,left:0,width:a.width,height:a.height});c.Jc.has(k)&&c.Jc.delete(k)}else f=g.parent||g.element};
iJs=async function(a,{data:b,TBb:c,q6d:d,items:e}){var f,g=(f=c.items.find((r,t)=>c.items[t+1]===e[0]))===null||f===void 0?void 0:f.element;d={Uc:"object_panel_drag",startUs:d.startUs};g=g?{lLa:{type:"ref",after:g}}:{lLa:{type:"absolute",value:"bottom"}};switch(b.type){case "video":b=await b.video;a.oc.MD(b,d,g);break;case "chart":a.oc.fha(__c.Mif(b.Yb),d,g);break;case "searchShape":var h,k;(h=(k=a.oc).G9)===null||h===void 0||h.call(k,b.shape,b.ref,d,g);break;case "table":b=b.table;a.oc.addTable(b.data.oUc,
b.ref,d,g);break;case "line":var l,m;(l=(m=a.oc).AQa)===null||l===void 0||l.call(m,b.line.data,d,g);break;case "grid":var p,q;const {cells:r,layout:t}=__c.Aie(b.grid);(p=(q=a.oc).Fpe)===null||p===void 0||p.call(q,r,t,d,g);break;case "textParagraph":a.oc.addText(b.i7e.label,{...d,m_:b.I.m_},void 0,void 0,void 0);break;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":if(b.kind==="futureSearchMedia"){b=await b.future;
switch(b.type){case "static":b=Pif(b.media);a.oc.addImage(b,d,g);break;case "animated":a.oc.MD(b.video,d,g);break;default:throw new v(b);}return}b=Pif(b.media);a.oc.addImage(b,d,g);break;case "searchElementGroupMedia":throw Error("element groups not supported");case "searchTemplate":throw Error("templates not supported");default:throw new v(b);}break;default:throw new v(b);}};
jJs=async function(a,b){switch(b.type){case "timelineItems":return a=a.VBm,b.elements.length?b.parent?WIs(a,b):XIs(a,b):YIs(a,b);case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":case "searchMedia":return aJs(a.VBm,b);default:throw new v(b);}};
cJs=function(a){const {XNa:b,gxa:c}=a.reduce((d,e)=>{const f=e.timing.startUs;e=e.timing.durationUs;d.XNa=Math.min(d.XNa,f);d.gxa=Math.max(d.gxa,f+e);return d},{XNa:Infinity,gxa:0});return Number.isFinite(b)?c-b:0};
mJs=function({element:a,page:b,Icon:c,isActive:d,Ws:e,B8c:f,Pdn:g,ffn:h,yoo:k,JRd:l,width:m,trim:p}){a:switch(a.type){case "text":var q="fjN3Rg";break a;default:q="_5U_EXA"}d=GV("KFVziA",{v1Zhxg:f,Mztdbw:e&&!g,IytRuQ:g,A_OCpw:!e&&d,[q]:e});e=DV(()=>{if(!f)return null;const r=GV("_8XK3EQ",{parHvw:k});switch(a.type){case "text":return gV(__c.oA,{size:"small",tone:"primary",className:r});case "rect":if(a.fill.video.ref)return null;if(a.fill.image.ref)return gV(__c.Tu,{size:"small",tone:"primary",className:GV(r,
"qGJ1eQ")});default:return gV(kJs,{size:"small",tone:"primary",className:r})}},[f,k,a]);return nV("div",{className:d,children:[e,h&&gV(c,{width:m,height:lJs,qja:l,element:a,page:b,trim:p})]})};
nJs=function({xYj:a,qd:b,rag:c}){return iV(({page:d,element:e})=>{const {startUs:f,durationUs:g}=pXa(e,d.ha,b.tb(d.ha),void 0),h=a.fOd(g);return gV("div",{className:"VzBqkA",style:{width:h,height:a.rowHeight},children:gV(mJs,{element:e,page:d.ha,Icon:c,isActive:!1,Ws:!0,B8c:!0,Pdn:!1,ffn:!0,yoo:!1,width:h,trim:{startUs:f,endUs:f+g}})})})};
vJs=function({oc:a,n2a:b,gb:c,qd:d,wA:e,ng:f,Xo:g,Pga:h,xYj:k,Prq:l,L2c:m,vmf:p,BJc:q,rag:r}){const t=IV(w=>{var x=q(w);const y=new oJs(g,k,x);x=new pJs(y);w=new qJs(w,c,a,f,g,x,new rJs(w,d,y,l,p),l,h,m);return{N8a:x,f2c:w}}),u=iV(({connectDropTarget:w,drag:x,page:y})=>{const {N8a:z,f2c:A}=t(y);lV(()=>{if(x===null||x===void 0?0:x.J3)A.onDragEnter(x.data);else A.onDragLeave()},[A,x]);lV(()=>hV(()=>b.isDragging,B=>{B?A.JUb():A.$Tj()}),[A]);lV(()=>hV(()=>h.isDragging,B=>{B?e.m2e():e.QZe()}),[A]);return gV(sJs,
{connectDropTarget:w,N8a:z,children:gV(tJs,{store:z,MGa:k})})});h.fYl=nJs({xYj:k,qd:d,rag:r});return{Zcj:lc(b,uJs,(w,{page:x})=>{const {f2c:y,N8a:z}=t(x);w=n(z.Uze);y.onDrop(w)},u,{It:({positions:w},x)=>t(x.page).f2c.onDragOver(n(w)),canDrop:(w,x)=>bJs(t(x.page).f2c,w.data)})}};xJs=function(a){return JV(b=>gV(wJs,{...a,...b}))};yJs=function(a,b,c,d){return a.Ow.YIa(c,{...d,iah:b,zvb:a.gfn})};
zJs=function(a,b,c){if(!a.mi.get()){a.kd.Ljh=!1;c=a.Ow.dHg(c);var {Vda:d,durationUs:e}=a.Ow.Iwa(b);b=d+e;c=Math.min(b,Math.max(c,d));a.kd.kNc(c/1E6,c<b?"start":"end");a.kd.stop();requestAnimationFrame(()=>a.kd.Ljh=!0)}};AJs=function(a,b){return a.scrollHeight-Math.max(0,(b+1)*a.rowHeight)};
CJs=function(a,b,c,d,e,f,g){const h=IV(m=>c.Iwa(m).cRk),k=pV(()=>{const m=b.p0h;var p=b.zwa;const q=f.Zg;p=g.Ws&&q.type==="fixed-page"?q.ha:p;if(p==null)return[];const r=h(p);return m(p).filter(t=>b.HAa!==t.element).reduce((t,{element:u,parent:w})=>{const {startUs:x,durationUs:y}=w==null?u:__c.nXa(w,u);x&&t.push(x+r);(u=y&&(x||0)+y)&&t.push(u+r);return t},[])});a.Bug=k;const l=pV(()=>{var m=b.zwa;if(!m)return[];var p=g.Ws;const q=h(m),{durationUs:r}=c.Iwa(m);m=p&&e.get()?null:a.Qbd.get();m=m!=null?
[m]:[];const t=a.Tdh.get(),u=a.Bug.get(),w=p&&e.get()?[]:a.iKh.get();p=p?[]:a.dLh.get();const x=a.Xfd;return pd([...m,...t,...u,...w.filter(y=>y>q&&y<q+r),...p]).map(y=>({MCa:y-q,sgd:x,N3c:x}))});return{ePb:new BJs(l,a.XJe,d),Bug:k}};EJs=function({element:a,parent:b},c){const {startUs:d,endUs:e}=DJs({element:a,parent:b});return!!d||e<c||a.type==="group"&&a.nb.some(f=>EJs({element:f,parent:a},c))};
DJs=function({parent:a,element:b}){const {startUs:c=0,durationUs:d=Infinity}=a?__c.nXa(a,b):b;return{startUs:c,endUs:c+d}};dJs=function(a,b,c,d,e,f){b.forEach(g=>{const {startUs:h=0,durationUs:k=f-h}=c?__c.nXa(c,g):g,l=__c.Am({startUs:h+d,endUs:h+d+k},f);c?FJs(c,g,l,f):(g.startUs=l.startUs||void 0,__c.vKe(g,f,l))});e&&GJs(a,e,f);a.cge=0};
eJs=function(a,b,c,d=c){var e,f,g;(e=a.ANd)===null||e===void 0||e.addEvent("trimming");(f=a.ANd)===null||f===void 0||f.mb().nk(({Ii:h})=>a.V.track(HJs,{action:"trim",oD:b.map(k=>k.type),L1k:Math.floor(d/1E3),yOj:Math.floor(c/1E3),Rb:h()}));(g=a.ANd)===null||g===void 0||g.ne()};GJs=function(a,b,c){b.durationUs==null&&isFinite(c)&&c!==a.qd.tb(b)&&(b.durationUs=c)};
FJs=function(a,b,c,d){const {startUs:e=0,durationUs:f=d-e}=a,g=a.nb.toArray(),h=g.map(p=>{if(p===b)return{startUs:c.startUs,durationUs:c.endUs-c.startUs};const {startUs:q=0,durationUs:r=f-q}=p;return{startUs:q+e,durationUs:Math.min(r,f-q)}});var k=__c.Zfe(h,d);const l=k.startUs;k=k.endUs-k.startUs;e!==l&&(a.startUs=l||void 0);f!==k&&__c.wKe(a,d,{startUs:l,durationUs:k});for(a=0;a<g.length;++a){d=g[a];var m=h[a];const {startUs:p=0,durationUs:q=k-p}=d,r=Math.max(m.startUs-l,0);m=Math.min(m.durationUs,
k-r);p!==r&&(d.startUs=r||void 0);q!==m&&__c.wKe(d,k,{startUs:r,durationUs:m})}};
JJs=function(a,b){const c=jV(()=>{var d;a._open=!a._open;if(a._open){a.XZr();var e=a.selection.La;(e===null||e===void 0?void 0:(d=e.inner)===null||d===void 0?void 0:d.type)==="group"&&e.inner.group.type==="group"&&a.B_d.add(e.inner.group)}else a.B_d.clear();b.track(IJs,{action:a.open?"open":"close"})});return iV(d=>{const e=d.Jg,f=d.oa,g=kV(()=>{f===null||f===void 0||f();e===null||e===void 0||e.clear()},[e,f]);return gV(d.hl,{Icon:__c.kA,label:a.open?L("vATgeQ"):L("V59lIw"),onClick:c,oa:g})})};
KJs=function({store:a,V:b,ih:c}){const d=JJs(a,b);c.kc(()=>a.Hkh,(e,f)=>{e.PWc=f?{Button:d}:void 0})};LJs=function(a,b,c){if((a=a.jp(b.media))&&a.images.length){var d=c*__c.HYa();return Li(a.images,e=>e.height>d?-e.height:e.height).url}};MJs=function(a,b){const c=b.Nwd(a);if(c.length)return{frames:c};if(a=b.T5c(a))return{url:a}};
SJs=function(a,b,c,d,e,f,g,h){return iV(function({element:k,page:l,width:m,height:p,qja:q}){switch(k.type){case "text":return gV(NJs,{element:k,page:l,ME:e,B8c:g});case "group":if(!OJs(k))break;k=k.nb.first();return gV(NJs,{element:k,page:l,ME:e,B8c:g});case "rect":var r=k.fill.image.ref;if(g&&r){m=LJs(c,r,PJs);if(!m)break;return gV(QJs,{url:m})}const t=k.fill.video.ref;if(t&&f.Ws){r=MJs(t,d);if(r===null||r===void 0?0:r.frames)return gV(RJs,{fill:t,HJb:r.frames,Cf:d,width:m,height:p,qja:q,S6i:h});
if(r===null||r===void 0?0:r.url)return gV(QJs,{url:r.url})}}l=a.tb(l);return gV("div",{className:GV(["iQioCA"],{hCGVwg:g}),children:gV(b,{element:k,page:l,nd:PJs,sf:PJs})})})};
YJs=function({document:a,viewport:b,Wj:c,Nl:d,Pa:e,oc:f,Ow:g,cN:h,timing:k,wA:l,r2b:m,gb:p,Dc:q,Xo:r,Grg:t,Pga:u,aAc:w,selection:x,UR:y,ih:z,ME:A,vc:B,qd:D,Bgc:G,xac:I,Hda:K,Sla:M,Ma:N,A5d:Q,mi:R,Lk:W,V:X,Ga:Z}){Z=Z.Ud("editor.editing.page_navigator.timeline.element_timing");const da=new TJs(a,Q,R,D,x,g,p,k,()=>{c.oq="thumbnail";R.get()&&b.zoom.mode==null&&b.My(b.ya,"fit")});t.add(()=>!da.open);({ePb:t}=CJs(M,da,g,W,R,b,k));W=new UJs(l,D,X,Z,W);const la=IV(pa=>UIs(pa,da));M=pV(()=>G.E3c||EV.tah);
const ka=new VJs(b,a,da,g,la,R,M);I.t0h={XVq:(pa,ja)=>{pa=la(pa).Nwf(ja);if(!pa)throw Error("Element position not found");return AJs(ka,pa.rowIndex)},height:pV(()=>ka.yGc),rowHeight:ka.rowHeight,HZg:pV(()=>ka.PIk)};m=new WJs(a,da,D,l,g,B,x,ka,la,m,N,X,t,Z,R);B=If(a);d=SJs(B,d,e,h,A,k,!!m.B8c,(pa,ja)=>XJs.factory(pV(()=>g.SBa),D)(pa,ja));({Zcj:f}=vJs({oc:f,n2a:q,gb:p,qd:D,wA:l,ng:x,Xo:r,Pga:u,xYj:ka,Prq:t,L2c:W,vmf:pa=>UIs(pa,da),BJc:la,rag:d}));G.eYl=xJs({mi:R,document:a,viewport:b,L:m,store:da,MGa:ka,
Hda:K,BJc:la,Pga:u,Ow:g,b9e:W,UR:y,ih:z,rag:d,aAc:w,Zcj:f,aUj:M,Xo:r});KJs({store:da,V:X,ih:z});return{Cug:da}};ZJs=function({Ar:a,ih:b}){b.kc(()=>({iSp:a.Zhm,ASp:a.qim}),(c,{iSp:d,ASp:e})=>{c.Mhj=d||e?{Button:f=>{const g=kV(h=>{h.stopPropagation();d?a.mUn():a.VHo()},[]);return gV(f.hl,{label:d?L("NH7+Vw"):L("6vk0bw"),onClick:g,Icon:Do,oa:f.oa})}}:void 0})};
hKs=function({P:a,s2a:b,A5d:c,mi:d,d1c:e,Sla:f,Wz:g,wA:h,dVa:k,Ow:l,uG:m,Xo:p,timing:q,jdq:r}){const t=pV(()=>h.Lsb!=null?l.YIa(h.Lsb*1E6):null),u=pV(()=>{var Q;return(Q=h.Hjc)!==null&&Q!==void 0?Q:!1}),w=pV(()=>{const Q=r===null||r===void 0?void 0:r.get();return Q!=null?Q/1E6:k.currentTime}),x=pV(()=>q.Ws||(r===null||r===void 0?void 0:r.get())!=null?!1:!0),y=CV.box(!1);let z=!1,A;const B=jV(()=>{$Js(h);(A===null||A===void 0?0:A.isRecording())||(A=a.sb("playhead_drag",{performance:{lT:!0}}));y.set(!0);
(z=k.If)&&h.pause({seeking:!0,ended:!1});h.Bol(!0);h.Hjc=!1}),D=jV(()=>{y.set(!1);const Q=l.zwd(k.currentTime,u.get());h.XG(Q);h.Bol(!1);z&&h.play();aKs(h);A===null||A===void 0||A.ne({qx:({Ii:R})=>{R=R();b.track(bKs,{action:"seek",kb:"click",Rb:R});A=void 0}})}),G={top:$c*2.5,height:pV(()=>p.clientHeight)},I=iV(({prc:Q})=>gV(cKs,{Ow:l,ewc:h.seek,currentTime:w,onDragStart:B,onDragEnd:D,playing:k.If,scrolling:!!Q,hidden:c.get(),IFo:h.aNe||!(g===null||g===void 0||!g.WRd)||g.unk,Wph:G,Fo:d.get(),dIh:u,
Xo:p,zvb:x})),K=new dKs,M=new eKs(K,l,e,w,fKs,q),N=iV(()=>!Wb()||d.get()||m.VJ?null:gV(gKs,{store:K,L:M,Ugc:f.Qbd.get()!=null||l.Wjr||!!g.WRd||c.get()||t.get()!=null||K.Ugc,Wph:G}));return{N_q:M,vmp:iV(({prc:Q})=>!l.Cgb||l.h3e&&m.VJ&&!k.If&&!y.get()?null:nV(xV,{children:[gV(N,{}),gV(I,{prc:Q})]}))}};jKs=function({Ow:a,wA:b,$f:c,Fz:d}){const e=new iKs(a,b,d);c.QFn=()=>{setTimeout(()=>{e.Ego(!0)},18E4)}};
nKs=function({xac:a,Bw:b,uG:c,Xo:d,T5j:e}){a.kzs={height:pV(()=>b.isLinear?kKs:0)};const f=new lKs(b,c,d,e);return{Vlj:iV(()=>b.isLinear?gV(mKs,{store:f,Bw:b}):null)}};pKs=function(a,b){const c=n(b.image.ref),d=a.qd;return oKs({type:1,key:a.generateKey(),fill:b,Lx:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.DK(this.fill)||5E6},jT:Infinity},{trim:pV,durationUs:pV})};
qKs=function(a,b){const c=n(b.gradient.ref),d=a.qd;return oKs({type:3,key:a.generateKey(),fill:b,nSa:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.DK(this.fill)||5E6},jT:Infinity},{trim:pV,durationUs:pV})};
rKs=function(a,b){const c=a.qd;return oKs({type:2,key:a.generateKey(),fill:b,get color(){var d;return(d=b.color)!==null&&d!==void 0?d:"#ffffff"},get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.DK(this.fill)||5E6},jT:Infinity},{color:pV,trim:pV,durationUs:pV})};sKs=function(a,b){const c=a.qd;return oKs({type:5,key:a.generateKey(),fill:b,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.DK(this.fill)||5E6},jT:Infinity},{trim:pV,durationUs:pV})};
tKs=function(a,b){return b.video.ref?a.NLj(b):b.image.ref?pKs(a,b):b.gradient.ref?qKs(a,b):b.color?rKs(a,b):sKs(a,b)};vKs=function(a,b){const c=uKs(Promise.resolve(b));return oKs({type:4,key:a.generateKey(),get durationUs(){return c.case({pending:()=>5E6,rejected:()=>5E6,fulfilled:d=>{var e;const f=(e=d.yv)!==null&&e!==void 0?e:d.Tmc;return f==null?5E6:f*1E6}})},get jT(){return this.durationUs},get trim(){return{startUs:0,endUs:this.durationUs}}},{durationUs:pV,jT:pV,trim:pV})};
wKs=function(a){return{type:4,key:a.generateKey(),durationUs:5E6,jT:5E6,trim:{startUs:0,endUs:5E6}}};xKs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};
yKs=function(a){switch(a.type){case 5:return{textColor:"black",textShadow:void 0};case 0:case 1:case 3:return{textColor:"white",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"};case 2:const b=Xh(a.color);return{textColor:Li(["#000000","#ffffff"],c=>__c.yj(c,b))==="#000000"?"black":"white",textShadow:xKs(b)};default:throw new v(a);}};
BKs=function({oN:a,fxa:b,fee:c,vjj:d,Pqp:e,cmj:f}){return iV(({scene:g,width:h,height:k})=>{const l=b.ezb(g),m=c.GHe(g).wtb;var p=m!=null;const q=h>50,r=!a.mi&&c.GHe(g).bma.isVisible;p=!q||p||!l||r;return gV(d,{scene:g,Fo:a.mi,children:nV("div",{className:GV("FlISGw",{_Tgftw:l}),style:{width:h-zKs/2,height:k},children:[gV(e,{scene:g,width:h,height:k,qja:m}),gV(f,{fill:g.fill,mc:l}),gV(AKs,{scene:g,hidden:p})]})})})};
CKs=function({AFa:a,F0b:b,fXj:c,fee:d,$le:e}){const f=IV(h=>b.LFg(a.scenes,h)+b.Rfb(h)-zKs/2),g=iV(({scene:h})=>{const k=mV(null),l=kV(()=>{uV(()=>{a.nAf=h.fill})},[h.fill]),m=kV(()=>{uV(()=>{a.nAf=void 0})},[]);lV(()=>{const p=k.current;if(p)return hV(()=>f(h),q=>{p.style.left=`${q}px`},{fireImmediately:!0,scheduler:requestAnimationFrame})},[h]);return b.Rfb(h)<50?null:gV("div",{ref:k,className:GV("_9yzjaQ"),onMouseEnter:l,onMouseLeave:m,children:gV(e,{fill:h.fill})})});return iV(()=>{const h=Vb()?
d.cJp(a.scenes):d.bJp(a.scenes)||d.Sor(a.scenes);return gV("div",{className:GV("UMhIdg",{_8LWVwQ:h||c.JUb}),children:a.scenes.map((k,l)=>l>=a.scenes.length-1?null:gV(g,{scene:k},k.key))})})};
EKs=function(a,b){if(a.AFa.page.ha.locked)return!1;switch(b.type){case "timelineItems":return b.elements.length===1?DKs(a,b.elements):b.wh.length===1?a.AFa.zlr(b.wh[0]):!1;case "video":return b.kind==="futureVideo"?!1:b.video.contentType==="VIDEO";case "searchMedia":a:switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":a=!0;break a;case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":a=!1;break a;default:throw new v(b);}return a;case "file":return!!a.kh;
default:throw new v(b);}};DKs=function(a,b){return b.every(c=>FKs(a,c))};FKs=function(a,b){return b.type!=="rect"?!1:b.fill.video.ref?(a=(b=b.fill.video.ref.video)?a.$b.sda(b):void 0,!(a==="VECTOR_STICKER"||a==="STICKER"||a==="CLIP")):b.fill.image.ref?__c.hh(a.Pa,b.fill.image.ref)===1:!!b.fill.gradient.ref||!!b.fill.color};
GKs=function(a,b){const c=a.Qdh,d=a.AFa;switch(b.type){case "timelineItems":return[...b.wh.map(e=>d.K6h(e)).filter(tb),...b.elements.filter(e=>FKs(a,e)).map(e=>tKs(c,e.fill))];case "video":return[vKs(c,b.video)];case "searchMedia":switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":return[wKs(c)];case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":throw Error("Unsupported drag type");default:throw new v(b);}case "file":return[wKs(c)];
default:throw new v(b);}};MKs=function(a,b,c){var d;if((d=a.kh)!==null&&d!==void 0&&d.Caa){var e=a.AFa.scenes[c.index],{Bc:f,images:g}=a.kh.Caa(b,"canvas");b.filter(h=>HKs.includes(h.type)).length!==0&&(f.then(h=>{uV(()=>{for(const k of h)c.type==="replace"?IKs(a.fxa,e,k):JKs(a.fxa,k,e,"drag_file")})}),g.then(h=>{uV(()=>{for(const k of h){const l=Qif(k);c.type==="replace"?KKs(a.fxa,e,l):LKs(a.fxa,l,e,"drag_file")}})}))}};NKs=function(a){a.pxc=void 0;a.UTc=void 0;a.RTa=void 0;a.o7g=void 0;a.gee=void 0};
SKs=function({Pa:a,$b:b,n2a:c,Xo:d,Pga:e,aAc:f,AFa:g,fxa:h,Qdh:k,F0b:l,Oqp:m,kh:p}){const q=new OKs(d,g,e,l),r=new PKs(a,b,d,q,k,e,g,h,p);a=iV(w=>{const x=kV(()=>r.Q5p(w.scene.fill),[w.scene.fill]);return gV(f,{item:w.scene.fill,onDragStart:x,children:gV(m,{...w})})});const t=iV(({scene:w})=>{var x;const y=mV(null),z=((x=q.RMg)===null||x===void 0?void 0:x.type)==="replace";x=w.fill!=null&&h.ezb(w);lV(()=>{const A=y.current;if(A)return hV(()=>q.UVq(w),B=>{A.style.transform=B?`translateX(${B}px)`:""},
{fireImmediately:!0})});return gV("div",{ref:y,className:GV("nvSIEQ",z?"Lmgmmw":"ChvVrA",z&&!x&&"QLhSLg"),style:{width:l.Rfb(w),height:FV},children:z&&gV(S,{background:"contrast",borderRadius:"elementRound",padding:"1u",children:gV(__c.Q4f,{size:"small",className:"qlLLfw"})})})}),u=iV(()=>{var w;return(w=q.eXj)!==null&&w!==void 0&&w.length?q.eXj.map(x=>gV(t,{scene:x},x.key)):null});b=iV(({connectDropTarget:w,drag:x})=>{lV(()=>{if(x===null||x===void 0?0:x.J3)r.onDragEnter(x.data);else r.onDragLeave()},
[x]);lV(()=>hV(()=>c.isDragging,y=>{y?r.JUb():r.$Tj()}),[]);return gV(QKs,{connectDropTarget:w,store:q,children:gV(u,{})})});return{fXj:q,hgj:lc(c,RKs,w=>{const x=q.RMg,y=(x===null||x===void 0?void 0:x.type)==="replace"||q.L3m;if(x!=null&&y){if(!EKs(r,w.data))throw Error("Unacceptable drag data provided on drop");r.onDrop(w.data,x)}},b,{canDrop:w=>EKs(r,w.data),It:({positions:w})=>{r.onDragOver(n(w))}}),scj:a}};
UKs=function(){const a=new TKs,b=({children:c,zNq:d,Usr:e,r7i:f=20})=>{lV(()=>{a.ALo(d,e)},[d,e]);lV(()=>{a.tKo(f)},[f]);return c};return{dhp:({itemSizes:c,yn:d,children:e,kSl:f,lSl:g,r7i:h})=>gV(__c.NC,{yn:d,itemSizes:c,eua:f,vAo:g,children:k=>gV(b,{zNq:(k===null||k===void 0?void 0:k.p$)||0,Usr:(k===null||k===void 0?void 0:k.J$)||0,r7i:h,children:e})}),Dtr:a}};
VKs=function({Jhb:a,AFa:b,hgj:c,F0b:d,Nqp:e,pee:f,hSc:g,DTo:h}){const {dhp:k,Dtr:l}=UKs(),m=iV(({index:r,scene:t})=>l.F_q(r).qKs?gV(e,{scene:t}):null),p=iV(()=>b.scenes.map((r,t)=>gV(m,{index:t,scene:r},r.key))),q=iV(({yn:r,kSl:t,lSl:u,r7i:w})=>{const x=mV(null);lV(()=>{const y=x.current;if(y)return hV(()=>d.rYq(b.scenes),z=>{y.style.paddingLeft=z?`${z}px`:""})},[]);return gV("div",{ref:x,className:"awPkZA",style:{height:FV},children:nV(k,{itemSizes:d.QZm(b.scenes),yn:r,kSl:t,lSl:u,r7i:w,children:[gV(p,
{}),gV(h,{})]})})});return iV(({yn:r,loe:t})=>nV("div",{className:"XV0shQ",children:[gV(q,{yn:r,kSl:f,lSl:g}),t?gV(t,{}):a.Lle&&gV(a.Lle,{size:"m",shape:"square"}),gV(c,{})]}))};WKs=function(a,b,c){a.page.Jc.VYa(c===null||c===void 0?void 0:c.fill,b.map(d=>d.fill))};YKs=async function(a,b){return Promise.all(b.map(c=>XKs(a,c)))};IKs=function(a,b,c){return a.zl.i_a(new ZKs(a.A5g,b.fill,a.Pe),{type:"video",video:c},{d7i:b.durationUs})};
JKs=function(a,b,c,d){const e=a.page.Jc.toArray();a.oc.nBc({type:"video",video:b},{Uc:d},{Xq:b.yv,placement:{Pe:a.Pe}});b=a.page.Jc.filter(f=>!e.includes(f));a.page.Jc.VYa(c===null||c===void 0?void 0:c.fill,b)};KKs=function(a,b,c){return a.zl.i_a(new ZKs(a.A5g,b.fill,a.Pe),{type:"image",image:c})};LKs=function(a,b,c,d){const e=a.page.Jc.toArray();a.oc.nBc({type:"image",image:b},{Uc:d},{placement:{Pe:a.Pe}});b=a.page.Jc.filter(f=>!e.includes(f));a.page.Jc.VYa(c===null||c===void 0?void 0:c.fill,b)};
$Ks=function(a,b){a.wA.stop();const c=a.store.Rl;(c===null||c===void 0?0:c.mc(a.page,b.fill))||(a.r2b.get()==="single"||!c||c.isEmpty?__c.d2a(a.ng,a.Pe,b.fill):c.M7d(a.page,b.fill))};XKs=async function(a,b){if(b.fill.video.ref)return aLs(a,b);if(b.fill.image.ref)return bLs(a,b);if(b.fill.color||b.fill.gradient.ref)return{...es.snapshot(b.fill),durationUs:b.durationUs||a.qd.DK(b.fill)||5E6};throw Error("Unknown fill type");};
aLs=async function(a,b){const c=es.snapshot(b.fill),d=n(c.video);var e=await __c.UXi(a.$b,d.video);(e===null||e===void 0?0:e.length)?(e=Li(e,f=>f.width),e=on(a.MFe,e)):e=on(a.MFe,d.wb);return{...c,durationUs:b.durationUs||a.qd.DK(b.fill)||5E6,video:{...d,wb:e.Lb()}}};
bLs=function(a,b){const c=es.snapshot(b.fill),d=n(c.image);var e=a.Pa.getImages(d.media);e.length?(e=Li(e,f=>f.width),e=on(a.MFe,e)):e=d.wb?on(a.MFe,d.wb):Vj(0,0,a.MFe.width,a.MFe.height);return{...c,durationUs:b.durationUs||a.qd.DK(b.fill)||5E6,image:{...d,wb:e.Lb()}}};
cLs=function({fxa:a,F0b:b,scj:c,ih:d}){const e=IV(g=>jV(()=>{var h=a.ezb(g);if(a.store.f1e.length!==1||!h){var k=a.r2b.get();switch(k){case "single":$Ks(a,g);break;case "command":case "shift":h?(h=a.store.Rl,h!==null&&h!==void 0&&h.mc(a.page,g.fill)&&h.S7d(a.page,g.fill)):$Ks(a,g);break;default:throw new v(k);}}})),f=IV(g=>jV(h=>{h.preventDefault();h.stopPropagation();if(!Ic.yba&&!Ic.wzd){$Ks(a,g);var k,l,m=__c.Cj({x:(k=h.clientX)!==null&&k!==void 0?k:0,y:(l=h.clientY)!==null&&l!==void 0?l:0});d.DMb(m,
"element_timeline","right_click","bottom-start")}}));return iV(({scene:g})=>{const h=b.Rfb(g);return gV("div",{className:GV("_5mXa1w",{b3FjcQ:a.ezb(g)}),style:{minWidth:h},onClick:e(g),onContextMenu:f(g),children:gV(c,{scene:g,width:h,height:FV})})})};
eLs=function({qd:a,Nxa:b,AFa:c,page:d}){const e=d.ha.Jc,f=k=>e.last()===k,g=k=>e.previous(k),h=k=>{var l,m,p;const q=a.DK(k),r=(((m=e.previous(k))===null||m===void 0?void 0:(l=m.transition.ref)===null||l===void 0?void 0:l.durationUs)||0)/q*100;k=((k===null||k===void 0?void 0:(p=k.transition.ref)===null||p===void 0?void 0:p.durationUs)||0)/q*100;return{Fzl:r,A3h:k}};return({fill:k,mc:l})=>gV(dLs,{w_q:h,Nxa:b,AFa:c,OYq:g,fill:k,mc:l,ymr:f})};
iLs=function({Cf:a,Pa:b,S6i:c}){return iV(({scene:d,width:e,height:f,qja:g})=>{switch(d.type){case 0:const h=MJs(d.Q7,a);return(h===null||h===void 0?0:h.frames)?gV(RJs,{fill:d.Q7,HJb:h.frames,Cf:a,width:e,height:f,qja:g,S6i:c}):(h===null||h===void 0?0:h.url)?gV(QJs,{url:h.url}):gV(fLs,{BI:a.BI(d.Q7),isPending:a.xzd(d.Q7)});case 1:return b.contains(d.Lx.media)||__c.Ev(b,[d.Lx.media]),(e=LJs(b,d.Lx,f))?gV(QJs,{url:e}):gV(fLs,{BI:b.Xha(d.Lx.media),isPending:b.isPending(d.Lx.media)});case 2:return gV(gLs,
{color:d.color});case 3:return(d=__c.D0f(d.nSa))?gV(hLs,{gradient:d,width:e,height:f}):gV(fLs,{});default:return gV(fLs,{})}})};jLs=function(a,b,c,d){const e=pV(()=>{if(d.get())return[];var f=b.Qbd.get();f=f!=null?[f]:[];const g=b.Bug.get(),h=b.iKh.get(),k=b.Xfd;return pd([...f,...g,...h]).map(l=>({MCa:l,sgd:k,N3c:k}))});return{Tdh:pV(()=>{const f=[];let g=0;a.scenes.forEach(h=>{f.push(g);g+=h.durationUs});f.push(g);return f}),ePb:new BJs(e,b.XJe,c)}};
oLs=function({Xo:a,fxa:b,cVa:c,wA:d,qd:e,k9e:f,Sla:g,Lk:h,mi:k}){const l=(r,t)=>r+f.J5k(t),m=IV(r=>{const t=new kLs(r,b,c,f,k);r=new lLs(e,r,t,d);return{store:t,L:r}}),{Tdh:p,ePb:q}=jLs(b,g,h,k);g.Tdh=p;g=new mLs(r=>m(r).store);return{vjj:iV(({scene:r,Fo:t,children:u})=>{const {store:w,L:x}=m(r);return gV(nLs,{Xo:a,rZb:w.k8n,durationUs:w.durationUs,Qfb:l,XNa:w.XNa,gxa:w.gxa,i8d:1E5,jT:r.jT,Aia:x.Aia,RBa:x.RBa,Qna:x.wMn,SFa:x.SFa,Nqb:x.Nqb,Oqb:x.Oqb,captureEvents:!0,disabled:w.isDisabled,Fo:t,X8b:w.F$j,
bma:w.bma,zNd:q,children:u})}),fee:g}};
uLs=function({ki:a,page:b,gb:c,Pa:d,$b:e,qd:f,cN:g,ng:h,oc:k,zl:l,r2b:m,wA:p,cVa:q,Sla:r,Lk:t,mi:u,n2a:w,Xo:x,Pga:y,aAc:z,oN:A,Jhb:B,pee:D,hSc:G,ih:I,$le:K,kh:M}){const N=new pLs(f);a=new qLs(a,b,c,N,h);h=new rLs(a,f,k,l,d,e,h,m,p);k=new sLs(q);const {vjj:Q,fee:R}=oLs({qd:f,wA:p,Sla:r,Lk:t,mi:u,Xo:x,fxa:h,k9e:k,cVa:q});p=new tLs(k,R);g=iLs({Cf:g,Pa:d,S6i:(da,la)=>XJs.factory(pV(()=>q.SBa),f)(da,la)});b=BKs({oN:A,fxa:h,fee:R,vjj:Q,Pqp:g,cmj:eLs({qd:f,Nxa:B,AFa:a,page:b})});const {fXj:W,hgj:X,scj:Z}=
SKs({Pa:d,$b:e,n2a:w,Xo:x,Pga:y,aAc:z,AFa:a,fxa:h,Qdh:N,F0b:p,Oqp:b,kh:M});d=cLs({fxa:h,F0b:p,scj:Z,ih:I});K=CKs({AFa:a,F0b:p,fXj:W,fee:R,$le:K});return VKs({Jhb:B,AFa:a,hgj:X,F0b:p,Nqp:d,pee:D,hSc:G,DTo:K})};
BLs=function({Ia:a,$f:b,zy:c,Xo:d,Bw:e,wA:f,uG:g,SFl:h,w5g:k,crb:l,oN:m,Ckd:p,pee:q,hSc:r,jXa:t,UE:u,onContextMenu:w}){const x=If(a),y=iV(I=>{const K=kV(()=>vLs(e,m,I.page,f),[I.page]);return gV(wLs,{store:m,document:a,N:k,P:h,Qys:m.wYq(I.page),b1a:K,$dd:m.mi?60:void 0,ECg:!0,jXa:t,vVa:e.isLinear,...I,children:I.children})}),z=iV(I=>{const K=mV(d);return gV(xLs,{Ia:a,oN:m,gSk:f===null||f===void 0?void 0:f.stop,rhh:e.rhh,Eul:e.Eul,KNp:e.lsi,XMe:m.XMe(I.page.page),Wzh:y,vVa:e.isLinear,zjl:K,...I})}),
A=iV(I=>gV(yLs,{zd:I.zd,f2k:g.VJ?"pageNumber":"pageDuration",page:I.page,oN:m,crb:l,zy:c,Bea:I.Bea,vVa:e.isLinear})),B=iV(I=>gV(zLs,{zvp:z,Sqp:A,Ia:a,onContextMenu:m.jN?w:void 0,IRg:!!e.Bab,XMe:m.XMe(I.page.page),UE:u,$f:b,Bw:e,uG:g,Ckd:p,store:m,jXa:t,...I})),D=iV(({eid:I,yn:K,Eg:M,Ujb:N,gAc:Q,Kzc:R,hOa:W,F5a:X})=>{const Z=mV({QGk:Number.MAX_VALUE,hqk:a.pages.count()<=20?a.pages.count()-1:-1}),da=e.bjl;return gV(__c.NC,{yn:K,itemSizes:da,eua:q,vAo:r,children:la=>{let ka=-1;const pa=(la===null||la===
void 0?void 0:la.p$)||0,ja=(la===null||la===void 0?void 0:la.J$)||0,ia=Math.min(pa,Z.current.QGk),ba=Math.min(da.length-1,Math.max(ja,Z.current.hqk));Z.current.QGk=Math.min(ia,Z.current.QGk);Z.current.hqk=Math.max(ba,Z.current.hqk);return gV(xV,{children:a.pages.map((ca,qa)=>{ka++;const ra=ka>=ia&&ka<=ba,sa=ka===0?da[ka]-e.veb:da[ka];return gV(B,{Xo:d,page:x.tb(ca),Xb:ka,Qas:sa,eid:I,Ujb:N,F5a:X,rKs:ra,PAb:pa<=ka&&ka<=ja?"visible":"hidden",yn:K,Eg:M,gAc:Q,Kzc:R,hOa:W},qa)})})}})}),G=iV(({W3b:I,utc:K,
y3b:M})=>gV(ALs,{W3b:I,utc:K,rHg:{width:e.eci,height:FV},y3b:M,Ckd:p,oN:m,crb:l,wA:f,Bw:e,UE:u}));return iV(({eid:I,yn:K,Eg:M,Ujb:N,gAc:Q,y3b:R,Kzc:W,hOa:X,W3b:Z,utc:da,F5a:la})=>{const ka=e.veb;return nV(xV,{children:[gV("div",{className:"_AhXog",style:{width:ka,marginLeft:-ka},children:gV(p,{page:a.pages.first(),ZDm:"full",ECg:!0,A6q:!0})}),gV(D,{eid:I,yn:K,Eg:M,Ujb:N,gAc:Q,Kzc:W,hOa:X,F5a:la}),Z&&da&&gV(G,{W3b:Z,utc:da,y3b:R})]})})};
CLs=function({Ia:a,viewport:b,$f:c,Pa:d,$b:e,gb:f,qd:g,cN:h,oc:k,zl:l,zy:m,ng:p,r2b:q,n2a:r,Jfg:t,Xo:u,Pga:w,aAc:x,Gyh:y,$le:z,$ph:A,Wz:B,Bgc:D,Bw:G,wA:I,uG:K,SFl:M,w5g:N,crb:Q,oN:R,Jhb:W,Ckd:X,pee:Z,hSc:da,jXa:la,UE:ka,onContextMenu:pa,ih:ja,Sla:ia,Lk:ba,mi:ca,kh:qa}){let ra=()=>{};const sa=BLs({Ia:a,$f:c,zy:m,Xo:u,Bw:G,wA:I,uG:K,SFl:M,w5g:N,crb:Q,oN:R,Ckd:X,pee:Z,hSc:da,jXa:la,UE:ka,onContextMenu:pa});c=iV(wa=>{ra();var Aa=b.Zg;if(A.Ws&&Aa.type==="fixed-page"){const Ba=If(a);Aa=uLs({ki:Ba,page:Ba.tb(Aa.ha),
gb:f,Pa:d,$b:e,qd:g,cN:h,oc:k,zl:l,ng:p,r2b:q,wA:n(I),cVa:G,Sla:ia,Lk:ba,mi:ca,n2a:r,Xo:u,Pga:w,aAc:x,oN:R,Jhb:W,pee:Z,hSc:da,ih:ja,Gyh:y,$le:z,kh:qa});return gV(Aa,{...wa})}ra=t.NTj.add(()=>!!G.Bab||!!G.lgb||!!B.U0c||G.oUj);return gV(sa,{...wa})});D.j1l=c};ELs=function(a){const b=new DLs;hV(()=>b.trim&&!a.pages.has(b.trim.page),c=>{c&&(b.trim=void 0)});return b};
FLs=function(a,b,c){var d;c=c||((d=a.store.trim)===null||d===void 0?void 0:d.direction);({durationUs:d}=a.pFg(zm.Cs(b),c));a=EKe(a.zy,b);return d?Math.max(a,d/1E6):Math.max(a,600)};ILs=function(a,b,c,d,e,f,g,h,k,l){return g?new GLs(a,b,c,d,e,g,h,k,l):new HLs(a,b,c,d,e,f,h,l)};
JLs=function(a,b,c){if(a.tte(b,c)){var d=a.ya;a.Lah(d);var e=zm.Cs(d),f=e.indexOf(b);f!==-1&&c.forEach((g,h)=>{h>0&&(h=qu.yQ(Mn.snapshot(d),{fGa:!0}),d=a.document.pages.CI(d,h));e=zm.Cs(d);h=e[f];a.SSi(d,g.endUs/1E6-g.startUs/1E6,"end");h.trim={startUs:g.startUs,endUs:g.endUs}})}};LLs=function({D4e:a,zy:b,Cf:c,viewport:d,document:e,Fh:f}){const g=new KLs(a,b,c,d,e,f);hV(()=>a.bCb.length&&a.mJh,h=>{h&&a.Hk&&JLs(g,a.Hk,a.bCb)})};
NLs=function(a){var b;if(a.Ma.mode<40||a.Ow.VJ)return!1;const c=(b=a.Ar.mR)===null||b===void 0?void 0:b.filter(e=>{e=my(a.Ar,e);return!!MLs(e,a.Lsb)});var d;b=(d=c===null||c===void 0?void 0:c.length)!==null&&d!==void 0?d:0;d=a.document.audio.tracks.count();return b>0&&d+b<=a.Ar.Cwj};OLs=function(a,b){a=a.Ow.pGg(b,!0);if(a!==null&&a!==void 0&&a.page){b-=a.Vda/1E6;var c=a.durationUs/1E6-b;if(!(b<.1||c<.1))return{...a,XRs:b}}};
PLs=function(a,b,c){let d=0;for(const e of b)if(b=a.qd.DK(e)||5E6,d+=b,b>0&&c<d)return a=d-c,c=b-a,c<1E5||a<1E5?void 0:{fill:e,$Kq:c,cLq:a}};MLs=function(a,b){b=b*1E6-a.startUs;a=a.durationUs-b;if(!(b<1E5||a<1E5))return b};
QLs=function(a,b,c){const d=my(a.Ar,b);b=a.Wz.iZc.findIndex(k=>k.some(l=>l===d));var e=MLs(d,c);if(e){var f=__c.sde(qu,__c.NEc.snapshot(d.track));c=d.trim.startUs+e;var g={startUs:c,endUs:d.trim.endUs},h=(g.endUs-g.startUs)/2;e=a.document.audio.tracks.append({...f,startUs:Math.floor(d.startUs+e),trim:g,fadeIn:f.fadeIn!=null&&f.fadeIn.durationUs>h?{...f.fadeIn,durationUs:h}:f.fadeIn,fadeOut:f.fadeOut!=null&&f.fadeOut.durationUs>h?{...f.fadeOut,durationUs:h}:f.fadeOut});f=my(a.Ar,e);a.Wz.hdg(f,b);a.Wz.hdg(d,
b);a.Ar.Psb(d,"trim");a.Ar.Ufe(d,d.trim.startUs,c);a.Ar.KCb(d,"shortcut");return e}};
VLs=function({Fh:a,ih:b,Wj:c,Cd:d,selection:e,document:f,timing:g,zy:h,Ar:k,Ow:l,qd:m,P:p,dVa:q,wA:r,Wz:t,mi:u,Ec:w,Ma:x}){const y=pV(()=>c.oq==="thumbnail"&&!w.yLa),z=new RLs(f,x,h,k,t,l,g,m,p,a,r,q,y);d.plugins.QFb=()=>({Qd:()=>{var A,B;return((A=e.La)===null||A===void 0?void 0:A.type)==="pages"&&c.oq==="thumbnail"&&!l.VJ&&((B=e.La)===null||B===void 0?void 0:B.Ji())},Button:iV(A=>gV(SLs,{...A,disabled:!z.eOh,T4e:z})),onClose:r.Bde});b.kc(()=>z.eOh,(A,B)=>{B?A.yDh={Button:D=>{const G=kV(()=>{var I;
(I=D.onClick)===null||I===void 0||I.call(D);z.IXi()},[D]);return gV(D.hl,{label:L("GiOiNA"),onClick:G,Icon:TLs,jm:"s",oa:D.oa})},onClose:r.Bde}:(A.yDh=void 0,r.Bde())});d.plugins.qEb=()=>({Qd:()=>{var A,B;return x.mode===40&&((A=e.La)===null||A===void 0?void 0:A.type)==="audio"&&!((B=k.mR)===null||B===void 0||!B.length)},Button:iV(A=>gV(ULs,{...A,disabled:!NLs(z),Fo:u.get(),T4e:z})),onClose:r.Bde});b.kc(()=>NLs(z),(A,B)=>{A.zkj=B?{Button:D=>{const G=kV(I=>{var K;(K=D.onClick)===null||K===void 0||
K.call(D);I.stopPropagation();z.HXi()},[D]);return gV(D.hl,{label:L("W417Fg"),onClick:G,Icon:TLs,jm:"s",oa:D.oa})},onClose:r.Bde}:void 0});return z};WLs=function({mi:a,onClick:b}){a=a?L("OEWZcA"):L("8pJsaQ");return gV(fj,{variant:"tertiary",icon:wr,onClick:b,children:a})};
YLs=function({onClick:a,playState:b,isDisabled:c}){const d=()=>b.DG/1E6,e=()=>b.V7e/1E6;return iV(()=>{var f;return gV(XLs,{onClick:a,currentTime:d,totalTime:e,If:b.If,va:b.va,isDisabled:(f=c===null||c===void 0?void 0:c.get())!==null&&f!==void 0?f:!1})})};
XLs=function({onClick:a,currentTime:b,totalTime:c,If:d,va:e,isDisabled:f}){return nV(ir,{spacing:"1u",Fa:"center",children:[gV(hr,{width:"content",children:gV(ZLs,{currentTime:b,totalTime:c})}),gV(hr,{width:"content",children:gV(tr,{onClick:a,variant:"tertiary",icon:e?__c.fr:d?__c.Lu:__c.Mu,disabled:e||f,size:"small",Nc:"medium",hb:d?L("8Pbkhg"):L("Y/SEvA"),yUb:!0})}),gV(hr,{width:"content",children:gV($Ls,{totalTime:c})})]})};aMs=function({ITm:a}){return gV("time",{dir:"ltr",className:"Nbtq6A",children:a})};
fMs=function({xac:a,mwg:b,K8b:c,mi:d,timing:e,Bw:f,wA:g,dVa:h,uG:k,Plq:l,Wgg:m,k3h:p}){let q=bMs,r=pV(()=>null);a.Cie={height:pV(()=>b&&f.Cgb?cMs:0)};if(!g||!h)return{Cie:r,wdf:q};const t=()=>{g.KPa({kb:"click"})};if(b){const u=YLs({onClick:t,isDisabled:l,playState:h}),w=jV(()=>{e.Ws=!1;g.stop();g.configure({page:void 0});k.OJd(!0)});r=pV(()=>f.Cgb?gV(dMs,{pgs:gV(u,{}),JGq:m&&p&&e.Ws?gV(WLs,{mi:d.get(),onClick:w}):void 0}):null)}else q=iV(()=>{if(!f.Cgb)return null;var u=g.aNe||!!f.Bab||!!f.lgb||
k.zE;u=l.get()||d.get()&&u;return gV(eMs,{onClick:t,If:h.If,va:h.va||!(c===null||c===void 0||!c.wOd.size),IG:u})});return{Cie:r,wdf:q}};
iMs=function({Bw:a,uG:b,m0j:c,Ec:d,keyboardShortcuts:e,k$:f,Wd:g,Wj:h,mi:k}){const l=Yo("d");c&&e.register([l,()=>{a.h3e&&b.OJd(!b.VJ,"shortcut")},L("VH6WcA"),["edit","comment","view"]]);g.Tu(()=>k.get()&&a.h3e,({lL:p},q)=>{p&&(p.Ulj=q?{Button:iV(r=>gV(gMs,{...r,Wj:h,uG:b}))}:void 0)});const m=()=>{b.OJd(!b.VJ,"click")};f.I_a.install("timeline_mode",{Qd:()=>!k.get()&&h.oq==="thumbnail"&&!d.yLa&&a.h3e,Component:iV(()=>gV(hMs,{active:!b.VJ,onClick:m,JH:c?l:void 0,hb:c?b.VJ?L("JOx0bg"):L("vr2BIw"):void 0}))});
lus(()=>{a.h3e||a.VJ||b.OJd(!0)},{scheduler:requestAnimationFrame})};kMs=function({Bgc:a,Jhb:b,timing:c,document:d,viewport:e,mi:f}){hV(()=>c.Ws&&e.Zg.type==="fixed-page"&&e.Zg.ha.elements.empty&&e.Zg.ha.Jc.empty&&d.audio.tracks.count()===0,g=>{a.loe=g?iV(()=>gV(jMs,{Lle:b.Lle,mi:f})):void 0},{fireImmediately:!0})};HV=function(a,b){return qvb(b,a.I.document)};dHs=function(a,b){a=a.I.gb;return b.type!=="fixed"||Bg(a.$k(b))?!1:nk(a,b,c=>!!c&&!c.PMa&&!c.jfb)};
rIs=function(a,b,c){b=a.v2d(c+b.scrollLeft-(b.left+lMs+a.veb));a.Wze=Math.round(b*100)/100};nMs=function(a,b){return a.m2c.slice(b,b+2).some(({width:c})=>c<mMs)};vLs=function(a,b,c,d){a.zBn();if(d)if(b.mi){const e=Drs(()=>!b.txd,()=>{d.Ljh=!0;d.XG(c);oMs(d,c,"start");e()})}else oMs(d,c,"start")};pMs=function(a,b,{offsetWidth:c,width:d,Vda:e,durationUs:f}){b-=e;if(b<=0)return c;e=b-f;return e<=0?c+(f?b/f:1)*d:c+d+e/1E6*a.SBa};
qMs=function(a,b,{Egc:c,iah:d,withTrim:e}={}){if(d){const {cRk:f}=a.Iwa(d);b+=f}c=(d===null||d===void 0?0:d.draft)?a.Iwa(d):a.pGg(b/1E6,c,e)||a.mni||{offsetWidth:0,width:a.h1i,Vda:0,durationUs:a.whd};return a.odh(Math.max(pMs(a,b,c),0))};rMs=function(a,b){const c=a.K7b.find(({width:d,offsetWidth:e})=>b<=e+d);return c&&!HV(a,c.page)?{offsetWidth:c.offsetWidth,width:c.width,Vda:c.Vda,durationUs:0}:c||a.mni||{offsetWidth:0,width:a.h1i,Vda:0,durationUs:a.whd}};
sMs=function(a,b,{offsetWidth:c,width:d,Vda:e,durationUs:f}){b-=c;if(b<=0)return e;c=b-d;return c<=0?e+b/d*f:e+f+c/a.SBa*1E6};tMs=function(a,b,{iah:c}={}){if(c){const {$An:d}=a.Iwa(c);b+=d}c=(c===null||c===void 0?0:c.draft)?a.Iwa(c):rMs(a,b);return Math.max(sMs(a,b,c),0)};uMs=function(a){clearTimeout(a.Geh);a.Geh=setTimeout(()=>{a.controller.Pba();a.Geh=void 0},20)};vMs=function(a,b=a.LMh){clearInterval(b);clearTimeout(b)};
wMs=function(a,b,c=0){const d=n(a.effect),e=c>0,f=()=>{var g=a.Hf,h=b-a.ado+c*a.heartbeatInterval;const k=n(a.goc);let l=a.PFk;uV(k)&&(l+=Date.now()-a.fAl);d({Hf:g,snl:h,F3s:l,vQp:e?"heartbeat":a.isBuffering?"start":"end"})};e?a.qpk=window.setTimeout(f,a.mAj):f()};oMs=function(a,b,c){const {Vda:d,durationUs:e}=a.Ow.Iwa(b);a.kNc((c==="end"?d+e:d)/1E6,c)};
$Js=function(a,b){var c;const d=a.aNe?"trim":"playhead_drag";if(b===null||b===void 0?0:b.MFm){var e;if((e=a.LY)!==null&&e!==void 0){a={Ev:d};e.vji=!0;var f;e.uYj=(f=a===null||a===void 0?void 0:a.Ev)!==null&&f!==void 0?f:e.sessionType==="non-editing"?"playhead_drag":void 0}}else(c=a.LY)===null||c===void 0||__c.P5p(c,{$e:a.kNa(),Ev:d})};aKs=function(a){var b;(b=a.LY)===null||b===void 0||__c.Q5p(b,{$e:a.kNa(),vZ:"ended"})};xMs=function(a){a.qH.mC&&a.qH.configuration!==a.qH.LCe&&(a.stop(),a.create())};
yMs=function(a){const b=a.viewport.ya;if(b.type==="fixed"){var c=a.qd.Soc(a.document,b);const e=a.qd.tb(b),f=a.store.DG-c;c=__c.XFd(b);var d=__c.dSd(a.qd,b.Jc);let g;if(b.Jc.count()>1&&(d=d.find(h=>a.store.DG>=h.startUs&&a.store.DG<h.startUs+h.durationUs))){const h=a.store.DG-d.startUs;g=h>=0&&h<d.durationUs?h:void 0}c.forEach(({element:h,parent:k,fill:l})=>{if(!h&&g)__c.mee(a.cN,l,g/1E6);else{const {startUs:m,durationUs:p}=h?pXa(h,b,e,k):{startUs:0,durationUs:e};h=f-m;h>=0&&h<p&&__c.mee(a.cN,l,h/
1E6)}})}};zMs=function(a,b){b==="COMPOSITE"&&(a.store.cji?a.xzk=!1:b="ANIMATE");if(a.qH.Xef!==b&&!(b==="COMPOSITE"&&a.store.RIg||b==="ANIMATE"&&!a.xzk&&!a.store.RIg)){var c=a.store.currentTime;if(a.qH.setActive(b)){var d;if((d=a.LY)!==null&&d!==void 0){b=a.kNa();var e;(e=d.VOa)!==null&&e!==void 0&&e.isRecording()&&d.VOa.mb().addEvent("document_engine_updated",new Map([["type",b]]))}a.seek(c);a.stop()}}};
AMs=function(a,b,c){const {height:d,width:e}=yg(4,rk(b,a.document.dimensions)),{height:f,width:g}=yg(4,rk(c,a.document.dimensions));return d===f&&e===g};BMs=function(a,b){if(a.qH.ya){var c=a.store.If,d=a.qH.ya,e=a.qH.lHe(d);a.stop();e!=null&&b.includes(d)&&(b=a.store.DG-e*1E3,{Vda:d}=a.Ow.Iwa(d),a.c3e=c,a.create(),a.seek((d+b)/1E6))}};
JMs=function({V:a,Ga:b,Qga:c,Ma:d,canvas:e,viewport:f,toolbar:g,document:h,qd:k,sc:l,timing:m,Ow:p,Pp:q,tsa:r,VZ:t,cN:u,QT:w,hDa:x,selection:y,Zo:z,fPa:A,Vca:B,eya:D,la:G,bda:I,Sla:K,mi:M,fMe:N,zCe:Q,$f:R,jya:W,Hv:X,mTb:Z}){var da,la=b.Ud("editor.editing.page_navigator.timeline_preview");la=new __c.vvr(0,a,la,X);b=__c.mXb({Ga:b,sessionType:"editing",N:a,Hv:X});X=If(h);const ka=new CMs(I.gka,h,X,D,q,t,k);I=iV(()=>f.jh&&f.ya&&ka.cGd&&ka.gZ&&Q.get()?gV(DMs,{Llb:__c.fXb(),sc:ra,gZ:ka.gZ,Uxh:ba,L:ia,store:ja,
jya:W}):null);const pa=new EMs(ka,I),ja=new FMs(h,X,f,k,m,pa),ia=new GMs(ja,h,k,f,y,p,pa,Z,u,a,K,M,N,R,la,b,w,pV(()=>m.Ws));c.init(ia,ja);a=pV(()=>({A_b:pa.Xef==="COMPOSITE"&&Z&&Z.WDc?Z.WDc:ka.mC,Cf:pa.Xef==="COMPOSITE"&&Z&&Z.eve?Z.eve:t}));q=new __c.Y5p(h,a,q,__c.Rl.Pv);w=new __c.yYh({QT:w,Asa:q,OGc:!0,QQk:!0});const ba=__c.qXb(w);Z&&HMs({tsa:r,cN:u,mTb:Z,store:ja,Ow:p,q1s:pa,Uxh:ba,zCe:Q,L:ia});Z&&hV(()=>ja.If,sa=>{sa&&Z.Axo.jco()});Z&&__c.svr({mTb:Z,Qvb:ja,oLs:()=>!(ja===null||ja===void 0||!ja.cji||
(ja===null||ja===void 0?0:ja.RIg)||(ja===null||ja===void 0?void 0:ja.zOj)!=="ANIMATE"&&((ja===null||ja===void 0?0:ja.If)||(ja===null||ja===void 0?0:ja.va))||(ja===null||ja===void 0?0:ja.sji)),mLs:()=>!(ja===null||ja===void 0||!ja.cji||(ja===null||ja===void 0?0:ja.RIg))});const ca=(sa,{page:wa,element:Aa})=>{const Ba=Aa.container;switch(Ba.type){case "group-element":ia.XG(wa.ha);ia.stop();if(__c.pDe(Ba.group)){uV(()=>y.Kl(Ba.container,Ba.group));break}y.pQe(Ba,Aa.ha);sa.stopPropagation();break;case "fixed-page":ia.XG(wa.ha);
ia.stop();uV(()=>y.Kl(Ba,Aa.ha));break;case "layout-element-cell":case "chart-element":case "controlled-element":break;default:throw new v(Ba);}},qa={onTouchStart:(sa,wa)=>{ca(sa,wa)},onMouseDown:(sa,wa)=>{ca(sa,wa)},HBc:({page:sa,element:wa})=>{if(d.mode<=10||wa.ha.type==="group")return!1;const Aa=wa.container;if(A&&Aa.type!=="layout-element-cell"&&Aa.type!=="chart-element"&&!__c.Xhg(A,wa))return!1;switch(Aa.type){case "group-element":case "controlled-element":case "fixed-page":case "chart-element":break;
case "layout-element-cell":return!0;default:throw new v(Aa);}return __c.qXa(wa.ha,ja.DG-(m.Ws?0:k.Soc(h,sa.ha)),sa.ha,Aa)}},ra=JV(sa=>{const wa=sa.page,Aa=kV(()=>{if(!A||__c.Uhg(A,wa))d.mode>10&&wa.container&&wa.container.type!=="design-item"&&y.wT(wa.container,wa.ha),ia.XG(wa.ha),ia.stop()},[wa]);return gV(l,{...sa,yA:{...sa.yA,hhc:()=>!0},$8a:qa,q_g:Aa})});e.kc(()=>({isEnabled:p.Cgb||ja.If,Overlay:pa.Overlay}),(sa,{isEnabled:wa,Overlay:Aa})=>{sa.iMa.FQd=wa?Aa:void 0});Qb("c25bfe2b",!1)&&e.kc(()=>
ja.zOj==="COMPOSITE",(sa,wa)=>{sa.iMa.lag=wa?IMs:void 0});e=()=>pa.Overlay!=null;m.RAk=e;m.SAk=()=>{var sa;return((sa=pa.mC)===null||sa===void 0?void 0:sa.paused)===!1};(da=g.vE)===null||da===void 0||da.XQ(e);sy(z.controls,e);hV(e,sa=>{sa&&(B.isActive&&B.xlc("timeline_preview"),x.w5e())});hV(()=>({$U:f.jh?f.fO(f.ya):1,ya:f.ya}),(sa,wa)=>{sa.ya&&wa.ya&&sa.ya.type===wa.ya.type&&AMs(ia,sa.ya,wa.ya)&&sa.$U!==wa.$U&&ia.stop()},{scheduler:requestAnimationFrame});hV(()=>M.get()&&g.g3,sa=>sa&&ia.stop());
hV(()=>ja.If,sa=>{sa&&(D===null||D===void 0||!D.Mui)&&(D===null||D===void 0?0:D.isEnabled)&&(G.Ib({Cb:L("bnV+qg")}),D.Mui=!0)});return{wA:ia,dVa:ja}};HMs=async function({mTb:a,tsa:b,cN:c,Ow:d,store:e,q1s:f,Uxh:g,zCe:h,L:k}){if(await a.isSupported()){var {ARh:l,Qvb:m,uzh:p,WDc:q,eve:r}=a.dUh({dimensions:pV(()=>e.box)});b=new KMs(l,m,b,c,d);c=iV(()=>h.get()?gV(LMs,{uzh:p,store:e,Uxh:g,L:k}):null);a.WDc=q;a.eve=r;f.XHj=b;f.lXo=c}};
RMs=function({P:a,N:b,Wnf:c,Xo:d}){const e=new MMs,f=new NMs(e,d),g=new OMs(a,b,c,f);a=new PMs(g);return{L:g,config:e,Aaf:a,rvh:()=>QMs({jht:g,jBs:f})}};
aNs=function({xS:{Uh:a,jXa:b,Wnf:c,BDq:d,qAq:e,mwg:f,GKm:g,zHc:h,wmc:k,m0j:l,xyg:m,kvg:p},errorService:q,V:r,Ga:t,Qga:u,sIa:w,e3b:x,xac:y,Hda:z,w5g:A,OAb:B,Ar:D,l1a:G,tsa:I,q_:K,VZ:M,cN:N,QT:Q,K8b:R,eya:W,ME:X,Lbc:Z,D4e:da,$P:la,zy:ka,Xo:pa,pbb:ja,Jfg:ia,Dc:ba,gb:ca,timing:qa,oc:ra,zl:sa,Wd:wa,Pa:Aa,$b:Ba,Ma:za,Ec:Fa,keyboardShortcuts:Da,la:Oa,document:Ja,Wj:Sa,Nl:Ta,viewport:Za,qd:Ra,bij:Xa,Ckd:cb,Vca:mb,selection:nb,Zo:ob,fPa:sb,UR:yb,Ho:gb,Nxa:xb,oN:Bb,crb:zb,k$:Jb,ka:Rb,Ghc:Ab,Df:Yb,toolbar:ic,
Cd:Sc,vc:Nc,ih:sc,kra:jc,Ca:Fb,Fh:gc,$f:Hc,Fz:vc,Pma:Ac,Lk:Bc,bda:Cc,onContextMenu:ud,pee:Ld,hSc:Dd,zCe:zc,UE:Tc,Hv:Bd,mTb:Ad,kh:ge}){const Ue=ELs(Ja),Ke=d||c!==2,Wc=__c.s8q(),ld=Fb&&jc?Wc.Sdg.has(Fb)||Wc.RCf(jc,Fb):!1,qd=pV(()=>Bb.mi),de=pV(()=>Bb.fMe),rf=pV(()=>Bb.KF),Qf=t.Ud("editor.editing.page_navigator.timeline"),{L:Pe,config:sf,Aaf:se,rvh:Qd}=RMs({P:Qf,N:A,Wnf:c,Xo:pa}),De=()=>ld?!1:Sa.oq==="thumbnail"&&(Ke||!Pe.VJ);qa.Vli=()=>f&&De();qa.Nin=()=>De()&&!Pe.VJ;const he=new SMs({UE:Tc,mwg:f,zHc:h,
jXa:b,timing:qa,viewport:Za,document:Ja,zy:ka,Xo:pa,qd:Ra,Uhu:ld,mi:qd,Vli:De,uG:Pe,M3i:Ue,gb:ca,Lk:Bc,Ma:za});x.QAk=pV(()=>qa.Ws||he.h3e);ja.setup(he);w.ror=()=>Sa.oq==="scroll"?void 0:!Pe.VJ;const oe=new TMs(pV(()=>he.SBa)),{wA:vd,dVa:te}=u!=null&&JMs({V:r,Ga:t,Qga:u,document:Ja,Ma:za,canvas:Sa,viewport:Za,toolbar:ic,qd:Ra,sc:Xa,timing:qa,Ow:he,Pp:G,tsa:I,VZ:M,cN:N,QT:Q,hDa:K,eya:W,la:Oa,bda:Cc,Vca:mb,selection:nb,Zo:ob,fPa:sb,Sla:oe,$f:Hc,mi:qd,fMe:de,zCe:zc,jya:a.otd,Hv:Bd,mTb:Ad})||{},Tf=Za.Zg;
qa.Ws=g&&Ja.pages.count()===1&&qvb(Tf.ha)&&!!vd&&!Pe.VJ;qa.Ws&&(vd===null||vd===void 0||vd.configure({page:Tf}));const Cd=__c.wk();sf.Ijl={get scrollLeft(){var Zf;return(Zf=pa.scrollLeft)!==null&&Zf!==void 0?Zf:0},get clientWidth(){var Zf;return(Zf=pa.clientWidth)!==null&&Zf!==void 0?Zf:0},get H0b(){return he.veb+UMs},scrollTo:Zf=>pa.scrollTo({left:Zf})};sf.timeline={qNq:pV(()=>{var Zf;return(((Zf=Cd.current)===null||Zf===void 0?void 0:Zf.PAo)||0)+UMs}),rHe:he.rHe,v2d:he.v2d,n_q:()=>he.Iwa(Bb.ya).Vda/
1E6,KYq:()=>{var Zf;return((Zf=qa.fnf)!==null&&Zf!==void 0?Zf:0)/1E6}};sf.M_q={hide:()=>Vd===null||Vd===void 0?void 0:Vd.N_q.hide()};const Fg=ILs(Ue,Ra,ka,N,Qf,K,vd,nb,Z,Bc),{n2a:pe,Pga:Zc,aAc:Xc,g3o:Sd}=LIs({n2a:ba,Xo:pa,Nl:Ta,mi:qd,timing:qa}),ce=pV(()=>!!Bb.sOa),Wd=new VMs,{Cug:Gd}=vd&&YJs({V:r,Ga:t,document:Ja,oc:ra,viewport:Za,Wj:Sa,Nl:Ta,Pa:Aa,A5d:ce,mi:qd,vc:Nc,Lk:Bc,ih:sc,ME:X,qd:Ra,selection:nb,UR:yb,Ma:za,Bgc:Wd,xac:y,Hda:z,Ow:he,Grg:ia.Grg,timing:qa,cN:N,wA:vd,r2b:rf,gb:ca,Sla:oe,Dc:pe,
Xo:pa,Pga:Zc,aAc:Xc})||{};xIs(Wd,()=>(!he.VJ||!(Gd===null||Gd===void 0||!Gd.open))&&(!qd.get()||EV.wBq));y.E3c=pV(()=>Wd.E3c);__c.azf(xb,()=>EV.nzq);const {Wz:He,SKp:ie}=wIs({wmc:k,Dc:ba,oc:ra,viewport:Za,Ma:za,Bgc:Wd,xac:y,Nxa:xb,Ar:D,l1a:G,K8b:R,Xo:pa,selection:nb,ih:sc,Ho:gb,Ow:he,Sla:oe,timing:qa,wA:vd,dVa:te,errorService:q.vf("audio_timeline"),ka:Rb,Pma:Ac,Lk:Bc,r2b:rf,TFl:pV(()=>Pe.$U),cBs:()=>{var Zf;const zg=((Zf=Cd.current)===null||Zf===void 0?void 0:Zf.n1s)||0;pa.scrollTop<zg&&pa.scrollTo({behavior:"smooth",
top:zg-z.$Rc})},kvg:p,xyg:m});Sa.kc(()=>za.mode===40,(Zf,zg)=>Zf.timeline=zg?{k8:()=>{He.mode!=="max"||He.mode!=="max"||He.Jhb.rTm||(He.store.lKh="min",He.K5.stop());Gd===null||Gd===void 0||Gd.Y3n()}}:void 0);const {Cie:Ff,wdf:Ye}=fMs({xac:y,mwg:f,K8b:R,mi:qd,timing:qa,oN:Bb,Bw:he,wA:vd,dVa:te,uG:Pe,Plq:pV(()=>xb.wUj),Wgg:g,k3h:EV.k3h}),{Vlj:ze}=nKs({xac:y,Bw:he,uG:Pe,Xo:pa,T5j:pV(()=>xb.F7i.get())}),be=WMs(),Vd=vd&&te&&hKs({P:Qf,s2a:r,Ia:Ja,A5d:ce,mi:qd,d1c:be,Sla:oe,Wz:He,wA:vd,dVa:te,Ow:he,uG:Pe,
Xo:pa,timing:qa,jdq:pV(()=>xb.F7i.get())});Vd&&(Wd.n2l=Vd.vmp);e&&ZJs({Ar:D,ih:sc});const jf=te&&vd?VLs({Fh:gc,ih:sc,Wj:Sa,Cd:Sc,selection:nb,document:Ja,zy:ka,Ar:D,Ow:he,timing:qa,qd:Ra,P:Qf,dVa:te,wA:vd,Wz:He,mi:qd,Ma:za,Ec:Fa}):void 0;da&&LLs({D4e:da,zy:ka,Cf:N,viewport:Za,document:Ja,Fh:gc});const dg=pV(()=>!ld&&Vb()),{Gyh:ui,$le:xi}=XMs({oN:Bb,config:xb,Df:Yb,$P:la});CLs({Ia:Ja,viewport:Za,$f:Hc,qd:Ra,Pa:Aa,$b:Ba,gb:ca,cN:N,oc:ra,zl:sa,n2a:pe,Jfg:ia,Xo:pa,Pga:Zc,aAc:Xc,zy:ka,ng:nb,r2b:rf,$ph:qa,
Wz:He,Bgc:Wd,Bw:he,wA:vd,uG:Pe,SFl:Qf,w5g:A,crb:zb,oN:Bb,Jhb:xb,Ckd:cb,Sla:oe,Lk:Bc,mi:qd,pee:Ld,hSc:Dd,jXa:b,UE:Tc,onContextMenu:ud,ih:sc,Gyh:ui,$le:xi,kh:ge});kMs({timing:qa,Bgc:Wd,Jhb:xb,document:Ja,viewport:Za,mi:qd});const $g=()=>{ja.FId()},Ij=iV(()=>{const Zf=parseInt("28px",10);return xb.voe?gV(xb.voe,{hHa:Zf,jik:zg=>he.YIa(zg,{withTrim:!0,zvb:!1}),pHg:(zg,Fh)=>he.Rfb(zg,Fh,{withTrim:!0,zvb:!1}),mBs:$g}):null}),Zi=()=>{const {top:Zf,rowHeight:zg}={top:z.$Rc+z.yGc+(z.yGc>0?$c:0),rowHeight:z.XUf.height};
pa.scrollTo({top:Zf+zg/2-z.oMd/2})},lg=iV(Zf=>{lV(()=>{Wd.E3c&&requestAnimationFrame(Zi)},[]);lV(()=>{let Fh;const ci=hV(()=>qa.Ws,kj=>{Fh!=null&&(Fh(),Fh=void 0);kj&&(Fh=YMs(oe))},{fireImmediately:!0});return()=>{ci();Fh===null||Fh===void 0||Fh()}},[]);const zg=ZMs(pa,Bb.ncm,Bb.qcm);return nV(xV,{children:[gV($Ms,{...Zf,d1c:be,ref:Cd,Df:Yb,store:Bb,xc:Oa,Wz:He,Bgc:Wd,Bw:he,wA:vd,dVa:te,uG:Pe,Vlj:ze,Xo:pa,rvh:Qd,zft:se.Aq,jSs:zg,zJm:dg,jXa:b,timing:qa,voe:Ij}),gV(Sd,{})]})}),{Z1o:cj}=BIs({Ec:Fa,keyboardShortcuts:Da,
document:Ja,viewport:Za,gb:ca,N:A,P:Qf});!EV.iAm&&iMs({Bw:he,uG:Pe,m0j:l,Ec:Fa,keyboardShortcuts:Da,k$:Jb,Wd:wa,Wj:Sa,mi:qd});Jb.I_a.install("document_duration",{Qd:()=>(Za.jh||Za.HF)&&!(B===null||B===void 0?0:B.isActive),Component:iV(function(){const Zf=Bb.Cg.length===1?Bb.So+1:void 0;return gV(cj,{currentTime:Math.floor(((te===null||te===void 0?void 0:te.DG)||0)/1E6),totalTime:(qa.Ws?Ra.tb(Za.Zg.ha):Ra.Rxb(Ja))/1E6,tf:Bb.hC,Gpa:Zf,LNs:Sa.oq==="scroll"||Pe.VJ})})});const Nl={get active(){return Pe.isActive},
get zoom(){return Pe.$U},get RF(){return Pe.VJ||!he.Cgb?"fixed":void 0},set RF(Zf){Pe.OJd(Zf==="fixed")},My(Zf){Pe.My(Zf)},setActive:Zf=>{Pe.lCb(Zf)},$Zb:()=>{Pe.$Zb({c7g:"playhead_or_center"})},g0:Zf=>{Pe.g0(Zf)},Hhc:Pe.min,Bzc:Pe.max},nn=FIs({Bgc:Wd,xac:y,Hda:z,onDragStart:()=>{he.tho(!0)},onDragEnd:()=>{he.tho(!1)},N:A,P:Qf}),$f={Q_e:Fg,Bw:he,pbb:ja,uG:Pe,wA:vd,dVa:te,p1s:(Zf,zg,Fh)=>{if(Zf.data.type==="audio"&&Zf.positions)return rIs(he,Fh,Zf.positions.gy.x),ie(Zf)},Tlj:lg,Cie:Ff,wdf:Ye,g1i:nn,
Bgc:Wd,T4e:jf,zJm:dg,j1i:oe,kh:ge};hV(()=>Sa.oq==="thumbnail"&&!Pe.VJ,Zf=>{Ab.timeline=Zf?Nl:void 0},{fireImmediately:!0});hV(()=>Pe.VJ&&xb.fQq,()=>{Pe.OJd(!1)},{fireImmediately:!1});vd&&(hV(()=>z.PFl,()=>vd.stop()),xb.s1s=()=>{vd.XG();vd.stop()},hV(()=>(D.ana==="fade_in"||D.ana==="fade_out")&&!!D.mAe,Zf=>Zf&&vd.pause()));vd&&Hc&&vc&&jKs({Ow:he,wA:vd,$f:Hc,Fz:vc});return $f};
eNs=function({selection:a,Qga:b}){const c=new bNs(a,b),d=YLs({onClick:c.L1f,playState:b}),e=iV(()=>gV(cNs,{Yda:c.Yda,Pba:c.Pba,RV:c.RV,va:b.va,currentTime:b.DG/1E6,totalTime:b.V7e/1E6}));a=iV(()=>gV(dNs,{HYi:c.HYi,yvp:d,zrp:e}));return{Zis:c,Smp:a}};gNs=function(a){switch(a.id){case "Photos":return fNs.lAc;case "Videos":return fNs.Vag;case "Uploads":return fNs.Cdf;case "Media":return fNs.$kb;case "Blank":return fNs.Q6f;case "Transition":return fNs.Transition}};
__c.iNs=function(a,{action:b,kb:c,mb:d,fhe:e,z6e:f}){cp({mb:d,V:a.N,event:hNs,props:{ja:"",action:b,kb:c,fhe:e.toString(),z6e:f?f.toString():""}})};lNs=function({document:a,ki:b,Vbb:c,viewport:d}){const e=new jNs(a,b,d);a=iV(()=>gV(kNs,{nr:e.nr,fHa:e.fHa,onNext:e.p_m,$Te:e.s_m}));c.ycf=a};
nNs=function(a){switch(a.type){case "line":case "rect":case "text":return!1;case "embed":const b=a.url;return mNs.some(c=>b.startsWith(c));case "group":case "chart":case "table":case "controlled":case "layout":return!0;case "grid":return a.cells.size>1;case "shape":return a.paths.reduce((c,d)=>c+(d.fill.dropTarget?1:0),0)>1;case "sheet":return __c.df("PublishingPresenter",!1);default:throw new v(a);}};
qNs=function({region:a,dcs:b,mh:c,Ql:d,s2g:e,r2g:f,q2g:g,m5r:h,l5r:k,k5r:l}){const m=DV(()=>a.transform(Pj(b)),[a,b]),p=DV(()=>new __c.fd([new __c.gd({Ls:x=>Zk(c,y=>{h(d().transformPoint(new Bj(x.Hi,x.yj)),y)}),PG:x=>k(d().transformPoint(new Bj(x.Hi,x.yj))),qx:()=>l()})]),[c,d,l,k,h]),[q,r]=tV(void 0),t=kV((x,y)=>{r(x);e(x,new Bj(y.clientX,y.clientY),y.shiftKey)},[e]),u=kV(x=>f(d().transformPoint(new Bj(x.clientX,x.clientY))),[d,f]),w=kV(()=>{r(void 0);g()},[g]);return nV(oNs,{className:"VsAudw",
box:m,children:[gV("div",{ref:p.Aq,className:"_3DzJMg"}),gV(pNs,{handle:"top-left",isActive:q==="top-left",className:"GW55Og",z0b:-45,onDragStart:t,pe:u,onDragEnd:w}),gV(pNs,{handle:"top-right",isActive:q==="top-right",className:"HdZiQQ",z0b:45,onDragStart:t,pe:u,onDragEnd:w}),gV(pNs,{handle:"bottom-left",isActive:q==="bottom-left",className:"DSLsKQ",z0b:-135,onDragStart:t,pe:u,onDragEnd:w}),gV(pNs,{handle:"bottom-right",isActive:q==="bottom-right",className:"NbZpbw",z0b:135,onDragStart:t,pe:u,onDragEnd:w})]})};
pNs=function({handle:a,isActive:b,className:c,z0b:d,onDragStart:e,pe:f,onDragEnd:g}){const h=DV(()=>pV(()=>__c.hy(new __c.z9g(d))),[d]),k=DV(()=>new cr({onDragStart:l=>e(a,l),pe:f,onDragEnd:g,fIa:h}),[h,a,g,f,e]);return gV("div",{className:GV("aZSx8w",ub.od&&"nS73hw",b&&"_9JheGg",h.get(),c),onMouseDown:k.onMouseDown,onTouchStart:k.onTouchStart,role:"button","aria-label":L("OD+MQQ"),children:gV("div",{"aria-hidden":"true",className:"_0h_AEw",dangerouslySetInnerHTML:{__html:rNs}})})};
oNs=function({box:a,className:b,style:c={},...d}){const {top:e,left:f,width:g,height:h,rotation:k}=a.Lb();return gV("div",{...d,className:GV("aGkcFA",b),style:{width:g,height:h,transform:`translate(${f}px, ${e}px) rotate(${k}deg)`,...c}})};uNs=function(a){return new sNs(()=>__webpack_require__.me(268367).then(()=>__c.tNs).then(jV(({ohr:b})=>b(a))))};
vNs=function(a,{vVf:b,v0e:c,mFa:d,YYg:e,vId:f}){b*=c;if(d||e||a.canvas.U4a==="space-between")return b;const {width:g,height:h}=yg(4,f),{x:k,y:l}=Pj(f.zoom).transform(g,h);return Math.min(d?k:l,b)};wNs=function(a,b,c,d,e,f){const g=f?d.left:d.top;return d.EPg?-((g-e)*d.zoom)*(a.Ti?-1:1):a.getPosition(b,c,f)+g};yNs=function(a,b){a.X9b.F7e(b);a.N.track(xNs,{kb:b,previous:a.store.enabled?"hidden":"shown",value:a.store.enabled?"shown":"hidden",Yp:0,Ur:0,Ey:0})};
ANs=function(a,b,c){if(a.viewport.ya!==b)return{width:0,height:0,units:c.units,top:0,left:0,zoom:a.viewport.zoom.scale,EPg:!0};b=zNs(a,b);b=a.viewport.jz().transform(b);return{width:b.width,height:b.height,units:c.units,top:b.tl.y,left:b.tl.x,zoom:a.viewport.zoom.scale,EPg:!0}};zNs=function(a,b){var c=a.viewport.fO(b);b=a.viewport.jz().center();c=new Bj(a.viewport.Vr.x*c*(a.Ti?-1:1),a.viewport.Vr.y*c);return Oj(-b.x,-b.y).then(Pj(1/a.viewport.zoom.scale)).then(Oj(c.x,c.y))};
BNs=function(a,b){return a.Ti?({width:a}=yg(4,b.dimensions||a.document.dimensions),Oj(-a,0)):Nj()};CNs=function(a){const b=a.view.freeze.yKa;b!=null&&(a.view.freeze.yKa=void 0,a.layout.JF.delete(b))};DNs=function(a){const b=a.view.freeze.Nza;b!=null&&(a.view.freeze.Nza=void 0,a.layout.CG.delete(b))};
GNs=function(a,b){const c=a.P.sb("freeze_clicked",{Fb:{name:"editor.editing.tabulating.freezing"}});switch(b.type){case "row":const f=b.sheet,g=b.EDl;for(var d of f.layout.cols){var e=f.layout.cells.get(g,d);({Ue:e}=e?e.span:{Ue:g});if(e!==g){const l=`${f.gK(g)+1}`,m=an(f.uK(d)),p=a.alert.Dq(()=>gV(ENs,{Mc:p,Ajg:`${m}:${l}`}));c===null||c===void 0||c.ne();return}}CNs(f);d=a.Gb.yoa.generate();f.view.freeze.yKa=d;f.layout.JF.create(d,g);c===null||c===void 0||c.mb().nk(({Ii:l})=>{a.V.track(__c.Xah,{action:"frozen",
type:"row",E$c:f.gK(g)+1,Pwc:{ut:f.layout.rows.count(),MK:f.layout.cols.count()},kb:"click",location:"context_menu",Rb:l()})});c===null||c===void 0||c.ne();break;case "column":const h=b.sheet,k=b.vDl;for(e of h.layout.rows)if(d=h.layout.cells.get(e,k),{Ye:d}=d?d.span:{Ye:k},d!==k){const l=`${h.gK(e)+1}`,m=an(h.uK(k)),p=a.alert.Dq(()=>gV(FNs,{Mc:p,Ajg:`${m}:${l}`}));c===null||c===void 0||c.ne();return}DNs(h);d=a.Gb.yoa.generate();h.view.freeze.Nza=d;h.layout.CG.create(d,k);c===null||c===void 0||c.mb().nk(({Ii:l})=>
{a.V.track(__c.Xah,{action:"frozen",type:"column",E$c:h.uK(k)+1,Pwc:{ut:h.layout.rows.count(),MK:h.layout.cols.count()},kb:"click",location:"context_menu",Rb:l()})});c===null||c===void 0||c.ne();break;default:throw new v(b);}};HNs=function(a){const b=a.sheet;switch(a.type){case "row":CNs(b);break;case "column":DNs(b);break;default:throw new v(a);}};JNs=function(a,b,c,d){if(b.rd(c)+c.height>d.jA.height){const e=a.alert.Dq(()=>gV(INs,{Mc:e}))}};
LNs=function(a,b,c,d){if(b.Ad(c)+c.width>d.jA.width){const e=a.alert.Dq(()=>gV(KNs,{Mc:e}))}};MNs=function(a){na(a.type==="row","Must be a row Freezable");return`${a.sheet.gK(a.EDl)+1}`};NNs=function(a){na(a.type==="column","Must be a column Freezable");return an(a.sheet.uK(a.vDl))};
ONs=function(a,b,c,d,e,f){if(b.size>=1&&c.size===0){if(f=b.map(g=>g),f=f[f.length-1],!(e&&a.layout.rows.Yi(f,e)<=0))return[{type:"row",sheet:a,EDl:f}]}else if(c.size>=1&&b.size===0){if(e=c.map(g=>g),e=e[e.length-1],!(f&&a.layout.cols.Yi(e,f)<=0))return[{type:"column",sheet:a,vDl:e}]}else if(d.size>=1)return b=d.map(g=>g),c=b[b.length-1],b=c.row,c=c.column,d=[],e&&a.layout.rows.Yi(b,e)<=0||d.push({type:"row",sheet:a,EDl:b}),f&&a.layout.cols.Yi(c,f)<=0||d.push({type:"column",sheet:a,vDl:c}),d;return[]};
PNs=function(a,b,c){const d=[];b&&d.push({type:"row",sheet:a});c&&d.push({type:"column",sheet:a});return d};
TNs=function(a){const b=a.Ma,c=a.selection,d=a.vc,e=a.viewport,f=a.gd,g=a.V,h=a.alert,k=a.ih,l=a.Gb;a=a.Ga.Ud("editor.editing.tabulating.freezing");const m=new __c.xu,p=new QNs(c,d,e,f,b),q=new RNs(l,m,g,a,h);hV(()=>{var r;return((r=p.s_a)===null||r===void 0?0:r.sheet)?p.E5c(p.s_a.sheet):void 0},r=>{const t=p.s_a;t!=null&&r!=null&&JNs(q,t.sheet,r,t.nz)});hV(()=>{var r;return((r=p.s_a)===null||r===void 0?0:r.sheet)?p.D5c(p.s_a.sheet):void 0},r=>{const t=p.s_a;t!=null&&r!=null&&LNs(q,t.sheet,r,t.nz)});
k.kc(()=>b.mode===40&&(p.eDg&&p.eDg.length>0||p.qth&&p.qth.length>0),(r,t)=>{r.Udj=t?{Button:iV(u=>gV(u.hl,{...u,label:L("4PewAQ"),Icon:SNs}))}:void 0});k.kc(()=>b.mode===40&&p.V6n,(r,t)=>{r.w8f=t?{Button:iV(u=>{const w=kV(()=>{uV(()=>GNs(q,t))},[]);return gV(u.hl,{...u,label:J("9f/slg",[MNs(t)]),onClick:w})})}:void 0});k.kc(()=>b.mode===40&&p.xnm,(r,t)=>{r.v8f=t?{Button:iV(u=>{const w=kV(()=>{uV(()=>GNs(q,t))},[]);return gV(u.hl,{...u,label:J("YzDnVw",[NNs(t)]),onClick:w})})}:void 0});k.kc(()=>b.mode===
40&&p.b7n,(r,t)=>{r.Nag=t?{Button:iV(u=>{const w=kV(()=>{uV(()=>HNs(t))},[]);return gV(u.hl,{...u,label:L("UfZC+Q"),onClick:w})})}:void 0});k.kc(()=>b.mode===40&&p.znm,(r,t)=>{r.Mag=t?{Button:iV(u=>{const w=kV(()=>{uV(()=>HNs(t))},[]);return gV(u.hl,{...u,label:L("ODcpjQ"),onClick:w})})}:void 0})};
WNs=function(a){const b=a.Ma,c=a.alert,d=a.Vi,e=a.ih,f=new UNs(a.selection,a.vc,d),g=new VNs(d,c);e.kc(()=>b.mode===40&&f.Avn,(h,k)=>{h.j9f=k?{Button:iV(l=>gV(l.hl,{...l,Icon:__c.trg,label:L("gFelzw"),onClick:()=>g.mergeCells(k)}))}:void 0});e.kc(()=>b.mode===40&&f.MHo,(h,k)=>{h.Oag=k?{Button:iV(l=>gV(l.hl,{...l,Icon:__c.urg,label:L("maahjw"),onClick:()=>g.tid(k)}))}:void 0});return{Cvn:f}};
XNs=function(a){let b;switch(a.type){case "row":switch(a.direction){case "up":a=J("+dxZxg",[a.content.rows.length]);b=__c.NB;break;case "down":a=J("/cSxfw",[a.content.rows.length]);b=__c.$t;break;default:throw new v(a);}break;case "column":switch(a.direction){case "left":a=J("JDPjyQ",[a.content.columns.length]);b=__c.wr;break;case "right":a=J("966Bew",[a.content.columns.length]);b=__c.xr;break;default:throw new v(a);}break;default:throw new v(a);}return{label:a,icon:b}};
YNs=function(a,b,c,d){if(d!=null){if(b.size>=1&&c.size===0){b=b.map(g=>g);c=a.rows.previous(b[0]);var e=a.rows.next(b[b.length-1]),f=c&&d.Tod(a,b,c,"before");d=e&&d.Tod(a,b,e,"after");return[f?{type:"row",direction:"up",content:{sheet:a,rows:b,target:c}}:null,d?{type:"row",direction:"down",content:{sheet:a,rows:b,target:e}}:null].filter(tb)}if(c.size>=1&&b.size===0)return b=c.map(g=>g),c=a.cols.previous(b[0]),e=a.cols.next(b[b.length-1]),f=c&&d.Rod(a,b,c,a.direction==="rtl"?"after":"before"),d=e&&
d.Rod(a,b,e,a.direction==="rtl"?"before":"after"),[f?{type:"column",direction:"left",content:{sheet:a,columns:b,target:c}}:null,d?{type:"column",direction:"right",content:{sheet:a,columns:b,target:e}}:null].filter(tb)}};
aOs=function(a){const b=a.Ma,c=a.selection,d=a.vc,e=a.Vi,f=a.ih;a=a.Ga.Ud("editor.editing.tabulating.moving");const g=new ZNs(c,d,e),h=new $Ns(e,a);f.kc(()=>b.mode===40&&g.Zwn,(k,l)=>{k.rXc=l?{Button:iV(m=>{const {label:p,icon:q}=XNs(l);return gV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.AWk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.Ywn,(k,l)=>{k.qXc=l?{Button:iV(m=>{const {label:p,icon:q}=XNs(l);return gV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.AWk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.Vwn,(k,l)=>
{k.pXc=l?{Button:iV(m=>{const {label:p,icon:q}=XNs(l);return gV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.zWk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.Wwn,(k,l)=>{k.oXc=l?{Button:iV(m=>{const {label:p,icon:q}=XNs(l);return gV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.zWk(l)})})}:void 0});return{Bti:g}};
bOs=function(a,b,c){if(c==null)return{type:5};const d=c.type;switch(d){case "number":return{type:0,value:c.value};case "boolean":return{type:2,value:c.value};case "plaintext":return{type:1,value:c.value.toString()};case "media":return{type:5};case "mention":return{type:1,value:c.value.map(f=>f.text).join(" ")};case "embed":return{type:1,value:c.value.map(f=>f.embed.text).join(" ")};case "text2":return{type:1,value:c.value.Ya};case "text3":const e=[];c.value.forEach({Ya:f=>e.push(f),item:()=>{throw Error();
},Bl:()=>{}});return{type:1,value:e.join("")};case "formula":switch(c=a.Cka.evaluate(b,c.value),c.type){case 0:return{type:0,value:c.value};case 2:return{type:1,value:c.value.toString()};case 1:return{type:2,value:c.value};case 3:return{type:4};case 15:return{type:5};case 4:return{type:3};case 16:return bOs(a,b,c.value.o1b);default:throw new v(c);}default:throw new v(d);}};
eOs=function(a,b,c,d,e){const f=[],g=[];for(var h=c.Zb;h!=null&&b.rows.Yi(h,c.Ue)<=0;h=b.rows.next(h))g.push(h);for(h=c.dc;h!=null&&b.cols.Yi(h,c.Ye)<=0;h=b.cols.next(h))f.push(h);if(g.length===0||f.length===0)return{type:"success"};for(var k of g){var l;c=f[0];if((((l=b.layout.cells.get(k,c))===null||l===void 0?void 0:l.span)||{Zb:k,dc:c}).dc!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"};c=f[f.length-1];h=b.layout.cells.get(k,c);if(h!=null&&h.span.Ye!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"}}let m=
[];const p=new __c.KB;l=new __c.KB;for(const z of g){var q;k=b.layout.cells.get(z,d);k=bOs(a,b,k===null||k===void 0?void 0:(q=k.ref)===null||q===void 0?void 0:q.content.ref);c=[];for(const A of f){var r;if((h=b.layout.cells.get(z,A))&&h.span.Zb!==h.span.Ue){l.add([h.span.Zb,h.span.dc]);continue}p.add([z,A]);if(h&&(h.span.Zb!==z||h.span.dc!==A))continue;const B=b.layout.attrs.get(Me.Js,z,A)||{},D={};Ee(Me,B,"all",(G,I)=>{cOs[I]||(D[I]=G)});c.push({rb:{content:(h===null||h===void 0?0:h.ref.content.ref)?
a.zqd(h.ref.content.ref):void 0,Ab:(h===null||h===void 0?0:(r=h.ref)===null||r===void 0?0:r.Ab.ref)?__c.SNc.snapshot(h.ref.Ab.ref):void 0,Ij:(h===null||h===void 0?void 0:h.ref.Ij)||[]},attrs:D,span:(h===null||h===void 0?void 0:h.span)||{Zb:z,dc:A,Ue:z,Ye:A}})}m.push({...k,g$r:{column:d,row:z},PUp:c})}if(l.size>0)return{type:"error",error:"CONTAINS_VERTICALLY_MERGED_CELL",vWa:l.map(([z,A])=>({row:z,column:A}))};const t=e==="asc"?1:-1;m.sort((z,A)=>dOs[z.type]<dOs[A.type]?-1*t:dOs[z.type]>dOs[A.type]?
1*t:z.type===1&&A.type===1?a.gn.compare(z.value,A.value,{numeric:!0})*t:z.type===0&&A.type===0?z.value===A.value?0:z.value>A.value?1*t:-1*t:z.type===2&&A.type===2?z.value===A.value?0:z.value?1*t:-1*t:0);d=m.filter(z=>z.type!==5);e=m.filter(z=>z.type===5);m=d.concat(e);const u=new Map,w=[],x=new Map;Bz(a.Wc,z=>{for(let M=0;M<g.length;M++){const N=g[M];for(const W of f){var A=b.layout.cells.get(N,W);(!A||A.span.Zb===N&&A.span.dc===W)&&A&&A.span.dc!==A.span.Ye&&a.Vi.tid(b,{column:W,row:N})}const {PUp:Q,
g$r:R}=m[M];for(const W of Q){var B;A=W.rb;var D=W.attrs,G=W.span,I=G.dc;if(G.dc!==G.Ye){var K=[];for(const da of Kk(G.dc,G.Ye,b.layout.cols))K.push({column:da,row:N});w.push(K)}if((G=b.layout.cells.get(N,I))&&(G.span.Zb!==N||G.span.dc!==I))continue;K=A.content;const X={column:I,row:R.row};G={column:I,row:N};let Z={};I=b.layout.attrs.get(Me.Js,N,I)||{};Ee(Me,I,"all",(da,la)=>{Z[la]=cOs[la]?da:void 0});Z={...Z,...D};z.setAttributes(b,G,Z);D=a.MOb.NUc(A.Ab?__c.SNc.create(A.Ab):void 0);((B=A.content)===
null||B===void 0?void 0:B.type)==="formula"?(I=a.aDc(b,X,G))?(D=__c.V7q(a.JB,b,A.content.value),D=a.mba.zSd(b,D,I),u.set(G,D)):(z.iCb(b,G,K),z.u0(b,G,D)):(z.iCb(b,G,K),z.u0(b,G,D));x.set(G,[...A.Ij])}}},{I1b:z=>p.has([z.row,z.column])});Bz(a.Wc,z=>{for(const [A,B]of u.entries())z.naa(b,A,__c.Ehe(B.Wka))});for(var y of w)a.Vi.mergeCells(b,y);for(const [z,A]of x.entries())(y=b.layout.cells.get(z.row,z.column))&&y.span.dc===y.span.Ye&&y.span.Zb===y.span.Ue&&(A.length>0||y.ref.Ij.length>0)&&(y.ref.Ij=
A);return{type:"success"}};
hOs=function(a,b,c){if(c!=null)switch(c.type){case "success":break;case "error":switch(c.error){case "CONTAINS_VERTICALLY_MERGED_CELL":var d;const f=c.vWa;if(f.length===0)return;if(f.length>1){const m=a.alert.Dq(()=>gV(fOs,{Mc:m}));return}const {row:g,column:h}=c.vWa[0];var e;c=(e=(d=b.layout.cells.get(g,h))===null||d===void 0?void 0:d.span)!==null&&e!==void 0?e:{Zb:g,dc:h,Ue:g,Ye:h};d=`${b.gK(c.Zb)+1}`;let k=`${an(b.uK(c.dc))}${d}`;c.Zb!==c.Ue&&(d=`${b.gK(c.Ue)+1}`,b=an(b.uK(c.Ye)),k+=`:${b}${d}`);
const l=a.alert.Dq(()=>gV(gOs,{Mc:l,Ajg:k}));break;case "MERGED_CELL_OUTSIDE_RANGE":break;default:throw new v(c);}break;default:throw new v(c);}};
iOs=function(a,b){switch(b.type){case 4:var c=b.cells;const d=b.rows,e=b.columns;return{type:"sheet",sheet:b.container.sheet.config,nz:new wA(b.container.container.Hw(b.container.sheet),a.gd,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case 1:if(((c=b.only)===null||c===void 0?void 0:c.type)==="sheet"&&(b.container.type==="body"||b.container.type==="responsive-page")){c=b.only.config.layout.rows;const f=b.only.config.layout.cols;return{type:"sheet",sheet:b.only.config,nz:new wA(b.container.Hw(b.only),
a.gd,a.viewport),rows:c.map(g=>g),cols:f.map(g=>g),cells:c.flatMap(g=>f.map(h=>({row:g,column:h})))}}break;case 0:if(b.container.type!=="sheet-item-cell-richtext")break;return{type:"sheet",sheet:b.container.container.sheet,nz:new wA(b.container.container.container.container.Hw(b.container.container.container.sheet),a.gd,a.viewport),rows:[],cols:[],cells:[{column:b.container.container.column,row:b.container.container.row}]};case 2:case 3:case 5:break;default:throw new v(b);}};
jOs=function(a,b){var c;const d=a.vpe;if(d==null)return"default";var e=(c=a.Vi.Fwa(d.sheet))===null||c===void 0?void 0:c.range;if(e==null)return"default";c=d.sheet;if(!c.layout.rows.has(e.Zb)||!c.layout.rows.has(e.Ue))return"default";let f;var g;for(const h of Kk((g=c.layout.rows.next(e.Zb))!==null&&g!==void 0?g:e.Zb,e.Ue,c.layout.rows))if(e=c.layout.cells.get(h,b),e!=null&&e.span.Zb===h&&e.span.dc===b){a:if(e=a.cza.getContent(c,e.span.Zb,e.span.dc),e==null)e="default";else switch(e=e.VC,e.type){case 1:e=
"number";break a;case 2:e="date";break a;case 3:case 4:case 0:case 9:case 6:case 7:case 8:e="default";break a;default:throw new v(e);}if(f&&e!==f){f="default";break}f=e}return f!==null&&f!==void 0?f:"default"};
mOs=function(a,b){const c=b.container;if(!b.elements.some(d=>a.vc.$q({element:d,container:c}))){if(!b.inner)return kOs(a,b);switch(b.inner.type){case "sheet":return lOs(a,b.inner);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(b.inner);}}};
nOs=function(a,b){if(b.inner&&!Zl(a.vc,b.container.tb(b.inner.page)))switch(b.inner.type){case "sheet":const c=b.inner.cells,d=b.inner.rows,e=b.inner.columns;return{type:"sheet",sheet:b.inner.page.sheet,nz:new uA(b.container.tb(b.inner.page),a.viewport,a.Ma),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case "background":case "pages":case "sheet-cell-media":break;default:throw new v(b.inner);}};
kOs=function(a,b){var c;if(((c=b.Od)===null||c===void 0?void 0:c.type)==="sheet"){c=b.Od.config.layout.rows;var d=b.Od.config.layout.cols;return{type:"sheet",sheet:b.Od.config,nz:new tA(b.container.Sf(b.Od),a.viewport),cells:c.flatMap(e=>d.map(f=>({row:e,column:f}))),rows:c.toArray(),cols:d.toArray()}}};lOs=function(a,b){const c=b.cells,d=b.rows,e=b.columns;return{type:"sheet",sheet:b.sheet.config,nz:new tA(b.container,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)}};
oOs=function(a){if(!a)return"#000000";const b=Xh(a);return Li(["#000000","#ffffff"],c=>__c.yj(c,b))};
vOs=function(a){const b=a.Ma,c=a.gn,d=a.selection,e=a.canvas,f=a.vc,g=a.viewport,h=a.gd,k=a.ih,l=a.Cd,m=a.alert,p=a.V,q=a.Wc,r=a.MOb,t=a.Vi,u=a.cza,w=a.Cka,x=a.JB,y=a.mba;a=a.Ga.Ud("editor.editing.tabulating.sorting");const z=new pOs(new qOs(c,w,x,y,q,r,t),t,m,p,a),A=iV(({column:K})=>{var M,N;const Q=B.vpe,R=Q?(M=t.Fwa(Q.sheet))===null||M===void 0?void 0:M.range:void 0;M=kV(()=>{R&&Q&&uV(()=>{z.cXi({type:"sheet",sheet:Q.sheet,keg:K,range:R},{f5j:!0});B.iFf=K})},[K,R,Q]);const W=kV(()=>{R&&Q&&uV(()=>
{z.dXi({type:"sheet",sheet:Q.sheet,keg:K,range:R},{f5j:!0});B.iFf=K})},[K,R,Q]),X=kV(()=>jOs(B,K),[K]),Z=kV((la,ka)=>{uV(()=>z.Rol(B,la,ka))},[]);if(R!=null){var da=Q===null||Q===void 0?void 0:(N=Q.sheet.layout.attrs.get(Me.Js,R.Zb,K))===null||N===void 0?void 0:N.F_;return gV(rOs,{Oli:B.iFf===K,bgColor:da,lQq:B.iFf===K,qXq:X,wGh:B.wGh,Rol:Z,aSr:M,gSr:W})}}),B=new sOs(d,f,g,h,b,t,u),D=new tOs(B,t);e.kc(()=>b.mode===40,(K,M)=>{K.yg.hva=M?iV(N=>{const Q=B.vpe;if(Q!=null){var R=D.VZf;if(R!=null)return gV(uOs,
{VZf:R,nz:Q.nz,L0a:A,page:N.page.page})}}):void 0});e.kc(K=>K===40,(K,M)=>{K.xn.dM.hva=M?iV(()=>{const N=B.vpe;if(N!=null){var Q=D.VZf;if(Q!=null)return gV(uOs,{VZf:Q,nz:N.nz,L0a:A,page:void 0})}}):void 0});k.kc(()=>b.mode===40?B.vve:void 0,(K,M)=>{K.H$f=M?{Button:iV(N=>{const Q=kV(()=>uV(()=>{z.G1i(B,{g6m:!0})}),[]);return gV(N.hl,{...N,label:L("5vDH2g"),Icon:__c.Ncr,onClick:Q})})}:void 0});const G=pV(()=>B.vve!=null&&t.Fwa(B.vve.sheet)!=null),I={Qd:()=>b.mode===40?B.vve!=null:!1,Button:iV(K=>{const M=
K.onClick,N=kV(()=>uV(()=>{M===null||M===void 0||M();z.G1i(B,{g6m:!0})}),[M]);return gV(K.xi,{...K,onClick:N,yh:"icon",selected:G.get(),icon:__c.Ncr,tooltip:L("5vDH2g"),PCa:L("5vDH2g")})})};l.plugins.hva=()=>I};xOs=function(a,b,c){c&&(a.F0i=Sb());a.N.track(wOs,{source:b,Knr:c,F0i:a.F0i})};zOs=function(a,{ovi:b,lli:c,nvi:d,uvi:e,tvi:f,qvi:g,rvi:h,qDf:k,NLi:l},m){cp({mb:m,V:a.N,event:yOs,props:{ovi:b,lli:c,nvi:d,uvi:e,tvi:f,qvi:g,rvi:h,qDf:k,NLi:l}})};
AOs=function(a){const b={text:new Set,shape:new Set,table:new Set,line:new Set,"responsive-table-text":new Set,"responsive-layout-text":new Set,"responsive-text":new Set,"responsive-inline-item":new Set};a.filter(c=>c.type==="richtext2"||c.type==="richtext3").forEach(({item:c})=>b[c.type].add(c.Oc));return{kFl:b.text.size+b["responsive-text"].size,$eu:b["responsive-inline-item"].size,hDl:b.table.size+b["responsive-table-text"].size,ssl:b.shape.size,djh:a.filter(c=>c.type==="sheet-cell").length}};
BOs=function(a,b,c,d){b=b.map(e=>({index:e,length:c}));a.fbb(b,d)};DOs=function(a,b,c,d){if(!b.length)return a;b=[...b].sort((k,l)=>k-l);COs(a.length,b,c);let e=0,f="";const g=k=>{f+=k;e+=k.length};let h;for(;(h=b.shift())!=null;)g(a.slice(e,e+(h-e))),f+=d,e+=a.slice(e,e+c).length;g(a.slice(e,e+(a.length-e)));oa(e===a.length);return f};
EOs=function(a,b,c,d){if(!b.length)return a;a=Mg.Lvb(a);oa(!d.includes("\n"));b=[...b].sort((m,p)=>m-p);COs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=Mg.ld(),h={...fe,Ya:(m,p)=>{g.attrs(p);g.Vb(m);e+=m.length}},k={...fe,Ya:(m,p)=>{oa(!m.includes("\n"));g.attrs(p);e+=m.length}};let l;for(;(l=b.shift())!=null;)f.ot(l-e,h),f.ot(1,k),g.Vb(d),f.ot(c-1,k);f.ot(a.length-e,h);f.finish();return g.build()};
FOs=function(a,b,c,d){if(!b.length)return a;a=dl.Lvb(a);oa(!d.includes("\n"));b=[...b].sort((m,p)=>m-p);COs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=dl.ld(),h={item:(m,p)=>{g.attrs(p);g.item(m);e+=1},Ya:(m,p)=>{g.attrs(p);g.Vb(m);e+=m.length}},k={item:(m,p)=>{g.attrs(p);oa(m.display!==1);e+=1},Ya:(m,p)=>{oa(!m.includes("\n"));g.attrs(p);e+=m.length}};let l;for(;(l=b.shift())!=null;)f.ot(l-e,h),f.ot(1,k),g.Vb(d),f.ot(c-1,k);f.ot(a.length-e,h);f.finish();return g.build()};
COs=function(a,b,c){const d=[...b].sort((e,f)=>e-f);na(c>0);na(d.slice(0,-1).every((e,f)=>e+c<=d[f+1]));na(d[0]>=0);na(d[d.length-1]+c<=a)};GOs=function(a,b){switch(b.type){case "formula":case "media":case "mention":case "embed":break;case "boolean":case "number":case "plaintext":return(c,d,e,f)=>{d=DOs(a.tuc,d,e,f);c.EGa(a.sheet,{row:a.container.row,column:a.container.column},d,{qSe:"merge",bSe:!1})};default:throw new v(b);}};HOs=function(a){return a.type==="sheet-cell"&&a.item.EZa.type==="responsive-page"};
IOs=function(a){return a.type==="sheet-cell"&&a.item.EZa.type==="fixed-page"};JOs=function(a){let b;return(...c)=>{b==null&&(b=new Map,setTimeout(()=>b=void 0,0));const d=c[0];let e=b.get(d);if(e!=null)return e;e=a(...c);b.set(d,e);return e}};KOs=function(a){if(a.container.type==="fixed-page")return __c.oWa(a.ha);var b=a.container.ha;b=Pj(b.width/b.eb).then(gk(Yj(b)));return Yj(a.ha).transform(b).Lb()};LOs=function(a){const b=gk(a.MAa());a=gk(Yj(a.el.ha));return b.then(a)};
OOs=function(a){return new MOs(new NOs(a.PGd,a.viewport),{Ewm:100})};POs=function(a,b){return a==null||b==null?!1:a.type==="sheet-cell"?b.type==="sheet-cell"&&a.item.equals(b.item):b.type==="sheet-cell"?!1:a.item.Oc===b.item.Oc&&a.startIndex===b.startIndex};QOs=function(a){if(a.ube!=null){var b=a.ube.match;a.ube=void 0;var c=a.now();a.Yog={match:b,cFq:c+a.Uph(b)};a.Vxn.navigateTo(b);a.setTimeout(()=>{var d;POs((d=a.Yog)===null||d===void 0?void 0:d.match,b)&&(a.Yog=void 0)},a.Uph(b))}};
ROs=function(a){var b=a.store;const c=a.matches;if(c.length===0)return b.m7h=void 0,0;var d=a.now();d=b.m7h==null||d-b.m7h.lFf>1E4?{lFf:d,Pe:a.viewport.Zg}:{Pe:b.m7h.Pe,lFf:d};b.m7h=d;a=a.document.pages.flatMap(g=>{switch(g.type){case "fixed":return[g];case "concatenated-fixed":return g.pages.toArray();case "responsive":return[g];default:throw new v(g);}});a=new Map(a.map((g,h)=>{na(g.id!=null);return[g.id,h]}));d=a.get(n(d.Pe.ha.id));if(d==null)return 0;let e;b=!1;for(let g=0;g<c.length;g++){var f=
c[g];HOs(f)?(na(f.item.EZa.type==="responsive-page"),f=n(f.item.EZa.ha.id)):f.type==="richtext3"?(f=__c.Bf(f.container),na(f.type==="responsive-page"),f=n(f.ha.id)):f=n(f.item.type==="sheet-cell"?f.item.EZa.ha.id:f.item.page.ha.id);f=a.get(f);if(!(f==null||f<d-1))if(f===d-1)b||(e=g,b=!0);else if(f===d){e=g;break}else if(f>=d+1){e==null&&(e=g);break}}return e!==null&&e!==void 0?e:0};TOs=function(a,b){var c;const d=(c=a.store.Ix)!==null&&c!==void 0?c:0;a.VBg(b);a.qy.N.track(SOs,{yqi:a.EJa,Yrn:d,Zrn:b})};
UOs=function(a,b,c,d){switch(b.type){case "text":var e=KOs(b.el);e={x:e.left,y:e.top};break;case "table":e=LOs(b).transformPoint({x:0,y:0});break;case "shape":e=KOs(b.el);b=b.el.ha.fd.first().box;e={x:e.left+b.left,y:e.top+b.top};break;case "line":e=KOs(b.el);b=new __c.Un(a.re,b.el.ha);b=n(b.textBox);e={x:e.left+b.tl.x,y:e.top+b.tl.y};break;case "sheet-cell":e=ck(0,[b.xjg]).tl;break;default:throw new v(b);}return e.y*c+(d?c-e.x:e.x)};
VOs=function(a){let b=0;return a.Ya.slice(0,-1).split("\n").map(c=>{const d=a.kJ(b)["text-transform"];b+=c.length+1;switch(d){case "uppercase":return c.toUpperCase();case "lowercase":return c.toLowerCase();case "capitalize":return c;case "none":case void 0:return c;default:throw new v(d);}}).join("\n")+"\n"};
WOs=function(a,b,c){if(a.length===b.length)return a;a=[...a];const d=[];for(;a.length;){if(!b.length)throw Error("More CharacterItems than grapheme clusters");var e=n(a.shift());const f=b.shift();if(e.character===f)d.push(e);else{let g=e.character;for(e=[e];g!==f;){const h=n(a.shift());g+=h.character;e.push(h)}d.push(c(e,g))}}return d};
XOs=function(a,b){if(b.every(f=>f.length===1))return a;let c,d,e=0;for(let f=0;f<b.length;f++){const g=e+b[f].length;a.from>=e&&a.from<g&&(c=f);if(a.to>=e&&a.to<=g){d=f;break}e=g}return{from:n(c),to:n(d)+1}};YOs=function(a,b,c=im(b)){b=Array.from(b).map((e,f)=>({box:a.get(f),character:e}));c=WOs(b,c,(e,f)=>{e=e.map(g=>g.box).filter(tb);return{character:f,box:e.length?ck(e[0].rotation,e):void 0}});const d=new Map;c.forEach((e,f)=>{e.box&&d.set(f,e.box)});return d};
dPs=function({item:a,gVp:b,KFp:c}){var d=a.Oc.Ya;if(!(b.to-b.from<=0)){var e=im(d);b=XOs(b,e);var f=ZOs(e,c,b);if(f!=null&&f.length!==0){var g=WOs([...d].map((q,r)=>({character:q,indices:new Set([r])})),e,(q,r)=>{const t=new Set;for(const {indices:u}of q)for(const w of u)u.add(w);return{character:r,indices:t}});if(f.length!==b.to-b.from)throw Error("number of character boxes should be equal to the grapheme slice range length");d=[];e=[];for(let q=b.from,r=0;q<b.to;q++,r++){const t=a.Oc.kJ([...g[q].indices][0]),
u=f[r];if(u!=null){d.push(u);var h;e.push((h=t.direction)!==null&&h!==void 0?h:"ltr")}var k;var l=(k=t["font-size"])!==null&&k!==void 0?k:l}if(d.length!==0&&(h=new $Os,k=new aPs(h),h=a.v5d?k.elf(d,a,e):h.elf(d,a.writingMode,e))){switch(a.type){case "text":var m,p;k={width:(m=a.el.ha.eb)!==null&&m!==void 0?m:a.el.ha.width,height:(p=a.el.ha.Ub)!==null&&p!==void 0?p:a.el.ha.height};break;case "table":m=a.MAa();k={width:m.width,height:m.height};break;case "shape":m=a.el.ha.fd.first();k={width:m.box.width,
height:m.box.height};break;case "line":m=a.el.ha.fd.first();k={width:m.width,height:m.height};break;default:throw new v(a);}return{path:h,transform:bPs(a,()=>ck(0,[...c.values()]).height),viewBoxSize:k,fontSize:cPs(l!==null&&l!==void 0?l:Je.Ff["font-size"],a.el)}}}}};cPs=function(a,b){const c=b.ha;b=b.container;b=b.type==="fixed-page"?void 0:b.ha;return a*(c.type==="shape"||c.type==="line"?c.width:c.eb?c.width/c.eb:1)*(b?b.width/b.eb:1)};
bPs=function(a,b){switch(a.type){case "text":b=a.el.ha;var c=a.el.container,d=c.type==="fixed-page"?void 0:c.ha;c=b.eb?b.width/b.eb:1;a=d?d.width/d.eb:1;b=gk(Yj(b));d=d?gk(Yj(d)):Nj();return Pj(c).then(b).then(Pj(a)).then(d);case "table":c=a.rb.ha;b=b();d=a.MAa().height;var e=Nj();c.dj===2?e=Oj(0,d/2-b/2):c.dj===3&&(e=Oj(0,d-b));return e.then(LOs(a));case "shape":c=a.el.ha;a=a.el.container;e=a.type==="fixed-page"?void 0:a.ha;a=gk(Yj(c));d=e?e.width/e.eb:1;e=e?gk(Yj(e)):Nj();const f=c.fd.first(),g=
f.box,h=c.width/g.width;let k=Nj();f.dj===2?k=Oj(0,c.height/2-b()/2):f.dj===1?k=Oj(0,g.top*h):f.dj===3&&(k=Oj(0,c.height-b()-g.top*h));return k.then(Oj(g.left*h,0)).then(a).then(Pj(d)).then(e);case "line":return b=a.el.container,b=(c=b.type==="fixed-page"?void 0:b.ha)?c.width/c.eb:1,a=gk(Yj(a.el.ha)),c=c?gk(Yj(c)):Nj(),Pj(b).then(a).then(c);default:throw new v(a);}};ZOs=function(a,b,c){const d=[];for(let e=c.from;e<c.to;e++){const f=b.get(e);if(f==null&&!ePs.has(a[e]))return;d.push(f)}return d};
gPs=function(a,b,c){const d=[[a[0]]];for(let e=1;e<a.length;e++){const f=d[d.length-1],g=a[e],h=fPs(g,b),k=fPs(f[f.length-1],b),l=c[e]==="ltr";c[e]!==c[e-1]||l&&h<k||!l&&h>k?d.push([g]):f.push(g)}return d.map(e=>ck(0,e))};hPs=function(a){return __c.ue(a.map(b=>[new __c.Wk(0,b.tl),new Xk(0,b.Fn),new Xk(0,b.br),new Xk(0,b.tr),new __c.Jn(0)]).flat())};fPs=function(a,b){return b===1?a.tl.x:a.tl.y};
iPs=function(a,b,c){const d=(g,h)=>{g=Ej(g,h);return g.y/g.x},e=__c.Kj(.5,Hj(a,b));a=-1/d(a,b);const f=__c.Kj(.5,Hj(b,c));b=-1/d(b,c);if(!Number.isFinite(a)||!Number.isFinite(b)){if(Number.isFinite(a)&&Number.isFinite(b))throw Error("points are on a straight line");throw Error("two points are not unique");}b=(b*f.x-a*e.x+e.y-f.y)/(b-a);return{x:b,y:a*(b-e.x)+e.y}};jPs=function(a,b){return Math.atan2(a.y-b.y,a.x-b.x)};
lPs=function(a,b){let c=0;var d=kPs(jPs(a[0].c,b)*180/zj);for(let e=1;e<a.length;e++){const f=kPs(jPs(a[e].c,b)*180/zj),g=Math.min(f,d);d=Math.max(f,d);c+=Math.abs(Math.min(d-g,g+360-d));d=f}return c};kPs=function(a){a=gWa(a);return a<0?360-Math.abs(a):a};mPs=function(a){var b,c;if(a=(c=a.Tk)===null||c===void 0?void 0:(b=c.Kc)===null||b===void 0?void 0:b.first(d=>d.type==="curved"))return Number(a.parameters.get("curvature"))};
oPs=function(a,b,c,d){var e=(c<0?360+c:c)%360;if(e%90<.01)return Math.abs(e-0)<.01?b:Math.abs(e-180)<.01?Zj({center:b.c,width:b.width,height:b.height,rotation:e}):Zj({center:b.c,width:b.height,height:b.width,rotation:e});var f=e-90;f=a.UPf((f<0?360+f:f)%360);a=a.UPf(e);if(Math.abs(e%45)<.01&&Math.abs(b.width-b.height)<.1)if(d===null||d===void 0?0:d.kMm)f=d.kMm(),e=Aj(45+e%45),e={width:Math.abs((b.height-Math.sin(e)*f)/Math.cos(e)),height:f};else if(d===null||d===void 0?0:d.lMm)f=d.lMm(),e=Aj(45+e%
45),e={width:f,height:Math.abs((b.width-Math.sin(e)*f)/Math.cos(e))};else throw Error("expected a sizeHint");else{d=b.width/2;const g=b.height/2;e=Math.abs(Math.floor(e/90))%2===1?{width:Math.abs(nPs(f,a,g,d)),height:Math.abs(nPs(f,a,d,g))}:{width:Math.abs(nPs(f,a,-g,d)),height:Math.abs(nPs(f,a,-d,g))}}return Zj({center:b.c,width:e.width,height:e.height,rotation:c})};nPs=function(a,b,c,d){const e=b.y;b=-b.x;return(-b*d/e+c)/(-b*a.y/e+a.x)*2};
pPs=function(a,b){return WOs(a,b,(c,d)=>{const e=ck(0,c.map(f=>f.boundingBox));return{character:d,boundingBox:e,Y4j:c[0].Y4j}})};qPs=function(a,b){b.innerHTML="";a.forEach(({$6q:c,focused:d})=>{const e=window.document.createElementNS("http://www.w3.org/2000/svg","svg");Object.assign(e.style,{position:"absolute",top:0,left:0,overflow:"visible"});const f=c.viewBoxSize;e.setAttribute("viewBox",`0 0 ${f.width} ${f.height}`);e.innerHTML=`<path fill="${d?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)"}"
    d="${c.path}"></path>`;b.appendChild(e)})};tPs=function({canvas:a,$ba:b,store:c,L:d,viewport:e,qkh:f,errorService:g}){rPs({$ba:b,store:c,L:d,viewport:e,qkh:f,errorService:g});const h=iV(({page:{page:k},Pc:{scale:l}})=>gV(sPs,{matches:d.zqi.filter(m=>IOs(m)).filter(m=>m.item.EZa.ha===k),scale:l}));a.kc(()=>f.get(),(k,l)=>{k.yg.udf=l?h:void 0})};
uPs=function(a){a=[...a].sort((d,e)=>d-e);const b=[];let c=[a[0]];for(let d=1,e,f;d<a.length;d++)e=a[d],f=c[c.length-1],f===e-1?c[1]=e:(b.push(c),c=[e]);b.push(c);return b};zPs=function({store:a,document:b,o2b:c,undo:d,errorService:e,qy:f,P:g,la:h,Wc:k}){return new vPs(a,c,b,void 0,d,e,f,g,wPs(h),xPs({Wc:k}),yPs({fec:c,Wc:k}))};
APs=function({Zc:a,Pi:b}){return({item:c,K9c:d,FNb:e,c_:f})=>{BOs(c.Oc,d,e,f);switch(c.type){case "text":d=c.el.ha;c=c.el.container;c.type==="fixed-page"?a.OY(c,d):a.Q3(c.container,c.ha,[d]);break;case "table":c=c.el.ha;d=__c.io(b,c.cells.values());a.Z_b(c,d);d.destroy();break;case "shape":d=c.el.ha;c=c.el.container;c.type==="fixed-page"?a.Mia(d):a.Q3(c.container,c.ha,[d]);break;case "line":d=c.el.ha;c=c.el.container;(e=d.fd.first())&&e.text.charLength<=1&&d.fd.delete(e);c.type==="fixed-page"?a.LNb(d):
a.Q3(c.container,c.ha,[d]);break;default:throw new v(c);}}};
BPs=function({Gel:a,Wc:b}){return({match:c,FNb:d,c_:e})=>{if(c.type==="richtext3"||HOs(c))if(c.type==="sheet-cell"){const f=c.item,g=c.K9c;b===null||b===void 0||Bz(b,h=>{var k;return(k=f.replace)===null||k===void 0?void 0:k.call(f,h,g,d,e)})}else oa(c.item.type!=="responsive-inline-item"),c.item.replace(e);else if(c.type==="sheet-cell"){const f=c.item,g=c.K9c;b===null||b===void 0||Bz(b,h=>{var k;return(k=f.replace)===null||k===void 0?void 0:k.call(f,h,g,d,e)})}else a({item:c.item,K9c:[c.startIndex],
FNb:d,c_:e})}};
CPs=function({Gel:a,Wc:b,fec:c}){return({matches:d,FNb:e,c_:f})=>{oa(d.length>0);const g=d.filter(l=>l.type==="richtext2"),h=d.filter(l=>IOs(l));[...__c.vj(g,({item:l})=>l.Oc).values()].forEach(l=>a({item:l[0].item,K9c:l.map(m=>m.startIndex),FNb:e,c_:f}));h.length>0&&(b===null||b===void 0||Bz(b,l=>{for(const p of h){var m;const q=p.item,r=p.K9c;(m=q.replace)===null||m===void 0||m.call(q,l,r,e,f)}}));c.replaceAll(f);const k=d.filter(l=>HOs(l));k.length>0&&(b===null||b===void 0||Bz(b,l=>{for(const p of k){var m;
const q=p.item,r=p.K9c;(m=q.replace)===null||m===void 0||m.call(q,l,r,e,f)}}))}};xPs=function({Wc:a}){return({match:b,FNb:c,c_:d})=>{if(b.type==="sheet-cell"){const e=b.item,f=b.K9c;a===null||a===void 0||Bz(a,g=>{var h;return(h=e.replace)===null||h===void 0?void 0:h.call(e,g,f,c,d)})}else oa(b.item.type!=="responsive-inline-item"),b.item.replace(d)}};
yPs=function({fec:a,Wc:b}){return({matches:c,FNb:d,c_:e})=>{a.replaceAll(e);const f=c.filter(g=>g.type==="sheet-cell");f.length>0&&(b===null||b===void 0||Bz(b,g=>{for(const k of f){var h;const l=k.item,m=k.K9c;(h=l.replace)===null||h===void 0||h.call(l,g,m,d,e)}}))}};wPs=function(a){return b=>{switch(b.type){case "replace-all":b=b.arh===1?L("tjFCqA"):J("8IJfUQ",[b.arh]);break;case "replace-some":b=J("KysOJA",[b.arh,b.arh-b.nDo,b.nDo]);break;default:throw new v(b);}a.Ib({XV:!1,Cb:b})}};
EPs=function(a,b,c){const d=[];for(const f of b.wDj)switch(f.type){case "indices":d.push({...f,oVf:b,Mtk:void 0,EZa:c});break;case "inline-item-indices":d.push({...f,type:"indices",oVf:b,Mtk:f.item,EZa:c});break;case "table-item":var e=f.container.ha;for(const h of DPs(e))(e=a.K9g.npb(h.content.text))&&d.push(...EPs(a,e,c));break;case "layout-item":const g=f.container.ha;e=__c.xXd(g).map(h=>n(g.cells.get(h)));for(const h of e)(e=a.K9g.npb(h.text))&&d.push(...EPs(a,e,c));break;case "sheet-cell":d.push(f);
break;default:throw new v(f);}return d};
GPs=function(a){const b=[];if(a.type==="sheet-cell")return b.push(a),b;for(const e of a.indices){var c,d;const f=h=>a.oVf.replace(e,h);let g;g=a.Mtk?{type:"responsive-inline-item",Ja:"responsive",item:a.Mtk,replace:void 0,Oc:a.oVf.WOi}:((c=a.container)===null||c===void 0?void 0:c.type)==="table-item-cell"?{type:"responsive-table-text",Ja:"responsive",item:a.container.table,replace:f,Oc:a.oVf.WOi}:((d=a.container)===null||d===void 0?void 0:d.type)==="layout-item-cell"?{type:"responsive-layout-text",
Ja:"responsive",item:a.container.layout,replace:f,Oc:a.oVf.WOi}:{type:"responsive-text",Ja:"responsive",item:FPs,replace:f,Oc:a.oVf.WOi};b.push({type:"richtext3",startIndex:e,length:g.type==="responsive-inline-item"?1:void 0,container:a.container,item:g,EZa:a.EZa})}return b};HPs=function(a,b){return!a.zUf.fbh&&Object.entries(b).some(([c,d])=>__c.Te(c)&&d==="add")};
DPs=function(a){const b=[...a.layout.columns];a.layout.direction===2&&b.reverse();const c=new Set;for(const e of a.layout.rows)for(const f of b){var d=e.sp.get(f.id);(d=d&&a.cells.get(d))&&c.add(d)}return[...c]};
JPs=function({store:a,canvas:b,viewport:c,DNq:d,fec:e}){const f=iV(g=>{let h=[];g.page.type==="responsive-page"&&(c.HF||c.jh)&&d?h=d.vIk(g.page):g.page.type==="body"&&c.HF&&(h=e.UPe);return nV(xV,{children:[gV(IPs,{matches:h.filter(k=>k.type==="richtext3")}),gV(sPs,{matches:h.filter(k=>k.type==="sheet-cell"),scale:b.xn.zoom})]})});b.kc(()=>a.isMounted,(g,h)=>{g.xn.dM.LDh=h?f:void 0})};
MPs=function({store:a,L:b,dCr:c,errorService:d,Qc:e,Pij:f,Rfj:g}){const h=u=>b.BB(u),k=()=>b.V$j(),l=()=>b.Z$j(),m=iV(()=>{const u=b.EJa,w=u>1,x=a.Ix,y=DV(()=>{if(u!==0)return x!=null?x+1:"?"},[u,x]);return gV(KPs,{DBs:y,eOr:b.EJa,search:a.query,fHs:h,gci:k,h0q:l,ecd:!w,Osc:!w})}),p=pV(()=>b.EJa>0&&a.isMounted),q=iV(()=>{lV(()=>{e();b.Qc();c.Qc();return()=>{b.di();c.di()}},[]);const u=b.alh?g===null||g===void 0?void 0:g.get():void 0;return nV(xV,{children:[gV(m,{}),b.alh&&f&&gV(f,{}),u&&gV(u,{})]})}),
r=u=>d.error(u),t=JV(()=>gV(__c.hu,{rv:r,children:gV(q,{})}));return{Form:iV(({mode:u,onClose:w,source:x})=>{lV(()=>{b.BIl(x,!0);return()=>b.BIl(x,!1)},[x]);return gV(LPs,{Uaj:t,onClose:w,mode:u,title:b.alh?L("TP6Mzw"):L("+MHgZQ")})}),qkh:p}};
RPs=function({store:a,L:b,locale:c,ka:d}){const e=(l,m)=>b.Rho(m),f=NPs.includes(c)?void 0:iV(()=>gV(OPs,{checked:a.GYb,onChange:e})),g=l=>b.Ijo(l),h=()=>b.Q2n(),k=()=>b.replaceAll();c=iV(()=>gV(PPs,{replace:a.replaceWith,tZa:h,tAi:k,WGs:g,ijp:d.layout===1?f:void 0,cus:b.O2n,Zts:b.L2n}));return{Rfj:pV(()=>{const l=b.Non;if(l!=null)return JV(()=>gV(QPs,{state:l,qVg:a.query}))}),Pij:c}};
SPs=function({L:a,N_e:b,Gcs:c,viewport:d}){var e=()=>a.rPb();const f={WN:pV(()=>a.WN),Qmb:pV(()=>a.Qmb),ond:pV(()=>a.ond),ofd:pV(()=>a.ofd),Oge:pV(()=>a.Oge),ypb:k=>a.ypb(k),eBi:k=>{a.sG(c.iVc,k);a.gib(a.ya,k)},mad:k=>a.gib(a.ya,k),xad:e,Rqe:()=>a.Rqe(d.ya),KKn:()=>uV(()=>a.ond=!a.ond),LKn:k=>{a.sG(c.iVc,k.type);var l;a.ond&&a.Rqe((l=a.ya)===null||l===void 0?void 0:l.page);a.gib(a.ya,k.type)}};e={WN:pV(()=>b.WN),Qmb:pV(()=>b.Qmb),ond:pV(()=>!1),ofd:pV(()=>!1),Oge:pV(()=>b.Oge),ypb:()=>!1,eBi:k=>b.sG(c.R8e,
k),mad:k=>{b.gib(k)},xad:e,Rqe:()=>{},KKn:()=>{},LKn:k=>{b.sG(c.R8e,k.type);b.gib(k.type)}};const g={WN:pV(()=>a.WN),directions:pV(()=>a.directions),origins:pV(()=>a.origins),ra:pV(()=>a.ra),O9a:()=>{var k;return a.O9a((k=a.ya)===null||k===void 0?void 0:k.page)},qCb:k=>a.dmo(c.iVc,k),pdc:k=>a.pdc(a.ya,k),rdc:k=>a.rdc(a.ya,k),gib:k=>a.gib(a.ya,k),rPb:()=>a.rPb()},h={WN:pV(()=>b.WN),directions:pV(()=>b.directions),origins:pV(()=>b.origins),ra:pV(()=>b.ra),O9a:()=>b.O9a(b.Era),qCb:k=>b.cmo(c.R8e,k),
pdc:k=>b.pdc(b.Era,k),rdc:k=>b.rdc(b.Era,k),gib:k=>b.gib(k),rPb:()=>a.rPb()};return{mgq:f,l1s:e,HHs:g,m1s:h}};bQs=function(a){switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "chop":return TPs;case "color-wipe":return UPs;case "cross-dissolve":return VPs;case "flow":return WPs;case "match":return XPs;case "slide":return YPs;case "stack":return ZPs;case "wipe-circle":return $Ps;case "wipe-line":return aQs;default:throw new v(a);}};
hQs=function(a){switch(a){case "chop":return[{name:"clockwise",label:L("7OUI9Q"),icon:cQs,value:1},{name:"anticlockwise",label:L("tDA4Pg"),icon:dQs,value:2}];case "color-wipe":return[{name:"left",label:L("jukJIg"),icon:zr,value:2},{name:"right",label:L("ON4niA"),icon:Xt,value:4},{name:"up",label:L("lIXrbw"),icon:QC,value:1},{name:"down",label:L("Nbt2Wg"),icon:$5g,value:3},{name:"up_left",label:L("xA+43A"),icon:eQs,value:5},{name:"up_right",label:L("wDxSNg"),icon:__c.y7g,value:6},{name:"down_right",
label:L("S6doUg"),icon:fQs,value:8},{name:"down_left",label:L("cU2POw"),icon:gQs,value:7}];case "flow":return[{name:"left",label:L("jukJIg"),icon:zr,value:2},{name:"right",label:L("ON4niA"),icon:Xt,value:4},{name:"up",label:L("lIXrbw"),icon:QC,value:1},{name:"down",label:L("Nbt2Wg"),icon:$5g,value:3}];case "slide":return[{name:"left",label:L("jukJIg"),icon:zr,value:2},{name:"right",label:L("ON4niA"),icon:Xt,value:4},{name:"up",label:L("lIXrbw"),icon:QC,value:1},{name:"down",label:L("Nbt2Wg"),icon:$5g,
value:3}];case "stack":return[{name:"left",label:L("jukJIg"),icon:zr,value:2},{name:"right",label:L("ON4niA"),icon:Xt,value:4},{name:"up",label:L("lIXrbw"),icon:QC,value:1},{name:"down",label:L("Nbt2Wg"),icon:$5g,value:3}];case "wipe-circle":return[{name:"inwards",label:L("iovCXw"),value:1},{name:"outwards",label:L("xSSSwg"),value:2}];case "wipe-line":return[{name:"left",label:L("jukJIg"),icon:zr,value:2},{name:"right",label:L("ON4niA"),icon:Xt,value:4},{name:"up",label:L("lIXrbw"),icon:QC,value:1},
{name:"down",label:L("Nbt2Wg"),icon:$5g,value:3}];case "cross-dissolve":case "match":case void 0:break;default:throw new v(a);}};mQs=function(a){switch(a){case "chop":return[{name:"topleft",label:L("6+a4Pg"),icon:iQs,value:1},{name:"topright",label:L("Q0GM2g"),icon:jQs,value:2},{name:"bottomleft",label:L("h9zn0Q"),icon:kQs,value:3},{name:"bottomright",label:L("PIvAww"),icon:lQs,value:4}]}};
oQs=function(a,b){if(a.Ia.pages.has(b)){var c,d=(c=a.Ia.pages.next(b,e=>!e.draft))!==null&&c!==void 0?c:a.Ia.pages.next(b);if(d&&nQs(a,b,d))return a.ki.tb(d)}};nQs=function(a,b,c){var d;if(d=a.FSa(b)&&c.type==="fixed"&&a.FSa(c))b=rk(b,a.Ia.dimensions),a=rk(c,a.Ia.dimensions),d=b.width===a.width&&b.height===a.height&&b.units===a.units;return d};pQs=function(a,b,c){a=n(a.mr.get().find(d=>d.type===b));return Math.min(c,a.Afa)};
rQs=function({type:a,durationUs:b,Jqd:c,options:d}){switch(a){case "chop":var e,f;return{type:"chop",durationUs:b,origin:(e=d===null||d===void 0?void 0:d.origin)!==null&&e!==void 0?e:3,direction:(f=d===null||d===void 0?void 0:d.direction)!==null&&f!==void 0?f:1};case "color-wipe":var g,h,k;return{type:"color-wipe",durationUs:b,ra:(h=(g=d===null||d===void 0?void 0:d.ra)!==null&&g!==void 0?g:c(4))!==null&&h!==void 0?h:qQs,direction:(k=d===null||d===void 0?void 0:d.direction)!==null&&k!==void 0?k:2};
case "cross-dissolve":return{type:"cross-dissolve",durationUs:b};case "flow":var l;return{type:"flow",durationUs:b,direction:(l=d===null||d===void 0?void 0:d.direction)!==null&&l!==void 0?l:2};case "match":return{type:"match",durationUs:b};case "slide":var m;return{type:"slide",durationUs:b,direction:(m=d===null||d===void 0?void 0:d.direction)!==null&&m!==void 0?m:2};case "stack":var p;return{type:"stack",durationUs:b,direction:(p=d===null||d===void 0?void 0:d.direction)!==null&&p!==void 0?p:3};case "wipe-circle":var q;
return{type:"wipe-circle",durationUs:b,direction:(q=d===null||d===void 0?void 0:d.direction)!==null&&q!==void 0?q:1};case "wipe-line":var r;return{type:"wipe-line",durationUs:b,direction:(r=d===null||d===void 0?void 0:d.direction)!==null&&r!==void 0?r:2};default:throw new v(a);}};tQs=function(a,b,c,d,e=!1){a.V.track(sQs,{L2f:c===null||c===void 0?void 0:c.type,Njs:d===null||d===void 0?void 0:d.type,zd:a.Awd(b),Ejq:e})};
uQs=function(a){switch(a.type){case "chop":return{type:a.type,direction:a.direction,origin:a.origin};case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return{type:a.type,direction:a.direction};case "color-wipe":return{type:a.type,direction:a.direction,ra:a.ra};case "cross-dissolve":case "match":break;default:throw new v(a);}};
xQs=function(a,b){if(b&&b.Ji())switch(b.type){case "audio":break;case "elements":if(b.inner)switch(b.inner.type){case "sheet-cell-media":const d=b.inner.container;return new vQs(b.inner.media.map(g=>Qqs(a.controller,d.lta(g).DK(g.fill))).filter(tb));case "sheet":const e=b.inner.container;var c=wQs(b.inner.sheet.config,b.inner.cells);return c.length===0?void 0:new vQs(c.map(({media:g,location:h})=>Qqs(a.controller,e.uY(h.column,h.row).lta(g).DK(g.fill))).filter(tb));case "grid":return Pqs(a.controller,
b.inner.container);case "group":const f=b.inner.container;return new vQs(b.inner.nb.map(g=>Pqs(a.controller,f.Sf(g))).filter(tb));case "layout":case "layout-cell":return Pqs(a.controller,b.container.Sf(b.inner.layout));case "shape":return Pqs(a.controller,b.container.Sf(b.inner.shape));case "table":return Pqs(a.controller,b.inner.container);default:throw new v(b.inner);}return new vQs((b.Bg?[b.Bg]:b.elements).map(d=>Pqs(a.controller,b.container.Sf(d))).filter(tb));case "pages":switch((c=b.inner)===
null||c===void 0?void 0:c.type){case "background":return b.inner.container.type!=="fixed-page"?void 0:Qqs(a.controller,b.inner.container.DK(b.inner.background));case "sheet-cell-media":const d=b.inner.container;return new vQs(b.inner.media.map(f=>Qqs(a.controller,d.lta(f).DK(f.fill))).filter(tb));case "sheet":const e=b.inner.container;c=wQs(b.inner.page.sheet,b.inner.cells);return c.length===0?void 0:new vQs(c.map(({media:f,location:g})=>Qqs(a.controller,e.uY(g.column,g.row).lta(f).DK(f.fill))).filter(tb));
case "pages":case void 0:return;default:throw new v(b.inner);}default:throw new v(b);}};wQs=function(a,b){const c=[];for(const e of b){var d;b=a.layout.cells.get(e.row,e.column);(b===null||b===void 0?void 0:(d=b.ref.content.ref)===null||d===void 0?void 0:d.type)==="media"&&b.ref.content.ref.value.forEach(f=>c.push({media:f,location:e}))}return c};
BQs=function(a){const b=a.Rc,c=a.Ec,d=a.qa,e=a.Hb,f=a.N,g=a.session,h=CV.box(void 0,{deep:!1}),k=jV(p=>{c.tld=p}),l=jV(()=>{c.tld=void 0}),m=jV(()=>{var p,q;(p=(q=e.Rd).BBr)===null||p===void 0||p.call(q);p=h.get();if(p==null||p.state==="rejected")p=uKs(yQs({...a,Rc:b,closeDialog:l})),h.set(p);return zQs(p).then(r=>k(r))});return{toe:iV(({source:p,render:q})=>{const r=h.get();return q({onClick:()=>{f.track(AQs,{ja:g.id,source:p});return m()},loading:r!=null&&r.state==="pending",disabled:d.status===
2&&r==null})}),open:m}};yQs=async function(a){const b=a.Ri,c=a.closeDialog,[{jbq:d},e]=await Promise.all([__webpack_require__.me(51530).then(()=>__c.CQs),b()]),f=d({...a,tk:e});return()=>gV(__c.vr,{className:"mZjong",children:gV(f,{onClose:c})})};zQs=async function(a){return await a};DQs=H(()=>({data:Qa(1,__c.d7c),prompt:U(2),tu:F(3,__c.r7c)}));__c.Jtg.prototype.Mlh=fa(1037,function(a,b){return Ops(this.sR,a,b)});
__c.Jtg.prototype.aye=fa(1036,function(a){var b;const c=__c.Sqg(a);let d=this.csv.parse(a,c);const e=d.length,f=((b=d[0])===null||b===void 0?void 0:b.length)||0;b=f>0&&d.every(h=>h.length===f);let g=!1;switch(c.field){case ",":g=e>=2&&f>=4;break;case ";":case "|":g=e>=2&&f>=2||f>=4;break;default:g=!0}b&&g||(d=a.split(c.row).map(h=>[h]));a=d.map(h=>h.map(k=>k.trim()));return Nps(this.sR,a)});
__c.Bvf.prototype.obc=fa(982,function(a,b,c){a=zk.eQ(a);if(c!==b&&a){a.grid.Xv.forEach(f=>{var g=n(f.gridColumnStart);g=parseInt(g,10)-1;if(g===b)f.gridColumnStart=(c+1).toString(),f.gridColumnEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridColumnStart=(g+1+h).toString();f.gridColumnEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateColumns],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateColumns=d}});
__c.Cvf.prototype.obc=fa(981,function(a,b,c){var d;a=a!=null?__c.yvf(a):void 0;const {Ipa:e,lbc:f}=a!==null&&a!==void 0?a:{};if(c!==b&&e&&f){e.grid.Xv.forEach(h=>{var k=n(h.gridColumnStart);k=parseInt(k,10)-1;if(k===b)h.gridColumnStart=(c+1).toString(),h.gridColumnEnd=(c+2).toString();else if(k>=Math.min(c,b)&&k<=Math.max(c,b)){const l=b<c?-1:1;h.gridColumnStart=(k+1+l).toString();h.gridColumnEnd=(k+2+l).toString()}});a=e.grid.gridTemplateColumns;var g=[...a];g.splice(b,1);g.splice(c,0,a[b]);e.grid.gridTemplateColumns=
g;f.grid.Xv.forEach(h=>{var k=n(h.gridRowStart);k=parseInt(k,10)-1;if(k===b)h.gridRowStart=(c+1).toString(),h.gridRowEnd=(c+2).toString();else if(k>=Math.min(c,b)&&k<=Math.max(c,b)){const l=b<c?-1:1;h.gridRowStart=(k+1+l).toString();h.gridRowEnd=(k+2+l).toString()}});(d=this.V)===null||d===void 0||d.track(__c.dph,{action:"columns_reordered",MK:e.grid.gridTemplateColumns.length,ut:e.grid.gridTemplateRows.length})}});
__c.Bvf.prototype.LIf=fa(980,function(a,b,c){a=zk.eQ(a);if(c!==b&&a){a.grid.Xv.forEach(f=>{var g=n(f.gridRowStart);g=parseInt(g,10)-1;if(g===b)f.gridRowStart=(c+1).toString(),f.gridRowEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridRowStart=(g+1+h).toString();f.gridRowEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateRows],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateRows=d}});Hy.prototype.Exe=fa(887,function(a){return this.Ech.Exe(a)});
UXe.prototype.Exe=fa(886,function(a){__c.Vxf(a)});Hy.prototype.KBb=fa(885,function(){return this.Ech.KBb()});UXe.prototype.KBb=fa(884,function(){this.Xa.mQ()});Hy.prototype.Dqg=fa(883,function(a,b){return this.Ech.Dqg(a,b)});UXe.prototype.Dqg=fa(882,function(a,b){this.Xa.Vv(b,a);this.KBb()});Hy.prototype.Tif=fa(881,function(a,b,c){return this.Ech.Tif(a,b,c)});UXe.prototype.Tif=fa(880,function(a,b){a=__c.Avf(this.cxa,a,b);b=a!=null?sA(a):void 0;return a!=null?!!b&&b.wLc&&b.mrg>1:!1});
Hy.prototype.CNh=fa(879,function(a,b){if(this.v8)return!1;const c=a.ha.pages;return!c.has(b)||Zl(this.vc,a.tb(b))?!1:c.count()-1>=1});UXe.prototype.CNh=fa(878,function(){return!1});Hy.prototype.$Wd=fa(877,function(a,b,c,d){a=a.layout.cells.get(b,c);a=a===null||a===void 0?void 0:a.ref.content.ref;if((a===null||a===void 0?void 0:a.type)==="media")for(const e of d)a.value.delete(e)});
UXe.prototype.$Wd=fa(876,function(a,b,c,d){a=a.layout.cells.get(b,c);a=a===null||a===void 0?void 0:a.ref.content.ref;if((a===null||a===void 0?void 0:a.type)==="media")for(const e of d)a.value.delete(e)});Hy.prototype.tRj=fa(875,function(a){for(const b of a)a=b.fill,a.image.ref?a.image.set(void 0):a.video.ref?a.video.set(void 0):a.gradient.ref?a.gradient.set(void 0):a.color&&(a.color=void 0)});
Hy.prototype.BRj=fa(874,function(a){let b=!1;for(const c of a)c.content.text.charLength>1&&(c.content.text.Fua("\n"),c.content.Jf={Yh:[]},b=!0);return b});Hy.prototype.bmm=fa(873,function(a){let b=!1;for(const c of a)a=c.fill,a.image.ref?(a.image.set(void 0),b=!0):a.video.ref?(a.video.set(void 0),b=!0):a.gradient.ref?(a.gradient.set(void 0),b=!0):a.color&&(a.color=void 0,b=!0);return b});
Hy.prototype.kig=fa(872,function(a){return a.Jc.count()===1?(a=a.Jc.first(),this.r3a(a)||this.nzf(a)||!!a.color):a.Jc.count()>1});UXe.prototype.kig=fa(871,function(){return!1});Hy.prototype.Eig=fa(870,function(a){if(a.Jc.count()===1){a=a.Jc.first();const b=a.color!=null&&a.color!=="#ffffff";return this.r3a(a)||this.nzf(a)||b}return a.Jc.count()>1});UXe.prototype.Eig=fa(869,function(){return!1});
Hy.prototype.dRj=fa(867,function(a,b,c,d){for(const f of b)if(a.Jc.has(f)){var e;if(((e=this.timing)===null||e===void 0?0:e.Ws)||a.Jc.count()!==1)a.Jc.delete(f),d===null||d===void 0||d();else{if(f.image.ref)f.image.set(void 0);else if(f.video.ref)f.video.set(void 0);else if(f.gradient.ref!=null||f.color!=="#ffffff"||!c&&f.color)f.gradient.set(void 0),f.color=c?"#ffffff":void 0;f.durationUs=void 0}}});Hy.prototype.vKi=fa(866,function(a,b){__c.SXe(this.Mqg,a,b)});UXe.prototype.vKi=fa(865,function(){});
__c.ire.prototype.rBc=fa(831,async function(a,b,c){if(a==="")return Promise.resolve(void 0);this.ku({message:"Add URL"});var d=this.Xa.state;if((d===null||d===void 0?void 0:d.type)==="RANGE"&&d.isCollapsed){var e=Rw.aJb(d.range);d=this.Xa.smb(d.Oc,e);e=d.attributes.Fk.size===1?d.attributes.Fk.values().next().value:0;d=d.collapsed&&!(e&&e>0);({connect:e}=this.Xa.aBa(a,{...Py,link:a}));const f=e();if(c==="link")return"link";if(d){const h=this.undo.startBuffering();return __c.hoe(this,a).then((0,__c.vw)(k=>
{const {Q2c:l,access:m}=__c.ioe(this,k);f.Oc&&(this.Xa.Qu(f.Oc,f),this.Xa.mQ());this.Ol(l,b);return m})).catch(k=>{if(k instanceof __c.goe)return"link";throw k;}).finally((0,__c.vw)(()=>{f.disconnect();h.stop()}))}const g=this.undo.startBuffering();return Lps(this,a).then((0,__c.vw)(h=>{f.Oc&&(this.Xa.Qu(f.Oc,f),this.Xa.mQ());this.ffa(h,b);return"public"})).catch(h=>{if(h instanceof __c.goe)return"link";throw h;}).finally((0,__c.vw)(()=>{f.disconnect();g.stop()}))}Mps(this,a);return Promise.resolve("link")});
__c.fre.prototype.rBc=fa(830,function(a,b,c){if(this.kqa().type==="responsive-page")return this.mk.rBc(a,b,c);throw Error("Unimplemented");});__c.i0g.prototype.pRi=fa(827,function(a){var b,c;return __c.Sie(this,{text:(c=(b=this.target.altText)===null||b===void 0?void 0:b.text)!==null&&c!==void 0?c:"",sz:a})});__c.Mde.prototype.Oyk=fa(812,function(a,b){const c=this.F2k.get(a);return!!c&&c.mc(a,b)});
__c.e_d.prototype.ajf=fa(770,function(a){if(a.width<this.minWidth||a.height<this.minHeight)return!1;const b=__c.tOb(this.Zc,a,void 0,void 0,{Hga:!0});return Math.abs(b.c4.width-a.width)<1E-10&&Math.abs(b.c4.height-a.height)<1E-10});
__c.xOa.prototype.BEj=fa(257,async function(a){const b=__c.mh([__c.VXi,"url","resolve","check"]);__c.jh(b,{url:n(a.url),maxWidth:a.maxWidth,maxHeight:a.maxHeight});a=__c.oh(b);const [c,{eWo:d}]=await Promise.all([this.Da.get(a,{Ra:"checkembedresolvability"}),__webpack_require__.me(576875).then(()=>({eWo:__c.EQs}))]);return d.deserialize(c)});
__c.lOa.prototype.lgk=fa(183,async function(){const a=__c.oh(__c.mh([__c.xTg,"insights","quota"])),[b,{cbp:c}]=await Promise.all([this.Da.get(a,{Ra:"getinsightsquota"}),__webpack_require__.me(415643).then(()=>({cbp:__c.FQs}))]);return c.deserialize(b)});
__c.lOa.prototype.kgk=fa(182,async function(a){const b=__c.mh([__c.xTg,"insights"]);__c.jh(b,{id:n(a.id)});a=__c.oh(b);const [c,{dbp:d}]=await Promise.all([this.Da.get(a,{Ra:"getinsights"}),__webpack_require__.me(415643).then(()=>({dbp:__c.GQs}))]);return d.deserialize(c)});
__c.lOa.prototype.cMj=fa(181,async function(a){const b=__c.oh(__c.mh([__c.xTg,"insights"])),[c,{zZo:d}]=await Promise.all([this.Da.post(b,DQs.serialize(a),{Ra:"createinsights"}),__webpack_require__.me(415643).then(()=>({zZo:__c.HQs}))]);return d.deserialize(c)});
var fV=class{get Zam(){const a=[],b=[];for(const [c,d]of this.styles.entries())b.push(`${c}: ${d};`);b.length&&a.push(`style="${b.join(" ")}"`);for(const [c,d]of this.attributes.entries())a.push(`${c}="${d}"`);return`${a.length>0?" "+a.join(" "):""}`}static element(a,b){return new fV(a,b)}appendChild(a){this.children.push(a);return a}setContent(a){this.content=a}setAttribute(a,b){this.attributes.set(a,b)}getStyle(a){return this.styles.get(a)}setStyle(a,b){this.styles.set(a,b)}toString(){if(this.WYg)return`<${this.tagName}${this.Zam}>`;
n(!(this.children.length>0&&this.content.length>0));const a=this.children.length>0?this.children.map(b=>b.toString()).join(""):this.content;return`<${this.tagName}${this.Zam}>${a}</${this.tagName}>`}constructor(a,b){this.tagName=a;this.children=[];this.content="";this.styles=new Map;this.attributes=new Map;this.WYg=(b===null||b===void 0?void 0:b.WYg)||!1}},IQs={eventType:"editor_page_view_list_scrolled",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:
xf(a.Rb),location:a.location})}},NGs={eventType:"editor_page_navigator_resize_interacted",Oa(a){return vf({action:a.action,previous_page_navigator_height:a.l8k,current_page_navigator_height:a.OOj,num_current_layers:a.aQk,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}},hNs={eventType:"editor_pagemanager_page_altered",Oa(a){return vf({doctype_id:a.Ca,document_id:a.ja,category_id:a.$a,action:a.action,control_context:a.kb,source_position:a.fhe,target_position:a.z6e,
performance_context:a.Rb==null?void 0:xf(a.Rb),editing_context:a.Aa==null?void 0:wf(a.Aa)})}},JQs=class{Tu(a,b,c={}){(0,__c.Hb)(()=>a(),d=>b(this.XEm,d),{fireImmediately:!0,...c})}kc(a){(0,__c.Ib)(()=>{a(this.XEm)})}constructor(a,b){this.Jhb=a;this.H$k=b;this.XEm={lbd:this.Jhb,uRf:this.H$k}}},KQs={eventType:"preview_buffered",Oa(a){return vf({analytics_correlation_id:a.Hf,editing_context:a.Aa==null?void 0:wf(a.Aa),buffering_phase:a.vQp,location:a.location,total_buffering_duration_ms:a.F3s,session_duration_ms:a.snl})}},
HJs={eventType:"editor_element_timing_altered",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),action:a.action,element_types:a.oD,original_duration_ms:a.L1k,current_duration_ms:a.yOj,performance_context:a.Rb==null?void 0:xf(a.Rb)})}},IJs={eventType:"editor_alter_element_timing_view",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),action:a.action,performance_context:a.Rb==null?void 0:xf(a.Rb)})}},bKs={eventType:"editor_timeline_interacted",Oa(a){return vf({editing_context:a.Aa==
null?void 0:wf(a.Aa),action:a.action,control_context:a.kb,performance_context:a.Rb==null?void 0:xf(a.Rb)})}},JGs={eventType:"editor_timeline_zoom",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),action:a.action,control_context:a.kb,current_zoom_level:a.nPj,previous_zoom_level:a.icd,performance_context:a.Rb==null?void 0:xf(a.Rb)})}},LGs={eventType:"editor_timeline_view_mode_changed",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),to_view_mode:a.w2s,performance_context:a.Rb==
null?void 0:xf(a.Rb),control_context:a.kb})}},dus=()=>L("2PGUeA"),Xts=class{async fMj(a,b){this.Qe.KJ({});const {mDk:c,fNq:d}=__c.Vne(a.map(g=>({size:g})),this.Kn,this.Qk,this.Ti);a=await this.t7a(c,{Uc:"quick_actions"});this.Qe.close({trigger:"insert"});if(a){b=b.Hw(a);var e=a.cells.get(d);if(e){var f=__c.osa(b,d,e);window.requestAnimationFrame(()=>this.ng.Qu(f,e.text,Rw.start()))}}}constructor(a,b,c,d,e,f){this.Qe=a;this.Kn=b;this.t7a=c;this.Qk=d;this.Ti=e;this.ng=f}},LQs={eventType:"editor_media_flipped",
Oa(a){return vf({direction:a.direction,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,media_id:a.mediaId,media_ids:a.WJ,media_version:a.BE,media_versions:a.YHf,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},MQs=class{NOd(a,b){b()}gEb(){}ct(a,b,c){c()}dle(a,b){b()}y0a(a,b,c){c()}R6a(a,b){b()}S6a(a,b){b()}hle(a,b){b()}x0a(a,b){b()}fle(a,b){b()}iLa(){}ile(){}gle(){}},wqs=class{Xsh(a){this.Ooa(a.body)}Ooa(a){for(const b of a.childNodes)this.NOd(b)}NOd(a){this.acc.NOd(a,
()=>{a.nodeType===a.TEXT_NODE?this.gEb(a):a.nodeType===a.ELEMENT_NODE&&this.eaf(a)})}gEb(a){this.acc.gEb(a)}eaf(a){switch(a.tagName){case "DIV":this.ct(a,"block");break;case "UL":this.y0a(a,!1);break;case "OL":this.y0a(a,!0);break;case "LI":this.R6a(a);break;case "SPAN":case "B":case "STRONG":case "I":case "EM":case "U":case "S":case "DEL":case "FONT":case "SUP":case "SUB":this.ct(a,"inline");break;case "A":this.dle(a);break;case "P":this.S6a(a);break;case "PRE":this.hle(a);break;case "H1":case "H2":case "H3":case "H4":case "H5":case "H6":this.x0a(a);
break;case "BLOCKQUOTE":this.fle(a);break;case "TABLE":this.iLa(a);break;case "BR":this.ile(a);break;case "IMG":this.gle(a);break;case "STYLE":break;default:this.Ooa(a)}}ct(a,b){this.acc.ct(a,b,()=>this.Ooa(a))}dle(a){this.acc.dle(a,()=>this.Ooa(a))}y0a(a,b){this.acc.y0a(a,b,()=>this.Ooa(a))}R6a(a){this.acc.R6a(a,()=>this.Ooa(a))}S6a(a){this.acc.S6a(a,()=>this.Ooa(a))}hle(a){this.acc.hle(a,()=>this.Ooa(a))}x0a(a){this.acc.x0a(a,()=>this.Ooa(a))}fle(a){this.acc.fle(a,()=>this.Ooa(a))}iLa(a){this.acc.iLa(a,
b=>this.NOd(b))}ile(a){this.acc.ile(a)}gle(a){this.acc.gle(a)}constructor(a){this.acc=a}},NQs=a=>({H1:a*2,H2:a*1.5,H3:a*1.17,H4:a*1,H5:a*.83,H6:a*.67}),OQs=class extends MQs{async iT(a){const b=[...this.urls],c=(await Promise.all(b.map(Aqs))).filter(tb).map((f,g)=>new File([f],`${g}.${__c.Qz(f.type)}`));a=await a(c,"canvas",{I6a:"background",kb:"clipboard"}).images;a=new Map(a.flatMap(f=>f.uD?[[f.uD,f]]:[]));const d=new Map;for(let f=0;f<c.length;f++){var e=a.get(c[f].name);e&&(e=this.BAr(e),d.set(b[f],
e))}return d}iLa(a,b){for(const c of a.rows)for(const d of c.cells)b(d)}gle(a){this.urls.add(a.src)}constructor(){super();this.BAr=__c.Qif;this.urls=new Set}},PQs=(a,b,...c)=>{for(const d of c)if(c=d(a))return c;return b(a)},Exs=a=>{switch(a){case 4:return L("eY1d0Q");case 1:return L("WL2xxQ");case 3:return L("nAKgzA");case 2:return L("SJUMrg");default:throw new v(a);}},gvs=class{static G(a){O(a,{Hdg:__c.gG,gfh:__c.gG.struct})}get Hdg(){var a=this.selection.Jb;if(a&&!(this.Ma.mode<=20)&&(a=a.type===
1?a.only:void 0)&&a.display!==2)switch(a.type){case "controlled":case "chart":case "rect":case "embed":case "design":case "layout":case "shape":return a;case "break":case "separator":case "pill":case "table":case "sheet":break;default:throw new v(a);}}get gfh(){const a=this.Hdg;if(a&&a.width!=="100%"&&a.width!=="100cqw"&&(!a.width.endsWith("px")||a.maxWidth!=="100cqw"))switch(a.alignment||"50%"){case "0%":return"left";case "50%":return"center";case "100%":return"right"}}constructor(a,b){this.Ma=a;
this.selection=b;gvs.G(this)}},QQs={eventType:"editor_elements_aligned",Oa(a){return vf({anchor:a.anchor,control_context:a.kb,num_elements_selected:a.G$c,element_types:a.oD,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},RQs={eventType:"editor_element_z_index_changed",Oa(a){return vf({direction:a.direction,control_context:a.kb,num_elements_selected:a.G$c,element_types:a.oD,
design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}},SQs={eventType:"editor_toolbar_position_menu_opened",Oa(a){return vf({design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_elements_selected:a.G$c,element_types:a.oD,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,editing_context:a.Aa==
null?void 0:wf(a.Aa),tab:a.te})}},TQs={eventType:"editor_element_aspect_lock_clicked",Oa(a){return vf({action:a.action,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},$xs={eventType:"editor_element_rotated",Oa(a){return vf({element_types:a.oD,original_rotation:a.O1k,rotation:a.rotation,x:a.x,y:a.y,width:a.width,height:a.height,control_context:a.kb,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},UQs={eventType:"editor_elements_swapped",Oa(a){return vf({primary_element_type:a.qks,secondary_element_type:a.hCs,
swap_type:a.CPb,total_elements_moved:a.M3s,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}},VQs={eventType:"presentation_navigator_initial_rendered",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb),num_pages:a.hC,num_elements:a.IBa,num_embeds:a.Nru,num_static_thumbnails:a.jvi})}},qQs=["#7900ff","#548cff","#93ffd8","#cfffdc"],Eqs=a=>{const b=a.layout,c=a.Ix,d=a.DQ,e=a.Iy,f=a.GTf,g=a.Hua;(0,__c.Mdr)(()=>
()=>{const h=g?null:f;h===null||h===void 0||h()},[f,g]);return Fdr(__c.cer,{layout:b,className:"jWnHiw",children:__c.der.map((h,k)=>Fdr(__c.fer,{OTs:k,Ix:c,DQ:d,NTs:h,Iy:e,Npe:a.Npe,P1f:a.P1f,oa:a.oa,Hua:a.Hua},h))})},Dqs=class{static G(a){O(a,{P1f:Pdr.bound,Meh:Pdr.bound,GTf:Pdr.bound,Npe:Pdr.bound,s_f:__c.Rdr,DQ:Pdr})}P1f(a){this.store.Iy===a?this.GTf():this.Meh(a)}Meh(a){this.store.Iy=a}GTf(){this.store.Iy=void 0}Npe(a,b){const {dimensions:c}=this.s_f||{},{top:d,left:e}=b||{};b=c&&d&&e?Yj({top:d,
left:e,width:c.width,height:c.height}):void 0;a=__c.Edr(a);this.oc.G9(a,"sticky_note",{Uc:"tools_tab_click"},{box:b,lLa:{type:"absolute",value:"top"}});this.Tya()}get s_f(){if(this.store.jD&&this.store.Iy){var a=__c.Edr(this.store.Iy);a=__c.aqe(this.oc,this.store.jD,a);return{dimensions:{width:a.width,height:a.height},paths:a.paths,viewBox:a.viewBox}}}Tya(){this.V.track(dvg,{elementType:"shape",kb:"click",qsa:"add",XLc:!1})}constructor(a,b,c,d){this.store=a;this.jc=b;this.oc=c;this.V=d;this.Abr=(Dqs.G(this),
(e,f)=>{var g;const h=((g=e.Bg)===null||g===void 0?void 0:g.type)==="shape"?e.Bg:void 0;h&&(f&&(f=h.slice,g=h.fd,h.viewBox&&f&&g&&this.jc.iPa("font-size",Math.round(.08*Math.max(h.width,h.height)*.75)*eu)),rA(this.jc,e,"all"))});this.Nxn=e=>{this.DQ((this.store.Ix+(e==="prev"?-1:1)+__c.eer)%__c.eer)};this.DQ=e=>{this.store.Ix=e}}},Cqs=class{static G(a){O(a,{isActive:__c.Sdr.ref,lCb:Pdr,Iy:__c.Sdr.ref,jD:__c.Rdr,Ix:__c.Sdr.ref})}lCb(a){this.isActive=a!==null&&a!==void 0?a:!1}get Hua(){return this.z2a&&
Ic.zgb}get jD(){const a=this.viewport.Zg.ha;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.z2a=b;this.isActive=(Cqs.G(this),!1);this.Ix=0}},jCs=class{data(){if(this.raw.length<2)return[];const a=Hqs(this);return this.raw.slice(1).map(b=>{const c=new Map;b.forEach((d,e)=>c.set(a[e],d));return c})}constructor(a){this.raw=a}},WQs=class extends __c.yLr{static G(a){O(a,{onChange:__c.bU.bound,options:__c.cU})}onChange(a){const b=this.props.EC,c=this.props.QZb,d=this.props.zVr,e=
this.props.oa,f=this.props.SUr;if(this.props.current!==a)switch(f(),e(),a){case "iframe":d();break;case "pill":c();break;case "link":b();break;default:throw new v(a);}}get options(){const a=this.props.eF,b=this.props.AFi;return[Iqs("iframe",this.props.L0h,L("R/eZ7Q")),Iqs("pill",b,L("rrRYsA")),Iqs("link",a,L("O2cT4A"))].filter(tb)}render(){const a=this.props.current,b=this.props.disabled;return(0,__c.dU)(WA,{label:L("IQVG9w"),Fv:"small",control:()=>(0,__c.dU)(__c.Fz,{value:a,stretch:!0,onChange:this.onChange,
disabled:b,options:this.options,className:"_6fXk2A"})})}constructor(...a){super(...a);WQs.G(this)}},XQs=(a,b)=>{a=new URL(a);const c=new URLSearchParams(a.search);c.delete("include_page_indexes");c.set("include_page_ids",b.join(","));return`${a.origin}${a.pathname}?${c}`},YQs=class{encode(a){a=this.serializer.serialize(a);return{...a,html:this.fgh(a)}}fgh(a){var b=a.DOa;a=a.html;const c=fV.element("div"),d=c.appendChild(fV.element("span"));b=Kqs(b);d.setAttribute("data-canva-clipboard",b);a.forEach(e=>
c.appendChild(e));return c.toString()}async parse({text:a,html:b,DOa:c},d){if(c)return this.serializer.hXd(c);b=b?b.replace(/\r\n|\r/g,"\n"):void 0;if(c=Lqs(this,{html:b},d))return c;a=a?a.replace(/\r\n|\r/g,"\n"):void 0;return(b=await this.serializer.BXh({html:b,text:a}))?b:this.sof({text:a})}sof({text:a}){if(a){const b=this.serializer.hXd(a);return b!==null&&b!==void 0?b:this.serializer.sof(a)}}constructor(a,b){var c=Mqs;this.N7=a;this.jbe=c;this.serializer=b}},ZQs=__webpack_require__(31968),xV=
ZQs.Fragment,gV=ZQs.jsx,nV=ZQs.jsxs;var $Qs,lus,oV,pV,oKs,CV,aRs,bRs,aDs,$Cs,Drs,cRs;$Qs=__webpack_require__(400770);jV=__c.jV=$Qs.action;lus=$Qs.autorun;oV=$Qs.comparer;pV=$Qs.computed;oKs=$Qs.makeObservable;CV=$Qs.observable;aRs=$Qs.ObservableMap;bRs=$Qs.observe;aDs=$Qs.onBecomeUnobserved;hV=__c.hV=$Qs.reaction;uV=__c.uV=$Qs.runInAction;$Cs=$Qs.tC;Drs=$Qs.when;cRs=$Qs.yy;var dRs=__webpack_require__(813494),iV=dRs.observer,eRs=dRs.useLocalObservable;var KV=__webpack_require__(845212),LV=KV.Component,fRs=KV.createElement,MV=KV.createRef,gRs=KV.forwardRef,bMs=KV.Fragment,MHs=KV.lazy,JV=KV.memo,hRs=KV.PureComponent,OHs=KV.Suspense,kV=KV.useCallback,iRs=KV.useDeferredValue,lV=KV.useEffect,jRs=KV.useId,kRs=KV.useImperativeHandle,lRs=KV.useLayoutEffect,DV=KV.useMemo,mV=KV.useRef,tV=KV.useState;var mRs=__webpack_require__(27950);var nRs=__webpack_require__,oRs=nRs(208463),GV=nRs.n_x(oRs)();var NV=__webpack_require__(277049)._;var PV=__webpack_require__(269018)._;var pRs=__webpack_require__(206928),IV=pRs.Aj,QV=pRs.iB,uKs=pRs.Sx,cDs=pRs.tB,yGs=pRs.uP;var qRs=__webpack_require__(628181).Y;var rRs=__webpack_require__(13851);var sRs=__webpack_require__(921885).createPortal;var tRs=__webpack_require__(316620);var uRs=__webpack_require__(294462);var vRs=__webpack_require__(388909).t;var wRs=class{constructor(a){this.wJa=a}};var Yqs=["color","typography","alt_text","links"],xRs={typography:{label:L("A9rBrQ"),icon:gV(__c.dyg,{size:"medium",tone:"primary"}),uWa:"typography"},color:{label:L("/hr0NQ"),icon:gV(__c.Yhr,{size:"medium",tone:"primary"}),uWa:"color"},alt_text:{label:L("RsRlBQ"),icon:gV(__c.Tu,{size:"medium",tone:"primary"}),uWa:"alt_text"},links:{label:L("+jE5WA"),icon:gV(Do,{size:"medium",tone:"primary"}),uWa:"links"}},Lrs=class{static G(a){O(a,{Nx:CV.deep,view:CV.ref,AUd:CV.ref,k6d:CV.ref,XPi:CV.ref,iLb:pV,lmi:pV,
HU:pV,EPh:pV,nDc:pV,Fie:pV,Dti:pV,jIh:pV})}get vDj(){return Yqs.filter(a=>!(a==="links"&&!this.b3c))}get oDc(){const a={};this.G9m>=100&&(a.color="page_limit");return a}get iLb(){return Yqs.includes(this.view)?this.Nx.filter(a=>a.category===this.view):this.view==="issue"?this.HU?[this.HU]:[]:this.Nx}get lmi(){return this.iLb.reduce((a,b)=>{var c,d;(d=a[c=b.Xb])!==null&&d!==void 0?d:a[c]=[];a[b.Xb].push(b);return a},[])}get HU(){return this.Nx.find(a=>a.selected)}get EPh(){return this.Nx.filter(a=>
a.checked)}get nDc(){const a={};this.vDj.forEach(b=>{a[b]=0});this.Nx.forEach(b=>{a[b.category]++});return a}get Fie(){switch(this.view){case "home":return L("DJFkPQ");case "alt_text":return L("RsRlBQ");case "color":return L("/hr0NQ");case "typography":return L("A9rBrQ");case "links":return L("+jE5WA");case "issue":var a;return((a=this.HU)===null||a===void 0?void 0:a.rule)==="alt_text"?L("eNTSgg"):L("DJFkPQ");default:throw new v(this.view);}}get Dti(){switch(this.view){case "alt_text":return L("7juaHg");
case "typography":return L("aKY15g")}}get jIh(){switch(this.view){case "home":return L("BmFrqA");case "alt_text":return L("8+4O5g");case "color":return L("ZERETA");case "typography":return L("YN9VAw");case "links":return L("GMn6WA");case "issue":return"";default:throw new v(this.view);}}constructor(a=!1){this.b3c=a;this.G9m=(Lrs.G(this),1);this.Nx=CV.array();this.view="home";this.AUd="loading";this.k6d=void 0}},Ors=class extends Lrs{get oDc(){return{}}constructor(a=!1){super(a)}};var yRs=parseInt("200ms",10),zRs=iV(({icon:a,title:b,description:c,Yuf:d,ANq:e,selected:f,checked:g,gj:h,cRb:k,sTa:l,PRr:m,tyi:p,locked:q})=>{const r=mV(null),t=mV(null),u=!(!p||!d||q),w=!!m&&u&&!h;lV(()=>{const x=setTimeout(()=>{var y,z;f&&r.current&&((y=(z=r.current).scrollIntoView)===null||y===void 0||y.call(z,{block:"nearest",behavior:"smooth"}))},300);return()=>clearTimeout(x)},[f]);return nV("div",{className:"SM3Rnw",ref:r,children:[gV(So,{onClick:l,HE:"primary",selected:f,QC:J("MnQJ8A",[b.toLowerCase()]),
Rr:w&&gV(__c.LZg,{location:"top-start",visibility:g?"always":"on-hover",label:g?J("dYbh9Q",[b.toLowerCase()]):J("eUkheA",[b.toLowerCase()]),selected:g,onSelect:m}),thumbnail:gV(__c.dv,{children:gV(S,{padding:"2u",width:"full",height:"unset",children:nV(Yc,{spacing:"1u",children:[nV(ir,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[gV(hr,{children:nV(kr,{spacing:"1u",children:[a,gV(P,{className:"P84zWw",weight:"bold",size:"medium",children:b})]})}),q?gV(hr,{width:"content",children:gV(Wu,
{text:L("KAcVpg"),tone:"neutralLow",icon:gV(ey,{size:"small"})})}):void 0]}),gV(k,{}),(f||u)&&nV(Yc,{spacing:"2u",children:[f&&(typeof c==="string"?gV(P,{className:"B7DQ5Q",size:"medium",children:c}):gV("div",{className:"B7DQ5Q",children:c})),u&&gV(fj,{className:"nCQDgg",disabled:e,variant:f?"primary":"secondary",stretch:!0,onClick:()=>{p()},children:d})]})]})})}),layout:"vertical",Smb:"thumbnail"}),gV(mRs["default"],{in:h,mountOnEnter:!0,timeout:yRs,nodeRef:t,classNames:{enter:"xkwLeQ",enterActive:"zo9sdQ"},
children:gV("div",{className:"eBJmtA",ref:t,children:gV(dy,{className:"_2Rxe4Q",size:"medium"})})})]})});var ARs=iV(({description:a,ePk:b,hdq:c,VSp:d,cRb:e,sTa:f,locked:g,tyi:h,...k})=>{const l=!(!h||g);return gV(zRs,{description:gV(()=>nV(Yc,{spacing:"2u",children:[gV(P,{size:"medium",children:a}),nV(ir,{Fa:"start",spacing:"1u",align:"start",children:[gV(hr,{width:"content",children:nV(S,{className:"rmlZHQ",display:"flex",padding:"0",alignItems:"center",justifyContent:"center",children:[gV(__c.kJh,{size:"medium"}),gV("div",{className:"ZFGjHg","aria-hidden":!0,children:gV(__c.ZA,{fill:c,stretch:!0,aspectRatio:4.5})})]})}),
nV(hr,{children:[gV(P,{size:"medium",weight:"bold",children:L("7G74Yw")}),gV(P,{size:"small",tone:"tertiary",children:c.length>1?L("5ctgQg"):c[0]})]})]}),d.length>0&&l?nV(xV,{children:[gV(P,{size:"medium",tone:"tertiary",children:L("VtIjMg")}),gV("div",{className:"gYMxhQ",children:gV(kr,{spacing:"1u",children:d.map((m,p)=>gV(__c.ZA,{fill:[m],size:"small",onClick:()=>h(m)},p))})})]}):l&&gV(Pk,{tone:"info",size:"small",children:b})]}),{}),cRb:e,sTa:f,locked:g,...k})});var irs=iV(function({jIh:a,lmi:b,HU:c,Iwl:d,cRb:e,aZk:f,LVk:g,$Uk:h,e6r:k,Z3g:l,VYd:m}){return b.flat().length===0?gV(S,{height:"full",width:"full",display:"flex",Kb:"2u",alignItems:"center",children:nV(Yc,{spacing:"1u",align:"center",children:[gV(or,{tagName:"h3",size:"medium",alignment:"center",children:L("lBTWrQ")}),nV(Yc,{spacing:"2u",align:"center",children:[gV(P,{size:"medium",alignment:"center",children:a}),gV(fj,{variant:"primary",onClick:k,children:L("L6tUpw")})]})]})}):gV(Yc,{spacing:"2u",
children:b.map((p,q)=>p.length>0&&nV(Yc,{spacing:"1u",children:[gV(or,{tagName:"h3",size:"xxsmall",children:J("7l3o/A",[q+1])}),p.map((r,t)=>nV("div",{children:[d&&gV(gj,{shape:"rectangle"}),gV("div",{className:GV({qyPrNw:d}),children:gV(BRs,{AE:r,selected:r===c,Iwl:d,cRb:e,aZk:f,LVk:g,$Uk:h,Z3g:l,VYd:m})})]},`${r.id}:${t}`))]},q))})}),BRs=iV(({AE:a,selected:b,Iwl:c,cRb:d,aZk:e,LVk:f,$Uk:g,Z3g:h,VYd:k})=>{var l=a.category;const m=a.messages,p=m.icon,q=a.state,r=a.ezf;b={icon:p!==null&&p!==void 0?
p:xRs[l].icon,title:m.title,description:m.description,Yuf:m.Yuf,ANq:q!=="ready"||c,selected:b,checked:a.checked,PRr:k&&r?()=>f(a):void 0,gj:q==="resolved",sTa:()=>e(a),locked:a.locked};c=()=>gV(d,{y6:a.y6});if(a.rule==="insufficient_text_contrast"){const t=a.ZNd;k=a.Zvd;l=t?u=>{t(u);g(a)}:void 0;return gV(ARs,{...b,ePk:a.messages.ePk,hdq:a.trd,VSp:k(),cRb:c,tyi:l})}return a.rule==="alt_text"?gV(zRs,{...b,cRb:c,tyi:()=>h===null||h===void 0?void 0:h(a)}):gV(zRs,{...b,cRb:c,tyi:a.n4m?()=>g(a):void 0})});var Rqs=({page:a,element:b,Nl:c,sf:d,nd:e})=>gV(S,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:gV(S,{className:"MNaxkA",children:gV(c,{page:a,element:b,sf:d,nd:e})})});var Uqs=({item:a,context:b,sf:c,nd:d,old:e})=>gV(S,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:gV(S,{className:"MNaxkA",children:gV(e,{item:a,context:b,nd:d,sf:c,gas:"1u"})})});var Tqs=({page:a,NT:b,sf:c,nd:d})=>gV(S,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:gV(S,{className:"MNaxkA",children:gV(b,{page:a,fit:"contain",sf:c,nd:d})})});var CRs=({type:a})=>"page element grid_element shape_element table_element item".split(" ").includes(a),Sqs={sf:parseInt("48px",10),nd:parseInt("264px",10)};var nrs=({Dti:a,NMi:b,H3s:c,layout:d})=>{const e=nV(S,{className:"_3fBluA",background:"surface",padding:"2u",display:"flex",width:"full",flexDirection:"row",borderRadius:d===1?"container":void 0,justifyContent:"spaceBetween",alignItems:"center",children:[gV(P,{children:J("TOnKVA",[c])}),gV(fj,{variant:"primary",onClick:()=>{b()},children:a})]}),f=gV(S,{className:"ImFKRg",padding:"2u",display:"flex",children:e});return a&&c>0?d===1?f:e:null};var DRs={page_limit:{title:J("WNW1KQ",[100]),description:L("YvwwWA")}},ERs=iV(function({icon:a,NOh:b,DUp:c,uWa:d,XXb:e,dab:f}){const g=kV(()=>f(d),[d,f]),h=e>0,k=c!==void 0;return gV(__c.Yt,{className:"DqxJtA",display:"block",width:"full",padding:"2u",border:"standard",borderRadius:"element",color:{disabled:"var(--3YOFOw)"},backgroundColor:{disabled:"var(--oqurdw)"},disabled:!h||k,onClick:g,children:gV(S,{width:"full",Lc:"0.5u",children:nV(ir,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[gV(hr,
{children:nV(ir,{Fa:"start",spacing:"1u",children:[gV(hr,{width:"content",children:a}),nV(hr,{children:[gV(P,{size:"medium",tone:lr,children:b}),k&&nV(xV,{children:[gV(md,{direction:"vertical",size:"1u"}),gV(Pk,{tone:"info",title:DRs[c].title,children:DRs[c].description})]})]})]})}),gV(hr,{width:"content",children:nV(ir,{Fa:"center",spacing:"1u",children:[gV(hr,{width:"content",children:!k&&gV(Wu,{text:h?J("fEtOCg",[e]):void 0,tone:h?"contrast":"positive",icon:h?void 0:gV(__c.Dr,{size:"tiny"})})}),
h&&!k&&gV(hr,{width:"content",children:gV(xr,{size:"medium"})})]})})]})})})}),FRs=({nDc:a,oDc:b,dab:c})=>gV(S,{className:"Nx5i0Q",children:gV(Yc,{spacing:"1u",children:Object.values(xRs).filter(({uWa:d})=>a.hasOwnProperty(d)).map(({label:d,icon:e,uWa:f},g)=>gV(ERs,{icon:e,NOh:d,uWa:f,DUp:b[f],XXb:a[f],dab:c},g))})});var GRs=Object.values(xRs).length,ors=iV(({title:a,ejb:b,Po:c,PV:d})=>gV(__c.kd,{title:gV(or,{className:"g6xQ3A",size:"xsmall",tagName:"h2",ariaLabel:a,children:a}),padding:"1.5u",start:b?gV(__c.Ar,{className:"TTJO9w",onClick:c}):gV(lBj,{size:"medium",tone:"primary"}),end:gV(__c.jd,{onClick:d})})),prs=iV(({va:a,view:b,nDc:c,oDc:d,dab:e,bBh:f,Fgj:g,HU:h,EQh:k,tWc:l,cRb:m,hG:p,VYd:q,S2h:r})=>{const t=kV(()=>{switch(b){case "home":return gV(jrs,{va:a,nDc:c,oDc:d,dab:e,OVl:gV(krs,{S2h:r})});case "issue":return h?
gV(mrs,{AE:h,tWc:l,cRb:m,EQh:k,hG:p,VYd:q}):null;default:return nV(xV,{children:[gV(S,{className:"dEAxJA",children:gV(lrs,{bBh:f})}),gV(g,{})]})}},[a,b,c,d,e,f,g,h,l,m,k,p,q,r]);return gV(fo,{children:t()})}),jrs=iV(({va:a,nDc:b,oDc:c,dab:d,OVl:e})=>gV(S,{padding:"2u",children:a?gV(Yc,{spacing:"1u",children:Array.from({length:GRs}).map((f,g)=>gV("div",{className:"_8cGwhw",children:gV(gj,{shape:"rectangle",index:g})},g))}):nV(xV,{children:[e,gV(FRs,{nDc:b,oDc:c,dab:d})]})})),lrs=({bBh:a})=>gV(S,{className:"nx_GSQ",
padding:"2u",height:"full",children:gV(a,{})}),mrs=iV(({AE:{rule:a,locked:b,y6:c},tWc:d,cRb:e,EQh:f,hG:g,VYd:h})=>{const k=DV(()=>h&&CRs(c),[c,h]);return a==="alt_text"?(b&&f("alt_text"),nV(Yc,{spacing:"0",children:[k&&gV(S,{paddingTop:"2u",Kb:"2u",children:gV(e,{y6:c})}),gV(d,{Oe:"fill",di:()=>{f("alt_text")},oa:()=>{f("alt_text")},kb:"accessibility_checker",hG:g})]})):null});var HRs={eventType:"editor_a11y_checker_opened",Oa(a){var b;return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),impression_id:a.hG,issue_counts:(b=a.vBk)===null||b===void 0?void 0:b.map(c=>Wqs(c)),control_context:a.kb})}},IRs={eventType:"editor_a11y_checker_closed",Oa(a){var b;return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),impression_id:a.hG,interaction_trigger:a.tgb,issue_counts:(b=a.vBk)===null||b===void 0?void 0:b.map(c=>Wqs(c))})}},JRs={eventType:"editor_a11y_checker_navigated",Oa(a){return vf({editing_context:a.Aa==
null?void 0:wf(a.Aa),impression_id:a.hG,view_type:a.yS,view_name:a.p5f,interaction_trigger:a.tgb,initial_issue_selected:a.YAf==null?void 0:Xqs(a.YAf)})}},crs={eventType:"editor_a11y_checker_issue_interacted",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),impression_id:a.hG,issue_info:a.BEf==null?void 0:Xqs(a.BEf),interaction_type:a.Ev,interaction_trigger:a.tgb})}},ers={eventType:"editor_a11y_checker_multiple_issues_interacted",Oa(a){var b;return vf({editing_context:a.Aa==null?void 0:
wf(a.Aa),impression_id:a.hG,issues_info:(b=a.rjn)===null||b===void 0?void 0:b.map(c=>Xqs(c)),interaction_type:a.Ev,interaction_trigger:a.tgb,bulk_edit_impression_id:a.egm})}};var hrs=class{static G(a){O(a,{jC:jV.bound,lD:jV.bound,views:pV,K0d:pV,ekg:pV})}jC(){this.store.hG=Sb();this.store.layout===2&&this.navigation.dh({ff:this.views.YPd,options:this.hui});this.store.layout===1&&(this.skeleton.Dx=this.views.rfj);this.store.isAlive=!0}Z3g(){this.store.layout===2&&this.navigation.dh({ff:this.views.aBh,options:this.hui})}lD(){this.store.isAlive=!1;const a=this.views.YPd,b=this.views.Category,c=this.views.aBh,d=this.views.rfj;this.navigation.screen&&[a,b,c].includes(this.navigation.screen.ff)&&
this.navigation.clear();this.skeleton.Dx===d&&(this.skeleton.Dx=void 0)}get views(){return n(this.store.views)}get K0d(){return n(this.store.K0d)}get ekg(){return this.store.isAlive}npc(){const a=this.KNe.nDc;return[{AP:"all",XXb:this.KNe.Nx.length},{AP:"alt_text",XXb:a.alt_text},{AP:"color_contrast",XXb:a.color,xQs:this.KNe.oDc.color?"page_count_over_100":void 0},{AP:"typography",XXb:a.typography}]}YMd(a){const b={hG:this.store.hG,kb:a};this.Smq=Drs(()=>this.KNe.AUd!=="loading"&&!this.store.va,()=>
{setTimeout(()=>{b.vBk=this.npc();this.V.track(HRs,b)},3E3)})}m8e(a){a={hG:this.store.hG,tgb:a,vBk:this.npc()};this.V.track(IRs,a);this.store.hG=void 0}tje(a){this.V.track(JRs,{hG:this.store.hG,...a})}constructor(a,b,c,d,e,f,g,h){this.store=a;this.KNe=b;this.navigation=c;this.skeleton=d;this.fkg=e;this.kye=f;this.V=h;this.IBm=(hrs.G(this),void 0);this.SRn=-1;this.C2s=()=>{this.ekg?this.Umh():this.izl()};this.Umh=()=>{var k,l,m,p;this.ekg&&(this.kye.u5e(),rrs(this.fkg),this.lD(),(k=this.IBm)===null||
k===void 0||k.call(this),(l=this.cnq)===null||l===void 0||l.call(this),(m=this.Vmq)===null||m===void 0||m.call(this),(p=this.Smq)===null||p===void 0||p.call(this),uV(()=>this.store.va=!0),clearTimeout(this.SRn))};this.izl=()=>{this.fkg.CKk(this.kye);this.kye.nmh();this.jC();ars(this);$qs(this);brs(this);this.SRn=setTimeout(()=>{srs(this.fkg);uV(()=>this.store.va=!1)},2E3)};this.hui={Twc:!1,I4k:"collapsed",sg:g}}};var grs=class{static G(a){O(a,{isAlive:CV.ref,va:CV.ref,Q4l:CV.ref,Z3l:CV.ref,views:pV,qmo:jV.bound,K0d:pV,ogo:jV.bound,layout:pV})}get views(){return n(this.Q4l)}qmo(a,b,c,d){this.Q4l={rfj:a,YPd:b,Category:c,aBh:d}}get K0d(){return n(this.Z3l)}ogo(a){this.Z3l={Fgj:a}}get layout(){return this.ka.layout}constructor(a){this.ka=a;this.isAlive=(grs.G(this),!1);this.va=!0;this.hG=void 0}};var krs=iV(({S2h:a})=>a.get()?gV(S,{paddingBottom:"2u",children:gV(Pk,{tone:"warn",title:L("i46F7A"),children:L("2lJl1Q")})}):null);var KRs=Symbol("a11y_witch"),Nrs=class{static G(a){O(a,{Mib:jV.bound,mPi:jV.bound,G3f:jV.bound,keo:jV.bound,aJd:jV.bound,T4n:jV.bound,NMi:jV.bound,wkg:jV.bound,emm:jV.bound})}CKk(a){this.z9e||trs(this,a)}Mib(a,b=!1){const c=this.store.HU;c!==a&&(c&&(c.selected=!1),a&&(a.selected=!0,wrs(this,a,b)))}mPi(a){var b=this.store.Nx;const c=this.store.view,d=this.store.HU;if((d===null||d===void 0?void 0:d.y6.target)!==a||(d===null||d===void 0?void 0:d.category)!==c)b=a?b.find(e=>e.target===a&&(e.category===
c||!Yqs.includes(c))):void 0,d&&(d.selected=!1),b?(b.selected=!0,this.store.k6d||(this.store.k6d="selected_on_canvas"),this.store.view!==b.category?(this.aJd(b.category),this.onNavigate&&this.onNavigate()):this.Syi&&this.Syi(),this.store.k6d=void 0):this.store.view==="issue"&&(this.aJd("home"),this.onNavigate&&this.onNavigate())}U1m(a,b){this.RZd||(a.state="resolved",b.push(a),xrs(this,a))}G3f(a,b){const c=[];let d=0,e=!1;this.store.Nx.forEach(f=>{var g=a.findIndex(h=>h.equals(f));g<0?(this.U1m(f,
c),e=!0):g<d?(g=c.findIndex(h=>h.equals(f)),f.update(c[g]),c.splice(g,1,f)):(g>d&&(c.push(...a.slice(d,g)),d=g),d++,f.update(a[g]),c.push(f))});d<a.length&&c.push(...a.slice(d));this.store.Nx.replace(c);this.keo(b,e)}keo(a,b){a?b?(this.store.AUd="resolving",setTimeout(()=>{this.store.AUd==="resolving"&&uV(()=>{this.store.AUd="ready"})},this.store.view==="home"?0:1E3)):this.store.AUd="ready":this.store.AUd="loading"}aJd(a){if(a!=="issue"||this.store.HU)this.store.view=a,yrs(this)}T4n(a,b){this.Mib(a);
a.resolve();this.la.Ib({Cb:J("YwO4QQ",[a.messages.title]),media:{content:gV(dy,{size:"medium"})},group:KRs,Qq:{buttonText:L("sdrEcg"),onClick:jV(()=>{b(a);this.da.undo.undo()})}})}NMi(a,b){const c=this.store.EPh,d=new Map,e=this.da.undo.startBuffering();try{c.forEach(f=>{if(!f.locked&&f.resolve){const g=this.store.iLb.findIndex(h=>h===f);d.set(g,f);f.resolve()}})}finally{e.stop()}d.size&&(a(Array.from(d.values())),this.la.Ib({Cb:J("GdVpIQ",[d.size]),media:{content:gV(dy,{size:"medium"})},group:KRs,
Qq:{buttonText:L("sdrEcg"),onClick:jV(()=>{b(d);this.da.undo.undo()})}}))}wkg(){this.store.view="home";this.Mib(void 0);yrs(this)}emm(){var a,b;this.store.view=(b=(a=this.store.HU)===null||a===void 0?void 0:a.category)!==null&&b!==void 0?b:"home";this.Mib(void 0);yrs(this)}async iKk(a,b){return a.type==="item"||a.type==="table_item"||a.type==="computed_range"||a.type==="body"||a.type==="responsive_page"?Brs(this,a,b):Crs(this,a,b)}Fka(a){var b=a.type;const c=a.context;var d=a.item;const e=a.inner;
a=a.mD;switch(b){case "body":case "responsive_page":break;case "computed_range":return this.gd.SEa(c.text,a.range);case "item":return this.gd.xE(d);case "table_item":if(!e)return this.gd.xE(d);if(e.item)return this.gd.iSa(e.item);b=this.gd.xE(d);if(b==null)break;d=this.gd.Epc(d,e.rb);return d===null||d===void 0?void 0:d.transform(gk(b));default:throw new v(b);}}vzl(){this.JJe=this.bJa.FBd({Hxd:(a,b)=>Ers(this,b),cAf:(a,b,c)=>Ers(this,c),IJe:a=>Ers(this,a.ha),zOc:jV((a,b)=>{switch(b.type){case "grid":case "shape":case "table":zrs(this,
b)||(a=this.store.iLb.find(({y6:c})=>c.element===b))&&wrs(this,a);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "group":case "controlled":case "layout":break;default:throw new v(b);}this.store.k6d="dot_clicked"}),A6c:(a,b)=>{const c=this.store.HU;return this.store.iLb.find(d=>d.y6.item===b)?{Tld:(c===null||c===void 0?void 0:c.y6.item)===b,type:"warning",container:a}:void 0},j$d:jV((a,b)=>{b.type!=="table"||zrs(this,b)||(a=this.store.iLb.find(({y6:c})=>c.item===
b))&&wrs(this,a);this.store.k6d="dot_clicked"}),B6c:()=>{},S$d:()=>{},Gpc:()=>this.Gpc(),V$d:()=>{}})}Gpc(){const a=this.store.HU;var b=this.store.iLb;const c=[];for(const e of b){var d;b=e.y6;const f=e.target;b.type!=="computed_range"||this.viewport.ya&&((d=b.page)===null||d===void 0?void 0:d.ha)!==this.viewport.ya||c.push({range:b.mD.range,sKc:{Tld:(a===null||a===void 0?void 0:a.target)===f,type:"warning",container:b.context}})}return c}fvo(){Frs(this);Grs(this)}awo(){var a,b;(a=this.x$j)===null||
a===void 0||a.call(this);this.x$j=void 0;(b=this.Gch)===null||b===void 0||b.call(this);this.Gch=void 0}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.store=a;this.bJa=b;this.da=c;this.selection=d;this.viewport=e;this.la=f;this.Xa=g;this.gd=h;this.errorService=k;this.RZd=l;this.onNavigate=m;this.Syi=p;this.JJe=(Nrs.G(this),void 0)}},Qrs=class extends Nrs{U1m(){}fvo(){Grs(this)}awo(){var a;(a=this.Gch)===null||a===void 0||a.call(this);this.Gch=void 0}};var LRs=class{static G(a){O(a,{state:CV.ref,slb:CV.ref,selected:CV.ref,checked:CV.ref,locked:CV.ref,Xb:pV,n4m:pV})}get y6(){return this.J3l}get target(){return this.pva}get Xb(){return this.slb}Ot(){switch(this.y6.type){case "fixed_page":case "element":case "grid_element":case "shape_element":case "table_element":var a,b,c,d,e;return!!(((c=this.y6)===null||c===void 0?0:(b=c.page)===null||b===void 0?0:(a=b.ha)===null||a===void 0?0:a.locked)||((e=this.y6)===null||e===void 0?0:(d=e.element)===null||
d===void 0?0:d.locked));case "body":case "responsive_page":case "item":case "table_item":case "computed_range":return!1;default:throw new v(this.y6);}}get n4m(){return this._resolve!==void 0}resolve(){if(this.state!=="resolved"){this.state="fixing";try{var a;(a=this._resolve)===null||a===void 0||a.call(this);this.checked=!1}catch(b){this.state="ready"}}}equals(a){var b=this.target===a.target;if(this.y6.type==="computed_range"&&a.y6.type==="computed_range"){b=this.y6.context;const c=this.y6.mD;({equals:b}=
n(this.Xa).Qma(b.text,c===null||c===void 0?void 0:c.range,a.y6.mD.range));b=b&&this.Xb===a.Xb}return this.state!=="resolved"&&a.state!=="resolved"&&b&&this.rule===a.rule}update(a){this.state="ready";this.slb=a.slb;this._resolve=a._resolve;if(this.locked=a.locked)this.checked=!1;this.y6.type==="computed_range"&&(this.J3l=a.y6,this.pva=a.target)}constructor({XR:a,cG:b,Xb:c,y6:d,Xa:e}){this.Xa=(LRs.G(this),void 0);this.ezf=!1;this.state="ready";this.locked=this.checked=this.selected=this.xZn=!1;const f=
b.id;b=b.pQ;this.id=a;this.DTj=f;this.slb=c;this._resolve=b;this.J3l=d;this.pva=d.target;this.locked=this.Ot();this.Xa=e}};var MRs=class extends LRs{constructor(a){super(a);this.category=this.rule="alt_text";this.messages={title:L("p3y+ug"),description:L("5JvrxA"),Yuf:L("f4PKHg")};this.ezf=!0;this._resolve=()=>a.cG.ltj.pRi(!0)}};var NRs=class extends LRs{constructor(...a){super(...a);this.rule="template_font_size_readable";this.category="typography";this.messages={title:L("+UXqTw"),description:L("lRq0hg"),Yuf:L("f7d/qQ")};this.ezf=!0}};var ORs=class extends LRs{constructor(...a){super(...a);this.rule="insufficient_link_visibility";this.category="links";this.messages={title:L("GQC92Q"),description:L("udZgEQ"),Yuf:L("k3YJlQ")};this.ezf=!1}};var PRs=class extends LRs{get Zvd(){return this.b4l}get ZNd(){return this.O4l}get trd(){return this.O3l}update(a){super.update(a);this.y6.type==="computed_range"&&a.rule==="insufficient_text_contrast"&&(this.b4l=a.Zvd,this.O4l=a.ZNd,this.O3l=a.trd)}constructor(a){super(a);this.rule="insufficient_text_contrast";this.category="color";this.ezf=!1;const b=a.cG.Zvd,c=a.cG.ZNd,d=a.cG.trd;this.messages={title:L("Dc660A"),description:L("ULNaRw"),ePk:a.DO?L("wNS5yQ"):L("BB0E1Q")};this.b4l=()=>b().slice(0,
3);this.O4l=c;this.O3l=d}};var QRs=class extends LRs{equals(a){return super.equals(a)&&a.rule==="no_justified_or_center_aligned_text_block"&&this.variant===a.variant}constructor(a){super(a);this.rule="no_justified_or_center_aligned_text_block";this.category="typography";this.ezf=!1;var b=a.cG;a=b.variant;b=b.direction==="ltr"?L("veOtUA"):L("8ZGe+g");const c=a==="center"?L("VRXCAg"):L("CuImzg"),d=a==="center"?L("BXqtxg"):L("z+DlIA");this.variant=a;this.messages={title:c,description:d,Yuf:b,icon:gV(__c.txg,{size:"medium",tone:"primary"})}}};var RRs=["insufficient_text_contrast","alt_text","template_font_size_readable","insufficient_link_visibility","no_justified_or_center_aligned_text_block"];var Mrs=class{static G(a){O(a,{$aa:CV.ref,Wwk:CV.ref,Nx:pV.struct})}get rules(){oa(this.document.Ja==="fixed");const a=[];this.document.pages.count()<100&&a.push({rule:"insufficient_text_contrast"});a.push({rule:"template_font_size_readable",config:{hI:12}});a.push({rule:"alt_text"});this.b3c&&a.push({rule:"insufficient_link_visibility"});this.xvg&&a.push({rule:"no_justified_or_center_aligned_text_block"});return a}async nmh(){var a;if(!this.$aa){const b=await __c.h2e(this.aba);uV(()=>{this.$aa=b})}(a=
this.$aa)===null||a===void 0||a.hPb(this.rules);this.Wwk=!0}u5e(){var a;(a=this.$aa)===null||a===void 0||a.Zfc()}get Nx(){var a;return(a=this.$aa)!==null&&a!==void 0&&a.yK?this.PUg(this.$aa.yK):[]}PUg(a){return a.flatMap((b,c)=>b.filter(d=>d.rule==="no_justified_or_center_aligned_text_block"&&d.variant==="center"||!this.RZd&&(d.hf.type==="responsive_page"||(d.hf.type==="computed_range"||d.hf.type==="item"||d.hf.type==="table_cell")&&d.hf.context.type==="responsive-page")?!1:RRs.includes(d.rule)).map(d=>
{const e=d.rule,f=Jrs(d.hf),g=(this.xBk++).toString(),h=f.type==="computed_range"?this.Xa:void 0;switch(e){case "alt_text":return new MRs({XR:g,cG:d,y6:f,Xb:c,Xa:h});case "template_font_size_readable":return new NRs({XR:g,cG:d,y6:f,Xb:c,Xa:h});case "insufficient_link_visibility":return new ORs({XR:g,cG:d,y6:f,Xb:c,Xa:h});case "insufficient_text_contrast":return new PRs({XR:g,cG:d,y6:f,Xb:c,DO:this.Ac.DO,Xa:h});case "no_justified_or_center_aligned_text_block":return new QRs({XR:g,cG:d,y6:f,Xb:c,Xa:h});
default:throw new v(e);}}))}constructor(a,b,c,d,e,f,g){this.aba=b;this.b3c=c;this.xvg=d;this.RZd=e;this.document=f;this.Xa=g;this.xBk=(Mrs.G(this),0);this.Wwk=!1;this.Ac=a("none").Ac}},Prs=class extends Mrs{get rules(){const a=[];a.push({rule:"template_font_size_readable",config:{hI:12}});a.push({rule:"insufficient_text_contrast"});a.push({rule:"alt_text"});this.b3c&&a.push({rule:"insufficient_link_visibility"});return a}};var Krs={get RZd(){return Qb("1aee4160",!1)}};var Yrs=JV(a=>{const b=a.nE,c=a.onClick,d=a.oa,e=a.zLf;a=kV(()=>{c===null||c===void 0||c();d===null||d===void 0||d();e()},[c,d,e]);return gV(b,{onClick:a,children:L("WpXa3A")})});var Xrs=class{static G(a){O(a,{zLf:jV.bound,mIn:jV.bound,rFn:jV.bound,wLf:jV.bound,w$d:jV.bound})}zLf(){this.ka.layout;2;this.ka.layout===1&&this.pn.open(this.Pso)}mIn(){this.pn.close(this.Pso)}rFn(a){const b=this.store.Gh;b&&this.selection.Kl(b,a.ha)}wLf(a,b){this.m7e.CRi(a.ha,a.container,b)}w$d(a,b){this.m7e.uih(a.text,a.range,b)}constructor(a,b,c,d,e,f){this.store=a;this.selection=b;this.ka=c;this.pn=d;this.Pso=e;this.m7e=f;Xrs.G(this)}};var SRs=class extends __c.os{TI(a){a.S7(this.Fd,b=>{const c=b.Ya;var d=0,e=0;for(let f=0;f<c.length;f++)e++,c[f]==="\n"&&(e>1&&(d={index:d,length:e},e=b.xwd(d,"semantics","list-level","list-marker"),this.QPc.push({text:a,Ya:c.slice(d.index,d.index+d.length),range:d,attributes:{semantics:e.semantics.values().next().value,"list-level":e["list-level"].values().next().value,"list-marker":e["list-marker"].values().next().value}})),d=f+1,e=0)})}hLa(a,b){if(jk(a)){const c=b==null?b:b.Sf(a);a.paths.forEach(d=>
this.k3b(d,c));this.TI(n(a.fd.first()).text)}else super.hLa(a,b)}m6(a){this.UOa.push(a)}mjd(){}E5f(){}Twh(){}maf(){}r4(){}constructor(a){super();this.Fd=a;this.QPc=[];this.UOa=[]}};var Wrs=class{static G(a){O(a,{Gh:pV,page:pV,t8c:pV,vNe:pV,q8c:pV,n0h:pV,wm:pV})}get Gh(){var a=this.viewport.ya;if(a.type==="fixed")return a=this.viewport.Zg.container.tb(a),a.type==="fixed-page"?a:void 0}get page(){var a;return(a=this.Gh)===null||a===void 0?void 0:a.ha}get t8c(){return!!this.Gh&&__c.Af(this.Gh)}get vNe(){return!!this.Gh&&!this.t8c}get q8c(){const a=this.viewport;return a.jh&&!a.wQ}get n0h(){const a=this.Gh,b=this.page;if((b===null||b===void 0?void 0:b.type)!=="fixed"||!a)return[];
const c=[];b.elements.toArray().forEach(d=>{const e=new SRs(this.Fd);e.ct(d,a);e.QPc.length&&c.push({element:a.Sf(d),Ot:b.locked||d.locked,QPc:e.QPc})});return c}get wm(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"?[...this.selection.La.elements]:[]}constructor(a,b,c){this.viewport=a;this.selection=b;this.Fd=c;Wrs.G(this)}};var TRs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.842 8.889c-1.91 0-3.17-1.026-3.287-2.537l-.006-.076h1.693l.006.064c.076.656.68 1.125 1.594 1.125.902 0 1.494-.504 1.494-1.219v-.011c0-.809-.603-1.254-1.629-1.254H17.9v-1.26h.944c.89 0 1.465-.469 1.465-1.154v-.012c0-.703-.487-1.137-1.319-1.137s-1.388.451-1.459 1.154l-.006.053h-1.628l.005-.07c.123-1.512 1.313-2.496 3.088-2.496 1.817 0 2.989.914 2.989 2.261v.012c0 1.055-.774 1.74-1.764 1.946v.035c1.26.117 2.08.843 2.08 1.992v.012c0 1.535-1.318 2.572-3.293 2.572Z"/></svg>';var URs=dr({medium:TRs});var VRs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.604 8.701v-1.552H15.62v-1.39a103.982 103.982 0 0 1 3.346-5.513h2.484v5.485h1.102v1.418H21.45v1.552h-1.687Zm-2.55-2.924H19.8v-4.189h-.094a73.06 73.06 0 0 0-2.49 4.096v.093Z"/></svg>';var WRs=dr({medium:VRs});var XRs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.889 8.918c-1.81 0-3.006-1.078-3.106-2.49l-.005-.082h1.605l.012.04c.123.622.703 1.12 1.5 1.12.908 0 1.54-.639 1.54-1.547v-.012c0-.902-.638-1.529-1.534-1.529-.428 0-.791.123-1.073.363a1.512 1.512 0 0 0-.392.47h-1.518l.393-5.005h5.285v1.407h-3.908l-.211 2.408h.105c.34-.569.996-.92 1.805-.92 1.576 0 2.713 1.16 2.713 2.771v.012c0 1.781-1.313 2.994-3.211 2.994Z"/></svg>';var YRs=dr({medium:XRs});var ZRs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.053 8.918c-1.963 0-3.492-1.389-3.492-4.365v-.012c0-2.83 1.336-4.512 3.498-4.512 1.634 0 2.853.967 3.111 2.291l.012.06h-1.729l-.023-.054c-.2-.527-.68-.884-1.365-.884-1.225 0-1.758 1.2-1.823 2.736-.006.064-.006.129-.006.193h.118c.304-.656 1.013-1.236 2.18-1.236 1.646 0 2.76 1.172 2.76 2.771v.012c0 1.729-1.337 3-3.241 3Zm-1.553-2.976c0 .89.68 1.576 1.541 1.576.856 0 1.541-.674 1.541-1.541v-.012c0-.885-.644-1.53-1.53-1.53-.872 0-1.552.628-1.552 1.5v.007Z"/></svg>';var $Rs=dr({medium:ZRs});var aSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.331 6.851a6.036 6.036 0 0 0-1.364.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144ZM8.33 6.851a6.036 6.036 0 0 0-1.365.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144Z" fill="currentColor"/></svg>';var Vts=dr({medium:aSs});var bSs={p:{Icon:__c.qxg,label:L("ngh+zA")},h1:{Icon:__c.Wsf,label:L("Zlbecw")},h2:{Icon:__c.Ysf,label:L("2hxuYg")},h3:{Icon:URs,label:L("q9XNpA")},h4:{Icon:WRs,label:L("e/pNFw")},h5:{Icon:YRs,label:L("Ak3EXw")},h6:{Icon:$Rs,label:L("DlxQWg")},blockquote:{Icon:Vts,label:L("e+rlNA")}};var cSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m12.74 8.22-2.507-4.318a1.202 1.202 0 0 0-2.079 0l-5.85 10.075a1.202 1.202 0 0 0 1.039 1.805H9.96l-.69 3.484c-.198.996.859 1.769 1.749 1.279l3.334-1.836 3.334 1.836c.89.49 1.946-.283 1.749-1.28l-.73-3.686 2.768-2.546c.751-.69.346-1.945-.667-2.066l-3.764-.452-1.608-3.427c-.43-.916-1.734-.916-2.164 0l-.53 1.131ZM9.194 5.1 3.86 14.281h4.73l-1.358-1.249c-.751-.69-.347-1.945.667-2.066l3.764-.452.302-.644L9.194 5.1Zm5.159 3.213 1.686 3.593 3.932.471-2.9 2.668.767 3.87-3.485-1.918-3.485 1.919.767-3.87-2.9-2.669 3.932-.471 1.686-3.593Z" fill="currentColor"/></svg>';var kJs=dr({medium:cSs});var eSs=({vAe:a,TKb:b})=>{if(!b&&a.QPc[0])return gV(dSs,{VOf:a.QPc[0]});switch(a.element.type){case "table-element":a=__c.fah;break;case "text-element":a=__c.oA;break;case "group-element":a=__c.mIp;break;case "shape-element":a=jk(a.element.ha)?__c.oA:kJs;break;case "line-element":a=__c.Rwf;break;default:a=__c.Tu}return gV(a,{size:"medium"})},dSs=({VOf:a})=>{var b;a=(a=a.attributes.semantics)?(b=bSs[a])===null||b===void 0?void 0:b.Icon:__c.oA;return gV(a,{size:"medium"})};var fSs=({selected:a})=>gV("div",{"aria-hidden":"true",className:GV("Eo4riA",{XFp1Xw:a})});var gSs=parseInt("34px",10),hSs=parseInt("184px",10),kSs=JV(a=>{const {Alf:b,selected:c,role:d,ariaLabel:e,onClick:f,onContextMenu:g,end:h,...k}=a;return gV(iSs,{Alf:b,role:d,selected:c,onClick:f,onContextMenu:g,ariaLabel:e,end:h,children:gV(jSs,{...k})})}),jSs=JV(a=>{const b=a.kd,c=a.icon;return nV("div",{className:"lBJuRw",children:[gV("div",{className:GV(a.Yis,"BziGlA"),children:b}),gV("div",{className:"JgQKxA",children:c})]})}),iSs=iV(a=>{const {Alf:b,selected:c,role:d,ariaLabel:e,children:f,
end:g,onContextMenu:h,...k}=a;a=!Ic.yba&&Wb();return nV("div",{role:d,className:GV("e6Tqqw",{IYbWNQ:a,XFp1Xw:c}),onContextMenu:h,children:[gV(sr,{className:GV(b,"zCfkxw"),ariaLabel:e,hk:"right",...k,children:f}),gV("div",{className:"E1ca_Q",children:g})]})});var lSs=a=>{const b=a.Ot,c=a.wbo,d=a.vKn;a=DV(()=>gV(xV,{children:__c.WOc.map(f=>{const {Icon:g,label:h}=bSs[f];return gV(__c.uv,{start:gV(g,{}),end:c.has(f)?gV(__c.Dr,{}):null,onClick:()=>d(f),children:h},f)})}),[d,c]);const e=kV(({OO:f,...g})=>gV(fj,{ref:f,...g,variant:"tertiary",size:"small"}),[]);return b?gV(S,{padding:"0.5u",children:gV(ey,{})}):gV(__c.tv,{icon:__c.hv,trigger:e,children:a})};var nSs=a=>{const {VOf:b,w$d:c,icon:d,Ot:e,...f}=a;return gV(kSs,{...f,kd:gV(P,{size:"small",lineClamp:1,children:b.Ya}),icon:d,end:gV(mSs,{Ot:e,VOf:b,w$d:c})})},mSs=JV(a=>{const b=a.Ot,c=a.VOf,d=a.w$d;a=new Set;c.attributes.semantics&&a.add(c.attributes.semantics);return gV(lSs,{Ot:b,wbo:a,vKn:e=>{d(c,e)}})});var oSs=({selected:a,p0p:b})=>gV("div",{"aria-hidden":"true",className:GV("Q6TvXg",{QTwIyQ:b,alt0MA:a})});var Srs=iV(a=>{const b=a.page,c=a.vAe,d=a.selected,e=a.ySr,f=a.wLf,g=a.w$d;a=a.Nl;const h=jRs(),[k,l]=tV(!1),m=kV(()=>{e(c.element)},[e,c]),p=c.QPc.length>1;!p&&k&&l(!1);return nV(xV,{children:[nV("li",{children:[gV(kSs,{role:"group",Alf:p?"V9ODmA":"Ryv6KQ",selected:d,ariaLabel:L("n97ugg"),onClick:m,icon:gV(eSs,{vAe:c,TKb:p}),kd:gV(a,{element:c.element.ha,page:b,nd:hSs,sf:gSs}),end:c.QPc.length>0?gV(pSs,{WGq:h,mxk:k,vAe:c,wVr:l,wLf:f}):null}),p&&!k&&gV(fSs,{selected:d})]}),gV("div",{id:h,className:"jShvtg",
children:k&&gV(Yc,{spacing:"1u",children:c.QPc.map((q,r)=>nV("li",{className:"JTzkBw",children:[gV(oSs,{selected:d,p0p:r===0}),gV(nSs,{role:"group",Alf:"Ryv6KQ",Yis:"CWppGQ",selected:!1,Ot:c.Ot,ariaLabel:L("n97ugg"),onClick:()=>{},VOf:q,w$d:g,icon:gV(dSs,{VOf:q})})]},r))})})]})}),pSs=({WGq:a,mxk:b,vAe:c,wVr:d,wLf:e})=>{const f=new Set;c.QPc.forEach(h=>{h.attributes.semantics&&f.add(h.attributes.semantics)});const g=()=>{d(!b)};return nV(xV,{children:[c.QPc.length>1&&gV(fj,{variant:"tertiary",size:"small",
jk:!0,pressed:b,ariaLabel:b?L("5aXSNA"):L("Yu3QyA"),Qg:a,icon:b?__c.$t:xr,onClick:g}),gV(lSs,{Ot:c.Ot,wbo:f,vKn:h=>{e(c.element,h)}})]})};var Urs=a=>{const b=a.wm,c=a.R3o;return gV(S,{height:"full",padding:"2u",flexDirection:"column",paddingTop:"0",children:gV(fo,{children:gV(S,{minHeight:"minTouchableArea",children:gV(Yc,{spacing:"1u",tagName:"ul",children:a.n0h.map((d,e)=>gV(c,{vAe:d,mc:b.includes(d.element.ha)},e))})})})})},Trs=({title:a,content:b})=>nV(S,{paddingTop:"12u",className:"KTaopA",children:[gV(md,{size:"8u",direction:"vertical"}),nV(Yc,{spacing:"1u",children:[gV(or,{alignment:"center",tone:"secondary",size:"small",children:a}),
gV(P,{alignment:"center",tone:"tertiary",children:b})]})]});var pss=JV(({onClick:a,oa:b,hl:c})=>gV(c,{Icon:lBj,label:L("2kDi/A"),onClick:a,oa:b})),qss=JV(({xi:a,...b})=>gV(a,{...b,yh:"icon-and-label",icon:lBj,children:L("2kDi/A")}));var qSs={eventType:"editor_alt_text_panel_opened",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),initial_char_count:a.Jsk,marked_decorative:a.WHk,impression_id:a.hG,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.YMo,control_context:a.kb,media_type:a.mediaType,is_multiple_fill:a.SMe,control_context_impression_id:a.Ave})}},rSs={eventType:"editor_alt_text_panel_closed",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),end_char_count:a.QEq,marked_decorative:a.WHk,
impression_id:a.hG,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.YMo,interaction_trigger:a.tgb,media_type:a.mediaType,is_multiple_fill:a.SMe,text_is_exactly_generated:a.M_s,control_context_impression_id:a.Ave})}},sSs={eventType:"editor_alt_text_panel_char_limit_reached",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),impression_id:a.hG,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.YMo,max_char_count:a.wCr,media_type:a.mediaType,is_multiple_fill:a.SMe,
control_context_impression_id:a.Ave})}},$rs={eventType:"editor_alt_text_panel_generated",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),impression_id:a.hG,initial_char_count:a.Jsk,element_type:a.elementType,resource_id:a.resourceId,media_type:a.mediaType,is_multiple_fill:a.SMe,control_context_impression_id:a.Ave})}};var mss=class{static G(a){O(a,{YFb:CV.ref,kb:CV.ref,G0e:pV,qed:pV,cbo:pV,Uao:pV,jpg:pV,placeholder:pV,nig:pV,bwa:pV,mrd:pV,kpg:pV,Bll:pV,YBj:pV})}get G0e(){var a=this.mrd;if(a)return this.K2.aSg.Gxf(a,this.qed);if(this.selection.La){a=this.selection.La.container;var b=this.selection.La.Bg,c=this.selection.La.inner,d=this.selection.La.hp,e=this.selection.La.type,f=["group","layout","layout-cell","sheet-cell-media"];if(b&&d&&e==="elements"&&!f.includes(c===null||c===void 0?void 0:c.type))switch(b.type){case "rect":case "shape":case "grid":case "line":case "chart":case "table":case "sheet":case "text":case "embed":return this.K2.nYj.Gxf(b,
a,d,this.Bll);case "group":case "controlled":case "layout":break;default:throw new v(b);}}}get qed(){if(this.selection.La!=null)return this.Uao;if(this.selection.Jb!=null)return this.cbo}get cbo(){var a=this.mrd;if(a)switch(a.type){case "rect":return tSs(a.fill)?a.fill:void 0;case "shape":a=a.paths.filter(b=>b.fill.dropTarget===!0);if(a.length!==1)break;a=n(a[0]).fill;return tSs(a)?a:void 0;case "controlled":case "chart":case "design":case "embed":case "pill":case "layout":case "break":case "separator":case "table":case "sheet":break;
default:throw new v(a);}}get Uao(){const a=this.Bll;return a&&tSs(a)?a:void 0}udi(a){return a.filter(b=>b.fill.dropTarget===!0).length>1}get jpg(){const a=this.bwa,b=this.mrd;if(!a&&!b)return!1;if((b===null||b===void 0?void 0:b.type)==="shape")return this.udi(b.paths);if(!a)return!1;switch(a.type){case "shape":return this.udi(a.paths);case "grid":return a.cells.size>1;case "rect":case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":return!1;
default:throw new v(a);}}get placeholder(){var a,b,c;const d=this.G0e;if((d===null||d===void 0?void 0:d.fill)!=null){var e=(a=d.fill.image.ref)===null||a===void 0?void 0:a.media;return(a=d.fill.video.ref)&&((b=this.$b.nSc(a))===null||b===void 0?void 0:b.altText)||e&&((c=__c.cDa(this.Pa.jp(e)))===null||c===void 0?void 0:c.text)}}get nig(){var a,b;return(b=(a=this.G0e)===null||a===void 0?void 0:a.editable)!==null&&b!==void 0?b:!1}get bwa(){var a;return(a=this.selection.La)===null||a===void 0?void 0:
a.Bg}get mrd(){const a=this.selection.Jb;if((a===null||a===void 0?0:a.only)&&a.type===1)return a.only.type==="break"&&a.only.marker.Kg.ref?a.only.marker.Kg.ref:a.only}get kpg(){var a,b,c;return(c=(a=this.bwa)===null||a===void 0?void 0:a.type)!==null&&c!==void 0?c:(b=this.mrd)===null||b===void 0?void 0:b.type}get Bll(){var a;let b;const c=(a=this.selection.La)===null||a===void 0?void 0:a.inner;if(c==null){a=this.bwa;if(!a)return;switch(a.type){case "rect":b=a.fill;break;case "shape":a=a.paths.filter(d=>
d.fill.dropTarget===!0);a.length===1&&(b=a[0].fill);break;case "grid":a.cells.size===1&&(b=a.cells.values().next().value.fill);break;case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":break;default:throw new v(a);}b&&!tSs(b)&&(b=void 0)}else switch(c.type){case "grid":b=c.cells[0].fill;break;case "shape":b=c.paths[0].fill;break;case "table":case "sheet":case "sheet-cell-media":case "group":case "background":case "layout":case "layout-cell":case "pages":break;
default:throw new v(c);}return b}get YBj(){var a=this.mrd;if(this.selection.Jb!=null&&a!=null)return(a===null||a===void 0?void 0:a.type)==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!0;if(this.selection.La==null)return!1;a=this.selection.La.Bg;return this.selection.La.inner==null?!0:(a===null||a===void 0?void 0:a.type)==="grid"?a.cells.size===1:(a===null||a===void 0?void 0:a.type)==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!1}constructor(a,b,c,d){this.selection=
a;this.K2=b;this.Pa=c;this.$b=d;this.YFb=(mss.G(this),void 0);this.kb=void 0;this.Edh=!1;this.Owe=this.Y0c=void 0}},tSs=a=>{const b=a.video;return a.image.ref!=null||b.ref!=null};var uSs={get nxq(){return Qb("c13bdd7e",!1)}};var vSs=class{static G(a){O(a,{Ulk:jV,s1m:jV,Fmk:jV,modified:pV})}Ulk(a,b){a.type==="SUCCESS"?(iss(this.PO,a.altText),b.end()):(jss(this.PO),b.end("error"))}s1m(a,b){a.type==="SUCCESS"?(iss(this.PO,a.description),b.end()):(jss(this.PO),b.end("error"))}Ib(){this.la.Ib({Cb:this.LF.G0e?L("6iK/DQ"):L("pfadYQ"),media:{content:gV(dy,{size:"medium"})},Qq:{buttonText:L("/rk4jg"),onClick:jV(()=>this.undo.undo())}})}Fmk(a,b){this.PO.state="magic_error";this.errorService.pa(a,{Ka:"generateMagicAltText: "+b})}XHd(a){var b=
this.LF.G0e,c=this.PO,d=this.LF.qed,e=this.gmr();c.XHd(b);d!==null&&d!==void 0&&d.image.ref&&e?(b=c.uoj.get(d))?(__c.Zr.domain.om(__c.Zr.snapshot(d.image.ref),b.RPm)||(b.BUj=!1,b.RPm=__c.Zr.snapshot(d.image.ref)),c.PAc=b):(b={RPm:__c.Zr.snapshot(d.image.ref),BUj:!1},c.PAc=b,c.uoj.set(d,c.PAc)):c.PAc=void 0;this.LF.Edh=!1;this.LF.Y0c=Sb();this.LF.Owe=a}b8e(a){const b=this.LF.qed;this.V.track(sSs,{hG:this.LF.Y0c,Ave:this.LF.Owe,elementType:this.LF.kpg,resourceId:bss(b),wCr:a,SMe:this.LF.jpg,mediaType:ass(b)})}get fill(){return n(this.LF.qed)}get modified(){const a=
this.LF.G0e,b=this.PO.text,c=this.PO.sz;return a?b!==a.text||c!==a.sz:b!==""||c!==!1}constructor(){this.Jbg=(vSs.G(this),void 0);this.setText=a=>{a.length>=250&&this.b8e(250);this.PO.text=a;this.PO.state="user_modified"};this.pRi=a=>{this.PO.sz=a;this.PO.state="user_modified"};this.RSq=async()=>{const a=this.P.NFh.sb("suggest_alt_text",{Fb:{name:"editor.editing.alt_text.suggest_alt_text"}});this.PO.state="generating_magic";css(this);let b;try{b=await this.KSq()}catch(c){this.Fmk(c,"fillRasterizer fail");
a.end("error");return}if(b)if(b===this.PO.Npi&&this.PO.Qfa!=null)setTimeout(()=>{this.Ulk({altText:n(this.PO.Qfa),type:"SUCCESS"},a)},500);else try{this.PO.Npi=b;const c=await this.$fa();if(uSs.nxq){const d=new __c.v$r({m7m:b}),e=await c.IUm(d);this.Ulk(e,a)}else{const d=new __c.qps({Q6c:b}),e=await c.bai(d);this.s1m(e,a)}}catch(c){this.Fmk(c,"getMagicDescription fail"),a.end("error")}};this.AX=()=>{this.LF.Edh=!0;const a=this.LF.G0e;this.modified&&a&&__c.Sie(a,this.PO.altText)!==!1&&this.Ib()};this.onFormOpen=
a=>{this.XHd(a);a=this.LF.qed;this.V.track(qSs,{hG:this.LF.Y0c,elementType:this.LF.kpg,Jsk:this.PO.text.length,WHk:this.PO.sz,resourceId:a?bss(a):void 0,kb:this.LF.kb,Ave:this.LF.Owe,SMe:this.LF.jpg,mediaType:a?ass(a):void 0})};this.onFormClose=a=>{this.LF.Owe=a;a=this.LF.qed;const b=this.PO.text;this.V.track(rSs,{hG:this.LF.Y0c,Ave:this.LF.Owe,elementType:this.LF.kpg,QEq:b.length,WHk:this.PO.sz,resourceId:bss(a),tgb:this.LF.Edh?"save_button_clicked":void 0,SMe:this.LF.jpg,mediaType:ass(a),M_s:b===
this.PO.Qfa});this.LF.Y0c=void 0;this.LF.Owe=void 0;this.LF.Edh=!1}}},nss=class extends vSs{get Zun(){const a=this.LF.qed;return{type:"image",fill:n(a===null||a===void 0?void 0:a.image.ref)}}constructor(a,b,c,d,e,f,g,h,k,l){super();this.LF=a;this.PO=b;this.$fa=c;this.la=d;this.undo=e;this.V=f;this.P=g;this.errorService=h;this.sJb=k;this.dg=l;this.gmr=()=>{var m=this.LF.bwa;const p=this.LF.qed;if(!p)return!1;if(this.LF.mrd!=null){var q,r=p===null||p===void 0?void 0:(q=p.image.ref)===null||q===void 0?
void 0:q.wb;return!!r&&r.height>1&&r.width>1}if(!m)return!1;let t;switch(m.type){case "grid":var u;r=Array.from(__c.mn(m).entries());t=n((u=r.find(([w])=>w.fill===p))===null||u===void 0?void 0:u[1]);break;case "rect":t=m;break;case "shape":q=n(m.paths.filter(w=>w.fill===p).at(0));u=__c.Dn(m.viewBox,m.slice)/m.width;m=__c.Gn(q.d,m.slice);m=__c.eCb(m,q.ob*u);m=__c.ue(m);t=n((r=__c.pn(m))===null||r===void 0?void 0:r.Lb());break;case "group":case "controlled":case "chart":case "layout":case "table":case "sheet":case "line":case "text":case "embed":break;
default:throw new v(m);}return!!t&&t.height>1&&t.width>1};this.SDp=m=>{m.resetTransform();m.globalCompositeOperation="destination-over";m.fillStyle="#ffffff";m.fillRect(0,0,Math.round(m.canvas.width),Math.round(m.canvas.height));return m};this.KSq=async()=>{var m=this.LF.bwa;const p=this.LF.mrd;if(m&&this.dg!=null)return oa(m.type==="grid"||m.type==="rect"||m.type==="shape"),await this.Jbg,m=__c.PMg(this.dg,m,this.fill,262144),oa(m.canvas.width>1&&m.canvas.height>1,`rasterized canvas height (${m.canvas.height}) or width (${m.canvas.width}) were too small`),
this.SDp(m).canvas.toDataURL();if(p!=null)return await this.Jbg,m=this.sJb.Sxd(this.Zun),oa(!!m&&"toDataURL"in m,"fillRasterizer.imageFor returned non canvas image source"),oa(m.width>1&&m.height>1,`rasterized canvas height (${m.height}) or width (${m.width}) were too small`),m.toDataURL()}}},bss=a=>{if(a){if(a.image.ref)return a.image.ref.media.id;if(a.video.ref)return a.video.ref.video}},ass=a=>{if(a){if(a.video.ref)return"video";if(a.image.ref)return"image"}};var wSs,xSs,ySs,oss;new (wSs=class extends NV{constructor(){super(oss);xSs()}},(()=>{class a extends(ySs=LV){static G(b){O(b,{jam:pV})}get jam(){return this.props.Oe==="fill"?{}:{role:"dialog","aria-label":L("2kDi/A")}}render(){return gV("div",{tabIndex:-1,...this.jam,children:gV(__c.vr,{preventScroll:"always",children:this.props.children})})}constructor(...b){super(...b);a.G(this)}}({c:[oss,xSs]}=PV(a,[],[Ob],ySs))})(),wSs);var zSs,ASs,BSs,fss;
new (zSs=class extends NV{constructor(){super(fss);ASs()}},(()=>{class a extends(BSs=LV){static G(b){O(b,{Pna:jV.bound,Rxi:jV.bound,onSubmit:jV.bound,componentDidMount:jV.bound,componentWillUnmount:jV.bound})}Pna(b){this.props.Pna(b)}Rxi(b,c){this.props.Rxi(c)}onSubmit(){var b,c;this.props.onSubmit();(b=(c=this.props).oa)===null||b===void 0||b.call(c)}componentDidMount(){var b,c,d,e;(b=this.AUc.current)===null||b===void 0||b.setSelectionRange(this.AUc.current.value.length,this.AUc.current.value.length);(c=
this.AUc.current)===null||c===void 0||c.focus();(d=(e=this.props).Qc)===null||d===void 0||d.call(e)}componentWillUnmount(){var b,c;(b=(c=this.props).di)===null||b===void 0||b.call(c)}render(){const b=this.props.nph,c=this.props.LWh,d=this.props.Ovc,e=this.props.Oe;return gV(__c.gp,{onSubmit:this.onSubmit,children:gV(S,{padding:"2u",className:GV("TeFiIw",{_3HJrgw:e==="fixed"}),children:nV(Yc,{spacing:"2u",children:[gV(WA,{...b,label:L("ZWXgnQ"),control:this.$up,children:e==="fill"?this.G5o:void 0}),
gV(__c.Fr,{...c,label:L("23N7Lw"),description:L("33lzww"),onChange:this.Rxi,className:"_6i0ZkQ"}),gV(fj,{...d,type:"submit",variant:"primary",alignment:"center",stretch:!0,className:"_8cqUoQ",children:L("vuvBJw")})]})})})}constructor(...b){super(...b);this.AUc=(fss.G(this),MV());this.$up=c=>{const {nph:{error:d,...e},Lip:f,placeholder:g}=this.props;return gV(__c.rD,{...c,...e,maxLength:250,kn:3,maxRows:8,onChange:this.Pna,placeholder:f?void 0:g,className:"_3J08Bg",ref:this.AUc,footer:gV(S,{padding:"1.5u",
children:nV(ir,{spacing:"0",Fa:"end",align:"end",children:[f&&gV(hr,{children:gV(f,{})}),gV(hr,{width:"content",children:gV(__c.xv,{count:e.value.length||0,max:250,margins:"none"})})]})})})};this.G5o=({label:c,description:d,error:e,control:f})=>nV(xV,{children:[gV(__c.Qc,{children:c}),nV(Yc,{spacing:"0.5u",children:[f,d,e]})]})}}({c:[fss,ASs]}=PV(a,[],[Ob],BSs))})(),zSs);var ess=({magic:a,onClick:b})=>gV(__c.vxh,{size:"small",icon:__c.MD,...a,onClick:jV(b)}),CSs=({bYk:a})=>gV(__c.pk,{message:L("S0T8aQ"),nf:a}),DSs=({zXk:a})=>gV(__c.pk,{message:L("N7FjZA"),nf:a});var lss=class{static G(a){O(a,{text:CV.ref,sz:CV.ref,uoj:CV.shallow,PAc:CV.shallow,_state:CV.ref,Qfa:pV,Npi:pV,altText:pV,nph:pV,Mpi:pV,LWh:pV,Ovc:pV,PEh:pV})}set state(a){this._state=a}XHd(a){this.state="initial";var b;this.text=(b=a===null||a===void 0?void 0:a.text)!==null&&b!==void 0?b:"";var c;this.sz=(c=a===null||a===void 0?void 0:a.sz)!==null&&c!==void 0?c:!1}get Qfa(){var a;return(a=this.PAc)===null||a===void 0?void 0:a.Qfa}set Qfa(a){n(this.PAc).Qfa=a}get Npi(){var a;return(a=this.PAc)===
null||a===void 0?void 0:a.u9q}set Npi(a){n(this.PAc).u9q=a}get altText(){return this.text||this.sz?{text:this.text,sz:this.sz}:void 0}get nph(){return{value:this.text,disabled:this.sz||this._state==="generating_magic",description:this.text!==this.Qfa||this.sz?L("h8UR7Q"):gV(CSs,{bYk:this.bYk}),error:this.LBp}}get Mpi(){if(this.k3c&&this.PAc){var a=this.lBp;return{children:this.text===this.Qfa?L("Ff5I3g"):L("SEajlQ"),disabled:a,loading:this._state==="generating_magic",hb:this._state!=="magic_error"&&
this.PEh?L("PG8Mog"):void 0}}}get LWh(){return{checked:this.sz,disabled:this._state==="generating_magic"}}get Ovc(){return{disabled:this._state==="generating_magic"}}get PEh(){var a,b;return(b=(a=this.PAc)===null||a===void 0?void 0:a.BUj)!==null&&b!==void 0?b:!1}get LBp(){if(this._state==="magic_error")return this.PEh?gV(DSs,{zXk:this.zXk}):L("eK5DjQ")}get lBp(){return this.PEh||this.sz||this.text===this.Qfa}constructor(a,b,c){this.bYk=a;this.zXk=b;this.k3c=c;this.text=(lss.G(this),"");this.sz=!1;
this.uoj=new Map;this._state="initial"}};var kss=class{get P(){return this.NFh}get h8r(){return this.Coj}constructor(a){this.NFh=a.Ud("editor.editing.alt_text")}};var wss=class{get gml(){return this.store.gml}get KNh(){return this.store.KNh}uih(a,b,c){this.L.GXf(a,b,c)}CRi(a,b,c){this.L.CRi(a,b,c)}Rql(a){this.L.Rql(a)}constructor(a,b){this.store=a;this.L=b}};var ESs=class extends __c.os{GXf(a,b){a.S7(this.Fd,c=>{c.iPa("semantics",this.zCa,b)})}TI(a){this.GXf(a,{index:0,length:a.charLength})}hLa(a,b){if(jk(a)){const c=b==null?b:b.Sf(a);a.paths.forEach(d=>this.k3b(d,c));this.TI(n(a.fd.first()).text)}else super.hLa(a,b)}mjd(){sss()}E5f(){sss()}Twh(){sss()}maf(){sss()}constructor(a,b){super();this.zCa=a;this.Fd=b}};var vss=class{static G(a){O(a,{GXf:jV,CRi:jV,Rql:jV})}GXf(a,b,c){(new ESs(c,this.Fd)).GXf(a,b)}CRi(a,b,c){(new ESs(c,this.Fd)).ct(a,b)}Rql(a){if(this.store.KNh){var b=this.store.Rl;na(b!=null);var c=new ESs(a,this.Fd);b.type==="focused"&&c.GXf(b.Oc,b.range);b.type==="multi-config"&&[...tss(b,0),...tss(b,1),...tss(b,4),...tss(b,3),...tss(b,2)].forEach(d=>{c.TI(d)})}}constructor(a,b){this.store=a;this.Fd=b;vss.G(this)}};var uss=class{static G(a){O(a,{Rl:pV,KNh:pV,gml:pV})}get Rl(){var a;return(a=this.CFh)===null||a===void 0?void 0:a.state}get KNh(){var a;return this.Rl!=null&&((a=this.CFh)===null||a===void 0?void 0:a.Ji())===!0}get gml(){return this.CFh==null?new Set:this.CFh.attributes.semantics}constructor(a){this.CFh=a;uss.G(this)}};var FSs,GSs,HSs,ISs;
new (FSs=class extends NV{constructor(){super(ISs);GSs()}},(()=>{class a extends(HSs=LV){static G(b){O(b,{L_:CV.ref,UWe:CV.ref,gmd:CV.ref,TNg:CV.ref,vug:CV.ref,pe:CV.ref,onDragEnd:CV.ref,Iw:CV.ref,onPointerMove:jV.bound,onPointerDown:jV.bound,onPointerUp:jV.bound,onPointerLeave:jV.bound,onPointerCancel:jV.bound,onTouchStart:jV.bound,reset:jV.bound,WMe:pV,npo:pV,Yza:pV,uVn:pV,D2f:pV,jD:pV,qJa:pV})}componentDidMount(){this.props.selection.deselectAll();this.addEventListeners();Kb(this,[hV(()=>this.qJa,
b=>{b?this.removeEventListeners():this.addEventListeners()}),lus(()=>{this.ref.current!=null&&this.WMe&&this.dgl()})])}componentWillUnmount(){this.reset();this.removeEventListeners()}render(){const b=this.props.Oq;return gV("div",{ref:this.ref,className:GV("bIzkSw",this.Yza),children:this.npo&&b&&gV("div",{className:"_3CeqYg",style:this.uVn,children:gV(b,{})})})}onPointerMove(b){this.gmd===b.pointerId&&b.currentTarget instanceof HTMLElement&&!b.currentTarget.hasPointerCapture(b.pointerId)&&this.setPointerCapture(b);
this.L_=new Bj(b.clientX,b.clientY);if(b.pointerId===this.gmd&&this.UWe&&!this.TNg)if(this.vug){var c;(c=this.pe)===null||c===void 0||c.call(this,b)}else if(b.pointerType==="mouse"&&(b.buttons&1)===0)this.reset(),this.oa();else{c=this.D2f.transformPoint(this.UWe);var d=this.D2f.transformPoint(this.L_),{top:e,left:f,width:g,height:h}=__c.Wj(c,d).Lb();this.Pgn(g,h)&&(this.t2=this.props.undo.startBuffering(),this.TNg=!0,Promise.resolve(this.props.Qpe({top:e,left:f,rQl:!0})).then(k=>{if(k&&this.props.t_h!==
"none"){this.vug=k;var {onDragStart:l,pe:m,onDragEnd:p,Iw:q}=this.SVq(k)||{};l===null||l===void 0||l(b);this.pe=m;this.onDragEnd=p;q&&(this.Iw=q,document.addEventListener("keydown",this.Iw))}else this.reset(),this.oa()}).catch(()=>{}).finally(()=>{this.TNg=!1}))}}SVq(b){var c,d;const e=this.props.Zo,f=this.props.pLj,g=this.props.selection.La;if((g===null||g===void 0?void 0:g.type)==="elements"&&(g===null||g===void 0?void 0:g.Od)===b){var h=this.RVq(b),k=(c=(d=e.controls).H2e)===null||c===void 0?void 0:
c.call(d,h);if(k){var l=f===null||f===void 0?void 0:f(g);return{onDragStart:m=>{k.onDragStart(m);l===null||l===void 0||l.onDragStart(h,m)},pe:m=>{k.pe(m);l===null||l===void 0||l.pe()},onDragEnd:()=>{try{l===null||l===void 0||l.onDragEnd()}finally{k.onDragEnd()}},Iw:l===null||l===void 0?void 0:l.Iw}}}}RVq(b){switch(b.type){case "shape":return"bottom-right";case "line":return"right";case "text":return"right";default:throw new v(b);}}onPointerDown(b){b.preventDefault();if(b.pointerType!=="mouse"||b.button===
0){if(b.pointerType==="pen"||b.pointerType==="touch")if(this.cib++,this.cib>1){this.gmd&&(this.releasePointerCapture(b),this.gmd=void 0);return}this.gmd=b.pointerId;this.setPointerCapture(b);this.L_=new Bj(b.clientX,b.clientY);this.UWe=new Bj(b.clientX,b.clientY)}}onPointerUp(b){if(b.pointerType==="pen"||b.pointerType==="touch")this.cib=Math.max(0,this.cib-1);if(b.pointerId===this.gmd){if(this.UWe&&this.L_){const d=this.D2f.transformPoint(this.UWe),e=this.D2f.transformPoint(this.L_),{top:f,left:g,
width:h,height:k}=__c.Wj(d,e).Lb();if(!this.Pgn(h,k)){var c;this.t2=this.props.undo.startBuffering();Promise.resolve(this.props.Qpe({top:f,left:g})).then(l=>{var m;l&&((m=this.props.selection.La)===null||m===void 0?void 0:m.Od)===l&&this.props.h7c&&this.props.h7c(this.props.selection.La)}).catch(()=>{});(c=this.t2)===null||c===void 0||c.stop()}this.oa()}this.releasePointerCapture(b);this.reset()}}onPointerLeave(){this.reset()}onPointerCancel(b){this.cib=Math.max(0,this.cib-1);b.pointerId===this.gmd&&
this.reset()}onTouchStart(b){b.preventDefault();var c;Array.from((c=b.touches)!==null&&c!==void 0?c:[]).forEach(d=>{d.identifier!=null&&this.X4b.add(d.identifier)});this.X4b.size<2&&(b.stopPropagation(),setTimeout(()=>{var d,e;this.X4b.size>1&&((e=this.ref.current)===null||e===void 0||(d=e.parentElement)===null||d===void 0||d.dispatchEvent(b))},120))}oa(){setTimeout(()=>{this.props.oa()},0)}setPointerCapture(b){if(b.currentTarget instanceof HTMLElement)try{b.currentTarget.setPointerCapture(b.pointerId)}catch(c){}}releasePointerCapture(b){if(b.currentTarget instanceof
HTMLElement&&b.currentTarget.hasPointerCapture(b.pointerId))try{b.currentTarget.releasePointerCapture(b.pointerId)}catch(c){}}get WMe(){return this.props.viewport.jh&&!this.props.viewport.jU}dgl(){var b;if(((b=this.ref)===null||b===void 0?void 0:b.current)!=null&&this.WMe){b=this.props.viewport.jz();var {width:c,height:d}=b.Lb(),{top:e,left:f}=b.transform(this.D2f).Lb();Object.assign(this.ref.current.style,{width:`${c}px`,height:`${d}px`,top:`${e*this.props.Pc.scale}px`,left:`${f*this.props.Pc.scale}px`})}}get npo(){return!this.qJa&&
this.L_!=null&&!this.UWe}Pgn(b,c){return b>5||c>5}get Yza(){return this.qJa?"tAyUIw":this.props.t_h==="none"?"XVr5aA":"uGIU_Q"}get uVn(){if(this.L_){var b=this.Fje(this.L_);return{transform:`translate(${b.x}px, ${b.y}px) scale(${this.props.Pc.scale})`}}}Fje(b){return this.props.viewport.jU?this.props.viewport.Ql(this.props.page).then(Pj(this.props.Pc.scale)).transformPoint(b):this.props.viewport.Tha().transformPoint(b)}get D2f(){return this.props.viewport.Ql(this.props.page)}get jD(){return this.props.page.ha}get qJa(){return this.jD.locked===
!0}constructor(...b){super(...b);this.ref=(ISs.G(this),MV());this.TNg=!1;this.cib=0;this.X4b=new Set;this.addEventListeners=()=>{this.ref.current==null||this.qJa||(this.ref.current.addEventListener("pointermove",this.onPointerMove),this.ref.current.addEventListener("pointerdown",this.onPointerDown),this.ref.current.addEventListener("pointerup",this.onPointerUp),this.ref.current.addEventListener("pointerleave",this.onPointerLeave),this.ref.current.addEventListener("pointercancel",this.onPointerCancel),
this.ref.current.addEventListener("touchstart",this.onTouchStart),this.ref.current.addEventListener("touchend",this.onTouchEnd),this.ref.current.addEventListener("touchcancel",this.onTouchCancel),this.ref.current.addEventListener("lostpointercapture",this.onLostPointerCapture))};this.removeEventListeners=()=>{this.ref.current!=null&&(this.ref.current.removeEventListener("pointermove",this.onPointerMove),this.ref.current.removeEventListener("pointerdown",this.onPointerDown),this.ref.current.removeEventListener("pointerup",
this.onPointerUp),this.ref.current.removeEventListener("pointerleave",this.onPointerLeave),this.ref.current.removeEventListener("pointercancel",this.onPointerCancel),this.ref.current.removeEventListener("touchstart",this.onTouchStart),this.ref.current.removeEventListener("touchend",this.onTouchEnd),this.ref.current.removeEventListener("touchcancel",this.onTouchCancel),this.ref.current.removeEventListener("lostpointercapture",this.onLostPointerCapture))};this.onTouchEnd=c=>{var d;Array.from((d=c.changedTouches)!==
null&&d!==void 0?d:[]).forEach(e=>{e.identifier!=null&&this.X4b.delete(e.identifier)})};this.onTouchCancel=c=>{c.touches&&c.touches.length!==0||this.X4b.clear()};this.reset=()=>{var c,d;this.Iw&&(document.removeEventListener("keydown",this.Iw),this.Iw=void 0);(c=this.onDragEnd)===null||c===void 0||c.call(this);if(this.vug){var e;if(((e=this.props.selection.La)===null||e===void 0?void 0:e.Od)===this.vug&&this.props.h7c){var f;this.props.h7c(this.props.selection.La,!0);(f=this.t2)===null||f===void 0||
f.stop()}this.oa()}this.UWe=this.L_=void 0;this.cib=0;this.gmd=void 0;this.X4b.clear();this.TNg=!1;this.onDragEnd=this.pe=this.vug=void 0;(d=this.t2)===null||d===void 0||d.stop();this.t2=void 0};this.onLostPointerCapture=c=>{if(c.pointerId===this.gmd)this.onPointerUp(c)}}}({c:[ISs,GSs]}=PV(a,[],[Ob],HSs))})(),FSs);var JSs=class{static G(a){O(a,{Iqf:CV.ref})}constructor(){this.Iqf=(JSs.G(this),void 0)}};var KSs=({canvas:a,viewport:b,selection:c,Zo:d,undo:e})=>{const f=new JSs,g=iV(h=>{if(h.page.ha!==b.Zg.ha)return null;var k;const {Oq:l,Qpe:m,h7c:p,pLj:q,oa:r,t_h:t}=(k=f.Iqf)!==null&&k!==void 0?k:{};return m&&r?gV(ISs,{...h,viewport:b,selection:c,Zo:d,undo:e,Oq:l,Qpe:m,h7c:p,pLj:q,oa:r,t_h:t}):null});a.kc(h=>h===40,(h,k)=>{h.yg.Ybf=k?g:void 0});return{xmd:f}};var yss=({jme:a,MK:b,ut:c=2,spacing:d,Kua:e,PGa:f})=>gV(jr,{columns:b,spacing:d,Kua:e,PGa:f,children:Array(c*Number(b)).fill(0).map((g,h)=>gV("div",{children:gV(a,{})},h))});var Bss=class{static G(a){O(a,{activeIndex:CV.ref,options:pV,Cdb:pV})}get options(){return this._options.get()}get Cdb(){if(!(this.activeIndex<0||this.activeIndex>=this.options.length))return this.options[this.activeIndex]}constructor(a,b){this.MK=a;this._options=b;this.activeIndex=(Bss.G(this),-1)}},Css=class{onKeyDown(a){switch(a){case "ArrowDown":this.store.activeIndex<0?Ass(this,0):Ass(this,this.store.activeIndex+this.store.MK);break;case "ArrowLeft":ub.direction===2?Ass(this,this.store.activeIndex+
1):Ass(this,this.store.activeIndex-1);break;case "ArrowRight":ub.direction===2?Ass(this,this.store.activeIndex-1):Ass(this,this.store.activeIndex+1);break;case "ArrowUp":Ass(this,this.store.activeIndex-this.store.MK);break;case "Enter":var b;this.store.Cdb&&((b=this.onSelect)===null||b===void 0||b.call(this,this.store.Cdb))}}constructor(a,b){this.store=a;this.onSelect=b}};var Ess=()=>gV("div",{}),Fss=()=>gV("div",{});var Iss=()=>gV("div",{className:"M4UWZw",role:"alert",children:gV(P,{alignment:"center",tone:"tertiary",children:L("ua8pKA")})});var Hss=class{static G(a){O(a,{status:CV.ref})}constructor(){this.status=(Hss.G(this),"none")}};var LSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm9.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-6.25v-15Zm-1.5 0H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h6.25v-15Z" fill="currentColor"/></svg>';var cus=dr({medium:LSs});var [kts,lts]=[-.2,.8],[gts,hts]=[.5,2.5],qts=class{constructor(a){this.styles=a;var b;if(a){const c=new Map;for(const d of a){a=document.implementation.createHTMLDocument("");const e=document.createElement("style");e.textContent=d.textContent;a.body.appendChild(e);a=(b=e.sheet)===null||b===void 0?void 0:b.cssRules;if(!a)break;for(const f of a)f instanceof CSSStyleRule&&c.set(f.selectorText.toLowerCase(),f.style)}b=c}else b=new Map;this.inh=b}},pts=/var\(--[^,]+,\s*([^)]+)\)/;var wts=new Map([["B",{fontWeight:"bold"}],["STRONG",{fontWeight:"bold"}],["I",{fontStyle:"italic"}],["EM",{fontStyle:"italic"}],["U",{decoration:"underline"}],["S",{Xu:"strikethrough"}],["DEL",{Xu:"strikethrough"}]]),rts=class{finish(){tts(this);this.builder.Vb("\n");return{backgroundColor:this.backgroundColor,d4:this.builder.build()}}NOd(a,b){b()}gEb(a){a.textContent&&vts(this,a.textContent)}ct(a,b,c){switch(b){case "inline":yts(this,a,c);break;case "block":this.backgroundColor==null&&(this.backgroundColor=
Mss(this.tfa,a));yts(this,a,c);this.nPf.endsWith("\u2028")||vts(this,"\u2028");break;default:throw new v(b);}}dle(a,b){this.ct(a,"inline",b)}y0a(a,b,c){this.ct(a,"block",c)}R6a(a,b){this.ct(a,"block",b)}S6a(a,b){this.ct(a,"block",b)}hle(a,b){this.ct(a,"block",b)}x0a(a,b){this.ct(a,"block",b)}fle(a,b){this.ct(a,"block",b)}iLa(){}ile(){vts(this,"\u2028")}gle(){}constructor(a,b){this.tfa=a;this.builder=b;this.ivm={};this.nPf=""}};var zts=10*eu,Hts=class{static G(a){O(a,{PNh:pV,zJj:pV,Mhm:pV})}get PNh(){return this.zJj!=null}get zJj(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===0&&RVc(a.container)?a.container:null}get Mhm(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===0&&(RVc(a.container)||a.container.type==="layout-item-cell")}showNotification(a){this.la.Ib({Cb:a})}constructor(a,b,c,d,e,f,g=Fts,h=sts){this.selection=a;this.Xa=b;this.t7a=c;this.uzb=d;this.la=e;this.Tp=f;
this.SWq=g;this.Sds=h;Hts.G(this)}};var aus=({active:a,option:b})=>nV(xV,{children:[gV("div",{className:"T6TgDw",children:gV(So,{HE:"primary",selected:a,dn:"scaleThumbnail",thumbnail:nV("div",{className:"_37wJ8w",children:[gV(gv,{src:b.Ghf,height:"8u"}),gV("div",{className:"LRwe4g VnXh5Q",children:gV(P,{size:"large",weight:"bold",children:gV("span",{className:"hS4paQ",children:b.$Jf})})})]}),layout:"vertical",Ym:"thumbnail"})}),gV(P,{size:"small",alignment:"center",children:b.label})]});var MSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.5h16a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H4a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM2 8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8Zm4.5 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0ZM8 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm4.75.75a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Zm0 3a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z" fill="currentColor"/></svg>';var Tts=dr({medium:MSs});var NSs=__c.Fxc("8u"),Rts=({active:a,option:b})=>gV(xV,{children:gV(So,{HE:"secondary",selected:a,title:b.label&&gV(xV,{children:gV(P,{alignment:"center",size:"small",children:b.label})}),thumbnail:gV(gv,{alt:b.b8k,borderRadius:"element",src:b.wn,height:NSs}),dn:"scaleThumbnail",layout:"vertical",Ym:"thumbnail"})}),OSs=()=>gV("div",{className:"I1C5KQ",children:gV(S,{border:"low",borderRadius:"baseUnit",display:"flex",flexDirection:"column",height:"full",justifyContent:"center",paddingBottom:"1.5u",
jq:"1.5u",paddingTop:"1.5u",children:nV(ir,{Fa:"center",spacing:"1u",children:[gV(hr,{width:"content",children:gV("div",{className:"K2IwOQ",children:gV(gj,{shape:"circle"})})}),gV(hr,{width:"fluid",children:nV(__c.gr,{end:"1u",children:[gV(__c.cu,{size:"xsmall"}),gV(__c.cu,{size:"xsmall"})]})})]})})}),Sts=()=>nV(xV,{children:[gV(OSs,{}),gV(md,{size:"1u"}),gV("div",{className:"TQZXfg",children:gV(__c.cu,{size:"small"})})]}),Uts=()=>gV(OSs,{});var Qts=class{constructor(a,b,c,d,e,f,g){this.store=a;this.Vf=b;this.ng=c;this.Kn=d;this.ja=e;this.Qk=f;this.t7a=g}};var Pts=class{static G(a){O(a,{Uei:CV.ref,UPg:CV.ref,YPg:CV.ref,bAf:CV.ref,ERf:CV.ref,iJi:CV.ref})}constructor(){this.Uei=(Pts.G(this),!1);this.YPg=this.UPg=!1;this.bAf=[];this.ERf=[];this.iJi=!1}};var PSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm12.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-3.25v-15Zm-1.5 0h-4.5v15h4.5v-15Zm-6 15v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h3.25Z" fill="currentColor"/></svg>';var QSs=dr({medium:PSs});var RSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm14.25-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-1.75v-15Zm-1.5 0h-3v15h3v-15Zm-4.5 15v-15h-3v15h3Zm-4.5 0v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h1.75Z" fill="currentColor"/></svg>';var SSs=dr({medium:RSs});var TSs=__webpack_require__.p+"images/1c94ede555e1ed73446b74f58315ea42.png";var USs=__webpack_require__.p+"images/769a83ee7f42d86165825e026d9b790d.png";var VSs=__webpack_require__.p+"images/53b4489844d165e5a4227068d658cd58.png";var WSs=__webpack_require__.p+"images/07f9c993ae9ff47b1fdcd5705c8d82a2.png";var XSs=__webpack_require__.p+"images/9c140b37bedca0b2a2ec5d4b189c82d7.png";var YSs=__webpack_require__.p+"images/5c14b727e99b3aa0d9b90ada6623ad7e.png";var Yts={keyName:"two-col",EFe:["1fr","1fr"],label:J("OqFv8A",[2]),$Jf:J("6Iw8IQ",[2]),Ghf:TSs,icon:cus},Zts={keyName:"three-col",EFe:["1fr","1fr","1fr"],label:J("OqFv8A",[3]),$Jf:J("6Iw8IQ",[3]),Ghf:USs,icon:QSs},$ts={keyName:"four-col",EFe:["1fr","1fr","1fr","1fr"],label:J("OqFv8A",[4]),$Jf:J("6Iw8IQ",[4]),Ghf:WSs,icon:SSs},bus=[Yts,Zts,$ts,{keyName:"submenu-right-sidebar",EFe:["2fr","1fr"],label:L("k9WJeg"),$Jf:J("6Iw8IQ",[2]),Ghf:YSs},{keyName:"submenu-left-sidebar",EFe:["1fr","2fr"],label:L("CphetQ"),
$Jf:J("6Iw8IQ",[2]),Ghf:XSs},{keyName:"submenu-left-right-sidebar",EFe:["1fr","2fr","1fr"],label:J("q7aD9g",[3]),$Jf:J("6Iw8IQ",[3]),Ghf:VSs}];var ZSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.76 20.363a.661.661 0 0 1-.466-1.13L18.808 4.72a.661.661 0 0 1 .936.935L5.228 20.169a.661.661 0 0 1-.467.194Z" fill="#138EFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20.56 3.94a1.5 1.5 0 0 1 0 2.12l-15 15a1.5 1.5 0 0 1-2.12-2.12l15-15a1.5 1.5 0 0 1 2.12 0Z" fill="#138EFF"/></svg>';var ius=dr({medium:ZSs});var hus=iV(a=>{const b=a.nwc,c=a.layout,d=a.Ix,e=a.DQ,f=a.Q1f,g=a.HTf,h=a.AQa,k=a.oa,l=a.Hua;lV(()=>()=>{const m=l?null:g;m===null||m===void 0||m()},[g,l]);return gV(__c.cer,{layout:c,className:"_3hJ2ww",children:$Ss.map(({value:m,Icon:p},q)=>gV(aTs,{Uur:q,Ix:d,DQ:e,nwc:b,Q1f:f,AQa:h,oa:k,AOe:m,Icon:p,Hua:l},m))})}),aTs=iV(a=>{const b=a.nwc,c=a.Q1f,d=a.AQa,e=a.oa,f=a.AOe,g=a.Icon,h=a.Uur,k=a.Ix,l=a.DQ,m=a.Hua,p=mV(null);lV(()=>{var r;k!==h||(r=p.current)!==null&&r!==void 0&&r.focus()},[k,h,p]);a=
kV(()=>{wc.nJ&&l(h)},[l,h]);const q=kV(()=>{c(f);m||(d(f),e())},[d,c,f,e,m]);return gV(fj,{ref:p,variant:"tertiary",size:"medium",icon:g,onFocus:a,active:f===b,onClick:q})}),$Ss=[{Icon:__c.Rwf,value:1},{Icon:__c.Swf,value:2},{Icon:__c.Twf,value:3}],bTs=$Ss.length;var gus=class{static G(a){O(a,{Q1f:jV.bound,HTf:jV.bound,AQa:jV.bound,DQ:jV})}Q1f(a){this.store.nwc===a?this.HTf():this.store.nwc=a}HTf(){this.store.nwc=void 0}Tya(){this.V.track(dvg,{elementType:"line",kb:"click",qsa:"add",XLc:!1})}constructor(a,b,c){this.store=a;this.oc=b;this.V=c;this.AQa=(gus.G(this),(d,e)=>{if(this.store.jD){const {width:m,height:p}=__c.Xpe(this.oc,this.store.jD,{AOe:d},{Uc:"tools_tab_click"});var f={dimensions:{width:m,height:p}}}else f=void 0;({dimensions:f}=f||{});let g;const {top:h,
left:k,rQl:l}=e||{};f&&h&&k&&(g=l?Yj({top:h,left:k,width:5,height:f.height/f.width*5}):Yj({top:h,left:k,width:f.width,height:f.height}));d=this.oc.AQa({AOe:d},{Uc:"tools_tab_click"},{box:g,lLa:{type:"absolute",value:"top"}});this.V.track(dvg,{elementType:"line",kb:"click",qsa:"add",XLc:!1});return d});this.Lxn=d=>{this.DQ((this.store.Ix+(d==="prev"?-1:1)+bTs)%bTs)};this.DQ=d=>{this.store.Ix=d}}};var fus=class{static G(a){O(a,{isActive:CV.ref,lCb:jV,nwc:CV.ref,jD:pV,Ix:CV.ref})}lCb(a){this.isActive=a!==null&&a!==void 0?a:!1}get Hua(){return this.z2a&&Ic.zgb}get jD(){const a=this.viewport.Zg.ha;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.z2a=b;this.isActive=(fus.G(this),!1);this.Ix=0}};var cTs=class{static G(a){O(a,{Cg:pV,vac:pV})}get Cg(){var a;return((a=this.ng.La)===null||a===void 0?void 0:a.pages)||[]}get vac(){return this.document.pages.last(a=>this.Cg.includes(a))}sK(){return this.oc.bMa(1)}bae(){var a,b;const c=this.vac||n(this.document.pages.first());oa(this.oc.PL!=null);const {page:d,container:e}=this.oc.PL(c,{Uc:"toolbar",location:"toolbar",v7:"none"},{B4d:this.vac==null,template:void 0});(b=this.Lk)===null||b===void 0||(a=b.rN)===null||a===void 0||a.call(b,new ip);(a=
(e===null||e===void 0?void 0:e.type)==="concatenated-fixed-page"?e.Nha(this.document.pages):d)&&this.ng.GU(e,a)}axl(){var a;return!(!this.ng.La||this.ng.La.type!=="pages"||((a=this.ng.La)===null||a===void 0?0:a.inner)||!this.ng.La.Ji())}constructor(a,b,c,d){this.oc=a;this.ng=b;this.document=c;this.Lk=d;cTs.G(this)}};var dTs=iV(a=>{const b=a.disabled;return gV(a.xi,{onClick:a.onClick,disabled:b(),icon:__c.gAf,yh:"icon",tooltip:L("Ae7Bjg"),children:L("Ae7Bjg")})});var eTs=(a,b,c,d)=>{d=d.document;if(d.Ja==="fixed"){var e=new cTs(c,b,d),f={Qd:()=>e.axl(),Button:iV(g=>gV(dTs,{...g,onClick:()=>e.bae(),disabled:()=>!e.sK()})),Su:{sg:()=>"Add Page"}};a.plugins.dsa=()=>f}};var ous=class{static G(a){O(a,{pSk:jV.bound})}pSk(a){if(this.selection.La&&(a===null||a===void 0?0:a.currentTarget))return this.Qe.Dqh(a.currentTarget,{type:"fixed",direction:"right",anchor:"top"});this.selection.Jb&&(this.Qe.xyc({type:"responsive",box:pV(()=>{const b=this.viewport.CP,c=this.Xa.CQ;if(this.viewport.HF&&b&&c)return c.transform(b.invert())})}),this.Qe.open({trigger:"add_button"}))}constructor(a,b,c,d,e){this.store=a;this.Xa=b;this.viewport=c;this.selection=d;this.Qe=e;ous.G(this)}},
qus=class{static G(a){O(a,{onMouseUp:jV.bound,M1e:jV.bound,O1e:jV.bound,Unl:jV.bound,ZBn:jV.bound,onFocus:jV.bound,onBlur:jV.bound,onMouseDown:jV.bound})}onMouseUp(){this.Unl(!1);document.removeEventListener("mouseup",this.onMouseUp,{capture:!0})}M1e(a){this.store.jod=a}O1e(a){this.store.Ose=a}Unl(a){this.store.mgm=a}zrl(a){this.store.ro=a}ZBn(){clearTimeout(this.store.ro);if(!(this.Ma.mode<=20))if(this.Xa.focused)this.M1e(!0);else{var a=setTimeout(jV(()=>this.M1e(!1)),250);this.zrl(a)}}onFocus(){this.O1e(!0)}onBlur(){this.O1e(!1)}onMouseDown(){this.Unl(!0);
document.addEventListener("mouseup",this.onMouseUp,{capture:!0})}constructor(a,b,c){this.store=a;this.Xa=b;this.Ma=c;qus.G(this)}};var nus=class{static G(a){O(a,{Oqh:pV,fMc:pV})}get Oqh(){return this.Ma.mode<30?!1:this.selection.Jb&&this.ka.layout===2?!0:this.iHl}get iHl(){return this.fMc}get jwl(){return this.fMc&&!this.selection.Jb}get fMc(){var a=this.selection.Jb;const b=this.selection.La;let c=!1;switch(a===null||a===void 0?void 0:a.type){case void 0:case 2:case 3:case 5:break;case 0:c=a.container.type==="sheet-item-cell-richtext";break;case 1:var d;c=((d=a.only)===null||d===void 0?void 0:d.type)==="sheet";break;case 4:c=
!0;break;default:throw new v(a);}a=!1;switch(b===null||b===void 0?void 0:b.type){case void 0:case "audio":break;case "pages":var e;a=((e=b.inner)===null||e===void 0?void 0:e.type)==="sheet";break;case "elements":var f,g;a=((f=b.inner)===null||f===void 0?void 0:f.type)==="sheet"||((g=b.Od)===null||g===void 0?void 0:g.type)==="sheet";break;default:throw new v(b);}return c||a}constructor(a,b,c){this.selection=a;this.Ma=b;this.ka=c;nus.G(this)}},pus=class{static G(a){O(a,{jod:CV.ref,Ose:CV.ref,mgm:CV.ref,
ro:CV.ref,EQ:pV,Vim:pV})}get EQ(){return this.Ose||this.jod}get Vim(){var a;const b=this.selection;return this.Ma.mode<30||this.ka.layout!==1?!1:((a=b.Jb)===null||a===void 0?void 0:a.type)===0&&__c.gsa(b.Jb.container)}constructor(a,b,c,d){this.Ma=a;this.selection=b;this.ka=c;this.Xa=d;this.jod=(pus.G(this),void 0);this.mgm=this.Ose=!1;this.ro=void 0;this.jod=this.Xa.focused}};var fTs={enter:"q29WYw",enterActive:"JqJVCA",exit:"crpmLQ",exitActive:"HIuJnA"},gTs=parseInt("250ms",10),sus=({onClick:a,top:b,show:c,One:d,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h})=>{const k=mV(null);a=gV(tr,{variant:"tertiary",yUb:!0,onClick:a,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h,size:"tiny",icon:Pu,Nc:"small",hb:L("yFLjFw"),JH:"/",className:"vgc1dg"});return gV(mRs["default"],{in:c,timeout:gTs,unmountOnExit:!0,mountOnEnter:!0,classNames:fTs,nodeRef:k,children:gV("div",{className:"lQmhtA",
style:{top:b},ref:k,children:d?gV(d,{children:a}):a})})};var uus=Qb("8862db4f",!1),rus=JV(a=>{const b=a.xi,c=a.onClick,d=a.Icon,e=a.Qj,f=a.kCk==="gradient"?gV("span",{className:"V4Xpkw",children:L("M0/rWw")}):L("M0/rWw");return nV("div",{children:[gV(b,{tooltip:L("yFLjFw"),onClick:c,icon:d,yh:"icon-and-label",className:"vgc1dg",...a,children:f}),e&&gV(e,{})]})});var hTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.367 8.609A2.08 2.08 0 0 0 17.9 8H7.006v.5h-.002V18.9c0 1.143.935 2.078 2.078 2.078H17.9a2.084 2.084 0 0 0 2.078-2.078v-8.825a2.08 2.08 0 0 0-.61-1.466Z" fill="#11171D"/><path d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#6B6F73"/></svg>';var iTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 17 8.473 17a7.396 7.396 0 0 1-1.465-.155l.004 2.07a2.084 2.084 0 0 0 2.082 2.073l8.818-.018a2.083 2.083 0 0 0 2.074-2.082l-.018-8.825a2.08 2.08 0 0 0-2.082-2.07l-2.045.004c.101.486.154.981.157 1.478l.002.027A7.5 7.5 0 0 1 8.5 17Z" fill="#fff" fill-opacity=".9"/><path opacity=".5" d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#fff" fill-opacity=".9"/></svg>';var Bus=__c.eyc({medium:hTs},{medium:{light:hTs,dark:iTs}});var zus=iV(a=>{const b=a.layout,c=a.fca,d=a.Ix,e=a.DQ,f=a.ITf,g=a.Hua;lV(()=>()=>{const h=g?null:f;h===null||h===void 0||h()},[f,g]);return gV(__c.cer,{layout:b,className:"j2S_rw",children:c.map((h,k)=>gV(jTs,{iIs:k,Ix:d,DQ:e,oa:a.oa,shape:h,FSc:a.FSc,G9:a.G9,CMd:a.CMd,Hua:a.Hua},h.key))})}),jTs=iV(a=>{const b=a.shape,c=a.iIs,d=a.Ix,e=a.DQ,f=a.FSc,g=a.G9,h=a.oa,k=a.CMd,l=a.Hua,m=mV(null);lV(()=>{var r;d!==c||(r=m.current)!==null&&r!==void 0&&r.focus()},[d,c,m]);a=kV(()=>{wc.nJ&&e(c)},[e,c]);const p=
dr({medium:()=>gV(__c.pig,{shape:b})}),q=kV(()=>{k(b.key);l||(g(b),h())},[g,k,b,h,l]);return gV(fj,{ref:m,variant:"tertiary",size:"medium",icon:p,onFocus:a,active:b.key===f,onClick:q})}),Aus=iV(({shape:a,bIs:b})=>{const c=b.color;var d;return gV("div",{className:"CFGd6w",style:{...b.dimensions},children:gV("svg",{className:"bnNaZg",viewBox:`0 0 ${a.viewBox.width} ${a.viewBox.height}`,stroke:c,fill:c,children:gV("path",{d:(d=a.kd)!==null&&d!==void 0?d:a.path})})})});var yus=class{static G(a){O(a,{CMd:jV.bound,Peh:jV.bound,ITf:jV.bound,G9:jV.bound,zGa:pV,DQ:jV})}CMd(a){this.store.FSc===a?this.ITf():this.Peh(a)}Peh(a){this.store.FSc=a}ITf(){this.store.FSc=void 0}G9(a,b){const c=this.store.jD?this.bZm(a,this.store.jD):void 0,{dimensions:d,color:e}=c||{};let f;const {top:g,left:h,rQl:k}=b||{};d&&g&&h&&(f=k?Yj({top:g,left:h,width:5,height:d.height/d.width*5}):Yj({top:g,left:h,width:d.width,height:d.height}));b=this.rwe(a,e);a=this.oc.G9(b,a.vk||"shape",{Uc:"tools_tab_click"},
{box:f,lLa:{type:"absolute",value:"top"}},{zQf:this.store.Hua?!0:void 0,Sis:!!k});this.Tya();return a}get zGa(){if(this.store.dCb&&this.store.jD)return this.bZm(this.store.dCb,this.store.jD)}Tya(){this.V.track(dvg,{elementType:"shape",kb:"click",qsa:"add",XLc:!1})}rwe(a,b="#000000"){const c=a.slice,d=a.textBox,e=a.ob;return new __c.ov({viewBox:a.viewBox,paths:[new __c.nv({d:a.path,fill:{...ss,color:b},ob:e!==null&&e!==void 0?e:0})],slice:{source:c,Jp:c.width,zp:c.height,horizontal:1,vertical:1},fd:[{box:d,
LJ:4,dj:2}],sq:{JR:!1,u8:!1}})}constructor(a,b,c,d){this.store=a;this.jc=b;this.oc=c;this.V=d;this.bZm=(yus.G(this),(e,f)=>{e=this.rwe(e);f=__c.aqe(this.oc,f,e);return{dimensions:{width:f.width,height:f.height},color:f.paths[0].fill.color||"#000000"}});this.zbr=(e,f)=>{var g;const h=((g=e.Bg)===null||g===void 0?void 0:g.type)==="shape"?e.Bg:void 0;h&&(f&&(f=h.slice,g=h.fd,h.viewBox&&f&&g&&this.jc.iPa("font-size",Math.round(.08*Math.max(h.width,h.height)*.75)*eu)),rA(this.jc,e,"all"))};this.Mxn=e=>
{const f=this.store.$Hs;this.DQ((this.store.Ix+(e==="prev"?-1:1)+f)%f)};this.DQ=e=>{this.store.Ix=e}}};var xus=class{static G(a){O(a,{isActive:CV.ref,lCb:jV,FSc:CV.ref,dCb:pV,jD:pV,Ix:CV.ref})}lCb(a){this.isActive=a!==null&&a!==void 0?a:!1}get dCb(){if(this.FSc)return this.fca.find(a=>a.key===this.FSc)}get Hua(){return this.z2a&&Ic.zgb}get jD(){const a=this.viewport.Zg.ha;return a.type==="fixed"?a:void 0}get $Hs(){return this.fca.length}constructor(a,b,c){this.fca=a;this.viewport=b;this.z2a=c;this.isActive=(xus.G(this),!1);this.Ix=0}};var Fus=class{addRow(a){const b=this.store.sheet;var c=this.store.lF;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.P.sb("sheets_insert_row_menu_used",{Fb:{name:"editor.editing.sheet.adding",type:"row"}});this.Vi.addRows(b,d,a,c,e,"contextual_menu");e===null||e===void 0||e.ne()}}addColumn(a){const b=this.store.sheet;var c=this.store.L0b;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.P.sb("sheets_insert_column_menu_used",{Fb:{name:"editor.editing.sheet.adding",
type:"column"}});this.Vi.MRb(b,d,a,c,e,"contextual_menu");e===null||e===void 0||e.ne()}}constructor(a,b,c){this.store=a;this.Vi=b;this.P=c}};var kTs=class{static G(a){O(a,{sheet:pV,BOg:pV,lF:pV,L0b:pV,iYf:pV,QDj:pV,PDj:pV,Ihn:pV,ken:pV})}get sheet(){var a;return(a=this.XK)===null||a===void 0?void 0:a.sheet}get BOg(){const a=this.XK;if(!(a&&a.cells.size>0&&a.rows.length===0&&a.cols.length===0))return!1;var b=this.QDj;for(var c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;b=this.PDj;for(c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}get lF(){const a=this.XK;return a&&(this.BOg||this.Ihn)?
this.BOg?this.QDj:a.rows:[]}get L0b(){const a=this.XK;return a&&(this.BOg||this.ken)?this.BOg?this.PDj:a.cols:[]}get iYf(){if(this.XK){var a=this.lF.length>0,b=this.L0b.length>0;return{yrj:a,zrj:a,Sqj:b,Tqj:b}}}get QDj(){const a=this.XK;return a?pd(a.cells.map(b=>b.row)):[]}get PDj(){const a=this.XK;return a?pd(a.cells.map(b=>b.column)):[]}get Ihn(){const a=this.XK;if(!a)return!1;const b=a.rows;for(let c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;return!0}get ken(){const a=
this.XK;if(!a)return!1;const b=a.cols;for(let c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}constructor(){kTs.G(this)}},Eus=class extends kTs{static G(a){O(a,{XK:pV})}get XK(){const a=this.selection.La;var b=this.selection.Jb;if(!(this.Ma.mode<=30)){if(b&&b.type===4)return{sheet:b.container.sheet.config,rows:b.rows.map(c=>c),cols:b.columns.map(c=>c),cells:b.cells};if(a&&a.Ji($l.Rs)&&a.inner&&a.inner.type==="sheet"&&(a.type==="elements"||a.type==="pages")){switch(a.type){case "pages":b=
a.inner.page.sheet;break;case "elements":b=a.inner.sheet.config;break;default:throw new v(a);}return{sheet:b,rows:a.inner.rows.map(c=>c),cols:a.inner.columns.map(c=>c),cells:a.inner.cells}}}}constructor(a,b){super();this.selection=a;this.Ma=b;Eus.G(this)}};var Hus=class{static G(a){O(a,{activeCell:CV.ref,bca:pV})}get bca(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(Hus.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},lTs={ArrowUp:-1,ArrowDown:1},mTs={ArrowRight:1,ArrowLeft:-1},Ius=class{static G(a){O(a,{select:jV,enter:jV,QXg:jV,reset:jV})}select(a,b){this.Qe.KJ({});
this.fGb(a.col+1,a.row+1);this.Qe.w6a({GNb:`${a.col+1}x${a.row+1}`,Yue:!0,Y_c:!0,kb:b});this.Qe.close({trigger:"insert"})}enter(a,b){a.activeCell=b}QXg(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+lTs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.Ti?-1:1)*mTs[b];(c=a.cells.find(e=>e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&
(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}Xzk(a,b){return!!a.bca.find(c=>b.row===c.row&&b.col===c.col)}constructor(a,b,c){this.Qe=a;this.fGb=b;this.Ti=c;Ius.G(this)}};var nTs=({id:a,ariaLabel:b,active:c,rb:d,onMouseEnter:e,onSelect:f})=>{const g=kV(()=>e(d),[d,e]),h=kV(()=>f(d),[d,f]);return gV("button",{tabIndex:-1,"aria-label":b,id:a,className:GV("q8e2xQ",{hd2lkg:c}),onMouseEnter:g,onClick:h})},Jus=iV(({controller:a,aBb:b,XIs:c,L:d})=>{const e=c.activeCell,f=kV(h=>d.enter(c,h),[d,c]),g=kV(h=>d.select(h,"click"),[d]);return gV("div",{className:"KHPSjw",children:gV("div",{role:"grid",id:b,className:"hM8_pw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return gV(nTs,{id:l?a.F4:void 0,ariaLabel:l?J("Yc0w1g",[h.col+1,h.row+1]):void 0,rb:h,active:d.Xzk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var oTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm-.5 10.75V9.5h4v4.25h-4Zm5.5 0V9.5h4v4.25h-4Zm-5.5 1.5h4v4.25H5a.5.5 0 0 1-.5-.5v-3.75Zm5.5 0v4.25h4v-4.25h-4Zm5.5 4.25v-4.25h4V19a.5.5 0 0 1-.5.5h-3.5Zm0-5.75V9.5h4v4.25h-4Z" fill="currentColor"/></svg>';var pTs=oTs.replace(/currentColor/g,"hsla(221,  62%, 30%, 1)"),qTs=oTs.replace(/currentColor/g,"rgba(255, 255, 255, 0.9)"),Nus=__c.eyc({medium:pTs},{medium:{light:pTs,dark:qTs}});var rTs=({id:a,ariaLabel:b,active:c,rb:d,onMouseEnter:e,onSelect:f})=>{const g=kV(()=>e(d),[d,e]),h=kV(()=>f(d),[d,f]);return gV("button",{tabIndex:-1,"aria-label":b,id:a,className:GV("HcyofA",{_5ejCMw:c}),onMouseEnter:g,onClick:h})},Ous=iV(({controller:a,aBb:b,LXs:c,L:d})=>{const e=c.activeCell,f=kV(h=>d.enter(c,h),[d,c]),g=kV(h=>d.select(h,"click"),[d]);return gV("div",{className:"dEypTw",children:gV("div",{role:"grid",id:b,className:"_TF0Tw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return gV(rTs,{id:l?a.F4:void 0,ariaLabel:l?J("LmyhDA",[h.col+1,h.row+1]):void 0,rb:h,active:d.Xzk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var Lus=class{static G(a){O(a,{activeCell:CV.ref,bca:pV})}get bca(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(Lus.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},sTs={ArrowUp:-1,ArrowDown:1},tTs={ArrowRight:1,ArrowLeft:-1},Mus=class{static G(a){O(a,{select:jV,enter:jV,QXg:jV,reset:jV})}select(a,b){var c,
d,e;(c=this.Qe)===null||c===void 0||c.KJ({});this.addTable(a.col+1,a.row+1);(d=this.Qe)===null||d===void 0||d.w6a({GNb:`${a.col+1}x${a.row+1}`,Yue:!0,Y_c:!0,kb:b});(e=this.Qe)===null||e===void 0||e.close({trigger:"insert"})}enter(a,b){a.activeCell=b}QXg(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+sTs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.Ti?-1:1)*tTs[b];(c=a.cells.find(e=>
e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}Xzk(a,b){return!!a.bca.find(c=>b.row===c.row&&b.col===c.col)}Tya(){this.V.track(dvg,{elementType:"table",kb:"click",qsa:"add",XLc:!1})}constructor(a,b,c,d){this.Qe=a;this.V=b;this.addTable=c;this.Ti=d;Mus.G(this)}};var uTs='<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.022 6.518a.502.502 0 0 0-.502.501v.789a1.254 1.254 0 0 1-2.508 0V6.016c0-1.108.898-2.006 2.007-2.006h12.037c1.108 0 2.006.898 2.006 2.006v1.765a1.254 1.254 0 1 1-2.507 0v-.762a.502.502 0 0 0-.502-.501h-3.762V16.8c0 .415.337.752.753.752h.752a1.254 1.254 0 0 1 0 2.508H9.279a1.254 1.254 0 0 1 0-2.508h.752a.752.752 0 0 0 .752-.752V6.518H7.022Z" fill="#992BFF"/></svg>';var Sus=dr({medium:uTs});var Rus=class{static G(a){O(a,{addText:jV.bound})}Tya(){this.V.track(dvg,{elementType:"line",kb:"click",qsa:"add",XLc:!1})}constructor(a,b,c,d,e){this.store=a;this.jc=b;this.Zc=c;this.oc=d;this.V=e;this.addText=(Rus.G(this),f=>{const g=this.store.jD?this.sZm(this.store.jD):void 0,{dimensions:h,attributes:k,m_:l,text:m=""}=g||{};let p;const {top:q,left:r,rQl:t}=f||{};h&&q&&r&&(p=t?{box:Yj({top:q,left:r,width:5,height:h.height/h.width*5})}:{box:Yj({top:q,left:r,width:h.width,height:h.height})});f=this.store.Hua?
t?"":m:L("7D/4Bg");return this.oc.addText(f,{Uc:"tools_tab_click",m_:l||"default"},l?{type:"v2",attrs:{...k,"text-align":"start"}}:void 0,{zQf:this.store.Hua},{...p}).then(u=>{this.V.track(dvg,{elementType:"text_box",kb:"click",qsa:"add",XLc:!1});return u})});this.h7c=f=>{var g;if(this.store.Pe){var h=((g=f.Bg)===null||g===void 0?void 0:g.type)==="text"?f.Bg:void 0;h&&(h.text.Ya.trim().length===0&&(h.text.Fua(`${L("WPMnRQ")}\n`),this.Zc.OY(this.store.Pe,h)),rA(this.jc,f,"all"))}};this.sZm=f=>{const g=
L("WPMnRQ"),{attributes:h,m_:k,dimensions:l}=__c.Fpe(this.oc,f,g);return{attributes:h,m_:k,dimensions:l,text:g}}}};var Qus=class{static G(a){O(a,{isActive:CV.ref,lCb:jV,Pe:pV,jD:pV})}lCb(a){this.isActive=a!==null&&a!==void 0?a:!1}get Hua(){return this.z2a&&Ic.zgb}get Pe(){const a=this.viewport.Zg;return a.type==="fixed-page"?a:void 0}get jD(){if(this.Pe)return this.Pe.ha}constructor(a,b){this.viewport=a;this.z2a=b;this.isActive=(Qus.G(this),!1)}};var Wus=new __c.ov({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.nv({d:"M32 0A32 32 0 1 0 32 64A32 32 0 1 0 32 0Z",fill:{...ss,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},Jp:64,zp:64,horizontal:1,vertical:1},fd:[{box:{top:6,left:6,width:52,height:52},LJ:4,dj:2}],sq:{JR:!1,u8:!1}}),Vus=new __c.ov({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.nv({d:"M0 0H64V64H0z",fill:{...ss,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},Jp:64,zp:64,
horizontal:1,vertical:1},fd:[{box:{top:0,left:0,width:64,height:64},LJ:4,dj:2}],sq:{JR:!1,u8:!1}});var lvs=JV(a=>gV(a.hl,{Icon:__c.H8g,label:a.$Va==="page"?L("Jtb4MA"):L("WikA8g")})),mvs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.H8g,label:L("l7115Q")})}),nvs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.F8g,label:L("PatQHw")})}),ovs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.L8g,label:L("etlgHg")})}),pvs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.N8g,label:L("Iwm8FQ")})}),qvs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.J8g,label:L("m9R5rA")})}),
rvs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.D8g,label:L("b6YrlQ")})});var kvs=class{static G(a){O(a,{GJa:jV.bound,ZGn:jV.bound})}GJa(a,b){const c=this.selection.La;c&&c.type==="elements"&&c.Ji()&&(dvs(this,a),this.LH(a,b))}ZGn(){const a=this.selection.La;if((a===null||a===void 0?0:a.elements)&&a.box&&a.Ji()){var b=a.elements;if(!(b.some(k=>k.type==="group")&&b.length>1)){var c=b[0].type==="group"?b[0]:void 0;b=c?c.nb.toArray():b;var d=c?Vj(0,0,c.eb,c.Ub):a.box;b=b.filter(k=>k.type==="text").filter(k=>k.rotation===d.rotation);var e=fvs(new Set(b.map(k=>k.writingMode||
1)));if(e!=null){e=__c.Xn(e);var f=gk(d),g=dk(d);for(const k of b){var h=Yj(k).transform(g).Lb();e?(h.left=0,h.width=d.width):(h.top=0,h.height=d.height);const l=k.eb&&k.eb/k.width,m=k.Ub&&k.Ub/k.height;h=Yj(h).transform(f).Lb();k.top=h.top;k.left=h.left;k.width=h.width;k.height=h.height;k.eb=l&&h.width*l;k.Ub=m&&h.height*m}if(c)this.Zc.Q3(a.container,c,b);else for(const k of b)this.Zc.OY(a.container,k)}}}}LH(a,b){var c;const d=this.selection.La,e=this.store.Ijc;e&&d&&d.type==="elements"&&((c=this.N)===
null||c===void 0||c.track(QQs,{dE:d.container.page.elements.count(),G$c:e.length,oD:e.map(f=>f.type).join(", "),Yp:0,Ur:0,anchor:a,kb:b}))}constructor(a,b,c,d,e){this.store=a;this.Hr=b;this.Zc=c;this.selection=d;this.N=e;kvs.G(this)}},hvs=class{static G(a){O(a,{Uul:pV})}get Uul(){return this.store.Hdg!=null}constructor(a,b){this.store=a;this.Xa=b;this.GJa=(hvs.G(this),c=>{this.Xa.XU(()=>{const d=this.store.Hdg;d&&evs(d,c)})});this.Kdq=()=>{this.Xa.XU(()=>{const c=this.store.gfh,d=this.store.Hdg;if(d&&
c)switch(c){case "center":evs(d,"left");break;case "left":evs(d,"right");break;case "right":evs(d,"center");break;default:throw new v(c);}})}}};var vTs=JV(a=>{const b=a.disabled,c=a.label,d=a.jm,e=a.Icon;a=a.onClick;const f=d&&!__c.$b();return gV(fj,{alignment:"start",variant:"secondary",disabled:b,onClick:a,icon:e,stretch:!0,children:nV(ir,{Fa:"start",tagName:"span",spacing:"1u",children:[gV(hr,{children:gV(P,{tone:lr,lineClamp:1,children:c})}),f&&gV(hr,{width:"content",children:gV(__c.Rc,{Nma:d,compact:!0})})]})})});var wTs=JV(a=>gV(S,{className:"_6NSm3Q RX4d5g SX2FBg",children:gV(or,{size:"xsmall",tone:"primary",id:a.id,children:a.text})}));var xTs=JV(a=>{var b=a.display;const c=a.title,d=a.KTc,e=a.children;a=(0,__c.rc)();b=gV(jr,{columns:2,Kua:b==="compact"?"0":"1u",PGa:"1u",role:"group",tagName:"section",Of:a,children:e});return c&&d?nV(Yc,{spacing:"1u",children:[gV(wTs,{text:c,id:a}),b]}):b});var svs=JV(a=>{const b=a.display;var c=a.$Va;const d=a.KTc,e=a.GJa,f=a.IXd,g=a.CXd,h=a.DXd,k=a.xXd,l=a.wXd;a=a.GXd;const m=kV(()=>e("top","toolbar"),[e]),p=kV(()=>e("left","toolbar"),[e]),q=kV(()=>e("middle","toolbar"),[e]),r=kV(()=>e("center","toolbar"),[e]),t=kV(()=>e("bottom","toolbar"),[e]),u=kV(()=>e("right","toolbar"),[e]);c=c?c==="page"?L("Jtb4MA"):L("WikA8g"):L("s8R+mQ");return nV(xTs,{display:b,title:c,KTc:d,children:[gV(vTs,{onClick:m,disabled:f,Icon:__c.N8g,label:L("Iwm8FQ")}),gV(vTs,{onClick:p,
disabled:g,Icon:__c.H8g,label:L("l7115Q")}),gV(vTs,{onClick:q,disabled:h,Icon:__c.J8g,label:L("m9R5rA")}),gV(vTs,{onClick:r,disabled:k,Icon:__c.F8g,label:L("PatQHw")}),gV(vTs,{onClick:t,disabled:l,Icon:__c.D8g,label:L("b6YrlQ")}),gV(vTs,{onClick:u,disabled:a,Icon:__c.L8g,label:L("etlgHg")})]})});var yTs,zTs,ATs,BTs,CTs,DTs,ivs;
new (yTs=class extends NV{constructor(){super(ivs);ATs()}},(()=>{class a extends(BTs=LV){static G(b){O(b,{onClick:jV.bound})}onClick(){var b,c;(b=(c=this.props).onClick)===null||b===void 0||b.call(c)}getIcon(b){switch(b){case "left":return __c.kcr;case "center":return __c.icr;case "right":return __c.mcr;default:throw new v(b);}}render(){const {xi:b,alignment:c,children:d,...e}=this.props,f=this.getIcon(c||"center");return gV(b,{...e,disabled:c==null,onClick:this.onClick,icon:f,yh:"icon",tooltip:L("V/DN5w"),
children:L("V/DN5w")})}constructor(...b){super(...b);a.G(this)}}({c:[ivs,ATs]}=PV(a,[],[Ob],BTs))})(),yTs);var jvs;
new (zTs=class extends NV{constructor(){super(jvs);CTs()}},(()=>{class a extends(DTs=LV){static G(b){O(b,{onChange:jV.bound})}onChange(b){this.props.GJa(b)}render(){return gV(S,{padding:"3u",paddingTop:"0",children:gV(__c.Ix,{value:this.props.alignment,onChange:this.onChange,options:[{label:gV(__c.kcr,{size:"medium"}),value:"left",ariaLabel:L("l7115Q")},{label:gV(__c.icr,{size:"medium"}),value:"center",ariaLabel:L("PatQHw")},{label:gV(__c.mcr,{size:"medium"}),value:"right",ariaLabel:L("etlgHg")}]})})}constructor(...b){super(...b);
a.G(this)}}({c:[jvs,CTs]}=PV(a,[],[Ob],DTs))})(),zTs);var ETs=class{static G(a){O(a,{Rua:CV.ref,HC:CV.ref,God:pV,$T:pV,VAk:pV,gpo:pV})}get God(){if(this.Ma.mode<40)return!1;const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "elements":var b;const c=a===null||a===void 0?void 0:(b=a.inner)===null||b===void 0?void 0:b.type;return c==="sheet"||c==="sheet-cell-media"?!1:this.ka.layout===1?!0:a.Ji();case "pages":return this.ka.layout===2||a.Od&&uf(a.Od)?!1:a.pages.length===1&&a.pages.every(d=>d.type!=="responsive");case "audio":return!1;
case void 0:return this.VAk;default:throw new v(a);}}get $T(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="elements"&&a.elements.every(b=>b.type==="line")?"start-and-end-points":"size-and-position"}get VAk(){const a=this.Rua,b=this.toolbar;return a!=null&&b.FZ(a)}get gpo(){const a=this.God,b=this.HC,c=this.VAk;return this.ka.layout===1&&a&&!(b==="layers"&&c)}constructor(a,b,c,d){this.selection=a;this.ka=b;this.toolbar=c;this.Ma=d;this.Rua=(ETs.G(this),void 0);this.HC="arrange"}};var FTs=class{static G(a){O(a,{C0e:jV.bound,fPi:jV.bound,hac:pV,YUc:jV.bound})}C0e(){this.store.HC="layers"}fPi(){this.store.HC="arrange"}get hac(){return this.store.Rua==null?!1:this.toolbar.FZ(this.store.Rua)}jC(){if(this.store.Rua!=null)return this.toolbar.vB(this.store.Rua)}lD(){if(this.store.Rua!=null)return this.toolbar.VX(this.store.Rua)}YUc(){const a=this.selection.La;this.N.track(SQs,{dE:(a===null||a===void 0?void 0:a.type)==="elements"?a.container.page.elements.count():0,G$c:(a===null||
a===void 0?0:a.elements)?a.elements.length:0,oD:(a===null||a===void 0?0:a.elements)?a.elements.map(b=>b.type).join(", "):"",Yp:0,Ur:0,te:this.store.HC})}constructor(a,b,c,d){this.store=a;this.selection=b;this.toolbar=c;this.N=d;FTs.G(this)}};var GTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.035 8.341c-.857-.257-1.356-.67-1.528-1.527a.187.187 0 1 0-.373 0c-.258.857-.67 1.356-1.528 1.527a.187.187 0 0 0 0 .374c.857.257 1.356.67 1.528 1.528a.187.187 0 0 0 .373 0c.258-.857.67-1.356 1.528-1.528a.187.187 0 1 0 0-.374ZM22.983 4.16c-2.034-.406-2.911-1.386-3.318-3.369a.25.25 0 0 0-.24-.188.25.25 0 0 0-.242.19c.004-.007-.005.004 0 0-.407 2.034-1.334 2.961-3.317 3.368a.254.254 0 1 0 0 .508c2.033.407 2.907 1.366 3.313 3.349a.25.25 0 0 0 .245.21.25.25 0 0 0 .243-.197c.003-.004-.003.005 0 0 .406-2.034 1.333-2.955 3.316-3.362a.254.254 0 1 0 0-.508Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.063 3H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h6.116a4 4 0 0 0 2.838-1.182l3.885-3.912A4 4 0 0 0 21 13.088V9.563h-1.5v2.224a1.25 1.25 0 0 1-1.25 1.23h-1.5a3.75 3.75 0 0 0-3.75 3.75v1.483c0 .69-.56 1.25-1.25 1.25H7A2.5 2.5 0 0 1 4.5 17V7A2.5 2.5 0 0 1 7 4.5h7.063V3Zm.827 15.761a2.5 2.5 0 0 1-.551.42c.104-.291.161-.604.161-.931v-1.483a2.25 2.25 0 0 1 2.25-2.25h1.5c.314 0 .616-.053.898-.15a2.493 2.493 0 0 1-.374.482l-3.884 3.912Z" fill="currentColor"/></svg>';var HTs=dr({medium:GTs});var lws=a=>{const {hl:b,Yf:c,...d}=a;return gV(b,{...d,Icon:c?HTs:__c.lfk,label:L("j0l+TQ")})},kws=class extends LV{static G(a){O(a,{Ltc:jV.bound,itc:jV.bound,zD:jV.bound,TZb:jV.bound})}Ltc(){this.props.Ltc();this.props.oa()}itc(){this.props.itc();this.props.oa()}zD(){this.props.zD();this.props.oa()}TZb(){this.props.TZb();this.props.oa()}render(){return nV(Zo,{role:"menu",className:"kiVd2Q",children:[this.props.lKd?gV(au,{onClick:this.Ltc,start:gV(__c.gHi,{size:"medium"}),children:L("OIpCMA")}):null,
gV(au,{onClick:this.itc,start:gV(__c.Xzh,{size:"medium"}),children:L("fiROpg")}),gV(au,{onClick:this.zD,start:gV(__c.kjg,{size:"medium"}),children:L("RLWDLA")}),gV(au,{onClick:this.TZb,start:gV(__c.VLr,{size:"medium"}),children:L("v++iLQ")})]})}constructor(...a){super(...a);kws.G(this)}};var iws=a=>gV(a.xi,{pressed:a.open,icon:a.Yf?HTs:void 0,yh:a.Yf?"icon-and-label":"label",onClick:a.onClick,children:L("j0l+TQ")}),jws=class extends LV{static G(a){O(a,{itc:jV.bound,zD:jV.bound,Ltc:jV.bound,TZb:jV.bound})}itc(){this.props.itc();this.props.oa()}zD(){this.props.zD();this.props.oa()}Ltc(){this.props.Ltc();this.props.oa()}TZb(){this.props.TZb();this.props.oa()}render(){return nV(Zo,{role:"menu",className:this.props.ka.layout===1?"_3gcOhg":void 0,children:[this.props.lKd?gV(this.q2l,{children:gV(au,
{onClick:this.Ltc,start:gV(__c.gHi,{size:"medium"}),children:L("OIpCMA")})}):null,gV(this.XWo,{children:gV(au,{onClick:this.itc,start:gV(__c.Xzh,{size:"medium"}),children:L("fiROpg")})}),gV(au,{onClick:this.zD,start:gV(__c.kjg,{size:"medium"}),children:L("RLWDLA")}),gV(au,{onClick:this.TZb,start:gV(__c.VLr,{size:"medium"}),children:L("v++iLQ")})]})}constructor(a){super(a);this.q2l=(jws.G(this),void 0);const b=this.props.tW;this.q2l=(a=this.props.lKd)&&b?c=>gV(b,{children:c.children}):c=>c.children;
this.XWo=!a&&b?c=>gV(b,{children:c.children}):c=>c.children}};var ITs={eventType:"magic_sort_interacted",Oa(a){return vf({control_context:a.kb,sort_type:a.K1b,status:a.status,failure_code:a.jJb,failure_reason:a.Hn,num_elements_selected:a.G$c,element_types:a.oD,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}};var JTs,KTs,LTs,dws=({title:a,message:b})=>{a=a!==null&&a!==void 0?a:L("TSfhVA");return gV(__c.od,{title:a,explanation:gV(()=>gV(P,{tone:"secondary",children:gV(__c.ok,{message:b})}),{}),button:{children:L("21qtHA")}})},Zvs;
new (JTs=class extends NV{constructor(){super(Zvs);KTs()}},(()=>{class a extends(LTs=LV){static G(b){O(b,{Hee:CV.ref})}componentDidMount(){this.handle=window.setInterval(jV(()=>this.Hee++),1E3)}componentWillUnmount(){window.clearInterval(this.handle)}render(){const {nib:b=this.nib,bRr:c}=this.props,d=1-Math.pow(1.5,-this.Hee);return gV(__c.Cr,{open:!0,children:gV(S,{padding:"2u",children:nV(Yc,{spacing:"2u",align:"center",children:[gV(or,{alignment:"center",children:L("dT7lrw")}),nV(Yc,{spacing:"1u",
children:[gV(__c.UC,{value:d*100}),gV(P,{alignment:"center",tone:"secondary",margins:"legacy",children:gV(__c.Mwm,{nib:b})})]}),gV(fj,{variant:"secondary",onClick:c,children:L("iIww4Q")})]})})})}constructor(...b){super(...b);this.nib=(Zvs.G(this),Math.floor(Math.random()*23));this.Hee=0}}({c:[Zvs,KTs]}=PV(a,[],[Ob],LTs))})(),JTs);var MTs=class{get(a,b){if(b.length&&!b.some(e=>!this.Dug.has(e))){var c=b.map(e=>this.Dug.get(e)).filter(tb),d=c.map(e=>new Set(e));c=new Set(c.flatMap(e=>e));for(const e of c)if(e.$rq===b.length&&d.every(f=>f.has(e)))if(Ivs(e,a))Fvs(this,b,e);else return e}}constructor(){this.Dug=new WeakMap}},Gvs=class{get $On(){return this.jAo}get pMd(){return this.dBo.map(a=>a.deref()).filter(tb)}set pMd(a){this.dBo=a.map(Jvs)}update(a,b){this.jAo=a;this.pMd=b;this.fqh=new WeakMap;b.forEach(c=>this.fqh.set(c,
c.text.Ya))}constructor(a,b,c,d){this.page=a;this.$rq=b;this.fqh=new WeakMap;this.dBo=[];this.jAo=d;this.pMd=c;c.forEach(e=>this.fqh.set(e,e.text.Ya))}};var fws=class{static G(a){O(a,{state:CV.ref,mGj:CV.ref,Rl:pV,wm:pV,sfh:pV,Mjh:pV,lKd:pV,hfe:pV,OQh:pV})}get Zg(){const a=this.ya.ow.Zg;oa(a.type!=="responsive-page");return a}get Rl(){const a=this.selection.La;if(a&&a.type==="elements"&&a.Ji())return a}get wm(){return this.Rl&&this.Rl.elements?this.Rl.elements:[]}get sfh(){const a=[],b=c=>{jk(c)?a.push(c):c.type==="group"&&c.nb.forEach(b)};this.wm.forEach(b);return a}get Mjh(){return this.sfh.length>=1}get lKd(){return this.X!=null}get hfe(){var a;
return(a=this.selection.La)===null||a===void 0?void 0:a.box}get OQh(){if(this.sfh.length===0)return{x:0,y:0};const a=this.sfh.flatMap(b=>Yj(b).oh());return __c.Wj(...a).tl}constructor(a,b,c){this.selection=a;this.ya=b;this.X=c;this.state=(fws.G(this),0)}};var Pvs=18*eu,Nvs=Pvs+16;var $vs={rs:3E4},Uvs=["#252627","#f6f7f8"],cws=["#ffffff","#0e1318"],hws=class{static G(a){O(a,{OSg:jV})}oOa(){this.store.mGj&&this.toolbar.vB(this.store.mGj)}async OSg(a,b,c){var d,e=(d=this.selection.La)===null||d===void 0?void 0:d.container;if((e===null||e===void 0?void 0:e.type)==="fixed-page"){d=e.page;c=c.map(k=>k.ugd);var f=this.knm.get(d,c);if(f&&this.document.pages.has(f.page)){var g,h;e=f.page.elements.filter(l=>f.pMd.some(m=>m===l));const k=If(this.document).tb(f.page);e.length>0&&((g=
(h=this.Ep).gwa)===null||g===void 0||g.call(h,e,k))}g=(f===null||f===void 0?0:f.$On)?Ej(this.store.OQh,f.$On):this.store.OQh;Tvs(b,g);a=await Wvs(this,a,b,g);Hvs(this.knm,c,a,Ej(this.store.OQh,g),d)}}get sxc(){const a=[],b=c=>{if(jk(c))c.rotation=0,a.push({ugd:c,z7n:[]});else if(c.type==="group"&&c.nb.filter(jk).length>0){const h=this.store.Zg;var d=c.rotation;c=h.Sf(c);if(c=__c.euf(this.VXa,[c])){({elements:c}=c.FNd());var e=[],f=[];c.forEach(k=>{jk(k)?e.push(k):f.push(k)});if(f.length){c=f.map(k=>
h.Sf(k));c=__c.duf(this.VXa,c,d);if(!c)return;c=c.group();if(c===null||c===void 0||!c.ha)return;e.push(c===null||c===void 0?void 0:c.ha)}this.store.selection.jed(h,...e);e.forEach(b)}}else{var g=0;for(const h of a){const k=Yj(h.ugd),l=Yj(c),m=Avs(k,l);wvs(k,l,m)&&g<=m&&(d=h,g=m)}d!=null&&d.z7n.push(c)}};this.store.wm.forEach(b);return a}ikh(){this.la.Ib({Cb:L("Of29Hg"),XV:!1})}Dmb(a){return this.P.sb("cluster_elements",{Fb:{name:"editor.editing.arrangement.clustering",type:a}})}LH(a,b){const c=this.store.Rl,
d=this.N;if(c!=null&&d!=null){var e={};c.elements.map(f=>{f=f.type;e[f]=(e[f]||0)+1});cp({mb:a.mb(),V:d,event:ITs,props:{...b,G$c:c.elements.length,oD:e.toString()}});a.ne()}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A){this.document=a;this.store=b;this.toolbar=c;this.selection=d;this.oc=e;this.Ep=f;this.VXa=g;this.nYe=h;this.gb=k;this.undo=l;this.rf=m;this.dg=p;this.errorService=q;this.la=r;this.N=t;this.P=u;this.iWg=w;this.Ea=x;this.alert=y;this.D4d=z;this.nBi=A;this.aPj=(hws.G(this),
new Map);this.knm=new MTs;this.itc=jV(async B=>{var D;if(this.store.state!==1){var G=this.Dmb("color"),I=this.undo.startBuffering(),K=this.sxc,M=await Yvs(this,"color",K);M=Mvs("color",this.rf,M,(D=this.store.hfe)===null||D===void 0?void 0:D.width);try{this.OSg("color",M,K),this.LH(G,{kb:B,K1b:"color",status:"succeeded"})}catch(N){this.LH(G,{kb:B,K1b:"color",status:"failed"}),this.errorService.pa(N,"Error sorting elements by color")}finally{uV(()=>I.stop())}}});this.zD=jV(async B=>{var D;if(this.store.state!==
1){var G=this.Dmb("author"),I=this.undo.startBuffering(),K=this.sxc,M=await Yvs(this,"author",K);M=Mvs("author",this.rf,M,(D=this.store.hfe)===null||D===void 0?void 0:D.width);try{await this.OSg("author",M,K),this.LH(G,{kb:B,K1b:"author",status:"succeeded"})}catch(N){this.LH(G,{kb:B,K1b:"author",status:"failed"}),this.errorService.pa(N,"Error sorting elements by author")}finally{uV(()=>I.stop())}}});this.Ltc=jV(async B=>{if(this.store.state!==1){var D=this.Dmb("topic"),G=this.undo.startBuffering();
try{const I=await aws(this);await uV(async()=>{if(I)switch(I.type){case "SUCCESS":var K,M,N=I.jnm,Q=I.qzn;const W=I.eOm;var R=I.rzn;const X=[];for(const Z of N)N=bws(this,Z.vMr),X.push({key:Z.XXp,sxc:N});Q=bws(this,[...Q,...(W||[])]);Q.length!==0&&X.push({key:R,sxc:Q});R=Mvs("topic",this.rf,X,(K=this.store.hfe)===null||K===void 0?void 0:K.width);await this.OSg("topic",R,this.sxc);this.LH(D,{kb:B,K1b:"topic",status:"succeeded"});(M=this.nBi)===null||M===void 0||M.call(this);await this.iWg();break;
case "FAILURE":ews(this,I);this.LH(D,{kb:B,K1b:"topic",status:"failed",jJb:I.error,Hn:I.message});break;default:throw new v(I);}})}catch(I){this.LH(D,{kb:B,K1b:"topic",status:"failed"}),this.ikh(),this.errorService.pa(I,"Error sorting elements by topic")}finally{uV(()=>{G.stop();this.store.state=0}),this.aPj.clear()}}});this.TZb=jV(async B=>{var D;if(this.store.state!==1){var G=this.Dmb("reaction"),I=this.undo.startBuffering(),K=this.sxc,M=await Yvs(this,"reaction",K);M=Mvs("reaction",this.rf,M,(D=
this.store.hfe)===null||D===void 0?void 0:D.width);try{await this.OSg("reaction",M,K),this.LH(G,{kb:B,K1b:"reaction",status:"succeeded"})}catch(N){this.LH(G,{kb:B,K1b:"reaction",status:"failed"}),this.errorService.pa(N,"Error sorting elements by reaction")}finally{uV(()=>I.stop())}}})}};var NTs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m19.48 10.82 1.7.83a1 1 0 0 1 0 1.8L15 16.49V14.8l4.6-2.26-1.82-.9 1.7-.83zm-14.96 0-1.7.83a1 1 0 0 0 0 1.8L9 16.49V14.8l-4.6-2.26 1.82-.9-1.7-.83zm8.23 9.5L15 18.07a.75.75 0 0 1 1.06 1.06l-2.83 2.83c-.68.68-1.79.68-2.47 0l-2.83-2.83a.75.75 0 0 1 1.06-1.06l2.26 2.26V6.9a.75.75 0 1 1 1.5 0v13.43zM15 11.35V9.68l4.6-2.27L12.66 4c-.42-.2-.9-.2-1.32 0L4.4 7.4 9 9.68v1.67L2.82 8.3a1 1 0 0 1 0-1.8l7.86-3.86a3 3 0 0 1 2.64 0l7.86 3.87a1 1 0 0 1 0 1.79L15 11.35z"/></svg>';var Wws=dr({medium:NTs});var OTs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 3.82v9.43a.75.75 0 1 1-1.5 0V3.81L8.99 6.07A.75.75 0 1 1 7.93 5l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 5A.75.75 0 0 1 15 6.07l-2.25-2.25zM15 8.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 8.49v1.67L4.4 12.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26V8.48zm4.48 7.34 1.7.83a1 1 0 0 1 0 1.8l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8l1.7-.83 1.7.83-1.82.9 6.94 3.41c.42.2.9.2 1.32 0l6.94-3.41-1.82-.9 1.7-.83z"/></svg>';var Yws=dr({medium:OTs});var PTs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 5.82v8.43a.75.75 0 1 1-1.5 0V5.81L8.99 8.07A.75.75 0 1 1 7.93 7l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 7A.75.75 0 0 1 15 8.07l-2.25-2.25zM15 10.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 10.49v1.67L4.4 14.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26v-1.67z"/></svg>';var Xws=dr({medium:PTs});var QTs=Yo("1"),Rws=JV(a=>gV(a.hl,{Icon:__c.wcr,label:L("T1qMzw")})),Sws=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:Xws,label:L("Pxfk5A")})}),Tws=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:Yws,label:L("pbaLlQ")})}),Vws=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:Wws,label:L("t3ZWGw")})}),Uws=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.Bcr,label:L("u+2kVg")})}),RTs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.wcr,label:L("1PXGVQ"),jm:QTs})});var Lws=class{static G(a){O(a,{akc:jV.bound})}akc(a,b,c){if(this.store.RN){var d=this.selection.La;if(d&&d.type==="elements"){var e=this.P.sb("element_z_index_changed",{Fb:{name:"editor.element_z_index_changed"}});switch(a){case "forward":if(c)nws(d,c);else{var f,g=d.elements;(c=(f=this.store.Gug)===null||f===void 0?void 0:f.next(g[g.length-1]))?nws(d,c):pws(this,d)}break;case "backward":c?ows(d,c):(f=d.elements,(c=(g=this.store.Gug)===null||g===void 0?void 0:g.previous(f[0]))?ows(d,c):qws(this,d));
break;case "front":pws(this,d);break;case "back":qws(this,d);break;default:throw new v(a);}this.LH(d,a,b,e)}}}LH(a,b,c,d){const e=a.elements,f={dE:a.container.page.elements.count(),G$c:e.length,oD:e.map(g=>g.type).join(", "),Yp:0,Ur:0,direction:b,kb:c};d.mb().nk(({Ii:g})=>{this.N.track(RQs,{...f,Rb:g()})});d.ne()}constructor(a,b,c,d){this.store=a;this.selection=b;this.N=c;this.P=d;Lws.G(this)}};var Nws=bl("]"),Ows=bl("["),Pws=bl(Yo("]")),Qws=bl(Yo("[")),Mws=JV(a=>{const b=a.bkq,c=a.Llq,d=a.Klq,e=a.oZr;return nV(xTs,{display:a.display,children:[gV(vTs,{className:"CLbnnA",onClick:()=>e("forward"),disabled:a.Ekq,Icon:Xws,label:L("Y8Drbw")}),gV(vTs,{className:"_4CQkCw",onClick:()=>e("backward"),disabled:b,Icon:__c.Bcr,label:L("LypM5g")}),gV(vTs,{onClick:()=>e("front"),disabled:c,Icon:Yws,label:L("SOg37g")}),gV(vTs,{onClick:()=>e("back"),disabled:d,Icon:Wws,label:L("r/JBnA")})]})});var Kws=class{static G(a){O(a,{RN:pV,Gug:pV,b4h:pV,a4h:pV,qig:pV,Urg:pV,Hrg:pV,KYf:pV,uOf:pV})}get RN(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"&&this.selection.La.Ji()}get Gug(){const a=this.selection.La;if(a&&a.type==="elements"){var b=a.box;return a.container.page.elements.XRa(c=>!!b&&b.intersects(Yj(c)))}}get b4h(){const a=this.uOf,b=this.selection.La;if(!b||b.type!=="elements")return!1;const c=b.elements.length;return a.indexOf(b.elements[0])===a.length-
c}get a4h(){const a=this.selection.La;if(!a||a.type!=="elements")return!1;const b=a.elements.length;return this.uOf.lastIndexOf(a.elements[b-1])===b-1}get qig(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ji()}get Urg(){return!this.qig||this.b4h}get Hrg(){return!this.qig||this.a4h}get KYf(){const a=this.selection.La;if(this.Ma.mode!==40||this.ka.layout!==2)return!1;switch(a===null||a===void 0?void 0:a.type){case "pages":return a.pages.every(b=>b.type!=="responsive");case "elements":return!0;
case "audio":case void 0:return!1;default:throw new v(a);}}get uOf(){const a=this.selection.La;if(!a||a.type!=="elements")return[];const b=a.box;return b?a.container.page.elements.filter(c=>b.intersects(Yj(c))):[]}constructor(a,b,c){this.selection=a;this.Ma=b;this.ka=c;Kws.G(this)}};var STs=JV(a=>gV(a.xi,{yh:"icon-and-label",icon:a.icon,pressed:a.open,disabled:a.disabled,onClick:a.onClick,children:a.label})),Zws=JV(a=>gV(STs,{...a,icon:Xws,label:L("Y8Drbw")})),$ws=JV(a=>gV(STs,{...a,icon:Yws,label:L("SOg37g")})),axs=JV(a=>gV(STs,{...a,icon:__c.Bcr,label:L("LypM5g")})),bxs=JV(a=>gV(STs,{...a,icon:Wws,label:L("r/JBnA")}));var Gws=JV(a=>gV(a.xi,{yh:"icon-and-label",icon:__c.wcr,pressed:a.open,onClick:a.onClick,children:L("rx7oXA")}));var TTs,UTs,VTs,WTs={type:"fixed",scale:1,yA:{OOa:0}},zws;
new (TTs=class extends NV{constructor(){super(zws);UTs()}},(()=>{class a extends(VTs=LV){static G(b){O(b,{s$a:pV,Eg:pV})}get s$a(){const b=this.props.gb.$k(this.props.page);return!Bg(b)}get Eg(){const b=this.props.gb.$k(this.props.page);oa(!Bg(b));return yg(4,b)}render(){var b=this.props.page,c=this.props.nd;const d=this.props.o6;var e=c;if(this.s$a){e=this.Eg.width;c=this.Eg.height;const f=this.$c.get();e*=f;c*=f}b=b.Jc.first();return gV("div",{style:{width:e,height:c},className:"U4ZyRw",children:this.s$a&&
b?gV(d,{fill:b,Gq:void 0,XRb:!0,Pc:WTs,nd:this.Eg.width,sf:this.Eg.height,$c:this.$c,axc:!1}):gV(__c.LFb,{origin:this.origin,zoom:this.zoom})})}constructor(...b){super(...b);this.origin=(zws.G(this),pV(()=>new Bj(0,0)));this.zoom=pV(()=>1);this.$c=pV(()=>this.props.nd/this.Eg.width)}}({c:[zws,UTs]}=PV(a,[],[Ob],VTs))})(),TTs);var XTs=iV(a=>{const {selected:b,ariaLabel:c,hb:d,children:e,badge:f,onContextMenu:g,...h}=a;a=!Ic.yba&&Wb();return gV("div",{className:GV("hiyW1Q","_7g14zg",{F00yww:a}),onContextMenu:g,children:nV(__c.Xu,{MAb:"compact",children:[gV(sr,{className:GV("TTS2mw",{F00yww:a,qJ7DdQ:b}),ariaLabel:c,hb:d,hk:"right",...h,children:e}),f]})})});var YTs,ZTs,$Ts,aUs,bUs,cUs,dUs,eUs=parseInt("36px",10)+2*parseInt("8px",10)+2*parseInt("2px",10),fUs=parseInt("8px",10)/2,gUs=parseInt("8px",10)*1.5,hUs=parseInt("8px",10)*2,Fws,iUs=class extends LV{componentDidMount(){Kb(this,[hV(()=>this.props.sVe.get(),a=>this.props.yql(a),{fireImmediately:!0}),hV(()=>this.props.wm.get(),()=>this.props.Dri(),{fireImmediately:!0})])}render(){const a=this.props.layout;var b=this.props.lTo;const c=this.props.hlp,d=this.props.t$i,e=this.props.Wqp,f=a===2?`${fUs}px ${gUs}px ${__c.ed().bottom+
gUs}px`:`${fUs}px ${hUs}px ${hUs}px`,g=this.Q4p(f);b=this.props.Au?gV(d,{Wbb:{A$a:"1u"},wD:eUs,vg:this.props.Au,Qkb:g,children:b&&gV(b,{})}):gV(e,{Wbb:{A$a:"1u",uEk:f},wD:eUs,children:b&&gV(b,{})});return nV("div",{className:GV("spuUow",{_2rV2dQ:a===2}),children:[gV(S,{padding:a===2?"1.5u":"2u",paddingTop:a===2?"0":"2u",children:gV(c,{})}),gV("div",{className:"_0M3pDA",children:b})]})}constructor(...a){super(...a);this.Q4p=b=>JV(({children:c})=>gV("div",{style:{padding:b},children:gV(Yc,{spacing:"1u",
children:c})}))}};({c:[Fws,$Ts]}=PV(iUs,[],[Ob],LV));$Ts();var Aws;
new (YTs=class extends NV{constructor(){super(Aws);aUs()}},(()=>{class a extends(bUs=LV){static G(b){O(b,{onClick:jV.bound,onMouseEnter:jV.bound,lZa:jV.bound,ariaLabel:pV,hb:pV,Icon:pV,$Pg:pV,eyk:pV})}onClick(b){this.props.onClick(b,this.props.element)}onMouseEnter(){this.props.onMouseEnter(this.props.element)}lZa(b){this.props.lZa(b,this.props.element)}get ariaLabel(){const b=this.props.element,c=this.props.y$h;return b.type==="text"&&b.text.Ya?b.text.Ya:c(b)}get hb(){const b=this.props.element;
if(this.$Pg)return L("riMK7g");if(b.type==="group")return b.wd?void 0:L("ZjDhTQ")}get Icon(){const b=this.props.element;if(this.$Pg){var c;return((c=b.ML)===null||c===void 0?0:c.p0c)?zcr:ey}switch(b.type){case "group":return b.wd||this.eyk?void 0:mIp}}get $Pg(){const b=this.props.element;return this.props.page.ha.locked||b.locked}get eyk(){const b=this.props.element;return b.type==="group"&&b.nb.count()>10}render(){const b=this.Icon,c=this.eyk,d=this.props.page,e=this.props.element,f=this.props.Nl,
g=this.props.cic;return gV(this.props.sfj,{selected:this.props.selected,ariaLabel:this.ariaLabel,hb:this.hb,UVk:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.onContextMenu,icon:b&&gV(b,{size:"medium"}),rgd:this.$Pg?null:gV(__c.P4g,{size:"medium"}),kd:c?jUs:e.width>0?gV(f,{element:e,page:d}):void 0,badge:this.$Pg||!g?null:gV(g,{ariaLabel:L("dfZFMw"),Ch:this.lZa})})}constructor(...b){super(...b);a.G(this)}}({c:[Aws,aUs]}=PV(a,[],[Ob],bUs))})(),
YTs);var jUs=gV("div",{className:"fCx1PA",children:gV("div",{className:"Kp8FKg VnXh5Q",children:gV(mIp,{size:"medium"})})}),Dws;
new (ZTs=class extends NV{constructor(){super(Dws);cUs()}},(()=>{class a extends(dUs=LV){static G(b){O(b,{onMouseEnter:jV.bound,lZa:jV.bound})}onMouseEnter(){this.props.onMouseEnter()}lZa(b){this.props.lZa(b)}render(){const b=this.props.page,c=this.props.onClick,d=this.props.onMouseLeave,e=this.props.onContextMenu,f=this.props.nTo,g=this.props.cic;return gV(this.props.sfj,{selected:this.props.selected,ariaLabel:L("AThZtQ"),hb:L("AThZtQ"),UVk:c,onMouseEnter:this.onMouseEnter,onMouseLeave:d,onContextMenu:e,
kd:gV(f,{page:b}),icon:gV(__c.pB,{size:"medium"}),badge:b.locked||!g?null:gV(g,{ariaLabel:L("dfZFMw"),Ch:this.lZa})})}constructor(...b){super(...b);a.G(this)}}({c:[Dws,cUs]}=PV(a,[],[Ob],dUs))})(),ZTs);
var Ews=class extends LV{static G(a){O(a,{onChange:jV.bound})}onChange(){return this.props.onChange()}get SSh(){return[{label:L("AlHQ5Q"),value:"all"},{label:L("kf4slw"),value:"overlapping"}]}render(){return gV(__c.Ix,{options:this.SSh,onChange:this.onChange,value:this.props.Gs})}constructor(...a){super(...a);Ews.G(this)}},Bws=JV(a=>{const b=a.kd,c=a.icon,d=a.rgd;return gV(XTs,{selected:a.selected,onClick:a.UVk,children:nV("div",{className:"_veUSQ",children:[gV("div",{className:GV("_8gxVPQ","kVC8Fw"),
children:d}),gV("div",{className:"tBy2_g",children:b}),c&&gV("div",{className:GV("_8gxVPQ","VYPvfg"),children:c})]})})}),Cws=JV(a=>{const b=a.kd,c=a.icon,d=a.rgd;return gV(XTs,{selected:a.selected,onClick:a.UVk,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,badge:a.badge,onContextMenu:a.onContextMenu,ariaLabel:a.ariaLabel,hb:a.hb,children:nV("div",{className:GV("h79xOQ","aOe0NQ"),children:[gV("div",{className:GV("_8gxVPQ","kVC8Fw"),children:d}),gV("div",{className:"tBy2_g",children:b}),c&&
gV("div",{className:GV("_8gxVPQ","VYPvfg"),children:c})]})})});var Hws=JV(a=>gV(__c.I8d,{onClick:a.onClick,children:a.KF==="single"?L("aAUSrg"):L("fFnlJA")})),Iws=JV(a=>gV(xV,{children:a.KF==="single"?L("rx7oXA"):a.wm.length>0?J("VHLDwQ",[a.wm.length]):J("VHLDwQ",[1])}));var tws={eventType:"editor_layers_panel_shown",Oa(a){return vf({action:a.action,control_context:a.kb,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},rws={eventType:"editor_layers_interacted",Oa(a){return vf({action:a.action,element_types:a.oD,num_layers_selected:a.ENr,selected_tab:a.HC,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var wws=class extends __c.E4g{static G(a){O(a,{EUk:jV.bound,kCo:jV.bound,CHn:jV.bound,VVk:jV.bound,owi:jV.bound})}EUk(a,b){const c=this.store.Pe,d=this.store.wm,e=this.store.fRe;if(c.type!=="responsive-page"){if(this.ka.layout===2&&e==="multi-select"&&d.length>0)return this.eHh(b);if(this.ka.layout===2||d.length===0||!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.selection.Kl(c,b),this.store.Yin&&a.detail===2&&this.rVl(),sws(this,"selected");if(a.shiftKey)return this.mrj(b);if(a.ctrlKey||a.metaKey)return this.eHh(b)}}EVf(a){const b=
this.store.Pe;b.type!=="responsive-page"&&this.selection.Kl(b,a)}kCo(){this.store.fRe=this.store.fRe==="single"?"multi-select":"single"}CHn(){uws(this,"shown")}VVk(a,b){a.preventDefault();b?this.store.wm.includes(b)||this.EVf(b):this.owi();requestAnimationFrame(()=>this.ih.onContextMenu(a,"layers_panel","right_click"));sws(this,"contextual_menu_opened")}mrj(a){const b=this.store.Pe,c=this.store.sVe;var d=this.store.wm;if(b.type!=="responsive-page"){var e=c.indexOf(a),f=Math.max(...d.map(h=>c.indexOf(h))),
g=new Set(c.slice(Math.min(f,e),Math.max(f,e)+1));this.selection.mc(b.page,a)?(d=d.filter(h=>h===a||!g.has(h)),this.selection.Kl(b,...d)):this.selection.jed(b,...g);sws(this,"selected")}}eHh(a){var b=this.store.Pe;b.type!=="responsive-page"&&(b=b.page,this.selection.mc(b,a)?this.selection.S9c(b,a):this.selection.ABd(b,a),sws(this,"selected"))}owi(){const a=this.store.Pe;a.type!=="responsive-page"&&(this.selection.wT(a.container,a.page),sws(this,"selected"))}rVl(){const a=this.store.Pe;if(a.type!==
"responsive-page"){var b=this.store.wm;if(b.length!==0){var c=this.viewport.jz();b=ck(0,b.map(Yj));var d=this.viewport.zoom.scale/this.viewport.cV("fit");d*=this.viewport.cV("fit");this.viewport.My(a.page,Math.min(c.width*.6/b.width,c.height*.6/b.height,d),{center:b.center(),animate:!0})}}}constructor(a,b,c,d,e,f,g,h){super(a);this.store=a;this.viewport=b;this.Cni=c;this.ka=d;this.selection=e;this.UR=f;this.ih=g;this.V=h;this.U2s=(wws.G(this),()=>{this.store.Gs=this.store.Gs==="overlapping"?"all":
"overlapping";this.Dri();sws(this,this.store.Gs==="overlapping"?"see_overlapping":"see_all")});this.yql=k=>{this.store.wjs=k};this.lZa=(k,l)=>{l&&k?this.store.wm.includes(l)||this.EUk(k,l):this.owi();sws(this,"contextual_menu_opened")};this.gUb=k=>{var l,m=this.store.Pe;if(m.type==="responsive-page")return!0;m=m.page;return m.locked?!0:this.selection.mc(m,k)?!((l=this.selection.La)===null||l===void 0?0:l.Ji()):k.locked};this.N2=k=>{const l=this.store.Pe;l.type!=="responsive-page"&&(this.selection.mc(l.page,
k)||this.selection.Kl(l,k))};this.onDrop=({item:k,trailing:l})=>{l?this.Cni.akc("backward","drag",k):this.Cni.akc("forward","drag",k);sws(this,"rearranged")};this.dfi=k=>{const l=this.store.Pe;l.type!=="responsive-page"&&this.UR.w_a({page:l.page,element:k})};this.Z3i=()=>{this.UR.w_a({page:void 0,element:void 0})};this.Dri=()=>{const k=this.store.tHi,l=this.store.wm;var m=this.store.sVe;this.store.SKh?(m.length>0&&this.mKk(m[m.length-1]),this.store.tHi=l):k===l?this.mKk(l[l.length-1]):((m=[...l].reverse().find(p=>
!k.includes(p)))&&this.mKk(m),this.store.tHi=l)}}};var vws=class extends __c.F4g{static G(a){O(a,{fRe:CV.ref,Gs:CV.ref,Pe:pV,Z6h:pV,Yin:pV,wm:pV,SKh:pV,sVe:pV,uOf:pV,items:pV,VK:pV.struct,Nfc:pV})}get Pe(){return this.ya.ow.Zg}get Z6h(){return this.Pe.page.type==="responsive"?[]:this.Pe.page.elements.toArray()}get Yin(){if(this.Pe.page.type==="responsive")return!1;const a=this.gb.$k(this.Pe.page);return Bg(a)}get wm(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"?this.selection.La.elements:[]}get tHi(){return this.t4l}set tHi(a){this.t4l=
a}get SKh(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="pages"&&!!this.selection.La.inner}set wjs(a){this.s4l=a}get sVe(){return this.isDragging||this.exk()?this.s4l:[...(this.Gs==="overlapping"?this.uOf:this.Z6h)].reverse()}get uOf(){if(this.SKh)return this.Z6h;const a=this.selection.La;if(!a||a.type!=="elements")return[];const b=a.box;return this.Z6h.filter(c=>!!b&&b.intersects(Yj(c)))}get items(){return this.sVe}get VK(){return this.wm}get Nfc(){return!this.isDragging&&
!this.n3d}constructor(a,b,c,d){super("vertical");this.ya=a;this.selection=b;this.gb=c;this.exk=d;this.fRe=(vws.G(this),"single");this.Gs="all";this.s4l=[];this.t4l=[]}};var yws=parseInt("36px",10),xws=parseInt("196px",10);var kUs=JV(a=>{const b=a.onClick,c=a.open,d=a.YUc;a=a.xi;const e=kV(()=>{b&&(b(),!c&&d())},[b,c,d]);return gV(a,{pressed:c,onClick:e,icon:__c.Dcr,yh:"label",children:L("AXgBkw")})}),lUs=JV(a=>{const b=a.F6f,c=a.coe,d=a.C6f;return gV(fo,{children:gV(S,{padding:"2u",className:"lvD6KQ",children:nV(Yc,{spacing:"2u",children:[gV(a.Q8f,{}),b&&gV(b,{}),c&&gV(c,{}),gV(d,{})]})})})}),mUs=JV(a=>{const b=a.Df;var c=a.Q8f;const d=a.F6f,e=a.coe;a=a.C6f;const f=(g,h)=>({yo:()=>g,na:()=>gV(S,{Kb:"2u",children:h})});
c=[f(L("6nsfUw"),gV(c,{})),d?f(L("V/DN5w"),gV(d,{})):null,e?f(L("2cZnyg"),gV(e,{})):null,f(L("Y2VUFg"),gV(a,{KTc:!1}))].filter(tb);return gV(b.F9,{items:c})}),nUs=a=>{const {pnj:b,xej:c,Qfj:d,wnj:e,xnj:f,Gkj:g,Hkj:h,gdj:k,hdj:l,ijj:m,$T:p,KTc:q=!0}=a;return nV(Yc,{spacing:"1u",children:[q&&gV(wTs,{text:L("Y2VUFg")}),nV(jr,{spacing:"1u",columns:3,Fa:"end",children:[p==="size-and-position"?gV(b,{}):gV(g,{}),p==="size-and-position"?gV(c,{}):gV(h,{}),gV(d,{}),p==="size-and-position"?gV(e,{}):gV(k,{}),
p==="size-and-position"?gV(f,{}):gV(l,{}),gV(m,{})]})]})},oUs=JV(({xi:a,...b})=>gV(a,{...b,yh:"icon-and-label",icon:__c.Dcr,tooltip:L("Y2VUFg"),children:L("Y2VUFg")})),pUs=JV(({C6f:a})=>gV(xV,{children:a&&gV(S,{padding:"2u",paddingTop:"0",children:gV(a,{KTc:!1})})})),qUs=JV(a=>{const b=a.C0e,c=a.Au,d=a.Gmp,e=a.R8f;return gV("div",{className:"GxR1sw",children:nV(__c.QA,{height:"fill",Z0a:a.HC,onSelect:a.YUc,children:[gV("div",{className:"rrwBLA",children:nV(__c.RA,{align:"stretch",children:[gV(__c.SA,
{id:"arrange",onClick:a.fPi,children:L("u+o8qg")}),gV(__c.SA,{id:"layers",onClick:b,children:L("upLrUg")})]})}),gV(__c.TA,{children:nV("div",{className:"LKB_7Q",children:[gV(__c.UA,{id:"arrange",children:gV(d,{})}),gV(__c.UA,{id:"layers",children:gV(e,{Au:c})})]})})]})})});var fxs=class extends LV{static G(a){O(a,{lFn:jV.bound,onChange:jV.bound,onBlur:jV.bound,onKeyDown:jV.bound})}lFn(){var a;const b=this.props.Gx,c=this.props.onFocus;c((b===null||b===void 0?void 0:b.toString())||"");(a=this.ref.current)===null||a===void 0||a.select()}onChange(a){this.props.onChange(a)}onBlur(){this.props.onBlur()}onKeyDown(a){if(a.key==="Enter"){var b;this.props.onBlur();(b=this.ref.current)===null||b===void 0||b.blur()}}render(){const a=this.props.value,b=this.props.Gx,c=this.props.focused,
d=this.props.disabled,e=this.props.unit,f=typeof b!=="undefined"?`${b===null||b===void 0?void 0:b.toString()}${e||""}`:"--";return gV(WA,{label:this.props.label,Fv:"small",control:g=>gV(__c.Ou,{...g,type:"text",inputMode:"decimal",ref:this.ref,disabled:d,value:c?a:f,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onFocus:this.lFn})})}constructor(...a){super(...a);this.ref=(fxs.G(this),MV())}};var exs=class{constructor(a,b,c){this.store=a;this.selection=b;this.update=c;this.onFocus=d=>{this.store.Zqb=d;this.store.value=d;this.store.focused=!0;this.store.wm=[];(d=this.selection.La)&&d.type==="elements"&&(this.store.wm=d.elements)};this.onBlur=()=>{const d=this.store.value,e=this.store.wm;this.Hyk(d)&&e&&e.length>0&&this.store.Zqb!==d&&(this.update(Number.parseFloat(d),e),this.store.Zqb="");this.store.focused=!1;this.store.wm=[]};this.onChange=d=>{d=d.trim();d!=="-"&&isNaN(Number(d))||(this.store.value=
d)};this.Hyk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d))}};var dxs=class{static G(a){O(a,{Zqb:CV.ref,value:CV.ref,focused:CV.ref,wm:CV.ref})}constructor(){this.Zqb=(dxs.G(this),"");this.value="";this.focused=!1;this.wm=[]}};var rUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v12.818l-1.5-1.5V13.75h-2.568l-1.5-1.5H19.5v-2.216l-2.448-2.811a.544.544 0 0 0-.684-.085.46.46 0 0 0-.101.087l-2.707 3.153-1.005-1.005 2.53-2.89c.115-.134.251-.252.406-.351.865-.552 2.09-.4 2.735.34L19.5 7.89V5a.5.5 0 0 0-.5-.5H7.682L6.182 3H19a2 2 0 0 1 2 2ZM9.068 12.25l1.5 1.5H4.5V19a.5.5 0 0 0 .5.5h11.318l1.5 1.5H5a2 2 0 0 1-2-2V6.182l1.5 1.5v4.568h.603l1.859-2.106.892.892-1.188 1.214h2.402Zm4.597 4.597-1.097-1.097H7a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .665-.403ZM5.53 4.47a.75.75 0 0 0-1.06 1.06l15 15a.75.75 0 1 0 1.06-1.06l-15-15Z" fill="currentColor"/></svg>';var Bxs=dr({medium:rUs});var qxs={eventType:"editor_element_line_positioned",Oa(a){return vf({start_x:a.Coa,start_y:a.Qsb,end_x:a.Nnb,end_y:a.Onb,original_start_x:a.v$r,original_start_y:a.w$r,original_end_x:a.Q9r,original_end_y:a.R9r,units:a.units,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}};var Cxs=class{static G(a){O(a,{position:pV.struct,VNh:pV,F6k:pV})}get position(){var a=this.selection.La;if(a&&a.type==="elements"){var b=a.elements;if(b.length!==0&&!b.some(c=>c.type==="line"))return a=this.gb.$k(a.container.page),hxs(a,b,ixs)}}get VNh(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ji()}get F6k(){var a,b;return!this.VNh||!!((b=this.selection.La)===null||b===void 0?0:(a=b.elements)===null||a===void 0?0:a.some(c=>c.type==="line"))}constructor(a,b){this.selection=a;this.gb=
b;Cxs.G(this)}};var Hxs=class{static G(a){O(a,{C7:pV.struct,E2a:pV.struct,Izl:pV,q4j:pV,$Nh:pV})}get C7(){return lxs(this,"start")}get E2a(){return lxs(this,"end")}get Izl(){var a;if(!this.$Nh)return!0;const b=(a=this.selection.La)===null||a===void 0?void 0:a.elements;return(a=b===null||b===void 0?void 0:b.filter(jxs))&&a.length!==0?a.some(c=>mxs(this,c,"start")):!0}get q4j(){var a;if(!this.$Nh)return!0;const b=(a=this.selection.La)===null||a===void 0?void 0:a.elements;return(a=b===null||b===void 0?void 0:b.filter(jxs))&&
a.length!==0?a.some(c=>mxs(this,c,"end")):!0}get $Nh(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ji()}constructor(a,b,c){this.selection=a;this.gb=b;this.re=c;Hxs.G(this)}};var uxs=class{static G(a){O(a,{QHn:jV.bound})}QHn(a,b,c){var d,e;const f=this.selection.La;if(f&&f.type==="elements"&&f.box&&this.store.VBj){var g=f.box.tl,h=f.box,k=f.elements,l=f.container,m=this.Hr.U1a(k);this.store.uQg=!0;var p=h.tl;(d=this.store.Aoa)===null||d===void 0||d.close();var {delta:q,XWi:r}=pxs(this.gb.$k(l.page).units,h.tl,a,b,this.Wj.NTc);r!=null&&this.p9?(a=new __c.rsg(h,p),this.store.Aoa=__c.Zkg(this.p9,a,l,k,()=>r)):this.store.Aoa=void 0;k={type:"translate",kj:Math.abs(q.x)>0,Cj:Math.abs(q.y)>
0};l=Hj(p,q);a=t=>{const {x:u,y:w}=Ej(t,p);m.translate(u,w);return h};a(l);(e=this.store.Aoa)===null||e===void 0||e.Nw(k,l,h,!1,a);this.IZr();this.y1g();nxs(this,g,f,c)}}constructor(a,b,c,d,e,f,g,h=750){this.store=a;this.selection=b;this.Hr=c;this.gb=d;this.Wj=e;this.p9=f;this.V=g;this.GHf=h;this.IZr=(uxs.G(this),Gb(jV(()=>{var k;(k=this.store.Aoa)===null||k===void 0||k.close();this.store.Aoa=void 0}),this.GHf));this.y1g=Gb(jV(()=>{this.store.uQg=!1}),this.GHf);this.hsc=()=>{var k,l;const m=this.selection.La;
m&&m.type==="elements"&&((l=this.V)===null||l===void 0||l.track(__c.Iph,{dE:m.container.page.elements.count(),xGa:(k=m.elements)===null||k===void 0?void 0:k.map(p=>p.type),menu:"nudge",Yp:0,Ur:0,Ey:0}))}}},oxs={[1]:{small:Ov(1,.1),large:Ov(1,1)},[2]:{small:Ov(2,.0625),large:Ov(2,1)},[3]:{small:Ov(3,1),large:Ov(3,10)},[4]:{small:1,large:10}};var Ixs=class{constructor(a,b,c,d,e,f){var g=pxs;this.Wj=a;this.store=b;this.selection=c;this.gb=d;this.Hr=e;this.N=f;this.dYq=g;this.wus=(h,k)=>{sxs(this,h,k,"start","x")};this.xus=(h,k)=>{sxs(this,h,k,"start","y")};this.uus=(h,k)=>{sxs(this,h,k,"end","x")};this.vus=(h,k)=>{sxs(this,h,k,"end","y")};this.IMr=(h,k,l,m)=>{if(!mxs(this.store,k,"end")){var p=kxs(this.store,k,"end");h=this.gb.$k(h).units;var {delta:q}=this.dYq(h,p,l,m,this.Wj.NTc);m=kxs(this.store,k,"start");var r=Hj(p,q);if(__c.Gj(m,
r)>=25)l=r;else{var t=Oj(-m.x,-m.y);q=t.invert();r=t.transformPoint(r);l==="left"||l==="right"?(t=Math.sqrt(25-r.y*r.y),l=q.transformPoint(new Bj(l==="left"?-t:t,r.y))):(t=Math.sqrt(25-r.x*r.x),l=q.transformPoint(new Bj(r.x,l==="up"?-t:t)))}k=new __c.FZd(k,this.Hr.re);k.setEndPoint(l);k.complete();rxs(this,h,m,p,m,l)}}}};var vxs=JV(a=>gV(a.xi,{pressed:a.open,onClick:()=>{const b=a.onClick,c=a.open,d=a.hsc;b&&(b(),!c&&d())},icon:__c.pps,yh:a.Yf?"icon-and-label":"label",children:L("aYsObw")})),wxs=JV(a=>{const b=a.PG;a=kV(()=>b("left"),[b]);const c=kV(()=>b("up"),[b]),d=kV(()=>b("down"),[b]),e=kV(()=>b("right"),[b]);return gV(S,{children:nV(jr,{spacing:"1u",columns:4,children:[gV(__c.wie,{onClick:a,speed:"fast",children:f=>gV(fj,{ariaLabel:L("qpV6YA"),icon:zr,stretch:!0,variant:"secondary",...f})}),gV(__c.wie,{onClick:c,
speed:"fast",children:f=>gV(fj,{ariaLabel:L("B5NX3g"),icon:QC,stretch:!0,variant:"secondary",...f})}),gV(__c.wie,{onClick:d,speed:"fast",children:f=>gV(fj,{ariaLabel:L("SzdIhw"),icon:$5g,stretch:!0,variant:"secondary",...f})}),gV(__c.wie,{onClick:e,speed:"fast",children:f=>gV(fj,{ariaLabel:L("1v1q7g"),icon:Xt,stretch:!0,variant:"secondary",...f})})]})})});var txs=class{static G(a){O(a,{uQg:CV.ref,VBj:pV})}get VBj(){const a=this.selection.La;return a==null||a.type!=="elements"?!1:!(!a.Ji()&&!a.elements.some(b=>__c.pGg(this.$X,b)))}constructor(a,b){this.selection=a;this.$X=b;this.uQg=(txs.G(this),!1);this.Aoa=void 0}};var Dxs=class{constructor(a,b,c,d){this.store=a;this.selection=b;this.gb=c;this.N=d;this.kj=(e,f)=>{if(this.store.VNh){var g=this.selection.La;if(g&&g.type==="elements"&&g.Ji()){var h=ub.direction===2,k=this.gb.$k(g.container.page);g=k.units;e=Ov(g,h?k.width-e:e);k=this.store.position;for(const l of f)f=Yj(l),f=f.translate(e-(h?f.tr.x:f.tl.x),0),l.left=f.Lb().left;yxs(this,g,k)}}};this.Cj=(e,f)=>{if(this.store.VNh){var g=this.selection.La;if(g&&g.type==="elements"&&g.Ji()){g=this.gb.$k(g.container.page).units;
var h=Ov(g,e);e=this.store.position;f.forEach(k=>{var l=Yj(k);l=l.translate(0,h-l.tl.y);k.top=l.Lb().top});yxs(this,g,e)}}}}},Axs=class{static G(a){O(a,{ZSk:jV.bound,bTk:jV.bound,PYj:pV,nWf:pV})}ZSk(){const a=this.selection.Jb;if((a===null||a===void 0?void 0:a.container.type)==="body"||(a===null||a===void 0?void 0:a.container.type)==="responsive-page"){var b=this.PYj;if(b){var c=this.Xa.kTd(a.container.text,b,{fyl:!0}),d=this.undo.startBuffering();try{const q=lif(this.Xa);this.Xa.mQ();const r=()=>
{q&&this.Xa.t_a(q);this.Jg.VQ()},t=a.container.type==="responsive-page"&&a.container.marker.Kg.ref;if(c||t){var e=(c===null||c===void 0?void 0:c.type)==="item"&&c.item.type==="break",f=e&&c.item.marker.Kg.ref;if(e&&!f){var g;const u=this.nU.Gwc(__c.dVc.snapshot(b),c.item.marker);(g=this.N)===null||g===void 0||g.track(v0g,{yEc:"page_break",ZVd:"cover_set",elementType:u.type,Uc:"contextual_menu"});this.selection.Vv(a.container,c.item);r()}else{var h=this.oc.addPageBreak({Uc:"contextual_menu"});if(h){var k;
const u=this.nU.Gwc(__c.dVc.snapshot(b),h.marker);(k=this.N)===null||k===void 0||k.track(v0g,{yEc:"page_break",ZVd:"cover_set",elementType:u.type,Uc:"contextual_menu"});this.selection.Vv(a.container,h);r()}}}else{var l;const u=a.container.marker,w=this.nU.Gwc(__c.dVc.snapshot(b),u);(l=this.N)===null||l===void 0||l.track(v0g,{yEc:"document",ZVd:"cover_set",elementType:w.type,Uc:"contextual_menu"});this.selection.Vv(a.container.KVb(u),w);r()}}finally{var m,p;d.stop();(m=(p=this.Hb.Rd).wBr)===null||
m===void 0||m.call(p)}}}}bTk(){const a=this.selection.Jb;var b=zxs(a);if(b){var c=b.yEc,d=b.OSa,e=b.ref;b=b.text;var f=this.undo.startBuffering();try{var g;const m=lif(this.Xa);__c.Vxf(e);switch(c){case "body":var h;(h=this.N)===null||h===void 0||h.track(v0g,{yEc:"document",ZVd:"cover_unset",elementType:d.type,Uc:"contextual_menu"});this.Xa.Qu(b,Rw.start());break;case "break":var k;if((a===null||a===void 0?void 0:a.type)===1&&((k=a.only)===null||k===void 0?void 0:k.type)==="break"){var l;(l=this.N)===
null||l===void 0||l.track(v0g,{yEc:"page_break",ZVd:"cover_unset",elementType:d.type,Uc:"contextual_menu"});const p=__c.hVc.snapshot(a.only);this.Xa.mQ();this.Xa.QKc(p)}break;default:throw new v(c);}this.Xa.QKc({...d,width:d.type==="design"&&((g=d.Yw)===null||g===void 0?void 0:g.type)==="sticky-scroll"?"100cqw":"100%"});m&&this.Xa.t_a(m)}finally{f.stop()}}}get PYj(){var a=this.selection.Jb;if((a===null||a===void 0?void 0:a.type)===1&&(a=a.only))return __c.Uxf(a)?a:void 0}get nWf(){if(!(this.Ma.mode<
40)){var a=this.selection.Jb;if((a===null||a===void 0?void 0:a.type)===1){if(zxs(a))return"unset";var b=this.PYj;if(b&&a.container.text&&(b=this.Xa.kTd(a.container.text,b,{fyl:!0}),a.container.type==="body"||a.container.type==="responsive-page")&&(Qb("38fa0627",!1)||!a.container.marker.Kg.ref&&!b||this.rHc&&(b===null||b===void 0?void 0:b.type)==="item"&&b.item.type==="break"&&!b.item.marker.Kg.ref))return"set"}}}constructor(a,b,c,d,e,f,g,h,k,l){this.oc=a;this.selection=b;this.Xa=c;this.Jg=d;this.nU=
e;this.Ma=f;this.undo=g;this.Hb=h;this.rHc=k;this.N=l;Axs.G(this)}};var sUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.318 7.758a.75.75 0 0 0-1.06 1.06l2.431 2.432H3a.75.75 0 0 0 0 1.5h5.69l-2.432 2.432a.75.75 0 0 0 1.06 1.06l3.359-3.358a1.25 1.25 0 0 0 0-1.768L7.318 7.758ZM17.742 7.758a.75.75 0 0 0-1.06 0l-3.359 3.358a1.25 1.25 0 0 0 0 1.768l3.359 3.358a.75.75 0 1 0 1.06-1.06l-2.433-2.434H21a.75.75 0 0 0 0-1.5h-5.688l2.43-2.43a.75.75 0 0 0 0-1.06Z" fill="currentColor"/></svg>';var Yxs=dr({medium:sUs});var tUs=(a,b)=>{try{b(a),a.complete()}catch(c){a.reset()}finally{a.destroy()}},Wxs=class{static G(a){O(a,{jwi:jV.bound,lBi:jV.bound,jBi:jV.bound,mBi:jV.bound,kBi:jV.bound,vqh:jV.bound})}jwi(){this.store.bkc=!this.store.bkc;this.store.Ygf||this.N.track(TQs,{action:this.store.bkc?"lock":"unlock"})}lBi(){Nxs(this.store.m0b,this.EPa,this.Vi)}jBi(){Oxs(this.store.m0b,this.EPa,this.Vi)}mBi(){Pxs(this.store.m0b,this.EPa,this.Vi)}kBi(){Qxs(this.store.m0b,this.EPa,this.Vi)}vqh(){this.selection.Jb&&this.q0.vqh()}Jdh(a,
b,c){var {diagonal:d}=__c.yee(this.gaa,[b]),e=this.selection.La;if(e&&e.type==="elements"){var f=e.container.page;if(d&&f){var g=Yj(b);d=Jxs(this,g);e=g.width;var h=g.height,k=g.c,l=g.tl;g=this.qe.r8a([b]);k=__c.Ufg(b,this.ncb)==="center"?k:l;f=this.viewport.fO(f);const {width:m,height:p}=Yj(b);b=b.type!=="group"||__c.Nqa(b)?8:30;a=Math.max(Math.max(Math.min(1,b/(Math.min(m,p)*f)),1E-14),a/(c==="x"?e:h));try{g.scale(__c.Tj(d.transformPoint(k),a))}finally{g.destroy()}}}}sdd(a,b,c){const d=c==="x",
e=c==="y";var f=Yj(b);const g=gk(f),h=Jxs(this,f);c=__c.Ufg(b,this.ncb);const k=h.transformPoint(c==="center"?f.c:d?f.Sb:f.t),l=h.transformPoint(d?f.r:f.b),m=g.then(h).transformPoint({x:d?a:f.width,y:e?a:f.height});switch(b.type){case "text":f=this.qe.MEc(b);const p=c==="center"?"center":Mxs(b.writingMode);tUs(f,q=>q.COb(p,a,{Hga:!1}));break;case "rect":b=this.qe.G0c(b);tUs(b,q=>q.uv(k,l,m,d,e));break;case "grid":b=this.qe.lmf(b);tUs(b,q=>q.uv(k,l,m,d,e));break;case "line":break;case "table":b=this.qe.xmf(b);
tUs(b,q=>{q.uv(k,l,m,d,e)});break;case "shape":b=this.qe.Ulc(b);tUs(b,q=>q.uv(k,l,m,d,e));break;case "chart":if(c=this.qe.fng(b))tUs(c,q=>q.uv(k,l,m,d,e));else{c=Yj(b).uv(k,l,m,d,e,5,5);const {top:q,left:r,width:t,height:u}=c.Lb();b.top=q;b.left=r;b.width=t;b.height=u}break;case "group":if(f=__c.oce(b)){b=this.qe.gog(b);const q=c==="center"?"center":Mxs(f);tUs(b,r=>r.COb(q,a,{Hga:!1}))}else b=this.qe.mmf(b),tUs(b,q=>q.uv(k,l,m,d,e));break;case "embed":b=this.qe.ung(b);tUs(b,q=>q.uv(k,l,m,d,e));break;
case "sheet":b=this.qe.bog(b);tUs(b,q=>q.uv(k,l,m,d,e));break;case "layout":b=this.qe.omf(b);tUs(b,q=>q.uv(k,l,m,d,e));break;case "controlled":b=this.qe.emf(b);tUs(b,q=>q.uv(k,l,m,d,e));break;default:throw new v(b);}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r=750){this.store=a;this.q0=b;this.selection=c;this.qe=d;this.gaa=e;this.EPa=f;this.Vi=g;this.gb=h;this.ncb=k;this.N=l;this.Wj=m;this.viewport=p;this.tud=q;this.GHf=r;this.gYr=(Wxs.G(this),(t,u)=>{var w=this.selection.La;if(w&&w.box&&w.Ji()&&w.type===
"elements"&&w.Od){if(w.Od.type==="line")this.store.G5d=!0,this.tud.IMr(w.container.page,w.Od,t,u);else{var x=w.box,y=w.container.page,z=w.Od;w=w.elements;var A=this.store.size,B=t==="down"||t==="up"?"y":"x",D=B==="x"?x.r:x.b;this.store.G5d=!0;x=x.rotation===0?D:dk(x).transformPoint(D);y=this.gb.$k(y).units;({delta:t}=pxs(y,x,t,u,this.Wj.NTc));u=B==="x"?z.width:z.height;Kxs(this,z,B)&&(this.sdd(u+t[B],z,B),Lxs(this,w,y,A===null||A===void 0?void 0:A.width,A===null||A===void 0?void 0:A.height))}this.y1g()}});
this.resizeTo=(t,u,w)=>{var x=this.selection.La;if(x&&x.Ji()&&x.type==="elements"){x=this.gb.$k(x.container.page).units;t=Ov(x,t);var y=this.store.size;if(this.store.GSd)for(const z of u)this.Jdh(t,z,w);else for(const z of u)Kxs(this,z,w)?this.sdd(t,z,w):this.Jdh(t,z,w);Lxs(this,u,x,y===null||y===void 0?void 0:y.width,y===null||y===void 0?void 0:y.height)}};this.y1g=Gb(jV(()=>{this.store.G5d=!1}),this.GHf)}},Uxs=class{static G(a){O(a,{vqh:jV.bound,lBi:jV.bound,jBi:jV.bound,mBi:jV.bound,kBi:jV.bound})}vqh(){var a=
this.store.m0b;if(a!==null&&a!==void 0&&a.item){a=a.item;var b=__c.pce(a);if(b){var c={oD:[a.type],Uc:"contextual_menu",nPn:a.width,mPn:a.maxWidth};if(a.width==="100cqw"){if(a.width="100%",a.minWidth=void 0,a.maxWidth=void 0,a.xBa=void 0,a.alignment="50%",a.type==="layout")switch(a.eb){case "100%":break;case "100cqw":a.eb="100%";break;default:a.a1!=="100%"&&(a.eb="100%",a.a1=void 0,a.Sca=void 0,a.xBa=void 0)}}else a.width="100cqw",a.minWidth=b==="inset"?"100%":void 0,a.maxWidth=b==="inset"?"100cqw":
void 0,a.xBa=b==="inset"?"48px":void 0,a.alignment="50%";this.N.track(__c.$Oh,{...c,DLm:a.width,CLm:a.maxWidth})}}}lBi(){Nxs(this.store.m0b,void 0,this.Vi)}jBi(){Oxs(this.store.m0b,void 0,this.Vi)}mBi(){Pxs(this.store.m0b,void 0,this.Vi)}kBi(){Qxs(this.store.m0b,void 0,this.Vi)}constructor(a,b,c){this.store=a;this.N=b;this.Vi=c;Uxs.G(this)}};var Xxs=a=>{const b=a.GSd,c=a.Ygf,d=a.jwi;return gV(Yc,{spacing:"0.5u",children:gV(WA,{label:a.label,Fv:"small",control:e=>gV(fj,{...e,variant:"secondary",alignment:"center",stretch:!0,icon:b?ey:pKh,active:b,disabled:c,onClick:d})})})};var Vxs=class{static G(a){O(a,{G5d:CV.ref,bkc:CV.ref,size:pV.struct,aspectRatio:pV,Qog:pV,Mdh:pV,Ndh:pV,x5m:pV,RPo:pV,GSd:pV,ajf:pV,Ygf:pV,SPo:pV,y5m:pV,m0b:pV,Gre:pV})}get size(){var a=this.selection.La;if(a&&a.type==="elements"&&a.elements.length!==0){var b=a.elements,c=b[0].height,d=b[0].width,e=b.every(f=>JTi(f.height,c));b=b.every(f=>JTi(f.width,d));a=this.gb.$k(a.container.page).units;return{height:e?LTi(xg(4,a,c),a):void 0,width:b?LTi(xg(4,a,d),a):void 0}}}get aspectRatio(){if(this.size){var a=
this.size.height,b=this.size.width;if(a&&b)return a/b}}get Qog(){var a,b;if((a=this.rpk)===null||a===void 0?0:a.focused)return"height";if((b=this.sUl)===null||b===void 0?0:b.focused)return"width"}get Mdh(){var a=this.selection.La;if(this.sUl&&a&&a.type==="elements"){a=this.gb.$k(a.container.page).units;var b=Number.parseFloat(this.sUl.value);if(this.Qog==="width"&&this.aspectRatio!=null&&!isNaN(b))return LTi(b*this.aspectRatio,a)}}get Ndh(){var a=this.selection.La;if(this.rpk&&a&&a.type==="elements"){a=
this.gb.$k(a.container.page).units;var b=Number.parseFloat(this.rpk.value);if(this.Qog==="height"&&this.aspectRatio!=null&&!isNaN(b))return LTi(b/this.aspectRatio,a)}}get x5m(){var a;return this.bkc&&this.Qog==="width"?this.Mdh:(a=this.size)===null||a===void 0?void 0:a.height}get RPo(){var a;return this.bkc&&this.Qog==="height"?this.Ndh:(a=this.size)===null||a===void 0?void 0:a.width}get GSd(){return this.Gre.diagonal?this.Ygf||this.bkc:!1}get ajf(){const a=this.selection.La;return!!a&&a.type==="elements"&&
a.Ji()}get Ygf(){if(!this.ajf)return!0;const a=this.Gre.horizontal,b=this.Gre.diagonal;return!this.Gre.vertical&&!a||!b}get SPo(){if(!this.ajf)return!1;const a=this.Gre.horizontal;return this.GSd||a}get y5m(){if(!this.ajf)return!1;const a=this.Gre.vertical;return this.GSd||a}get m0b(){if(this.selection.Jb)return this.r0.m0b;var a=this.selection.La;if(a&&(a.type==="elements"||a.type==="pages")&&a.inner)switch(a.inner.type){case "sheet":switch(a.type){case "elements":var b=a.inner.sheet.config;break;
case "pages":b=a.inner.page.sheet;break;default:throw new v(a);}return Sxs(b,a.inner.rows,a.inner.columns);case "table":b=a.inner.cells;var c=a.inner.container.container.Sf(a.inner.table);const d=c.ha;a=new Set(kNe(d,b));b=new Set(lNe(d,b));c={type:"table",table:d,rows:a,columns:b,D_i:c};return{Qdd:a.size>1?c:void 0,U_c:b.size>1?c:void 0,Rdd:c,V_c:c};case "sheet-cell-media":case "grid":case "layout":case "layout-cell":case "shape":case "group":case "background":case "pages":break;default:throw new v(a.inner);
}}get Gre(){var a;const b=((a=this.selection.La)===null||a===void 0?void 0:a.elements)||[];if(b.length===0)return{vertical:!1,horizontal:!1,diagonal:!1};if(b.length>1)return a=b.map(f=>__c.yee(this.gaa,[f])),{diagonal:a.some(f=>f.diagonal!=null),vertical:a.some(f=>f.vertical!=null),horizontal:a.some(f=>f.horizontal!=null)};const {vertical:c,horizontal:d,diagonal:e}=__c.yee(this.gaa,b);return{vertical:!!c,horizontal:!!d,diagonal:!!e}}constructor(a,b,c,d,e,f){this.r0=a;this.selection=b;this.gb=c;this.gaa=
d;this.rpk=e;this.sUl=f;this.G5d=(Vxs.G(this),!1);this.bkc=!1}},Txs=class{static G(a){O(a,{m0b:pV})}get m0b(){var a=this.selection.Jb;if(!(this.Ma.mode<=30)&&a)switch(a.type){case 1:if(!a.only||a.container.type==="marker"||a.container.type==="section-marker")break;if(a=Rxs(a.only))return{item:a};break;case 4:return Sxs(a.container.sheet.config,a.rows,a.columns);case 2:if(a=Rxs(a.container.table))return{item:a};break;case 3:if(a=Rxs(a.container.layout))return{item:a};break;case 0:case 5:break;default:throw new v(a);
}}constructor(a,b){this.Ma=a;this.selection=b;Txs.G(this)}};var cys=class{constructor(a,b,c,d){this.store=a;this.yua=b;this.selection=c;this.N=d;this.GHf=750;this.Pys=(e,f)=>{var g=this.selection.La;if(g&&g.Ji()){g=f.slice().sort(h=>h.type==="line"?-1:1);f=this.store.rotation;for(const h of g){const k=__c.Qee(this.yua,[h]),l=Yj(h),m=Aj(e-l.rotation);try{k.rotate(Sj(l.c,m))}finally{k.destroy()}}e=g.map(h=>h.type);ays(this,f,e,"position_panel")}};this.hYr=(e,f)=>{this.store.UQg=!0;this.Nys((f==="small"?1:15)*(e==="right"?1:-1));this.y1g()};this.Nys=e=>{var f=
this.selection.La;if(f&&f.box&&f.elements&&f.Ji()){var g=__c.Qee(this.yua,f.elements),h=Aj(e);e=this.store.rotation;try{g.rotate(Sj(f.box.c,h))}finally{g.destroy()}f=f.elements.map(k=>k.type);ays(this,e,f,"shortcut")}};this.y1g=Gb(jV(()=>{this.store.UQg=!1}),this.GHf)}};var bys=class{static G(a){O(a,{UQg:CV.ref,rotation:pV,disabled:pV})}get rotation(){var a,b=((a=this.selection.La)===null||a===void 0?void 0:a.elements)||[];if(b.length!==0){var c=b[0].rotation;a=b.every(d=>JTi(d.rotation,c));b=gWa(c);return a?__c.KTi(b,1):void 0}}get disabled(){const a=this.selection.La;return a!=null&&a.type==="elements"&&a.Ji()?a.elements.some(b=>b.type==="line"&&b.geometry.ref!=null||__c.pGg(this.$X,b)):!0}constructor(a,b){this.selection=a;this.$X=b;this.UQg=(bys.G(this),!1)}};var uUs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3.75 5.25h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm0 12h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5zM9 9h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm.5 1.5v3h5v-3h-5z"/></svg>';var vUs=dr({medium:uUs});var tys=class extends hRs{get Icon(){var a=this.props.T0s;switch(a){case "horizontal":a=__c.a8q;break;case "vertical":a=__c.mCj;break;case "grid":case void 0:a=__c.ozr;break;default:throw new v(a);}return a}render(){return gV(this.props.hl,{Icon:this.Icon,label:L("8xqoHg")})}},uys=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:vUs,label:L("sQreSg")})}),vys=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.tjr,label:L("uYksAA")})});var sys=class{static G(a){O(a,{AUe:jV.bound})}AUe(a,b){var c=this.store.$lh;if(c&&!(c.length<3)){var {LEe:d,middle:e,spacing:f}=kys(c,a);c=d;for(const {element:g,box:h}of e)switch(a){case "vertical":c=mys(this,g,"top",c+f-(h.t.y-g.top));c=Xj(c).b.y;break;case "horizontal":c=mys(this,g,"left",c+f-(h.Sb.x-g.left));c=Xj(c).r.x;break;default:throw new v(a);}}this.LH(a,b)}LH(a,b){var c,d=this.selection.La;if(d&&d.type==="elements"){var e=d.elements;d=d.container.page;(c=this.N)===null||c===void 0||c.track(__c.oXi,
{dE:d.elements.count(),G$c:e.length,oD:e.map(f=>f.type).join(", "),Yp:0,Ur:0,axis:a,kb:b})}}constructor(a,b,c,d){this.store=a;this.Hr=b;this.selection=c;this.N=d;sys.G(this)}};var wys=class extends hRs{static G(a){O(a,{xGn:jV.bound,LMn:jV.bound})}xGn(){return this.props.AUe("horizontal")}LMn(){return this.props.AUe("vertical")}render(){const a=this.props.KTc,b=this.props.Slj,c=this.props.Dlq,d=this.props.Elq;return nV(xTs,{display:this.props.display,title:L("8xqoHg"),KTc:a,children:[gV(vTs,{onClick:this.LMn,disabled:d,Icon:vUs,label:L("sQreSg")}),gV(vTs,{onClick:this.xGn,disabled:c,Icon:__c.tjr,label:L("uYksAA")}),gV(b,{})]})}constructor(...a){super(...a);wys.G(this)}};var rys=class{static G(a){O(a,{$lh:pV({equals:oV.shallow}),Rei:pV,Ifh:pV.struct})}get $lh(){const a=this.Imd.Ijc;if(a&&!(a.length<3))return a}get Rei(){return this.$lh==null}get Ifh(){if(this.$lh){var a=this.$lh;if(a.length<3)var b={Sxk:!0,oBk:!0};else{var {LEe:c,middle:d,xni:e,spacing:f}=kys(a,"vertical");b=d[d.length-1].box.b.y-e;b=lys(c-d[0].box.t.y+f)&&lys(b+f);for(var g=1;g<d.length&&b;g++)b=lys(d[g-1].box.b.y-d[g].box.t.y+f);var {LEe:h,middle:k,xni:l,spacing:m}=kys(a,"horizontal");a=k[k.length-
1].box.r.x-l;a=lys(h-k[0].box.Sb.x+m)&&lys(a+m);for(g=1;g<k.length&&a;g++)a=lys(k[g-1].box.r.x-k[g].box.Sb.x+m);b={oBk:b,Sxk:a}}return b}}constructor(a){this.Imd=a;rys.G(this)}};var xys=JV(({xi:a,...b})=>gV(a,{...b,yh:"icon-and-label",icon:__c.mCj,tooltip:L("8xqoHg"),children:L("8xqoHg")})),yys=JV(({coe:a})=>gV(xV,{children:a&&gV(S,{padding:"2u",paddingTop:"0",children:gV(a,{})})}));var oys=Yo(Xo("t")),pys=class extends hRs{static G(a){O(a,{onClick:jV.bound})}onClick(){return this.props.onClick()}get vvp(){var a=this.props.type;switch(a){case "horizontal":a=__c.a8q;break;case "vertical":a=__c.mCj;break;case "grid":case void 0:a=__c.ozr;break;default:throw new v(a);}return a}render(){return gV(vTs,{onClick:this.onClick,disabled:this.props.disabled,Icon:this.vvp,label:L("WLw+ig")})}constructor(...a){super(...a);pys.G(this)}};var nys=class extends hRs{get Icon(){var a=this.props.type;switch(a){case "horizontal":a=__c.a8q;break;case "vertical":a=__c.mCj;break;case "grid":case void 0:a=__c.ozr;break;default:throw new v(a);}return a}render(){const {hl:a,...b}=this.props;return gV(a,{...b,Icon:this.Icon,label:L("WLw+ig")})}};var wUs='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.992 6.564 3.697 7.859a.2.2 0 0 0 0 .282l1.295 1.295a.2.2 0 0 0 .341-.141v-2.59a.2.2 0 0 0-.341-.141ZM9.436 4.992 8.141 3.697a.2.2 0 0 0-.282 0L6.564 4.992a.2.2 0 0 0 .141.341h2.59a.2.2 0 0 0 .141-.341ZM6.564 11.008l1.295 1.295a.2.2 0 0 0 .282 0l1.295-1.295a.2.2 0 0 0-.141-.341h-2.59a.2.2 0 0 0-.141.341ZM11.008 9.436l1.295-1.295a.2.2 0 0 0 0-.282l-1.295-1.295a.2.2 0 0 0-.341.141v2.59a.2.2 0 0 0 .341.141Z" fill="currentColor"/></svg>';var xUs=parseInt("24px",10)/2,yUs=pV(()=>"_3EfNLg"),zUs=JV(({uGc:a,isVisible:b,Ls:c,PG:d,qx:e})=>{var f=a.left+a.width/2;a=a.top+a.height/2;const g=DV(()=>{let h;return{onDragStart:k=>{h={x:k.clientX,y:k.clientY};c()},pe:k=>{d(Ej({x:k.clientX,y:k.clientY},h))},onDragEnd:()=>{h=void 0;e()},focusable:!0}},[c,d,e]);return gV("div",{className:GV("_8QFrRw",{rYmI2Q:b===!1}),style:{top:a-xUs,left:f-xUs},children:gV(__c.nvh,{onDragStart:g.onDragStart,pe:g.pe,onDragEnd:g.onDragEnd,Cob:"floating",hk:"top",
Uwd:wUs,fIa:yUs,size:"small"})})}),BUs=JV(({uGc:a,isVisible:b})=>gV(AUs,{uGc:a,className:b?"NGbfTA":"MiQ9kA"})),CUs=JV(({uGc:a,isVisible:b})=>gV(AUs,{uGc:a,className:b?"_2lVj2Q":"MiQ9kA"})),AUs=JV(({uGc:a,className:b})=>{const c=DV(()=>a.Lb(),[a]);return gV("div",{className:b,style:{...c,transformOrigin:"center",transform:`rotate(${c.rotation}deg)`}})}),DUs=JV(a=>{const b=a.RWs,c=a.CPb,d=a.Ztp,e=a.scale,f=a.container;a=DV(()=>f===null||f===void 0?void 0:f.Lb(),[f]);return gV("div",{className:"jNA72g",
style:{height:a===null||a===void 0?void 0:a.height,width:a===null||a===void 0?void 0:a.width,transformOrigin:"center",transform:`rotate(${-1*((a===null||a===void 0?void 0:a.rotation)||0)}deg)`},children:b.map((g,h)=>gV(d,{el:g,CPb:c,scale:e,container:f},h))})});var EUs=class{static G(a){O(a,{ani:CV.ref,sNl:jV})}d_i(a){if(a.elements.length===0)this.sNl(void 0,"");else{var b=Eys(a);if(this.ani&&this.i4l===b)return this.ani;var c=ck(0,[Yj(a.elements[0])]),d=Oj(-c.tl.x,-c.tl.y);a=a.elements.map(e=>ck(0,[Yj(e)]).transform(d));this.sNl(a,b);return a}}sNl(a,b){this.ani=a;this.i4l=b}constructor(){this.ani=(EUs.G(this),void 0);this.i4l=""}};var FUs=class{static G(a){O(a,{bcb:CV.ref})}set WEd(a){this.q$r=a;a!=null?(this.M1k=rd(a,b=>b.container),this.gPn=[...this.M1k.values()]):this.gPn=this.M1k=void 0}get WEd(){return this.q$r}get $Ci(){return this.gPn}get P9r(){return this.M1k}constructor(){this.bcb=(FUs.G(this),void 0);this.Slg=new Map}},GUs=class{static G(a){O(a,{Rhe:pV,d_i:pV,CPb:pV,Bin:pV,pGn:jV.bound,onDragStart:jV,F2s:jV.bound,pe:jV,onDragEnd:jV.bound})}setState(a){this.store.bcb=a}get Rhe(){const a=this.selection.La;this.span&&
(this.span.end(),this.span=void 0,this.XCe=0);if((a===null||a===void 0?void 0:a.type)==="elements"&&!(a.elements.length<=1||a.elements.find(b=>b.rotation%90!==0||this.vc.$q({element:b,container:a.container})||b.type==="line")))return a}get d_i(){const a=this.Rhe;if(a!=null)return this.Wgs.d_i(a)}get CPb(){var a,b=this.d_i;const c=this.store.bcb;if(b!=null){if((c===null||c===void 0?void 0:c.CPb)!==void 0)return c.CPb;this.span&&(this.span.end(),this.span=void 0,this.XCe=0);this.span=this.P.sb("swap_elements");
b=this.pjq(b);(a=this.span)===null||a===void 0||a.addEvent("compute-swap-type");return b}}get Bin(){return this.store.bcb!=null}Kga(){var a,b;(a=(b=this.store).Kga)===null||a===void 0||a.call(b);this.store.Kga=void 0}pGn(a){var b;a===((b=this.store.bcb)===null||b===void 0?void 0:b.Puc)&&this.Kga()}onDragStart(a,b){Zk(this.mh,c=>Qys(this,a,b,c))}F2s({className:a,enabled:b}){b?this.canvas.Yza=a:this.canvas.Yza===a&&(this.canvas.Yza=void 0)}cke(a){const b=this.store.bcb;if(b!=null)try{for(const [c,d]of b.MYg)if(c===
b.Puc&&a!=null)Rys(this,c,a.y-c.height/2,a.x-c.width/2);else{const e=d.Lb();Rys(this,c,e.top,e.left)}}catch(c){this.CL()}}EBa(){const a=this.store.bcb,b=a===null||a===void 0?void 0:a.dragOffset;if(a!=null&&b!=null)try{const c=[...a.MYg.keys()];this.Hr.U1a(c).translate(b.x,b.y)}catch(c){this.CL()}}pe(a,b,c){var d;const e=this.store.bcb,f=this.store.hPn;var g=this.store.WEd;if((e===null||e===void 0?void 0:e.Puc)==null)this.Kga(),this.CL();else if((e===null||e===void 0?void 0:e.Puc)===a){b=Pj(1/c).transformPoint(b);
g=Hj(g.get(a).Icg.c,b);c=f.indexOf(a);if(c===-1)throw Error();var h=this.xhk(this.store.$Ci,g),k=!this.store.Slg.has(h);k&&((d=this.span)===null||d===void 0||d.addEvent(`compute-swap-start-${this.XCe}`));var l;d=(l=this.store.Slg.get(h))!==null&&l!==void 0?l:Pys(this,c,h!==null&&h!==void 0?h:c,f,e.CPb);this.store.Slg.set(h,d);this.setState({key:h,CPb:e.CPb,Puc:a,MYg:d,dragOffset:b});this.cke(g);if(k){var m;(m=this.span)===null||m===void 0||m.addEvent(`update-elements-${this.XCe}`);this.XCe+=1}}}onDragEnd(){var a,
b,c,d,e;const f=this.store.bcb;this.Kga();if(f!=null){this.cke();if(f.dragOffset&&this.store.WEd&&this.store.$Ci){var g=Hj(n(this.store.WEd.get(f.Puc)).Icg.c,f.dragOffset);g=this.xhk(this.store.$Ci,g);g=g!=null?[...this.store.WEd.keys()].at(g):void 0}f.key==null&&this.EBa();var h=((b=this.selection.La)===null||b===void 0?void 0:(a=b.container)===null||a===void 0?void 0:a.type)==="fixed-page"?(c=this.selection.La)===null||c===void 0?void 0:c.container.page:void 0;if(h&&g){b=h.elements.toArray();a=
b.indexOf(f.Puc);b=b.indexOf(g);const [l,m]=a<b?[f.Puc,g]:[g,f.Puc];h.elements.Hba(l,m);h.elements.count()>2&&(a=Math.max(a,b),(a=h.elements.toArray().at(a))&&h.elements.mxa(a,l))}var k=0;(d=this.store.WEd)===null||d===void 0||d.forEach((l,m)=>{l=l.Icg.Lb();m.top===l.top&&m.left===l.left||k++});this.N.track(UQs,{qks:Tys(f.Puc),hCs:g&&Tys(g),CPb:f.CPb,M3s:k,Rb:(e=this.span)===null||e===void 0?void 0:e.end().Ii()});this.CL()}}CL(){var a;this.setState(void 0);this.store.hPn=void 0;this.store.WEd=void 0;
this.store.Slg=new Map;(a=this.t2)===null||a===void 0||a.stop();this.span=this.t2=void 0;this.XCe=0}constructor(a,b,c,d,e,f,g,h,k,l=Lys,m=Dys,p=Hys){this.store=a;this.undo=b;this.Hr=c;this.vc=d;this.selection=e;this.canvas=f;this.N=g;this.P=h;this.mh=k;this.xhk=l;this.e_p=m;this.pjq=p;this.t2=(GUs.G(this),void 0);this.Wgs=new EUs;this.Zbk=QV(q=>Pj(q));this.HCl=QV(q=>{var r,t;const u=(t=this.store)===null||t===void 0?void 0:(r=t.bcb)===null||r===void 0?void 0:r.MYg.get(this.store.bcb.Puc);return u===
null||u===void 0?void 0:u.transform(this.Zbk(q))});this.Lpq=QV(q=>{const r=this.HCl(q);var t=this.store.bcb;if(t!=null&&r!=null)return t=[...t.MYg.values()].map(u=>u.transform(this.Zbk(q))),t===null||t===void 0?void 0:t.filter(u=>!u.equals(r))});this.XCe=0}},Oys=class{constructor(a){this.Icg=a;this.container=ck(0,[a])}};var HUs=({canvas:a,undo:b,Hr:c,vc:d,selection:e,Zo:f,mh:g,qhc:h,toolbar:k,Aie:l,isDragging:m,V:p,Ga:q})=>{var r;q=q.Ud("editor.editing.arrangement.swapping");const t=new FUs,u=new GUs(t,b,c,d,e,a,p,q,g);sy(f.controls,()=>t.bcb!=null);(r=k.vE)===null||r===void 0||r.XQ(()=>t.bcb!=null);Xps(h,()=>!!u.Rhe);const w=iV(({el:z,CPb:A,scale:B,container:D})=>{var G;const I=kV(()=>u.onDragStart(z,A),[z,A]),K=kV(Q=>u.pe(z,Q,B),[z,B]);lV(()=>()=>u.pGn(z),[z]);const M=D===null||D===void 0?void 0:D.Lb();D=DV(()=>
Yj(z).transform(u.Zbk(B)).transform(Oj(-1*((M===null||M===void 0?void 0:M.left)||0),0)).transform(Oj(0,-1*((M===null||M===void 0?void 0:M.top)||0))),[z,B,M]);if(Mys(u,z))return null;const N=u.HCl(B)==null||((G=t.bcb)===null||G===void 0?void 0:G.key)!=null;return gV(zUs,{uGc:D.Lb(),Ls:I,PG:K,qx:u.onDragEnd,isVisible:N})}),x=iV(({$c:z,box:A})=>{const B=u.Rhe,D=u.CPb;return B==null||D==null?null:(A=A===null||A===void 0?void 0:A.get())&&z*Math.max(A.width,A.height)>=32?gV(DUs,{CPb:D,RWs:B.elements,scale:z,
Ztp:w,container:A}):null}),y=iV(({page:z,Pc:A})=>{var B,D,G;if(z.page!==((B=u.Rhe)===null||B===void 0?void 0:B.container.page))return null;z=A.scale;A=u.HCl(z);return nV(xV,{children:[A&&gV(BUs,{uGc:A,isVisible:((D=t.bcb)===null||D===void 0?void 0:D.key)!=null}),(G=u.Lpq(z))===null||G===void 0?void 0:G.map((I,K)=>{var M;return gV(CUs,{uGc:I,isVisible:((M=t.bcb)===null||M===void 0?void 0:M.key)!=null},K)})]})});f.Tu(()=>u.Rhe,(z,A)=>{z.T$f=A?x:void 0});a.kc(()=>u.Rhe,(z,A)=>{z.yg.rdf=A!=null?y:void 0});
l===null||l===void 0||Tps(l,()=>!m()&&!(u===null||u===void 0?0:u.Bin))};var IUs=/android/i.test(navigator.userAgent),JUs=new Set(["text/plain","text/html","application/x-canva"]),KUs=class{async copy(a,b,c){var d=this.parser.encode(a);({text:a}=d);const e=d.html;d=d.DOa;!a&&(e||d)&&IUs&&(a=" ");(c=c||(b===null||b===void 0?void 0:b.clipboardData))?(c.setData("text/plain",a),c.setData("text/html",e),c.setData("application/x-canva",d),b&&(b===null||b===void 0||b.preventDefault())):await this.clipboard.write(navigator.clipboard,{"text/plain":new Blob([a],{type:"text/plain"}),
"text/html":new Blob([e],{type:"text/html"}),"application/x-canva":new Blob([d],{type:"application/x-canva"})})}async paste(a,b,c){if(a=b||(a===null||a===void 0?void 0:a.clipboardData))return this.parser.parse(this.getData(a,c),a.items);a=new DataTransfer;b=await this.clipboard.read(navigator.clipboard);for(const [e,f]of Object.entries(b||{}))f&&(this.N7.images.includes(e)||this.N7.Bc.includes(e)?a.items.add(new File([f],"",{type:e})):a.setData(e,await __c.uXi(f)));c=await this.parser.parse(this.getData(a,
c),a.items);b=(c===null||c===void 0?void 0:c.type)===2;a=a.items.length>1;const d=b&&c.text.length<256&&/^[~\w -]+\.\w{3,4}$/.test(c.text);if(!b||a||!d)return c;throw Error("Pasting plaintext via Clipboard API is disabled");}getData(a,b=JUs){const c=b.has("text/plain")?a.getData("text/plain"):void 0,d=b.has("text/html")?a.getData("text/html"):void 0;a=b.has("application/x-canva")?a.getData("application/x-canva"):void 0;return{text:c,html:d,DOa:a}}constructor(a,b){this.parser=a;this.clipboard=__c.iMr;
this.N7=b}};var kzs=a=>{var b=Vys(a);if(b)return{...Es,...azs(b)};b=Xys(a);if(b.length>0)return{...Es,...$ys(b)};const c=dl.ld();a.forEach({Ya:(d,e)=>{c.attrs(e).Vb(d)},item:(d,e)=>{switch(d.type){case "pill":c.attrs(e).Vb(d.ei.text);break;case "rect":d.fill.image?c.attrs(e).Vb(`<${L("OOUSAw")}>`):d.fill.video?c.attrs(e).Vb(`<${L("+tg4/g")}>`):c.attrs(e).Vb(`<${L("Po4g+Q")}>`);break;case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "embed":case "chart":case "separator":c.attrs(e).Vb(`<${Zys(d.type)}>`);
break;default:throw new v(d);}}});a=c.build();b=a.yrc(a.length-1);a=typeof b==="string"&&b!=="\n"?dl.ld().append(a).Vb("\n").build():a;return{...Es,content:{...__c.yYc,value:a}}};var xBs=class{static G(a){O(a,{XK:pV})}async xff(a,b,c){var d,e=this.selection.La;if(e&&e.type==="elements"&&((d=e.inner)===null||d===void 0?void 0:d.type)==="table"&&this.EPa){const f=e.inner;e=f.anchor;d=f.container;a=this.EPa.osi(f.table,d.container,f.cells,a,!(c===null||c===void 0?0:c.Uid),"clipboard");a.length&&(c=e&&a.includes(e)?e:a[0],this.selection.aPa(d,c,a))}else a=bh.ywc(a),a=new __c.Lv({hg:1,element:a}),await this.oc.addTable(a,void 0,{Uc:"paste",span:b});b.mb().addEvent("content_added")}async addImage(a,
b){await this.oc.addImage(a,{Uc:"paste",span:b}).loaded;b.mb().addEvent("content_added")}async rBc(a,b){var c,d,e,f;if(a==="")return Promise.resolve(void 0);const g=this.selection.La,h=this.selection.Jb;if(this.XK&&this.DJ)return await gFs(this.DJ,this.XK.sheet,this.XK.cells,a,{Nsq:!0}),b.mb().addEvent("content_added"),"link";if(((d=this.jc)===null||d===void 0?void 0:(c=d.state)===null||c===void 0?void 0:c.type)==="focused"&&((e=this.jc.state)===null||e===void 0?void 0:e.range.length)>0&&((f=this.jc.state)===
null||f===void 0?void 0:f.Oc.charLength)>1){var k,l;this.jc.setAttributes({decoration:Py.decoration,link:a});((l=this.selection.La)===null||l===void 0?void 0:(k=l.inner)===null||k===void 0?void 0:k.type)==="sheet"&&this.jc.setAttributes({color:Py.color});b.mb().setAttribute("content_type","text_link");b.mb().addEvent("content_added");return Promise.resolve("link")}if(g===null||g===void 0?0:g.elements)return g.elements.forEach(m=>{var p;m.link=a;(p=this.jc)===null||p===void 0||p.setAttributes({decoration:Py.decoration,
link:a})}),b.mb().setAttribute("content_type","element_link"),b.mb().addEvent("content_added"),Promise.resolve("link");if(h!=null)return c=await this.oc.rBc(a,{Uc:"paste_url",span:b},(h===null||h===void 0?void 0:h.type)===0&&h.container.type==="sheet-item-cell-richtext"?"link":void 0),c!=null&&(b.mb().setAttribute("content_type",`${c}_embed`),b.mb().addEvent("content_added")),c;try{const m=await this.oc.pK(a,{Uc:"paste_url",span:b});b.mb().setAttribute("content_type",`${m}_embed`);b.mb().addEvent("content_added");
return m}catch(m){}finally{b.mb().addEvent("embed_resolved")}await this.oc.addText(a,{Uc:"paste_url",m_:"default",span:b},{type:"v2",attrs:{decoration:Py.decoration,link:a}});b.mb().setAttribute("content_type","text_element");b.mb().addEvent("content_added");return Promise.resolve("link")}get XK(){var a;const b=this.selection.La,c=this.selection.Jb;if((c===null||c===void 0?void 0:c.type)===4)return{sheet:c.container.sheet.config,cells:Array.from(c.cells)};if((b===null||b===void 0?void 0:(a=b.inner)===
null||a===void 0?void 0:a.type)==="sheet")return{sheet:b.type==="elements"?b.inner.sheet.config:b.inner.page.sheet,cells:Array.from(b.inner.cells)}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z){this.selection=a;this.jc=b;this.viewport=c;this.la=d;this.Gb=e;this.oc=f;this.Xa=g;this.uZq=k;this.EPa=l;this.JB=m;this.mba=p;this.Vi=q;this.Wc=r;this.DJ=t;this.mS=u;this.Tp=w;this.zsb=x;this.ysb=y;this.hge=z;xBs.G(this)}};var LUs=je(Je.Ff,()=>{}),pzs=class extends __c.aXc{Rac(a){return{...a,image:a.image&&mzs(this,a.image),video:a.video&&nzs(this,a.video)}}wBa(a){if(a.type==="embed"&&this.jMc&&this.jMc(a.url)){const {url:b,eb:c,Ub:d,...e}=a;return{...e,...Fs,fill:ss}}return a}XMc(a){const b=this.jMc;if(!b)return a;const c=Mg.ld();a.text.forEach({...fe,Ya:(d,e)=>{let f;var g=e["font-family"];(g=g&&__c.Asa(g))&&b(g)&&(f={"font-family":this.ugq});c.attrs({...e,...f}).Vb(d)}});return{...a,text:c.build()}}x7d(a){const b=
this.jMc,c={fontFamily:(d,e,f)=>{const g=e&&__c.Asa(e);return g&&b&&b(g)?this.UWh==null?void 0:[this.UWh,Ie.encode(d,this.UWh)]:[e,f]}};return a.OUg(d=>d in c,(d,e,f)=>c[d](d,e,f))}mBd(a){const b=this.jMc;var c=a.xe.fontFamily;let d=c;b&&(c=c&&__c.Asa(c))&&b(c)&&(d=this.UWh);return{...a,xe:{...a.xe,fontFamily:d}}}TUg(a){return a.type==="embed"&&this.jMc&&this.jMc(a.url)?{...__c.cZc,eb:void 0,Ub:void 0,fill:ss}:a}Sqn(a){var b;(b=super.Sqn)===null||b===void 0||b.call(this,a);return a.type==="media"?
(b=Array.from(a.value).filter(tb).filter(c=>{const d=c.fill.image&&mzs(this,c.fill.image);c=c.fill.video&&nzs(this,c.fill.video);return d||c}),{...a,value:b}):a}constructor(a,b,c){super();this.ugq=a;this.UWh=b;this.jMc=c}},ozs=class extends __c.aXc{XMc(a){const b=Mg.ld();a.text.forEach({...fe,Ya:(c,d,e)=>{var f,g;d=(g=(f=this.$i.get(__c.le(Je,e,"style")))===null||f===void 0?void 0:f.attributes)!==null&&g!==void 0?g:new Map;f=__c.Le(d);b.attrs({...LUs,...f,...e}).Vb(c)}});return{...a,text:b.build()}}constructor(a){super();
this.$i=a}};var MUs=class{$Cf(a){return this.zq.$Cf(a)}constructor(a,b,c){this.zq=a;this.vVq=b;this.wVq=c}};var NUs=H(()=>({g8:np(1),Pha:np(2)}));var Yzs=H(()=>({brightness:np(1),contrast:np(2),highlights:np(3),shadows:np(4),D0a:np(5),LQa:np(6),saturation:np(7),qP:np(8),tS:np(9),kE:np(10),sharpness:np(11),RT:np(12),RI:np(13)}));var wzs=H(()=>({selection:T(1),NYa:np(2),yWa:np(3),hue:np(4)}));var Azs=H(()=>({top:np(1),left:np(2),width:np(3),height:np(4)}));var OUs=H(()=>({top:np(1),left:np(2),width:np(3),height:np(4),rotation:np(5)}));var zzs=H(()=>({width:np(1),height:np(2)}));var yzs=H(()=>({Qn:F(1,Azs),wb:F(2,OUs),aspectRatio:F(3,zzs)}));var PUs=H(()=>({vertical:np(1),horizontal:np(2)}));var QUs=H(()=>({id:T(1),yd:np(2)}));var RUs=H(()=>({yd:np(1),un:U(2)}));var SUs=H(()=>({yd:np(1),yM:T(2),TR:T(3),shadowColor:T(4)}));var TUs=H(()=>({opacity:np(1),spread:np(2),blur:np(3),angle:np(4),distance:np(5),color:T(6),curve:np(7),rotation:np(8),Kpa:np(53)}));var Ezs=H(()=>({top:np(1),left:np(2),width:np(3),height:np(4)}));var Fzs=H(()=>({yd:np(1),J9c:np(3),P5:__c.vp(2)}));var Dzs=H(()=>({boundingBox:E(1,Ezs),qaa:E(2,Fzs)}));var Czs=H(()=>({Wpa:Qa(1,Dzs)}));var Nzs=H(()=>({type:C("A?",1,"MASK_SELECTION"),un:T(1)}));var UUs=H(()=>({xs:T(1),ys:T(2)}));var VUs=__c.ab(()=>[1,2]);var $zs=H(()=>({type:C("A?",2,"SEGMENTATION_MASK"),points:F(1,UUs),xud:U(2),CKa:__c.Ua(3,VUs),iUa:wp(5)}));var WUs=__c.ab(()=>[1,2]);var bAs=H(()=>({type:C("A?",4,"FGBG_MASK"),region:__c.Ua(5,WUs)}));var aAs=H(()=>({type:C("A?",6,"ADAPTIVE_BRUSH_MASK"),un:T(7)}));var XUs=__c.$a(()=>({type:[1,Nzs,2,$zs,4,bAs,6,aAs]}),()=>({}));var Hzs=H(()=>({type:C("A?",1,"INPAINTING"),mask:E(1,XUs)}));var YUs=H(()=>({text:T(1),locale:T(2)}));var ZUs=__c.ab(()=>[1,2,3]);var Jzs=H(()=>({type:C("A?",2,"PROMPT_INPAINTING"),mask:E(1,XUs),prompt:E(2,YUs),seed:op(3),jib:__c.Ua(4,ZUs)}));var Kzs=H(()=>({type:C("A?",6,"TEXT_BREAKOUT_INPAINTING"),un:T(1)}));var Lzs=H(()=>({type:C("A?",4,"BG_REMOVER"),un:U(1)}));var Mzs=H(()=>({type:C("A?",12,"ERASE_RESTORE"),mask:E(1,Nzs)}));var Ozs=H(()=>({type:C("A?",5,"PROMPT_EDITING"),mask:F(1,XUs),prompt:E(2,YUs),seed:op(3),gRf:__c.qp(4),BAf:__c.qp(5),kRf:__c.qp(6)}));var Pzs=H(()=>({type:C("A?",7,"OUTPAINTING"),lDi:np(1),kDi:np(2),d2i:np(3),e2i:np(4),seed:op(5)}));var Qzs=H(()=>({type:C("A?",8,"SEGMENTATION_BG_REMOVER"),mask:E(2,XUs)}));var Tzs=H(()=>({Hi:np(1),yj:np(2),MHb:np(3),Xlc:np(4),rotation:np(5),flipX:wp(6),flipY:wp(7)}));var Szs=H(()=>({hn:E(1,__c.Dq),EB:F(2,Tzs),Hi:np(3),yj:np(4),rotation:np(5),scale:np(6)}));var Rzs=H(()=>({type:C("A?",9,"IMAGE_MERGE"),q4a:E(1,Szs),N$b:np(2),seed:op(3),Avi:(0,__c.Ap)(4),rHd:wp(5)}));var Uzs=H(()=>({type:C("A?",10,"BG_GENERATION"),prompt:E(1,YUs),seed:op(2),N$b:np(3),rHd:wp(4)}));var Vzs=H(()=>({type:C("A?",11,"STYLE_TRANSFER"),C6e:E(1,__c.Dq),seed:op(2),D6e:(0,__c.Ap)(3)}));var $Us=__c.$a(()=>({type:[1,Hzs,2,Jzs,6,Kzs,4,Lzs,12,Mzs,5,Ozs,7,Pzs,8,Qzs,9,Rzs,10,Uzs,11,Vzs]}),()=>({}));var Xzs=H(()=>({mask:E(1,XUs),Li:F(2,Yzs),HK:Qa(3,wzs)}));var aVs=H(()=>({autoFocus:E(11,NUs),Li:E(4,Yzs),HK:Qa(20,wzs),F7c:wp(18),EB:E(5,yzs),Ibd:E(19,PUs),filter:E(6,QUs),blur:E(7,RUs),Bha:E(8,SUs),shadows:E(10,TUs),v9a:E(16,Czs),Zi:Qa(14,$Us),qM:Qa(21,Xzs)}));var sAs=H(()=>({value:F(1,aVs)}));var bVs=H(()=>({B0b:op(1),eTb:op(2),BFe:(0,__c.Ap)(3)}));var cVs=()=>({$Uf:op(27,5),domain:U(34),ja:T(29),Kf:U(35),session:op(28),$i:(0,__c.Ep)(31,__c.Fua),Gbe:Qa(36,sAs),Swc:(0,__c.Ep)(37,bVs)});var jAs=H(()=>({...cVs(),type:C("A?",1,"PAGE_BACKGROUND"),fill:E(1,__c.Xl),wh:Qa(6,__c.Xl),width:op(2),height:op(3)}));var wBs=H(()=>({...cVs(),type:C("A?",2,"ELEMENTS"),elements:Qa(1,__c.tac),width:op(2),height:op(3)}));var dVs=H(()=>({...cVs(),type:C("A?",3,"PAGES"),pages:Qa(1,__c.Ebc),width:op(2),height:op(3)}));var eVs=H(()=>({...cVs(),type:C("A?",4,"AUDIOTRACKS"),tracks:Qa(1,__c.s$b)}));var MAs=H(()=>({...cVs(),type:C("A?",5,"RICHTEXT3"),Oc:E(1,__c.xbc)}));var fVs=__c.$a(()=>({type:[1,jAs,2,wBs,3,dVs,4,eVs,5,MAs]}),cVs);var aBs=class{transform(){const a=new Map([]),b=new Map;this.sheet.layout.cells.forEach((e,f)=>{const g=`${__c.Kta(this.sheet.uK(f.dc))}${this.sheet.gK(f.Zb)+1}`;e=this.aJs(e.content.ref,f);a.set(g,e);for(e=this.sheet.gK(f.Zb);e<=this.sheet.gK(f.Ue);e++)for(let h=this.sheet.uK(f.dc);h<=this.sheet.uK(f.Ye);h++){const k=`${__c.Kta(h)}${e+1}`;b.set(k,g)}});const c=Array.from({length:this.sheet.layout.cols.count()},(e,f)=>({id:__c.Kta(f),width:1})),d=Array.from({length:this.sheet.layout.rows.count()},
(e,f)=>({sp:new Map(c.map(g=>{const h=`${g.id}${f+1}`;var k;return[g.id,(k=b.get(h))!==null&&k!==void 0?k:h]})),height:1,minHeight:1}));return{cells:a,layout:{...__c.hYc,columns:c,rows:d}}}constructor(a,b){this.aJs=a;this.sheet=b}};var RAs=class{transform(){const a=[],b=[],c=new Map([]),d=new Map([]),e=new Map([]),f=new Map([]),g=new Map;this.table.layout.columns.forEach(k=>{const l=this.Gb.yoa.generate();b.push({id:l,width:k.width});this.table.layout.rows.forEach((m,p)=>{if(!c.has(p)){var q=this.Gb.yoa.generate();c.set(p,q);a.push({id:q,height:m.height,minHeight:m.minHeight})}p=n(c.get(p));p=`${l}:${p}`;q=n(m.sp.get(k.id));if(g.has(q))m=n(g.get(q)),f.set(p,m);else{m=this.Gb.yoa.generate();g.set(q,m);f.set(p,m);const K=n(this.table.cells.get(q)),
M=this.xXs(K);var r,t,u,w,x,y,z,A,B,D,G,I;q={Rja:`${(x=K.Bk.rd)!==null&&x!==void 0?x:this.table.layout.borderStyle.weight}px`,Qja:`${(y=K.Bk.Ee)!==null&&y!==void 0?y:this.table.layout.borderStyle.weight}px`,Tja:`${(z=K.Bk.Ad)!==null&&z!==void 0?z:this.table.layout.borderStyle.weight}px`,Sja:`${(A=K.Bk.yf)!==null&&A!==void 0?A:this.table.layout.borderStyle.weight}px`,tpa:(B=(r=K.borderColor.rd)===null||r===void 0?void 0:r.color)!==null&&B!==void 0?B:this.table.layout.borderStyle.color,spa:(D=(t=K.borderColor.Ee)===
null||t===void 0?void 0:t.color)!==null&&D!==void 0?D:this.table.layout.borderStyle.color,vpa:(G=(u=K.borderColor.Ad)===null||u===void 0?void 0:u.color)!==null&&G!==void 0?G:this.table.layout.borderStyle.color,upa:(I=(w=K.borderColor.yf)===null||w===void 0?void 0:w.color)!==null&&I!==void 0?I:this.table.layout.borderStyle.color};r=K.fill.color;a:switch(t=K.dj,t){case 1:t="start";break a;case 2:t="middle";break a;case 3:t="end";break a;default:throw new v(t);}a:{switch(this.table.layout.direction){case 1:u=
"ltr";break a;case 2:u="rtl";break a;case void 0:break;default:throw new v(this.table.layout.direction);}u=void 0}e.set(p,{...q,F_:r,dj:t,direction:u});d.set(m,M)}})});const h={...__c.MYc,At:{...__c.xke(this.lJs.domain.cells,{cpa:d,UAc:f,cols:b,rows:a,_attributes:e})},direction:"ltr",YT:__c.AId};return this.kgi(h)}constructor(a,b,c,d,e){this.Gb=a;this.xXs=b;this.lJs=c;this.kgi=d;this.table=e}};var gVs=class{serialize({Li:a,HK:b,F7c:c,autoFocus:d,blur:e,EB:f,Ibd:g,Bha:h,filter:k,shadows:l,v9a:m,Zi:p,qM:q}){return new aVs({Li:new Yzs(a),HK:xzs(b),F7c:c,blur:new RUs(e),EB:Bzs(this,f),Ibd:new PUs(g),Bha:new SUs(h),filter:new QUs(k),autoFocus:new NUs(d),shadows:new TUs(l),v9a:Gzs(m),Zi:Wzs(p),qM:Zzs(q)})}GWf(a){return new OUs(a)}deserialize({Li:a,HK:b,F7c:c,autoFocus:d,blur:e,EB:f,Ibd:g,Bha:h,filter:k,shadows:l,v9a:m,Zi:p,qM:q}){return{Li:{...a},blur:{...e},EB:cAs(this,f),Ibd:{...g},Bha:{...h},
filter:{...k},autoFocus:{...d},HK:dAs(b),F7c:c,shadows:{...l},v9a:eAs(m),Zi:gAs(p),qM:hAs(q)}}rof(a){return{...a}}},tAs=new gVs;var ABs=class{static G(a){O(a,{copy:jV,cut:jV,mQ:jV,paste:jV,ESn:jV,JSn:jV,HSn:jV,GSn:jV,ISn:jV,KEi:jV,KSn:jV,FSn:jV})}async copy(a,b){var c=this.domain,d=this.jEa;const e=d.id,f=d.extension;d=d.document;const g=this.session,h=this.selection.La;var k;if(k=h){if(!(k=h.type==="pages")){var l,m,p;h.Bg&&__c.tf(h.Bg)?k=!0:((l=h.inner)===null||l===void 0?void 0:l.type)==="group"||((m=h.inner)===null||m===void 0?void 0:m.type)==="layout"||((p=h.inner)===null||p===void 0?void 0:p.type)==="layout-cell"?({element:l}=
__c.al(h.inner.container),k=__c.tf(l)):k=!1}k=k||h.Ji()}if(k&&(l=this.$k(h),c=this.Y5a(h,{domain:c,ja:e,Kf:f,session:g,...yg(4,l||d.dimensions)})))return await this.fAj.copy(c,a,b),c}$k(a){if(a.type==="elements")return a.container.ha.dimensions;if(a.type==="pages"){var b;if(a=(b=this.selection.state)===null||b===void 0?void 0:b.$z)switch(a.type){case "body":case "concatenated-fixed-page":case "responsive-page":break;case "fixed-page":return a.page.dimensions;default:throw new v(a);}}}Y5a(a,b){switch(a.type){case "audio":return this.YSh(a,
b);case "pages":var c;switch((c=a.inner)===null||c===void 0?void 0:c.type){case void 0:return this.Rmg(a,b);case "background":return kAs(this,a.inner.Jc,b);case "sheet":a=a.inner;const {sheet:e,metadata:f}=lAs(this,a.cells,a.page.sheet,new Bj(0,0),n(a.page.id));return this.uEc([],[e],{...b,Swc:new Map([[e.id,f]]),HDc:{sheets:{[e.id]:{sheet:a.page.sheet,cells:a.cells}}}});case "sheet-cell-media":return this.Olf(a.inner,b);case "pages":return a.inner.inner?kAs(this,a.inner.inner.Jc,b):this.Rmg(a.inner,
b);default:throw new v(a.inner);}case "elements":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":const e=[],f={sheets:{}},g=new Map;a.elements.forEach(l=>{e.push(rzs(l));if(l.type==="sheet"&&!g.has(l.id)){const m=this.Wc?szs(l.config,l.config.layout.cells.map((p,q)=>({row:q.Zb,column:q.dc})),this.Wc):new Map;g.set(l.id,{B0b:0,eTb:0,BFe:m})}l.type==="sheet"&&(f.sheets[l.id]={sheet:l.config})});return this.uEc(a.elements,
e,{...b,Swc:g,HDc:f});case "table":return c=[this.GPa.Mlh(a.inner.table,a.inner.cells)],this.uEc(a.elements,c,b);case "sheet":c=a.inner;const {sheet:h,metadata:k}=lAs(this,c.cells,c.sheet.config,new Bj(c.sheet.left,c.sheet.top),c.sheet.id);return this.uEc(a.elements,[h],{...b,Swc:new Map([[h.id,k]]),HDc:{sheets:{[h.id]:{sheet:c.sheet.config,cells:c.cells}}}});case "sheet-cell-media":return this.Olf(a.inner,b);default:throw new v(a.inner);}default:throw new v(a);}}YSh(a,b){a=a.tracks.map(c=>bh.uQi(__c.NEc.snapshot(c)));
return{aTb:new eVs({...b,tracks:a}),sue:{contentType:"audio_tracks",lZb:1}}}Olf(a,b){const c={contentType:"elements",lZb:a.media.size},d=a.media.map(e=>{var f,g;const {width:h,height:k}=n(e.Fx||((f=e.fill.image.ref)===null||f===void 0?void 0:f.wb)||((g=e.fill.video.ref)===null||g===void 0?void 0:g.wb));e=bh.V3(es.snapshot(e.fill));return new __c.pq({...Fs,id:this.Gb.Ag.generate(),top:0,left:0,width:h,height:k,rotation:0,fill:e})});a=a.media.map(e=>{var f;return(f=this.xM)===null||f===void 0?void 0:
f.DDe(e.fill.image.ref)});a=iAs(a);return{aTb:new wBs({...b,elements:d,Gbe:a}),sue:c}}Rmg(a,b){const c={contentType:"pages",lZb:a.pages.length};var d=a.pages.map(f=>{a:{var g=Mn.snapshot(f);switch(f.type){case "fixed":const h=this.gb.$k(f);f=Bg(h)?f.Fe:this.gb.EGg(f);g={...g,dimensions:h,Fe:f};break a;case "concatenated-fixed":case "responsive":g={...g,Fe:this.gb.EGg(f)};break a;default:throw new v(f);}}return g});const e=this.xM;a=e?iAs(a.pages.flatMap(f=>hqs(e,f))):[];d=d.map(f=>bh.RSc(f));return{aTb:new dVs({...b,
pages:d,Gbe:a}),sue:c}}uEc(a,b,c){var d,e;b=b.map(g=>bh.DUa(g));const f=iAs(((d=this.xM)===null||d===void 0?void 0:__c.tKf(d,a))||[]);a=__c.wua(__c.jtb.snapshot(this.jEa.document.$i));d={contentType:"elements",lZb:b.length,oD:b.map(g=>g.type.toLowerCase()).join(", "),GD:__c.Ijf(((e=this.selection.La)===null||e===void 0?void 0:e.elements)||[])};return{aTb:new wBs({...c,elements:b,$i:a,Gbe:f}),sue:d,HDc:c.HDc}}async cut(a,b,c,d){a=await this.copy(a,d);d=this.selection.La;if(a&&d&&d.Ji())return this.mQ(d,
b,c),a}mQ(a,b,c){c=this.P.startSpan("delete_element_cut",c);a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new v(b);}c.setAttribute("controlContext",b);switch(a.type){case "audio":this.Pp.aXd(a.tracks,b);this.selection.deselectAll();break;case "pages":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case void 0:a=a.pages;this.WV.GSb(a)&&this.WV.CZe(a,{kb:"shortcut",location:"clipboard"});this.selection.deselectAll();
break;case "sheet":var e;a=a.inner;var f=a.page.sheet;(e=this.Vi)===null||e===void 0||lqs(e,f,a.cells.map(A=>A));break;case "sheet-cell-media":var g;e=a.inner.media;a=a.inner.container;(f=(g=this.Ep).$Wd)===null||f===void 0||f.call(g,a.sheet,a.row,a.column,e);break;case "pages":var h,k,l;oa(((h=a.inner.inner)===null||h===void 0?void 0:h.type)==="background");(k=(l=this.Ep).$nf)===null||k===void 0||k.call(l,a.inner.inner.page,a.inner.inner.Jc);break;case "background":var m,p;if(a.inner.page.type===
"responsive")return;(m=(p=this.Ep).$nf)===null||m===void 0||m.call(p,a.inner.page,a.inner.Jc);break;default:throw c.end("error"),new v(a.inner);}break;case "elements":var q;switch((q=a.inner)===null||q===void 0?void 0:q.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":var r,t;(r=(t=this.Ep).gwa)===null||r===void 0||r.call(t,a.elements,a.container);break;case "table":var u,w;this.CB.zfl(a.inner.cells);(u=(w=this.Ep).BRj)===null||u===void 0||u.call(w,a.inner.cells);
break;case "sheet":var x;a=a.inner;e=a.sheet;(x=this.Vi)===null||x===void 0||lqs(x,e.config,a.cells.map(A=>A));break;case "sheet-cell-media":var y,z;e=a.inner.media;a=a.inner.container;(y=(z=this.Ep).$Wd)===null||y===void 0||y.call(z,a.sheet,a.row,a.column,e);break;default:throw c.end("error"),new v(a.inner);}break;default:throw c.end("error"),new v(a);}c.ne()}wyc(a,b){a.mb().addEvent("pasted");a.mb().nk(({Ii:c})=>{this.N.track(Njf,{...b,action:"paste",Rb:c()})});a.ne()}Iod(){var a=this.selection.La;
if(this.selection.Jb)return this.aNi.Iod();if(a===null||a===void 0||!a.Ji())return!1;switch(a===null||a===void 0?void 0:a.type){case "pages":if(a.inner!=null)a:{var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "sheet":case "sheet-cell-media":a=!0;break a;case "pages":case "background":case void 0:var c;a=!Bg(((c=a.hp)===null||c===void 0?void 0:c.dimensions)||this.jEa.document.dimensions);break a;default:throw new v(a.inner);}}else a=!0;return a;case "audio":case "elements":case void 0:return!!a;
default:throw new v(a);}}xig(){var a;const b=this.selection.La;if(this.selection.Jb)return this.aNi.xig();if(b===null||b===void 0||!b.Ji())return!1;if((b===null||b===void 0?void 0:b.type)==="pages")switch((a=b.inner)===null||a===void 0?void 0:a.type){case "sheet":case "sheet-cell-media":return!0;case "pages":case "background":case void 0:var c;return this.viewport.jh&&(!this.viewport.jU||!Bg(((c=b.hp)===null||c===void 0?void 0:c.dimensions)||this.jEa.document.dimensions))||this.viewport.ya.type===
"responsive";default:throw new v(b.inner);}return!!b}Jkc(){var a;const b=this.selection.La;return b?b.Ji()&&((a=b.inner)===null||a===void 0?void 0:a.type)==="sheet":!1}async paste(a,b,c,d,e){if((a.type!==1||a.DOa.type!=="PAGES"&&a.DOa.type!=="AUDIOTRACKS")&&this.viewport.Zg.ha.locked)throw new __c.mpe;switch(a.type){case 0:return this.h4k(a.file,b,c,d);case 1:return this.JEi(a.DOa,b,c,e);case 2:return this.fPf(a.text,b,c,e);case 3:return this.HEi(a.content,b,c,e);default:throw new v(a);}}async h4k(a,
b,c,d){d==null?b.end("error"):(a=await d([a],"canvas",{I6a:"background",kb:"clipboard"}).images,b.mb().addEvent("image_uploaded"),[a]=a,b.mb().setAttribute("uploaded",!!a),a?(await this.AWa.addImage(Qif(a),b),this.wyc(b,{kb:c,contentType:"image",GD:[a.id]})):b.end("error"))}async fPf(a,b,c,d){a=await izs(this.AWa,a,b,c,d);this.wyc(b,{kb:c,contentType:"text",$Jj:a})}async JEi(a,b,c,d){if(a.$Uf!==this.QFj||a.domain!=null&&a.domain!==this.domain)b.abort();else{b.mb().setAttribute("content_type",a.type.toLowerCase());
var e=!1;switch(a.type){case "PAGE_BACKGROUND":e=await mAs(this,a,b);a={kb:c,contentType:"page_backgrounds",lZb:a.wh.length,jDg:a.ja===this.jEa.id,kDg:a.session===this.session};break;case "ELEMENTS":var f;e=this.viewport.Zg;if(e.type==="responsive-page")return;var g=__c.rde(qu,a.elements.map(k=>bh.VTb(k)),{Zsd:this.Jqf.next(),Otg:a.ja===this.jEa.id?void 0:a.ja});b.mb().addEvent("proto_deserialized");e=await this.ESn(e,a,g,b,c,d);d=__c.Ijf(((f=this.selection.La)===null||f===void 0?void 0:f.elements)||
[]);a={kb:c,contentType:"elements",lZb:g.length,oD:g.map(k=>k.type).join(", ").toLowerCase(),jDg:a.ja===this.jEa.id,kDg:a.session===this.session,GD:d};break;case "PAGES":var h;e=await this.IEi(a,c,b);a={kb:c,contentType:"pages",lZb:a.pages.length,jDg:a.ja===this.jEa.id,kDg:a.session===this.session};(g=(h=this.Hb).XDd)===null||g===void 0||g.call(h);break;case "AUDIOTRACKS":e=await nAs(this,a,b);a={kb:c,contentType:"audio_tracks",lZb:a.tracks.length,jDg:a.ja===this.jEa.id,kDg:a.session===this.session};
break;case "RICHTEXT3":await this.aNi.JEi(a,b,c,d);return;default:throw new v(a);}b.mb().setAttribute("resources_loaded",e);this.wyc(b,a);e||this.fxl()}}async HEi(a,b,c,d){switch(a.type){case "richtext3":await this.aNi.HEi(a,b,c,d);break;case "elements":if(a.elements.length!==1)break;a=a.elements[0];a.type!=="table"||uf(this.viewport.ya)||(await this.AWa.xff(a,b,{Uid:!0}),this.wyc(b,{kb:c,contentType:"elements"}));a.type==="sheet"&&(ezs(this.AWa,a,void 0,b,c,{...d,yTc:"wrap"}),this.wyc(b,{kb:c,contentType:"elements"}));
a.type==="text"&&((d===null||d===void 0?0:d.Uid)?await izs(this.AWa,a.text.cells.Ya(),b,c,d):(d===null||d===void 0?0:d.TCg)||await jzs(this.AWa,a.text,b),this.wyc(b,{kb:c,contentType:"elements"}));break;case "media":d=await this.qc.pob(new __c.uz({id:a.media.id,version:a.media.version}));d={...Qif(d),pending:!1,ey:!0,g4:d.g4,kA:d.Qb.kA};await this.AWa.addImage(d,b);this.wyc(b,{kb:c,contentType:"elements",oD:"rect",lZb:1,GD:[a.media.id],correlationId:a.Hf});break;default:throw new v(a);}}async ESn(a,
b,c,d,e,f){var g,h,k,l;if(((h=this.selection.La)===null||h===void 0?void 0:(g=h.inner)===null||g===void 0?void 0:g.type)==="table"&&c.length===1){if(c[0].type==="table")return this.JSn(b,c[0],d);if(c[0].type==="sheet")return this.HSn(b,c[0],d)}else if(((l=this.selection.La)===null||l===void 0?void 0:(k=l.inner)===null||k===void 0?void 0:k.type)==="sheet"){if(c.length===1)switch(g=c[0],g.type){case "sheet":return this.GSn(b,g,d,e,f);case "table":return this.ISn(b,g,d,e,f);case "text":return this.KSn(b,
g,d);case "embed":return this.FSn(b,g,d)}if(c.every(r=>r.type==="rect"))return this.KEi(b,c,d)}const m=b.Gbe.map(({value:r})=>r&&tAs.deserialize(r));d.mb().addEvent("proto_deserialized");g=!0;b.session!==this.session&&({k5b:g,elements:c}=await qzs(this.FBb,b,{elements:c},d));d.mb().addEvent("content_normalized");uf(a.ha)&&(c=c.filter(r=>r.type!=="table"&&r.type!=="sheet"));const p=a.ha;if(!uqs(p,this.gb)||a.container.type==="concatenated-fixed-page"||p.draft||__c.$he(p)!=null)c=c.filter(r=>!__c.Yhe(r));
if(c.length===0)return g;let q=qAs(this,c,a,b.width,b.height);d.mb().addEvent("content_scaled_to_page");q=await Promise.all(q.map(this.pWg));q=q.map(r=>r.type==="controlled"?{...r,id:this.Gb.Ag.generate()}:r);uV(()=>{var r;let t=[];var u=q.length===1?q[0]:void 0;if((u===null||u===void 0?void 0:u.type)==="sheet"){const w=b.elements[0];oa(w.type==="SHEET");(u=ezs(this.AWa,u,b.Swc.get(w.id),d,e,{...f,yTc:"wrap"}))&&t.push(u)}else t=p.elements.Bda(void 0,q);for(const w of t)w.type==="chart"&&this.PE(w);
(r=this.xM)===null||r===void 0||__c.qKf(r,t,m);d.mb().addEvent("content_added");this.selection.Kl(a,...t);d.mb().addEvent("content_selected");this.Jg.VQ()});return g}async JSn(a,b,c){let d=!0;a.session!==this.session&&({k5b:d,elements:[b]}=await qzs(this.FBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");await uV(async()=>{await this.AWa.xff(b,c)});return d}async HSn(a,b,c){na(a.elements.length===1);na(a.elements[0].type==="SHEET");let d=!0;a.session!==this.session&&({k5b:d,elements:[b]}=
await qzs(this.FBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");a=a.Swc.get(a.elements[0].id);b=wMb.create(b);b=(new aBs(uzs(b,a,this.Wc),b.config)).transform();const e={...__c.gYc,...b,id:this.Gb.Ag.generate(),top:0,left:0,width:1,height:1,eb:1,Ub:1};await uV(async()=>{await this.AWa.xff(e,c)});return d}async GSn(a,b,c,d,e){na(a.elements.length===1);na(a.elements[0].type==="SHEET");let f=!0;a.session!==this.session&&({k5b:f,elements:[b]}=await qzs(this.FBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");
const g=a.Swc.get(a.elements[0].id);uV(()=>{ezs(this.AWa,b,g,c,d,e)});return f}async ISn(a,b,c,d,e){let f=!0;a.session!==this.session&&({k5b:f,elements:[b]}=await qzs(this.FBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");a=(new RAs(this.Gb,h=>({...Es,content:{...__c.xYc,value:this.sR.config.oGg(h)}}),__c.BBa,h=>{if(!this.Wc)return h;const k=__c.JSc.create(h);Bz(this.Wc,l=>{k.layout.cells.forEach((m,p)=>{(m===null||m===void 0?0:m.content.ref)&&m.content.ref.type==="text2"&&l.jCb(k,{column:p.dc,
row:p.Zb},m.content.ref.value)})});return __c.JSc.snapshot(k)},b)).transform();const g={...NYc,id:this.Gb.Ag.generate(),top:0,left:0,width:0,height:0,config:a};uV(()=>{ezs(this.AWa,g,void 0,c,d,e)});return f}async KEi(a,b,c){var d;let e=!0;a.session!==this.session&&({k5b:e,elements:b}=await qzs(this.FBb,a,{elements:b},c));c.mb().addEvent("content_normalized");a=this.selection.La;if((a===null||a===void 0?void 0:(d=a.inner)===null||d===void 0?void 0:d.type)==="sheet"){const f=a.inner.cells,g=a.type===
"elements"?a.inner.sheet.config:a.inner.page.sheet,h=b.map(k=>({fill:k.fill,Fx:{width:k.width,height:k.height}}));uV(()=>{var k;(k=this.Wc)===null||k===void 0||Bz(k,l=>{f.forEach(m=>{var p;const q=g.layout.cells.get(m.row,m.column),r=(q===null||q===void 0?void 0:(p=q.ref.content.ref)===null||p===void 0?void 0:p.type)==="media"?q.ref.content.ref.value.map(t=>__c.qNc.snapshot(t)):[];l.naa(g,m,{type:6,value:[...r,...h]})})})})}return e}async KSn(a,b,c){let d=!0;a.session!==this.session&&({k5b:d,elements:[b]}=
await qzs(this.FBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");await uV(async()=>{await jzs(this.AWa,b.text,c)});return d}async FSn(a,b,c){let d=!0;a.session!==this.session&&({k5b:d,elements:[b]}=await qzs(this.FBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");await uV(async()=>{await this.AWa.rBc(b.url,c)});return d}async xvc(a,b,c){switch(a.type){case "fixed":var d;if(this.UE){var e,f=(e=a.dimensions)!==null&&e!==void 0?e:{height:c,width:b,units:4};b=a.Fe;Bg(f)&&!a.Fe&&
(b=a.sheet?void 0:await __c.xzf(this.WV));Bg(f)||b||(b={type:"inline",FG:void 0});a={...a,dimensions:f,Fe:b}}else a=rAs(this,{...a,Fe:void 0},b,c);b=(await Promise.all(a.elements.map(this.pWg))).filter(tb);if(!this.UE&&((d=this.jEa.doctype)===null||d===void 0?void 0:d.XO[0].type)==="CONCATENATED_FIXED"){var g,h;return{...__c.YYc,id:this.Gb.sh.generate(),Fe:{...__c.ZYc,Ca:(g=this.jEa.doctype)===null||g===void 0?void 0:g.id,RD:(h=this.jEa.doctype)===null||h===void 0?void 0:h.version,FG:void 0},pages:[{...a,
Fe:void 0,id:this.Gb.sh.generate(),elements:b}]}}return{...a,elements:b};case "concatenated-fixed":var k;if(!(((f=a.Fe)===null||f===void 0?void 0:f.type)==="reference"&&a.Fe.Ca===((k=this.jEa.doctype)===null||k===void 0?void 0:k.id)||this.UE))break;d=await Promise.all(a.pages.map(async l=>{const m=await Promise.all(l.elements.map(this.pWg));return{...l,elements:m.filter(tb)}}));return{...a,pages:d.filter(tb)};case "responsive":return{...a};default:throw new v(a);}}async IEi(a,b,c){var d,e;if(a.pages.length===
0)return c.abort(),!1;let f=a.pages.map(l=>qu.yQ(bh.n7b(l)));const g=a.Gbe.map(({value:l})=>l&&tAs.deserialize(l));c.mb().addEvent("proto_deserialized");let h=!0;a.session!==this.session&&({k5b:h,pages:f}=await qzs(this.FBb,a,{pages:f},c));c.mb().addEvent("content_normalized");f=(await Promise.all(f.map(async l=>this.xvc(l,a.width,a.height)))).filter(tb);c.mb().addEvent("content_scaled_to_page");const k=((d=this.selection.La)===null||d===void 0?void 0:d.type)==="pages"?this.selection.La.pages[this.selection.La.pages.length-
1]:this.viewport.ya;d=this.oc.bMa(f);switch(d.type){case 4:return c.abort(),!1;case 2:return c.abort(),this.N.track(__c.Qjf,{designId:this.jEa.id,kb:b}),this.la.Ib({Cb:J("ejP+Tw",[a.pages.length,d.Fh])}),!1;case 3:return c.abort(),this.la.Ib({Cb:J("0RVqFA",[d.btg])}),!1;case 1:break;default:throw new v(d);}b=uV(()=>this.oc.RRb(k,f,{span:c,Uc:"paste",location:"clipboard",v7:"none"}));(e=this.xM)===null||e===void 0||gqs(e,b.map(l=>l.page),g);c.mb().addEvent("content_added");await ma(0);this.viewport.YE(b[0]);
this.selection.deselectAll();this.selection.GU(b[0].container,...b.map(l=>l.page));c.mb().addEvent("content_selected");return h}$_f(){return{items:new Set}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,M,N,Q,R,W,X,Z,da,la,ka,pa,ja,ia,ba){this.aNi=a;this.FBb=b;this.AWa=c;this.oc=d;this.fAj=e;this.fxl=f;this.QFj=g;this.Jqf=h;this.domain=k;this.jEa=l;this.session=m;this.Ma=p;this.Xa=q;this.Hb=r;this.N=t;this.P=u;this.selection=w;this.Jg=x;this.xM=y;this.viewport=z;this.hMa=A;this.gb=
B;this.WV=D;this.Pp=G;this.sR=I;this.CB=K;this.GPa=M;this.timing=N;this.qd=Q;this.JB=R;this.Vi=W;this.Wc=X;this.Gb=Z;this.$ga=da;this.qc=la;this.Ep=ka;this.la=pa;this.PE=ja;this.c3c=ia;this.UE=ba;this.pWg=(ABs.G(this),async ca=>{if(__c.Mqa(ca)&&this.$ga)try{var qa;const ra=await ((qa=this.$ga)===null||qa===void 0?void 0:qa.sMg(ca.wd.app.id,ca.Dl,{EYf:!1}));return{...ca,Dl:ra}}catch(ra){}return ca})}};var hVs=class{transform(){let a=0,b=0,c=1;const d=[],e=this.table.getElementsByTagName("col");for(const Ja of this.table.rows){const Sa=Ja.rowIndex;let Ta=0;for(const Za of Ja.cells){var f;const Ra=Za.cellIndex,Xa=Za.rowSpan,cb=Za.colSpan;for(;(f=d[Sa])===null||f===void 0?0:f[Ra+Ta];)Ta++;const mb=Xa+Sa-this.sheet.rows.length;if(mb>0)for(let Hc=0;Hc<mb;Hc++){const vc={},Ac=Qss(Ja.style.height);Ac!=null&&(vc.height=Math.max(1,Ac));const Bc=Mss(this.tfa,Ja);Bc&&(vc.backgroundColor=Bc);const Cc=vc;this.R6n.set(a,
Cc);var g,h;this.sheet.rows.push({id:this.Gb.yoa.generate(),height:Math.max((g=Cc.height)!==null&&g!==void 0?g:lu.height,lu.height),minHeight:Math.max((h=Cc.height)!==null&&h!==void 0?h:lu.minHeight,lu.height)});a++}const nb=cb+Ra+Ta-this.sheet.cols.length;if(nb>0)for(let Hc=0;Hc<nb;Hc++){const vc=e.item(b);if(vc){const Bc=vc.style,Cc={},ud=fts(vc.width)||Qss(Bc.width);ud!=null&&(Cc.width=Math.max(1,ud));const Ld=Mss(this.tfa,vc);Ld&&(Cc.backgroundColor=Ld);var k=Cc}else k={};const Ac=k;this.vom.set(b,
Ac);var l;this.sheet.cols.push({id:this.Gb.yoa.generate(),width:Math.max((l=Ac.width)!==null&&l!==void 0?l:__c.yId.width,__c.yId.width)});b++}const ob=this.config.jBo(Za);ob&&this.sheet.cpa.set(`${c}`,ob);for(let Hc=0;Hc<cb;Hc++){const vc=Ra+Ta+Hc,Ac=n(this.sheet.cols[vc]).id;for(let Bc=0;Bc<Xa;Bc++){var m,p;const Cc=Sa+Bc,ud=n(this.sheet.rows[Cc]).id;this.sheet.UAc.set(`${Ac}:${ud}`,`${c}`);var q;(q=(m=d)[p=Cc])!==null&&q!==void 0?q:m[p]=[];d[Cc][vc]=!0}}c++;const sb=Ra+Ta,yb=Sa;var r=this.sheet._attributes,
t=r.set,u=`${n(this.sheet.cols[sb]).id}:${n(this.sheet.rows[yb]).id}`,w=void 0,x=void 0,y=Za,z=sb,A=yb;const gb={},xb=Mss(this.tfa,y)||((x=this.R6n.get(A))===null||x===void 0?void 0:x.backgroundColor)||((w=this.vom.get(z))===null||w===void 0?void 0:w.backgroundColor);xb&&(gb.F_=xb);const Bb=this.direction==="rtl";{var B=void 0,D=void 0,G=this.tfa,I=y;const Hc=I.style.borderTopWidth||((D=vV(G,I))===null||D===void 0?void 0:D.borderTopWidth)||I.style.borderBlockStartWidth||((B=vV(G,I))===null||B===void 0?
void 0:B.borderBlockStartWidth);var K=Hc?Qss(wV(Hc)):void 0}const zb=K;{var M=void 0,N=void 0,Q=this.tfa,R=y;const Hc=R.style.borderBottomWidth||((N=vV(Q,R))===null||N===void 0?void 0:N.borderBottomWidth)||R.style.borderBlockEndWidth||((M=vV(Q,R))===null||M===void 0?void 0:M.borderBlockEndWidth);var W=Hc?Qss(wV(Hc)):void 0}const Jb=W,Rb=Bb?Sss(this.tfa,y):Rss(this.tfa,y),Ab=Bb?Rss(this.tfa,y):Sss(this.tfa,y);zb!=null&&(gb.Rja=`${zb}px`);Jb!=null&&(gb.Qja=`${Jb}px`);Rb!=null&&(gb.Tja=`${Rb}px`);Ab!=
null&&(gb.Sja=`${Ab}px`);{var X=void 0,Z=void 0,da=this.tfa,la=y;const Hc=la.style.borderTopColor||((Z=vV(da,la))===null||Z===void 0?void 0:Z.borderTopColor)||la.style.borderBlockStartColor||((X=vV(da,la))===null||X===void 0?void 0:X.borderBlockStartColor);var ka=Hc?Lss(Hc):void 0}const Yb=ka;{var pa=void 0,ja=void 0,ia=this.tfa,ba=y;const Hc=ba.style.borderBottomColor||((ja=vV(ia,ba))===null||ja===void 0?void 0:ja.borderBottomColor)||ba.style.borderBlockEndColor||((pa=vV(ia,ba))===null||pa===void 0?
void 0:pa.borderBlockEndColor);var ca=Hc?Lss(Hc):void 0}const ic=ca,Sc=Bb?Oss(this.tfa,y):Nss(this.tfa,y),Nc=Bb?Nss(this.tfa,y):Oss(this.tfa,y);Yb&&(gb.tpa=Yb);ic&&(gb.spa=ic);Sc&&(gb.vpa=Sc);Nc&&(gb.upa=Nc);{var qa=void 0,ra=void 0,sa=this.tfa,wa=y;const Hc=wa.style.borderTopStyle||((ra=vV(sa,wa))===null||ra===void 0?void 0:ra.borderTopStyle)||wa.style.borderBlockStartStyle||((qa=vV(sa,wa))===null||qa===void 0?void 0:qa.borderBlockStartStyle);var Aa=Hc?Tss(Hc):void 0}const sc=Aa;{var Ba=void 0,za=
void 0,Fa=this.tfa,Da=y;const Hc=Da.style.borderBottomStyle||((za=vV(Fa,Da))===null||za===void 0?void 0:za.borderBottomStyle)||Da.style.borderBlockEndStyle||((Ba=vV(Fa,Da))===null||Ba===void 0?void 0:Ba.borderBlockEndStyle);var Oa=Hc?Tss(Hc):void 0}const jc=Oa,Fb=Bb?Vss(this.tfa,y):Uss(this.tfa,y),gc=Bb?Uss(this.tfa,y):Vss(this.tfa,y);sc!=null&&(gb.OQa=uAs(sc));jc!=null&&(gb.NQa=uAs(jc));Fb!=null&&(gb.QQa=uAs(Fb));gc!=null&&(gb.PQa=uAs(gc));t.call(r,u,gb)}}return this.config.kgi({At:__c.xke(this.descriptor.domain.cells,
this.sheet),Cr:new Map,G6:[],direction:this.direction,YT:__c.AId,nqa:!1,view:__c.LYc})}constructor(a,b,c,d,e){this.descriptor=a;this.table=b;this.tfa=c;this.config=d;this.Gb=e;this.sheet={cpa:new Map,UAc:new Map,_attributes:new Map,cols:[],rows:[]};this.direction="ltr";this.vom=new Map;this.R6n=new Map}},iVs=class{kgi(a){if(!this.Wc)return a;const b=__c.JSc.create(a);Bz(this.Wc,c=>{b.layout.cells.forEach((d,e)=>{(d===null||d===void 0?0:d.content.ref)&&d.content.ref.type==="text2"&&c.jCb(b,{column:e.dc,
row:e.Zb},d.content.ref.value)})});return __c.JSc.snapshot(b)}jBo(a){a=this.i2s(a);if(a.length===1&&a[0].type==="text")return{...Es,content:{...__c.xYc,value:a[0].text}};if(a.length&&a.every(b=>b.type==="rect"))return{...Es,content:{...__c.uYc,value:a.map(b=>({fill:b.fill,Fx:void 0}))}}}constructor(a,b){this.Wc=a;this.i2s=b}},jVs=class{kgi(a){if(!this.Wc)return a;const b=__c.bVc.create(a);Bz(this.Wc,c=>{b.layout.cells.forEach((d,e)=>{d.content.ref&&d.content.ref.type==="text3"&&c.afc(b,{column:e.dc,
row:e.Zb},d.content.ref.value)})});return __c.bVc.snapshot(b)}jBo(a){a=this.q2s(a);const b=vAs(a);return b.length>0&&b.every(c=>c.type==="rect")?{...Es,content:{...__c.uYc,value:b.map(c=>({fill:c.fill,Fx:void 0}))}}:{...Es,content:{...__c.yYc,value:a}}}constructor(a,b){this.Wc=a;this.q2s=b}};var RV={fontFamily:()=>{},fontSize:(a,b)=>{a.setStyle("font-size",`${b.toString()}px`)},fontWeight:(a,b)=>{b=__c.AOh.$bi(b);b!=null&&a.setStyle("font-weight",b.toString())},fontStyle:(a,b)=>a.setStyle("font-style",b),fontKerning:()=>{},MIc:()=>{},LIc:()=>{},KIc:()=>{},PJ:(a,b)=>{const c=parseFloat(a.getStyle("font-size")||"");b=parseFloat(b);Number.isNaN(c)||Number.isNaN(b)||b===1||a.setStyle("font-size",`${(c*b).toString()}px`)},verticalAlign:()=>{},color:(a,b)=>a.setStyle("color",b),A9a:()=>{},
backgroundColor:(a,b)=>{b!=="transparent"&&a.setStyle("background-color",b)},opa:()=>{},npa:()=>{},decoration:(a,b)=>{if(b!=="none"){var c=a.getStyle("text-decoration");a.setStyle("text-decoration",c?c+` ${b}`:b)}},Xu:(a,b)=>{b!=="none"&&(b=a.getStyle("text-decoration"),a.setStyle("text-decoration",b?b+" line-through":"line-through"))},link:(a,b)=>{b.length>0&&a.setAttribute("href",b)},letterSpacing:(a,b)=>a.setStyle("letter-spacing",`${b}em`),lineHeight:(a,b)=>a.setStyle("line-height",b.toString()),
direction:(a,b)=>a.setStyle("direction",b),textAlign:(a,b,c)=>{switch(b){case "start":a.setStyle("text-align",c.direction==="rtl"?"right":"left");break;case "end":a.setStyle("text-align",c.direction==="rtl"?"left":"right");break;default:a.setStyle("text-align",b)}},yk:(a,b)=>{["checked","unchecked"].includes(b)||a.setStyle("list-style",b)},Fk:()=>{},sBa:()=>{},marginInlineStart:(a,b,c)=>{c.direction==="rtl"?a.setStyle("margin-right",`${b}px`):a.setStyle("margin-left",`${b}px`)},textIndent:(a,b)=>
a.setStyle("text-indent",`${b}px`),textTransform:(a,b)=>a.setStyle("text-transform",b),zCa:()=>{}};var GAs=class{transform(){const a=fV.element("table"),b=a.appendChild(fV.element("colgroup"));this.sheet.layout.cols.forEach(c=>{b.appendChild(fV.element("col",{WYg:!0})).setStyle("width",`${c.width}px`)});this.sheet.layout.rows.forEach(c=>{const d=a.appendChild(fV.element("tr"));d.setStyle("height",`${c.height}px`);this.sheet.layout.cols.forEach(e=>{const f=this.sheet.layout.cells.get(c,e);if(f==null||f.span.Zb===c&&f.span.dc===e){var g=(f===null||f===void 0?0:f.ref.content.ref)?this.OUp(f===null||
f===void 0?void 0:f.ref.content.ref,{row:c,column:e}):fV.element("td");d.appendChild(g);f&&f.span.Zb!==f.span.Ue&&g.setAttribute("rowspan",[...Kk(f.span.Zb,f.span.Ue,this.sheet.layout.rows)].length.toString());f&&f.span.dc!==f.span.Ye&&g.setAttribute("colspan",[...Kk(f.span.dc,f.span.Ye,this.sheet.layout.cols)].length.toString());var h=this.sheet.direction==="rtl",k=this.sheet.layout.attrs.get(Me.Js,c,e)||{};g.setStyle("background-color",__c.me(Me,k).F_);Ee(__c.WNc,k,"all",(p,q)=>{if(p!=null)RV[q](g,
p,{direction:h?"rtl":"ltr"})});var l,m;k=this.rno.get(Pps((l=f===null||f===void 0?void 0:f.span.dc)!==null&&l!==void 0?l:e,(m=f===null||f===void 0?void 0:f.span.Zb)!==null&&m!==void 0?m:c));!f||f.span.Zb===f.span.Ue&&f.span.dc===f.span.Ye||(e=this.rno.get(Pps(f.span.Ye,f.span.Ue)),k?(k.Ee=e===null||e===void 0?void 0:e.Ee,k.yf=e===null||e===void 0?void 0:e.yf):k=e);if((k===null||k===void 0?void 0:k.rd)!=null){const {color:p="transparent",weight:q,CC:r}=k.rd;g.setStyle("border-top",`${q}px ${wAs(r)} ${p}`)}if((k===
null||k===void 0?void 0:k.Ee)!=null){const {color:p="transparent",weight:q,CC:r}=k.Ee;g.setStyle("border-bottom",`${q}px ${wAs(r)} ${p}`)}if((k===null||k===void 0?void 0:k.Ad)!=null){const {color:p="transparent",weight:q,CC:r}=k.Ad;e=`${q}px ${wAs(r)} ${p}`;h?g.setStyle("border-right",e):g.setStyle("border-left",e)}if((k===null||k===void 0?void 0:k.yf)!=null){const {color:p="transparent",weight:q,CC:r}=k.yf;k=`${q}px ${wAs(r)} ${p}`;h?g.setStyle("border-left",k):g.setStyle("border-right",k)}}})});
return a}constructor(a,b,c){this.sheet=a;this.OUp=b;this.rno=c}};var kVs=class{serialize(a,b){a=this.xno.serialize(a,b);return this.csv.encode(a,{field:"\t"})}deserialize(a){var b,c=__c.Sqg(a);let d=this.csv.parse(a,c);const e=d.length,f=((b=d[0])===null||b===void 0?void 0:b.length)||0;b=f>0&&d.every(h=>h.length===f);let g=!1;switch(c.field){case ",":g=e>=2&&f>=4;break;case ";":case "|":g=e>=2&&f>=2||f>=4;break;default:g=!0}b&&g||(d=a.split(c.row).map(h=>[h]));a=d.length;c=Math.max(0,...d.map(h=>h.length));if(!(a<=1||c<=1))return this.xno.deserialize(d)}constructor(a){var b=
new __c.Dtg;this.xno=a;this.csv=b}};var lVs=class{serialize(a,b){const c=__c.tps(a.At),d=new Set;return __c.Nib.YX(c.rows).map(e=>__c.Qib.YX(c.cols).map(f=>{var g=c.UAc.get(`${f.id}:${e.id}`);g=g!=null?c.cpa.get(g):void 0;if(!g||!g.content||d.has(g))return"";d.add(g);g=b(k=>{var l;const m=n(k.A0b(e.id)),p=n(k.dTb(f.id));return(l=this.Wc)===null||l===void 0?void 0:l.getContent(k,m,p)});var h;return(h=g===null||g===void 0?void 0:g.DR)!==null&&h!==void 0?h:""}))}deserialize(a){const b={cpa:new Map,UAc:new Map,_attributes:new Map,cols:[],
rows:[]};a=a.map(f=>f.map(g=>g.trim()));const c=a.length,d=Math.max(0,...a.map(f=>f.length));for(var e=0;e<c;e++)b.rows.push({id:this.Gb.yoa.generate(),height:lu.height,minHeight:lu.height});for(e=0;e<d;e++)b.cols.push({id:this.Gb.yoa.generate(),width:__c.yId.width});e=1;for(let f=0;f<c;f++)for(let g=0;g<d;g++)a[f][g]!=null&&(b.cpa.set(`${e}`,{...Es,content:{...__c.tYc,value:a[f][g]}}),b.UAc.set(`${b.cols[g].id}:${b.rows[f].id}`,`${e}`),e++);return{At:__c.xke(__c.iOc.domain.cells,b),Cr:new Map,G6:[],
direction:"ltr",YT:__c.AId,nqa:!1,view:__c.LYc}}constructor(a,b){this.Wc=a;this.Gb=b}};var mVs=()=>({Hf:U(21)});var nVs=H(()=>({...mVs(),type:C("A?",1,"MEDIA"),id:T(1),version:op(2)}));var oVs=__c.$a(()=>({type:[1,nVs]}),mVs);var pVs=class{get vKc(){return this.Xdf?this.Xdf:this.Xdf=this.g7p()}transform(){AAs(this);return this.elements}NOd(a,b){this.vKc.NOd(a,b)}gEb(a){this.vKc.gEb(a)}ct(a,b,c){this.vKc.ct(a,b,c)}dle(a,b){this.vKc.dle(a,b)}y0a(a,b,c){this.vKc.y0a(a,b,c)}R6a(a,b){this.vKc.R6a(a,b)}S6a(a,b){this.vKc.S6a(a,b)}hle(a,b){this.vKc.hle(a,b)}x0a(a,b){this.vKc.x0a(a,b)}fle(a,b){this.vKc.fle(a,b)}iLa(a){AAs(this);this.Xdf=void 0;if(this.j0h.kXd&&!this.c_c())a={...this.j0h.kXd(a),top:this.cmc},this.elements.push(a),
this.cmc+=a.height;else if(this.j0h.jXd){var b=this.j0h.jXd(a);const c=b.At.cols.reduce((d,e)=>d+e.width,0);a=b.At.rows.reduce((d,e)=>d+e.height,0);b={...NYc,config:b,top:this.cmc,left:0,width:c,height:a,id:this.Gb.Ag.generate()};this.elements.push(b);this.cmc+=a}}ile(a){this.vKc.ile(a)}gle(a){var b,c=(b=this.resources)===null||b===void 0?void 0:b.get(a.src);if(c){var {width:d,height:e}=Li(c.files,f=>f.width);oa(d>0&&e>0);a=Vj(0,0,d,e).Lb();c={...Fs,id:this.Gb.Ag.generate(),top:this.cmc,left:0,width:d,
height:e,fill:{...ss,image:{...__c.rs,media:{id:c.id,version:c.version},wb:a}}};this.elements.push(c);this.cmc+=e}}constructor(a,b,c,d,e,f,g=()=>!1){this.container=a;this.j0h=b;this.g7p=c;this.Pi=d;this.Gb=e;this.resources=f;this.c_c=g;this.elements=[];this.cmc=0}};var qVs=NQs(Je.Ff["font-size"]),rVs={B:{"font-weight":"bold"},STRONG:{"font-weight":"bold"},I:{"font-style":"italic"},EM:{"font-style":"italic"},U:{decoration:"underline"},S:{strikethrough:"strikethrough"},DEL:{strikethrough:"strikethrough"}},sVs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,tVs=class{transform(){var a;((a=this.I)===null||a===void 0?0:a.q0i)&&!this.g5e&&this.aMa("\n");
return this.builder.build()}aMa(a){const b={...this.owd(),...this.AO},c=je(this.AO,()=>{});this.Yea(b,c,()=>{this.builder.Vb(a)});this.I$=a}Yea(a,b,c){const d={...this.AO};this.AO={...this.AO,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.AO={...this.AO,...b,...d}}NOd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.nNb;switch(wV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.nNb=!0}b();this.nNb=c}}gEb(a){if(a.textContent){let b=a.textContent;
this.nNb||(this.Iul(a)&&(b=b.trimStart()),this.Hul(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.aMa(b)}}T$b(a){return a!=null&&sVs.test(a.tagName)}Iul(a){return this.psj||this.T$b(a.previousElementSibling)||this.T$b(a.nextElementSibling)||a.previousSibling==null&&this.T$b(a.parentElement)}Hul(a){return this.T$b(a.previousElementSibling)||this.T$b(a.nextElementSibling)||a.nextSibling==null&&this.T$b(a.parentElement)}dle(a,b){const {oDb:c,fVa:d}=this.xxb(a,"inline"),e={color:c.color,decoration:c.decoration};
a=Je.pick(f=>__c.Ge(Je,e,f)!=null,e);Object.keys(a).length===0&&Ee(Je,Py,"all",(f,g)=>{c[g]=f;d[g]=void 0});this.Yea(c,d,b)}ct(a,b,c){b==="block"&&yV(this);const {oDb:d,fVa:e}=this.xxb(a,b);(a=rVs[a.tagName])&&Ee(Je,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.Yea(d,e,c);b==="block"&&yV(this)}y0a(a,b,c){yV(this);a=this.Aba;this.Aba=b?"ordered":"unordered";c();this.Aba=a}R6a(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{b();yV(this)})}S6a(a,b){yV(this);const {oDb:c,
fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{b();yV(this)})}hle(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{const e=this.nNb;this.nNb=!0;b();this.nNb=e;yV(this)})}x0a(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");c["font-size"]==null&&(c["font-size"]=qVs[a.tagName],d["font-size"]=void 0);this.Yea(c,d,()=>{b();yV(this)})}fle(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{b();yV(this)})}iLa(){}ile(){this.aMa("\n")}gle(){}xxb(a,b){a=BAs(a,
b,this.tfa);return{oDb:a,fVa:je(a,()=>{})}}get psj(){return typeof this.I$==="string"&&this.I$.endsWith(" ")}Tli(a){return a.endsWith("\n")}lgn(a){return a.endsWith("\n")||a.endsWith("\u2028")}get g5e(){return this.I$!=null&&this.Tli(this.I$)}constructor(a,b){this.owd=a;this.tfa=b;this.I={q0i:!0};this.AO={};this.nNb=!1;this.builder=Mg.ld()}};var EAs=class{transform(){if(this.elements.length)return this.elements;this.Oc.forEach({...fe,Ya:(a,b)=>{this.D6b(b);a=a.split("\n");for(const [c,d]of a.entries())d.length>0&&(this.dac&&this.Heb==null?(this.Heb=fV.element("a"),this.Bva({link:this.ASa.link},this.Heb)):!this.dac&&this.Heb&&(this.TWa.push(this.Heb),this.Heb=void 0),b=this.Bva({...this.ASa,link:void 0},fV.element(this.zAk?"sup":this.wAk?"sub":"span")),b.setContent(d),this.Heb?this.Heb.appendChild(b):this.TWa.push(b)),c<a.length-1&&(CAs(this),
this.ORd(),this.NRd())}});CAs(this);this.ORd();this.NRd();return this.elements}D6b(a){const b=__c.me(Je,a),c=(d,e,f)=>{var g;a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:(g=d[e])!==null&&g!==void 0?g:d[e]=f};Ee(Je,b,"block",(d,e)=>c(this.jha,e,d));Ee(Je,b,"inline",(d,e)=>c(this.ASa,e,d))}get zAk(){const a=this.ASa["vertical-align"];return a!=null&&parseInt(a,10)>0}get wAk(){const a=this.ASa["vertical-align"];return a!=null&&parseInt(a,10)<0}get dac(){const a=this.ASa.link;return a!=null&&a.length>
0}get uYb(){const a=this.jha["list-level"],b=this.jha["list-marker"];return{EXb:a!=null&&a>0||b!=null&&b!=="none",nTg:DAs(b)}}tek(){return this.uYb.EXb?"li":"p"}ORd(){if(this.TWa.length!==0){var a=fV.element(this.tek());this.TWa.forEach(b=>a.appendChild(b));this.Imb.push(a);this.TWa=[]}}NRd(){if(this.Imb.length!==0){var a={...this.jha},b=a["list-level"],c=a["list-marker"];delete a["list-level"];delete a["list-marker"];var d=fV.element(this.uYb.EXb?this.uYb.nTg:"div");this.Bva(a,d);a=d;var e=b!=null&&
b>0;if(e)for(let f=0;f<Math.abs(b)-1;f++){const g=fV.element("li");g.setStyle("list-style","none");const h=fV.element(DAs(c));g.appendChild(h);d.appendChild(g);d=h}for(const f of this.Imb)this.uYb.EXb&&this.Bva({"list-marker":c,"list-level":b},f),d.appendChild(f);if(e)if(c=this.elements[this.elements.length-1],!c||c.tagName!=="ul"&&c.tagName!=="ol")this.elements.push(a);else{c=kqs(c);const {node:f,indent:g}=this.hBg(c,b);b=[kqs(a)];for(a=0;a<g;a++)b=b.map(h=>[...h.childNodes]).flat();for(const h of b)f.appendChild(h);
this.elements[this.elements.length-1]=jqs(c)}else this.elements.push(d);this.Imb=[]}}hBg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}Bva(a,b){var c;const d={direction:(c=this.jha.direction)!==null&&c!==void 0?c:"ltr"};Ee(Je,a,"all",(e,f)=>{if(e!=null)uVs[f](b,e,d)});return b}constructor(a){this.Oc=a;this.elements=[];this.jha={};this.ASa={};this.TWa=[];this.Imb=[]}},uVs={"font-family":RV.fontFamily,
"font-size":RV.fontSize,"font-weight":RV.fontWeight,"font-style":RV.fontStyle,"font-kerning":RV.fontKerning,"font-feature-liga":RV.MIc,"font-feature-clig":RV.LIc,"font-feature-calt":RV.KIc,"font-size-modifier":RV.PJ,"vertical-align":RV.verticalAlign,color:RV.color,"fill-id":RV.A9a,decoration:RV.decoration,strikethrough:RV.Xu,link:RV.link,"start-us":()=>{},tracking:(a,b,c)=>RV.letterSpacing(a,b/1E3,c),leading:(a,b,c)=>RV.lineHeight(a,b/1E3,c),direction:RV.direction,"text-align":RV.textAlign,"list-marker":RV.yk,
"text-transform":RV.textTransform,"list-level":RV.Fk,"list-number-set":RV.sBa,semantics:RV.zCa,"head-indent":()=>{},spacing:()=>{},style:()=>{},kerning:()=>{}};var uBs=class{serialize(a){return{DOa:this.$ml(a.aTb),html:this.fgh(a),text:this.jnl(a)}}$ml(a){return JSON.stringify(fVs.serialize(a))}fgh(a){const b=a.aTb;return b.type!=="ELEMENTS"?[]:FAs(this,b.elements,a.HDc)}jnl(a){const b=a.aTb;return b.type!=="ELEMENTS"?"":HAs(this,b.elements,a.HDc)}hXd(a){return PQs(a,b=>this.hSj(b),b=>this.fSj(b))}fSj(a){try{const b=fVs.deserialize(JSON.parse(a));switch(b.type){case "ELEMENTS":return{type:1,DOa:b};case "RICHTEXT3":const {Oc:c,...d}=b,e=bh.rFc(c),f=this.xjk(),
g=new Map,h=(new __c.ski(e,f,k=>{const l=this.Gb.Ag.generate();(k=k!=null?d.Swc.get(k):void 0)&&g.set(l,k);return l})).transform();return e.length>0&&h.length===0?void 0:{type:1,DOa:new wBs({...d,width:f.width,height:f.height,Swc:g,elements:h.map(k=>bh.DUa(k))})};case "PAGES":case "PAGE_BACKGROUND":case "AUDIOTRACKS":return{type:1,DOa:b};default:throw new v(b);}}catch(b){}}hSj(a){try{const b=oVs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},
Hf:b.Hf}}}catch(b){}}async BXh({html:a}){var b,c;if(a){a=this.jbe(a);var d=(b=a.querySelector("[data-canva-clipboard]"))===null||b===void 0?void 0:b.getAttribute("data-canva-clipboard");if(b=(b=d?Nqs(d):void 0)?this.hXd(b):void 0)return b;var e=new qts(a.getElementsByTagName("style")),f=this.Caa?await xqs(a,new OQs).iT(this.Caa):void 0;b=new pVs(this.xjk(),{kXd:g=>this.kXd(g),jXd:g=>this.jXd(g,e,f)},()=>new tVs(()=>this.owd(),e),this.Pi,this.Gb,f,(c=this.Ta)===null||c===void 0?void 0:c.c_c);c=xqs(a,
b).transform();if(c.length===1)return{type:3,content:{type:"elements",elements:c}}}}sof(a){return PQs(a,b=>({type:2,text:b}),b=>this.GSj(b),b=>this.aye(b))}constructor(a,b,c,d,e,f,g,h){this.jbe=Mqs;this.owd=a;this.xjk=b;this.Pi=c;this.GPa=d;this.Wc=e;this.Gb=f;this.Caa=g;this.Ta=h;this.vph=new kVs(new lVs(this.Wc,this.Gb));this.kXd=k=>pqs(this.GPa,k,l=>Mg.ld().Vb(l.textContent+"\n").build());this.jXd=(k,l,m)=>(new hVs(__c.BBa,k,l,new iVs(this.Wc,p=>{var q;const r=this.jbe(p.innerHTML),t=BAs(p,"block",
l);p=new pVs(this.xjk(),{},()=>new tVs(()=>({...this.owd(),...__c.H_e(BId),...t}),l),this.Pi,this.Gb,m,(q=this.Ta)===null||q===void 0?void 0:q.c_c);return xqs(r,p).transform()}),this.Gb)).transform();this.aye=k=>{k=this.GPa.aye(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return{type:3,content:{type:"elements",elements:[k]}}};this.GSj=k=>{var l,m;if((l=this.Ta)!==null&&l!==void 0&&l.c_c()&&(k=this.vph.deserialize(k))){k={...NYc,config:k,id:this.Gb.Ag.generate(),top:0,left:0,width:k.At.cols.reduce((q,
r)=>q+r.width,0),height:k.At.rows.reduce((q,r)=>q+r.height,0)};if(!this.Wc)return{type:3,content:{type:"elements",elements:[k]}};var p=wMb.create(k);(m=this.Wc)===null||m===void 0||Bz(m,q=>{p.config.layout.cells.forEach((r,t)=>{r.content.ref&&(oa(r.content.ref.type==="plaintext"),r=Mg.ld().Vb(r.content.ref.value).Vb("\n").build(),r=Mg.create(r),q.jCb(p.config,{row:t.Zb,column:t.dc},r))})});return{type:3,content:{type:"elements",elements:[wMb.snapshot(p)]}}}}}};var vVs=class{Mlh(a,b){const c=__c.zXd(a),d=new Set(b);b=new Map;for(const [f,g]of a.cells)d.has(g)&&b.set(f,__c.PUc.snapshot(g));const e=[...b.keys()];a=__c.TUc.snapshot(a);return{...a,cells:b,behavior:{...a.behavior,rules:c.map(f=>KAs(f.tjd,e))}}}},JAs=a=>pd(a).sort((b,c)=>b-c);var yBs=class{static G(a){O(a,{cut:jV.bound,mQ:jV,paste:jV.bound,i4k:jV.bound})}async copy(a,b){var c=this.selection.Jb;if(c){var d=this.jEa;if(c=this.Y5a(c,{domain:this.domain,ja:d.id,Kf:d.extension,session:this.session}))return await this.fAj.copy(c,a,b),c}}Y5a(a,b){const c=new Map,d={sheets:{}};switch(a.type){case 1:case 0:if(a.container.type==="section-marker"&&a.only)return a=__c.hVc.snapshot(a.only),this.Fve(a,c,d,b);a=n(this.Xa.Y5a(),"state snapshot does not exist");return NAs(this,a,c,d,b);
case 2:return a=this.GPa.Mlh(a.container.table,a.map(l=>l)),this.Fve(a,c,d,b);case 3:return a=this.rtr.Mlh(a.container.layout,a.map(l=>l)),this.Fve(a,c,d,b);case 4:const e=a.container.sheet.config,f=a.container.sheet.id,{sheet:g,metadata:h}=tzs(__c.FAa,this.JB,e,a.cells,l=>__c.YUc.snapshot(l)),k=this.Wc?szs(e,a.cells,this.Wc):new Map;d.sheets[f]={sheet:e,cells:a.cells};c.set(f,{...h,BFe:k});return this.Fve({...fZc,id:f,config:g},c,d,b);case 5:return this.Olf(a.media,c,d,b);default:throw new v(a);
}}Fve(a,b,c,d){a=dl.ld().item(a).build();return NAs(this,a,b,c,d)}Olf(a,b,c,d){const e=dl.ld();a.forEach(f=>e.item($As(f)));a=e.build();return NAs(this,a,b,c,d)}async cut(a,b,c,d){if(c=this.selection.Jb)return a=await this.copy(a,d),this.mQ(c,b),a}mQ(a,b){const c=this.P.sb("delete_element_cut",{Fb:{name:"editor.delete_element"}});var d=c.setAttribute;a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new v(b);}d.call(c,"controlContext",
b);switch(a.type){case 0:case 1:case 5:this.Ep.KBb();break;case 2:a=a.map(f=>f);this.CB.zfl(a);this.Ep.KBb();break;case 4:var e;(e=this.Vi)===null||e===void 0||lqs(e,a.container.sheet.config,a.cells.map(f=>f));break;case 3:throw c.end("error"),Error("Layout Items are currently not supported");default:throw c.end("error"),new v(a);}c.ne()}wyc(a,b){a.mb().addEvent("pasted");a.mb().nk(({Ii:c})=>{this.N.track(Njf,{...b,action:"paste",Rb:c()})});a.ne()}Iod(){var a;if(this.selection.Jb){if(a=this.Ma.mode>=
20){var b,c,d;a=!((((c=this.selection.Jb)===null||c===void 0?void 0:c.container.type)!=="marker"&&((d=this.selection.Jb)===null||d===void 0?void 0:d.container.type)!=="section-marker"||this.selection.Jb.type!==1)&&((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="RANGE"&&this.Xa.state.isCollapsed)}}else a=!1;return a}xig(){return this.selection.Jb?this.Ma.mode>=30:!1}Jkc(){const a=this.selection.Jb;return a?this.Ma.mode>=30&&a.type===4:!1}async paste(a,b,c,d,e){switch(a.type){case 0:return this.h4k(a.file,
b,c,d);case 1:return this.JEi(a.DOa,b,c,e);case 2:return this.fPf(a.text,b,c,e);case 3:return this.HEi(a.content,b,c,e);default:throw new v(a);}}async JEi(a,b,c,d){let e=!0;if(a.$Uf!==this.QFj||a.domain!=null&&a.domain!==this.domain)b.abort();else if(b.mb().setAttribute("content_type",a.type.toLowerCase()),a.type==="RICHTEXT3"&&a.Oc){var f=bh.rFc(a.Oc),g=__c.Sde(f,{fGa:a.ja===this.jEa.id,Otg:a.ja===this.jEa.id?void 0:a.ja}),h=a.Gbe.map(({value:l})=>l&&tAs.deserialize(l));b.mb().addEvent("proto_deserialized");
a.session!==this.session&&({k5b:e,GH:[g]}=await qzs(this.FBb,a,{GH:[g]},b));var k=new wVs;await this.i4k(this.OUf(g,{...d,gMr:a.ja!==this.jEa.id,Gak:k}),h,a.Swc,b,c,{...a,xz:cBs(f)},d);e||this.fxl();this.Nun(k.fontFamilies)}}async HEi(a,b,c,d){switch(a.type){case "richtext3":const e=new wVs;await this.i4k(this.OUf(a.UOa,{...d,Gak:e}),[],void 0,b,c,void 0,{...d,yTc:"wrap"});this.Nun(e.fontFamilies);break;case "elements":b.abort();break;case "media":d=await this.qc.pob(new __c.uz({id:a.media.id,version:a.media.version}));
d={...Qif(d),pending:!1,ey:!0,g4:d.g4,kA:d.Qb.kA};await this.oc.addImage(d,{Uc:"paste",span:b}).loaded;this.wyc(b,{kb:c,contentType:"elements",oD:"rect",lZb:1,GD:[a.media.id],correlationId:a.Hf});break;default:throw new v(a);}}async i4k(a,b,c,d,e,f,g){var h;const k=this.selection.Jb,l=cBs(a),m=(f===null||f===void 0?void 0:(h=f.xz)===null||h===void 0?void 0:h.type)==="sheet"?f.xz.id:void 0;let p;switch(l===null||l===void 0?void 0:l.type){case "layout":case "table":case "sheet":if(!k)return;switch(k.type){case 0:case 1:switch(k.container.type){case "body":case "responsive-page":this.QKc(l,
m,b,c,d,e,g);break;case "section-marker":this.Xa.Qu(k.container.container.text,Rw.start());break;case "marker":this.QKc(l,m,b,c,d,e,g);break;case "table-item-cell":QAs(this,l,m,k.container.table,k.container.container.container,[k.container.rb],b,c,d);break;case "sheet-item-cell-richtext":SAs(this,l,m,b,c,d,e,g);break;case "layout-item-cell":PAs(this,l,b,d);break;default:throw new v(k.container);}break;case 2:QAs(this,l,m,k.container.table,k.container.container,k.map(u=>u),b,c,d);break;case 4:SAs(this,
l,m,b,c,d,e,g);break;case 5:break;case 3:PAs(this,l,b,d);break;default:throw new v(k);}break;case void 0:case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "pill":case "chart":case "design":c=a.cells.Ya().trim();g=this.Xa.state;h=dBs(a);if((k===null||k===void 0?void 0:k.type)===4&&h.length>0&&h.every(u=>u.type==="rect"))this.KEi(k.container.sheet.config,k.cells,h);else if((k===null||k===void 0?void 0:k.container.type)==="section-marker")l!=null&&__c.Uxf(l)?
this.Gwc(l,k.container):(this.Xa.Qu(k.container.container.text,Rw.start()),UAs(this,a,b,d));else if(k!=null&&l!=null&&__c.Uxf(l)&&(k.container.type==="body"||k.container.type==="responsive-page")&&WAs(this,l,k.container)){b=d.setAttribute;a:switch(e){case "drag":c="drag";break a;case "menu":c="contextual_menu";break a;case "shortcut":c="keyboard_shortcut";break a;default:throw new v(e);}b.call(d,"controlContext",c);this.Ep.KBb();this.Gwc(l,k.container.KVb(k.container.marker))}else k!=null&&dm(c).ok&&
a.cells.rB===0&&(g===null||g===void 0?void 0:g.type)==="RANGE"&&g.qSa?p=await this.AWa.rBc(Yv(c),d):UAs(this,a,b,d);break;default:throw new v(l);}const q=[];a.forEach({item:u=>q.push(LAs(u))});const {media:r,Bc:t}=__c.Lf({GH:[a]});this.wyc(d,{kb:e,contentType:"richtext3",$Jj:p,lZb:q.length,oD:q.join(", "),jDg:f?f.ja===this.jEa.id:void 0,kDg:f?f.session===this.session:void 0,GD:[...r.map(u=>u.id),...t]});d.mb().addEvent("content_added")}QKc(a,b,c,d,e,f,g){b=b!=null?d===null||d===void 0?void 0:d.get(b):
void 0;a.type==="sheet"?gzs(this.AWa,a,b,e,f,{...g,yTc:"wrap"}):UAs(this,dl.ld().item(a).build(),c,e)}Gwc(a,b){a=this.nU.Gwc(a,b.marker);this.N.track(v0g,{yEc:"document",ZVd:"cover_set",elementType:a.type,Uc:"paste"});this.selection.Vv(b,a);this.Jg.VQ()}KEi(a,b,c){var d;const e=c.map(f=>({fill:f.fill,Fx:f.eb!=null&&f.Ub!=null?{width:f.eb,height:f.Ub}:void 0}));(d=this.Wc)===null||d===void 0||Bz(d,f=>{b.forEach(g=>{var h;const k=a.layout.cells.get(g.row,g.column),l=(k===null||k===void 0?void 0:(h=
k.ref.content.ref)===null||h===void 0?void 0:h.type)==="media"?k.ref.content.ref.value.map(m=>__c.qNc.snapshot(m)):[];f.naa(a,g,{type:6,value:[...l,...e]})})})}async fPf(a,b,c,d){a=await izs(this.AWa,a,b,c,d);this.wyc(b,{kb:c,contentType:"text",$Jj:a})}async h4k(a,b,c,d){d?(a=await d([a],"canvas",{I6a:"background",kb:"clipboard"}).images,b.mb().addEvent("image_uploaded"),[a]=a,b.mb().setAttribute("uploaded",!!a),a?({loaded:d}=this.oc.addImage(Qif(a),{Uc:"paste"}),await d,b.mb().addEvent("content_added"),
this.wyc(b,{kb:c,contentType:"image",GD:[a.id]})):b.end("error")):b.end("error")}OUf(a,b){const c=dl.ld();a.forEach({Ya:(d,e)=>{var f;e=vqs(e);e.fontFamily&&(b===null||b===void 0||(f=b.Gak)===null||f===void 0||f.lmb(e.fontFamily));c.attrs(e).Vb(d)},item:(d,e)=>{var f;e=vqs(e);e.fontFamily&&(b===null||b===void 0||(f=b.Gak)===null||f===void 0||f.lmb(e.fontFamily));(b===null||b===void 0?0:b.gMr)&&d.type==="pill"&&d.ei.type==="mention"&&!this.bkr(d.ei.brand)?c.attrs(e).Vb(d.ei.text):c.attrs(e).item(bBs(this,
d,b))},Bl:(d,e)=>c.attrs(vqs(e))});return c.build()}$_f(a){return{items:new Set(a.type===1&&a.DOa.type==="RICHTEXT3"?a.DOa.Oc.chunks.map(b=>b.nb.type==="ITEM"?__c.sAa(bh,b.nb.state).type:void 0).filter(tb):[])}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,M,N){this.FBb=a;this.AWa=b;this.fAj=c;this.fxl=d;this.Nun=e;this.QFj=f;this.bkr=g;this.domain=h;this.jEa=k;this.session=l;this.Ma=m;this.Xa=p;this.selection=q;this.Jg=r;this.N=t;this.P=u;this.oc=w;this.qc=x;this.Ep=y;this.nU=z;
this.xM=A;this.GPa=B;this.sR=D;this.CB=G;this.JB=I;this.Vi=K;this.Wc=M;this.Gb=N;this.rtr=(yBs.G(this),new vVs)}},wVs=class{lmb(a){this.fontFamilies.add(a)}constructor(){this.fontFamilies=new Set}};var xVs=NQs(Ie.Ff.fontSize),yVs={B:{fontWeight:"bold"},STRONG:{fontWeight:"bold"},I:{fontStyle:"italic"},EM:{fontStyle:"italic"},U:{decoration:"underline"},S:{Xu:"strikethrough"},DEL:{Xu:"strikethrough"}},zVs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,AVs=["table","sheet"],oBs=class{transform(){var a;((a=this.I)===null||a===void 0?0:a.q0i)&&!this.g5e&&this.aMa("\n");return this.builder.build()}aMa(a){const b=
{...this.owd(),...this.AO},c=je(this.AO,()=>{});this.Yea(b,c,()=>{this.builder.Vb(a)});this.I$=a}SCc(a){this.Dba();this.builder.attrs(je(this.AO,()=>{}));this.builder.item(a);this.builder.attrs(this.AO);this.I$=a}Dba(){this.I$==null||this.Tli(this.I$)||this.aMa("\n")}Yea(a,b,c){const d={...this.AO};this.AO={...this.AO,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.AO={...this.AO,...b,...d}}NOd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.nNb;switch(wV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.nNb=
!0}b();this.nNb=c}}gEb(a){if(a.textContent){let b=a.textContent;this.nNb||(this.Iul(a)&&(b=b.trimStart()),this.Hul(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.aMa(b)}}T$b(a){return a!=null&&zVs.test(a.tagName)}Iul(a){return this.psj||this.T$b(a.previousElementSibling)||this.T$b(a.nextElementSibling)||a.previousSibling==null&&this.T$b(a.parentElement)}Hul(a){return this.T$b(a.previousElementSibling)||this.T$b(a.nextElementSibling)||a.nextSibling==null&&this.T$b(a.parentElement)}dle(a,b){const {oDb:c,
fVa:d}=this.xxb(a,"inline");if(this.Fek){const e={color:c.color,decoration:c.decoration};a=Ie.pick(f=>__c.Ge(Ie,e,f)!=null,e);Object.keys(a).length===0&&Ee(Ie,this.Fek(),"all",(f,g)=>{c[g]=f;d[g]=void 0})}this.Yea(c,d,b)}ct(a,b,c){b==="block"&&yV(this);const {oDb:d,fVa:e}=this.xxb(a,b);(a=this.LLr[a.tagName])&&Ee(Ie,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.Yea(d,e,c);b==="block"&&yV(this)}y0a(a,b,c){yV(this);a=this.Aba;this.Aba=b?"ordered":"unordered";c();this.Aba=a}R6a(a,b){yV(this);const {oDb:c,
fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{b();yV(this)})}S6a(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{b();yV(this)})}hle(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");this.Yea(c,d,()=>{const e=this.nNb;this.nNb=!0;b();this.nNb=e;yV(this)})}x0a(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");c.fontSize==null&&(c.fontSize=xVs[a.tagName],d.fontSize=void 0);this.Yea(c,d,()=>{b();yV(this)})}fle(a,b){yV(this);const {oDb:c,fVa:d}=this.xxb(a,"block");this.Yea(c,
d,()=>{b();yV(this)})}iLa(a){if(!AVs.some(d=>{var e,f;return(f=this.I)===null||f===void 0?void 0:(e=f.dIo)===null||e===void 0?void 0:e.has(d)})){var {oDb:b,fVa:c}=this.xxb(a,"block");this.Yea(b,c,()=>{if(this.c_c()){var d=this.yjn.jXd(a);d={...fZc,config:d,id:this.Gb.Ai.generate()};this.SCc(d)}else d=this.yjn.kXd(a),this.SCc(d)})}}ile(){this.aMa("\u2028")}gle(a){var b,c;var d=a.style.width||((c=vV(this.tfa,a))===null||c===void 0?void 0:c.width);c=d?Qss(wV(d)):void 0;if(d=(b=this.resources)===null||
b===void 0?void 0:b.get(a.src))a=hBs(d,c&&c<this.iyl?`${c}px`:void 0),this.SCc(a)}xxb(a,b){a=gBs(a,b,this.tfa);return{oDb:a,fVa:je(a,()=>{})}}get psj(){return typeof this.I$==="string"&&this.I$.endsWith(" ")}Tli(a){return typeof a==="string"&&a.endsWith("\n")}lgn(a){return typeof a==="string"&&(a.endsWith("\n")||a.endsWith("\u2028"))}get g5e(){return this.I$!=null&&this.Tli(this.I$)}constructor(a,b,c,d,e,f,g,h=()=>!1,k=0){this.owd=a;this.yjn=b;this.tfa=c;this.Gb=d;this.resources=e;this.Fek=f;this.I=
g;this.c_c=h;this.iyl=k;this.AO={};this.nNb=!1;this.builder=dl.ld();this.LLr=Qb("cf27dcb6",!1)?{...yVs,SUP:{verticalAlign:__c.zB.verticalAlign,PJ:__c.zB.PJ},SUB:{verticalAlign:__c.hzg.verticalAlign,PJ:__c.hzg.PJ}}:yVs}};var iBs=class{transform(){if(this.elements.length)return this.elements;this.Oc.forEach({Ya:(a,b)=>{this.D6b(b);a=a.split("\n");for(const [c,d]of a.entries()){b=d.split("\u2028");for(const [e,f]of b.entries())e>0&&this.TWa.push(fV.element("br",{WYg:!0})),f.length>0&&(this.dac&&this.Heb==null?(this.Heb=fV.element("a"),this.Bva({link:this.ASa.link},this.Heb)):!this.dac&&this.Heb&&(this.TWa.push(this.Heb),this.Heb=void 0),b=this.Bva({...this.ASa,link:void 0},fV.element(this.zAk?"sup":this.wAk?"sub":"span")),
b.setContent(f),this.Heb?this.Heb.appendChild(b):this.TWa.push(b));c<a.length-1&&(CAs(this),this.ORd(),this.NRd())}},item:(a,b)=>{this.D6b(b);switch(a.display){case 2:(a=this.Eje(a))&&this.TWa.push(a);break;case 1:case void 0:(a=this.C2f(a))&&this.Imb.push(a);break;default:throw new v(a.display);}},Bl:()=>{}});CAs(this);this.ORd();this.NRd();return this.elements}C2f(a){switch(a.type){case "table":return jBs(this,a);case "sheet":return kBs(this,a);case "layout":return mBs(this,a);case "break":case "separator":return fV.element("hr",
{WYg:!0});case "embed":var b;const c=fV.element("a");c.setContent(((b=a.altText)===null||b===void 0?void 0:b.text)||a.url);return this.Bva({link:a.url},c);case "pill":break;case "controlled":case "rect":case "chart":case "design":break;case "shape":throw new __c.Fv;default:throw new v(a);}}Eje(a){switch(a.type){case "pill":switch(a.ei.type){case "embed":var b=fV.element("a");b.setContent(a.ei.text?a.ei.text:"");return this.Bva({...this.ASa,link:a.ei.url},b);case "date":case "mention":case "select":return b=
fV.element("span"),b.setContent(a.ei.text?a.ei.text:""),this.Bva(this.ASa,b);default:throw new v(a.ei);}case "controlled":case "rect":case "table":case "break":case "separator":case "embed":case "chart":case "design":case "layout":case "sheet":break;case "shape":throw new __c.Fv;default:throw new v(a);}}D6b(a){const b=__c.me(Ie,a),c=(d,e,f)=>{var g;a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:(g=d[e])!==null&&g!==void 0?g:d[e]=f};Ee(Ie,b,"block",(d,e)=>c(this.jha,e,d));Ee(Ie,b,"inline",(d,e)=>
c(this.ASa,e,d))}get dac(){const a=this.ASa.link;return a!=null&&a.length>0}get zAk(){const a=this.ASa.verticalAlign;return a!=null&&parseInt(a,10)>0}get wAk(){const a=this.ASa.verticalAlign;return a!=null&&parseInt(a,10)<0}get uYb(){const a=this.jha.Fk,b=this.jha.yk;return{EXb:a!=null&&a>0||b!=null&&b!=="none",nTg:nBs(b)}}tek(){var a;return(a=this.jha.zCa)!==null&&a!==void 0?a:"p"}ORd(){if(this.TWa.length!==0){var a=fV.element(this.tek());this.TWa.forEach(b=>a.appendChild(b));this.TWa=[];if(this.uYb.EXb){const b=
fV.element("li");b.appendChild(a);this.Imb.push(b)}else this.Imb.push(a)}}NRd(){if(this.Imb.length!==0){var {yk:a,Fk:b,...c}=this.jha,d=fV.element(this.uYb.EXb?this.uYb.nTg:"div"),e=d;this.Bva(c,e);var f=b!=null&&b>0;if(f)for(let g=0;g<Math.abs(b)-1;g++){const h=fV.element("li");h.setStyle("list-style","none");const k=fV.element(nBs(a));h.appendChild(k);d.appendChild(h);d=k}for(const g of this.Imb)this.uYb.EXb&&this.Bva({yk:a,Fk:b},g),d.appendChild(g);if(f)if(d=this.elements[this.elements.length-
1],!d||d.tagName!=="ul"&&d.tagName!=="ol")this.elements.push(e);else{d=kqs(d);const {node:g,indent:h}=this.hBg(d,b);e=[kqs(e)];for(f=0;f<h;f++)e=e.map(k=>[...k.childNodes]).flat();for(const k of e)g.appendChild(k);this.elements[this.elements.length-1]=jqs(d)}else this.elements.push(d);this.Imb=[]}}hBg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}Bva(a,b){var c;const d={direction:(c=this.jha.direction)!==
null&&c!==void 0?c:"ltr"};Ee(Ie,a,"all",(e,f)=>{if(e!=null)BVs[f](b,e,d)});return b}constructor(a,b,c,d){this.Oc=a;this.Wc=b;this.GPa=c;this.HDc=d;this.elements=[];this.jha={};this.ASa={};this.TWa=[];this.Imb=[]}},BVs=new Proxy({...RV,pQb:()=>{},qQb:()=>{},N2b:()=>{}},{get:(a,b)=>{var c;return(c=a[b])!==null&&c!==void 0?c:()=>{}}});var sBs=class{serialize(a){return{DOa:this.$ml(a.aTb),html:this.fgh(a),text:this.jnl(a)}}$ml(a){return JSON.stringify(fVs.serialize(a))}fgh(a){var b=a.aTb;a=a.HDc;if(b.type!=="RICHTEXT3")return[];b=bh.rFc(b.Oc);return(new iBs(b,this.Wc,this.GPa,a)).transform()}jnl(a){const b=a.aTb,c=a.HDc;if(b.type!=="RICHTEXT3")return"";const d=[];bh.rFc(b.Oc).forEach({Ya:e=>{d.push(e)},item:e=>{switch(e.type){case "table":d.push(nqs(this.GPa,e),"\n");break;case "sheet":const f=cVc.create(e),g=c===null||c===void 0?
void 0:c.sheets[e.id],h=(g===null||g===void 0?void 0:g.sheet)||f.config;d.push(this.vph.serialize(e.config,k=>k(h)));break;case "layout":e.cells.forEach(k=>{k=k.text.cells.Ya();k.length>0&&d.push(k,"\n")});break;case "embed":d.push(e.url,"\n");break;case "pill":switch(e.ei.type){case "embed":d.push(e.ei.url);return;case "date":case "mention":case "select":d.push(e.ei.text);return;default:throw new v(e.ei);}case "controlled":case "rect":case "break":case "separator":case "chart":case "design":break;
case "shape":throw new __c.Fv;default:throw new v(e);}},Bl:()=>{}});return __c.nki(d.join(""))}hXd(a){return PQs(a,b=>this.hSj(b),b=>this.fSj(b))}fSj(a){try{const b=fVs.deserialize(JSON.parse(a));switch(b.type){case "RICHTEXT3":return{type:1,DOa:b};case "ELEMENTS":const {elements:c,...d}=b,e=c.map(h=>bh.VTb(h)),f=new Map,g=(new __c.Nji(e,h=>{const k=this.Gb.Ai.generate();(h=h!=null?d.Swc.get(h):void 0)&&f.set(k,h);return k})).transform();return e.length>0&&g.length===0?void 0:{type:1,DOa:new MAs({...d,
Swc:f,Oc:bh.O5a(g)})};case "PAGES":return{type:1,DOa:b};case "PAGE_BACKGROUND":case "AUDIOTRACKS":break;default:throw new v(b);}}catch(b){}}hSj(a){try{const b=oVs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},Hf:b.Hf}}}catch(b){}}async BXh({html:a}){var b;if(a){a=this.jbe(a);var c=(b=a.querySelector("[data-canva-clipboard]"))===null||b===void 0?void 0:b.getAttribute("data-canva-clipboard");if(b=(b=c?Nqs(c):void 0)?this.hXd(b):
void 0)return b;b=this.Caa?await xqs(a,new OQs).iT(this.Caa):void 0;return{type:3,content:{type:"richtext3",UOa:pBs(this,a,b)}}}}sof(a){return PQs(a,b=>({type:2,text:b}),b=>this.GSj(b),b=>this.aye(b))}constructor(a,b,c,d,e,f,g,h=0){this.jbe=Mqs;this.owd=a;this.GPa=b;this.Wc=c;this.Kn=d;this.Gb=e;this.Caa=f;this.Ta=g;this.iyl=h;this.vph=new kVs(new lVs(this.Wc,this.Gb));this.kXd=(k,l)=>pqs(this.GPa,k,m=>{m=this.jbe(m.innerHTML);return pBs(this,m,l,void 0,{dIo:new Set(["table","sheet"]),q0i:!0})});
this.jXd=(k,l,m)=>(new hVs(__c.FAa,k,l,new jVs(this.Wc,p=>{const q=this.jbe(p.innerHTML);p=gBs(p,"block",l);return pBs(this,q,m,{...__c.Oy(BId),...p},{dIo:new Set(["table","sheet"]),q0i:!0})}),this.Gb)).transform();this.aye=k=>{k=this.GPa.aye(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return k={...k,cells:rd(k.cells,l=>({...l,content:{...l.content,...__c.iYc,text:dl.ld().attrs(this.Kn.O3||{}).Vb(l.content.text.cells.Ya()).build()}}))},{type:3,content:{type:"richtext3",UOa:dl.ld().item(k).build()}}};
this.GSj=k=>{var l,m;if((l=this.Ta)!==null&&l!==void 0&&l.c_c()&&(k=this.vph.deserialize(k))){k={...fZc,config:k,id:this.Gb.Ai.generate()};if(!this.Wc)return{type:3,content:{type:"richtext3",UOa:dl.ld().item(k).build()}};var p=cVc.create(k);(m=this.Wc)===null||m===void 0||Bz(m,q=>{p.config.layout.cells.forEach((r,t)=>{r.content.ref&&(oa(r.content.ref.type==="plaintext"),r=dl.ld().Vb(r.content.ref.value).Vb("\n").build(),r=dl.create(r),q.afc(p.config,{row:t.Zb,column:t.dc},r))})});m=cVc.snapshot(p);
return{type:3,content:{type:"richtext3",UOa:dl.ld().item(m).build()}}}}}};var qBs=a=>{const b=(0,__c.rc)(),c=(0,__c.rc)(),d=a.closeDialog;return gV(__c.Cr,{mode:a.mode,open:!0,oa:d,Of:b,ii:c,children:nV("div",{className:"dIfFsA",children:[gV(or,{id:b,margins:"legacy",children:L("NSWGJA")}),gV(P,{id:c,margins:"legacy",children:L("nfjy+g")}),gV("div",{className:"CKm0aQ",children:gV(fj,{variant:"primary",onClick:d,children:L("MGKfPA")})})]})})};var tBs=.25*parseInt("var(--jBkZgw)",10),zBs=Symbol("Clipboard.NonEmailSafeFontWarning");var GBs=JV(({bounds:a})=>gV("div",{className:"PIS4dA",style:a.Lb(),children:gV("div",{className:"BO26GQ"})}));var FBs=class{static G(a){O(a,{Fgh:jV.bound,VPh:jV.bound})}Fgh(a){if(a.Iae)this.store.Iae=a.Iae;else switch(a.type){case "column":var b;(b=this.kY.Sgd)===null||b===void 0||b.yKg();break;case "row":var c;(c=this.kY.Sgd)===null||c===void 0||c.zKg()}}VPh(){var a;this.store.Iae=void 0;(a=this.kY.Sgd)===null||a===void 0||a.dQh()}constructor(a,b){this.store=a;this.kY=b;FBs.G(this)}};var EBs=class{static G(a){O(a,{Iae:CV.ref})}constructor(){this.Iae=(EBs.G(this),void 0)}};var CVs=class{static G(a){O(a,{Wie:pV,Ilf:pV,cRj:pV,DNh:pV,Gqg:pV,wwb:pV,B8a:pV,N3g:pV,mQ:jV})}get Wie(){if(this.ng.Jb)return this.q0.Wie;if(!this.DNh)return[];const a=this.wwb.map(c=>c.type),b=this.wwb.find(c=>c.type==="image"||c.type==="video");return a.includes("background")?b||this.nG.layout===2?[{type:"background"}]:[]:a.includes("page")||a.includes("sheet-page-content")?[]:a.includes("grid")||a.includes("shape")?b?this.wwb:[]:this.wwb}get Ilf(){if(this.ng.Jb)return this.q0.Ilf;if(!this.DNh)return[];
if(this.wwb.map(b=>b.type).includes("background"))return[{type:"background"}];const a=this.wwb.find(b=>b.type==="shape");return a?[a]:this.wwb.filter(b=>b.type!=="sheet-page-content")}get Lvl(){if(this.ng.Jb)return this.q0.Lvl;var a=this.Ilf;if(a.length!==1)return!1;a=a[0];return["page","background"].includes(a.type)&&this.nG.layout===1||a.type==="row"||a.type==="column"?!1:!0}get xod(){var a;return this.ng.Jb?this.q0.xod:!((a=this.ng.La)===null||a===void 0?0:a.Ji())}get cRj(){var a,b;const c=this.ng.La;
if(c!=null&&c.type==="pages"&&this.Gqg==="background"){if(((a=c.inner)===null||a===void 0?void 0:a.type)==="pages"){var d;return((d=c.inner.inner)===null||d===void 0?void 0:d.type)!=="background"?void 0:this.Ep.CNh(c.inner.inner.container.container,c.inner.inner.container.ha)?"section":void 0}if(((b=c.inner)===null||b===void 0?void 0:b.type)==="background"&&(a=c.inner.page,a.type!=="responsive"))return this.Ep.GSb([a])?"page":void 0}}get DNh(){var a;const b=this.ng.La,c=((a=this.jc.state)===null||
a===void 0?void 0:a.type)==="focused";if(!b||!b.Ji()||c||b.type!=="elements"&&b.type!=="pages")return!1;a=b.inner;switch(this.Gqg){case "background":var d;if((a===null||a===void 0?void 0:a.type)==="background")return a.page.type==="responsive"?!1:IBs(this,a.page)?this.Ep.kig(a.page):this.Ep.Eig(a.page);if((a===null||a===void 0?void 0:a.type)==="pages"&&((d=a.inner)===null||d===void 0?void 0:d.type)==="background")return IBs(this,a.inner.page)?this.Ep.kig(a.inner.page):this.Ep.Eig(a.inner.page);throw Error("An inner selection is required to delete a page background");
case "page":return b.pages?this.Ep.GSb(b.pages):!1;case "table-element":case "table-item":var e;return!((e=this.kY.Sgd)===null||e===void 0||!e.ZQj());case "shape":case "element":case "scrollable-design":case "grid":case "group":case "controlled":case "sheet-element":case "sheet-item":case "sheet-page-content":case "sheet-item-cell-media":case "sheet-element-cell-media":case "layout-element":case "layout-item":return!0;case "image":case "video":case "column":case "row":case void 0:return!1;default:throw new v(this.Gqg);
}}get Gqg(){const a=this.ng.La;if(a!=null&&(a.type==="elements"||a.type==="pages"))switch(a.type){case "pages":var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "pages":var c;return((c=a.inner.inner)===null||c===void 0?void 0:c.type)==="background"?"background":"page";case "sheet":return"sheet-page-content";case "sheet-cell-media":return"sheet-element-cell-media";case "background":return a.inner.type;case void 0:return"page";default:throw new v(a.inner);}case "elements":var d;if(this.N3g.length)return"shape";
switch((d=a.inner)===null||d===void 0?void 0:d.type){case "table":return"table-element";case "sheet":return"sheet-element";case "sheet-cell-media":return"sheet-element-cell-media";case "layout":case "layout-cell":return"layout-element";default:var e,f;return(f=(e=a.inner)===null||e===void 0?void 0:e.type)!==null&&f!==void 0?f:"element"}default:throw new v(a);}}get wwb(){var a=this.ng.La;let b=!1;var c=!1,d=!1,e=!1;if((a===null||a===void 0?0:a.inner)&&a.inner.type)switch(a.inner.type){case "grid":c=
a.inner.cells;b=JBs(c);c=KBs(c);break;case "table":var f;e=(f=this.kY.Sgd)===null||f===void 0?void 0:f.ZQj();d=!(e===null||e===void 0||!e.deleteRow);e=!(e===null||e===void 0||!e.iFc);break;case "sheet":d=a.type==="pages"?a.inner.page.sheet:a.inner.sheet.config;e=this.kY.tfc;var g=a.inner.cells.map(l=>l);f=a.inner.rows.map(l=>l);a=a.inner.columns.map(l=>l);f=(e===null||e===void 0?void 0:e.CEg(d,f,g).length)||0;e=(e===null||e===void 0?void 0:e.BEg(d,a,g).length)||0;d=f>0;e=e>0;break;case "layout":case "layout-cell":a=
a.inner.type==="layout"?a.inner.container.layout:a.inner.container.container.layout;if(f=(g=this.kY.Fln)===null||g===void 0?void 0:g.vqg(a))d=f.zhm,e=f.yhm;break;case "background":const {image:h,video:k}=a.inner.Jc[0];b=!!h.ref;c=!!k.ref;break;case "shape":a=a.inner.paths;a.length&&(b=LBs(a),c=MBs(a));break;case "group":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}else(a===null||a===void 0?void 0:a.type)==="elements"&&(a=this.N3g,a.length&&(b=LBs(a),c=MBs(a)));return[e?
"column":null,d?"row":null,b?"image":null,c?"video":null,this.Gqg].filter(tb).map(h=>PBs(h,this.B8a))}get B8a(){var a;if(this.ng.Jb)return this.q0.B8a;var b=this.ng.La;if(b&&b.Ji()&&(b.type==="elements"||b.type==="pages")){if(this.N3g.length)return{type:"shape",paths:this.N3g};switch((a=b.inner)===null||a===void 0?void 0:a.type){case "sheet":a=b.type==="pages"?"sheet-page-content":"sheet-element";var c=b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config,d=this.kY.tfc,e=b.inner.cells.map(g=>g),
f=b.inner.rows.map(g=>g);b=b.inner.columns.map(g=>g);f=(d===null||d===void 0?void 0:d.CEg(c,f,e))||[];b=(d===null||d===void 0?void 0:d.BEg(c,b,e))||[];return{type:a,sheet:c,cells:e,rows:f,columns:b};case "sheet-cell-media":return e=b.inner.container,a=e.row,c=e.column,e=e.sheet,b=b.inner.media.map(g=>g),{type:"sheet-element-cell-media",sheet:e,rb:{row:a,column:c},media:b};case "layout":return{type:"layout-element",Lrc:b.inner.container,cells:[...b.inner.cells]};case "table":return a=b.inner.container,
c=a.ha,b=b.inner.cells,e=lNe(c,b),d=kNe(c,b),{type:"table-element",table:c,parent:a.container,cells:b,lR:[e[0],e[e.length-1]],lF:[d[0],d[d.length-1]]};case "background":case "grid":case "group":case "shape":case "layout-cell":case "pages":case void 0:break;default:throw new v(b.inner);}return b.type==="pages"?{type:"page",pages:b.pages}:b.Od&&b.Od.type==="table"?(a=b.Od,c=lNe(a,[]),e=kNe(a,[]),{type:"table-element",table:a,parent:b.container,cells:[],lR:[c[0],c[c.length-1]],lF:[e[0],e[e.length-1]]}):
b}}get N3g(){var a=this.ng.La;if(!a||!a.Ji()||a.type!=="elements")return[];oa(a.Ji());return(a=(a=a.Od)&&a.type==="shape"&&a.paths.filter(b=>!!b.fill.dropTarget))&&a.length===1&&(LBs(a)||MBs(a))?[a[0]]:[]}lig(){return this.ng.Jb?this.q0.lig():this.DNh}iRj(a,b){if(this.ng.Jb)return this.q0.iRj(a,b);if((b=this.ng.La)&&b.Ji())switch(b.type){case "audio":var c,d;(c=(d=this.kY).cUk)===null||c===void 0||c.call(d,b,a);break;case "pages":if(b=b.inner)switch(b.type){case "background":var e,f;if(b.page.type===
"responsive")return;a=!IBs(this,b.page);(e=(f=this.Ep).dRj)===null||e===void 0||e.call(f,b.page,b.Jc,a,()=>this.ng.deselectAll());break;case "sheet":case "sheet-cell-media":e=this.P.sb("delete_element",{Fb:{name:"editor.delete_element"}});this.mQ(a,e,"inner");break;case "pages":if(b.inner){var g,h;(g=(h=this.Ep).dRj)===null||g===void 0||g.call(h,b.inner.page,b.inner.Jc,!1,()=>this.ng.deselectAll());break}e=this.P.sb("delete_page",{Fb:{name:"editor.delete_page",type:a}});this.mQ(a,e);break;default:throw new v(b);
}else e=this.P.sb("delete_page",{Fb:{name:"editor.delete_page",type:a}}),this.mQ(a,e);break;case "elements":e=this.P.sb("delete_element",{Fb:{name:"editor.delete_element"}});f=b.Od;if(!b.inner){f&&f.type==="shape"?this.mQ(a,e):this.mQ(a,e,"outer");break}this.mQ(a,e,"inner");break;default:throw new v(b);}}mQ(a,b,c){if(this.ng.Jb)this.q0.mQ(a,b,c),b.abort();else{var d=this.ng.La;if(!d||!d.Ji()||d.type!=="elements"&&d.type!=="pages")b.abort();else{var e=this.B8a;if(d.type==="pages"){var f;switch((f=
d.inner)===null||f===void 0?void 0:f.type){case "background":var g,h;if(d.inner.page.type==="responsive")break;e=!IBs(this,d.inner.page);this.Pta(a,b,1);(g=(h=this.Ep).$nf)===null||g===void 0||g.call(h,d.inner.page,d.inner.Jc,e,()=>this.ng.deselectAll());break;case "sheet":if((e===null||e===void 0?void 0:e.type)!=="sheet-page-content")break;d=e.sheet;var k=e.rows,l=e.columns;e=e.cells;switch(c){case "row":var m;this.Pta(a,b,1);(m=this.kY.tfc)===null||m===void 0||m.deleteRows(d,k,b,a);break;case "column":var p;
this.Pta(a,b,1);(p=this.kY.tfc)===null||p===void 0||p.deleteColumns(d,l,b,a);break;case "inner":var q;this.Pta(a,b,1);(q=this.kY.tfc)===null||q===void 0||q.alc(d,e);this.Jg.VQ()}break;case "sheet-cell-media":if((e===null||e===void 0?void 0:e.type)!=="sheet-element-cell-media")break;this.Pta(a,b,1);a=e.media;b=e.sheet;e=e.rb;(k=(l=this.Ep).$Wd)===null||k===void 0||k.call(l,b,e.row,e.column,a);this.Jg.VQ();break;case void 0:case "pages":var r;if(((r=d.inner)===null||r===void 0?void 0:r.inner)!=null){var t,
u;this.Pta(a,b,1);(t=(u=this.Ep).$nf)===null||t===void 0||t.call(u,d.inner.inner.page,d.inner.inner.Jc);break}const {pages:Da,container:Oa}=d.inner||d;XBs(this.L2k,Oa,Da,a,b);break;default:throw new v(d.inner);}}else{if((m=d.Od)&&m.type==="rect"&&m.fill.image.ref!=null){var w,x;__c.hh(this.Pa,m.fill.image.ref)===2||(w=(x=this.aVe).OXk)!==null&&w!==void 0&&w.call(x)}switch(c){case "outer":var y,z;if(d.inner&&NBs(this,d.inner,a,b))return;this.Pta(a,b,d.elements.length);(y=(z=this.Ep).gwa)===null||y===
void 0||y.call(z,d.elements,d.container);return;case "column":switch(e===null||e===void 0?void 0:e.type){case "sheet-page-content":case "sheet-element":var A;this.Pta(a,b,1);d=e.sheet;e=e.columns;(A=this.kY.tfc)===null||A===void 0||A.deleteColumns(d,e,b,a);break;case "table-element":var B,D;this.Pta(a,b,1);(D=this.kY.Sgd)===null||D===void 0||(B=D.ahq)===null||B===void 0||B.call(D,e.table,e.parent,e.lR,a);break;case "layout-element":OBs(this,e.Lrc,e.cells,d.container.page);break;default:b.abort()}return;
case "row":switch(e===null||e===void 0?void 0:e.type){case "sheet-page-content":case "sheet-element":var G;this.Pta(a,b,1);d=e.sheet;e=e.rows;(G=this.kY.tfc)===null||G===void 0||G.deleteRows(d,e,b,a);break;case "table-element":var I,K;this.Pta(a,b,1);(K=this.kY.Sgd)===null||K===void 0||(I=K.bhq)===null||I===void 0||I.call(K,e.table,e.parent,e.lF,a);break;case "layout-element":OBs(this,e.Lrc,e.cells,d.container.page);break;default:b.abort()}return}if(d.inner)switch(d.inner.type){case "grid":var M,
N,Q,R;if((M=(N=this.Ep).bmm)===null||M===void 0?0:M.call(N,d.inner.cells)){this.Pta(a,b,1);break}this.Pta(a,b,1,d.inner.container.container);(Q=(R=this.Ep).gwa)===null||Q===void 0||Q.call(R,[d.inner.grid],d.inner.container.container);break;case "table":var W,X,Z,da;if((W=(X=this.Ep).BRj)===null||W===void 0?0:W.call(X,d.inner.cells)){this.Pta(a,b,1);break}this.Pta(a,b,1,d.inner.container.container);(Z=(da=this.Ep).gwa)===null||Z===void 0||Z.call(da,[d.inner.table],d.inner.container.container);break;
case "sheet":var la;this.Pta(a,b,1);a=d.inner.sheet;b=d.inner.cells.map(Da=>Da);(la=this.kY.tfc)===null||la===void 0||la.alc(a.config,b);this.Jg.VQ();break;case "sheet-cell-media":var ka,pa;this.Pta(a,b,1);a=d.inner.media;b=d.inner.container;(ka=(pa=this.Ep).$Wd)===null||ka===void 0||ka.call(pa,b.sheet,b.row,b.column,a);this.Jg.VQ();break;case "shape":var ja,ia;this.Pta(a,b,1);(ja=(ia=this.Ep).tRj)===null||ja===void 0||ja.call(ia,d.inner.paths);break;case "group":var ba,ca,qa,ra;this.Pta(a,b,d.inner.nb.length,
d.inner.container);a=d.inner.Od;(ba=(ca=this.Ep).gwa)===null||ba===void 0||ba.call(ca,d.inner.nb,d.inner.container);a&&a.type==="rect"&&a.fill.image.ref!=null&&((qa=(ra=this.aVe).OXk)===null||qa===void 0||qa.call(ra));break;case "layout":this.Pta(a,b,1);OBs(this,d.inner.container,[...d.inner.cells],d.container.page);break;case "layout-cell":this.Pta(a,b,1);OBs(this,d.inner.container.container,[d.inner.container.rb],d.container.page);break;default:throw new v(d.inner);}else if(this.B8a)switch(e=this.B8a,
e===null||e===void 0?void 0:e.type){case "shape":var sa,wa;this.Pta(a,b,1);(sa=(wa=this.Ep).tRj)===null||sa===void 0||sa.call(wa,e.paths);break;case "table-element":case "sheet-element":case "sheet-element-cell-media":case "layout-element":var Aa,Ba;this.Pta(a,b,d.elements.length);(Aa=(Ba=this.Ep).gwa)===null||Aa===void 0||Aa.call(Ba,d.elements,d.container);break;case "elements":var za,Fa;a!=="shape_detector"&&this.Pta(a,b,d.elements.length);(za=(Fa=this.Ep).gwa)===null||za===void 0||za.call(Fa,d.elements,
d.container);break;case "page":break;case "sheet-page-content":break;case "item":case "table-item":case "sheet-item":case "sheet-item-cell-media":case "layout-item":case "cover-item":case "page-break-item":break;default:throw new v(e);}}}}}bym(a,b){const c=this.ng.La;if(c&&c.Ji())switch(c.type){case "pages":var d;const {container:e,pages:f}=((d=c.inner)===null||d===void 0?void 0:d.type)==="pages"?c.inner:c;XBs(this.L2k,e,f,a,b);break;case "elements":XBs(this.L2k,c.container.container,[c.container.ha],
a,b);break;case "audio":throw Error("page deletion not supported from audio selection");default:throw new v(c);}else b.abort()}Pta(a,b,c,d){var e;if(!this.ng.Jb){var f=this.ng.La;if(f!==null&&f!==void 0&&f.hp){if((d===null||d===void 0?void 0:d.type)==="group-element"){var g=c>1?"multiple_elements":"single_element_in_group";var h=d.group.lm}c=c>1?"multiple_elements":"single_element";d=f.hp.elements.count();var k=(e=f.elements)===null||e===void 0?void 0:e.map(m=>{if(m.type==="shape"){if(__c.Xfe(m))return"stroke";
if(__c.DWa(__c.BWa(m)))return"recognized_stroke";if(jk(m))return"sticky_note"}return m.type});b.mb().addEvent("deleted");var l={dE:d,xGa:k,kb:a,IRj:g||c,GD:__c.Ijf(f.elements||[]),lm:h};b.mb().nk(({Ii:m})=>{this.N.track(__c.G$g,{...l,Rb:m(),Yp:0,Ur:0,Ey:0})});b.ne()}else b.abort()}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.q0=a;this.Ep=b;this.kY=c;this.L2k=d;this.jc=e;this.ng=f;this.Jg=g;this.Pa=h;this.gb=k;this.aVe=l;this.P=m;this.N=p;this.nG=q;CVs.G(this);this.Ep.vKi("deleting_ui",{jsj:r=>{switch(r.container.type){case "chart-element":break;
case "layout-element-cell":case "fixed-page":case "group-element":case "controlled-element":this.ng.Kl(r.container,r.ha);break;default:throw new v(r.container);}}})}},DVs=class{static G(a){O(a,{wwb:pV,B8a:pV})}get Wie(){return this.wwb}get Ilf(){return this.wwb}get Lvl(){var a=this.Ilf;if(a.length!==1)return!1;a=a[0];return a.type==="row"||a.type==="column"?!1:!0}get xod(){return!1}get cRj(){}get wwb(){var a;if(this.Ma.mode<=20||((a=this.ng.Jb)===null||a===void 0?void 0:a.type)===0)return[];a=this.B8a;
switch(a===null||a===void 0?void 0:a.type){case "item":var b,c;return a.item.type==="design"&&((c=a.item.Yw)===null||c===void 0?void 0:(b=c.ref)===null||b===void 0?void 0:b.type)==="sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "cover-item":var d,e,f,g;if(this.Ma.mode<=30)break;return((d=a.marker.Kg.ref)===null||d===void 0?void 0:d.type)==="design"&&((g=a.marker.Kg.ref)===null||g===void 0?void 0:(f=g.Yw)===null||f===void 0?void 0:(e=f.ref)===null||e===void 0?void 0:e.type)===
"sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "page-break-item":return[{type:"element"}];case "layout-item":var h=a.YQj;return h?[{type:"column",Iae:dqs(this.cxa,a.jw,a.aIa,h)},{type:"layout-item"}]:[{type:"layout-item"}];case "table-item":a=(h=this.kY.Sgd)===null||h===void 0?void 0:h.ZQj();if(!a)break;return[a.iFc?"column":null,a.deleteRow?"row":null,"table-item"].filter(tb).map(k=>PBs(k,this.B8a));case "sheet-item":return[a.columns.length>0?"column":null,a.rows.length>0?"row":
null,"sheet-item"].filter(tb).map(k=>PBs(k,this.B8a));case "sheet-item-cell-media":return[PBs("sheet-item-cell-media",this.B8a)];case void 0:break;default:throw new v(a);}return[]}get B8a(){const a=this.ng.Jb;var b=this.Xa.state;if(b){switch(b.type){case "LAYOUT_CELL":var c,d;const [h,k]=b.cells;return h&&!k?{type:"layout-item",jw:b.layout,YQj:((c=(d=this.Ep).Tif)===null||c===void 0?0:c.call(d,b.layout,b.Oc,h))?h:void 0,aIa:b.Oc}:void 0;case "RANGE":var e,f;return b.xz!=null?b.xz.type==="break"?{type:"page-break-item",
NVe:b.xz}:{type:"item",item:b.xz}:(a===null||a===void 0?void 0:a.container.type)==="layout-item-cell"&&b.isCollapsed?{type:"layout-item",jw:a.container.layout,YQj:((e=(f=this.Ep).Tif)===null||e===void 0?0:e.call(f,a.container.layout,b.Oc,a.container.rb))?a.container.rb:void 0,aIa:a.container.container.container.text}:void 0}switch(a===null||a===void 0?void 0:a.type){case 0:if(a.container.type==="table-item-cell")return b=a.container.table,c=[a.container.rb],d=lNe(b,c),e=kNe(b,c),{type:"table-item",
table:b,cells:c,parent:a.container.container.container,lR:[d[0],d[d.length-1]],lF:[e[0],e[e.length-1]]};break;case 1:var g;if(((g=a.only)===null||g===void 0?void 0:g.type)==="table"&&a.container)return oa(__c.SVc(a.container)),b=a.only,c=[...a.only.cells.values()],d=lNe(b,c),e=kNe(b,c),{type:"table-item",table:b,cells:c,parent:a.container,lR:[d[0],d[d.length-1]],lF:[e[0],e[e.length-1]]};break;case 2:return b=a.container.table,c=a.map(h=>h),d=lNe(b,c),e=kNe(b,c),{type:"table-item",parent:a.container.container,
table:b,cells:c,lR:[d[0],d[d.length-1]],lF:[e[0],e[e.length-1]]};case 4:return b=a.container.sheet,d=this.kY.tfc,c=a.cells.map(h=>h),f=a.rows.map(h=>h),e=a.columns.map(h=>h),f=(d===null||d===void 0?void 0:d.CEg(b.config,f,c))||[],d=(d===null||d===void 0?void 0:d.BEg(b.config,e,c))||[],{type:"sheet-item",parent:a.container.container.text,sheet:b,cells:c,rows:f,columns:d};case 5:return b=a.container,c={row:b.row,column:b.column},d=a.media.map(h=>h),{type:"sheet-item-cell-media",parent:a.container.container.container.text,
sheet:b.xoa,rb:c,media:d};case 3:case void 0:break;default:throw new v(a);}}else if((a===null||a===void 0?void 0:a.container.type)==="marker"||(a===null||a===void 0?void 0:a.container.type)==="section-marker")return{type:"cover-item",marker:a.container.marker}}lig(){return this.B8a!=null}iRj(a,b){var c;if(!b)this.Ep.KBb();else if(!this.TJs){var d=this.B8a;if((d===null||d===void 0?void 0:d.type)==="cover-item"){var e,f;(e=(f=this.Ep).Exe)===null||e===void 0||e.call(f,d.marker);this.ng.deselectAll()}else if((d===
null||d===void 0?void 0:d.type)==="page-break-item")this.mQ(a,new __c.yf);else if((d===null||d===void 0?void 0:d.type)==="sheet-item")(c=this.kY.tfc)===null||c===void 0||c.alc(d.sheet.config,d.cells);else{var g;a=((g=this.Xa.state)===null||g===void 0?void 0:g.type)!=="TABLE_CELL"||this.Xa.state.cells.length!==1||this.Xa.state.cells[0].content.text.isEmpty?void 0:this.Xa.state.cells[0];this.Ep.KBb();a&&(this.Xa.Qu(a.content.text,Rw.end()),this.Xa.focus())}b.preventDefault()}}mQ(a,b,c){var d=this.B8a;
switch(d===null||d===void 0?void 0:d.type){case "layout-item":a=d.jw;b=d.YQj;d=d.aIa;if(b!=null)if(c==="outer"){var e,f;(e=(f=this.Ep).Dqg)===null||e===void 0||e.call(f,a,d);this.Xa.Vv(d,a)}else{var g,h;(g=(h=this.Ep).iXh)===null||g===void 0||g.call(h,a,b,d);this.Xa.deselectAll()}else this.Xa.Vv(d,a),this.Ep.KBb();break;case "table-item":b=d.parent;var k=d.table,l=d.lR;d=d.lF;switch(c){case "column":var m,p;(p=this.kY.Sgd)===null||p===void 0||(m=p.chq)===null||m===void 0||m.call(p,k,b,l,a);break;
case "row":var q,r;(r=this.kY.Sgd)===null||r===void 0||(q=r.dhq)===null||q===void 0||q.call(r,k,b,d,a);break;case "outer":this.Xa.Vv(b.text,k);this.Ep.KBb();break;case "inner":case void 0:this.Ep.KBb();break;default:throw new v(c);}break;case "sheet-item":m=d.sheet;p=d.parent;q=d.columns;r=d.rows;d=d.cells;switch(c){case "column":(k=this.kY.tfc)===null||k===void 0||k.deleteColumns(m.config,q,b,a);break;case "row":(l=this.kY.tfc)===null||l===void 0||l.deleteRows(m.config,r,b,a);break;case "outer":this.Xa.Vv(p,
m);this.Ep.KBb();break;case "inner":case void 0:var t;(t=this.kY.tfc)===null||t===void 0||t.alc(m.config,d);break;default:throw new v(c);}break;case "sheet-item-cell-media":var u,w;c=d.sheet;a=d.rb;d=d.media;(u=(w=this.Ep).$Wd)===null||u===void 0||u.call(w,c.config,a.row,a.column,d);this.Xa.deselectAll();break;case "cover-item":var x,y;(x=(y=this.Ep).Exe)===null||x===void 0||x.call(y,d.marker);break;case "page-break-item":var z,A;if(d.NVe.marker.Kg.ref&&a!=="cut_contextual_menu"&&a!=="cut_keyboard_shortcut"){var B,
D;(B=(D=this.Ep).Exe)===null||B===void 0||B.call(D,d.NVe.marker);break}(z=(A=this.Ep).KBb)===null||z===void 0||z.call(A);break;case "item":case void 0:this.Ep.KBb();break;default:throw new v(d);}}bym(){}get TJs(){var a,b,c;return this.Xa.focused&&((a=this.Xa.state)===null||a===void 0?void 0:a.type)==="RANGE"&&(((b=this.Xa.state.xz)===null||b===void 0?void 0:b.type)!=="break"||!((c=this.Xa.state.xz)===null||c===void 0?0:c.marker.Kg.ref))}Pta(){throw Error("logDeletedAnalytics is not implemented");
}constructor(a,b,c,d,e,f){this.Ep=a;this.kY=b;this.ng=c;this.Xa=d;this.cxa=e;this.Ma=f;DVs.G(this)}};var EVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 4.5h5.25v15H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5Zm12 0h-5.25v15H17a.5.5 0 0 0 .5-.5v-1H19v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1h-1.5V5a.5.5 0 0 0-.5-.5Zm-.97 4.47a.75.75 0 1 0-1.06 1.06L16.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L18 13.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L19.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L18 10.94l-1.97-1.97Z" fill="currentColor"/></svg>';var QBs=dr({medium:EVs});var FVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.5 5v5.25h-15V5a.5.5 0 0 1 .5-.5h14a.5.5 0 0 1 .5.5Zm0 12v-5.25h-15V17a.5.5 0 0 0 .5.5h1V19H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-1v-1.5h1a.5.5 0 0 0 .5-.5Zm-9.47-2.03a.75.75 0 1 0-1.06 1.06L10.94 18l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 19.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L13.06 18l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 16.94l-1.97-1.97Z" fill="currentColor"/></svg>';var RBs=dr({medium:FVs});var GVs=JV(a=>{const b=a.onClick,c=a.disabled;return gV(a.xi,{tooltip:L("eLUEGw"),yh:"icon",icon:Tx,className:"_6n_L7A",onClick:b,disabled:c,children:L("eLUEGw")})});JV(a=>{const b=a.onClick,c=a.oa,d=a.disabled;return gV(a.hl,{Icon:Tx,label:L("eLUEGw"),disabled:d,onClick:b,oa:c,jm:"Delete"})});var HVs=JV(a=>gV(a.xi,{icon:Tx,className:"_6n_L7A",pressed:a.open,yh:"icon",onClick:a.onClick,tooltip:L("eLUEGw"),children:L("eLUEGw")}));
JV(a=>{const b=a.oa;return gV(__c.CD,{margins:"flow",children:a.items.map((c,d)=>gV(IVs,{item:c,oa:b},d))})});
var JVs=JV(a=>{const b=a.P,c=a.disabled,d=a.fTe,e=a.onMouseEnter,f=a.onMouseLeave,g=a.onFocus,h=a.onBlur,k=a.oa;a=a.wwb.map(l=>{const m=SBs(l);return{...m,disabled:c,onClick:jV(()=>d(b.sb("delete_element_dropdown",{Fb:{name:"editor.delete_element"}}),m.mode)),onMouseEnter:jV(()=>e(l)),onMouseLeave:jV(()=>f(l)),onFocus:jV(()=>g(l)),onBlur:jV(()=>h(l))}});return gV(__c.CD,{margins:"flow",children:a.map((l,m)=>gV(IVs,{item:l,oa:k},m))})}),IVs=JV(a=>{const b=a.oa,{message:c,Icon:d,onClick:e,onFocus:f,
onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l=!1}=a.item;return nV(__c.nA,{onClick:()=>{e===null||e===void 0||e();b===null||b===void 0||b()},onFocus:f,onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l,children:[gV(__c.AD,{className:"Roid7g",children:gV(d,{size:"medium"})}),c]})}),KVs=iV(a=>{const b=a.disabled,c=a.Cg;return gV(a.xi,{onClick:a.onClick,icon:Tx,yh:"icon",disabled:b(),tooltip:J("JwjLTA",[c]),children:J("fk0LcQ",[c])})});var LVs=class{static G(a){O(a,{Cg:pV})}get Cg(){var a;return((a=this.ng.La)===null||a===void 0?void 0:a.pages)||[]}axl(){var a;return!(!this.ng.La||this.ng.La.type!=="pages"||((a=this.ng.La)===null||a===void 0?0:a.inner)||!this.ng.La.Ji())}constructor(a,b,c,d,e,f,g,h){this.document=a;this.ng=b;this.Ep=c;this.Y6h=d;this.Oo=e;this.N=f;this.FQn=g;this.KNs=h;LVs.G(this)}};var MVs,NVs,OVs,PVs;
new (MVs=class extends NV{constructor(){super(PVs);NVs()}},(()=>{class a extends(OVs=LV){static G(b){O(b,{open:CV.ref})}render(){const b=this.props.hC,c=this.props.GZg,d=this.props.onClose;return gV(__c.od,{open:this.open,title:J("CMqjrQ",[b]),explanation:J("phFzTA",[c,b]),jG:"critical",buttons:this.buttons,VSb:L("lVGe+Q"),mj:d})}get buttons(){return[{children:L("JTju5w"),onClick:jV(b=>{this.props.ake(b.x_c);this.props.lp();this.open=!1})},{children:L("Xw0Txg"),onClick:jV(b=>{this.props.ake(b.x_c);this.props.onCancel();
this.open=!1})}]}constructor(...b){super(...b);this.open=(PVs.G(this),!0)}}({c:[PVs,NVs]}=PV(a,[],[Ob],OVs))})(),MVs);var QVs=class{get Bjq(){return this.storage?!!this.storage.getItem("E2DontShowPageDeleteWarningWithLink"):this.AAm}constructor(){this.AAm=!1;this.storage=__c.dc()}};var aCs=({Mc:a})=>gV(Pk,{tone:"info",dismissible:!0,Mc:a,children:L("F+UiAA")});var $Bs=class{static G(a){O(a,{init:jV,Mc:jV.bound})}init(){var a,b;this.store.Qla=!this.x4q(715,(b=this.X)===null||b===void 0?void 0:(a=b.Qi)===null||a===void 0?void 0:a.ep)}Mc(){this.store.Qla=!1;this.X&&this.Qa.Sj(new __c.nt({user:this.X.user.id,types:[715]}))}get Qla(){return this.store.Qla}constructor(a,b,c,d=__c.ny){this.store=a;this.X=b;this.Qa=c;this.x4q=d;$Bs.G(this)}};var ZBs=class{static G(a){O(a,{Qla:CV.ref})}constructor(){this.Qla=(ZBs.G(this),!0)}};var RVs=({kKs:a=!1,onCancel:b})=>{const [c,d]=tV(0);lV(()=>{const e=Math.floor(Math.random()*501+500);setTimeout(()=>{c>=1E4||d(f=>f+e)},e)},[c]);a=a?1:1-Math.pow(1.3,-(c/1E3));return gV("div",{className:"wenq4Q",children:nV(Yc,{align:"center",spacing:"1.5u",children:[gV(P,{children:L("VwPLIQ")}),gV(__c.UC,{ariaLabel:L("SzclBg"),stretch:!0,xmc:!0,value:a*100}),gV(fj,{variant:"secondary",stretch:!0,onClick:b,children:L("JDk5tg")})]})})};var TVs=({input:a,ZEc:b,Luk:c,Hbk:d,x$i:e,rcf:f,error:g,VMg:h,aRc:k,NDd:l,f$d:m,pkh:p})=>nV(xV,{children:[e&&gV(S,{Kb:"2u",paddingBottom:"2u",children:gV(e,{})}),f&&gV(S,{Kb:"2u",children:gV(f,{})}),gV(S,{paddingBottom:"2u",Kb:"2u",height:"full",display:h?"flex":void 0,alignItems:h?"center":void 0,children:nV(Yc,{spacing:"2u",children:[a,gV(SVs,{VMg:h,aRc:k,ZEc:b,Luk:c,Hbk:d,error:g,NDd:l,f$d:m,pkh:p})]})})]}),SVs=({VMg:a,aRc:b,ZEc:c,Luk:d,Hbk:e,error:f,NDd:g,f$d:h,pkh:k})=>{const [l,m]=tV(!0),p=
()=>{m(!0);g()};lV(()=>{a&&m(!1)},[a]);return a?gV(RVs,{onCancel:p}):l?f?f:nV(xV,{children:[gV(UVs,{aRc:b}),c,e,d,k&&gV(VVs,{f$d:h})]}):(m(!0),gV(RVs,{kKs:!0,onCancel:p}))},UVs=JV(({aRc:a})=>a?nV(P,{weight:"bold",children:[gV(__c.fA,{}),gV(md,{direction:"horizontal",size:"0.5u"}),J("pVv2cw",[a])]}):null),VVs=JV(({f$d:a})=>{const b=kV(()=>{a===null||a===void 0||a()},[a]);return gV(S,{background:"canvas",borderRadius:"baseUnit",Kb:"2u",Lc:"1.5u",border:"none",children:nV(P,{children:[gV(__c.Rpr,{}),
gV(__c.pk,{message:L("9pud7Q"),nf:b})]})})}),WVs=JV(({a7:a})=>a?nV(kr,{spacing:"1u",Fa:"center",children:[gV(__c.Ozc,{children:L("J7PIrQ")}),gV(Wu,{tone:"neutralLow",text:L("Hv1Kng")})]}):gV(__c.Ozc,{children:L("J7PIrQ")}));var XVs=({input:a,x$i:b,rcf:c,error:d,VMg:e,NDd:f,rZe:g,aRc:h,f$d:k,pkh:l})=>e?gV("div",{onClick:f,children:"Loading..."}):nV(xV,{children:[b&&gV(S,{Kb:"2u",paddingBottom:"2u",children:gV(b,{})}),c&&gV(S,{Kb:"2u",children:gV(c,{})}),gV(S,{paddingBottom:"2u",Kb:"2u",height:"full",children:nV(Yc,{spacing:"2u",children:[a,d?d:g&&nV(Yc,{spacing:"1u",children:[gV(UVs,{aRc:h}),g.map((m,p)=>{switch(m.type){case "text":return gV(m.Zup,{},p);case "chart":return gV(m.NVo,{Hxa:()=>{},Z$c:()=>{}});case "formula":return gV(m.r9o,
{gVk:()=>{}});default:return null}}),l&&gV(VVs,{f$d:k})]})]})})]});var YVs=({quota:a,tPl:b,kBk:c})=>{if(a.kind==="loading")return gV(__c.cu,{size:"small"});const d=a.Ucd?gV(P,{size:"small",children:J("3ExZKg",[a.Ucd])}):null;return nV(S,{display:"flex",justifyContent:"center",alignItems:"center",children:[c?gV(__c.Ox,{}):gV(__c.Nx,{}),"\u00a0",nV(P,{alignment:"center",size:"small",children:[J("Tst+Tw",[a.lve,a.jF]),"\u00a0"]}),c?d:gV(P,{size:"small",children:gV(__c.pk,{message:L("I17TjQ"),nf:b,Ox:"subtle"})})]})};var ZVs=__webpack_require__.p+"images/12cac2d71496e7941348c7ea6e2d56f1.png";var $Vs=__webpack_require__.p+"images/43b2a0458b604ba992d1cf8d2374b9ef.png";var aWs=({Gd:a,alt:b})=>a===1?gV(__c.bv,{src:$Vs,alt:b,border:"none"}):gV(__c.bv,{src:ZVs,alt:b,border:"none"});var bWs=({error:a})=>gV(S,{padding:"2u",children:nV(Yc,{spacing:"1.5u",children:[gV(aWs,{Gd:a.Gd,alt:a.IGf||""}),gV(or,{alignment:"center",size:"xsmall",children:a===null||a===void 0?void 0:a.IGf}),gV(P,{alignment:"center",children:a===null||a===void 0?void 0:a.fth})]})});var cCs={get aHm(){return Qb("f62bdbf5",!1)},get Guq(){return Qb("1337609c",!1)},get vyq(){return Qb("67d49c82",!1)},get Pln(){return Qb("fb3552ee","")},get ADk(){return Qb("11da8253","")},get wyq(){return Qb("bc7d14a5",!1)},get cuq(){return Qb("8c7e6060",!1)},get uwq(){return Qb("42dc6e6c",!1)},get nvq(){return Qb("28ecb8e8",!1)}};var cWs=__webpack_require__.p+"images/cedd6f1881f2e6c967a69cc8e0678814.svg";var dWs=__webpack_require__.p+"images/6ba3afe7a63dc79585765f2493a7585c.svg";var eWs=__webpack_require__.p+"images/f166701c9801db56ad4508fb96c451d1.svg";var fWs=__webpack_require__.p+"images/6433e4a9a0eb074221d54830396fd558.svg";var hWs=({Itc:a})=>nV(Yc,{spacing:"1.5u",children:[gV(or,{size:"xsmall",children:L("13k7+g")}),gV(jr,{columns:2,spacing:"1.5u",HUf:"equal",children:gWs.map((b,c)=>gV(So,{onClick:()=>a(b.text,b.id,c),content:nV(S,{height:"full",display:"flex",flexDirection:"column",borderRadius:"containerLarge",className:"_0ybf2Q",border:"low",padding:"2u",children:[nV(Yc,{spacing:"0.5u",children:[gV(P,{size:"small",weight:"bold",className:"_0LZC8Q",children:b.label}),gV(__c.Mo,{size:"small",lineClamp:3,children:b.text})]}),
gV(S,{paddingTop:"0.5u",height:"full",display:"flex",alignItems:"end",children:gV(gv,{aspectRatio:1.25,src:b.image})})]})},b.id))})]}),gWs=[{id:"spot_trends",text:L("/15meQ"),label:L("l6sRWQ"),image:dWs},{id:"visualize",text:L("WdBwUg"),label:L("7fXBqw"),image:fWs},{id:"summarize",text:L("JLfw8A"),label:L("P6WuTA"),image:eWs},{id:"find_outliers",text:L("l8zS1w"),label:L("LOom5w"),image:cWs}];var iWs=({s9h:a,xCa:b,Xbq:c,SWr:d,NXe:e,H0r:f,ysd:g,byi:h,lNq:k,SVi:l,fRg:m,Itc:p})=>nV(Yc,{spacing:"1u",children:[b,g&&gV(Pk,{tone:"critical",dismissible:!0,Mc:h,HH:!0,children:g}),gV(__c.rD,{placeholder:L("94xB5A"),value:e,onChange:f,kn:k?5:2,maxRows:5,$La:0,JJ:!0,maxLength:280,ariaLabel:L("m5uzaQ"),footer:!k&&gV(S,{padding:"1u",children:gV(Yc,{spacing:"0",align:"end",children:gV(fj,{variant:"primary",icon:l?__c.Q4f:Xt,onClick:d,disabled:a})})})}),m&&cCs.uwq&&gV(Pk,{tone:"info",HH:!0,size:"small",
Pg:!0,children:gV(__c.ok,{message:L("xxsYsQ")})}),k&&gV(fj,{variant:"primary",icon:Xt,wp:"end",stretch:!0,onClick:d,disabled:a,ariaLabel:L("m5uzaQ"),children:L("m5uzaQ")}),c,k&&cCs.Guq&&gV(hWs,{Itc:p})]});var jWs={eventType:"magic_insights_interacted",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),action:a.action,num_attempt:a.Uta,had_prompt:a.xta,panel_session_id:a.HY,generation_id:a.wY,range_selection:a.DD,time_since_requested_ms:a.q2b,results_id:a.JBb,error_type:a.Gd,insight_type:a.C$b,index_position:a.mM,entity_id:a.cta,chart_type:a.Yc,chart_type_variant:a.gm,card_prompt_suggestion_type:a.YQa,card_prompt_suggestion_index:a.XQa})}},kWs={eventType:"magic_insights_results_generated",
Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),num_attempt:a.Uta,had_prompt:a.xta,panel_session_id:a.HY,generation_id:a.wY,range_selection:a.DD,time_since_requested_ms:a.q2b,results_id:a.JBb,summary_generated:a.MZi,num_formulas_generated:a.evi,num_charts_generated:a.Zui,error_type:a.Gd,summary_error_type:a.yxo})}},lWs={eventType:"magic_insights_results_viewed",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),num_attempt:a.Uta,had_prompt:a.xta,panel_session_id:a.HY,generation_id:a.wY,
range_selection:a.DD,time_since_requested_ms:a.q2b,results_id:a.JBb,summary_generated:a.MZi,num_formulas_generated:a.evi,num_charts_generated:a.Zui,summary_viewed:a.qWs,num_formulas_viewed:a.vNr,num_charts_viewed:a.YMr})}};var LCs=H(()=>({}));var mCs=(a,b,c)=>{const d=new Set(Hqs(c));if(!a.every(f=>d.has(f)))return Ka({QFe:"GROUPED_SERIES_FROM_ROWS",binding:"groupBy"});const e=[];c=eCs(c.data());for(const [f,g]of c){c={binding:"unused"};f===b?c={binding:"valueBy",id:Sy()}:a.includes(f)&&(c={binding:"groupBy",id:Sy()});const {values:h,Ab:k}=fCs([...g],c.binding);e.push({label:f,values:h,type:c,Ab:k})}return Ia(e)},lCs=(a,b,c,d,e,f)=>{const g=new Set(Hqs(f));if(!c.every(k=>g.has(k)))return Ka({QFe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"yAxisLabels"});
if(!g.has(b))return Ka({QFe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"xAxisLabel"});if(a&&!g.has(a))return Ka({QFe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"labelHeader"});const h=[];f=eCs(f.data());for(const [k,l]of f){f={binding:"unused"};k===b?f={binding:"xValueBy",id:Sy()}:a&&k===a?f={binding:"labelBy",id:Sy()}:c.includes(k)?f={binding:"yValueBy",id:Sy()}:d&&k===d?f={binding:"colorBy",id:Sy()}:e&&k===e&&(f={binding:"sizeBy",id:Sy()});const {values:m,Ab:p}=fCs([...l],f.binding);h.push({label:k,values:m,
type:f,Ab:p})}return Ia(h)};var mWs=a=>{let b=0;for(let c=0;c<a.length;c++)b=b*26+(a.charCodeAt(c)-65)+1;return b-1},nWs=a=>{if(a.length===0)return[];let b=0,c=0;a.forEach(({reference:e})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,f,g]=e;e=mWs(f);b=Math.max(b,parseInt(g,10)-1);c=Math.max(c,e)}});const d=Array.from({length:b+1},()=>Array(c+1).fill(""));a.forEach(({reference:e,value:f})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,g,h]=e;e=mWs(g);d[parseInt(h,10)-1][e]=f}});return d};var oWs=({Z$c:a,w9d:b})=>gV(S,{Lc:"1u",children:nV(Zo,{role:"menu",children:[b&&gV(au,{onClick:b,children:nV(kr,{spacing:"1u",Fa:"center",children:[gV(__c.gAf,{}),gV(P,{children:L("jBio7A")})]})}),!cCs.aHm&&gV(au,{onClick:a,children:nV(kr,{spacing:"1u",Fa:"center",children:[gV(PD,{}),gV(P,{children:L("oJqySA")})]})})]})});var qWs=({qWh:a,index:b,qKf:c,w9d:d,Z$c:e,Hxa:f,tXl:g})=>{const [h,k]=tV(!1),{hcb:l}=rCs({onChange:t=>t&&f()}),m=kV(()=>{a&&(e(a,b),k(!1))},[a,b,e]),p=d&&(()=>{d();k(!1)}),q=()=>{k(t=>!t)},r=JV(t=>gV(__c.Qo,{...t,width:"40u"}));return gV("div",{className:"is0Txw",children:gV(So,{Si:l,onClick:c,ariaLabel:L("ou/phw"),thumbnail:gV(__c.dv,{children:nV(S,{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",flex:"auto",width:"full",children:[a&&gV(pWs,{qWh:a}),g]})}),Rr:a&&gV(__c.FC,{location:"top-end",
children:gV(__c.t7d,{sDa:r,w0d:gV(oWs,{Z$c:m,w9d:p}),isOpen:h,uS:q})}),layout:"vertical",Smb:"thumbnail"})})},pWs=({qWh:a})=>gV("div",{children:gV(S,{padding:"2u",display:"flex",alignItems:"center",height:"full",children:gV(P,{weight:"regular",size:"medium",children:a})})});var vCs=/\{([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\}/gi,BCs=/(\{[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\})/g,CCs=/^\{([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\}$/;var rWs=({formula:a,gVk:b})=>gV("span",{className:"Eu_wsQ",onMouseEnter:b,role:"button",children:gV("strong",{children:a.t8h.k6m})});var yCs=({section:a,Hxa:b,Z$c:c})=>{const d=a.Yb;return gV(S,{Lc:"1u",children:gV(qWs,{index:a.index,qWh:d.description,qKf:d.qKf,w9d:d.w9d,Hxa:b,Z$c:c,tXl:gV(d.Oq,{aspectRatio:{min:1,max:1,default:1}})})})},sWs=a=>{switch(a.type){case "text":return a.content;case "bold":return gV("strong",{children:a.children.map(sWs)});case "break":return gV("br",{});default:throw new v(a);}},xCs=({content:a})=>{a=qRs(a).children.flatMap(b=>FCs(b)).map(sWs);return gV(P,{children:a})},tWs=(a,b)=>{switch(a.type){case "text":return a.content;
case "formula-placeholder":return gV(rWs,{formula:a.VQq,gVk:b});case "bold":return gV("strong",{children:a.children.map(c=>tWs(c,b))});case "break":return gV("br",{});default:throw new v(a);}},zCs=({section:a,gVk:b})=>{const c=qRs(a.content).children.flatMap(d=>ECs(d,a.OTa)).map(d=>tWs(d,b));return gV(P,{children:c})};var uWs=class{static G(a){O(a,{history:CV.shallow,yWe:CV.ref,NXe:CV.ref,ysd:CV.ref,error:CV.ref,quota:CV.ref,XK:CV.ref,Xwa:pV,EGd:pV,current:pV})}get kBk(){return this.Bnf.status===Ux.Wh}get Xwa(){return this.yWe!=null}get EGd(){var a;return(a=this.NXe)===null||a===void 0?void 0:a.trim()}get current(){if(!(this.history.length<1))return this.history[this.history.length-1]}get GJb(){var a;return(a=this.current)===null||a===void 0?void 0:a.GJb}get ZEc(){var a;return(a=this.current)===null||a===void 0?
void 0:a.ZEc}get upd(){var a;return(a=this.current)===null||a===void 0?void 0:a.upd}get rZe(){var a;return(a=this.current)===null||a===void 0?void 0:a.rZe}get dOe(){var a;return(a=this.current)===null||a===void 0?void 0:a.lTq}get eln(){var a;return(a=this.current)===null||a===void 0?void 0:a.XK}constructor(a){this.Bnf=a;this.lnn=(uWs.G(this),void 0);this.history=[];this.error=this.ysd=this.NXe=this.yWe=void 0;this.quota={kind:"loading"};this.session={id:Sb(),attempt:0}}};var vWs=14*eu,wWs=class{static G(a){O(a,{s9h:pV,dm:jV,NDd:jV.bound,SVi:pV,fRg:pV})}get s9h(){if(this.fRg)return!0;const a=this.store.quota;switch(a.kind){case "loading":return!0;case "loaded":return a.jF===0;default:throw new v(a);}}Iok(){var a;const b=this.Kwd(),c=(a=this.store.dOe)===null||a===void 0?void 0:a.YIs;if(!b.ok||!c)return!0;a=b.value.Ima;return a.length!==c.length?!0:a.every(d=>{c.find(e=>d.reference===e.reference&&d.value!==e.value)})}dm(a){this.store.error=a}Kwd(){const a=this.sfc.xCa;
if(!a)return Ka({errorMessage:L("lGc67g"),xCa:a,GYc:"no_selection"});const {data:b,Jqa:c}=ICs(this,a);if(b.length<=1)return Ka({errorMessage:L("Xi2QLg"),xCa:a,GYc:"too_few_cells"});var d=a.cells;if(d.length!==0&&d[0].row.id===d[d.length-1].row.id)return Ka({errorMessage:L("bWTxvA"),xCa:a,GYc:"too_few_rows"});d=JCs(this,a);d=n(d.at(0)).filter(e=>e.length);return(new Set(d)).size!==d.length?Ka({errorMessage:L("Z3LgIw"),xCa:a,GYc:"duplicate_headers"}):Ia({xCa:a,Ima:b,Jqa:c})}MKj(a){const b=a.Un,c=a.config,
d=a.data;a=a.Ob;var e=new Map;e.set("font-size",vWs.toString());e.set("color","#000000");oa(this.PD.Ja!=="responsive");e=__c.bQe(this.PD,e);return{...__c.OYc,id:void 0,top:0,left:0,width:810,height:810,eb:810,Ub:810,Sm:{top:0,left:0,width:810,height:810},config:c,data:d,Ob:a,Un:b,xe:e,nb:[],labels:[]}}qTh(a){const b=a.Un,c=a.config,d=a.data;a=a.Ob;oa(this.PD.Ja==="responsive");const e=__c.$Pe(this.PD);return __c.GUc.create({...__c.nZc,id:void 0,config:c,data:d,Ob:a,Un:b,xe:e})}get SVi(){var a;return this.store.EGd!=
null&&this.store.EGd.length>0&&this.store.EGd===((a=this.store.dOe)===null||a===void 0?void 0:a.prompt)&&!this.Iok()}get fRg(){var a=this.GKa.findSheet();if(!a)return!0;a=a.sheet;var b=a.layout.rows.toArray();const c=a.layout.cols.toArray();for(const d of b)for(const e of c)if((b=this.Wc.getContent(a,d,e))&&b.Pr)return!1;return!0}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,M,N,Q){this.store=a;this.navigation=b;this.ka=c;this.pn=d;this.Qe=e;this.oc=f;this.KPj=g;this.PD=h;this.selection=
k;this.GKa=l;this.sfc=m;this.Wc=p;this.LS=q;this.N=r;this.Bnf=t;this.cE=u;this.aja=w;this.Uxb=x;this.JB=y;this.errorService=z;this.la=A;this.Fz=B;this.nS=D;this.clipboard=G;this.viewport=I;this.dh=K;this.A6l=M;this.Ac=N;this.mmq=Q;this.DNn=(wWs.G(this),jV(async()=>{var R;this.store.session={id:Sb(),attempt:0};this.store.lnn=this.PD.tJa();this.ka.layout===1?this.pn.open(this.KPj,{H9:"start"}):(R=this.Qe)===null||R===void 0||R.JNf(this.navigation,{height:"auto"});this.dh(L("J7PIrQ"));await MCs(this)}));
this.AXp=()=>{this.pn.close(this.KPj)};this.QOm=async()=>{var R;uV(()=>{this.store.error=void 0;this.store.ysd=void 0});(R=this.mmq)===null||R===void 0||R.call(this);const W=KCs(this);R=RCs(this.store.EGd);R={Uta:this.store.session.attempt,xta:this.store.EGd!=null&&this.store.EGd.length>0,HY:this.store.session.id,wY:void 0,JBb:void 0,C$b:void 0,mM:void 0,cta:void 0,Yc:void 0,gm:void 0,q2b:void 0,YQa:R===null||R===void 0?void 0:R.type,XQa:R===null||R===void 0?void 0:R.index};this.store.session.attempt+=
1;if(W.ok){var X=W.value.xCa;await this.YJq(X,W.value.Ima,W.value.Jqa,W.value.tu,{Uta:R.Uta,xta:R.xta,HY:R.HY,DD:X.range,YQa:R.YQa,XQa:R.XQa})}else uV(()=>{this.store.history.length>0?this.store.error=NCs(2):this.store.ysd=W.error.errorMessage}),this.N.track(jWs,{...R,action:"generate",DD:(X=W.error.xCa)===null||X===void 0?void 0:X.range,Gd:W.error.GYc})};this.YJq=async(R,W,X,Z,{Uta:da,xta:la,HY:ka,DD:pa,YQa:ja,XQa:ia})=>{var ba,ca;const qa=this.GKa.DJc(),ra=this.store.EGd,sa=Date.now(),wa={huk:void 0,
Uta:da,xta:la,wY:void 0,DD:pa,HZe:sa,YQa:ja,XQa:ia};uV(()=>{this.store.yWe=wa;this.store.NXe=ra;this.store.XK=qa});X=await this.fKq(W,X,Z,wa,ka);if(this.store.Xwa)if(Z=Date.now()-sa,ka=this.pn.isOpen(this.KPj)?this.store.session.id:void 0,X.resultType===1)this.dm(X.error),uV(()=>{this.store.yWe=void 0}),X.Gd==="generation"&&this.N.track(kWs,{Uta:da,xta:la,HY:ka,wY:wa.wY,DD:pa,q2b:Z,JBb:void 0,MZi:!1,evi:void 0,Zui:void 0,Gd:X.GYc,yxo:void 0});else{var Aa={GJb:X.results.GJb,upd:X.results.PQ,ZEc:X.results.summary,
rZe:X.results.rZe,lTq:{prompt:ra,aRc:`${R.sheetName}`,YIs:W},XK:qa,Uta:da,xta:la,wY:X.wY,DD:pa,HZe:sa,UPj:!1,tEj:X.results.PQ.map(()=>!1),Kbk:X.results.GJb.map(()=>!1),YQa:wa.YQa,XQa:wa.XQa};uV(()=>{this.store.history.push(Aa);this.store.yWe=void 0});this.N.track(kWs,{Uta:Aa.Uta,xta:Aa.xta,HY:ka,wY:Aa.wY,DD:Aa.DD,q2b:Z,JBb:void 0,MZi:Aa.ZEc!=null,evi:Aa.GJb.length,Zui:Aa.upd.length,Gd:void 0,yxo:void 0});(ba=(ca=this.Fz).mun)===null||ba===void 0||ba.call(ca)}};this.fKq=async(R,W,X,Z,da)=>{let la,
ka;X=new __c.r7c({content:X});try{({id:la}=await this.LS.cMj({data:R,prompt:this.store.EGd||void 0,tu:X}))}catch(pa){ka=pa instanceof __c.Tb&&pa.statusCode===403?"permissions_error":"internal_error",this.errorService.pa(pa)}if(!la)return this.N.track(jWs,{action:"generate",DD:Z.DD,Uta:Z.Uta,xta:Z.xta,HY:da,wY:void 0,JBb:void 0,C$b:void 0,mM:void 0,cta:void 0,Yc:void 0,gm:void 0,q2b:void 0,YQa:Z.YQa,XQa:Z.XQa,Gd:ka!==null&&ka!==void 0?ka:"sent_empty_data_set"}),{resultType:1,Gd:"interaction",error:NCs(6)};
Z.wY=la;this.N.track(jWs,{action:"generate",DD:Z.DD,Uta:Z.Uta,xta:Z.xta,HY:da,wY:Z.wY,JBb:void 0,C$b:void 0,mM:void 0,cta:void 0,Yc:void 0,gm:void 0,q2b:void 0,YQa:Z.YQa,XQa:Z.XQa,Gd:void 0});try{const pa=__c.Qh(()=>this.Fgs(la),xWs,{rs:6E4});Z.huk=pa;const ja=await pa.result;Z.huk=void 0;if(ja.type==="FAILURE")return{resultType:1,Gd:"generation",error:NCs(ja.reason),GYc:OCs(ja.reason)};uV(()=>{if(ja.quota){const ra=Date.now();this.store.quota={kind:"loaded",lve:ja.quota.lve,jF:ja.quota.jF,Ucd:ja.quota.Ucd?
new Date(ra+ja.quota.Ucd):void 0}}else this.store.ysd=L("ldPNNQ")});const ia=ja.PQ.map(ra=>{try{const sa=this.dus([...ra.dataset],W.dateFormat),wa=new jCs(nWs(sa)),Aa=qCs(ra.rEj,wa);if(Aa.ok)return{Yb:Aa.value.Tab,message:ra.message,Wa:ra.id};this.errorService.pa(Aa.error,"Error processing chart insight")}catch(sa){this.errorService.pa(sa,"Error processing chart insight")}}).filter(ra=>{if(!ra)return!1;switch(ra.Yb.config.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":return!0;
case "DUMBBELL":case "LOLLIPOP":case "SUNBURST":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":case "POPULATION_PYRAMID":return!1;default:throw new v(ra.Yb.config);}}).filter(tb);await this.store.lnn;const ba=ia.map(this.OAr),ca=this.yWq(ja.GJb);let qa;if(ja.Hgl){const ra=uCs(ja.Hgl,ca,ba);if(ra.ok){const sa=ra.value;try{qa=sa.map(wa=>ACs(wa))}catch(wa){return this.errorService.pa(wa,"Failed to render conversational sections"),{resultType:1,Gd:"generation",error:NCs(6),GYc:OCs(6)}}}}return{resultType:0,
results:{PQ:ba,GJb:ca,summary:ja.summary,rZe:qa},wY:la}}catch(pa){return this.errorService.pa(pa),{resultType:1,Gd:"generation",error:NCs(6),GYc:OCs(6)}}};this.Fgs=async R=>{R=await this.LS.kgk({id:R});switch(R.type){case "SUCCESS":case "FAILURE":return R}};this.dOs=R=>{const W=this.selection.La,X=this.selection.Jb;if(W&&W.Ji())switch(W.type){case "audio":return!1;case "elements":switch(R){case "data-insights":var Z,da;return((Z=W.inner)===null||Z===void 0?void 0:Z.type)==="sheet"?this.IDj(W.inner.sheet.config,
W.inner.cells):((da=W.Od)===null||da===void 0?void 0:da.type)==="sheet"?!0:!1;case "data-insights-action":var la,ka;return((la=W.inner)===null||la===void 0?void 0:la.type)==="sheet"||((ka=W.Od)===null||ka===void 0?void 0:ka.type)==="sheet";default:throw new v(R);}case "pages":switch(R){case "data-insights":var pa;return((pa=W.inner)===null||pa===void 0?void 0:pa.type)==="sheet"&&this.IDj(W.inner.page.sheet,W.inner.cells);case "data-insights-action":var ja;return((ja=W.inner)===null||ja===void 0?void 0:
ja.type)==="sheet";default:throw new v(R);}default:throw new v(W);}if(X)switch(X.type){case 4:switch(R){case "data-insights":return this.IDj(X.container.sheet.config,X.cells);case "data-insights-action":return!0;default:throw new v(R);}case 1:switch(R){case "data-insights":var ia;return((ia=X.only)===null||ia===void 0?void 0:ia.type)==="sheet";case "data-insights-action":var ba;return((ba=X.only)===null||ba===void 0?void 0:ba.type)==="sheet";default:throw new v(R);}case 3:case 5:case 2:case 0:break;
default:throw new v(X);}return!1};this.IDj=(R,W)=>W?Array.from(W).some(X=>{var Z;return(X=this.Wc.getContent(R,X.row,X.column))?X.VC.type===4&&((Z=X.oAa)===null||Z===void 0?void 0:Z.type)!=="select"||X.VC.type===1:!1}):!1;this.b0a=R=>{this.N.track(__c.l1f,{Ed:R,Is:"charts",source:"other",location:"magic_insights",action:"design",rGb:void 0,SE:void 0,Ai:void 0,Lua:void 0})};this.Dpe=async(R,W)=>{const X=n(this.store.current,"Should be current results when adding chart to page"),Z=Date.now()-X.HZe;
try{var da;const {config:la,id:ka}=await this.oc.fha(R,{Uc:"data_insights"},void 0,{BU:!0});this.N.track(jWs,{action:"add_chart_to_page",Uta:X.Uta,xta:X.xta,HY:this.store.session.id,wY:X.wY,DD:X.DD,q2b:Z,mM:W,JBb:n(X.upd.at(W)).Wa,C$b:"chart",Yc:PCs(la.ref),gm:QCs(__c.kw(la.ref)),cta:ka,Gd:void 0,YQa:X.YQa,XQa:X.XQa});const pa=(da=this.Ac.Ic)===null||da===void 0?void 0:da.id;pa&&this.Ac.VJc&&this.b0a(pa)}catch(la){this.errorService.pa(la,{Ka:"Failed to add to chart to page"})}};this.TGh=async(R,W)=>
{oa(this.A6l!=null);const X=n(this.store.current,"Should be current results when adding chart to page"),Z=this.A6l(this.viewport.ya);if(Z){this.selection.wT(Z.container,Z.ha);var da=Date.now()-X.HZe;try{var la;const {config:ka,id:pa}=await this.oc.fha(R,{Uc:"data_insights"},{Pe:Z},{BU:!0});this.N.track(jWs,{action:"add_chart_to_new_page",Uta:X.Uta,xta:X.xta,HY:this.store.session.id,wY:X.wY,DD:X.DD,q2b:da,mM:W,JBb:n(X.upd.at(W)).Wa,C$b:"chart",Yc:PCs(ka.ref),gm:QCs(__c.kw(ka.ref)),cta:pa,Gd:void 0,
YQa:X.YQa,XQa:X.XQa});const ja=(la=this.Ac.Ic)===null||la===void 0?void 0:la.id;ja&&this.Ac.VJc&&this.b0a(ja)}catch(ka){this.errorService.pa(ka,{Ka:"Failed to add to chart to new page"})}}};this.dus=(R,W)=>W?R.map(X=>{if(X.xJ){const Z=__c.qyb(Number.parseFloat(X.xJ));if(Z)return{...X,value:__c.Gyb(this.nS,Z,{format:W,type:"date"})}}return X}):R;this.q2p=async R=>{await this.clipboard.writeText(R);this.la.Ib({Cb:L("AxOOOg")});R=n(this.store.current,"Should be current results when adding chart to page");
this.N.track(jWs,{action:"copy_summary",Uta:R.Uta,xta:R.xta,HY:this.store.session.id,wY:R.wY,DD:R.DD,q2b:Date.now()-R.HZe,JBb:void 0,C$b:"summary",Gd:void 0,mM:void 0,Yc:void 0,gm:void 0,cta:void 0,YQa:R.YQa,XQa:R.XQa})};this.Rrm=async(R,W,X)=>{await this.clipboard.writeText(R);switch(W){case "formulaText":this.la.Ib({Cb:L("1DT6sg")});break;case "formula":this.la.Ib({Cb:L("nDCdqw")});break;case "chartTitle":this.la.Ib({Cb:L("WUKA7A")});break;default:throw new v(W);}R=n(this.store.current,"Should be current results when adding chart to page");
switch(W){case "formulaText":W={action:"copy_formula_text",C$b:"formula",gm:void 0,Yc:void 0,cta:void 0,JBb:n(R.GJb.at(X)).Wa};break;case "formula":W={action:"copy_formula",C$b:"formula",gm:void 0,Yc:void 0,cta:void 0,JBb:n(R.GJb.at(X)).Wa};break;case "chartTitle":W=n(R.upd.at(X),"Chart should exist when copying title").Yb;W={action:"copy_chart_title",C$b:"chart",gm:QCs(__c.kw(W.config.ref)),Yc:PCs(W.config.ref),cta:W.id,JBb:n(R.upd.at(X)).Wa};break;default:throw new v(W);}this.N.track(jWs,{...W,
Uta:R.Uta,xta:R.xta,HY:this.store.session.id,wY:R.wY,DD:R.DD,q2b:Date.now()-R.HZe,mM:X,Gd:void 0,YQa:R.YQa,XQa:R.XQa})};this.yWq=R=>{const W=this.sfc.xCa;return W?R.reduce((X,Z)=>{if(!Z.hIf)return X;let da;const la=this.zWq(Z);if(la==null)return X;try{var ka=__c.Y7q(this.Uxb,W.sheet,la);da=this.s_q(ka,Z.s8h)}catch(ja){return X}if(!da)return X;ka=Z.hIf.split("%s");const pa=Z.hIf.replace("%s",da);X.push({formula:`=${la.Wka}`,t8h:{prefix:ka[0],suffix:ka[1],k6m:da},MTm:pa,Wa:Z.id});return X},[]):[]};
this.zWq=R=>{R=R.formula.startsWith("=")?R.formula.slice(1):R.formula;return __c.nee(this.JB,{type:0,zpa:R})};this.s_q=(R,W)=>{switch(R.type){case 0:if(W===3)return __c.Cyb(this.nS,R.value,{Zv:2,Hq:!1});if(R.Ab==null)return R=R.value,Math.abs(R)<1?R=R.toPrecision(2):(R=(Math.round(R*100)/100).toString(),W=parseFloat(R),R=!isNaN(W)&&W>9999?__c.iJ(W):R),R;switch(R.Ab.type){case "date":return(W=__c.qyb(R.value))?__c.Gyb(this.nS,W,R.Ab.xj):"";case "embed":case "mention":case "select":return R.value.toString();
case "plain_number":case "percentage":case "currency":return __c.Fyb(this.nS,R.value,R.Ab.xj);case "checkbox":return R.value.toString();default:throw new v(R.Ab);}case 2:return R.value.toString();case 16:return R=R.value.aVd(),R.type===2?R.value:"";case 1:case 4:case 3:case 15:return"";default:throw new v(R);}};this.OAr=(R,W)=>{if(this.PD.Ja!=="responsive"){var X=R.Yb.dqa(void 0);X=__c.Nn.create({...__c.Js,id:void 0,elements:[this.MKj(X)]});const da=X.elements.toArray()[0];oa(da.type==="chart");const la=
__c.Jf({pages:[X]}).tb(X);X=this.PD.Dsm(()=>({Yb:da,Gh:la}));this.PD.fBf({Yb:da,BU:!0});return{qKf:()=>this.Dpe(R.Yb,W),w9d:()=>this.TGh(R.Yb,W),Oq:X,type:"fixed",Yb:da,description:R.message,Wa:R.Wa}}X=R.Yb.dqa(void 0);const Z=this.qTh(X);return{qKf:()=>this.Dpe(R.Yb,W),w9d:()=>this.TGh(R.Yb,W),Oq:this.PD.NKj(()=>Z),type:"responsive",Yb:Z,description:R.message,Wa:R.Wa}};this.NDd=()=>{var R;const W=this.store.yWe;W!=null&&((R=W.huk)===null||R===void 0||R.cancel(),this.store.yWe=void 0,this.N.track(jWs,
{action:"cancel",Uta:W.Uta,xta:W.xta,HY:this.store.session.id,wY:W.wY,DD:W.DD,q2b:Date.now()-W.HZe,JBb:void 0,C$b:void 0,cta:void 0,Yc:void 0,gm:void 0,mM:void 0,Gd:void 0,YQa:W.YQa,XQa:W.XQa}),this.store.XK=this.store.history.length===0?void 0:this.store.eln)};this.ojo=jV(R=>{this.store.NXe=R});this.iEa=jV(()=>{this.store.ysd=void 0});this.tPl=()=>{this.Bnf.Pd("magic_insights","paywall")};this.fPl=Gb(()=>{const R=this.store.current;R&&this.N.track(lWs,{Uta:R.Uta,xta:R.xta,HY:this.store.session.id,
wY:R.wY,DD:R.DD,q2b:Date.now()-R.HZe,JBb:void 0,MZi:R.ZEc!=null,evi:R.GJb.length,Zui:R.upd.length,qWs:R.UPj,vNr:R.Kbk.filter(Boolean).length,YMr:R.tEj.filter(Boolean).length})},500,{leading:!1});this.qUr=()=>{const R=this.store.current;R&&!R.UPj&&(R.UPj=!0,this.fPl())};this.hVk=R=>{const W=this.store.current;W&&!W.Kbk[R]&&(W.Kbk[R]=!0,this.fPl())};this.NRr=R=>{const W=this.store.current;W&&!W.tEj[R]&&(W.tEj[R]=!0,this.fPl())};this.Itc=(R,W,X,Z)=>{this.ojo(W);this.N.track(jWs,{action:"click_card_prompt_suggestion",
YQa:X,XQa:Z,Uta:R.session.attempt,JBb:void 0,xta:!0,HY:this.store.session.id,DD:void 0,q2b:void 0,C$b:void 0,cta:void 0,Yc:void 0,gm:void 0,mM:void 0,Gd:void 0,wY:void 0});cCs.cuq&&this.QOm()}}},xWs=a=>{switch(a){case 0:return 3E3;case 1:return 2E3;default:return 1E3}};var yWs=class{constructor(a,b,c,d,e,f){this.selection=a;this.sfc=b;this.Ma=c;this.viewport=d;this.gd=e;this.vTc=f;this.DJc=()=>{var g,h=this.selection.La,k=(g=this.sfc)===null||g===void 0?void 0:g.xCa;if(k){if(h)switch(h.type){case "elements":var l;if(((l=h.inner)===null||l===void 0?void 0:l.type)!=="sheet")return;var m=k.cells;return m?{type:"element",sheet:k.sheet,bca:m.map(q=>q),element:h.inner.container,page:h.$z,FD:new tA(h.inner.container,this.viewport)}:void 0;case "pages":var p;return h.inner&&
((p=h.inner)===null||p===void 0?void 0:p.type)==="sheet"?(m=k.cells)&&h.pages.length===1?{type:"sheet",sheet:k.sheet,bca:m.map(q=>q),page:h.inner.container,FD:new uA(h.inner.container,this.viewport,this.Ma)}:void 0:void 0}if(h=this.selection.Jb)switch(h.type){case 4:if(k=(m=this.sfc)===null||m===void 0?void 0:m.xCa,(g=k===null||k===void 0?void 0:k.cells)&&k!==null&&k!==void 0&&k.sheet)return m=h.container.container.Hw(h.container.sheet),{type:"item",sheet:k.sheet,bca:g,item:m,page:h.$z,FD:new wA(m,
this.gd,this.viewport)}}}};this.findSheet=()=>{var g=(g=this.viewport.ya)&&uf(g)?{sheet:g.sheet,sheetId:g.id}:void 0;if(!(g=g||SCs(this)))a:{if(g=this.selection.Jb)switch(g.type){case 4:g={sheet:g.container.sheet.config,sheetId:g.container.sheet.id};break a;case 1:var h;if(((h=g.only)===null||h===void 0?void 0:h.type)==="sheet"){g={sheet:g.only.config,sheetId:g.only.id};break a}}g=void 0}if(h=g)return g="",h.sheetId&&(g=(g=this.vTc.ffd().get(h.sheetId))?__c.xps(g):""),{sheet:h.sheet,sheetName:g}}}},
zWs=class{constructor(a,b,c,d,e){this.selection=a;this.sfc=b;this.gd=c;this.viewport=d;this.vTc=e;this.DJc=()=>{const f=this.selection.Jb;if(f)switch(f.type){case 4:var g;const h=(g=this.sfc)===null||g===void 0?void 0:g.xCa,k=h===null||h===void 0?void 0:h.cells;if(k&&h!==null&&h!==void 0&&h.sheet)return g=f.container.container.Hw(f.container.sheet),{type:"item",sheet:h.sheet,bca:k,item:g,page:f.$z,FD:new wA(g,this.gd,this.viewport)}}};this.findSheet=()=>{var f=this.selection.Jb;if(f)switch(f.type){case 4:var g=
f.container.sheet.config;f=f.container.sheet.id;f=this.vTc.ffd().get(f);return{sheet:g,sheetName:f?__c.xps(f):void 0};case 1:if(((g=f.only)===null||g===void 0?void 0:g.type)==="sheet")return g=f.only.config,f=f.only.id,f=this.vTc.ffd().get(f),{sheet:g,sheetName:f?__c.xps(f):void 0}}}}};var BWs=JV(({ZEc:a,sia:b,Hxa:c})=>{const {hcb:d}=rCs({onChange:e=>e&&c()});return a?gV(AWs,{ref:d,content:gV(P,{children:a}),STr:()=>b(a)}):null}),AWs=gRs(function({content:a,STr:b},c){return gV(So,{Si:c,onClick:b,ariaLabel:L("ou/phw"),thumbnail:gV(__c.dv,{children:gV(S,{padding:"2u",borderRadius:"element",children:a})}),Rr:gV(__c.FC,{location:"top-end",children:gV(__c.s7d,{onClick:b,icon:PD,ariaLabel:L("EnJA7g")})}),layout:"vertical",Smb:"thumbnail"})});var CWs=({TTr:a,Z$c:b})=>nV(Zo,{role:"menu",children:[gV(au,{onClick:a,children:nV(kr,{spacing:"1u",Fa:"center",children:[gV(PD,{}),gV(P,{children:L("mMYI6A")})]})}),gV(au,{onClick:b,children:nV(kr,{spacing:"1u",Fa:"center",children:[gV(PD,{}),gV(P,{children:L("P6Z+vg")})]})})]});var DWs=({SQq:a,Tr:b,index:c,sia:d,Hxa:e,spl:f,afj:g,mi:h})=>{const k=kV(()=>{d(a.formula,"formula",c);f(c,!1)},[a.formula,c,d,f]),l=kV(()=>{d(a.MTm,"formulaText",c);f(c,!1)},[a.MTm,c,d,f]),{hcb:m}=rCs({onChange:r=>r&&e()}),[p,q]=tV(!1);return gV("div",{onMouseEnter:()=>{q(!0)},onMouseLeave:()=>{q(!1)},ref:m,children:gV(S,{border:"standard",display:"flex",justifyContent:"spaceBetween",alignItems:"start",borderRadius:"element",className:h?null:"YzN_aA",children:gV(So,{Rr:gV(__c.FC,{location:"top-end",
children:gV(__c.t7d,{uS:r=>{r&&r.stopPropagation();f(c,!b)},sDa:__c.Qo,w0d:gV(CWs,{TTr:k,Z$c:l}),isOpen:b})}),content:gV(S,{border:"none",Kb:"2u",Lc:"2u",children:nV(Yc,{spacing:p||h?"1u":"0",children:[nV(P,{children:[a.t8h.prefix,gV("span",{className:"ZzIDKA",children:a.t8h.k6m}),a.t8h.suffix]}),gV(__c.Vc,{light:"light",Lm:"light",dark:"light",tK:"light",children:r=>gV(S,{className:GV(r.className,{T7k36g:!h}),background:"page",borderRadius:"baseUnit",children:gV(S,{background:"neutralLow",children:gV(So,
{content:gV(fo,{direction:"horizontal",children:gV(S,{padding:"0.5u",children:gV("div",{className:"HDHnAg",onClick:k,children:gV(g,{formula:a.formula})})})})})})})})]})}),padding:"0",layout:"horizontal",Ym:"card"})})})};var EWs=({GJb:a,sia:b,hVk:c,afj:d,mi:e})=>{const [f,g]=tV(null),h=kV((k,l)=>{g(l?k:null)},[]);return a&&a.length!==0?gV(Yc,{spacing:"2u",children:a.map((k,l)=>gV(DWs,{SQq:k,Tr:f===l,index:l,sia:b,spl:h,afj:d,mi:e,Hxa:()=>c(l)},l))}):null};var FWs={min:1,max:1.64,default:1.64},GWs=({NRp:a,sVp:b,Z$c:c,Hxa:d})=>{if(!b||b.length===0)return null;const e=(f,g)=>{c(f,"chartTitle",g)};return gV("div",{className:"gLfxmA",children:gV(Yc,{spacing:"2u",align:"center",children:b.map((f,g)=>gV(qWs,{qWh:f.description,index:g,qKf:f.qKf,w9d:a?f.w9d:void 0,tXl:gV(f.Oq,{aspectRatio:FWs}),Z$c:e,Hxa:()=>d(g)},g))})})};var HWs=__webpack_require__.p+"images/5d67cfff929a5b190f01798fcfd1dfde.svg";var VCs=({onClose:a,onClick:b})=>gV(S,{paddingBottom:"2u",children:gV(So,{layout:"horizontal",title:L("qnlK8Q"),description:L("7wkHMw"),thumbnail:gV(gv,{borderRadius:"element",src:HWs,objectFit:"contain",height:"8u"}),Rr:gV(__c.FC,{location:"top-end",visibility:"always",children:gV(__c.s7d,{onClick:a,icon:__c.yr,ariaLabel:L("ymQmsA"),variant:"subtleLinkButton",size:"small"})}),padding:"1u",background:"neutralLow",Smb:"card",onClick:b})});var UCs=class{static G(a){O(a,{Mc:jV.bound})}constructor(a,b,c,d,e,f){this.store=a;this.X=b;this.Qa=c;this.Tb=d;this.za=e;this.h2d=f;this.$Jq=(UCs.G(this),async()=>{if(cCs.wyq)uV(()=>{this.store.wge=!0});else{var g=await this.Qa.kda({brand:this.X.zb.brand.id,user:this.X.user.id,components:[],types:[716],xkb:[]});uV(()=>{this.store.wge=!__c.ny(716,g.actions)})}});this.Mc=()=>{this.store.wge=!1;this.Qa.Sj(new __c.nt({user:this.X.user.id,types:[716]}))};this.AZr=()=>{this.Mc();this.za.track(jWs,{action:"click_learn_and_play",
HY:this.h2d()});__c.vi(this.Tb,{id:cCs.Pln,title:L("qnlK8Q"),extensions:{view:void 0,default:cCs.ADk,kwa:void 0,Orb:cCs.ADk},to:void 0,$a:void 0,revision:void 0,Cc:void 0,pj:[],Hf:void 0})}}};var TCs=class{static G(a){O(a,{wge:CV.ref})}constructor(){this.wge=(TCs.G(this),!1)}};var IWs=class{static G(a){O(a,{yzm:jV})}yzm(a){var b,c;oa(this.session.document.Ja==="fixed");var d=a.fill,e=a.Gq;a=XCs(this,e);if(a!=null){var f=a.page,{xa:g,flipY:h,flipX:k,image:l,video:m}=es.snapshot(d),p=d.image.ref;p=(m===null||m===void 0?void 0:m.wb)||(l===null||l===void 0?void 0:l.wb)||p&&((b=this.Pa.jp(p.media))===null||b===void 0?void 0:b.dimensions);var {width:q,height:r}=n(p);Bg(f.dimensions||this.session.document.dimensions)?(b=this.viewport.jz().transform(this.viewport.Ql(a)).center(),
b=Zj({center:b,width:1080,height:1080})):(b=n(__c.cce(f,this.session.document)),b=__c.bce(b));p=b.center();b=__c.zne(f,Zj({center:p,width:q,height:r}).E0b(p,b));p=on(b,{width:q,height:r}).Lb();var t,u,w=(u=(t=m===null||m===void 0?void 0:m.wb.rotation)!==null&&t!==void 0?t:l===null||l===void 0?void 0:(c=l.wb)===null||c===void 0?void 0:c.rotation)!==null&&u!==void 0?u:0;c=f.elements.append({...Fs,...b.Lb(),xa:g,rotation:k!==h?-w:w,fill:{...ss,dropTarget:!0,flipX:k,flipY:h,image:l&&{...l,xa:0,wb:p},
video:m&&{...m,xa:0,wb:p}}});if(e.type==="sheet-cell-media"){var x;d=e.ha;e=e.container;e=e.sheet.layout.cells.get(e.row,e.column);e=e===null||e===void 0?void 0:e.ref.content;(e===null||e===void 0?void 0:(x=e.ref)===null||x===void 0?void 0:x.type)==="media"&&e.ref.value.delete(d)}else d.image.set(void 0),d.video.set(void 0);this.selection.Kl(a,c)}}constructor(a,b,c,d,e,f){this.Fi=a;this.vc=b;this.session=c;this.Pa=d;this.viewport=e;this.selection=f;IWs.G(this)}};var KWs=JV(a=>{const {Button:b,active:c,Uf:d,VTc:e,Gs:f,...g}=a,{Icon:h,hb:k,label:l,variant:m="tertiary"}=YCs(e,d,f);return b?gV("div",{className:"Bk3Nug",children:gV(b,{...g,active:c,icon:h,yh:h?"icon":"label",hb:k,variant:m,children:l})}):gV("div",{className:"Bk3Nug",children:gV(JWs,{Icon:h,hb:k,label:l})})}),LWs=JV(a=>{const b=a.Icon;var c=a.hb;a=a.label;const {mode:d}=(0,__c.eb)(__c.Aga).data;c=a!==null&&a!==void 0?a:c;return gV("div",{children:nV("div",{className:GV("_0Y_1Xw aWBg0w",{_MaqSA:d===
"classic"}),"aria-label":c,children:[b&&gV(b,{size:"medium"}),a&&gV("span",{className:"mfT2KA",children:a})]})})}),JWs=JV(a=>{const b=a.hb;return b?gV(pr,{label:b,placement:"bottom",children:gV(LWs,{...a})}):gV(LWs,{...a})}),MWs=JV(()=>gV("div",{className:"iMjRPg aWBg0w",children:gV("span",{className:"oO9YHA",children:L("WfLTdw")})}));var NWs=()=>({toe:nc()});var OWs=iV(({toe:a,XCk:b,oa:c,Oe:d})=>nV("div",{className:GV({QAlW9Q:d==="fixed"}),children:[gV(__c.kd,{title:L("foA7WA"),description:b?J("FUGhcw",[__c.bYi(new Date(b),new Date(cDs()))]):void 0,end:d==="fill"?gV(__c.jd,{onClick:c}):void 0}),gV(S,{padding:"2u",children:gV(a,{})})]}));var PWs=class{static G(a){O(a,{tEm:pV})}get VTc(){return this.Mgq.get()}get tEm(){if(this.fda.vO===5)return this.fda.vO;if(!(this.Ma.mode<=20&&this.p2h)){if(this.Ma.mode===20)return"comment";if(this.Uf===2||this.Ma.mode===10)return"view";if(!this.X2c)return this.RBe?"playground":this.fda.vO}}constructor(a,b,c,d,e,f){this.fda=a;this.Uf=b;this.Ma=c;this.RBe=d;this.X2c=e;this.p2h=f;this.Mgq=(PWs.G(this),bDs(()=>this.tEm))}};var QWs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5H10v1.5a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path d="M5.207 19.25h12.5a.75.75 0 0 1 0 1.5h-12.5a.75.75 0 0 1 0-1.5z" fill="currentColor"/></svg>';var RWs=dr({medium:QWs});var SWs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0v-1.5H4.5v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path d="M18.25 19.25H5.75a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z" fill="currentColor"/></svg>';var TWs=dr({medium:SWs});var UWs=class{},VWs=class extends UWs{static G(a){O(a,{W9d:jV.bound})}W9d(){const a=this.store.CFc;if(a)switch(a.type){case "page":var b=fDs(a.page.sheet);this.f5i(a.page.sheet,b);break;case "element":switch(a.element.type){case "table":b=eDs(a.element);this.TOl(a.element,b);break;case "sheet":b=fDs(a.element.config);this.f5i(a.element.config,b);break;case "layout":b=gDs(a.element);this.gOl(a.element,b);break;default:throw new v(a.element);}break;default:throw new v(a);}}TOl(a,b){const c=b===2?"rtl":
void 0;a.cells.forEach(d=>{d=d.content;d.text.Ya.trim().length||d.text.iPa("direction",c)})}f5i(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>{const f=a.layout.cells.get(d,e);f==null||f.span.Zb!==d||f.span.dc!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text2"||f.ref.content.ref.value.Ya.trim().length||f.ref.content.ref.value.iPa("direction",c)})})}gOl(a,b){a.direction=b!==null&&b!==void 0?b:1}constructor(a){super();this.store=a;VWs.G(this)}},WWs=
class extends UWs{static G(a){O(a,{W9d:jV.bound})}W9d(){const a=this.store.CFc;if(a)switch(a.item.type){case "table":var b=eDs(a.item);this.TOl(a.item,b);break;case "sheet":b=fDs(a.item.config);this.f5i(a.item.config,b);break;case "layout":b=gDs(a.item);this.gOl(a.item,b);break;default:throw new v(a.item);}}TOl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d=d.content;d.text.isEmpty&&__c.sif(this.Xa,[d.text],{direction:c})})}f5i(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>
{const f=a.layout.cells.get(d,e);f==null||f.span.Zb!==d||f.span.dc!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text3"||f.ref.content.ref.value.isEmpty||__c.sif(this.Xa,[f.ref.content.ref.value],{direction:c})})})}gOl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d.text.isEmpty&&__c.sif(this.Xa,[d.text],{direction:c})})}constructor(a,b){super();this.store=a;this.Xa=b;WWs.G(this)}},XWs=class extends UWs{static G(a){O(a,{W9d:jV.bound})}W9d(){this.selection.La?this.fixed.W9d():this.selection.Jb&&
this.mk.W9d()}constructor(a,b,c){super();this.selection=a;this.fixed=b;this.mk=c;XWs.G(this)}};var YWs=class{static G(a){O(a,{Rbb:pV})}get Rbb(){return!!this.direction}constructor(a){this.S_a=a;YWs.G(this)}},ZWs=class extends YWs{static G(a){O(a,{CFc:pV,direction:pV})}get CFc(){const a=this.selection.La;if(a&&a.Ji())switch(a.type){case "pages":if(a.inner){var b=a.inner.type;switch(b){case "sheet":case "sheet-cell-media":return this.Gsf?{type:"page",page:a.inner.page}:void 0;case "background":case "pages":return;default:throw new v(b);}}break;case "elements":if(a.Od)switch(b=a.Od.type,b){case "table":case "layout":return{type:"element",
element:a.Od};case "sheet":return this.Gsf?{type:"element",element:a.Od}:void 0;case "group":case "controlled":case "chart":case "grid":case "line":case "rect":case "shape":case "text":case "embed":return;default:throw new v(b);}if(a.inner)switch(b=a.inner.type,b){case "table":return{type:"element",element:a.inner.table};case "sheet":case "sheet-cell-media":return this.Gsf?{type:"element",element:a.inner.sheet}:void 0;case "layout":case "layout-cell":return{type:"element",element:a.inner.container.layout};
case "group":case "grid":case "shape":return;default:throw new v(b);}break;case "audio":break;default:throw new v(a);}}get direction(){const a=this.CFc;if(a)switch(a.type){case "element":switch(a.element.type){case "table":return iDs(this,a.element.layout);case "sheet":return kDs(this,a.element.config);case "layout":return mDs(this,a.element);default:throw new v(a.element);}case "page":return kDs(this,a.page.sheet);default:throw new v(a);}}constructor(a,b,c){super(c);this.selection=a;this.Gsf=b;ZWs.G(this)}},
$Ws=class extends YWs{static G(a){O(a,{CFc:pV,direction:pV})}get CFc(){const a=this.selection.Jb;if(!(this.Ma.mode<40)&&a)switch(a.type){case 0:switch(a.container.type){case "table-item-cell":return{type:"item",item:a.container.table};case "sheet-item-cell-richtext":return{type:"item",item:a.container.container.xoa};case "layout-item-cell":return{type:"item",item:a.container.layout};case "body":case "responsive-page":return;default:throw new v(a.container);}case 1:var b;const c=(b=a.only)===null||
b===void 0?void 0:b.type;if(!c)break;switch(c){case "table":case "layout":return{type:"item",item:a.only};case "sheet":return this.Gsf?{type:"item",item:a.only}:void 0;case "controlled":case "chart":case "pill":case "break":case "separator":case "design":case "embed":case "rect":case "shape":return;default:throw new v(c);}case 2:return{type:"item",item:a.container.table};case 4:case 5:return this.Gsf?{type:"item",item:a.type===4?a.container.sheet:a.container.xoa}:void 0;case 3:return{type:"item",
item:a.container.layout};default:throw new v(a);}}get direction(){const a=this.CFc;if(a)switch(a.item.type){case "table":return iDs(this,a.item.layout);case "sheet":return kDs(this,a.item.config);case "layout":return mDs(this,a.item);default:throw new v(a.item);}}constructor(a,b,c,d){super(d);this.Ma=a;this.selection=b;this.Gsf=c;$Ws.G(this)}},aXs=class extends YWs{static G(a){O(a,{CFc:pV,direction:pV})}get CFc(){if(this.selection.La)return this.fixed.CFc;if(this.selection.Jb)return this.mk.CFc}get direction(){if(this.selection.La)return this.fixed.direction;
if(this.selection.Jb)return this.mk.direction}constructor(a,b,c,d){super(d);this.selection=a;this.fixed=b;this.mk=c;aXs.G(this)}},hDs={[1]:"ltr",[2]:"rtl"},jDs={ltr:"ltr",rtl:"rtl"},lDs={[1]:"ltr",[2]:"rtl"};var bXs={table:L("dFZ7Mg"),sheet:L("QtNYag"),layout:L("TJwZxw")};var cXs,dXs,eXs,fXs;
new (cXs=class extends NV{constructor(){super(fXs);dXs()}},(()=>{class a extends(eXs=LV){static G(b){O(b,{IBo:pV})}render(){const b=this.props.page.page,c=this.props.Pc,d=this.props.gb,e=this.props.L;if(b!==e.ya||!e.lines.length)return null;const f=this.IBo,g=n(e.Eyl).transform(f),h=n(e.c4).transform(f),k=d.$k(b).units;return nV("div",{className:"_70bAIQ",children:[gV("div",{className:"HOF9xQ",style:g.Lb()}),gV("div",{className:"HOF9xQ",style:h.Lb()}),e.lines.map((l,m)=>{let p;switch(k){case 4:p=
Math.round(l.length);break;case 2:p=parseFloat((l.length/Ov(k)).toFixed(3));break;default:p=parseFloat((l.length/Ov(k)).toFixed(1))}if(p===0)return null;var q=f.transformPoint(l.start);const r=l.length*c.scale,t=l.type==="primary"?"SaAMnQ":"FVN8Cg";q={top:q.y,left:q.x};let u;switch(l.dir){case "horizontal":u="gUGHVQ";q.width=r;break;case "vertical":u="_8cXdSA";q.height=r;break;default:throw new v(l.dir);}return gV("div",{className:GV("AwVwHw",t,u),style:q,children:l.type==="primary"&&gV("div",{className:"xPdc6w nbfwjw",
children:J("G2Se2A",[p])})},m)})]})}get IBo(){return Pj(this.props.Pc.scale)}constructor(...b){super(...b);a.G(this)}}({c:[fXs,dXs]}=PV(a,[],[Ob],eXs))})(),cXs);var gXs=class{static G(a){O(a,{lines:pV.struct,Eyl:pV.struct,c4:pV.struct,cQi:pV})}get ya(){const a=this.cQi;return a&&a.page}get lines(){if(!this.iNs.get())return[];var a=this.Eyl,b=this.c4;if(!a||!b||a.equals(b))return[];var c=bk(a,b);if(c){var d=ck(0,[a,b]);b=c.t;a=c.r;var e=c.b;c=c.Sb;var f=d.tl;d=d.br;const m=[],p=(q,r,t)=>{Math.round(t)!==0&&m.push(nDs(q,r,t,"primary"))};p("vertical",b,f.y-b.y);p("vertical",e,d.y-e.y);p("horizontal",c,f.x-c.x);p("horizontal",a,d.x-a.x);return m}e=[];c=a.t;f=
a.r;d=a.b;a=a.Sb;const [g,h,k,l]=b.oh();l.y<c.y?(e.push(nDs("vertical",c,l.y-c.y,"primary")),k.x>c.x?e.push(nDs("horizontal",k,c.x-k.x,"secondary")):l.x<c.x&&e.push(nDs("horizontal",l,c.x-l.x,"secondary"))):g.y>d.y&&(e.push(nDs("vertical",d,g.y-d.y,"primary")),g.x>d.x?e.push(nDs("horizontal",g,d.x-g.x,"secondary")):h.x<d.x&&e.push(nDs("horizontal",h,d.x-h.x,"secondary")));l.x<a.x?(e.push(nDs("horizontal",a,l.x-a.x,"primary")),h.y>a.y?e.push(nDs("vertical",h,a.y-h.y,"secondary")):l.y<a.y&&e.push(nDs("vertical",
l,a.y-l.y,"secondary"))):g.x>f.x&&(e.push(nDs("horizontal",f,g.x-f.x,"primary")),g.y>f.y?e.push(nDs("vertical",g,f.y-g.y,"secondary")):k.y<f.y&&e.push(nDs("vertical",k,f.y-k.y,"secondary")));return e}get Eyl(){var a=this.GG.Dvb;if(a)return ck(0,a.from.map(Yj));if((a=this.cQi)&&a.selection.box){var b=Xj(a.selection.box);return a.Lxa?bk(b,a.Lxa):b}}get c4(){var a=this.GG.Dvb;if(a)return ck(0,a.to.map(Yj));var b=this.cQi;if(b){a=b.Lxa;var c=this.UR.b$a;if(c&&c.type!=="item"&&c.type!=="sheet-item-cell"){if(!c.page)return a;
if(c.page===b.page){if(!c.element)return a;b=Xj(Yj(c.element));return a?bk(b,a):b}}}}get cQi(){const a=this.selection.La;if(a&&a.type==="elements"){var b=a.container;if(b){b=b.page;var c=this.gb.$k(b);if(!Bg(c)){const {width:e,height:f}=yg(4,c);var d=Vj(0,0,e,f)}return{selection:a,page:b,Lxa:d}}}}constructor(a,b,c,d,e){this.gb=a;this.selection=b;this.GG=c;this.iNs=d;this.UR=e;gXs.G(this)}};var hXs=JV(a=>{const b=a.Qj;return nV("div",{children:[gV(a.xi,{className:"OF7TTQ",pressed:a.open,yh:"label",icon:__c.a9g,onClick:a.onClick,children:L("09kiuA")}),b&&gV(b,{})]})}),iXs=JV(({Oe:a,UWg:b,pWr:c,qWr:d})=>{a=GV("MK0pAg",{DyWS_g:a==="fixed",JPaDJw:b==="horizontal"});return nV(Zo,{role:"list",direction:b!==null&&b!==void 0?b:"vertical",variant:b==="horizontal"?"rounded":"regular",className:a,children:[gV(au,{className:GV("kpJ30w",{tS8VHQ:b==="horizontal"}),onClick:c,start:gV(__c.Z8g,{size:"medium"}),
children:L("+k16yw")}),gV(au,{className:GV("phOkGA",{tS8VHQ:b==="horizontal"}),onClick:d,start:gV(__c.a9g,{size:"medium"}),children:L("d1wsgA")})]})});var jXs=class{static G(a){O(a,{X4c:pV})}get X4c(){const a=this.$Wm();return(a===null||a===void 0?0:a.every(b=>!!bqs(this.qvd,b)))?a:void 0}u0d(a){a.map(b=>bqs(this.qvd,b)).filter(tb).forEach(b=>{b=b.l7q;b.set(!b.get())});this.gwb.fTh();this.sGk("horizontal",a)}v0d(a){a.map(b=>bqs(this.qvd,b)).filter(tb).forEach(b=>{b=b.Fct;b.set(!b.get())});this.gwb.fTh();this.sGk("vertical",a)}constructor(a,b,c){this.gwb=a;this.qvd=b;this.Pa=c;jXs.G(this)}},kXs=class extends jXs{$Wm(){const a=this.selection.La;if(a&&
a.Ji($l.Rs))switch(a.type){case "audio":break;case "pages":var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "background":return a.inner.container.type!=="fixed-page"?void 0:[a.inner.container.DK(a.inner.Jc[0])];case "sheet-cell-media":const f=a.inner.container;return a.inner.media.map(h=>f.lta(h).DK(h.fill));case "sheet":var c=a.inner.page;b=a.inner.cells;const g=[];for(const h of b){var d;b=c.sheet.layout.cells.get(h.row,h.column);if((b===null||b===void 0?void 0:(d=b.ref.content.ref)===
null||d===void 0?void 0:d.type)!=="media")return;b.ref.content.ref.value.forEach(k=>{var l;na(((l=a.inner)===null||l===void 0?void 0:l.type)==="sheet");k=a.inner.container.uY(h.column,h.row).lta(k).DK(k.fill);g.push(k)})}return g.length?g:void 0;default:return}case "elements":var e;if(a.elements.length===0)break;switch((e=a.inner)===null||e===void 0?void 0:e.type){case void 0:d=a.elements;break;case "group":d=a.inner.Od?[a.inner.Od]:a.inner.nb;break;case "table":return;case "grid":d=a.inner.Od;if(!d)return;
c=d.fill;return[a.inner.container.d9b(d).DK(c)];case "shape":d=a.inner.Od;if(!d)return;c=d.fill;return[a.inner.container.e9b(d).DK(c)];case "sheet-cell-media":const f=a.inner.container;return a.inner.media.map(h=>f.lta(h).DK(h.fill));case "sheet":d=a.inner.sheet;b=a.inner.cells;const g=[];for(const h of b){b=d.config.layout.cells.get(h.row,h.column);if((b===null||b===void 0?void 0:(c=b.ref.content.ref)===null||c===void 0?void 0:c.type)!=="media")return;b.ref.content.ref.value.forEach(k=>{var l;na(((l=
a.inner)===null||l===void 0?void 0:l.type)==="sheet");k=a.inner.container.uY(h.column,h.row).lta(k).DK(k.fill);g.push(k)})}return g.length?g:void 0;case "layout":case "layout-cell":return __c.yo("FillPresenter");default:throw new v(a.inner);}d=d.flatMap(f=>{var {container:g}=n(a);f=g.Sf(f);switch(f.type){case "rect-element":return f.DK(f.ha.fill);case "shape-element":if(g=f.ha.paths.filter(h=>!!h.fill.dropTarget),g.length===1)return g=n(g[0]),f.e9b(g).DK(g.fill)}});return d.every(tb)?d:void 0;default:throw new v(a);
}}sGk(a,b){var {$z:c}=n(this.selection.La);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(na(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+d,0)),b=b.map(({ha:d})=>oDs(d)),this.N.track(LQs,{direction:a,mediaId:"",WJ:b.map(d=>d.mediaId),BE:"",YHf:b.map(d=>d.BE),dE:c,Yp:0,Ur:0,Ey:0}))}hsc(a,b){var {$z:c}=n(this.selection.La);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(na(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+
d,0)),b=b.map(({ha:d})=>oDs(d)),this.N.track(__c.llf,{menu:a,mediaId:"",WJ:b.map(d=>d.mediaId),BE:"",YHf:b.map(d=>d.BE),dE:c,Yp:0,Ur:0,Ey:0}))}constructor(a,b,c,d,e){super(a,b,c);this.N=d;this.selection=e}},lXs=class extends jXs{$Wm(){if(!(this.Ma.mode<40)){var a=this.selection.Jb;if(a)switch(a.type){case 1:if(!a.only)break;switch(a.only.type){case "rect":var b=a.only;if(a.container.type==="responsive-page"||a.container.type==="body")return[a.container.Hw(b).DK(b.fill)];return;case "shape":return __c.sge("ResponsiveFillPresenter::getFlippableFills");
case "break":var c;switch((c=a.only.marker.Kg.ref)===null||c===void 0?void 0:c.type){case "rect":if(b=a.only,c=a.only.marker.Kg.ref,a.container.type==="responsive-page"||a.container.type==="body")return[__c.msa(a.container.Hw(b),b.marker).Hw(c).DK(c.fill)]}break;case "controlled":case "separator":case "embed":case "pill":case "chart":case "design":case "layout":case "table":case "sheet":break;default:throw new v(a.only);}break;case 5:return b=a.media.map(f=>a.container.lta(f).DK(f.fill)).filter(tb),
b.length?b:void 0;case 4:c=a.container;var d=a.cells;const e=[];for(b of d){const f=c.uY(b.column,b.row);d=f.content;if((d===null||d===void 0?void 0:d.type)!=="media")return;d.value.forEach(g=>{const h=f.lta(g);e.push(h.DK(g.fill))})}return e.length?e:void 0;case 0:case 2:case 3:break;default:throw new v(a);}}}sGk(a,b){this.N&&(b=b.map(({ha:c})=>oDs(c)),this.N.track(LQs,{direction:a,mediaId:"",WJ:b.map(c=>c.mediaId),BE:"",YHf:b.map(c=>c.BE),Ey:0,Yp:0,Ur:0,dE:0}))}hsc(a,b){this.N&&(b=b.map(({ha:c})=>
oDs(c)),this.N.track(__c.llf,{menu:a,mediaId:"",WJ:b.map(c=>c.mediaId),BE:"",YHf:b.map(c=>c.BE),Ey:0,Yp:0,Ur:0,dE:0}))}constructor(a,b,c,d,e,f){super(a,b,c);this.N=d;this.Ma=e;this.selection=f}},mXs=class{Eu(){return this.selection.La!==void 0?this.fixed:this.mk}u0d(a){this.Eu().u0d(a)}v0d(a){this.Eu().v0d(a)}get X4c(){return this.Eu().X4c}hsc(a,b){return this.Eu().hsc(a,b)}constructor(a,b,c){this.selection=a;this.fixed=b;this.mk=c}};var nXs=parseInt("32px",10)||32,oXs=nXs+(parseInt("8px",10)||8)*2-30,pXs=({wXo:a})=>nV(xV,{children:[gV("div",{className:"qfxQmA",children:gV(a,{direction:"top"})}),gV("div",{className:"UAATYw",children:gV(a,{direction:"bottom"})}),gV("div",{className:"PZ5MoA",children:gV(a,{direction:"left"})}),gV("div",{className:"hmZ7Ig",children:gV(a,{direction:"right"})})]});var qXs,rXs,tXs=class extends LV{componentDidMount(){Kb(this,this.props.PH.track(()=>[this.props.Swd.ha,0]))}render(){return gV("div",{style:{opacity:.25},children:this.props.Swd.ha.elements.map((a,b)=>gV(this.jlp,{element:a},b))})}constructor(...a){super(...a);this.tmb=pV(()=>this.props.Pc.scale);this.jlp=({element:b})=>{if(b.xa===1)return null;const c=this.props.nB,d=this.props.Pc,e=this.props.re,f=this.props.Swd;switch(b.type){case "shape":return gV(__c.rn,{config:c,page:f,Pc:d,element:f.Sf(b),
$c:this.tmb});case "line":return gV(sXs,{re:e,Pc:d,element:f.Sf(b)});default:return null}}}};({c:[rXs,qXs]}=PV(tXs,[],[Ob],LV));qXs();
var sXs=iV(a=>{const b=a.re,c=a.Pc;a=a.element;const d=a.ha,{bnc:e}=new __c.Un(b,d);return gV("div",{className:"mnBDoQ",style:{width:e.width,height:e.height,transform:`scale(${c.scale}) translate(${d.geometry.ref?d.left:e.left}px, ${d.geometry.ref?d.top:e.top}px)`},children:gV("div",{style:{width:"100%",height:"100%",transform:`rotate(${e.rotation}deg)`},children:gV(__c.UYd,{element:a,re:b})})})});var uXs={eventType:"editor_connect_clicked",Oa(a){return vf({resource_hash:a.Jde,side:a.side,control_context:a.kb,num_positions_checked:a.XLb,did_find_position:a.rmc,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}},vXs={eventType:"editor_connect_previewed",Oa(a){return vf({resource_hash:a.Jde,side:a.side,num_positions_checked:a.XLb,did_find_position:a.rmc,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}},wXs=
{eventType:"editor_connect_toggled",Oa(a){return vf({action:a.action,editing_context:a.Aa==null?void 0:wf(a.Aa),control_context:a.kb,performance_context:a.Rb==null?void 0:xf(a.Rb)})}};var yDs={start:{...__c.PYc},end:{...__c.PYc,marker:2},weight:4,color:"#acb8c0"};var xXs=class extends __c.txf{gqm(a){var b,c;const d=a.target,e=a.dragEnd,f=a.iea;a=a.anchorPoint;const g=n(this.store.Swd),h=n(this.store.fIe),k=n(this.store.syf),l=h.xa;this.i0n=()=>{this.i0n=void 0;h.xa=l};h.xa=1;k.xa=0;this.M_i=g.ha.elements.append({...ls.snapshot(d.element),xa:1});this.connections.connect(e,this.M_i,{iea:f,anchorPoint:a});(c=this.Lk)===null||c===void 0||(b=c.rN)===null||b===void 0||b.call(c,new __c.Isd({style:1}));this.store.connectTarget={target:d,iea:f,anchorPoint:a}}ysg(a){var b;
const c=n(this.store.Swd),d=n(this.store.fIe),e=n(this.store.syf);(b=this.i0n)===null||b===void 0||b.call(this);jk(d)&&(e.xa=1);this.connections.connect(a,d,{iea:1,anchorPoint:uDs(sDs(this.h2q))});this.M_i&&c.ha.elements.delete(this.M_i);this.M_i=void 0;this.store.connectTarget=void 0}EBj(a,b,c){return super.EBj(a,b,c)&&c!==this.zRs}constructor(a,b,c,d,e,f,g){super(void 0,a,b,c);this.store=d;this.h2q=e;this.zRs=f;this.Lk=g}};var yXs=class{static G(a){O(a,{aEn:jV,eEn:jV,fEn:jV.bound,dEn:jV,cEn:jV,bEn:jV,SIn:jV.bound,UIn:jV.bound,TIn:jV.bound})}aEn(a,b,c){var d,e;const f=b.page,g=this.P.sb("connect_new_shape",{Fb:{name:"editor.connect_new_shape"}});zDs(this);(e=this.Lk)===null||e===void 0||(d=e.rN)===null||d===void 0||d.call(e,new ip);const {ZKr:h,XLb:k,rmc:l}=FDs(this,a,f,c);d=f.elements.append(h);this.Gbb.TVg(d);nFd(a)&&vDs(f,a,d,c,this.$X,this.re,this.Gb,1);b=this.selection.Kl(b,d);rA(this.jc,b,"all");const m={Jde:__c.Vfe(a.paths.map(p=>
p.d),a.paths.some(p=>!!p.ob)),side:c,kb:"click",XLb:k,rmc:l};g.mb().nk(({Ii:p})=>{this.V.track(uXs,{...m,Rb:p()})});g.ne()}eEn(a,b,c){const d=b.page;this.xOf&&clearTimeout(this.xOf);this.xOf=window.setTimeout(jV(()=>{this.xOf=void 0;if(!this.store.isDragging){this.store.Djh=!0;var e=this.Wj.NTc,f=ADs(BDs(c),a.rotation),g=CDs(d,a),{position:h,XLb:k,rmc:l}=DDs(a,f,g,e,yg(4,d.dimensions||this.document.dimensions));e=this.P.sb("connect_preview_shape",{Fb:{name:"editor.connect_preview_shape"}});GDs(this,
a,d,c,h);var m={Jde:__c.Vfe(a.paths.map(p=>p.d),a.paths.some(p=>!!p.ob)),side:c,XLb:k,rmc:l};e.mb().nk(({Ii:p})=>{this.V.track(vXs,{...m,Rb:p()})});e.ne()}}),150)}fEn(){this.store.isDragging||zDs(this)}dEn(a,b,c,d){const e=b.page;Zk(this.mh,f=>{var g,h;this.Kga=f;(h=this.Lk)===null||h===void 0||(g=h.rN)===null||g===void 0||g.call(h,new ip);this.store.isDragging=!0;this.store.Djh=!0;document.body.classList.toggle("_1Nlzlw",!0);f=this.viewport.Ql(b).transform(d.x,d.y);this.from=f=IDs(f,a,c);const {fIe:k,
syf:l,lXi:m}=GDs(this,a,e,c,f);this.store.fIe=k;this.store.syf=l;this.store.lXi=m;this.Hje=this.Hr.U1a([k]);this.cSh=(new xXs(this.$X,n(this.UZm),this.Wj,this.store,c,a,this.Lk)).mNj(e,l);this.cSh.onDragStart("right",{metaKey:!1,ctrlKey:!1,shiftKey:!1});HDs(this,a)})}cEn(a,b,c,d){var e;const f=b.page;b=this.viewport.Ql(b).transform(d.x,d.y);c=IDs(b,a,c);b=n(this.Hje);d=n(this.from);b.translate(c.x-d.x,c.y-d.y);(e=this.cSh)===null||e===void 0||e.pe();this.store.mUi=!LDs(c,a,yg(4,f.dimensions||this.document.dimensions))}bEn(a,
b,c,d){const e=this.store.connectTarget?"drag_connect":"drag_shape";var f=this.store.connectTarget?"connect_drag_connect":"connect_drag_shape";f=this.P.sb(f,{Fb:{name:`editor.${f}`}});const g=b.page;d=this.viewport.Ql(b).transform(d.x,d.y);d=IDs(d,a,c);const h=yg(4,g.dimensions||this.document.dimensions);this.store.connectTarget?vDs(g,a,this.store.connectTarget.target.element,c,this.$X,this.re,this.Gb,this.store.connectTarget.iea,{oLm:this.store.connectTarget.anchorPoint}):LDs(d,a,h)&&(d=EDs(a,d),
d=g.elements.append(d),this.Gbb.TVg(d),nFd(a)&&vDs(g,a,d,c,this.$X,this.re,this.Gb,1),b=this.selection.Kl(b,d),rA(this.jc,b,"all"));zDs(this);const k={Jde:__c.Vfe(a.paths.map(l=>l.d),a.paths.some(l=>!!l.ob)),side:c,kb:e,XLb:0,rmc:!1};f.mb().nk(({Ii:l})=>{this.V.track(uXs,{...k,Rb:l()})});f.ne()}SIn(){const a=this.P.sb("quick_flow_context_menu_clicked",{Fb:{name:"editor.quick_flow_context_menu_clicked"}});this.store.rfd=!this.store.qfd;const b={action:this.store.rfd?"enabled":"disabled",kb:"context_menu"};
a.mb().setAttributes(new Map([["action",b.action]]));a.mb().nk(({Ii:c})=>{this.V.track(wXs,{...b,Rb:c()})});a.ne()}UIn(){const a=this.P.sb("quick_flow_toolbar_button_clicked",{Fb:{name:"editor.quick_flow_toolbar_button_clicked"}});this.store.rfd=!this.store.qfd;const b={action:this.store.rfd?"enabled":"disabled",kb:"floating_toolbar"};a.mb().setAttributes(new Map([["action",b.action]]));a.mb().nk(({Ii:c})=>{this.V.track(wXs,{...b,Rb:c()})});a.ne()}TIn(){const a=this.P.sb("quick_flow_toolbar_clicked",
{Fb:{name:"editor.quick_flow_toolbar_clicked"}});this.store.rfd=!1;a.mb().nk(({Ii:b})=>{this.V.track(wXs,{action:"disabled",kb:"floating_toolbar",Rb:b()})});a.ne()}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u){this.store=a;this.document=b;this.Gb=c;this.viewport=d;this.selection=e;this.Hr=f;this.Gbb=g;this.$X=h;this.re=k;this.jc=l;this.mh=m;this.Wj=p;this.P=q;this.V=r;this.Lk=t;this.UZm=u;this.Kga=(yXs.G(this),void 0)}};var zXs=class{static G(a){O(a,{rfd:CV.ref,ryf:CV.ref,mUi:CV.ref,Djh:CV.ref,isDragging:CV.ref,connectTarget:CV.ref,lXi:CV.ref,fIe:CV.ref,syf:CV.ref,KCf:pV,Swd:pV,YNh:pV,qfd:pV})}get KCf(){return!qk(this.viewport.Zg.page,this.document.dimensions)}get Swd(){if(this.ryf){var a=If(this.ryf),b=this.ryf.pages.first();if(b&&b.type==="fixed")return a.tb(b)}}get YNh(){const a=this.selection.La;return!!a&&a.type==="elements"&&!!a.Od&&a.Od.type==="shape"&&(nFd(a.Od)||jk(a.Od))&&a.Ji()}get qfd(){var a,b;return!this.YNh||
((a=this.jc.state)===null||a===void 0?void 0:a.type)==="focused"&&this.ka.layout===2||((b=this.selection.La)===null||b===void 0?0:b.box)&&(this.selection.La.box.width*this.viewport.zoom.scale<nXs||this.selection.La.box.height*this.viewport.zoom.scale<nXs)?!1:this.rfd!=null?this.rfd:this.KCf}constructor(a,b,c,d,e,f,g){this.document=a;this.viewport=b;this.selection=c;this.jc=d;this.ka=e;this.rfd=(zXs.G(this),void 0);this.isDragging=this.Djh=this.mUi=!1;uV(()=>{this.rfd=f});this.ryf=g}};var AXs={eventType:"editor_element_grouping_changed",Oa(a){return vf({selected_element_types:a.xGa,action:a.action,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,page_index:a.Xb,editing_context:a.Aa==null?void 0:wf(a.Aa),performance_context:a.Rb==null?void 0:xf(a.Rb)})}};var BXs=class{static G(a){O(a,{VHg:jV.bound,rth:jV.bound})}VHg(a){const b=this.P.sb("elements_grouped",{Fb:{name:"editor.elements_grouped"}});var c=this.store.flk;if(c){var d=c.group();if(d)return c=d.ha,d=this.selection.Kl(d.container,c),this.V&&b&&(c=c.nb.map(e=>e.type),cp({mb:b.mb(),V:this.V,event:AXs,props:{kb:a,action:"group",xGa:c,dE:0,Yp:0,Ur:0,Ey:0}}),b.ne()),d}}rth(a){const b=this.P.sb("elements_ungrouped",{Fb:{name:"editor.elements_ungrouped"}});var c=this.store.xMl;if(c){var d=c.rotation,
{elements:e,container:f}=c.X7s.FNd();c=this.selection.Kl(f,...e);c.rotation=d;this.V&&b&&(d=e.map(g=>g.type),cp({mb:b.mb(),V:this.V,event:AXs,props:{kb:a,action:"ungroup",xGa:d,dE:0,Yp:0,Ur:0,Ey:0}}),b.ne());return c}}constructor(a,b,c,d){this.store=a;this.selection=b;this.P=c;this.V=d;BXs.G(this)}};var CXs=class{static G(a){O(a,{$Td:pV,gUd:pV,flk:pV,xMl:pV})}get $Td(){return!!this.flk}get gUd(){return!!this.xMl}get flk(){var a=this.selection.La;if(a&&a.type==="elements"&&a.Ji()){var b=a.container,c=a.rotation;a=a.elements.map(d=>b.Sf(d));return __c.duf(this.VXa,a,c)}}get xMl(){var a,b=this.selection.La;if(b&&b.type==="elements"&&b.Ji()&&((a=this.jc.state)===null||a===void 0?void 0:a.type)!=="focused"){var c=b.container;a=b.rotation;b=b.elements.map(d=>c.Sf(d));return(b=__c.euf(this.VXa,b))?
{X7s:b,rotation:a}:void 0}}constructor(a,b,c){this.selection=a;this.VXa=b;this.jc=c;CXs.G(this)}};var DXs=bl("g"),EXs=bl(Xo("g")),FXs=JV(a=>{const {xi:b,...c}=a;return gV(b,{...c,yh:"label",icon:mIp,children:L("nW6zQA")})}),GXs=JV(a=>{const {xi:b,...c}=a;return gV(b,{...c,yh:"label",icon:__c.HB,children:L("YyQiPQ")})}),HXs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:mIp,label:L("bUJF+g"),jm:DXs})}),IXs=JV(a=>{const {hl:b,...c}=a;return gV(b,{...c,Icon:__c.HB,label:L("BK2j6g"),jm:EXs})});var JXs=class{static G(a){O(a,{q0m:pV,b_c:pV})}get q0m(){return this.store.enabled}get b_c(){return this.store.b_c}pe(a){this.L.pe(a)}onDragEnd(){this.L.onDragEnd()}Iw(a){this.L.Iw(a)}F7e(a){this.L.F7e(a)}constructor(a,b){this.store=a;this.L=b;JXs.G(this)}};var KXs=JV(a=>gV(a.hl,{label:L("PgMJpw"),Icon:__c.ucr})),LXs=JV(a=>{const b=a.nE,c=a.Hza,d=a.onClick;a=a.Oe;const e=kV(()=>{c===null||c===void 0||c();d===null||d===void 0||d()},[c,d]);return gV(b,{onClick:e,$hc:a==="fill"?xr:void 0,children:L("YPUigA")})}),MXs=JV(a=>{const b=a.hl,c=a.oa,d=a.coordinates,e=a.onClick;a=kV(()=>e(d),[e,d]);return gV(b,{label:L("c80IQw"),Icon:__c.qcr,onClick:a,oa:c})}),NXs=JV(a=>{const b=a.hl,c=a.coordinates,d=a.oa,e=a.onClick;a=kV(()=>e(c),[e,c]);return gV(b,{label:L("3d4gCQ"),
Icon:__c.gWr,onClick:a,oa:d})}),OXs=JV(a=>{const b=a.hl,c=a.coordinates,d=a.oa,e=a.onClick;a=kV(()=>e(c),[e,c]);return gV(b,{label:L("llxXHA"),Icon:__c.scr,onClick:a,oa:d})}),PXs=class extends LV{static G(a){O(a,{onClick:jV.bound})}onClick(){this.props.onClick()}render(){const a=this.props.oa,b=this.props.locked;return gV(this.props.hl,{label:b?L("oeLIAg"):L("ON7FDg"),Icon:b?pKh:ey,onClick:this.onClick,oa:a})}constructor(...a){super(...a);PXs.G(this)}},QXs=JV(a=>{const b=a.oa,c=a.nE,d=kV(()=>{var e;
(e=a.onClick)===null||e===void 0||e.call(a);b===null||b===void 0||b()},[b,a]);return gV(c,{onClick:d,children:L("llxXHA")})}),RXs=class extends LV{static G(a){O(a,{onClick:jV.bound})}onClick(){const a=this.props.oa,b=this.props.onClick;b===null||b===void 0||b();a===null||a===void 0||a()}render(){return gV(this.props.nE,{onClick:this.onClick,eB:this.props.eB,jm:this.props.jm,children:L("ON7FDg")})}constructor(...a){super(...a);RXs.G(this)}},SXs=bl(Yo(";")),TXs=class extends LV{static G(a){O(a,{onClick:jV.bound})}onClick(){const a=
this.props.oa,b=this.props.onClick;b===null||b===void 0||b();a===null||a===void 0||a()}render(){return gV(this.props.nE,{onClick:this.onClick,eB:this.props.eB,children:L("vGSJsA")})}constructor(...a){super(...a);TXs.G(this)}};var UXs,VXs,WXs,YXs=class extends LV{render(){const a=this.props.V_,b=this.props.position,c=this.props.Gx,d=this.props.IG,e=this.props.Nji,f=this.props.canDrag,g=this.props.isActive,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l={[this.fIa.get()]:f&&e};return gV(__c.cTf,{onDragStart:this.onDragStart,pe:this.pe,onDragEnd:this.onDragEnd,canDrag:this.canDrag,Iw:this.Iw,wve:!0,fIa:f?this.fIa:void 0,children:({onTouchStart:m,onMouseDown:p})=>gV(XXs,{V_:a,position:b,Gx:c,IG:d,isActive:g,Nji:e,R1c:!f,
SHb:l,onMouseEnter:h,onMouseLeave:k,onTouchStart:m,onMouseDown:p})})}constructor(...a){super(...a);this.onDragStart=b=>{this.props.onDragStart(b,this.props.V_)};this.pe=b=>{this.props.pe(b)};this.onDragEnd=()=>{this.props.onDragEnd()};this.canDrag=()=>this.props.canDrag;this.Iw=b=>{this.props.Iw(b,this.props.V_)};this.fIa=pV(()=>__c.hy(new __c.z9g(this.props.V_.direction===1?0:90)))}};({c:[WXs,UXs]}=PV(YXs,[],[Ob],LV));UXs();
var ZXs=a=>{var b=a.position;const c=a.direction===1,d=c?b:0;b=c?0:b;return gV("div",{className:GV("mNd67g",{FZmaNg:a.IG,_tRmOg:c,_8i_7tg:!c}),style:{transform:`translate(${b}px, ${d}px)`}})},XXs,$Xs=class extends LV{render(){const a=this.props.position,b=this.props.Gx,c=this.props.onTouchStart,d=this.props.onMouseDown,e=this.props.IG,f=this.props.Nji,g=this.props.R1c;var h=this.props.V_.direction===1;const k=GV("dCYK4Q",{FZmaNg:e,_tRmOg:h,_8i_7tg:!h,lAxGWQ:this.props.isActive,jCbK0g:wc.kU,...this.props.SHb}),
l=GV("tuN9aA",{LAeprA:f});h=h?J("+p11Hw",[b]):J("9xVN3w",[b]);return nV("button",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchStart:c,onMouseDown:d,className:k,style:a,"aria-label":h,children:[f&&!e&&gV("span",{className:"_EMcsA",children:gV("span",{className:"ALc6Yg nbfwjw",children:b})}),gV("span",{className:GV("_0uzLrQ",{_87VYUA:g}),children:gV("span",{className:l})})]})}constructor(...a){super(...a);this.onMouseEnter=()=>{this.props.onMouseEnter(this.props.V_)};this.onMouseLeave=
()=>{this.props.onMouseLeave(this.props.V_)}}};({c:[XXs,VXs]}=PV($Xs,[],[Ob],LV));VXs();var aYs=iV(a=>{const b=a.L,c=a.store;return gV(xV,{children:[...c.hck].map((d,e)=>{var f=WXs,g=c.xGh.has(d),h=gEs(b,d),k=d.position;const l=d.direction===2;var m=l?k:0;k=l?0:k;m=b.viewport.Ql(b.viewport.Zg).invert().then(b.viewport.Tha()).transform(m,k);b.viewport.Vr;var p=b.viewport.Tha().invert().transformPoint(b.Ti?b.viewport.IXa().tr:b.viewport.IXa().tl);const q=b.Ti?b.viewport.jz().tr:b.viewport.jz().tl;k=q.x-p.x;p=q.y-p.y;return gV(f,{V_:d,IG:!1,Nji:!0,isActive:g,Gx:h,position:l?{top:p,left:m.x}:
b.Ti?{top:m.y,right:-k}:{top:m.y,left:k},onMouseEnter:b.onMouseEnter,onMouseLeave:b.onMouseLeave,Iw:b.Iw,onDragStart:b.onDragStart,onDragEnd:b.onDragEnd,pe:b.pe,canDrag:c.Jtg.has(d)},e)})})}),bYs=iV(a=>{const b=a.store,c=a.L;var d=a.viewport;const e=a.page,f=a.scale;if(!d.jh||b.TVe==null)return null;d=d.Zg.page===e;return a.canvas.U4a!=="space-between"||d?gV(xV,{children:b.p0m.map((g,h)=>{h={key:h,V_:g,Nji:!1,IG:!hEs(c,g,e),position:g.direction===1?{top:g.position*f,left:0}:{top:0,left:g.position*
f},onMouseEnter:c.onMouseEnter,onMouseLeave:c.onMouseLeave,Gx:gEs(c,g)};return b.TVe==="viewable"?gV(XXs,{...h,isActive:b.xGh.has(g),R1c:!0}):gV(WXs,{...h,isActive:!1,canDrag:b.Jtg.has(g),Iw:c.Iw,onDragStart:c.onDragStart,onDragEnd:c.onDragEnd,pe:c.pe})})}):null}),cYs=iV(a=>{const b=a.L;var c=a.viewport;const d=a.page;if(!c.jh)return null;c=c.Zg.page===d;return a.canvas.U4a!=="space-between"||c?gV(xV,{children:a.Jx.map((e,f)=>gV(ZXs,{position:e.position,direction:e.direction,IG:!hEs(b,e,d)},f))}):
null});var TDs=class{static G(a){O(a,{columns:CV.ref,S_c:CV.ref,PDc:CV.ref,rows:CV.ref,noa:CV.ref,Pdd:CV.ref,dimensions:pV,a7n:pV,Aom:pV,DCb:pV})}get dimensions(){return rk(this.viewport.Zg.page,this.document.dimensions)}get a7n(){return this.rows===0}get Aom(){return this.columns===0}get DCb(){return{columns:this.columns,S_c:this.S_c,PDc:this.PDc,rows:this.rows,Pdd:this.Pdd,noa:this.noa}}constructor(a,b){this.document=a;this.viewport=b;this.columns=(TDs.G(this),6);this.Pdd=this.noa=this.rows=this.PDc=this.S_c=
0;this.PDc=dYs(a.dimensions.width/(this.columns*10),a.dimensions.units)}},dYs=(a,b)=>{switch(b){case 1:case 2:case 3:return eYs(a,2);case 4:return eYs(a,1);default:throw new v(b);}},eYs=(a,b=0)=>{b=Math.pow(10,b);return Math.round(a*b*(1+Number.EPSILON))/b};var UDs=class{constructor(a,b){this.store=a;this.la=b;this.MFs=c=>{const d=this.store.S_c,e=this.store.PDc;this.ptf(this.store.dimensions.width,c,d,e)?(c=L("GWfiAQ"),d&&e?c=L("ZM7rPQ"):d?c=L("oNh6Aw"):e&&(c=L("fJoN0g")),this.la.Ib({Cb:c})):this.store.columns=eYs(c)};this.KFs=c=>{const d=this.store.columns,e=this.store.PDc;this.ptf(this.store.dimensions.width,d,c,e)?(c=L("g3IJgw"),d&&e?c=L("8vK9pw"):d&&(c=L("g2Fc4Q")),this.la.Ib({Cb:c})):this.store.S_c=this.QNi(c)};this.LFs=c=>{const d=this.store.columns,
e=this.store.S_c;this.ptf(this.store.dimensions.width,d,e,c)?(c=L("edKzEQ"),d&&e?c=L("+i7TbA"):d&&(c=L("pGFysw")),this.la.Ib({Cb:c})):this.store.PDc=this.QNi(c)};this.RSi=c=>{const d=this.store.Pdd,e=this.store.noa;this.ptf(this.store.dimensions.height,c,d,e)?(c=L("yQHe2Q"),d&&e?c=L("HQYf5w"):d?c=L("ujBoWw"):e&&(c=L("NLcolA")),this.la.Ib({Cb:c})):this.store.rows=eYs(c)};this.cHs=c=>{const d=this.store.rows,e=this.store.noa;this.ptf(this.store.dimensions.height,d,c,e)?(c=L("g3IJgw"),d&&e?c=L("HVPx4A"):
d&&(c=L("EIY5FA")),this.la.Ib({Cb:c})):this.store.Pdd=this.QNi(Math.min(c,this.store.dimensions.height/2))};this.dHs=c=>{const d=this.store.rows,e=this.store.Pdd;this.ptf(this.store.dimensions.height,d,e,c)?(c=L("edKzEQ"),d&&e?c=L("6+spuw"):d&&(c=L("u2fUdA")),this.la.Ib({Cb:c})):this.store.noa=this.QNi(c)};this.ptf=(c,d,e,f)=>xg(4,this.store.dimensions.units,1)*d+f*Math.max(d-1,0)+e*2>c;this.QNi=c=>dYs(c,this.store.dimensions.units)}};var WDs=a=>nV(jr,{spacing:"1u",columns:3,children:[gV(a.Haj,{}),gV(a.ljj,{})]}),XDs=JV(a=>{const b=a.Df;var c=a.Haj;const d=a.ljj;lV(()=>jV(a.onClose),[a.onClose]);const e=kV((f,g)=>({yo:()=>gV(xV,{children:f}),na:()=>gV(jr,{spacing:"1u",columns:3,children:g})}),[]);c=[e(L("gPUe1Q"),gV(c,{})),e(L("JE/qcA"),gV(d,{}))];return gV(S,{padding:"2u",paddingTop:"0",children:gV(b.F9,{items:c})})});var RDs=class{constructor(a,b,c){this.store=a;this.update=b;this.oIh=c;this.onFocus=d=>{this.store.value=d;this.store.focused=!0};this.onBlur=()=>{const d=this.store.value;this.Hyk(d)&&this.update(Number.parseFloat(d));this.store.focused=!1};this.onChange=d=>{d=d.trim();isNaN(Number(d))||(this.store.value=this.sanitize(d))};this.Hyk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d));this.sanitize=d=>{const e=this.oIh?/^[0-9.]$/:/^[0-9]$/;return d.split("").filter(f=>e.test(f)).join("")}}};var QDs=class{static G(a){O(a,{value:CV.ref,focused:CV.ref})}constructor(){this.value=(QDs.G(this),"");this.focused=!1}};var VDs={[4]:L("eY1d0Q"),[1]:L("WL2xxQ"),[3]:L("nAKgzA"),[2]:L("SJUMrg")};var fYs=__webpack_require__.p+"images/44d262aa046efce329308241ad58e99d.png";var gYs=__webpack_require__.p+"images/457fb16c040f7d4ffed30f8729561fcf.png";var hYs=__webpack_require__.p+"images/79762f8af6d55aefb16784fa24d6e2f5.png";var iYs=__webpack_require__.p+"images/7a3e97c45cb0eb116bb173d7f394b839.png";var jYs=__webpack_require__.p+"images/0d00475b150fc001612e5c8ee10dee45.png";var kYs=__webpack_require__.p+"images/d4139edd693a21ad459834f6afb64807.png";var lYs=__webpack_require__.p+"images/20a96e0c263ffa6d6e499fac04f986e5.png";var mYs=__webpack_require__.p+"images/fc4dfa7a2acff3686ff78a955b096acd.png";var nYs=__webpack_require__.p+"images/b8a93816eade047b457bdb12aea8d4a2.png";var oYs=__webpack_require__.p+"images/f2c7f5130edf84de91499a5bfc79611a.png";var pYs=__webpack_require__.p+"images/cb70f2436005001a8d43e2284c6d95ed.png";var qYs=__webpack_require__.p+"images/504a73b622512562029f809c41023878.png";var rYs=__webpack_require__.p+"images/0da201d460492dc4a316071769e7cd43.png";var sYs=__webpack_require__.p+"images/5a79332e5782275e8239bbf743b1431e.png";var tYs=__webpack_require__.p+"images/e7bb2ef8561f592c76cc0d54efa9b11b.png";var uYs=__webpack_require__.p+"images/c933f33218571b8e0b4d1fe48921c16a.png";var vYs={key:"12col",title:L("xG1z4A"),gk:{light:hYs,$Sg:iYs,dark:fYs,Ipg:gYs}},wYs={key:"3col",title:L("pznYiA"),gk:{light:lYs,$Sg:mYs,dark:jYs,Ipg:kYs}},xYs={key:"3x3grid",title:L("+dYOyw"),gk:{light:tYs,$Sg:uYs,dark:rYs,Ipg:sYs}},yYs={key:"custom",title:L("EYSP3g"),gk:{light:pYs,$Sg:qYs,dark:nYs,Ipg:oYs}},dEs=[vYs,wYs,xYs,yYs];var cEs=iV(a=>{const b=a.options,c=a.lq,d=a.Oe,e=a.onCancel,f=a.onSubmit,g=a.Abj,h=a.Qc,k=a.Uy,l=a.oa,m=a.di;lV(()=>{uV(()=>h());return jV(()=>m())},[h,m]);a=kV(q=>{uV(()=>k(q))},[k]);const p=kV(()=>{uV(()=>{f===null||f===void 0||f();l()})},[f,l]);return gV(S,{padding:"2u",paddingTop:d==="fill"?"0":void 0,className:GV("_1s_6uw",{O9Ff7A:d==="fixed"}),children:nV(Yc,{spacing:"1u",children:[gV(zYs,{options:b,lq:c,onClick:a}),g&&gV(g,{}),f&&gV(fj,{variant:"primary",onClick:p,children:L("6r3rJQ")}),e&&
gV(fj,{variant:"secondary",onClick:e,children:L("uZee/w")})]})})}),zYs=JV(a=>{const b=a.onClick,c=a.options,d=a.lq,e=kV(f=>()=>b(f),[b]);return gV(jr,{columns:4,Kua:"2u",children:c.map(f=>fRs(AYs,{...f,key:f.key,active:f.key===d,onClick:e(f.key)}))})}),AYs=JV(a=>{var b;const c=a.active,d=a.title,e=a.gk;a=a.onClick;var f=DV(()=>({Mx:{light:c?e.$Sg:e.light,dark:c?e.Ipg:e.dark}}),[c,e.dark,e.Ipg,e.light,e.$Sg]),g;f=(g=(b=__c.Lc(f))===null||b===void 0?void 0:b.Mx)!==null&&g!==void 0?g:e.light;return gV(So,
{title:gV(__c.Lo,{className:"_79_T9g",lineClamp:2,size:"small",children:d}),onClick:a,HE:"primary",selected:c,dn:"scaleThumbnail",thumbnail:gV(gv,{src:f,alt:"Image description"}),layout:"vertical",Ym:"thumbnail"})}),aEs=()=>gV(xV,{children:L("6r3rJQ")}),bEs=JV(a=>{const b=a.onClick;a=kV(()=>uV(b),[b]);return gV(__c.I8d,{onClick:a,children:L("0icR6A")})});var BYs={eventType:"editor_grid_layout_menu_toggled",Oa(a){return vf({action:a.action,source:a.source,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},CYs={eventType:"editor_grid_layout_added",Oa(a){return vf({grid_layout_category:a.R0q,direction:a.direction,num_horizontal_guides:a.AZg,horizontal_gap_px:a.kcu,horizontal_margin_px:a.lcu,horizontal_gap:a.m7q,horizontal_margin:a.n7q,num_vertical_guides:a.OZg,vertical_gap_px:a.DYu,vertical_margin_px:a.EYu,vertical_gap:a.K6i,vertical_margin:a.Gct,units:a.units,
editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var $Ds=class{constructor(a,b,c,d,e,f,g){this.document=a;this.store=b;this.ka=c;this.plk=d;this.ZHg=e;this.N=f;this.la=g;this.Cgo=h=>{this.store.lq=h};this.crj=()=>{this.document.Jx.Er();this.ZHg.crj(this.store.qlk);this.ka.layout===1&&this.la.Ib({Cb:L("4VTm9A"),Qq:{buttonText:L("GDZ7sw"),onClick:jV(this.ZHg.JHo)}})};this.nGn=()=>{this.N.track(BYs,{action:"open"});this.uCo()};this.oGn=()=>{this.N.track(BYs,{action:"close"});this.uCo()};this.qBn=()=>{this.crj();const h=this.store.DCb.columns,k=this.store.DCb.rows;
h===0&&k===0||this.N.track(CYs,{R0q:this.store.lq==="custom"?"custom":"default",direction:h===0?"horizontal":k===0?"vertical":"mixed",AZg:k||void 0,m7q:this.store.DCb.noa||void 0,n7q:this.store.DCb.Pdd||void 0,OZg:h||void 0,K6i:this.store.DCb.PDc||void 0,Gct:this.store.DCb.S_c||void 0,units:__c.Qv(__c.Pv(this.store.dimensions.units))})};this.uCo=()=>{this.plk.enabled||this.ZHg.F7e("guides_panel");this.store.iHi=!this.store.iHi};this.Ovs=()=>{this.store.lq="12col"}}};var ZDs=class{static G(a){O(a,{lq:CV.ref,iHi:CV.ref,dimensions:pV,uqo:pV,DCb:pV,qlk:pV,cHi:pV})}get dimensions(){const a=this.viewport.Zg.page;if(a.type==="responsive")throw new __c.Ww;return a.dimensions||this.document.dimensions}get uqo(){return this.lq==="custom"&&this.ka.layout===1}get DCb(){if(this.lq==="custom")return this.Gdq.DCb;const a=this.dimensions.width,b=this.dimensions.units,{columns:c,rows:d}=DYs[this.lq];return{...DYs[this.lq],S_c:0,PDc:c&&dYs(a/(c*10),b),Pdd:0,noa:d&&dYs(a/(d*10),
b)}}get qlk(){const a=this.DCb.columns,b=this.DCb.rows,c=this.DCb.S_c,d=this.DCb.PDc,e=this.DCb.Pdd,f=this.DCb.noa,g=[];(a||c)&&g.push(...this.vtm(a,2,d,c));(b||e)&&g.push(...this.vtm(b,1,f,e));return g}get cHi(){return this.iHi?this.qlk.map(({position:a,...b})=>({...b,position:a*this.viewport.zoom.scale})):void 0}constructor(a,b,c,d){this.Gdq=a;this.ka=b;this.viewport=c;this.document=d;this.lq=(ZDs.G(this),"12col");this.iHi=!1;this.vtm=(e,f,g=0,h=0)=>{var k=this.dimensions.height;const l=this.dimensions.width;
var m=this.dimensions.units;k=Ov(m,f===1?k:l);const p=Ov(m,g);g=Ov(m,h);m=k/2;if(h>=m)return[{position:m,direction:f,locked:!0}];const q=[];g&&(q.push({position:g,direction:f,locked:!0}),q.push({position:k-g,direction:f,locked:!0}));const r=(k-2*g-(e-1)*p)/e;let t=g;qc(1,e).forEach(()=>{t+=r;q.push({position:t,direction:f,locked:!0});p&&(t+=p,q.push({position:t,direction:f,locked:!0}))});return q}}},DYs={"12col":{columns:12,rows:0},"3col":{columns:3,rows:0},"3x3grid":{columns:3,rows:3},custom:{columns:6,
rows:0}};var EYs={eventType:"editor_guide_view_toggled",Oa(a){return vf({previous:a.previous,value:a.value,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},jEs={eventType:"editor_guide_moved",Oa(a){return vf({previous:a.previous,value:a.value,direction:a.direction,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,
editing_context:a.Aa==null?void 0:wf(a.Aa)})}},lEs={eventType:"editor_guide_deleted",Oa(a){return vf({guides_count:a.G1q,direction:a.direction,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_horizontal_guides:a.AZg,num_vertical_guides:a.OZg,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},FYs={eventType:"editor_guide_locking_toggled",Oa(a){return vf({action:a.action,control_context:a.kb,direction:a.direction,
num_horizontal_guides:a.AZg,num_vertical_guides:a.OZg,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},GYs={eventType:"editor_guide_added",Oa(a){return vf({position:a.position,direction:a.direction,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var IYs=class{static G(a){O(a,{F7e:jV.bound,onMouseEnter:jV.bound,onMouseLeave:jV.bound,bAl:jV.bound,onDragStart:jV.bound,pe:jV.bound,onDragEnd:jV.bound,Iw:jV.bound,sBn:jV.bound,wBn:jV.bound,oFj:jV.bound,bHh:jV.bound})}get ya(){const a=this.viewport.Zg.page;if(a.type==="responsive")throw new __c.Ww;return a}F7e(a){this.store.enabled?(this.store.OJe.clear(),this.store.enabled=!1):this.store.enabled=!0;this.N.track(EYs,{previous:this.store.enabled?"hidden":"shown",value:this.store.enabled?"shown":"hidden",
kb:a,Yp:0,Ur:0,Ey:0})}onMouseEnter(a){this.store.Mh||this.store.OJe.add(a)}onMouseLeave(a){this.store.Mh||this.store.OJe.delete(a)}bAl(){return this.undo.startBuffering()}onDragStart(a,b,c){var d;this.onMouseEnter(b);const e=iEs(this,new Bj(a.clientX,a.clientY));var f=new __c.rsg(this.kxf(b),e);f=mqs(this.Mra,f,this.ya);a=a.metaKey||a.ctrlKey;(d=this.store.Mh)===null||d===void 0||d.close();this.store.Mh&&kEs(this,this.store.Mh.V_,this.store.Mh.ack);c||(c=this.bAl());this.store.Mh=new HYs(c,e,b,a,
f,g=>this.kxf(g))}pe(a){this.store.Mh&&(this.store.Mh.to=iEs(this,new Bj(a.clientX,a.clientY)))}onDragEnd(){if(this.store.Mh){var a=this.store.Mh.V_;kEs(this,a,this.store.Mh.ack);{var b=this.dyb(this.ya);const c=this.kxf(a);__c.ek(b,c)?b=!1:(this.document.Jx.delete(a),mEs(this,[a],"out_of_bounds"),b=!0)}this.store.Mh.close();this.store.Mh=void 0;b&&this.onMouseLeave(a);this.store.Mdg&&this.store.OJe.clear()}}Iw(a){this.store.Mh&&(this.store.Mh.cwc=a.metaKey||a.ctrlKey)}sBn(a){a&&this.bHh(a,1,"contextual_menu",
!1)}wBn(a){a&&this.bHh(a,2,"contextual_menu",!1)}oFj(a){const b=this.document.Jx,c=b.toArray();b.Er();mEs(this,c,a)}bHh(a,b,c,d=!0){this.store.enabled||this.F7e(c);const {x:e,y:f}=iEs(this,a);a=b===1?f:e;const g=this.document.Jx.append({position:a,direction:b,locked:this.store.Mdg});d&&this.onMouseEnter(g);this.N.track(GYs,{position:a,direction:b===1?"horizontal":"vertical",kb:c,Yp:0,Ur:0,Ey:0});return g}crj(a){this.document.Jx.X6(void 0,a)}kxf(a){const b=a.position;a=a.direction===1;const c=rk(this.ya,
this.document.dimensions),{width:d,height:e}=yg(4,c||this.document.dimensions);return a?Vj(0,b,d,b):Vj(b,0,b,e)}dyb(a){const {width:b,height:c}=yg(4,a.dimensions||this.document.dimensions);return Vj(0,0,b,c)}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.undo=d;this.store=e;this.N=f;this.Ti=g;this.la=h;this.Mra=k;this.LGl=(IYs.G(this),l=>{if(this.store.Vvl){this.store.OJe.clear();var m=this.document.Jx,p=this.store.Jtg.size===0;if(p)this.JHo();else{for(const q of this.store.Jtg)q.locked=
!0;this.la.Ib({Cb:L("0iK69Q")})}m=m.toArray();this.N.track(FYs,{kb:l,action:p?"unlock":"lock",...nEs(m)})}});this.JHo=()=>{for(const l of this.document.Jx)l.locked=!1;this.la.Ib({Cb:L("XzwAMA")})}}},HYs=class{close(){this.P7a.stop();this.Aoa.close()}set cwc(a){this.Xoe!==a&&(this.Xoe=a,this.update())}set to(a){this.bpe=a;this.update()}update(){this.eKo(this.bpe);this.Xoe?this.Aoa.close():this.Aoa.Nw({type:"translate",kj:this.V_.direction===2,Cj:this.V_.direction===1},this.bpe,this.kxf(this.V_),!1,
this.eKo)}constructor(a,b,c,d,e,f){this.P7a=a;this.from=b;this.V_=c;this.Xoe=d;this.Aoa=e;this.kxf=f;this.eKo=g=>{g=Ej(g,this.from);this.V_.position=this.ack+(this.V_.direction===1?g.y:g.x);return this.kxf(this.V_)};this.bpe=b;this.ack=c.position}};var JYs=class{static G(a){O(a,{enabled:CV.ref,TVe:pV,VIe:pV,eUd:pV,JNh:pV,b_c:pV,gim:pV,Yqo:pV,aWi:pV,RUi:pV,$Ui:pV,Vvl:pV,Mdg:pV,OJe:CV.shallow,Mh:CV.ref,Jtg:pV.struct,xGh:pV.struct,hck:pV.struct,p0m:pV.struct})}get TVe(){switch(this.ka.layout){case 1:return"draggable";case 2:return"viewable";default:throw new v(this.ka.layout);}}get VIe(){return!this.document.Jx.empty}get eUd(){return!!this.TVe&&this.viewport.jh&&this.viewport.jU}get JNh(){return this.Ma.mode===40}get b_c(){return this.JNh&&this.TVe===
"draggable"}get gim(){return this.enabled&&this.eUd}get Yqo(){var a,b,c;const d=((b=this.selection.La)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="pages"?this.selection.La.inner.inner:(c=this.selection.La)===null||c===void 0?void 0:c.inner;return this.enabled&&this.eUd&&(d===null||d===void 0?void 0:d.type)==="background"&&d.page.type==="fixed"&&(!d.page.dimensions||!Bg(d.page.dimensions))}get aWi(){return this.VIe&&this.eUd&&this.TVe==="viewable"}get RUi(){return this.eUd&&
this.JNh}get $Ui(){return this.VIe&&this.enabled&&this.eUd&&this.JNh}get Vvl(){return this.VIe&&this.enabled&&this.eUd&&this.b_c}get Mdg(){return!this.document.Jx.empty&&this.document.Jx.every(a=>a.locked)}get Jtg(){return this.b_c?new Set(this.document.Jx.filter(a=>!a.locked)):new Set}get xGh(){if(this.Mh)return new Set(this.o9.targets.length?[this.Mh.V_]:[]);const a=this.o9.targets.map(b=>b.type==="rule-x"||b.type==="rule-y"?b.V_:null).filter(tb);return new Set(a||[])}get hck(){const a=[...this.OJe].filter(b=>
this.document.Jx.has(b));return new Set([...this.xGh,...a])}get p0m(){const {width:a,height:b,units:c}=rk(this.viewport.Zg.page,this.document.dimensions),d=Ov(c,a),e=Ov(c,b);return this.document.Jx.filter(f=>{const g=f.direction===1?e:d;return f.position>=0&&f.position<=g})}constructor(a,b,c,d,e,f,g=!1){this.Ma=a;this.viewport=b;this.document=c;this.selection=d;this.o9=e;this.ka=f;this.enabled=(JYs.G(this),void 0);this.OJe=new Set;this.enabled=g}};var KYs=(a,b,c,d,e)=>{const f=jV(()=>c.LGl("shortcut"));b.register([SXs,f,L("ON7FDg"),["edit"]]);const g=()=>c.F7e("file_menu"),h=()=>c.LGl("file_menu"),k=()=>c.oFj("file_menu");a.Tu(()=>({RUi:d.RUi,nNs:d.Vvl,$Ui:d.$Ui,aWi:d.aWi}),({lL:l},{RUi:m,nNs:p,$Ui:q,aWi:r})=>{l&&(l.u9i=m?e:void 0,l.hne=p?{Button:iV(t=>gV(RXs,{...t,onClick:h,eB:d.Mdg,jm:SXs}))}:void 0,l.APd=q?{Button:t=>gV(QXs,{...t,onClick:k})}:void 0,l.hkj=r?{Button:iV(t=>gV(TXs,{...t,onClick:g,eB:d.enabled}))}:void 0)},{equals:oV.structural})},
LYs=(a,b,c)=>{const d=b.sBn,e=b.wBn,f=()=>b.LGl("contextual_menu"),g=()=>b.oFj("contextual_menu");a.kc(()=>({PMs:c.Yqo,VIe:c.VIe}),(h,{PMs:k,VIe:l})=>{k?(h.X3b={Button:m=>gV(KXs,{...m})},h.Xxh={Button:m=>gV(MXs,{...m,onClick:d})},h.byh={Button:m=>gV(NXs,{...m,onClick:e})},h.APd=l?{Button:m=>gV(OXs,{...m,onClick:g})}:void 0,h.hne=l?{Button:iV(m=>gV(PXs,{...m,onClick:f,locked:c.Mdg}))}:void 0):(h.X3b=void 0,h.Xxh=void 0,h.byh=void 0,h.APd=void 0)})},MYs=(a,b,c)=>{a.H1q=pV(()=>c.eUd?b.Jx.map(d=>d.direction===
1?{type:"rule-y",y:d.position,V_:d}:{type:"rule-x",x:d.position,V_:d}):[])};var pEs=class{static G(a){O(a,{W0a:pV,fxi:jV.bound})}get W0a(){var a,b=this.yI.focused,c=this.yI.selected,d=b.jw!=null?b:c;c=d.jw;var e=d.aIa;const f=d.oj;d=b.bca;var g=b.gvf;const h=b.Dra;g=h!==null&&h!==void 0?h:g;e=e&&((a=this.gd.TEa(e))===null||a===void 0?void 0:a.width);if(this.Ma.mode<40||!c||e==null||!f)return{};a=sA(f);var k;e=(k=a===null||a===void 0?void 0:a.wLc)!==null&&k!==void 0?k:!1;k=(b=b.jw===c)&&a&&d.length>0;c={};c["add-column"]=k&&e&&!!a&&a.mrg<4;c["change-cell-padding"]=b;c["change-column-gap"]=
e;c["change-row-gap"]=!e;c["move-column-before"]=k&&e&&g!=null&&g>0;c["move-column-after"]=k&&e&&g!=null&&!!a&&g<a.mrg-1;return c}fxi(){var a=this.yI.focused;const b=a.oj;var c=a.gvf;a=a.Dra;c=a!==null&&a!==void 0?a:c;b&&c!=null&&this.cxa.ngb(b,this.Kn,c+1,c)}obc(a){const b=this.yI.focused.oj;var c=this.yI.focused.gvf;const d=this.yI.focused.Dra;c=d!==null&&d!==void 0?d:c;b!=null&&c!=null&&this.cxa.obc(b,c,c+a)}get xln(){var a=this.yI.focused.jw;const b=this.yI.selected.jw;a=a!==null&&a!==void 0?
a:b;var c;return(c=a===null||a===void 0?void 0:a.direction)!==null&&c!==void 0?c:1}constructor(a,b,c,d,e,f){this.yI=a;this.cxa=b;this.gd=c;this.Xa=d;this.Ma=e;this.Kn=f;this.xDn=(pEs.G(this),jV(()=>this.obc(1)));this.yDn=jV(()=>this.obc(-1))}},qEs=class{static G(a){O(a,{W0a:pV,RSk:jV.bound,fxi:jV.bound})}get W0a(){var a=this.yI.selected.Jpb;const b=this.yI.selected.mll,c=this.yI.selected.M0e,d=this.yI.selected.Hzd,e=this.yI.selected.bzd,f={};if(!a||!b||c==null)return f;a=zk.eQ(a);f["add-column"]=
e&&c!=null;f["add-row"]=d&&c!=null;f["move-column-before"]=e&&c!=null&&c>0;f["move-column-after"]=e&&c!=null&&c<a.grid.gridTemplateColumns.length-1;f["move-row-up"]=d&&c!=null&&c>0;f["move-row-down"]=d&&c!=null&&c<a.grid.gridTemplateRows.length-1;return f}RSk(){const a=this.yI.selected.IYa,b=this.yI.selected.M0e;a!=null&&b!=null&&this.vzb.addRow(a,b+1,b)}fxi(){const a=this.yI.selected.IYa,b=this.yI.selected.M0e;a!=null&&b!=null&&this.vzb.addColumn(a,b+1,b)}obc(a){const b=this.yI.selected.Jpb,c=this.yI.selected.M0e;
b!=null&&c!=null&&this.vzb.obc(b,c,c+a)}LIf(a){const b=this.yI.selected.Jpb,c=this.yI.selected.M0e;b!=null&&c!=null&&this.vzb.LIf(b,c,c+a)}get xln(){const a=this.yI.selected.Jpb;var b;return(b=a===null||a===void 0?void 0:a.direction)!==null&&b!==void 0?b:1}constructor(a,b){this.yI=a;this.vzb=b;this.xDn=(qEs.G(this),jV(()=>this.obc(1)));this.yDn=jV(()=>this.obc(-1));this.zDn=jV(()=>this.LIf(1));this.ADn=jV(()=>this.LIf(-1))}};var NYs,OYs,PYs,QYs;
new (NYs=class extends NV{constructor(){super(QYs);OYs()}},(()=>{class a extends(PYs=LV){static G(b){O(b,{yyc:CV.ref})}componentDidMount(){if(this.aVc.current!=null&&typeof IntersectionObserver!=="undefined"&&Wb()){var b=new IntersectionObserver(c=>{this.yyc&&c.forEach(d=>{const e=this.controls.get(d.target);if(e!=null){var f=e.index;d.isIntersecting?(e.JIe=!0,this.props.ctc(f)):e.JIe&&this.props.DZb(f)}})},{root:this.aVc.current});this.controls.forEach((c,d)=>b.observe(d));this.ANg=b;document.addEventListener("mousemove",
this.onMouseMove,{passive:!0});Kb(this,hV(()=>this.yyc,this.l5i))}}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove)}render(){const b=this.props.children;return gV("div",{ref:this.aVc,className:"MXQnbw",children:gV("div",{ref:this.v8e,className:"v3K2TQ",children:b(this.WLj)})})}constructor(...b){super(...b);this.yyc=(QYs.G(this),void 0);this.controls=new Map;this.aVc=MV();this.v8e=MV();this.onMouseMove=c=>{requestAnimationFrame(jV(()=>{this.yyc=new Bj(c.clientX,c.clientY)}))};
this.l5i=()=>{var c=this.yyc;c&&this.yyc&&this.aVc.current&&(c=this.props.MFj(c),this.aVc.current.style.transform=`translate(${c.x}px, ${c.y}px)`,this.v8e.current&&(this.v8e.current.style.transform=`translate(${-c.x}px, ${-c.y}px)`))};this.WLj=QV(c=>{let d;return e=>{var f;if(e==null){if(d!=null){var g;(g=this.ANg)===null||g===void 0||g.unobserve(d);e=this.controls.get(d);e!=null&&e.JIe&&this.props.DZb(e.index);this.controls.delete(d)}}else d=e,(f=this.ANg)===null||f===void 0||f.observe(d),this.controls.set(d,
{index:c,JIe:!1})}})}}({c:[QYs,OYs]}=PV(a,[],[Ob],PYs))})(),NYs);var uEs=iV(a=>{const b=a.Eca,c=a.oj,d=a.eb,e=a.gridTemplateColumns,f=a.direction,g=a.zGh,h=a.ngb,k=c.padding;return gV(QYs,{ctc:a.Tvi,DZb:a.Oxi,MFj:a.MFj,children:l=>gV("div",{style:{...b,...k},className:"A_NQjw",children:nV("div",{className:GV("w3zvMw",{KOhH2w:f!==2,poDbpw:f===2}),style:{width:d,gridTemplateColumns:e.join(" "),columnGap:c.columnGap,height:b.height-k.paddingTop-k.paddingBottom},children:[gV(RYs,{J3d:l(-1),VD:g===-1,ngb:h,oHb:-1,columnGap:c.columnGap}),e.map((m,p)=>gV("div",{className:"_6p8piw",
children:gV(RYs,{J3d:l(p),VD:g===p,ngb:h,oHb:p,columnGap:c.columnGap})},`add-control-${p}`))]})})})}),RYs=class extends LV{render(){const a=this.props.oHb,b=this.props.J3d,c=this.props.columnGap;return gV("div",{className:"kMUyMg",style:{width:c,insetInlineStart:a===-1?-c:void 0,insetInlineEnd:a!==-1?-c:0},children:gV("div",{className:GV("i8mzIQ",{_6dAisg:this.props.VD}),ref:b,children:gV("div",{className:"yAMchA",children:gV(tr,{variant:"tertiary",className:"xk7iWw",icon:Pu,Nc:"small",size:"tiny",
onClick:this.handleClick,hb:L("gQ2wmg")})})})})}constructor(...a){super(...a);this.handleClick=jV(()=>this.props.ngb(this.props.oHb+1,this.props.oHb>=0?this.props.oHb:0))}};var tEs=class{static G(a){O(a,{Tvi:jV.bound,Oxi:jV.bound,zGh:pV})}Tvi(a){this.WGh.activeIndex=a}Oxi(a){this.WGh.activeIndex===a&&(this.WGh.activeIndex=void 0)}get zGh(){return this.WGh.activeIndex}constructor(a){this.WGh=a;tEs.G(this)}};var sEs=class{static G(a){O(a,{activeIndex:CV.ref,AGh:pV,ipe:pV,wln:pV,y5l:pV,u6c:pV})}get AGh(){const a=this.yI.selected,b=this.yI.focused;return b.jw?b.jw:a.jw}get ipe(){const a=this.yI.selected;var b;return(b=this.yI.focused.oj)!==null&&b!==void 0?b:a.oj}get wln(){var a;const b=this.AGh;if(b)return(a=this.gd.xE(b))===null||a===void 0?void 0:a.Lb()}get y5l(){var a=this.ipe;if(a)return a=sA(a),(a===null||a===void 0?0:a.wLc)?a.Ipa:void 0}get eb(){var a;return(a=this.ipe)===null||a===void 0?void 0:
a.eb}get u6c(){const a=this.ipe;if(!a)return!0;var b;const c=(b=sA(a))!==null&&b!==void 0?b:{};return this.AGh&&a.eQ.grid.gridTemplateColumns.length>=4||!c||this.oOe.JSa||this.$al.OXb||this.Z$b()}constructor(a,b,c,d,e){this.yI=a;this.gd=b;this.oOe=c;this.$al=d;this.Z$b=e;this.activeIndex=(sEs.G(this),void 0)}};var wEs=iV(a=>gV("div",{className:"_aoqnA",children:gV(a.Mrp,{})})),yEs=iV(a=>{const b=a.yI,c=b.focused,d=b.selected,e=a.gd,f=a.Vij,g=a.Uij,h=a.Cij,k=a.Jor,l=a.Fzk,m=a.OXb;a=a.GRo;return nV("div",{className:"_aoqnA",children:[gV(SYs,{VD:b.VD,gd:e,focused:c,selected:d}),gV(TYs,{selected:d,gd:e,Vij:f,Gzk:k}),gV(UYs,{focused:c,gd:e,Uij:g,Fzk:l,OXb:m,Cij:h}),gV(a,{})]})}),xEs=iV(a=>{const b=a.Pc;var c=a.context;a=a.zop;c=Yj(c.layout).transform(__c.xk(c.container));return gV("div",{style:{...c.scale(b.scale).Lb(),
transform:`rotate(${c.rotation}deg)`},className:"RG4NVA",children:gV(a,{$c:b.scale})})}),TYs=iV(({selected:{jw:a,oj:b},gd:c,Vij:d,Gzk:e})=>{const f=kV(()=>!1,[]),g=a&&c.xE(a);return a&&g&&b?nV("div",{style:g.Lb(),className:GV("fRULfA","gg402Q"),children:[gV(VYs,{gd:c,jw:a,isFocused:f}),gV(d,{}),gV(WYs,{jw:a,oj:b,Gzk:e})]}):null}),UYs=iV(({focused:a,gd:b,Uij:c,Fzk:d,OXb:e,Cij:f})=>{const g=kV(l=>{var m;return((m=a.n_c)===null||m===void 0?void 0:m.rb)===l},[a]),h=a.jw,k=h&&b.xE(h);return k&&h?nV("div",
{style:k.Lb(),className:GV("fRULfA","MxqZyA",{i2kpZg:d.get(),co5Mjw:e.get()}),children:[gV("div",{className:"_8XBw7Q"}),gV(XYs,{focused:a}),gV(VYs,{gd:b,jw:h,isFocused:g}),gV(c,{}),gV(f,{})]}):null}),XYs=iV(a=>{var b=a.focused,c=b.jw;a=b.oj;b=b.Dra;if(!c||!a||b==null)return null;c=c.direction;return nV("div",{className:"RBG0bg",style:a.padding,children:[gV("div",{className:"_8XBw7Q"}),gV("div",{className:GV("_5brsHQ",{KzPd0w:c!==2,CLZE_w:c===2}),style:{width:a.eb,gridTemplateColumns:a.eQ.grid.gridTemplateColumns.join(" "),
columnGap:a.columnGap},children:gV("div",{className:"b0uIuw",style:{gridColumnStart:b+1,gridColumnEnd:b+2},children:gV("div",{className:"CVVcPQ"})})})]})}),SYs=iV(a=>{const b=a.VD,c=a.gd,d=a.selected;a=a.focused;const e=b.jw,f=b.n_c,g=kV(()=>!1,[]),h=kV(l=>{var m;return((m=b.n_c)===null||m===void 0?void 0:m.rb)===l},[b]),k=e&&c.xE(e);return k?nV("div",{style:k.Lb(),className:GV("fRULfA","_9RoMsw",{ICcROg:!(f===null||f===void 0||!f.rb),TEomtQ:a.jw!=null&&a.bca.length===0,_4i1_pQ:d.jw!=null}),children:[gV("div",
{className:"_8XBw7Q"}),gV(VYs,{gd:c,jw:e,tv:h,isFocused:g})]}):null}),VYs=iV(({jw:a,gd:b,tv:c,isFocused:d})=>gV(xV,{children:[...a.cells.entries()].map(([e,f])=>{const g=pV(()=>b.lFg(a,f),{equals:__c.vk(ak)});var h;return gV(YYs,{SOh:g,tv:(h=c===null||c===void 0?void 0:c(f))!==null&&h!==void 0?h:!1,isFocused:d(f)},e)})})),YYs=iV(({SOh:a,tv:b,isFocused:c})=>(a=a.get())?gV("div",{className:GV("lV3NGg",{_9RoMsw:b,_8LSeEQ:c}),style:a.Lb(),children:gV("div",{className:"JGja2g"})}):null),WYs=iV(({jw:a,
Gzk:b,oj:c})=>{if(!b.get())return null;b=c.padding;return nV(xV,{children:[b.paddingTop>=24&&gV(ZYs,{value:a.padding.rd,height:b.paddingTop,top:0}),b.paddingBottom>=24&&gV(ZYs,{value:a.padding.Ee,height:b.paddingBottom,bottom:0})]})}),ZYs=JV(({value:a,height:b,bottom:c,top:d})=>gV("div",{className:"OA3nYw",style:{height:b,bottom:c,top:d},children:gV("div",{className:"HnFUtw",children:gV(P,{size:"xsmall",tone:lr,children:J("TFO24A",[Math.round(a)])})})}));var $Ys=class{static G(a){O(a,{IYa:pV,Jpb:pV,mll:pV,M0e:pV,Hzd:pV,bzd:pV,rFf:pV,p_n:pV})}get IYa(){const a=this.selection.La;if(a!==null&&a!==void 0&&a.Ji()){if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout")return a.inner.container;if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout-cell")return a.inner.container.container}}get Jpb(){var a;return(a=this.IYa)===null||a===void 0?void 0:a.layout}get mll(){const a=this.selection.La;if(a!==null&&a!==void 0&&a.Ji()){if((a===null||a===
void 0?0:a.inner)&&a.inner.type==="layout")return a.inner.cells[0];if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout-cell")return a.inner.container.rb}}get M0e(){var a=this.Jpb,b=this.mll;if(a&&b&&(b=(new Map(a.cells.map((e,f)=>[e,f]))).get(b))){a=zk.eQ(a).grid.Xv.get(b);var c,d;if(this.Hzd)return parseInt((c=a===null||a===void 0?void 0:a.gridRowStart)!==null&&c!==void 0?c:"-1",10)-1;if(this.bzd)return parseInt((d=a===null||a===void 0?void 0:a.gridColumnStart)!==null&&d!==void 0?d:"-1",
10)-1}}get Hzd(){const a=this.Jpb;return a?zk.eQ(a).grid.gridTemplateColumns.length===1:!1}get bzd(){const a=this.Jpb;return a?zk.eQ(a).grid.gridTemplateRows.length===1:!1}get rFf(){if(this.Hzd&&!this.bzd)return"row";if(this.bzd&&!this.Hzd)return"column"}get p_n(){return this.rFf==="row"||this.rFf==="column"?this.IYa:void 0}constructor(a){this.selection=a;$Ys.G(this)}},aZs=class{constructor(a){this.selection=a;this.selected=new $Ys(this.selection)}};var bZs=class{static G(a){O(a,{jw:pV,aIa:pV,oj:pV,n_c:pV,bca:pV,gvf:pV})}get p7h(){const a=this.selection.Jb;if(((a===null||a===void 0?void 0:a.type)===0||(a===null||a===void 0?void 0:a.type)===1)&&a.container.type==="layout-item-cell")return a.container}get pll(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===3?a.container:void 0}get jw(){var a;const b=(a=this.p7h)!==null&&a!==void 0?a:this.pll;return b===null||b===void 0?void 0:b.layout}get aIa(){var a;const b=this.p7h,c=
this.pll;var d;return(a=(d=b===null||b===void 0?void 0:b.container)!==null&&d!==void 0?d:c)===null||a===void 0?void 0:a.container.text}get oj(){return this.nod(this.jw,this.aIa)}get n_c(){const a=this.p7h;return a?{rb:a.rb,id:a.ZF}:void 0}get bca(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===3?[...a.map(b=>b)]:[]}get gvf(){const a=this.oj,b=this.p7h;if(b&&a){var [c,d]=a.Ijm({rb:b.rb,id:b.ZF});return c!=null&&d===c+1?c-1:void 0}}get Dra(){var a;const b=this.selection.Jb,
c=this.oj,d=(a=this.pll)===null||a===void 0?void 0:a.layout;if((b===null||b===void 0?void 0:b.type)===3&&d&&c){var e=c.eQ,f=new Map(d.cells.map((g,h)=>[g,h]));a=b.map(g=>{g=n(f.get(g));const {gridColumnStart:h,gridColumnEnd:k}=n(e.grid.Xv.get(g));if(h==null||k==null)return[];const l=parseInt(h,10);return Array.from({length:parseInt(k,10)-l},(m,p)=>l-1+p)});a=new Set(a.flat(1));return a.size===1?[...a][0]:void 0}}constructor(a,b){this.selection=a;this.nod=b;bZs.G(this)}},cZs=class{static G(a){O(a,
{Ayb:CV.ref,jw:pV,aIa:pV,oj:pV,n_c:pV})}get jw(){var a;return(a=this.Ayb)===null||a===void 0?void 0:a.jw}get aIa(){var a;return(a=this.Ayb)===null||a===void 0?void 0:a.aIa}get oj(){return this.nod(this.jw,this.aIa)}get n_c(){var a;return(a=this.Ayb)===null||a===void 0?void 0:a.n_c}constructor(a){this.nod=a;this.Ayb=(cZs.G(this),void 0)}},dZs=class{static G(a){O(a,{jw:pV,container:pV,oj:pV})}get jw(){var a;const b=this.selection.Jb;if((b===null||b===void 0?void 0:b.type)===1&&((a=b.only)===null||a===
void 0?void 0:a.type)==="layout")return b.only}get aIa(){var a;return(a=this.container)===null||a===void 0?void 0:a.text}get container(){var a;const b=this.selection.Jb;if((b===null||b===void 0?void 0:b.type)===1&&((a=b.only)===null||a===void 0?void 0:a.type)==="layout")return b.container}get oj(){return this.nod(this.jw,this.aIa)}constructor(a,b){this.selection=a;this.nod=b;dZs.G(this)}},eZs=class{constructor(a,b,c){this.selection=a;this.gd=b;this.Fjd=c;this.nod=(d,e)=>{var f=this.gd;const g=this.Fjd;
f=e!=null?f.TEa(e):void 0;if(e!=null&&d!=null&&f!=null)return new __c.UIb(d,f,g)};this.focused=new bZs(this.selection,this.nod);this.VD=new cZs(this.nod);this.selected=new dZs(this.selection,this.nod)}};var fZs=5*$c,gZs=class{static G(a){O(a,{Hmg:pV,SN:pV})}get Hmg(){const a=this.yI.focused.jw,b=a&&this.gd.xE(a);return b?[Yj({top:b.tl.y+a.padding.rd-fZs,left:b.tl.x,width:b.width,height:fZs})]:[]}get SN(){return this.viewport.CP||Nj()}constructor(a,b,c){this.yI=a;this.gd=b;this.viewport=c;gZs.G(this)}};var hZs=class{constructor(a,b){this.gd=a;this.Fjd=b;this.Dfk=c=>{const d=__c.xXd(c.layout)[0];c=c.layout.cells.get(d);return[d,c]};this.Y9h=(c,d)=>{for(const [e,f]of d.cells.entries())if(f===c)return e};this.mai=(c,d,e)=>{var f=d.layout,g=__c.xXd(d.layout);c=g.indexOf(c);if(c==null)return[void 0,void 0];const h=d.layout.direction===1;d=d.layout.direction===2;e=e==="next"||e==="down"||h&&e==="right"||d&&e==="left"?c+1:c-1;return(f=(g=e>=0?g[e]:void 0)?f.cells.get(g):void 0)&&g?[f,g]:[void 0,void 0]}}};var HEs=JV(({orientation:a,height:b,width:c,onClick:d,padding:e,eb:f,T0q:g,gap:h,dii:k,o$b:l,onDragStart:m,pe:p,onDragEnd:q,lYd:r,Rwb:t,direction:u,$c:w=1})=>{const x=a==="column"?u===1?h/2:-h/2:0,y=-1*x,z=a==="row"?h/2:0,A=-1*z;return gV("div",{className:GV("LXcOeQ",{smp5Fg:a==="column",DuBvGw:a==="row"}),style:{width:c,height:b,padding:`${e.paddingTop}px ${e.paddingRight}px ${e.paddingBottom}px ${e.paddingLeft}px`},children:nV("div",{style:{width:f,gridTemplateColumns:a==="column"?g.join(" "):"none",
gridTemplateRows:a==="row"?g.join(" "):"none",columnGap:a==="column"?h:"none",rowGap:a==="row"?h:"none"},className:GV("D5zYZQ",{gHnwHQ:u!==2,ON6A0w:u===2}),children:[g.map((B,D)=>gV(iZs,{orientation:a,FIl:D,$_:D===k,onClick:d,onDragStart:m,pe:p,onDragEnd:q,Rwb:t,$c:w},D)),r&&gV("div",{className:"MApa6w",style:r.Lb(),children:gV("div",{className:"LUDnXA"})}),l&&k!=null&&gV("div",{className:GV({SpPSQQ:a==="column",kJYp5A:a==="row",wpCz2A:l.index<k,XRPiCQ:l.index>k}),style:{...l.bounds.translate(l.index<
k?y:x,l.index<k?A:z).Lb()}})]})})}),iZs=class extends hRs{componentWillUnmount(){var a;(a=this.d6a)===null||a===void 0||a.call(this)}render(){const a=this.props.orientation,b=this.props.FIl,c=this.props.$_,d=this.props.Rwb;return gV("div",{className:GV("Y7ISsw",{VQ2gPA:a==="column",G9GP3A:a==="row",P_zEuA:c}),style:{gridColumnStart:a==="column"?b+1:"auto",gridColumnEnd:a==="column"?b+2:"auto",gridRowStart:a==="row"?b+1:"auto",gridRowEnd:a==="row"?b+2:"auto"},children:gV("div",{className:GV("S7hrgg",
{tMmKeg:a==="column",_4bvhgg:a==="row"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,style:{left:c&&a==="column"?d:void 0,top:c&&a==="row"?d:void 0},children:gV(fj,{variant:"tertiary",className:"ALM0Rw",icon:__c.Ssg,Nc:"small",size:"small",ariaLabel:a==="column"?L("JuaJHw"):L("iz71mA"),onClick:this.onClick})})})}constructor(...a){super(...a);this.draggable=new cr({onDragStart:jV((b,c)=>{this.props.onDragStart(this.props.FIl,new Bj(b.clientX,b.clientY),this.props.$c);
this.d6a=c}),pe:jV(b=>this.props.pe(new Bj(b.clientX,b.clientY))),onDragEnd:()=>{requestAnimationFrame(jV(()=>{this.d6a=void 0;this.props.onDragEnd()}))},fIa:pV(()=>"W74d3A")});this.onClick=jV(()=>this.props.onClick(this.props.FIl))}};var jZs=class{static G(a){O(a,{R8a:CV.ref,Rwb:pV,oA:pV,FBc:pV,o$b:pV,lYd:pV})}set gy(a){this.R8a=AEs(this.viewport.Ql(this.viewport.Zg).transform(a.x,a.y),this.ZVe,this.oA.rotation)}get Rwb(){return this.dragStart!=null&&this.R8a!=null?this.R8a.x-this.dragStart.x:void 0}get oA(){return Yj(this.IYa.layout).transform(__c.xk(this.IYa.container))}get FBc(){const a=this.IYa,b=this.dnc,c=this.ZVe,d=[...zk.EDj(a.layout).values()].sort((f,g)=>f.Sb.x-g.Sb.x),e=zk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,
-e.paddingBlockStart).scale(b*c))}get o$b(){var a=this.R8a,b=this.IYa;const c=this.ZVe,d=this.FBc;if(this.Rwb!=null&&d&&a!=null){var e=AEs(this.oA.Sb,c,this.oA.rotation);b=zk.padding(b.layout);var f=a.x-e.x-b.paddingInlineStart*c;a=d.findIndex(g=>g.Sb.x<=f&&f<g.r.x);return a!==-1?{index:a,bounds:d[a]}:void 0}}get lYd(){var a;const b=n(this.oHb),c=(a=this.FBc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate((d=this.Rwb)!==null&&d!==void 0?d:0,0):void 0}}close(){var a;const b=(a=this.o$b)===
null||a===void 0?void 0:a.index;b!=null&&this.vzb.obc(this.IYa.layout,this.oHb,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.vzb=b;this.IYa=c;this.oHb=d;this.dnc=e;this.ZVe=f;this.onClose=h;this.dragStart=(jZs.G(this),void 0);this.dragStart=AEs(a.Ql(a.Zg).transform(g.x,g.y),f,this.oA.rotation)}},kZs=class{static G(a){O(a,{R8a:CV.ref,Rwb:pV,oA:pV,FBc:pV,o$b:pV,lYd:pV})}set gy(a){this.R8a=AEs(this.viewport.Ql(this.viewport.Zg).transform(a.x,a.y),this.ZVe,this.oA.rotation)}get Rwb(){return this.dragStart!=
null&&this.R8a!=null?this.R8a.y-this.dragStart.y:void 0}get oA(){return Yj(this.IYa.layout).transform(__c.xk(this.IYa.container))}get FBc(){const a=this.IYa,b=this.dnc,c=this.ZVe,d=[...zk.EDj(a.layout).values()].sort((f,g)=>f.t.y-g.t.y),e=zk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,-e.paddingBlockStart).scale(b*c))}get o$b(){var a=this.R8a,b=this.IYa;const c=this.ZVe,d=this.FBc;if(this.Rwb!=null&&d&&a!=null){var e=AEs(this.oA.t,c,this.oA.rotation);b=zk.padding(b.layout);
var f=a.y-e.y-b.paddingBlockStart*c;a=d.findIndex(g=>g.t.y<=f&&f<g.b.y);return a!==-1?{index:a,bounds:d[a]}:void 0}}get lYd(){var a;const b=n(this.rowIndex),c=(a=this.FBc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate(0,(d=this.Rwb)!==null&&d!==void 0?d:0):void 0}}close(){var a;const b=(a=this.o$b)===null||a===void 0?void 0:a.index;b!=null&&this.vzb.LIf(this.IYa.layout,this.rowIndex,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.vzb=b;this.IYa=c;this.rowIndex=
d;this.dnc=e;this.ZVe=f;this.onClose=h;this.dragStart=(kZs.G(this),void 0);this.dragStart=AEs(a.Ql(a.Zg).transform(g.x,g.y),f,this.oA.rotation)}},lZs=class{static G(a){O(a,{R8a:CV.ref,Rwb:pV,FBc:pV,o$b:pV,lYd:pV})}set gy(a){var b;this.R8a=(b=this.viewport.CP)===null||b===void 0?void 0:b.transform(a.x,a.y)}get Rwb(){return this.dragStart!=null&&this.R8a!=null?this.R8a.x-this.dragStart.x:void 0}get FBc(){var a=this.jw;const b=this.oj,c=a&&this.gd.xE(a);if(c){a=b.padding;var d=a.paddingTop,e=a.paddingBottom;
return b.Jdg.map(f=>Vj(f.left,0,f.left+f.width,c.height-d-e))}}get o$b(){var a=this.gd,b=this.R8a,c=this.Rwb;const d=this.jw,e=this.FBc,f=this.oj;a=d&&a.xE(d);b=b===null||b===void 0?void 0:b.x;if(c!=null&&e&&b!=null&&a){var g=b-a.Sb.x-(a.width-f.eb)/2;c=e.findIndex(h=>h.Sb.x<=g&&g<h.r.x);return c!==-1?{index:c,bounds:e[c]}:void 0}}get lYd(){var a;const b=n(this.oHb),c=(a=this.FBc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate((d=this.Rwb)!==null&&d!==void 0?d:0,0):void 0}}close(){var a;
const b=(a=this.o$b)===null||a===void 0?void 0:a.index;b!=null&&this.cxa.obc(this.oj,this.oHb,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){var k;this.viewport=a;this.gd=b;this.cxa=c;this.jw=d;this.oHb=e;this.onClose=g;this.oj=h;this.dragStart=(lZs.G(this),void 0);this.dragStart=(k=a.CP)===null||k===void 0?void 0:k.transform(f.x,f.y)}},FEs=class{constructor(a,b,c,d){this.store=a;this.vzb=b;this.mh=c;this.viewport=d;this.onClick=()=>{};this.onDragStart=(e,f,g)=>{const h=this.store.IYa;if(h&&zk.eQ(h.layout)){var k=
this.store.dnc;Zk(this.mh,l=>{var m;(m=this.store.v6a)===null||m===void 0||m.close();this.store.bzd&&(m=new jZs(this.viewport,this.vzb,h,e,k,g,f,()=>{l()}),this.store.v6a=m);this.store.Hzd&&(m=new kZs(this.viewport,this.vzb,h,e,k,g,f,()=>{l()}),this.store.v6a=m)})}};this.pe=e=>{this.store.v6a&&(this.store.v6a.gy=e)};this.onDragEnd=()=>{if(this.store.v6a){var e;(e=this.store.v6a)===null||e===void 0||e.close();this.store.v6a=void 0}}}},CEs=class{y0e(a){const b=this.store.jw,c=this.store.aIa;var d=this.store.eQ;
b&&c&&d&&(d=[...d.grid.Xv.entries()].map(([e,f])=>{var g=f.gridColumnStart;f=f.gridColumnEnd;g&&f?(f=parseInt(f,10)-1,g=parseInt(g,10)-1<=a&&f>a):g=!1;return g?e:void 0}).filter(tb).map(e=>b.cells.get(e)).filter(tb),this.Xa.nPi(c,b,d))}constructor(a,b,c,d,e){this.store=a;this.cxa=b;this.Xa=c;this.mh=d;this.viewport=e;this.onClick=f=>{this.y0e(f)};this.onDragStart=(f,g)=>{const h=this.store.jw,k=this.store.eQ,l=this.store.oj;h&&k&&l&&Zk(this.mh,m=>{var p;this.y0e(f);(p=this.store.v6a)===null||p===
void 0||p.close();const q=new lZs(this.viewport,this.store.gd,this.cxa,h,f,g,()=>{q.o$b&&this.y0e(q.o$b.index);m()},l);this.store.v6a=q})};this.pe=f=>{this.store.v6a&&(this.store.v6a.gy=f)};this.onDragEnd=()=>{var f;(f=this.store.v6a)===null||f===void 0||f.close();this.store.v6a=void 0}}};var EEs=class{static G(a){O(a,{v6a:CV.ref})}get OXb(){return this.v6a!=null}get Hzd(){return this.yI.selected.Hzd}get bzd(){return this.yI.selected.bzd}get orientation(){if(this.Hzd)return"row";if(this.bzd)return"column"}get IYa(){return this.yI.selected.IYa}get Jpb(){return this.yI.selected.Jpb}get direction(){const a=this.Jpb;return a&&a.direction}get vzj(){var a=this.IYa;if(a){var b=a.layout;a=Yj({...b,width:b.eb,height:b.Ub}).transform(__c.xk(a));return{pTd:a.width,fif:a.height}}}get dnc(){const a=
this.Jpb,b=this.vzj;return a==null||b==null?1:b.pTd/a.eb}get gap(){var a=this.Jpb;const b=this.dnc,c=this.orientation;if(a&&c)return a=c==="row"?zk.rowGap(a):zk.columnGap(a),b*a}get dii(){return this.yI.selected.M0e}get nEo(){const a=this.Jpb,b=this.dnc,c=this.orientation;if(a&&c)return(c==="row"?zk.Ui(a):zk.pmb(a)).map(d=>d*b)}get eb(){const a=this.Jpb;return a&&a.width-this.padding.paddingRight-this.padding.paddingLeft}get padding(){var a=this.Jpb;a=a&&zk.padding(a);var b,c,d,e;return{paddingTop:(b=
a===null||a===void 0?void 0:a.paddingBlockStart)!==null&&b!==void 0?b:0,paddingRight:(c=a===null||a===void 0?void 0:a.paddingInlineEnd)!==null&&c!==void 0?c:0,paddingBottom:(d=a===null||a===void 0?void 0:a.paddingBlockEnd)!==null&&d!==void 0?d:0,paddingLeft:(e=a===null||a===void 0?void 0:a.paddingInlineStart)!==null&&e!==void 0?e:0}}get kfd(){return!this.Jpb||this.Z$b()}constructor(a,b){this.yI=a;this.Z$b=b;this.v6a=(EEs.G(this),void 0)}},BEs=class{static G(a){O(a,{v6a:CV.ref,OXb:pV})}get OXb(){return this.v6a!=
null}get orientation(){return this.jw?"column":void 0}get jw(){return this.yI.focused.jw}get direction(){const a=this.jw;return a===null||a===void 0?void 0:a.direction}get aIa(){return this.yI.focused.aIa}get oj(){return this.yI.focused.oj}get vzj(){var a=this.jw;return(a=a&&this.gd.xE(a))&&{pTd:a.width,fif:a.height}}get gap(){const a=this.oj;return a===null||a===void 0?void 0:a.columnGap}get dii(){var a=this.yI.focused;const b=a.gvf;a=a.Dra;return b!==null&&b!==void 0?b:a}get Ipa(){var a;return this.oj!=
null?(a=sA(this.oj))===null||a===void 0?void 0:a.Ipa:void 0}get eQ(){var a;return(a=this.oj)===null||a===void 0?void 0:a.eQ}get nEo(){var a;return(a=this.oj)===null||a===void 0?void 0:a.iRh}get eb(){var a;return(a=this.oj)===null||a===void 0?void 0:a.eb}get padding(){var a,b,c,d;return{paddingTop:(c=(a=this.oj)===null||a===void 0?void 0:a.padding.paddingTop)!==null&&c!==void 0?c:0,paddingRight:0,paddingBottom:(d=(b=this.oj)===null||b===void 0?void 0:b.padding.paddingBottom)!==null&&d!==void 0?d:0,
paddingLeft:0}}get kfd(){var a;const b=this.oj;return!this.jw||!b||!((a=sA(b))===null||a===void 0?0:a.wLc)||this.oOe.JSa||this.Z$b()}constructor(a,b,c,d){this.yI=a;this.oOe=b;this.gd=c;this.Z$b=d;this.v6a=(BEs.G(this),void 0)}};var mZs=class{set gy(a){this.strategy.apply(a)}close(){var a,b;this.P7a.stop();(a=(b=this.strategy).close)===null||a===void 0||a.call(b);this.onClose()}constructor(a,b,c){this.strategy=a;this.P7a=b;this.onClose=c}},nZs=class{static G(a){O(a,{Mh:CV.ref,Ilc:CV.ref,NQg:CV.ref,MQg:CV.ref,nli:CV.ref,JSa:pV,Bhn:pV})}get selected(){const a=this.yI.selected,b=a.jw;return{jw:b,oj:a.oj,container:a.container,aIa:a.aIa,m6d:b&&this.gd.xE(b)}}get focused(){var a=this.yI.focused;const b=a.jw,c=a.oj,d=a.aIa,e=a.gvf;
a=a.Dra;return{jw:b,m6d:b&&this.gd.xE(b),$Bf:e!==null&&e!==void 0?e:a,oj:c,aIa:d}}get gKs(){var a;const b=this.yI.focused.oj;var c=this.selection.Jb;c=(c===null||c===void 0?void 0:c.type)===1&&c.only!=null&&c.container.type==="layout-item-cell";return!b||!((a=sA(b))===null||a===void 0?0:a.wLc)||c}get Z$b(){return this.vlr()}get JSa(){return this.NQg||this.Ilc!=null||this.MQg}get Bhn(){const a=this.Zo.controls.dJ;return a==="top"||a==="bottom"}get Ezk(){return this.nli||this.MQg}constructor(a,b,c,
d,e){this.selection=a;this.yI=b;this.gd=c;this.Zo=d;this.vlr=e;this.Mh=(nZs.G(this),void 0);this.Ilc=void 0;this.nli=this.MQg=this.NQg=!1}};var oZs=class{apply(a){IEs(this,a);const b=this.MAa();a=this.transformPoint(a);this.Aoa.Nw(this.t5c,a,b,!0,c=>{IEs(this,c);return b})}close(){this.Aoa.close()}constructor(a,b,c,d,e,f,g,h){this.Ilc=a;this.yzl=b;this.jw=c;this.oj=d;this.handle=e;this.Aoa=f;this.MAa=g;this.transformPoint=h;this.t5c={type:"resize",handle:this.handle};this.Kuo=this.oj.eb}},LEs=class{constructor(a,b,c,d,e){this.undo=a;this.mh=b;this.Mra=c;this.transformPoint=d;this.store=e;this.JTr=(f,g)=>{const h=this.store.selected.container,
k=this.store.selected.jw,l=this.store.selected.m6d,m=this.store.selected.oj;h&&k&&l&&m&&Zk(this.mh,p=>{var q;this.store.Ilc=f;(q=this.store.Mh)===null||q===void 0||q.close();q=JEs(m,l);q=__c.Vkg(this.Mra,new __c.Dph(q,g),k,h,m.Mp);this.store.Mh=new mZs(new oZs(f,g,k,m,f,q,()=>JEs(m,l),this.transformPoint),this.undo.startBuffering(),p)})};this.ITr=f=>{this.store.Mh&&(this.store.Mh.gy=f)};this.HTr=()=>{var f;this.store.Ilc=void 0;(f=this.store.Mh)===null||f===void 0||f.close();this.store.Mh=void 0}}};var pZs=class{apply(a){this.Gmh!=null&&this.nni.x!==a.x&&(a=a.x-this.yzl.x,this.jw.direction!==2?this.Bxl==="inlineStart"&&(a*=-1):this.Bxl==="inlineEnd"&&(a*=-1),KEs(this,this.Gmh+a),this.m4m=!0)}close(){if(this.m4m){var a=this.Ipa;this.V.track(__c.dph,{action:"column_width_resized",MK:a===null||a===void 0?void 0:a.grid.gridTemplateColumns.length,ut:a===null||a===void 0?void 0:a.grid.gridTemplateRows.length})}}constructor(a,b,c,d,e,f){var g,h;this.V=a;this.jw=b;this.oj=c;this.oHb=d;this.Bxl=e;this.yzl=
f;this.m4m=!1;this.B7l=this.Bxl==="inlineEnd"?d+1:d-1;oa(this.oHb>=0&&this.B7l>=0);this.Gmh=(g=this.oj.Jdg[this.oHb])===null||g===void 0?void 0:g.width;this.Ipa=(h=this.oj!=null?__c.yvf(this.oj):void 0)===null||h===void 0?void 0:h.Ipa;this.z1p=c.eb-(this.Ipa?c.vxo:0);this.nni=f}},REs=class{static G(a){O(a,{onMouseEnter:jV.bound,onMouseLeave:jV.bound,onClick:jV.bound})}onMouseEnter(){this.store.nli=!0}onMouseLeave(){this.store.nli=!1}onClick(){const a=this.store.focused.jw,b=this.store.focused.aIa;
a&&b&&this.Xa.Vv(b,a)}constructor(a,b,c,d,e){this.undo=a;this.Xa=b;this.mh=c;this.V=d;this.store=e;this.lTr=(REs.G(this),(f,g,h)=>{const k=this.store.focused.jw,l=this.store.focused.oj,m=this.store.focused.m6d;k&&m&&l&&Zk(this.mh,p=>{var q;this.store.MQg=!0;(q=this.store.Mh)===null||q===void 0||q.close();this.store.Mh=new mZs(new pZs(this.V,k,l,f,g,h),this.undo.startBuffering(),p)})});this.kTr=f=>{this.store.Mh&&(this.store.Mh.gy=f)};this.jTr=()=>{var f;this.store.MQg=!1;(f=this.store.Mh)===null||
f===void 0||f.close();this.store.Mh=void 0}}};var qZs,SEs,sZs=class extends LV{get Clr(){return this.props.$Bf===0}get xmr(){var a;const {Ipa:b}=(a=sA(this.props.oj))!==null&&a!==void 0?a:{};return b&&this.props.$Bf===b.grid.gridTemplateColumns.length-1}render(){const a=this.props.jw,b=this.props.oj,c=this.props.m6d,d=this.props.pe,e=this.props.onDragEnd;var f=this.props.$Bf;const g=this.props.Ezk,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l=this.props.onClick;var m=b.padding;const p=m.paddingTop,q=m.paddingBottom;m=b.Jdg.map(r=>Vj(r.left,
0,r.left+r.width,c.height-p-q));return(f=f!=null?m===null||m===void 0?void 0:m[f]:void 0)?nV("div",{className:"_2qe7aw",style:{paddingTop:p,paddingBottom:q},children:[gV("div",{className:GV("vb8OZg",{y1tB4g:g})}),nV("div",{className:GV("BSPXOg",{vBa_SA:a.direction!==2,q4lpmA:a.direction===2}),style:{width:b.eb},children:[g&&(m===null||m===void 0?void 0:m.map((r,t)=>gV("div",{className:"_22NqHw",style:{...r},children:gV("div",{className:"vb8OZg"})},t))),gV(rZs,{bounds:f.Lb(),ypr:!this.Clr,jlr:!this.xmr,
onDragStart:this.onDragStart,pe:d,onDragEnd:e,onMouseEnter:h,onMouseLeave:k,onClick:l})]})]}):null}constructor(...a){super(...a);this.onDragStart=(b,c)=>{const d=this.props.$Bf;if(d!=null)this.props.onDragStart(d,b,c)}}};({c:[SEs,qZs]}=PV(sZs,[],[Ob],LV));qZs();
var rZs=JV(({bounds:a,ypr:b,jlr:c,onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})=>nV("div",{className:GV("ox1XRA"),style:a,children:[b&&gV(tZs,{side:"inlineStart",onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k}),c&&gV(tZs,{side:"inlineEnd",onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})]})),tZs=class extends hRs{render(){const a=this.props.side,b=this.props.onMouseEnter,c=this.props.onMouseLeave;return gV("div",{className:GV("pa2PwA",
{Ga8mEw:a==="inlineEnd",_4ePfAA:a==="inlineStart"}),onMouseDown:this.onMouseDown,onTouchStart:this.draggable.onTouchStart,onClick:this.onClick,onMouseEnter:b,onMouseLeave:c})}constructor(...a){super(...a);this.OIe=!1;this.draggable=new cr({onDragStart:jV(b=>{this.OIe=!0;this.props.onDragStart(this.props.side,new Bj(b.clientX,b.clientY))}),pe:jV(b=>this.props.pe(new Bj(b.clientX,b.clientY))),onDragEnd:jV(()=>this.props.onDragEnd()),fIa:pV(()=>"KQSIwQ")});this.onMouseDown=b=>{this.OIe=!1;this.draggable.onMouseDown(b)};
this.onClick=()=>{if(!this.OIe)this.props.onClick()}}};var MEs=JV(a=>{const b=a.kBa,c=a.paddingTop,d=a.onDragStart,e=a.pe,f=a.onDragEnd,g=a.Ilc;return gV("div",{style:{width:a.eT,height:b},children:gV("div",{style:{marginTop:`${c}px`,width:`${a.eb}px`,height:`${b-c-a.paddingBottom}px`},className:GV("aPwIdw",{uyaqmw:!!g,ifl7dA:a.Z$b}),children:["left","right"].map(h=>gV(uZs,{side:h,onDragStart:d,pe:e,onDragEnd:f,JSa:g===h},h))})})}),uZs=class extends hRs{render(){const a=this.props.side;return gV("div",{className:GV("y_6bUQ",{__x9Ig:a==="left",OjZzNQ:a===
"right",Q_bC3w:this.props.JSa}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:gV("div",{className:"c9fvmg"})})}constructor(...a){super(...a);this.draggable=new cr({onDragStart:jV(b=>this.props.onDragStart(this.props.side,new Bj(b.clientX,b.clientY))),pe:jV(b=>this.props.pe(new Bj(b.clientX,b.clientY))),onDragEnd:jV(()=>this.props.onDragEnd()),fIa:pV(()=>"_7WfdmA")})}};var PEs=iV(a=>{const b=a.onDragStart,c=a.onDragEnd,d=a.pe,e=a.Iw,f=a.width,g=a.height,h=a.kMs,k=a.Oec,{I0o:l,...m}=a;a=m.T4d;const p=a.Xfb;return nV(xV,{children:[gV(l,{...(h?{...m,T4d:{...a,Xfb:{...p,left:void 0,right:void 0}}}:m)}),h&&gV(vZs,{width:f,height:g,Oec:k,onDragStart:b,pe:d,onDragEnd:c,Iw:e})]})}),vZs=iV(({height:a,width:b,Oec:c,onDragStart:d,pe:e,onDragEnd:f,Iw:g})=>nV("div",{className:"Vx6WjA",style:{width:b,height:a},children:[c.Sb&&gV(wZs,{side:"left",ADm:c.Sb,onDragStart:d,pe:e,onDragEnd:f,
Iw:g}),c.r&&gV(wZs,{side:"right",ADm:c.r,onDragStart:d,pe:e,onDragEnd:f,Iw:g})]})),wZs=class extends hRs{render(){const a=this.props.side;return gV("div",{className:GV("DuTSAQ",{bM_mBA:a==="left",X4n9ZA:a==="right"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:gV("div",{className:"LZc7cQ"})})}constructor(...a){super(...a);this.onDragStart=(b,c,d)=>{this.props.onDragStart(this.props.side,this.props.ADm,b,c,d)};this.draggable=new cr({onDragStart:jV(this.onDragStart),
pe:jV(this.props.pe),Iw:jV(this.props.Iw),onDragEnd:jV(this.props.onDragEnd)})}};var xZs=parseInt("24px",10),OEs=QV(function(a){return Math.abs(a.width-a.eb)<xZs});var VEs=class{constructor(a,b){this.store=a;this.V=b;this.cRi=c=>{var d=this.store.Dni;if(d){var e=d.jw;d=d.cells;var f=new Map(e.cells.map((g,h)=>[g,h]));d.forEach(g=>{const h=f.get(g);e.behavior.rules.forEach(k=>{if(k=k.grid.Xv.get(h))k.padding.all=c,k.padding.rd=void 0,k.padding.Ee=void 0,k.padding.Ad=void 0,k.padding.yf=void 0,this.Seq()})})}};this.JFs=c=>{const d=this.store.oj!=null?__c.yvf(this.store.oj):void 0;d&&(d.lbc&&(d.lbc.grid.columnGap=c),d.Ipa&&(d.Ipa.grid.columnGap=c),this.Ueq())};
this.bHs=c=>{const d=this.store.oj!=null?__c.yvf(this.store.oj):void 0;d&&(d.lbc&&(d.lbc.grid.rowGap=c),d.Ipa&&(d.Ipa.grid.rowGap=c),this.jfq())};this.gQj=c=>Gb(()=>{var d=this.store.oj,e;({Ipa:d}=(e=d!=null?sA(d):void 0)!==null&&e!==void 0?e:{});this.V.track(__c.dph,{action:c,MK:d===null||d===void 0?void 0:d.grid.gridTemplateColumns.length,ut:d===null||d===void 0?void 0:d.grid.gridTemplateRows.length})},1E3);this.Seq=this.gQj("cell_spacing_resized");this.Ueq=this.gQj("column_spacing_resized");this.jfq=
this.gQj("row_spacing_resized")}};var UEs=class{static G(a){O(a,{Dni:pV,oj:pV,wvm:pV,YTd:pV})}get Dni(){var a,b=(a=this.yI.selected)===null||a===void 0?void 0:a.jw;if(b)return a=b.cells.map(d=>d),{jw:b,cells:a};b=this.yI.focused.jw;a=this.yI.focused.n_c;const c=this.yI.focused.bca;if(b&&a)return{jw:b,cells:[a.rb]};if(b&&c)return{jw:b,cells:c}}get oj(){var a;return(a=this.yI.selected.oj)!==null&&a!==void 0?a:this.yI.focused.oj}get wvm(){var a=this.Dni;const b=this.oj;if(a&&b){var c=a.cells,d=b.eQ,e=new Map(a.jw.cells.map((f,g)=>[f,
g]));a=c.map(f=>{var g;f=e.get(f);return f!=null?(g=d.grid.Xv.get(f))===null||g===void 0?void 0:g.padding:void 0}).map(f=>f!=null?__c.IIb(f,1).paddingBlockStart:0);a=[...(new Set(a))];return a.length===1?a[0]:void 0}}get YTd(){var a=this.Llf.W0a;const b=a===null||a===void 0?void 0:a["change-cell-padding"],c=a===null||a===void 0?void 0:a["change-column-gap"];a=a===null||a===void 0?void 0:a["change-row-gap"];if(this.Dni&&(b||c||a))return{cellPadding:b,columnGap:c,rowGap:a}}get columnGap(){var a;return(a=
this.oj)===null||a===void 0?void 0:a.eQ.grid.columnGap}get rowGap(){var a;return(a=this.oj)===null||a===void 0?void 0:a.eQ.grid.rowGap}constructor(a,b){this.yI=a;this.Llf=b;UEs.G(this)}};var WEs=JV(a=>gV(a.xi,{icon:__c.N$g,pressed:a.open,yh:"icon",onClick:a.onClick,tooltip:L("BtDtuQ"),children:L("BtDtuQ")})),XEs=JV(a=>{const b=a.Qh,c=a.Oe,d=a.cellPadding,e=a.uSk,f=a.columnGap,g=a.iTr,h=a.rowGap;a=a.i2r;return gV(S,{padding:c==="fill"?"2u":"0",className:GV({u9Sfdw:c==="fixed"}),children:nV(Yc,{spacing:"2u",children:[e&&gV(b,{label:L("BHtCqg"),min:0,max:40,step:1,Nw:0,value:d!=null?Math.round(d*1E3)/1E3:void 0,onChange:jV(e)}),g&&gV(b,{label:L("aT6ZSA"),min:0,max:40,step:1,Nw:0,value:f!=
null?Math.round(f*1E3)/1E3:void 0,onChange:jV(g)}),a&&gV(b,{label:L("HFpIpQ"),min:0,max:40,step:1,Nw:0,value:h!=null?Math.round(h*1E3)/1E3:void 0,onChange:jV(a)})]})})});var yZs=a=>a.every(b=>!!b.id),aFs=class{get pGp(){return this.Mtd||yZs(this.session.document.pages.toArray())}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.R6d=a;this.selection=b;this.la=c;this.V=d;this.session=e;this.ja=f;this.IO=g;this.errorService=h;this.document=k;this.Mtd=l;this.Swg=m;this.$d=p}};var bGs=class{next(){let a;do a=`${this.prefix}${(this.TJe++).toString(36)}`.slice(-8);while(this.PMm.has(a));return a}constructor(a){this.TJe=0;this.PMm=new Set;this.prefix=(a.clientId||a.id).toLowerCase().replace(/[^a-z0-9]/g,"");const b=c=>{for(const d of c)switch(d.anchor&&this.PMm.add(d.anchor),d.type){case "fixed":case "responsive":break;case "concatenated-fixed":b(d.pages);break;default:throw new v(d);}};b(a.document.pages)}};var dGs=class{async zid(a,b,c){if(this.selection.Jb)return this.Mws.zid(a,b);if(c&&c.Bg){var d=c.Bg,e=c.container.page;if(a){var f=this.P.sb("link_embed_to_href",{Fb:{name:"editor.element_convert",type:"link_to_embed"}}),g=!!this.ox.link,h=this.undo.startBuffering();try{await this.Hu.pK(a),f.mb().addEvent("embed_resolved"),uV(()=>{if(e.elements.has(d)){g&&this.la.Ib({Cb:L("vgGQGQ")});const k=this.xai(d,e);this.oc.pK(a,{Uc:"switch_display_mode",span:f},{placement:k});e.elements.delete(d)}})}catch(k){this.la.Ib({Cb:L("F7W1Qg")})}finally{uV(()=>
{h.stop();f.end()})}}else e.elements.delete(d)}}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.ox=b;this.Mws=c;this.selection=d;this.Hu=e;this.la=f;this.undo=g;this.P=h;this.oc=k;this.xai=(l,m)=>{if(this.selection.Jb)return{};const p=__c.cce(m,this.document),q=p?!__c.fk(p,new Bj(l.left,l.top)):!1;var r=Yj(l);r=(p?r.oh().filter(t=>!__c.fk(p,t)).length:0)>=2;return q||r?{page:m}:{topLeftCorner:{top:l.top,left:l.left}}}}},$Fs=class{async zid(a,b){const c=__c.rif(this.Xa),d=this.undo.startBuffering();
try{const e=await this.Hu.pK(a),f=TJa(a)&&await this.Hsd.qAg(a)||e.title||a;await uV(()=>{this.la.Ib({Cb:L("vgGQGQ")});(c===null||c===void 0?0:c.Oc)&&this.Xa.Qu(c.Oc,c);this.Xa.zHf(a);this.Xa.mQ();switch(b){case "iframe":return this.oc.pK(a,{Uc:"switch_display_mode"});case "pill":return this.oc.ffa({type:"embed",url:a,text:f},{Uc:"switch_display_mode"});case void 0:break;default:throw new v(b);}})}catch(e){this.la.Ib({Cb:L("F7W1Qg")})}finally{uV(()=>{d.stop();c===null||c===void 0||c.disconnect()})}}constructor(a,
b,c,d,e,f){this.oc=a;this.Hu=b;this.Hsd=c;this.Xa=d;this.la=e;this.undo=f}};var fGs=JV(a=>{const b=a.state==="edit"?L("R3xUrg"):L("vcZEOw");return gV("div",{children:gV(a.xi,{tooltip:b,disabled:a.disabled,pressed:a.open,selected:a.selected,yh:"icon",onClick:a.onClick,icon:a.state==="edit"?ku:Do,className:"pmsg5w",children:b})})}),gGs=JV(({xi:a,link:b,label:c,tooltip:d,icon:e,layout:f,disabled:g,onClick:h})=>gV(a,{tooltip:d,onClick:h,icon:e,yh:"icon-and-label",disabled:g,href:(b===null||b===void 0?void 0:b.type)!=="page"?__c.pLr(b===null||b===void 0?void 0:b.href):void 0,
target:"_blank",children:!e&&gV("span",{className:GV("U_t2yg",g&&"GedLzA",f===2&&(b===null||b===void 0?void 0:b.type)==="page"&&"_5zrp5w"),children:c})})),hGs=JV(({xi:a,onClick:b})=>gV(a,{tooltip:L("C3XJ5w"),onClick:b,icon:PD,yh:"icon"})),kGs=JV(({jm:a,state:b,onClick:c,oa:d,hl:e})=>gV(e,{Icon:b==="edit"?ku:Do,label:b==="edit"?L("R3xUrg"):L("vcZEOw"),jm:a,onClick:c,oa:d}));var zZs={eventType:"editor_element_link_changed",Oa(a){return vf({type:a.type,action:a.action,link:__c.ph(a.link),design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,page_index:a.Xb,applied_to_text_range:a.wuj,control_context:a.kb,session_id:a.sessionId,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var AZs={eventType:"document_external_link_clicked",Oa(a){return vf({design_id:a.designId,access_role:a.Uf,link:__c.ph(a.link),element_type:a.elementType,editing_context:a.Aa==null?void 0:wf(a.Aa),trackable_link_id:a.D2b,resource_id:a.resourceId})}};var eGs=class{static G(a){O(a,{Kqe:jV.bound,Yjc:jV.bound,gcc:jV.bound,Oba:jV.bound,QV:jV.bound,Dyi:jV.bound,CHd:jV.bound,onCopy:jV.bound,UEe:jV.bound})}Kqe(a,b){if(this.selection.Jb){var c,d=(c=a.anchor)!==null&&c!==void 0?c:a.anchor=this.kSd.next();return this.q0.Kqe(a,b,d)}c=this.store.target;switch(c){case "element":b=(d=a.anchor)!==null&&d!==void 0?d:a.anchor=this.kSd.next();eFs(this,`${"#page-"}${b}`);break;case "text":var e;b=(e=a.anchor)!==null&&e!==void 0?e:a.anchor=this.kSd.next();fFs(this,
`${"#page-"}${b}`);break;case "sheet-cell":this.jEk(a,b);break;case "embed":this.la.Ib({Cb:L("F7W1Qg")});break;case void 0:break;default:throw new v(c);}}async Yjc(a){if(this.selection.Jb)return this.q0.Yjc(a);const b=this.store.target,c=this.store.W1a,d=cFs(this,a);if(d)this.Kqe(d);else switch(b){case "element":eFs(this,a);break;case "text":fFs(this,a);break;case "sheet-cell":await hFs(this,a);break;case "embed":await this.X7b.zid(a,void 0,c);break;case void 0:break;default:throw new v(b);}}gcc(){const a=
this.store.link;if(a){var b=a.type;switch(b){case "url":this.J0g(a.href);break;case "page":a.Gh&&this.Dyi&&this.Dyi(a.Gh);break;default:throw new v(b);}}}Oba(){var a;if(this.selection.Jb)return this.q0.Oba();(a=this.store.r0d)===null||a===void 0||iFs(a)}QV(){var a;this.store.Ali=!1;if(this.selection.Jb)return this.q0.QV();if((a=this.store.r0d)!==null&&a!==void 0){var b;(b=a.hVj)===null||b===void 0||b.call(a);a.hVj=void 0;a.G4b=void 0;a.Odf=void 0;a.Gnj=void 0;a.Hnj=void 0}}Dyi(a){switch(a.type){case "fixed-page":this.selection.wT(a.container,
a.ha);break;case "concatenated-fixed-page":this.selection.wT(a,a.pages.first());break;case "responsive-page":__c.Ho.Kxg?__c.d2a(this.selection,a.KVb(a.ha.marker),a.ha.marker.background):this.selection.GU(a.container,a.page);break;default:throw new v(a);}this.viewport.jh&&this.viewport.YE(a)}dMf(a){if(this.selection.Jb)return this.q0.dMf(a);this.UEe();const b=this.selection.La;if(b&&b.type==="elements"){var c=new Set(b.elements.map(d=>d.type));this.V.track(__c.Iph,{menu:a,xGa:Array.from(c),dE:b.container.elements.size,
Yp:0,Ur:0,Ey:0})}}J0g(a){if(this.selection.Jb)return this.q0.J0g(a);this.ja&&this.V.track(AZs,{designId:this.ja,link:a})}CHd(a){if(this.selection.Jb)return this.q0.CHd(a);var b=this.store.xy;if(this.store.target==="sheet-cell"&&b){var c,d=b.sheet,e=b.anchor;(c=this.DJ)===null||c===void 0||DFs(c,d,e,a);this.la.Ib({Cb:L("rLQCQA")})}else if(c=this.store.Lmb,(c===null||c===void 0?void 0:c.type)==="focused"){b=c.range.index;var f=c.range.length,g=c.Oc.Ya.slice(b,b+f);if(g!==a){var h=this.undo.startBuffering();
try{e=Array.from(c.Oc.cqa({index:b,length:f},"link").link).find(tb);let k=a;g.endsWith("\n")&&!a.endsWith("\n")&&(k=a+"\n");c.Oc.fbb([{index:b,length:f}],k);this.jc.Oz();(d=this.store.r0d)===null||d===void 0||d.kJo({index:b,length:a.length});this.store.Lmb&&(this.jc.deselectAll(),this.jc.select(this.store.Lmb));e&&dFs(this,e)}finally{uV(()=>h.stop())}this.la.Ib({Cb:L("rLQCQA")})}}}onCopy(){if(this.selection.Jb)return this.q0.onCopy();this.store.link&&this.store.link.type!=="page"&&(this.IO(__c.pLr(this.store.link.href)),
this.la.Ib({Cb:L("xcEZcQ")}))}jEk(a,b){var c,d,e,f,g,h=(g=a.anchor)!==null&&g!==void 0?g:a.anchor=this.kSd.next();if(g=this.store.xy){a=g.sheet;g=g.anchor;h=`${"#page-"}${h}`;var k=(c=this.DJ)===null||c===void 0?void 0:c.link(a,g);c=!!k;((d=this.DJ)===null||d===void 0?0:d.isEmpty(a,g))||(k===null||k===void 0?void 0:k.type)===2?(e=this.DJ)===null||e===void 0||e.Xed(a,[g],h,b!==null&&b!==void 0?b:h):(f=this.DJ)===null||f===void 0||gFs(f,a,[g],h);this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});this.sje({type:"sheet-cell",
wuj:!1})}}sje(a){const b=this.selection.La;b&&b.type==="elements"&&this.V.track(zZs,{...a,dE:b.hp.elements.count(),link:"",Yp:0,Ur:0,Ey:0})}UEe(){var a;if((a=this.store.link)===null||a===void 0?0:a.href){a=this.store;{var b,c,d;const f=this.jc,g=this.selection;if(((b=f.state)===null||b===void 0?void 0:b.type)==="focused")var e=f.zHf(g.La,this.store.link.href);else(b=((e=g.La)===null||e===void 0?void 0:e.type)==="elements"&&((d=g.La)===null||d===void 0?void 0:(c=d.elements)===null||c===void 0?void 0:
c.length)===1&&g.La.elements[0])&&b.type==="text"&&b.text.sD("link").link.size===1?(rA(f,g.La,"all"),e=!0):e=!1}a.Ali=e}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t){this.controller=a;this.store=b;this.X7b=c;this.q0=d;this.DJ=e;this.kSd=f;this.selection=g;this.jc=h;this.viewport=k;this.la=l;this.V=m;this.ja=p;this.IO=q;this.undo=r;this.document=t;eGs.G(this)}},aGs=class{static G(a){O(a,{Yjc:jV.bound,gcc:jV.bound,Oba:jV.bound,QV:jV.bound,CHd:jV.bound,onCopy:jV.bound,UEe:jV.bound})}Kqe(a,b,c){c=`${"#page-"}${n(c)}`;
this.store.xy?this.jEk(c,b!==null&&b!==void 0?b:a.title):this.Yjc(c)}jEk(a,b){var c,d,e,f,g=this.store.xy;if(g){var h=g.sheet;g=g.anchor;var k=(c=this.DJ)===null||c===void 0?void 0:c.link(h,g);c=!!k;((d=this.DJ)===null||d===void 0?0:d.isEmpty(h,g))||(k===null||k===void 0?void 0:k.type)===2?(e=this.DJ)===null||e===void 0||e.Xed(h,[g],a,b!==null&&b!==void 0?b:a):(f=this.DJ)===null||f===void 0||gFs(f,h,[g],a);this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});this.sje(c?"edit":"add")}}async Yjc(a){var b;const c=
this.Xa.state,d=this.store.wMa;if(d&&((c===null||c===void 0?void 0:c.type)!=="RANGE"||d.xz===(c===null||c===void 0?void 0:c.xz))||((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="SHEET_CELL")a?await this.hOl(a)&&this.sje(this.j4h?"edit":"add"):(this.jFc(),this.sje("delete"))}gcc(){const a=this.store.link;a&&this.J0g(a.href)}get j4h(){if(this.store.xy){var a;const b=this.store.xy.sheet,c=this.store.xy.anchor;return(a=this.DJ)===null||a===void 0?void 0:a.TO(b,c)}a=lif(this.Xa);return a===null||
a===void 0?void 0:a.link}Oba(){var a;this.store.wMa=__c.nLr(this.Xa);(a=this.store.Fch)!==null&&a!==void 0&&(a.G4b=a.selection.state)}QV(){var a,b;(a=this.store.wMa)===null||a===void 0||a.disconnect();this.store.wMa=void 0;(b=this.store.Fch)!==null&&b!==void 0&&(b.G4b=void 0);this.Xa.focus()}dMf(a){var b,c;this.UEe();const d=((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="RANGE"?(c=this.Xa.state)===null||c===void 0?void 0:c.xz:void 0;this.V.track(__c.Iph,{menu:a,xGa:d&&[d.type],dE:-1,Yp:0,
Ur:0,Ey:0})}J0g(a){this.ja&&this.V.track(AZs,{designId:this.ja,link:a})}CHd(a){const b=this.store,c=this.Xa;if(b.xy){var d;var e=b.xy.sheet;var f=b.xy.anchor;(d=this.DJ)===null||d===void 0||DFs(d,e,f,a)}else{var g;if(d=c.Y5a())d.forEach({Ya:(h,k,l)=>{var m;g||l.link!==((m=b.link)===null||m===void 0?void 0:m.href)||(g={...l})},item:()=>{}}),a=c.aBa(a,g).connect(),((e=c.state)===null||e===void 0?0:e.Oc)&&this.Xa.Qu(c.state.Oc,a),(f=this.store.wMa)===null||f===void 0||f.disconnect(),this.store.wMa=__c.nLr(this.Xa),
a.disconnect()}}onCopy(){this.store.link&&this.store.link.type!=="page"&&(this.IO(__c.pLr(this.store.link.href)),this.la.Ib({Cb:L("xcEZcQ")}))}sje(a){var b;const c=(b=this.store.wMa)===null||b===void 0?void 0:b.xz;this.V.track(zZs,{type:c?"item":"text",action:a,dE:-1,link:"",Yp:0,Ur:0,Ey:0})}UEe(){this.Xa.focus();this.j4h&&this.Xa.zHf(this.j4h)}async hOl(a){var b=this.store.Mgb;const c=!!this.j4h;if(this.store.xy){b=this.store.xy.sheet;var d=this.store.xy.anchor;try{var e;await ((e=this.DJ)===null||
e===void 0?void 0:gFs(e,b,[d],a));this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});return!0}catch(f){return this.la.Ib({Cb:L("F7W1Qg")}),!1}}switch(b){case void 0:case "link":if(this.store.wMa==null||this.store.wMa.xz==null&&((d=this.store.wMa)===null||d===void 0||!d.qSa))break;this.store.wMa.setAttributes({...Py,link:a});this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});return!0;case "iframe":try{return await this.X7b.zid(a,b),!0}catch(f){this.la.Ib({Cb:L("F7W1Qg")})}break;case "pill":try{return await this.X7b.zid(a,
b),!0}catch(f){this.la.Ib({Cb:L("9vRlyg")})}break;default:throw new v(b);}return!1}jFc(){var a=this.store.Mgb;if(this.store.xy){var b;a=this.store.xy.sheet;const c=this.store.xy.anchor;(b=this.DJ)===null||b===void 0||b.$Ki(a,c)}else switch(a){case void 0:case "link":if(!this.store.wMa)break;this.store.wMa.setAttributes({decoration:"none",link:"",color:void 0});break;case "iframe":case "pill":this.Xa.mQ();break;default:throw new v(a);}}constructor(a,b,c,d,e,f,g,h){this.store=a;this.X7b=b;this.DJ=c;
this.Xa=d;this.la=e;this.V=f;this.ja=g;this.IO=h;aGs.G(this)}};var BZs='<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M3 5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v13.5A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V14.5h1.5v4.25c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75H5.25a.75.75 0 0 0-.75.75V9.5H3z"/><path d="M1.75 12a.75.75 0 0 1 .75-.75h9.69L8.97 8.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H2.5a.75.75 0 0 1-.75-.75z"/></g></svg>';var CZs=dr({medium:BZs},!0);var DZs=class{static G(a){O(a,{G4b:CV.ref,Odf:CV.ref,Gnj:CV.ref,Hnj:CV.ref,kJo:jV.bound,ZCc:pV,Qhg:pV,Ngm:pV,Ogm:pV})}kJo(a){this.Odf={...this.Qhg,range:a}}get ZCc(){return this.G4b}get Qhg(){return this.Odf}get Ngm(){return this.jc.state!==this.Qhg?this.Gnj:void 0}get Ogm(){return this.jc.state!==this.Qhg?this.Hnj:void 0}constructor(a,b,c){this.store=a;this.selection=b;this.jc=c;this.G4b=(DZs.G(this),void 0)}},EZs=class{static G(a){O(a,{G4b:CV.ref,ZCc:pV})}get ZCc(){return this.G4b}constructor(a){this.selection=
a;this.G4b=(EZs.G(this),void 0)}};var cGs=class{static G(a){O(a,{Rua:CV.ref,Ali:CV.ref,W1a:pV,Vao:pV,qvm:pV,Lmb:pV,xy:pV,uwk:pV,dmb:pV,linkText:pV,link:pV,rYb:pV,TPg:pV,target:pV,mi:pV,M3e:pV,u1b:pV,FIi:pV,sfd:pV,P3e:pV,C3e:pV,Z3e:pV,ykh:pV,q3d:pV,q6c:pV,KAk:pV,ANi:pV,iFl:pV,QFf:pV,Yni:pV,PFf:pV,OFf:pV,Mgb:pV,E2h:pV,E1h:pV,ete:pV,jTg:pV,gnc:pV,fTg:pV})}get W1a(){var a;return(a=this.r0d.ZCc)!==null&&a!==void 0?a:this.selection.La}get Vao(){var a;if(((a=this.W1a)===null||a===void 0?void 0:a.type)!=="elements")return[];const b=this.W1a.container;
return this.W1a.elements.map(c=>{c=b.Sf(c);const d=eqs(this.controller,c);return d?{MMa:c,nvr:d}:void 0}).filter(tb)}get qvm(){var a;if(((a=this.W1a)===null||a===void 0?void 0:a.type)==="elements")return(a=this.W1a.Bg)?eqs(this.controller,this.W1a.container.Sf(a)):void 0}get Lmb(){var a;return this.r0d.ZCc?this.r0d.Qhg:((a=this.jc.state)===null||a===void 0?void 0:a.type)==="multi-config"?__c.CB(this.jc.state):this.jc.state}get xy(){var a;if(this.selection.Jb)return this.r0.xy;var b=this.W1a;if((b===
null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="sheet"&&b.Ji()){a=b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config;var c=Array.from(b.inner.cells);if(b=b.inner.anchor)return{sheet:a,cells:c,anchor:b}}}get uwk(){var a;const b=(a=this.W1a)===null||a===void 0?void 0:a.Bg;return(b===null||b===void 0?void 0:b.type)==="embed"&&__c.KDb(b.url).name==="Codelet"}get dmb(){if(this.selection.Jb)return this.r0.dmb;const a=this.W1a;var b=this.xy;if(!this.X||!a||!a.Ji($l.Rs))return!1;
if(b){var c;var d=b.sheet;const f=b.cells;b=b.anchor;var e;return(e=(c=this.DJ)===null||c===void 0?void 0:c.dmb(d,f,b))!==null&&e!==void 0?e:!1}return((d=a.inner)===null||d===void 0?void 0:d.type)==="sheet-cell-media"||!a.elements||this.uwk?!1:this.q6c||a.elements.length===1&&a.elements[0].type==="embed"?!0:a.elements.every(f=>{const g=eqs(this.controller,a.container.Sf(f));f=f.type==="table"&&a.inner;return g&&!f})}get linkText(){var a=this.target;switch(a){case "text":var b,c;return(c=(b=this.r0d.Ogm)!==
null&&b!==void 0?b:this.iFl)!==null&&c!==void 0?c:"";case "embed":var d,e;return(e=(d=this.gnc)===null||d===void 0?void 0:d.href)!==null&&e!==void 0?e:"";case "element":case void 0:var f,g;return(g=(f=this.qvm)===null||f===void 0?void 0:f.get())!==null&&g!==void 0?g:"";case "sheet-cell":if(this.xy){var h;a=this.xy.sheet;b=this.xy.anchor;var k;return(k=(h=this.DJ)===null||h===void 0?void 0:h.TO(a,b))!==null&&k!==void 0?k:""}return"";default:throw new v(a);}}get link(){if(this.selection.Jb)return this.r0.link;
if(this.linkText){if(this.gnc)return this.gnc;var a=this.Oo.TMb(this.linkText);return a.type==="url"?(a=Yv(this.linkText),dm(a).ok&&__c.KDb(a).name!=="Codelet"?{type:"url",href:a}:void 0):a.href?a:void 0}}get rYb(){if(this.selection.Jb)return this.r0.rYb;const a=this.target,b=this.link;var c=this.Lmb,d=this.xy;if(a==="sheet-cell"&&d){var e;var f=d.sheet;c=d.anchor;return(e=this.DJ)===null||e===void 0?void 0:e.Mt(f,c)}if(b&&a==="text"&&c&&(c===null||c===void 0?void 0:c.type)==="focused")return e=c.range.index,
d=c.range.length,(f=c.Oc)===null||f===void 0?void 0:f.Ya.slice(e,e+d)}get TPg(){var a,b=this.Lmb;if(this.target==="text"&&b&&b.type==="focused"){if(this.Ali)return!0;var c=b.range.index,d=b.range.length;b=(a=b.Oc)===null||a===void 0?void 0:a.Ya;a=b.lastIndexOf("\n",b.length-2)+1;return c!==a?!1:b.length-(c+d)===1}}get target(){return this.q3d?"text":this.gnc?"embed":this.xy?"sheet-cell":"element"}get mi(){return this.ka.layout===2}get M3e(){return this.selection.Jb?this.r0.M3e:this.u1b}get u1b(){var a,
b,c;if(this.selection.Jb)return this.r0.u1b;const d=((a=this.Lmb)===null||a===void 0?void 0:a.type)==="focused"&&this.Lmb.range.length>0&&!this.Lmb.Oc.isEmpty;a=this.xy?!!this.link&&((b=this.Lmb)===null||b===void 0?void 0:b.type)==="focused":!!this.link;return this.dmb&&(this.ka.layout===2&&this.Rua&&((c=this.toolbar.vE)===null||c===void 0?void 0:c.FZ(this.Rua))||a||d)}get FIi(){return!!this.link&&this.ka.layout===2}get sfd(){return this.dmb}get P3e(){var a;return this.selection.Jb?this.r0.P3e:this.xy?
!!this.link&&((a=this.Lmb)===null||a===void 0?void 0:a.type)==="focused":this.ka.layout===2?!!this.link&&this.Ma.mode===20&&this.target==="embed":!!this.link}get C3e(){return this.selection.Jb?this.r0.C3e:!!this.link&&this.Ma.mode===20}get Z3e(){var a,b,c;return this.selection.Jb?this.r0.Z3e:((b=this.W1a)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="group"&&!this.u1b||(c=this.W1a)===null||c===void 0||!c.Ji()?!1:this.sfd||this.u1b||this.M3e}get ykh(){return this.selection.Jb?
this.r0.ykh:!!this.xy}get q3d(){var a,b;if(!this.W1a||!this.Lmb)return!1;const c=(a=this.W1a.Bg)===null||a===void 0?void 0:a.type;if(((b=this.W1a.inner)===null||b===void 0?void 0:b.type)==="group"||c==="group")switch(c){case "chart":case "embed":case "grid":case "layout":case "rect":case "table":case "group":case "controlled":case "line":case "sheet":case void 0:return!1;case "text":case "shape":break;default:throw new v(c);}a=this.Lmb;return!a||a.type==="multi"&&a.GH.every(d=>d.charLength<=1)?!1:
a.type==="multi"&&a.GH.length===1||a.type==="focused"}get q6c(){var a;return((a=this.r0d.Ngm)!==null&&a!==void 0?a:this.KAk)?this.q3d:!1}get KAk(){return this.jc.state?this.jc.Ji($l.Rs):void 0}get ANi(){return this.controller.Gmn&&this.controller.Gmn()}get iFl(){var a;return(a=this.ANi)===null||a===void 0?void 0:a.get()}get QFf(){var a,b;if(this.OFf)return L("K6kKeg");if(((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&this.link.Gh&&this.GPc)return this.GPc.d$h(this.link.Gh);a=this.link&&
this.getTitle(this.link.href);return a!=null?a:(b=this.link)===null||b===void 0?void 0:b.href}get Yni(){var a,b;return this.OFf?L("K6kKeg"):((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&this.link.Gh&&this.GPc?this.GPc.d$h(this.link.Gh):(b=this.link)===null||b===void 0?void 0:b.href}get PFf(){return this.ka.layout!==2&&this.u1b&&this.link?"edit":"link"}get OFf(){var a;return((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&!this.link.Gh}get Mgb(){if(this.selection.Jb)return this.r0.Mgb;
if(this.target==="sheet-cell"&&this.xy){var a;const b=this.xy.sheet,c=this.xy.anchor;switch((a=this.DJ)===null||a===void 0?void 0:a.contentType(b,c)){case 1:case 2:return"pill";case 0:return"link";default:return}}if(this.gnc)return"iframe";if(this.link)return"link"}get E2h(){return this.selection.Jb?this.r0.E2h:this.target==="sheet-cell"?!0:!1}get E1h(){return this.selection.Jb?this.r0.E1h:!this.xy}get ete(){var a;if(this.selection.Jb)return this.r0.ete;if(this.xy){var b;var c=((b=this.Lmb)===null||
b===void 0?void 0:b.type)==="focused";return!!this.link&&!c}b=this.W1a;return(b===null||b===void 0?void 0:(c=b.Bg)===null||c===void 0?void 0:c.type)==="text"||(b===null||b===void 0?void 0:(a=b.Bg)===null||a===void 0?void 0:a.type)==="embed"}get jTg(){var a;return this.selection.Jb?this.r0.jTg:{selection:this.selection.La,range:((a=this.jc.state)===null||a===void 0?void 0:a.type)==="focused"?this.jc.state.range:void 0}}get gnc(){var a;const b=(a=this.W1a)===null||a===void 0?void 0:a.Bg;if(b&&b.type===
"embed"&&!this.uwk)return{type:"url",href:b.url}}get fTg(){if(this.selection.Jb)return this.r0.fTg}getTitle(a){const b=this.Hsd.rMd.get(a);switch(b===null||b===void 0?void 0:b.status){case 0:case 2:break;case 1:return b.title;case void 0:this.Hsd.qAg(a);break;default:throw new v(b);}}get Fch(){var a;if(this.selection.Jb)return(a=this.r0)===null||a===void 0?void 0:a.Fch}get wMa(){if(this.selection.Jb)return this.r0.wMa}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.controller=a;this.selection=b;this.Ma=
c;this.jc=d;this.r0=e;this.DJ=f;this.toolbar=g;this.ka=h;this.GPc=k;this.Oo=l;this.Hsd=m;this.X=p;this.Rua=(cGs.G(this),void 0);this.Ali=!1;this.r0d=new DZs(this,this.selection,this.jc)}},ZFs=class{static G(a){O(a,{Rua:CV.ref,dmb:pV,linkText:pV,link:pV,mi:pV,M3e:pV,u1b:pV,FIi:pV,sfd:pV,P3e:pV,C3e:pV,Z3e:pV,ykh:pV,QFf:pV,Yni:pV,Mgb:pV,PFf:pV,OFf:pV,ete:pV,gnc:pV,yMg:pV,fTg:pV,rYb:pV,jTg:pV,xy:pV})}get dmb(){if(this.Ma.mode<=20||!this.X)return!1;if(this.wMa){var a,b=this.wMa.qSa,c=this.wMa.xz,d=!!this.link,
e=!this.wMa.collapsed,f;const g=(f=c!=null&&((a=this.Ejn)===null||a===void 0?void 0:a.dmb(c)))!==null&&f!==void 0?f:!1;return d||e&&(b||g)}a=this.Xa.state;if(!a)return!1;switch(a.type){case "RANGE":return f=!!this.link,d=!a.isCollapsed&&a.qSa&&a.xz==null,e=a.xz!=null&&((c=(b=this.Ejn)===null||b===void 0?void 0:b.dmb(a.xz))!==null&&c!==void 0?c:!1),f||d||e;case "TABLE_CELL":case "LAYOUT_CELL":const [g,h]=a.cells;return!!this.link&&g&&!h;case "SHEET_CELL":return this.xy?(a=this.xy.sheet,f=this.xy.cells,
b=this.xy.anchor,(e=(d=this.DJ)===null||d===void 0?void 0:d.dmb(a,f,b))!==null&&e!==void 0?e:!1):!1;case "SHEET_CELL_MEDIA":return!1;default:throw new v(a);}}get linkText(){if(this.gnc)return this.gnc.href;if(this.yMg)return this.yMg.href;if(this.xy){var a,b=this.xy.sheet;const d=this.xy.anchor;var c;return(c=(a=this.DJ)===null||a===void 0?void 0:a.TO(b,d))!==null&&c!==void 0?c:""}a=[...((b=this.wMa)!==null&&b!==void 0?b:this.Xa).attributes.link].filter(d=>d!=="");return a.length===1?a[0]:""}get link(){var a=
this.Oo.TMb(this.linkText);return a.type==="url"?(a=Yv(this.linkText),dm(a).ok&&__c.KDb(a).name!=="Codelet"?{type:"url",href:a}:void 0):a.href?a:void 0}get mi(){return this.ka.layout===2}get M3e(){return this.ka.layout===1?this.u1b:this.dmb}get u1b(){const a=this.Mgb;if(!this.dmb||this.xy)return!1;switch(a){case void 0:case "link":return this.ka.layout===1;case "iframe":case "pill":return!0;default:throw new v(a);}}get FIi(){return!!this.link&&this.ka.layout===2}get sfd(){return this.dmb}get P3e(){return this.ka.layout===
2&&(this.Ma.mode!==20||this.Mgb==="link")||this.xy?!1:!!this.link}get C3e(){return!!this.link&&this.Ma.mode===20}get Z3e(){return this.sfd||this.u1b||this.M3e}get ykh(){return!!this.xy}get QFf(){var a;const b=this.link&&this.getTitle(this.link.href);return b!=null?b:(a=this.link)===null||a===void 0?void 0:a.href}get Yni(){var a;return(a=this.link)===null||a===void 0?void 0:a.href}get Mgb(){if(this.xy){var a;const b=this.xy.sheet,c=this.xy.anchor;switch((a=this.DJ)===null||a===void 0?void 0:a.contentType(b,
c)){case 1:case 2:return"pill";case 0:return"link";default:return}}if(this.gnc)return"iframe";if(this.yMg)return"pill";if(this.link)return"link"}get PFf(){return this.ka.layout===2?"link":this.u1b&&this.link?"edit":"link"}get OFf(){var a;return((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&!this.link.Gh}get E1h(){return!this.xy}get E2h(){return!0}get ete(){var a=this.selection.Jb;if((a===null||a===void 0?void 0:a.type)===0&&a.container.type==="sheet-item-cell-richtext")return!1;var b;
a=(b=this.wMa)!==null&&b!==void 0?b:this.Xa;return this.gnc||this.yMg||this.xy?!0:a.attributes.link.size===1}get gnc(){var a;const b=this.Xa.state;if(b&&b.type==="RANGE"&&((a=b.xz)===null||a===void 0?void 0:a.type)==="embed")return{type:"url",href:b.xz.url}}get yMg(){var a=this.Xa.state;if(a&&a.type==="RANGE"&&(a=a.xz)&&a.type==="pill"&&a.ei.type==="embed")return{type:"url",href:a.ei.url}}get fTg(){var a;if(this.ka.layout===2&&this.Mgb==="link")return((a=this.link)===null||a===void 0?void 0:a.type)===
"page"?CZs:__c.Tt}get rYb(){var a=this.link;const b=this.Xa.state;var c=this.xy;if(c){var d;a=c.sheet;c=c.anchor;return(d=this.DJ)===null||d===void 0?void 0:d.Mt(a,c)}if(a&&(b===null||b===void 0?void 0:b.type)==="RANGE"){var e="";n(this.Xa.Y5a()).forEach({Ya:f=>e+=f,item:()=>{}});return e||void 0}}get jTg(){}getTitle(a){const b=this.Hsd.rMd.get(a);switch(b===null||b===void 0?void 0:b.status){case 0:case 2:break;case 1:return b.title;case void 0:this.Hsd.qAg(a);break;default:throw new v(b);}}get xy(){var a;
const b=(a=this.Fch.ZCc)!==null&&a!==void 0?a:this.Xa.state;if((b===null||b===void 0?void 0:b.type)==="SHEET_CELL")return{sheet:b.sheet.config,anchor:b.anchor,cells:[...b.cells]}}constructor(a,b,c,d,e,f,g,h,k){this.selection=a;this.Xa=b;this.DJ=c;this.Ejn=d;this.Ma=e;this.ka=f;this.Oo=g;this.Hsd=h;this.X=k;this.wMa=(ZFs.G(this),void 0);this.Fch=new EZs(this.Xa)}};var YFs=class{static G(a){O(a,{zvm:pV})}dmb(a){if(!this.zvm)return!1;switch(a.type){case "rect":case "shape":case "chart":case "design":return!0;case "controlled":case "embed":case "layout":case "break":case "pill":case "separator":case "sheet":case "table":return!1;default:throw new v(a);}}get zvm(){return this.viewport.Zg==null?!1:nk(this.gb,this.viewport.Zg.ha,a=>a?a.efb:!1)}constructor(a,b){this.gb=a;this.viewport=b;YFs.G(this)}};var lGs=class{CZf({page:a,element:b}){const c=b.container,d=this.selection.La;if(!d||d.type!=="elements"||d.container.ha!==a.ha)return!1;if(c.type!=="fixed-page"){switch(c.type){case "group-element":a=c.group;break;case "layout-element-cell":a=c.layout;break;case "chart-element":a=c.Yb;break;case "controlled-element":a=c.ha;break;default:throw new v(c);}return!!d.inner&&d.inner.type==="group"&&d.inner.group===a&&d.inner.nb.includes(b.ha)}return d.elements.includes(b.ha)}constructor(a){this.selection=
a}};var FZs=class{static G(a){O(a,{JOi:CV.ref,zla:CV.ref})}load(){this.zla=uKs(this.B7j())}T$k(a){this.JOi=a?uKs(kFs(this,a)):void 0}async B7j(){try{const a=await this.Th.Aqa(new __c.Mod({Fy:3,user:this.X.user.id,brand:this.X.zb.brand.id,limit:4})),b=jFs(this,a),c=(b===null||b===void 0?void 0:b.map(this.w6l))||[];return await Promise.all(c)}catch(a){this.errorService.pa(a,{Ka:"Failed to load recent designs"})}}constructor(a,b,c,d,e){this.ja=a;this.Th=b;this.Xm=c;this.errorService=d;this.X=e;this.JOi=
(FZs.G(this),void 0);this.w6l=async f=>{var g;if(!f.Uq)return f;const h=await this.Xm.qec(new __c.ZKh({query:f.Uq,limit:1}));return{...f,icon:(g=h.results.find(tb))===null||g===void 0?void 0:g.Sg}}}};var IZs=iV(a=>{const b=a.Gk,c=a.uZa;return a.jxd?nV(xV,{children:[gV(__c.Kzj,{children:a.oZf?L("RgPpVw"):L("JwD2+A")}),b.length>0?b.map((d,e)=>fRs(GZs,{...d,key:e,onSelect:c})):Array.from({length:4}).map((d,e)=>gV(HZs,{},e))]}):null}),GZs=JV(a=>{const {title:b=L("jbbBUA"),href:c,icon:d,onSelect:e}=a;a=d?gV("img",{className:"_0qX3hA",src:d,alt:b}):gV(__c.Tqr,{size:"medium"});a=gV("span",{className:"ALDE4g",children:a});const f=kV(()=>e(c),[e,c]);return gV(__c.Izj,{start:a,onClick:f,label:gV(P,{tagName:"span",
tone:lr,lineClamp:2,children:b}),ariaLabel:b})}),HZs=JV(()=>{const a=gV("span",{className:GV("ALDE4g","KnRKeg"),children:gV(__c.LMp,{size:"medium"})});return gV(__c.Izj,{start:a,disabled:!0,label:gV(__c.du,{}),ariaLabel:L("Usq4rQ")})});var uFs=({ja:a,Th:b,Xm:c,errorService:d,X:e})=>({Gof:e?new FZs(a,b,c,d,e):void 0,M7f:IZs});var JZs={eventType:"editor_element_link_display_mode_changed",Oa(a){return vf({element_type:a.elementType,start_mode:a.wmh,end_mode:a.azg,page_index:a.Xb,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var KZs=class{static G(a){O(a,{WSh:jV,Omg:jV.bound})}async Omg(){if(this.selection.Jb)return this.Jgl.Omg();if(this.ox.xy&&this.DJ)return EFs(this.DJ,this.ox.xy.sheet,this.ox.xy.anchor).catch(()=>{this.la.Ib({Cb:L("9vRlyg")})});this.la.Ib({Cb:L("9vRlyg")})}constructor(a,b,c,d,e,f,g,h,k,l,m){this.ox=a;this.X7b=b;this.DJ=c;this.Jgl=d;this.la=e;this.selection=f;this.jc=g;this.V=h;this.P=k;this.Hu=l;this.oc=m;this.VSh=(KZs.G(this),()=>{var p;if(this.selection.Jb)return this.Jgl.VSh();if(this.ox.xy)this.la.Ib({Cb:L("F7W1Qg")});
else{var q=(p=this.ox.link)===null||p===void 0?void 0:p.href;if(q)if(p=this.selection.La,(p===null||p===void 0?0:p.Bg)&&p.Bg.type==="text"&&p.Ji()&&q){var r=p.container.page,t=p.Bg,u=this.P.sb("text_to_embed",{Fb:{name:"editor.element_convert",type:"text_to_embed"}});this.Hu.pK(q).then(jV(()=>{var w,x;u.mb().addEvent("embed_resolved");this.V.track(JZs,{elementType:"text",wmh:"link",azg:"iframe"});const y=(w=(x=this.X7b).xai)===null||w===void 0?void 0:w.call(x,t,r);this.oc.pK(q,{Uc:"switch_display_mode",
span:u},{placement:y});r.elements.delete(t);u.end()})).catch(()=>{this.la.Ib({Cb:L("F7W1Qg")});u.end("error")})}else this.la.Ib({Cb:L("F7W1Qg")})}});this.WSh=()=>{var p;if(this.selection.Jb)return this.Jgl.WSh();const q=(p=this.ox.link)===null||p===void 0?void 0:p.href;if(q){var r=this.selection.La;if(this.ox.xy&&this.DJ){var t=this.ox.xy.sheet;var u=this.ox.xy.anchor;p=this.DJ.link(t,u);return this.DJ.Xed(t,[u],q,(p===null||p===void 0?void 0:p.type)===1?p.title:q)}if((r===null||r===void 0?0:r.Bg)&&
r.Bg.type==="embed"&&r.Ji()&&q){p=r.container.page;r=r.Bg;var w=this.P.sb("embed_to_link",{Fb:{name:"editor.element_convert",type:"embed_to_text"}});this.V.track(JZs,{elementType:"item",wmh:"iframe",azg:"link"});p.elements.delete(r);var x=(t=(u=this.X7b).xai)===null||t===void 0?void 0:t.call(u,r,p);return this.oc.addText(q,{Uc:"switch_display_mode",m_:"default",span:w},{type:"v2",attrs:{link:q,decoration:"underline"}},{zQf:!0},x).then(jV(()=>{this.jc.Oz();w.ne()}))}}}}},LZs=class{static G(a){O(a,
{VSh:jV.bound,Omg:jV.bound})}async VSh(){if(this.ox.xy)this.la.Ib({Cb:L("F7W1Qg")});else try{await lFs(this,async(a,b)=>{await this.oc.pK(b,{Uc:"switch_display_mode"});this.V.track(JZs,{elementType:mFs(a),wmh:a,azg:"iframe"})})}catch(a){this.la.Ib({Cb:L("F7W1Qg")})}}async Omg(){if(this.ox.link){if(this.ox.xy&&this.DJ)return EFs(this.DJ,this.ox.xy.sheet,this.ox.xy.anchor).catch(()=>{this.la.Ib({Cb:L("9vRlyg")})});try{await lFs(this,async(a,b,c)=>{var d;b=await this.oc.ffa({type:"embed",text:c||b,url:b},
{Uc:"switch_display_mode"});a==="iframe"&&this.Xa.aBa("\n");((d=this.Xa.state)===null||d===void 0?0:d.Oc)&&this.Xa.Vv(this.Xa.state.Oc,b);this.V.track(__c.IEh,{type:"embed",source:"display_mode_switch"});this.V.track(JZs,{elementType:mFs(a),wmh:a,azg:"pill"})})}catch(a){this.la.Ib({Cb:L("9vRlyg")})}}}constructor(a,b,c,d,e,f,g,h){this.ox=a;this.la=b;this.Xa=c;this.DJ=d;this.V=e;this.Hu=f;this.oc=g;this.undo=h;this.WSh=(LZs.G(this),()=>{const k=this.ox.link;var l=this.ox.Mgb;if(l&&k!==null&&k!==void 0&&
k.href){if(this.ox.xy&&this.DJ){l=this.ox.xy.sheet;const m=this.ox.xy.anchor,p=this.DJ.link(l,m);return this.DJ.Xed(l,[m],k.href,(p===null||p===void 0?void 0:p.type)===1?p.title:k.href)}this.Xa.aBa(k.href,{...Py,link:k.href});l==="iframe"&&this.Xa.aBa("\n");this.V.track(JZs,{elementType:mFs(l),wmh:l,azg:"link"})}else this.la.Ib({Cb:L("dKo2FQ")})})}};var MZs=class{static G(a){O(a,{eF:pV,AFi:pV,L0h:pV,nvm:pV,wtl:pV})}get eF(){return"enabled"}get AFi(){return this.ox.E2h?this.wtl?"disabled":"enabled":"hidden"}get L0h(){return this.ox.E1h?this.wtl?"disabled":"enabled":"hidden"}get nvm(){return this.ox.Mgb||"link"}get wtl(){if(!this.ox.Mgb||!this.ox.link||this.ox.Mgb!=="link")return!1;if(this.ox.link.type==="page"||!this.ox.ete)return!0;const a=this.mgl.lgl.get(this.ox.link.href);return a?!a.Chn:!1}constructor(a,b){this.ox=a;this.mgl=b;MZs.G(this)}};var oFs=class{constructor(){this.lgl=new aRs}},pFs=class{getStatus(a){return this.store.lgl.get(a)!=null?2:this.Axb.has(a)?1:this.cOm.has(a)?3:0}constructor(a,b){this.store=a;this.w4c=b;this.Axb=new aRs;this.cOm=new cRs}};var vFs=({pvr:a,Db:b,KR:c,la:d,V:e,P:f,Hu:g,oc:h,undo:k,...l})=>{const {mgl:m,dws:p}=qFs(c),q=new MZs(l.ox,m);let r;b=new LZs(l.ox,d,l.Xa,l.DJ,e,g,h,k);r=l.Ja!=="responsive"?new KZs(l.ox,l.X7b,l.DJ,b,d,l.selection,l.jc,e,f,g,h):b;d=iV(t=>gV(WQs,{...t,current:q.nvm||"link",eF:q.eF,EC:r.WSh,AFi:q.AFi,QZb:r.Omg,L0h:q.L0h,zVr:r.VSh,disabled:!!t.disabled,SUr:a.xmm}));hV(()=>l.ox.link,t=>{l.ox.Mgb==="link"&&t!=null&&(t=t.href,p.getStatus(t)===0&&nFs(p,t,p.w4c))});return{C2o:d}};var NZs=JV(({Csb:a,onWheel:b,onKeyDown:c,M7f:d,zne:e})=>{const f=mV(null);return gV(S,{paddingTop:"1u",children:gV("div",{ref:f,className:GV("_3YiM0g",{PqOt4A:!a}),onWheel:b,onKeyDown:g=>c(g,f),children:nV(__c.Hzj,{role:"list",ariaLabel:L("88IVkg"),children:[d&&gV(d,{}),e&&gV(e,{})]})})})});var OZs=class{constructor(){this.onWheel=a=>{a.stopPropagation()};this.onKeyDown=(a,b,c)=>{var d;c&&(b=(d=b.current)===null||d===void 0?void 0:d.querySelectorAll("button"))&&a.key==="Tab"&&a.target===b[b.length-1]&&c()}}};var xFs=()=>{const a=new OZs;return{Chp:iV(({Csb:b,M7f:c,zne:d,dVr:e})=>gV(NZs,{Csb:b,M7f:c,zne:d,onWheel:a.onWheel,onKeyDown:(f,g)=>a.onKeyDown(f,g,e)}))}};var PZs=({vzd:a,pages:b,uk:c,pwl:d,onChange:e,onClose:f,zcf:g})=>d?gV(WA,{label:L("Ye2XeQ"),Fv:"small",control:()=>gV(g,{errorMessage:a?void 0:L("L9zVzg"),pages:b,uk:c,onChange:e,fTk:f})}):null;var QZs={eventType:"editor_element_link_page_changed",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),num_pages_selected:a.ZJ,all_pages_selected:a.cSd})}};var RZs=class{static G(a){O(a,{xzm:jV.bound,Uio:jV.bound,E4i:jV.bound,h4j:pV})}xzm(){this.store.bxe=null}Uio(a){this.store.bxe=[...a].map(b=>b-1);this.E4i({pages:this.store.EAe,pFd:this.store.bxe,bWe:null})}get h4j(){return this.store.eEi.reduce((a,b)=>b.disabled?a:a+1,0)}constructor(a,b,c,d){this.store=a;this.ox=b;this.Db=c;this.rm=d;this.E4i=(RZs.G(this),({pages:e,pFd:f,bWe:g})=>{const h=[];e.forEach((k,l)=>{let m;m=f?f.includes(l):g?k.id?g.includes(k.id):!1:!0;h.push({id:k.id,index:l,H3a:m,draft:k.draft,
title:k.title})});this.store.EAe=h})}},SZs=class extends RZs{static G(a){O(a,{luh:jV.bound})}luh(){var a;if(this.selection.Jb)return this.q0.luh();if(this.store.U3m){var b=(a=this.ox.link)===null||a===void 0?void 0:a.href,c=this.store.bWe;if(!b)this.rm.Ib({Cb:L("fazCYw")});else if(c.length!==0){var d=this.selection.La,e=this.ox.W1a,f=XQs(b,c);this.Hu.pK(f).then(jV(()=>{var g,h;if(e!==null&&e!==void 0&&e.Bg&&e.Bg.type==="embed"&&e.Ji()){var k=e.container.page,l=e.Bg,m={width:l.width,height:l.height},
p=(g=(h=this.X7b).xai)===null||g===void 0?void 0:g.call(h,l,k);this.oc.pK(f,e===d?{Uc:"paste_url"}:{Uc:"paste_url",v7:"none"},{placement:p,dimensions:m});k.elements.delete(l);this.N.track(QZs,{ZJ:c.length,cSd:c.length===this.h4j})}else this.rm.Ib({Cb:L("fazCYw")})})).catch(()=>{this.rm.Ib({Cb:L("fazCYw")})})}}}constructor(a,b,c,d,e,f,g,h,k,l){super(a,d,b,c);this.ox=d;this.q0=e;this.Hu=f;this.X7b=g;this.selection=h;this.oc=k;this.N=l;SZs.G(this)}},TZs=class extends RZs{static G(a){O(a,{luh:jV.bound})}async luh(){var a;
if(this.store.U3m){var b=this.ox.wMa;if((b===null||b===void 0?void 0:(a=b.xz)===null||a===void 0?void 0:a.type)==="embed")if(a=b.xz.url,b=this.store.bWe,!a)this.rm.Ib({Cb:L("fazCYw")});else if(b.length!==0)try{const c=XQs(a,b);await tFs(this,async(d,e)=>{await this.oc.pK(d,{Uc:"paste_url"},{placement:e})},c);this.V.track(QZs,{ZJ:b.length,cSd:b.length===this.h4j})}catch(c){this.rm.Ib({Cb:L("fazCYw")})}}}constructor(a,b,c,d,e,f,g,h,k){super(a,d,b,c);this.store=a;this.Db=b;this.rm=c;this.ox=d;this.Hu=
e;this.Xa=f;this.oc=g;this.V=h;this.undo=k;TZs.G(this)}};var UZs=class{static G(a){O(a,{EAe:CV.ref,bxe:CV.ref,vzd:pV,eEi:pV,pFd:pV,TQn:pV,bWe:pV,Ydn:pV})}get U3m(){var a;return this.mGm!==((a=this.pFd)===null||a===void 0?void 0:a.slice().sort().join(","))}get vzd(){return this.bxe&&this.EAe.length!==0?this.bxe.length>0:!0}get eEi(){return this.EAe.map(a=>({disabled:a.draft,zd:a.index+1,j0:a.title}))}get pFd(){return this.EAe.reduce((a,b)=>{b.H3a&&!b.draft&&a.push(b.index);return a},[])}get TQn(){return this.pFd.map(a=>a+1)}get bWe(){return this.EAe.reduce((a,
b)=>{b.H3a&&!b.draft&&b.id&&a.push(b.id);return a},[])}get pwl(){return this.Ydn}get Ydn(){return this.ox.link&&this.ox.Mgb==="iframe"?TJa(this.ox.link.href)!=null:!1}constructor(a){this.ox=a;this.mGm=(UZs.G(this),void 0);this.EAe=[];this.bxe=null}};var wFs=({Db:a,la:b,Hu:c,oc:d,V:e,undo:f,...g})=>{const h=new UZs(g.ox);let k;f=new TZs(h,a,b,g.ox,c,g.Xa,d,e,f);k=g.Ja!=="responsive"?new SZs(h,a,b,g.ox,f,c,g.X7b,g.selection,d,e):f;const l=__c.T7p({fAc:__c.W6p(),yAc:__c.V7p()});return{zcf:iV(()=>h.eEi.length>0&&gV(PZs,{vzd:h.vzd,pages:h.eEi,uk:new Set(h.TQn),pwl:h.pwl,onChange:k.Uio,onClose:k.luh,zcf:l})),KPc:h,f3k:k}};var iGs=(a,b)=>c=>{if(a.CNe(c)){var d=c.startsWith("#")?f=>{if(!(f.target instanceof HTMLElement&&f.target.isContentEditable)){var g=a.TMb(c);g.type==="page"&&g.Gh&&(na(b instanceof eGs),b.Dyi(g.Gh),f.preventDefault())}}:void 0,e=__c.CDb(c);if(e)return{...e,onClick:d}}};var VZs,WZs,XZs,YZs=parseInt("32px",10),ZZs=parseInt("26px",10),AFs;
new (VZs=class extends NV{constructor(){super(AFs);WZs()}},(()=>{class a extends(XZs=LV){static G(b){O(b,{a1i:CV.ref,increment:jV})}componentDidMount(){requestAnimationFrame(this.increment)}componentDidUpdate(){this.a1i<this.props.pages.length&&requestAnimationFrame(this.increment)}render(){const b=this.props.pages,c=this.props.h_,d=this.props.onSelect,e=this.props.je,f=this.props.ypc;let g=0;return b.length!==0?nV(xV,{children:[gV(__c.Kzj,{children:L("hgOeRA")}),b.map((h,k)=>gV($Zs,{index:g++,thumbnail:this.a1i>=
g?"pageView":"placeholder",page:h,ypc:f,h_:c,onSelect:d,je:e},k))]}):null}constructor(...b){super(...b);this.a1i=(AFs.G(this),0);this.increment=()=>{this.a1i++}}}({c:[AFs,WZs]}=PV(a,[],[Ob],XZs))})(),VZs);
var $Zs=iV(({page:a,...b})=>{var c=b.index,d=b.ypc;const e=b.onSelect;var f=b.h_,g=b.je;c=gV("span",{className:"ALDE4g",children:b.thumbnail==="pageView"?gV(a_s,{je:g,page:a}):gV(gj,{shape:"square",index:c})});d=d(a);g=f!=null&&a.equals(f);f=f!=null&&a.equals(f.container);const h=kV(()=>e(a),[e,a]),k=a.type==="concatenated-fixed-page"?a.page.pages.map(l=>gV($Zs,{page:a.tb(l),...b},l.id)):void 0;return gV(__c.Izj,{start:c,onClick:h,selected:g,label:d,ariaLabel:d,children:k,iY:f})}),b_s={OOa:0},a_s=
JV(a=>gV(a.je,{page:a.page,yA:b_s,nd:YZs,sf:ZZs}));var zFs=class{static G(a){O(a,{pj:pV})}get pj(){return new Map(this.document.pages.toArray().map((a,b)=>[a,b+1]))}constructor(a){this.document=a;this.ki=(zFs.G(this),void 0);this.ypc=IV(b=>{switch(b.container.type){case "fixed-document":const c=n(this.pj.get(b.page));return b.page.title?J("Bt5ung",[c,b.page.title]):J("NJD05g",[c]);case "concatenated-fixed-page":return oa(b.page.type==="fixed","Only fixed pages can be contained by concatenated pages"),b=b.container.pages.toArray().indexOf(b.page)+
1,J("rEOJPA",[b]);default:throw new v(b.container);}});this.d$h=IV(b=>{switch(b.container.type){case "fixed-document":return this.ypc(b);case "concatenated-fixed-page":var c=this.ypc(b.container);b=this.ypc(b);return J("UoaLaA",[c,b]);default:throw new v(b.container);}});this.oYm=b=>this.document.pages.XRa(c=>this.ypc(this.ki.tb(c)).toLocaleLowerCase().includes(b.toLocaleLowerCase())).map(c=>this.ki.tb(c));this.ki=If(a)}};var c_s=[void 0,"boolean","number","plaintext","text2","text3","embed"],d_s=[void 0,"plain_number","currency","percentage","embed"],JFs=class{dmb(a,b,c){var d,e,f;if(b.length!==1||!c)return!1;b=(d=this.Wc)===null||d===void 0?void 0:d.getContent(a,c.row,c.column);a=c_s.includes(b===null||b===void 0?void 0:(e=b.Pr)===null||e===void 0?void 0:e.type);e=d_s.includes(b===null||b===void 0?void 0:(f=b.oAa)===null||f===void 0?void 0:f.type);return a&&e}TO(a,b){if((a=this.link(a,b))&&a.type!==2)return a.url}link(a,
b){var c,d=this.Wc.getContent(a,b.row,b.column);if((d===null||d===void 0?void 0:(c=d.oAa)===null||c===void 0?void 0:c.type)==="embed"&&d.isEmpty)return{type:2};if(d!==null&&d!==void 0&&d.Pr)switch(d.Pr.type){case "boolean":case "number":case "plaintext":case "text2":case "text3":var e;return(a=(e=a.layout.attrs.get(__c.Ne({link:void 0}),b.row,b.column))===null||e===void 0?void 0:e.link)?{type:0,url:a,text:d.DR}:void 0;case "embed":return(d=this.Owf(a,b))&&d!==null&&d!==void 0&&d.url?{type:1,url:d.url,
title:d.text}:{type:2};case "mention":case "media":case "formula":break;default:throw new v(d.Pr);}}$Ki(a,b){const c=this.link(a,b);Bz(this.Wc,d=>{(c===null||c===void 0?void 0:c.type)===1&&d.naa(a,b,__c.NQd);d.setAttributes(a,b,{link:void 0,decoration:void 0,color:void 0})})}isEmpty(a,b){if(this.link(a,b))return!1;a=this.Wc.getContent(a,b.row,b.column);var c;return(c=a===null||a===void 0?void 0:a.isEmpty)!==null&&c!==void 0?c:!0}Mt(a,b){a=this.link(a,b);if((a===null||a===void 0?void 0:a.type)===0)return a.text}contentType(a,
b){var c;return(c=this.link(a,b))===null||c===void 0?void 0:c.type}Xed(a,b,c,d){Bz(this.Wc,e=>{for(const p of b){var f=void 0,g=e,h=a,k=p,l=c,m=d;const q=this.Wc.getContent(h,k.row,k.column);g.u0(h,k,void 0);const r=(q===null||q===void 0?void 0:(f=q.Pr)===null||f===void 0?void 0:f.type)==="embed";m?g.EGa(h,k,m):(!q||q.isEmpty||r)&&g.EGa(h,k,l);g.setAttributes(h,k,{link:l,decoration:Py.decoration,color:Py.color})}})}Owf(a,b){var c;a=this.Wc.getContent(a,b.row,b.column);if((a===null||a===void 0?void 0:
(c=a.Pr)===null||c===void 0?void 0:c.type)==="embed")return a.Pr.value.map(d=>d.embed).at(0)}constructor(a,b){this.Wc=a;this.Hu=b}};var e_s=class{static G(a){O(a,{set:jV.bound})}get(a){return this.store.get(a)}set(a,b){this.store.set(a,b)}fetch(a){var b=this.store.get(a);if(b)return Promise.resolve(b);if(b=this.yw.get(a))return b;b=this.ePm(a).then(c=>{this.store.set(a,c);return c}).finally(()=>this.yw.delete(a));this.yw.set(a,b);return b}constructor(){this.store=(e_s.G(this),new aRs);this.yw=new Map}},IFs=class extends e_s{async ePm(a){var b=await this.Hu.pK(a);if(b.title)return{url:a,text:b.title};b=await GFs(a,this.Db);const c=
b.document.draft.IK.thumbnail.images.at(0);c&&c.page!==0&&this.H0s.set(a,c);var d;b=(d=b.document.draft.content.title)!==null&&d!==void 0?d:"";return{url:a,text:b}}constructor(a,b,c){super();this.Hu=a;this.H0s=b;this.Db=c}},HFs=class extends e_s{async ePm(a){return(a=(await GFs(a,this.Db)).document.draft.IK.thumbnail.images.at(0))&&a.page!==0?a:Promise.reject(Error("No thumbnail found"))}constructor(a){super();this.Db=a}};var jGs=class{static G(a){O(a,{GFj:pV,xqm:pV,FD:pV,Kte:pV,config:pV})}get GFj(){var a=this.FD;const b=this.Kte;if(a&&b)return a=b.transform(a.SN.invert()),new Bj(a.Fn.x,a.Fn.y+8)}get xqm(){var a=this.FD;const b=this.Kte;if(a&&b)return a=b.scale(a.$c),new Bj(a.Fn.x,a.Fn.y+8)}get FD(){const a=this.config;if(a)switch(a.container.type){case "fixed-page":return new uA(a.container,this.viewport,this.Ma);case "sheet-element":return new tA(a.container,this.viewport);case "sheet-item":return new wA(a.container,
this.gd,this.viewport);default:throw new v(a.container);}}get Kte(){if(this.config){var a=this.config.anchor;return __c.Nk(this.config.sheet,a.column,a.row)}}get config(){const a=this.selection.Jb,b=this.selection.La;if((a===null||a===void 0?void 0:a.type)===4){var c=a.container.sheet;return a.anchor?{sheet:c.config,anchor:a.anchor,container:a.container.container.Hw(c)}:void 0}if((b===null||b===void 0?void 0:(c=b.inner)===null||c===void 0?void 0:c.type)==="sheet")return b.inner.anchor?{sheet:b.type===
"pages"?b.inner.page.sheet:b.inner.sheet.config,anchor:b.inner.anchor,container:b.inner.container}:void 0}constructor(a,b,c,d){this.selection=a;this.viewport=b;this.gd=c;this.Ma=d;jGs.G(this)}};var XFs=iV(a=>gV("div",{className:"WDsHvg",children:gV(S,{background:"surface",borderRadius:"elementRound",shadow:"surface",width:"full",padding:"0",jq:"1.5u",children:nV(ir,{spacing:"0.5u",Fa:"center",align:"spaceBetween",children:[gV(hr,{children:gV(a.fag,{})}),gV(hr,{width:"content",children:gV(a.a8f,{})})]})})})),WFs=iV(a=>gV("div",{className:"WDsHvg",children:gV(S,{background:"surface",shadow:"surface",width:"full",borderRadius:"container",padding:"1u",jq:"1.5u",su:"0.5u",children:nV(ir,{spacing:"0.5u",
Fa:"center",align:"spaceBetween",children:[gV(hr,{children:nV(Yc,{spacing:"0",children:[gV(P,{size:"medium",weight:"bold",lineClamp:1,children:a.title}),gV(a.fag,{})]})}),gV(hr,{width:"content",children:gV(a.a8f,{})})]})})})),VFs=iV(a=>gV("div",{className:"EiyiZg",children:gV(S,{background:"surface",shadow:"surface",width:"full",borderRadius:"container",children:nV(Yc,{spacing:"0.5u",align:"center",children:[gV(S,{padding:"2u",paddingBottom:"0",width:"full",children:gV(a.Lbf,{})}),gV(S,{jq:"2u",su:"1u",
paddingBottom:"1u",children:nV(ir,{spacing:"0.5u",Fa:"center",align:"spaceBetween",children:[gV(hr,{children:nV(Yc,{spacing:"0",children:[gV(P,{size:"medium",weight:"bold",lineClamp:1,children:a.title}),gV(a.fag,{})]})}),gV(hr,{width:"content",children:gV(a.a8f,{})})]})})]})})})),SFs=iV(a=>a.rw&&gV(S,{background:"surface",borderRadius:"elementRelaxed",padding:"0.5u",shadow:"surface",children:gV(a.Gcj,{})})),QFs=iV(a=>gV("div",{className:"_2OvirQ",style:{left:a.anchorPoint.x,top:a.anchorPoint.y},children:a.children})),
UFs=iV(a=>{var b,c;return nV(__c.Ko,{fit:"coverCrop",border:"low",aspectRatio:4/3,children:[gV(__c.bv,{src:a.thumbnail.url,aspectRatio:((b=a.thumbnail.width)!==null&&b!==void 0?b:1)/((c=a.thumbnail.height)!==null&&c!==void 0?c:1)}),gV("div",{className:"P4_mlA",children:gV(__c.rr,{variant:"contrast",icon:__c.Tt,...a.eTg})})]})}),TFs=iV(a=>{var b;return gV(pr,{label:a.eTg.href,children:gV("div",{className:"eKZKbg",children:gV(P,{size:"small",children:gV(__c.ej,{...a.eTg,variant:"semiBold",children:(b=
a.Xzo)!==null&&b!==void 0?b:a.eTg.href})})})})}),RFs=iV(a=>gV("div",{className:"h12JLw",children:gV(__c.Po,{open:a.open,oa:a.oa,reference:b=>gV(tr,{...b,size:"small",Nc:"medium",icon:ku,onClick:a.onClick,variant:"tertiary",ariaLabel:L("S/iSMg")}),placement:"bottom-center",children:gV(S,{background:"surface",borderRadius:"elementRelaxed",padding:"0.5u",shadow:"surface",children:gV(a.Gcj,{})})})}));var MFs=class{static G(a){O(a,{isOpen:pV,SJa:jV.bound,uue:jV.bound,xMd:jV.bound})}get isOpen(){return this.store.isOpen}open(a){this.bTb();this.store.isOpen=!0;a.type===2&&(this.store.rw=!0);this.k5i()}close(){this.store.rw=!1;this.store.isOpen=!1}SJa(){this.bTb();this.store.rw=!0}uue(){this.store.rw=!1}xMd(){this.store.rw=!this.store.rw}k5i(){const a=this.store.selection;(a===null||a===void 0?void 0:a.link.type)!==1||this.store.thumbnail||this.W2e.fetch(a.link.url).catch(()=>{})}bTb(){var a;(a=this.ih)===
null||a===void 0||a.Npd()}constructor(a,b,c){this.store=a;this.W2e=b;this.ih=c;MFs.G(this)}};var LFs=class{static G(a){O(a,{rw:CV.ref,isOpen:CV.ref,doi:pV,Fie:pV,thumbnail:pV,selection:pV,XK:pV})}get doi(){const a=this.selection;if(a&&a.link.type!==2){var b;return a.link.type===0?(b=this.ox.QFf)!==null&&b!==void 0?b:a.link.url:a.link.url}}get Fie(){const a=this.selection;if((a===null||a===void 0?void 0:a.link.type)===1)return a.link.title}get thumbnail(){const a=this.selection;if((a===null||a===void 0?void 0:a.link.type)===1)return this.W2e.get(a.link.url)}get selection(){var a;const b=this.SPn.FD,
c=this.SPn.xqm;if(b&&c&&this.XK){var d=this.XK.sheet,e=this.XK.anchor;if(this.DJ.dmb(d,this.XK.cells,e)){var f=(a=this.DJ)===null||a===void 0?void 0:a.link(d,e);if(f)return{link:f,sheet:d,anchor:e,FD:b,anchorPoint:c}}}}get XK(){var a;const b=this.LF.Jb,c=this.LF.La;return b&&b.type===4?b.anchor?{sheet:b.container.sheet.config,anchor:b.anchor,cells:Array.from(b.cells)}:void 0:c&&c.Ji()&&((a=c.inner)===null||a===void 0?void 0:a.type)==="sheet"?c.inner.anchor?{sheet:c.type==="pages"?c.inner.page.sheet:
c.inner.sheet.config,cells:Array.from(c.inner.cells),anchor:c.inner.anchor}:void 0:this.XK}constructor(a,b,c,d,e){this.DJ=a;this.W2e=b;this.SPn=c;this.ox=d;this.LF=e;this.rw=(LFs.G(this),!1);this.isOpen=!1}};var f_s=class{static G(a){O(a,{ali:CV.ref})}constructor(){this.ali=(f_s.G(this),!1)}},g_s=class{static G(a){O(a,{Mon:pV,Evl:pV,XOb:pV,xso:pV,wOb:pV,Ot:pV,Uqc:pV,Xgn:pV,pFi:pV,a_c:pV,iWe:pV,oQk:pV,ynf:jV.bound,H_k:jV.bound,iVk:jV.bound})}get Mon(){const a=this.selection.La;if(!(this.Ma.mode<40)&&a)switch(a.type){case "pages":var b,c,d,e;if(((b=a.inner)===null||b===void 0?void 0:b.type)==="background"||((c=a.inner)===null||c===void 0?void 0:c.type)==="pages"&&((d=a.inner.inner)===null||d===void 0?void 0:
d.type)==="background")return 2;if(((e=a.$z)===null||e===void 0?void 0:e.type)==="responsive-page")break;return 1;case "elements":return 3}}get Evl(){const a=this.selection.La;return this.Ma.mode<40||!a?!1:this.wOb?this.wOb.locked:this.Ot}get XOb(){var a,b,c=this.selection.La;if(this.Ma.mode<40||!c)return!1;if(((a=c.inner)===null||a===void 0?void 0:a.type)==="sheet")switch(c.type){case "audio":case "pages":return!1;case "elements":var d,e;return((e=this.jc)===null||e===void 0?void 0:(d=e.state)===
null||d===void 0?void 0:d.type)!=="focused";default:throw new v(c);}if(((b=c.inner)===null||b===void 0?void 0:b.type)==="sheet-cell-media")return!1;switch(c.type){case "audio":return!1;case "pages":var f,g,h;if(((f=c.$z)===null||f===void 0?void 0:f.type)==="responsive-page")return!1;if(((g=c.inner)===null||g===void 0?void 0:g.type)==="pages"){var k;return((k=c.inner.inner)===null||k===void 0?void 0:k.type)==="background"?(a=c.inner.inner.page.Jc,c.inner.inner.page.locked||a.some(l=>!__c.VVa(l)||l.locked)):
c.inner.pages.every(l=>!__c.SVa(l)||l.locked)}if(((h=c.inner)===null||h===void 0?void 0:h.type)==="background"){c=c.inner.page;if(c.type==="responsive"||Bg(c.dimensions||this.document.dimensions))return!1;a=c.Jc;return c.locked||a.some(l=>!__c.VVa(l)||l.locked)}return c.pages.some(l=>l.type!=="responsive")&&c.pages.every(l=>!__c.SVa(l)||l.locked);case "elements":return this.wOb?this.wOb.locked:!0;default:throw new v(c);}}get xso(){const a=this.selection.La;return this.Ma.mode<40||!a?!1:a.type==="pages"&&
a.inner==null&&this.Ot}get wOb(){var a=this.selection.La;if(a&&a.type==="elements"&&a.inner!=null&&(a.inner.type==="group"||a.inner.type==="layout"||a.inner.type==="layout-cell")&&({element:a}=__c.al(a.inner.container),__c.tf(a)))return a}get Ot(){const a=this.selection.La;return!(a===null||a===void 0?0:a.Ji())}get Uqc(){const a=this.selection.La;return!(a===null||a===void 0?0:a.Ji($l.Rs))}get Xgn(){return this.Ot&&!this.Uqc}get pFi(){const a=this.selection.La;if(!a)return!1;switch(a.type){case "audio":return!1;
case "elements":return a.elements.every(c=>__c.efk(this.vc,a.container.Sf(c))!=null);case "pages":if(a.inner)switch(a.inner.type){case "background":var b=a.inner.container;return b.type==="section-marker"?!1:__c.cfk(this.vc,b.DK(a.inner.background))!=null;case "sheet":return __c.Ude(this.vc,a.inner.container);case "sheet-cell-media":return b=a.inner.container.container,b.container&&__c.Ude(this.vc,b.container.tb(b.page))!=null;case "pages":if(a.inner.inner)switch(a.inner.inner.type){case "background":return __c.cfk(this.vc,
a.inner.inner.container.DK(a.inner.inner.background))!=null;default:throw new v(a.inner.inner.type);}const c=a.inner;return c.pages.every(d=>__c.Ude(this.vc,c.container.tb(d))!=null);default:throw new v(a.inner);}return a.pages.every(c=>__c.Ude(this.vc,a.container.tb(c))!=null);default:throw new v(a);}}get a_c(){const a=this.selection.La;if(!a||!this.pFi)return!1;switch(a.type){case "audio":return!1;case "elements":return!Zl(this.vc,a.container,this.iWe?$l.Rs:void 0);case "pages":var b;if(((b=a.$z)===
null||b===void 0?void 0:b.type)==="responsive-page"&&!a.$z.page.locked)return!1;if(!a.inner)return!0;switch(a.inner.type){case "sheet":case "sheet-cell-media":return!0;case "background":return a.inner.container.type!=="fixed-page"?!1:!Zl(this.vc,a.inner.container,$l.Rs);case "pages":if(!a.inner.inner)return!Zl(this.vc,a.inner.container,$l.Rs);switch(a.inner.inner.type){case "background":return!Zl(this.vc,a.inner.inner.container,$l.Rs);default:throw new v(a.inner.inner.type);}default:throw new v(a.inner);
}default:throw new v(a);}}get iWe(){const a=this.selection.La;if(!this.pXa||!a||!a.type)return!1;switch(a.type){case "audio":return!1;case "pages":var b,c;if(((b=a.$z)===null||b===void 0?void 0:b.type)==="responsive-page")return!1;const {inner:d,Od:e}=((c=a.inner)===null||c===void 0?void 0:c.type)==="pages"?a.inner:a;return(d===null||d===void 0?void 0:d.type)==="background"?!1:!!e;case "elements":return!!a.Bg&&__c.Xqb(this.vc,a.Bg,$l.Rs);default:throw new v(a);}}get oQk(){var a,b;return((b=this.selection.La)===
null||b===void 0?void 0:(a=b.pages)===null||a===void 0?void 0:a.filter(c=>c.type!=="responsive").length)||0}ynf(a){const b=this.P.sb("change_element_locking",{Fb:{name:"editor.change_element_locking"}});var c=this.selection.La;if(c&&this.a_c){var d=this.Ot&&!this.Uqc;if(this.iWe){var e=c.Bg;switch(c.type){case "audio":break;case "pages":var f;const {Od:g,inner:h}=((f=c.inner)===null||f===void 0?void 0:f.type)==="pages"?c.inner:c;if(g&&!h&&!this.Ot){c=b.mb();this.vc.gTc(g,!0,[$l.Rs]);oGs(this,{action:"locking",
ML:pGs([$l.Rs]).join(","),tPe:"page",location:a,mb:c});break}qGs(this,{selection:c,locked:d||!this.Ot,location:a,mb:b.mb()});break;case "elements":if(e&&!this.Ot){d=__c.Xqb(this.vc,e,$l.Rs)?[$l.Rs]:void 0;qGs(this,{selection:c,locked:!0,ML:d,location:a,mb:b.mb()});break}qGs(this,{selection:c,locked:d||!this.Ot,location:a,mb:b.mb()});break;default:throw new v(c);}}else qGs(this,{selection:c,locked:d||!this.Ot,location:a,mb:b.mb()});b.ne()}else b.end("error")}H_k(a){const b=this.P.sb("click_floating_toolbar_unlock",
{Fb:{name:"editor.click_floating_toolbar_unlock"}}),c=this.selection.La;c&&this.a_c&&this.Ot?(qGs(this,{selection:c,locked:!1,mb:b.mb(),location:a}),b.ne()):b.end("error")}iVk(a){const b=this.P.sb("click_context_menu_full_lock",{Fb:{name:"editor.click_context_menu_full_lock"}}),c=this.selection.La;c&&this.a_c&&!this.Ot?(qGs(this,{selection:c,locked:!0,mb:b.mb(),location:a}),b.ne()):b.end("error")}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.document=b;this.Ma=c;this.selection=d;this.jc=e;this.vc=
f;this.N=g;this.P=h;this.pXa=k;g_s.G(this)}};var h_s,i_s,j_s,k_s,l_s,m_s,n_s,o_s,p_s,q_s;
new (h_s=class extends NV{constructor(){super(q_s);k_s()}},(()=>{class a extends(l_s=LV){static G(b){O(b,{icon:pV,label:pV,tooltip:pV})}render(){var b=this.props.L;const c=b.Ot;b=b.a_c;return gV(this.props.xi,{tooltip:this.tooltip,disabled:c&&!b,selected:c,yh:"icon",icon:this.icon,onClick:this.props.onClick,children:this.label})}get icon(){return r_s(this.props.L)}get label(){return s_s(this.props.L)}get tooltip(){var b=this.props.L;const c=b.Ot,d=b.pFi,e=b.a_c;return c&&!d?L("rQJdVg"):c&&!e?L("rnCrIw"):
!c&&b.iWe?L("ou4BGA"):t_s(b)}constructor(...b){super(...b);a.G(this)}}({c:[q_s,k_s]}=PV(a,[],[Ob],l_s))})(),h_s);var u_s;
new (i_s=class extends NV{constructor(){super(u_s);m_s()}},(()=>{class a extends(n_s=LV){static G(b){O(b,{icon:pV})}render(){const b=this.props.onClick;var c=this.props.L;const d=this.props.xi;var e=c.pFi;const f=c.a_c;c=c.Uqc?L("X5CkxQ"):L("416rFw");e=e?f?c:L("rnCrIw"):L("rQJdVg");return gV(d,{tooltip:e,disabled:!f,selected:!0,yh:"icon",icon:this.icon,onClick:b,children:c})}get icon(){return r_s(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[u_s,m_s]}=PV(a,[],[Ob],n_s))})(),i_s);var v_s;
new (j_s=class extends NV{constructor(){super(v_s);o_s()}},(()=>{class a extends(p_s=LV){static G(b){O(b,{icon:pV,label:pV})}render(){const b=this.props.L,c=b.a_c;return gV(this.props.hl,{disabled:b.Ot&&!c,Icon:this.icon,onClick:this.props.onClick,oa:this.props.oa,label:this.label,jm:this.props.jm})}get icon(){var b=this.props.L;const c=b.Ot;return c&&!b.Uqc?zcr:c?pKh:ey}get label(){return this.props.sQl?s_s(this.props.L):t_s(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[v_s,o_s]}=PV(a,
[],[Ob],p_s))})(),j_s);
var w_s=iV(a=>{const b=a.oa,c=a.L;a=a.hl;const d=c.Ot,e=c.a_c,f=kV(()=>c.iVk("context_menu"),[c]);return gV(a,{disabled:d&&!e,Icon:ey,onClick:f,oa:b,label:L("7Dt6hg")})}),x_s=iV(a=>{const b=a.oa,c=a.jm,d=a.L;a=a.hl;const e=d.Ot,f=d.a_c,g=kV(()=>d.ynf("context_menu"),[d]);return gV(a,{disabled:e&&!f,Icon:zcr,onClick:g,oa:b,label:L("ou4BGA"),jm:c})}),r_s=a=>{const b=a.Ot;return b&&!a.Uqc?zcr:b?ey:pKh},s_s=a=>{const b=a.Ot;a=b&&!a.Uqc;return b&&!a?L("X5CkxQ"):L("7Dt6hg")},t_s=a=>{const b=a.Ot,c=b&&!a.Uqc,
d=a.Mon;if(!d)return b&&!c?L("X5CkxQ"):L("7Dt6hg");switch(d){case 1:return b&&!c?J("M6hjLQ",[a.oQk]):J("ZUCbLw",[a.oQk]);case 2:return b&&!c?L("l2Wnow"):L("pLKZpA");case 3:return b&&!c?L("X5CkxQ"):L("7Dt6hg");default:throw new v(d);}};var y_s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="m16.099 15.745-.075.088a.711.711 0 0 1-.283.202c-.125.051-.26.085-.4.102l-.22.025v.99l.268-.02a1.743 1.743 0 0 0 .487-.11v2.223h1.048v-3.5h-.825Z"/><g fill="currentColor"><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6ZM4 3h12a2 2 0 0 1 1.975 1.75h-1.277a.756.756 0 0 0-.698-.5H4a.76.76 0 0 0-.75.75v8c0 .319.213.592.5.698v1.277A2 2 0 0 1 2 13V5c0-1.1.9-2 2-2Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/></g></svg>';var z_s=dr({medium:y_s});var A_s=iV(({Uaj:a,qb:b})=>nV("div",{className:"_6ykBxw",children:[gV(a,{}),gV(b,{})]})),B_s=({q9o:a,Nq:b,Ktp:c,Yf:d})=>gV(S,{padding:"2u",height:"full",paddingTop:d?"0":"2u",children:nV(Yc,{spacing:"2u",children:[gV(P,{size:"medium",weight:"bold",children:L("5VY+6Q")}),gV(a,{}),gV(P,{size:"medium",weight:"bold",children:L("Wz4zjQ")}),gV(b,{}),gV(c,{})]})}),C_s=({onClick:a})=>nV(xV,{children:[gV(P,{size:"medium",weight:"bold",children:L("GtlHpg")}),gV(fj,{variant:"secondary",stretch:!0,onClick:a,
children:L("VMCXkA")})]}),D_s=({onClick:a})=>gV("div",{className:"eOO2Pw",children:gV(Yc,{align:"start",spacing:"2u",children:gV(fj,{variant:"secondary",icon:Tx,wp:"start",stretch:!0,onClick:a,children:L("NWQG1w")})})});var E_s=class{static G(a){O(a,{Rbb:pV,Bm:pV,Cg:pV,aym:jV.bound,MCn:jV.bound,F$l:jV.bound,Mtn:jV.bound,QV:jV.bound,nIn:jV,Dhm:pV})}get Rbb(){return!!this.store.wFe||this.Dhm}get Bm(){return[...this.document.pages].map((a,b)=>({zd:b+1,j0:a.title,disabled:a.draft}))}get Cbs(){var a;switch((a=this.document.T$)===null||a===void 0?void 0:a.text.Ya){case "${pageNumberOnly}\n":return"${pageNumberOnly}";case "${pageNumber}\n":return"${pageNumber}";case "${pageNumberOfTotal}\n":return"${pageNumberOfTotal}";
default:return"${pageNumberOnly}"}}get Cg(){const a=[...this.document.pages],b=this.document.pages.filter(c=>!c.draft&&uqs(c,this.gb)&&c.elements.filter(d=>lw(d)).length>0);return new Set(b.map(c=>a.indexOf(c)+1))}aym(){const a=If(this.document);this.document.pages.forEach(b=>{if(uqs(b,this.gb)){const c=a.tb(b);b.elements.forEach(d=>{var e,f;return lw(d)&&((e=(f=this.Ep).gwa)===null||e===void 0?void 0:e.call(f,[d],c))})}});this.Vsc.$xm("edit_panel")}MCn(a){const b=this.Cg,c=[...this.document.pages].filter((e,
f)=>a.has(f+1)),d=If(this.document);this.document.pages.forEach(e=>{if(!e.draft&&uqs(e,this.gb))if(c.includes(e)){var f,g;if(!e.elements.first(l=>lw(l))&&(f=(g=this.oc).Ipe)!==null&&f!==void 0&&f.call(g,e)){var h=e.elements.first(l=>lw(l)),k=If(this.document).tb(e);h&&this.selection.Kl(k,h);setTimeout(jV(()=>{this.viewport.ya===e&&(this.store.wFe=void 0)}))}}else e===this.viewport.ya&&(this.selection.deselectAll(),this.store.wFe=e,this.selection.oOb(this.viewport.ya)),f=d.tb(e),g=e.elements.filter(l=>
lw(l)),(h=(k=this.Ep).gwa)===null||h===void 0||h.call(k,g,f)});__c.cke(this.dDd,"page_numbers_properties_applied_to_all_pages",{Xh:"page_numbers_shown",ula:sGs(b),ybc:sGs(this.Cg),location:"edit_panel"})}F$l(){var a;const b=(a=this.selection.La)===null||a===void 0?void 0:a.Bg;b&&lw(b)&&(a=__c.mke(this.Vsc,b,this.selection.La.container.page))&&this.Vsc.rOl(a,{location:"edit_panel",ybc:__c.eke(a)})}Mtn(a){this.store.Vae&&(this.toolbar.vB(this.store.Vae),this.dDd.YMd(a))}QV(){this.store.wFe=void 0}get Dhm(){const a=
this.selection.La;return a!==null&&a!==void 0&&a.Ji()?!(a===null||a===void 0||!a.Bg)&&lw(a.Bg):!1}constructor(a,b,c,d,e,f,g,h,k,l){this.store=a;this.document=b;this.viewport=c;this.selection=d;this.gb=e;this.Ep=f;this.oc=g;this.Vsc=h;this.dDd=k;this.toolbar=l;this.nIn=(E_s.G(this),()=>{this.store.Vae&&this.toolbar.vB(this.store.Vae)})}};var F_s=class{static G(a){O(a,{wFe:CV.ref,Vae:CV.ref,ws:pV})}get ws(){return this.ka.layout===2}constructor(a){this.ka=a;this.wFe=(F_s.G(this),void 0)}};var G_s={eventType:"editor_outline_panel_toggled",Oa(a){return vf({action:a.action,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},H_s={eventType:"editor_outline_navigation_interacted",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var I_s=class{open(){this.V.track(G_s,{action:"opened"})}close(){this.V.track(G_s,{action:"closed"})}constructor(a){this.V=a}};var J_s=JV(a=>gV(a.R0a,{icon:__c.lAj,active:a.active,onClick:a.onClick,jk:!0,className:"_9VOALA",children:L("Ex0Ltw")})),K_s=JV(a=>gV(a.nE,{onClick:a.onClick,LX:__c.lAj,children:L("saxtEw")}));var L_s=[{src:__webpack_require__.p+"images/4f0fade581fa0df5092428513149dd75.png",Iq:1},{src:__webpack_require__.p+"images/2b94f461e58f5fc5a2225e718bde79ec.png",Iq:2},{src:__webpack_require__.p+"images/2864846bc0151d3608cc8219e63ffcf0.png",Iq:3}],M_s=iV(a=>{const b=mV(null),c=a.node,d=a.J1g,e=kV(()=>d(c),[c,d]);lV(()=>{if(c.selected){var f,g;const h=a.layout===2?"start":"center";(g=b.current)===null||g===void 0||(f=g.scrollIntoView)===null||f===void 0||f.call(g,{behavior:"smooth",block:h})}},[c.selected,
a.layout]);return gV(au,{onClick:e,active:c.selected,children:gV("div",{ref:b,className:GV("GbUzEA",tGs(c.level),{Xu0QtA:c.selected}),children:gV(__c.qr,{tone:lr,children:c.title})})})}),N_s=iV(a=>{const b=a.node,c=a.layout;return b.children.length>0?nV(bMs,{children:[gV(M_s,{...a}),b.children.map(d=>gV(N_s,{node:d,J1g:a.J1g,layout:c},d.key))]}):gV(M_s,{...a})}),O_s=a=>gV(S,{height:"full",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:"JXDRdg",children:gV(a.layout===
2?fo:bMs,{children:nV(S,{display:"flex",alignItems:"center",justifyContent:a.layout===2?"start":"center",flexDirection:"column",padding:"2u",minHeight:"minTouchableArea",children:[gV(S,{paddingBottom:"4u",className:"uAIpuQ",children:gV(__c.Uc,{alt:"",sources:L_s,className:"aibHcw"})}),nV(S,{paddingBottom:"2u",children:[gV(P,{size:"large",weight:"bold",alignment:"center",children:L("GUi1aA")}),gV(P,{alignment:"center",children:L("ma9AgA")})]}),a.rLs&&a.rBn&&gV(fj,{variant:"primary",onClick:a.rBn,children:L("0hiCVA")})]})})}),
P_s=a=>{const b=a.nodes.length===0,c=b?gV(O_s,{...a}):gV(S,{height:"full",padding:"2u",paddingTop:"0",className:"XkLBwQ",children:nV(fo,{children:[gV(Zo,{role:"navigation",variant:"rounded",children:a.nodes.map(d=>gV(N_s,{node:d,J1g:a.J1g,layout:a.layout},d.key))}),gV(S,{minHeight:"minTouchableArea"})]})});return gV(__c.sqh,{duration:350,qXj:0,hca:"fill-height",keyFrame:b?0:1,direction:b?"back":"forward",children:c})};var Q_s=$c*5,T_s=class{static G(a){O(a,{DCo:jV.bound,Aue:jV.bound,ccl:jV.bound,focusNode:jV.bound,qAj:jV,nOl:jV})}Fyj(){this.zZh();this.LBm=hV(()=>this.viewport.scrollTop,this.tUr);this.Gpf=hV(()=>({blocks:this.xKa.blocks,led:this.xKa.led}),({blocks:a,led:b})=>this.qAj(a,b),{equals:oV.structural})}zZh(){var a,b;(a=this.LBm)===null||a===void 0||a.call(this);(b=this.Gpf)===null||b===void 0||b.call(this)}DCo(){if(this.store.f8d)this.Aue();else{var a,b;this.pn.open(this.QBh,{H9:"start"});this.APn.open();
(a=(b=this.Hb.zoa).qrn)===null||a===void 0||a.call(b);this.ccl()}}Aue(){this.pn.close(this.QBh);this.APn.close()}ccl(){this.qAj(this.xKa.blocks,this.xKa.led);this.nOl(this.viewport.scrollTop)}focusNode(a){const b=a.Oc;if(b){var c=Rw.collapseToStart(a.range);a=R_s(this.gd,a);var d=()=>this.Xa.Qu(b,c),e=this.viewport.scrollingContainer;if(e){var f=e.scrollHeight,g=e.scrollTop;e=e.clientHeight;Math.abs(Math.ceil(g)-Math.ceil(a))<2||g<a&&g+e>=f?d():this.viewport.voa(a,__c.cn()?"auto":"smooth").then(d)}else d()}}qAj(a,
b){if(this.store.f8d){uGs(this);var {tree:c,mbo:d}=zGs(a,b);this.store.nodes=c;this.store.Aui=d}}nOl(a=0){if(this.store.f8d){uGs(this);a+=Q_s;var b=S_s(this.store.nodes,a,this.gd,!1);b&&(a=S_s([b],a,this.gd,!0))&&(a.selected=!0,this.store.$Yg=a)}}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.pn=b;this.Xa=c;this.xKa=d;this.gd=e;this.viewport=f;this.APn=g;this.QBh=h;this.Hb=k;this.LBm=(T_s.G(this),void 0);this.tUr=Gb(l=>this.nOl(l),250);hV(()=>this.store.f8d,l=>l?this.Fyj():this.zZh(),{equals:oV.structural})}},
S_s=(a,b,c,d)=>{let e;for(const f of a)if((a=R_s(c,f)<=b)&&d)e=S_s(f.children,b,c,d)||f;else if(a)e=f;else break;return e},R_s=(a,b)=>{var c,d;return b.Oc?Math.floor((d=(c=a.SEa(b.Oc,b.range))===null||c===void 0?void 0:c.tl.y)!==null&&d!==void 0?d:1):1};var wGs=class{static G(a){O(a,{selected:CV.ref,title:pV})}get title(){var a,b;return(b=(a=this.block)===null||a===void 0?void 0:a.tuc.get().trim())!==null&&b!==void 0?b:""}get Oc(){var a;return(a=this.block)===null||a===void 0?void 0:a.Oc}get range(){var a,b;return(b=(a=this.block)===null||a===void 0?void 0:a.range)!==null&&b!==void 0?b:Rw.start()}constructor(a,b,c){this.key=a;this.level=b;this.block=c;this.parent=(wGs.G(this),void 0);this.children=[];this.selected=!1}},xGs=Math.round(__c.wSb({fontSize:15*
eu,fontWeight:"normal"})),U_s=class{static G(a){O(a,{$Yg:CV.ref,Aui:CV.ref,nodes:CV.shallow,Uxn:pV,plh:pV})}get f8d(){return this.layout===2?this.Uxn:this.plh}get Uxn(){return this.Jg.stack.length>0}get plh(){return this.pn.isOpen(this.QBh)}constructor(a,b,c,d){this.layout=a;this.Jg=b;this.pn=c;this.QBh=d;this.$Yg=(U_s.G(this),void 0);this.nodes=[]}};var V_s=a=>{const {hl:b,Lhb:c,...d}=a;return gV(b,{...d,Icon:__c.zv,label:J("v26itA",[c])})},W_s=a=>{const {hl:b,Lhb:c,...d}=a;return gV(b,{...d,Icon:__c.yv,label:J("8KUvdQ",[c])})},X_s=a=>{const b=a.Gh.page,c=a.disabled,d=a.onClick;a=a.xic;const e=kV(()=>{d(b)},[d,b]);return gV(a,{disabled:c,hb:b.draft?J("8KUvdQ",[1]):J("v26itA",[1]),icon:b.draft?__c.vph:__c.wph,onClick:e})},Y_s=a=>{const b=a.Gh,c=a.disabled,d=a.onClick;a=a.Button;const e=kV(()=>{d(b)},[d,b]),f=b.ha;return gV(a,{disabled:c,hb:f.draft?
J("PXv+rw",[1]):J("gmBRhA",[1]),icon:f.draft?__c.vph:__c.wph,onClick:e})},Z_s=a=>{const b=a.onClick,c=a.vo;return gV(a.hl,{disabled:a.disabled,label:c?J("PXv+rw",[1]):J("gmBRhA",[1]),Icon:c?__c.vph:__c.wph,onClick:b})},$_s=a=>{const b=a.xi,c=a.kpq,d=a.V7s,e=a.active;a=a.onClick;const f=e?__c.yv:__c.zv,g=e?J("a2RjPQ",[d]):J("+/GZ3Q",[c]);return gV(b,{onClick:a,icon:f,yh:"icon",disabled:c===0&&d===0,selected:e,tooltip:g,children:g})};var a0s=class{static G(a){O(a,{LSa:pV,j3m:pV,F4m:pV,O3m:pV,Gok:pV,vbo:pV,k3m:pV,gYd:pV,ENd:pV,kEn:jV.bound,lEn:jV.bound,hIn:jV.bound,LYk:jV.bound,mMn:jV.bound})}get LSa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}get j3m(){var a;return!((a=this.gYd)===null||a===void 0||!a.length)&&this.LSa}get F4m(){var a;return!((a=this.ENd)===null||a===void 0||!a.length)&&this.LSa}get O3m(){return this.document.pages.count()!==1}get Gok(){var a,b=this.selection.La;
b=b===null||b===void 0?void 0:(a=b.$z)===null||a===void 0?void 0:a.ha;return(b===null||b===void 0?void 0:b.type)!=="concatenated-fixed"?!1:b.pages.count()>1}get vbo(){var a;const b=this.selection.La,c=b===null||b===void 0?void 0:(a=b.$z)===null||a===void 0?void 0:a.ha;if((c===null||c===void 0?void 0:c.type)==="concatenated-fixed"&&(b===null||b===void 0?void 0:b.type)==="pages"&&b.hp)return b.container.tb(c).tb(b.hp)}get k3m(){var a,b,c;return!((a=this.OAb)===null||a===void 0||!a.isActive)&&this.LSa&&
(!((b=this.gYd)===null||b===void 0||!b.length)||!((c=this.ENd)===null||c===void 0||!c.length))}get gYd(){if(!(this.Ma.mode<40)){var a=this.selection.La;if(a&&a.type==="pages"){var b=a.pages;if(!this.document.pages.every(c=>c.draft||b.includes(c)))return b.some(c=>!c.draft)?b:void 0}}}get ENd(){if(!(this.Ma.mode<40)){var a=this.selection.La;if(a&&a.type==="pages")return a=a.pages,a.every(b=>b.draft)?a:void 0}}kEn(){const a=this.gYd;a&&this.o_h("contextual_menu",a)}lEn(){const a=this.ENd;a&&DGs(this,
"contextual_menu",a)}hIn(a){var b=a.draft?void 0:[a];a=a.draft?[a]:void 0;b?this.o_h("page_controls",b):a&&DGs(this,"page_controls",a)}LYk(a){a.ha.draft?EGs(this,[a]):FGs(this,[a])}mMn(){var a=this.gYd,b=this.ENd;a?this.o_h("toolbar",a):b&&DGs(this,"toolbar",b)}o_h(a,b){const c=this.P.sb("hide_pages",{Fb:{name:`editor.page_drafting.${a}_hide_pages`}});CGs(this,b,!0);this.LH("hide",a,c,b);c.ne()}LH(a,b,c,d){c.mb().nk(({Ii:e})=>{c.mb().addEvent("rendered");this.V.track(__c.Sjf,{action:a,kb:b,Rb:e(),
location:"",PTc:this.vU(d).map(String),Ey:0})});c.ne()}vU(a){let b=0;return this.document.pages.flatMap(c=>{c=a.includes(c)?[b]:[];b++;return c})}constructor(a,b,c,d,e,f,g){this.document=a;this.Ma=b;this.selection=c;this.oc=d;this.OAb=e;this.V=f;this.P=g;a0s.G(this)}};var b0s=class{constructor(a){this.N=a}};var c0s=class{static G(a){O(a,{hcd:CV.ref,MQf:CV.ref,Zhh:jV})}constructor(){this.hcd=(c0s.G(this),0);this.MQf=0;this.Zhh=(a,b)=>{this.hcd=a;this.MQf=b}}};var d0s,e0s,f0s,g0s=class extends LV{getSnapshotBeforeUpdate(){var a=this.Vna.current;a&&(a=a.getBoundingClientRect(),this.store.hcd=a.left,this.store.MQf=a.top);return null}componentDidUpdate(a){const b=this.props.hC;a=a.hC;const c=this.Vna.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.hcd-d.left,f=this.store.MQf-d.top;this.store.Zhh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>
{c.style.transform="";c.style.transition=""})})}else this.store.Zhh(d.x,d.y)}}render(){var a=this.props.dimensions;const b=a.width;a=a.height;const c=this.props.transition,d=this.props.Fh;return gV(pr,{disabled:this.props.isDragging,label:this.props.sK?L("XvT4OA"):J("ChI8GQ",[d]),placement:"top",children:gV("div",{style:{width:b,height:a,transition:c},className:"tKehZw",ref:this.Vna,children:gV(this.Button,{})})})}constructor(...a){super(...a);this.Vna=MV();this.store=new c0s;this.Button=()=>{const b=
this.props.sK,c=this.props.Fh,d=this.props.y9d,e=this.props.jFa,f=this.props.floating;return gV(sr,{className:GV("u2AKZQ","TkK1YA",{Umw1pw:Wb(),"g_Uopg usZ96Q":f,MJ1VvA:e}),icon:Pu,disabled:!b,onClick:d,ariaLabel:b?L("XvT4OA"):J("ChI8GQ",[c]),stretch:!0})}}},k0s;({c:[f0s,d0s]}=PV(g0s,[],[Ob],LV));d0s();
k0s=class extends LV{getSnapshotBeforeUpdate(){var a=this.Vna.current;a&&(a=a.getBoundingClientRect(),this.store.hcd=a.left,this.store.MQf=a.top);return null}componentDidUpdate(a){const b=this.props.hC;a=a.hC;const c=this.Vna.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.hcd-d.left,f=this.store.MQf-d.top;this.store.Zhh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>{c.style.transform=
"";c.style.transition=""})})}else this.store.Zhh(d.x,d.y)}}render(){const a=this.props.sK,b=this.props.Fh,c=this.props.y9d,d=this.props.jFa,e=this.props.floating,f=this.props.isDragging,g=this.props.pLa,h=this.props.dimensions;return gV("div",{style:{transition:this.props.transition},className:"tKehZw",ref:this.Vna,children:g?gV(i0s,{dimensions:h,sK:a,Fh:b,jFa:d,floating:e,isDragging:f,y9d:c,pLa:g}):gV("div",{style:{width:h.width,height:h.height},children:gV(j0s,{sK:a,Fh:b,jFa:d,floating:e,isDragging:f,
kin:!0,y9d:c})})})}constructor(...a){super(...a);this.Vna=MV();this.store=new c0s}};({c:[__c.h0s,e0s]}=PV(k0s,[],[Ob],LV));e0s();
var j0s=({sK:a,Fh:b,jFa:c,floating:d,isDragging:e,kin:f,y9d:g})=>gV(sr,{className:GV("u2AKZQ","TkK1YA",{_9wtJ_Q:!f,Umw1pw:Wb(),"g_Uopg usZ96Q":d,MJ1VvA:c}),icon:Pu,disabled:!a,onClick:g,hb:a?L("XvT4OA"):J("ChI8GQ",[b]),hk:"top",hx:e,ariaLabel:a?L("XvT4OA"):J("ChI8GQ",[b]),stretch:!0}),i0s=({dimensions:{width:a,height:b},sK:c,Fh:d,jFa:e,floating:f,isDragging:g,y9d:h,pLa:k})=>{const [l,m]=tV(!1),p=kV(()=>m(!1),[]);return nV(__c.Hha,{children:[gV("div",{style:{width:Math.max(a-40,40),height:b},children:gV(j0s,
{sK:c,Fh:d,jFa:e,floating:f,isDragging:g,kin:!1,y9d:h})}),gV("div",{style:{width:40,height:b},children:gV(k,{reference:gV(sr,{className:GV("u2AKZQ","TkK1YA","_36DSqQ",{Umw1pw:Wb(),"g_Uopg usZ96Q":f,MJ1VvA:e,Ta0Vdg:l}),disabled:!c,onClick:q=>{m(!l);q.preventDefault();q.stopPropagation()},hb:c?L("VXpw8g"):J("ChI8GQ",[d]),hk:"top",hx:g,ariaLabel:c?L("VXpw8g"):J("ChI8GQ",[d]),active:l,stretch:!0,children:gV(__c.$t,{className:GV("lYCBUw",{PInLWQ:l})})}),open:l,onClose:p,location:"page_manager"})})]})};var l0s=class{d3i({Rb:a}){this.N.track(IQs,{Rb:a,location:"page_navigator"})}XMd(a,b,c,d){c.mb().addEvent("page_selected");c.mb().nk(({Ii:e})=>{this.N.track(__c.CGd,{...d,location:"page_navigator",Rb:e(),Ey:0})});if(b){const e=__c.I1a(this.p0,f=>{a===f&&(c.mb().addEvent("rendered"),c.ne(),e())})}else setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{c.mb().addEvent("rendered");c.end()})})})}TIl(){this.N.track(__c.pZg,{location:"page_navigator"})}constructor(a,b){this.N=a;this.p0=
b;this.jEo=({Rb:c,KCm:d,jvi:e})=>{this.N.track(VQs,{Rb:c,...d,jvi:e})}}};var n0s=({items:a})=>gV("div",{className:"F9EiJA",children:a.map((b,c)=>gV(m0s,{item:b},c))}),m0s=({item:a})=>{const b=kV(()=>gV(a.na,{tq:!0}),[a]);return gV(tr,{variant:"secondary",icon:b,size:"large",onClick:a.onClick,disabled:a.disabled,children:a.label})};var o0s,p0s,q0s,r0s;
new (o0s=class extends NV{constructor(){super(r0s);p0s()}},(()=>{class a extends(q0s=LV){static G(b){O(b,{hb:CV.ref,xXa:CV.ref,Hud:CV.ref,onFocus:jV.bound,onClick:jV.bound,BOc:jV.bound,onMouseLeave:jV.bound,wq:jV.bound,UGn:jV.bound,rAb:jV.bound})}get tq(){const b=this.props.tq;return b!=null?b:this.Hud}componentDidMount(){Kb(this,[hV(()=>this.xXa,b=>{b=b&&this.nMc.get(b);b===null||b===void 0||b.focus()}),hV(()=>this.props.tq,b=>{b||(this.Hud=!1)}),hV(()=>this.Hud,b=>{var c,d;return(c=(d=this.props).q_k)===
null||c===void 0?void 0:c.call(d,{tq:b,immediate:!0})})])}kK(b){this.hb=b;this.FN.open=!0}sQ(){this.FN.open=!1}onFocus(){const b=this.props.items;this.props.mi||(this.Hud=!0,this.xXa=b[0])}onMouseDown(b){b.preventDefault()}onClick(b){b.stopPropagation();b=this.props.items;const c=this.props.mi,d=this.props.$Hn,e=this.props.IQj;if(this.props.Tno&&e!=null)return b[e].onClick();if(c){if(b.length===1)return b[0].onClick();d(()=>this.props.label,()=>gV(n0s,{items:this.props.items}))}else this.Hud=!0,this.xXa=
b[0]}BOc(){const b=this.props.q_k;this.tq&&(b===null||b===void 0||b({tq:!1,immediate:!0}));this.Hud=!1;this.xXa=void 0;this.sQ()}onMouseLeave(){this.sQ()}wq(b){var c;b.disabled||(b.onClick(),this.Hud=!1,this.xXa=void 0,(c=this.I3i.current)===null||c===void 0||c.focus(),this.sQ())}UGn(b){this.Hud=!0;this.kK(b.label)}rAb(b){this.kK(b.label)}render(){const {IQj:b=0,items:c,label:d,mi:e,hidden:f=!1}=this.props;na(b>=0&&b<=c.length);const g=c[b];if(!g)return null;const h=!e,k=this.tq?c.length:Math.min(1,
c.length),l=!h||c.length>1;return gV(__c.Pph,{T9g:["onFocus","onMouseDown","onTouchStart"],ztg:["focusin","mousedown","touchstart"],BOc:this.BOc,children:nV("div",{tabIndex:-1,className:f?"QxRpbg":void 0,children:[l&&gV("div",{className:GV("_5VbDXg HiQ94A",{YaEJQQ:this.tq}),onMouseEnter:Wb()?this.t5r:void 0,children:gV("button",{ref:this.I3i,"aria-label":d,"aria-haspopup":h,tabIndex:this.tq?-1:void 0,className:GV("NB__NQ",{QxRpbg:this.tq}),onMouseDown:this.onMouseDown,onFocus:this.onFocus,onClick:this.onClick,
children:gV(g.na,{tq:!1})})}),h&&gV(__c.Xyc,{label:this.hb,placement:"top",state:this.FN,xhf:!1,children:gV("div",{role:"menu","aria-expanded":this.tq,className:GV("HiQ94A",{YaEJQQ:l&&!this.tq}),onMouseLeave:this.onMouseLeave,style:{borderRadius:`${k*50}% / 50%`},children:c.map((m,p)=>gV(s0s,{ref:this.$Ts,item:m,hidden:l&&!this.tq,xki:this.tq,onClick:this.wq,onFocus:this.UGn,It:this.rAb,U5i:this.props.U5i},p))})})]})})}constructor(...b){super(...b);this.FN=(r0s.G(this),new __c.BC);this.hb="";this.I3i=
MV();this.nMc=new Map;this.Hud=!1;this.$Ts=c=>{c&&this.nMc.set(c.item,c.element)};this.t5r=()=>{var c,d;(c=(d=this.props).q_k)===null||c===void 0||c.call(d,{tq:!1,immediate:!1})}}}({c:[r0s,p0s]}=PV(a,[],[Ob],q0s))})(),o0s);
var s0s=iV(gRs(({item:a,hidden:b,xki:c,onClick:d,onFocus:e,It:f,U5i:g},h)=>{const k=mV(null);kRs(h,()=>({item:a,element:n(k.current)}),[a,k]);h=kV(p=>{p.stopPropagation();d(a)},[a,d]);const l=kV(()=>e(a),[a,e]),m=kV(()=>f(a),[a,f]);return gV("div",{className:GV(g?"v5n5LQ":"JYppLg",{QxRpbg:b}),children:gV("button",{ref:k,role:"menuitem",className:GV("NB__NQ",{_zjbeQ:a.disabled}),"aria-label":a.label,onClick:h,onMouseOver:m,onFocus:l,children:gV(a.na,{tq:c})})})}));var t0s=({oN:a,config:{Vre:b},Df:c,$P:d,Ia:e})=>{const f=c.alb,g=m=>{m.stopPropagation()},h=()=>d.clear();c=iV(()=>gV("div",{onClick:g,children:gV(f,{navigation:d,open:!!d.screen,oa:h})}));const k=(m,p)=>{d.dh({ff:()=>gV(p,{}),options:{sg:m}})},l=iV(({page:m,wL:p,dXk:q})=>{if(e.pages.last()===m||a.sOa)return null;var r=[b.$xh,b.Qag].filter(tb);const t=b.Qag||b.$xh;var u=(t===null||t===void 0?void 0:t.isActive(m))||!1;const w=(t===null||t===void 0?void 0:t.isDisabled(m))||!1,x=t&&r.indexOf(t);r=r.map(z=>
({get label(){return z.getLabel(m)},get disabled(){return z.isDisabled(m)||!a.jN},onClick:()=>z.onClick(m),na:({tq:A})=>gV(z.na,{page:m,tq:A,Ikr:z===t})}));const y=!u&&!p&&!Vb();u=!a.jN&&!u;return gV(r0s,{hidden:y||u,Tno:!w&&t===b.Qag&&m.transition.ref!==void 0,mi:a.mi,label:L("v4jmbQ"),$Hn:k,items:r,IQj:x,tq:p,q_k:q})});return{cfa:c,rI:l}};var u0s=iV(({pages:a,label:b,LWe:c,language:d,NBa:e,disabled:f,description:g})=>{const [h,k]=tV(!1),l=__c.$_b({disabled:f}),m=mV(null),p=mV(null),q=kV(z=>{a.forEach(A=>e(A,z))},[e,a]),r=kV(()=>{var z;(z=p.current)===null||z===void 0||z.wec();k(!0)},[]),t=kV(()=>{k(!1);setTimeout(()=>{var z;return(z=m.current)===null||z===void 0?void 0:z.focus()})},[]),u=kV(()=>{var z,A;(z=p.current)===null||z===void 0||z.focus();(A=p.current)===null||A===void 0||A.wec()},[]),w=[["Enter",kV(z=>{z.preventDefault();
u()},[u])]];var x=a.map(z=>z.title||"");x=[...(new Set(x))];const y=x.length>1?"":x[0];return gV(__c.Fp,{map:w,rr:!0,children:({ref:z})=>gV("div",{className:GV("xLOtiw"),children:gV(__c.kd,{title:nV("li",{ref:(0,rRs["default"])(m,l,z),tabIndex:0,className:GV("CVtD_Q",{xR5BiA:f}),children:[gV("span",{className:GV("_6EevIg",{yUfh5w:f}),children:gV(__c.dxh,{ref:p,label:b,value:y,defaultValue:c,oH:d,xxa:q,onFocus:r,onBlur:t,disabled:f,tabIndex:-1,className:"hzzX3w",nM:GV("hl_3wg _5Gynyg",{KFP_SQ:f})})}),
!f&&gV("div",{className:GV("_DbJ8A",{lfizNA:h}),children:gV(fj,{variant:"tertiary",tabIndex:-1,ariaLabel:b,onClick:u,size:"small",icon:ku})})]}),description:g,padding:"1.5u",qv:!1})})})});var v0s=({document:a,N:b,P:c,L:d,store:e,ih:f,gb:g,UE:h})=>{const k=(p,q)=>{p.stopPropagation();e.mc(q)&&e.LSa||(p=c.sb("create_contextual_menu.on_context_menu",{Fb:{name:"editor.page.navigate",type:"create_contextual_menu"}}),e.Cra(q),b.XMd(q,e.ya!==q,p,{Xb:e.Xb(q),ZJ:e.ZJ,Vzd:e.P5d(q),kb:"click"}))},l=jV((p,q)=>{p.preventDefault();k(p,q);f.DMb(new Bj(p.clientX||0,p.clientY||0),"page_navigator","right_click","bottom-start")}),m=iV(({page:p})=>{const q=kV(r=>k(r,p),[p]);return f.cic?gV(f.cic,{Ch:q,
visibility:"always",ariaLabel:L("zEseqg")}):null});f.kc(()=>({jN:e.jN,LSa:e.LSa}),(p,{jN:q,LSa:r})=>{p.nhj=!e.mi&&q&&r?{Button:iV(()=>{var t=e.Cg,u=J("WIOFPA",[e.ZJ]),w=J("2nAH+A",[e.ZJ]),x=a.language,y=d.NBa,z=!e.jN;if(e.Cg.length===1){var A=e.Cg[0];if(h){var B=g.RR(A);A=A.type==="responsive"?__c.zs:rk(A,a.dimensions);B=PGs(B==="inline"?L("DGuhpg"):B===null||B===void 0?void 0:B.name,A)}else B=void 0}else B=void 0;return gV(u0s,{pages:t,label:u,LWe:w,language:x,NBa:y,disabled:z,description:B})})}:
void 0});return{onContextMenu:l,G3b:m}};var SGs=a=>{const b=a.className;a=a.onClick;const c=L("FsEKBw");return gV("div",{role:"none",onClick:a,children:gV(pr,{label:c,placement:"top",children:gV(Wu,{tone:"contrast",shape:"circle",className:b,icon:gV(__c.iAf,{size:"tiny"}),ariaLabel:c})})})},w0s=({EUl:a})=>a?gV(__c.yMr,{size:"tiny"}):gV(__c.iI,{size:"tiny"}),QGs=a=>{const b=a.className;var c=a.XPk;const d=a.dJe;a=a.onClick;c=d?L("wvn6JA"):J("UrRvRw",[c]);return gV("div",{role:"none",onClick:a,children:gV(pr,{label:c,placement:"top",children:gV(Wu,
{tone:"contrast",shape:"circle",className:b,icon:gV(w0s,{EUl:d}),ariaLabel:c})})})},RGs=a=>gV("div",{className:a.className,role:"none",onClick:a.onClick,children:gV(__c.pdh,{Gg:a.Gg,WIk:3,size:"xxsmall",Avg:!1,hk:"top",mWh:!0,BS:a.BS})});var x0s,y0s,z0s,A0s=parseInt("40px",10)||38,B0s=parseInt("54px",10)||38,C0s=parseInt("116px",10)||38,D0s=parseInt("50px",10)||50,E0s=parseInt("4px",10)*2||16,F0s;
new (x0s=class extends NV{constructor(){super(F0s);y0s()}},(()=>{class a extends(z0s=LV){static G(b){O(b,{nac:pV,onContextMenu:jV.bound,onMouseEnter:jV,kK:jV.bound,onMouseLeave:jV,sQ:jV,hb:pV,$Ak:pV,L5m:pV,CWc:pV,vWc:pV})}get nac(){return this.props.Bw.Bab===this.props.page.page||!1}componentDidMount(){Kb(this,hV(()=>this.nac,b=>b&&this.sQ()))}kK(){this.FN.open=!0;this.eia.set(!0);this.bxl=void 0}get hb(){var b=this.props.page.page;const c=this.props.zd,d=this.props.zy;return this.L5m?(b=EKe(d,b),
Ao(b,"short")):b.title?J("KJG2Uw",[c,b.title]):J("l4WRPg",[c])}get $Ak(){const b=this.props.page.page,c=this.props.Bw.a9e;return!this.props.Fo&&!(Ic.yba||Ic.wzd)&&c===b}get L5m(){if(this.$Ak)return!0;const b=this.props.dimensions.width;return this.props.dimensions.height<=A0s?b<C0s:b<B0s}get CWc(){const b=this.props.page.page,c=this.props.cDd,d=this.props.CWc,e=this.props.Ma;if(d&&!(c.Nea<1)&&e.mode!==10)return()=>gV(d,{page:b,cDd:c,className:"_mMCTA"})}get vWc(){const b=this.props.Gg,c=this.props.vWc;
if(c)return()=>gV(c,{Gg:b,className:"Ez2eyw",onClick:this.onClick})}render(){const b=this.props.yn,c=this.props.oH,d=this.props.page,e=this.props.zd,f=this.props.dimensions,g=this.props.Bw,h=this.props.oN,k=this.props.gb,l=this.props.zy,m=this.props.xvl,p=this.props.visible,q=this.props.xSb,r=this.props.ezb,t=this.props.isDragging,u=this.props.G3b,w=this.props.Qqp,x=this.props.Rqp;var y=this.props.dimensions.width;const z=this.props.dimensions.height,A=HV(g,d.page)&&!g.VJ;y=y>=D0s;return nV(xV,{children:[this.eia.get()&&
gV(__c.Xyc,{state:this.FN,label:this.hb,lineClamp:1,placement:"top",arrow:!0,children:gV("div",{})}),gV("div",{style:{height:z+E0s},className:"TJVsng",onContextMenu:this.onContextMenu,onMouseEnter:this.lha?this.onMouseEnter:void 0,onMouseLeave:this.lha?this.onMouseLeave:void 0,onMouseDown:this.sQ,children:nV("div",{className:GV("pO8x8A",{k_v2zQ:h.gzd(d.page),_0a3n7A:h.a8c(d.page),_bzJOg:r,FmnYyQ:g.isLinear}),children:[nV("button",{onClick:this.onClick,className:GV("ta67Cg",{k_v2zQ:h.gzd(d.page),Zxq53g:g.isLinear,
xxfxlQ:wc.kU}),"aria-label":this.hb,children:[gV(w,{xSb:q,page:d,dimensions:f,uCb:p,yn:b,hvh:g.isLinear}),gV("div",{className:GV("mf3LMw","Q_iqdQ",m&&"_68Z_zQ")})]}),p&&y&&gV(x,{isDragging:!!t,nac:this.nac||this.$Ak,eia:this.eia.get(),ezb:r,f2k:A?"pageDuration":"pageNumber",GIp:q!=="none",YRp:r,vVa:g.isLinear,zd:e,oH:c,Gh:d,Bea:this.onClick,oN:h,gb:k,zy:l,CWc:this.CWc,vWc:this.vWc,G3b:u})]})})]})}constructor(...b){super(...b);this.FN=(F0s.G(this),new __c.BC);this.eia=CV.box(!1);this.onContextMenu=
c=>{const d=this.props.page.page,e=this.props.onContextMenu;e===null||e===void 0||e(c,d)};this.onClick=()=>{const c=this.props.onClick;return c(this.props.page.page)};this.lha=Wb();this.onMouseEnter=()=>{clearTimeout(this.bxl);this.bxl=setTimeout(this.kK,150)};this.onMouseLeave=()=>{clearTimeout(this.bxl);this.sQ();this.eia.set(!1)};this.sQ=()=>this.FN.open=!1}}({c:[F0s,y0s]}=PV(a,[],[Ob],z0s))})(),x0s);var FV=$c*8,G0s=parseInt("20px",10)*2||40;var I0s=class{static G(a){O(a,{e4:CV.ref,ehn:pV,bCk:pV,Alo:jV,QEf:pV.struct,Jhn:pV,KFl:pV,cCk:pV,dCk:pV,AAo:pV,aBk:pV})}get ehn(){const a=this.Bw.y$(this.page);return a.width<a.height}get bCk(){return this.ehn?this.u7e/100:1}Alo(a){this.e4=a}get QEf(){return{width:Math.floor(this.e4.width*this.bCk),height:Math.floor(this.e4.height*this.bCk)}}get Jhn(){const a=this.oN,b=this.Bw.Bab,c=this.page;return a.Hdn?!0:a.mi&&b!=null&&b!==c}get KFl(){const a=this.QEf,b=this.Bw.QTd(this.page);return this.aBk?
b%a.width-a.width:0}get cCk(){const a=this.Bw.Iwa(this.page);return[this.Bw.veb+a.offsetWidth,...Array(this.dCk.length).fill(this.QEf.width)]}get dCk(){const a=this.Bw;var b=this.KFl,c=this.QEf.width,d=this.uG;const e=this.page;b=(a.QTd(e,!0)-b)/c;b=b>1.07?Math.ceil(b):1;if(d.zE&&this.mce.length===b||a.qja&&this.mce.length>=b)return this.mce;d=a.Iwa(e).durationUs/1E6;const f=b===1?d:c/a.SBa;var g;const h=(g=this.mce[0])!==null&&g!==void 0?g:0;c=this.aBk?Array.from({length:b-this.mce.length},(l,m)=>
h-f*(m+1)).reverse().concat(this.mce):Array.from({length:b},(l,m)=>f*(m+.5));var k;c[c.length-1]=Math.min(c[c.length-1],(k=a.snf)!==null&&k!==void 0?k:d);return this.mce=c.map(H0s)}get AAo(){return this.uG.VJ?"fill":"repeat"}get aBk(){const a=this.Bw,b=this.page;return a.qja==="start"&&a.Bab===b}constructor(a,b,c,d,e){this.oN=a;this.Bw=b;this.uG=c;this.page=d;this.u7e=e;this.e4=(I0s.G(this),{width:G0s,height:FV,scale:1});this.mce=[]}},H0s=a=>Math.floor(a*10)/10;var J0s=ub.od,K0s=parseInt("200ms",10)||0,VGs=iV(({zy:a,Nxa:b,Bw:c,uG:d,oN:e,QYq:f,NYq:g,page:h,mc:k})=>{var l;if(d.VJ)return null;var m=e.a8c(h);d=!(h===null||h===void 0||!h.draft);const {Fzl:p,A3h:q}=UGs(a,h),r=f(h);f=!(r===null||r===void 0||!r.draft);a=(g=g(h))&&UGs(a,g);b=((l=b.Xli)===null||l===void 0?0:l.get())&&e.Cg.length>0?e.Cg:void 0;e=c.Hqk?c.Hqk:void 0;e=[...(b?b:[]),e];l=r&&e&&!f?e.includes(r):!1;h=!m&&e?e===null||e===void 0?void 0:e.includes(h):!1;m=f?e.includes(g):!1;return nV(xV,{children:[gV(L0s,
{position:"end",width:q,isVisible:d?!1:h,mc:k,vVa:c.isLinear}),gV(L0s,{position:"start",width:f?(a===null||a===void 0?void 0:a.A3h)||0:p,isVisible:d?!1:m||l,mc:k,vVa:c.isLinear})]})}),L0s=JV(({position:a,width:b,isVisible:c,mc:d,vVa:e})=>{const f=mV(null);return gV(mRs["default"],{in:c,timeout:J0s?K0s:0,classNames:{enter:"_9mnZcg",enterActive:"_56SXBg",exit:"_9mnZcg"},nodeRef:f,unmountOnExit:!0,children:gV("div",{className:GV("zgx9yQ",{dlwChA:e,kOiXVQ:d&&a==="start",kkOmYQ:a==="end",Ia3Oog:d&&a===
"end"}),"aria-hidden":!0,children:gV("div",{className:GV("LDPjUw",{dlwChA:e,duh49g:a==="end",CQRHEA:d&&a==="start",_65_ZFQ:a==="end",DGU0aw:d&&a==="end"}),ref:f,style:{width:b+"%"}})})})});var M0s=parseInt("250ms",10)||0,O0s=iV(gRs(({isOpen:a,children:b},c)=>{const d=mV(null),e=mV(!1),[f]=tV(()=>({el:null,Hqm:!1})),[g]=tV(()=>{const l=document.createElement("div");l.classList.add("uSqASw");l.anchor=null;return l}),h=eRs(()=>({visible:a,OXd:a})),k=kV((l=!1)=>{const m=()=>{const p=d.current;if(p){var {left:q,top:r}=p.getBoundingClientRect();g.style.top=`${r}px`;g.style.left=`${q}px`}};l?m():e.current||(requestAnimationFrame(()=>{m();e.current=!1}),e.current=!0)},[g]);lRs(()=>uV(()=>{if(h.OXd!==
a){if(a){h.OXd=!0;var l=window.setTimeout(jV(()=>{h.visible=!0}))}else h.visible=!1,l=window.setTimeout(jV(()=>{h.OXd=!1}),M0s);return()=>{clearTimeout(l)}}}),[h,a]);lRs(()=>{if(h.OXd){var l=d.current;if(l)return document.body.appendChild(g),g.anchor=l,()=>{g.remove();g.anchor=null}}},[h.OXd,g]);lRs(()=>{if(a&&h.OXd){var l=d.current;if(l){var m=q=>{q.target&&(f.el!==q.target&&(f.el=q.target,f.Hqm=f.el.contains(l)),f.Hqm&&k())},p=()=>k();window.addEventListener("scroll",m,!0);window.addEventListener("resize",
p,!0);k();return()=>{window.removeEventListener("scroll",m,!0);window.removeEventListener("resize",p,!0)}}}},[h.OXd,a,f,k]);kRs(c,()=>({rkb:k}));return h.OXd?gV("div",{ref:d,children:sRs(nV("div",{className:GV("HL00tw",{awHXiw:h.visible}),children:[gV(N0s,{children:b}),gV("div",{className:"_6imlDA",children:gV(__c.uha,{})})]}),g)}):null}));O0s.displayName="Tooltip";var N0s=iV(a=>{a=a.children.get();return gV("div",{className:"TUXi6A",children:gV(__c.tha,{label:a,lineClamp:1})})});
N0s.displayName="TooltipContent";var P0s,Q0s,R0s,S0s=a=>a==="ArrowRight"||a==="ArrowUp",T0s;
new (P0s=class extends NV{constructor(){super(T0s);Q0s()}},(()=>{class a extends(R0s=LV){static G(b){O(b,{overlay:CV.ref,componentWillUnmount:jV,onDragStart:jV.bound,onDragEnd:jV.bound,onDrag:jV.bound,onKeyDown:jV.bound,onKeyUp:jV.bound})}componentWillUnmount(){this.nha()}onDragStart(b){var c,d;this.Wgi=b.clientX;this.t4d=this.props.time;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}onDragEnd(b){var c,d;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b);this.nha()}onDrag(b){if(this.Wgi!=
null&&this.t4d!=null){const c=b.clientX-this.Wgi;this.KMj();this.props.onDrag(this.t4d,c,b)}}onKeyDown(b){var c,d,e=b.key;if(S0s(e)||e==="ArrowLeft"||e==="ArrowDown"){b.preventDefault();b.stopPropagation();if(this.nSg==null||this.t4d==null){var f,g;this.t4d=this.props.time;this.nSg=0;(f=(g=this.props).bMf)===null||f===void 0||f.call(g)}this.nSg+=(b.shiftKey?10:1)*(S0s(b.key)?1:-1);(c=(d=this.props).onKeyDown)===null||c===void 0||c.call(d,this.t4d,this.nSg)}}onKeyUp(b){var c,d,e=b.key;if(S0s(e)||e===
"ArrowLeft"||e==="ArrowDown")b.preventDefault(),b.stopPropagation(),(c=(d=this.props).onKeyUp)===null||c===void 0||c.call(d),this.nha()}KMj(){if(!this.overlay){oa(this.zDi==null);var b=document.createElement("div");b.className="Z0qCkg";b.onclick=this.stopPropagation;document.body.appendChild(b);this.zDi=hV(()=>this.props.cursor,c=>{c&&(b.style.cursor=c)},{fireImmediately:!0});this.overlay=b}}nha(){this.zDi&&(this.zDi(),this.zDi=void 0);this.overlay&&(document.body.removeChild(this.overlay),this.overlay=
void 0);this.Wgi=this.nSg=void 0}get label(){const b=this.props.bma;switch(b.type){case "touch":case "pointer":return b.o3a==="start"?L("UVWWzw"):L("T8SbVw");case "fullWidth":return L("QkbWIw");default:throw new v(b);}}get style(){const b=this.props.bma,c=this.props.cursor,d=this.props.fqc;switch(b.type){case "touch":return{cursor:c,paddingLeft:b.o3a==="start"?b.hAf:void 0,paddingRight:b.o3a==="end"?b.hAf:void 0};case "pointer":const e=b.FRa==="inside"&&b.hAf||void 0,f=b.FRa==="inside"&&b.L6i||0;
return{cursor:c,marginLeft:b.o3a==="start"?e:void 0,marginRight:b.o3a==="end"?e:void 0,top:f?f:void 0,height:`calc(100% - ${f*2}px)`,width:b.FRa==="inside"?d:void 0};case "fullWidth":return{cursor:c};default:throw new v(b);}}get classNames(){const b=this.props.bma,c=this.props.fqc;switch(b.type){case "touch":return{LWH67A:b.o3a==="start",el4EEg:b.o3a==="end",i_lWBA:b.isVisible};case "pointer":return{LWH67A:b.o3a==="start",el4EEg:b.o3a==="end",VpCh7A:b.FRa==="outside",_2XPgIQ:b.FRa==="inside"&&c!=
null,_Hb7xw:b.qvh&&b.FRa==="inside"};case "fullWidth":return{VDu60Q:!0,JvDQ2g:!0};default:throw new v(b);}}get u0s(){const b=this.props.bma;switch(b.type){case "touch":return b.isVisible?gV("div",{className:"yf4DQA"}):null;case "pointer":const c={LWH67A:b.o3a==="start",el4EEg:b.o3a==="end"},d={borderTopLeftRadius:b.o3a==="start"?b.borderRadius:void 0,borderBottomLeftRadius:b.o3a==="start"?b.borderRadius:void 0,borderTopRightRadius:b.o3a==="end"?b.borderRadius:void 0,borderBottomRightRadius:b.o3a===
"end"?b.borderRadius:void 0};return gV("div",{"aria-hidden":!b.isVisible,className:GV("_9hMGtQ",b.FRa==="outside"?{...c,vt__Jw:!0}:{...c,I18UiQ:!b.isVisible,cMDicQ:b.Xzg,LWH67A:b.o3a==="start",el4EEg:b.o3a==="end"}),style:d});case "fullWidth":return null;default:throw new v(b);}}render(){var b,c=this.props.time;const d=this.props.bma;c={onPointerEnter:this.props.Nqb,onPointerLeave:this.props.Oqb,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":c,"aria-valuetext":J("UrWtuQ",
[Math.round(c/1E6*10)/10])};const e=gV("div",{role:"slider",tabIndex:0,"aria-label":this.label,className:GV("sAs_qg",this.classNames),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onKeyDownCapture:this.onKeyDown,onKeyUpCapture:this.onKeyUp,style:this.style,...c,"data-role":"trim-thumb",children:this.u0s});return d.type==="fullWidth"&&(b=d.X8b)!==null&&b!==void 0&&b.show?gV(__c.ad,{open:!0,level:1,reference:e,placement:"top-center",children:gV("div",{"aria-label":L("QkbWIw"),onMouseDown:this.onMouseDown,
onTouchStart:this.onTouchStart,className:GV("HkOD8A",{Q_WLHg:d.X8b.appearance==="light",a0VUCg:d.X8b.appearance==="dark"}),style:this.style,...c,children:gV(__c.zYp,{size:"medium"})})}):e}constructor(...b){super(...b);this.Wgi=(T0s.G(this),void 0);this.draggable=new cr({w3a:this.props.w3a?{enabled:this.props.w3a}:void 0,onDragStart:this.onDragStart,pe:this.onDrag,onDragEnd:this.onDragEnd});this.onMouseDown=c=>{this.yun(c);this.draggable.onMouseDown(c)};this.onTouchStart=c=>{this.yun(c);this.draggable.onTouchStart(c)};
this.stopPropagation=c=>c.stopPropagation();this.yun=c=>{this.props.captureEvents&&c.stopPropagation()}}}({c:[T0s,Q0s]}=PV(a,[],[Ob],R0s))})(),P0s);var U0s,V0s,W0s,X0s;
new (U0s=class extends NV{constructor(){super(X0s);V0s()}},(()=>{class a extends(W0s=LV){static G(b){O(b,{isDragging:CV.ref,onDrag:jV.bound,onDragEnd:jV.bound,onDragStart:jV.bound,bMf:jV.bound,onKeyDown:jV.bound,onKeyUp:jV.bound,position:pV,lGo:pV,Qvj:pV,Pvj:pV,SHb:pV,a2i:pV})}componentDidMount(){this.Jhd.current&&(this.L9e=this.Jhd.current.rkb);Kb(this,[lus(()=>{if(this.isDragging){var b=Ao(this.lGo/1E6,"short");uV(()=>{this.currentTime.set(b);this.L9e()})}})])}componentWillUnmount(){uV(()=>this.isDragging=
!1)}L9e(){}onDrag(b,c,d){if(this.isDragging){var e=this.props.duration,f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.Qfb,l=this.props.zNd,m=this.props.bma;b=Math.floor(k(b,c,this.position));var p;e=(p=l===null||l===void 0?void 0:l.MCa(b,m.type==="fullWidth"?e:void 0))!==null&&p!==void 0?p:b;g=Math.max(g,Math.min(e,h));if(g!==f)this.props.onDrag(g,d)}}onDragEnd(b){var c,d,e;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b);(e=this.props.zNd)===null||e===void 0||e.onDragEnd();
this.isDragging=!1}onDragStart(b){var c,d;this.isDragging=!0;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}bMf(){var b,c;this.isDragging=!0;(b=(c=this.props).bMf)===null||b===void 0||b.call(c)}onKeyDown(b,c){var d,e;if(this.isDragging){var f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.Qfb;b=Math.floor(k(b,c,this.position));g=Math.max(g,Math.min(b,h));g===f||(d=(e=this.props).onKeyDown)!==null&&d!==void 0&&d.call(e,g)}}onKeyUp(){var b,c;(b=(c=this.props).onKeyUp)===
null||b===void 0||b.call(c);this.isDragging=!1}get position(){const b=this.props.bma;return b.type!=="fullWidth"?b.o3a:void 0}get lGo(){const b=this.props.time,c=this.props.duration;switch(this.position){case "start":return n(c);case "end":return n(c);case void 0:return b;default:throw new v(this.position);}}get Qvj(){return this.props.time<=this.props.min}get Pvj(){return this.props.time>=this.props.max}get SHb(){return this.props.bma.type==="fullWidth"?this.isDragging?"grabbing":"pointer":this.Qvj?
"e-resize":this.Pvj?"w-resize":"ew-resize"}get a2i(){const b=this.props.hb;return b?CV.box(b):this.currentTime}render(){var b;const c=this.props.bma;return this.Qvj&&this.Pvj&&c.type!=="fullWidth"&&!c.isVisible?null:nV(xV,{children:[gV(T0s,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,bMf:this.bMf,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,w3a:this.position?void 0:"touch-only",time:this.props.time,min:this.props.min,max:this.props.max,cursor:this.SHb,bma:c,Nqb:this.props.Nqb,
Oqb:this.props.Oqb,captureEvents:this.props.captureEvents,fqc:this.props.fqc}),gV("div",{className:c.type==="fullWidth"&&((b=c.X8b)===null||b===void 0?0:b.show)?"yOdD4w":"QmeGkA",style:{left:this.position==="start"?0:void 0,right:this.position==="end"?0:void 0},children:gV(O0s,{isOpen:this.isDragging,ref:this.Jhd,children:this.a2i})})]})}constructor(...b){super(...b);this.currentTime=(X0s.G(this),CV.box(""));this.Jhd=MV();this.isDragging=!1}}({c:[X0s,V0s]}=PV(a,[],[Ob],W0s))})(),U0s);
var fKs=a=>a.classList.contains("sAs_qg")&&!a.classList.contains("VDu60Q");var Y0s,Z0s,$0s,a1s;
new (Y0s=class extends NV{constructor(){super(a1s);Z0s()}},(()=>{class a extends($0s=LV){static G(b){O(b,{endUs:pV,lbk:pV,kGo:pV})}get endUs(){return Math.max(0,this.props.rZb+this.props.durationUs)}sNj(b){return{onDragStart:c=>{var d,e;return(d=(e=this.props).Aia)===null||d===void 0?void 0:d.call(e,{type:b,kb:"drag",nativeEvent:c})},onDragEnd:c=>{var d,e;return(d=(e=this.props).Qna)===null||d===void 0?void 0:d.call(e,{type:b,kb:"drag",nativeEvent:c})},bMf:()=>{var c,d;return(c=(d=this.props).Aia)===
null||c===void 0?void 0:c.call(d,{type:b,kb:"shortcut"})},onKeyUp:()=>{var c,d;return(c=(d=this.props).Qna)===null||c===void 0?void 0:c.call(d,{type:b,kb:"shortcut"})}}}get lbk(){const b=this.props.bma,c=this.props.disabled;return b.type==="pointer"&&b.FRa==="outside"&&(!b.isVisible||c)}get kGo(){if(this.props.disabled)return null;const b=this.props.qXg,c=this.props.i8d,d=this.props.XNa,e=this.props.OVg,f=this.props.gxa,g=this.props.rZb,h=this.props.durationUs,k=this.props.qab,l=this.props.bma,m=
this.props.X8b,p=this.props.Nqb,q=this.props.Oqb,r={Qfb:this.props.Qfb,zNd:this.props.zNd,captureEvents:this.props.captureEvents,hb:this.props.hb,fqc:this.props.fqc},t=l.type==="pointer"?{FRa:this.lbk?"inside":l.FRa}:{};return nV(xV,{children:[e&&k?gV(X0s,{...r,...this.eSq,time:g,min:b!==null&&b!==void 0?b:0,max:e,bma:{type:"fullWidth",X8b:m},duration:h}):null,gV(X0s,{...r,...this.hTs,time:g,min:d,max:this.endUs-c,duration:h,bma:{...l,...t,o3a:"start"},Nqb:p,Oqb:q}),gV(X0s,{...r,...this.aFq,time:this.endUs,
min:g+c,max:f,duration:h,bma:{...l,...t,o3a:"end"},Nqb:p,Oqb:q})]})}render(){const b=this.props.children,c=this.props.bma,d=this.props.disabled;return nV("div",{className:GV("HxvUnQ i1mS2A",{g_Wv1w:c.type==="pointer"&&c.FRa==="outside"&&!this.lbk,Hmp0bg:c.type==="touch"&&c.isVisible&&!d}),children:[gV("div",{className:"x3tMUw i1mS2A",children:b}),this.kGo]})}constructor(...b){super(...b);this.hTs=(a1s.G(this),{...this.sNj("start"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).RBa)===null||e===void 0||
e.call(f,c,{type:"start",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).RBa)===null||d===void 0||d.call(e,c,{type:"start",kb:"shortcut"})}});this.aFq={...this.sNj("end"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).SFa)===null||e===void 0||e.call(f,c,{type:"end",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).SFa)===null||d===void 0||d.call(e,c,{type:"end",kb:"shortcut"})}};this.eSq={...this.sNj("fullWidth"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).qab)===null||
e===void 0||e.call(f,c,{type:"fullWidth",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).qab)===null||d===void 0||d.call(e,c,{type:"fullWidth",kb:"shortcut"})}}}}({c:[a1s,Z0s]}=PV(a,[],[Ob],$0s))})(),Y0s);var b1s=a=>class extends LV{componentDidMount(){const b=this.aca.Nof;this.$jo();this.store.Ohb=this.props.Xo;addEventListener("touchstart",b,{passive:!1})}componentDidUpdate(){this.$jo()}componentWillUnmount(){removeEventListener("touchstart",this.aca.Nof)}render(){return gV(a,{...this.props,THj:this.store.caa,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,onScroll:this.onScroll,TSi:this.TSi})}constructor(...b){super(...b);this.store=new __c.t4g;this.aca=new __c.r4g(this.store,
this.props.sTe);this.$jo=()=>{const c=this.props.Fo;this.store.DVc({Dsn:c?400:void 0,$dd:c?60:void 0,EId:"x"})};this.onScroll=()=>{var c,d;this.props.wRp&&OEe(this.aca);(c=(d=this.props).onScroll)===null||c===void 0||c.call(d)};this.onDragStart=c=>{this.aca.VLc=!0;OEe(this.aca);__c.MEe(this.aca,{x:c.clientX,y:c.clientY});this.props.onDragStart&&this.props.onDragStart(c)};this.onDrag=c=>{const d={x:c.clientX,y:c.clientY};this.props.wRp&&OEe(this.aca);__c.MEe(this.aca,d);this.props.onDrag&&this.props.onDrag(c)};
this.onDragEnd=()=>{this.aca.VLc=!1;OEe(this.aca);this.props.onDragEnd&&this.props.onDragEnd()};this.TSi=c=>{c&&!this.aca.oec?this.aca.Cur():!c&&this.aca.oec&&(this.aca.oec=void 0)}}};var c1s=class extends hRs{componentWillUnmount(){var a;(a=this.E8n)===null||a===void 0||a.call(this)}render(){return gV(a1s,{rZb:this.props.rZb,durationUs:this.props.durationUs,qXg:this.props.qXg,i8d:this.props.i8d,jT:this.props.jT,XNa:this.props.XNa,OVg:this.props.OVg,gxa:this.props.gxa,Qfb:this.Qfb,zNd:this.props.zNd,RBa:this.RBa,SFa:this.SFa,qab:this.qab,Aia:this.Aia,Qna:this.Qna,captureEvents:this.props.captureEvents,disabled:this.props.disabled,bma:this.props.bma,X8b:this.props.X8b,hb:this.props.hb,
Nqb:this.props.Nqb,Oqb:this.props.Oqb,fqc:this.props.fqc,children:gV("div",{ref:this.props.THj,className:"JFv1rQ",children:this.props.children})})}constructor(...a){super(...a);this.Aia=b=>{const c=this.props.Aia,d=this.props.onDragStart,e=this.props.Xo;c(b);b.kb==="drag"&&d&&d(b.nativeEvent);this.E8n=hV(()=>e.scrollLeft,this.onScroll);this.yn=XGs(this,b.type)};this.RBa=(b,c)=>{const d=this.props.RBa,e=this.props.onDrag;d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.SFa=(b,c)=>{const d=this.props.SFa,
e=this.props.onDrag;d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.qab=(b,c)=>{const d=this.props.qab,e=this.props.onDrag;d&&d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.Qna=b=>{var c;const d=this.props.Qna,e=this.props.onDragEnd,f=this.props.TSi;d(b);f&&f(!0);(c=this.E8n)===null||c===void 0||c.call(this);this.yn=void 0;e&&e()};this.onScroll=jV(()=>{const b=this.props.onScroll;var c=this.props.TSi,d=this.props.rZb,e=this.props.durationUs;const f=this.props.XNa,g=this.props.gxa,h=this.props.i8d;var k=
this.props.jT;const l=this.yn;if(l){l.deltaX=this.props.Xo.scrollLeft-l.gMg;var m=l.deltaX;var p=m===0?void 0:m>0?"forwards":"backwards";m=this.props.Qfb(l.t4d,l.deltaX);var q=l.lln;l.lln=m;m-=q||l.t4d;if(!(q=!p)&&(q=l.type!=="fullWidth")){{q=l.type;const u=this.props.durationUs,w=this.props.i8d,x=this.props.rZb;q==="start"&&p==="forwards"||q==="end"&&p==="backwards"?p=u>w:(p=u<this.props.jT,p=q==="end"?p:p&&x>0)}q=!p}k=q||e===k||e===h;c&&c(k);if(!k){switch(l.type){case "fullWidth":var r,t;c=d+m;
d=this.props.OVg;e=this.props.qXg;c=d?Math.max(e!==null&&e!==void 0?e:0,Math.min(c,d)):c;(r=(t=this.props).qab)===null||r===void 0||r.call(t,c);break;case "start":this.props.RBa(d+m);break;case "end":this.props.SFa(Math.max(f+h,Math.min(d+e+m,g)));break;default:throw new v(l.type);}b&&b()}}});this.Qfb=(b,c,d)=>{var e;c+=((e=this.yn)===null||e===void 0?void 0:e.deltaX)||0;return this.props.Qfb(b,c,d)}}},nLs=b1s(c1s);var BJs=class{get Coo(){return this.BJi||this.XJe.get()}onDragEnd(){this.reset()}MCa(a,b){const c=this.dFf;this.dFf=a;let d=ZGs(this,{qBf:a});if(d==null&&b!=null){var e=ZGs(this,{qBf:a+b});e!=null&&(d=e-b)}if(d==null)return this.reset(),a;b=this.Pb.now();e=d-a;if(this.hFf==null||this.hFf.MCa!==d){var f,g;(g=this.Lk)===null||g===void 0||(f=g.rN)===null||f===void 0||f.call(g,new __c.Isd({style:1}));this.hFf={DB:b,YQs:e>0,MCa:d};this.BJi=!1}else!this.Coo&&bHs(this,{MCa:d,qBf:a,dFf:c,b9d:b})&&(this.BJi=
!0);return this.Coo?a:d}reset(){this.hFf=void 0;this.BJi=!1;this.dFf=void 0}constructor(a,b,c){this.targets=a;this.XJe=b;this.Lk=c;this.Pb=__c.Ub;this.XQs=1E3;this.BJi=!1}},YGs=(a,b)=>{const c=a.MCa+a.N3c;return a.MCa-a.sgd<=b&&b<=c};var d1s,e1s,f1s,g1s=parseInt("50px",10),h1s=parseInt("2px",10)||2,i1s=parseInt("1px",10)||1,j1s=parseInt("7px",10)||7,k1s=parseInt("4px",10)||5,l1s=parseInt("4px",10)||3,m1s=parseInt("5px",10)||5,n1s=parseInt("3px",10)||3,o1s=parseInt("7px",10)||7,p1s=parseInt("5px",10)||5,r1s=a=>({page:b,children:c})=>gV(q1s,{...a,page:b,children:c}),q1s;
new (d1s=class extends NV{constructor(){super(q1s);e1s()}},(()=>{class a extends(f1s=LV){static G(b){O(b,{utf:CV.ref,$4g:CV.ref,Aia:jV,RBa:jV,sTe:jV,SFa:jV,Qna:jV,Swe:pV,YPe:pV,pXg:pV,XNa:pV,gxa:pV,Fib:pV,trim:pV({equals:oV.shallow}),width:pV,U2f:pV({equals:oV.shallow}),WAm:pV,O5d:pV,hb:pV})}get Swe(){const b=this.props.zy,c=this.props.page,d=this.props.Bw;return d.Bab===c&&d.snf!==void 0?d.snf:EKe(b,c)}get YPe(){return FLs(this.props.Q_e,this.props.page)}get pXg(){return.1}get XNa(){return this.Fib.durationUs+
this.Fib.Vda-this.YPe*1E6}get gxa(){return this.YPe*1E6+this.Fib.Vda}get Fib(){return this.props.Bw.Iwa(this.props.page)}get trim(){var b=this.props.Bw,c=this.Fib;b.qja==="start"?(c=c.Vda+b.H4g*1E6,b=c-this.Swe*1E6):(b=c.Vda,c=c.Vda+this.Swe*1E6);return{startUs:b,endUs:c}}get width(){const b=this.props.oN,c=this.props.Bw;return this.props.uG.VJ?this.Fib.width:!this.props.jXa&&b.sOa?Math.min(this.Fib.width,c.NDm.width):c.Bab===this.props.page?this.Fib.width+c.c9e:this.Fib.width}get U2f(){var b=this.props.Bw;
const c=b.isLinear;var d=this.props.uG.VJ;const e=this.props.oN,f=b.a9e===this.props.page;if(b.bXe)return{type:"touch",isVisible:f&&!d};b=this.width>=g1s;d=this.$4g==null?!b:this.$4g==="outside";return c&&d?{type:"pointer",FRa:"outside",isVisible:this.O5d&&e.LSa&&e.ZJ===1&&!e.isDragging,Xzg:!0,qvh:c}:{type:"pointer",FRa:"inside",isVisible:b&&f,Xzg:!b,hAf:this.O5d?c?l1s:m1s:i1s,L6i:this.O5d?c?l1s:n1s:i1s,borderRadius:this.O5d?c?k1s:p1s:c?j1s:o1s,qvh:c}}get WAm(){var b;const c=this.props.oN,d=this.props.Bw,
e=this.props.uG,f=this.props.page;return!c.jN||e.VJ||e.zE||!HV(d,f)?!0:c.mi&&!((b=this.U2f)===null||b===void 0?0:b.isVisible)}get O5d(){return this.props.oN.mc(this.props.page)}get hb(){return this.props.page.locked?L("lFd1Vg"):void 0}render(){const b=this.props.oN,c=this.props.Bw,d=this.props.children;var e=this.props.page;const f=this.props.Xo,g=c.isLinear?h1s:0,h=b.gzd(e);e=b.a8c(e);return gV(nLs,{Xo:f,rZb:this.trim.startUs,durationUs:this.Swe*1E6,Qfb:this.Qfb,i8d:this.pXg*1E6,jT:this.YPe*1E6,
XNa:this.XNa,gxa:this.gxa,RBa:this.RBa,SFa:this.SFa,Aia:this.Aia,Qna:this.Qna,zNd:this.ePb,sTe:this.sTe,captureEvents:!0,disabled:this.WAm,bma:this.U2f,hb:this.hb,Nqb:c.bXe?void 0:this.i4e,Oqb:c.bXe?void 0:this.eqk,onScroll:this.onScroll,fqc:c.isLinear?36:void 0,Fo:b.mi,children:gV("div",{style:{width:this.width-(h&&e?0:h||e?g/2:g)},children:d})})}constructor(...b){var c,d;super(...b);this.utf=(q1s.G(this),0);this.$4g=void 0;this.Aia=e=>{const f=this.props.oN,g=this.props.Q_e,h=this.props.wA,k=this.props.page;
if(e.kb==="drag"&&e&&(f.aBi(e.nativeEvent),f.KF!=="single"))return;k.locked||(this.$4g=this.width<g1s?"outside":"inside",e=e.type==="end"?"end":"start",h===null||h===void 0||h.stop(),h===null||h===void 0||h.m2e({direction:e}),g.Aia(k,e))};this.RBa=e=>{this.props.page.locked||this.props.Q_e.JBi(Math.min(this.YPe,Math.max(this.pXg,(this.Fib.Vda+this.Fib.durationUs-e)/1E6)))};this.sTe=()=>{const e=this.props.Bw,f=this.props.oN;e.qja==="start"&&e.c9e>0&&f.mi&&(this.RBa(this.trim.startUs-1E4),this.utf-=
1E4,e.O3i=this.utf/1E6*e.SBa)};this.SFa=e=>{this.props.page.locked||this.props.Q_e.JBi(Math.min(this.YPe,Math.max(this.pXg,(e-this.Fib.Vda)/1E6)))};this.Qna=e=>{const f=this.props.Q_e,g=this.props.Bw,h=this.props.wA,k=this.props.page;if(g.Bab===k){const l=g.qja;f.Qna(this.pXg,this.YPe,e.kb);h===null||h===void 0||h.QZe(l);h===null||h===void 0||oMs(h,k,l);this.$4g=void 0}this.utf=0;g.O3i=0};this.i4e=()=>this.props.Bw.wZf(this.props.page);this.eqk=()=>this.props.Bw.wZf(void 0);this.ePb=new BJs(pV(()=>
{var e=this.props.wA,f=this.props.j1i;e=(e=e===null||e===void 0?void 0:e.XFi())?[e]:[];if(!f)return e;const g=f.Xfd;f=f.dLh?f.dLh.get().map(h=>({MCa:h,sgd:h===0?0:g,N3c:g})):[];return e.concat(f)}),(d=(c=this.props.j1i)===null||c===void 0?void 0:c.XJe)!==null&&d!==void 0?d:CV.box(!1),this.props.Lk);this.Qfb=(e,f)=>e+this.utf+f/this.props.Bw.SBa*1E6;this.onScroll=this.props.oN.mi?()=>{const e=this.props.wA;e===null||e===void 0||e.QZe()}:void 0}}({c:[q1s,e1s]}=PV(a,[],[Ob],f1s))})(),d1s);var s1s={OOa:0},t1s=iV(({page:a,je:b,mfj:c,L5g:d,qja:e,yn:f,N_e:g})=>gV("div",{className:"_9yfyrQ",style:{right:e==="start"?g.KFl:void 0,left:e==="start"?void 0:0},children:gV(__c.NC,{yn:f,itemSizes:g.cCk,children:h=>gV(xV,{children:g.dCk.map((k,l)=>{var m;if(m=h!=null){var p;m=(p=h===null||h===void 0?void 0:h.p$)!==null&&p!==void 0?p:0;var q;p=(q=h===null||h===void 0?void 0:h.J$)!==null&&q!==void 0?q:g.cCk.length-1;q=l+1;m=m<=q&&q<=p}return gV(c,{LUc:k,page:a,N_e:g,je:b,L5g:d,cbh:m},l)})})})})),
v1s=({cbh:a,LUc:b,...c})=>{b=iRs(b);a=iRs(a);return gV(u1s,{...c,LUc:b,cbh:a})},u1s=iV(({N_e:a,cbh:b,LUc:c,page:d,je:e,L5g:f})=>{const g=a.QEf.width;a=a.QEf.height;return gV("div",{style:{width:g,height:a},children:b&&gV(e,{page:d,nd:g,sf:a,fit:f,Uah:c*1E6,yA:{OOa:c}})})}),y1s=iV(({page:a,document:b,xSb:c,dimensions:d,uCb:e,je:f,pwp:g,mfj:h,Bw:k,oN:l,yn:m,N_e:p,cmj:q})=>{const r=DV(()=>({...d,width:qk(a.page,b.dimensions)?yg(4,rk(a.page,b.dimensions)).width*d.scale:d.width}),[a.page,b.dimensions,
d]);p.Alo(r);const t=k.Bab===a.page?k.qja:void 0;let u;a.type==="responsive-page"?u="cover":l.P5d(a.page)&&!uf(a.page)&&(u="contain");const w=l.P5d(a.page)&&a.type!=="responsive-page"?"dashed":"solid",x=!l.mc(a.page)||k.a9e===a.page&&l.mi&&HV(k,a.page)?"thin":"thick",y=!k.VJ&&HV(k,a.page);return gV("div",{className:GV("J7ZnOw",{lKgehQ:l.mc(a.page)&&l.LSa}),children:nV(w1s,{xSb:c,KGb:x,borderStyle:w,vVa:k.isLinear,children:[q&&gV(q,{page:a.page,mc:c!=="none"}),nV(g,{page:a.page,children:[gV(__c.LOm,
{R4a:a.page.draft,children:gV("div",{className:GV("CdMl_Q","ohABhA",{EQOZLw:c==="selected"||c==="focused",e1lb_g:e,T5Fk1g:!e,_5BqSaw:ub.od,TglptA:k.isLinear}),style:{height:d.height,opacity:p.Jhn?.5:1,background:y?eHs(a.ha,k):void 0},children:e&&(p.AAo==="repeat"?gV(t1s,{je:f,mfj:h,L5g:u,page:a,qja:t,yn:m,N_e:p}):gV(x1s,{page:a,e4:r,ajl:k.QTd(a.page,!0),Xil:d.height,L5g:u,je:f}))})}),gV("div",{className:"JkY5pQ"})]})]})})}),w1s=iV(a=>{const b=a.xSb;return gV(__c.HPo,{borderRadius:"round",KGb:a.KGb,
xSb:b==="none"?"default":b,borderStyle:a.borderStyle,hvh:a.vVa,children:a.children})}),x1s=a=>{const b=a.page,c=a.L5g,d=a.je,{left:e,top:f,width:g,height:h}=cHs({ajl:a.ajl,Xil:a.Xil,e4:a.e4,page:b});return gV("div",{style:{transform:`translateX(${e}px) translateY(${f}px)`},children:gV(d,{page:b,nd:g,sf:h,fit:c,yA:s1s})})},z1s=a=>{const b=WGs(a),c=a.document,d=a.je,e=a.oN,f=a.Bw,g=a.uG,h=a.u7e,k=a.Sxg?v1s:u1s,l=r1s(a);return m=>{const p=m.page,q=DV(()=>new I0s(e,f,g,p.page,h),[p.page]);return gV(y1s,
{...m,document:c,je:d,oN:e,Bw:f,pwp:l,mfj:k,cmj:b,N_e:q})}};var EV={get g_j(){return Qb("2cd44d17",!1)},get Mvq(){return Qb("4a9296e3",!1)},get wBq(){return Qb("ba8fccc0",!1)},get Cvq(){return Qb("a4addff",!1)},get TJm(){return Qb("f79ce147",!1)},get CDq(){return Qb("742e4c6d",!1)},get nzq(){return Qb("f9933a63",!1)},get tah(){return Qb("1b9427a5",!1)},get k3h(){return Qb("51bdcf59",!1)},get twq(){return Qb("c94df7cf",!1)},get JDq(){return Qb("164ecc96",!1)},get iAm(){return Qb("8a334b08",!1)}};var A1s=JV(a=>{const b=a.qlc,c=a.text,d=a.pEf;return gV("p",{className:GV("s_2lEg JYIidw",a.className,{ejxV1w:d,"ptMFSw _2a6tNg":a.ezb}),style:d?void 0:b.text,children:c})}),B1s=({onClick:a})=>gV(fj,{size:"small",icon:ku,variant:"contrast",onClick:a}),yLs=iV(({zd:a,f2k:b,page:c,oN:d,crb:e,zy:f,Bea:g,vVa:h})=>{const k=jHs(c);return gV("div",{className:"D9QD7A",children:gV("div",{className:"_43qVUg",children:gV("div",{className:"fQqEWA",children:nV("div",{className:"OM5KyQ",children:[gV(C1s,{mode:b,
Ana:!0,zd:a,page:c,qlc:k,oN:d,zy:f,vVa:h}),gV(D1s,{isDisabled:!0,Ana:!0,xqo:d.jN,page:c,Bea:g,qlc:k,crb:e,oN:d,vVa:h})]})})})})}),F1s=a=>b=>gV(E1s,{...b,...a}),E1s=iV(a=>{const b=a.isDragging;var c=a.nac;const d=a.eia,e=a.ezb,f=a.f2k,g=a.GIp,h=a.YRp,k=a.vVa,l=a.zd,m=a.oH,p=a.Gh,q=a.Bea,r=a.crb,t=a.oN,u=a.gb,w=a.zy;var x=a.ih;const y=a.vc,z=a.nVr;var A=a.Wgg;const B=a.CWc,D=a.vWc;a=a.G3b;const G=p.ha;var I=Ic.yba||Ic.wzd;x=e&&(d||x.Tr||I);const K=jHs(G);c=c||b;const M=f==="pageDuration"&&k&&!e&&!d;
I=nk(u,G,__c.dSj)===6;A=A&&EV.k3h&&I&&e;return nV("div",{className:GV("CObwCg",{w7Fxyw:g,VUsLCQ:c,X6jsHg:t.gzd(G),dOiHrw:k,gTH6_Q:e&&t.LSa}),children:[A&&gV("div",{className:"_5JoP7Q",children:gV(B1s,{onClick:z})}),nV("div",{className:"_0_t1hg",children:[gV("div",{className:"_7I1ALw",children:B&&gV("div",{className:"a00RqQ",children:gV(B,{})})}),nV("div",{className:"KwRevw",children:[a&&gV("div",{className:GV("cpLrIw",{JtZbcA:wc.nJ,PykVOA:x}),onWheel:G1s,children:gV(a,{page:G})}),(!a||!x)&&D&&gV("div",
{className:GV("cpLrIw",{OmuVVg:wc.nJ,PykVOA:!x}),children:gV(D,{})})]})]}),gV(__c.Vc,{children:N=>gV("div",{className:GV(N.className,"_43qVUg",{uLhNeg:g}),children:gV("div",{className:GV("XeYKNA",{XWR8Jw:g}),style:M?void 0:K.gradient,children:nV("div",{className:"OM5KyQ",children:[gV(H1s,{Gh:p,gb:u,qlc:K,store:t,vc:y}),!M&&gV(C1s,{mode:f,Ana:!1,zd:l,page:G,qlc:K,oN:t,zy:w,vVa:k}),!M&&gV(D1s,{isDisabled:!h||b,Ana:!1,xqo:t.jN&&d,oH:m,page:G,Bea:q,qlc:K,crb:r,oN:t,vVa:k})]})})})})]})}),C1s=iV(a=>{var b=
a.mode;const c=a.Ana,d=a.zd,e=a.page,f=a.qlc,g=a.oN,h=a.zy;a=a.vVa;const k=kV(()=>{oa(e.type==="fixed");h.DF(e)},[h,e]),l=g.mc(e);if(b==="pageNumber"||e.type!=="fixed")return gV(A1s,{qlc:f,text:`${d}`,pEf:c,ezb:l});b=gV(A1s,{qlc:f,text:Ao(EKe(h,e),"short"),pEf:c,ezb:l});return!g.jN||c||a?b:gV(sr,{tabIndex:-1,ariaLabel:L("zci4Fg"),onClick:k,size:"small",className:"rPSykQ",X8:!0,disabled:g.mi,children:b})}),H1s=iV(({Gh:a,qlc:b,store:c,gb:d,vc:e})=>{{const g=a.ha;if(c.jN){var f=Zl(e,a);a=f&&!Zl(e,a,
$l.Rs)?zcr:f?ey:kHs(g,c,d)}else a=kHs(g,c,d)}return a?gV("div",{style:b.icon,children:gV(a,{className:"zRkFXw",size:"small"})}):null}),D1s=iV(a=>{var b=a.isDisabled;const c=a.Ana,d=a.xqo,e=a.oH,f=a.page,g=a.Bea,h=a.qlc,k=a.crb;var l=a.oN,m=a.vVa,p=DV(()=>Vb(),[]);const [q,r]=tV(!1);a=kV(x=>{k.NBa(f,x)},[f,k]);const t=mV(null),u=b||!l.jN||p||m;b=kV(x=>{!q&&(x.altKey||x.metaKey||x.shiftKey||x.ctrlKey)&&(g(),x.preventDefault())},[q,g]);m=kV(()=>{var x;u||(r(!0),(x=t.current)===null||x===void 0||x.wec())},
[u]);p=kV(()=>{r(!1)},[]);const w=f.title||"";l=l.mc(f);return nV(xV,{children:[gV(A1s,{qlc:h,className:"OqCypA",text:"-",pEf:!q&&!w&&!d||c,ezb:l}),c?gV(A1s,{qlc:h,className:"_7LcFVQ",text:w,pEf:!0,ezb:l}):gV(__c.dxh,{ref:t,label:L("RW8WWQ"),value:w,defaultValue:"",oH:e,xxa:a,onMouseDown:b,onFocus:m,onBlur:p,disabled:u,tabIndex:-1,className:GV("_7LcFVQ",{KDSYFg:u}),nM:GV("Ra_6tA","s_2lEg JYIidw",{"ptMFSw _2a6tNg":l,_5bT_Aw:h.text.color==="#ffffff",Isldmg:h.text.color==="#000000"}),acr:h.text})]})}),
G1s=a=>{a.stopPropagation()};var I1s=({u1f:a,viewport:b,document:c,Ma:d,je:e,BS:f,G3b:g,L:h,store:k,timing:l,vc:m,gb:p,zy:q,pfa:r,Xo:t,ih:u,Nxa:w,$f:x,Lk:y,onContextMenu:z,Wgg:A,jXa:B,Sxg:D,u7e:G=100,Ynr:I})=>{const K=a.Bw,{vWc:M,CWc:N}=TGs({store:k,pfa:r,BS:f}),Q=z1s({je:W=>gV(e,{...W,nCa:"static-with-placeholder-fallback"}),Q_e:a.Q_e,Xo:t,Bw:K,wA:a.wA,uG:a.uG,j1i:a.j1i,crb:h,oN:k,zy:q,Sxg:D,Nxa:w,$f:x,document:c,Lk:y,jXa:B,u7e:G});f=jV(()=>{var W,X;b.Zg.type==="fixed-page"&&(l.Ws=!0,(W=a.wA)===null||W===void 0||W.stop(),(X=
a.wA)===null||X===void 0||X.configure({page:b.Zg}),a.uG.OJd(!1))});const R=F1s({crb:h,vc:m,ih:u,nVr:f,Wgg:A});return iV(W=>{var X=F0s,Z=W.yn,da=c.language,la=W.page,ka=W.zd,pa=W.dimensions,ja=W.xvl,ia=W.visible;var ba=W.page.page;var ca;ba=k.Oyk(ba)?"page_audio_selected":!k.mc(ba)||K.a9e===ba&&k.mi&&HV(K,ba)?"none":!k.LSa||(ca=a.dVa)!==null&&ca!==void 0&&ca.If?"focused":"selected";return gV(X,{oN:k,Bw:K,zy:q,gb:p,Ma:d,yn:Z,oH:da,page:la,zd:ka,dimensions:pa,xvl:ja,visible:ia,xSb:ba,Fo:k.mi,ezb:k.mc(W.page.page),
isDragging:W.isDragging,cDd:k.Chk(W.page.page),Gg:k.Nbi(W.page.page),onClick:W.onClick,onContextMenu:k.mi||!I&&!k.jN?void 0:z,G3b:k.mi||!I&&!k.jN?void 0:g,vWc:M,CWc:N,Qqp:Q,Rqp:R})})};var J1s=({L:a,Cgb:b,wA:c,T4e:d,uG:e,store:f,keyboardShortcuts:g,N:h,P:k})=>{const l=(r,t)=>{const u=r.shiftKey;t=t.direction;const w=k.sb("keyboard_shortcuts.select_page",{Fb:{name:"editor.page.navigate",type:"keyboard_shortcut"}});let x;switch(t){case "last":x=u?f.uao():f.U$n();break;case "first":x=u?f.tao():f.iPi();break;case "next":c&&e&&!e.VJ?c.nKk(u?.5:.1,"forwards","shortcut"):x=u?f.vao():f.$$n();break;case "previous":c&&e&&!e.VJ?c.nKk(u?.5:.1,"backwards","shortcut"):x=u?f.wao():f.hao()}x==
null?w.abort():(r.stopPropagation(),h.XMd(x,f.ya!==x,w,{Xb:f.Xb(f.ya||x),ZJ:f.ZJ,Vzd:f.P5d(f.ya||x),kb:"key_press"}))},m=(r,t)=>{const u=t.direction;t=t.y1f;r.stopPropagation();u==="forwards"?a.aYg(f,{WMk:t}):a.$Xg(f,"key_press",{VMk:t})},p=()=>{f.t4n()};var q=["view","comment"];g.register(["ArrowRight",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],["PageDown",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["PageUp",r=>l(r,{direction:"previous"}),
L("Nm51vA"),q]);g=new __c.g1b({BRa:!1});q=["edit","view","comment"];c&&g.register([" ",()=>{b()&&c.KPa({kb:"shortcut"})},"Toggle timeline preview",q]);g.register(["End",r=>l(r,{direction:"last"}),L("iUDjEw"),q],[bl("ArrowRight"),r=>l(r,{direction:"last"}),L("iUDjEw"),q],[bl("ArrowDown"),r=>l(r,{direction:"last"}),L("iUDjEw"),q],[Xo("End"),r=>l(r,{direction:"last"}),L("0A1FZQ"),q],[bl(Xo("ArrowRight")),r=>l(r,{direction:"last"}),L("0A1FZQ"),q],[bl(Xo("ArrowDown")),r=>l(r,{direction:"last"}),L("0A1FZQ"),
q],["Home",r=>l(r,{direction:"first"}),L("tfzZYg"),q],[bl("ArrowLeft"),r=>l(r,{direction:"first"}),L("tfzZYg"),q],[bl("ArrowUp"),r=>l(r,{direction:"first"}),L("tfzZYg"),q],[Xo("Home"),r=>l(r,{direction:"first"}),L("9wjTBw"),q],[bl(Xo("ArrowLeft")),r=>l(r,{direction:"first"}),L("9wjTBw"),q],[bl(Xo("ArrowUp")),r=>l(r,{direction:"first"}),L("9wjTBw"),q],["ArrowRight",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["PageDown",r=>l(r,{direction:"next"}),L("CYTgXw"),q],[Xo("ArrowRight"),r=>l(r,{direction:"next"}),
L("s7WncQ"),q],[Xo("PageDown"),r=>l(r,{direction:"next"}),L("s7WncQ"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],["PageUp",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],[Xo("ArrowLeft"),r=>l(r,{direction:"previous"}),L("qcHaOA"),q],[Xo("PageUp"),r=>l(r,{direction:"previous"}),L("qcHaOA"),q],[bl("a"),r=>{r.stopPropagation();f.z$n()},L("KojSUg"),q]);q=["edit"];d&&g.register(["s",r=>{r.stopPropagation();d.xun()},"Split",q]);g.register([bl("Enter"),r=>{f.jN&&(r.stopPropagation(),vHs(a,
f,"shortcut",f.vac))},L("kMIn0w"),["edit"]],[bl("]"),r=>m(r,{direction:"forwards",y1f:!1}),L("Xv/c6w"),q],[bl("PageDown"),r=>m(r,{direction:"forwards",y1f:!1}),L("Xv/c6w"),q],[bl(Xo("PageDown")),r=>m(r,{direction:"forwards",y1f:!0}),L("Y2/pJg"),q],[bl("["),r=>m(r,{direction:"backwards",y1f:!1}),L("oW2pdQ"),q],[bl("PageUp"),r=>m(r,{direction:"backwards",y1f:!1}),L("oW2pdQ"),q],[bl(Xo("PageUp")),r=>m(r,{direction:"backwards",y1f:!0}),L("Vb3tiQ"),q],["Backspace",p,L("HIVQ3g"),q],["Delete",p,L("HIVQ3g"),
q]);return g};var K1s=21*$c,L1s=parseInt("96px",10)||96,M1s=15*$c,N1s=27*$c,O1s=19*$c,mHs=class{static G(a){O(a,{aeh:CV.ref,yGc:pV,mAs:pV,$Rc:pV,PFl:pV,czn:pV,oMd:pV,OAo:pV,NAo:pV})}get XUf(){return n(this.config.XUf,"sceneTimeline is not configured correctly")}get Hnd(){return n(this.config.Hnd,"audioTimeline is not configured correctly")}get HZg(){var a,b;return((b=(a=this.config.t0h)===null||a===void 0?void 0:a.HZg.get())!==null&&b!==void 0?b:0)+this.Hnd.HZg.get()+1}Nwf(a,b){var c,d,e,f;return{top:this.$Rc+
((e=(c=this.config.t0h)===null||c===void 0?void 0:c.XVq(a,b))!==null&&e!==void 0?e:0),rowHeight:(f=(d=this.config.t0h)===null||d===void 0?void 0:d.rowHeight)!==null&&f!==void 0?f:0}}get yGc(){var a,b;return(b=(a=this.config.t0h)===null||a===void 0?void 0:a.height.get())!==null&&b!==void 0?b:0}get mAs(){return this.XUf.height}get $Rc(){return n(this.config.kzs).height.get()}get PFl(){const a=n(this.config.Cie),b=n(this.config.u2c);return this.oMd+a.height.get()+b.height.get()}get czn(){return(this.mi.get()?
O1s:N1s)+this.$Rc}get oMd(){return n(this.config.E3c).get()?this.aeh:Math.max(L1s,Math.min(this.OAo,EV.tah?this.czn:Infinity))}get OAo(){const a=this.yGc>0?$c:0,b=this.Hnd.height.get()>0?$c:0;return this.NAo+this.yGc+this.XUf.height+this.Hnd.height.get()+a+b+this.$Rc}get NAo(){return this.$Rc?0:$c*4}constructor(a,b){this.config=a;this.mi=b;this.aeh=(mHs.G(this),K1s);this.Blo=c=>{var d=__c.Zb();var e;d=(e=d===null||d===void 0?void 0:d.height)!==null&&e!==void 0?e:window.innerHeight;this.aeh=Math.max(M1s,
Math.min(d*.6,c))}}};var P1s=a=>{const b=(e,f)=>e+(f.type==="group"?f.nb.count():1),c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new v(f);}};return a.pages.reduce((e,f)=>d(e,f),0)},Q1s=a=>{const b=(e,f)=>{switch(f.type){case "group":return e+f.nb.filter(g=>g.type==="embed").length;case "embed":return e+
1;default:return e}},c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);case "embed":return e+1;default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new v(f);}};return a?d(0,a):0},R1s=(a,b)=>{const c=P1s(b);return{numPages:a.hC,numElements:c,numEmbeds:Q1s(a.ya||b.pages.first())}};var S1s=(a,b,c)=>class extends LV{render(){!this.GJg&&this.uBr();return gV(c,{...this.props})}uBr(){var d,e;if((d=this.span)===null||d===void 0?0:d.isRecording())(e=this.span)===null||e===void 0||e.mb().addEvent("rendered");this.GJg=!0}componentDidMount(){var d;if((d=this.span)===null||d===void 0?0:d.isRecording())this.span.mb().addEvent("mounted"),this.span.mb().nk(({Ii:e})=>{a(e())}),this.span.end(),this.span=void 0}constructor(d){super(d);this.GJg=!1;this.span=b.sb("initial_render",{Fb:{name:"page_navigator.initial_render"}})}};var T1s=({$P:a,Nxa:b,crb:c,oN:d})=>{const e={getLabel(){return c.sK()?d.mi?L("y1K5cA"):L("PAB4WQ"):L("TYQVbA")},onClick(f){a.clear();vHs(c,d,"add_page_button",f)},na:({tq:f})=>gV(Pu,{size:f&&d.mi?"medium":"small"}),isActive(){return!1},isDisabled(){return!1}};hV(()=>d.jN,f=>{b.Vre.$xh=f?e:void 0},{fireImmediately:!0})};var U1s,V1s,W1s,X1s,Y1s,Z1s,$1s=parseInt("4px",10)*2||8,wLs;
new (U1s=class extends NV{constructor(){super(wLs);W1s()}},(()=>{class a extends(X1s=LV){static G(b){O(b,{canDrag:pV,Vhm:pV,tUi:pV,O8l:jV,N2:jV,onDragStart:jV,oIg:jV,na:pV})}get canDrag(){return this.props.store.jN}get Vhm(){const b=this.props.store;return b.mc(this.props.page)&&b.sOa&&b.mc(b.sOa)}get tUi(){const b=this.props.store,c=this.props.page;return b.sOa!==c&&(!b.txd||!b.mc(c))}get na(){const b=this.props.Qys;return gV("div",{className:"Q_BqMA",style:{transform:this.canDrag&&b?`rotate(${b}deg)`:
void 0},children:this.props.children})}render(){const b=this.props.jXa,c=this.props.zjl,d=this.props.dimensions,e=this.props.Nfc,f=this.props.ppq,g=this.props.$dd,h=this.props.HId,k=this.props.store.wJc(this.props.page);return gV("div",{role:"none",className:"jBWQkA",style:{transform:k&&this.tUi?this.mRp(k):void 0,height:d.height+$1s},children:this.canDrag?gV(__c.v4g,{eD:c,N2:this.N2,onDragStart:this.onDragStart,onDragEnd:this.oIg,b1a:this.b1a,ZRd:this.O8l,lge:this.Vhm,Nfc:e,height:f,$dd:g,HId:h,
EId:"x",YYh:b,focusable:!0,Nhj:this.$u,children:this.na}):this.na})}constructor(...b){super(...b);this.O8l=(wLs.G(this),()=>{this.props.store.txd=!1});this.N2=c=>{const d=this.props.page,e=this.props.N2,f=this.props.store,g=this.props.P;f.kql(d);f.Msd=g.sb("drag_and_drop",{Fb:{name:"page_navigator.drag_and_drop"}});e&&e(d,c)};this.b1a=()=>{const c=this.props.page,d=this.props.b1a,e=this.props.store;d===null||d===void 0||d(c);e.Msd=null};this.onDragStart=(c,d)=>{c=this.props.N;var e=this.props.store;
const f=this.props.page,g=this.props.P.sb("on_drag_start",{Fb:{name:"page_navigator.draggable_page.on_drag_start"}});e.txd=!0;e.dol(d);(d=e.mc(f))?g.abort():(e.Bea(f),e={Xb:e.Xb(f),ZJ:e.ZJ,Vzd:e.P5d(f)},c.XMd(f,!d,g,{...e,kb:"click"}))};this.oIg=()=>{const c=this.props.store,d=this.props.page,e=this.props.onDragEnd;c.sOa===d&&(c.kql(void 0),c.dol(!1),e&&e(d))};this.mRp=c=>{const d=this.props.ECg||ub.direction===1?1:-1;return c!=="none"?c.direction==="left"?`translateX(${-c.distance*$c*d}px)`:`translateX(${c.distance*
$c*d}px)`:c};this.$u=()=>{var c=this.props.store;const d=this.props.page,e=this.props.children,f=this.props.dimensions,g=this.props.vVa;c=c.Tmm&&c.mc(d);return gV("div",{className:GV("H_zteA",{Zne_8A:!c,QySrtA:g}),style:{width:f.width,height:f.height},children:c&&e})}}}({c:[wLs,W1s]}=PV(a,[],[Ob],X1s))})(),U1s);var a2s;
new (V1s=class extends NV{constructor(){super(a2s);Y1s()}},(()=>{class a extends(Z1s=LV){static G(b){O(b,{skh:CV.ref,Wdi:CV.ref,eFd:pV,gzd:pV,onDragEnter:jV,onDragLeave:jV,onMouseUp:jV})}get eFd(){const b=this.props.page,c=this.props.document;return b?c.pages.previous(b):c.pages.last()}get gzd(){const b=this.props.page,c=this.props.store;return b&&c.gzd(b)}render(){const {store:b,jFa:c,Ten:d,ZDm:e="percentage",Rpq:f,ECg:g,A6q:h,vVa:k}=this.props;return nV(xV,{children:[!h&&gV("div",{className:GV("_7J9QjQ",
{CMdJpA:g,_1jWbtA:c||b.sOa&&this.skh,_3_sLiw:this.gzd&&e==="percentage",dvPhVQ:k})}),gV("div",{className:GV("t9v9Qw",{ciyrvA:e==="full",HoeKdQ:e==="percentage",_k6JOQ:e==="fixed",_1jWbtA:d||b.sOa,nSS_Fg:d}),style:d?void 0:f,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onMouseUp:this.onMouseUp,onContextMenu:this.preventDefault})]})}constructor(...b){super(...b);this.skh=(a2s.G(this),!1);this.Wdi=!1;this.onDrop=async()=>{var c=this.props.jFa;const d=this.props.store,
e=this.props.L,f=this.props.page;if(this.props.Ten||c)this.eFd&&d.jZe(this.eFd),f&&d.jZe(f),this.skh=!1;else if(!this.Wdi&&d.sOa)if(d.Tmm&&e.bMa(d.ZJ))e.M7b(d,"drag",f,!1);else{e.uCd(d,"drag",f);c=d.sOa;this.Wdi=!0;var g=d.Cg;await ma(0);this.Wdi=!1;d.ya!==c&&d.XG(c);this.forceUpdate(()=>{d.setSelection(g)})}};this.onDragEnter=()=>{const c=this.props.store,d=this.props.page;this.eFd&&c.srj(this.eFd,{direction:"left",distance:1});d&&c.srj(d,{direction:"right",distance:1});this.skh=!0};this.onDragLeave=
()=>{const c=this.props.store,d=this.props.page;this.eFd&&c.jZe(this.eFd);d&&c.jZe(d);this.skh=!1};this.onMouseUp=()=>{const c=this.props.store,d=this.props.page;this.eFd&&c.jZe(this.eFd);d&&c.jZe(d)};this.preventDefault=c=>c.preventDefault()}}({c:[a2s,Y1s]}=PV(a,[],[Ob],Z1s))})(),V1s);var b2s=$c/2,c2s=parseInt("96px",10)||96,d2s=iV(({Xo:a,oN:b,o1s:c,Hda:d})=>{const e=DV(()=>Math.floor(a.scrollLeft)>b2s,[a.scrollLeft]),f=DV(()=>Math.ceil(a.scrollLeft+a.offsetWidth+b2s)<c,[a.scrollLeft,a.offsetWidth,c]),g=a.offsetWidth<c;return b.mi||!g?null:nV("div",{className:"mffvfg",children:[gV("div",{className:GV("Jjqy1Q Jd2ccA",{_2njASw:e}),style:{height:d.oMd}}),gV("div",{className:GV("x6qgng Jd2ccA",{_2njASw:f}),style:{height:d.oMd,left:a.offsetWidth-c2s}})]})});var e2s=class{static G(a){O(a,{positions:pV})}get positions(){return{t7:this.Xo.scrollLeft,Zr:this.Xo.clientWidth}}constructor(a){this.Xo=a;this.layout=(e2s.G(this),"horizontal")}},f2s=iV(({children:a,Xo:b})=>{const c=DV(()=>new e2s(b),[b]);return EV.g_j?a({yn:c}):gV(__c.bFe,{layout:"horizontal",fCm:!0,children:({Al:d,yn:e})=>a({yn:e,Al:d})})});__c.g2s=16/9;__c.h2s=parseInt("24px",10)||24;__c.i2s=parseInt("28px",10)||20;__c.j2s=parseInt("24px",10)||24;__c.k2s=parseInt("176px",10)||176;__c.l2s=parseInt("224px",10)||224;__c.m2s=__c.i2s*2;__c.n2s=parseInt("72px",10)||28;__c.o2s=100/15;var p2s={width:8.5/11*FV,height:FV,scale:1},q2s=QV(a=>{const b=yg(4,a);a=Bg(a)?__c.g2s:b.width/b.height;return{width:FV*a,height:FV,scale:FV/b.height}});var r2s,s2s,t2s,u2s=$c*75||600,v2s=parseInt("300ms",10)||300,w2s=window.CSS&&window.CSS.supports&&CSS.supports("(-webkit-overflow-scrolling: touch)"),x2s;
new (r2s=class extends NV{constructor(){super(x2s);s2s()}},(()=>{class a extends(t2s=LV){static G(b){O(b,{eb:CV.ref,Eg:pV.struct,CF:jV.bound,A5d:pV,C8n:pV,Y0j:pV})}componentDidMount(){const b=this.props.store,c=this.props.Ho,d=this.props.Qc,e=n(this.Au.current);Kb(this,c.SY(e,"50%"));e.addEventListener("focusout",this.hEn);document.addEventListener("mousedown",b.aBi,{capture:!0});document.addEventListener("drop",this.stopPropagation);window.addEventListener("resize",this.Kwm);d()}componentWillUnmount(){const b=
this.props.di;document.removeEventListener("mousedown",this.props.store.aBi,{capture:!0});document.removeEventListener("drop",this.stopPropagation);window.removeEventListener("resize",this.Kwm);this.YKn();n(this.Au.current).removeEventListener("focusout",this.hEn);b()}Ugm(){return this.props.QAm&&this.eJ.innerWidth<=u2s}get Eg(){return q2s(this.props.Ia.dimensions)}get A5d(){return!!this.props.store.sOa}get C8n(){if(!this.Y0j){var b=this.props.Hda;return{height:this.props.Gdt.bOg?0:b.oMd}}}get Y0j(){return w2s&&
!this.props.u1f.lEf.get()&&this.A5d}render(){var b;const c=this.props.config,d=this.props.store,e=this.props.CTo,f=this.props.u1f,g=this.props.W3b,h=this.props.$f,k=this.props.Xo,l=this.props.PHl,m=this.props.Hda,p=this.props.zbs,q={gAc:this.props.gAc,Kzc:this.props.Kzc,y3b:c.y3b,Eg:this.Eg,hOa:this.hOa,Au:this.Au,...(d.jN?{W3b:g,utc:this.utc}:{})},r=f.Cie.get(),t=this.C8n,u=this.Y0j;var w;const x=(w=(b=h.Dlg)===null||b===void 0?void 0:b.Wm)!==null&&w!==void 0?w:bMs,y=f.lEf.get(),z=y||f.iyk.get(),
A=f.kEf.get(),B=this.eb,D=this.props.xvp;return gV(tRs["default"],{bounds:!0,onResize:this.YKn,children:({measureRef:G})=>nV("div",{ref:G,className:GV("_xAWuA",{sJdpWg:!f.iyk.get()}),onClick:this.Rbc,children:[gV(__c.Gp,{map:p.map,rr:!1,children:gV(__c.MB,{CF:this.CF,children:nV("div",{children:[r,z&&gV(f.g1i.T7f,{disabled:!y}),nV("div",{className:GV("S8qQCA",{m29yeA:!f.g1i.isDragging.get()&&d.od&&ub.od,XbJiZg:A}),style:t,ref:this.vg,children:[gV(D,{}),gV(x,{children:gV("div",{className:"IRDJFw"})}),
gV("span",{tabIndex:-1,ref:this.oto}),gV(__c.rDd,{onClick:this.sto,children:L("Rz/bng")}),gV(f.wdf,{}),gV(f2s,{Xo:k,children:({yn:I,Al:K})=>nV("div",{ref:(0,rRs["default"])(k.Aq,l===null||l===void 0?void 0:l.Aq,this.Au,K),className:GV("LGNDdw",{sr7Jsw:this.Ugm(),ogIqug:Wb()&&!this.Ugm(),xE8XcA:u}),style:t,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onWheel:this.mZr,tabIndex:-1,children:[gV(tRs["default"],{client:!0,offset:!0,onResize:this.U9d,children:({measureRef:M})=>nV(xV,{children:[gV(f.Tlj,
{yn:I,measureRef:M,...q}),e&&gV(e,{})]})}),gV(d2s,{Xo:k,oN:d,o1s:B,Hda:m})]})}),gV(__c.rDd,{onClick:this.tto,children:L("GxvzFw")}),gV("span",{tabIndex:-1,ref:this.nto})]})]})})}),gV(y2s,{Nxa:c})]})})}constructor(...b){super(...b);this.eJ=(x2s.G(this),this.props.eJ||window);this.Au=__c.wk();this.vg=__c.wk();this.oto=MV();this.nto=MV();this.Wtl=!1;this.eb=0;this.tto=()=>{var c;(c=this.oto.current)===null||c===void 0||c.focus()};this.sto=()=>{var c;(c=this.nto.current)===null||c===void 0||c.focus()};
this.zok=!1;this.Kwm=Gb(jV(()=>{const c=this.props.Hda;c.Blo(c.oMd)}),200);this.hEn=()=>{const c=this.props.store;if(c.oOk){var d;(d=this.Au.current)===null||d===void 0||d.focus();c.oOk=!1}};this.stopPropagation=c=>{const d=this.props.store;(d.sOa||d.txd)&&c.stopPropagation()};this.YKn=Gb(c=>{EV.TJm&&this.props.store.Lko((c===null||c===void 0?0:c.bounds)?Yj(c.bounds):void 0)},200);this.U9d=jV(c=>{var d,e,f,g;this.eb=((f=(d=c.client)===null||d===void 0?void 0:d.width)!==null&&f!==void 0?f:0)+((g=(e=
c.offset)===null||e===void 0?void 0:e.left)!==null&&g!==void 0?g:0)});this.zqs=()=>{if(this.Wtl){var c;(c=this.Au.current)===null||c===void 0||c.focus();this.Wtl=!1}};this.CF=()=>{var c;const d=this.props.config;(c=d.s1s)===null||c===void 0||c.call(d);this.Wtl=!0};this.mZr=c=>{this.props.u1f.lEf.get()||Math.abs(c.deltaX)<Math.abs(c.deltaY)&&!c.ctrlKey&&!c.metaKey&&this.props.Xo.scrollBy({USg:c.deltaY,behavior:"instant"})};this.onTouchMove=()=>{this.zok=!0};this.onTouchEnd=()=>{this.zok=!1};this.Rbc=
c=>{var d;this.props.u1f.lEf.get()||!this.vg.current||c.target instanceof Node&&((d=this.vg.current)===null||d===void 0?0:d.contains(c.target))||this.props.store.mi||this.props.L.OBn()};this.utc=async()=>{var c,d;const e=this.props.store,f=this.props.Xo,g=this.props.$f;await vHs(this.props.L,e,"add_page_end",this.props.Ia.pages.last());(d=g.Zxh)===null||d===void 0||(c=d.ph)===null||c===void 0||c.call(d);e.mi||(await ma(0),f.scrollTo({left:f.scrollWidth,behavior:"smooth"}),this.zqs())};this.hOa=async c=>
{const d=this.props.store,e=this.props.N;if(!this.zok&&!d.sOa){var f=c!==d.ya,g=this.props.P.sb("page_click",{Fb:{name:`editor.page.${f?"navigate":"select"}`,type:"page_navigator_click"}});d.fMe=!0;await d.Bea(c);e.XMd(c,f,g,{Xb:d.Xb(d.ya||c),ZJ:d.ZJ,Vzd:d.P5d(d.ya||c),kb:"click"});d.fMe=!1}}}}({c:[x2s,s2s]}=PV(a,[],[Ob],t2s))})(),r2s);var y2s=iV(({Nxa:a})=>gV(xV,{children:a.yEh&&gV(a.yEh,{})}));var z2s=class{static G(a){O(a,{WDm:jV,Dqb:jV,kGn:jV})}async WDm(a,b){const c=this.undo.startBuffering();try{const d=b?this.document.pages.previous(b):this.document.pages.last(),e=oHs(this,a,d),f=await vHs(this.L,this.store,"drag",d,e);f&&await this.Dqb(a,If(this.document).tb(f),!0)}finally{uV(()=>c.stop())}}FZb(a,b){return b.type==="responsive"?qHs(this,a,b):rHs(this,a,b)}canDrop(a,b){switch(b.type){case "fixed":return b.dimensions&&Bg(b.dimensions)?a.data.type!=="audio":!0;case "responsive":return pHs(a);
case "concatenated-fixed":return a.data.type!=="audio";default:throw new v(b);}}async Dqb(a,b,c){switch(b.type){case "fixed-page":return tHs(this,a,b,c);case "concatenated-fixed-page":return tHs(this,a,b.tb(b.pages.first()),c);case "responsive-page":return uHs(this,a,b,c);default:throw new v(b);}}async kGn(a){this.pdd();const b=this.undo.startBuffering();try{const c=oHs(this,a,this.document.pages.last()),d=this.L.orj(this.document.pages.last(),"drag",c);d&&await this.Dqb(a,If(this.document).tb(d),
!0)}finally{uV(()=>b.stop())}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.document=a;this.viewport=b;this.Dc=c;this.L=d;this.store=e;this.undo=f;this.Pxa=g;this.Fi=h;this.zl=k;this.GG=l;this.oqf=m;this.Ih=p;this.gb=q;this.eGc=(z2s.G(this),void 0);this.YGi=void 0;this.pdd=()=>{clearTimeout(this.eGc);this.eGc=void 0};this.rbi=r=>r.flatMap(t=>{if(t.type==="rect"||t.type==="grid"||t.type==="shape")return t;if(t.type==="group")return this.rbi(t.nb.toArray())});this.nWq=(r,t)=>{let u=[];t=this.rbi(t).filter(tb);
for(const w of t)if(w.type==="grid"){t=Array.from(w.cells.uR().values());const x=t.find(y=>!y.fill.image.ref&&!y.fill.video.ref);if(x){u=[__c.Ny.Woc(x,w,r)];break}else u=[...u,__c.Ny.Woc(t[0],w,r)]}else if(w.type==="shape")if(w.paths.filter(x=>!x.fill.image.ref&&!x.fill.video.ref).length){u=[__c.Ny.Ivd(w,r)];break}else u.push(__c.Ny.Ivd(w,r));else w.type==="rect"&&u.push(this.oqf.GBj(w,r));return u.filter(tb)};this.onMouseMove=r=>{r=new Bj(r.clientX,r.clientY);this.Pbo(r);this.YGi=r};this.onTouchMove=
r=>{r.touches.length===1&&(r=new Bj(r.touches[0].clientX,r.touches[0].clientY),this.Pbo(r),this.YGi=r)};this.Pbo=r=>{const t=this.store.ya;if(__c.fk(this.viewport.jz(),r))this.pdd();else{var u=this.YGi&&__c.dde(this.Dc.X_h,this.YGi);r=__c.dde(this.Dc.X_h,r);u=(u===null||u===void 0?void 0:u.length)&&u[0].props.page;const w=r.length&&r[0].props.page;w&&t!==w&&u===w?w&&t!==w&&this.eGc===void 0&&(this.eGc=window.setTimeout(()=>{this.GG.r_h(w,"to-origin");this.pdd()},750)):this.pdd()}};hV(()=>this.GG.isDragging()&&
!c.isDragging,r=>{r?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)):(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove))},{fireImmediately:!0})}};var A2s=class{static G(a){O(a,{orj:jV,M7b:jV,fCo:jV,WLi:jV,uCd:jV,$Xg:jV,aYg:jV,OBn:jV.bound,NBa:jV.bound})}bMa(a){return this.oc.bMa(a)}sK(){return this.oc.bMa(1)}GSb(a){return a.ZJ&&this.l7b.lig()}orj(a,b,c){try{var d,e;const f=a||n(this.document.pages.first());oa(this.oc.PL!=null);const {page:g,container:h}=this.oc.PL(f,{Uc:b,location:"page_navigator",v7:"none"},{B4d:a==null,template:c});(e=this.Lk)===null||e===void 0||(d=e.rN)===null||d===void 0||d.call(e,new ip);return(h===null||h===void 0?void 0:
h.type)==="concatenated-fixed-page"?h.Nha(this.document.pages):g}catch(f){if(!(f instanceof __c.g2g))throw f;}}M7b(a,b,c,d=!0){const e=a.Cg,f=this.P.sb("copy_page",{Fb:{name:"page_navigator.copy_page"}}),g=this.document.pages;c=d?c:c?g.previous(c):g.last();const h=this.A2c.H_h(e,c,f,b);h.length&&window.requestAnimationFrame(()=>{a.XG(h[0]);a.setSelection(h)})}fCo(a){const b=!a.O8;b||this.selection.deselectAll();a.Led(b)}WLi(a,b){const c=this.P.sb("delete_page",{Fb:{name:"editor.page_navigator.delete_page",
type:b}});this.l7b.mQ(b,c,"outer");a.oOk=!0;b=a.Cg;(b=b.length?b[0]:void 0)&&a.mi&&a.XG(b)}uCd(a,b,c){var d,e;if(a.ZJ!==0){if(b==="drag"){var f=a.Msd;f===null||f===void 0||f.mb().addEvent("dropped")}else f=this.P.sb("move_selection",{Fb:{name:"page_navigator.move_selection"}});var g=a.vU(a.Cg);this.document.pages.VYa(c,a.Cg);a=a.vU(a.Cg);var h={c$m:g,qQm:a,kb:b};f===null||f===void 0||f.mb().nk(({Ii:k})=>{f===null||f===void 0||f.addEvent("rendered");IGs(this.N,{...h,Rb:k()})});f===null||f===void 0||
f.ne();(e=this.Lk)===null||e===void 0||(d=e.rN)===null||d===void 0||d.call(e,new __c.Isd({style:1}))}}$Xg(a,b,c){const d=this.document.pages.first(),e=a.V6h;a.jN&&d&&e&&d!==e&&(c=c.VMk?d:this.document.pages.previous(e),this.uCd(a,b,c))}aYg(a,b){var c=this.document.pages.last();const d=a.vac;a.jN&&c&&d&&c!==d&&(c=b.WMk?c:this.document.pages.next(d),b=a.vU(a.Cg),this.document.pages.j4a(c,a.Cg),a=a.vU(a.Cg),IGs(this.N,{c$m:b,qQm:a,kb:"key_press"}))}OBn(){this.selection.deselectAll()}NBa(a,b){b=this.cSe(a,
b);!a.title&&b&&this.N.TIl();a.title=b||void 0}cSe(a,b){return uf(a)?b.replace(/(^')|[\\/?*:[\]]|('$)/g,"").slice(0,31):b}constructor(a,b,c,d,e,f,g,h,k,l){this.document=a;this.oc=b;this.l7b=c;this.A2c=d;this.N=e;this.P=f;this.selection=g;this.Fh=h;this.timing=k;this.Lk=l;this.yvm=(A2s.G(this),void 0);this.Dji=QV((m,p)=>m.V6h===p);this.XMe=QV((m,p)=>m.sOa===p);this.txd=QV((m,p)=>m.mc(p)&&m.txd);QV((m,p)=>m.mc(p)&&!!m.sOa);QV((m,p)=>m.mc(p)&&m.LSa)}};__c.B2s=class{static G(a){O(a,{dpa:CV.ref,TAc:CV.ref,Noe:CV.ref,doj:CV.ref,Inj:CV.ref,G4l:CV.ref,ZEh:CV.ref,noj:CV.shallow,uFh:CV.ref,txd:CV.ref,kql:jV,isDragging:pV,jN:pV,ya:pV,KMb:pV,So:pV,hC:pV,ZJ:pV,mi:pV,zwa:pV,HAa:pV,vSm:pV,wSm:pV,Hdn:pV,LSa:pV,Cg:pV.struct,t3k:pV,V6h:pV,vac:pV,KF:pV,O8:pV,L_q:pV,qj:pV,dol:jV.bound,Lko:jV.bound,kho:jV.bound,XDp:jV.bound,aBi:jV.bound,Led:jV,t4n:jV,srj:jV.bound,jZe:jV.bound,SRd:jV.bound,z$n:jV.bound,Bea:jV.bound,XMk:jV.bound,vao:jV.bound,wao:jV.bound,tao:jV.bound,
uao:jV.bound,iPi:jV.bound,U$n:jV.bound,$$n:jV.bound,hao:jV.bound,Cra:jV.bound,nFc:jV.bound,setSelection:jV.bound,GU:jV.bound})}get sOa(){return this.uFh}kql(a){this.uFh=a}get isDragging(){return this.uFh!==void 0||this.Dc.isDragging}get jN(){return this.Ma.mode===40}get ya(){return this.viewport.jh||this.viewport.HF?this.viewport.ya:n(this.document.pages.first())}get KMb(){return this.document.pages.toArray()}get So(){return this.KMb.indexOf(this.ya)}get hC(){return this.document.pages.count()}get ZJ(){return this.Cg.length}get mi(){return this.ka.layout===
2}get zwa(){const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "pages":return a.Od;case "elements":return a.$z.ha}}get HAa(){if(this.selection.La){var a=this.selection.La.inner,b=this.selection.La.Bg;return(a===null||a===void 0?void 0:a.type)==="group"&&b?{element:b,parent:a.group}:b?{element:b,parent:void 0}:void 0}}get vSm(){if(this.selection.La&&this.selection.La.type==="audio")return this.selection.La.$Ra}get wSm(){if(this.selection.La){var a=this.selection.La.inner;if((a===
null||a===void 0?void 0:a.type)==="background")return a.Od}}get Hdn(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="audio"}get LSa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}get Cg(){var a;const b=this.noj||((a=this.selection.La)===null||a===void 0?void 0:a.pages)||[];return b.length===0?[this.ya]:b}get t3k(){return this.sOa?this.Cg.filter(a=>a!==this.sOa).slice(0,2):[]}get V6h(){return this.document.pages.first(a=>this.Cg.includes(a))}get vac(){return this.document.pages.last(a=>
this.Cg.includes(a))}get KF(){return this.TAc}get O8(){return this.Noe}get Tmm(){return this.Inj}get kQs(){return this.G4l}get lcm(){return this.ZEh.includes("start-side-panel")?this.Ma.RC.Ad:0}get kcm(){return this.ZEh.includes("end-side-panel")?this.Ma.RC.yf:0}get ncm(){return ub.direction===2?this.kcm:this.lcm}get qcm(){return ub.direction===2?this.lcm:this.kcm}get L_q(){return this.doj}get qj(){if(this.da.clientId&&this.da.clients){const a=this.da.clients.get(this.da.clientId);if(a)return __c.yy(a)}return null}a8c(a){return a===
this.document.pages.last()}dol(a){this.Inj=a}Lko(a){this.G4l=a}kho(a){this.ZEh=a}XDp(){var a;this.doj=(a=this.wJc(this.document.pages.last()))!==null&&a!==void 0?a:"none"}XG(a){this.viewport.hw(a)}aBi(a){a.ctrlKey||a.metaKey?this.TAc="command":a.shiftKey?this.TAc="shift":this.mi&&this.O8?!this.LSa&&this.Led(!1):this.TAc="single"}Led(a){this.TAc=(this.Noe=a)?"command":"single"}t4n(){this.TAc="single"}srj(a,b){this.Kld.set(a,b)}jZe(a){this.Kld.set(a,"none")}async SRd(a){await this.GU([...this.Cg,a]);
this.dpa=a;this.ZJ===1&&this.XG(a)}z$n(){this.document.pages.filter(a=>!this.mc(a)).forEach(a=>this.SRd(a))}async Bea(a){this.KF==="single"?await this.Cra(a):this.KF==="command"?await xHs(this,a):this.KF==="shift"&&await yHs(this,this.dpa,a)}XMk(a,b){for(a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a);a&&this.mc(a);)this.dpa=a,a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a)}vao(){if(this.dpa){var a=this.mc(this.dpa),b=this.document.pages.previous(this.dpa),
c=this.document.pages.next(this.dpa),d=c&&this.mc(c);d=a&&d;b=b&&this.mc(b);d&&!b?(this.nFc(this.dpa),this.dpa=c):a&&c?(this.dpa=c,this.SRd(c),this.XMk(this.dpa,"next")):c&&this.SRd(c);return c}}wao(){if(this.dpa){var a=this.mc(this.dpa),b=this.document.pages.next(this.dpa),c=this.document.pages.previous(this.dpa),d=c&&this.mc(c);d=a&&d;b=b&&this.mc(b);d&&!b?(this.nFc(this.dpa),this.dpa=c):a&&c?(this.dpa=c,this.SRd(c),this.XMk(this.dpa,"previous")):c&&this.SRd(c);return c}}tao(){const a=this.document.pages.first();
a&&yHs(this,this.dpa,a);return a}uao(){const a=this.document.pages.last();a&&yHs(this,this.dpa,a);return a}iPi(){const a=this.document.pages.first();a&&this.Cra(a);return a}U$n(){const a=this.document.pages.last();a&&this.Cra(a);return a}$$n(){const a=this.document.pages.next(this.ya);a&&this.Cra(a);return a}hao(){const a=this.document.pages.previous(this.ya);a&&this.Cra(a);return a}async Cra(a){this.dpa=a;await this.GU([a]);this.mi&&Promise.resolve().then(()=>this.XG(a))}async nFc(a){await this.GU(this.Cg.filter(b=>
b!==a))}async setSelection(a){await this.GU(a);this.dpa=a[0]}async GU(a){return new Promise(b=>{this.noj=[...a];cancelAnimationFrame(this.Woj);this.Woj=requestAnimationFrame(()=>{this.Woj=requestAnimationFrame(()=>{uV(()=>{this.selection.aCb(...a);this.noj=void 0});b()})})})}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.da=b;this.viewport=c;this.Dc=d;this.pfa=e;this.ka=f;this.hHb=g;this.Ma=h;this.selection=k;this.dpa=(__c.B2s.G(this),void 0);this.TAc="single";this.Noe=!1;this.Kld=new aRs;this.doj=
"none";this.Inj=!1;this.ZEh=[];this.Woj=0;this.uFh=void 0;this.txd=this.fMe=!1;this.Msd=null;this.od=this.oOk=!1;this.Oyk=QV(l=>{const m=this.selection.La;return(m===null||m===void 0?void 0:m.type)!=="audio"?!1:l.audio.tracks.some(p=>m.tracks.includes(p))});this.wYq=QV(l=>this.mc(l)&&this.t3k.includes(l)?(this.t3k.indexOf(l)+1)*-3:0);this.XMe=QV(l=>this.sOa===l);this.P5d=QV(l=>!qk(l,this.document.dimensions));this.gzd=QV(l=>l===this.document.pages.first());this.wJc=QV(l=>this.Kld.get(l));this.mc=
QV(l=>this.Cg.includes(l));this.Chk=QV(l=>this.pfa.qai(l));this.fYq=QV(l=>__c.iu.Cs(l).flatMap(m=>m.elements.filter(p=>jk(p))).length);this.eYq=QV(l=>__c.iu.Cs(l).flatMap(m=>m.elements.filter(p=>p.type==="shape"&&nFd(p)||p.type==="line")).length);this.Nbi=QV(l=>{l=__c.HFd.Cs(l).map(m=>this.hHb.s2d(m)).filter(tb);return l.length===0?[]:pd(Array.from(l.flatMap(m=>[...m.BVe.values()]),m=>{m=__c.yy(m.client);if(m!==this.qj)return m=this.hHb.getUser(m),m.state==="fulfilled"?m.value:void 0})).filter(tb)});
this.vU=l=>{let m=0;return this.document.pages.flatMap(p=>{p=l.includes(p)?[m]:[];m++;return p})};this.Xb=l=>this.vU([l])[0];this.dpa=this.ya;this.od=f.layout===2;hV(()=>{var l,m;return(m=(l=k.La)===null||l===void 0?void 0:l.pages)!==null&&m!==void 0?m:[]},l=>{if(l.length===0||this.dpa&&!l.includes(this.dpa))this.dpa=this.ya})}};__c.B2s.prototype.GAk=__c.ea(1121);var JHs=class{init(){const a=this.oN,b=this.Gw,c=this.Xo,d=this.pbb,e=this.Grg,f=this.NTj,g=pV(()=>a.zwa||a.ya);d.XG(g.get(),"auto");b.push(hV(()=>({G7a:a.vSm,page:g.get(),element:a.HAa,Udb:a.wSm}),(h,k)=>{var l=h.G7a,m=h.page,p=h.element;h=h.Udb;if(p&&p!==(k===null||k===void 0?void 0:k.element)&&m&&m.type==="fixed"&&!e.value){h=p.element;var q=p.parent;l=n(d.cVa);const {Vda:r,durationUs:t}=n(l.Iwa(m));p=d.Xo.clientWidth;k=d.Xo.scrollTo;const {startUs:u,durationUs:w}=pXa(h,m,t,q);q=r+u;const x=q+
w;m=l.YIa(q);h=l.YIa(x);l.o0f&&AHs(d.timing.DG,{startUs:q,endUs:x})||!BHs(d,m,h)||(l=m,h-m<p&&(l=Math.max(0,(m+h)/2-p/2)),k({left:l,behavior:"smooth"}))}else h&&h!==(k===null||k===void 0?void 0:k.Udb)&&m&&m.type==="fixed"&&this.Pya.Ws?CHs(d,h,m):l&&l!==(k===null||k===void 0?void 0:k.G7a)&&EV.tah?DHs(d,l):f.value||!m||m===(k===null||k===void 0?void 0:k.page)||this.Pya.Ws||d.XG(m,"smooth")}));b.push(hV(()=>c.clientWidth,(h,k)=>{if(h!==k){h=g.get();const m=n(d.cVa),{offsetWidth:p,width:q}=n(m.Iwa(h)),
r=p+q;if(BHs(d,p,r)){h=k-d.Xo.clientWidth;var l=d.Xo.scrollLeft;k=l+k-m.veb;r>=l&&p<=k&&d.Xo.scrollBy({USg:h,behavior:"auto"})}}}))}dispose(){this.Gw.forEach(a=>a());this.Gw.splice(0,this.Gw.length)}constructor(a,b,c,d){this.Xo=a;this.pbb=b;this.oN=c;this.Pya=d;this.Grg=new __c.Ik;this.NTj=new __c.Ik;this.Gw=[];this.Grg.add(()=>this.NTj.value)}};var HHs=class{static G(a){O(a,{d0e:CV.ref,h0e:CV.ref,PFj:CV.ref,JFj:CV.ref,fRk:CV.ref,onResize:jV,scrollTo:jV.bound,scrollBy:jV.bound})}dispose(){var a,b;this.zu&&((a=this.kR)===null||a===void 0||a.unobserve(this.zu),(b=this.kR)===null||b===void 0||b.disconnect(),this.zu.removeEventListener("scroll",this.onScroll),this.zu=void 0)}scrollTo({left:a,top:b,behavior:c}){!this.zu||a===this.scrollLeft&&b===this.scrollTop||(zHs(this),this.zu.scrollTo({left:a,top:b,behavior:c}),this.d0e=this.zu.scrollLeft,
this.h0e=this.zu.scrollTop,this.eQj())}scrollBy({USg:a,YCo:b,behavior:c}){this.zu&&(a||b)&&(zHs(this),this.zu.scrollBy({left:a,top:b,behavior:c}),this.d0e=this.zu.scrollLeft,this.h0e=this.zu.scrollTop,this.eQj())}get scrollLeft(){return this.d0e}get scrollTop(){return this.h0e}get clientHeight(){return this.JFj}get clientWidth(){return this.PFj}get offsetHeight(){var a;return(a=this.zu)===null||a===void 0?void 0:a.offsetHeight}get offsetWidth(){return this.fRk}get scrollHeight(){var a,b;return(b=
(a=this.zu)===null||a===void 0?void 0:a.scrollHeight)!==null&&b!==void 0?b:0}get scrollWidth(){var a,b;return(b=(a=this.zu)===null||a===void 0?void 0:a.scrollWidth)!==null&&b!==void 0?b:0}constructor(a,b){this.P=a;this.N=b;this.zu=(HHs.G(this),void 0);this.fRk=this.JFj=this.PFj=this.h0e=this.d0e=0;this.p7e=!1;this.Aq=c=>{c?(this.zu=c,(this.d0e||this.h0e)&&this.zu.scrollTo({left:this.d0e,top:this.h0e,behavior:"auto"}),this.zu.addEventListener("scroll",this.onScroll),this.kR=new uRs["default"](this.onResize),
this.kR.observe(this.zu)):this.dispose()};this.onResize=c=>{c=n(c[0]);this.zu===c.target&&(this.PFj=this.zu.clientWidth,this.JFj=this.zu.clientHeight,this.fRk=this.zu.offsetWidth,this.boundingClientRect=this.zu.getBoundingClientRect())};this.onScroll=()=>{zHs(this);this.p7e||(uV(()=>{var c,d,e;this.d0e=(e=(c=this.zu)===null||c===void 0?void 0:c.scrollLeft)!==null&&e!==void 0?e:0;var f;this.h0e=(f=(d=this.zu)===null||d===void 0?void 0:d.scrollTop)!==null&&f!==void 0?f:0}),requestAnimationFrame(()=>
{this.p7e=!1}),this.p7e=!0);this.eQj()};this.eQj=Gb(()=>{this.$4k=requestAnimationFrame(()=>{this.K6g&&(this.K6g.end(),this.K6g=void 0)})},200);this.getBoundingClientRect=()=>{const c=n(this.zu);this.boundingClientRect||(this.boundingClientRect=c.getBoundingClientRect());return this.boundingClientRect}}};var IHs=class{setup(a){this.cVa=a}XG(a,b="auto"){var c=n(this.cVa);const {offsetWidth:d,width:e,Vda:f,durationUs:g}=n(c.Iwa(a)),h=this.Xo.clientWidth,k=this.Xo.scrollTo;if(c=!c.o0f||AHs(this.timing.DG,{startUs:f,endUs:f+g})){c=n(this.cVa);const {offsetWidth:l,width:m}=n(c.Iwa(a));c=!!BHs(this,l,l+m)}c&&(a=d,e<h&&(a=Math.max(0,d+e/2-h/2)),k({left:a,behavior:b}))}FId(){const a=this.Xo.clientWidth,b=this.Xo.scrollWidth,c=this.Xo.scrollTo;b>a&&c({left:b-a,behavior:"auto"})}constructor(a,b,c,d,e){this.Xo=
a;this.timing=b;this.Hda=c;this.l1a=d;this.qd=e}};var KHs=class{dispose(){this.zu&&(this.zu.removeEventListener("touchstart",this.onTouchStart),this.zu.removeEventListener("touchmove",this.onTouchMove),this.zu.removeEventListener("touchend",this.onTouchEnd),this.zu.removeEventListener("touchcancel",this.onTouchEnd),FHs(this),this.zu=void 0)}constructor(a){this.Xo=a;this.Gjl=this.Fjl=this.HDo=this.GDo=0;this.fQb=null;this.TUc=[];this.EIf=null;this.Aq=b=>{b?(this.zu=b,this.zu.addEventListener("touchstart",this.onTouchStart)):this.dispose()};this.onTouchStart=
b=>{this.zu&&b.touches.length===1&&(FHs(this),this.GDo=b.touches[0].pageX,this.HDo=b.touches[0].pageY,this.Fjl=this.zu.scrollLeft,this.Gjl=this.zu.scrollTop,this.TUc=[{x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()}],this.zu.addEventListener("touchmove",this.onTouchMove),this.zu.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.zu.addEventListener("touchcancel",this.onTouchEnd,{passive:!0}))};this.onTouchMove=b=>{if(this.zu&&b.touches.length===1){var c=b.target;if(c.classList.length===
0||c.closest('[data-role="trim-thumb"]')||c.closest('[data-role="draggable-timeline-item"]'))this.fQb=null;else{this.TUc.push({x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()});this.TUc.length>5&&this.TUc.shift();c=b.touches[0].pageX-this.GDo;var d=b.touches[0].pageY-this.HDo;if(!this.fQb&&(Math.abs(c)>5||Math.abs(d)>5)){const e=Math.abs(Math.atan2(d,c)*180/Math.PI);this.fQb=e>=35&&e<=55||e>=125&&e<=145?"diagonal":e>55&&e<125?"vertical":"horizontal"}b.preventDefault();this.fQb==="horizontal"?
this.Xo.scrollTo({left:this.Fjl-c}):this.fQb==="vertical"?this.Xo.scrollTo({top:this.Gjl-d}):this.fQb==="diagonal"&&this.Xo.scrollTo({left:this.Fjl-c,top:this.Gjl-d})}}};this.onTouchEnd=()=>{if(this.zu){if(this.fQb&&this.TUc.length>=2&&!(this.TUc.length<2)){var b=this.TUc[0],c=this.TUc[this.TUc.length-1],d=c.timestamp-b.timestamp;if(d!==0){var e=40*(c.x-b.x)/d;b=40*(c.y-b.y)/d;this.fQb==="horizontal"?Math.abs(e)>=5&&GHs(this,e,0,this.fQb):this.fQb==="vertical"?Math.abs(b)>=5&&GHs(this,0,b,this.fQb):
this.fQb==="diagonal"&&(Math.abs(e)>=5||Math.abs(b)>=5)&&GHs(this,e,b,this.fQb)}}this.zu.removeEventListener("touchmove",this.onTouchMove);this.zu.removeEventListener("touchend",this.onTouchEnd);this.zu.removeEventListener("touchcancel",this.onTouchEnd);this.fQb=null;this.TUc=[]}}}};var C2s=({RH:a})=>{const b=mV(null);kRs(a,()=>()=>{var c,d,e,f;return{left:(e=(c=b.current)===null||c===void 0?void 0:c.getBoundingClientRect().left)!==null&&e!==void 0?e:0,top:(f=(d=b.current)===null||d===void 0?void 0:d.getBoundingClientRect().top)!==null&&f!==void 0?f:0}});return gV("div",{ref:b})};var D2s=class{static G(a){O(a,{x:CV.ref,UTk:jV.bound,l0g:jV.bound})}UTk(){this.currentNode=null;this.x=void 0}l0g({clientX:a,target:b}){b instanceof HTMLElement&&(this.currentNode=b);this.pIl&&!this.p7e&&(b=n(this.RH.current)().left,this.x=Math.floor(a-b),requestAnimationFrame(()=>{this.p7e=!1}),this.p7e=!0)}constructor(a,b){this.anchor=a;this.RH=b;this.x=(D2s.G(this),void 0);this.currentNode=null;this.pIl=!1;this.Ujb=null;this.p7e=!1;this.Gw=[];this.Aq=c=>{if(c)this.Ujb=c,this.Ujb.addEventListener("pointermove",
this.l0g),this.Ujb.addEventListener("pointerleave",this.UTk),this.Gw.push($Cs(this,"x",()=>this.pIl=!0),aDs(this,"x",()=>{this.pIl=!1;this.x=void 0}));else{var d,e;this.Gw.forEach(f=>f());this.Gw=[];(d=this.Ujb)===null||d===void 0||d.removeEventListener("pointermove",this.l0g);(e=this.Ujb)===null||e===void 0||e.removeEventListener("pointerleave",this.UTk)}}}};var WMs=()=>{const a=MV(),b=gV(C2s,{RH:a});return new D2s(b,a)};var pIs=a=>{const b=QV((c,d)=>{const e=a.Ow.YIa,f=a.Ow.pGg;c=e(c);d=(d+c)/1E6;var g;const {Vda:h,durationUs:k}=(g=f(d,!0,!0))!==null&&g!==void 0?g:{};return h==null||k==null?!1:__c.PXb(d,h/1E6)||__c.PXb(d,(h+k)/1E6)});return c=>gV(E2s,{...a,...c,Sjr:b})},F2s=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.85,transform:"scaleY(0.8) scaleX(1) translateY(-10%)"},
{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],G2s=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],H2s={duration:300,delay:0,iterations:1,easing:"ease-in-out"},I2s=JV(({Aac:a,hidden:b,H6q:c,VDr:d,variant:e,hXs:f})=>{const g=mV(null);d&&f&&g.current&&g.current.animate(f,H2s);return gV("div",{className:GV("f0aYVA",
{kNIzGQ:!c,I3G7WA:b,MEMgRA:e==="minor",NK_BJA:e==="major"}),style:{left:a},children:gV("div",{ref:g,className:"daN0cw"})})}),E2s=iV(a=>{const b=a.Wz,c=a.Ar,d=a.zC,e=a.Sjr;var f=__c.dn();const g=mV(null),h=parseInt("9px",10);a=pV(()=>{if(c.e3e(d.track))return SHs(b,d,{bgi:!0})}).get();let k;ub.od&&(k=f?G2s:F2s);f=gV("div",{ref:g,className:"Gx7VhA",children:a&&a.map(({MCa:l,Aac:m,Ygs:p})=>{p=p===1?"major":"minor";const q=!!g.current&&m>g.current.offsetWidth-h,r=e(d.startUs,l);return gV(I2s,{Aac:m,hidden:!b.GUi&&
p==="minor",variant:p,H6q:q,VDr:r,hXs:k},l)})});return gV("div",{className:"jh1bHw",children:gV(__c.sqh,{duration:250,qXj:50,s4h:"0px",t4h:"6px",hca:"fill-height",keyFrame:a?0:1,direction:a?"back":"forward",children:a&&f})})});var vIs=class{getKey(a){var b=this.wKc.get(a);if(b)return b;b=this.Qk.next();this.wKc.set(a,b);return b}constructor(){this.Qk=new __c.bj;this.wKc=new WeakMap}};var J2s=parseInt("32px",10),K2s=parseInt("8px",10)-parseInt("2px",10),QHs=iV(({kwj:a,Wz:b,...c})=>{var d=b.isVisible;if(b.tracks.length===0||!d)return null;d=c.F5a;const e=c.g$i,f=c.f$i;return gV(L2s,{height:b.jKh,cMc:b.cMc,mi:c.mi.get(),Wz:b,children:gV(M2s,{kwj:a,Wz:b,g$i:e,f$i:f,F5a:d})})}),L2s=iV(({height:a,children:b,cMc:c,mi:d,Wz:e})=>{const f=kV(h=>{e.DFc||Math.abs(h.deltaX)<Math.abs(h.deltaY)&&c&&h.stopPropagation()},[c,e.DFc]),g=e.QAo;d=e.DFc?void 0:GV("_3yePLA",{BB1YKg:c,Gc_ROA:d});return gV("div",
{className:GV("kEJzaQ",{_26_dsw:!e.DFc&&ub.od}),style:{height:a},children:gV("div",{onWheel:f,style:{minWidth:e.zwj,paddingLeft:g+J2s,marginLeft:-(g+J2s),paddingBottom:e.DFc?void 0:K2s,marginBottom:e.DFc?void 0:-K2s},className:d,children:b})})}),M2s=iV(({kwj:a,Wz:b,g$i:c,f$i:d,F5a:e})=>{const f=mV(null),g=mV(null),h=kV(q=>{const r=b.dJk;switch(b.mode){case "min":r();break;case "max":f.current===q.target&&b.Ar.g2a()}},[b]),k=kV(q=>{if(q.key===" "||q.key==="Enter")b.dJk(),q.stopPropagation()},[b]);
lV(()=>{if(!EV.tah)return hV(()=>b.Yzn,(q,r)=>{q>r&&requestAnimationFrame(()=>{var t;return(t=g.current)===null||t===void 0?void 0:t.scrollIntoView({behavior:"smooth"})})},{fireImmediately:!1})},[b,g]);const l=b.ufg,m=b.iZc,p=m.length-1;return gV("div",{ref:f,className:"_4kOaA",style:{height:b.DFc?"100%":b.jKh},onMouseDown:h,onKeyDown:k,tabIndex:0,children:m.map((q,r)=>gV("div",{ref:r===p?g:void 0,style:{height:l},className:GV("_4EOFyQ","_3dkatg",{_26_dsw:!b.DFc&&ub.od}),children:gV(d,{children:q.map(t=>
gV(c,{zC:t,F5a:e},a.getKey(t)))})},r))})});var N2s=parseInt("16px",10),O2s=(parseInt("2px",10)||2)*2,P2s=parseInt("4px",10)||4,ZHs=parseInt("28px",10)||28,Q2s=ZHs+O2s,R2s=class{static G(a){O(a,{lKh:CV.ref,qja:CV.ref,Bwj:CV.ref,Kch:CV.ref})}constructor(a){this.iyk=a;this.lKh=(R2s.G(this),"min");this.Bwj=new Map;this.Kch=new ei(155,155,155,1);this.kln=0}},lIs=class{static G(a){O(a,{F5b:CV.ref,unk:CV.ref,vwj:CV.ref,opj:CV.ref,QAo:pV,mode:pV,dJk:jV.bound,U0c:pV,mR:pV,jvm:pV,Q4h:pV,tracks:pV,isVisible:pV,lbm:pV,vqa:pV,ufg:pV,ywj:pV,mKh:pV,ihm:pV,
cMc:pV,DFc:pV,jKh:pV,zwj:pV,GUi:pV,XFi:pV,sfg:pV,$am:pV,Qjo:jV.bound,vfg:pV,iZc:pV,Yzn:pV,whd:pV,hdg:jV.bound,W4s:jV.bound,hll:jV,Aia:jV,RBa:jV,SFa:jV,B$d:jV,qab:jV,Qna:jV,wBj:pV,sqh:jV,uCj:jV,dFn:jV,FZb:jV,cFn:jV,ws:pV,i4e:jV.bound,TLl:pV,WRd:pV,$li:pV,ftn:jV,ktn:jV})}pDg({zC:a,width:b,height:c}){return{startUs:0,durationUs:a.jT,width:b,height:c,volume:a.track.volume}}get QAo(){return this.Ow.veb}get mode(){return this.Jhb.rTm?"max":this.store.lKh}dJk(){VHs(this);const a=this.iZc[0][0];a&&this.Ar.select(a.track)}get U0c(){return this.Ar.$Ra}get mR(){return this.Ar.mR||
[]}get jvm(){return this.U0c?my(this.Ar,this.U0c):void 0}get Q4h(){var a,b;if((b=this.K8b)===null||b===void 0?0:(a=b.wOd)===null||a===void 0?0:a.size)return Array.from(this.K8b.wOd.values(),c=>{const d=Rps(this.K5,c);d.r7a=c.trim;return d})}get tracks(){return this.K5.KC.map(a=>a.track)}get isVisible(){var a;return this.K5.ZC||!((a=this.Q4h)===null||a===void 0||!a.length)}get lbm(){return{hHa:this.mode==="min"?P2s:ZHs,Lc:O2s}}get vqa(){return this.xyg&&!this.Ow.VJ&&!this.isVisible&&!this.F5b&&!!this.Jhb.l0k&&
!this.Jhb.iei.get()}get ufg(){var a=this.isVisible?this.lbm.hHa:0;if(this.mode==="min")return a;const b=this.kKh/this.iZc.length-O2s;var c=this.ws?ZHs:24;return b<c?(a=this.kKh-8,c=Math.floor(a/c),(a+O2s*c)/c-O2s):Math.min(a,b)}get ywj(){return this.ufg+O2s}get mKh(){return this.iZc.length*this.ywj}get ihm(){return(this.isVisible?this.jKh:0)+(this.F5b?Q2s:0)+(this.vqa?ZHs:0)}get cMc(){return!this.DFc&&this.kKh<this.mKh}get DFc(){return this.lEf.get()||EV.tah}get jKh(){return this.DFc?this.mKh:Math.min(this.kKh,
this.mKh)}get zwj(){return this.Ow.nMd+N2s+16}get GUi(){return this.TFl.get()>=2}get isLinear(){return this.Ow.isLinear}get XFi(){const a=this.Sla.Qbd.get();if(!(!a||this.timing.Ws&&this.mi.get())){var b=this.Sla.Xfd;return{MCa:a,sgd:a===0?0:b,N3c:b}}}get sfg(){const a=this.Ar.hDa;return this.vfg.filter(({track:b})=>b!==(a===null||a===void 0?void 0:a.track)).flatMap(b=>[b.startUs,b.startUs+b.durationUs])}get $am(){return this.vfg.flatMap(a=>this.Ar.e3e(a.track)?SHs(this,a,{bgi:this.GUi}).map(b=>b.MCa):
[])}Qjo(a){a=__c.di(a);a instanceof __c.Sh&&(a=__c.gi(a));this.store.Kch=a}get vfg(){var a;let b=this.tracks.map(c=>this.K5.RO(c));if((a=this.Q4h)===null||a===void 0?0:a.length)b=b.concat(this.Q4h);return b}get iZc(){var a=this.jvm;const b=new Set(this.tracks);a=this.Ar.hDa?this.gil.SGi.map(d=>d.filter(e=>b.has(e.track))):cIs(this.gil,this.vfg,a);const c=this.WRd;return c?a.map(d=>d.includes(c)?[c]:d):a}get Yzn(){return this.vfg.filter(a=>{var b;return((b=a.audio)===null||b===void 0?void 0:b.G5b)!==
2}).length}get whd(){return this.Ow.QFl*1E6}hdg(a,b){this.gil.hdg(a,b)}W4s(a){return this.iZc.length<1?!1:this.iZc[0].some(b=>b===a)}hll({track:a}){switch(this.r2b.get()){case "single":this.Ar.mc(a)||this.Ar.select(a);break;case "command":this.Ar.mc(a)?YHs(this,a):this.Ar.select(...this.mR,a);break;case "shift":this.Ar.select(...this.mR,a)}}Aia(a,b){var c,d,e,f,g;(c=this.wA)===null||c===void 0||c.pause();this.Ar.Psb(a,b);(d=this.wA)===null||d===void 0||d.m2e();(e=this.wA)===null||e===void 0||$Js(e,
{MFm:!0});(g=this.Lk)===null||g===void 0||(f=g.rN)===null||f===void 0||f.call(g,new ip)}RBa(a,b){var c,d;const e=a.trim,f=a.track,g=a.jT,h=e.startUs+b-a.startUs;if(h!==e.startUs){(c=this.wA)===null||c===void 0||c.seek(Math.max(b,0)/1E6,"start");this.Ar.select(a.track);var k;this.Ar.Ufe(a,h,(k=(d=f.trim)===null||d===void 0?void 0:d.endUs)!==null&&k!==void 0?k:g);this.Ar.SMk(a,b);this.store.qja="start"}}SFa(a,b){var c;const d=a.trim,e=b-a.startUs+d.startUs;e!==d.endUs&&((c=this.wA)===null||c===void 0||
c.seek(b/1E6,"end"),this.Ar.Ufe(a,d.startUs,e),this.store.qja="end")}B$d(a,b){this.Ar.Ufe(a,b,b+a.durationUs)}qab(a,b,c="start"){var d,e;const f=b-((e=a.startUs)!==null&&e!==void 0?e:0);this.mR.forEach(g=>{g=this.K5.RO(g);var h;const k=((h=g.startUs)!==null&&h!==void 0?h:0)+f;this.Ar.SMk(g,k)});a=c==="start"?b:b+a.durationUs;(d=this.wA)===null||d===void 0||d.seek(Math.max(a,0)/1E6,c);this.store.qja="start"}Qna(a){var b,c,d;const e=[];(b=this.wA)===null||b===void 0||aKs(b);for(const l of this.mR){var f;
b=this.K5.RO(l);var g;const m=(g=b.startUs)!==null&&g!==void 0?g:0;var h;const p=(h=b.durationUs)!==null&&h!==void 0?h:0;if(m+p<=0||m>this.Ar.dQe)e.push(b.track);else{var k;b.nYc!=null&&b.nYc<0&&!b.r7a&&this.Ar.Ufe(b,b.trim.startUs-b.nYc,(k=(f=b.track.trim)===null||f===void 0?void 0:f.endUs)!==null&&k!==void 0?k:b.jT);this.Ar.KCb(b,a)}}e.length>0&&this.Ar.aXd(e,"drag");(c=this.wA)===null||c===void 0||c.QZe(this.store.qja);(d=this.wA)===null||d===void 0||d.XG();this.store.qja=void 0}get wBj(){if(!this.U0c)return!1;
const a=my(this.Ar,this.U0c);return a.jT-a.durationUs>=5E4}sqh(a){var b;(b=this.wA)===null||b===void 0||b.pause();this.WRd||!this.wBj?this.Ar.KCb(a,"drag"):this.Ar.Psb(a,"adjust")}uCj(a){this.Ar.KCb(a,"drag")}dFn(a){this.Ar.g2a();this.F5b=Rps(this.K5,__c.NEc.create({...__c.$Yc,audio:a,id:void 0,loop:1}))}FZb(a){this.F5b&&(VHs(this),a&&!this.F5b.r7a&&(this.F5b.r7a={startUs:0,endUs:Math.min(a*1E6,this.whd)}),this.F5b.nYc=(this.Ow.Wze||0)*1E6)}cFn(){this.F5b=void 0}get ws(){return this.mi.get()||Vb()}i4e(a){this.opj=
a}get TLl(){return this.Ar.hDa||this.opj}get WRd(){const a=this.Ar.mAe;return this.Ar.ana==="adjust"?a:void 0}get $li(){return this.store.qja!==void 0}ftn(a){this.mR.length<1||this.Ar.aXd(this.mR,a)}ktn(){this.mR.length<1||this.Ar.lri(this.mR)}Jig(a){return this.Pma.status===Ux.Ek&&a.oxa===3}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y){this.Ar=a;this.K5=b;this.selection=c;this.gil=d;this.EKp=e;this.ret=f;this.Ow=g;this.Sla=h;this.Pma=k;this.Jhb=l;this.mi=m;this.r2b=p;this.TFl=q;this.lEf=r;this.timing=
t;this.xyg=u;this.K8b=w;this.wA=x;this.Lk=y;this.store=(lIs.G(this),void 0);this.F5b=void 0;this.W4m=this.unk=!1;this.vwj=[];this.opj=void 0;this.Apb=QV(z=>this.Ar.mc(z.track));this.Uin=QV(z=>{if(z.page==null)return!1;const A=this.selection.La;return(A===null||A===void 0?void 0:A.type)!=="pages"?!1:A.pages.includes(z.page)});this.M9h=IV(z=>{var A=this.Ow.YIa;A=A(z.startUs);var B=z.durationUs;const D=z.startUs;var G=this.Ow.nMd;const I=this.Ow.YIa;var K=I(D);B=B?I(D+B,{Egc:!0}):G;G=__c.wLe(this.Ar,
z)>1?G-K:B-K;K=XHs(this,z);B=z.durationUs;z=B===0?G:G/B*z.jT;return{Ejc:{width:z,cFd:z+A},height:this.ufg,left:A,width:G,color:K}});this.store=new R2s(pV(()=>g.isLinear));hV(()=>c.La,z=>{if(z)switch(z.type){case "audio":return this.mode==="min"&&VHs(this);case "elements":case "pages":break;default:throw new v(z);}});h.iKh=pV(()=>this.sfg);h.dLh=pV(()=>this.$am);hV(()=>({sfg:this.sfg,$Qs:this.XFi,Fib:this.Ow.m2c}),({sfg:z,$Qs:A,Fib:B})=>{const D=this.Ar.hDa;this.vwj=D?[...WHs(this,D,z,B),...(A?[A]:
[])]:[]},{equals:oV.shallow});this.ePb=new BJs(pV(()=>this.vwj),this.Sla.XJe,this.Lk);hV(()=>{var z;return(z=this.K8b)===null||z===void 0?void 0:z.wOd.size},z=>{z&&this.mode==="min"&&VHs(this)});this.kKh=Math.min(150,window.innerHeight/2)}};var tIs=iV(({Dc:a,Wz:b,Ow:c,connectDropTarget:d,drag:e,w3b:f})=>{c=c.nMd;lV(()=>hV(()=>!!b.F5b&&a.isDragging,g=>{g||b.cFn();b.unk=g}),[b,a]);return nV("div",{className:"HpykzQ",children:[nV("div",{className:"QtV_rQ",style:{width:c},children:[gV(__c.Vu,{size:"small",tone:"primary"}),gV(P,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",children:L("kpT/LQ")}),d(gV("div",{className:"h4fQaw"}))]}),!!e&&e.J3&&gV(S2s,{Wz:b,w3b:f})]})}),sIs=iV(({children:a,connectDropTarget:b,
Wz:c,drag:d,w3b:e})=>{const f=c.F5b;return b(nV("div",{style:{height:c.ufg},className:GV("JtDRuw",{a0TxoQ:!f}),children:[a,!!d&&d.J3&&f&&gV(T2s,{Wz:c,zC:f,w3b:e})]}))}),S2s=iV(({Wz:a,w3b:b})=>{const c=a.F5b,d=a.zwj;return gV("div",{className:GV("_4kOaA","wReuwA"),style:{height:Q2s,minWidth:d},children:gV("div",{className:"_4EOFyQ",children:gV(T2s,{w3b:b,Wz:a,zC:n(c)})})})}),T2s=iV(({w3b:a,zC:b,Wz:c})=>{const {width:d,left:e,color:f,height:g}=c.M9h(b);c=g>0?g:ZHs;return gV("div",{className:GV("Jqy7Tg",
"_88diBQ","wfJ8fA","_9bDcDg"),style:{width:d,height:c,transform:`translateX(${e}px)`},children:gV("div",{style:{background:ii(f),height:c},className:GV("_vhAag","VFKnig"),children:gV(a,{height:c,zC:b})})})});var mIs=class{hdg(a,b){this.dJl.set(a,b)}constructor(){this.SGi=[];this.dJl=new Map}},aIs=a=>(b,c)=>b===a?-1:c===a?1:b.startUs-c.startUs;var U2s=gRs(({position:a,children:b,R1c:c},d)=>gV("div",{className:GV("XpsM5g",a==="start"?"A5MWRw":"A_It_g",{oa1HGA:c}),ref:d,children:b}));var V2s,W2s,X2s,Y2s;
new (V2s=class extends NV{constructor(){super(Y2s);W2s()}},(()=>{class a extends(X2s=LV){static G(b){O(b,{mH:CV.ref,LVd:CV.ref,uCb:pV,transform:pV,transitionDuration:pV,Elf:pV,bjm:jV.bound})}get uCb(){return this.Elf>=8}get transform(){var b;const c=(b=this.mH)===null||b===void 0?void 0:b.scrollWidth;if(c&&!(this.Elf>=c)&&this.LVd!=="start")return`translateX(${(ub.direction===2?-1:1)*(this.Elf-c-8)}px`}get transitionDuration(){var b;const c=this.props.BLb,d=(b=this.mH)===null||b===void 0?void 0:b.scrollWidth;
if(!d||this.Elf>=d||this.LVd==="start")return"0s";b=Math.max(0,d-this.Elf)*60;return(c?Math.min(b,c):b)+"ms"}get Elf(){return this.mH?this.mH.clientWidth:0}bjm(b){this.mH=b;ma(100).then(()=>{uV(()=>{this.LVd="scrollToEnd"})})}render(){return gV("div",{style:{overflow:"hidden"},children:gV("div",{ref:this.bjm,onTransitionEnd:this.onTransitionEnd,style:this.uCb?{transform:this.transform,transitionDuration:this.transitionDuration,width:"max-content"}:{visibility:"hidden"},children:this.props.children})})}constructor(...b){super(...b);
this.mH=(Y2s.G(this),void 0);this.LVd="start";this.onTransitionEnd=async()=>{await ma(500);uV(()=>{this.LVd="start"});await ma(500);uV(()=>{this.LVd="scrollToEnd"})}}}({c:[Y2s,W2s]}=PV(a,[],[Ob],X2s))})(),V2s);var Z2s=iV(({color:a,Qgc:b,width:c,height:d,isVisible:e,rDr:f,zHc:g})=>{var h;const [k,l]=tV(!1),m=c<30;lV(()=>{m?l(e):e&&l(!0)},[e,m]);const p=b.audio,q=b.ZHc,r=b.playing,t=DV(()=>(p===null||p===void 0?void 0:p.G5b)===1?gV(__c.FVj,{size:"small",className:"f3EM7Q"}):(p===null||p===void 0?void 0:p.G5b)===2?gV(__c.Mar,{size:"small",className:"f3EM7Q"}):gV(__c.Vu,{size:"small",className:"f3EM7Q"}),[p===null||p===void 0?void 0:p.G5b]);if(!k)return null;const u=p===null||p===void 0?void 0:(h=p.uza[0])===
null||h===void 0?void 0:h.url,w=gV("div",{className:GV("_6wnscQ",{OhKKFQ:ub.od&&r}),style:{backgroundImage:q?void 0:u&&`url('${u}')`,height:d,width:d},children:q?gV(__c.thq,{size:"medium",className:"f3EM7Q"}):!u&&t});b=g?" \u2022 "+Ao(b.yv,"short"):null;const x=(p===null||p===void 0?void 0:p.title)&&gV("span",{className:"_6Rqrbw",children:nV(P,{size:"small",weight:"bold",className:"_4fk5QQ",children:[p.title,b]})});if(m&&e)return gV(__c.ad,{placement:"top-center",open:!0,level:7,reference:gV("div",
{className:"y47BuQ",style:{left:c/2}}),children:({Dbb:y})=>nV(xV,{children:[gV("div",{ref:y,className:"F92n0Q",children:gV(__c.uha,{inset:!1})}),nV("div",{className:"TIZRTw",children:[w,x]})]})});b=new ei(a.r,a.g,a.b,a.a*.1);a=new ei(a.r,a.g,a.b,a.a*.9);a=`linear-gradient(270deg, ${ii(b)}, ${ii(a)} 10%)`;return gV("div",{className:GV("_J8ciQ",{F3278A:e}),onTransitionEnd:()=>l(e),children:nV("div",{className:"_2WXYNA",style:{maxWidth:c,background:a},children:[w,gV("div",{className:"S_recA",children:(p===
null||p===void 0?void 0:p.title)&&e&&gV(Y2s,{BLb:f,children:x})})]})})});var $2s=({yv:a,position:b})=>gV(U2s,{position:b,R1c:!0,children:gV(Wu,{tone:"contrast",className:"_3N1ong",text:Ao(a,"short")})});var b3s=iV(({zC:a,YIa:b,yKp:c,height:d,M_d:e,N_d:f})=>{const g=a.startUs;a=g+a.durationUs;return nV("div",{className:"yzpIbg",style:{width:c},children:[e!=null&&gV(a3s,{position:"in",height:d,width:b(g+e,{Egc:!0})-b(g,{Egc:!1})}),f!=null&&gV(a3s,{position:"out",height:d,width:b(a,{Egc:!0})-b(a-f,{Egc:!1})})]})}),a3s=({position:a,height:b,width:c})=>gV("div",{className:GV("l2mSag",{JlSSfg:a==="in",_8HJtoA:a==="out"}),style:{borderTopWidth:b,borderRightWidth:a==="in"?c:0,borderLeftWidth:a==="out"?c:
0}});var c3s=parseInt("4px",10)||4,d3s=new ei(255,255,255,.7),e3s=new ei(255,255,255,.4),eIs=iV(({height:a,nwj:b,strokeColor:c,Wz:d,zC:e,LAc:f,Ho:g})=>{const h=pV(()=>THs(d,e,a,b!==null&&b!==void 0?b:0,d3s)).get(),k=e.buffer,l=e.loading;return gV("div",{className:"eFZIoQ",children:h.map(({state:m,draft:p,paddingRight:q},r,{length:t})=>nV(bMs,{children:[gV(f3s,{Ho:g,LAc:f,strokeColor:c,buffer:k,loading:l,state:m}),r<t-1&&gV(g3s,{draft:p,paddingRight:q,Ho:g,LAc:f,buffer:k,loading:l,state:m})]},r))})}),f3s=
({Ho:a,buffer:b,loading:c,state:d,strokeColor:e,LAc:f})=>{const [g,h]=gIs(a);return gV("div",{ref:h,className:"_956a7w",style:{width:d.width,height:d.height},children:gV("div",{className:GV({_GsTNw:c}),children:g&&gV(f,{buffer:b,state:d,strokeColor:e})})})},g3s=({draft:a,paddingRight:b,state:c,loading:d,buffer:e,LAc:f,Ho:g})=>{const h=b/(c.width/c.durationUs),k=DV(()=>{if(e&&!(c.width<=0)){a:{if(!(h<=0)){var l=Math.floor(Math.floor(h/1E6*e.sampleRate)/6);var m=l*6,p=Math.floor((c.startUs+c.durationUs)/
1E6*e.sampleRate);if(p){var q=new AudioBuffer({length:m,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate});for(let r=0;r<e.numberOfChannels;r++){const t=e.getChannelData(r).subarray(Math.max(p-l,0),p),u=new Float32Array(m);for(let w=0;w<m;w+=t.length)u.set(t.subarray(0,m-w),w);q.copyToChannel(u,r)}l=q;break a}}l=void 0}return l}},[e,c.width,c.durationUs,c.startUs,h]);return k?gV("div",{className:"eFZIoQ",children:gV(f3s,{Ho:g,LAc:f,buffer:k,loading:d,state:{...c,startUs:0,width:b,durationUs:h},
strokeColor:e3s})}):gV("div",{className:GV("SReuxg",{t5Herg:a}),style:{height:c.height},children:gV(h3s,{loading:!e,width:b})})},h3s=({loading:a,width:b,strokeWidth:c=.6})=>gV("div",{className:GV("_FzNpw",{_GsTNw:a}),style:{width:b,transform:`scaleY(${c})`}});var i3s=a=>{const b=a.maxWidth,c=a.oxa,d=a.W0;a=a.onClick;const e=DV(()=>c===6?gV(Wu,{tone:"contrast",className:"OCkX1Q",text:L("BkrRaA")}):c===5?gV(Wu,{tone:"contrast",className:"OCkX1Q",text:L("RySxhA")}):gV(Wu,{tone:"contrast",className:"OCkX1Q",icon:gV(ey,{size:"small"}),text:L("dSA0bg")}),[c]);return gV(U2s,{position:"start",children:gV(pr,{placement:"top",label:c===1?L("2dWxvA"):c===4?L("qChmPQ"):c===3&&d?L("UbEuXg"):c===6?L("95DsmA"):c===5?L("YLh62g"):L("Q2vs6g"),children:gV("div",{style:{"--Akz5Cw":`${b}px`},
children:d?nV(__c.GZg,{tone:"primary",className:"OCkX1Q",onClick:a,children:[gV(__c.Ox,{size:"small"})," ",L("dSA0bg")]}):e})})})};var j3s,k3s,l3s,m3s=parseInt("40px",10)||40,n3s=parseInt("96px",10)||96,o3s=parseInt("8px",10)||8,p3s=Qb("399dfcd7",!1),q3s;
new (j3s=class extends NV{constructor(){super(q3s);k3s()}},(()=>{class a extends(l3s=LV){static G(b){O(b,{Eza:pV,mc:pV,opacity:pV,bkh:pV,gei:pV,BUi:pV,Xro:pV,Tpo:pV,Vpo:pV,x5n:pV,Jig:pV,Z2m:pV,Upo:pV,lZa:jV.bound})}get Eza(){return this.props.Wz.M9h(this.props.zC)}get mc(){return this.props.Wz.Apb(this.props.zC)}get opacity(){const b=this.props.Ow.IRg;return this.props.Fo&&b?.5:this.props.Wz.mR.length<1?1:this.mc?1:.5}get bkh(){const b=this.props.Wz,c=this.props.exc;return this.props.zC.ZHc?!0:this.props.Ow.zHc?
this.Eza.width<30?c:!(this.gei||c):c&&(b.ws?this.mc:!this.mc)}get gei(){return this.props.Wz.TLl===this.props.zC}get BUi(){const b=this.props.Ar,c=this.props.Qza,d=this.props.Wz.WRd===this.props.zC;return this.Eza.width>m3s&&this.mc&&!d&&(!this.gei||c.Tr)&&!b.Gdn}get Xro(){return this.props.zC.oxa!=null&&this.BUi&&!this.bkh}get Tpo(){const b=this.props.zC;return!this.props.Ow.zHc&&b.oxa==null&&this.BUi&&!this.bkh}get Vpo(){const b=this.props.Wz;if(!this.props.vro)return!1;const c=this.Eza.width>n3s;
return!this.props.Fo&&this.BUi&&c&&!b.$li}get x5n(){const b=this.props.Fo,c=this.Eza.width,d=o3s*2;return c<=n3s||b?c-d:c-d-m3s}get Jig(){return this.props.Wz.Jig(this.props.zC)}get Z2m(){const b=this.props.zC,c=b.N_d;return b.M_d||c}get Upo(){return!this.gei&&!this.bkh&&this.Z2m}get justifyContent(){return this.props.wtb==="start"?"flex-end":"flex-start"}lZa(b){this.props.lZa(b,this.props.zC.track)}render(){const b=this.props.M4q,c=this.props.zC,d=this.props.Wz,e=this.props.Fo;var f=this.props.Ow;
const g=f.YIa;f=f.zHc;const h=this.props.w3b,k=this.props.u$i,l=this.props.nwj,m=this.props.visible,p=this.props.gok,q=c.yv,r=c.M_d,t=c.N_d,u=this.Eza.height,w=this.Eza.width,x=this.Eza.color,y=this.props.Qza.cic,z=u-c3s*2,A=d.Uin(c);return gV("div",{style:{opacity:this.opacity,justifyContent:this.justifyContent,background:ii(x),width:w,height:u,contain:p3s?"paint":void 0},className:GV("_vhAag",{OlLBHQ:b,VFKnig:this.mc&&!e&&!p,Q7X_1A:A&&!e&&!p,_9YosPg:p}),children:m&&nV(xV,{children:[gV(h,{height:u,
nwj:l,zC:c}),k&&gV(k,{zC:c}),this.Upo&&gV(b3s,{zC:c,YIa:g,yKp:w,M_d:r,N_d:t,height:u}),this.Tpo&&gV($2s,{position:"start",yv:q}),c.oxa&&this.Xro&&gV(i3s,{maxWidth:this.x5n,oxa:c.oxa,W0:this.Jig,onClick:()=>{d.Pma.Pd("editing_commercial_music_upgrade_badge","paywall")}}),!p&&gV(Z2s,{color:x,Qgc:c,isVisible:this.bkh,rDr:e?3E3:void 0,width:w,height:z,zHc:f}),this.Vpo&&y&&gV(U2s,{position:"end",children:gV(y,{visibility:"always",Ch:this.lZa,ariaLabel:L("iQUYNA")})})]})})}constructor(...b){super(...b);
a.G(this)}}({c:[q3s,k3s]}=PV(a,[],[Ob],l3s))})(),j3s);var r3s,s3s,t3s,u3s;
new (r3s=class extends NV{constructor(){super(u3s);s3s()}},(()=>{class a extends(t3s=LV){static G(b){O(b,{onDragEnd:jV.bound,onDragStart:jV.bound,onDrag:jV.bound,SHb:pV})}onDragEnd(b){var c,d;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b)}onDragStart(b){var c,d;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}onDrag(b,c,d){const e=this.props.A9g;c=e(c);this.props.onDrag(Math.max(this.props.min,Math.min(Math.round(b-c),this.props.max)),d)}get SHb(){const b=this.props.time;
return b===this.props.min?"w-resize":b===this.props.max?"e-resize":"ew-resize"}render(){return gV(T0s,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,bma:{type:"fullWidth"},time:this.props.time,max:this.props.max,min:this.props.min,cursor:this.SHb})}constructor(...b){super(...b);a.G(this)}}({c:[u3s,s3s]}=PV(a,[],[Ob],t3s))})(),r3s);var v3s=iV(a=>{const b=a.jT,c=a.A9g,d=a.trim,e=a.onDrag,f=a.onDragStart,g=a.onDragEnd,h=d.endUs-d.startUs;return nV("div",{className:"HxvUnQ i1mS2A",children:[gV("div",{className:"x3tMUw i1mS2A",children:a.children}),gV(u3s,{min:0,max:b-h,time:d.startUs,A9g:c,onDrag:e,onDragStart:f,onDragEnd:g})]})});var w3s,x3s,y3s,z3s=parseInt("2px",10)*2||4,A3s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),B3s=parseInt("8px",10)||8,C3s;
new (w3s=class extends NV{constructor(){super(C3s);x3s()}},(()=>{class a extends(y3s=LV){static G(b){O(b,{HRg:CV.ref,kK:CV.ref,wtb:CV.ref,klh:pV,rEf:pV,eKk:jV,Aia:jV,Qna:jV,onDoubleClick:jV.bound,yBn:jV.bound,xBn:jV.bound,Tsn:jV.bound,Eza:pV,zNa:pV,XNa:pV,gxa:pV,pDg:pV,U2f:pV})}get klh(){const b=this.props.Apb,c=this.wtb!=null&&this.wtb!=="fullWidth";this.wtb||(this.mlh=b&&this.Eza.width<50);return!c&&this.mlh}get rEf(){const b=this.props.Wz;return this.HRg&&b.mR.length===1}onDoubleClick(){this.props.Wz.sqh(this.props.zC)}yBn(){this.kK=
!0}xBn(){this.kK=!1}Tsn(){return this.zNa?(this.props.Wz.uCj(this.props.zC),!0):!1}get Eza(){return this.props.Wz.M9h(this.props.zC)}get zNa(){return this.props.zC===this.props.Wz.WRd}get XNa(){const b=this.props.zC.trim,c=this.props.zC.startUs;return this.rEf?0:Math.max(0,c-b.startUs)}get gxa(){var b=this.props.zC;const c=this.props.Wz.whd,d=b.trim,e=b.startUs;b=b.jT;return this.rEf?c:Math.min(c,b-d.startUs+e)}componentDidMount(){this.Jhd.current&&(this.L9e=this.Jhd.current.rkb);Kb(this,[lus(()=>
{if(this.kK){var b=Ao(this.props.zC.trim.startUs/1E6,"short");uV(()=>{this.currentTime.set(b)})}})])}L9e(){}get eXl(){return gV(q3s,{...this.props,wtb:this.wtb})}get pDg(){return this.props.Wz.pDg({zC:this.props.zC,width:this.Eza.Ejc.width,height:this.Eza.height})}get TRo(){const b=this.props.zC,c=this.props.LAc,d=b.buffer,e=b.trim,f=b.jT,g=this.Eza.Ejc,h=this.Eza.color,{$uo:k,A9g:l}=UHs(b,this.Eza.width);return nV(xV,{children:[gV("div",{className:"SKenVg",style:{left:-k,width:g.width},children:nV(v3s,
{jT:f,A9g:l,trim:e,onDrag:this.Q0r,onDragStart:this.yBn,onDragEnd:this.xBn,children:[gV(c,{buffer:d,state:this.pDg,strokeColor:h}),gV("div",{className:"myOKOg",style:{left:k},children:this.eXl})]})}),gV(O0s,{isOpen:this.kK,children:this.currentTime})]})}get U2f(){const b=this.props.Wz;var c=this.props.Apb;const d=b.Uin(this.props.zC);if(b.ws)return{type:"touch",isVisible:!0};const e=b.TLl===this.props.zC,f=this.Eza.width>=50;c=c||d;return{type:"pointer",FRa:this.klh?"outside":"inside",isVisible:this.klh||
f&&e,Xzg:!f,qvh:b.isLinear,...(this.klh?{}:{hAf:c?b.isLinear?A3s:z3s:0,L6i:c?b.isLinear?A3s:0:0,borderRadius:B3s-(c&&b.isLinear?A3s:0)})}}get qwp(){const b=this.props.Fo;var c=this.props.zC;const d=this.props.Wz,e=this.props.LAc,f=this.props.Xo,g=d.ePb,h=d.ws,k=d.whd,l=d.U0c,m=c.buffer,p=c.startUs,q=c.jT,r=c.durationUs,t=this.Eza.Ejc;var {$uo:u}=UHs(c,this.Eza.width);u=(c=l===c.track&&!d.$li&&!this.zNa)?u:void 0;return nV("div",{className:GV("Yj83qw","_7EePFQ"),style:{left:u?-u:void 0,width:c?t.width:
void 0},children:[c&&gV("div",{className:"oaQBsQ",children:gV(e,{buffer:m,state:this.pDg})}),gV("div",{className:"myOKOg",style:{left:u},children:gV(nLs,{Xo:f,Fo:b,rZb:p,durationUs:r,qXg:1E5-r,i8d:1E5,zNd:g,X8b:{show:this.klh,appearance:d.ws?"light":"dark"},Qfb:this.Qfb,jT:q,XNa:this.XNa,OVg:k-1E5,gxa:this.gxa,RBa:this.RBa,SFa:this.SFa,qab:this.qab,Aia:this.Aia,Qna:this.Qna,bma:this.U2f,Nqb:h?void 0:this.i4e,Oqb:h?void 0:this.eqk,children:this.eXl})})]})}render(){return gV(__c.Pph,{T9g:["onMouseDown"],
ztg:["mousedown"],BOc:this.Tsn,children:gV("div",{onDoubleClick:this.onDoubleClick,children:this.zNa?this.TRo:this.qwp})})}constructor(...b){super(...b);this.currentTime=(C3s.G(this),CV.box(""));this.Jhd=MV();this.kK=this.HRg=!1;this.wtb=null;this.mlh=!1;this.lEr=(c,d,e)=>{d==="trim"&&(d=c.trim,c=e.type==="end"&&(d.endUs==null||d.endUs===c.jT),e.type==="start"&&!d.startUs||c)&&(this.HRg=!0)};this.eKk=(c,d)=>{var e;this.rEf&&this.props.Wz.qab(c,(e=c.track.startUs)!==null&&e!==void 0?e:0,d);this.HRg=
!1};this.Aia=c=>{const d=this.props.zC,e=this.props.Wz;this.wtb=c.type;a:{var f=c.type;switch(f){case "start":f="trim";break a;case "end":f="trim";break a;case "fullWidth":f="move";break a;default:throw new v(f);}}e.Aia(d,f);this.lEr(d,f,c)};this.RBa=c=>{const d=this.props.zC,e=this.props.Wz;c=Math.max(this.XNa,Math.min(c,this.gxa-1E5));var f;this.rEf&&c<=((f=d.track.startUs)!==null&&f!==void 0?f:0)?e.qab(d,c,"start"):(this.eKk(d,"start"),e.RBa(d,c))};this.SFa=c=>{const d=this.props.zC,e=this.props.Wz;
var f;const g=(f=d.track.startUs)!==null&&f!==void 0?f:0;f=c-(g+d.durationUs);this.rEf&&f>=0&&c<=e.whd?e.qab(d,c-d.durationUs,"end"):(this.eKk(d,"end"),e.SFa(d,c))};this.qab=c=>{this.props.Wz.qab(this.props.zC,c)};this.Q0r=c=>{this.props.Wz.B$d(this.props.zC,c)};this.Qna=c=>{const d=this.props.zC,e=this.props.Wz;this.wtb=null;e.Qna(c.kb);this.HRg=!1;!e.W4m&&e.Jig(d)&&(e.Pma.Pd("editing_commercial_music_upgrade_upon_trimming","paywall"),e.W4m=!0)};this.Qfb=(c,d,e)=>{c=this.props.Ow.YIa(c,e==="end"?
{Egc:!0}:void 0)+d;c=this.props.Ow.dHg(Math.abs(c))*Math.sign(c);return Math.floor(c)};this.i4e=()=>this.props.Wz.i4e(this.props.zC);this.eqk=()=>this.props.Wz.i4e(void 0)}}({c:[C3s,x3s]}=PV(a,[],[Ob],y3s))})(),w3s);var D3s=iV(a=>{const b=a.Ryr,c=a.zC;return gV("div",{className:"sNFUtw",children:qc(c.yv?b:1).map((d,e,{length:f})=>gV(q3s,{M4q:d!==f-1,nwj:d*c.durationUs,...a},d))})});var E3s,F3s,G3s,H3s;
new (E3s=class extends NV{constructor(){super(H3s);F3s()}},(()=>{class a extends(G3s=LV){static G(b){O(b,{wL:CV.ref,onMouseEnter:jV.bound,onMouseLeave:jV.bound,backgroundColor:pV,segments:pV})}onMouseEnter(){this.wL=!0}onMouseLeave(){this.wL=!1}get backgroundColor(){const b=this.props.color;return this.wL&&Wb()?ii(new ei(Math.max(0,Math.round(b.r*.75)),Math.max(0,Math.round(b.g*.75)),Math.max(0,Math.round(b.b*.75)),b.a)):ii(b)}get segments(){return THs(this.props.Wz,this.props.zC,0,0,new ei(0,0,0,
0))}render(){return nV("div",{className:"WAZQAw",children:[this.segments.map((b,c,{length:d})=>nV(bMs,{children:[gV("div",{style:{background:this.backgroundColor,width:b.state.width}}),c<d-1&&gV("div",{className:GV({wdkUww:b.draft}),style:{background:b.draft?void 0:this.backgroundColor,width:b.paddingRight}})]},c)),gV("div",{className:"mRU4jQ",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})]})}constructor(...b){super(...b);this.wL=(H3s.G(this),!1)}}({c:[H3s,F3s]}=PV(a,[],[Ob],G3s))})(),
E3s);var I3s,J3s,K3s,hIs;
new (I3s=class extends NV{constructor(){super(hIs);J3s()}},(()=>{class a extends(K3s=LV){static G(b){O(b,{exc:CV.ref,uCb:CV.ref,c3i:CV.ref,Klo:jV.bound,SP:jV.bound,onMouseEnter:jV.bound,onMouseDown:jV.bound,onMouseLeave:jV.bound,onKeyDown:jV.bound,Eza:pV,Apb:pV,zNa:pV,onContextMenu:jV.bound,Ppo:pV})}componentDidMount(){Kb(this,[hV(()=>this.c3i?this.Apb:!1,b=>{var c;b&&((c=this.c3i)===null||c===void 0||c.focus({preventScroll:!0}))},{fireImmediately:!0}),hV(()=>this.Apb,b=>{b&&this.props.Ow.zHc?this.exc=
!0:b&&this.props.Wz.ws?(this.exc=!0,window.clearTimeout(this.tIl),this.tIl=window.setTimeout(()=>{uV(()=>this.exc=!1)},3E3)):(this.exc=!1,window.clearTimeout(this.tIl))},{fireImmediately:!0})])}Klo(b){var c;this.c3i=b;(c=this.oSl)===null||c===void 0||c.call(this);b&&(this.oSl=this.props.Ho.observe(b,this.SP))}SP(b){this.uCb=b}onMouseEnter(){Wb()&&!this.Apb&&(this.exc=!0)}onMouseDown(){this.props.Wz.hll(this.props.zC)}onMouseLeave(){Wb()&&!this.Apb&&(this.exc=!1)}get Eza(){return this.props.Wz.M9h(this.props.zC)}get Apb(){return this.props.Wz.Apb(this.props.zC)}get zNa(){return this.props.Wz.WRd===
this.props.zC}get Ppo(){const b=this.props.zC.track,c=this.props.Wz.U0c;return this.zNa||c===b}render(){var b=this.props.zC,c=b.audio;b=b.bBk;const d=this.props.connectDropTarget;var e=this.props.drag;const f=this.props.Xo,g=this.Eza.width,h=this.Eza.height,k=this.Eza.Ejc,l=this.Eza.left,m=this.Eza.color;c=(c===null||c===void 0?0:c.title)?J("avLR6Q",[c.title]):L("78k0WQ");e=!!e&&e.J3;return nV(xV,{children:[gV("div",{role:"button",tabIndex:0,ref:this.Klo,className:GV("Jqy7Tg","YAK7xA",{KjB4eQ:ub.od,
_88diBQ:this.props.Wz.mode==="max",wfJ8fA:this.Apb,iB8f7A:b}),style:{width:g,height:h,transform:`translateX(${l}px)`},"aria-label":c,onKeyDown:this.onKeyDown,onMouseEnter:this.onMouseEnter,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onContextMenu:this.onContextMenu,children:d(nV("div",{className:"yCmjww",children:[gV(L3s,{...this.props,color:m,exc:this.exc,Apb:this.Apb,gok:e||b,visible:this.uCb||this.zNa,Xo:f}),nV("div",{className:GV("ewoWEQ",{AclNdg:b,HTgLsA:e||
b}),style:{height:h},children:[e&&nV(xV,{children:[gV(__c.Q4f,{size:"small"}),gV(P,{size:"small",weight:"bold",alignment:"center",tagName:"span",className:"jQln9Q",children:L("txGylQ")})]}),b&&nV(xV,{children:[gV(__c.Vu,{size:"small"}),gV(P,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",className:"VFOWng",children:L("0GDd5g")})]})]})]}))}),gV("div",{style:{width:this.Ppo?k.cFd:void 0},"aria-hidden":!0})]})}constructor(...b){super(...b);this.exc=(hIs.G(this),!1);this.uCb=
!0;this.c3i=null;this.tIl=void 0;this.onKeyDown=c=>{const d=this.props.Wz,e=this.props.zC,f=this.props.Qza;if(c.key===" "||c.key==="Enter")d.hll(e),c.stopPropagation();if(c.key==="Escape"){var g;(g=f.Npd)===null||g===void 0||g.call(f);this.zNa?d.uCj(e):d.Ar.g2a();c.stopPropagation()}};this.onClick=c=>{const d=this.props.F5a;this.props.mi.get()||d(c)};this.onContextMenu=c=>{const d=this.props.zC,e=this.props.onContextMenu;this.props.Ma.mode<40||(c.preventDefault(),Ic.yba||Ic.wzd||e(c,d.track))}}}({c:[hIs,
J3s]}=PV(a,[],[Ob],K3s))})(),I3s);var L3s=iV(a=>{var b=a.mi.get();if(a.Wz.mode==="min")return gV(H3s,{color:a.color,zC:a.zC,Wz:a.Wz});b={zC:a.zC,Ar:a.Ar,Wz:a.Wz,Fo:b,w3b:a.w3b,LAc:a.LAc,u$i:a.u$i,Ow:a.Ow,exc:a.exc,visible:a.visible,gok:a.gok,lZa:a.lZa,Qza:a.Qza};const c=__c.wLe(a.Ar,a.zC);return a.Ma.mode<40||a.Wz.ws&&!a.Wz.Apb(a.zC)||c>1||a.zC.ZHc||a.zC.bBk?gV(D3s,{...b,vro:!1,Ryr:c}):gV(C3s,{...b,Xo:a.Xo,vro:!0,Apb:a.Apb})});var jIs=parseInt("12px",10)||12;var uIs=a=>{const b=a.label;return gV(S,{paddingTop:"0.5u",paddingBottom:"1u",children:gV("div",{className:"Z_ItSA",children:nV(sr,{onClick:a.onClick,alignment:"start",ariaLabel:b,children:[gV(__c.Vu,{size:"small",tone:"primary",className:"csNU_A"}),gV(P,{size:"small",weight:"bold",alignment:"start",tagName:"span",tone:"primary",children:b})]})})})};var nIs=["#33bfff","#fbbe28","#7fdc42","#00c4cc","#ff6673"].map(a=>__c.yJa(a)),oIs=__c.yJa("#8d39fa"),qIs=parseInt("16px",10)||16;var VMs=class{static G(a){O(a,{eYl:CV.ref,j1l:CV.ref,QVl:CV.ref,n2l:CV.ref,loe:CV.ref})}get E3c(){return this.ooo.value}constructor(){this.ooo=(VMs.G(this),new __c.Ik)}};var TMs=class{static G(a){O(a,{Xfd:pV})}get Xfd(){return this.SBa.get()<=0?0:10/this.SBa.get()*1E6}constructor(a){this.SBa=a;this.XJe=(TMs.G(this),CV.box(!1));this.Qbd=CV.box(void 0);this.Tdh=pV(()=>[]);this.Bug=pV(()=>[]);this.iKh=pV(()=>[]);this.dLh=pV(()=>[])}},YMs=a=>{const b=jV(c=>{({maxTouchPoints:e,userAgent:d}=navigator);var d,e;return a.XJe.set((!/Mac OS/i.test(d)||/iphone|ipad/i.test(d)?0:e<=1)?c.metaKey:c.ctrlKey)});window.addEventListener("keydown",b);window.addEventListener("keyup",b);
return()=>{window.removeEventListener("keydown",b);window.removeEventListener("keyup",b)}};var AIs=JV(function({currentTime:a,totalTime:b,tf:c,Gpa:d,LNs:e,rw:f,onChange:g,onSubmit:h}){return e?c>1?gV(yIs,{tf:c,Gpa:d,rw:f,onChange:g,onSubmit:h}):gV(P,{size:"medium",weight:"bold",className:"hGeclQ",children:d!=null?J("q6CACQ",[d,c]):J("plwCKA",[c])}):nV(P,{size:"medium",weight:"bold",className:"hGeclQ",children:[gV(__c.cE,{seconds:a})," / ",gV(__c.cE,{seconds:b})]})});var zIs=class{static G(a){O(a,{rw:CV.ref,qpl:jV})}qpl(a){this.rw=a&&this.document.pages.count()>1}Tfa(a){if(a>0&&a<=this.document.pages.count()){const b=this.P.sb("design_progress.go_to_page",{Fb:{name:"editor.page.navigate",type:"design_progress"}}),c=a-1,d=this.document.pages.toArray()[c],e=this.viewport.ya===d;if(e)b.abort();else{this.viewport.hw(d);switch(d.type){case "fixed":a=Bg(this.gb.$k(d));break;case "concatenated-fixed":a=!1;break;case "responsive":a=!0;break;default:throw new v(d);}this.N.XMd(d,
!e,b,{Xb:c,ZJ:1,Vzd:a,kb:"go_to_page",location:"status_bar"})}}}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.gb=c;this.N=d;this.P=e;this.rw=(zIs.G(this),!1)}};var DIs=class{static G(a){O(a,{uAd:CV.ref})}get isDragging(){return this.uAd!=null}constructor(){this.uAd=(DIs.G(this),void 0);this.xvo=this.Wmf=0}},EIs=class{onDragStart(a,b){var c;const d=((c=a.ggl)===null||c===void 0?0:c.isRecording())?a.ggl:this.P.sb("resize",{Fb:{name:"timeline.resize",performance:{lT:!0}}});a.ggl=d;a.uAd=b.clientY;b=this.Hda.oMd;a.xvo=b;a.Wmf=b}onDragEnd(a){a.uAd=void 0;const b=a.xvo;a=a.ggl;const c=M3s(),d=Math.round(b/c*100),e=Math.round(this.Hda.oMd/c*100);a===null||a===
void 0||a.mb().nk(({Ii:f})=>OGs(this.N,{l8k:d,OOj:e,aQk:this.Hda.HZg,Rb:f()}));a===null||a===void 0||a.ne()}pe(a,b){var c=a.uAd;if(c!=null){c-=b.clientY;var d=c+a.Wmf;c!==0&&this.Hda.Blo(d);a.uAd=b.clientY;a.Wmf=d}}constructor(a,b,c){this.Hda=a;this.N=b;this.P=c}},M3s=()=>{const a=__c.Zb();var b;return(b=a===null||a===void 0?void 0:a.height)!==null&&b!==void 0?b:window.innerHeight};var CIs=parseInt("12px",10)||12;var N3s=Vj(0,0,parseInt("128px",10)||128,parseInt("72px",10)||72),O3s=new Bj(0,0),KIs=iV(({store:a})=>{const b=mV(null);lV(()=>hV(()=>a.EDm,c=>{const d=b.current;d&&(c?(d.style.transform=`translate(${c.x}px, ${c.y}px)`,d.style.opacity="1"):d.style.opacity="0")},{scheduler:requestAnimationFrame}),[a]);return gV("div",{ref:b,className:"_FVm1g",children:a.OW&&gV(P3s,{page:a.OW.page,elements:a.OW.elements,kag:a.PXl,jrc:a.jrc})})}),P3s=iV(({page:a,elements:b,kag:c,jrc:d})=>gV("div",{className:"Qko23w",
children:b.slice(0,3).map((e,f)=>{const g=GV("vKg3MA",{_4Uxw3A:!d}),h=Vj(0,0,e.width,e.height).E0b(O3s,N3s);return gV("div",{className:g,style:d?void 0:{width:h.width,height:h.height},children:gV(c,{page:a,element:e,nd:h.width,sf:h.height})},f)})}));var JIs=iV(({item:a,onDragStart:b,jnq:c,spq:d,children:e})=>{const f=mV(null),g=kV(()=>{d.dzl=m=>{if(f.current){const {left:p,top:q,width:r,height:t}=f.current.getBoundingClientRect();d.Pze={x:Math.max(0,Math.min(r,m.x-p)),y:Math.max(0,Math.min(t,m.y-q))}}return b()}},[d,b]),h=kV(m=>{g();c.onMouseDown(m)},[g,c]),k=kV(m=>{g();c.onTouchStart(m)},[g,c]),l=kV(m=>{if(Ic.yba||Ic.wzd)m.preventDefault(),m.stopPropagation()},[]);a=d.Sen(a);return nV("div",{ref:f,className:"UPkX6w",onMouseDown:h,onTouchStart:k,
onContextMenu:l,"data-role":a?"draggable-timeline-item":void 0,children:[gV("div",{className:GV("ztu6Iw",{_NaLug:a}),children:e}),gV("div",{className:GV("GvBgmw",{_NaLug:a})})]})});var IIs=class{Wth(a){a={x:a.clientX,y:a.clientY};this.store.L_=a;__c.MEe(this.aca,a)}constructor(a,b){this.store=a;this.aca=b;this.onDragStart=c=>{const d=n(this.store.dzl)({x:c.clientX,y:c.clientY});this.store.OW=d;this.aca.VLc=!0;OEe(this.aca);this.Wth(c);return d};this.pe=c=>{this.store.p_h=!0;this.Wth(c)};this.onDragEnd=()=>{this.aca.VLc=!1;GIs(this.store)};this.Iw=c=>{this.Wth(c)}}};var HIs=class{static G(a){O(a,{L_:CV.struct,Pze:CV.struct,OW:CV.ref,p_h:CV.ref,jrc:CV.ref,yQg:CV.ref,PXl:pV,EDm:pV,isDragging:pV})}get PXl(){return this.jrc&&this.fYl?this.fYl:this.O0o}get EDm(){if(this.L_){var a=this.jrc&&this.Pze||{x:0,y:0};return{x:this.L_.x-a.x,y:this.L_.y-a.y}}}get isDragging(){return this.OW?this.mi.get()?this.p_h:!0:!1}constructor(a,b){this.O0o=a;this.mi=b;this.dzl=(HIs.G(this),void 0);this.yQg=this.jrc=this.p_h=!1;this.Sen=IV(c=>{var d,e;return this.isDragging?c.type!==void 0?
!((d=this.OW)===null||d===void 0||!d.elements.includes(c)):!((e=this.OW)===null||e===void 0||!e.wh.includes(c)):!1})}};var XJs=class{static G(a){O(a,{nd:CV.ref,sf:CV.ref,w_e:pV,gV:pV,quo:pV.struct,Qph:pV.struct,frameWidth:pV,XTm:pV({equals:tk(oV.shallow)}),$zn:pV,kSe:pV,nvo:pV})}static factory(a,b){return(c,d)=>new XJs(c,d,a,b)}update(a,b,c){var d=this.ULl,e=this.frameWidth,f=this.kSe;d.qja==null&&c==="start"&&(d.Khl=a%e-e);c==="start"?d.SLl=d.YIj-a:d.YIj=a;d.qja=c;d.kSe=f;d.frameWidth=e;this.nd=a;this.sf=b}get w_e(){return this.ULl.w_e}get gV(){return this.HJb.length>0&&this.nd>0&&this.sf>0}get quo(){let a=0;return this.HJb.reduce((b,
c)=>{const d=c.url,e=c.ZR,f=c.ut;a+=c.Jbc;b.push({url:d,ut:f,MK:e,rCp:a});return b},[])}get Qph(){const a=this.HJb.reduce((c,d)=>c+d.Jbc,0),b=this.HJb[0];return{Z3s:a,kat:b.lSc*1E6,...b}}get frameWidth(){const a=this.HJb[0];return Math.ceil(this.sf/a.U_a*a.V_a)}get XTm(){const a=this.Qph.V_a,b=this.Qph.U_a;let c=-1,d=0;return Array.from({length:this.$zn},(e,f)=>{const g=Math.floor(this.nvo+this.kSe*f);var h=this.quo.find(m=>g<m.rCp);if(!h)return null;e=h.url;f=h.MK;h=h.ut;const [k,l]=[g%f,Math.floor(g/
f)%h];g!==c?(c=g,d=0):d++;return{key:`${g}-${d}`,url:e,ut:h,MK:f,TIc:l,SIc:k,V_a:a,U_a:b}}).filter(tb)}get $zn(){return Math.ceil((this.nd-(this.w_e?this.w_e:0))/this.frameWidth)}get kSe(){const a=this.qd.gbk(this.Q7)/1E6*this.SBa.get()/this.frameWidth;return this.Qph.Z3s/a}get nvo(){var a;const b=((a=this.Q7.trim)===null||a===void 0?0:a.startUs)?this.Q7.trim.startUs/this.Qph.kat:0;return this.ULl.FAo+b}constructor(a,b,c,d){this.Q7=a;this.HJb=b;this.SBa=c;this.qd=d;this.nd=(XJs.G(this),0);this.sf=
0;this.ULl=new Q3s}},Q3s=class{static G(a){O(a,{qja:CV.ref,YIj:CV.ref,SLl:CV.ref,kSe:CV.ref,frameWidth:CV.ref,Khl:CV.ref,w_e:pV,FAo:pV})}get w_e(){if(this.qja==="start")return this.Khl}get FAo(){return this.qja!=="start"?0:Math.floor(this.SLl/this.frameWidth)*this.kSe}constructor(){this.qja=(Q3s.G(this),void 0);this.Khl=this.frameWidth=this.kSe=this.SLl=this.YIj=0}};var ZIs=class{static G(a){O(a,{nok:pV,nPb:pV,startUs:pV,sdh:pV,rowIndex:pV})}get nok(){return!!this.nPb||!!this.sdh}get nPb(){const a=this.startUs;return a==null?0:a-this.J9r}get startUs(){var a=this.RTa.startUs;if(a!=null)return a=this.ePb.MCa(a,void 0),Math.max(a,this.XNa)}get sdh(){const a=this.rowIndex;return a==null?0:a-this.I9r}get rowIndex(){const a=this.RTa.rowIndex;if(a!=null)return Math.max(a,this.FHr)}constructor(a,b,c,d,e,f,g){this.RTa=a;this.ePb=b;this.J9r=c;this.I9r=d;this.durationUs=
e;this.XNa=f;this.FHr=g;ZIs.G(this)}};var R3s=class{static G(a){O(a,{Spe:CV.shallow,kZe:CV.shallow,items:pV})}get items(){if(!this.Spe.size&&!this.kZe.size)return this.eyj.get();const a=this.eyj.get().filter(b=>!this.kZe.has(b));for(const [b,c]of this.Spe)a.splice(c,0,b);return a}insertBefore(a,b){b=b?this.items.indexOf(b):-1;this.Spe.set(a,b>=0?b:this.items.length)}remove(a){this.Spe.has(a)?this.Spe.delete(a):this.eyj.get().includes(a)&&this.kZe.add(a)}restore(a){this.kZe.has(a)&&this.kZe.delete(a)}reset(){this.Spe.clear();this.kZe.clear()}constructor(a){this.eyj=
a;this.Spe=(R3s.G(this),new Map);this.kZe=new Set}},TIs=class{static G(a){O(a,{NLk:CV.ref,Cuc:CV.shallow,x7g:CV.ref,gxa:pV,UNi:pV({equals:tk(tk())}),g7n:pV({equals:tk(tk())}),R9g:pV({equals:oV.shallow}),y1k:pV({equals:tk()}),rows:pV({equals:tk(tk())}),items:pV,Cjn:pV({equals:oV.shallow}),jec:pV})}get gxa(){return this.items.reduce((a,b)=>{b=this.hFg(b);return Math.max(a,b.endUs)},0)}get UNi(){return OIs(this,this.I4h.items)}get g7n(){return this.UNi.map(a=>a.filter(b=>!this.Cuc.has(b)))}get R9g(){return new Map(this.UNi.flatMap((a,
b)=>a.map((c,d)=>[c,[b,d]])))}get y1k(){return Array.from(this.Cuc.entries()).filter(([a])=>this.R9g.has(a)).sort((a,b)=>{const [c,d]=n(this.R9g.get(a[0])),[e,f]=n(this.R9g.get(b[0]));return c===e?d-f:c-e})}get rows(){if(!this.y1k.length)return this.UNi;const a=this.g7n.map(d=>d.slice()),b=new Map;var c=(d,e)=>{let f=b.get(d);f||(f=[],b.set(d,f));f.push(e)};for(const [d,e]of this.y1k){const f=this.hFg(d),[g]=n(this.R9g.get(d)),{rowIndex:h,Vbe:k,SHd:l}=SIs(f,g+e.RNi,a,this.x7g,this.hFg);l?c(h,d):a[h].splice(k,
0,d)}c=Array.from(b.entries()).sort((d,e)=>e[0]-d[0]);for(const [d,e]of c)a.splice(d,0,...OIs(this,e));return OIs(this,a.flat(),this.hFg)}get items(){return this.rows.flat()}get Cjn(){return new Map(this.rows.flatMap((a,b)=>{const c=b>=this.rows.length;return a.map((d,e)=>[d,{rowIndex:b,Vbe:e,Dhu:c,Chu:e>=a.length}])}))}get jec(){return Math.max(this.NLk,this.rows.length)}Ol(a,b){this.I4h.insertBefore(a,b)}removeItem(a){this.I4h.remove(a);this.Cuc.has(a)&&this.Cuc.delete(a)}reset(){this.I4h.reset();
this.Cuc.clear();this.NLk=1;this.x7g="below"}constructor(a,b){this.mQq=b;this.NLk=(TIs.G(this),1);this.Cuc=new Map;this.x7g="above";this.hFg=IV(c=>{var d=this.Cuc.get(c);if(d===null||d===void 0||!d.nPb)return c.timing;d=Math.max(0,c.timing.startUs+d.nPb);return{startUs:d,endUs:d+c.timing.durationUs,durationUs:c.timing.durationUs}});this.b2d=IV(c=>{const d=this.Cjn.get(c);if(d)return c=this.hFg(c),{startUs:c.startUs,endUs:c.endUs,rowIndex:d.rowIndex,Vbe:d.Vbe}});this.Nwf=IV(c=>{const d=this.items.find(e=>
e.element===c);return d&&this.b2d(d)});this.I4h=new R3s(a)}},NIs=(a,b=c=>c.timing)=>{if(!a.length)return[];let c=[];const d=[[]];for(const e of a)a=b(e),QIs(a,c)&&(c=[],d.push([])),d[d.length-1].push(e),c.push(a);return d},MIs=(a,b=c=>c.timing)=>{if(!a.length)return[];const c=[[]];let d;for(const e of a)a=d?b(d).endUs:0,b(e).startUs>=a?c[c.length-1].push(e):c.push([e]),d=e;return c};var $Is=class{static G(a){O(a,{Ayn:pV,positions:pV,f7n:pV({equals:tk(tk())}),RSh:pV})}get Ayn(){var a;return(a=this.RSh)!==null&&a!==void 0&&a.SHd?[this.RSh.rowIndex]:[]}get positions(){const a=this.RSh;return a?(a.SHd?[]:[{startUs:a.startUs,durationUs:a.durationUs,rowIndex:a.rowIndex}]).concat(this.M9n.map(({nPb:b,sdh:c,durationUs:d})=>({startUs:a.startUs+b,durationUs:d,rowIndex:a.rowIndex+c}))):[]}get f7n(){return this.TBb.rows.map(a=>a.filter(b=>b!==this.Jmg&&!this.iCs.includes(b)))}get RSh(){const a=
this.q6d.startUs,b=this.q6d.rowIndex;if(a!=null&&b!=null){var c=this.Jmg.timing.durationUs,{rowIndex:d,SHd:e}=SIs({startUs:a,durationUs:c,endUs:a+c},b,this.f7n,this.TBb.x7g);return{startUs:a,durationUs:c,rowIndex:d,SHd:e}}}constructor(a,b,c,d){this.TBb=a;this.q6d=b;this.Jmg=c;this.iCs=d;this.M9n=($Is.G(this),void 0);const e=n(a.b2d(c)).rowIndex;this.M9n=d.map(f=>{const g=n(a.b2d(f));return{nPb:f.timing.startUs-c.timing.startUs,sdh:g.rowIndex-e,durationUs:f.timing.durationUs}})}};var rJs=class{constructor(a,b,c,d,e){this.page=a;this.qd=b;this.RTa=c;this.ePb=d;this.vmf=e}};var S3s=iV(({MGa:a,W_:b})=>{const c=mV(null);lV(()=>{const d=c.current;if(d)return hV(()=>({x:a.fOd(b.startUs),y:AJs(a,b.rowIndex)}),e=>{d.style.transform=e?`translate(${e.x}px, ${e.y}px)`:""},{fireImmediately:!0,scheduler:requestAnimationFrame})});return gV("div",{ref:c,className:"CGPqmw",style:{width:a.fOd(b.durationUs)}})}),T3s=iV(({MGa:a,rowIndex:b})=>{const c=mV(null);lV(()=>{const d=c.current;if(d)return hV(()=>AJs(a,b),e=>{d.style.transform=`translateY(${e}px)`},{fireImmediately:!0,scheduler:requestAnimationFrame})},
[a,b]);return gV("div",{ref:c,className:"_4X5sgA"})}),tJs=iV(({store:a,MGa:b})=>a.Uze?nV(xV,{children:[a.Uze.F8m.positions.map((c,d)=>gV(S3s,{MGa:b,W_:c},d)),a.Uze.F8m.Ayn.map((c,d)=>gV(T3s,{MGa:b,rowIndex:c},d))]}):null);var sJs=iV(({connectDropTarget:a,N8a:b,children:c})=>{const d=kV(e=>{b.Ptg=e!==null&&e!==void 0?e:void 0},[b]);return a(gV("div",{ref:d,className:GV("_6RM6zQ",{XP7C2w:b.JUb}),children:c}))});var oJs=class{static G(a){O(a,{pxc:CV.struct,UTc:CV.ref,Q9g:CV.struct,jqf:CV.ref,x:pV,y:pV,startUs:pV,rowIndex:pV,W6n:pV,jil:pV,hGd:pV,Psd:pV,lOb:pV})}get x(){if(this.hGd){var {x:a}=this.hGd;this.jqf&&(a-=this.jqf);return Math.max(0,a)}}get y(){if(this.hGd)return this.hGd.y}get startUs(){if(this.x!=null)return this.MGa.J5k(this.x)}get rowIndex(){if(this.y!=null)return Math.max(0,Math.max(0,this.TBb.jec-1)-Math.floor(Math.max(0,this.y/this.MGa.rowHeight)))}get W6n(){if(this.jil!=null)return this.jil<
.5?0:1}get jil(){if(this.y!=null)return Math.min(1,Math.max(0,Math.max(0,this.y/this.MGa.rowHeight)-Math.floor(Math.max(0,this.y/this.MGa.rowHeight))))}get hGd(){if(this.Q9g&&this.Psd)return{x:this.Q9g.x-this.Psd.x,y:this.Q9g.y-this.Psd.y}}get Psd(){if(this.UTc)return{x:this.UTc.left-this.lOb.left,y:this.UTc.top-this.lOb.top}}get lOb(){return this.pxc?{top:this.t7.scrollTop-this.pxc.top,left:this.t7.scrollLeft-this.pxc.left}:{top:0,left:0}}ukg(){this.UTc=this.pxc=this.Q9g=void 0;this.jqf=0}constructor(a,
b,c){this.t7=a;this.MGa=b;this.TBb=c;this.pxc=(oJs.G(this),void 0);this.jqf=0}};var qJs=class{static G(a){O(a,{onDragOver:jV.bound,onDragLeave:jV.bound})}JUb(){this.N8a.JUb=!0}$Tj(){this.Pga.jrc=!1;this.N8a.ukg();this.N8a.JUb=!1}onDragOver(a){this.N8a.RTa.Q9g={x:a.gy.x,y:a.gy.y};a.start?this.N8a.RTa.jqf=a.start.NCa.x:this.Pga.Pze&&(this.N8a.RTa.jqf=this.Pga.Pze.x);if(a=this.N8a.Uze)a.TBb.x7g=this.N8a.RTa.W6n===0?"above":"below"}onDragLeave(){this.Pga.jrc=!1;this.N8a.ukg()}async onDrop(a){this.ePb.onDragEnd();const b=a.TBb;for(const c of a.items)PIs(b,c,{nPb:a.q6d.nPb,RNi:a.q6d.sdh});
switch(a.type){case 0:fJs(this,a);break;case 1:gJs(this,a);break;case 2:hJs(this,a);break;case 3:await iJs(this,a);break;default:throw new v(a);}uV(()=>{var c;((c=this.Pga.OW)===null||c===void 0?0:c.elements.length)&&this.ng.Kl(this.Pga.OW.page,...this.Pga.OW.elements);this.N8a.ukg()})}constructor(a,b,c,d,e,f,g,h,k,l){this.page=a;this.gb=b;this.oc=c;this.ng=d;this.t7=e;this.N8a=f;this.VBm=g;this.ePb=h;this.Pga=k;this.L2c=l;this.onDragEnter=(qJs.G(this),async m=>{const p=this.N8a.Ptg;if(bJs(this,m)&&
p){var q=await jJs(this,m);uV(()=>{this.N8a.Uze=q;this.N8a.RTa.pxc={top:this.t7.scrollTop,left:this.t7.scrollLeft};const {top:r,left:t}=p.getBoundingClientRect();this.N8a.RTa.UTc={top:r,left:t};this.Pga.jrc=!0})}})}};var pJs=class{static G(a){O(a,{JUb:CV.ref,Uze:CV.ref})}ukg(){this.RTa.ukg();this.Uze=void 0}constructor(a){this.RTa=a;this.Ptg=(pJs.G(this),void 0);this.JUb=!1}};var lJs=parseInt("28px",10)||28;var uJs="timelineItems searchMedia video searchShape line table chart grid textParagraph".split(" ");var U3s=iV(({element:a,L:b,H1f:c})=>{const d=kV(e=>{c();e.stopPropagation()},[c]);return gV(__c.GZg,{tone:"primary",className:GV("AuGWSA",{XPeZdg:b.mxk(a)}),onClick:d,children:gV(__c.ZWh,{size:"small"})})});var V3s=gRs(({children:a},b)=>gV("div",{className:GV("gGmdtw","Eu3fXQ"),ref:b,children:a}));var W3s,X3s,Y3s,Z3s=parseInt("96px",10)||96,$3s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),a4s=parseInt("8px",10)||8,c4s=iV(function(a){const b=a.element,c=a.page,d=a.jT,e=a.timing,f=a.parent,g=a.store,h=a.b9e,k=a.L,l=a.UR,m=a.rag;var p=a.Obo;const q=c.ha,r=mV(null);var t=g.wm;const u=g.HAa===b,w=t.includes(b)||!!f&&t.includes(f);var x=w&&(t.length>1||!!f&&g.HAa===f);t=kV(I=>{I.stopPropagation();uV(()=>{var K;const M=yJs(k,q,(b.startUs||0)+((f===null||f===void 0?void 0:f.startUs)||0)),N=I.clientX-
(((K=r.current)===null||K===void 0?void 0:K.Ptr)||0)+M;zJs(k,q,N);u||k.Bg(q,b,f)})},[k,b,f,u,q]);const y=kV(()=>{l.w_a({element:b,page:q})},[b,l,q]),z=kV(()=>{l.$Gb({element:b,page:q})},[b,l,q]),A=kV((I,K,M)=>{const N=Math.floor(I.endUs-I.startUs);K=Math.floor(K.endUs-K.startUs);h.Qna(I,M,b,f,q,d);eJs(h,[b],N,K)},[h,b,f,q,d]),B=p.endUs-p.startUs,D=!(x||!f||!b),G=!!(x||(f?u:w));p=kV(()=>{D?(dJs(h,[b],f,h.cge,q,d),eJs(h,[b],e.durationUs)):(dJs(h,g.wm,void 0,h.cge,q,d),eJs(h,g.wm,B))},[D,h,e,b,f,q,d,
B,g]);x=kV(()=>{G||k.Bg(c.ha,b,f);h.Aia("fullWidth");if(D)return{page:c,parent:f,elements:[b],wh:[]};const I=[b,...g.wm.filter(K=>K!==b)];return{page:c,elements:I,wh:[]}},[c,b,f,g,G,D,k,h]);return gV(b4s,{...a,ref:r,GCq:k.FOs(b,f),onClick:t,onMouseEnter:y,onMouseLeave:z,focused:u,selected:w,Icon:m,CYf:G,Qna:A,nZr:p,onDragStart:x})}),b4s;
new (W3s=class extends NV{constructor(){super(b4s);X3s()}},(()=>{class a extends(Y3s=LV){static G(b){O(b,{r7a:CV.shallow,JRd:CV.ref,TPf:CV.ref,p7g:CV.ref,Ws:pV,isDragging:pV,Cae:pV,trim:pV,Q1k:pV,awn:pV,UIk:pV,$vn:pV,Jsn:pV,Nqb:jV.bound,Oqb:jV.bound,onMouseEnter:jV.bound,onMouseLeave:jV.bound,bma:pV.struct,X8b:pV,llh:pV,mvd:pV,width:pV,left:pV,transform:pV,dWi:pV,H1f:jV.bound,Hqo:pV,onContextMenu:jV,Rqo:pV,disabled:pV,hidden:pV,yFm:pV,content:pV})}get Ws(){return this.props.store.timing.Ws}get isDragging(){return!!this.props.Pga.isDragging}get Cae(){return{startUs:this.props.timing.startUs,
endUs:this.props.timing.endUs}}get trim(){if(this.r7a)return this.r7a;const b=this.Cae,c=this.props.CYf?this.props.b9e.cge:0;return{startUs:b.startUs+c,endUs:b.endUs+c}}seek(b){this.props.L.ewc(this.props.page.ha,this.props.UQn+b)}get Q1k(){const b=this.props.focused;return this.props.parent&&b?this.Cae:this.props.Obo}get awn(){if(this.JRd==="fullWidth")return this.Cae.startUs-this.Q1k.startUs}get UIk(){const b=this.props.jT;if(this.Ws){const c=this.props.L.Tbi(this.props.element);if(c)return c+this.Cae.startUs}return this.JRd!==
"fullWidth"?b:b-(this.Q1k.endUs-this.Cae.endUs)}get $vn(){if(this.Ws){const b=this.props.L.Tbi(this.props.element);if(b)return this.Cae.endUs-b}return 0}get Jsn(){return this.UIk-(this.trim.endUs-this.trim.startUs)}Nqb(){this.TPf=!0}Oqb(){this.TPf=!1}onMouseEnter(){this.props.mi.get()||(this.p7g=!0,this.props.onMouseEnter())}onMouseLeave(){this.props.mi.get()||(this.p7g=!1,this.props.onMouseLeave())}get bma(){const b=this.props.focused,c=this.props.Ow,d=this.props.selected;return this.props.yba?{type:"touch",
isVisible:b}:{type:"pointer",FRa:this.llh?"outside":"inside",isVisible:(this.llh||this.mvd&&(!!this.r7a||this.TPf))&&!c.zE,Xzg:!this.mvd,qvh:!0,...(this.llh?{}:{hAf:this.props.CYf?$3s:0,L6i:this.props.CYf?$3s:0,borderRadius:a4s-(b||d?$3s:0)})}}get X8b(){const b=this.props.Ow;return{show:!(this.r7a&&this.JRd!=="fullWidth")&&this.llh&&!b.zE,appearance:this.props.yba?"light":"dark"}}get llh(){this.r7a||(this.mlh=this.props.CYf&&!this.mvd);return this.mlh}get mvd(){return this.width>=50}get width(){return yJs(this.props.L,
this.props.page.ha,this.trim.endUs,{Egc:!0})-this.left}get left(){return yJs(this.props.L,this.props.page.ha,this.trim.startUs)}get transform(){var b=this.props.L;var c=this.props.element;b=(c=b.BJc(this.props.page.ha).Nwf(c))?AJs(b.MGa,c.rowIndex):void 0;if(b!=null&&!this.hidden)return`translate(${this.left}px, ${b}px)`}get dWi(){const b=this.props.focused;return this.props.GCq&&this.width>40&&!this.TPf&&!this.isDragging&&(b||this.p7g)}H1f(){this.props.L.H1f(this.props.page.ha,this.props.element,
this.props.parent)}get Hqo(){return this.width>70||!this.dWi}get Rqo(){const b=this.props.focused,c=this.props.mi,d=this.props.ih,e=this.width,f=this.TPf,g=this.r7a,h=this.isDragging,k=this.dWi,l=this.p7g||!Wb();return b&&l&&!c.get()&&e>Z3s&&(!f||d.Tr)&&!g&&!h&&!k}get disabled(){const b=this.props.focused,c=this.props.yba;return this.props.Ow.zE||c&&!b?!0:this.props.L.alr(this.props.element,this.props.page.ha)}get hidden(){var b=this.props.element;return!this.props.L.BJc(this.props.page.ha).Nwf(b)}get Ptr(){var b;
return((b=this.ref.current)===null||b===void 0?void 0:b.getBoundingClientRect().left)||0}get yFm(){return this.trim.endUs-this.trim.startUs}get content(){const b=this.props.focused;return gV(mJs,{element:this.props.element,page:this.props.page.ha,Icon:this.props.Icon,isActive:this.props.selected||b,Ws:this.Ws,B8c:this.B8c,Pdn:!this.props.mi.get()&&this.props.CYf,ffn:this.Hqo,yoo:this.bma.isVisible,JRd:this.JRd,width:this.width,trim:this.trim})}render(){const b=this.props.L,c=this.props.Xo,d=this.props.onClick,
e=this.props.element,f=this.props.focused,g=this.props.mi,h=this.props.aAc,k=this.props.ih.cic;return nV("div",{ref:this.ref,className:GV("VzBqkA",{HkpnnQ:this.hidden}),style:{width:this.width,transform:this.transform,zIndex:f&&!this.isDragging?1:void 0},onClick:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,children:[gV(h,{item:e,onDragStart:this.props.onDragStart,children:gV(nLs,{Xo:c,rZb:this.trim.startUs,durationUs:this.yFm,Qfb:this.Qfb,XNa:this.$vn,
qXg:this.awn,OVg:this.Ws?void 0:this.Jsn,gxa:this.UIk,i8d:1E5,jT:this.props.jT,Aia:this.Aia,RBa:this.RBa,SFa:this.SFa,qab:this.Ws?void 0:this.qab,Qna:this.Qna,Nqb:this.Nqb,Oqb:this.Oqb,captureEvents:!0,disabled:this.disabled,Fo:g.get(),X8b:this.X8b,bma:this.bma,zNd:b.ePb,children:this.content})}),this.Rqo&&k&&gV(V3s,{children:gV(k,{visibility:"always",Ch:this.onContextMenu,ariaLabel:L("kUnZoQ")})}),this.dWi&&gV(V3s,{children:gV(U3s,{element:e,L:b,H1f:this.H1f})})]})}constructor(...b){super(...b);
this.ref=(b4s.G(this),MV());this.mlh=this.p7g=this.TPf=!1;this.B8c=this.props.L.B8c;this.Qfb=(c,d,e)=>{const f=this.props.L,g=this.props.page.ha,h=this.props.UQn,k=this.props.Dbs;c=yJs(f,g,c,{Egc:e==="end"})-k+d;return f.Ow.dHg(c,{iah:g,zvb:f.gfn})-h};this.Aia=c=>{this.r7a=this.trim;const d=this.props.element,e=this.props.parent,f=this.props.L,g=this.props.b9e,h=this.props.page.ha;var k=this.props.CYf;this.JRd=c.type;k=!k;g.Aia(c.type);f.Aia(k,h,d,e)};this.RBa=c=>{if(this.Ws){const d=this.props.L.Tbi(this.props.element);
if(d&&c+d<this.trim.endUs)return}this.props.b9e.RBa(this.trim,c);this.seek(c)};this.SFa=c=>{if(this.Ws){const d=this.props.L.Tbi(this.props.element);if(d&&c>this.trim.startUs+d)return}this.props.b9e.SFa(this.trim,c);this.seek(c-1)};this.qab=c=>{const d=this.trim;var e=this.props.b9e,f=c-d.startUs;d.startUs+=f;d.endUs+=f;e.cge+=f;this.seek(c)};this.Qna=c=>{const d=this.props.element,e=this.props.L,f=this.props.nZr,g=this.props.Qna,h=this.props.b9e;this.props.store.GWm(this.props.page.ha).includes(d)&&
(c=c.type,c==="fullWidth"?h.cge&&f():g(this.trim,this.Cae,c));this.JRd=this.r7a=void 0;e.Qna()};this.onContextMenu=c=>{c.preventDefault();c.stopPropagation();if(!Ic.yba&&!Ic.wzd){var d=this.props.ih,e=this.props.L,f=this.props.element,g=this.props.parent,h=this.props.page;this.props.selected||e.Bg(h.ha,f,g);var k,l;e=__c.Cj({x:(k=c.clientX)!==null&&k!==void 0?k:0,y:(l=c.clientY)!==null&&l!==void 0?l:0});d.DMb(e,"element_timeline","right_click","bottom-start")}}}}({c:[b4s,X3s]}=PV(a,[],[Ob],Y3s))})(),
W3s);var d4s=(a,b,c,d,e,f)=>{const g=mV(void 0),h=mV(!1);return kV(k=>{if(k){var l=f.get()?e:k;g.current=lus(()=>{const p=h.current;if(h.current=a.open){var q=[];!p&&a.HAa&&q.push(()=>l.scrollTo({top:l.scrollTop+c.scrollHeight,behavior:"instant"}));a.HAa&&a.zwa&&d(a.zwa).Nwf(a.HAa)&&q.push(()=>{var r=a.zwa,t=a.HAa;if(r&&t){var {top:u,rowHeight:w}=b.Nwf(r,t);r=u+w;t=l.scrollTop;var x=l.clientHeight;u<t?l.scrollTo({top:u-b.$Rc,behavior:"smooth"}):r>t+x&&l.scrollTo({top:r-x,behavior:"smooth"})}});q.length&&
requestAnimationFrame(()=>q.forEach(r=>r()))}else p&&l.scrollTop<c.scrollHeight&&l.scrollTo({top:0,behavior:"instant"})})}else{var m;(m=g.current)===null||m===void 0||m.call(g);g.current=null}},[a,b,c.scrollHeight,d,h,e,f])};var e4s=parseInt("32px",10)||36,f4s=iV(({TBb:a,MGa:b})=>qc(a.jec).map((c,d)=>gV("div",{role:"none",className:"PWKo6g",style:{top:AJs(b,d)}},d))),g4s=0,h4s=new WeakMap,i4s=iV(function(a){const b=mV(null),c=a.store,d=a.MGa;var e=a.BJc;const f=a.page.ha,g=a.Zcj,h=c.zwa===f;e=e(f);const k=c.timing.Ws;lV(()=>{const l=b.current;if(l&&k)return hV(()=>d.scrollWidth(f),m=>{l.style.minWidth=`${m}px`},{fireImmediately:!0})},[k,f,d]);return nV("div",{ref:b,className:GV("TtlcSA",{_2lZCug:k}),style:{zIndex:h?1:
void 0,height:d.scrollHeight},children:[k?gV(f4s,{TBb:e,MGa:d}):void 0,c.AYj(f).map(l=>{var m=l.element;let p=h4s.get(m);p==null&&(p=g4s++,h4s.set(m,p));return gV(c4s,{...a,...l},p)}),k&&g&&gV(g,{page:f})]})}),j4s=iV(function(a){const b=a.document,c=a.viewport,d=a.store,e=a.MGa;var f=a.Hda,g=a.BJc;const h=a.L,k=a.Ow,l=a.ule,m=a.aUj,p=a.Xo,q=m.get(),r=kV(u=>{Math.abs(u.deltaX)<Math.abs(u.deltaY)&&u.stopPropagation()},[]);f=d4s(d,f,e,g,p,m);const t=If(b);g=yGs(()=>{const u=c.Zg;if(d.timing.Ws&&dHs(k,
u.ha))return[u.ha];let w=-1;return b.pages.filter(x=>{w++;return dHs(k,x)&&l.p$<=w&&w<=l.J$})}).map(u=>{var w=t.tb(u);const x=h.DCr(w.ha),y=__c.Zfe(d.wm,x),z=k.Iwa(w.ha);return fRs(i4s,{...a,page:w,UQn:z.cRk,Dbs:z.$An,jT:x,Obo:y,yba:!Ic.N8,key:`${d.timing.Ws?"v2":"v1"}-${u.id}`})});return gV("div",{ref:f,className:GV("nXWFCA",{o9_1eQ:!q}),onWheel:q?void 0:r,style:{maxHeight:q?void 0:e.yGc,paddingLeft:e4s,marginLeft:-e4s,zIndex:1},children:g})}),wJs=iV(function(a){return a.store.open?gV(__c.NC,{yn:a.yn,
itemSizes:a.Ow.bjl,children:b=>b?gV(j4s,{...a,ule:b}):null}):null});var WJs=class{get gfn(){return!this.store.timing.Ws}get B8c(){return this.Ow.zHc}ewc(a,b){a.draft||this.kd.seek(b/1E6)}Aia(a,b,c,d){this.kd.stop();this.Sig=this.kd.configure({Ei:[c,d].filter(tb)});this.kd.m2e();$Js(this.kd,{MFm:!0});a&&this.Bg(b,c,d)}Qna(){this.kd.stop();aKs(this.kd);this.Sig&&(this.Sig(),this.Sig=void 0,this.kd.QZe())}Bg(a,b,c){var d,e,f;this.kd.stop();const g=this.r2b.get(),h=g==="single"||((d=this.selection.La)===null||d===void 0?void 0:d.type)!=="elements"||((e=this.selection.La)===
null||e===void 0?void 0:e.isEmpty)||((f=this.selection.La)===null||f===void 0?void 0:f.container.page)!==a;d=If(this.document).tb(a);if(h)c?(d.Sf(c),this.selection.Kl(d.Sf(c),b)):this.selection.Kl(d,b);else if(g==="command"||g==="shift")b=c||b,this.selection.mc(a,b)?this.selection.S9c(a,b):this.selection.jed(d,b)}H1f(a,b,c){const d=this.P.sb("toggle_expanded_elements"),e=this.store;if(c=c!==null&&c!==void 0?c:b.type==="group"?b:void 0)e.B_d.delete(c)||e.B_d.add(c),this.Bg(a,c);const f=c===b?"expand":
"collapse";d.ne({qx:({Ii:g})=>this.V.track(IJs,{action:f,Rb:g()})})}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t){this.document=a;this.store=b;this.qd=c;this.kd=d;this.Ow=e;this.wJa=f;this.selection=g;this.MGa=h;this.BJc=k;this.r2b=l;this.Ma=m;this.V=p;this.ePb=q;this.P=r;this.mi=t;this.DCr=u=>this.store.timing.Ws?Infinity:this.qd.tb(u);this.alr=QV((u,w)=>{const x=this.Ma;w=If(this.document).tb(w);return x.mode<40||this.wJa.$q({element:u,container:w})});this.Tbi=u=>{u=zm.oI(u);if(u.length===1)return this.qd.gbk(u[0])};
this.mxk=u=>u.type!=="group";this.FOs=QV((u,w)=>u.type==="group"||!!w)}};var k4s=parseInt("32px",10)||32,VJs=class{static G(a){O(a,{PIk:pV,yGc:pV,scrollHeight:pV})}get rowHeight(){return k4s}get PIk(){if(this.Cug.timing.Ws){const a=this.viewport.Zg;return a.type!=="fixed-page"?0:this.BJc(a.ha).jec}return this.Ia.pages.reduce((a,b)=>{if(b.type!=="fixed")return a;b=this.BJc(b);return Math.max(a,b.jec)},0)}get FCr(){return this.aUj.get()?Infinity:(this.mi.get()?2.5:4.5)*this.rowHeight}get yGc(){return this.Cug.open?Math.min(this.FCr,this.scrollHeight):0}get scrollHeight(){return Math.max(this.PIk,
this.Cug.timing.Ws?1:0)*this.rowHeight}fOd(a){return a/1E6*this.cVa.SBa}J5k(a){return a/this.cVa.SBa*1E6}constructor(a,b,c,d,e,f,g){this.viewport=a;this.Ia=b;this.Cug=c;this.cVa=d;this.BJc=e;this.mi=f;this.aUj=g;this.scrollWidth=(VJs.G(this),IV(h=>{h=this.BJc(h);return this.fOd(h.gxa)}))}};var TJs=class{static G(a){O(a,{_open:CV.ref,B_d:CV.shallow,CAe:CV.ref,zwa:CV.ref,HAa:pV,wm:pV({equals:oV.shallow}),FYj:pV,Hkh:pV,open:pV,HCm:pV})}get HAa(){if(this.selection.La){var a=this.selection.La.inner,b=this.selection.La.Bg;return(a===null||a===void 0?void 0:a.type)!=="group"||a.group.type!=="group"||this.B_d.has(a.group)?b:a.group}}get wm(){var a,b;return(b=(a=this.selection.La)===null||a===void 0?void 0:a.elements)!==null&&b!==void 0?b:[]}get FYj(){return this.zwa&&this.zwa.type==="fixed"?
this.GWm(this.zwa):[]}get Hkh(){var a,b;return!!this.zwa&&((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"&&((b=this.selection.La.inner)===null||b===void 0?void 0:b.type)!=="sheet-cell-media"&&!this.Zin(this.zwa)&&this.FYj.length>0&&!this.timing.Ws}get open(){if(this.timing.Ws)return!0;const a=this.Ow.isLinear||!this.A5d.get();return this._open&&this.HCm&&a}get HCm(){return this.document.pages.some(a=>a.type==="fixed"&&!!this.p0h(a).length)}constructor(a,b,c,d,e,f,g,h,k){this.document=
a;this.A5d=b;this.mi=c;this.qd=d;this.selection=e;this.Ow=f;this.gb=g;this.timing=h;this.XZr=k;this._open=(TJs.G(this),!1);this.B_d=new Set;this.Y3n=()=>{this.CAe=this.zwa=void 0;this.B_d.clear()};this.dsq=IV(l=>{const m=this.CAe;if(l===this.zwa&&m)return l.elements.filter(r=>m.has(r));const p=l.elements.filter(r=>r.lm==null);if(this.timing.Ws)return p;const q=this.qd.tb(l);return p.filter(r=>EJs({element:r},q))});this.p0h=IV(l=>{switch(l.type){case "fixed":if(this.Zin(l))return[];break;case "concatenated-fixed":case "responsive":return[];
default:throw new v(l);}return this.dsq(l).flatMap(m=>m.type==="group"&&m.wd==null&&this.B_d.has(m)?m.nb.map(p=>({element:p,parent:m})):[{element:m}])});this.GWm=IV(l=>this.p0h(l).map(m=>m.element));this.AYj=IV(l=>{const m=this.qd.tb(l),p=this.p0h(l);switch(l.type){case "fixed":return p.map(({element:q,parent:r})=>{const {startUs:t,durationUs:u}=pXa(q,l,m,r);return{timing:{startUs:t,durationUs:u,endUs:t+u},parent:r,element:q}});case "concatenated-fixed":case "responsive":return[];default:throw new v(l);
}});QV((l,m)=>this.AYj(l).find(p=>p.element===m));this.Zin=IV(l=>{l=this.gb.$k(l);return!!Bg(l)});hV(()=>{const l=e.La;if(!l)return{};const m=l.$z;if(!m)return{};switch(m.type){case "responsive-page":case "concatenated-fixed-page":return{};case "fixed-page":break;default:throw new v(m);}return{hp:m.page,wm:l.elements,Ws:h.Ws}},({hp:l,wm:m,Ws:p})=>{if(l==null&&m==null&&this.FYj.length===0)this.Y3n();else if(p)this.CAe=void 0;else if(m!=null||l!==this.zwa)if(!l)this.CAe=new Set(m),this.zwa=void 0;else if(m===
null||m===void 0||!m.every(r=>{var t;return(t=this.CAe)===null||t===void 0?void 0:t.has(r)}))if(this.zwa=l,l.type!=="fixed")this.CAe=new Set;else{var q=this.qd.tb(l);l=l.elements.filter(r=>((m===null||m===void 0?void 0:m.includes(r))||EJs({element:r},q))&&r.lm==null);this.CAe=new Set(l)}},{fireImmediately:!0});Drs(()=>!f.VJ||this._open,()=>this._open=!0)}};var UJs=class{static G(a){O(a,{cge:CV.ref})}Aia(a){var b,c,d;(c=this.Lk)===null||c===void 0||(b=c.rN)===null||b===void 0||b.call(c,new ip);const e=((d=this.ANd)===null||d===void 0?0:d.isRecording())?this.ANd:this.P.sb("trim",{Fb:{name:"element_timing.trim",type:a,performance:{lT:!0}}});setTimeout(()=>e.addEvent("trim_start"));this.ANd=e}RBa(a,b){a.startUs=b}SFa(a,b){a.endUs=b}Qna(a,b,c,d,e,f){a=__c.Am(a,f);d&&(FJs(d,c,a,f),d.startUs&&(a.startUs=Math.max(a.startUs-d.startUs,0),a.endUs=Math.max(a.endUs-
d.startUs,a.startUs)));d=c.durationUs||f-(c.startUs||0);const g=a.endUs-a.startUs;if(c.type==="group")for(var h of c.nb){var k=Math.min(h.durationUs||Infinity,d-(h.startUs||0));const l=g-k;for(const m of zm.oI(h))zKe({qd:this.qd,iOc:k,fill:m,cXd:l,direction:b,Jje:!1});h.startUs=void 0;h.durationUs=void 0}else{h=g-d;for(k of zm.oI(c))zKe({qd:this.qd,iOc:d,fill:k,cXd:h,direction:b,Jje:!1})}c.startUs=a.startUs||void 0;__c.vKe(c,f,a);GJs(this,e,f)}constructor(a,b,c,d,e){this.kd=a;this.qd=b;this.V=c;this.P=
d;this.Lk=e;this.ANd=(UJs.G(this),void 0);this.cge=0}};var QJs=iV(({url:a})=>gV("div",{className:"fk73VQ",style:{backgroundImage:`url(${a})`}}));var RJs=iV(function({fill:a,HJb:b,Cf:c,width:d,height:e,qja:f,S6i:g}){const h=DV(()=>iV(({Ula:l})=>gV(__c.LZh,{filter:c.Fwa(a),a0:c.a0(a),Ula:l})),[c,a]),k=DV(()=>g(a,b),[a,b,g]);lV(()=>{uV(()=>{k.update(d,e,f)})},[d,e,f,k]);return k.gV?gV("div",{className:"_6zdK6g",children:gV("div",{className:"SFFnlw",style:{right:k.w_e},children:gV(l4s,{Adf:h,tRq:k})})}):null}),l4s=iV(function({Adf:a,tRq:b}){const c=b.frameWidth;return b.XTm.map(({key:d,url:e,ut:f,MK:g,TIc:h,SIc:k,V_a:l,U_a:m})=>gV("div",{className:"Z3AqOw",
style:{width:c},children:gV(a,{Ula:{url:e,ut:f,MK:g,TIc:h,SIc:k,frameWidth:l,frameHeight:m}})},d))});var NJs=iV(({element:a,page:b,ME:c,B8c:d})=>{a=a.SR?__c.TWb(c,b,a):a.text.Ya;return gV(P,{weight:"bold",className:GV("wdYnGg",{Jxa4Mw:d}),alignment:"center",children:a})}),OJs=QV(a=>a.nb.every(b=>b.type==="text")),PJs=parseInt("22px",10)||26;var gKs=iV(({Ugc:a,store:b,L:c,Wph:{height:d,top:e}})=>{const f=mV(null);lV(()=>c.init(),[c]);lV(()=>hV(()=>b.position,h=>{const k=f.current;k&&(k.style.transform=`translateX(${h}px)`)}),[f,b]);const g=kV(()=>{a&&f.current&&c.hide()},[a,c]);return gV("div",{ref:f,className:GV("PVPWdQ",{Q4Irjw:a,JE0jkg:b.hidden}),onTransitionEnd:g,children:gV("div",{className:"y8k_pA",style:{height:d.get()-e,top:e}})})});var m4s=parseInt("12px",10)||12,dKs=class{static G(a){O(a,{hidden:CV.ref,Ugc:CV.ref,position:CV.ref})}constructor(){this.hidden=(dKs.G(this),!1);this.Ugc=!1}},eKs=class{static G(a){O(a,{hide:jV.bound})}init(){return hV(()=>this.d1c.x,a=>{if(a==null)this.store.Ugc=!0,this.store.position=void 0;else{this.store.Ugc=!1;this.store.position=a;var b=this.currentTime.get();b=this.Ow.YIa(b*1E6);Math.abs(a-b)<=m4s?this.store.hidden=!0:(b=(b=this.d1c.currentNode)&&this.Upr(b),a=this.timing.Ws?!0:!!this.Ow.Vhk(a),
this.store.Ugc=!!b||!a,this.store.hidden=!a)}})}hide(){this.store.hidden=!0}constructor(a,b,c,d,e,f){this.store=a;this.Ow=b;this.d1c=c;this.currentTime=d;this.Upr=e;this.timing=f;eKs.G(this)}};var n4s=__webpack_require__.p+"images/f95f17d681b98bd710922cc9a3554ed0.svg";var o4s,p4s,q4s,r4s,s4s,t4s,u4s=parseInt("8px",10),v4s;
new (o4s=class extends NV{constructor(){super(v4s);q4s()}},(()=>{class a extends(r4s=LV){static G(b){O(b,{ckb:pV,Lvo:pV})}componentDidMount(){Kb(this,[hV(()=>({currentTime:this.props.currentTime.get(),dIh:this.props.dIh.get()}),()=>this.scrollTimeline(),{scheduler:requestAnimationFrame,equals:oV.structural})])}get ckb(){const b=this.props.dIh;return this.props.Ow.YIa(this.props.currentTime.get()*1E6,{Egc:b.get()})}get Lvo(){var b=this.props.Wph;const c=b.height;b=b.top;return{height:pV(()=>c.get()+
u4s),top:b}}render(){const b=this.props.THj,c=this.props.IFo,d=this.props.hidden,e=this.Lvo,f=this.props.Wph.height.get();return gV("div",{ref:b,className:GV("HktVqg",{_84KnnQ:c,JE0jkg:d}),style:{left:`${__c.bc().width/2}px`,height:f},children:gV(w4s,{className:"_hDk6Q",...e})})}constructor(...b){super(...b);this.scrollTimeline=(v4s.G(this),()=>{this.props.scrolling||this.props.Xo.scrollTo({left:this.ckb,behavior:this.props.playing?void 0:"smooth"})})}}({c:[v4s,q4s]}=PV(a,[],[Ob],r4s))})(),o4s);var x4s;
new (p4s=class extends NV{constructor(){super(x4s);s4s()}},(()=>{class a extends(t4s=LV){static G(b){O(b,{HJf:CV.ref,yNe:CV.ref,ckb:pV,$Me:pV,onDragStart:jV,onDrag:jV,onDragEnd:jV})}componentDidMount(){this.Jhd.current&&(this.L9e=this.Jhd.current.rkb);Kb(this,[hV(()=>({playing:this.props.playing,$Me:this.$Me}),Gb((b,c)=>{c!==null&&c!==void 0&&c.playing||!b.playing?this.yjl&&b.playing&&b.$Me&&this.Djl():(this.yjl=!0,b.$Me&&this.Djl())})),hV(()=>this.props.playing&&this.props.Xo.scrollLeft,()=>this.yjl=
!this.$Me),lus(()=>{if(this.yNe){var b=Ao(this.props.currentTime.get(),"detailed");uV(()=>{this.currentTime.set(b);this.L9e()})}}),this.skg,this.RPh])}componentWillUnmount(){var b;(b=this.GDm)===null||b===void 0||b.call(this)}get ckb(){var b=this.props.Ow,c=this.props.dIh;if(this.HJf!=null)return this.HJf;c=b.YIa(this.props.currentTime.get()*1E6,{Egc:c.get(),zvb:this.props.zvb.get()});const d=b.IRg;b=b.Vhk(c);return d&&!b?0:c}L9e(){}hhm(b){return this.props.Ow.dHg(this.jYd-b,{zvb:this.props.zvb.get()})/
1E6}vRp(b){const c=this.props.Ow,d=this.jYd-b;if((b=c.m2c.find(({width:e,offsetWidth:f})=>d<=f+e))&&!HV(c,b.page))return Math.min(Math.max(d,b.offsetWidth),c.nMd)}get $Me(){const b=this.props.Xo.scrollLeft,c=this.props.Ow.RAo;return c==null?!1:this.ckb<b||this.ckb>b+c}render(){var b=this.props.Wph;const c=b.top;b=b.height;return nV("div",{ref:this.props.THj,className:GV("XxN1Zw",{JE0jkg:this.props.hidden,_84KnnQ:this.props.IFo}),style:{transform:`translateX(${this.ckb}px)`},children:[gV("div",{className:"DkIUnw",
children:gV(O0s,{isOpen:this.yNe,ref:this.Jhd,children:this.currentTime})}),gV("div",{className:"aORW0w",onPointerDown:this.onDragStart,onClick:this.onClick,children:gV("img",{className:"tlvoag",src:n4s,alt:"",draggable:!1})}),gV(w4s,{top:c,height:b,className:"y8k_pA"})]})}constructor(...b){super(...b);this.overlay=(x4s.G(this),void 0);this.currentTime=CV.box("");this.Jhd=MV();this.IDm=void 0;this.lOb=this.Ovi=this.K8n=this.jYd=0;this.HJf=void 0;this.yNe=!1;this.yjl=!0;this.Djl=()=>{const c=this.props.Xo,
d=c.offsetWidth;d!=null&&c.scrollTo({left:this.ckb-(d-200)/2,behavior:"smooth"})};this.onDragStart=c=>{const d=this.props.onDragStart,e=this.props.Xo;this.qLj();this.IDm=c.clientX;this.jYd=this.ckb;this.K8n=e.scrollLeft;this.yNe=!0;d===null||d===void 0||d(c.nativeEvent);document.addEventListener("pointermove",this.onDrag);document.addEventListener("pointerup",this.onDragEnd);this.GDm=hV(()=>e.scrollLeft,this.I_r)};this.qLj=()=>{this.overlay=document.createElement("div");this.overlay.className="cG5xBQ";
document.body.appendChild(this.overlay)};this.RPh=()=>{this.overlay&&document.body.removeChild(this.overlay);this.overlay=void 0};this.onClick=c=>{c.stopPropagation();c.nativeEvent.stopImmediatePropagation()};this.I_r=()=>{this.lOb=this.K8n-this.props.Xo.scrollLeft;const c=this.hhm(this.Ovi+this.lOb);this.props.ewc(c)};this.onDrag=c=>{this.Ovi=(this.IDm||c.clientX)-c.clientX;var d=this.Ovi+this.lOb;const e=this.vRp(d);d=this.hhm(d);this.props.onDrag&&this.props.onDrag(c);e?(this.HJf=e,this.yNe=!1):
(this.HJf=void 0,this.props.ewc(d),this.yNe=!0)};this.onDragEnd=()=>{var c,d;this.RPh();this.lOb=this.Ovi=0;this.HJf=void 0;this.yNe=!1;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d);this.$Me&&this.Djl();this.skg()};this.skg=()=>{var c;document.removeEventListener("pointermove",this.onDrag);document.removeEventListener("pointerup",this.onDragEnd);(c=this.GDm)===null||c===void 0||c.call(this)}}}({c:[x4s,s4s]}=PV(a,[],[Ob],t4s))})(),p4s);
var w4s=iV(a=>gV("div",{className:a.className,style:{top:a.top,height:a.height.get()-a.top}})),y4s=b1s(x4s),cKs=a=>a.Fo?gV(v4s,{...a}):gV(y4s,{...a});var iKs=class{static G(a){O(a,{L3i:CV.ref,e9i:CV.ref,i1i:CV.ref,ynk:CV.ref,Ego:jV.bound})}Ego(a){this.ynk=a}constructor(a,b,c){this.Ow=a;this.wA=b;this.Fz=c;this.L3i=(iKs.G(this),0);this.i1i=this.e9i=0;this.ynk=!1;this.Gw=[hV(()=>this.Ow.zE,d=>{this.e9i>=2||d||this.e9i++}),hV(()=>this.Ow.pli,d=>{this.i1i>=2||d||this.i1i++}),hV(()=>this.wA.aNe,d=>{this.L3i>=2||d||this.L3i++}),Drs(()=>{const d=this.L3i>=2||this.i1i>=2||this.e9i>=2;return this.ynk&&d},()=>{var d,e,f;(d=(e=this.Fz).Gso)===null||d===void 0||
d.call(e);(f=this.Gw)===null||f===void 0||f.forEach(g=>g());this.Gw=void 0})]}};var z4s=parseInt("2px",10)||4,A4s=JV(({offset:a})=>gV("div",{className:"iFVm7g",style:{left:a-z4s/2}})),B4s=JV(({offset:a,dRk:b})=>gV("div",{className:"iFVm7g",style:{left:a-z4s/2,width:b-a}})),C4s=JV(({offset:a,label:b})=>gV("div",{className:"_8ONx2g",style:{left:a},children:gV(P,{size:"small",tone:"tertiary",children:b})})),D4s=iV(({store:a})=>a.hDm.map((b,c)=>gV(A4s,{...b},`dot-${c}`))),E4s=iV(({store:a})=>a.HAo.map((b,c)=>gV(C4s,{...b},`time-${c}`))),F4s=iV(({store:a})=>a.rmn.map((b,c)=>gV(B4s,
{...b},`line-${c}`))),mKs=iV(({store:a,Bw:b})=>gV("div",{className:"aPu08w",style:{paddingLeft:b.veb,marginLeft:-b.veb},children:nV("div",{className:"vYMgIg",children:[gV(D4s,{store:a}),gV(E4s,{store:a}),gV(F4s,{store:a})]})}));var G4s=[{$U:{from:0,to:.15},oPb:3E7,gNb:4},{$U:{from:.15,to:.2},oPb:3E7,gNb:3},{$U:{from:.2,to:.3},oPb:15E6,gNb:2},{$U:{from:.3,to:.35},oPb:15E6,gNb:3},{$U:{from:.35,to:.45},oPb:15E6,gNb:4},{$U:{from:.45,to:.55},oPb:1E7,gNb:3},{$U:{from:.55,to:.75},oPb:1E7,gNb:4},{$U:{from:.75,to:1.15},oPb:5E6,gNb:3},{$U:{from:1.15,to:1.45},oPb:5E6,gNb:4},{$U:{from:1.45,to:1.55},oPb:4E6,gNb:3},{$U:{from:1.55,to:1.85},oPb:4E6,gNb:4},{$U:{from:1.85,to:3.05},oPb:2E6,gNb:3},{$U:{from:3.05,to:3.75},oPb:2E6,gNb:4},{$U:{from:3.75,
to:5},oPb:1E6,gNb:3}],lKs=class{static G(a){O(a,{HOd:pV,zdh:pV,g8n:pV({equals:oV.shallow}),yLm:pV,NCk:pV,vNm:pV,Fkl:pV.struct,ZFl:pV.struct,marks:pV,rmn:pV({equals:tk(oV.shallow)}),HAo:pV({equals:tk(oV.shallow)}),hDm:pV({equals:tk(oV.shallow)})})}get HOd(){return EV.CDq?this.Bw.HOd:{start:-Infinity,end:Infinity}}get zdh(){const a=this.uG.$U;return G4s.find(({$U:b})=>b.from<=a&&a<b.to)||G4s.at(-1)}get g8n(){const a=[],b=this.HOd.start,c=this.HOd.end;for(let d=0;d<this.Bw.K7b.length;d++){const e=this.Bw.K7b[d];
if(!(e.offsetWidth+e.width<b)){if(e.offsetWidth>c)break;a.push(e)}}return a}get yLm(){const a=this.Bw.K7b;for(let b=a.length-1;b>-1;b--){const {Vda:c,durationUs:d,page:e}=a[b];if(HV(this.Bw,e))return c+d}return 0}get NCk(){return n(this.Bw.K7b.at(-1))}get vNm(){var a;const b=(a=this.T5j.get())!==null&&a!==void 0?a:0;a=this.zdh.oPb/(this.zdh.gNb+1);return Math.ceil(b/a)*a}get Fkl(){var a=c=>c/this.Bw.SBa*1E6;const b=a(this.NCk.offsetWidth+this.NCk.width);a=Math.max(a(this.Xo.clientWidth-this.Bw.veb-
40)-b,a(this.Bw.eci),this.vNm-b);return{Ybg:b,c6k:this.yLm,durationUs:a,w7i:!0}}get ZFl(){const a=[],b=e=>e/this.Bw.SBa*1E6,c=this.g8n.map(({page:e,offsetWidth:f,Vda:g,durationUs:h})=>({Ybg:b(f),c6k:g,durationUs:h,w7i:HV(this.Bw,e)})),d=b(this.HOd.end);this.Fkl.Ybg<d&&c.push(this.Fkl);c.forEach(e=>{const f=a.at(-1);f?f.w7i!==e.w7i?a.push(e):Math.abs(f.Ybg+f.durationUs-e.Ybg)<1E-4?f.durationUs+=e.durationUs:a.push(e):a.push(e)});return a}get marks(){var a;const b=[],c=[],d=[],e=this.Bw.SBa,f=this.HOd.start,
g=this.HOd.end,h=this.zdh.oPb,k=h/(this.zdh.gNb+1);var l,m=-((l=(a=this.ZFl[0])===null||a===void 0?void 0:a.c6k)!==null&&l!==void 0?l:0)%k;for(const w of this.ZFl){a=w.Ybg;l=w.durationUs;const x=w.c6k;if(w.w7i){if(p){p.dRk=Math.min(p.dRk,a*e-10);var p=void 0}for(;m<l+1;m+=k){const y=Math.round((a+m)/1E6*e);if(y<f)continue;if(y>g)break;const z=(x+m)/1E6;Math.round(x+m)%h===0?b.push({type:"time",offset:y,second:z,label:Ao(Math.round(z*100)/100,"shorter")}):c.push({type:"dot",offset:y,second:z})}m=k-
(x+l)%k}else{var q,r;p=x/1E6;l=(a+l)/1E6;var t,u;a=Math.max(a/1E6*e,((t=(q=c.at(-1))===null||q===void 0?void 0:q.offset)!==null&&t!==void 0?t:0)+10,((u=(r=b.at(-1))===null||r===void 0?void 0:r.offset)!==null&&u!==void 0?u:0)+10);p={type:"line",second:p,offset:a,dRk:l*e};d.push(p)}}return{line:d,time:b,dot:c}}get rmn(){return this.marks.line}get HAo(){return this.marks.time}get hDm(){return this.marks.dot}constructor(a,b,c,d){this.Bw=a;this.uG=b;this.Xo=c;this.T5j=d;lKs.G(this)}};var kKs=parseInt("24px",10)||24;var XMs=({oN:a,config:b,Df:c,$P:d,U5i:e=!0})=>{const f=b.Vre,g=c.alb,h=()=>d.clear();c=iV(()=>gV(g,{navigation:d,open:!!d.screen,oa:h}));const k=(m,p)=>{d.dh({ff:()=>gV(p,{}),options:{sg:m}})},l=iV(({fill:m})=>{const [p,q]=tV({wL:!1,fzk:!1,b3e:!1}),r=mV(void 0);lV(()=>()=>{r.current&&clearTimeout(r.current)},[]);const t=kV(()=>{r.current&&(clearTimeout(r.current),r.current=void 0);p.b3e||q(M=>({...M,wL:!0}))},[p.b3e]),u=kV(()=>{r.current||p.b3e||(r.current=setTimeout(()=>{q(M=>({...M,wL:!1}));r.current=
void 0},250))},[p.b3e]),w=kV(M=>{q(N=>M?{...N,fzk:!0,b3e:!0}:{...N,fzk:!1,b3e:!1,wL:!1})},[]);var x=Vb();const y=x||p.wL||p.b3e||p.fzk,z=[f.Pag].filter(tb);var A=z.length>0;const B=b.Lle;if(!A&&!B)return null;var D=m.transition.ref!=null;x=y&&A&&(!x||D);D=[];let G=null,I=!1;if(A){var K;G=z[0];A=(G===null||G===void 0?void 0:G.isDisabled(m))||!1;D=z.map(M=>({get label(){return M.getLabel(m)},get disabled(){return M.isDisabled(m)||!a.jN},onClick:()=>M.onClick(m),na:({tq:N})=>gV(M.na,{fill:m,tq:N,Ikr:M===
G})}));I=!A&&(m===null||m===void 0?void 0:(K=m.transition)===null||K===void 0?void 0:K.ref)!==void 0}return nV("div",{className:"grI1Wg",onMouseEnter:t,onMouseLeave:u,children:[y&&B&&gV("div",{className:"e3804w",children:gV(B,{size:"s",shape:"round",fill:m,AXk:w})}),x&&gV("div",{className:"e3804w",children:gV(r0s,{hidden:!1,Tno:I,mi:!1,label:L("v4jmbQ"),$Hn:k,items:D,IQj:0,tq:p.wL,U5i:e})})]})});return{Gyh:c,$le:l}};var pLs=class{NLj(a){const b=n(a.video.ref),c=this.qd;return oKs({type:0,key:this.generateKey(),fill:a,Q7:b,get trim(){return __c.Am(b.trim,this.jT)},get durationUs(){return c.DK(this.fill)},get jT(){return c.gbk(b)||c.DK(this.fill)||5E6}},{trim:pV,durationUs:pV,jT:pV})}generateKey(){return this.lLr++}constructor(a){this.qd=a;this.lLr=0}};var AKs=iV(({scene:a,hidden:b})=>{const c=yKs(a);return gV(S,{display:"flex",flexWrap:"wrap",justifyContent:"start",alignItems:"end",position:"absolute",inset:"0",Kb:"1u",Lc:"0.5u",className:GV("D1oVlw",{_0DR3Cg:b,qtAvWg:c.textColor==="white"}),Bpg:{"--5EXqpQ":c.textShadow},children:gV(P,{size:"small",weight:"bold",tone:lr,children:gV(__c.cE,{seconds:a.durationUs/1E6,format:"short"})})})});var zKs=parseInt("2px",10)||2;var QKs=iV(({connectDropTarget:a,store:b,children:c})=>{const d=kV(e=>{b.Ptg=e!==null&&e!==void 0?e:void 0},[b]);return a(gV("div",{ref:d,className:GV("rFk8Ow",{buvpww:b.JUb}),style:{minWidth:b.minWidth},children:c}))});var HKs="image/jpeg image/png image/heic image/heif image/webp image/svg+xml video/mp4 video/quicktime video/x-m4v video/webm video/x-matroska video/avi video/x-msvideo video/mpeg".split(" "),PKs=class{static G(a){O(a,{onDragEnter:jV.bound,onDragOver:jV.bound,onDragLeave:jV.bound,onDrop:jV.bound})}JUb(){this.store.JUb=!0}$Tj(){NKs(this.store);this.store.JUb=!1;this.Pga.yQg=!1}onDragEnter(a){const b=this.store.Ptg;if(EKs(this,a)&&b){this.store.gee=GKs(this,a);this.store.pxc={top:this.Xo.scrollTop,
left:this.Xo.scrollLeft};var {top:c,left:d}=b.getBoundingClientRect();this.store.UTc={top:c,left:d};this.Pga.yQg=!0}}onDragOver(a){this.store.RTa={x:a.gy.x,y:a.gy.y};a.start?this.store.o7g=a.start.NCa.x:this.Pga.Pze&&(this.store.o7g=this.Pga.Pze.x)}onDragLeave(){this.Pga.yQg=!1;NKs(this.store)}async onDrop(a,b){const c=this.AFa.scenes[b.index];switch(a.type){case "timelineItems":if(a.wh.length){var d=a.wh.map(f=>this.AFa.K6h(f)).filter(tb);WKs(this.fxa,d,c);break}if(!a.elements.every(f=>FKs(this,
f)))throw Error("Received unsupported elements on drop");const e=await YKs(this.fxa,a.elements);uV(()=>{if(b.type==="replace"){__c.ta(e.length,1);var f=this.fxa,g,h=c.durationUs,k=f.page.Jc.replace(c.fill,e[0]);f=f.qd.DK(k);h=k.video.ref?Math.min(f,h):h;f!==h&&(k.durationUs=h,k=k.video.ref)&&(f=((g=k.trim)===null||g===void 0?void 0:g.startUs)||0,k.trim={startUs:f,endUs:f+h})}else this.fxa.page.Jc.Bda(c===null||c===void 0?void 0:c.fill,e);g=this.AFa.page;for(const l of a.elements)g.ha.elements.has(l)&&
g.ha.elements.delete(l)});break;case "video":return b.type==="replace"?IKs(this.fxa,c,a.video):JKs(this.fxa,a.video,c,"object_panel_drag");case "searchMedia":return d=Pif(a.media),b.type==="replace"?KKs(this.fxa,c,d):LKs(this.fxa,d,c,"object_panel_drag");case "file":MKs(this,a.files,b);break;default:throw new v(a);}}constructor(a,b,c,d,e,f,g,h,k){this.Pa=a;this.$b=b;this.Xo=c;this.store=d;this.Qdh=e;this.Pga=f;this.AFa=g;this.fxa=h;this.kh=k;this.Q5p=(PKs.G(this),l=>{l=n(this.AFa.K6h(l));this.fxa.ezb(l)||
$Ks(this.fxa,l);this.store.gee=this.AFa.f1e;return{page:this.AFa.page,elements:[],wh:[l.fill]}})}};var OKs=class{static G(a){O(a,{pxc:CV.struct,UTc:CV.ref,RTa:CV.struct,o7g:CV.ref,gee:CV.ref,JUb:CV.ref,FRa:pV,hGd:pV,Psd:pV,lOb:pV,hBd:pV,nui:pV,C3m:pV,minWidth:pV,RMg:pV,oJf:pV,L3m:pV,eXj:pV})}get FRa(){if(this.hGd){var {x:a,y:b}=this.hGd;this.o7g&&(a-=this.o7g);return{x:Math.max(0,a),y:b}}}get hGd(){if(this.RTa&&this.Psd)return{x:this.RTa.x-this.Psd.x,y:this.RTa.y-this.Psd.y}}get Psd(){if(this.UTc)return{x:this.UTc.left-this.lOb.left,y:this.UTc.top-this.lOb.top}}get lOb(){return this.pxc?{top:this.Xo.scrollTop-
this.pxc.top,left:this.Xo.scrollLeft-this.pxc.left}:{top:0,left:0}}get REc(){return this.AFa.scenes}get hBd(){if(this.Pga.OW)return this.REc.filter(a=>this.Pga.Sen(a.fill))}get nui(){var a;return(a=this.gee)===null||a===void 0?void 0:a.filter(b=>{var c;return b.type===4||!((c=this.hBd)===null||c===void 0?0:c.includes(b))})}get C3m(){var a;return!((a=this.nui)===null||a===void 0||!a.length)}get minWidth(){var a;const b=this.F0b.Sjk(this.REc),c=((a=this.nui)===null||a===void 0?0:a.length)?this.F0b.Sjk(this.nui):
0;return b+c+50}get RMg(){var a;const b=(a=this.FRa)===null||a===void 0?void 0:a.x;if(b!=null){var c=this.F0b.aYm(this.REc),d=this.F0b.Sjk(this.REc),e=0;a="insertBefore";b>=d?e=this.REc.length:(e=c.findIndex(f=>f>b),e=e<0?c.length-1:Math.max(0,e-1),c=c[e],d=this.F0b.Rfb(this.REc[e]),c=(b-c)/d,this.C3m?c>.2&&c<.8?a="replace":c>=.8&&e++:c>.5&&e++);return{index:e,type:a}}}get oJf(){var a,b;if(this.Pga.jrc&&((a=this.hBd)===null||a===void 0?0:a.length))return this.REc.filter(d=>{var e;return!((e=this.hBd)===
null||e===void 0?0:e.includes(d))});a=this.RMg;if(a==null||a.type==="replace")return this.REc;var c=a.index;a=this.REc.slice(0,c);c=this.REc.slice(c);if((b=this.hBd)===null||b===void 0?0:b.length)a=a.filter(d=>{var e;return!((e=this.hBd)===null||e===void 0?0:e.includes(d))}),c=c.filter(d=>{var e;return!((e=this.hBd)===null||e===void 0?0:e.includes(d))});return[...a,...(this.gee||[]),...c]}get L3m(){var a;return(a=this.oJf)!==null&&a!==void 0&&a.length&&this.AFa.scenes!==this.oJf?this.AFa.scenes.length!==
this.oJf.length?!0:!this.AFa.scenes.every((b,c)=>{var d;return b===((d=this.oJf)===null||d===void 0?void 0:d[c])}):!1}get eXj(){var a;const b=this.RMg;if((b===null||b===void 0?void 0:b.type)==="replace")return[this.REc[b.index]];if(this.gee)return this.gee;if(((a=this.hBd)===null||a===void 0?0:a.length)&&!this.Pga.jrc)return this.hBd}constructor(a,b,c,d){this.Xo=a;this.AFa=b;this.Pga=c;this.F0b=d;this.Ptg=(OKs.G(this),void 0);this.JUb=!1;IV(e=>{var f;return!((f=this.gee)===null||f===void 0||!f.includes(e))});
this.UVq=IV(e=>this.F0b.LFg(this.oJf,e))}};var RKs=["video","searchMedia","file","timelineItems"];var TKs=class{static G(a){O(a,{PLk:CV.ref,aJk:CV.ref,Isi:CV.ref,nHf:CV.ref,ALo:jV,tKo:jV})}ALo(a,b){this.Isi=Math.min(a,this.Isi);this.nHf=Math.max(b,this.nHf);this.PLk=a;this.aJk=b}tKo(a){this.nHf=Math.max(a,this.nHf)}constructor(){this.PLk=(TKs.G(this),0);this.aJk=0;this.Isi=Number.MAX_VALUE;this.nHf=20;this.F_q=IV(a=>({isVisible:a>=this.PLk&&a<=this.aJk,qKs:a>=this.Isi&&a<=this.nHf}))}};var rLs=class{static G(a){O(a,{A5g:pV,MFe:pV({equals:oV.structural})})}get page(){return this.store.page.ha}get Pe(){return this.store.page}get scenes(){return this.store.scenes}get f1e(){return this.store.f1e}get A5g(){return yg(4,this.store.Eg)}get MFe(){return Yj({top:0,left:0,width:this.A5g.width,height:this.A5g.height})}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.qd=b;this.oc=c;this.zl=d;this.Pa=e;this.$b=f;this.ng=g;this.r2b=h;this.wA=k;this.ezb=(rLs.G(this),IV(l=>{var m;return!((m=this.store.Rl)===
null||m===void 0||!m.mc(this.page,l.fill))}))}},ZKs=class{constructor(a,b,c){this.Zr=a;this.fill=b;this.Gq=c;this.type=0;this.allow={background:!0,eVd:!0};this.bleed=0}};var qLs=class{static G(a){O(a,{nAf:CV.ref,scenes:pV,f1e:pV({equals:oV.shallow}),Era:pV({equals:oV.shallow}),Rl:pV})}get Eg(){return yg(4,this.gb.$k(this.page.ha))}get scenes(){return this.page.ha.Jc.map(this.o$p)}get f1e(){const a=this.Rl;return a?this.scenes.filter(b=>a.mc(this.page.ha,b.fill)):[]}get Era(){return this.f1e.map(a=>a.fill)}get Rl(){var a;const b=(a=this.ng.La)===null||a===void 0?void 0:a.inner;if((b===null||b===void 0?void 0:b.container.type)!=="section-marker"&&(b===null||b===void 0?
void 0:b.type)==="background"&&b.container.ha===this.page.ha)return b}constructor(a,b,c,d,e){this.ki=a;this.page=b;this.gb=c;this.Qdh=d;this.ng=e;this.nAf=(qLs.G(this),void 0);this.K6h=IV(f=>this.scenes.find(g=>g.fill===f));this.zlr=IV(f=>!!this.K6h(f));this.o$p=IV(f=>tKs(this.Qdh,f))}};var tLs=class{constructor(a,b){this.k9e=a;this.fee=b;this.Rfb=IV(c=>{if(c.type===4)return this.k9e.fOd(c.durationUs);c=this.fee.GHe(c);return this.k9e.fOd(c.durationUs)});this.QZm=IV(c=>c.map(d=>this.Rfb(d)));this.Sjk=IV(c=>this.QZm(c).reduce((d,e)=>d+e,0));this.aYm=IV(c=>{const d=[0];for(let e=0;e<c.length-1;++e)d.push(d[e]+this.Rfb(c[e]));return d});this.LFg=QV((c,d)=>{const e=this.aYm(c);c=c.indexOf(d);return e[c]||0});this.rYq=IV(c=>{c=c.reduce((d,e)=>{const f=this.fee.GHe(e).trim;return d+Math.max(0,
f.startUs-e.trim.startUs)},0);return this.k9e.fOd(c)})}};var dLs=iV(({Nxa:a,AFa:b,OYq:c,w_q:d,fill:e,ymr:f,mc:g})=>{const {Fzl:h,A3h:k}=d(e),[l,m]=tV(!1),[p,q]=tV(!1);lV(()=>{var r,t=((r=a.Xli)===null||r===void 0?0:r.get())&&b.Era.length>0?b.Era:void 0;r=b.nAf?b.nAf:void 0;t=[...(t?t:[]),r];r=c(e);m(r?t.includes(r):!1);q(f(e)?!1:t===null||t===void 0?void 0:t.includes(e))},[a,b.Era,b.nAf,e,f,c]);return nV(xV,{children:[gV(L0s,{position:"end",width:k,isVisible:p,mc:g,vVa:!1}),gV(L0s,{position:"start",width:h,isVisible:l,mc:g,vVa:!1})]})});var gLs=({color:a})=>gV("div",{className:"_1Uh6vA",style:{backgroundColor:a}});var fLs=({isPending:a=!1,BI:b=!1})=>a?gV("div",{className:"rPORHQ",children:gV(__c.pZb,{tone:"primary",background:"secondary",Icon:__c.fr,size:"small"})}):b?gV("div",{className:"rPORHQ",children:gV(__c.pZb,{tone:"critical",background:"secondary",Icon:fu,size:"small"})}):gV("div",{className:"rPORHQ"});var hLs=({gradient:a,height:b,width:c})=>gV(__c.E5g,{className:"o9ZNbg",wh:[a],height:b,width:c});var mLs=class{constructor(a){this.GHe=a;this.Sor=IV(b=>b.some(c=>this.GHe(c).nac));this.cJp=IV(b=>b.some(c=>this.GHe(c).bma.isVisible));this.bJp=IV(b=>b.some(c=>this.GHe(c).F$j.show))}};var lLs=class{static G(a){O(a,{Aia:jV.bound,RBa:jV.bound,SFa:jV.bound,wMn:jV.bound,Nqb:jV.bound,Oqb:jV.bound})}Aia({type:a}){var b;a!=="fullWidth"&&((b=this.wA)===null||b===void 0||b.m2e({direction:a}),this.Ecb.xLb={startUs:this.scene.trim.startUs,endUs:this.scene.trim.endUs},this.Ecb.wtb=a,this.Ecb.Jmh=this.Ecb.FRa)}RBa(a){this.Ecb.xLb&&(this.Ecb.xLb.startUs=a-this.Ecb.O_e+this.scene.trim.startUs)}SFa(a){this.Ecb.xLb&&(this.Ecb.xLb.endUs=a-this.Ecb.O_e+this.scene.trim.startUs)}wMn(){var a;if(this.Ecb.xLb&&
this.Ecb.wtb){(a=this.wA)===null||a===void 0||a.QZe();a=this.Ecb.xLb;a.endUs=Math.max(a.startUs+1E5,a.endUs);a=a.endUs-a.startUs;var b=this.scene.fill.video.ref;if(b){const c=this.qd.LVb(b);zKe({qd:this.qd,iOc:c,fill:b,cXd:a-c,direction:this.Ecb.wtb,Jje:!1});this.scene.fill.durationUs=this.qd.LVb(b)}else this.scene.fill.durationUs=a;this.Ecb.xLb=void 0;this.Ecb.wtb=void 0;this.Ecb.Jmh=void 0}}Nqb(){this.Ecb.wL=!0}Oqb(){this.Ecb.wL=!1}constructor(a,b,c,d){this.qd=a;this.scene=b;this.Ecb=c;this.wA=
d;lLs.G(this)}};var kLs=class{static G(a){O(a,{xLb:CV.shallow,wtb:CV.ref,wL:CV.ref,Jmh:CV.ref,nac:pV,trim:pV,O_e:pV,k8n:pV,XNa:pV,gxa:pV,durationUs:pV,isDisabled:pV,bma:pV,F$j:pV,FRa:pV,width:pV,mvd:pV,Fvl:pV,mc:pV})}get nac(){return!!this.wtb&&!!this.xLb}get trim(){var a;return(a=this.xLb)!==null&&a!==void 0?a:this.scene.trim}get O_e(){let a=0;for(const b of this.fxa.scenes){if(b===this.scene)break;a+=b.durationUs}return a}get k8n(){var a,b;const c=((b=(a=this.xLb)===null||a===void 0?void 0:a.startUs)!==null&&b!==
void 0?b:0)-this.scene.trim.startUs;return this.wtb==="start"?this.O_e+c:this.O_e}get XNa(){return this.scene.jT<Infinity?this.O_e-this.scene.trim.startUs:-Infinity}get gxa(){return this.O_e+this.scene.jT-this.scene.trim.startUs}get durationUs(){return this.xLb?this.xLb.endUs-this.xLb.startUs:this.scene.durationUs}get isDisabled(){return this.cVa.zE||this.mi.get()&&(!this.mc||this.fxa.f1e.length>1)}get bma(){if(Ic.N8){const a=this.nac&&this.Jmh?this.Jmh:this.FRa;return{type:"pointer",FRa:a,isVisible:!this.isDisabled&&
(a==="outside"||this.mvd&&(this.wL||this.nac)),Xzg:this.Jmh!==a||!this.mvd,L6i:this.mc?2:void 0,hAf:this.mc?2:void 0,borderRadius:this.mc?6:void 0,qvh:!0}}return{type:"touch",isVisible:this.mc}}get F$j(){return{show:!this.isDisabled&&this.Fvl,appearance:Ic.N8?"dark":"light"}}get FRa(){return this.Fvl?"outside":"inside"}get width(){return this.k9e.fOd(this.durationUs)}get mvd(){return this.width>50}get Fvl(){return this.fxa.ezb(this.scene)&&!this.mvd}get mc(){return this.fxa.ezb(this.scene)}constructor(a,
b,c,d,e){this.scene=a;this.fxa=b;this.cVa=c;this.k9e=d;this.mi=e;this.xLb=(kLs.G(this),void 0);this.wL=!1}};var sLs=class{J5k(a){return a/this.cVa.SBa*1E6}fOd(a){return a/1E6*this.cVa.SBa}constructor(a){this.cVa=a}};var H4s,I4s,J4s,ALs;
new (H4s=class extends NV{constructor(){super(ALs);I4s()}},(()=>{class a extends(J4s=LV){static G(b){O(b,{gkm:pV,utc:jV})}get gkm(){return __c.bc().width/2}render(){const b=this.props.W3b,c=this.props.Ckd,d=this.props.oN,e=this.props.crb,f=this.props.rHg,g=this.props.Bw,h=this.props.UE;return nV("div",{className:GV("tVFZ0A",{CHptUg:ub.od}),style:{width:d.mi&&g.Cgb?this.gkm:"auto"},children:[gV("div",{className:GV("M0SWqA",{AehUnQ:g.isLinear}),onClick:k=>k.stopPropagation(),children:gV(b,{isDragging:!!d.sOa,
transition:ub.od?"height 300ms":void 0,dimensions:f,sK:e.sK(),Fh:e.Fh,y3b:this.props.y3b,y9d:this.utc,hC:d.hC,UE:h})}),gV(c,{page:void 0,ZDm:"fixed",ECg:!0})]})}constructor(...b){super(...b);this.utc=(ALs.G(this),()=>{const c=this.props.utc,d=this.props.wA;c();d&&(d.stop(),d.Hjc=!1)})}}({c:[ALs,I4s]}=PV(a,[],[Ob],J4s))})(),H4s);var K4s,L4s,M4s,N4s=parseInt("24px",10),xLs;
new (K4s=class extends NV{constructor(){super(xLs);L4s()}},(()=>{class a extends(M4s=LV){static G(b){O(b,{a8c:pV,yki:pV,TBn:jV,SBn:jV,UBn:jV,BPg:pV})}get a8c(){const b=this.props.Ia,c=this.props.page.page;return!!b.pages.last()&&b.pages.last()===c}get yki(){const b=this.props.hQq;return this.a8c||!!b}get BPg(){return this.props.KNp===this.props.Xb}render(){const b=this.props.oN,c=this.props.yn,d=this.props.page,e=this.props.Xb,f=this.props.Kzc,g=this.props.rhh,h=this.props.Eul,k=this.props.gAc,l=
this.props.XMe,m=this.props.onContextMenu,p=this.props.hOa,q=this.props.Q3e,r=this.props.eee,t=this.props.vVa,u=()=>g(void 0),w=()=>g(d.page);return nV("div",{className:"m_zkbg",children:[gV(this.props.Wzh,{zjl:this.props.zjl,page:d.page,N2:this.props.N2,dimensions:r,ppq:r.height,HId:this.props.HId,Nfc:q?h(d.page):!0,children:gV(k,{page:d,zd:e+1,isDragging:l,visible:q,a8t:l,dimensions:r,onClick:p,onContextMenu:m,yn:c})}),f&&nV("div",{className:GV("deszfw",{iQZevg:this.yki}),onMouseLeave:this.SBn,
style:{width:this.BPg?void 0:0},children:[gV("div",{className:GV("_2mudww",{JMhm4Q:this.BPg,_3sjdIg:q&&b.isDragging,ca0eiA:t}),onMouseEnter:this.TBn}),gV("div",{onMouseDown:this.gSk,onMouseEnter:w,onMouseLeave:u,className:GV({_1ZO3Mg:!this.yki,u1Xjlw:!this.yki&&ub.od}),style:{width:!t&&this.BPg?N4s:0},children:gV(f,{page:d.page,wL:this.BPg,dXk:this.UBn})})]})]})}constructor(...b){super(...b);this.gSk=(xLs.G(this),()=>{const c=this.props.gSk,d=this.props.rhh;c===null||c===void 0||c();d(this.props.page.page)});
this.TBn=()=>{const c=this.props.XWf;c(this.props.Xb)};this.SBn=()=>{const c=this.props.XWf;c(void 0)};this.UBn=c=>{const d=this.props.XWf,e=this.props.Xb;d(c.tq?e:void 0,c.immediate)}}}({c:[xLs,L4s]}=PV(a,[],[Ob],M4s))})(),K4s);var O4s,P4s,Q4s,zLs;
new (O4s=class extends NV{constructor(){super(zLs);P4s()}},(()=>{class a extends(Q4s=LV){static G(b){O(b,{eee:pV.struct,TAo:pV,X8n:pV.struct,zoo:pV,hOa:jV,XWf:jV,Vgm:pV.struct,Dji:pV,$tl:pV,w9f:pV,v9f:pV,bXl:pV,w7f:pV,Q3e:pV})}get eee(){this.props.IRg&&this.bln||(this.bln=this.kBj(this.props.page.page));return this.bln}get TAo(){const b=this.props.Bw,c=this.props.Eg;return this.props.jXa||!b.lgb?0:b.m2c.reduce((d,{width:e,paddingRight:f})=>d+Math.min(e,c.width)+f,0)}get X8n(){const b=this.props.Bw;
if(!this.props.jXa&&b.lgb)return Yj({top:0,left:this.props.eid-(this.props.Xo.clientWidth||0)/2,width:this.TAo,height:0})}get zoo(){const b=this.props.Bw;var c=this.props.Ia;const d=this.props.page.page,e=this.props.Xb,f=this.props.uG;if(b.isLinear&&nMs(b,e))return!0;c=b.a9e===d||b.a9e===c.pages.next(d);return b.bXe&&!f.VJ&&c}get Vgm(){var b=this.props.page.page,c=this.props.Ia.pages.previous(b);c=c&&this.kBj(c);b=this.kBj(b);return{left:c?-c.width/2:-b.width/2,right:b.width/2}}get Dji(){return this.props.store.V6h===
this.props.page.page}get $tl(){const b=this.props.store,c=this.props.page.page;return!b.P5d(c)&&this.Dji&&b.Nbi(c).length>=1&&b.fYq(c)+b.eYq(c)>4}get w9f(){const b=this.props.$f;return this.props.uG.VJ&&this.Dji&&b.w9f||bMs}get v9f(){const b=this.props.store,c=this.props.page,d=this.props.$f;return this.props.uG.VJ&&b.gzd(c.page)&&d.v9f||bMs}get bXl(){const b=this.props.$f;return this.$tl&&b.cXl||bMs}get w7f(){const b=this.props.$f;return this.$tl&&b.w7f||bMs}get Q3e(){const b=this.props.XMe;return this.props.PAb===
"visible"||b}render(){const b=this.props.store,c=this.props.zvp,d=this.props.Kzc,e=this.props.gAc,f=this.props.Ckd,g=this.props.Sqp,h=this.props.yn,k=this.props.Bw,l=this.props.page,m=this.props.Xb,p=this.props.Qas,q=this.props.rKs;return nV("div",{ref:this.Vna,className:"KyZmNQ",style:!q&&p||k.isLinear?{width:p,height:"100%"}:{},children:[q&&nV(xV,{children:[gV(this.w9f,{}),gV(this.v9f,{}),gV(this.w7f,{}),gV(this.bXl,{}),gV(c,{page:l,Xb:m,Kzc:this.Q3e?d:void 0,hQq:this.zoo,yn:h,XWf:this.XWf,gAc:e,
onContextMenu:this.onContextMenu,N2:this.N2,Q3e:this.Q3e,hOa:this.hOa,eee:this.eee,HId:b.mc(l.page)?this.X8n:void 0}),this.Q3e&&(!b.mi||k.lgb)&&gV(f,{page:l.page,Rpq:this.Vgm,ECg:!0})]}),!this.Q3e&&gV(g,{page:l.page,zd:m+1,Bea:this.hOa})]})}constructor(...b){super(...b);this.Vna=(zLs.G(this),MV());this.kBj=c=>{const d=this.props.Eg,e=this.props.Bw,f=this.props.jXa,g=e.SXd,h=this.props.uG.VJ,k=e.y$(c).scale;c=e.QTd(c,!0);return{width:h||g==null||f?c:Math.min(c,d.width),height:FV,scale:k}};this.onContextMenu=
c=>{const d=this.props.onContextMenu,e=this.props.wA,f=this.props.page,g=this.props.F5a;d&&(e===null||e===void 0||e.pause(),g(c,!0),d(c,f.page))};this.N2=(c,d)=>{const e=this.props.Eg,f=this.props.Bw,g=this.props.wA,h=this.props.store.mi,k=this.props.Ujb.current.getBoundingClientRect();f.QBn(c,d.x-k.x,e.width);g===null||g===void 0||g.stop();h&&g&&(g.Ljh=!1)};this.hOa=async()=>{const c=this.props.hOa,d=this.props.store,e=this.props.Bw,f=this.props.page.page;e.bXe?d.mc(f)&&d.LSa?e.wZf(f):e.Trl(!0):
this.props.wA&&e.ahh(!0);await (c===null||c===void 0?void 0:c(f))};this.hover=jV(c=>{this.props.Bw.Vpl(this.props.store.sOa?void 0:c)});this.Geq=Gb(this.hover,500);this.Heq=Gb(this.hover,200);this.XWf=(c,d)=>{const e=this.props.Bw;var f=this.props.store;f.jN&&!f.mi&&(f=this.props.Ia.pages.count(),c!=null&&c>=f-1||(d?e.Vpl(c):e.isLinear?this.Heq(c):this.Geq(c)))}}}({c:[zLs,P4s]}=PV(a,[],[Ob],Q4s))})(),O4s);var R4s=class{constructor(a,b,c,d,e,f){this.page=a;this.direction=b;this.O9r=c;this.Pyr=d;this.N7s=e;this.Sig=f}},DLs=class{static G(a){O(a,{trim:CV.ref})}constructor(){this.trim=(DLs.G(this),void 0)}},S4s=class{static G(a){O(a,{cpe:CV.ref,aAl:jV.bound,x4j:jV.bound})}get ANd(){return this.cpe}aAl(a){var b;((b=this.cpe)===null||b===void 0?0:b.isRecording())&&this.cpe.end("unset");this.cpe=this.P.sb("trim_scene",{Fb:{name:"editor.editing.page_navigator.timeline.trim_scene",performance:{lT:!0},type:a}})}x4j(){var a;
(a=this.cpe)===null||a===void 0||a.end("ok");this.cpe=void 0}pFg(a,b){var c=b==null;const {wh:d,durationUs:e}=__c.CKe(this.zy,a,c);if(!d.length||c)return{fill:d[0],durationUs:e};a=f=>this.qd.LVb(f.trim?{...f,trim:b?{startUs:b==="start"?0:f.trim.startUs,endUs:b==="end"?Infinity:f.trim.endUs}:void 0}:f);c=Li(d,a);return{fill:c,durationUs:a(c)}}constructor(a,b,c,d,e){this.store=a;this.qd=b;this.zy=c;this.Cf=d;this.P=e;this.cpe=(S4s.G(this),void 0)}},HLs=class extends S4s{static G(a){O(a,{Aia:jV.bound,
JBi:jV.bound,Qna:jV.bound})}Aia(a,b){var c,d;this.aAl(b);const e=EKe(this.zy,a);this.selection.aCb(a);const f=zm.Cs(a);this.store.trim=new R4s(a,b,e,this.pFg(f,b).fill,0,()=>{});this.zy.VJd(e);this.Cf.lK();this.q_.y$m([a]);this.Kee(f);(d=this.Lk)===null||d===void 0||(c=d.rN)===null||c===void 0||c.call(d,new ip)}JBi(a){const b=this.store.trim;b?(this.zy.VJd(a),this.q_.Plo(a,b.direction,c=>{if(b.direction==="end")return!0;const d=this.Cf.getDuration(c),e=__c.fEg(this.q_,c);return c===b.Pyr||a<=d||e<
d}),this.Kee(zm.Cs(b.page))):this.x4j()}Qna(a,b,c){const d=this.store.trim;d&&(this.q_.kpm({location:"page_navigator",kb:c}),this.zy.FUd({pages:[d.page],oIf:a,pHf:b,Kjf:{location:"page_navigator",kb:c},ua:this.ANd}),this.Kee(zm.Cs(d.page)),this.store.trim=void 0,this.zy.reset())}Kee(a){var b;const c=((b=this.store.trim)===null||b===void 0?void 0:b.direction)==="end"&&this.zy.WUa||0;a.forEach(d=>__c.mee(this.Cf,d,c,this.q_.ZGg(d)))}constructor(a,b,c,d,e,f,g,h){super(a,b,c,d,e);this.q_=f;this.selection=
g;this.Lk=h;HLs.G(this)}},GLs=class extends S4s{gUh(a,b,c,d){if(c===d)return __c.Jf({pages:[a]}).tb(a);var e=Mn.snapshot(a);e=Mn.create(e);const f=__c.Jf({pages:[e]}).tb(e);switch(f.type){case "fixed-page":return oa(a.type==="fixed"),this.Lbc.addAlias(e,a),__c.AKe({Cf:this.Cf,zy:this.zy,qd:this.qd,page:f.page,direction:b,c_g:c,JYg:d,kid:!1}),f;case "concatenated-fixed-page":case "responsive-page":return f;default:throw new v(f);}}Aia(a,b){var c,d;this.aAl(b);$Js(this.kd);(d=this.Lk)===null||d===void 0||
(c=d.rN)===null||c===void 0||c.call(d,new ip);this.selection.aCb(a);c=EKe(this.zy,a);d=c*1E6;const e=FLs(this,a,b)*1E6;this.Zwe=this.gUh(a,b,d,e);this.store.trim=new R4s(a,b,c,void 0,e,this.kd.configure({Ei:!0,page:this.Zwe}));this.zy.VJd(c);this.kd.seek((b==="start"?e-d:d)/1E6)}JBi(a){if(this.store.trim){var b=this.store.trim.N7s,c=a*1E6;this.kd.seek((this.store.trim.direction==="start"?b-c:c)/1E6);this.zy.VJd(a)}}Qna(a,b,c){const d=this.store.trim;if(d){d.Sig();var e=d.page;this.zy.FUd({pages:[e],
oIf:a,pHf:b,Kjf:{location:"page_navigator",kb:c},direction:d.direction,ua:this.ANd});this.Kee(zm.Cs(e));this.kd.stop();if(this.Zwe)switch(this.Zwe.type){case "fixed-page":this.Lbc.store.j5g.delete(this.Zwe.page);this.Zwe=void 0;break;case "concatenated-fixed-page":case "responsive-page":this.Zwe=void 0;break;default:throw new v(this.Zwe);}this.store.trim=void 0;this.zy.reset();aKs(this.kd)}else this.x4j()}Kee(a){var b;const c=((b=this.store.trim)===null||b===void 0?void 0:b.direction)==="end"&&this.zy.WUa||
0;a.forEach(d=>__c.mee(this.Cf,d,c))}constructor(a,b,c,d,e,f,g,h,k){super(a,b,c,d,e);this.kd=f;this.selection=g;this.Lbc=h;this.Lk=k}};var KLs=class{tte(a,b){if(a=!!this.Cf.canPlay(a)&&!!this.Cf.getDuration(a))b=b.length,this.document.pages.count()+(b-1)>this.Fh?(b=this.vSa.KE,b.hZa({icon:fu,message:b.Vfa.render(L("PZbDsA")),tone:"critical"}),b=!0):b=!1,a=!b;return a}get ya(){return n(this.viewport.ya)}SSi(a,b,c){this.zy.VJd(b);this.zy.FUd({pages:[a],direction:c,oIf:.1,pHf:Math.max(600,__c.CKe(this.zy,zm.Cs(a)).durationUs/1E6),Kjf:{location:"highlights",kb:"shortcut"}});this.zy.reset()}Lah(a){a.transition.set(void 0)}constructor(a,
b,c,d,e,f){this.vSa=a;this.zy=b;this.Cf=c;this.viewport=d;this.document=e;this.Fh=f}};var T4s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-width="1.5" stroke-linecap="round" d="M8 1.75v12.5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8 3.333H3a2 2 0 0 0-2 2v5.334a2 2 0 0 0 2 2h5v-1.5H3a.5.5 0 0 1-.5-.5V5.333a.5.5 0 0 1 .5-.5h5v-1.5ZM10.334 12.667h2.667a2 2 0 0 0 2-2V5.333a2 2 0 0 0-2-2h-2.667v1.5h2.667a.5.5 0 0 1 .5.5v5.334a.5.5 0 0 1-.5.5h-2.667v1.5Z" fill="currentColor"/></svg>';var U4s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.75a.75.75 0 0 0-1.5 0V6H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h5.5v2.25a.75.75 0 0 0 1.5 0V3.75ZM10.5 16.5v-9H5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h5.5Z" fill="currentColor"/><path d="M14 18h5a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-5v1.5h5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-5V18Z" fill="currentColor"/></svg>';var TLs=dr({small:T4s,medium:U4s});var RLs=class{static G(a){O(a,{xun:jV.bound,eOh:pV,IXi:jV.bound,puo:jV.bound,HXi:jV.bound})}get Lsb(){var a;const b=((a=this.wA.Lsb)!==null&&a!==void 0?a:this.dVa.currentTime).toFixed(6);return Number.parseFloat(b)}xun(){try{var a;if(((a=this.Ar.mR)===null||a===void 0||!a.length)&&this.eOh)return this.IXi();if(NLs(this))return this.HXi()}catch(b){}}get eOh(){if(!this.owl.get()||this.Ma.mode<40||!this.Ow.Cgb||this.Ow.VJ||this.document.pages.count()>=this.Fh)return!1;var a=OLs(this,this.Lsb);a=a===
null||a===void 0?void 0:a.page;var b;if(!(b=!a||a.locked)&&(b=this.timing.Ws)){var c=this.Lsb;b=this.Ow.pGg(c,!0);b!==null&&b!==void 0&&b.page&&b.page.type==="fixed"?(c=(c-b.Vda/1E6)*1E6,b=!!PLs(this,b.page.Jc.toArray(),c)):b=!1;b=!b}if(b)return!1;switch(a.type){case "fixed":return!a.dimensions||!Bg(a.dimensions);case "concatenated-fixed":case "responsive":return!1;default:throw new v(a);}}IXi(){const a=this.P.sb("split_scene",{Fb:{name:"editor.editing.page_navigator.timeline.split_scene"}});this.wA.stop();
if(this.timing.Ws){const {page:g}=n(OLs(this,this.Lsb));if(g.type==="fixed"){var {fill:b,$Kq:c,cLq:d}=n(PLs(this,g.Jc.toArray(),this.Lsb*1E6)),e=c+d,f={...Qps(es.snapshot(b)),durationUs:d};b.durationUs=Math.min(Math.max(Math.max(c),1E5),6E8);f=g.Jc.CI(b,f);b.transition.set(void 0);b.video.ref&&zKe({qd:this.qd,iOc:e,fill:b.video.ref,cXd:-d,direction:"end",Jje:!0});f.video.ref&&zKe({qd:this.qd,iOc:e,fill:f.video.ref,cXd:-c,direction:"start",Jje:!0});this.wA.seek(this.Lsb,"start")}}else this.puo();this.wA.Bde();
a.ne()}puo(){const {page:a,durationUs:b,XRs:c}=n(OLs(this,this.Lsb)),d=qu.yQ(Mn.snapshot(a),{fGa:!0});this.Lah(a);this.SSi(a,c,"end");const e=this.document.pages.CI(a,d);this.SSi(e,b/1E6-c,"start");requestAnimationFrame(()=>{this.wA.XG(e);this.wA.seek(this.Lsb,"start")})}HXi(){var a;const b=this.Lsb;this.wA.stop();this.wA.Bde();const c=(a=this.Ar.mR)===null||a===void 0?void 0:a.map(d=>QLs(this,d,b)).filter(tb);(c===null||c===void 0?0:c.length)&&this.Ar.select(...c);this.wA.seek(b,"start")}SSi(a,b,
c){this.zy.VJd(b);this.zy.FUd({pages:[a],direction:c,oIf:.1,pHf:Math.max(600,__c.CKe(this.zy,zm.Cs(a)).durationUs/1E6),Kjf:{location:"page_navigator",kb:"shortcut"},kid:!0})}Lah(a){a.transition.set(void 0)}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.document=a;this.Ma=b;this.zy=c;this.Ar=d;this.Wz=e;this.Ow=f;this.timing=g;this.qd=h;this.P=k;this.Fh=l;this.wA=m;this.dVa=p;this.owl=q;RLs.G(this)}};var SLs=iV(({xi:a,T4e:b,disabled:c,onClick:d})=>{const e=kV(()=>{b.IXi();d===null||d===void 0||d()},[b,d]);return gV(a,{tooltip:L("GiOiNA"),icon:TLs,disabled:c,yh:"icon",onClick:e,children:L("nHEHOg")})}),ULs=iV(({xi:a,T4e:b,disabled:c,Fo:d,onClick:e})=>{const f=kV(()=>{b.HXi();e===null||e===void 0||e()},[b,e]);return gV(a,{tooltip:L("W417Fg"),disabled:c,icon:TLs,yh:d?"icon-and-label":"icon",onClick:f,children:L("nHEHOg")})});var V4s,W4s,X4s,Y4s;
new (V4s=class extends NV{constructor(){super(Y4s);W4s()}},(()=>{class a extends(X4s=LV){static G(b){O(b,{rZa:jV.bound,PJa:jV.bound,iOa:jV.bound})}rZa(b){var c,d;const e=this.props.uG;e===null||e===void 0||e.lCb(!0);e===null||e===void 0||e.$Zb({c7g:"pinch_centre",Hi:b.Hi});(c=(d=this.props).Rtu)===null||c===void 0||c.call(d)}PJa(b){const c=this.props.uG,d=this.props.my;(c===null||c===void 0?void 0:c.n$m)!=null&&(c.My(c.n$m*b.scale),d(J("MEzq1g",[c.$U])))}iOa(){const b=this.props.uG;b===null||b===
void 0||b.g0("pinch")}render(){return gV("div",{ref:this.FA.Aq,className:"Dx9Tuw",children:this.props.children})}constructor(...b){super(...b);this.Xba=(Y4s.G(this),[new __c.Yzc({Ls:this.rZa,PG:this.PJa,qx:this.iOa})]);this.FA=new __c.fd(this.Xba)}}({c:[Y4s,W4s]}=PV(a,[],[Ob],X4s))})(),V4s);var Z4s=iV(({enabled:a,uG:b,...c})=>{c.rvh();return a.get()&&!b.VJ?gV(Y4s,{...c,uG:b}):c.children});var $4s,a5s,b5s,c5s=parseInt("4px",10)*2,d5s=parseInt("16px",10),e5s=parseInt("8px",10)*2,f5s=parseInt("12px",10)||12,$Ms;
new ($4s=class extends NV{constructor(){super($Ms);a5s()}},(()=>{class a extends(b5s=LV){static G(b){O(b,{lee:CV.ref,PAo:pV,rHg:pV,tGo:pV,eid:pV,Oqm:pV,F5a:jV,Ekg:jV,onTouchStart:jV,onTouchEnd:jV,onScroll:jV,MAi:jV})}get PAo(){var b,c;return((c=this.Ujb)===null||c===void 0?void 0:(b=c.current)===null||b===void 0?void 0:b.getBoundingClientRect().x)||0}get n1s(){var b;const c=(b=this.Ujb)===null||b===void 0?void 0:b.current;return c?c.offsetTop+c.offsetHeight:0}get rHg(){return{width:this.props.Bw.eci,
height:FV}}get tGo(){const b=this.props.Bw,c=this.rHg.width+c5s+2*e5s;return b.qja==="end"?b.rGo+c:this.props.store.mi&&b.qja==="start"?b.sGo+c:b.nMd+c}get eid(){const b=this.props.Bw,c=this.props.store;if(!b.Cgb)return 0;const d=b.veb,e=b.qja==="start"?b.c9e+b.O3i:0,f=b.Bab?b.Iwa(b.Bab).offsetWidth:c.mi?0:d-e;return c.mi?Math.max(d-(e5s+e),-d-f):b.c9e!==0?Math.max(d-e,-f):d}get Oqm(){var b=this.props.Xo;const c=this.props.Bw,d=this.props.store,e={"--aABeBw":`${this.eid}px`,"--0ljhFQ":`${d.ncm}px`,
"--5t4xnw":`${d.qcm}px`};return c.qja?{...e,minWidth:this.tGo}:this.props.jXa||d.mi||c.dragOffset===0?this.props.timing.Ws&&d.mi?(b=__c.bc().width/2,{...e,paddingRight:b}):e:{...e,paddingRight:b.clientWidth-(this.rHg.width+e5s)}}componentDidMount(){const b=this.props.store,c=this.props.Bw,d=this.props.Au;Drs(()=>!!d.current,()=>{var f;(f=d.current)===null||f===void 0||f.addEventListener("touchstart",this.onTouchStart)});const e=[hV(()=>({Cg:b.Cg,focused:b.LSa}),({Cg:f,focused:g})=>{c.bXe&&(g?(c.wZf(f.length===
1&&c.S7i?f[0]:void 0),c.Trl(!1)):c.S7i||c.wZf(void 0))})];Kb(this,e)}componentWillUnmount(){var b;cancelAnimationFrame(this.EFh);(b=this.props.Au.current)===null||b===void 0||b.removeEventListener("touchstart",this.onTouchStart)}render(){const b=this.props.Kzc,c=this.props.y3b,d=this.props.gAc,e=this.props.Vlj,f=this.props.W3b,g=this.props.utc,h=this.props.hOa,k=this.props.yn,l=this.props.Eg,m=this.props.d1c,p=this.props.Bgc,q=p.eYl,r=p.j1l,t=p.QVl,u=p.n2l,w=p.loe,x=this.props.Bw,y=this.props.uG,
z=this.props.zft,A=this.props.jSs,B=this.props.measureRef,D=this.props.voe;return gV(Z4s,{enabled:this.props.zJm,uG:y,rvh:this.props.rvh,my:this.my,children:nV("div",{className:GV("PLXBxQ",{skT6fg:p.E3c,_4h2Low:x.kEf,_7XBsHg:this.props.timing.Ws}),style:this.Oqm,onClick:this.CTr,ref:(0,rRs["default"])(B,m.Aq,A,y.VJ?void 0:z),children:[m.anchor,u&&gV(u,{prc:!!this.lee,F5a:this.F5a}),gV("div",{className:"T5cLig",children:!y.VJ&&gV(e,{})}),nV("div",{className:"_8BtP1w",children:[q&&gV("div",{className:"jyrvhQ",
children:gV(q,{yn:k,F5a:this.F5a,gJt:this.eid+d5s})}),gV("div",{ref:this.Ujb,className:"_5peejg",children:r&&gV(r,{eid:this.eid,yn:k,Eg:l,Ujb:this.Ujb,gAc:d,Kzc:b,y3b:c,W3b:f,utc:g,hOa:h,F5a:this.F5a,loe:w})}),gV(D,{}),t&&gV("div",{className:GV("lJ_R_Q",{qZEbqg:x.kEf}),children:gV(t,{F5a:this.F5a})})]})]})})}constructor(...b){super(...b);this.z2s=($Ms.G(this),Symbol("TimelineContent"));this.Ujb=MV();this.lee=void 0;this.touchEnd=!1;this.F5a=(c,d)=>{const e=this.props.wA,f=this.props.dVa,g=this.props.Bw;
var h=this.props.uG,k=this.props.store,l=this.props.Df;k.KF==="single"&&!h.VJ&&e&&f&&this.Ujb.current&&!k.txd&&!l.isOpen&&(h=this.Ujb.current.getBoundingClientRect(),{clientX:c=0}=c,c<h.left||(c-=h.left,h=g.v2d(c,{zvb:!this.props.timing.Ws}),k=g.zwd(h),l=g.Vhk(c),d&&l===g.zwd(f.currentTime)?(d=g.rHe(f.currentTime),Math.abs(d-c)>f5s&&(e.Lsb=h)):(e.pause(),this.props.store.mi||e.seek(this.props.timing.Ws?h:Math.min(h,g.QFl-.001)),e.XG(l),k!==l&&e.stop())))};this.Ekg=()=>{this.lee!=null&&(clearTimeout(this.lee),
this.lee=void 0)};this.onTouchStart=()=>{var c;const d=this.props.wA,e=this.props.dVa,f=this.props.store,g=this.props.Au;f.mi&&!f.sOa&&d&&e&&g.current&&(this.props.Bw.ahh(!0),d.pause(),this.Ekg(),this.touchEnd=!1,document.addEventListener("touchend",this.onTouchEnd),(c=g.current)===null||c===void 0||c.addEventListener("scroll",this.onScroll))};this.onTouchEnd=()=>{this.touchEnd=!0;this.lee||this.MAi()};this.onScroll=()=>{var c=this.props.store,d=this.props.wA;const e=this.props.dVa,f=this.props.Bw,
g=this.props.uG;var h=this.props.Wz;const k=this.props.Xo;c.sOa||g.zE?(this.MAi(),this.Ekg()):(h.$li?(c=f.v2d(k.scrollLeft),d===null||d===void 0||d.m2e({time:c})):f.o0f&&(h=f.v2d(k.scrollLeft),h=Math.min(h,f.QFl-.001),d===null||d===void 0||d.seek(h),f.Cgb&&c.mi&&g.VJ&&(d=f.zwd(h),c.ZJ===1&&c.mc(d)||(c.Cra(d),f.Eba()))),this.Ekg(),this.lee=window.setTimeout(()=>{if(this.touchEnd||(e===null||e===void 0?0:e.If))this.MAi(),this.Ekg();else this.onScroll()},500))};this.MAi=()=>{var c;const d=this.props.Au;
var e=this.props.Bw;const f=this.props.dVa,g=this.props.wA;this.props.Bw.ahh(!1);if(f&&e.Cgb){if(this.lee){var h;e=e.zwd(f.currentTime,(h=g===null||g===void 0?void 0:g.Hjc)!==null&&h!==void 0?h:!1);g===null||g===void 0||g.XG(e)}document.removeEventListener("touchend",this.onTouchEnd);(c=d.current)===null||c===void 0||c.removeEventListener("scroll",this.onScroll);this.touchEnd=!1}};this.EFh=0;this.CTr=c=>{cancelAnimationFrame(this.EFh);this.EFh=requestAnimationFrame(()=>{this.EFh=requestAnimationFrame(()=>
{const d=this.props.Bw;this.F5a(c);d.ahh(!1)})})};this.my=c=>{this.props.xc.Ib({Cb:c,group:this.z2s})}}}({c:[$Ms,a5s]}=PV(a,[],[Ob],b5s))})(),$4s);var eMs=JV(({onClick:a,If:b,va:c,IG:d})=>{const e=kV(f=>{a();f.nativeEvent.stopImmediatePropagation()},[a]);return gV("div",{className:GV("OH498g",{EfX0rQ:d}),children:gV(tr,{variant:"tertiary",size:"large",Nc:"medium",yUb:!0,onClick:d?void 0:e,loading:c,icon:b?__c.Lu:__c.Mu,className:"Vb2WBg",ariaLabel:b?L("8Pbkhg"):L("Y/SEvA")})})});var ZLs=iV(function({currentTime:a,totalTime:b}){a=Ao(a());b=Ao(b());return gV(P,{size:"medium",tone:"primary",weight:"bold",children:gV(aMs,{ITm:a.padStart(b.length,b.replace(/\d/g,"0"))})})}),$Ls=iV(function({totalTime:a}){return gV(P,{size:"medium",tone:"tertiary",children:gV(aMs,{ITm:Ao(a())})})});var cMs=.5*$c+5*$c,dMs=JV(function({pgs:a,JGq:b}){return gV(S,{padding:"0.5u",children:nV(jr,{columns:b?3:1,spacing:"0",Fa:"center",children:[b&&gV(S,{display:"flex",justifyContent:"start",children:b}),gV(S,{display:"flex",justifyContent:"center",children:a})]})})});var g5s,h5s,i5s,gMs;new (g5s=class extends NV{constructor(){super(gMs);h5s()}},(()=>{class a extends(i5s=LV){static G(b){O(b,{eB:pV,onClick:jV.bound})}get eB(){return!this.props.uG.VJ}render(){return gV(this.props.nE,{onClick:this.onClick,eB:this.eB,children:L("2e2XZw")})}onClick(){const b=this.props.oa,c=this.props.onClick,d=this.props.uG;d.OJd(!d.VJ,"click");d.VJ||(this.props.Wj.oq="thumbnail");c&&c();b&&b()}constructor(...b){super(...b);a.G(this)}}({c:[gMs,h5s]}=PV(a,[],[Ob],i5s))})(),g5s);var hMs=iV(a=>{const b=a.hb;return gV(fj,{variant:"tertiary",size:"small",active:a.active,onClick:a.onClick,icon:__c.vD,jk:!0,JH:a.JH,hb:b,ariaLabel:b,children:L("Jajjyg")})});var jMs=({Lle:a,mi:b})=>gV("div",{className:"XsiM7A",children:a&&nV(xV,{children:[gV(a,{size:"m",shape:"square"}),gV(P,{size:"xsmall",tone:lr,children:b.get()?L("fg/MLw"):L("nvHInw")})]})});var j5s=parseInt("8px",10)||8,k5s=parseInt("68px",10)||60,l5s=FV*16/9,m5s=10.5*$c,lMs=parseInt("16px",10)||16,mMs=parseInt("24px",10)*2,SMs=class{static G(a){O(a,{lgb:CV.ref,SXd:CV.ref,O3i:CV.ref,oUj:CV.ref,S7i:CV.ref,lsi:CV.ref,Xmi:CV.ref,Ioj:CV.ref,pli:CV.ref,isLinear:pV,h3e:pV,NDm:pV({equals:oV.shallow}),SBa:pV,dragOffset:pV,veb:pV,eci:pV,qGo:pV,c9e:pV,HOd:pV,K7b:pV({equals:tk(oV.shallow)}),m2c:pV({equals:tk(oV.shallow)}),bjl:pV,IQn:pV,nMd:pV,h1i:pV,mni:pV,rGo:pV,sGo:pV,snf:pV,A8l:pV,QBn:jV.bound,
zBn:jV.bound,bXe:pV,wZf:jV.bound,a9e:pV,IRg:pV,VJ:pV,kEf:pV,o0f:pV,ahh:jV.bound,Trl:jV.bound,Vpl:jV.bound,Hqk:CV.ref,rhh:jV,RAo:pV})}get H4g(){var a;return((a=this.I.M3i.trim)===null||a===void 0?void 0:a.O9r)||0}get Bab(){var a;return(a=this.I.M3i.trim)===null||a===void 0?void 0:a.page}get qja(){var a;return(a=this.I.M3i.trim)===null||a===void 0?void 0:a.direction}get zHc(){return this.I.zHc}get e2f(){return this.isLinear?0:j5s*2}get isLinear(){return!this.I.uG.VJ}get whd(){const a=this.I.viewport.Zg;
return this.I.timing.Ws&&HV(this,a.ha)?this.I.qd.tb(a.ha):this.I.qd.Rxb(this.I.document)}get QFl(){return this.whd/1E6}get h3e(){if(EV.iAm)return!1;const a=this.I.gb;return this.I.document.pages.some(b=>b?!nk(a,b,c=>c===null||c===void 0?void 0:c.UBe)&&dHs(this,b):!1)}get NDm(){const a=yg(4,this.I.document.dimensions);return{width:a.width/a.height*FV,height:FV}}get SBa(){return this.I.uG.$U*40}get dragOffset(){const a=this.I.uG;return this.I.jXa||!this.lgb||!this.SXd||a.VJ?0:Math.max(this.lgb-this.SXd,
0)}get veb(){var a=this.I.mwg;if(!this.Cgb)return this.dragOffset;a=this.I.mi.get()?__c.bc().width/2:a?0:m5s;return this.dragOffset+a}get eci(){var a=this.I.document;this.I.uG.VJ?(a=a.pages.last(),a=Math.min(l5s,Math.max(this.y$(a).width,k5s))):a=96;return a}get qGo(){const a=this.I.zy;return this.Bab&&a.WUa?a.WUa-this.H4g:0}get c9e(){const a=this.Bab;if(!a)return 0;const b=this.QTd(a,!1);return this.QTd(a,!0)-b}get HOd(){return{start:Math.max(this.I.Xo.scrollLeft-100-this.veb,0),end:this.I.Xo.scrollLeft+
this.I.Xo.clientWidth+100-this.veb}}get K7b(){const a=this.I.viewport.Zg;return this.I.timing.Ws&&HV(this,a.ha)?this.mNh([a.ha]):this.mNh(this.I.document.pages.toArray())}get m2c(){const a=this.I.viewport.Zg;return this.I.timing.Ws&&HV(this,a.ha)?this.mNh([a.ha],{withTrim:!0}):this.mNh(this.I.document.pages.toArray(),{withTrim:!0})}get bjl(){const a=this.m2c.map(!this.I.jXa&&this.SXd?({width:b,page:c})=>Math.min(b,this.y$(c).width)+this.e2f:({width:b})=>b+this.e2f);a.length>0&&(a[0]+=this.veb);return a}get IQn(){return Math.max(this.SBa,
k5s)/this.SBa}y$(a){const b=this.I.document;return a.type==="concatenated-fixed"?p2s:nk(this.I.gb,a,c=>c===null||c===void 0?void 0:c.PMa)?q2s(b.dimensions):a.type==="responsive"?p2s:q2s(a.dimensions||b.dimensions)}get nMd(){const a=this.K7b[this.K7b.length-1];return(a===null||a===void 0?void 0:a.offsetWidth)+(a===null||a===void 0?void 0:a.width)||0}get h1i(){const a=this.mni;return((a===null||a===void 0?void 0:a.offsetWidth)||0)+((a===null||a===void 0?void 0:a.width)||0)}get mni(){var a=this.I.viewport.Zg;
return this.I.timing.Ws&&HV(this,a.ha)?this.Iwa(a.ha):(a=this.I.document.pages.XRa(b=>b.type!=="responsive").last(b=>HV(this,b)))&&this.Iwa(a)}get rGo(){return this.nMd+this.Xmi}get sGo(){return this.nMd+this.c9e}get snf(){return this.I.zy.WUa}get A8l(){return this.K7b.reduce((a,{durationUs:b})=>a+b,0)}onDrop(){this.Wze=void 0}QBn(a,b,c){this.lgb=b;b=0;const d=this.I.document.pages.toArray();for(const [f,g]of d.entries()){var e=f===d.length-1||d.length===1?0:this.e2f;e=Math.min(this.QTd(g,!0),c)+
e;if(g===a){b+=e/2;break}else b+=e}this.SXd=b;this.Eba()}zBn(){this.SXd=this.lgb=void 0}get Cgb(){return this.I.Vli()}get bXe(){return this.I.mi.get()||Vb()}wZf(a){this.Ioj=a}get a9e(){if(!this.I.uG.VJ&&this.lgb==null)return this.Bab||this.Ioj}get IRg(){return!!this.Bab}get VJ(){return this.I.uG.VJ}get zE(){return this.I.uG.zE}get Wjr(){return this.lsi!=null}get kEf(){return this.VJ&&!this.I.mi.get()}get o0f(){return this.I.mi.get()&&!this.VJ}get RAo(){const a=this.I.Xo.clientWidth;if(a!=null)return a-
Math.max(this.veb-this.I.Xo.scrollLeft,0)-120}constructor(a){this.I=a;this.lgb=(SMs.G(this),void 0);this.SXd=void 0;this.O3i=0;this.S7i=this.oUj=!1;this.lsi=void 0;this.Xmi=0;this.Ioj=void 0;this.pli=!1;this.odh=e=>this.isLinear?Math.round(e*10)/10:Math.round(e);this.Eba=()=>{var e,f;(f=this.I.Lk)===null||f===void 0||(e=f.rN)===null||e===void 0||e.call(f,new ip)};this.mNh=(e,f={})=>{const g=this.I.document,h=this.I.qd;let k=0,l=0,m=0,p=0;return e.map((q,r)=>{var t=r===e.length-1,u=f.withTrim&&q===
this.Bab;const w=h.tb(q),x=h.N0d(g,q),y=(HV(this,q)?x:w)+(u?this.qGo*1E6:0);t=t?0:this.e2f;u=this.QTd(q,u);const z=k,A=l;l+=u+t;HV(this,q)&&(k+=y);const B=z-m;m=w-x-m;r=p?this.odh(A-p-(r===0?0:this.e2f)):A;p=u/x*m;return{page:q,durationUs:y,width:u,Vda:z,cRk:B,$An:r,offsetWidth:A,paddingRight:t}})};this.QTd=(e,f)=>{var g=this.I.zy;if(this.I.uG.VJ)return Math.min(l5s,Math.max(this.y$(e).width,k5s));e=(f=f&&this.Bab===e)&&this.snf!==void 0?this.snf:EKe(g,e);g=this.odh(e*this.SBa);if(this.isLinear)return g;
e=Math.max(this.SBa,k5s);g=f&&this.H4g!==0&&this.H4g<this.IQn?g+e-this.odh(this.H4g*this.SBa):g;return f?g:Math.max(g,e)};this.Iwa=e=>n(this.K7b.find(f=>f.page===e));this.pGg=(e,f,g)=>{const h=(g?this.m2c:this.K7b).filter(({page:l})=>HV(this,l)),k=Math.round(e*1E6);return h.find(({durationUs:l,Vda:m},p)=>{l=m+l;return f||p===h.length-1?k<=l:k<l})};this.rHe=(e,f={})=>{var g;const h=((g=f.iah)===null||g===void 0?0:g.draft)?this.nMd:this.h1i;return this.odh(Math.min(qMs(this,e*1E6,f),h))};this.v2d=(e,
{zvb:f=!0,...g}={})=>{var h;const k=(((h=g.iah)===null||h===void 0?0:h.draft)?this.A8l:this.whd)/1E6;return f?Math.min(tMs(this,e,g)/1E6,k):tMs(this,e,g)/1E6};this.YIa=(e,{zvb:f=!0,...g}={})=>f?this.rHe(e/1E6,g):qMs(this,e,g);this.Rfb=(e,f,{zvb:g=!1,...h}={})=>this.YIa(f,{zvb:g,...h})-this.YIa(e,{zvb:g,...h});this.dHg=(e,{zvb:f=!0,...g}={})=>f?this.v2d(e,{zvb:f,...g})*1E6:tMs(this,e,g);this.Vhk=e=>{var f;return(f=this.K7b.find(({width:g,offsetWidth:h})=>e>=h&&e<=h+g))===null||f===void 0?void 0:f.page};
this.zwd=(e,f)=>{({page:e}=this.pGg(e,f)||this.K7b[0]);return e};this.ahh=e=>{this.oUj=e};this.Trl=e=>{this.S7i=e};this.Vpl=e=>{this.lsi=e};this.rhh=e=>{this.Hqk=e};this.Eul=QV(e=>!ub.od||this.Bab===e||this.SXd!=null||this.I.uG.zE);this.tho=e=>{this.pli=e};const b=a.uG,c=a.M3i,d=a.zy;a=a.Ma;hV(()=>b.VJ,this.Eba);hV(()=>c.trim?Math.max(this.Xmi,this.c9e):0,e=>this.Xmi=e,{fireImmediately:!0});Drs(()=>!this.VJ,()=>{d.jZf=!0});a.fpf(()=>this.pli)}};var IMs=({Lxk:a})=>gV("div",{className:GV("pAiVJA",a&&"Xk_37w"),children:gV(pr,{label:L("xhtG7g"),children:gV(S,{tagName:"span",background:"neutralLow",borderRadius:"elementSoftest",ariaHidden:!1,className:"VzkBcA",ariaLabel:L("xhtG7g"),children:gV(P,{size:"small",className:"_3ubtlQ",children:L("SI6VaA")})})})});var CMs=class{static G(a){O(a,{mC:CV.ref,cGd:CV.ref,gZ:CV.ref,LCe:CV.ref,pages:pV({equals:oV.shallow})})}get pages(){var a;const b=(a=this.LCe)===null||a===void 0?void 0:a.page;if(b&&qvb(b.page))return oa(b.type==="fixed-page"),[b];a=[];for(const c of this.document.pages)qvb(c,this.document)&&a.push(this.ki.tb(c));return a}gTj(){var a;(a=this.mC)===null||a===void 0||a.dispose();this.LCe=this.cGd=this.mC=void 0}gka(){this.LCe=this.configuration;const a=this.pages,{$e:b,gZ:c}=this.sha({O8a:__c.xze(()=>
a,()=>this.document),override:this.tHp,Prb:pV(()=>{var d;return(d=this.eya)===null||d===void 0?void 0:d.isEnabled})});this.cGd=b;this.gZ=c;return this.mC=new __c.U4g(this.Pp,this.Cf,b,this.qd)}get tHp(){const a=this.configuration;if(a&&a.Ei)return a.Ei===!0?{type:"page",animation:"none"}:{type:"element",animation:"static",elements:a.Ei,timing:{startUs:void 0,durationUs:void 0}}}Ppm(a,b){var c,d;oV.shallow(a.Ei,(c=this.configuration)===null||c===void 0?void 0:c.Ei)&&a.page===((d=this.configuration)===
null||d===void 0?void 0:d.page)||(this.configuration=a,this.mC&&(b(),this.gka()));const e=this.configuration;return()=>{this.configuration===e&&(this.configuration=void 0)}}constructor(a,b,c,d,e,f,g){this.sha=a;this.document=b;this.ki=c;this.eya=d;this.Pp=e;this.Cf=f;this.qd=g;this.type=(CMs.G(this),"ANIMATE")}};var n5s=class{get currentTime(){return this.store.currentTime}get duration(){return this.store.duration}get zab(){return this.store.volume}get paused(){return!this.store.If}get loading(){return this.store.va}get BI(){return this.store.BI}get errorMessage(){return this.store.errorMessage}get seeking(){return this.store.EI}get playbackRate(){return 1}dispose(){var a;this.pause();this.controller.stop();clearTimeout(this.Geh);this.Geh=void 0;(a=this.r4k)===null||a===void 0||a.call(this);this.r4k=void 0}pause(){this.controller.onPause()}play(){this.Cf.lK();
this.tsa.Jga(()=>this.pause());this.r4k||(this.r4k=hV(()=>this.currentTime>=this.duration,()=>this.pause()));this.controller.onPlay()}resume(){}seek(a,b={}){this.store.currentTime===a||b.vDf||(this.Geh||this.controller.Yda(),this.controller.RV(a),uMs(this))}Oed(){}FOb(a){this.controller.onVolumeChange(a)}constructor(a,b,c,d){this.controller=a;this.store=b;this.tsa=c;this.Cf=d}};var KMs=class{static G(a){O(a,{mC:CV.ref,cGd:CV.ref})}Ppm(){return function(){}}gka(){this.mC||(this.mC=new n5s(this.ARh,this.Qvb,this.tsa,this.Cf),this.Fib=[...this.cVa.m2c]);this.cGd={lHe:a=>{const b=this.Fib.find(c=>c.page===a);return b?b.Vda/1E3:0},ya:this.ya,nextPage:void 0};return this.mC}gTj(){var a;(a=this.mC)===null||a===void 0||a.dispose();this.cGd=this.mC=void 0}get nle(){return this.Qvb.nle}get ya(){const a=this.Qvb.currentTime*1E6;var b=this.Fib;const c=b.length-1;b=b.find((d,e)=>{const f=
d.Vda;d=f+d.durationUs;e=e===c;return a>=f&&(a<d||e&&a===d)});return b===null||b===void 0?void 0:b.page}constructor(a,b,c,d,e){this.ARh=a;this.Qvb=b;this.tsa=c;this.Cf=d;this.cVa=e;this.Fib=(KMs.G(this),[]);this.type="COMPOSITE"}};var EMs=class{static G(a){O(a,{mja:CV.ref,Overlay:pV})}get Xef(){return this.mja.type}get ya(){var a;return(a=this.mja.cGd)===null||a===void 0?void 0:a.ya}get nextPage(){var a;return(a=this.mja.cGd)===null||a===void 0?void 0:a.nextPage}get mC(){return this.mja.mC}get configuration(){return this.mja.configuration}get LCe(){return this.mja.LCe}get Overlay(){if(this.mja&&this.mja.mC)return this.mja.type==="ANIMATE"?this.kSo:this.lXo}destroy(){this.mja.gTj()}lHe(a){var b;return(b=this.mja.cGd)===null||
b===void 0?void 0:b.lHe(a)}setActive(a){a=a==="COMPOSITE"&&this.XHj?this.XHj:this.oHp;const b=a.type===this.mja.type;b||(this.mja.gTj(),this.mja=a);return!b}constructor(a,b){this.oHp=a;this.kSo=b;EMs.G(this);this.mja=a}};var o5s=iV(({Uxh:a,store:b,children:c})=>b.box?nV("div",{className:"fW2NvA",style:{left:b.box.left,top:b.box.top,width:b.box.width,height:b.box.height},children:[c({box:b.box}),a&&gV("div",{className:"_57TYTg",children:gV(a,{})})]}):null),DMs=iV(({sc:a,gZ:b,L:c,Llb:d,jya:e,...f})=>{lV(()=>{c.OJk()},[c]);return gV(o5s,{...f,children:({box:g})=>gV(b,{Llb:d,sc:a,gga:g,dce:1,$bd:1,jya:e})})}),LMs=iV(({uzh:a,L:b,...c})=>{lV(()=>{b.OJk()},[b]);return gV(o5s,{...c,children:({box:d})=>gV(a,{s1b:!1,width:d.width,
height:d.height})})});var p5s=class{reaction(a,b){oa(!this.Egb,"Cannot call BufferingTracker::reaction() twice");this.Egb=!0;this.goc=a;this.effect=b;this.Gw.push(hV(a,c=>{c?this.fAl=Date.now():this.PFk+=Date.now()-this.fAl}),hV(a,c=>{if(this.isBuffering!==c){var d=Date.now(),e=this.LMh,f=0,g=()=>{this.isBuffering=c;vMs(this,e);wMs(this,d,f++)};c?(g(),this.LMh=window.setInterval(g,this.heartbeatInterval)):this.LMh=window.setTimeout(()=>{clearTimeout(this.qpk);g()},this.mAj)}}));return()=>{this.dispose()}}dispose(){for(const a of this.Gw)a();
vMs(this);clearTimeout(this.qpk)}constructor(){this.Bd={};var a;this.Hf=(a=this.Bd.Hf)!==null&&a!==void 0?a:Sb();var b;this.ado=(b=this.Bd.ado)!==null&&b!==void 0?b:Date.now();var c;this.mAj=(c=this.Bd.mAj)!==null&&c!==void 0?c:1E3;var d;this.heartbeatInterval=(d=this.Bd.heartbeatInterval)!==null&&d!==void 0?d:5E3;this.qpk=this.LMh=this.PFk=this.fAl=0;this.Egb=this.isBuffering=!1;this.Gw=[]}},q5s=(a,b)=>{(new p5s).reaction(a,b)};var GMs=class{static G(a){O(a,{Hjc:CV.ref,Lsb:CV.ref,stop:jV.bound,KPa:jV.bound,play:jV.bound,OJk:jV.bound,pause:jV.bound,p4k:jV.bound,aNe:pV,m2e:jV.bound,QZe:jV.bound,seek:jV.bound,nKk:jV.bound,kNc:jV.bound,Bde:jV.bound,Bol:jV.bound})}get Spf(){return this.qd.Rxb(this.document)}configure(a={}){return this.qH.mja.Ppm(a,()=>this.stop())}create(){const a=this.qH.mja.gka();this.LHf();this.disposables=[hV(()=>a.currentTime,b=>{const c=this.qH.ya;c&&(AMs(this,c,this.viewport.ya)||this.XG(c));this.kNc(b);
b>a.duration&&(this.Ws.get()||this.p4k({ended:!0}))})];return a}stop(){var a,b;if(this.qH.mC){yMs(this);var c=this.kNa();(a=this.LY)===null||a===void 0||Sps(a,{$e:c});(b=this.jce)===null||b===void 0||b.stop(this.store.currentTime,this.qH.mC.duration,2);this.disposables.forEach(d=>d());this.disposables=[];this.Tki=this.c3e=!1;this.qH.destroy()}}XG(a){var b;const c=(b=this.selection.La)===null||b===void 0?void 0:b.$z;b=a||(c===null||c===void 0?void 0:c.page)||this.Ow.zwd(this.store.currentTime,this.Hjc);
this.viewport.ya===b||a===void 0&&!this.qH.mC||this.viewport.hw(b)}KPa(a,b=!1){this.s2a.track(bKs,{...a,action:this.qH.mC&&this.store.If?"pause":"play"});this.Hjc=!1;if(this.qH.mC)if(this.store.If||this.store.va)this.pause(),b=this.Ow.zwd(this.store.currentTime,this.Hjc),this.XG(b);else{var c;zMs(this,"COMPOSITE");xMs(this);this.LHf();this.aql(b);this.play();(c=this.jce)===null||c===void 0||c.l$j(this.store.currentTime)}else{var d,e,f;zMs(this,"COMPOSITE");(d=this.LY)===null||d===void 0||__c.F5p(d);
(e=this.LY)===null||e===void 0||__c.J5p(e,{$e:this.kNa()});this.c3e=!0;a=this.create();this.aql(b);a.resume();this.qH.mC&&!HV(this.Ow,this.viewport.ya)&&((this.store.currentTime*1E3|0)>=(this.qH.mC.duration*1E3|0)-1?(this.seek(0),this.XG(this.Ow.zwd(0))):this.XG(this.Ow.zwd(this.store.currentTime)));(f=this.jce)===null||f===void 0||f.l$j(this.store.currentTime)}}aql(a){const b=this.qH.mja.mC;b&&b.FOb(a?0:1)}play(){var a,b;const c=this.qH.mja.mC;c&&(this.Ws.get()&&c.currentTime>c.duration&&c.seek(0),
(a=this.LY)===null||a===void 0||__c.F5p(a),this.store.If||(b=this.LY)===null||b===void 0||__c.J5p(b,{$e:this.kNa()}),c.resume(),c.play(),this.Tki=!1)}LHf(){var a,b;((a=this.qH.mja.mC)===null||a===void 0?void 0:a.duration)===this.store.currentTime&&this.kNc(0);((b=this.qH.mja.mC)===null||b===void 0?void 0:b.currentTime)!==this.store.currentTime&&this.seek(this.store.currentTime)}OJk(){this.c3e&&(this.c3e=!1,zMs(this,"COMPOSITE"),this.LHf(),this.play())}pause(a={seeking:!1,ended:!1}){var b;(b=this.qH.mC)===
null||b===void 0||b.pause({seeking:a.seeking});this.c3e=!1;if(!a.seeking){var c,d,e;(c=this.LY)===null||c===void 0||__c.I5p(c,{vZ:a.ended?"ended":"paused",$e:this.kNa()});(e=this.jce)===null||e===void 0||e.stop(this.store.currentTime,((d=this.qH.mja.mC)===null||d===void 0?void 0:d.duration)||0)}this.Tki=a.seeking}p4k(a={ended:!1}){this.seek(this.qH.mja.mC!=null?Math.min(this.qH.mja.mC.currentTime,this.qH.mja.mC.duration):0);this.Hjc=!1;this.pause({ended:a.ended,seeking:!1})}get Qbd(){return this.Sla.Qbd.get()}get aNe(){return this.Sla.Qbd.get()!=
null}m2e(a){var b;this.Sla.Qbd.set(Math.floor(((b=a===null||a===void 0?void 0:a.time)!==null&&b!==void 0?b:this.store.currentTime)*1E6));if(a===null||a===void 0?0:a.direction)this.Hjc=a.direction==="end"}QZe(a){this.aNe&&(this.Sla.Qbd.set(void 0),this.qH.mja.mC&&this.kNc(this.qH.mja.mC.currentTime,a))}XFi(){const a=this.Sla.Qbd.get();if(a){var b=this.Sla.Xfd;return{MCa:a,sgd:a===0?0:b,N3c:b}}}seek(a,b){var c,d;this.qH.mja.mC&&((c=this.LY)===null||c===void 0||__c.O5p(c,{$e:this.kNa()}));zMs(this,"ANIMATE");
a=Math.max(a,0);(d=this.jce)===null||d===void 0||d.seek(this.store.currentTime,a);xMs(this);this.kNc(a,b);(this.qH.mja.mC||this.create()).seek(a,{vDf:this.c3e})}nKk(a,b,c){const d=this.qH.mja.mC||this.create();this.seek(Math.max(0,Math.min(this.store.currentTime+(b==="forwards"?1:-1)*a,d.duration)));this.s2a.track(bKs,{action:"seek",kb:c})}kNc(a,b){this.aNe||(this.store.DG=a*1E6,b&&(this.Hjc=b==="end"))}Bde(){this.Lsb=null}kNa(){return this.qH.Xef==="COMPOSITE"?"composite_player":"document_animation_engine"}Bol(a){this.store.sji=
a}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x){this.store=a;this.document=b;this.qd=c;this.viewport=d;this.selection=e;this.Ow=f;this.qH=g;this.mTb=h;this.cN=k;this.s2a=l;this.Sla=m;this.mi=p;this.fMe=q;this.$f=r;this.jce=t;this.LY=u;this.QT=w;this.Ws=x;this.disposables=(GMs.G(this),[]);this.xzk=this.Tki=this.c3e=!1;this.Ljh=!0;this.Hjc=!1;this.Lsb=null;hV(()=>!a.va&&!a.If,y=>{!this.Tki&&y&&(this.xzk=!0)});hV(()=>!a.va&&a.If,y=>{var z;y&&((z=this.LY)===null||z===void 0||__c.G5p(z))});hV(()=>{var y;
return d.jh&&{Bg:(y=e.La)===null||y===void 0?void 0:y.Bg,ya:d.ya}},(y,z)=>{if(this.Ljh&&f.Cgb&&y){var A=y.Bg;if(A){var B,D;y=(B=e.La)===null||B===void 0?void 0:B.inner;y=(y===null||y===void 0?void 0:y.type)==="group"?y===null||y===void 0?void 0:y.group:void 0;if(B=(D=e.La)===null||D===void 0?void 0:D.$z)switch(B.type){case "fixed-page":z=y;D=B.page;y=this.store.DG;const {Vda:G,durationUs:I}=this.Ow.Iwa(D);B=G+I;const {startUs:K,durationUs:M}=pXa(A,D,I,z);z=(this.Ws.get()?0:this.qd.Soc(this.document,
D))+K;A=Math.max(G,Math.min(z,B));z=Math.max(G,Math.min(z+M-1,B));if(A>=y||y>=z)A=Math.abs(A-y)<Math.abs(z-y)?A:z,this.kNc(A/1E6,A<B?"start":"end"),this.XG(D);break;case "concatenated-fixed-page":case "responsive-page":break;default:throw new v(B);}}else if(y.ya!==(z&&z.ya)){A=this.store.currentTime;y=this.store.DG;D=this.viewport.ya;const {Vda:G,durationUs:I}=this.Ow.Iwa(D);!(y>=this.Spf&&this.document.pages.last()===D)&&(D=y<G||y>G+I||!this.Hjc&&y===G+I,B=!1,this.mi.get()&&this.fMe.get()&&(D=y<=
G,B=y>=G+I),y=this.qH.ya&&!this.document.pages.has(this.qH.ya),D||B||y)&&(this.stop(),D?this.kNc(G/1E6,"start"):B?this.kNc((G+I)/1E6,"end"):this.kNc(A,"start"))}}});hV(()=>{var y;if((y=this.qH.LCe)===null||y===void 0||!y.page)return this.Spf,a.pages},y=>y&&BMs(this,y.map(z=>z.page)));hV(()=>this.Spf,y=>{if(a.DG>y){const z=this.document.pages.last(A=>HV(this.Ow,A));if(z!=null){const {durationUs:A,Vda:B}=f.Iwa(z);a.DG=Math.min(A+B,y)}this.stop()}});hV(()=>!a.va&&!a.EI||!this.qH.mja.mC,y=>{var z;y&&
((z=this.LY)===null||z===void 0||__c.L5p(z,{$e:this.kNa(),vZ:this.qH.mja.mC?"ended":"disrupted"}))});hV(()=>a.va,y=>{if(y){var z,A;(z=this.jce)===null||z===void 0||z.startBuffering(this.store.currentTime);(A=this.LY)===null||A===void 0||__c.kee(A,{$e:this.kNa()})}else{var B,D;(B=this.jce)===null||B===void 0||B.c6a();(D=this.LY)===null||D===void 0||__c.jee(D)}});hV(()=>a.J$e,y=>{var z,A;if(y){(z=this.jce)===null||z===void 0||z.error();z=this.qH.Xef==="COMPOSITE";if((A=this.LY)!==null&&A!==void 0){var B=
this.kNa(),D,G,I,K;A.TIg=!0;if(((D=A.VOa)===null||D===void 0?0:D.isRecording())||((G=A.Mvc)===null||G===void 0?0:G.isRecording())||((I=A.y0b)===null||I===void 0?0:I.isRecording()))((K=A.VOa)===null||K===void 0?0:K.isRecording())&&A.VOa.mb().addEvent("document_watch_error",new Map([["engine",B],["error_data",y]])),__c.L5p(A,{$e:B,vZ:"error"}),__c.Q5p(A,{$e:B,vZ:"error"}),z&&__c.I5p(A,{$e:B,vZ:"error"})}if(z){var M;a.RIg=z;zMs(this,"ANIMATE");xMs(this);this.LHf();((M=this.qH.XHj)===null||M===void 0?
0:M.nle)&&this.play()}}});hV(()=>{var y;return(y=this.mTb)===null||y===void 0?void 0:y.isSupported()},async y=>{y=await y;a.cji=!!y},{fireImmediately:!0});q5s(()=>a.va,y=>{this.s2a.track(KQs,{...y,location:"timeline_canvas_preview"})})}};var FMs=class{static G(a){O(a,{sji:CV.ref,DG:pV,mC:pV,If:pV,va:pV,EI:pV,pages:pV({equals:oV.shallow}),box:pV.struct,J$e:pV,zOj:pV})}get currentTime(){return this.DG/1E6}get DG(){return this.timing.fnf}set DG(a){this.timing.fnf=a}get V7e(){const a=this.viewport.Zg;return this.timing.Ws&&a.type==="fixed-page"?this.qd.tb(a.ha):this.qd.Rxb(this.document)}get mC(){return this.qH.mC}get If(){var a;return((a=this.mC)===null||a===void 0?void 0:a.paused)===!1}get va(){var a;return!((a=this.mC)===null||a===
void 0||!a.loading)}get EI(){var a;return!((a=this.mC)===null||a===void 0||!a.seeking)}get pages(){const a=this.qH.configuration;return(a===null||a===void 0?0:a.page)?[a.page]:this.document.pages.filter(b=>qvb(b,this.document)).map(b=>this.ki.tb(b))}get box(){if(this.viewport.jh&&this.viewport.ya&&this.document.pages.has(this.viewport.ya)){var a=this.viewport.eO(this.viewport.Zg);return a&&a.transform(this.viewport.Tha()).Lb()}}get J$e(){var a,b;return(b=(a=this.mC)===null||a===void 0?void 0:a.errorMessage)!==
null&&b!==void 0?b:void 0}get zOj(){return this.qH.Xef}constructor(a,b,c,d,e,f){this.document=a;this.ki=b;this.viewport=c;this.qd=d;this.timing=e;this.qH=f;this.sji=(FMs.G(this),void 0);this.RIg=this.cji=!1}};var ZMs=(a,b,c)=>{const d=mV(null),e=mV(b),f=mV(c),g=mV(0);lRs(()=>{var h,k=b!==e.current||c!==f.current;e.current=b;f.current=c;if(k){k=g.current;var l,m=((l=(h=d.current)===null||h===void 0?void 0:h.getBoundingClientRect().left)!==null&&l!==void 0?l:0)-k;m!==0&&a.scrollBy({USg:m,behavior:"instant"})}},[a,b,c]);lV(()=>hV(()=>[a.scrollLeft,a.clientWidth],Gb(()=>{var h,k;g.current=(k=(h=d.current)===null||h===void 0?void 0:h.getBoundingClientRect().left)!==null&&k!==void 0?k:0},50)),[a]);return d};var OMs=class{static G(a){O(a,{gFh:CV.ref,cFh:CV.ref,UFh:CV.ref,bYc:CV.ref,YEh:CV.ref,lCb:jV.bound,OJd:jV.bound,$Zb:jV.bound,My:jV.bound,g0:jV.bound})}get $U(){return this.UFh}get n$m(){return this.YEh}get zE(){return this.gFh}get isActive(){return this.bYc}lCb(a){this.bYc=a}get VJ(){return this.cFh}OJd(a,b){if(a!==this.cFh){var c=this.P.sb("set_fixed_width");this.w6f.$Zb({c7g:"current_page"});this.cFh=a;setTimeout(()=>{c.addEvent("timeline_zoomed");this.w6f.Jjl();this.w6f.g0();c.ne({qx:({Ii:d})=>
MGs(this.N,{VJ:a,Rb:d(),kb:b})})},0)}}$Zb(a){var b;if(!this.disabled){this.YEh=this.$U;this.gFh=!0;this.lCb(!0);a&&this.w6f.$Zb(a);var c=((b=this.Lkb)===null||b===void 0?0:b.isRecording())?this.Lkb:this.P.sb("zoom",{Fb:{name:"timeline.zoom",performance:{lT:!0}}});setTimeout(()=>c.addEvent("zoom_start"));this.Lkb=c}}My(a){this.UFh=Math.min(Math.max(Math.round(a*100)/100,.1),5);EV.g_j&&this.w6f.Jjl()}g0(a){var b,c,d;if(!this.disabled){this.gFh=!1;this.w6f.g0();var e=n(this.YEh);this.YEh=void 0;var f=
Math.round(this.UFh*100),g=Math.round(e*100);if(f===g){var h;(h=this.Lkb)===null||h===void 0||h.end()}else{var k=f>g?"zoom_in":"zoom_out";(b=this.Lkb)===null||b===void 0||b.addEvent("zooming");(c=this.Lkb)===null||c===void 0||c.mb().nk(({Ii:l})=>KGs(this.N,{action:k,previous:g,current:f,kb:a,Rb:l()}));(d=this.Lkb)===null||d===void 0||d.ne()}}}get disabled(){return this.joo.value}EMa(a){return this.joo.add(a)}constructor(a,b,c,d){this.P=a;this.N=b;this.w6f=d;this.gFh=(OMs.G(this),!1);this.UFh=.6;this.bYc=
!1;this.joo=new __c.Ik;this.min=.1;this.max=5;this.cFh=c===2}};var PMs=class{static G(a){O(a,{Mgf:jV.bound})}Qyg(){var a;(a=this.container)===null||a===void 0||a.addEventListener("wheel",this.I3g)}usg(){var a;(a=this.container)===null||a===void 0||a.removeEventListener("wheel",this.I3g)}Mgf({delta:a,Hi:b}){const c=this.uG,d=c.My,e=c.$U,f=c.$Zb;c.zE?d(e*r5s**-Math.min(25,Math.max(-25,a))):f({c7g:"cursor",Hi:b});this.J3g()}constructor(a){this.uG=a;this.container=(PMs.G(this),void 0);this.Izd=!1;this.Aq=b=>{if(b)this.container=b,this.container.addEventListener("wheel",
this.T1g,{passive:!0}),this.Qyg();else{var c;(c=this.container)===null||c===void 0||c.removeEventListener("wheel",this.T1g);this.usg();this.container=void 0}};this.T1g=b=>{if(!b.ctrlKey&&!b.metaKey||this.Izd)this.usg(),this.Izd=!0,this.nXk()};this.nXk=Gb(()=>{this.Izd=!1;this.Qyg()},80);this.I3g=b=>{!b.ctrlKey&&!b.metaKey||this.Izd||(b.preventDefault(),this.Mgf({delta:b.deltaY,Hi:b.clientX}))};this.J3g=Gb(()=>this.uG.g0("scroll"),200)}},r5s=2**.01;var MMs=class{};var QMs=a=>{const b=a.jBs,c=a.jht.$U,[d,e]=tV(c);lV(()=>{d!==c&&(!EV.g_j&&b.Jjl(),e(c))},[d,c,b])};var NMs=class{constructor(a,b){this.config=a;this.Xo=b;this.d7g=this.H5k=0;this.$Zb=c=>{c.c7g==="cursor"&&n(this.config.M_q).hide();var d=n(this.config.Ijl);const e=n(this.config.timeline);d=d.scrollLeft;a:{const {scrollLeft:g,clientWidth:h,H0b:k}=n(this.config.Ijl),{KYq:l,v2d:m,n_q:p,rHe:q,qNq:r}=n(this.config.timeline);switch(c.c7g){case "playhead_or_center":c=l()||0;var f=q(c);c=g<=f&&f<g+h?c:m(g+h/2-k);break a;case "pinch_centre":case "cursor":c=m(c.Hi-r.get())||0;break a;case "current_page":c=
p();f=q(c);c=g<=f&&f<g+h?c:m(g);break a;default:throw new v(c);}}this.d7g=c;this.H5k=e.rHe(this.d7g)-d};this.Jjl=()=>{if(this.d7g){var c=n(this.config.Ijl),d=n(this.config.timeline).rHe(this.d7g)-this.H5k,e=Math.abs(d-this.Xo.scrollLeft)>500,f=d+this.Xo.clientWidth>this.Xo.scrollWidth;EV.Mvq&&e||f?requestAnimationFrame(()=>c.scrollTo(d)):c.scrollTo(d)}};this.g0=()=>{this.H5k=this.d7g=0}}};var UMs=$c*2;var cNs=({va:a,Yda:b,Pba:c,RV:d,currentTime:e,totalTime:f})=>gV(S,{Kb:"3u",children:gV(__c.Ru,{step:"any",onChange:d,onDragStart:b,onDragEnd:c,fillColor:"var(--v7HVIg)",disabled:a,min:0,max:f,value:e,ariaLabel:L("0sE/Rg"),ZI:"none"})});var dNs=({HYi:a,yvp:b,zrp:c})=>nV(__c.Pph,{T9g:["onTouchMove","onClick"],ztg:["touchmove","click"],BOc:a,children:[gV(S,{display:"flex",justifyContent:"center",width:"full",children:gV(b,{})}),gV(c,{})]});var bNs=class{static G(a){O(a,{Y2e:CV.ref,L1f:jV.bound,HYi:jV.bound,RV:jV.bound,Yda:jV.bound,Pba:jV.bound,Gmo:jV.bound,hCb:jV.bound,bkf:jV.bound})}L1f(){this.selection.deselectAll();this.Qga.If?this.onPause():this.onPlay()}HYi(){this.Z7k?this.Z7k=!1:(this.Fzf=!0,this.Qga.stop())}RV(a){this.selection.deselectAll();this.Qga.seek(a,"start")}Yda(){this.lBk=!0;this.Qga.nxa(!0);__c.sjj(this.Qga,"pause")}Pba(){this.lBk=!1;this.Qga.nxa(!1);if(!this.Fzf)this.onPlay()}Gmo(){var a;(a=this.fxj)===null||a===void 0||
a.call(this);this.fxj=hV(()=>({If:this.Qga.If,Y2e:this.Y2e,Rl:this.selection.La}),({If:b,Y2e:c,Rl:d})=>{if(!(!(c||Math.abs(this.Qga.V7e-this.Qga.DG)<1E3)||b||this.lBk||this.Fzf||d&&d.type!=="audio"))this.onPlay()},{fireImmediately:!0,delay:200})}hCb(a){__c.sjj(this.Qga,"pause");a&&(this.RV(0),this.fxj?this.Z7k=!0:this.Gmo(),this.Fzf=!1);this.Y2e=a}bkf(){var a;(a=this.fxj)===null||a===void 0||a.call(this)}onPlay(){this.Fzf=!1;__c.sjj(this.Qga,"play",Math.abs(this.Qga.V7e-this.Qga.DG)<1E3?0:this.Qga.DG/
1E6)}onPause(){this.Fzf=!0;__c.sjj(this.Qga,"pause")}constructor(a,b){this.selection=a;this.Qga=b;this.Y2e=(bNs.G(this),!1);this.Z7k=this.lBk=this.Fzf=!1}};var s5s=()=>({Cdf:nc(),Vag:nc(),lAc:nc(),$kb:nc(),Q6f:nc(),Transition:nc()});var t5s=()=>L("xaQmSA"),u5s=()=>L("9k0wIg"),v5s=()=>L("BKisJQ"),w5s=()=>L("GbsBKQ"),x5s=()=>L("qp1Uvw"),y5s=()=>L("+EMFFg");var A5s=({items:a,size:b="m",shape:c="square",fill:d,AXk:e})=>{const [f,g]=tV(!1),h=mV(!1);lV(()=>{h.current!==f&&e&&(e(f),h.current=f)},[f,e]);const k=kV(p=>{p.stopPropagation();g(q=>!q)},[]),l=kV(()=>{g(!1)},[]),m=kV(p=>()=>{g(!1);setTimeout(()=>{p()},0)},[]);return a.length===0?null:gV("div",{className:"NtPcOw",children:gV(S,{padding:b==="s"?"0":"1u",display:"flex",alignItems:"center",children:gV(__c.Po,{width:"auto",open:f,placement:"top-center",oa:l,reference:()=>gV(__c.Yt,{onClick:k,padding:b===
"s"?"0.5u":"1u",border:c==="round"?"standard":void 0,className:b==="s"?"GQqDkg":"_2QMtvg",hb:L("qH0gWg"),children:gV(Pu,{size:b==="s"?"small":"medium"})}),arrow:!0,children:gV(Zo,{role:"menu",children:a.map(p=>p.ksi?gV(z5s,{...p.ksi,onClick:q=>m(()=>{var r;return(r=p.ksi)===null||r===void 0?void 0:r.onClick(q,d)})(q)},p.id):null)})})})})},B5s=a=>{switch(a){case "photoIcon":return"O0iITQ";case "videoIcon":return"P9852A";case "uploadIcon":return"D_Js0Q";case "mediaIcon":return"AllClQ";case "blankIcon":return"AllClQ";
case "transitionIcon":return"AllClQ";default:return""}},z5s=({icon:a,plc:b,label:c,onClick:d})=>gV(au,{start:gV("div",{className:GV("ekUHwg",B5s(b)),children:gV(a,{size:"medium"})}),onClick:d,children:c});var fNs={get lAc(){return{icon:__c.Tu,txf:t5s,plc:"photoIcon"}},get Vag(){return{icon:__c.vD,txf:u5s,plc:"videoIcon"}},get Cdf(){return{icon:__c.Sz,txf:v5s,plc:"uploadIcon"}},get $kb(){return{icon:__c.RJp,txf:w5s,plc:"mediaIcon"}},get Q6f(){return{icon:__c.pB,txf:x5s,plc:"blankIcon"}},get Transition(){return{icon:ops,txf:y5s,plc:"transitionIcon"}}},C5s=class{static G(a){O(a,{config:pV,ksi:pV,EQ:pV})}get config(){return this._config.get()}get ksi(){const a=this.config;if(a){var b=gNs(this);if(b)return{icon:b.icon,
label:b.txf(),onClick:a.onClick,plc:b.plc}}}get EQ(){return!!this.config}constructor(a){this.id=(C5s.G(this),void 0);this.id=a.id;this._config=a.Ftf;var b;this.priority=(b=a.priority)!==null&&b!==void 0?b:0}};var D5s=class{static G(a){O(a,{B2:pV.struct})}get B2(){return Object.values(this.fSg).filter(a=>a.EQ).sort((a,b)=>a.priority-b.priority)}constructor(a){this.config=a;this.fSg=(D5s.G(this),void 0);this.fSg={Cdf:new C5s({id:"Uploads",Ftf:pV(()=>a.Cdf),priority:0}),Vag:new C5s({id:"Videos",Ftf:pV(()=>a.Vag),priority:1}),lAc:new C5s({id:"Photos",Ftf:pV(()=>a.lAc),priority:2}),$kb:new C5s({id:"Media",Ftf:pV(()=>a.$kb),priority:3}),Q6f:new C5s({id:"Blank",Ftf:pV(()=>a.Q6f),priority:4}),Transition:new C5s({id:"Transition",
Ftf:pV(()=>a.Transition),priority:5})}}};var E5s=jV(({Pw:a,Nxa:b,Ge:c,ka:d})=>{const {Ke:e,Ne:f}=__c.pc(s5s),g=new D5s(e),h=pV(()=>d.layout===2),k=iV(({size:q,shape:r,fill:t,AXk:u})=>gV(A5s,{items:g.B2,size:q,shape:r,fill:t,AXk:u})),l=(q,r)=>{a.nBc({type:"color",color:"#ffffff"},{Uc:"contextual_menu"},{hYs:r})};f.Q6f=()=>({onClick:l});const m=q=>q===5||q===11||q===19||q===3,p=jV(()=>{c.i$e(m)});f.$kb=()=>h.get()?{onClick:p}:void 0;f.Transition=()=>{if(h.get())return{onClick:jV((q,r)=>{if(r&&b.Vre.Pag)b.Vre.Pag.onClick(r)})}};b.Lle=k;b.Vph=
f});var F5s=()=>{const a=kV(b=>{b.stopPropagation();b.preventDefault()},[]);return gV("div",{className:"QTiwOg",onClick:a,onPointerMove:a,onPointerLeave:a,onPointerMoveCapture:a,onTouchMove:a,onTouchStart:a,onTouchEnd:a,onTouchStartCapture:a,onTouchMoveCapture:a,onTouchEndCapture:a})};var G5s=iV(a=>{const b=a.xi,c=a.store,d=a.L;a=c.O8?J("TGjIVQ",[c.ZJ]):L("dC44Ug");return gV(b,{onClick:()=>d.fCo(c),icon:__c.tBj,yh:"icon",disabled:!c.jN,pressed:c.O8,tooltip:a,PCa:a,children:a})});var H5s=({document:a,Cd:b,selection:c,V:d,store:e,L:f,Bw:g,Wj:h,Ec:k})=>{const l=()=>{var p,q;const r=!g.VJ&&h.oq==="thumbnail",t=c.La&&c.La.type==="pages"&&!((p=c.La)===null||p===void 0?0:p.inner)&&((q=c.La)===null||q===void 0?void 0:q.Ji());return(r||e.mi)&&t&&!k.yLa},m={document:a,store:e,V:d,L:f};hV(l,p=>{b.plugins.wFb=p?()=>({Qd:()=>!(!l()||!e.mi),Button:q=>gV(G5s,{...q,...m})}):void 0})};var I5s=iV(({R0a:a,oq:b,$f:c,onClick:d,onMouseDown:e,onMouseUp:f})=>{const g=c.v9i;c=c.e7f;a=nV(xV,{children:[g&&gV(g,{}),gV(a,{active:b==="thumbnail",jk:!0,icon:__c.Pcr,onClick:d,hb:b==="thumbnail"?L("L7Dryw"):L("6ds0BA"),onMouseDown:e,onMouseUp:f,children:L("Te3Qhw")})]});return c&&b==="thumbnail"?gV(c.Wm,{children:a}):a});var J5s=class{static G(a){O(a,{bOg:CV.ref,isMouseDown:CV.ref,CDn:jV.bound,nDn:jV.bound,iGj:jV,bMn:jV.bound,cMn:jV.bound})}CDn(){var a;const b=this.P.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed"}});this.bOg=!1;this.viewport.YE(this.viewport.Zg);this.Wj.oq="thumbnail";this.BDm.set(!0);(a=this.$f.e7f)===null||a===void 0||a.ph();b.mb().nk(({Ii:c})=>{HGs(this.mzc,{oq:"thumbnail_view",Nuc:"scrolling_view",kb:"click",Rb:c()})});ub.od?(b.setAttribute("use_animations",!0),setTimeout(()=>{b.ne()},
v2s)):(b.setAttribute("use_animations",!1),b.ne())}nDn(){var a;const b=this.P.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed",performance:{lT:!0}}});(a=this.$f.e7f)===null||a===void 0||a.ph();b.mb().nk(({Ii:c})=>{HGs(this.mzc,{oq:"scrolling_view",Nuc:"thumbnail_view",kb:"click",Rb:c()})});ub.od?(b.setAttribute("use_animations",!0),this.bOg=!0,setTimeout(()=>{this.iGj();b.ne()},v2s)):(b.setAttribute("use_animations",!1),this.iGj(),b.ne())}iGj(){this.Wj.oq="scroll";this.BDm.set(!0);this.bOg=
!1}bMn(){this.isMouseDown=!0}cMn(){this.isMouseDown=!1}constructor(a,b,c,d,e,f){this.viewport=a;this.Wj=b;this.$f=c;this.Ma=d;this.mzc=e;this.P=f;this.bOg=(J5s.G(this),!1);this.isMouseDown=!1;this.BDm=CV.box(!1);this.Ma.fpf(()=>this.isMouseDown)}};var K5s=class{tEo({kb:a,mb:b,fhe:c}){__c.iNs(this,{action:"add",kb:a,mb:b,fhe:c,z6e:c})}TIl(){this.N.track(__c.pZg,{location:"page_manager"})}uEo({Xb:a,kb:b}){this.N.track(__c.eph,{Xb:a.toString(),kb:b})}constructor(a){this.N=a}};var L5s,M5s,N5s,O5s;
new (L5s=class extends NV{constructor(){super(O5s);M5s()}},(()=>{class a extends(N5s=LV){static G(b){O(b,{onClick:jV.bound})}render(){return gV(this.props.nE,{onClick:this.onClick,eB:this.props.config.active,LX:__c.ozr,children:L("PMajWQ")})}onClick(){const b=this.props.config;var c=this.props.Wj;const d=this.props.onClick,e=this.props.oa,f=this.props.N;d();c=c.oq==="thumbnail"?"thumbnail_view":"scrolling_view";HGs(f,{oq:b.active?c:"grid_view",Nuc:b.active?"grid_view":c,kb:"file_menu"});e&&e()}constructor(...b){super(...b);
a.G(this)}}({c:[O5s,M5s]}=PV(a,[],[Ob],N5s))})(),L5s);var P5s,Q5s,R5s=class extends LV{componentDidMount(){Kb(this,lus(()=>{const a=this.props.config.active,b=this.Si.current;a&&(this.QQn=!0);b&&!a&&this.QQn&&b.focus()},{scheduler:requestAnimationFrame}))}render(){const a=this.props.config,b=this.props.$f,c=this.props.R0a,d=this.props.onClick,e=this.props.loading,f=this.props.disabled;return nV("div",{className:"IEWxtg",children:[(b===null||b===void 0?void 0:b.jEh)&&gV(b.jEh,{}),gV(c,{Si:this.Si,hb:a.active?L("uOeEsg"):L("Agz4jg"),className:GV("pnGOPw"),
icon:__c.ozr,loading:e,onClick:d,active:a.active,jk:!0,disabled:f})]})}constructor(...a){super(...a);this.Si=MV();this.QQn=!1}};({c:[Q5s,P5s]}=PV(R5s,[],[Ob],LV));P5s();var S5s=class{static G(a){O(a,{y3b:CV.ref})}constructor(){this.y3b=(S5s.G(this),void 0)}},T5s=class extends S5s{static G(a){O(a,{active:CV.ref,JFi:CV.ref,Overlay:CV.ref})}constructor(...a){super(...a);this.active=(T5s.G(this),!1);this.JFi=0}};var U5s=class{Lho(a){this.Gld=a}constructor(a){this.config=a;this.Gld=void 0;this.G6a=async b=>{this.Gld&&await this.Gld();uV(()=>{this.config.JFi=b})};this.Sie=async()=>{const b=!this.config.active;b&&this.Gld&&await this.Gld();uV(()=>{b&&this.G6a(0);this.config.active=b})}}};var V5s=({isActive:a,qpr:b})=>gV("span",{className:GV("Wo8dEg",{znpHJQ:a,fxZSqw:b})}),kNs=({nr:a,fHa:b,onNext:c,$Te:d})=>{const [e,f]=tV(1);lV(()=>{a<e?f(a):a>=e+5&&f(a-5+1)},[e,a]);const g=DV(()=>Array.from({length:Math.min(e+5-1,b)-e+1},(h,k)=>e+k),[e,b]);return nV(jr,{columns:3,Fa:"center",children:[nV(S,{display:"flex",justifyContent:"start",children:[gV(fj,{variant:"tertiary",icon:wr,onClick:d,disabled:a<=1,size:"small",ariaLabel:L("a9/EUw")}),gV(fj,{variant:"tertiary",icon:xr,onClick:c,disabled:a>=
b,size:"small",ariaLabel:L("OmU55Q")})]}),gV(S,{display:"flex",alignItems:"center",justifyContent:"center",children:g.map((h,k)=>{const l=h===a;k=k===0||k===g.length-1;return gV(V5s,{isActive:l,qpr:!l&&k&&b>5},h)})}),gV(S,{display:"flex",justifyContent:"end",children:gV(P,{size:"small",weight:"bold",children:J("PSmC9g",[a,b])})})]})};var jNs=class{static G(a){O(a,{p_m:jV.bound,s_m:jV.bound,nr:pV,fHa:pV})}p_m(){this.Tfa(this.FOj+1)}s_m(){this.Tfa(this.FOj-1)}get nr(){return this.FOj+1}get fHa(){return this.document.pages.toArray().length}Tfa(a){const b=this.document.pages.toArray();a>=0&&a<b.length&&this.viewport.YE(this.ki.tb(b[a]))}get FOj(){return this.document.pages.toArray().indexOf(this.viewport.ya)}constructor(a,b,c){this.document=a;this.ki=b;this.viewport=c;jNs.G(this)}};var W5s=iV(a=>{const b=a.sc,c=a.page;var d=a.Pc;const e=yg(4,a.gb.$k(c.page));if(Bg(e))return null;a=e.width*d.scale;d=e.height*d.scale;return gV("div",{className:"_4zNepg",children:nV("div",{className:"QqGjMw",children:[gV(b,{page:c,nd:a,sf:d,ecb:!0}),gV(b,{page:c,nd:a,sf:d,ecb:!0})]})})});var X5s=class{static G(a){O(a,{Lce:CV.ref,bVa:CV.ref,KUc:CV.ref,W$d:CV.ref})}constructor(){this.Lce=(X5s.G(this),void 0)}};var Y5s=class{async Lce(a){var b=a.selection;const c=a.Lce;a=rqs(this.document,a.selection.container.page,this.Gb,b.elements,this.uka,this.ME);const {gC:d,dv:e}=await $ps(this.TNb,b.elements);b=this.document.pages.toArray().indexOf(b.$z.page);c({Ia:a,gC:d,dv:e},b+1);this.H1c.Sya({Uc:"export_selection",vU:[b]})}constructor(a,b,c,d,e,f,g,h){this.config=a;this.document=b;this.Gb=c;this.selection=d;this.TNb=e;this.uka=f;this.ME=g;this.H1c=h}},mNs=["https://app.flourish.studio/","https://public.flourish.studio/",
"https://flourish-user-preview.com/","https://flo.uri.sh/"];var rNs='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><filter id="_1037106200__a" width="250%" height="250%" x="-75%" y="-66.7%" filterUnits="objectBoundingBox"><feMorphology in="SourceAlpha" operator="dilate" radius=".5" result="shadowSpreadOuter1"/><feOffset in="shadowSpreadOuter1" result="shadowOffsetOuter1"/><feColorMatrix in="shadowOffsetOuter1" result="shadowMatrixOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.20 0"/><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"/><feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="2.5"/><feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="shadowMatrixOuter2"/></feMerge></filter><path id="_1037106200__b" d="M10 18.95a2.51 2.51 0 0 1-3-2.45v-7a2.5 2.5 0 0 1 2.74-2.49L10 7h6a3 3 0 0 1 3 3h-9v8.95z"/></defs><use fill="0d1216" filter="url(#_1037106200__a)" xlink:href="#_1037106200__b"/><use fill="currentColor" xlink:href="#_1037106200__b"/></svg>';var Z5s=16/9,$5s=class{static G(a){O(a,{region:CV.ref,scg:CV.ref,zpe:CV.ref,V$g:pV,eCd:pV({equals:__c.vk(oV.shallow)}),tBd:pV({equals:__c.vk(oV.shallow)}),aspectRatio:pV})}get V$g(){var a;return(a=this.config.KUc)===null||a===void 0?void 0:a.get(this.viewport.ya)}get eCd(){if(uf(this.viewport.ya))return{x:0,y:0};if(this.V$g)return this.V$g.tl}get tBd(){if(!uf(this.viewport.ya)&&this.V$g)return this.V$g.br}get aspectRatio(){if(uf(this.viewport.ya))return Z5s}constructor(a,b){this.config=a;this.viewport=
b;this.region=($5s.G(this),Vj(0,0,0,0))}},a6s=class{static G(a){O(a,{CAo:pV,T1m:jV.bound,S1m:jV.bound,R1m:jV.bound,p2m:jV.bound,o2m:jV.bound,n2m:jV.bound})}get CAo(){if(this.config.W$d&&this.config.bVa){var a=this.config.bVa.get(this.viewport.ya);if(a){uV(()=>{this.store.region=a});var b=this.config.W$d;return{W$d:c=>{b(this.viewport.ya,c)},Ql:()=>this.viewport.Ql(this.viewport.Zg)}}}}T1m(a){this.store.scg=a}S1m(a){if(this.store.scg){var [b,c,d,e]=this.store.region.oh(),f=b.x,g=b.y,h=e.x,k=e.y;switch(this.store.scg){case "top-left":f=
a.x;g=a.y;a=e;break;case "top-right":h=a.x;g=a.y;a=d;break;case "bottom-left":f=a.x;k=a.y;a=c;break;case "bottom-right":h=a.x;k=a.y;a=b;break;default:throw new v(this.store.scg);}this.store.eCd!=null&&(f=Math.max(f,this.store.eCd.x),g=Math.max(g,this.store.eCd.y));this.store.tBd!=null&&(h=Math.min(h,this.store.tBd.x),k=Math.min(k,this.store.tBd.y));h<=f+this.minWidth&&(a===b||a===d?h=f+this.minWidth:f=h-this.minWidth);var l,m=this.minWidth/((l=this.store.aspectRatio)!==null&&l!==void 0?l:1);k<=g+
m&&(a===b||a===c?k=g+m:g=k-m);f=Vj(f,g,h,k);if(this.store.aspectRatio!=null){let r;if(a===d||a===e)r=a.y;g=Math.max(f.width,this.minWidth);var p;h=g/((p=this.store.aspectRatio)!==null&&p!==void 0?p:1);if(r&&h>r){h=r;var q;g=h*((q=this.store.aspectRatio)!==null&&q!==void 0?q:1)}f=f.resizeTo(a,g,h)}this.store.region=f}}R1m(a){this.store.scg=void 0;a(this.store.region)}p2m(a,b){this.store.zpe={Boa:a,Kga:b}}o2m(a){if(this.store.zpe){var b=this.store.zpe.Boa;b=this.store.region.translate(a.x-b.x,a.y-b.y);
var c=b.tl,d=b.br;this.store.eCd!=null&&(c.x<this.store.eCd.x&&(b=b.translate(this.store.eCd.x-c.x,0)),c.y<this.store.eCd.y&&(b=b.translate(0,this.store.eCd.y-c.y)));this.store.tBd!=null&&(d.x>this.store.tBd.x&&(b=b.translate(this.store.tBd.x-d.x,0)),d.y>this.store.tBd.y&&(b=b.translate(0,this.store.tBd.y-d.y)));this.store.region=b;this.store.zpe.Boa=a}}n2m(a){this.store.zpe&&(this.store.zpe.Kga(),this.store.zpe=void 0,a(this.store.region))}constructor(a,b,c,d=100){this.store=a;this.config=b;this.viewport=
c;this.minWidth=d;a6s.G(this)}};var sNs=class{static G(a){O(a,{axh:CV.shallow,K4a:jV.bound})}async K4a(a){this.axh?this.axh.L.HTk(a):this.OMc||(this.OMc=this.zxr().then(b=>{uV(()=>{this.axh=b;this.axh.L.HTk(a)})}))}constructor(a){this.zxr=a;this.axh=(sNs.G(this),void 0)}};var b6s=Qb("51b692ce",!1);var c6s=Qb("5a89daf5",!1),d6s=Qb("2cd7bf1",!1);var e6s,f6s,g6s,h6s,i6s,j6s,k6s;
new (e6s=class extends NV{constructor(){super(k6s);g6s()}},(()=>{class a extends(h6s=LV){static G(b){O(b,{nil:CV.ref,mFa:pV,ya:pV,Z0c:pV,kpo:pV})}componentDidMount(){const b=this.props.viewport,c=this.props.L;Kb(this,[hV(()=>b.jh&&b.wQ?b.jz():void 0,d=>d&&c.BDc()),hV(()=>b.jh&&b.wQ?b.ya:void 0,d=>{d&&((d=c.PFg(c.viewport.ya))&&c.rkb(c.viewport.ya,d),d=void 0);return d},{scheduler:c.djl})])}get mFa(){return this.props.direction==="horizontal"}get ya(){return this.props.viewport.ya}get Z0c(){return this.props.L.PFg(this.ya)}get kpo(){return qk(this.ya,this.props.document.dimensions)||
this.props.viewport.wQ&&!uf(this.ya)}render(){const b=this.props.document,c=this.props.viewport,d=this.props.Ho,e=this.props.L,f=this.props.canDrag,g=this.props.w1,h=this.props.vqp;if(!c.jh)return null;const k=this.ya,l=this.Z0c,m=`${l}-${this.nil}`,p=this.props.direction==="horizontal",q=GV("Jenr8g",{L_t7dw:p,aLiuUA:!p,hMlp2g:wc.kU,[this.fIa.get()]:f});return gV(__c.cTf,{canDrag:this.canDrag,onDragStart:this.onDragStart,pe:this.pe,onDragEnd:this.onDragEnd,Iw:this.Iw,wve:!0,fIa:f?this.fIa:void 0,
children:({onTouchStart:r,onMouseDown:t})=>gV(tRs["default"],{onResize:this.onResize,bounds:!0,children:({measureRef:u})=>nV("button",{ref:u,className:q,onTouchStart:r,onMouseDown:t,children:[p||c.wQ?l&&this.kpo&&gV(l6s,{document:b,viewport:c,L:e,id:l,page:k,mFa:p,YYg:!1,w1:g},m):b.pages.map((w,x)=>{const y=parseInt(x,10)===b.pages.count()-1;return qk(w,b.dimensions)&&gV(l6s,{document:b,viewport:c,Ho:d,L:e,id:x,page:w,mFa:p,YYg:y,w1:g},x)}),h&&gV(h,{})]})})})}constructor(...b){super(...b);this.nil=
(k6s.G(this),0);this.isDragging=!1;this.onResize=c=>{if(!qk(this.ya,this.props.document.dimensions)){const d=n(c.bounds);uV(()=>{this.nil=this.mFa?d.width:d.height;this.props.L.BDc()})}};this.onDragStart=c=>{var d=this.props.X9b,e=this.props.direction==="horizontal"?1:2;const f=d.L.bAl();e=d.L.bHh(new Bj(c.clientX,c.clientY),e,"drag_from_ruler");d.L.onDragStart(c,e,f);this.isDragging=!0};this.canDrag=()=>this.props.canDrag;this.pe=c=>{this.isDragging&&this.props.X9b.pe(c)};this.Iw=c=>{this.isDragging&&
this.props.X9b.Iw(c)};this.onDragEnd=()=>{this.isDragging&&this.props.X9b.onDragEnd();this.isDragging=!1};this.fIa=pV(()=>__c.hy(new __c.z9g(this.mFa?0:90)))}}({c:[k6s,g6s]}=PV(a,[],[Ob],h6s))})(),e6s);var l6s;
new (f6s=class extends NV{constructor(){super(l6s);i6s()}},(()=>{class a extends(j6s=LV){static G(b){O(b,{visible:CV.ref,SP:jV.bound,vId:pV,increment:pV,wVf:pV({equals:oV.shallow}),k7n:pV,edm:pV,iAl:pV,segments:pV,r5d:pV})}componentDidMount(){const b=this.props.page,c=this.props.id,d=this.props.viewport,e=this.props.document,f=this.props.L,g=qk(b,e.dimensions);Kb(this,[hV(()=>({dimensions:this.vId,tf:e.pages.count(),Vr:d.Vr,aOg:!this.props.w1.get()}),()=>{f.rkb(b,c)},{scheduler:g?f.djl:void 0,equals:oV.structural})]);
this.props.Ho?Kb(this,[this.props.Ho.observe(this.j7n.current,this.SP)]):this.SP(!0)}get vId(){var b=this.props.L,c=this.props.page;const d=rk(c,b.document.dimensions);if(qk(c,b.document.dimensions))b={...d,top:0,left:0,zoom:b.viewport.fO(c),EPg:!1};else if(b.Myq)if(b.store.DMg!==void 0){var e,f;const {width:g=0,height:h=0,top:k=0,left:l=0}=(f=(e=b.store.CQ)===null||e===void 0?void 0:e.Lb())!==null&&f!==void 0?f:{};c=b.viewport.zoom.scale;b={width:g/c,height:h/c,units:d.units,top:k,left:l+(b.Ti?g||
0:0),zoom:c,EPg:!1}}else b=ANs(b,c,d);else b=ANs(b,c,d);return b}get increment(){a:{var b=this.vId;var c=b.units;b=b.zoom;for(const d of m6s)if(b*d*Ov(c)>=34){c=d;break a}c=m6s[0]}return c}get wVf(){{var b=this.vId;var c=this.increment,d=b.width,e=b.height;const f=b.units;e=this.props.mFa?d:e;e===0?b={vVf:0,v0e:0}:(d=Math.floor(e/c),c=d===0?34:c*Ov(f)*b.zoom,b={vVf:Math.max(e*Ov(f)*b.zoom-d*c>c/2?d+1:d,1)+1,v0e:c})}return b}get k7n(){return vNs(this.props.L,{...this.wVf,mFa:this.props.mFa,vId:this.vId,
YYg:this.props.YYg})}get edm(){return this.wVf.v0e>51?4:1}get iAl(){var b=this.vId,c=this.increment;const d=this.props.mFa?b.left:b.top;return b.EPg?Math.floor(d/c)*c:0}get segments(){return this.props.L.getSegments(this.iAl,this.increment,this.wVf.vVf,this.wVf.v0e)}get r5d(){return this.props.L.r5d}render(){const b=this.edm,c=this.k7n,d=this.segments,e=this.props.mFa,f=this.wVf.v0e;var g=wNs(this.props.L,this.props.page,this.props.id,this.vId,this.iAl,e);const h=e?g:0;g=e?0:g;const k=GV("_2FlpPA",
{_9gZ9sA:this.r5d,Mfjqtw:this.props.YYg}),l={width:e?f:void 0,height:e?void 0:f};return gV("span",{ref:this.j7n,className:"s_6adA",style:{transform:`translate(${h}px, ${g}px)`,width:e?c:void 0,height:e?void 0:c},children:this.visible&&gV("span",{className:"j_ppcA",children:d.map((m,p)=>nV("span",{className:k,style:l,children:[gV("span",{className:"ZCbumA nbfwjw",style:{visibility:m.visible?"visible":"hidden"},children:gV("span",{className:"Wv5dfA",children:m.label})}),nV("span",{className:"u5M_pQ",
children:[qc(b).map(q=>gV("span",{className:"FrC_Jg"},q)),gV("span",{className:"BN56bQ"}),qc(b).map(q=>gV("span",{className:"FrC_Jg"},q))]})]},p))})})}constructor(...b){super(...b);this.j7n=(l6s.G(this),MV());this.visible=!1;this.SP=c=>this.visible=c}}({c:[l6s,i6s]}=PV(a,[],[Ob],j6s))})(),f6s);
var n6s=class extends LV{componentDidMount(){Kb(this,[lus(()=>{var a,b;const c=this.props.CQ,d=this.props.Gfh;var e=this.props.PFg,f=this.props.RFg;const g=this.props.direction==="horizontal";var h,k=(h=(a=this.props.DMg.get())===null||a===void 0?void 0:a.Lb())!==null&&h!==void 0?h:(b=c.get())===null||b===void 0?void 0:b.Lb();e=(a=d.get())?e(a):void 0;k&&a&&e&&(e=f(a,e,g),f=g?k.width:k.height,k=g?e+k.left:e+k.top,e=this.IYd.current)&&(a=g?f:void 0,f=g?void 0:f,a&&(e.style.width=`${a}px`),f&&(e.style.height=
`${f}px`),e.style.transform=g?`translateX(${k}px)`:`translateY(${k}px)`)},{scheduler:requestAnimationFrame})])}render(){return gV("span",{className:"MORSCw",ref:this.IYd})}constructor(...a){super(...a);this.IYd=MV()}};var xNs={eventType:"editor_ruler_view_toggled",Oa(a){return vf({previous:a.previous,value:a.value,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var m6s=[1,2,5,10,20,50,100,200,500,1E3,2E3,5E3],o6s=class{static G(a){O(a,{E_e:CV.deep,BDc:jV.bound,r5d:pV})}BDc(){this.E_e=new Map}get r5d(){return this.store.r5d}PFg(a){return this.document.pages.has(a)?this.document.pages.Xfa(a):void 0}getPosition(a,b,c){var d=this.E_e.get(b);if(d)return c?this.Ti?d.x*-1:d.x:d.y;if(this.viewport.wQ)return this.rkb(a,b),(d=this.E_e.get(b))?c?this.Ti?d.x*-1:d.x:d.y:0;this.djl(jV(()=>this.rkb(a,b)));return 0}rkb(a,b){if(this.document.pages.has(a)){if(this.viewport.jh){switch(a.type){case "fixed":case "responsive":var c=
If(this.document).tb(a);break;case "concatenated-fixed":c=If(this.document).tb(a).tb(n(a.pages.first()));break;default:throw new v(a);}a=(qk(a,this.document.dimensions)?this.viewport.Ql(c).invert():zNs(this,a).invert()).then(this.viewport.Tha()).transform(0,0)}else a=void 0;a&&((c=this.E_e.get(b))&&c.x===a.x&&c.y===a.y||this.E_e.set(b,a))}}getSegments(a,b,c,d){if(c<=0||b<=0||d<=0)return[];const e=Math.max(1,Math.ceil(8*Math.max(`${a}`.length,`${a+b*(c-1)}`.length)/d));return qc(c).map(f=>{f=a+b*f;
return{label:f,visible:Math.round(f/b)%e===0}})}djl(a){requestAnimationFrame(()=>setTimeout(a,0))}constructor(a,b,c,d,e,f,g,h){this.store=a;this.canvas=b;this.viewport=c;this.document=d;this.X9b=e;this.Ti=f;this.N=g;this.Myq=h;this.E_e=(o6s.G(this),void 0);this.E_e=new Map}};var p6s=class{static G(a){O(a,{enabled:pV,xul:pV,b_c:pV,r5d:pV,CQ:pV,DMg:pV,Gfh:pV,cso:pV})}get enabled(){return this.X9b.q0m}get xul(){return this.ka.layout===1&&this.viewport.jh&&!(this.viewport.wQ&&uf(this.viewport.ya))&&(this.QDq||this.viewport.jU)}get b_c(){return qk(this.viewport.ya,this.document.dimensions)&&this.X9b.b_c}get r5d(){return this.canvas.U4a==="none"}get CQ(){const a=this.selection.La;if((a===null||a===void 0?void 0:a.type)==="elements"&&a.box)return Xj(a.box).transform(BNs(this,
a.hp)).transform(Pj(this.viewport.zoom.scale))}get DMg(){var a;const b=this.selection.La;if((b===null||b===void 0?void 0:b.type)==="elements"&&this.CQ&&(a=b.inner)!==null&&a!==void 0&&a.box){var c=b.elements.find(f=>f.type==="group"||f.type==="table"||f.type==="grid");if(c){a=c.type==="grid"?1:c.height/c.Ub;var d={x:c.width/2,y:c.height/2},e=c.rotation*Math.PI/180;c=Xj(Yj({top:0,left:0,width:c.width,height:c.height,rotation:0}).transform(Pj(this.viewport.zoom.scale)).transform(Sj(d,e)));return Xj(b.inner.box.transform(Pj(a)).transform(BNs(this,
b.hp)).transform(Pj(this.viewport.zoom.scale)).transform(Sj(d,e)).transform(Oj(-c.tl.x,-c.tl.y)).translate(this.CQ.tl.x,this.CQ.tl.y))}}}get Gfh(){const a=this.selection.La;return a&&a.type==="elements"?a.hp:void 0}get cso(){return this.Ma.mode>10&&!!this.Gfh}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.Ma=d;this.selection=e;this.X9b=f;this.ka=g;this.Ti=h;this.QDq=k;p6s.G(this)}};var q6s=class extends LV{static G(a){O(a,{onClick:jV.bound})}onClick(){const a=this.props.oa,b=this.props.Hza,c=this.props.onClick;b===null||b===void 0||b();c();a===null||a===void 0||a()}render(){return gV(this.props.nE,{onClick:this.onClick,jm:this.props.jm,eB:this.props.isEnabled,children:L("P76q1Q")})}constructor(...a){super(...a);q6s.G(this)}};var r6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v5H10v11H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Zm-2-.5h-3.5v4h4V5a.5.5 0 0 0-.5-.5Zm-9 0h4v4h-4v-4Zm-5 0h3.5v4h-4V5a.5.5 0 0 1 .5-.5ZM4.5 14v-4h4v4h-4Zm0 5v-3.5h4v4H5a.5.5 0 0 1-.5-.5Z"/><path d="M20.86 15.498a.75.75 0 0 0-1.014-.31l-1.543.82V14.25a.75.75 0 0 0-1.5 0v1.762l-1.55-.825a.75.75 0 1 0-.704 1.325l1.403.746-1.404.746a.75.75 0 1 0 .704 1.325l1.551-.825v1.746a.75.75 0 0 0 1.5 0v-1.742l1.544.82a.75.75 0 1 0 .704-1.324l-1.404-.746 1.403-.746a.75.75 0 0 0 .31-1.014Z"/></svg>';var SNs=dr({medium:r6s});var KNs=({Mc:a})=>gV(Pk,{tone:"warn",Icon:fu,dismissible:!0,Mc:a,children:L("JYYaOw")}),INs=({Mc:a})=>gV(Pk,{tone:"warn",Icon:fu,dismissible:!0,Mc:a,children:L("iXG+DQ")}),FNs=({Ajg:a,Mc:b})=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:b,children:J("GKdAGA",[a])}),ENs=({Ajg:a,Mc:b})=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:b,children:J("Dl7Bhw",[a])});var RNs=class{constructor(a,b,c,d,e){this.Gb=a;this.cE=b;this.V=c;this.P=d;this.alert=e}};var QNs=class{static G(a){O(a,{V6n:pV,xnm:pV,b7n:pV,znm:pV,eDg:pV,qth:pV,s_a:pV})}get V6n(){var a;return(a=this.eDg)===null||a===void 0?void 0:a.find(b=>b.type==="row")}get xnm(){var a;return(a=this.eDg)===null||a===void 0?void 0:a.find(b=>b.type==="column")}get b7n(){var a;return(a=this.qth)===null||a===void 0?void 0:a.find(b=>b.type==="row")}get znm(){var a;return(a=this.qth)===null||a===void 0?void 0:a.find(b=>b.type==="column")}E5c(a){return a.view.freeze.yKa?a.layout.JF.get(a.view.freeze.yKa):
void 0}D5c(a){return a.view.freeze.Nza?a.layout.CG.get(a.view.freeze.Nza):void 0}get eDg(){var a=this.selection.La,b=this.selection.Jb;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,ONs(a,b.rows,b.columns,b.cells,this.E5c(a),this.D5c(a)).filter(c=>c.type==="column");case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;
if(Zl(this.vc,a.container.tb(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,ONs(b,a.inner.rows,a.inner.columns,a.inner.cells,this.E5c(b),this.D5c(b));case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}get qth(){var a=this.selection.La;const b=this.selection.Jb;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,PNs(a,this.E5c(a),
this.D5c(a));case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return a=a.inner.page.sheet,PNs(a,this.E5c(a),this.D5c(a));case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}get s_a(){const a=this.selection.La,b=this.selection.Jb;switch(b===null||b===
void 0?void 0:b.type){case void 0:break;case 4:return{sheet:b.container.sheet.config,cells:b.cells,rows:b.rows,cols:b.columns,nz:new wA(b.container.container.Hw(b.container.sheet),this.gd,this.viewport)};case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "pages":var c;switch((c=a.inner)===null||c===void 0?void 0:c.type){case "sheet":return{sheet:a.inner.page.sheet,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,
nz:new uA(a.container.tb(a.inner.page),this.viewport,this.Ma)};case "background":case "pages":case "sheet-cell-media":case void 0:return;default:throw new v(a.inner);}case "elements":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case "sheet":return{sheet:a.inner.sheet.config,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,nz:new tA(a.container.Sf(a.inner.sheet),this.viewport)};case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":case void 0:return;
default:throw new v(a.inner);}case "audio":break;default:throw new v(a);}}constructor(a,b,c,d,e){this.selection=a;this.vc=b;this.viewport=c;this.gd=d;this.Ma=e;QNs.G(this)}};var s6s=({Mc:a})=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:a,children:L("3qZXBg")}),t6s=({Mc:a})=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:a,children:L("7TGn1w")});var VNs=class{static G(a){O(a,{mergeCells:jV.bound,tid:jV.bound})}mergeCells(a){var b;const c=a.sheet;a=a.cells;const d=new __c.KB;for(var e of a){var f,g;const k=(g=(f=c.layout.cells.get(e.row,e.column))===null||f===void 0?void 0:f.span)!==null&&g!==void 0?g:{Zb:e.row,dc:e.column,Ue:e.row,Ye:e.column};d.add([k.Zb,k.dc]);d.add([k.Zb,k.Ye]);d.add([k.Ue,k.dc]);d.add([k.Ue,k.Ye])}f=d.map(([k,l])=>({row:k,column:l}));if(!(f.length<1)){if(g=this.E5c(c)){e=c.layout.rows.Yi(f[0].row,g)>0?"after":"before";
for(var h of f)if((c.layout.rows.Yi(h.row,g)>0?"after":"before")!==e){const k=this.alert.Dq(()=>gV(t6s,{Mc:k}));return}}if(h=this.D5c(c)){g=c.layout.cols.Yi(f[0].column,h)>0?"after":"before";for(const k of f)if((c.layout.cols.Yi(k.column,h)>0?"after":"before")!==g){const l=this.alert.Dq(()=>gV(s6s,{Mc:l}));return}}(b=this.Vi)===null||b===void 0||b.mergeCells(c,a.map(k=>k))}}tid(a){var b;const c=a.sheet;a=a.rb;(b=this.Vi)===null||b===void 0||b.tid(c,a)}E5c(a){return a.view.freeze.yKa?a.layout.JF.get(a.view.freeze.yKa):
void 0}D5c(a){return a.view.freeze.Nza?a.layout.CG.get(a.view.freeze.Nza):void 0}constructor(a,b){this.Vi=a;this.alert=b;VNs.G(this)}};var UNs=class{static G(a){O(a,{Avn:pV,MHo:pV})}get Avn(){var a=this.selection.La,b=this.selection.Jb;if(this.Vi){switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,b=b.cells,this.Vi.aUd(a,b.map(c=>c))?{sheet:a,cells:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.vc.$q({element:d,
container:c})))break;switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,a=a.inner.cells,this.Vi.aUd(b,a.map(d=>d))?{sheet:b,cells:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;if(Zl(this.vc,a.container.tb(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,a=a.inner.cells,this.Vi.aUd(b,a.map(d=>d))?{sheet:b,cells:a}:
void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}}get MHo(){var a=this.selection.La,b=this.selection.Jb;if(this.Vi){switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,(b=b.anchor)&&__c.rps(a,b)?{sheet:a,rb:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;
switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,(a=a.inner.anchor)&&__c.rps(b,a)?{sheet:b,rb:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,(a=a.inner.anchor)&&__c.rps(b,a)?{sheet:b,rb:a}:void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new v(a.inner);
}break;case "audio":break;default:throw new v(a);}}}constructor(a,b,c){this.selection=a;this.vc=b;this.Vi=c;UNs.G(this)}};var $Ns=class{static G(a){O(a,{AWk:jV.bound,zWk:jV.bound})}AWk(a){var b;if(a&&a.type==="row"){var c=this.P.sb("move_row_clicked",{Fb:{name:"editor.editing.tabulating.moving"}}),d=a.content.sheet,e=a.content.rows,f=a.content.target;a=a.direction==="up"?"before":"after";(b=this.Vi)===null||b===void 0||b.sRe(d,e,f,a,c,"contextual_menu");c.end()}}zWk(a){var b;if(a&&a.type==="column"){var c=this.P.sb("move_col_clicked",{Fb:{name:"editor.editing.tabulating.moving"}}),d=a.content.sheet,e=a.content.columns,
f=a.content.target;a=d.direction==="rtl"?a.direction==="left"?"after":"before":a.direction==="left"?"before":"after";(b=this.Vi)===null||b===void 0||b.pRe(d,e,f,a,c,"contextual_menu");c.end()}}constructor(a,b){this.Vi=a;this.P=b;$Ns.G(this)}};var ZNs=class{static G(a){O(a,{Zwn:pV,Ywn:pV,Vwn:pV,Wwn:pV,oRe:pV})}get Zwn(){var a;return(a=this.oRe)===null||a===void 0?void 0:a.find(b=>b.type==="row"&&b.direction==="up")}get Ywn(){var a;return(a=this.oRe)===null||a===void 0?void 0:a.find(b=>b.type==="row"&&b.direction==="down")}get Vwn(){var a;return(a=this.oRe)===null||a===void 0?void 0:a.find(b=>b.type==="column"&&b.direction==="left")}get Wwn(){var a;return(a=this.oRe)===null||a===void 0?void 0:a.find(b=>b.type==="column"&&b.direction==="right")}get oRe(){const a=
this.selection.La,b=this.selection.Jb;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return YNs(b.container.sheet.config,b.rows,b.columns,this.Vi);case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.vc.$q({element:d,container:c})))break;switch(a.inner.type){case "sheet":return YNs(a.inner.sheet.config,a.inner.rows,a.inner.columns,
this.Vi);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;if(Zl(this.vc,a.container.tb(a.inner.page)))break;switch(a.inner.type){case "sheet":return YNs(a.inner.page.sheet,a.inner.rows,a.inner.columns,this.Vi);case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}constructor(a,b,c){this.selection=
a;this.vc=b;this.Vi=c;ZNs.G(this)}};var dOs={[0]:1,[1]:2,[2]:3,[3]:4,[4]:5,[5]:6},cOs={Rja:!0,Qja:!0,Tja:!0,Sja:!0,tpa:!0,spa:!0,vpa:!0,upa:!0,OQa:!0,NQa:!0,QQa:!0,PQa:!0},qOs=class{zqd(a){switch(a.type){case "formula":return __c.lNc.snapshot(a);case "boolean":return __c.mNc.snapshot(a);case "number":return __c.oNc.snapshot(a);case "plaintext":return __c.pNc.snapshot(a);case "media":return __c.rNc.snapshot(a);case "mention":return __c.sNc.snapshot(a);case "embed":return __c.uNc.snapshot(a);case "text2":return __c.ESc.snapshot(a);case "text3":return __c.XUc.snapshot(a);
default:throw new v(a);}}aDc(a,b,c){const d=a.gK(b.row);b=a.uK(b.column);const e=a.gK(c.row);a=a.uK(c.column);if(![d,b,e,a].some(f=>f===-1))return{ut:e-d,ZR:a-b}}constructor(a,b,c,d,e,f,g){this.gn=a;this.Cka=b;this.JB=c;this.mba=d;this.Wc=e;this.MOb=f;this.Vi=g}};var gOs=({Ajg:a,Mc:b})=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:b,children:J("4G5hmA",[a])}),fOs=({Mc:a})=>gV(Pk,{tone:"critical",Icon:fu,dismissible:!0,Mc:a,children:L("6PpZ0g")});var pOs=class{Rol(a,b,c){a.wGh=c?b:void 0}G1i(a,b){var c;const d=a.vve;if(d!=null){var e=this.Vi.Fwa(d.sheet);if(e!=null||d.range.Zb!==d.range.Ue&&d.range.dc!==d.range.Ye)var f=d.range;else{f=d.sheet;var g=d.range;const k=__c.zZa(f,{start:{column:g.dc,row:g.Zb},end:{column:g.Ye,row:g.Ue}});let l,m=-1;for(const p of Kk(k.start.row,k.end.row,f.layout.rows)){let q=0;for(const r of Kk(k.start.column,k.end.column,f.layout.cols)){var h;const t=f.layout.cells.get(p,r);t!=null&&t.span.Zb===p&&t.span.dc===
r&&((h=t.ref)===null||h===void 0?void 0:h.content.ref)!=null&&q++}if(m===q){(h=f.layout.rows.previous(p))&&f.layout.rows.Yi(g.Zb,h)>=0&&(l=h);break}m=q}f={dc:k.start.column,Zb:l!==null&&l!==void 0?l:k.start.row,Ye:k.end.column,Ue:k.end.row}}this.Vi.zfe(d.sheet,e==null?{range:f}:void 0);a.iFf=(b===null||b===void 0?0:b.g6m)?(c=a.vve)===null||c===void 0?void 0:c.keg:void 0}}cXi(a,b){if(a!=null){var c=this.P.sb("sort_asc_clicked",{Fb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=
a.sheet;var d=a.keg;const f=a.range;if(b===null||b===void 0?0:b.f5j){b=e.rows.next(f.Zb);if(b==null)return;d=eOs(this.XTi,e,{...f,Zb:b},d,"asc")}else d=eOs(this.XTi,e,f,d,"asc");c===null||c===void 0||c.mb().nk(({Ii:g})=>{const h=e.gK(f.Ue)-e.gK(f.Zb)+1,k=e.uK(f.Ye)-e.uK(f.dc)+1;this.V.track(__c.Xah,{action:"sorted",type:"cell",E$c:h*k,Pwc:{ut:e.layout.rows.count(),MK:e.layout.cols.count()},kb:"click",Rb:g()})});break;default:throw new v(a.type);}hOs(this,a.sheet,d);c===null||c===void 0||c.ne()}}dXi(a,
b){if(a!=null){var c=this.P.sb("sort_desc_clicked",{Fb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=a.sheet;var d=a.keg;const f=a.range;if(b===null||b===void 0?0:b.f5j){b=e.rows.next(f.Zb);if(b==null)return;d=eOs(this.XTi,e,{...f,Zb:b},d,"desc")}else d=eOs(this.XTi,e,f,d,"desc");c===null||c===void 0||c.mb().nk(({Ii:g})=>{const h=e.gK(f.Ue)-e.gK(f.Zb)+1,k=e.uK(f.Ye)-e.uK(f.dc)+1;this.V.track(__c.Xah,{action:"sorted",type:"cell",E$c:h*k,Pwc:{ut:e.layout.rows.count(),
MK:e.layout.cols.count()},kb:"click",Rb:g()})});break;default:throw new v(a.type);}hOs(this,a.sheet,d);c===null||c===void 0||c.ne()}}constructor(a,b,c,d,e){var f=new __c.xu;this.XTi=a;this.Vi=b;this.cE=f;this.alert=c;this.V=d;this.P=e}};var sOs=class{static G(a){O(a,{iFf:CV.ref,wGh:CV.ref,vpe:pV,vve:pV})}get vpe(){var a=this.selection.La;const b=this.selection.Jb;if(b)return iOs(this,b);if(a){a:{switch(a.type){case "elements":a=mOs(this,a);break a;case "pages":a=nOs(this,a);break a;case "audio":break;default:throw new v(a);}a=void 0}return a}}get vve(){var a=this.vpe;if(a!=null)switch(a.type){case "sheet":var b=a.sheet;a=a.cells;a.length!==0&&__c.jge(b,a)?(a={dc:a[0].column,Zb:a[0].row,Ye:a[a.length-1].column,Ue:a[a.length-1].row},
b={type:"sheet",sheet:b,keg:a.dc,range:a}):b=void 0;return b;default:throw new v(a.type);}}constructor(a,b,c,d,e,f,g){this.selection=a;this.vc=b;this.viewport=c;this.gd=d;this.Ma=e;this.Vi=f;this.cza=g;this.iFf=(sOs.G(this),void 0)}};var rOs=a=>{const b=a.lQq;var c=a.wGh;const d=a.qXq,e=a.Rol,f=a.aSr,g=a.gSr,[h,k]=tV(void 0),l=mV(Sb()),[m,p]=tV(()=>d()),q=c===l.current;lV(()=>{b&&e(l.current,!0)},[]);c=kV(()=>{e(l.current,!1)},[e]);const r=kV(z=>{z.stopPropagation();q||p(d());e(l.current,!q)},[d,e,q]),t=kV(()=>{k("asc");f();e(l.current,!1)},[f,e]),u=kV(()=>{k("desc");g();e(l.current,!1)},[g,e]),w=kV(()=>{var z=gV(__c.FXi,{size:"medium"});a:switch(m){case "number":var A=L("mfqxRw");break a;case "date":A=L("O3E9rg");break a;case "default":A=
L("qo5gzA");break a;default:throw new v(m);}z=gV(au,{start:z,onClick:t,children:A},"asc");A=gV(__c.HXi,{size:"medium"});a:switch(m){case "number":var B=L("sZxJdg");break a;case "date":B=L("o/SCog");break a;case "default":B=L("8IXZeg");break a;default:throw new v(m);}return nV(Zo,{role:"menu",spacing:"0.5u",variant:"rounded",children:[z,gV(au,{start:A,onClick:u,children:B},"desc")]})},[m,t,u]);let x=gV(__c.Ncr,{size:"small"});h==="asc"&&a.Oli?x=gV(__c.FXi,{size:"small"}):h==="desc"&&a.Oli&&(x=gV(__c.HXi,
{size:"small"}));const y=x&&oOs(a.bgColor)==="#000000"?"kfFFEg":"VWiWEA";return gV(__c.wv,{open:q,placement:"bottom-start",padding:"compact",na:w,oa:c,children:gV(sr,{onMouseDown:r,className:GV(y,"bzZMqA",{SRhh0A:a.Oli}),selected:a.Oli,children:x})})};var uOs=iV(({VZf:a,nz:b,L0a:c,page:d})=>{const e=a.sheet,f=a.columns,g=a.headerRow,{left:h,top:k,width:l,height:m}=a.nRs.Lb(),p=b.$c,q=e.direction==="rtl";return nV(__c.vA,{nz:b,page:d,children:[gV("div",{style:{width:l*p,height:m*p,transform:`translate(${h*p*(q?-1:1)}px, ${k*p}px)`},className:GV("o0A8CA",{_08uVeQ:!q,yzKoag:q})}),f.map(r=>gV(u6s,{scale:p,Rn:q,sheet:e,row:g,column:r,L0a:c},r.id))]})}),u6s=iV(({scale:a,Rn:b,sheet:c,column:d,row:e,L0a:f})=>{const g={_08uVeQ:!b,yzKoag:b};b=c.Ad(d)*a*
(b?-1:1);c=c.rd(e)*a;return gV("div",{style:{width:d.width,height:e.height,transform:`translate(${b}px, ${c}px) scale(${a})`},className:GV("ItYpOA",g),children:gV("div",{style:{paddingInlineEnd:__c.Du},children:gV(f,{column:d})})})});var tOs=class{static G(a){O(a,{VZf:pV})}get VZf(){var a,b=this.pRs.vpe;if(b!=null){var c=(a=this.Vi.Fwa(b.sheet))===null||a===void 0?void 0:a.range;if(c!=null&&(a=b.sheet,a.layout.rows.has(c.Zb)&&a.layout.cols.has(c.dc)&&a.layout.rows.has(c.Ue)&&a.layout.cols.has(c.Ye))){b=a.Ad(c.dc);var d=a.rd(c.Zb);b=Yj({left:b,top:d,width:a.Ad(c.Ye)+c.Ye.width-b,height:a.rd(c.Ue)+c.Ue.height-d});d=[];for(let e=c.dc;e!=null&&a.layout.cols.Yi(e,c.Ye)<=0;e=a.layout.cols.next(e))d.push(e);return{sheet:a,columns:d,
headerRow:c.Zb,nRs:b}}}}constructor(a,b){this.pRs=a;this.Vi=b;tOs.G(this)}};var v6s=class{static G(a){O(a,{nro:pV})}get nro(){return this.Bti.oRe!=null&&this.Bti.oRe.length>0}constructor(a,b){this.Bti=a;this.Cvn=b;v6s.G(this)}};var w6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.023 14.057v-.024h6a2 2 0 0 1 2 2V20.5h4a.5.5 0 0 0 .5-.5v-5.525a4.575 4.575 0 0 0 1.5-.092V20a2 2 0 0 1-2 2H9.845a2 2 0 0 1-1.406-.577l-5.821-5.75a2 2 0 0 1-.595-1.423v-.193ZM16.023 4v1.617a4.512 4.512 0 0 0-1.5-.092V4a.5.5 0 0 0-.5-.5h-10a.5.5 0 0 0-.5.5v8.5h-1.5V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2ZM4.611 15.533l3.912 3.865v-3.365a.5.5 0 0 0-.5-.5H4.611Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9 10a6 6 0 1 0 12 0 6 6 0 0 0-12 0Zm10.5 0a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.532 13.47a.75.75 0 0 1 1.06 0l2.94 2.939a.75.75 0 0 1-1.06 1.06l-2.94-2.939a.75.75 0 0 1 0-1.06Z" fill="currentColor"/></svg>';var x6s=dr({medium:w6s});var wOs={eventType:"text_find_and_replace_toggled",Oa(a){return vf({source:a.source,is_opened:a.Knr,text_find_session_id:a.F0i,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},y6s={eventType:"text_find_and_replace_searched",Oa(a){return vf({matches_found:a.yqi,page_index_transitioned_from:a.sbs,page_index_transitioned_to:a.tbs,text_elements_matched:a.E_s,table_elements_matched:a.BXs,shape_elements_matched:a.gIs,sheet_cells_matched:a.djh,is_match_case:a.qDf,performance_context:a.Rb==null?void 0:xf(a.Rb),
editing_context:a.Aa==null?void 0:wf(a.Aa)})}},SOs={eventType:"text_find_and_replace_focus_changed",Oa(a){return vf({matches_found:a.yqi,page_index_transitioned_from:a.sbs,page_index_transitioned_to:a.tbs,match_index_from:a.Yrn,match_index_to:a.Zrn,editing_context:a.Aa==null?void 0:wf(a.Aa)})}},yOs={eventType:"text_find_and_replace_text_replaced",Oa(a){return vf({number_of_replacements:a.ovi,is_replace_all:a.lli,number_of_elements_replaced:a.nvi,number_of_text_elements_replaced:a.uvi,number_of_table_cells_replaced:a.tvi,
number_of_sheet_cells_replaced:a.rvi,number_of_shape_elements_replaced:a.qvi,performance_context:a.Rb==null?void 0:xf(a.Rb),is_match_case:a.qDf,replace_string_length:a.NLi,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var z6s=class{constructor({N:a}){this.Fwm=Gb((b,c,d,e,f,g,h)=>{cp({mb:h,V:this.N,event:y6s,props:{yqi:b,E_s:c,BXs:d,gIs:e,djh:f,qDf:g}})},300);this.N=a;this.F0i=Sb()}};var A6s=class{static G(a){O(a,{isMounted:CV.ref,GYb:CV.ref,query:CV.ref,replaceWith:CV.ref,Ix:CV.ref})}constructor(){this.isMounted=(A6s.G(this),!1);this.GYb=!1;this.replaceWith=this.query="";this.Ix=void 0}};var NPs="zh ko ar ja th hi mr gu ta bn pa".split(" ");var B6s=class{Qc(){this.bbb==null&&(this.bbb=hV(()=>{const a=this.L.EJa,b=this.store.Ix;return a===0?!1:b==null||b>=a},a=>{a&&this.L.Xbl()}))}di(){var a;(a=this.bbb)===null||a===void 0||a.call(this);this.bbb=void 0}constructor(a,b){this.store=a;this.L=b}};var C6s=a=>{if(a.substring.length===0)return[];let b=a.GYb?a.source:a.source.toLowerCase();b=b.replace(/[\u201c\u201d]/g,'"').replace(/[\u2018\u2019]/g,"'");const c=a.GYb?a.substring:a.substring.toLowerCase(),d=[];for(var e;;){e=b.indexOf(c,e);if(e===-1)break;if(a.M8s)return[0];d.push(e);e+=c.length}return d};var E6s=class{create(a){const b=this.I.Wc;var c=this.I.Ma;const d=this.I.viewport,e=this.I.vc;switch(a.type){case "sheet-page-cell":return c=new uA(a.container.container.tb(a.container.page),d,c),new D6s(b,e,c,a);case "sheet-element-cell":if(a.container.container.type!=="fixed-page")throw new __c.HJd;c=new tA(a.container.container.Sf(a.xoa),d);return new D6s(b,e,c,a);default:throw new v(a);}}constructor(a){this.I=a}},G6s=class{create(a){const b=this.I.Wc;var c=this.I.viewport;const d=this.I.gd;c=
new wA(a.container.container.Hw(a.xoa),d,c);return new F6s(b,c,a)}constructor(a){this.I=a}},H6s=class{static G(a){O(a,{tuc:pV,DDj:pV({equals:ak}),xjg:pV({equals:ak})})}equals(a){return this.container.equals(a.container)}get tuc(){var a,b;return(b=(a=this.Wc.getContent(this.sheet,this.container.row,this.container.column))===null||a===void 0?void 0:a.DR)!==null&&b!==void 0?b:""}get DDj(){var a=this.sheet,b=this.container.row,c=this.container.column,d=a.layout.cells.get(b,c);if(d!=null){var e=d.span.Zb;
c=d.span.Ye;b=d.span.Ue;d=a.Ad(d.span.dc);e=a.rd(e);c=a.Ad(c)+c.width;a=a.rd(b)+b.height;return Vj(d,e,c,a)}d=a.Ad(c);a=a.rd(b);return Vj(d,a,d+c.width,a+b.height)}get xjg(){return this.DDj.transform(gk(this.Esl))}constructor(){this.type=(H6s.G(this),"sheet-cell")}},D6s=class extends H6s{static G(a){O(a,{sheet:pV,replace:pV,EZa:pV})}get djn(){const a=this.container;switch(a.type){case "sheet-page-cell":return!Zl(this.vc,a.container);case "sheet-element-cell":return!this.vc.$q({element:a.xoa,container:a.container.container});
default:throw new v(a);}}get sheet(){return this.container.sheet}get Esl(){return this.FD.CJ}get replace(){var a;const b=(a=this.sheet.layout.cells.get(this.container.row,this.container.column))===null||a===void 0?void 0:a.ref.content.ref;if(b)return b.type==="text2"?(c,d,e,f)=>{const g=Mg.snapshot(b.value);d=EOs(g,d,e,f);d=Mg.create(d);c.jCb(this.sheet,{row:this.container.row,column:this.container.column},d,{qSe:"merge",bSe:!1})}:GOs(this,b)}get EZa(){const a=this.container.container;switch(a.type){case "fixed-page":return a;
case "sheet-element":if(a.container.type!=="fixed-page")throw new __c.HJd;return a.container;default:throw new v(a);}}constructor(a,b,c,d){super();this.Wc=a;this.vc=b;this.FD=c;this.container=d;D6s.G(this)}},F6s=class extends H6s{static G(a){O(a,{Esl:pV({equals:ak}),replace:pV})}get djn(){return!0}get sheet(){return this.container.sheet}get Esl(){try{return this.FD.CJ}catch(a){return Yj({top:0,left:0,width:this.sheet.width,height:this.sheet.height})}}get EZa(){return this.container.container.container}get replace(){var a;
const b=(a=this.sheet.layout.cells.get(this.container.row,this.container.column))===null||a===void 0?void 0:a.ref.content.ref;if(b)return b.type==="text3"?(c,d,e,f)=>{const g=dl.snapshot(b.value);d=FOs(g,d,e,f);d=dl.create(d);c.afc(this.sheet,{row:this.container.row,column:this.container.column},d,{qSe:"merge",bSe:!1})}:GOs(this,b)}constructor(a,b,c){super();this.Wc=a;this.FD=b;this.container=c;F6s.G(this)}};var FPs=Symbol("responsive-root-text-symbol"),I6s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Oc(){return this.el.ha.text}get writingMode(){var a;return(a=this.el.ha.writingMode)!==null&&a!==void 0?a:1}get v5d(){var a,b;const c=(b=this.el.ha.Tk.ref)===null||b===void 0?void 0:(a=b.Kc)===null||a===void 0?void 0:a.first(d=>d.type==="curved");return c?Number(c.parameters.get("curvature"))!==0:!1}get Tk(){return this.el.ha.Tk.ref}get rotation(){const a=this.el.container;
return gWa((a.type==="fixed-page"?0:a.ha.rotation)+this.el.ha.rotation)}constructor(a){this.el=a;this.type="text";this.Ja="fixed"}},J6s=class{get page(){return this.rb.container.container}get el(){return this.rb.container}get Oc(){return this.rb.ha.content.text}get rotation(){return this.el.ha.rotation}constructor(a,b){this.rb=a;this.MAa=b;this.type="table";this.Ja="fixed";this.v5d=!1;this.writingMode=1;this.group=this.Tk=void 0}},K6s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?
a:a.container}get Oc(){return this.el.ha.fd.first().text}get rotation(){const a=this.el.container;return gWa((a.type==="fixed-page"?0:a.ha.rotation)+this.el.ha.rotation)}constructor(a){this.el=a;this.type="shape";this.Ja="fixed";this.v5d=!1;this.writingMode=1;this.Tk=void 0}},L6s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Oc(){return this.el.ha.fd.first().text}get rotation(){var a;const b=this.el.ha;var c=this.el.container;c=c.type==="fixed-page"?0:c.ha.rotation;
var d;const e=(d=(a=(new __c.Un(this.re,b)).textBox)===null||a===void 0?void 0:a.rotation)!==null&&d!==void 0?d:0;return gWa(c+b.rotation+e)}constructor(a,b){this.re=a;this.el=b;this.type="line";this.Ja="fixed";this.v5d=!1;this.writingMode=1;this.Tk=void 0}};var MOs=class{async navigateTo(a){var b,c;if(!(POs((b=this.ube)===null||b===void 0?void 0:b.match,a)||POs((c=this.Yog)===null||c===void 0?void 0:c.match,a)&&this.ube==null)){if(this.ube!=null){var d;(d=this.ube)===null||d===void 0||d.cancel();this.ube=void 0}b=(this.Yog!=null?Math.max(this.Yog.cFq-this.now(),0):0)+this.I.Ewm;var e=this.setTimeout(()=>{QOs(this)},b);this.ube={match:a,cancel:()=>this.clearTimeout(e)}}}Uph(a){return this.Vxn.Uph(a)}constructor(a,b,c=()=>Date.now(),d=(f,g)=>window.setTimeout(f,
g),e=f=>window.clearTimeout(f)){this.Vxn=a;this.I=b;this.now=c;this.setTimeout=d;this.clearTimeout=e}},M6s=class{static G(a){O(a,{navigateTo:jV.bound})}async navigateTo(a){if(a.type==="richtext3"||HOs(a)){const f=a.type==="richtext3"?__c.Bf(a.container):a.item.EZa;na(f.type==="responsive-page");var b=this.viewport.Zg;if(f.ha.id!==b.ha.id){const g=n(this.document.pages.filter(h=>h.id===f.ha.id)[0]);this.viewport.hw(g,{animate:{from:b.page}});await Drs(()=>this.viewport.ya===g,{timeout:1E3}).catch(()=>
{})}uV(()=>this.Nws.navigateTo(a))}else{var c=a.item,d=c.type==="sheet-cell"?c.EZa:c.page;b=this.viewport.ya;var e=d.page;b!==e&&(this.viewport.hw(this.iwd(d),{animate:{from:b},j6a:e}),await Drs(()=>this.viewport.ya===e,{timeout:1E3}).catch(()=>{}));uV(()=>{if(!qk(e,this.document.dimensions)){const g=c.type==="sheet-cell"?c.xjg:Yj(KOs(c.el));var f=this.viewport.jz();f=Math.min(f.width*.6/g.width,f.height*.6/g.height,this.viewport.fO(e));this.viewport.My(e,f,{center:{x:g.c.x,y:g.c.y},animate:!0})}c.type!==
"sheet-cell"&&this.selection.Kl(d,c.el.ha)})}}Uph(a){a=a.item;switch(a.type){case "sheet-cell":case "text":case "table":case "shape":case "line":a=a.type==="sheet-cell"?a.EZa:a.page;if(a.type==="responsive-page"||a.type==="body")return 0;a=this.iwd(a);return qk(a,this.document.dimensions)?0:600;default:return 0}}iwd(a){var b;return((b=a.container)===null||b===void 0?void 0:b.type)==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.selection=
c;this.gb=d;this.Nws=e;M6s.G(this)}},NOs=class{async navigateTo(a){this.viewport.HF&&(a=a.type==="sheet-cell"?[a.item.xjg]:this.PGd.rFg(a),a=ck(0,a),await this.viewport.voa(a.tl.y,"auto"))}Uph(){return 600}constructor(a,b){this.PGd=a;this.viewport=b}};var N6s=class{static G(a){O(a,{Qc:jV,di:jV,BB:jV,EJa:pV,VBg:jV,matches:pV,E8l:pV,esn:pV,zqi:pV})}static create({store:a,document:b,Ma:c,selection:d,jc:e,viewport:f,re:g,Ti:h,rf:k,gb:l,qy:m,P:p,uIk:q,fec:r}){d=new MOs(new M6s(f,b,d,l,r.vqi),{Ewm:100});return new N6s(a,b,c,e,f,k,l,g,q,h,m,p,d,r)}get alh(){return this.Ma.mode===40}BIl(a,b){xOs(this.qy,a,b)}Qc(){var a=this.store;a.isMounted=!0;a=a.query;var b=this.jc.state;if((b===null||b===void 0?void 0:b.type)==="focused"){const c=b.range;b=b.Oc.Ya.slice(c.index,
c.index+c.length);b.length&&(a=this.Ti?b.split("").reverse().join(""):b)}this.BB(a)}di(){var a;this.store.isMounted=!1;(a=this.fNh)===null||a===void 0||a.destroy();this.fNh=void 0}BB(a){var b=this.store;b.query=a;if(a.length===0)this.VBg(ROs(this));else{a=this.P.sb("text.find",{Fb:{name:"editor.text.find",type:"fixed"}});this.VBg(ROs(this));var c=this.matches,{kFl:d,hDl:e,ssl:f,djh:g}=AOs(c),h=this.qy;c=c.length;b=b.GYb;var k=a.mb();h.Fwm(c,d,e,f,g,b,k);a.ne()}}get EJa(){return this.matches.length}Xbl(){this.VBg(ROs(this))}V$j(){const a=
this.store,b=this.EJa;a.Ix!=null&&b>1&&TOs(this,(a.Ix+1)%b)}Z$j(){var a=this.store;const b=this.EJa;a.Ix!=null&&b>1&&(a=a.Ix,TOs(this,a===0?b-1:a-1))}VBg(a){const b=this.store,c=this.matches[a];c&&(this.vqi.navigateTo(c),b.Ix=a)}get matches(){return this.store.query.length===0?[]:this.E8l.flatMap(a=>this.LMq(a))}get E8l(){const a=[],b=If(this.document);this.document.pages.forEach(c=>{a.push(...this.P_s(b.tb(c)))});return a}Ngk(){this.fNh||(this.fNh=this.rf.nV());return this.fNh}get esn(){const a=
this.viewport.Zg.page;return this.zqi.filter(b=>b.type==="richtext2"||IOs(b)).filter(({item:b})=>b.type==="sheet-cell"?b.EZa.ha===a:b.page.ha===a)}get zqi(){return this.matches.map((a,b)=>({...a,focused:b===this.store.Ix}))}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t=()=>Date.now()){this.store=a;this.document=b;this.Ma=c;this.jc=d;this.viewport=e;this.rf=f;this.gb=g;this.re=h;this.uIk=k;this.Ti=l;this.qy=m;this.P=p;this.vqi=q;this.fec=r;this.now=t;this.LMq=(N6s.G(this),QV(u=>{if(u.type==="sheet-cell"&&
"item"in u||u.type==="richtext3")return[u];var w=this.store.GYb;const x=this.store.query,y=u.type==="sheet-cell"?u.tuc:w?VOs(u.Oc):u.Oc.Ya;w=C6s({source:y,substring:x,GYb:w});return w.length===0?[]:u.type==="sheet-cell"?[{type:"sheet-cell",item:u,K9c:w}]:w.map(z=>({type:"richtext2",item:u,startIndex:z}))}));this.P_s=QV(u=>{switch(u.type){case "fixed-page":return this.ZWm(u);case "concatenated-fixed-page":return u.pages.flatMap(w=>this.ZWm(u.tb(w)));case "responsive-page":return this.fec.vIk(u);default:throw new v(u);
}});this.ZWm=u=>{const w=[];u.elements.forEach(z=>{if(z.type==="text")w.push(new I6s(u.Sf(z)));else if(z.type==="group"){const A=u.Sf(z);z.nb.forEach(B=>{B.type==="text"?w.push(new I6s(A.Sf(B))):B.type==="shape"?B.fd.first()&&w.push(new K6s(A.Sf(B))):B.type==="line"&&B.fd.first()&&w.push(new L6s(this.re,A.Sf(B)))})}else if(z.type==="table"){const A=u.Sf(z);z.cells.forEach(B=>{B.content.text.charLength>1&&w.push(new J6s(A.jDl.dO(B),()=>this.fRp(z).get(B).IW))})}else z.type==="shape"?z.fd.first()&&
w.push(new K6s(u.Sf(z))):z.type==="line"?z.fd.first()&&w.push(new L6s(this.re,u.Sf(z))):z.type==="sheet"&&w.push(...this.Wzo(u.Sf(z)))});__c.Af(u)&&w.push(...this.Wzo(u));const x=this.gb.$k(u.page),y=Bg(x)?0:yg(4,x).width;return w.sort((z,A)=>UOs(this,z,y,this.Ti)-UOs(this,A,y,this.Ti))};this.Wzo=u=>{const w=this.uIk;if(w==null)return[];const x=[];(u.type==="fixed-page"?u.page.sheet:u.ha.config).layout.cells.forEach((y,{dc:z,Zb:A})=>{y=u.uY(z,A);x.push(w.create(y))});return x};this.fRp=JOs(u=>__c.nu(__c.ro,
u));this.wYp=QV(u=>this.esn.filter(w=>w.type==="richtext2").filter(w=>w.item.Oc===u));this.vIk=QV(u=>this.zqi.filter(w=>w.type==="richtext3"||HOs(w)).filter(w=>w.type==="richtext3"?w.EZa.equals(u):HOs(w)?w.item.EZa.equals(u):!1).map(w=>({...w,JS:this.fec.rFg(w)})))}};var sPs=iV(({matches:a,scale:b})=>{a=__c.vj(a,({item:c})=>c.sheet);return gV("div",{className:"m3qpUA",children:[...a.entries()].map(([c,d])=>{const e=d[0].item.EZa;return gV(__c.vA,{nz:d[0].item.FD,page:e.type==="fixed-page"?e.page:void 0,children:d.map(({item:f,focused:g})=>gV(O6s,{box:f.DDj.scale(b),focused:g},P6s.get(f)))},P6s.get(c))})})}),O6s=({box:a,focused:b})=>{const {top:c,left:d,width:e,height:f,rotation:g}=a.Lb();a=`translate(${d}px, ${c}px) rotate(${g}deg)`;return gV("div",{className:GV("wOT31Q",
b&&"NaCHKw"),style:{width:e,height:f,transform:a}})},P6s=class{static get(a){var b=Q6s.get(a);if(b)return b;b=`${R6s++}`;Q6s.set(a,b);return b}},Q6s=new WeakMap,R6s=0;var ePs=new Set([" ","\t","\n","\r"]),$Os=class{elf(a,b,c){a=gPs(a,b,c);return hPs(a)}},aPs=class{elf(a,b,c){var d=a.length-1,e=n(this.yek(b));if(a.length===1||e===0)return this.Fbr.elf(a,b.writingMode,c);b=c.every(h=>h==="rtl")?[...a].reverse():a;const f=iPs(b[0].tl,b[0].tr,b[2]?b[2].tr:b[1].tr);let g;c=[...b.map(h=>Fj(h.Fn,f)),...b.map(h=>Fj(h.tl,f))];a=Math.min(...c);c=Math.max(...c);e>0?(e=jPs(b[0].tl,f)*180/zj,g=jPs(b[d].tr,f)*180/zj):(g=jPs(b[0].tl,f)*180/zj,e=jPs(b[d].tr,f)*180/zj);d=(h,k)=>
this.UPf(f,k,h);b=lPs(b,f)>180;return __c.ue([new __c.Wk(0,d(e,c)),new Xk(0,d(e,a)),new __c.M0a(0,new __c.A0a(a,a,0,b?1:0,1,this.UPf(f,a,g))),new Xk(0,d(g,c)),new __c.M0a(0,new __c.A0a(c,c,0,b?1:0,0,this.UPf(f,c,e)))])}UPf(a,b,c){c=Aj(c);return{x:a.x+b*Math.cos(c),y:a.y+b*Math.sin(c)}}constructor(a){this.yek=mPs;this.Fbr=a}};var U6s=class{Hfb(a,b,c){const d=(new S6s).Hfb(a);return b===0?d:d.map((e,f)=>{const g=oPs(this.dfm,e.boundingBox,b,{kMm:()=>{var h=d[f].Y4j();h!=null?h*=c:({boundingBox:h}=d[f],h=Math.sqrt(h.width**2+h.height**2)*.7*c);return h}});return{...e,boundingBox:g}})}constructor(){this.dfm=new T6s}},T6s=class{UPf(a){a=Aj(a);return{x:Math.cos(a),y:Math.sin(a)}}},S6s=class{Hfb(a){const b=[];for(const d of a){a=document.createRange();a.setStartBefore(d);for(const e of this.h7e(d)){var c;const f=((c=e.textContent)!==
null&&c!==void 0?c:"").length;for(let g=0;g<f;g++){a.setStart(e,g);a.setEnd(e,g+1);const h=a.getClientRects();let k;for(const l of h)if(k==null||l.width>k.width)k=l;b.push({character:a.toString(),boundingBox:Yj(n(k)),Y4j:()=>{try{return parseFloat(window.getComputedStyle(e.parentElement).getPropertyValue("font-size"))}catch(l){}}})}}}c=b.map(d=>d.character).join("");c=im(c);return b.length===c.length?b:pPs(b,c)}*h7e(a){if(a.nodeType===Node.TEXT_NODE)yield a;else if(a.nodeType===Node.ELEMENT_NODE)for(let b=
0;b<a.childNodes.length;b++)yield*this.h7e(a.childNodes[b])}};var V6s=class{constructor(a,b,c){this.XCm=new U6s;this.viewport=a;this.Ngk=b;this.errorService=c;this.elf=dPs;this.pVq=IV(d=>{const e=d.el.ha;var f,g;return this.Ngk().Hfb(d.Oc,d.Tk,d.writingMode,(f=e.eb)!==null&&f!==void 0?f:e.width,(g=e.Ub)!==null&&g!==void 0?g:e.height)});this.HUq=QV((d,e,f,g,h,k)=>{const l=d.getBoundingClientRect();let m;try{m=this.XCm.Hfb([d],f,k)}catch(t){this.errorService.error(t,{Ka:"Error: failed to measure character boxes via DOM"});return}d=oPs(this.XCm.dfm,Yj(l),f,{lMm:()=>
h});const p=dk(d).then(Pj(g/d.width)),q=im(e.Ya);let r=0;return new Map(m.map(t=>{for(;q[0]!==t.character&&q.length>0;)r++,q.shift();q.shift();t=t.boundingBox.transform(p);return[r++,t]}).filter(tb))})}},rPs=({$ba:a,store:b,L:c,viewport:d,qkh:e,errorService:f})=>{const g=new V6s(d,()=>c.Ngk(),f),h=k=>e.get()?c.wYp(k):[];uV(()=>{a.tdf=iV(({children:k,text:l,enabled:m})=>{const p=h(l),q=mV(null),r=mV(null),t=mV(void 0);lV(()=>{var u;const w=r.current;if(q.current==null||w==null||p.length===0)w!=null&&
(w.innerHTML="");else{var x=()=>{var z=q.current;const A=r.current;var B=h(l);if(z==null||A==null||B.length===0)A!=null&&(A.innerHTML="");else{var D=B[0].item;if(D.v5d)if(oa(D.type==="text"),z=g.pVq(D),z==null)g.errorService.error("could not measure curved text character boxes"),D=void 0;else{D=D.Oc.Ya;var G=im(D);D=YOs(z,D,G)}else{G=g.viewport.fO(g.viewport.ya);switch(D.type){case "text":var I=D.el.ha.eb;var K=D.el.ha.width;var M=(I?K/I:1)*G;I=I!==null&&I!==void 0?I:K;G*=K;break;case "table":M=D.el.ha.eb;
I=D.el.ha.width;M=(M?I/M:1)*G;I=D.MAa().width;G*=D.MAa().width;break;case "shape":I=D.el.ha.fd;K=D.el.ha.width;M=G;I=I.first().box.width;G*=K;break;case "line":I=D.el.ha.fd;K=D.el.ha.width;M=G;I=I.first().width;G*=K;break;default:throw new v(D);}D=g.HUq(z,l,D.rotation,I,G,M)}if(D==null||D.size===0)A.innerHTML="";else{z=b.query.length;G=[];for(const {item:N,startIndex:Q,focused:R}of B)(B=g.elf({item:N,gVp:{from:Q,to:Q+z},KFp:D}))&&G.push({$6q:B,focused:R});qPs(G,A)}}};x();(u=t.current)===null||u===
void 0||u.call(t);var y=p[0].item.Oc.Qca(vRs).subscribe(()=>setTimeout(x));t.current=()=>y.unsubscribe();return()=>{var z;(z=t.current)===null||z===void 0||z.call(t)}}},[q,r,p,l]);return nV("div",{ref:q,style:{position:"relative"},children:[m&&gV("div",{ref:r}),k]})})})};var W6s=(a,b)=>J("+7TiJw",[a,b]);var LPs=JV(({Uaj:a,onClose:b,mode:c})=>{var d=DV(()=>["Escape",e=>{e.stopPropagation();b()}],[b]);({ref:d}=__c.Cb([d],{rr:!0}));return nV("div",{className:GV("hD99Kg",{UkHtoA:c==="canvas-overlay",_6iuQhg:c==="sheet"}),ref:d,tabIndex:0,children:[c==="canvas-overlay"&&gV(X6s,{onClose:b}),nV(S,{Kb:"2u",children:[gV(Yc,{spacing:"2u",children:gV(a,{})}),gV(md,{direction:"vertical",size:"2u"})]})]})}),X6s=JV(({onClose:a})=>gV("div",{className:"fk8tPA",children:gV(fj,{variant:"tertiary",icon:__c.yr,onClick:a,
ariaLabel:L("ilwjXw")})})),KPs=JV(({DBs:a,eOr:b,search:c,fHs:d,h0q:e,gci:f,Osc:g,ecd:h})=>{const k=mV(null),l=mV(!1);lV(()=>{requestAnimationFrame(()=>{var q,r;(q=k.current)===null||q===void 0||q.focus();(r=k.current)===null||r===void 0||r.select()})},[]);const m=kV(q=>{q.key==="Enter"&&(l.current?e===null||e===void 0||e():f===null||f===void 0||f());q.key==="Shift"&&(l.current=!0)},[f,e]),p=kV(q=>{q.key==="Shift"&&(l.current=!1)},[l]);return nV(Yc,{spacing:"1u",children:[gV(P,{size:"small",weight:"bold",
children:L("QeSW7g")}),nV(ir,{Fa:"start",spacing:"0.5u",children:[gV(hr,{children:gV(__c.Cv,{ariaLabel:L("otJcdA"),value:c,end:a!=null&&gV(S,{Kb:"1u",children:gV(P,{size:"small",tone:"tertiary",margins:"legacy",children:nV("span",{className:"i4ICDA",children:[a,"/",b]})})}),onChange:d,ref:k,onKeyDown:m,onKeyUp:p})}),gV(hr,{width:"content",children:gV(fj,{variant:"tertiary",icon:wr,onClick:e,hb:L("EWLe2w"),disabled:h})}),gV(hr,{width:"content",children:gV(fj,{variant:"tertiary",icon:xr,onClick:f,hb:L("dQoayg"),
disabled:g})})]})]})}),PPs=JV(({replace:a,WGs:b,tZa:c,tAi:d,ijp:e,cus:f,Zts:g})=>nV(Yc,{spacing:e==null?"2u":"0",children:[nV(Yc,{align:"start",spacing:"1u",children:[gV(P,{size:"small",weight:"bold",children:L("/ptrSg")}),gV(__c.Cv,{ariaLabel:"replace",value:a,onChange:b})]}),e&&gV(e,{}),nV(ir,{Fa:"start",spacing:"2u",children:[gV(hr,{children:gV(fj,{variant:"secondary",stretch:!0,disabled:g,onClick:d,children:L("+kNphg")})}),gV(hr,{children:gV(fj,{variant:"primary",stretch:!0,disabled:f,onClick:c,
children:L("2CtBAA")})})]})]})),OPs=JV(({checked:a,onChange:b})=>gV(__c.Fr,{label:L("WVqlVg"),checked:a,onChange:b,size:"small"})),QPs=JV(({state:a,qVg:b})=>{switch(a.type){case "all-locked":return gV(Y6s,{qVg:b});case "some-locked":return gV(Z6s,{qVg:b,S4a:a.uRn});default:throw new v(a);}}),Y6s=JV(({qVg:a})=>gV(Pk,{tone:"critical",size:"small",children:J("nShGxw",[a])})),Z6s=JV(({qVg:a,S4a:b})=>{const c=DV(()=>{var d=b.length;if(d===0)return J("iAnQBA",[a]);if(d===1)return J("ffdFTw",[a,b[0]]);d=
uPs(b).map(e=>e.length>1?J("UzUiGA",[e[0],e[1]]):e[0].toString());d.length>2&&(d=[d.slice(0,d.length-1).join(L("qUEeSw")),d[d.length-1]]);return W6s(a,d.join(L("JFKt9A")))},[b,a]);return gV(Pk,{tone:"warn",size:"small",children:c})});var $6s=JV(a=>{const b=a.label,c=a.jm,d=a.nE,e=a.onClick,f=a.oa,g=a.Hza;a=kV(()=>{g===null||g===void 0||g();e();f===null||f===void 0||f()},[f,g,e]);return gV(d,{onClick:a,jm:c,LX:__c.Fo,children:b})});var vPs=class{static G(a){O(a,{Ijo:jV,Rho:jV,Q2n:jV,replaceAll:jV,nGk:pV,O2n:pV,L2n:pV,hRn:pV,Non:pV})}static create({store:a,o2b:b,fec:c,document:d,vc:e,undo:f,errorService:g,qy:h,P:k,Zc:l,Pi:m,la:p,Wc:q}){l=APs({Zc:l,Pi:m});return new vPs(a,b,d,e,f,g,h,k,wPs(p),BPs({Gel:l,Wc:q}),CPs({Gel:l,Wc:q,fec:c}))}Ijo(a){this.store.replaceWith=a}Rho(a){this.store.GYb=a;this.o2b.Xbl()}Q2n(){const a=this.store,b=this.P.sb("text.replace",{Fb:{name:"editor.text.replace"}}),c=a.Ix!=null?this.o2b.matches[a.Ix]:
void 0;c&&!this.Ot(c)&&(this.eus({match:c,FNb:a.query.length,c_:a.replaceWith}),this.o2b.EJa===0&&(a.Ix=void 0),a.Ix!=null&&a.Ix>=this.o2b.EJa&&(a.Ix%=this.o2b.EJa),zOs(this.qy,{ovi:1,lli:!1,nvi:1,uvi:c.item.type==="text"?1:0,tvi:c.item.type==="table"?1:0,qvi:c.item.type==="shape"?1:0,rvi:c.item.type==="sheet-cell"?1:0,qDf:a.GYb,NLi:a.replaceWith.length},b.mb()),b.ne())}replaceAll(){const a=this.store,b=this.P.sb("text.replace_all",{Fb:{name:"editor.text.replace_all"}}),c=this.o2b.matches.filter(t=>
this.Czk(t)),d=this.nGk;if(c.length===d.length)b.abort();else{var e=new Set;c.forEach(t=>{t.type==="sheet-cell"?e.add(t.item):t.item.Ja==="responsive"?e.add(t.item.item):e.add(t.item.el)});var f=c.length,g=new Set(d),h=c.filter(t=>!g.has(t)),k=a.replaceWith,l=this.undo.startBuffering();try{this.$ts({matches:h,FNb:a.query.length,c_:k}),a.Ix=void 0}catch(t){this.errorService.error(t,{Ka:"Error replacing all matches"});b.end("error");return}finally{l.stop()}d.length===0?this.tAi({type:"replace-all",
arh:f}):this.tAi({type:"replace-some",nDo:d.length,arh:f});var {kFl:m,hDl:p,ssl:q,djh:r}=AOs(c);zOs(this.qy,{ovi:f,lli:!0,nvi:e.size,uvi:m,tvi:p,qvi:q,rvi:r,qDf:a.GYb,NLi:a.replaceWith.length},b.mb());b.ne()}}get nGk(){return this.o2b.matches.filter(a=>this.Ot(a))}get O2n(){var a=this.o2b.matches;const b=this.store.Ix;if(a.length===0||b==null||b<0||b>=a.length)return!0;a=a[b];return this.Ot(a)||!this.Czk(a)}get L2n(){return!this.o2b.matches.some(a=>!this.Ot(a)&&this.Czk(a))}get hRn(){var a;const b=
this.document;return b.Ja!=="fixed"||b.pages.count()===1&&((a=b.pages.first())===null||a===void 0?void 0:a.type)==="responsive"?new Map:new Map(b.pages.toArray().map((c,d)=>[c,d+1]))}get Non(){const a=this.nGk,b=a.length;if(b!==0){if(b===this.o2b.EJa)return{type:"all-locked"};if(a.some(d=>d.type!=="sheet-cell"&&d.item.Ja==="responsive"))return{type:"some-locked",uRn:[]};var c=this.hRn;return{type:"some-locked",uRn:pd(a.map(({item:d})=>d.type==="sheet-cell"?d.EZa.type==="fixed-page"?d.EZa:void 0:d.Ja===
"fixed"?d.page:void 0).map(d=>d&&c.get(this.iwd(d))).filter(tb))}}}iwd(a){var b;return((b=a.container)===null||b===void 0?void 0:b.type)==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e,f,g,h,k,l,m){this.store=a;this.o2b=b;this.document=c;this.vc=d;this.undo=e;this.errorService=f;this.qy=g;this.P=h;this.tAi=k;this.eus=l;this.$ts=m;this.Czk=(vPs.G(this),QV(p=>p.item.type==="responsive-inline-item"||p.type==="sheet-cell"&&p.item.replace==null?!1:!0));this.Ot=QV(p=>p.type===
"sheet-cell"?!p.item.djn:p.item.Ja==="responsive"?!1:this.zrq(p.item.el));this.zrq=this.vc!=null?QV(({ha:p,container:q})=>this.vc.$q({element:p,container:q,aspect:$l.Rs})):()=>!1}};var c7s=class{static G(a){O(a,{g7i:pV.struct,UPe:pV.struct,BB:jV,DQ:jV,Qc:jV,di:jV,lys:pV})}static create({store:a,Ma:b,document:c,Xa:d,gW:e,viewport:f,qy:g,P:h,gd:k,wqi:l}){e=e.kc(m=>new a7s(a,m,l));c=new b7s(a,c,e,k);return new c7s(a,c,b,f,d,g,h,OOs({PGd:c,viewport:f}))}get g7i(){var a;const b=this.viewport.Eca,c=(a=this.viewport.scrollingContainer)===null||a===void 0?void 0:a.getBoundingClientRect();if(c!=null&&b!=null)return a=c.top-b.tl.y,Vj(b.tl.x,Math.round((a-1E3)/400)*400,b.br.x,Math.round((a+
c.height+1E3)/400)*400)}get UPe(){if(this.g7i==null)return[];const a=this.g7i.tl.y,b=this.g7i.br.y;return this.gCr.filter(c=>c.JS.some(d=>d.Fn.y>a&&d.tl.y<b))}BB(a){var b=this.store;b.query=a;a.length===0&&this.DQ(void 0);a=this.P.sb("text.find",{Fb:{name:"editor.text.find",type:"responsive"}});this.DQ(this.EJa>0?0:void 0);var c=this.matches;const {kFl:d,hDl:e,ssl:f,djh:g}=AOs(c);var h=this.qy;c=c.length;b=b.GYb;var k=a.mb();h.Fwm(c,d,e,f,g,b,k);a.ne()}DQ(a){var b;const c=(b=this.store.Ix)!==null&&
b!==void 0?b:0;this.store.Ix=a;a!=null&&((b=this.matches[a])&&this.vqi.navigateTo(b),this.qy.N.track(SOs,{yqi:this.EJa,Yrn:c,Zrn:a}))}V$j(){const a=this.store;a.Ix==null||this.EJa===0?this.DQ(void 0):this.DQ((a.Ix+1)%this.EJa)}Z$j(){const a=this.store;a.Ix==null||this.EJa===0?this.DQ(void 0):this.DQ(a.Ix===0?this.EJa-1:a.Ix-1)}Xbl(){const a=this.store;if(this.EJa===0)this.DQ(void 0);else{var b;(a.Ix==null||a.Ix>=this.EJa)&&this.DQ(((b=a.Ix)!==null&&b!==void 0?b:0)%this.EJa)}}BIl(a,b){xOs(this.qy,
a,b)}Qc(){this.store.isMounted=!0}di(){this.store.isMounted=!1;this.Xa.focus()}get alh(){return this.Ma.mode===40}get EJa(){return this.matches.length}get matches(){return this.PGd.UPe}get lys(){return this.matches.map((a,b)=>({...a,focused:b===this.store.Ix}))}vIk(a){return this.PGd.hCr(a)}get gCr(){const a=this.store.Ix;return this.PGd.csn.map((b,c)=>({...b,focused:c===a}))}rFg(a){return this.PGd.rFg(a)}replaceAll(a){this.PGd.replaceAll(a)}constructor(a,b,c,d,e,f,g,h){this.store=a;this.PGd=b;this.Ma=
c;this.viewport=d;this.Xa=e;this.qy=f;this.P=g;c7s.G(this);this.vqi=h}},b7s=class{static G(a){O(a,{EJa:pV,RLh:pV,$rn:pV,UPe:pV,csn:pV.struct})}get EJa(){return this.UPe.length}get RLh(){const a=this.document;if(a.Ja==="responsive"){const b=n(a.El.first());return __c.Df(__c.Hf(a),b)}}get $rn(){if(!this.RLh)return[];const a=this.K9g.npb(this.RLh.text);return a?EPs(this,a,this.RLh):[]}get UPe(){const a=[];for(const b of this.$rn)a.push(...GPs(b));return a}get csn(){return this.UPe.map(a=>({...a,JS:this.rFg(a)}))}rFg(a){return a.type===
"sheet-cell"?[a.item.xjg]:this.gd.u2d(a.item.Oc,Rw.of({index:a.startIndex,length:a.length||this.store.query.length}))}replaceAll(a){for(const b of this.K9g.instances)b.zUf.yx.type!=="sheet-item-cell-richtext"&&b.replaceAll(a)}constructor(a,b,c,d){this.store=a;this.document=b;this.K9g=c;this.gd=d;this.hCr=(b7s.G(this),QV(e=>{var f=this.K9g.npb(e.text);if(!f)return[];e=EPs(this,f,e);f=[];for(const g of e)f.push(...GPs(g));return f}))}},a7s=class{static G(a){O(a,{Zh:pV.struct,wDj:pV})}get Zh(){const a=
this.zUf,b=a.yx,c=[];let d=0;a.text.forEach({Ya:(e,f,g)=>{HPs(this,g)||((f=c[c.length-1])&&f.type==="characters"&&f.startIndex+f.Ya.length===d?f.Ya+=e:c.push({type:"characters",Ya:e,startIndex:d,container:b}));d+=e.length},item:(e,f,g)=>{if(!HPs(this,g))switch(e.type){case "pill":c.push({type:"inline-item",Ya:e.ei.text,startIndex:d,item:e,container:b});break;case "table":__c.SVc(b)&&c.push({type:"table-item",container:b.Hw(e)});break;case "layout":RVc(b)&&c.push({type:"layout-item",container:b.Hw(e)});
break;case "sheet":__c.TVc(b)&&c.push({type:"sheet-item",container:b.Hw(e)});break;case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "chart":case "design":c.push({type:"non-text-item"});break;default:throw new v(e);}d+=1}});return c}get wDj(){const a=this.store.query,b=this.store.GYb;return this.Zh.flatMap(c=>{if(c.type==="non-text-item")return[];if(c.type==="table-item"||c.type==="layout-item")return[c];if(c.type==="sheet-item"){const f=this.wqi;if(f==null)return[];
const g=[];c.container.ha.config.layout.cells.forEach((h,{dc:k,Zb:l})=>{h=c.container.uY(k,l);h=f.create(h);k=C6s({GYb:b,source:h.tuc,substring:a});k.length>0&&g.push({type:"sheet-cell",K9c:k,item:h})});return g}const d=C6s({GYb:b,source:c.Ya,substring:a,M8s:c.type==="inline-item"}).map(f=>f+c.startIndex),e=c.container;return c.type==="inline-item"?[{type:"inline-item-indices",indices:d,item:c.item,container:e}]:[{type:"indices",indices:d,container:e}]})}get WOi(){return this.zUf.text}replace(a,b){const c=
this.zUf.yp;a=Rw.of({index:a,length:this.store.query.length});__c.DB(c,a,b)}replaceAll(a){var b=this.wDj.flatMap(e=>e.type==="indices"?e.indices:[]);if(b.length!==0){var c=this.zUf.yp,d=this.store.query.length;b=Rw.list(b.map(e=>({index:e,length:d})));iqs(c,b,a)}}constructor(a,b,c){this.store=a;this.zUf=b;this.wqi=c;a7s.G(this)}};var d7s,e7s,f7s=(e7s=(d7s=window.navigator)===null||d7s===void 0?void 0:d7s.userAgent)!==null&&e7s!==void 0?e7s:"",g7s=f7s.match(/AppleWebKit\//)&&!f7s.match(/(Chrome|Chromium)\//),IPs=JV(({matches:a})=>gV("div",{children:a.flatMap(({JS:b,focused:c})=>b.map(d=>gV(h7s,{box:d,focused:c},d.Fn.toString())))})),h7s=JV(({box:a,focused:b})=>{const {width:c,height:d,top:e,left:f,rotation:g}=a.Lb();return gV("div",{className:"_4a1KIg",style:{width:c,height:d,transform:`translate(${f}px, ${e}px) rotate(${g}deg)`,
backgroundColor:b?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)",opacity:g7s?.5:1}})});var i7s=class extends LV{static G(a){O(a,{onClick:jV})}render(){return gV(this.props.nE,{onClick:this.onClick,eB:this.props.eB,children:L("YSZmvA")})}constructor(...a){super(...a);this.onClick=(i7s.G(this),()=>{const b=this.props.onClick,c=this.props.oa,d=this.props.YGl;d();b&&b();c&&c()})}};var j7s=class{constructor(a,b,c,d){this.store=a;this.config=b;this.V=c;this.OAb=d;this.YGl=()=>{var e;const f=this.store.oq;this.config.oq=f!=="thumbnail_view"?"thumbnail":"scroll";const g=this.config.oq==="thumbnail"?"thumbnail_view":"scrolling_view";(e=this.OAb)===null||e===void 0||e.gGj();this.V.track(__c.cah,{oq:g,Nuc:f,kb:"file_menu"})}}};var k7s=class{static G(a){O(a,{aro:pV,eB:pV,oq:pV})}get aro(){return this.ka.layout===2}get eB(){return this.config.oq==="thumbnail"&&!this.Ec.yLa}get oq(){return this.Ec.yLa?"grid_view":this.config.oq==="thumbnail"?"thumbnail_view":"scrolling_view"}constructor(a,b,c){this.config=a;this.Ec=b;this.ka=c;k7s.G(this)}};var l7s=qc(6),m7s=()=>gV("div",{className:"_9G1iSw",children:l7s.map(a=>gV(gj,{shape:"square",index:a},a))}),n7s=({m$b:a})=>nV("div",{children:[a?null:gV("div",{className:"XX4SVA",children:gV(__c.du,{})}),gV("div",{className:"ysWVVg",children:l7s.map(b=>gV(gj,{index:b,shape:"square"},b))})]});var o7s=__webpack_require__.p+"images/c1d3752055f3dd9727467a61aedbe1af.svg",p7s=__webpack_require__.p+"images/4cae76430b90372678b1e905bdcca3db.svg",q7s=__webpack_require__.p+"images/8176a64e87bfc9e9615e16a102bfc579.svg",r7s=__webpack_require__.p+"images/74d2b4f0782eb2b75e1650848e9c1644.svg",s7s=__webpack_require__.p+"images/f92bd9d9003a11a4b6a7f9403088f861.svg",t7s=__webpack_require__.p+"images/d747c381a37b344ebd5e7ccab9924101.svg",u7s=__webpack_require__.p+"images/c149f74cacb6894eb927573b8933ce2c.svg",
v7s=__webpack_require__.p+"images/ebbe273cc23a6791b453e61fd5940c1e.svg",w7s=__webpack_require__.p+"images/fa3bc38ce9b70594b8edaad3cfc61b36.svg",x7s=__webpack_require__.p+"images/116f0695785a0951166ccaf14a21716b.svg";var y7s=[{type:void 0,label:L("9e7qCw"),Afa:0,thumbnail:o7s},{type:"cross-dissolve",label:L("UC2hsg"),Afa:5E5,thumbnail:s7s},{type:"slide",label:L("nQVX1w"),Afa:5E5,thumbnail:v7s},{type:"wipe-circle",label:L("IsoSzQ"),Afa:5E5,thumbnail:q7s},{type:"color-wipe",label:L("K3o8tQ"),Afa:1E6,thumbnail:r7s},{type:"wipe-line",label:L("TeLvcQ"),Afa:5E5,thumbnail:u7s},{type:"match",label:L("9eUSmA"),description:L("0LipfA"),Afa:5E5,thumbnail:x7s},{type:"flow",label:L("Y8dVVQ"),Afa:15E5,thumbnail:t7s},{type:"stack",
label:L("XPz/Dw"),Afa:5E5,thumbnail:w7s},{type:"chop",label:L("ghebZg"),Afa:5E5,thumbnail:p7s}],z7s=[{type:void 0,label:L("9e7qCw"),Afa:0,thumbnail:o7s},{type:"cross-dissolve",label:L("UC2hsg"),Afa:5E5,thumbnail:s7s},{type:"slide",label:L("nQVX1w"),Afa:5E5,thumbnail:v7s},{type:"wipe-circle",label:L("IsoSzQ"),Afa:5E5,thumbnail:q7s},{type:"color-wipe",label:L("K3o8tQ"),Afa:1E6,thumbnail:r7s},{type:"wipe-line",label:L("TeLvcQ"),Afa:5E5,thumbnail:u7s},{type:"stack",label:L("XPz/Dw"),Afa:5E5,thumbnail:w7s},
{type:"chop",label:L("ghebZg"),Afa:5E5,thumbnail:p7s}];var A7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.75 7.098V4.5a.75.75 0 0 0-1.5 0v4c0 .966.784 1.75 1.75 1.75h4a.75.75 0 0 0 0-1.5H5.517A7.252 7.252 0 0 1 19.25 12a7.25 7.25 0 0 1-13.604 3.495.75.75 0 0 0-1.313.724 8.75 8.75 0 1 0 .417-9.12Z" fill="currentColor"/></svg>';var B7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var C7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var D7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.25 7.098V4.5a.75.75 0 0 1 1.5 0v4A1.75 1.75 0 0 1 19 10.25h-4a.75.75 0 0 1 0-1.5h3.483A7.252 7.252 0 0 0 4.75 12a7.25 7.25 0 0 0 13.604 3.495.75.75 0 0 1 1.314.724 8.75 8.75 0 1 1-.418-9.12Z" fill="currentColor"/></svg>';var E7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var F7s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var G7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.134 6.673a1.01 1.01 0 0 1 .536-1.315l7.822-3.328a.99.99 0 0 1 1.304.532l2.024 4.865a1.01 1.01 0 0 1-.536 1.315L5.462 12.07a.99.99 0 0 1-1.304-.532L2.134 6.673Z" stroke="currentColor" stroke-width="1.25" stroke-linejoin="round"/><path d="M9.5 13.28h2.861a1 1 0 0 0 1-1v-.53" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var H7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="2.125" stroke="currentColor" stroke-width="1.25"/><circle cx="8" cy="8" r="5.375" stroke="currentColor" stroke-width="1.25"/></svg>';var I7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.993 5.457 9.55 5.9l.442-.442Zm1.992 4.644-6.5-6.5-.884.884 6.5 6.5.884-.884ZM2.75 4.375h1.586v-1.25H2.75v1.25Zm-.375 6.875v-6.5h-1.25v6.5h1.25Zm8.46.375H2.75v1.25h8.086v-1.25Zm-.135-7.25h2.55v-1.25H10.7v1.25Zm2.925.375V7.3h1.25V4.75h-1.25ZM9.551 5.899l2.55 2.55.884-.884-2.55-2.55-.884.884ZM13.625 7.3a.375.375 0 0 1-.64.265l-.884.884c1.024 1.024 2.774.299 2.774-1.149h-1.25Zm-.375-2.925c.207 0 .375.168.375.375h1.25c0-.897-.727-1.625-1.625-1.625v1.25Zm-2.55-1.25c-1.448 0-2.173 1.75-1.15 2.774l.885-.884a.375.375 0 0 1 .265-.64v-1.25ZM1.125 11.25c0 .898.728 1.625 1.625 1.625v-1.25a.375.375 0 0 1-.375-.375h-1.25ZM2.75 3.125c-.897 0-1.625.728-1.625 1.625h1.25c0-.207.168-.375.375-.375v-1.25Zm2.735.476a1.625 1.625 0 0 0-1.15-.476v1.25c.1 0 .196.04.266.11l.884-.884Zm5.616 7.384a.375.375 0 0 1-.265.64v1.25c1.447 0 2.172-1.75 1.149-2.774l-.884.884Z" fill="currentColor"/></svg>';var J7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.496 8.089 3.25 5.924v4.33l3.247-2.165Zm3.007 0 3.247-2.165v4.33L9.503 8.089Zm-2.058.87a1 1 0 0 1 1.11 0l3.89 2.594A1 1 0 0 0 14 10.72V5.457a1 1 0 0 0-1.555-.832L8.555 7.22a1 1 0 0 1-1.11 0L3.554 4.625a1 1 0 0 0-1.555.832v5.264a1 1 0 0 0 1.555.832l3.89-2.594Z" fill="currentColor"/></svg>';var K7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.75 6.5h5.157m-4.157 3H5" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/><path d="M5 3.5h8.408c.549 0 .992.443.992.993v7c0 .555-.452 1.007-1.007 1.007H3.749" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var L7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="5.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><rect x="10.125" y="3.625" width="3.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/></svg>';var M7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.25" d="M10.5 6s.608 1.78 1.388 2.645c.78.866 2.612 1.317 2.612 1.317s-1.783.46-2.612 1.419c-.552.64-1.015 1.512-1.388 2.619-.46-1.171-.956-2.044-1.489-2.62-.533-.574-1.37-1.114-2.511-1.618 1.027-.12 1.864-.493 2.511-1.117C9.981 7.71 10.5 6 10.5 6zm-5-4s.531 1.173.927 1.635C6.824 4.097 8 4.45 8 4.45s-1.315.728-1.573 1.02c-.172.194-.472.704-.9 1.53-.238-.662-.521-1.173-.848-1.53C4.35 5.112 3.792 4.772 3 4.45c.647-.198 1.147-.47 1.499-.815C5.026 3.117 5.5 2 5.5 2z"/></svg>';var N7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="10.75" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><path d="M7.675 6.175 9.5 8 7.675 9.825" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var O7s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.25 3.75a1 1 0 0 1 1-1h9.5a1 1 0 0 1 1 1V8.5a1 1 0 0 1-1 1h-9.5a1 1 0 0 1-1-1V3.75Z" stroke="currentColor" stroke-width="1.25"/><path d="M3.5 12v0c0 .531.43.961.962.961h7.077c.53 0 .961-.43.961-.961v0" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var TPs=dr({small:G7s}),$Ps=dr({small:H7s}),UPs=dr({small:I7s}),VPs=dr({small:J7s}),WPs=dr({small:K7s}),aQs=dr({small:L7s}),XPs=dr({small:M7s}),YPs=dr({small:N7s}),ZPs=dr({small:O7s}),dQs=dr({medium:A7s}),cQs=dr({medium:D7s}),iQs=dr({medium:E7s}),jQs=dr({medium:F7s}),kQs=dr({medium:B7s}),lQs=dr({medium:C7s});var P7s=({transition:a,xki:b,Kfn:c,vr:d})=>{a=bQs(a)||(b?ops:Pu);return d&&b?gV(ops,{size:"medium"}):gV(a,{size:"small",className:GV({QinT_w:c})})};var Q7s={eventType:"editor_transition_panel_opened",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),page_number:a.zd,location:a.location,control_context:a.kb})}},sQs={eventType:"editor_transition_applied",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),page_number:a.zd,transition_name:a.L2f,previous_transition_name:a.Njs,did_apply_between_all_pages:a.Ejq})}},R7s={eventType:"editor_transition_adjusted",Oa(a){return vf({editing_context:a.Aa==null?void 0:wf(a.Aa),page_number:a.zd,
transition_name:a.L2f,property:a.property,original_value:a.Zqb,current_value:a.Xza})}};var S7s=class{static G(a){O(a,{ndb:CV.ref,A$f:CV.ref,Ce:CV.ref,title:CV.ref})}constructor(){this.ndb=(S7s.G(this),void 0);this.title=this.Ce=this.A$f=void 0}},T7s=class{static G(a){O(a,{panel:pV({keepAlive:!0}),Wsl:pV({keepAlive:!0}),H3k:pV,iVc:pV({equals:oV.shallow}),R8e:pV({equals:oV.shallow}),P3g:CV.ref,$tn:jV,rNn:jV,qNn:jV,close:jV})}get panel(){return{na:n(this.config.ndb),header:this.config.title?{title:this.config.title}:void 0}}get Wsl(){return{ff:n(this.config.A$f),options:{sg:this.config.Ce}}}get H3k(){const a=
n(this.config.ndb);return{ff:()=>gV(a,{}),options:{sg:this.config.Ce}}}get $P(){return this.bzl.xpe}get iVc(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)!=="pages"||a.inner!=null&&a.inner.type!=="background"?[]:a.pages.filter(b=>this.Byc.deb(b))}get R8e(){var a;const b=this.selection.La;return(b===null||b===void 0?void 0:b.type)!=="pages"||b.inner!=null&&b.inner.type!=="background"?[]:((a=b.inner)===null||a===void 0?void 0:a.Jc.filter(c=>!this.xFo.dLb(c)))||[]}open(a){var b;
const c=a.page,d=this.P.sb("open_transition_panel",{Fb:{name:"editor.editing.transitions.open_transition_panel",type:a.kb}});this.$tn(a.wLl,c);this.rNn(c!==null&&c!==void 0?c:(b=this.Byc.ya)===null||b===void 0?void 0:b.page,a.kb,a.entryPoint);d.ne()}$tn(a,b){b&&(this.viewport.hw(b),a.length===0||this.P3g!=null?this.selection.aCb(b):this.selection.vHf(b))}rNn(a,b,c){a&&this.Byc.deb(a)&&(this.V.track(Q7s,{location:"page_navigator",kb:b,zd:this.Ia.pages.toArray().indexOf(a)+1}),b=this.bzl,b.active!==
c&&b.xpe.clear(),b.active=c,this.$P.clear(),this.P3g=a,this.ka.layout===2?this.$P.dh(this.Wsl):c==="toolbar"?this.$P.dh(this.H3k):this.pn.open(this.panel,{Fa:"top"}))}qNn(a,b,c){this.xFo.dLb(a)||(this.V.track(Q7s,{location:"page_navigator",kb:b,zd:1}),a=this.bzl,a.active!==c&&a.xpe.clear(),a.active=c,this.$P.clear(),this.ka.layout===2?this.$P.dh(this.Wsl):c==="toolbar"?this.$P.dh(this.H3k):this.pn.open(this.panel,{Fa:"top"}))}close(){this.P3g=void 0;this.pn.close(this.panel);this.$P.clear()}constructor(a,
b,c,d,e,f,g,h,k,l,m){this.Ia=a;this.config=b;this.pn=c;this.selection=d;this.viewport=e;this.Byc=f;this.xFo=g;this.V=h;this.bzl=k;this.P=l;this.ka=m;this.P3g=(T7s.G(this),void 0)}};var U7s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.561 16.5h7.19a.75.75 0 1 1 0 1.5h-8A1.75 1.75 0 0 1 6 16.25v-8a.75.75 0 0 1 1.5 0v7.19l9.2-9.2a.75.75 0 0 1 1.06 1.06l-9.2 9.2z" fill="currentColor"/></svg>';var gQs=dr({medium:U7s});var V7s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.48 15.439v-7.19a.75.75 0 1 1 1.5 0v8A1.75 1.75 0 0 1 16.23 18h-8a.75.75 0 0 1 0-1.5h7.19l-9.2-9.2a.75.75 0 0 1 1.06-1.06l9.2 9.2z" fill="currentColor"/></svg>';var fQs=dr({medium:V7s});var W7s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 8.581v7.19a.75.75 0 1 1-1.5 0v-8c0-.967.783-1.75 1.75-1.75h8a.75.75 0 0 1 0 1.5H8.56l9.2 9.2a.75.75 0 0 1-1.06 1.06l-9.2-9.2z" fill="currentColor"/></svg>';var eQs=dr({medium:W7s});var X7s=class{static G(a){O(a,{ond:CV.ref,animation:CV.ref,ya:pV,WN:pV,Swe:pV,Qmb:pV,RVh:pV,ofd:pV,directions:pV,origins:pV,ra:pV,Oge:pV,sG:jV,dmo:jV,yRi:jV,setDirection:jV,iql:jV,fol:jV,E5:jV,gib:jV,pdc:jV,rdc:jV,rPb:jV,Rqe:jV})}get ya(){var a,b;return((b=this.selection.La)===null||b===void 0?void 0:(a=b.pages)===null||a===void 0?void 0:a.length)===1?this.ki.tb(this.selection.La.pages[0]):this.viewport.jh?this.ki.tb(this.viewport.ya):void 0}get WN(){var a;return(a=this.ya)===null||a===void 0?void 0:
a.page.transition.ref}get Swe(){var a,b;return(b=this.ya)===null||b===void 0?void 0:(a=b.page.transition.ref)===null||a===void 0?void 0:a.durationUs}get Qmb(){var a;return(a=this.WN)===null||a===void 0?void 0:a.type}get RVh(){if(this.Qmb)return this.mr.get().find(a=>a.type===this.Qmb)}get ofd(){return this.Ia.pages.count()>2&&this.Ia.pages.filter(a=>!this.dLb(a)).some(a=>{var b;return a.transition.ref&&this.WN?a.transition.ref.type!==this.Qmb||a.transition.ref.durationUs!==this.Swe||this.eqa(a.transition.ref)!==
this.eqa(this.WN)||this.Jfb(a.transition.ref)!==this.Jfb(this.WN)||this.LXa(a.transition.ref)!==this.LXa(this.WN):!this.WN&&a.transition.ref?!0:((b=a.transition.ref)===null||b===void 0?void 0:b.type)!==this.Qmb})}eqa(a){switch(a.type){case "color-wipe":return a.ra;case "chop":case "cross-dissolve":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new v(a);}}Jfb(a){switch(a.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return a.direction;
case "cross-dissolve":case "match":break;default:throw new v(a);}}LXa(a){switch(a.type){case "chop":return a.origin;case "cross-dissolve":case "color-wipe":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new v(a);}}get directions(){var a;return hQs((a=this.WN)===null||a===void 0?void 0:a.type)}get origins(){var a;return mQs((a=this.WN)===null||a===void 0?void 0:a.type)}get ra(){var a;switch((a=this.WN)===null||a===void 0?void 0:a.type){case "color-wipe":return this.BYc(this.WN)}}BYc(a){switch(a.type){case "color-wipe":return a===
null||a===void 0?void 0:a.ra}}init(){bRs(pV(()=>new Map(this.Ia.pages.map(a=>[a,this.O9a(a)])),{equals:oV.shallow}),a=>{a.newValue.forEach((b,c)=>{var d;c.transition.ref&&b!==((d=a.oldValue)===null||d===void 0?void 0:d.get(c))&&this.yRi(c.transition.ref,this.Awd(c),Math.min(c.transition.ref.durationUs,this.O9a(c)))})});hV(()=>this.Ia.pages.filter(a=>a.type!=="fixed"||this.Ia.pages.last()===a?!1:!!a.transition.ref&&!oQs(this,a)),a=>{a.length!==0&&this.sG(a,void 0)},{equals:oV.shallow})}deb(a){return!this.dLb(a)}dLb(a){var b;
if(a.type!=="fixed")return!0;const c=(b=oQs(this,a))===null||b===void 0?void 0:b.page;return a.locked||c==null||c.locked||!1}get Oge(){var a;return!((a=this.WN)===null||a===void 0||!a.type)}sG(a,b){const c=this.P.sb("select_transition_type",{Fb:{name:"editor.editing.transitions.select_transition_type",type:b}});if(a.length!==0){if(this.noc){const d=this.mr.get().find(e=>e.type===b);d&&__c.iEe(this.noc,d)}a.forEach(d=>{var e=d.transition.ref;if((e===null||e===void 0?void 0:e.type)!==b){if(b!=null){var f;
e=e?e.durationUs:pQs(this,b,this.O9a(d));var g=this.Ia;g=b$q({Ia:g,ht:this.ht,Vmf:d.Jc.first(),sJf:(f=__c.c$q(d,g))===null||f===void 0?void 0:f.Jc.first()});g=rQs({type:b,durationUs:e,Jqd:g})}tQs(this,d,g,d.transition.ref);d.transition.set(g)}});c.ne()}}O9a(a){if(!a||a.type!=="fixed")return 0;const b=this.qd.tb(a);var c=(a=(c=oQs(this,a))===null||c===void 0?void 0:c.page)?Math.min(b,this.qd.tb(a)):b;return Math.min(c/2,5E6)}dmo(a,{durationUs:b,direction:c,ra:d,origin:e}){const f=this.WN;if(f){var g=
uQs(f);this.sG(a,f.type);a.forEach(h=>{b&&this.yRi(f,this.Awd(h),Math.min(b||f.durationUs,this.O9a(h)));if(c)if(g===null||g===void 0?0:g.direction)this.setDirection(f,this.Awd(h),c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g===null||g===void 0?0:g.origin)this.iql(f,this.Awd(h),e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g===null||g===void 0?0:g.ra)this.fol(f,this.Awd(h),d||g.ra);else throw Error(`No color for transition type: ${f.type}`);
})}}yRi(a,b,c){na(c>0);c!==a.durationUs&&(this.V.track(R7s,{zd:b,L2f:a.type,property:"duration_ms",Zqb:String(a.durationUs/1E3),Xza:String(c/1E3)}),a.durationUs=c)}setDirection(a,b,c){switch(a.type){case "chop":case "color-wipe":case "flow":case "stack":case "slide":case "wipe-circle":case "wipe-line":if(c!==a.direction){var d=this.directions||[];const e=d.find(f=>f.value===a.direction);d=d.find(f=>f.value===c);this.V.track(R7s,{zd:b,L2f:a.type,property:"direction",Zqb:e===null||e===void 0?void 0:
e.name,Xza:(d===null||d===void 0?void 0:d.name)||""});a.direction=c}break;case "cross-dissolve":case "match":throw Error(`No direction for transition type: ${a.type}`);default:throw new v(a);}}iql(a,b,c){a.type==="chop"&&c!==a.origin&&(this.V.track(R7s,{zd:b,L2f:a.type,property:"origin",Zqb:String(a.origin),Xza:String(c)}),a.origin=c)}fol(a,b,c){switch(a.type){case "color-wipe":oV.structural(c,a.ra)||(a.ra=c,this.V.track(R7s,{zd:b,L2f:a.type,property:"colors",Zqb:c.join(","),Xza:a.ra.join(",")}));
break;default:throw Error(`No colors for transition type: ${a.type}`);}}E5(a){this.animation=a}get xgs(){if(this.animation&&this.animation.$e.If)return this.animation}gib(a,b){var c;const d=a===null||a===void 0?void 0:a.page;if(d&&this.deb(d)){oa(a.type==="fixed-page");var e=oQs(this,d);if(b!==void 0&&e){if(((c=d.transition.ref)===null||c===void 0?void 0:c.type)===b)b=d.transition.ref;else{var f;c=this.Ia;c=b$q({Ia:c,ht:this.ht,Vmf:d.Jc.first(),sJf:(f=__c.c$q(d,c))===null||f===void 0?void 0:f.Jc.first()});
b=rQs({type:b,durationUs:pQs(this,b,this.O9a(d)),Jqd:c})}this.gka({pages:[a,e],transition:b})}}}pdc(a,b){var c=a===null||a===void 0?void 0:a.page;if(c&&this.deb(c)){oa(a.type==="fixed-page");var d=oQs(this,c);if(d){c={...n(c.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new v(c);}this.gka({pages:[a,d],transition:c})}}}rdc(a,b){var c=a===
null||a===void 0?void 0:a.page;if(c&&this.deb(c)){oa(a.type==="fixed-page");var d=oQs(this,c);d&&(c={...n(c.transition.ref)},c.type==="chop"&&(c.origin=b,this.gka({pages:[a,d],transition:c})))}}rPb(){this.animation&&this.animation.$e.stop()}gka({pages:a,transition:b}){const {$e:c,gZ:d}=this.sha({O8a:__c.xze(()=>a,()=>this.Ia),override:{type:"page",animation:"none"},Oae:b});var e=c.mHe(a[0].page);e?(b=b.durationUs/1E3,e=e.duration-b,c.seek(e),c.OWe(e+b*2)):c.play();this.animation={$e:c,gZ:d}}Rqe(a){if(a&&
this.deb(a)){var b=this.ht,c=this.Ia;tQs(this,a,this.WN,void 0,!0);c.pages.toArray().forEach(d=>{var e;if(this.deb(d)){var f=b$q({ht:b,Ia:c,Vmf:d.Jc.first(),sJf:(e=__c.c$q(d,c))===null||e===void 0?void 0:e.Jc.first()});e=this.WN?rQs({type:this.WN.type,durationUs:Math.min(this.WN.durationUs,this.O9a(d)),Jqd:f,options:uQs(this.WN)}):void 0;d.transition.set(e)}});this.DLs()}}Awd(a){return this.Ia.pages.toArray().indexOf(a)+1}FSa(a){return qk(a,this.Ia.dimensions)}ypb(a){return a.dzb!=null&&this.krd<
a.dzb&&this.noc!=null&&!__c.hEe(this.noc,a)}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.Ia=a;this.ht=b;this.sha=c;this.viewport=d;this.qd=e;this.V=f;this.P=g;this.$f=h;this.selection=k;this.krd=l;this.noc=m;this.DLs=p;this.mr=q;this.ond=(X7s.G(this),!1);this.ki=If(this.Ia);hV(()=>this.ond,r=>{var t;return r&&this.Rqe((t=this.ya)===null||t===void 0?void 0:t.page)})}};var Y7s=class{static G(a){O(a,{ra:pV,origins:pV,directions:pV,tRa:pV,ya:pV,Jc:pV,Era:pV,WN:pV,Qmb:pV,Oge:pV,sG:jV,cmo:jV,Lah:jV,gib:jV,pdc:jV,rdc:jV})}get ra(){var a;switch((a=this.WN)===null||a===void 0?void 0:a.type){case "color-wipe":return this.Byc.BYc(this.WN)}}get origins(){var a;return mQs((a=this.WN)===null||a===void 0?void 0:a.type)}get directions(){var a;return hQs((a=this.WN)===null||a===void 0?void 0:a.type)}get tRa(){const a=this.viewport.jh?this.ki.tb(this.viewport.ya):void 0;if((a===
null||a===void 0?void 0:a.type)==="fixed-page")return a}get ya(){const a=this.viewport.jh?this.ki.tb(this.viewport.ya):void 0;if((a===null||a===void 0?void 0:a.type)==="fixed-page")return a.ha}get Jc(){var a;return(a=this.ya)===null||a===void 0?void 0:a.Jc}get Era(){var a,b,c;if(((b=this.selection.La)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="background")return(c=this.selection.La)===null||c===void 0?void 0:c.inner.Jc[0]}dLb(a){var b;return((b=this.Jc)===null||b===
void 0?void 0:b.last())===a}get WN(){var a;return(a=this.Era)===null||a===void 0?void 0:a.transition.ref}get Qmb(){var a;return(a=this.WN)===null||a===void 0?void 0:a.type}get Oge(){var a;return!((a=this.WN)===null||a===void 0||!a.type)}sG(a,b){var c;(((c=this.Jc)===null||c===void 0?void 0:c.count())||0)!==0&&a.forEach(d=>{var e=d.transition.ref;if((e===null||e===void 0?void 0:e.type)!==b){if(b!=null&&(e=e?e.durationUs:(e=this.Byc.mr.get().find(h=>h.type===b))?e.Afa:1E6,this.ya)){var f;var g=b$q({Ia:this.Ia,
ht:this.ht,Vmf:d,sJf:(f=this.Jc)===null||f===void 0?void 0:f.next(d)});g=rQs({type:b,durationUs:e,Jqd:g})}g?d.transition.set(g):d.transition.set(void 0)}})}cmo(a,{durationUs:b,direction:c,ra:d,origin:e}){const f=this.WN;if(f){var g=uQs(f);this.sG(a,f.type);a.forEach(h=>{b&&this.Byc.yRi(f,void 0,Math.min(b||f.durationUs,this.O9a(h)));if(c)if(g===null||g===void 0?0:g.direction)this.Byc.setDirection(f,void 0,c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g===
null||g===void 0?0:g.origin)this.Byc.iql(f,void 0,e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g===null||g===void 0?0:g.ra)this.Byc.fol(f,void 0,d||g.ra);else throw Error(`No color for transition type: ${f.type}`);})}}Lah(a){a.transition.set(void 0)}gka({transition:a,fill:b}){const c=this.tRa;if(c){var {$e:d,gZ:e}=this.sha({O8a:__c.xze(()=>[c],()=>this.Ia),override:{type:"page",animation:"none"},Oae:a}),f=this.Jc&&__c.dSd(this.qd,this.Jc);(f=(f=f&&f.find(g=>g.fill===
b))&&f.startUs+f.durationUs)?(a=a.durationUs/1E3,f=f/1E3-a/2,d.seek(f),d.OWe(f+a*2)):d.play();this.Byc.E5({$e:d,gZ:e})}}gib(a){var b,c;const d=this.Era;if(d&&!this.dLb(d)){var e=(b=this.Jc)===null||b===void 0?void 0:b.next(d);if(a!==void 0&&e){if(((c=d.transition.ref)===null||c===void 0?void 0:c.type)===a)a=d.transition.ref;else{var f;b=b$q({Ia:this.Ia,ht:this.ht,Vmf:d,sJf:(f=this.Jc)===null||f===void 0?void 0:f.next(d)});a=rQs({type:a,durationUs:pQs(this.Byc,a,this.O9a(d)),Jqd:b})}this.gka({transition:a,
fill:d})}}}pdc(a,b){if(a&&!this.dLb(a)){var c={...n(a.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new v(c);}this.gka({fill:a,transition:c})}}rdc(a,b){if(a&&!this.dLb(a)){var c={...n(a.transition.ref)};c.type==="chop"&&(c.origin=b,this.gka({fill:a,transition:c}))}}O9a(a){var b;if(!a)return 0;const c=this.qd.DK(a),d=(b=this.Jc)===null||
b===void 0?void 0:b.next(a);a=d?Math.min(c,this.qd.DK(d)):c;return Math.min(a/2,5E6)}constructor(a,b,c,d,e,f,g){this.Ia=a;this.ht=b;this.viewport=c;this.selection=d;this.Byc=e;this.sha=f;this.qd=g;this.ki=(Y7s.G(this),void 0);this.ki=If(this.Ia)}};var Z7s=class{static G(a){O(a,{active:CV.ref,xpe:pV})}get xpe(){return n(this.czl.get(this.active))}constructor(a,b){this.active=(Z7s.G(this),"pageNavigator");this.czl=new Map;this.czl.set("pageNavigator",a);this.czl.set("toolbar",b)}};var $7s=class{static G(a){O(a,{xvm:pV,ya:pV,LSa:pV})}get xvm(){const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "pages":return this.ya&&this.ya.transition.ref!=null;default:return!1}}get ya(){return this.viewport.jh?this.viewport.ya:void 0}get LSa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}constructor(a,b){this.selection=a;this.viewport=b;$7s.G(this)}};var a8s={eventType:"editor_element_opacity_changed",Oa(a){return vf({selected_element_types:a.xGa,previous:a.previous,value:a.value,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Yp,page_height:a.Ur,num_pages_in_document:a.Ey,num_elements_in_page:a.dE,page_index:a.Xb,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};var b8s={Ey:0,Yp:0,Ur:0},c8s=class{static G(a){O(a,{WPi:pV,hWf:pV,tMn:jV})}get tL(){return!!this.selection.La}get WPi(){return xQs(this,this.selection.La)}get hWf(){return this.WPi?100-Math.round(this.WPi.get()*100):void 0}constructor(a,b,c){this.controller=a;this.selection=b;this.N=c;this.tMn=(c8s.G(this),d=>{var e;d=(100-Math.round(d))/100;(e=this.WPi)===null||e===void 0||e.set(d)});this.o5r=d=>{d!=null&&this.hWf&&this.vyr(d,100-Math.round(this.hWf*100))};this.hsc=()=>{var d;const e=n(this.selection.La),
f=e.$z;f&&f.type==="fixed-page"&&this.N.track(__c.Iph,{...b8s,dE:f.page.elements.count(),xGa:(d=e.elements)===null||d===void 0?void 0:d.map(g=>g.type),menu:"opacity"})};this.vyr=(d,e)=>{var f;const g=n(this.selection.La),h=g.$z;h&&h.type==="fixed-page"&&this.N.track(a8s,{...b8s,dE:h.page.elements.count(),xGa:(f=g.elements)===null||f===void 0?void 0:f.map(k=>k.type),previous:d.toString(),value:e.toString()})}}},vQs=class{get(){return this.objects.reduce((a,b)=>Math.min(a,b.get()),1)}set(a){for(const b of this.objects)b.set(a)}constructor(a){this.objects=
a}};var d8s=a=>{const b=a.open,c=a.xi,d=a.disabled,e=a.onClick,f=a.Ch;a=kV(()=>{b||f();e===null||e===void 0||e()},[b,e,f]);return gV(c,{tooltip:L("qwymYg"),className:"pyufWg",pressed:b,disabled:!!d,onClick:a,yh:"icon",icon:__c.nXr,children:L("esjKOA")})},e8s=({Qh:a,value:b,onChange:c,$g:d,Oe:e,Yf:f})=>{a=gV("div",{className:"_1eG0uQ",children:gV(a,{min:0,max:100,step:1,Nw:0,onChange:c,$g:d,value:b,label:L("esjKOA")})});return f?a:gV(__c.hjh,{Oe:e,children:a})};var f8s=class{open(){return this._open()}constructor(a){this._open=a}};var AQs={eventType:"editor_version_history_clicked",Oa(a){return vf({document_id:a.ja,source:a.source,editing_context:a.Aa==null?void 0:wf(a.Aa)})}};hC=__c.hC={};hC.aYl=JQs;hC.Oaq=function({vc:a}){return{ALl:new wRs(a)}};
hC.tbn=function(a){var b=a.K2,c=a.Sq;const d=a.S3g,e=a.b3c,f=a.Ec,g=a.Ma,h=a.da,k=a.la,l=a.V,m=a.ka,p=a.Wd,q=a.bJa,r=a.viewport,t=a.aba;var u=a.Ja;const w=a.we,x=a.selection,y=a.Xa,z=a.gd,A=a.ih,B=a.Cd,D=a.Ga,G=a.Pa,I=a.$b,K=a.Aw,M=a.lW,N=a.ea,Q=a.k3c;var R=a.xsf;const W=a.lae,X=h.undo;switch(u){case "fixed":u=a.Fd;const Z=a.pn,da=a.xvg,la=a.Nl,ka=a.NT;({tWc:b}=rss({K2:b,Ja:"fixed",selection:x,ih:A,Cd:B,ka:m,la:k,V:l,Ga:D,Pa:G,$b:I,Aw:K,lW:M,eIb:a.eIb,undo:X,ea:N,we:w,k3c:Q,lae:W}));Rrs({Sq:c,S3g:d,
b3c:e,xvg:da,Ja:"fixed",V:l,ka:m,Wd:p,da:h,Ec:f,Ma:g,selection:x,Xa:y,gd:z,viewport:r,la:k,we:w,aba:t,bJa:q,ea:N,xsf:R,tWc:b,Nl:la,NT:ka});Qb("eb935326",!1)&&({m7e:c}=xss({Ja:["fixed","responsive"],jc:a.jc,Fd:u}),Zrs({Wd:p,pn:Z,ka:m,Ma:g,selection:x,viewport:r,Fd:u,m7e:c,Nl:la}));break;case "responsive":R=a.old;a=a.xsf;({tWc:b}=rss({K2:b,Ja:"responsive",selection:x,ih:A,Cd:B,ka:m,la:k,V:l,Ga:D,Pa:G,$b:I,Aw:K,lW:M,undo:X,ea:N,k3c:Q,lae:W}));Rrs({Sq:c,S3g:d,b3c:e,Ja:"responsive",ka:m,Wd:p,Ec:f,Ma:g,
gd:z,da:h,Xa:y,la:k,we:w,aba:t,bJa:q,ea:N,selection:x,viewport:r,V:l,tWc:b,old:R,xsf:a});break;default:throw new v(u);}p.kc(({lL:Z})=>{Z&&(Z.i9i={Button:iV(da=>gV(da.nE,{LX:lBj,children:L("u7+XyA")}))})})};
hC.ubn=function(a){if(a.Ja!=="responsive"){var {xmd:b}=KSs({canvas:a.canvas,viewport:a.viewport,selection:a.selection,Zo:a.Zo,undo:a.session.undo});Uus(a);Xus(a);avs(a);jus({...a,xmd:b});Zus(a);Yus(a);Cus({xcb:a.xcb,cHa:a.cHa,xmd:b,viewport:a.viewport,jc:a.jc,oc:a.oc,fca:a.fca,ka:a.ka,V:a.V,z2a:a.z2a});Fqs({xcb:a.xcb,cHa:a.cHa,xmd:b,viewport:a.viewport,jc:a.jc,oc:a.oc,ka:a.ka,V:a.V,z2a:a.z2a});Tus({xcb:a.xcb,cHa:a.cHa,xmd:b,viewport:a.viewport,jc:a.jc,Zc:a.Zc,oc:a.oc,V:a.V,z2a:a.z2a});!a.cUj&&a.Qe&&
a.we&&Kss({Gb:a.Gb,oc:a.oc,Qe:a.Qe,we:a.we,toolbar:a.toolbar,Tp:a.Tp});eTs(a.Cd,a.selection,a.oc,a.session)}a.k$.pra==null&&tus(a);kus(a);eus(a,(f,g)=>a.oc.t7a(f,g));Gss(a);b=a.Qe;const c=a.we,d=a.Vi,e=a.oc;Pus(a,(f,g,h)=>e.addTable(f,g,h));Kus(a,(f,g)=>e.fGb(f,g));d&&Gus({...a,Vi:d});b&&c&&Jss({pK:async f=>{await e.pK(f,{Uc:"quick_actions"})},Qe:b,we:c})};hC.vbn=function({sIa:a,PDa:b}){hV(()=>{var c;return(c=b.Ac.Ic)===null||c===void 0?void 0:c.id},c=>a.Ed=c,{fireImmediately:!0})};
hC.wbn=function(a){if(a.Ja==="responsive"){const Dd=a.toolbar,zc=a.Cd,Tc=a.Ma,Bd=a.ih,Ad=a.oc,ge=a.selection,Ue=a.S3,Ke=a.Jg,Wc=a.nU,ld=a.EPa,qd=a.Vi,de=a.da.undo,rf=a.Hb,Qf=a.V,Pe=a.rHc;tvs({Ja:"responsive",Cd:zc,Ma:Tc,S3:Ue,ka:a.ka,selection:ge});Zxs({Ja:"responsive",toolbar:Dd,ih:Bd,Ma:Tc,selection:ge,V:Qf,EPa:ld,Vi:qd});Gxs({Ja:"responsive",oc:Ad,Ma:Tc,selection:ge,S3:Ue,Jg:Ke,nU:Wc,undo:de,ih:Bd,Cd:zc,Hb:rf,rHc:Pe,V:Qf});return{NQh:void 0}}const b=a.toolbar,c=a.Cd,d=a.$f,e=a.Ma,f=a.Ec,g=a.da,
h=g.document,k=g.undo,l=a.oc,m=a.Ep,p=a.VXa,q=a.keyboardShortcuts,r=a.Wj,t=a.X,u=a.viewport,w=a.selection,x=a.ya,y=a.Df,z=a.ih,A=a.S3,B=a.Jg,D=a.nU,G=a.Hb,I=a.rHc,K=a.we,M=a.D4d,N=a.Qa,Q=a.Jj,R=a.ka,W=a.gb,X=a.V,Z=a.Ga,da=a.Aie,la=a.isDragging,ka=a.qe,pa=a.gaa,ja=a.Zc,ia=a.yua,ba=a.Hr,ca=a.errorService,qa=a.vc,ra=a.re,sa=a.$X,wa=a.rf,Aa=a.dg,Ba=a.ncb,za=a.Zo,Fa=a.EPa,Da=a.Vi,Oa=a.mh,Ja=a.xX,Sa=a.p9,Ta=a.nYe,Za=a.qhc,Ra=a.la,Xa=a.Ea,cb=a.alert,mb=a.yCe,nb=a.Yf,{Q8f:ob,R8f:sb}=cxs({selection:w,gb:W,
ya:x,ka:R,V:X,Ga:Z,isDragging:la,keyboardShortcuts:q,Ma:e,viewport:u,Cd:c,ih:z,we:K,xT:a.xT,UR:a.UR,Lk:a.Lk,Nl:a.Nl,zt:a.zt,$f:d}),{Imd:yb,F6f:gb}=tvs({Ja:["fixed","responsive"],selection:w,Ma:e,Hr:ba,Zc:ja,gb:W,re:ra,ka:R,V:X,ih:z,Cd:c,S3:A,we:K,keyboardShortcuts:q}),{NQh:xb}=mws({selection:w,ya:x,X:t,Ec:f,ka:R,oc:l,Ep:m,VXa:p,gb:W,undo:k,toolbar:b,Cd:c,document:h,ih:z,D4d:M,Qa:N,Jj:Q,errorService:ca.vf("clustering"),V:X,Ga:Z,la:Ra,Ea:Xa,alert:cb,$f:d,rf:wa,dg:Aa,nYe:Ta,Yf:nb}),{coe:Bb}=zys({selection:w,
Hr:ba,keyboardShortcuts:q,ka:R,V:X,Imd:yb,Cd:c,ih:z,yCe:mb}),{tud:zb,wnj:Jb,xnj:Rb,Gkj:Ab,Hkj:Yb,gdj:ic,hdj:Sc}=Gxs({Ja:["fixed","responsive"],Ma:e,selection:w,gb:W,Wj:r,Hr:ba,toolbar:b,Cd:c,re:ra,oc:l,$X:sa,Zo:za,S3:A,Jg:B,nU:D,Hb:G,rHc:I,undo:k,ih:z,xX:Ja,p9:Sa,V:X});HUs({canvas:r,undo:k,Hr:ba,vc:qa,selection:w,Zo:za,mh:Oa,qhc:Za,toolbar:b,Aie:da,isDragging:la,V:X,Ga:Z});const {pnj:Nc,xej:sc,Qfj:jc}=Zxs({Ja:["fixed","responsive"],selection:w,Ma:e,xX:Ja,qe:ka,gaa:pa,gb:W,toolbar:b,ih:z,Zo:za,EPa:Fa,
Vi:Da,ncb:Ba,V:X,Wj:r,viewport:u,tud:zb}),{ijj:Fb}=dys({selection:w,yua:ia,xX:Ja,toolbar:b,Zo:za,$X:sa,V:X}),gc=iV(({KTc:Dd})=>gV(nUs,{pnj:Nc,xej:sc,Qfj:jc,wnj:Jb,xnj:Rb,Gkj:Ab,Hkj:Yb,gdj:ic,hdj:Sc,ijj:Fb,$T:vc.$T,KTc:Dd})),Hc=iV(()=>gV(xV,{children:R.layout===2?gV(mUs,{Df:y,Q8f:ob,F6f:gb.get(),coe:Bb.get(),C6f:gc}):gV(lUs,{Q8f:ob,F6f:gb.get(),coe:Bb.get(),C6f:gc})})),vc=new ETs(w,R,b,e),Ac=new FTs(vc,w,b,X),Bc=iV(({Au:Dd})=>gV(qUs,{HC:vc.HC,YUc:Ac.YUc,fPi:Ac.fPi,C0e:Ac.C0e,Gmp:Hc,R8f:sb,Au:Dd})),
Cc={Qd:()=>vc.God,Button:Dd=>{const zc=Dd.onClick,Tc=Dd.open,Bd=kV(()=>{zc===null||zc===void 0||zc();if(!Tc&&R.layout===1){const Ad=Ac.selection.La;Ad&&Ad.type==="elements"&&Ad.Ji()||Ac.C0e()}},[Tc,zc]);return gV(kUs,{...Dd,onClick:Bd,YUc:Ac.YUc})},Su:{sg:()=>L("AXgBkw")},na:iV(({Au:Dd})=>R.layout===1?gV(Bc,{Au:Dd}):gV(Hc,{}))},ud={Qd:()=>vc.God&&R.layout===2,Button:Dd=>gV(oUs,{...Dd}),Su:{sg:()=>L("Y2VUFg")},na:()=>gV(pUs,{C6f:gc})};vc.Rua=Cc;c.plugins.rFb=()=>Cc;c.plugins.J9f=()=>ud;q.register([QTs,
jV(()=>{Ac.hac?Ac.store.HC==="layers"?Ac.lD():(Ac.C0e(),Ac.YUc()):uvs(Ac)}),L("1PXGVQ"),["edit"]]);K===null||K===void 0||K.Am(()=>vc.God,{type:"simple",key:"layers",name:L("rx7oXA"),Icon:__c.wcr,jm:QTs,execute:async()=>uvs(Ac)});const Ld=()=>uvs(Ac);z.kc(()=>vc.gpo,(Dd,zc)=>{Dd.Woa=zc?{Button:Tc=>gV(RTs,{...Tc,onClick:Ld})}:void 0});return{NQh:xb}};
hC.Cbn=function(a){const b=a.Ja,c=a.zq,d=a.la,e=a.kh,f=a.N7,g=a.Hb,h=a.Xa,k=a.Kn,l=a.oYd,m=a.errorService,p=a.ri,q=a.Ga.Ud(`editor.editing.clipboard.${b==="responsive"?"responsive":"fixed"}`),r={Caa(){var z;(z=g.KRk)===null||z===void 0||z.call(g);return{audio:Promise.resolve([]),images:Promise.resolve([]),Bc:Promise.resolve([])}}},t=()=>b==="responsive"?{}:{"font-family":a.Tp.ZT},u=()=>{const z=lif(h);var A;return z?Ie.pick(B=>__c.Ge(Ie,z,B)!=null,z):(A=k.O3)!==null&&A!==void 0?A:{}},w=vBs(a,t,u,
r),x=new KUs(new YQs(f,w),f),y=BBs(a,new MUs(c,()=>t()["font-family"],()=>u().fontFamily),x,t,u,q);l.r6n={gar:async z=>{Uys(z)!=="proto"&&await y.copy(void 0,z)},zIp:async z=>{const A=q.sb("editor_clipboard_paste_drop",{Fb:{name:"editor.paste",attrs:new Map([["control_context","drag"]])}}),B=Uys(z);B?(A.mb().sG(B),m.ku({category:"dropping",data:{dataType:B}}),(z=await x.paste(null,z))&&await y.paste(z,A,"drag",(e===null||e===void 0?void 0:e.Caa)||r.Caa,void 0)):(A.mb().sG("not_data"),A.end())},canDrop:z=>
Uys(z)!=null,$_f:z=>{({DOa:z}=x.getData(z));return(z=z?w.hXd(z):void 0)?y.$_f(z):{items:new Set}}};DBs(a,q,y,x,r,e);p&&(p.Orm=()=>({label:"Copy Clipboard Proto",Icon:PD,xq:async()=>{const z=await y.copy(void 0,void 0);let A;if(z)try{await window.navigator.clipboard.writeText(JSON.stringify(fVs.serialize(z.aTb))),A="Successfully copied selection to clipboard."}catch(B){A="Failed to copy selection to clipboard."}else A="Failed to copy. Do you have an selection on the page?";d.Ib({Cb:A})}}))};
hC.Gbn=function(a){const b=a.gd,c=a.X,d=a.viewport,e=a.Ma,f=a.gn,g=a.ka,h=a.pn,k=a.oc,l=a.PD,m=a.Qe,p=a.we,q=a.LS,r=a.errorService,t=a.Qa,u=a.Bnf,w=a.la,x=a.V,y=a.Uxb,z=a.JB,A=a.aja,B=a.Wc,D=a.sfc,G=a.Ega,I=a.selection,K=a.Fz,M=a.PDa,N=a.Tb;if(B&&A&&u.status!==Ux.Or){var Q=new __c.yps(a.session.document);a.XCg.then(R=>{let W;switch(a.Ja){case "fixed":W=new yWs(I,D,e,d,b,Q);break;case "responsive":W=new zWs(I,D,b,d,Q);break;default:throw new v(a);}const X=new __c.sv,Z=iV(({formula:Aa})=>{var Ba;const za=
(Ba=sa.eln)===null||Ba===void 0?void 0:Ba.sheet;return za&&gV(R.ZQb,{formula:Aa,sheet:za,REj:"xSmall"})});var da=(c===null||c===void 0?void 0:c.user.locale.startsWith("en"))||!1;const la=da?void 0:bCs({X:c,Qa:t}),ka=cCs.vyq&&cCs.Pln!==""&&cCs.ADk!==""?WCs({X:c,Qa:t,Tb:N,za:x,h2d:()=>sa.session.id}):void 0,pa=(Aa,Ba,za)=>{wa.Itc(sa,Aa,Ba,za)},ja=iV(()=>gV(iWs,{ysd:sa.ysd,byi:wa.iEa,s9h:wa.s9h,SWr:wa.QOm,H0r:wa.ojo,NXe:sa.NXe,SVi:wa.SVi,lNq:sa.dOe==null,xCa:void 0,Xbq:gV(YVs,{quota:sa.quota,kBk:sa.kBk,
tPl:wa.tPl}),fRg:wa.fRg,Itc:pa})),ia=iV(()=>{var Aa,Ba;return cCs.nvq?gV(XVs,{input:gV(ja,{}),x$i:la,rcf:ka===null||ka===void 0?void 0:ka.rcf,error:sa.error?gV(bWs,{error:sa.error}):void 0,VMg:sa.Xwa,NDd:wa.NDd,rZe:sa.rZe,aRc:(Aa=sa.dOe)===null||Aa===void 0?void 0:Aa.aRc,f$d:K.mvl,pkh:sa.dOe!=null}):gV(TVs,{input:sa.Xwa?null:gV(ja,{}),error:sa.error?gV(bWs,{error:sa.error}):void 0,ZEc:gV(BWs,{ZEc:sa.ZEc,sia:wa.q2p,Hxa:wa.qUr}),Luk:gV(GWs,{NRp:ba!=null,sVp:sa.upd,Z$c:wa.Rrm,Hxa:wa.NRr}),Hbk:gV(EWs,
{GJb:sa.GJb,sia:wa.Rrm,hVk:wa.hVk,afj:Z,mi:g.layout===2}),rcf:ka===null||ka===void 0?void 0:ka.rcf,x$i:la,pkh:sa.dOe!=null,VMg:sa.Xwa,aRc:(Ba=sa.dOe)===null||Ba===void 0?void 0:Ba.aRc,NDd:wa.NDd,f$d:K.mvl})});da={header:{title:gV(WVs,{a7:!da})},na:iV(function(){return gV(__c.vv,{navigation:X,height:"fill",pQa:({ff:Aa})=>gV(Aa,{Oe:"fill",oa:wa.AXp})})})};const ba=k.PL!=null?Aa=>k.PL(Aa,{location:"visualize_panel",Uc:"recommended_charts",v7:"none"},{template:{type:"fixed",dimensions:{width:1920,height:1080,
units:4},Fe:{type:"inline",FG:void 0}}}):void 0,{Ac:ca}=M.Sq("none"),qa=new __c.SHb(f),ra=new __c.xu,sa=new uWs(u),wa=new wWs(sa,X,g,h,m,k,da,l,I,W,D,B,q,x,u,ra,A,y,z,r,w,K,qa,window.navigator.clipboard,d,Aa=>{X.dh({ff:()=>gV(fo,{children:gV(ia,{})}),options:{sg:()=>gV(S,{children:Aa})}})},ba,ca,ka===null||ka===void 0?void 0:ka.PUr);p&&["data-insights","data-insights-action"].forEach(Aa=>p.Am(()=>wa.dOs(Aa),{type:"simple",key:Aa,name:L("lp4Iiw"),Icon:__c.aYr,vI:!0,execute:async()=>{wa.DNn()}}));G.q0k=
()=>wa.DNn()}).catch(R=>{r.pa(R,{Ka:"Failed to load data insights"})})}};
hC.Hbn=function(a){var b=a.Ep;const c=a.kY,d=a.yDi;var e=a.Ma,f=a.selection;const g=a.Cd,h=a.ih,k=a.V;var l=a.Xa,m=a.cxa;const p=a.xX,q=a.Ga.Ud("editor.editing.deleting_ui");let r;e=new DVs(b,c,f,l,m,e);if(a.Ja!=="responsive"){f=a.document;l=a.Pa;m=a.gb;const G=a.$f,I=a.selection,K=a.jc,M=a.Jg,N=a.Y6h,Q=a.Oo,R=a.Ea,W=a.ka,X=new QVs,Z=new LVs(f,I,b,N,Q,k,X,la=>{R(()=>gV(PVs,{...la}))});r=new CVs(e,b,c,Z,K,I,M,l,m,G,q,k,W);const da={Qd:()=>Z.axl(),Button:iV(la=>gV(KVs,{...la,onClick:()=>{r.mQ("toolbar",
y("floating_toolbar",{type:"page"}),"outer")},disabled:()=>!r.lig(),Cg:Z.Cg.length})),Su:{sg:()=>J("JwjLTA",[Z.Cg.length])}};g.plugins.NEb=()=>da}else r=e;b=jV(G=>r.iRj("keyboard_shortcut",G));a.Ja!=="responsive"&&a.keyboardShortcuts.register(["Backspace",b,L("k6m7gA"),["edit"]],["Delete",b,L("k6m7gA"),["edit"]]);__c.$o(p,["Backspace",b,L("k6m7gA"),["edit","suggest"]],["Delete",b,L("k6m7gA"),["edit","suggest"]]);const {TOp:t}=HBs({kY:c,LOp:d}),u=G=>t.Fgh(G),w=()=>t.VPh(),x=iV(G=>{const I=G.kb,K=G.wwb;
G=G.oa;const M=kV((N,Q)=>{t.VPh();return r.mQ(I,N,Q)},[I]);return gV(JVs,{wwb:K,P:q,disabled:r.xod,fTe:M,oa:G,onMouseEnter:u,onMouseLeave:w,onFocus:u,onBlur:w})}),y=(G,I)=>{switch(I.type){case "background":return q.sb(`delete_background_${G}`,{Fb:{name:"editor.delete_background"}});case "page":return q.sb(`delete_page_${G}`,{Fb:{name:"editor.delete_page"}});default:return q.sb(`delete_element_${G}`,{Fb:{name:"editor.delete_element"}})}},z={Button:HVs,Su:{sg:()=>L("eLUEGw")},na:G=>gV(x,{...G,wwb:r.Wie}),
onClose:w},A={Button:iV(G=>{const I=G.kb,K=G.onClick,M=kV(()=>{uV(()=>{var N=r.Wie;if(N.length!==0){K&&K();var Q=N[0];N=y("floating_toolbar",Q);Q=SBs(Q);return r.mQ(I,N,Q.mode)}})},[I,K]);return gV(GVs,{...G,onClick:M,disabled:r.xod})})},B=pV(()=>r.Wie.length);g.plugins.rDa=()=>{const G=B.get();return{Qd:()=>G>0,...(G>1?z:A)}};g.plugins.K3b=()=>{const G=r.Wie.filter(I=>I.type==="background");return{Qd:()=>G.length>0,...(G.length>1?z:A)}};g.plugins.Uhc=()=>{const G=r.Wie.filter(I=>I.type==="scrollable-design");
return{Qd:()=>G.length>0,...(G.length>1?z:A)}};const D=(G,I)=>{const K=SBs(G,I),M=jV(()=>{t.VPh();const Q=y("contextual_menu",G);return r.mQ("contextual_menu",Q,K.mode)}),N=()=>t.Fgh(G);return{Button:Q=>{lV(()=>w,[]);return gV(Q.hl,{Icon:K.Icon,label:K.message,jm:K.jm,onClick:M,oa:Q.oa,onMouseEnter:N,onMouseLeave:w,onFocus:N,onBlur:w})}}};h.kc(()=>r.Ilf,(G,I)=>{G.K3b=void 0;G.AAc=void 0;G.hBh=void 0;G.IWc=void 0;G.BAc=void 0;G.iBh=void 0;G.JWc=void 0;G.Thc=void 0;I.forEach(K=>{const M=D(K,r.Lvl);
switch(K.type){case "background":G.K3b=M;break;case "column":if(!r.B8a)break;switch(r.B8a.type){case "table-element":case "table-item":G.AAc=M;break;case "sheet-element":case "sheet-item":case "sheet-page-content":G.IWc=M;break;case "layout-element":case "layout-item":G.hBh=M}break;case "row":if(!r.B8a)break;switch(r.B8a.type){case "table-element":case "table-item":G.BAc=M;break;case "sheet-element":case "sheet-item":case "sheet-page-content":G.JWc=M;break;case "layout-element":case "layout-item":G.iBh=
M}break;default:G.Thc=M}})});h.kc(()=>r.cRj,(G,I)=>{G.Rbj=I?{Button:K=>gV(K.hl,{label:TBs(I),Icon:Tx,jm:"Delete",onClick:jV(()=>r.bym("contextual_menu",y("contextual_menu",{type:"page"})))})}:void 0});return{l7b:r}};
hC.Jbn=function({Uf:a,Wd:b,Ma:c,fda:d,Hb:e,X2c:f,RBe:g,p2h:h,osa:k}){const {Ke:l,Ne:m}=__c.pc(NWs),p=new PWs(d,a,c,g,!!f,h),{XCk:q}=dDs(d),r=k.uqg(L("nykDAw"),"medium");hV(()=>p.VTc,A=>{switch(A){case 6:k.Pub(L("LtzRdg"),"critical");break;case 5:k.Pub(L("ZK0snA"),"high");break;case 0:k.Pub(L("FXfIUQ"),"high");break;case 4:k.Pub(L("YLfGCA"),"medium")}});const t=iV(({oa:A,Oe:B})=>gV(OWs,{toe:n(l.toe),XCk:q.get(),oa:A,Oe:B})),u=pV(()=>{const A=e.Nzh,B=e.Pzh;if(p.VTc==="view"&&B)return B;if(p.VTc==="comment"&&
A)return A}),w=pV(()=>{const A=u.get();if(A)return A;if(l.toe)return t}),x=iV(({xG:A,open:B,...D})=>{const G=n(p.VTc),I=w.get();lV(()=>{r()},[]);return gV(KWs,{...D,Button:I?A:void 0,active:B,Uf:a,VTc:G,Gs:"comfortable"})}),y=iV(({xG:A,open:B,...D})=>{const G=n(p.VTc);return gV(KWs,{...D,Button:A,active:B,Uf:a,VTc:G,Gs:"compact"})}),z=iV(({oa:A,Oe:B})=>{const D=n(w.get());return gV(D,{oa:A,Oe:B})});b.Tu(()=>({na:w.get(),eXo:u.get(),VTc:p.VTc}),({header:A},{na:B,eXo:D,VTc:G})=>{G==null||h&&(G==="view"||
G==="comment")?(A.L7f=void 0,A.Ozh=void 0):G==="playground"?A.L7f={Button:MWs}:(A.L7f={Button:x,na:B?z:void 0},D&&(A.Ozh={Button:y,na:z}))},{equals:oV.shallow});return{jrg:m}};
hC.Hdr=function(a){const b=a.ih,c=new IWs(a.Fi,a.vc,a.session,a.Pa,a.viewport,a.selection);b===null||b===void 0||b.kc(()=>{a:{const e=c.Fi.Ikc();if(e&&e.type!==2){var d=XCs(c,e.Gq);if(d==null||!c.vc||!Zl(c.vc,d)){d=!e.fill.image.ref&&!e.fill.video.ref||e.type===1&&e.Gq.type==="rect-element"?void 0:e;break a}}d=void 0}return d},(d,e)=>{if(e){var f=e.fill;f=!(f===null||f===void 0||!f.image.ref);var g=e.type===0?f?L("H1K9KQ"):L("1K2IFQ"):f?L("q5+BLg"):L("gkGP9w"),h=()=>{c.yzm(e)};d.Mbf={Button:k=>gV(k.hl,
{Icon:__c.pB,label:g,onClick:h,oa:k.oa})}}else d.Mbf=void 0})};hC.Kbn=function(a){const b=a.selection;var c=a.Ma;const d=a.Cd;var e=a.S_a,f=a.Ja;let g,h;const k=Qb("920e6751",!1);c=new $Ws(c,b,k,e);a=new WWs(c,a.Xa);f==="responsive"?(h=a,g=c):(f=new ZWs(b,k,e),e=new aXs(b,f,c,e),f=new VWs(f),h=new XWs(b,f,a),g=e);d.plugins.Xhc=()=>({Qd:()=>!!g.direction,Button:iV(({xi:l})=>{const m=n(g.direction);return gV(l,{icon:m.value==="rtl"?TWs:RWs,yh:"icon",onClick:h.W9d,tooltip:bXs[m.selection]})})})};
hC.Kdr=function({canvas:a,gb:b,selection:c,UR:d,GG:e,MPe:f,Zo:g,pca:h}){var k;const l=CV.box(!1);var m=jV(q=>{l.set(q.altKey);q.key==="Alt"&&q.type==="keyup"&&q.preventDefault()});window.document.addEventListener("keydown",m);window.document.addEventListener("keyup",m);window.addEventListener("blur",jV(()=>l.set(!1)));m=pV(()=>l.get()&&(!e.isDragging()||!!e.Dvb)&&!__c.$xf(f)&&!g.controls.isDragging());const p=new gXs(b,c,e,m,d);a.kc(q=>q===40,(q,r)=>{q.yg.Obf=r?t=>gV(fXs,{...t,gb:b,L:p}):void 0});
a=()=>!!p.lines.length;sy(g.controls,a);(k=h.vE)===null||k===void 0||k.XQ(a);d.AJe(a)};
hC.Mbn=function(a){const b=a.selection,c=a.Ja,d=a.Cd,e=a.gwb,f=a.qvd,g=a.Pa,h=a.we,k=a.Yf,l=a.ka,m=a.N;let p=new lXs(e,f,g,m,a.Ma,b);if(c!=="responsive"){const r=new kXs(e,f,g,m,a.selection);p=new mXs(b,r,p);h===null||h===void 0||h.Am(()=>!!r.X4c,{type:"simple",key:"flip-vertical",name:L("d1wsgA"),Icon:__c.a9g,execute:jV(async()=>{const t=r.X4c;t&&r.v0d(t)})});h===null||h===void 0||h.Am(()=>!!r.X4c,{type:"simple",key:"flip-horizontal",name:L("+k16yw"),Icon:__c.Z8g,execute:jV(async()=>{const t=r.X4c;
t&&r.u0d(t)})})}const q=iV(r=>{const t=r.wh;r=r.Oe;const u=jV(()=>p.u0d(t)),w=jV(()=>p.v0d(t));return gV(iXs,{pWr:u,qWr:w,Oe:r,UWg:k&&l.layout===2?"horizontal":"vertical"})});d.plugins.XEb=()=>({Qd:()=>!!p.X4c,Button:JV(r=>{var t;return gV(hXs,{...r,onClick:()=>{r.open||p.hsc("flip",n(p.X4c));r.onClick&&r.onClick()},Qj:(t=a.$f)===null||t===void 0?void 0:t.Fdj})}),Su:{sg:()=>L("09kiuA")},na:r=>gV(q,{...r,wh:n(p.X4c)})})};
hC.fer=function({document:a,Gb:b,viewport:c,PH:d,selection:e,Zo:f,Hr:g,Gbb:h,$X:k,re:l,jc:m,ka:p,ih:q,toolbar:r,Cd:t,kba:u,mh:w,Wj:x,Ga:y,V:z,HM:A,Lk:B,Yf:D}){var G;y=y.Ud("editor.editing.flowcharts");const I=__c.dc();var K=I===null||I===void 0?void 0:I.getItem("flowcharts.show_connect_handles");K=K!=null?K==="true"?!0:!1:void 0;const M=__c.ms.create({...__c.Ls,dimensions:a.dimensions,doctype:a.doctype}),N=new __c.grb(M);x.kc(Z=>Z===40?Q.Swd:void 0,(Z,da)=>{Z.yg.gcf=da?iV(la=>{var ka;return la.page.page!==
c.Zg.page||Q.mUi?null:nV(xV,{children:[gV(rXs,{PH:d,nB:A,Pc:la.Pc,re:N,Swd:da}),gV(__c.Axf,{...la,target:(ka=Q.connectTarget)===null||ka===void 0?void 0:ka.target})]})}):void 0});(G=r.vE)===null||G===void 0||G.XQ(()=>Q.Djh);const Q=new zXs(a,c,e,m,p,K,M),R=new yXs(Q,a,b,c,e,g,h,k,l,m,w,x,y,z,B,N);I&&hV(()=>Q.rfd,Z=>Z!=null&&I.setItem("flowcharts.show_connect_handles",Z.toString()));const W=()=>{if(Q.qfd)return{top:oXs,bottom:oXs,left:oXs,right:oXs}};f.kc(Z=>{Z.shape.NAa=W});f.Tu(()=>{if(Q.qfd&&e.La&&
e.La.type==="elements"&&e.La.Od&&e.La.Od.type==="shape")return{element:e.La.Od,Gh:e.La.container}},(Z,da)=>{if(da){const la=qDs({zjr:!jk(da.element),onClick:ka=>R.aEn(da.element,da.Gh,ka),onMouseEnter:p.layout===1?ka=>R.eEn(da.element,da.Gh,ka):void 0,onMouseLeave:p.layout===1?R.fEn:void 0,onDragStart:(ka,pa)=>R.dEn(da.element,da.Gh,ka,pa),pe:(ka,pa)=>R.cEn(da.element,da.Gh,ka,pa),onDragEnd:(ka,pa)=>R.bEn(da.element,da.Gh,ka,pa)});Z.shape.RPd=()=>gV(pXs,{wXo:la})}else zDs(R),Z.shape.RPd=void 0});
f.controls.BJe(()=>Q.isDragging);q.kc(()=>Q.YNh,(Z,da)=>{Z.n4b=da?{Button:iV(la=>gV(la.hl,{Icon:__c.K$p,label:Q.qfd?L("muYbPQ"):L("E2C8sA"),onClick:R.SIn,oa:la.oa}))}:void 0});if(D)t.plugins.n4b=()=>({Qd:()=>Q.YNh,Button:iV(({xi:Z,onClick:da,...la})=>{const ka=kV(()=>{da&&da();R.UIn()},[da]);return gV(Z,{...la,onClick:ka,selected:Q.qfd,icon:__c.K$p,yh:"icon",children:Q.qfd?L("muYbPQ"):L("E2C8sA")})})});else{var X;const Z={Button:da=>gV(da.xi,{selected:!0,tooltip:L("muYbPQ"),yh:"icon",icon:__c.K$p,
onClick:R.TIn})};u?u.n4b=()=>({Qd:()=>Q.qfd,...Z}):(X=r.vE)===null||X===void 0||X.kc(()=>Q.qfd,(da,la)=>{da.n4b=la?()=>Z:void 0})}};
hC.rer=function({VXa:a,keyboardShortcuts:b,selection:c,jc:d,toolbar:e,Cd:f,kba:g,ih:h,we:k,V:l,Ga:m}){var p,q;m=m.Ud("editor.editing.group");const r=new CXs(c,a,d),t=new BXs(r,c,m,l);b.register([DXs,B=>{t.VHg("keyboard_shortcut");B.preventDefault()},L("4WCqzw"),["edit"]]);b.register([EXs,B=>{t.rth("keyboard_shortcut");B.preventDefault()},L("TBBSXA"),["edit"]]);const u=()=>t.VHg("toolbar"),w=()=>t.rth("toolbar"),x={Button:B=>gV(FXs,{...B,onClick:u})};f.plugins.wLa=()=>({Qd:()=>r.$Td,...x});g?g.wLa=
()=>({Qd:()=>r.$Td,...x}):(p=e.vE)===null||p===void 0||p.kc(()=>r.$Td,(B,D)=>{B.wLa=D?()=>x:void 0});const y={Button:iV(B=>gV(GXs,{...B,onClick:w}))};f.plugins.DLa=()=>({Qd:()=>r.gUd,...y});g?g.DLa=()=>({Qd:()=>r.gUd,...y}):(q=e.vE)===null||q===void 0||q.kc(()=>r.gUd,(B,D)=>{B.DLa=D?()=>y:void 0});const z=()=>t.VHg("contextual_menu"),A=()=>t.rth("contextual_menu");h.kc(()=>r.$Td,(B,D)=>{B.wLa=D?{Button:G=>gV(HXs,{...G,onClick:z})}:void 0});h.kc(()=>r.gUd,(B,D)=>{B.DLa=D?{Button:G=>gV(IXs,{...G,onClick:A})}:
void 0});k===null||k===void 0||k.Am(()=>r.$Td,{type:"simple",key:"group",name:L("bUJF+g"),jm:DXs,Icon:mIp,execute:async()=>{t.VHg("quick_actions")}});k===null||k===void 0||k.Am(()=>r.gUd,{type:"simple",key:"ungroup",name:L("BK2j6g"),jm:EXs,Icon:__c.HB,execute:async()=>{t.rth("quick_actions")}})};
hC.ser=function({Ma:a,canvas:b,viewport:c,selection:d,session:{document:e,undo:f},ka:g,header:h,ih:k,Df:l,Kda:m,keyboardShortcuts:p,V:q,Llh:r,p9:t,o9:u,la:w,Ti:x}){var y;const z=new JYs(a,c,e,d,u,g,m===null||m===void 0?void 0:(y=m.initialSettings)===null||y===void 0?void 0:y.uKd);m===null||m===void 0||__c.bXa(m,()=>z.enabled,(N,Q)=>N.j1b({uKd:Q}));const A=new IYs(b,c,e,f,z,q,x,w,t);b.kc(()=>z.gim,(N,Q)=>{N.iMa.X3b=Q?K:void 0;N.yg.X3b=Q?M:void 0});const {xdp:B,zZq:D,navigation:G,cHi:I}=eEs({viewport:c,
document:e,header:h,ka:g,Df:l,V:q,la:w,plk:z,ZHg:A});a={Button:iV(N=>{const Q=kV(()=>{var R;(R=N.onClick)===null||R===void 0||R.call(N);G.dh({ff:B,options:D()})},[N]);return gV(LXs,{...N,onClick:Q,Oe:g.layout===2?"fill":"fixed"})}),navigation:G,onClose:G.clear};KYs(h,p,A,z,a);LYs(k,A,z);MYs(r,e,z);const K=()=>gV(aYs,{store:z,L:A}),M=iV(({page:N,Pc:Q})=>{const R=I===null||I===void 0?void 0:I.get();return R?gV(cYs,{L:A,canvas:b,page:N.page,viewport:c,Jx:R}):gV(bYs,{canvas:b,store:z,page:N.page,viewport:c,
L:A,scale:Q.scale})});return{X9b:new JXs(z,A)}};hC.Qbn=function({canvas:a,toolbar:b,Xa:c,ka:d}){const e=jV(()=>{const f=d.layout===2;b.g3&&f&&b.k8()});a.kc(f=>f>=30,(f,g)=>{a.xn.$Pd=g?iV(()=>c.U5a?gV(oEs,{onClick:e}):null):void 0})};
hC.Rbn=function(a){var b,c;const d=a.session;var e=a.Mrc;const f=a.V;var g=a.Yl;const h=a.I_h;var k=a.mh;const l=a.toolbar,m=a.Cd;var p=a.ih,q=a.selection;const r=a.Ma,t=a.gd,u=a.canvas;var w=a.Ht;const x=a.Zo,y=a.pqf,z=a.Mra,A=a.w0b,B=a.viewport,D=a.Xa,G=a.Kn,I=a.isDragging,K=a.Ja!=="responsive"?a.uZd:!1,M=new aZs(q),N=new eZs(q,t,u.xn);ZEs(N,y,D,A,q,g,t);g=a.Ja!=="responsive"?a.Mrc.element:void 0;const Q=e.item;({zqr:e}=rEs({Ja:a.Ja,ih:p,gd:t,NNe:N,uug:M,cxa:Q,vzb:K?g:void 0,Kn:G,Xa:D,Ma:r}));p=
new hZs(t,u.xn);w.L6d.Y9h=p.Y9h;w.L6d.Dfk=p.Dfk;w.L6d.mai=p.mai;const R=new nZs(q,N,t,x,I);w=NEs(d.undo,B,k,z,R);QEs({selection:q,Zo:x,oOe:R,gd:t});({jfj:q}=TEs(d.undo,D,k,f,R));const {Irq:W,HEf:X,Ycj:Z,cBh:da}=GEs({...(a.Ja!=="responsive"?{Ja:["fixed","responsive"],uug:M,vzb:a.Mrc.element,uZd:K}:{Ja:"responsive"}),NNe:N,cxa:Q,ptr:R,mh:k,Xa:D,viewport:B,gd:t,Z$b:I}),la=new gZs(N,t,B);k=vEs({gd:t,NNe:N,cxa:Q,LA:la,oOe:R,HEf:X,Kn:G,Z$b:I});zEs({...(K&&a.Ja!=="responsive"&&Z?{Ja:["fixed","responsive"],
viewport:a.viewport,uug:M,Ycj:Z}:{Ja:"responsive"}),canvas:u,NNe:N,gd:t,Ggp:w,Hqr:R,jfj:q,cBh:da,HEf:X,Dgp:k});YEs({Cd:m,Nr:__c.ZMe(d.undo),V:f,Llf:e,yI:N});Qb("7f91870e",!1)&&__webpack_require__.me(455054).then(()=>__c.h8s).then(jV(({Fer:ka})=>{ka({Cd:m,yI:N})}));(b=l.vE)===null||b===void 0||b.EKi(()=>la.Hmg);(c=l.vE)===null||c===void 0||c.XQ(()=>{var ka;return R.JSa||X.OXb||((ka=W===null||W===void 0?void 0:W.OXb)!==null&&ka!==void 0?ka:!1)});if(a.Ja!=="responsive"&&K){const ka=a.Mrc.element;a.kY.Fln=
{deleteRows:ka.deleteRows,deleteColumns:ka.deleteColumns,vqg:ka.vqg};h.zln={gFn:(pa,ja)=>ka.cEm(M.selected.rFf,pa,ja),Bhm:()=>M.selected.rFf==="row"||M.selected.rFf==="column"}}h.gVr=(ka,pa,ja)=>cqs(Q,ka,G,pa,ja);h.$Rp=(ka,pa)=>__c.kjf(Q,ka,pa);if(a.Ja!=="responsive"){const ka=a.Mrc.element;a.canvas.dda.bQd=iV(ia=>gV(__c.TIb,{...ia,o6:a.zt,AZl:pa}));let pa;class ja extends(b=LV){render(){return gV(__c.SIb,{...this.props,HXa:this.FA.Aq,o6:a.zt})}constructor(...ia){super(...ia);this.mYr=ba=>{var ca;
if(!(ba.ctrlKey||ba.altKey||ba.metaKey||ba.shiftKey)){ba=this.props.page;var qa=this.props.container,ra=this.props.ZF,sa=this.props.rb,wa=((ca=x.bhb)===null||ca===void 0?0:ca.O8)?"multi":"single";ka.Cwi(ba.ha,__c.tsa(qa,ra,sa),wa)}};this.FA=new __c.fd([new __c.Wtf({onSelect:this.mYr})])}}({c:[pa,b]}=PV(ja,[],[Ob],b));b()}};hC.Vbn=function(a){const {DJ:b}=mGs(a);bFs(a);return{DJ:b}};
hC.Rer=function({document:a,vc:b,Ma:c,selection:d,jc:e,ka:f,V:g,Ga:h,toolbar:k,Cd:l,kba:m,ih:p,keyboardShortcuts:q,we:r,pXa:t,Yf:u}){h=h.Ud("editor.editing.locking_ui");const w=new f_s,x=new g_s(w,a,c,d,e,b,g,h,t),y=Yo(Xo("l"));q.register([y,()=>x.ynf("keyboard_shortcut"),L("7Dt6hg"),["edit"]]);const z={Button:D=>{const G=D.onClick,I=kV(()=>{G&&G();x.ynf("toolbar")},[G]);return gV(q_s,{...D,onClick:I,L:x})}};if(!u){var A;m?m.Lock=()=>({Qd:()=>x.Evl,...z}):(A=k.vE)===null||A===void 0||A.kc(()=>x.Evl,
(D,G)=>{D.Lock=G?()=>z:void 0});l.plugins.Lock=()=>({Qd:()=>x.XOb&&f.layout===1,...z})}u&&(nGs(x),l.plugins.Lock=()=>({Qd:()=>x.XOb,...z}),l.plugins.fRb=()=>({Qd:()=>x.XOb&&w.ali,...z}),l.plugins.Xic=()=>({Qd:()=>x.xso,...z}));const B=()=>x.ynf("context_menu");p.kc(()=>({sQl:f.layout===2,XOb:x.XOb&&(f.layout!==2||!t),p5q:x.iWe&&!x.Ot}),(D,{sQl:G,XOb:I,p5q:K})=>{D.Lock=I?{Button:M=>gV(v_s,{...M,onClick:K?void 0:B,L:x,jm:y,sQl:G})}:void 0},{equals:oV.structural});r===null||r===void 0||r.Am(()=>!x.Ot&&
x.XOb,{type:"simple",key:"set-lock",name:L("7Dt6hg"),jm:y,Icon:ey,execute:async()=>x.iVk("quick_actions")});r===null||r===void 0||r.Am(()=>x.iWe&&!x.Ot&&x.XOb,{type:"simple",key:"set-partial-lock",name:L("ou4BGA"),jm:y,Icon:zcr,execute:async()=>x.ynf("quick_actions")});r===null||r===void 0||r.Am(()=>x.Uqc&&x.XOb,{type:"simple",key:"set-unlock",name:L("X5CkxQ"),jm:y,Icon:pKh,execute:async()=>x.H_k("quick_actions")});r===null||r===void 0||r.Am(()=>x.Xgn&&x.XOb,{type:"simple",key:"set-partial-unlock",
name:L("416rFw"),jm:y,Icon:pKh,execute:async()=>x.H_k("quick_actions")});t&&p.kc(()=>({XOb:x.XOb&&!x.Ot,ONs:x.XOb&&x.iWe&&!x.Ot}),(D,{XOb:G,ONs:I})=>{D.x8f=G?{Button:K=>gV(w_s,{...K,L:x})}:void 0;D.x9f=I?{Button:K=>gV(x_s,{...K,L:x,jm:y})}:void 0})};
hC.lfr=function({document:a,Wj:b,viewport:c,toolbar:d,Cd:e,selection:f,ka:g,Ep:h,oc:k,Vsc:l,we:m,Qe:p,V:q,je:r,gb:t,Yf:u}){const w=new __c.Nyf(q),x=new F_s(g),y=new E_s(x,a,c,f,t,h,k,l,w,d),z=[{value:"${pageNumberOnly}",label:L("v/osVw"),description:L("9rPF5w")},{value:"${pageNumber}",label:L("8Cdj8w"),description:L("KhZwaQ")},{value:"${pageNumberOfTotal}",label:L("tVBkBA"),description:L("w/RsHA")}],A=()=>Vps(w,"page_numbers_format"),B=iV(()=>gV(__c.Fz,{value:y.Cbs,options:z,Ch:A,onChange:l.BKo,stretch:!0,
className:"WvDsqA"})),D=rGs({document:a,viewport:c,je:r}),G=iV(()=>gV(D,{pages:y.Bm,uk:y.Cg,onChange:y.MCn,fTk:()=>Vps(w,"page_numbers_shown")})),I=()=>gV(C_s,{onClick:y.F$l}),K=()=>gV(B_s,{q9o:B,Nq:G,Ktp:I,Yf:u}),M=()=>gV(D_s,{onClick:y.aym});m===null||m===void 0||m.Am(()=>uqs(c.ya,t),{type:"simple",key:"page-numbers",name:L("3WjEsQ"),Icon:z_s,execute:async()=>{var Q;p===null||p===void 0||p.KJ({});(Q=k.tYc)===null||Q===void 0||Q.call(k,void 0,{Oul:!0});p===null||p===void 0||p.close({trigger:"shortcut"})}});
const N={Qd:()=>y.Rbb,Button:iV(Q=>{const R=Q.xi,W=Q.onClick,X=Q.open,Z=kV(()=>{W&&W();!X&&w.YMd("toolbar")},[W,X]);return gV(R,{...Q,yh:"icon-and-label",pressed:X,icon:__c.ky,onClick:Z,children:L("Ql1UUg")})}),Su:{sg:()=>L("3WjEsQ")},na:()=>gV(A_s,{Uaj:K,qb:M}),onClose:y.QV};hV(()=>y.Rbb,Q=>{!Q&&x.Vae?(d.VX(x.Vae),x.Vae=void 0):x.Vae=N});e.plugins.jza=()=>N;b.qEa.jza={onDoubleClick(Q,R){lw(R.element.ha)&&y.Mtn("double_click")}};hV(()=>{var Q;return!!x.wFe&&(((Q=f.La)===null||Q===void 0?void 0:Q.type)!==
"pages"||f.La.Od!==x.wFe)},()=>y.QV());Wps(l,()=>{setTimeout(y.nIn)})};
hC.acn=function({Ja:a,ka:b,Ma:c,OAb:d,k$:e,Wd:f,pn:g,Xa:h,xKa:k,RPb:l,V:m,gd:p,viewport:q,Hb:r}){const t=new I_s(m),u=new __c.q8d,w=pV(()=>{if(a==="responsive")return!0;const B=q.jh&&!q.wQ,D=q.ya.type==="responsive";return!(d===null||d===void 0?0:d.isActive)&&!B&&D}),x=iV(()=>{const B=kV(G=>{A.focusNode(G);t.V.track(H_s,{})},[]),D=kV(()=>{const G=q.ya;h.focused||a==="responsive"||G.type!=="responsive"||h.Qu(G.text,Rw.end());l.bCc("heading");u.clear();f.k8()},[]);return gV(P_s,{nodes:z.nodes,layout:b.layout,
J1g:B,rLs:c.mode===40,rBn:D})}),y=()=>{u.dh({ff:x,options:{sg:()=>L("uJG1/Q"),I4k:"collapsed"}})};m={na:x,header:{title:L("uJG1/Q")}};const z=new U_s(b.layout,u,g,m),A=new T_s(z,g,h,k,p,q,t,m,r);e.I_a.install("outline",{Qd:()=>w.get(),Component:iV(({R0a:B})=>{B=gV(J_s,{R0a:B,active:z.f8d,onClick:A.DCo});const D=r.zoa.Pbf;return D?gV(D,{children:B}):B})});hV(()=>w.get(),B=>!B&&z.f8d&&A.Aue());f.Tu(()=>({layout:b.layout,U$r:w.get()}),({lL:B},{layout:D,U$r:G})=>{B&&(B.Wgj=D===2&&G?{navigation:u,onClose:()=>
{u.clear();t.close()},Button:iV(({nE:I,onClick:K})=>{const M=kV(()=>{K===null||K===void 0||K();y();t.open();A.ccl()},[K]);return gV(r.zoa.Pbf?r.zoa.Pbf:bMs,{children:gV(K_s,{nE:I,onClick:M})})})}:void 0)})};
hC.ufr=function({document:a,Ma:b,selection:c,toolbar:d,ih:e,Una:f,o_a:g,V:h,Ga:k,oc:l,OAb:m}){k=k.Ud("editor.editing.page_drafting");const p=new a0s(a,b,c,l,m,h,k);d.plugins.$Qb=()=>({Qd:()=>p.k3m,Button:iV(q=>{var r,t;return gV($_s,{...q,onClick:p.mMn,active:!!p.ENd,kpq:((r=p.gYd)===null||r===void 0?void 0:r.length)||0,V7s:((t=p.ENd)===null||t===void 0?void 0:t.length)||0})})});e.kc(()=>p.j3m,(q,r)=>{q.F8f=r?{Button:iV(t=>{var u;return gV(V_s,{...t,Lhb:((u=p.gYd)===null||u===void 0?void 0:u.length)||
0,onClick:p.kEn,disabled:!p.gYd})})}:void 0});e.kc(()=>p.F4m,(q,r)=>{q.D$f=r?{Button:iV(t=>{var u;return gV(W_s,{...t,Lhb:((u=p.ENd)===null||u===void 0?void 0:u.length)||0,onClick:p.lEn,disabled:!p.ENd})})}:void 0});e.kc(()=>p.Gok&&p.vbo,(q,r)=>{q.ncj=r?{Button:iV(t=>gV(Z_s,{...t,vo:r.ha.draft,onClick:()=>p.LYk(r),disabled:BGs(p,r)}))}:void 0});f.KPd=()=>({Qd:()=>p.O3m,yo:iV(q=>gV(X_s,{...q,onClick:p.hIn,disabled:AGs(p,q.Gh.page)}))});g.KPd=()=>({Qd:()=>p.Gok,Component:iV(q=>gV(Y_s,{...q,onClick:p.LYk,
disabled:BGs(p,q.Gh)}))})};
hC.wfr=({Ma:a,Ec:b,da:c,je:d,pLa:e,ya:f,selection:g,WV:h,gb:k,oc:l,l7b:m,vc:p,timing:q,Wj:r,k$:t,keyboardShortcuts:u,pca:w,Cd:x,ih:y,Wd:z,pn:A,L3g:B,pfa:D,Kvb:G,C6b:I,Ghc:K,V:M,Ga:N,ka:Q,$f:R,Lk:W,UE:X})=>{const Z=N.Ud("editor.editing.page_manager");if(c.Fh===1)return{OAb:void 0};const da=c.document,la=new T5s,ka=new K5s(M),pa=new b0s(M),ja=new U5s(la);let ia=!1;const ba=CV.box(!1);M=jV(async()=>{ia||ba.get()||(ba.set(!0),__webpack_require__.me(769518).then(()=>__c.i8s).then(({Nwr:sa})=>{uV(()=>{sa({config:la,
Wj:r,pfa:D,Ma:a,Ec:b,keyboardShortcuts:u,document:da,ih:y,da:c,je:d,pLa:e,ya:f,selection:g,WV:h,gb:k,oc:l,l7b:m,vc:p,pca:w,Cd:x,Wd:z,pn:A,L3g:B,Ghc:K,Kvb:G,C6b:I,P:Z,wbs:ka,mzc:pa,ka:Q,Lk:W,UE:X});ba.set(!1);ia=!0})}))});ja.Lho(M);M=jV(()=>{const sa=r.oq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.Sie();HGs(pa,{oq:"grid_view",Nuc:sa,kb:"keyboard_shortcut"})});u.register([bl(Yo("3")),M,L("XWps9g"),["edit"]]);const ca=pV(()=>Q.layout===2);z.Tu(()=>ca.get(),({lL:sa},wa)=>{sa&&(sa.qej=wa?{Button:iV(Aa=>
gV(O5s,{...Aa,onClick:()=>{Aa.onClick&&Aa.onClick();ja.Sie()},config:la,Wj:r,N:pa}))}:void 0)});const qa=jV(()=>{const sa=Z.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed"}}),wa=r.oq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.Sie();const Aa={oq:la.active?wa:"grid_view",Nuc:la.active?"grid_view":wa,kb:"icon_click"};sa.mb().nk(({Ii:Ba})=>{HGs(pa,{...Aa,Rb:Ba()})});sa.ne()}),ra=jV(()=>{if(!q.Ws){var sa=r.oq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.Sie();HGs(pa,{oq:"grid_view",
Nuc:sa,kb:"canvas_zoom_out"})}});uV(()=>{r.ZUe=sa=>{switch(sa.name){case "progress":var wa;ja.G6a(sa.progress);sa.progress!==1||W!==null&&W!==void 0&&(wa=W.rN)!==null&&wa!==void 0&&wa.call(W,new __c.Isd({style:3}));break;case "cancel":ja.G6a(0);break;case "confirm":ra();break;default:throw new v(sa);}}});t.I_a.install("page_manager",{Qd:()=>!0,Component:iV(({R0a:sa})=>gV(Q5s,{R0a:sa,config:la,$f:R,onClick:qa,loading:ba.get()}))});return{OAb:{gGj:()=>{la.active=!1},get isActive(){return la.active}}}};
hC.xfr=function({document:a,ki:b,Ec:c,viewport:d}){c.Wla&&lNs({document:a,ki:b,Vbb:c.Wla,viewport:d})};
hC.yfr=({da:a,Nxa:b,Qga:c,Dc:d,Pa:e,$b:f,timing:g,oc:h,l7b:k,A2c:l,zy:m,OAb:p,Ar:q,l1a:r,tsa:t,q_:u,VZ:w,cN:x,QT:y,K8b:z,eya:A,Ih:B,D4e:D,xS:G,gb:I,Wj:K,Nl:M,pfa:N,Cd:Q,toolbar:R,ih:W,keyboardShortcuts:X,k$:Z,Ghc:da,vc:la,WV:ka,Fi:pa,oqf:ja,zl:ia,GG:ba,ME:ca,Lbc:qa,Ma:ra,Ec:sa,viewport:wa,ka:Aa,qd:Ba,Vca:za,selection:Fa,Zo:Da,fPa:Oa,UR:Ja,je:Sa,bij:Ta,errorService:Za,Ga:Ra,V:Xa,p0:cb,sIa:mb,e3b:nb,la:ob,$f:sb,Fz:yb,Pma:gb,kra:xb,zCe:Bb,UE:zb,Mtd:Jb,hSc:Rb,iAa:Ab,UGa:Yb,Df:ic,C6b:Sc,Wd:Nc,bda:sc,Lk:jc,
Hv:Fb,mTb:gc,Ge:Hc,kh:vc})=>{var Ac;const Bc=a.document,Cc=Ra.Ud("editor.page_navigator"),ud=Cc.sb("page_navigator_install"),Ld=new l0s(Xa,cb),Dd=new b0s(Xa);E5s({Pw:h,Nxa:b,Ge:Hc,ka:Aa});const zc=new __c.B2s(Bc,a,wa,d,N,Aa,Sc.hHb,ra,Fa),Tc=new A2s(Bc,h,k,l,Ld,Cc,Fa,a.Fh,g,jc),{onContextMenu:Bd,G3b:Ad}=v0s({document:Bc,N:Ld,P:Cc,L:Tc,store:zc,config:b,ih:W,gb:I,UE:zb}),ge=new __c.Ok,Ue=iV(({connectDropTarget:ce,drag:Wd,...Gd})=>ce(gV("div",{children:gV(a2s,{document:Bc,store:zc,L:Tc,N:Ld,Ten:!!Wd,
jFa:Wd&&Wd.J3,vVa:sf.Bw.isLinear,...Gd})}))),Ke=lc(d,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers widget sheet".split(" "),(ce,{page:Wd})=>{De.WDm(ce,Wd)},Ue),Wc=new __c.sv,{xac:ld,Hda:qd}=nHs(pV(()=>zc.mi)),{pbb:de,Xo:rf,Jfg:Qf,PHl:Pe}=LHs({timing:g,oN:zc,P:Cc,N:Ld,Hda:qd,l1a:r,qd:Ba}),sf=aNs({xS:G,Qga:c,errorService:Za,V:Xa,Ga:Ra,w5g:Ld,sIa:mb,e3b:nb,xac:ld,Hda:qd,OAb:p,Ar:q,l1a:r,
tsa:t,q_:u,VZ:w,cN:x,QT:y,eya:A,K8b:z,D4e:D,zy:m,Xo:rf,pbb:de,Jfg:Qf,$P:Wc,Dc:d,gb:I,Pa:e,$b:f,timing:g,oc:h,zl:ia,ME:ca,Lbc:qa,Ma:ra,Ec:sa,keyboardShortcuts:X,la:ob,document:Bc,Wj:K,Nl:M,viewport:wa,qd:Ba,bij:Ta,Ckd:Ke,Vca:za,selection:Fa,Zo:Da,fPa:Oa,UR:Ja,Ho:ge,Nxa:b,oN:zc,crb:Tc,k$:Z,ka:Aa,Ghc:da,Df:ic,toolbar:R,Cd:Q,vc:la,ih:W,kra:xb,Ca:(Ac=a.doctype)===null||Ac===void 0?void 0:Ac.id,Fh:a.Fh,Pma:gb,$f:sb,Fz:yb,Lk:jc,bda:sc,onContextMenu:Bd,Wd:Nc,hSc:Rb,zCe:Bb,UE:zb,QAm:!Wb(),Hv:Fb,mTb:gc,kh:vc});
sf.uG.EMa(()=>b.wUj);if(sa.Wla&&c!=null){const {Zis:ce,Smp:Wd}=eNs({selection:Fa,Qga:c});sa.Wla.Hdf=Wd;sa.Wla.hCb=ce.hCb;sa.Wla.bkf=ce.bkf}g.wkl=ce=>{var Wd;(Wd=sf.wA)===null||Wd===void 0||Wd.seek(ce/1E6,"start");({behavior:Wd="smooth",CFp:Gd="start"}={behavior:"smooth",CFp:"start"});var Gd;ce=n(de.cVa).YIa(ce,{Egc:Gd==="end"});EHs(de,ce,Wd)};const se=J1s({L:Tc,Cgb:()=>sf.Bw.Cgb&&!(z===null||z===void 0?0:z.wOd.size),wA:sf.wA,T4e:sf.T4e,uG:sf.uG,store:zc,keyboardShortcuts:X,N:Ld,P:Cc});Drs(()=>zc.jN,
()=>{const ce=sf.Bw,Wd=sf.wA;hV(()=>ce.Cgb,Gd=>{Gd||Wd===null||Wd===void 0||Wd.p4k()})});sa.j6b&&(sa.j6b.lbd=()=>K.oq==="thumbnail"?qd.PFl:0);Yb.zSf({name:"page-navigator",aHb:()=>zc.kQs,Qyi:EV.TJm?zc.kho:void 0});const Qd=new J5s(wa,K,sb,ra,Dd,Cc);Z.I_a.install("view_mode",{Qd:()=>sa.yLa==null,Component:iV(({R0a:ce})=>gV(I5s,{R0a:ce,oq:K.oq,$f:sb,onClick:K.oq==="thumbnail"?Qd.nDn:Qd.CDn,onMouseDown:Qd.bMn,onMouseUp:Qd.cMn}))});const De=new z2s(Bc,wa,d,Tc,zc,a.undo,ka,pa,ia,ba,ja,B,I),{rI:he,cfa:oe}=
t0s({oN:zc,config:b,Df:ic,$P:Wc,Ia:Bc});T1s({$P:Wc,Nxa:b,crb:Tc,oN:zc});H5s({document:Bc,L:Tc,store:zc,Bw:sf.Bw,Cd:Q,selection:Fa,V:Xa,Wj:K,Ec:sa});const vd=Jb||yZs(Bc.pages.toArray()),te=I1s({viewport:wa,u1f:sf,je:Sa,BS:Sc.BS,ih:W,G3b:Ad,document:Bc,Ma:ra,L:Tc,store:zc,timing:g,vc:la,gb:I,zy:m,pfa:N,Xo:rf,Nxa:b,$f:sb,Lk:jc,onContextMenu:Bd,Wgg:G.GKm,jXa:G.jXa,Sxg:G.Sxg,u7e:G.u7e,Ynr:vd}),Tf=iV(({connectDropTarget:ce,...Wd})=>{var Gd;const He=!((Gd=Wd.drag)===null||Gd===void 0||!Gd.J3);lV(()=>{He||
De.pdd()},[He]);return ce(gV("div",{children:gV(te,{...Wd,xvl:He})}))}),Cd=lc(d,"searchMedia video template pageView generatedDesign audio searchShape line table chart appElement grid design embed file textParagraph textPlaceholder datasetFieldPlaceholder pageNumbers editingElements widget sheet layout".split(" "),(ce,{page:Wd})=>{De.Dqb(ce,Wd,!1)},Tf,{It:(ce,{page:Wd})=>{De.FZb(ce,Wd.page);if(De.canDrop(ce,Wd.ha))return sf.p1s(ce,Wd.page,{scrollLeft:rf.scrollLeft,left:rf.getBoundingClientRect().left})},
canDrop:(ce,{page:Wd})=>De.canDrop(ce,Wd.ha)}),Fg=iV(({connectDropTarget:ce,drag:Wd,...Gd})=>{var He,ie;const Ff=(ie=(He=sb.Zxh)===null||He===void 0?void 0:He.Wm)!==null&&ie!==void 0?ie:bMs;return ce(nV("div",{children:[sb.VBh&&gV(sb.VBh,{}),zb?gV(Ff,{children:gV(__c.h0s,{jFa:Wd===null||Wd===void 0?void 0:Wd.J3,Fo:zc.mi,floating:!1,pLa:b.pLa,...Gd})}):gV("div",{style:{width:Gd.dimensions.width},children:gV(Ff,{children:gV(f0s,{jFa:Wd===null||Wd===void 0?void 0:Wd.J3,floating:!1,Fo:zc.mi,...Gd})})})]}))}),
pe=lc(d,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers editingElements widget sheet".split(" "),ce=>{De.kGn(ce)},Fg,{canDrop:ce=>{var Wd=De;const Gd=Wd.document.pages.last();return Gd!=null&&Wd.canDrop(ce,Gd)}}),Zc=iV(()=>b.wUj&&gV(F5s,{})),Xc={Ia:Bc,config:b,Hda:qd,Ho:ge,Kzc:he,CTo:oe,gAc:Cd,W3b:pe,xvp:Zc,L:Tc,Gdt:Qd,u1f:{dVa:sf.dVa,oiu:sf.wA!==void 0,uG:sf.uG,Tlj:sf.Tlj,Cie:sf.Cie,
wdf:sf.wdf,g1i:sf.g1i,kEf:pV(()=>sf.Bw.kEf),lEf:pV(()=>sf.Bgc.E3c),iyk:pV(()=>sf.Bw.isLinear)},store:zc,Xo:rf,PHl:Pe,P:Cc,N:Ld,mzc:Dd,Qc:()=>{wHs(Tc,zc,wa);Qf.init()},di:()=>{var ce;(ce=Tc.yvm)===null||ce===void 0||ce.call(Tc);Qf.dispose()},$f:sb,zbs:se,QAm:!Wb()};hV(()=>({layout:Aa.layout,owl:K.oq==="thumbnail"&&!sa.yLa}),({layout:ce,owl:Wd})=>{if(Wd){var Gd=0;Wd=Ab===null||Ab===void 0?void 0:Ab.draft.ibd;var He=Ab===null||Ab===void 0?void 0:Ab.draft.IK.thumbnail.images;He&&Wd&&zc.hC===Wd.length&&
(Gd=Wd.reduce((ie,Ff)=>He.find(Ye=>Ye.hFd===Ff)?++ie:ie,0));switch(ce){case 2:sa.E2=void 0;Q.E2=S1s(ie=>Ld.jEo({Rb:ie,KCm:R1s(zc,Bc),jvi:Gd}),Cc,()=>gV(x2s,{...Xc,zkq:!0}));break;case 1:Q.E2=void 0;sa.E2=S1s(ie=>Ld.jEo({Rb:ie,KCm:R1s(zc,Bc),jvi:Gd}),Cc,()=>gV(x2s,{...Xc,zkq:!1}));break;default:throw new v(ce);}}else sa.E2=void 0,Q.E2=void 0;ud.end()},{fireImmediately:!0,equals:oV.shallow});const Sd=If(Bc);hV(()=>K.oq,(ce,Wd)=>{var Gd,He;Wd==="scroll"&&ce==="thumbnail"&&((He=Fa.state)===null||He===
void 0?void 0:(Gd=He.$z)===null||Gd===void 0?void 0:Gd.ha)!==wa.ya&&Fa.GU(Sd,wa.ya)});setTimeout(()=>{zc.od=!0});return{Abs:Wc}};
hC.Tfr=function(a){const b=a.ka,c=a.session.document,d=a.sc,e=a.viewport,f=a.gb,g=a.mh,h=a.Ga,k=new X5s,l=new Y5s(k,c,a.Gb,a.selection,a.TNb,a.uka,a.ME,a.H1c),m=pV(()=>a.qa.status===2),p=a.X,q=a.ja;a.ih.kc(()=>{{var u;const x=l.config.Lce,y=l.selection.La;var w=x&&(y===null||y===void 0?void 0:y.type)==="elements"&&((u=y.inner)===null||u===void 0?void 0:u.type)!=="table"&&(y.elements.length>1||nNs(y.elements[0]))?{selection:y,Lce:x}:void 0}return w},(u,w)=>{u.zXc=w?{Button:iV(x=>{const y=kV(()=>{h.Ud("editor.editing.publishing").sb("editor.publish.click_download_selection",
{Fb:{name:"editor.publish.click_download_selection",attrs:new Map([["location","contextualMenu"]])}}).ne();!p&&q?__c.Tl(a.ue,__c.Ul.G0a,"download_selection",{Ldd:"pageview"}):l.Lce(w)},[]);return gV(x.hl,{label:L("xW6dpg"),Icon:__c.DD,onClick:y,oa:x.oa,disabled:m.get()})})}:void 0});a.canvas.kc(()=>{var u,w;return b.layout===1&&!!((w=a.session.doctype)===null||w===void 0?0:(u=w.Rc)===null||u===void 0?0:u.pZd)},(u,w)=>{u.yg.Gej=w?x=>gV(W5s,{...x,sc:d,gb:f}):void 0});const r=new $5s(k,e),t=new a6s(r,
k,e);a.canvas.kc(()=>t.CAo,(u,w)=>{u.yg.cag=w?iV(({Pc:x})=>{const y=kV(()=>t.R1m(w.W$d),[]),z=kV(()=>t.n2m(w.W$d),[]);return gV(qNs,{region:r.region,dcs:x.scale,Ql:w.Ql,s2g:t.T1m,r2g:t.S1m,q2g:y,m5r:t.p2m,l5r:t.o2m,k5r:z,mh:g})}):void 0});return{H$k:k}};
hC.Yfr=function({document:a,Nxa:b,Ge:c,cug:d,selection:e,Qga:f,Dwj:g,HX:h,oc:k,timing:l,qd:m,runtime:p,ea:{errorService:q,DY:r,Br:t,V:u},Wj:w,X:x,gb:y}){b!=null&&b6s&&h!=null&&f!=null&&x!=null&&(g=g.filter(z=>window.MediaRecorder!=null&&window.MediaRecorder.isTypeSupported(z)),a=uNs({document:a,Nxa:b,Ge:c,selection:e,Dwj:g,HX:h,oc:k,Qga:f,timing:l,qd:m,runtime:p,errorService:q,DY:r,Wj:w,Br:t,X:x,V:u,gb:y}),Ups(d,a.K4a))};
hC.hgr=function({canvas:a,viewport:b,Ho:c,document:d,Ti:e,ka:f,keyboardShortcuts:g,V:h,Wd:k,X9b:l,selection:m,Ma:p}){if(l){var q=new p6s(a,b,d,p,m,l,f,e,c6s),r=new o6s(q,a,b,d,l,e,h,d6s),t=pV(()=>q.CQ),u=pV(()=>q.DMg),w=pV(()=>q.Gfh),x=I=>r.PFg(I),y=(I,K,M)=>r.getPosition(I,K,M),z=I=>iV(()=>gV(n6s,{direction:I,Gfh:w,CQ:t,DMg:u,PFg:x,RFg:y}));e=I=>{const K=z(I);return iV(({w1:M})=>gV(k6s,{direction:I,document:d,L:r,viewport:b,Ho:c,canDrag:q.b_c,w1:M,X9b:l,vqp:q.cso?K:void 0}))};var A=e("vertical"),
B=e("horizontal");a.kc(()=>q.enabled&&q.xul,(I,K)=>{I.iMa.uld=K?A:void 0;I.iMa.rkd=K?B:void 0});var D=()=>yNs(r,"file_menu");a=jV(()=>yNs(r,"keyboard_shortcut"));var G=Xo("r");g.register([G,a,L("P76q1Q"),["edit","view","comment"]]);k.Tu(()=>q.xul,({lL:I},K)=>{I&&(I.jkj=K?{Button:iV(M=>gV(q6s,{...M,onClick:D,jm:G,isEnabled:q.enabled}))}:void 0)})}};
hC.ocn=function(a){const b=a.Ma,c=a.ih;var d=a.yno;const e=d.Wc,f=d.MOb;d=d.Vi;const {Bti:g}=aOs({...a,Vi:d}),{Cvn:h}=WNs({...a,Vi:d});e&&d&&f&&vOs({...a,Wc:e,MOb:f,Vi:d});TNs({...a,Vi:d});const k=new v6s(g,h);c.kc(()=>b.mode===40&&k.nro,(l,m)=>{l.mgj=m?{Button:iV(p=>gV(p.hl,{...p,Icon:__c.hv,label:L("TuY+Qw")}))}:void 0})};
hC.pcn=function(a){function b({eAd:la,source:ka}){la===null||la===void 0||la.preventDefault();uV(()=>{switch(m.layout){case 2:break;case 1:e.EAc!=null&&Object.values(R).includes(e.EAc)?e.EAc=void 0:e.EAc=R[ka];break;default:throw new v(m.layout);}})}const c=a.Wd,d=a.Ma,e=a.Ec,f=a.viewport,g=a.keyboardShortcuts,h=a.E9a,k=a.kya,l=a.we,m=a.ka;var p=a.V,q=a.errorService,r=a.la,t=a.locale,u=a.Ti;const w=a.Ga.Ud("editor.editing.richtext.finding_and_replacing"),x=q.vf("text_finding_and_replacing"),y=new A6s;
p=new z6s({N:p});let z;q=()=>{};if(a.Ja!=="responsive"){const la=a.canvas;q=a.session;var A=q.document,B=q.undo;const ka=a.selection;q=a.jc;const pa=a.rf,ja=a.gb,ia=a.re,ba=a.Wc,ca=ba&&new E6s({...a,Wc:ba}),qa=c7s.create({store:y,Ma:d,document:A,Xa:a.Xa,gW:a.gW,wqi:ba&&new G6s({...a,Wc:ba}),viewport:f,qy:p,P:w,gd:a.gd}),ra=N6s.create({store:y,document:A,Ma:d,selection:ka,jc:q,viewport:f,re:ia,Ti:u,rf:pa,gb:ja,qy:p,P:w,uIk:ca,fec:qa});z=ra;JPs({store:y,canvas:la,viewport:f,DNq:ra,fec:qa});q=(()=>{let wa=
()=>tPs({canvas:la,$ba:sa,store:y,L:ra,viewport:f,qkh:K,errorService:x});return()=>{wa!=null&&(ka.deselectAll(),wa(),wa=void 0)}})();const sa=a.$ba;r=vPs.create({store:y,o2b:ra,document:A,vc:a.vc,undo:B,Wc:ba,errorService:x,qy:p,P:w,Zc:a.Zc,Pi:a.Pi,la:r,fec:qa})}else u=a.session,A=a.canvas,B=a.Wc,a=c7s.create({store:y,Ma:d,document:u.document,Xa:a.Xa,gW:a.gW,wqi:B&&new G6s({...a,Wc:B}),viewport:f,qy:p,P:w,gd:a.gd}),JPs({store:y,canvas:A,viewport:f,fec:a}),z=a,r=zPs({store:y,o2b:a,document:u.document,
undo:u.undo,errorService:x,qy:p,P:w,la:r,Wc:B});if(z!=null){if(r!=null){t=RPs({store:y,L:r,locale:t,ka:m});var D=t.Pij;var G=t.Rfj}var {Form:I,qkh:K}=MPs({store:y,L:z,dCr:new B6s(y,z),errorService:x,Qc:q,Pij:D,Rfj:G}),M=(la,ka)=>{y.isMounted&&(la.preventDefault(),ka?z.Z$j():z.V$j())},N=[[bl("f"),la=>b({eAd:la,source:"keyboard-shortcut"})],[bl(Xo("g")),la=>M(la,!0)],[bl("g"),la=>M(la,!1)]],Q=iV(({source:la})=>{const ka=kV(()=>b({eAd:void 0,source:la}),[la]);return gV(__c.Gp,{map:N,rr:!0,children:gV("div",
{className:"J_K8Hw",children:gV(I,{mode:"canvas-overlay",onClose:ka,source:la})})})}),R={"file-menu":JV(()=>gV(Q,{source:"file-menu"})),"keyboard-shortcut":JV(()=>gV(Q,{source:"keyboard-shortcut"})),"quick-actions":JV(()=>gV(Q,{source:"quick-actions"}))},W=bl("f");uV(()=>{g.register([W,la=>b({eAd:la,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]]);h===null||h===void 0||h.register([W,la=>b({eAd:la,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]]);
k.register([W,la=>b({eAd:la,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]])});var X=new __c.q8d,Z={ff:iV(({oa:la})=>gV(I,{onClose:la,mode:"sheet",source:"file-menu"})),options:{sg:iV(()=>gV(xV,{children:z.alh?L("TP6Mzw"):L("+MHgZQ")})),Twc:!1}},da;c.Tu(()=>({mode:d.mode,layout:m.layout}),({lL:la})=>{if(la){const ka=m.layout===1;da={Button:iV(pa=>{const ja=pa.onClick,ia=pa.oa,ba=kV(()=>{ka?b({eAd:void 0,source:"file-menu"}):(ja===null||ja===void 0||ja(),X.dh(Z),ia===
null||ia===void 0||ia())},[ja,ia]);return gV($6s,{...pa,onClick:ba,oa:ia,label:d.mode===40?L("PV2q7g"):L("mQjTGw"),jm:ka?W:void 0})}),navigation:ka?void 0:X};la.EAc=da}});l===null||l===void 0||l.install({type:"simple",key:"text-find-and-replace",jm:bl("f"),name:L("PV2q7g"),Icon:x6s,execute:async()=>{m.layout===1?b({eAd:void 0,source:"quick-actions"}):da==null||__c.mfe(c,da)||(X.clear(),c.Stc(da),X.dh(Z))}})}};
hC.Wgr=function({Fh:a,Wj:b,Ec:c,OAb:d,keyboardShortcuts:e,ka:f,Wd:g,V:h}){if(a!==1){a=jV(()=>{b.oq="thumbnail";d===null||d===void 0||d.gGj();h.track(__c.cah,{oq:"thumbnail_view",Nuc:"scrolling_view",kb:"keyboard_shortcut"})});var k=jV(()=>{b.oq="scroll";d===null||d===void 0||d.gGj();h.track(__c.cah,{oq:"scrolling_view",Nuc:"thumbnail_view",kb:"keyboard_shortcut"})});e.register([bl(Yo("1")),k,L("mDtR3A"),["edit"]],[bl(Yo("2")),a,L("ZVsdnw"),["edit"]]);var l=new k7s(b,c,f),m=new j7s(l,b,h,d);g.Tu(()=>
l.aro,({lL:p},q)=>{p&&(p.kag=q?{Button:iV(r=>gV(i7s,{...r,YGl:m.YGl,eB:l.eB}))}:void 0)})}};
hC.$gr=function({Ia:a,viewport:b,selection:c,qd:d,ka:e,Ma:f,canvas:g,Cd:h,ih:k,Nxa:l,V:m,sc:p,bda:q,$w:r,Df:t,pn:u,eya:w,timing:x,$P:y,$f:z,la:A,Ga:B,Yf:D,J3j:G}){function I(Fa,Da){hV(Fa,Oa=>{var Ja;(Ja=l.Xli)!==null&&Ja!==void 0&&Ja.get()&&(Ja=Da(),Ja.length===1&&Ja[0]===Oa&&Z.close())})}B=B.Ud("editor.editing.transition");var K=__c.dc();K=K&&new __c.wEe(K,"Transition",Fa=>Fa.label.replace(/\s/g,"_"));const M=new $7s(c,b),N=new X7s(a,r.lxc,q.gka,b,d,m,B,z,c,new Date,K,()=>{A.Ib({Cb:L("k2JMiA")})},
pV(()=>x.Ws?z7s:y7s));N.init();const Q=new Y7s(a,r.lxc,b,c,N,q.gka,d),R=new __c.sv,W=new Z7s(y,R),X=new S7s,Z=new T7s(a,X,u,c,b,N,Q,m,W,B,e);g.kc(()=>N.xgs,(Fa,Da)=>{if(Da){var Oa=Da.gZ;Fa.yg.WDh=iV(Ja=>{var Sa,Ta=yg(4,rk(Ja.page.page,a.dimensions));const Za=Ja.Pc.scale;Ta={width:Ta.width*Za,height:Ta.height*Za};return Ja.page.page===((Sa=N.ya)===null||Sa===void 0?void 0:Sa.page)?gV(Oa,{sc:p,gga:Ta,khn:!1}):null})}else Fa.yg.WDh=void 0});k.kc(()=>f.mode===40&&M.LSa,(Fa,Da)=>{const Oa=()=>Z.open({kb:"contextual_menu",
wLl:Z.iVc,entryPoint:"pageNavigator"});Fa.y9i=Da?{Button:iV(Ja=>gV(Ja.hl,{label:N.WN?L("zb4Baw"):L("ilHeTQ"),onClick:Oa,Icon:ops,oa:Ja.oa,disabled:N.ya?N.dLb(N.ya.page):!0}))}:void 0});const da={getLabel:Fa=>e.layout===2?L("o31hEQ"):N.dLb(Fa)?L("2DF9ug"):Fa.transition.ref?L("zb4Baw"):L("ilHeTQ"),isActive:Fa=>!!Fa.transition.ref,isDisabled:Fa=>N.dLb(Fa),na:iV(({page:Fa,tq:Da})=>gV(P7s,{vr:e.layout===2,xki:Da,Kfn:N.deb(Fa)&&Z.iVc.includes(Fa),transition:Fa.transition.ref})),onClick(Fa){oa(N.deb(Fa));
Z.open({page:Fa,kb:"click",wLl:Z.iVc,entryPoint:"pageNavigator"})}},la={getLabel:Fa=>e.layout===2?L("o31hEQ"):Q.dLb(Fa)?L("2DF9ug"):Fa.transition.ref?L("zb4Baw"):L("ilHeTQ"),isActive:Fa=>!!Fa.transition.ref,isDisabled:Fa=>Q.dLb(Fa),na:iV(({fill:Fa,tq:Da})=>gV(P7s,{vr:e.layout===2,xki:Da,Kfn:!Q.dLb(Fa)&&Z.R8e.includes(Fa),transition:Fa.transition.ref})),onClick(Fa){Q.tRa&&(__c.d2a(c,Q.tRa,Fa),Z.qNn(Fa,"click","pageNavigator"))}};hV(()=>f.mode===40,Fa=>{Fa&&(x.Ws?l.Vre.Pag=la:l.Vre.Qag=da)},{fireImmediately:!0});
l.Xli=pV(()=>Z.P3g!=null);x.Ws?hV(()=>Z.R8e.length===0||f.mode!==40,Fa=>Fa&&Z.close()):hV(()=>Z.iVc.length===0||f.mode!==40,Fa=>Fa&&Z.close());const ka=a.pages.first();x.Ws&&(ka===null||ka===void 0?void 0:ka.type)==="fixed"?I(()=>ka===null||ka===void 0?void 0:ka.Jc.last(),()=>[...Z.R8e]):I(()=>a.pages.last(),()=>Z.iVc);const pa=__c.bGe(r.zTb,W.xpe),ja=Fa=>gV(__c.IGe,{...Fa,navigation:W.xpe,ka:e,z9:pa}),ia=iV(()=>(w===null||w===void 0?0:w.isEnabled)?gV(Pk,{tone:"warn",size:"small",dismissible:!1,children:gV(__c.ok,
{message:__c.FDe()})}):null),ba=MHs(async()=>{const {Tvp:Fa}=await __webpack_require__.me(305908).then(()=>({Tvp:__c.j8s}));return{default:Fa}}),ca=MHs(async()=>{const {Vvp:Fa}=await __webpack_require__.me(305908).then(()=>({Vvp:__c.k8s}));return{default:Fa}}),qa=MHs(async()=>{const {Uvp:Fa}=await __webpack_require__.me(305908).then(()=>({Uvp:__c.l8s}));return{default:Fa}}),{mgq:ra,l1s:sa,HHs:wa,m1s:Aa}=SPs({L:N,N_e:Q,viewport:b,Gcs:Z});X.A$f=iV(()=>{const Fa=x.Ws?sa:ra,Da=x.Ws?Aa:wa;return gV(OHs,
{fallback:gV(m7s,{}),children:gV(ca,{mr:N.mr.get(),...Fa,onClick:Fa.LKn,y$f:()=>gV(OHs,{fallback:null,children:gV(ba,{vr:!0,...Da,Df:t,zja:ja})}),sdb:ia,navigation:W.xpe})})});X.ndb=iV(()=>{const Fa=x.Ws?sa:ra,Da=x.Ws?Aa:wa;return gV(OHs,{fallback:gV(n7s,{m$b:D}),children:gV(qa,{mr:N.mr.get(),Yf:D,...Fa,y$f:()=>gV(OHs,{fallback:null,children:gV(ba,{...Da,zja:ja})}),sdb:ia})})});X.Ce=()=>L("gK/oPw");X.title=L("gK/oPw");const Ba=()=>Z.open({kb:"click",wLl:Z.iVc,entryPoint:"toolbar"}),za=()=>{var Fa;
return f.mode===40&&!((Fa=Z.iVc)===null||Fa===void 0||!Fa.length)&&N.ya!=null&&!N.dLb(N.ya.page)};hV(za,Fa=>{h.rIa.Transition=Fa?()=>({label:{Vm:()=>L("o31hEQ"),na:{navigation:R},Ch:()=>Ba(),Oq:iV(()=>N.RVh&&N.RVh.type!==void 0?N.RVh.label:void 0)},na:{na:iV(Da=>(X===null||X===void 0?0:X.A$f)?gV(X.A$f,{...Da}):null)}}):void 0});h.plugins.Transition=()=>({Qd:()=>G&&za()||e.layout===2&&za(),Button:iV(Fa=>{const Da=L("o31hEQ");return gV(Fa.xi,{...Fa,pressed:Fa.open,selected:M.xvm,icon:ops,yh:"icon-and-label",
onClick:()=>{var Oa;Ba();(Oa=Fa.onClick)===null||Oa===void 0||Oa.call(Fa)},children:Da})}),navigation:R})};
hC.ahr=function({ALl:a,selection:b,undo:c,toolbar:d,Cd:e,we:f,V:g,Yf:h}){const k=new c8s(a,b,g),l=__c.ZMe(c),m={Qd:()=>k.hWf!=null,Button:iV(p=>gV(d8s,{...p,Ch:k.hsc})),Su:{sg:()=>L("esjKOA")},na:iV(p=>gV(e8s,{Qh:l,value:n(k.hWf),onChange:k.tMn,$g:k.o5r,Oe:p.Oe,Yf:h}))};e.plugins.LFb=()=>m;f===null||f===void 0||f.Am(()=>k.hWf!=null,{type:"simple",key:"transparency",name:L("esjKOA"),aliases:[L("RNACiA")],Icon:__c.nXr,execute:async()=>{var p;if((p=m.Qd)===null||p===void 0?0:p.call(m))d.vB(m),k.hsc()}})};
hC.qcn=function(a){const b=a.session,c=a.Db,d=a.ri,e=a.Wd,f=a.Ma,g=a.jrg,h=a.Hb,k=a.Rc;if(k.status===Ux.Or)return{$4f:void 0};const {toe:l,open:m}=BQs(a),p=k.status===Ux.Wh;e.Tu(()=>f.mode===40,({lL:q},r)=>{q&&(q.tld=r?{Button:iV(t=>{const u=p?h.Rd.Pmj:void 0;return gV(l,{source:"file_menu",render:({onClick:w,loading:x,disabled:y})=>gV(t.nE,{LX:__c.vaj,onClick:()=>{var z;w();(z=t.onClick)===null||z===void 0||z.call(t)},lg:x?__c.qv:u,disabled:y,children:L("ETXuvQ")})})})}:void 0)});if(g){const q=p?
__c.BJ:fj,r=()=>gV(l,{source:"design_status",render:({onClick:t,disabled:u,loading:w})=>gV(q,{variant:"primary",onClick:t,disabled:u,loading:w,stretch:!0,children:L("EV/mkA")})});g.toe=()=>f.mode===40?r:void 0}d&&__webpack_require__.me(885017).then(()=>__c.rdj).then(jV(({lhr:q})=>{q({ri:d,Db:c,da:b})}));return{$4f:new f8s(m)}};
hC.Vhs=function(a){const b=a.zc,c=a.oc,d=a.alert,e=a.V,f=a.Kvb,g=a.Hb,h=a.ya,k=a.Tp,l=a.hm,m=a.Gb,p=a.Tb,q=a.Db,r=a.da,t=a.Wq,u=a.ej,w=a.wwg,x=a.errorService,y=a.pb,z=a.Fz,A=a.yFe,B=a.pba,D=a.ub,G=a.uL,I=a.bia,K=a.Ri,M=a.la,N=a.qa,Q=a.ka,R=a.gb,W=a.k4b,X=a.Na,Z=a.$w,da=a.selection,la=a.pg,ka=a.w0,pa=a.Ma,ja=a.g6a,ia=a.UWa,ba=a.Mvf,ca=a.dMd,qa=a.Ga,ra=a.viewport,sa=a.IM,wa=a.IQb,Aa=a.hHb,Ba=a.Ge,za=Promise.all([__webpack_require__.me(301523).then(()=>__c.m8s),G()]).then(jV(([{ker:Fa},Da])=>Fa({Ia:r.document,
da:r,Gb:m,Tb:p,Db:q,ka:Q,gb:R,ya:h,Ma:pa,hm:l,Wq:t,designId:r.id,pba:B,Tp:k,selection:da,pg:la,$w:Z,oc:c,w0:ka,UWa:ia,Fz:z,zc:b,yFe:A,AQq:Da,undo:r.undo,alert:d,viewport:ra,la:M,Na:X,errorService:x,bia:I,pb:y,ub:D,qa:N,V:e,Ga:qa,k4b:W,wwg:w,dMd:ca,Mvf:ba,Kvb:f,IM:sa})));wa.then(Fa=>{Fa.register("widget:form",()=>za)});__c.vqb(ja.nbn,({$L:Fa,iw:Da})=>{const Oa=r.document;__c.QRo&&la&&Oa.Ja==="fixed"&&Promise.all([__webpack_require__.me(308764).then(()=>__c.n8s),G(),K()]).then(([{j9p:Ja},Sa,Ta])=>{Ja=
Ja({us:Sa.us,ej:u,Na:X,tk:Ta,errorService:x,iw:Da,Ge:Ba,X:la,Lf:r.extension,ja:r.id,Ia:Oa,N:Fa.N,zQ:Aa.B7r,Dv:()=>Fa.Dv(2),dHb:Fa.close,viewport:ra,M0:g.M0,D2:g.D2,G_b:ba,IM:sa});Fa.Ayd(2,Ja)})})};hC.dis=async function(a){return Promise.all([a.uFa,__webpack_require__.me(70971).then(()=>__c.o8s)]).then(([b,{Mer:c}])=>c({...a,uFa:b}))};
hC.his=function(a){let b=[];const c=CV.box(e=>{b.push(e);if(b.length>1)for(;b.length>10;)b.shift();else __webpack_require__.me(489062).then(()=>__c.p8s).then(jV(({Chr:f})=>{const {yFr:g}=f(a);b.forEach(h=>g(h));b=[];c.set(g)}))});let d;hV(()=>{const e=a.jc.state;return e&&e.type==="focused"&&e.contentType===0?e.element:void 0},e=>{const f=d===null||d===void 0?void 0:d.text.Ya;f&&c.get()(f);d=e});return c};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/99addf30d3c0938e.js.map