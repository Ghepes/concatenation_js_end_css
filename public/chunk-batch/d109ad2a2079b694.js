(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[19986],{

/***/ 482530:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(447605);__web_req__(764820);__web_req__(294098);__web_req__(83503);__web_req__(327362);__web_req__(293952);__web_req__(991363);__web_req__(917183);__web_req__(651699);__web_req__(366183);__web_req__(159692);__web_req__(5862);__web_req__(221981);__web_req__(249608);__web_req__(850719);__web_req__(317135);__web_req__(569994);__web_req__(405113);__web_req__(630476);__web_req__(730757);__web_req__(283579);__web_req__(512724);__web_req__(222307);__web_req__(259163);__web_req__(829421);__web_req__(13077);__web_req__(891069);__web_req__(140815);__web_req__(492025);__web_req__(723870);__web_req__(549685);__web_req__(48888);__web_req__(728225);__web_req__(360321);__web_req__(76245);__web_req__(42853);__web_req__(624684);__web_req__(754101);__web_req__(785562);__web_req__(732901);__web_req__(630833);__web_req__(972452);__web_req__(345811);__web_req__(234984);__web_req__(397070);__web_req__(558082);__web_req__(741298);__web_req__(896992);__web_req__(598984);__web_req__(562169);__web_req__(229001);__web_req__(548758);__web_req__(133600);__web_req__(857255);__web_req__(114073);__web_req__(587437);__web_req__(305452);__web_req__(383677);__web_req__(851909);__web_req__(121623);__web_req__(958906);__web_req__(353889);__web_req__(734237);__web_req__(451856);__web_req__(300572);__web_req__(667484);__web_req__(934683);__web_req__(253420);__web_req__(940649);__web_req__(458375);__web_req__(563461);__web_req__(73036);__web_req__(822403);__web_req__(241869);__web_req__(31055);__web_req__(697890);__web_req__(668206);__web_req__(446874);__web_req__(439573);self._0e44dc207644359e659b7c94d839693f = self._0e44dc207644359e659b7c94d839693f || {};(function(__c) {var $B;var S7q=__c.S7q;var FCs;var cKe=__c.cKe;var mk=__c.mk;var hi=__c.hi;var ei=__c.ei;var rEe=__c.rEe;var so=__c.so;var oc=__c.oc;var ik=__c.ik;var lr=__c.lr;var Qx=__c.Qx;var gu=__c.gu;var jp=__c.jp;var sp=__c.sp;var C=__c.C;var E=__c.E;var S=__c.S;var ip=__c.ip;var NLh=__c.NLh;var L0g=__c.L0g;var Db=__c.Db;var nar=__c.nar;var Wt=__c.Wt;var Vo=__c.Vo;var uc=__c.uc;var ev=__c.ev;var Gb=__c.Gb;var Lb=__c.Lb;var pr=__c.pr;var br=__c.br;var Wn=__c.Wn;var ld=__c.ld;var jr=__c.jr;var bj=__c.bj;
var kr=__c.kr;var ay=__c.ay;var Uu=__c.Uu;var ir=__c.ir;var No=__c.No;var lA=__c.lA;var $t=__c.$t;var Cvg=__c.Cvg;var Ebr=__c.Ebr;var P=__c.P;var tf=__c.tf;var sf=__c.sf;var OWe=__c.OWe;var Ey=__c.Ey;var sk=__c.sk;var fa=__c.fa;var F=__c.F;var T=__c.T;var Pa=__c.Pa;var H=__c.H;var j6g=__c.j6g;var KC=__c.KC;var St=__c.St;var wr=__c.wr;var Rj=__c.Rj;var SVa=__c.SVa;var qj=__c.qj;var Qk=__c.Qk;var gm=__c.gm;var Yj=__c.Yj;var Ul=__c.Ul;var Sm=__c.Sm;var Sk=__c.Sk;var Oub=__c.Oub;var qr=__c.qr;
var Dn=__c.Dn;var wm=__c.wm;var en=__c.en;var Fc=__c.Fc;var Vb=__c.Vb;var VWa=__c.VWa;var zs=__c.zs;var ar=__c.ar;var Yi=__c.Yi;var fr=__c.fr;var gr=__c.gr;var ic=__c.ic;var iy=__c.iy;var Ub=__c.Ub;var qd=__c.qd;var Dhf=__c.Dhf;var ma=__c.ma;var Xc=__c.Xc;var hKe=__c.hKe;var fw=__c.fw;var Yo=__c.Yo;var Gj=__c.Gj;var tr=__c.tr;var jk=__c.jk;var VEd=__c.VEd;var Jj=__c.Jj;var Ef=__c.Ef;var Rm=__c.Rm;var Z1g=__c.Z1g;var $1g=__c.$1g;var Ha=__c.Ha;var Oy=__c.Oy;var Ia=__c.Ia;var uIp=__c.uIp;var Px=__c.Px;
var cMe=__c.cMe;var dMe=__c.dMe;var fk=__c.fk;var ID=__c.ID;var Rb=__c.Rb;var Ij=__c.Ij;var ug=__c.ug;var Zr=__c.Zr;var Dk=__c.Dk;var NUc=__c.NUc;var QYc=__c.QYc;var bMb=__c.bMb;var xs=__c.xs;var ys=__c.ys;var be=__c.be;var Fe=__c.Fe;var ce=__c.ce;var wj=__c.wj;var zj=__c.zj;var rj=__c.rj;var Ej=__c.Ej;var bk=__c.bk;var bNe=__c.bNe;var So=__c.So;var Mv=__c.Mv;var tg=__c.tg;var pVi=__c.pVi;var wb=__c.wb;var nVi=__c.nVi;var dp=__c.dp;var Yh=__c.Yh;var Fi=__c.Fi;var au=__c.au;var Ik=__c.Ik;var sj=__c.sj;
var Tj=__c.Tj;var Qj=__c.Qj;var Ro=__c.Ro;var sd=__c.sd;var ws=__c.ws;var pf=__c.pf;var xYc=__c.xYc;var J=__c.J;var Zgf=__c.Zgf;var nA=__c.nA;var oA=__c.oA;var vj=__c.vj;var qA=__c.qA;var Nu=__c.Nu;var Sj=__c.Sj;var Vk=__c.Vk;var BVc=__c.BVc;var Xk=__c.Xk;var oV;var hr=__c.hr;var Wc=__c.Wc;var Q=__c.Q;var R=__c.R;var CCj=__c.CCj;var ur=__c.ur;var Nb=__c.Nb;var fV;var dV;var rf=__c.rf;var L=__c.L;var ubr=__c.ubr;var Vv=__c.Vv;var we=__c.we;var xg=__c.xg;var ms=__c.ms;var Xg=__c.Xg;var Kg=__c.Kg;
var Fj=__c.Fj;var Uj=__c.Uj;var YHd=__c.YHd;var He=__c.He;var Ce=__c.Ce;var Nw=__c.Nw;var v=__c.v;var Pj=__c.Pj;var Nj=__c.Nj;var Vj=__c.Vj;var mA=__c.mA;var Vl=__c.Vl;var fs=__c.fs;var mu=__c.mu;var pa=__c.pa;var vb=__c.vb;var na=__c.na;var n=__c.n;var am=__c.am;var wz=__c.wz;var Ly=__c.Ly;
var mns,nns,ons,pns,qns,rns,sns,tns,uns,vns,wns,xns,yns,zns,Ans,Bns,Cns,Dns,Ens,Fns,Gns,Hns,Ins,Jns,Kns,Lns,Mns,Nns,Ons,Pns,Qns,Rns,Sns,Tns,Uns,Vns,Wns,Yns,Zns,$ns,aos,bos,fos,hos,gos,ios,jos,kos,los,mos,oos,pos,nos,uos,vos,wos,yos,zos,Aos,Bos,Dos,Fos,Qos,Ros,Sos,Tos,Wos,Xos,Yos,Zos,$os,aps,bps,Uos,Vos,dps,eps,fps,gps,ips,hps,qps,ups,yps,Cps,Dps,Hps,Ips,Jps,Gps,Rps,Sps,Tps,Xps,Zps,$ps,cqs,fqs,iqs,jqs,pV,kqs,lqs,mqs,nqs,oqs,qqs,rqs,sqs,tqs,uqs,vqs,wqs,xqs,yqs,zqs,Aqs,Bqs,Cqs,Dqs,Eqs,Iqs,Mqs,Nqs,Oqs,
qV,Jqs,pqs,Fqs,Sqs,Tqs,Uqs,Vqs,Xqs,Yqs,$qs,brs,crs,drs,ers,ars,frs,hrs,irs,jrs,lrs,nrs,vrs,Ers,Jrs,Krs,Trs,Mrs,Wrs,Vrs,bss,css,fss,jss,oss,sss,tss,wss,xss,yss,Ass,zss,Dss,Bss,Css,Ess,Fss,Tss,Uss,Vss,Wss,$ss,Yss,Zss,Xss,cts,bts,ats,dts,ets,gts,hts,its,lts,jts,kts,rts,nts,qts,pts,sts,vts,wts,xts,Ats,Bts,uts,Ets,Mts,Nts,Ots,Pts,Qts,Sts,Uts,ius,Cus,Gus,Hus,Ius,Lus,Mus,Kus,Jus,Nus,Pus,Rus,Sus,Xus,Yus,Zus,fvs,evs,ivs,jvs,kvs,lvs,mvs,nvs,ovs,pvs,qvs,rvs,yvs,Avs,Dvs,Kvs,Evs,Gvs,Ivs,Fvs,Hvs,Jvs,Lvs,Mvs,Qvs,
Zvs,cws,$vs,bws,aws,dws,gws,ews,fws,hws,iws,kws,jws,lws,pws,ows,qws,mws,rws,sws,tws,uws,vws,wws,xws,zws,Aws,yws,Bws,Cws,Dws,Ews,Fws,Gws,Hws,Iws,Jws,Lws,Mws,Nws,Qws,Rws,Sws,Tws,Uws,Vws,Xws,axs,fxs,vxs,yxs,hxs,Cxs,Dxs,Exs,Gxs,Hxs,Fxs,Kxs,Lxs,Mxs,Nxs,Qxs,Pxs,Rxs,Oxs,Ixs,Uxs,Vxs,Wxs,Xxs,Yxs,Zxs,$xs,sV,ays,tV,bys,cys,eys,gys,jys,hys,mys,pys,rys,oys,tys,vys,sys,wys,nys,uys,Bys,Cys,Dys,kys,zys,xys,yys,Gys,Fys,Eys,uV,Hys,Jys,Kys,Mys,Lys,Nys,Pys,Rys,Vys,azs,czs,bzs,gzs,hzs,izs,jzs,kzs,lzs,mzs,nzs,ozs,rzs,
szs,wzs,tzs,uzs,vzs,xzs,Bzs,vV,Dzs,Gzs,Hzs,Ezs,Kzs,Izs,Fzs,Nzs,Qzs,Pzs,Ozs,Szs,Rzs,Tzs,Uzs,Vzs,Xzs,Yzs,Zzs,$zs,aAs,bAs,cAs,dAs,hAs,iAs,jAs,kAs,nAs,pAs,qAs,rAs,sAs,uAs,wAs,yAs,zAs,AAs,CAs,BAs,HAs,FAs,JAs,DAs,EAs,GAs,IAs,LAs,RAs,SAs,TAs,UAs,NAs,MAs,OAs,PAs,VAs,$As,ZAs,WAs,QAs,YAs,aBs,XAs,dBs,jBs,qBs,sBs,tBs,uBs,wBs,yBs,zBs,rBs,ABs,DBs,HBs,LBs,MBs,SBs,PBs,UBs,VBs,WBs,ZBs,bCs,eCs,jCs,kCs,lCs,mCs,nCs,oCs,pCs,qCs,rCs,sCs,xCs,tCs,yCs,zCs,BCs,CCs,DCs,ACs,ECs,GCs,ICs,KCs,MCs,NCs,RCs,SCs,UCs,VCs,XCs,$Cs,YCs,
ZCs,aDs,cDs,dDs,eDs,fDs,hDs,gDs,iDs,jDs,lDs,mDs,oDs,pDs,nDs,rDs,sDs,qDs,tDs,uDs,vDs,wDs,xDs,ADs,yDs,zDs,BDs,CDs,DDs,IDs,MDs,ODs,PDs,QDs,RDs,SDs,TDs,UDs,VDs,XDs,$Ds,ZDs,aEs,cEs,dEs,fEs,hEs,tEs,uEs,vEs,yEs,CEs,DEs,IEs,LEs,MEs,NEs,PEs,OEs,REs,TEs,UEs,VEs,SEs,YEs,ZEs,cFs,dFs,eFs,fFs,gFs,$Es,jFs,kFs,sFs,uFs,vFs,wFs,xFs,zFs,BFs,AFs,aFs,bFs,DFs,CFs,GFs,HFs,IFs,JFs,PFs,VFs,WFs,eGs,gGs,kGs,mGs,pGs,rGs,qGs,sGs,vGs,tGs,uGs,wGs,xGs,yGs,zGs,CGs,HGs,oGs,IGs,KGs,MGs,NGs,OGs,PGs,JGs,QGs,RGs,SGs,TGs,WGs,YGs,bHs,cHs,
hHs,nHs,uHs,vHs,xHs,yHs,BHs,CHs,EHs,GHs,HHs,IHs,FHs,JHs,OHs,PHs,RHs,QHs,UHs,ZHs,bIs,dIs,BV,bDs,oEs,gIs,oHs,iIs,jIs,kIs,lIs,mIs,nIs,oIs,pIs,hIs,XFs,YFs,qIs,rIs,sIs,tIs,uIs,CIs,AIs,KIs,UIs,YIs,cJs,eJs,hJs,gJs,fJs,lJs,mJs,nJs,pJs,rJs,qJs,sJs,tJs,uJs,xJs,yJs,AJs,CJs,DJs,EJs,FJs,GJs,KJs,NJs,OJs,PJs,SJs,TJs,WJs,ZJs,$Js,aKs,dKs,eKs,bKs,cKs,fKs,mKs,oKs,qKs,rKs,sKs,uKs,vKs,wKs,tKs,xKs,yKs,zKs,AKs,BKs,CKs,FKs,GKs,HKs,IKs,KKs,LKs,MKs,NKs,OKs,PKs,VKs,UKs,TKs,QKs,YKs,ZKs,XKs,$Ks,aLs,cLs,bLs,dLs,fLs,eLs,gLs,hLs,
kLs,lLs,qLs,rLs,sLs,tLs,oLs,pLs,nLs,vLs,xLs,yLs,uLs,ALs,DLs,ILs,JLs,TLs,ZLs,dMs,fMs,eMs,gMs,iMs,kMs,lMs,oMs,nMs,sMs,pMs,qMs,uMs;mns=async function(a,b){return a.X8h(b).then(c=>({text:c!==null&&c!==void 0?c:b,url:b,type:"embed"}))};
nns=function(a,b){const c=a.Xa.state,d={...Ly,link:b};if((c===null||c===void 0?void 0:c.type)==="SHEET_CELL"&&a.Tc){const e=c.anchor,f=c.sheet.config,g=a.Tc.getContent(f,e.row,e.column);wz(a.Tc,h=>{g&&g.isEmpty&&h.HFa(f,e,b);h.setAttributes(f,e,d)})}else(c===null||c===void 0?void 0:c.type)==="RANGE"&&am(c.CPc()).ok?a.Xa.nAa(b,d):a.Xa.qZa(d)};
ons=function(a,b){const c=b.length,d=Math.max(0,...b.map(g=>g.length)),e=__c.Ttg(a,{rows:c,columns:d}),f=new Map;for(let g=0;g<c;g++)for(let h=0;h<d;h++){const k=n(e.layout.rows[g].kp.get(e.layout.columns[h].id));if(b[g][h]!=null){const l=a.config.VPh(b[g][h]+"\n");f.set(k,l)}}return{...e,cells:f}};
pns=function(a,b,c){na(c.length>0,"Cannot copy empty subset of table");const {rows:d,columns:e}=__c.rMe(b,c);var f=d.map(k=>({...k,kp:new Map(e.map(l=>{const m=k.kp.get(l.id);return m?[l.id,m]:void 0}).filter(vb))}));const g=e.map(k=>({...k}));pa(f.length>0);pa(g.length>0);const h=new Set(c);f={cells:new Map(f.flatMap(k=>Array.from(k.kp.values(),l=>{const m=b.cells.get(l);if(m&&h.has(m))return[l,a.config.y2e(m)]}).filter(vb))),layout:{...b.layout,rows:f,columns:g}};return a.config.q4(f,{table:b,cells:c})};
qns=function(a,b){return`${a.id}:${b.id}`};rns=function(a){var b=mu;return __c.sta(b,new __c.tta(()=>b.U4c.Y6(a)),c=>c.kza(a))};sns=function(a,b){__c.ta(a.document.Ja,"fixed");return new __c.HNd(a.K0a,a.LUe,a.ds,a.dn,a.document,a.rlc,a.vd,b,void 0,()=>{},a.Jtg,!0)};tns=function(a,{Ye:b}){__c.D4p(a,{SY:"closed",Ye:b});__c.G4p(a,{Ye:b,SY:"ended"});__c.L4p(a,{Ye:b,SY:"ended"})};uns=function(a,b){pa(!a.Cgh);(0,__c.Fb)(()=>a.Cgh=b)};vns=function(a,b){pa(a.OXk===void 0);a.OXk=b};
wns=function(a,b){a.P.track(__c.Hje,{action:"page_numbers_dropdown_menu_opened",Uh:b,location:"edit_panel"})};xns=function(a,b){a.uLn.push(b)};yns=function(a,b){a.Yio.add(b)};zns=function(a,b){var c,d;return(((d=a.document.pages.previous(b,e=>!e.draft))===null||d===void 0?void 0:(c=d.transition.ref)===null||c===void 0?void 0:c.durationUs)||0)/1E6};
Ans=function(a,b){var c;if(b.audio&&a.dmd)return(c=__c.RJe(a.dmd,b.audio.id))===null||c===void 0?void 0:c.filter(d=>{d=d.Ie*1E6;return d>=b.trim.startUs&&d<=b.trim.endUs})};Bns=async function(a,b){return __c.bZe(a,__c.Hf({elements:b.map(c=>fs.snapshot(c))}))};Cns=function(a,b){if(b.image.ref){var c;a=a.Pa.Vo(b.image.ref.media);var d;return(d=a===null||a===void 0?void 0:(c=a.H3)===null||c===void 0?void 0:c.z6j)!==null&&d!==void 0?d:!0}return!!b.video.ref};
Dns=function(a,b){const c=b.ja;if(Cns(a,c)&&!__c.sqb(a.uIa,b,Vl.Hs))return{h1q:{get:()=>c.flipX,set:d=>{c.flipX=d}},J6s:{get:()=>c.flipY,set:d=>{c.flipY=d}}}};Ens=function(a,b,c,d,e){const f=__c.puf(a,b,d);e=(new Map(b.cells.map((g,h)=>[g,h]))).get(e);f&&mA(f)&&e&&__c.Zhf(a,b,d)&&(b=a.oDj.Wtf(f,e),b!=null&&a.efb(f,c,b+1,b,"content_styles"))};
Fns=function(a,b,c,d){var e=a.ed;a=__c.puf(a,b,c);const f=e.oE(b);e=f===null||f===void 0?void 0:Vj(f);b=(new Map(b.cells.map((k,l)=>[k,l]))).get(d);if(a!=null&&([d]=b!=null?a.Rem({qb:d,id:b}):[],f&&d!=null)){var g=a.padding.paddingTop,h=a.padding.paddingBottom;b=(f.width-a.gb)/2;a=a.Kag.map(k=>Nj(k.left,0,k.left+k.width,f.height-g-h));return e!=null&&a!=null?Pj(a[d-1].translate(b,g).transform(e.invert())):void 0}};
Gns=function(a,b,c){switch(b.type){case "fixed":const d=c.shift();b.Oc.forEach(e=>{(e=e.image.ref)&&d&&a.t6a(e,d)});b=b.elements.toArray();return __c.hLf(a,b,c);case "concatenated-fixed":return b.pages.reduce((e,f)=>Gns(a,f,e),c);case "responsive":return __c.jLf(a,[...b.text.items],c);default:throw new v(b);}};Hns=function(a,b,c){b.reduce((d,e)=>Gns(a,e,d),c)};
Ins=function(a,b){switch(b.type){case "fixed":return[...b.Oc.map(c=>a.FBe(c.image.ref)),...__c.kLf(a,b.elements.toArray())];case "concatenated-fixed":return b.pages.flatMap(c=>Ins(a,c));case "responsive":return[...__c.lLf(a,Array.from(b.text.items))];default:throw new v(b);}};
Jns=function(a,b,c){pa(!c.includes("\n"));b=b.resolve(a.Eh).map(p=>p.resolve(a.Eh)).sort((p,q)=>p.index-q.index||p.length-q.length);const d=a.text.cursor(),e=a.text.r4(),f=__c.Acg(e);let g=0;var h=0;const k=[];for(let p=0;p<b.length;p++){var l=b[p];pa(h<=l.index);d.gt(l.index-h,f);__c.Bcg(d,e,l.length,{Ya:q=>pa(!q.includes("\n")),item:({display:q=1})=>pa(q!==1)});h=__c.Cz(a.Bb,Nw.of({index:l.index,length:Math.min(c.length,1)}));h=Ce.pick("inline",h);var m=__c.Dcg(d.T4,__c.Ecg(h));c.length>0&&(e.O_(m),
e.insert(c),e.oS(m));k.push(Nw.of({index:l.index+g,length:c.length}));g+=c.length-l.length;h=l.index+l.length;[l]=__c.Kv(a.tree,l.index+l.length);l.type===6&&(m=__c.ocg(l,m),e.O_(m),d.gt(l.length(),f),e.oS(m),h+=l.length())}a.v7a.next(e.build())};Kns=function(a){const b=new bV(a.tagName.toLowerCase());b.setContent(a.innerHTML);if(a.attributes.length)for(const c of a.attributes)b.setAttribute(c.name,c.value);return b};
Lns=function(a){const b=document.createElement("div");b.innerHTML=a.toString().trim();return n(b.firstElementChild)};
Mns=function(a,b,c){const d=[];wz(a.Tc,e=>{for(const f of c){const g=b.layout.cells.get(f.row,f.column);e.setAttributes(b,{row:(g===null||g===void 0?void 0:g.span.Yb)||f.row,column:(g===null||g===void 0?void 0:g.span.$b)||f.column},{...He.Ff,...YHd,fontFamily:a.Rr.BT||He.Ff.fontFamily});g!=null&&(__c.Akg(b,g.span),e.Z_(b,{row:g.span.Yb,column:g.span.$b},void 0),e.WAb(b,{row:g.span.Yb,column:g.span.$b},void 0));d.push({row:(g===null||g===void 0?void 0:g.span.Yb)||f.row,column:(g===null||g===void 0?
void 0:g.span.$b)||f.column})}});__c.bkg(a.ava,b,d)};Nns=function(a,b,c){const d={jfe:a.mOh(c).filter(e=>e.type!=="rule-x"&&e.type!=="rule-y"),iGb:a.iGb(c)};return new __c.slg(b,a.E8,c,d)};Ons=function(a,b){var c=__c.ota.yX(b.layout.rows);const d=__c.pta.yX(b.layout.columns),e=new Set;c=c.map(f=>d.map(g=>{g=f.kp.get(g.id);g=g!=null?b.cells.get(g):void 0;if(!g||e.has(g))return"";e.add(g);g=g.content.text.cells.Ya();return g.substr(0,g.length-1)}));return a.csv.encode(c,{field:"\t"})};
Pns=function(a,b,c){const d=bV.element("table"),e=__c.Stg(b),f=new Set;b.layout.rows.forEach((g,h)=>{const k=d.appendChild(bV.element("tr"));b.layout.columns.forEach((l,m)=>{l=g.kp.get(l.id);if(l!=null){if(f.has(l))return;f.add(l)}var p=l!=null?b.cells.get(l):void 0;p=(p=p?a.ZQ.config.bDg(p):void 0)?c(p):bV.element("td");k.appendChild(p);const {rows:q,columns:r}=(l!=null?e.get(l):void 0)||{rows:[h],columns:[m]};q.length>1&&p.setAttribute("rowspan",q.length.toString());r.length>1&&p.setAttribute("colspan",
r.length.toString())})});d.setStyle("font-family","sans-serif");d.setStyle("color","black");d.setStyle("border","1px solid black");return d};
Qns=function(a,b,c){const d=[],e=[];for(const m of b.rows){const p=m.rowIndex;let q=0;for(const r of m.cells){var f;const t=r.cellIndex;b=r.rowSpan;const u=r.colSpan;for(var g=c(r);(f=d[p])===null||f===void 0?0:f[t+q];)q++;e.push({text:g,rows:Array.from({length:b},(w,x)=>p+x),columns:Array.from({length:u},(w,x)=>t+q+x)});for(g=0;g<b;g++)for(let w=0;w<u;w++){var h,k,l;(l=(h=d)[k=p+g])!==null&&l!==void 0?l:h[k]=[];d[p+g][t+q+w]=!0}}}return __c.Utg(a.ZQ,e)};
Rns=function(a){const b=Math.round(a*1E3)/1E3;return Math.abs(a-b)<1E-10?b:a};
Sns=function(a,b,c,d,e,f){var g=__c.Zj(Uj(0,d.map(l=>__c.mXa(e,l))),0).Lb();const h={width:Math.ceil(Rns(g.width)),height:Math.ceil(Rns(g.height)),units:4},k=Fj(-g.left,-g.top);d=__c.ade(__c.Yg,d.map(l=>{var m=fs.snapshot(l);l.type==="chart"?(l=l.uqc.get(),m=l==null?m:{...m,data:l,Nb:void 0}):m=l.type==="text"&&l.zR?{...m,width:l.width,height:l.height}:m;return m})).map(l=>{l=__c.ow(l,k);if(l.type==="text"&&l.zR){var m=__c.Hn.create(l),p=m.text.wz(0);m=__c.zWb(f,b,m);p=Kg.md().attrs(p).Wb(`${m}\n`).build();
l={...l,zR:!1,text:p}}return Xg.xTa(l)});g=__c.Gsb.snapshot(a.Xi);return new __c.Eg({doctype:new __c.Fg(h),dimensions:new __c.Tl(h),language:a.language,title:a.title,Xi:__c.cua(g),pages:[new __c.Ql({id:c.mh.generate(),background:void 0,g4:new __c.Rl({sh:[ms]}),elements:d})]})};Tns=function(a){const b=new Map;for(const [c,d]of a)__c.lj(b,c,d);return b};Uns=function(){var a;return(a=document.activeElement.closest(".jHvOGA"))!==null&&a!==void 0?a:void 0};Vns=function(a,b){return a.type==="fixed"&&!xg(b.Zk(a))};
Wns=function(a){const b={};we(Ce,a,"all",(c,d)=>{__c.Se(d)!=null?(d=n(__c.Se(d)),b[d]=c):__c.Re(d)?b[d]=void 0:b[d]=c});return b};Yns=function(a,b){(new Xns(b)).Bph(a);return b};Zns=function(a){a=a.getAttribute("href");if(a!=null)try{const b=Vv(a);return am(b).ok?b:void 0}catch(b){}};$ns=function(a){let b;try{b=new URL(a)}catch(c){return!1}return b.protocol==="http:"||b.protocol==="https:"};
aos=async function(a){const b=a.match(/^data:([a-z]+\/[^:;]+);base64,/);if(b){const [c,d]=b;return __c.mIa(a.slice(c.length),d)}if($ns(a))return fetch(a).then(c=>c.blob()).catch(()=>{})};bos=function(a){const b=[0],c=__c.Pe.marginInlineStart.max;for(let d=32;d<=c;d+=24)b.push(d);return b.reduce((d,e)=>Math.abs(e-a)<Math.abs(d-a)?e:d,0)};
fos=function({jbb:a,eGa:b,Hkd:c,viewport:d,jc:e,sc:f,ka:g,P:h,s1a:k}){const l=new cos(d,k),m=new dos(l,e,f,h),p=(0,__c.ybr)(({oa:r})=>ubr(eos,{layout:g.layout,Ax:l.Ax,mQ:m.mQ,wy:l.wy,Lne:m.Lne,QZf:m.QZf,JQf:m.JQf,oa:r,aua:l.aua}));if(k){const r=(0,__c.ybr)(()=>m.wXf?ubr(__c.Wbr,{wXf:m.wXf}):null),t=w=>x=>m.Lne(w,x),u=()=>b.BQb("Deselect");(0,__c.Ibr)(()=>({isActive:l.isActive,wy:l.wy}),({isActive:w,wy:x})=>{c.fof=w&&x&&l.aua?{gr:r,One:t(x),t5c:m.r6q,oa:u,VWh:"none"}:void 0},{equals:__c.Fbr.shallow})}const q=
[["ArrowUp",()=>m.usn("prev")],["ArrowDown",()=>m.usn("next")],["Escape",()=>{l.wy?m.JQf():b.BQb("Deselect")}]];a.Ngj=()=>({Rd:()=>!0,Button:(0,__c.ybr)(r=>{const {gzc:t,fw:u,pressed:w,...x}=r;l.ZAb(w);return ubr(t,{id:"StickyNote",icon:__c.Qbr,hb:L("+T7h4A"),pressed:w,onClick:u,...x})}),na:r=>ubr(p,{oa:r.oa}),iPh:q})};hos=function(a){return a.raw.length?gos(a.raw[0]):[]};
gos=function(a){const b=new Map;return a.map(c=>{if(b.has(c)){var d;const e=((d=b.get(c))!==null&&d!==void 0?d:0)+1;b.set(c,e);c=`${c} (${e})`}b.set(c,0);return c})};ios=function(a){switch(a){case 0:return"image";case 1:return"proto";case 2:return"text";case 3:return"content";default:throw new v(a);}};jos=function(a){var b=new Uint16Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint8Array(b.buffer);b="";for(c=0;c<a.byteLength;c++)b+=String.fromCharCode(a[c]);return btoa(b)};
kos=function(a,{html:b},c){if(!b||!a.f$d(b).body.innerText.trim().length){b=[];for(const e of c||[])a.a7.images.includes(e.type)&&(c=e.getAsFile())&&b.push(c);if(b.length>0){var d;return{type:0,file:(d=b.find(e=>e.type!=="image/svg+xml"))!==null&&d!==void 0?d:b[0]}}}};los=function(a){return(new DOMParser).parseFromString(a,"text/html")};
mos=function(a){a=atob(a);var b=new Uint8Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint16Array(b.buffer);b="";for(c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b};oos=function(a,b){if(!__c.Iv(a.uIa,b))return nos(b.ja)};pos=function(a,b){if(!__c.sqb(a.uIa,b)){a=b.ja;if(a.image.ref)return nos(a.image.ref);if(a.video.ref)return nos(a.video.ref)}};nos=function(a){return{get:()=>a.xa,set:b=>{a.xa=b}}};
uos=function({Kl:a,rT:b,Bjd:c}){const d=g=>a?cV(qos,{...g,...ros,Kl:a}):null,e=g=>b?cV(sos,{...g,...ros,rT:b}):null,f=g=>c?cV(tos,{...g,...ros,Bjd:c}):null;return({Q5:g})=>{switch(g.type){case "element":case "grid_element":case "shape_element":case "table_element":return cV(d,{element:g.element,page:g.page});case "fixed_page":return cV(e,{page:g.page});case "item":return cV(f,{item:g.item,context:g.context});case "table_item":const h=g.item,k=g.context;if(g.inner&&g.inner.item){const l=g.inner.qb;
return cV(f,{item:g.inner.item,context:__c.Af(k.Dw(h),l)})}return cV(f,{item:h,context:k});case "body":case "responsive_page":case "computed_range":break;default:throw new v(g);}}};vos=function(a){return rf({category_name:a.$O,issue_count:a.SWb,skip_rule:a.PJs})};wos=function(a){return rf({category_name:a.$O,rule_name:a.yYe,card_position:a.Vgf})};
yos=function(a){if(a.store.layout===2){var b,c;const d=a.views.Category,e=a.views.Fxh;xos.includes(a.JLe.view)&&((b=a.navigation.screen)===null||b===void 0?void 0:b.$e)!==d?a.bhg.shg():a.JLe.view==="issue"&&((c=a.navigation.screen)===null||c===void 0?void 0:c.$e)!==e&&a.bhg.lhm()}};
zos=function(a){a.chq=dV(()=>a.JLe.view,b=>{var c,d,e;const f=a.views.Category,g=a.views.Fxh,h=a.views.dOd;if(((c=a.navigation.screen)===null||c===void 0?void 0:c.$e)!==f&&xos.includes(b)){var k,l;((k=a.navigation.screen)===null||k===void 0?void 0:k.$e)===g&&a.navigation.goBack();((l=a.navigation.screen)===null||l===void 0?void 0:l.$e)!==f&&a.store.layout===2&&a.navigation.Zg({$e:a.views.Category,options:a.uqi,ob:a.MZd.Kcj})}else if(((d=a.navigation.screen)===null||d===void 0?void 0:d.$e)!==g&&b===
"issue")a.I0g();else if(((e=a.navigation.screen)===null||e===void 0?void 0:e.$e)!==h&&b==="home"){var m,p,q;((m=a.navigation.screen)===null||m===void 0?void 0:m.$e)===g&&a.navigation.goBack();((p=a.navigation.screen)===null||p===void 0?void 0:p.$e)===f&&a.navigation.goBack();((q=a.navigation.screen)===null||q===void 0?void 0:q.$e)!==h&&(a.navigation.clear(),a.store.layout===2&&a.navigation.Zg({$e:a.views.dOd,options:a.uqi}))}})};
Aos=function(a){a.Owm=dV(()=>a.store.layout,b=>{b===1?(a.cD(),setTimeout(a.eC,300)):a.Ajh()})};Bos=function(a){a.Vgq=dV(()=>a.skeleton.vx,(b,c)=>{c===a.views.wbj&&b!==c&&a.Ajh()})};Dos=function(a,b){a.P.track(Cos,{NF:a.store.NF,...b})};Fos=function(a,b){a.P.track(Eos,{NF:a.store.NF,...b})};
Qos=function(a,b,c,d,e,f,g,h,k,l,m,p,q){const r=new __c.V7d,t=eV(()=>b.yge),u=new Gos(d),w=new Hos(u,b,r,e,a,c,t,f),x=M=>({$O:M.category,yYe:M.rule,Vgf:b.ZJb.findIndex(O=>O===M)}),y=M=>(M=M!==null&&M!==void 0?M:b.iU)?x(M):void 0,z=M=>O=>{Dos(w,{Bv:"unresolved",jfb:"undo_button_clicked",RBf:{$O:O.category,yYe:O.rule,Vgf:M}})},A=fV(M=>{const O=x(M);Dos(w,{Bv:"resolved",jfb:"resolve_button_clicked",RBf:O});a.r_n(M,z(O===null||O===void 0?void 0:O.Vgf))}),B=fV(M=>{M.checked=!M.checked;const O=x(M);Dos(w,
{Bv:M.checked?"checkbox_checked":"checkbox_unchecked",jfb:"checkbox_clicked",RBf:O})}),D=fV(()=>{const M=Nb();a.$Ii(O=>{Fos(w,{pbm:M,Bv:"resolved",jfb:"multi_select_resolve_button_clicked",Wdn:O.map(x)})},O=>{Fos(w,{pbm:M,Bv:"unresolved",jfb:"multi_select_undo_button_clicked",Wdn:Array.from(O).map(([U,W])=>({$O:W.category,yYe:W.rule,Vgf:U}))})})}),G=fV(M=>{b.view==="issue"&&a.bHd(M||"home")}),I=uos({Kl:h,rT:k,Bjd:l}),K=eV(()=>{const M=gV((W,X=!1)=>{b.iU!==W?(a.Ghb(W,X),Dos(w,{Bv:"selected",jfb:"card_clicked",
RBf:y(W)})):X&&a.bHd("issue")},[]),O=gV(()=>{a.shg();w.lhe({q2f:b.view})},[]),U=gV(W=>{M(W,!0);w.lhe({q2f:"issue",jfb:"resolve_button_clicked",pyf:y(W)})},[M]);return cV(Ios,{I0g:U,REh:b.REh,Fii:b.Fii,iU:b.iU,$rl:p&&b.FSd==="resolving",YPb:I,IUk:M,rRk:B,HQk:A,L_r:O,aXd:q})});c=eV(()=>{const M=gV(O=>{a.bHd(O);w.lhe({jfb:"card_clicked",eS:"category_page",q2f:b.view,pyf:y()})},[]);return cV(Jos,{wa:u.wa,MBc:b.MBc,NBc:b.NBc,X9a:M,cRl:cV(Kos,{u_h:m})})});d=eV(()=>{iV(()=>()=>yos(w),[]);return cV(Los,{Gxh:K})});
e=eV(()=>{iV(()=>()=>yos(w),[]);return b.iU?cV(Mos,{HUc:g,YPb:I,rE:b.iU,jNh:G,NF:u.NF,aXd:q}):null});const N=eV(()=>cV(Nos,{Ppi:b.Ppi,$Ii:D,QXs:b.iMh.length,layout:u.layout}));f=eV(()=>{const M=jV(null),O=gV(Z=>{Z.stopPropagation()},[]);iV(()=>{const Z=M.current;Z===null||Z===void 0||Z.addEventListener("focusout",O);return()=>{Z===null||Z===void 0||Z.removeEventListener("focusout",O)}},[M,O]);const U=gV(Z=>{a.bHd(Z);w.lhe({jfb:"card_clicked",eS:"category_page",q2f:b.view,pyf:y()})},[]),W=gV(()=>{var Z;
(Z=M.current)===null||Z===void 0||Z.focus();b.view==="issue"&&b.iU?a.bHd(b.iU.category):a.shg();w.lhe({jfb:"back_button_clicked",q2f:b.view,pyf:y()})},[]),X=gV(()=>{w.Ajh();w.Z5e("close_button_clicked")},[]);return kV("div",{className:"_758flQ",ref:M,tabIndex:-1,children:[cV("div",{className:"zO2oIQ",children:cV(Oos,{title:b.yge,Xn:W,sV:X,Zhb:b.view!=="home"})}),cV("div",{className:"VmJ8yg",children:cV(Pos,{wa:u.wa,view:b.view,MBc:b.MBc,NBc:b.NBc,X9a:U,jNh:G,Gxh:K,Kcj:N,iU:b.iU,HUc:g,YPb:I,NF:u.NF,
aXd:q,u_h:m})})]})});u.Mgo(f,c,d,e);u.Mao(N);return{aia:w,navigation:r}};Ros=function(a){var b,c;a.shg();(b=a.l7e)===null||b===void 0||b.call(a);a.l7e=void 0;(c=a.IHe)===null||c===void 0||c.call(a);a.IHe=void 0;a.Bqo()};Sos=function(a){a.IHe||a.r6j||a.r$g||(a.Mul(),a.Fpo())};Tos=function(a,b){a.da.document.Ja==="fixed"&&(a.store.z4m=a.da.document.pages.count());a.l7e=dV(()=>b.Dx,c=>{a.K0f(c,b.Osk)},{fireImmediately:!0,delay:300})};
Wos=function(a,b,c=!1){const d=b.Q5;a.store.hMi=b;let e;a.da.document.Ja!=="responsive"&&(e=a.viewport.ya);Uos(a,d).then(()=>a.SFk(d,e)).catch(f=>a.errorService.pa(f,{Ka:"accessibilityCheckerPresenter.selectCheckable: "})).finally(fV(()=>{const f=a.store.hMi;f&&(f.equals(b)?(Vos(a,d),b.selected=!0,a.store.hMi=void 0):a.store.Dx.find(g=>g.equals(f))||(a.store.hMi=void 0))})).finally(()=>{var f;c&&((f=a.store.iU)===null||f===void 0?0:f.equals(b))&&a.bHd("issue")})};
Xos=function(a,b){b.VTn||b.state!=="resolved"||(b.VTn=!0,setTimeout(fV(()=>{if(b.state==="resolved"){const c=a.store.Dx,d=c.indexOf(b);d>=0&&c.splice(d,1)}}),a.store.view==="home"?0:1E3))};Yos=function(a){a.store.iMh.forEach(b=>b.checked=!1)};Zos=function(a,b){return!!a.store.ZJb.find(({Q5:c})=>c.target===b)};
$os=function(a,b,c){switch(b.type){case "body":case "responsive-page":return a.store.ZJb.find(({Q5:d})=>{var e,f;if((e=d.dD)===null||e===void 0||!e.range||!c||"page"in b&&((f=d.page)===null||f===void 0?void 0:f.ja)!==b.page)return!1;({JAe:d}=a.Xa.mma(b.text,c,d.dD.range));return d});case "table-item-cell":return a.store.ZJb.find(({Q5:d})=>{var e,f;return d.type==="table_item"&&((e=d.inner)===null||e===void 0?void 0:e.qb)===b.qb&&!((f=d.inner)===null||f===void 0?0:f.item)});case "layout-item-cell":case "sheet-item-cell-richtext":break;
default:throw new v(b);}};aps=async function(a,b,c){var d;if(b.type!=="body"&&b.type!=="responsive_page"){var e=a.bka(b),f=a.viewport.scrollingContainer;if(e&&f){var g=f.scrollHeight;e=e.tl.y;var h=f.scrollTop;f=f.clientHeight;if(!(Math.abs(Math.ceil(h)-Math.ceil(e))<2||h<e&&h+f>=g))return b=(c?c===((d=b.page)===null||d===void 0?void 0:d.ja):1)&&!__c.Um()?"smooth":"auto",a.viewport.CTa(e,b)}}};
bps=async function(a,b,c){var d=b.context;b=b.page;if(d.type!=="fixed-document"&&a.viewport.IS&&(d=__c.xf(d),d.type==="concatenated-fixed-page"&&d.pages.first()!==b.ja&&c!==d.ja))return a.viewport.xJ(d.ub(b.ja))};
Uos=async function(a,b){const c=b.page;if(c&&c.ja!==a.viewport.jh.ja&&a.da.document.Ja!=="responsive"&&(c.type!=="fixed-page"||c.container.type!=="design-item"))return b=__c.xf(c),a.viewport.xJ(c,a.viewport.uh&&a.viewport.IS&&((b===null||b===void 0?void 0:b.type)!=="concatenated-fixed-page"||(b===null||b===void 0?void 0:b.ja)!==a.viewport.ya)||__c.Um()?void 0:{animate:{from:a.viewport.jh}}),cps(()=>c.ja.type==="responsive"?a.viewport.dP!=null:a.viewport.uh,{timeout:300})};
Vos=function(a,b){switch(b.type){case "element":case "grid_element":case "shape_element":case "table_element":var c=b.group,d=b.element;const e=b.context,f=b.type;b=b.inner;if(c)pa(__c.qoe(d)),e.type==="group-element"?a.selection.Ol(e,d):(pa(e.type!=="chart-element"&&e.type!=="layout-element-cell"&&e.type!=="controlled-element"),a.selection.Ol(e.Tf(c),d));else if(b)switch(f){case "grid_element":a.selection.HQc(e.Tf(d),b);break;case "shape_element":a.selection.Ice(e.Tf(d),b);break;case "table_element":a.selection.TNa(e.Tf(d),
b,[b]);break;default:throw new v(f);}else e.type!=="chart-element"?a.selection.Ol(e,d):a.selection.Ol(e.container,e.Xb);break;case "fixed_page":c=b.context;b=b.page;na(c.type!=="design-item");a.selection.hU(c,b.ja);break;case "responsive_page":a.Xa.Ju(b.context.ub(b.target).text);break;case "body":a.Xa.Ju(__c.zf(b.context,b.target).text);break;case "item":case "table_item":c=b.context;d=b.item;(b=b.inner)?b.item?a.Xa.Rv(b.qb.content.text,b.item):a.Xa.Pqb(c.text,d,[b.qb]):a.Xa.Rv(c.text,d);break;case "computed_range":a.Xa.Ju(b.context.text,
b.dD.range);break;default:throw new v(b);}};dps=function(a,b){var c;const d=a.store.iU;a=a.store.ZJb.find(({Q5:g})=>{var h;return g.element?g.element===b:((h=g.page)===null||h===void 0?void 0:h.ja)===b});var e;const f=d?(e=d.Q5.element)!==null&&e!==void 0?e:(c=d.Q5.page)===null||c===void 0?void 0:c.ja:void 0;return a?{dkd:f===b,type:"warning"}:void 0};
eps=function(a){a.r6j=dV(()=>{var b,c,d;return{inner:(b=a.selection.La)===null||b===void 0?void 0:b.inner,Bg:(c=a.selection.La)===null||c===void 0?void 0:c.Bg,Qz:(d=a.selection.La)===null||d===void 0?void 0:d.Qz}},({inner:b,Bg:c,Qz:d})=>{let e;if(c){switch(c.type){case "grid":(b=(b===null||b===void 0?void 0:b.type)==="grid"?b.Ud:void 0)&&Zos(a,b)&&(e=b);break;case "shape":b=(b===null||b===void 0?void 0:b.type)==="shape"?b.Ud:void 0;var f=c.paths.filter(g=>g.fill.dropTarget===!0);(f=f.length===1?f[0]:
void 0)&&Zos(a,f)?e=f:b&&Zos(a,b)&&(e=b);break;case "table":(b=(b===null||b===void 0?void 0:b.type)==="table"?b.Ud:void 0)&&Zos(a,b)&&(e=b);break;case "group":(b=(b===null||b===void 0?void 0:b.type)==="group"?b.mb.at(0):void 0)&&Zos(a,b)&&(e=b);break;case "layout":d=(b===null||b===void 0?void 0:b.type)==="layout"?(f=b.Ud)===null||f===void 0?void 0:f.element:void 0;(d=(b===null||b===void 0?void 0:b.type)==="layout-cell"?b.Ud:void 0)&&Zos(a,d)&&(e=d);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "controlled":break;
default:throw new v(c);}e||(e=c)}else d&&d.type==="fixed-page"&&(e=d.ja);a.wLi(e)})};
fps=function(a){a.r$g=a.Xa.sSe(()=>{const b=a.selection.Ib;if(!b)return!1;var c=b.type;const d=b.container,e=a.store.ZJb,f=a.store.iU;let g;switch(c){case 0:({range:c}=a.Xa.hlb(d.text,b.range));g=$os(a,d,c);break;case 2:g=e.find(({Q5:h})=>{var k,l;return h.type==="table_item"&&((k=h.inner)===null||k===void 0?void 0:k.qb)===b.only&&!((l=h.inner)===null||l===void 0?0:l.item)});break;case 1:g=e.find(({Q5:h})=>{var k;return h.type==="table_item"&&((k=h.inner)===null||k===void 0?0:k.item)?h.inner.item===
b.only:h.item===b.only});break;case 3:case 4:case 5:break;default:throw new v(c);}g&&g!==f&&a.wLi(g.target);g||a.wLi(void 0)},{fireImmediately:!1})};
gps=function(a,b,c,d,e,f,g){const h=fV(()=>{b.layout===2&&(a.Ajh(),a.Z5e())}),k={Button:eV(({fF:p,onClick:q,oa:r})=>{const t=gV(()=>{q===null||q===void 0||q();r&&b.layout===1&&r();l("file_menu")},[q,r]);return cV(p,{onClick:t,VA:a.ahg,Ggc:b.layout===2?ur:void 0,children:L("i3xHIg")})}),navigation:b.layout===2?d:void 0,onClose:h},l=p=>{b.layout===1?(a.NWs(),a.ahg?a.dLd(p):a.Z5e("view_settings_menu_toggled")):(!c.H4&&k&&c.osc(k),a.Aul(),a.dLd(p))};let m=g;c.Eu(()=>({Ki:f.mode>=30,ei:b.layout===2}),
({SL:p},{Ki:q,ei:r})=>{p&&(k.navigation=r?d:void 0,q=q?k:void 0,p.r5i=q,m&&(q&&r&&c.osc(q),a.Aul(),m=!1))},{equals:lV.structural});e===null||e===void 0||e.install({key:"accessibility-checker",type:"simple",name:L("DJFkPQ"),Icon:CCj,aliases:[L("v25ELQ"),L("8YeK6A"),L("RsRlBQ"),L("/hr0NQ"),L("A9rBrQ")],execute:async()=>{l("quick_actions")}})};
ips=function(a){switch(a.type){case "element":return hps(a);case "fixed_page":return{type:"fixed_page",context:a.context,target:a.page,page:a.context.ub(a.page)};case "computed_range":var b=a.dD,c=a.context;return{type:"computed_range",target:b,context:c,page:c.type==="responsive-page"?c:void 0,dD:b};case "item":c=a.item;const d=a.inner;a=a.context;const e=a.type==="responsive-page"?a:void 0;if(c.type==="table"){const f=d===null||d===void 0?void 0:d.qb,g=d===null||d===void 0?void 0:d.item;return{type:"table_item",
target:(b=g!==null&&g!==void 0?g:f)!==null&&b!==void 0?b:c,page:e,context:a,item:c,inner:d}}return{type:"item",target:c,context:a,page:e,item:c};case "responsive_page":return b=a.context,c=a.body,{type:"responsive_page",target:c,context:b,page:b.ub(c)};case "body":return{type:"body",target:a.body,context:a.context};case "table_cell":throw Error("Use LintableItem (with a LintableItemInner) instead of LintableTableCell");default:throw new v(a);}};
hps=function(a){const b=a.element,c=a.context,d=a.inner,e=a.page;a=a.parent;switch(b.type){case "rect":case "line":case "chart":case "text":case "embed":case "group":case "controlled":case "sheet":return{type:"element",context:c,target:b,page:e,group:a,element:b};case "grid":let f;(d===null||d===void 0?void 0:d.type)==="grid"&&(f=d.qb);pa(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"grid_element",context:c,target:f!==null&&f!==void 0?f:b,page:e,element:b,inner:f};case "shape":let g;
(d===null||d===void 0?void 0:d.type)==="shape"&&(g=d.path);return{type:"shape_element",context:c,target:g!==null&&g!==void 0?g:b,page:e,group:a,element:b,inner:g};case "table":let h;(d===null||d===void 0?void 0:d.type)==="table"&&(h=d.qb);pa(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"table_element",context:c,target:h!==null&&h!==void 0?h:b,page:e,element:b,inner:h};case "layout":return __c.qo("FixedDesignLinterAdapter",{type:"element",context:c,target:b,page:e,group:a,
element:b});default:throw new v(b);}};
qps=function(a){var b=a.Hq;const c=a.B0g,d=a.k1c,e=a.Ma,f=a.Dc,g=a.da;var h=a.la;const k=a.P,l=a.ka,m=a.Td,p=a.YHa,q=a.ea.errorService,r=a.viewport,t=a.Caa,u=a.Ja,w=a.HUc,x=a.xe,y=a.selection,z=a.Xa,A=a.ed;let B,D,G,I,K;const N=()=>{W.lhe({jfb:B.g4d,q2f:B.view,eS:"category_page",pyf:B.iU?{$O:B.iU.category,yYe:B.iU.rule,Vgf:B.ZJb.findIndex(Z=>Z===B.iU)}:void 0})},M=()=>{Dos(W,{Bv:"selected",jfb:B.g4d,RBf:B.iU?{$O:B.iU.category,yYe:B.iU.rule,Vgf:B.ZJb.findIndex(Z=>Z===B.iU)}:void 0})},O=u==="fixed"||
a.Wpf;switch(u){case "fixed":var U=a.ksg;K=mV(()=>!jps.VXd&&!!g.document.pages.some(Z=>Z.type==="responsive"));D=a.Kl;G=a.rT;B=a=new kps(d);b=new lps(b,t,d,U,jps.VXd,g.document,z);h=new mps(a,p,g,y,r,h,z,A,q,jps.VXd,N,M);break;case "responsive":O&&(I=a.Bjd);K=mV(()=>!1);B=U=new nps(d);b=new ops(b,t,d,!1,!1,g.document,z);h=new pps(U,p,g,y,r,h,z,A,q,!1,N,M);break;default:throw new v(u);}const {aia:W,navigation:X}=Qos(h,B,b,l,f,k,w,D,G,I,K,u==="responsive"||jps.VXd,O);gps(W,l,m,X,x,e,c)};
ups=function(a){const b=a.store,c=a.L;if(!b||!c)return{oVl:void 0};const d=b.zh,e=f=>d==null?null:cV(rps,{yye:f.yye,page:d,selected:f.mc,wMr:c.Yzn,IIf:c.IIf,t8d:c.t8d,Kl:a.Kl});return{oVl:eV(()=>{var f=b.RXh;const g=b.um,h=b.uLe,k=b.C6c,l=b.F6c;return h||k?h?d!=null&&f.length>0?cV(tps,{RXh:f,um:g,vZo:e}):cV(sps,{title:L("63v7ew"),content:L("mCxSxg")}):(f=l?L("FqeC2Q"):L("jQRKWA"),cV(sps,{title:f,content:L("CBxIHQ")})):(requestAnimationFrame(()=>{c.UCn()}),null)})}};
yps=function({Ma:a,selection:b,viewport:c,Td:d,kn:e,ka:f,Id:g,Kl:h,Z4e:k}){if(k){var l={na:()=>cV(sps,{title:L("dhOFpQ"),content:""}),header:{title:L("v5miQg")}},m=new vps(c,b,g),p=new wps(m,b,f,e,l,k),{oVl:q}=ups({store:m,L:p,Kl:h});l.na=()=>q?cV(q,{}):null;d.Eu(()=>a.mode>=30&&m.uLe&&f.layout===1,({SL:r},t)=>{r&&(r.s5i=t?{Button:u=>cV(xps,{...u,MIf:p.MIf})}:void 0)})}};
Cps=function(a){const b=a.yF.Gcd;a.P.track(zps,{NF:a.yF.g_c,xte:a.yF.Que,elementType:a.yF.Zlg,Aok:a.qO.text.length,PKe:a.yF.Ylg,mediaType:Aps(b),resourceId:Bps(b)})};Dps=function(a){var b;const c=a.yF.yva;a.yF.ppd&&(a.I9f=a.gIb.TC([a.Gpn]));c&&(a.I9f=(b=a.Vf)===null||b===void 0?void 0:__c.XMg(b,a.fill));return a.I9f};
Hps=function(a,b,c,d){const e=eV(()=>{iV(()=>{const g=d.$li&&Dps(c);return()=>{g===null||g===void 0||g.then(({dispose:h})=>h())}},[]);return d.$li?cV(Eps,{magic:d.$li,onClick:c.QMq}):null}),f=__c.kw(Fps,{V:a.V,Ut:"alt_text_form"});return eV(g=>{const [h]=nV(()=>g.kb?(b.kb=g.kb,Gps(a,g.kb)):a.O1r);return cV(f,{Zlh:d.Zlh,qTh:d.qTh,idp:e,juc:d.juc,placeholder:b.placeholder,nna:c.setText,aui:c.BNi,onSubmit:c.ZW,Qc:()=>{c.onFormOpen(g.NF)},...g,gi:()=>{var k;const l=a.uCh.sb("close_alt_text_view",{Fb:{name:"editor.editing.alt_text.close_alt_text_view",
type:b.qah?"save":"without_saving"}});(k=g.gi)===null||k===void 0||k.call(g);c.onFormClose(g.NF);l.end()},Rf:{ua:h,E9:!0}})})};Ips=function(a,b){a.text=b;a.nfa=b;a.state="magic_success"};Jps=function(a){a.state="magic_error";n(a.pzc).CQj=!0};Gps=function(a,b){var c;return(c=a.Ekj)!==null&&c!==void 0&&c.isRecording()?a.Ekj:(b=a.uCh.sb("open_alt_text_view",{Fb:{name:"editor.editing.alt_text.open_alt_text_view",type:b}}),a.Ekj=b)};
Rps=function(a){var b=a.a2;const c=a.Ja,d=a.selection,e=a.fh,f=a.Bd,g=a.ka;var h=a.la;const k=a.P,l=a.Pa,m=a.ww,p=a.O$,q=a.Zb,r=a.undo;var t=a.ea;const u=t.yfa,w=t.errorService,x=t.yb,y=t.rb;t=a.xe;var z=a.t1c;const A=a.i9d,B=new Kps(a.Ga);z=new Lps(()=>x===null||x===void 0?void 0:x.pV({PU:__c.Qv({appName:"Alt Text Suggestions"})},{target:"_blank"}),()=>y===null||y===void 0?void 0:y.ht(new __c.wk({uri:"https://canva.ui-app.dev/policies/ai-safety/",target:1})),z);const D=new Mps(d,b,l,q);b=new __c.zNg([new __c.tNg(l),
new __c.uNg(l,m),new __c.vNg(l,p),new __c.wNg(q),new __c.xNg],__c.qMg(l),w,800);switch(c){case "fixed":a=n(a.TGb.AN)({type:"custom_thumbnail",Q2a:64E4});h=new Nps(D,z,u,h,r,k,B,w,b,a);break;case "responsive":h=new Nps(D,z,u,h,r,k,B,w,b);break;default:throw new v(c);}const G=Hps(B,D,h,z),I=eV(M=>cV(Ops,{Oe:M.Oe,children:cV(G,{...M})}));e.kc(()=>({Kdd:D.mfg,layout:g.layout}),(M,{Kdd:O,layout:U})=>{M.pgc=O?{Button:W=>{const X=gV(()=>{var Z;D.kb="contextual_menu";Gps(B,"contextual_menu");U===2?(Z=W.Og)===
null||Z===void 0||Z.Zg({$e:I,options:{sg:()=>L("2kDi/A")}}):D.LEb&&e.f5(D.LEb)},[W.Og]);return cV(Pps,{...W,onClick:X})},na:I}:void 0;D.LEb=M.pgc;A&&U===1&&D.LEb&&e.f5(D.LEb)},{equals:lV.structural,yUn:!0});const K=new __c.Tx,N=()=>K.Zg({$e:I,options:{sg:()=>L("2kDi/A")}});f.plugins.pgc=()=>({Rd:()=>D.mfg,Button:M=>{const O=M.onClick,U=gV(()=>{O&&O();N()},[O]);return cV(Qps,{...M,onClick:U})},navigation:K});t===null||t===void 0||t.wm(()=>!!D.LEb&&D.mfg&&g.layout!==2&&D.$xj,{type:"simple",key:"alt-text",
name:L("2kDi/A"),Icon:CCj,aliases:[L("L4kqUg"),L("IMUp/A"),L("42FIOw"),L("TqUHjA"),L("F7VHdQ")],execute:async()=>{pa(!!D.LEb&&D.mfg&&D.$xj);D.kb="quick_action";Gps(B,"quick_action");D.LEb&&e.f5(D.LEb)}});return{HUc:G}};Sps=function(){throw Error("Semantics text attribute not supported in Sheets");};Tps=function(a,b){var c,d;return(d=(c=__c.uB(a,b))===null||c===void 0?void 0:c.pH)!==null&&d!==void 0?d:[]};
Xps=function(a){if(a.Ja==="responsive")return{Z4e:void 0};var b=a.Id;a=new Ups(a.jc);b=new Vps(a,b);return{Z4e:new Wps(a,b)}};
Zps=function({Z3:a,activeIndex:b,h$e:c,eke:d,hasError:e,id:f,wa:g,oK:h,bMk:k,onClick:l,options:m,setActive:p,spacing:q,fua:r,RFa:t}){if(!g&&e)return cV(R,{padding:"2u",children:cV(Q,{alignment:"center",children:L("cXUN2w")})});e=__c.Jl(m,Number(h));var u;f=g&&d?cV(Yps,{eke:d,jt:k,oK:h,spacing:q,fua:r,RFa:t}):cV(R,{id:f,role:"grid",children:cV(Wc,{spacing:(u=t!==null&&t!==void 0?t:q)!==null&&u!==void 0?u:"1u",children:e.map((w,x)=>cV(hr,{columns:h,role:"row",spacing:q,fua:r,RFa:t,children:w.map((y,
z)=>{const A=Number(h)*x+z;z=A===b;return cV("div",{id:z?a:void 0,onClick:()=>l(A),onMouseEnter:()=>p(A),role:"gridcell",children:cV(c,{active:z,option:y})},A)})},x))})});return cV(R,{padding:"2u",children:cV(__c.Au,{keyFrame:g&&d?0:1,direction:"replace",children:f})})};$ps=function(a,b){b<0||b>=a.store.options.length||(a.store.activeIndex=b)};
cqs=function({h$e:a,eke:b,onSelect:c,oK:d,bMk:e,options:f}){const g=new aqs(d,f),h=new bqs(g,c),k=fV(m=>{$ps(h,m)}),l=fV(m=>{var p;if(m=h.store.options[m])(p=h.onSelect)===null||p===void 0||p.call(h,m)});return{yMh:()=>{h.store.activeIndex=-1},Lxh:eV(m=>cV(Zps,{activeIndex:g.activeIndex,h$e:a,eke:b,oK:d,bMk:e,onClick:l,options:f.get(),setActive:k,...m})),onKeyDown:m=>{h.onKeyDown(m.key)}}};
fqs=function({Qe:a,xe:b,v_h:c}){if(a&&b&&c){var {yMh:d,Lxh:e,onKeyDown:f}=cqs({h$e:dqs,eke:eqs,oK:3,onSelect:async()=>{a.qJ({});a.close({trigger:"insert"})},options:mV(()=>[])});b.wm(()=>!0,{type:"simple",key:"cover",name:L("3SRQvA"),Icon:__c.car,dI:!1,execute:async()=>{d();a.push({gaa:mV(()=>({tQ:a.Z3,CPa:"none",ariaExpanded:!1,ariaHasPopup:"grid"})),T7:{defaultValue:L("L2Fjrg"),uBa:!0},Component:eV(({Uzb:g})=>cV(e,{Z3:a.Z3,hasError:!1,id:g,wa:!1,fua:"1.5u",RFa:"1u"})),onKeyDown:fV(g=>{f(g);return!1})})}})}};
iqs=function({UJ:a,Qe:b,xe:c}){const d=new gqs,e=(g,h)=>b.m5a({Use:!0,iZc:g,kb:h}),f=async(g,h)=>{pa(d.status!=="loading");try{oV(()=>d.status="loading"),b.qJ({}),await a(g),e(!0,h),b.close({trigger:"insert"}),oV(()=>d.status="none")}catch(k){e(!1,h),oV(()=>d.status="error")}};c.install({type:"simple",key:"embed",name:L("pwHv5A"),Icon:__c.MZi,dI:!1,execute:async()=>{b.push({Component:eV(()=>d.status==="error"?cV(hqs,{}):null),gaa:mV(()=>({ariaExpanded:d.status==="error",CPa:"none"})),Q$d:{show:mV(()=>
d.status==="error")},T7:{loading:mV(()=>d.status==="loading"),defaultValue:"",placeholder:L("w4sSag")},sYb:fV(()=>{d.status==="error"&&(d.status="none")}),onKeyDown:g=>{const h=b.query;g.key==="Enter"&&h.length&&d.status!=="loading"&&f(h,"keyboard");return!1}})}})};
jqs=function({sc:a,Qe:b,xe:c,toolbar:d,Rr:e}){const f=async(g,h)=>{var k;b.qJ({});b.close({trigger:"insert"});await ((k=a.kag)===null||k===void 0?void 0:k.call(a,g,{Yc:"quick_actions"},void 0,`static-${h}`));d.OIa()};c.install({type:"simple",key:"poll",name:L("8GP/2A"),Icon:__c.fRo,execute:async()=>f(__c.lns(e.BT,"poll"),"poll")});c.install({type:"simple",key:"quiz",name:L("qO376Q"),Icon:__c.hRo,execute:async()=>f(__c.lns(e.BT,"quiz"),"quiz")})};
pV=function(a,b){return a.Pjh.get(`#${b.id.toLowerCase()}`)||a.Pjh.get(`.${b.className.toLowerCase()}`)||b.className.toLowerCase().split(" ").map(c=>a.Pjh.get(`.${c}`)).find(c=>!!c)||a.Pjh.get(b.tagName.toLowerCase())||a.Pjh.get(`${b.tagName.toLowerCase()}.${b.className}`)};
kqs=function(a){a=qV(a);var b;a:{if(a.length&&a!=="initial"&&(b=document.createElement("canvas").getContext("2d"))){b.fillStyle=a;b=b.fillStyle;break a}b=void 0}a=b||a;try{try{const {r:d,g:e,b:f,a:g}=__c.WIa(a);var c=__c.bi(new __c.Th(Math.floor((1-g)*255+g*d),Math.floor((1-g)*255+g*e),Math.floor((1-g)*255+g*f))).toLowerCase()}catch(d){const {r:e,g:f,b:g}=__c.di(a);c=__c.bi(new __c.Th(e,f,g)).toLowerCase()}return c}catch(d){}};
lqs=function(a,b){var c,d;const e=b.style.backgroundColor||((c=pV(a,b))===null||c===void 0?void 0:c.backgroundColor)||b.style.background||((d=pV(a,b))===null||d===void 0?void 0:d.background);if(e&&e!=="transparent")return kqs(e)};mqs=function(a,b){var c,d;const e=b.style.borderLeftColor||((c=pV(a,b))===null||c===void 0?void 0:c.borderLeftColor)||b.style.borderInlineStartColor||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineStartColor);if(e)return kqs(e)};
nqs=function(a,b){var c,d;const e=b.style.borderRightColor||((c=pV(a,b))===null||c===void 0?void 0:c.borderRightColor)||b.style.borderInlineEndColor||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineEndColor);if(e)return kqs(e)};oqs=function(a,b){var c;if(a=b.style.color||((c=pV(a,b))===null||c===void 0?void 0:c.color))return kqs(a)};
qqs=function(a,b){var c,d;const e=b.style.borderLeftWidth||((c=pV(a,b))===null||c===void 0?void 0:c.borderLeftWidth)||b.style.borderInlineStartWidth||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineStartWidth);if(e)return pqs(qV(e))};rqs=function(a,b){var c,d;const e=b.style.borderRightWidth||((c=pV(a,b))===null||c===void 0?void 0:c.borderRightWidth)||b.style.borderInlineEndWidth||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineEndWidth);if(e)return pqs(qV(e))};sqs=function(a){a=qV(a);switch(a){case "solid":case "dotted":case "dashed":return a}};
tqs=function(a,b){var c,d;const e=b.style.borderLeftStyle||((c=pV(a,b))===null||c===void 0?void 0:c.borderLeftStyle)||b.style.borderInlineStartStyle||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineStartStyle);if(e)return sqs(e)};uqs=function(a,b){var c,d;const e=b.style.borderRightStyle||((c=pV(a,b))===null||c===void 0?void 0:c.borderRightStyle)||b.style.borderInlineEndStyle||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineEndStyle);if(e)return sqs(e)};
vqs=function(a,b){var c;if(a=b.style.fontSize||((c=pV(a,b))===null||c===void 0?void 0:c.fontSize))return c=pqs(qV(a)),c!=null&&c>0?c:void 0};wqs=function(a,b){var c;if(a=b.style.fontWeight||((c=pV(a,b))===null||c===void 0?void 0:c.fontWeight)){c=qV(a);switch(c){case "normal":case "bold":return c}c=parseInt(c,10);if(!isNaN(c))return __c.RPh.getStyle(c)}};
xqs=function(a,b,c){var d;if(a=b.style.textAlign||((d=pV(a,b))===null||d===void 0?void 0:d.textAlign))switch(d=qV(a),d){case "start":case "center":case "end":case "justify":return d;case "left":return c==="rtl"?"end":"start";case "right":return c==="rtl"?"start":"end"}};yqs=function(a){let b=0;for(a=a.parentElement;a!=null;)["OL","UL"].includes(a.tagName)&&(b=Math.min(8,b+1)),a=a.parentElement;return b<=0?void 0:b};
zqs=function(a){var b;a:{for(b=a;b!=null;){if(b.tagName==="LI")break a;b=b.parentElement}b=void 0}switch(b===null||b===void 0?void 0:b.getAttribute("role")){case "checkbox":return(b===null||b===void 0?void 0:b.getAttribute("aria-checked"))==="true"?"checked":"unchecked"}a:{for(b=a.parentElement;b!=null;){if(["OL","UL"].includes(b.tagName))break a;b=b.parentElement}b=void 0}const c=a.style.listStyleType||a.style.listStyle||(b===null||b===void 0?void 0:b.style.listStyleType)||(b===null||b===void 0?
void 0:b.style.listStyle);if(c)switch(a=qV(c),a){case "none":case "disc":case "circle":case "square":case "decimal":case "lower-alpha":case "lower-roman":return a}else{if((b===null||b===void 0?void 0:b.tagName)==="OL")return"decimal";if((b===null||b===void 0?void 0:b.tagName)==="UL")switch(yqs(a)){case 0:case 1:return"disc";case 2:return"circle";default:return"square"}}};Aqs=function(a,b){var c;if(a=b.style.fontStyle||((c=pV(a,b))===null||c===void 0?void 0:c.fontStyle))switch(c=qV(a),c){case "normal":case "italic":return c}};
Bqs=function(a,b){var c;if(a=b.style.textDecoration||((c=pV(a,b))===null||c===void 0?void 0:c.textDecoration)){var d;qV(a).split(" ").forEach(e=>{switch(e){case "none":case "underline":d=e}});return d}};Cqs=function(a,b){var c;if(a=b.style.textTransform||((c=pV(a,b))===null||c===void 0?void 0:c.textTransform))switch(c=qV(a),c){case "none":case "uppercase":return c}};
Dqs=function(a,b){var c;if(a=b.style.textDecoration||((c=pV(a,b))===null||c===void 0?void 0:c.textDecoration)){var d;qV(a).split(" ").forEach(e=>{switch(e){case "line-through":d="strikethrough";break;case "none":d="none"}});return d}};Eqs=function(a,b){var c=(a=b.style.direction||((c=pV(a,b))===null||c===void 0?void 0:c.direction))?qV(a):void 0;switch(c){case "ltr":case "rtl":return c;default:if(b.dir==="ltr"||b.dir==="rtl")return b.dir}};
Iqs=function(a,b){var c;if(a=b.style.lineHeight||((c=pV(a,b))===null||c===void 0?void 0:c.lineHeight))return c=qV(a),c=Fqs(c),c!=null?Math.max(Gqs,Math.min(c,Hqs)):void 0};Mqs=function(a,b){var c;if(a=b.style.letterSpacing||((c=pV(a,b))===null||c===void 0?void 0:c.letterSpacing)){c=qV(a);switch(c){case "normal":return 0}c=c&&c.endsWith("em")?Jqs(c):void 0;return c!=null?Math.max(Kqs,Math.min(Lqs,c)):void 0}};
Nqs=function(a){a=a.tagName.toLowerCase();switch(a){case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "p":return a;case "blockquote":case "quote":return"blockquote"}};Oqs=function(a,b){var c=(a=b.style.verticalAlign||((c=pV(a,b))===null||c===void 0?void 0:c.verticalAlign))?qV(a):void 0;switch(c){case "super":case "sub":return c}};qV=function(a){for(;Pqs.test(a);)a=a.replace(Pqs,"$1");return a};Jqs=function(a){a=parseFloat(a);if(!isNaN(a)&&Number.MIN_SAFE_INTEGER<a&&a<Number.MAX_SAFE_INTEGER)return a};
pqs=function(a){if(a){if(a.endsWith("px"))return Jqs(a);if(a.endsWith("pt")&&(a=Jqs(a),a!=null))return Math.round(a*4/3*100)/100}};Fqs=function(a){if(a&&/^\d*\.?\d+$/.test(a))return Jqs(a)};Sqs=function(a,b){let c;try{c=(new DOMParser).parseFromString(b,"text/html")}catch(d){return}b=new Qqs(c.getElementsByTagName("style"));a=new Rqs(b,a);Yns(c,a);return a.finish()};Tqs=function(a){const b=a.tMf.trimEnd(),c=a.tMf.slice(b.length);a.builder.Wb(b);a.tMf=c};
Uqs=function(a,b){Tqs(a);Object.assign(a.jqm,b);a.builder.attrs(b)};Vqs=function(a,b){a.tMf+=b.replace(/\u00a0/g," ")};Xqs=function(a,b){const c={...Wqs.get(b.tagName)};var d=wqs(a.Qea,b);d&&(c.fontWeight=d);(d=Aqs(a.Qea,b))&&(c.fontStyle=d);(d=oqs(a.Qea,b))&&(c.color=d);(d=Bqs(a.Qea,b))&&(c.decoration=d);(a=Dqs(a.Qea,b))&&(c.sv=a);return c};Yqs=function(a,b,c){b=Xqs(a,b);const d=__c.he(Ce,b,(e,f)=>a.jqm[f]);Uqs(a,b);c();Uqs(a,d)};
$qs=function(a){return Xk.md().attrs({fontFamily:a.Rr.Pkc&&__c.ej(a.Rr.Pkc),fontSize:Zqs,color:"#ffffff"})};brs=async function(a,b,c){const d=a.AFj;if(d==null)a.Xa.v9b(c);else if(b=ars(a.lyb,b,c),b=await a.k6a(b,{Yc:"code_blocks"}),b!=null&&b.cells.size!==0){var [e,f]=[...b.cells.entries()][0],g=__c.Vra(d.Dw(b),e,f);requestAnimationFrame(()=>a.selection.Ju(g,f.text,Nw.end()))}};crs=async function(a){if(a.rKh){const b=$qs(a).Wb("\n").build();await brs(a,"#1f1f1f",b)}else a.showNotification(L("9mS+7A"))};
drs=async function(a){const b=await a.QQq(a.la);await oV(()=>{if(!b)return a.showNotification(L("WQlllg"));var c=$qs(a);c=a.y8r(c,b);if(c==null||c.E3.length<=1)return a.showNotification(L("WQlllg"));var d;const e=(d=c.backgroundColor)!==null&&d!==void 0?d:"#1f1f1f";return brs(a,e,c.E3)})};ers=async function(a){var b;const c=__c.eZi();let d;try{d=await c.read()}catch(e){a.Hb({Cb:L("H8xFAw")});return}return d===null||d===void 0?void 0:(b=d["text/html"])===null||b===void 0?void 0:b.text()};
ars=function(a,b,c){a=a.next();const d={...__c.qn,padding:{...__c.VXc,all:10},gridColumnStart:"1",gridColumnEnd:"2",gridRowStart:"1",gridRowEnd:"2"};return{...__c.aZc,width:"100%",fill:{...ms,color:b},pb:{...__c.UXc,all:10},cells:new Map([[a,{...__c.$Yc,text:c}]]),behavior:{rules:[{zp:void 0,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["1fr"],columnGap:0,rowGap:0,Tv:new Map([[a,d]])}},{zp:450,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["auto"],columnGap:0,rowGap:0,Tv:new Map([[a,d]])}}]}}};
frs=function(a,b){return(c,d,e)=>{if(!a())return!0;e=e.format;const f=d.index;d=d.length;d>0&&(c.deleteText(f,d,"user"),c.focus());c.insertText(f,"`",e,"user");c.history.cutoff();c.deleteText(f-2,3,"user");b();return!1}};
hrs=function({selection:a,Xa:b,qTa:c,k6a:d,lyb:e,Rr:f,Qe:g,xe:h,la:k,PTb:l,WXd:m}){const p=new grs(a,b,d,e,k,f);l&&(c.M0.aGn=frs(()=>p.rKh,()=>crs(p)));m&&g&&h&&h.wm(()=>p.rKh||p.Tcm,{type:"simple",key:"code-blocks",name:L("l+Rifw"),Icon:__c.MZi,execute:async()=>{g.qJ({});g.close({trigger:"insert"});await drs(p)}})};irs=function(a,b){b=__c.Ene(b,a.uo,a.Rk);a.k6a(b,{Yc:"quick_actions"})};
jrs=async function(a,b){const c=new __c.Yjj({ZEc:Array.from(b.keys()),V0c:!0,query:"",context:new __c.KF({Ku:a.ia,mt:!1,iO:21}),types:[2]});({results:a}=await a.Wf.vce(c));return a.filter(d=>d.type==="LAYOUT").map(d=>{const e=b.get(d.id);if(e)try{const f=__c.o_g.deserialize(JSON.parse(d.mMe));return{...e,UZb:f}}catch(f){}}).filter(d=>d!=null)};
lrs=async function(a){if(!(a.store.txf.length>0))try{a.store.BMg=!0;const {txf:b}=await __webpack_require__.me(941898).then(()=>({txf:__c.krs})),c=await jrs(a,b);oV(()=>{a.store.txf=c;a.store.nbi=!1})}catch(b){oV(()=>{a.store.nbi=!0})}finally{oV(()=>{a.store.BMg=!1})}};
nrs=async function(a){if(!(a.store.KOf.length>0))try{a.store.FMg=!0;const {KOf:b}=await __webpack_require__.me(431364).then(()=>({KOf:__c.mrs})),c=await jrs(a,b);oV(()=>{a.store.KOf=c;a.store.vFi=!1})}catch(b){oV(()=>{a.store.vFi=!0})}finally{oV(()=>{a.store.FMg=!1})}};
vrs=function({k6a:a,aSj:b,ia:c,Qe:d,xe:e,uo:f,og:g,Wf:h,Gb:k}){b=new __c.Hqe({id:c,clientId:b});const l=new ors,m=new prs(l,h,g,f,c,b,a);a=()=>{const x=m.og.Ib;return x!=null&&BVc(x.container)};const {yMh:p,Lxh:q,onKeyDown:r}=cqs({h$e:qrs,eke:rrs,oK:3,onSelect:async x=>{d.qJ({});irs(m,x.UZb);d.close({trigger:"insert"})},options:mV(()=>l.txf)});e.wm(a,{type:"simple",key:"highlight-block",name:L("uhQfzQ"),Icon:srs,dI:!1,SLa:()=>({kg:eV(()=>k.Sd.Eaj?cV(k.Sd.Eaj,{}):null),S0:k.Sd.jvr}),execute:async()=>
{p();lrs(m);d.push({gaa:mV(()=>({tQ:d.Z3,CPa:"none",ariaExpanded:!l.BMg,ariaHasPopup:"grid"})),T7:{defaultValue:L("xCwiAg"),uBa:!0},Component:eV(({Uzb:x})=>cV(q,{Z3:d.Z3,hasError:l.nbi,id:x,wa:l.BMg,fua:"1.5u",RFa:"1u"})),onKeyDown:fV(x=>{r(x);return!1})})}});const {yMh:t,Lxh:u,onKeyDown:w}=cqs({h$e:qrs,eke:trs,oK:3,bMk:1,onSelect:async x=>{d.qJ({});irs(m,x.UZb);d.close({trigger:"insert"})},options:mV(()=>l.KOf)});e.wm(a,{type:"simple",key:"quotes",name:L("jzPZzg"),Icon:urs,dI:!1,execute:async()=>
{t();nrs(m);d.push({gaa:mV(()=>({tQ:d.Z3,CPa:"none",ariaExpanded:!l.FMg,ariaHasPopup:"grid"})),T7:{defaultValue:L("3iOE/Q"),uBa:!0},Component:eV(({Uzb:x})=>cV(u,{Z3:d.Z3,hasError:l.vFi,id:x,wa:l.FMg,fua:"1.5u",RFa:"1u"})),onKeyDown:fV(x=>{w(x);return!1})})}})};
Ers=function(a,b){const c=a.xe,d=a.Qe,e=a.uo;var f=a.session;const g=f.id;f=f.clientId;const h=a.ed,k=a.selection,l=a.Gb,m=a.Wf;var p=new __c.Hqe({id:g,clientId:f});hrs({xe:c,Qe:d,la:a.la,selection:k,Xa:a.Xa,qTa:a.qTa,k6a:b,lyb:p,Rr:a.Rr,PTb:a.PTb,WXd:a.WXd});if(d&&c){var q=new wrs(d,e,b,p,a.hj,k),r=fV(async z=>{const A=k.Ib;A!=null&&BVc(A.container)&&await q.fIj(z,A.container)}),t=[xrs,yrs,zrs].map(z=>({type:"simple",key:`simple-action-${z.keyName}`,name:z.label,Icon:z.icon,dI:!1,async execute(){return r(z.FDe)}}));
a={type:"multi-simple",key:"layout-columns-presets",zxl:mV(()=>t)};var {yMh:u,Lxh:w,onKeyDown:x}=cqs({h$e:Ars,oK:3,onSelect:z=>{r(z.FDe)},options:mV(()=>Brs)});p={type:"simple",key:"layout-columns-all",name:L("mconjg"),Icon:Crs,dI:!1,SLa:()=>({kg:eV(()=>l.Sd.Abj?cV(l.Sd.Abj,{}):null),S0:l.Sd.nvr}),execute:async()=>{u();d.push({gaa:mV(()=>({tQ:d.Z3,CPa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),T7:{uBa:!0,query:mV(Drs)},Component:({Uzb:z})=>cV(w,{Z3:d.Z3,id:z,spacing:"2u"}),onKeyDown:fV(z=>{x(z);
return!1})})}};var y=()=>{const z=k.Ib;return!(z==null||!BVc(z.container)||!h.aEa(z.container.text))};c.wm(y,p);c.wm(y,a);vrs({Qe:d,xe:c,k6a:b,aSj:f,ia:g,uo:e,og:k,Wf:m,Gb:l})}};
Jrs=function({jbb:a,eGa:b,Hkd:c,viewport:d,sc:e,ka:f,Uzk:g,P:h,s1a:k}){const l=new Frs(d,k),m=new Grs(l,e,h),p=eV(({oa:r})=>cV(Hrs,{Huc:l.Huc,layout:f.layout,Ax:l.Ax,mQ:m.mQ,RZf:m.RZf,KQf:m.KQf,uPa:m.uPa,oa:r,aua:l.aua}));if(k){const r=w=>x=>m.uPa(w,x),t=w=>{var x=w.Ud;w=w.container;if(x=(x===null||x===void 0?void 0:x.type)==="line"?w.Tf(x):void 0)return g.M1p(x.container.ja,x.ja)},u=()=>b.BQb("Deselect");dV(()=>({isActive:l.isActive,Huc:l.Huc}),({isActive:w,Huc:x})=>{c.fof=w&&x&&l.aua?{One:r(x),
pHj:t,oa:u}:void 0},{equals:lV.shallow})}const q=[["ArrowUp",()=>m.ssn("prev")],["ArrowDown",()=>m.ssn("next")],["Escape",()=>{l.Huc?m.KQf():b.BQb("Deselect")}]];a.wVc=()=>({Rd:()=>!0,Button:eV(r=>{const {gzc:t,fw:u,pressed:w,...x}=r;l.ZAb(w);return cV(t,{id:"Line",icon:Irs,hb:L("ONGArA"),pressed:w,onClick:u,...x})}),na:r=>cV(p,{oa:r.oa}),iPh:q})};
Krs=function({Qe:a,xe:b,Dxa:c,selection:d,sc:e,Gb:f}){a&&b&&b.wm(()=>d.Ib!=null&&__c.AVc(d.Ib.container),{type:"simple",key:"break",name:L("zbsOKQ"),Icon:__c.Tzf,hm:Vk("Enter"),SLa:()=>({kg:eV(()=>f.Sd.b7i?cV(f.Sd.b7i,{}):void 0),S0:f.Sd.Yur}),execute:async()=>{a.qJ({});e.addPageBreak({Yc:"quick_actions"});a.close({trigger:"insert"})}});__c.Wo(c,[Vk("Enter"),g=>{const h=d.Ib;h!=null&&__c.AVc(h.container)&&(g.preventDefault(),e.addPageBreak({Yc:"shortcut"}))},L("w16Knw"),["edit","suggest"]])};
Trs=function(a){const b=a.canvas,c=a.Qe,d=a.ka,e=a.selection,f=a.Bd,g=a.viewport,h=a.Ma,k=a.Xa,l=a.Gb,m=a.Qf;if(c){a.Ja==="responsive"?c.zqh("responsive"):dV(()=>a.viewport.ya.type==="responsive",w=>{c.zqh(w?"responsive":"fixed")},{fireImmediately:!0});Lrs(()=>{var w,x,y,z;const A=a.selection.La,B=a.selection.Ib;var D;(B===null||B===void 0?void 0:B.type)===4||(B===null||B===void 0?void 0:B.type)===5||(B===null||B===void 0?void 0:B.type)===1&&(B===null||B===void 0?void 0:(w=B.only)===null||w===void 0?
void 0:w.type)==="sheet"||(A===null||A===void 0?void 0:(x=A.inner)===null||x===void 0?void 0:x.type)==="sheet"||(A===null||A===void 0?void 0:(y=A.inner)===null||y===void 0?void 0:y.type)==="sheet-cell-media"||(A===null||A===void 0?void 0:A.type)==="elements"&&((z=A.Ud)===null||z===void 0?void 0:z.type)==="sheet"?c.$qh({type:"sheet",editable:(D=A===null||A===void 0?void 0:A.Ki())!==null&&D!==void 0?D:!0}):c.$qh(void 0)});var p=mV(()=>{var w;if(((w=e.Ib)===null||w===void 0?void 0:w.type)===0)return a.ed.$Da(e.Ib.container.text,
e.Ib.range)},{equals:__c.ok(Sj)});Mrs(a,p);var q=new Nrs(e,h,d),r=new Ors(q,k,g,e,c),t=new Prs(h,e,d,k),u=new Qrs(t,k,h);dV(()=>k.focused,()=>{var w;return(w=u.Hwn)===null||w===void 0?void 0:w.call(u)});f.plugins.X3=()=>({Rd:()=>q.vnh,Button:eV(w=>{const x=w.onClick,y=gV(z=>oV(()=>{x===null||x===void 0||x();r.YNk(z)}),[x]);return cV("div",{ref:c.jjl,children:cV(Rrs,{...w,open:c.isOpen,Yxk:q.AKc&&d.layout===1?"gradient":"static",Icon:q.AKc?__c.fng:d.layout===2?__c.B$d:Nu,vj:q.Brl?m.Qzh:void 0,onClick:y})})})});
b.kc(()=>t.cem,(w,x)=>{w.vn.NL.$6f=x?eV(()=>{var y=p.get();if(y==null)return null;y=y.Lb();return cV(Srs,{show:t.nQ,onClick:r.YNk,top:y.top+y.height/2,Jle:l.Jle,onFocus:u.onFocus,onBlur:u.onBlur,onMouseDown:u.onMouseDown})}):void 0})}};
Mrs=function(a,b){var c;const d=a.canvas,e=a.session.undo,f=a.viewport,g=a.Ma,h=a.ka,k=a.selection,l=a.WW,m=a.Qe,p=a.qna,q=a.Xa,r=a.ed,t=a.FWd;if(m){var u,w,x=()=>{var z;if(((z=k.Ib)===null||z===void 0?void 0:z.type)===4){const A=mV(()=>{if(f.uF){var B=k.Ib;if((B===null||B===void 0?void 0:B.type)===4&&B.ju)return __c.VXf(B,r,f)}});z=mV(()=>{var B;const D=(B=A.get())===null||B===void 0?void 0:B.Sya;return D?Pj(D):void 0});Urs?m.Wwc({type:"sheet",box:z,jNf:__c.XXf(A,d,p)}):m.Wwc({type:"fixed",anchor:"top",
direction:"right",box:mV(()=>{if(f.uF){var B=k.Ib;if((B===null||B===void 0?void 0:B.type)===4&&B.ju){var D=B.container.sheet;const N=__c.Gk(D.config,B.ju.column,B.ju.row);if(N){var G=new qA(B.container.container.Dw(B.container.sheet),r,f);B=__c.Ek(D.config).find(M=>__c.Wj(M.box,N));var I=G.hJ,K=G.Zz;I=D.config.direction==="rtl"?vj(K.tr,I.tr):vj(K.tl,I.tl);G=G.xN.then(Vj(K));D=__c.Fk(D.config,I,B).then(G.invert());return Pj(N.transform(D))}}}})})}else m.Wwc({type:"responsive",box:mV(()=>{const A=f.uF,
B=f.dP,D=b.get();if(A&&B&&D)return D.transform(B.invert())})})},y=({hm:z,trigger:A})=>{if(h.layout===1&&k.La){var B,D,G;({to:z}=Vrs({hm:z,Ja:"fixed"}));if(((B=k.La.inner)===null||B===void 0?void 0:B.type)==="sheet"||A!=="shortcut_targeted"){if(((G=k.La)===null||G===void 0?void 0:(D=G.inner)===null||D===void 0?void 0:D.type)==="sheet"){const I=mV(()=>{if(k.La)return __c.WXf(k.La,f,g)});B=mV(()=>{var K;const N=(K=I.get())===null||K===void 0?void 0:K.Sya;return N?Pj(N):void 0});Urs?m.Wwc({type:"sheet",
box:B,jNf:__c.XXf(I,d,p)}):m.Wwc({type:"fixed",box:mV(()=>{var K=k.La;if(K&&K.inner&&K.inner.type==="sheet"){var N=K.inner.ju;if(N!=null){var M;K.type==="pages"?M=new oA(K.container.ub(K.inner.page),f,g):K.type==="elements"&&(M=new nA(K.container.Tf(K.inner.sheet),f));if(M!=null){K=M.sheet;var O=M.hJ,U=M.Zz;M=M.xN;var W=__c.Gk(K,N.column,N.row);if(W)return N=__c.Ek(K).find(X=>__c.Wj(X.box,W)),O=K.direction==="rtl"?vj(U.tr,O.tr):vj(U.tl,O.tl),U=M.then(Vj(U)),K=__c.Fk(K,O,N).then(U.invert()),Pj(W.transform(K))}}}}),
anchor:"top",direction:"right"})}m.open({trigger:A,to:z})}}};a.qTa.M0.p8d=fV(z=>{if(h.layout!==1)return!0;if(g.mode<=20)return!1;var A=k.Ib;if((A===null||A===void 0?void 0:A.container.type)==="sheet-item-cell-richtext")return!0;let B;switch(z){case "/":A="shortcut";break;case ":":A="shortcut_targeted";B="blank-emoji-responsive";break;case "@":A="shortcut_targeted";B="mention";break;default:throw new v(z);}m.open({trigger:A,to:B});if(!m.isOpen)return!0;w=e.startBuffering();u=q.nAa(z,Zgf(q)).connect();
x();return!1});a.Ja!=="responsive"&&m.LPc(l,y);m.LPc(a.Ja==="responsive"?l:a.xAb,({hm:z,trigger:A,Y4e:B})=>{var D=k.Ib;if(D&&B){B=h.layout===1&&(__c.wba(z)||Wrs(B.prefix,z))&&D.container.type!=="sheet-item-cell-richtext";if(D.type===0)return!1;if(B||!__c.wba(z))if(B||__c.wba(z)){var {to:G}=Vrs({hm:z,Ja:"responsive",DA:D.type});B=()=>{var I;m.open({trigger:A,to:G});m.isOpen&&(w=e.startBuffering(),((I=k.Ib)===null||I===void 0?void 0:I.type)!==0||__c.wba(z)||(u=q.nAa(z,Zgf(q)).connect()),x())};switch(D.type){case 2:const I=
D.only;if(!I){B();break}D=__c.Af(D.container,I).text;q.Ju(D,Nw.all());q.focus();B();break;case 4:B();break;case 5:case 3:case 1:B();break;default:throw new v(D);}}else switch(D.type){case 2:B=D.only;if(!B)break;D=__c.Af(D.container,B).text;q.Ju(D,Nw.all());q.focus();q.nAa(z);break;case 4:case 5:case 3:case 1:break;default:throw new v(D);}}});dV(()=>m.query,z=>{z===" "&&(q.nAa(" "),setTimeout(()=>{m.close({trigger:"escape"})},0))});m.addEventListener("beforeapply",fV(()=>{u!==null&&u!==void 0&&u.Nc&&
(q.Ju(u.Nc,u),q.WP(),u.disconnect())}));m.addEventListener("close",fV(({trigger:z})=>{w===null||w===void 0||w.stop();w=void 0;u===null||u===void 0||u.disconnect();u=void 0;z!=="show_dialog"&&setTimeout(()=>{q.focused||q.focus()})}));a=t===null||t===void 0?void 0:t.get();(a===null||a===void 0?0:(c=a.zqa)===null||c===void 0?0:c.BIn)&&m.open({trigger:"ui_state"})}};
Wrs=function(a,b){switch(b){case "/":return!!a.match(/(^|\s)$/);case ":":return!!a.match(/(^|\s)$/);case "@":return!!a.match(/(^|\s|\p{P})$/u);default:throw new v(b);}};Vrs=function(a){switch(a.hm){case ":":return{trigger:"shortcut_targeted",to:a.Ja==="fixed"?"blank-emoji-fixed":"blank-emoji-responsive"};case "@":return{trigger:"shortcut_targeted",to:a.Ja==="fixed"||a.DA===4?"mention-insert":"mention"};default:return{trigger:"shortcut"}}};
bss=function({jbb:a,eGa:b,Hkd:c,viewport:d,jc:e,sc:f,Gba:g,ka:h,P:k,s1a:l}){const m=new Xrs(g,d,l),p=new Yrs(m,e,f,k),q=eV(({oa:t})=>cV(Zrs,{oa:t,layout:h.layout,Gba:g,YQc:m.YQc,Ax:m.Ax,mQ:p.mQ,Y8:p.Y8,Lge:p.Lge,LQf:p.LQf,aua:m.aua}));if(l){const t=eV(()=>m.RAb&&p.CFa?cV($rs,{shape:m.RAb,FBs:p.CFa}):null),u=x=>y=>p.Y8(x,y),w=()=>b.BQb("Deselect");dV(()=>({isActive:m.isActive,RAb:m.RAb}),({isActive:x,RAb:y})=>{c.fof=x&&y&&m.aua?{gr:t,One:u(y),t5c:p.q6q,oa:w}:void 0},{equals:lV.shallow})}const r=[["ArrowUp",
()=>p.tsn("prev")],["ArrowDown",()=>p.tsn("next")],["Escape",()=>{m.YQc?p.LQf():b.BQb("Deselect")}]];a.KUa=()=>({Rd:()=>!0,Button:eV(t=>{const {gzc:u,fw:w,pressed:x,...y}=t;m.ZAb(x);return cV(u,{id:"Shape",icon:ass,hb:L("8CFVjw"),pressed:x,onClick:w,...y})}),na:t=>cV(q,{oa:t.oa}),iPh:r})};css=function({GHs:a,wFs:b,hl:c}){let d;a&&b?d=L("N/GixA"):a?d=L("qXgT6g"):b&&(d=L("0E7snA"));return cV(c,{label:n(d),Icon:Nu})};
fss=function({selection:a,yFj:b,Bd:c,Si:d,Ma:e,Ga:f}){const g=new dss(a,e);a=f.Vd("editor.editing.sheet_adding");const h=new ess(g,d,a),k=fV(()=>{h.addRow("before")}),l=fV(()=>{h.addRow("after")}),m=fV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction==="rtl"?"after":"before")}),p=fV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction!=="rtl"?"after":"before")});b.kc(()=>g.oVf,(q,r)=>{q.dyc=(r===null||r===void 0?0:r.wnj)?{Button:eV(y=>cV(y.hl,{label:J("w4rzTQ",[g.WE.length]),Icon:__c.tgr,onClick:k,
oa:y.oa}))}:void 0;q.eyc=(r===null||r===void 0?0:r.xnj)?{Button:eV(y=>cV(y.hl,{label:J("KiqINg",[g.WE.length]),Icon:__c.vgr,onClick:l,oa:y.oa}))}:void 0;q.byc=(r===null||r===void 0?0:r.Qmj)?{Button:eV(y=>cV(y.hl,{label:J("Yf0hww",[g.J_b.length]),Icon:__c.zEq,onClick:m,oa:y.oa}))}:void 0;q.cyc=(r===null||r===void 0?0:r.Rmj)?{Button:eV(y=>cV(y.hl,{label:J("qRE55g",[g.J_b.length]),Icon:__c.rgr,onClick:p,oa:y.oa}))}:void 0;var t;const u=(t=(r===null||r===void 0?void 0:r.wnj)||(r===null||r===void 0?void 0:
r.xnj))!==null&&t!==void 0?t:!1;var w;const x=(w=(r===null||r===void 0?void 0:r.Qmj)||(r===null||r===void 0?void 0:r.Rmj))!==null&&w!==void 0?w:!1;q.D5i=u||x?{Button:eV(y=>cV(css,{GHs:u,wFs:x,hl:y.hl}))}:void 0});c.plugins.dyc=()=>({Rd:()=>{var q;return!((q=g.oVf)===null||q===void 0||!q.wnj)},Button:eV(q=>cV(q.Ci,{icon:Nu,onClick:k,Ah:"icon-and-label",children:J("w4rzTQ",[g.WE.length])}))});c.plugins.eyc=()=>({Rd:()=>{var q;return!((q=g.oVf)===null||q===void 0||!q.xnj)},Button:eV(q=>cV(q.Ci,{icon:Nu,
onClick:l,Ah:"icon-and-label",children:J("KiqINg",[g.WE.length])}))});c.plugins.byc=()=>({Rd:()=>{var q;return!((q=g.oVf)===null||q===void 0||!q.Qmj)},Button:eV(q=>cV(q.Ci,{icon:Nu,onClick:m,Ah:"icon-and-label",children:J("Yf0hww",[g.J_b.length])}))});c.plugins.cyc=()=>({Rd:()=>{var q;return!((q=g.oVf)===null||q===void 0||!q.Rmj)},Button:eV(q=>cV(q.Ci,{icon:Nu,onClick:p,Ah:"icon-and-label",children:J("qRE55g",[g.J_b.length])}))})};
jss=function(a,b){const c=a.viewport,d=a.selection,e=a.Ja,f=a.Pb,g=a.xe,h=a.Qe,k=a.Rr,l=a.hj;if(h&&g){var m=a.Ga.Vd("editor.editing.sheet_adding");a=fV((r,t)=>{const u=m.sb("create_and_add_sheet",{Fb:{name:"editor.element.add",type:"sheet",attrs:new Map([["action","quick_actions"]])}});r=__c.wxa(Xg,{...xYc,config:__c.eke({...__c.WHd,Pb:f,NXb:r,OXb:t,tJ:"wrap",Yi:YHd.Yi,fontSize:YHd.fontSize,fontFamily:k.BT}),id:f.Vh.generate(),top:0,left:0,width:1,height:1});b(r,{Yc:"quick_actions",span:u,vYd:!0})});
var p=new gss,q=new hss(h,a,l);g.wm(()=>{const r=d.Ib;return e!=="responsive"&&pf(c.ya)?!1:r!=null?__c.DVc(r.container):!0},{type:"simple",key:"sheet",name:L("fN/KMA"),aliases:[L("Yvno9Q")],Icon:__c.eG,execute:async()=>h.push({T7:{uBa:!0,query:mV(()=>{var r=p.activeCell;return`${r.col+1}x${r.row+1}`})},gaa:mV(()=>({tQ:h.Z3,CPa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:r=>cV(iss,{...r,yCs:p,L:q}),onKeyDown:r=>{r.key!=="Tab"&&r.preventDefault();switch(r.key){case "Enter":q.select(p.activeCell,
"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":q.vUg(p,r.key)}return!1},onClose:()=>q.reset(p),reset:()=>q.reset(p)}),dI:!1})}};
oss=function(a,b){const c=a.xe,d=a.Qe,e=a.gpg,f=a.hj,g=a.Jia,h=a.P,k=a.viewport,l=a.Ga.Vd("table_adding"),m=(w,x,y)=>{w=__c.Ttg(g,{columns:w,rows:x});const z={...ws,text:Kg.q4("\n")};w=Xg.Suc({...w,cells:sd(w.cells,A=>({...A,content:z})),...__c.RXc,top:0,left:0,width:1,height:1,gb:1,Ub:1});w=new __c.tA({jg:1,element:w});y.addEvent("table_proto_created");y.nb().addEvent("table_proto_created");return w},p=(w,x,y)=>{if(a.Ja==="responsive")return m(w,x,y);switch(k.ya.type){case "fixed":case "concatenated-fixed":return w=
__c.Ttg(a.AOb,{columns:w,rows:x}),w=new __c.tA({jg:1,element:Xg.Suc(w),fonts:[]}),y.addEvent("table_proto_created"),y.nb().addEvent("table_proto_created"),w;case "responsive":return m(w,x,y);default:throw new v(k.ya);}},q=()=>{const w=a.selection.Ib;return w!=null&&__c.CVc(w.container)?!0:a.Ja!=="responsive"?!pf(a.viewport.ya):!1},r=fV((w,x,y)=>{const z=l.sb("create_and_add_table",{Fb:{name:"editor.element.add",type:"table",attrs:new Map([["action","quick_actions"]])}});b((y!==null&&y!==void 0?y:
p)(w,x,z),void 0,{Yc:"quick_actions",span:z,vYd:!0})}),t=new kss,u=new lss(d,h,r,f);if(a.Ja!=="responsive"){const w=fV((y,z,A)=>{y=__c.Ttg(a.AOb,{columns:y,rows:z});z=sd(y.cells,(B,D)=>{D=D.match(/\d+$/);const G={"text-align":"center"};Number(D?D[0]:[])===1&&(G["font-weight"]="bold");D={...ws,text:Kg.md().attrs(G).Wb("\n").build()};return{...B,content:D}});y=Xg.Suc({...y,cells:z,width:428,height:250,gb:428,Ub:250,layout:{...y.layout,cellPadding:10,borderStyle:{...y.layout.borderStyle,color:"#cccccc",
weight:2}}});y=new __c.tA({jg:1,element:y});A.addEvent("table_proto_created");A.nb().addEvent("table_proto_created");return y}),x=fV(()=>{u.addTable(3,4,w)});a.jbb.Table=()=>({Rd:q,Button:eV(y=>{const {gzc:z,fw:A,oa:B,...D}=y;y=gV(()=>{A();x();u.jya();B()},[A,B]);return cV(z,{id:"Table",icon:mss,hb:L("/92zfw"),onClick:y,...D})})})}!e&&d&&c&&c.wm(q,{type:"simple",key:"table",name:L("AibD4g"),Icon:__c.TUj,execute:async()=>d.push({T7:{uBa:!0,query:mV(()=>{var w=t.activeCell;return`${w.col+1}x${w.row+
1}`})},gaa:mV(()=>({tQ:d.Z3,CPa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:w=>cV(nss,{...w,$Qs:t,L:u}),onKeyDown:w=>{w.key!=="Tab"&&w.preventDefault();switch(w.key){case "Enter":u.select(t.activeCell,"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":u.vUg(t,w.key)}return!1},onClose:()=>u.reset(t),reset:()=>u.reset(t)}),dI:!1})};
sss=function({jbb:a,eGa:b,Hkd:c,viewport:d,jc:e,Zc:f,sc:g,P:h,s1a:k}){const l=new pss(d,k),m=new qss(l,e,f,g,h);if(k){const q=eV(()=>{var t,u=l.ZC?m.vUm(l.ZC):void 0;if(!u)return null;const w=u.text,x=u.attributes;u=u.dimensions;const y=x["font-family"],z=x["font-weight"];return cV("div",{style:{width:u.width,height:u.height,color:x.color,fontSize:`${x["font-size"]}px`,fontFamily:y?__c.jj(y):void 0,fontWeight:z?(t=__c.kj(z))===null||t===void 0?void 0:t.toString():void 0},children:w})}),r=()=>b.BQb("Deselect");
dV(()=>l.isActive,t=>{c.fof=t&&l.aua?{gr:q,One:m.addText,t5c:m.t5c,oa:r}:void 0})}const p=q=>{q.key==="Escape"&&b.BQb("Deselect")};dV(()=>l.isActive,q=>{q?document.addEventListener("keydown",p):document.removeEventListener("keydown",p)});a.Text=()=>({Rd:()=>!0,Button:eV(q=>{const {gzc:r,fw:t,oa:u,active:w,...x}=q;l.ZAb(w);q=gV(()=>{t();l.aua||(m.addText(),u())},[t,u]);return cV(r,{id:"Text",icon:rss,hb:L("yeR+vA"),onClick:q,active:w,...x})})})};
tss=function(a){const b=a.xe,c=a.Qe,d=a.sc;a.keyboardShortcuts.register(["t",()=>d.addText(L("7D/4Bg"),{Yc:"shortcut"}),L("WPMnRQ"),["edit"]]);b===null||b===void 0||b.install({type:"simple",key:"text",name:L("zHOe/Q"),Icon:__c.iA,hm:{key:"t"},dI:!1,execute:async()=>{c===null||c===void 0||c.close({trigger:"insert"});c===null||c===void 0||c.qJ({});d.addText(L("7D/4Bg"),{Yc:"quick_actions"})}})};
wss=function(a){const b=a.keyboardShortcuts,c=a.xe,d=a.Qe,e=a.sc;a.DVh||(b.register(["r",()=>e.Y8(uss,"static-rectangle",{Yc:"shortcut"}),L("t4sYiQ"),["edit"]],["c",()=>e.Y8(vss,"static-circle",{Yc:"shortcut"}),L("WNgl/w"),["edit"]]),c===null||c===void 0||c.install({type:"simple",key:"circle",name:L("YWLlfw"),Icon:__c.iVj,hm:{key:"c"},dI:!1,execute:async()=>{d===null||d===void 0||d.close({trigger:"insert"});d===null||d===void 0||d.qJ({});await e.Y8(vss,"static-circle",{Yc:"quick_actions"})}}),c===
null||c===void 0||c.install({type:"simple",key:"rectangle",name:L("cnGpyQ"),aliases:[L("OLOtCg")],Icon:__c.RUj,hm:{key:"r"},execute:async()=>{d===null||d===void 0||d.close({trigger:"insert"});d===null||d===void 0||d.qJ({});await e.Y8(uss,"static-rectangle",{Yc:"quick_actions"})}}))};
xss=function(a){const b=a.xe,c=a.Qe,d=a.sc,e=a.MWj?__c.Ybr:__c.Xbr;a.keyboardShortcuts.register(["s",()=>d.Y8(e,"static-sticky-note",{Yc:"shortcut"}),L("G/kzLg"),["edit"]]);b===null||b===void 0||b.install({type:"simple",key:"sticky-note",name:L("JzZYlg"),aliases:[L("GOfopA"),L("aw0D4Q"),L("VZc9jw")],Icon:__c.ohk,hm:{key:"s"},dI:!1,execute:async()=>{c===null||c===void 0||c.close({trigger:"insert"});c===null||c===void 0||c.qJ({});await d.Y8(__c.Xbr,"static-sticky-note",{Yc:"quick_actions"})}})};
yss=function(a){const b=a.keyboardShortcuts,c=a.xe,d=a.sc;a.DVh||(b.register(["l",()=>d.uPa({},{Yc:"shortcut"}),L("8VCGoA"),["edit"]],["|",()=>d.uPa({yMe:2},{Yc:"shortcut"},{}),L("HdnMAQ"),["edit"]]),c===null||c===void 0||c.install({type:"simple",key:"line",name:L("P9yWmw"),Icon:__c.khk,hm:{key:"l"},execute:async()=>{d.uPa({},{Yc:"quick_actions"})}}),c===null||c===void 0||c.install({type:"simple",key:"arrow-line",name:L("RWM/gg"),Icon:__c.mhk,execute:async()=>{d.uPa({deb:3},{Yc:"quick_actions"})}}))};
Ass=function(a){const b=a.session.document,c=a.selection,d=a.Ma,e=a.yFj,f=a.sc,g=a.viewport;if(b.Ja==="fixed"){var h=()=>{var k,l;const m=(l=(k=c.La)===null||k===void 0?void 0:k.pages)!==null&&l!==void 0?l:[];if(k=b.pages.last(p=>m.includes(p))){pa(f.zL!=null);const p=f.zL(k,{Yc:"contextual_menu",location:"canvas"});Promise.resolve().then(()=>g.xJ(p))}};e.kc(()=>{var k,l,m;return d.mode>=40&&((k=c.La)===null||k===void 0?void 0:k.type)==="pages"&&((l=c.La.inner)===null||l===void 0?void 0:l.type)!==
"sheet"&&((m=c.La.inner)===null||m===void 0?void 0:m.type)!=="sheet-cell-media"&&!zss(c.La)},(k,l)=>{k.pra=l?{Button:eV(m=>cV(m.hl,{label:L("IFfqmQ"),disabled:!f.UKa(1),onClick:h,Icon:__c.aBf,oa:m.oa,hm:Vk("Enter")}))}:void 0});e.kc(()=>d.mode>=30&&zss(c.La),(k,l)=>{const m=()=>{if(zss(c.La)){var p=c.La.inner.container,q=c.La.inner.pages.at(-1);q&&f.ynj(p,q,{Yc:"contextual_menu",location:"canvas"})}};k.Cuh=l?{Button:p=>cV(p.hl,{label:L("3vzkKw"),disabled:!zss(c.La)||!f.ZRd(c.La.inner.container,1),
onClick:m,Icon:__c.aBf,oa:p.oa,hm:Vk(Ro("Enter"))})}:void 0})}};zss=function(a){var b,c;return(a===null||a===void 0?void 0:a.type)==="pages"&&((b=a.inner)===null||b===void 0?void 0:b.type)==="pages"&&((c=a.inner.inner)===null||c===void 0?void 0:c.type)==="background"};
Dss=function(a,b){const c=a.store.qvj;var d=a.store.mic;if(c&&d){d=d.map(e=>{var f,g;return{element:e,box:a.store.WUa==="page"&&((f=a.selection.La)===null||f===void 0?0:f.box)?Pj((g=a.selection.La)===null||g===void 0?void 0:g.box):Pj(Qj(e))}});switch(b){case "top":b=Bss(d.map(({element:e,box:f})=>({element:e,delta:c.t.y-f.t.y})),"y");break;case "middle":b=Bss(d.map(({element:e,box:f})=>({element:e,delta:c.c.y-f.c.y})),"y");break;case "bottom":b=Bss(d.map(({element:e,box:f})=>({element:e,delta:c.b.y-
f.b.y})),"y");break;case "left":b=Bss(d.map(({element:e,box:f})=>({element:e,delta:c.Rb.x-f.Rb.x})),"x");break;case "center":b=Bss(d.map(({element:e,box:f})=>({element:e,delta:c.c.x-f.c.x})),"x");break;case "right":b=Bss(d.map(({element:e,box:f})=>({element:e,delta:c.r.x-f.r.x})),"x");break;default:throw new v(b);}Css(a,b)}};Bss=function(a,b){return{targets:Tns(a.map(({delta:c,element:d})=>[c,d])),axis:b}};
Css=function(a,b){const c=b.targets;b=b.axis;for(const [d,e]of c)a.yr.O0a(e).translate(b==="x"?d:0,b==="y"?d:0)};Ess=function(a,b){switch(b){case "center":a.alignment="50%";break;case "left":a.alignment="0%";break;case "right":a.alignment="100%";break;default:throw new v(b);}};Fss=function(a){return a.size===1?a.values().next().value:void 0};
Tss=function(a){var b=a.Ja,c=a.q3;const d=a.selection;var e=a.Bd;const f=a.ka,g=new Gss(a.Ma,d),h=new Hss(g,c),k={Rd:()=>h.iql,Button:eV(m=>cV(Iss,{...m,alignment:g.Sbh})),Pu:{sg:()=>L("V/DN5w")},na:eV(m=>cV(Jss,{...m,alignment:g.Sbh,EIa:h.EIa}))},l={Rd:()=>h.iql,Button:eV(m=>cV(Iss,{...m,alignment:g.Sbh,onClick:h.O8p}))};e.plugins.C_a=()=>f.layout===2?k:l;if(b!=="responsive"){e=a.yr;const m=a.Zc,p=a.P,q=a.fh;b=a.xe;c=a.keyboardShortcuts;const r=new __c.SYi(d,a.eb,a.te),t=new Kss(r,e,m,d,p),u=()=>
t.EIa("left","menu"),w=()=>t.EIa("center","menu"),x=()=>t.EIa("right","menu"),y=()=>t.EIa("top","menu"),z=()=>t.EIa("middle","menu"),A=()=>t.EIa("bottom","menu");q&&q.kc(()=>{var B,D,G,I,K,N;return{lYc:r.aSd,GKg:(B=r.nab)===null||B===void 0?void 0:B.GKg,FKg:(D=r.nab)===null||D===void 0?void 0:D.FKg,IKg:(G=r.nab)===null||G===void 0?void 0:G.IKg,JKg:(I=r.nab)===null||I===void 0?void 0:I.JKg,HKg:(K=r.nab)===null||K===void 0?void 0:K.HKg,EKg:(N=r.nab)===null||N===void 0?void 0:N.EKg}},(B,{lYc:D,GKg:G,
FKg:I,IKg:K,JKg:N,HKg:M,EKg:O})=>{!D||G&&I&&K&&N&&M&&O?(B.C_a=void 0,B.Muh=void 0,B.Luh=void 0,B.Ouh=void 0,B.Puh=void 0,B.Nuh=void 0,B.Kuh=void 0):(B.C_a={Button:U=>cV(Lss,{...U,WUa:r.WUa})},B.Muh={Button:U=>cV(Mss,{...U,onClick:u,disabled:G})},B.Luh={Button:U=>cV(Nss,{...U,onClick:w,disabled:I})},B.Ouh={Button:U=>cV(Oss,{...U,onClick:x,disabled:K})},B.Puh={Button:U=>cV(Pss,{...U,onClick:y,disabled:N})},B.Nuh={Button:U=>cV(Qss,{...U,onClick:z,disabled:M})},B.Kuh={Button:U=>cV(Rss,{...U,onClick:A,
disabled:O})})},{equals:lV.shallow});a=mV(()=>r.slk?void 0:eV(()=>cV(Sss,{display:"comfortable",ZRc:f.layout===1,EIa:t.EIa,WUa:r.WUa,NVd:r.NVd,IVd:r.IVd,BVd:r.BVd,HVd:r.HVd,CVd:r.CVd,LVd:r.LVd})));b===null||b===void 0||b.wm(()=>{var B;return r.aSd&&!((B=r.nab)===null||B===void 0?0:B.JKg)},{type:"simple",key:"align-top",name:L("IDKHXA"),XUb:()=>r.WUa?r.WUa==="page"?L("oUIJeA"):L("Vt0K/Q"):L("IDKHXA"),Icon:__c.X8g,execute:async()=>t.EIa("top","quick_actions")});b===null||b===void 0||b.wm(()=>{var B;
return r.aSd&&!((B=r.nab)===null||B===void 0?0:B.HKg)},{type:"simple",key:"align-middle",name:L("PcAfBw"),XUb:()=>r.WUa?r.WUa==="page"?L("cvbe3Q"):L("6DJE4g"):L("PcAfBw"),Icon:__c.T8g,execute:async()=>t.EIa("middle","quick_actions")});b===null||b===void 0||b.wm(()=>{var B;return r.aSd&&!((B=r.nab)===null||B===void 0?0:B.EKg)},{type:"simple",key:"align-bottom",name:L("+olaig"),XUb:()=>r.WUa?r.WUa==="page"?L("7FSYWw"):L("ubRa0A"):L("+olaig"),Icon:__c.N8g,execute:async()=>t.EIa("bottom","quick_actions")});
b===null||b===void 0||b.wm(()=>{var B;return r.aSd&&!((B=r.nab)===null||B===void 0?0:B.GKg)},{type:"simple",key:"align-left",name:L("A2UFbA"),XUb:()=>r.WUa?r.WUa==="page"?L("lBeN7g"):L("aPV1gw"):L("A2UFbA"),Icon:__c.R8g,execute:async()=>t.EIa("left","quick_actions")});b===null||b===void 0||b.wm(()=>{var B;return r.aSd&&!((B=r.nab)===null||B===void 0?0:B.FKg)},{type:"simple",key:"align-center",name:L("/N5DHw"),XUb:()=>r.WUa?r.WUa==="page"?L("6XfRBw"):L("iutmFw"):L("/N5DHw"),Icon:__c.P8g,execute:async()=>
t.EIa("center","quick_actions")});b===null||b===void 0||b.wm(()=>{var B;return r.aSd&&!((B=r.nab)===null||B===void 0?0:B.IKg)},{type:"simple",key:"align-right",name:L("xJd0CQ"),XUb:()=>r.WUa?r.WUa==="page"?L("sA5UnA"):L("eqyQBw"):L("xJd0CQ"),Icon:__c.V8g,execute:async()=>t.EIa("right","quick_actions")});c.register([Vk(Ro("j")),()=>t.EBn(),L("74ZxvQ"),["edit"]]);return{Rkd:r,Zqt:t,I3f:a}}};Uss=function(a){a.store.$F==="layers"&&a.Z9b||(a.xZe(),a.eC(),a.ZKd())};
Vss=function(a){const {hl:b,qNh:c,...d}=a;let e;switch(c){case "topic":a=__c.LIi;e=L("OIpCMA");break;case "color":a=__c.LBh;e=L("fiROpg");break;case "author":a=__c.Jjg;e=L("RLWDLA");break;case "reaction":a=__c.vKr;e=L("v++iLQ");break;default:throw new v(c);}return cV(b,{...d,Icon:a,label:e})};Wss=function(a,b,c){a=a.width*a.height;b=b.width*b.height;return c>0&&b/a<2&&c/b>=.01};
$ss=function(a,b){if(a.rotation===0&&b.rotation===0){var c=Tj(a,b);return c?c.width*c.height:0}a=[a.tl,a.tr,a.br,a.Fn];b=Xss([b.tl,b.tr,b.br,b.Fn]);for(c of b){if(a.length<=2)break;a=Yss(a,c)}return(c=a.length<=2?null:a)?Math.abs(Zss(c)):0};Yss=function(a,b){const c=[],d=Xss(a);a=a.map(f=>{const [g,h,k]=ats(b);return Math.sign(h*f.x+g*f.y+k)});for(let f=0;f<d.length;f++){var e=d[f];const g=a[f],h=a[f+1]||a[0];g<=0&&c.push(e[0]);g*h<0&&(e=bts(e,b))&&c.push(e)}return c};
Zss=function(a){return a.length<3?0:Xss(a).reduce((b,[c,d])=>b+(c.x*d.y-d.x*c.y),0)/2};Xss=function(a){const b=a.slice();a=a.slice();const c=a.shift();if(c==null)return[];a.push(c);return cts(b,a)};cts=function(a,b){na(a.length===b.length,"both arrays must have the same length");return a.map((c,d)=>[c,b[d]])};bts=function(a,b){const [c,d,e]=ats(a),[f,g,h]=ats(b);a=c*h-f*e;b=g*e-d*h;const k=d*f-g*c;return k===0||isNaN(k)||isNaN(a)||isNaN(b)?null:new sj(a/k,b/k)};
ats=function(a){const [{x:b,y:c},{x:d,y:e}]=a;return[b-d,e-c,d*c-e*b]};dts=function(a,b){const c=a.wq(()=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:d,children:cV(__c.gk,{message:b})})),d=()=>{c()}};ets=function(a,b,c){b.forEach(d=>{const e=a.trg.get(d);e&&e.some(f=>f===c)&&a.trg.set(d,e.filter(f=>f!==c))})};gts=function(a,b,c,d,e){const f=a.get(e,b);if(f)f.update(d,c);else{const g=new fts(e,b.length,c,d);b.forEach(h=>{__c.lj(a.trg,h,g)})}};
hts=function(a,b){if(b!==a.page)return a.xKd=[],a.Omh=new WeakMap,!0;if(a.xKd.length<1)return!0;const c=new Set(b.elements.toArray());a.xKd=a.xKd.filter(d=>c.has(d));return a.xKd.some(d=>d.text.Ya!==a.Omh.get(d))};its=function(a){return typeof WeakRef!=="undefined"?new WeakRef(a):{deref:()=>a}};lts=function(a,b,c,d){c=c.map(jts);return kts(a,b,c,Math.max(2E3,Math.min(d!==null&&d!==void 0?d:5E3,5E3)))};
jts=function(a){let b=mts,c=0,d=mts;var e=0,f=0;const g=[],h=a.Qvc.length;if(h<=8){for(f=0;f<h;f++){var k=a.Qvc[f],l=k.Ied;f!==0&&f%2===0&&(c=0,b=d+16);g.push({uqo:k,B1b:b,r$b:c});c+=l.width+16;d=Math.max(d,b+l.height);e=Math.max(e,c)}return{key:a.key,elements:g,width:e,height:d}}for(e=0;e<h;e++)k=a.Qvc[e],l=k.Ied,e!==0&&e%4===0&&(c+=f+16,d=Math.max(d,b),b=mts,f=0),g.push({uqo:k,B1b:b,r$b:c}),b+=l.height+16,f=Math.max(f,l.width),d=Math.max(d,b);return{key:a.key,elements:g,width:c+f,height:d}};
kts=function(a,b,c,d){let e=0,f=0,g=[];const h=[];for(const l of c){e+l.width>d&&g.length!==0&&(e=0,f+=Math.max(...g.map(r=>r.height),0)+80,g=[]);var k=nts(a,l.key);c=b.QU();k=Kg.md().mv("font-size",ots).Wb(pts(k)).build();const m=__c.po.create(qts()),{width:p,height:q}=__c.Yn(c,k,1,m);c=.5*(__c.VVb(ots,m,p,q).Lb().width-p);k={...l,B1b:f,r$b:e,$Vs:c};g.push(k);e=e+Math.max(l.width,p+c)+64;h.push(k)}return h};rts=function(a,b){return{topLeftCorner:{top:a.y+b.B1b,left:a.x+b.r$b+b.$Vs}}};
nts=function(a,b){switch(a){case "color":return L("H6eBIA");case "author":return b?b:L("QQQgpA");case "topic":return b?b:L("YyGQUQ");case "reaction":return b?J("lo/HDw",[b]):L("NOPhIw");default:throw new v(a);}};qts=function(a="#000000"){return{Lc:[{type:"background",parameters:new Map([["roundness",(.5).toString()],["spread",(.5).toString()],["transparency",(1).toString()],["color",a]])}]}};pts=function(a){a=a.replace(/\r\n|[\r\u2028\u2029]/g,"\n");a.endsWith("\n")||(a+="\n");return a};
sts=function(a,b){const c=b.x,d=b.y;for(const e of a)for(const {uqo:f,r$b:g,B1b:h}of e.elements){a=f.Ied.left;b=f.Ied.top;oV(()=>{f.Ied.left=c+e.r$b+g;f.Ied.top=d+e.B1b+h});for(const k of f.a2n){const l=k.left-a,m=k.top-b;oV(()=>{k.left=c+e.r$b+g+l;k.top=d+e.B1b+h+m})}}};
vts=async function(a,b,c,d){const e=[];for(const g of c){const {top:h,left:k}=rts(d,g).topLeftCorner||{top:0,left:0};c=a;var f=__c.pqe({page:c.store.jh.page,eb:c.eb,region:Qj({top:h,left:k,width:g.width,height:mts}).Lb(),vv:tts,Vf:c.Vf});c=uts(f);f=qts(f);(c=await a.sc.addText(nts(b,g.key),{Yc:"arrangement",C8:"none",NZ:"default_title",Vqa:"none"},{type:"v2",attrs:{"font-size":ots,color:c}},{GNf:!0,Vk:f},rts(d,g)))&&e.push(c)}a.store.selection.zcd(a.store.jh,...e);return e};
wts=function(a,b){switch(b){case "color":return c=>{var d;if(c=(d=c.paths.first())===null||d===void 0?void 0:d.fill)return d=__c.yw(c),d.length?JSON.stringify(d):c.color};case "author":return c=>{var d;return(d=__c.ck(c).oFb)===null||d===void 0?void 0:d.text.Ya};case "topic":return()=>{};case "reaction":return async c=>{if(c=await a.kWe.CFe(a.store.jh.page,c))return c.toString()};default:throw new v(b);}};
xts=async function(a,b,c){const d=new Map;a=wts(a,b);for(const e of c){c=await a(e.Ied);const f=d.get(c);f?f.Qvc.push(e):d.set(c,{key:c,Qvc:[e]})}return b==="reaction"?[...d.entries()].sort(([e],[f])=>f?e?parseInt(f,10)-parseInt(e,10):1:-1).map(e=>e[1]):Array.from(d.values())};
Ats=async function(a){a.store.state=1;const b=__c.Cb();let c;a.Ea(({onClose:e})=>{c=e;return cV(yts,{bLr:()=>b.resolve(void 0)})});let d;for(const [e,f]of a.Qvc.entries())a.bLj.set(e,f);try{const e=a.store.cch.map(f=>{var g,h;return((h=(g=f.$c.first())===null||g===void 0?void 0:g.text.Ya)!==null&&h!==void 0?h:"").replace(/\n/g," ")});d=await Promise.race([a.A2d().then(f=>f.pim({xGr:e,cSp:void 0}).then(async g=>g.type!=="SUCCESS"?g:await __c.Rh(async()=>{const h=await f.FPn({yc:g.yc});switch(h.status){case 1:case 2:return h.result;
case 3:break;default:throw new v(h.status);}},500,{...zts}).result)),b.promise])}catch(e){a.Pgh(),a.errorService.pa(e,"Error sorting elements by topic")}finally{c===null||c===void 0||c()}return d};Bts=function(a,b){b=b.map(d=>a.bLj.get(d)).filter(d=>d!==void 0);const c=new Set(a.store.um);return b.filter(d=>c.has(d.Ied))};uts=function(a){return Fi(Cts,b=>Math.abs(__c.RVa(Yh(b),Yh(a))))};
Ets=function(a,b){const c=b.error,d=b.RJo,e=b.message;switch(c){case 1:case 2:case 3:case 3:a.Ea(()=>cV(Dts,{title:d,message:e}));a.errorService.pa(e,"Error sorting elements by topic");break;case 2:case 4:case 1:dts(a.alert,e);a.errorService.pa(e,"Error sorting elements by topic");break;default:throw new v(c);}};
Mts=function({selection:a,document:b,ya:c,X:d,Dc:e,ka:f,sc:g,Wq:h,RWa:k,eb:l,undo:m,toolbar:p,Bd:q,fh:r,A2d:t,Qa:u,Hj:w,errorService:x,P:y,Ga:z,la:A,Ea:B,alert:D,Qf:G,sf:I,Vf:K,kWe:N,$f:M}){const O=new Fts(a,c,d),U=__c.Ka(async()=>{if(d){var {o0p:ca}=await __webpack_require__.me(875664).then(()=>({o0p:__c.Gts}));return await ca({Hj:w,X:d,Qa:u,ka:f,U0g:fV(qa=>{const ra=fV(()=>{e.U2b=void 0});e.U2b=()=>cV(qa,{onClose:ra})})})}},{rwa:!0});c=z.Vd("editor.editing.cluster");const W=new Hts(b,O,p,a,g,h,
k,N,l,m,I,K,x,A,y,c,async()=>{const ca=await U();return ca===null||ca===void 0?void 0:ca()},B,D,t,G.xxi),X=()=>W.Grc("floating_toolbar"),Z=()=>W.qD("floating_toolbar"),da=()=>W.isc("floating_toolbar"),ka=()=>W.NYb("floating_toolbar"),la={Rd:()=>O.sgh,Button:ca=>cV(Its,{...ca,$f:M}),Pu:{sg:()=>L("j0l+TQ")},na:eV(ca=>cV(Jts,{pT:G.B7i,Grc:X,qD:Z,isc:da,NYb:ka,oa:ca.oa,ka:f,$f:M,oId:O.oId}))};q.plugins.sea=()=>la;O.pCj=la;const oa=()=>W.Grc("menu"),ja=()=>W.qD("menu"),ha=()=>W.isc("menu"),ba=()=>W.NYb("menu");
r.kc(()=>({sgh:O.sgh,Ao:f.layout===2}),(ca,{sgh:qa,Ao:ra})=>{if(qa){var sa=wa=>cV(Kts,{...wa,Grc:oa,qD:ja,isc:ha,NYb:ba,oId:O.oId});ca.sea={Button:wa=>cV(Lts,{...wa,onClick:ra&&M?()=>{var ya;return(ya=wa.Og)===null||ya===void 0?void 0:ya.Zg({$e:sa,options:{sg:()=>L("j0l+TQ")}})}:wa.onClick,$f:M}),na:sa};ca.Mvh={Button:wa=>cV(Vss,{...wa,qNh:"color",onClick:oa})};ca.Lvh={Button:wa=>cV(Vss,{...wa,qNh:"author",onClick:ja})};ca.Ovh=O.oId?{Button:wa=>cV(Vss,{...wa,qNh:"topic",onClick:ha})}:void 0;ca.Nvh=
{Button:wa=>cV(Vss,{...wa,qNh:"reaction",onClick:ba})}}else ca.sea=void 0,ca.Mvh=void 0,ca.Lvh=void 0,ca.Ovh=void 0,ca.Nvh=void 0});return{rNh:W}};Nts=function(a,b){a.container.page.elements.$2a(b,a.elements)};Ots=function(a,b){a.container.page.elements.PXa(b,a.elements)};Pts=function(a,b){var c;const d=b.elements;(a=(c=a.store.wrg)===null||c===void 0?void 0:c.last(e=>!d.includes(e)))&&Nts(b,a)};
Qts=function(a,b){var c;const d=b.elements;(a=(c=a.store.wrg)===null||c===void 0?void 0:c.first(e=>!d.includes(e)))&&Ots(b,a)};Sts=function(a,b){const c=a.selection.La;a.P.track(Rts,{action:b,gD:c&&c.elements?c.elements.map(d=>d.type):void 0,HHr:c&&c.elements?c.elements.length:0,$F:a.store.Ns})};Uts=function(a,b){a.P.track(Tts,{action:b,kb:"mobile_toolbar"})};
ius=function({selection:a,viewport:b,eb:c,Wji:d,ka:e,P:f,Xsk:g,aT:h,fh:k,BR:l,Lk:m,ya:p,Kl:q,ut:r,Qf:t}){const u=new Vts(p,a,c,g),w=new Wts(u,b,d,e,a,l,k,f),x=M=>cV(q,{...M,ld:Xts,tf:Yts}),y=eV(M=>cV(Zts,{...M,eb:c,F5:r,ld:Xts})),z=M=>__c.QTb(h,M).name,A=eV(({element:M})=>{const O=gV(W=>{w.BRk(W,M)},[M]),U=u.Pe;return U.type!=="fixed-page"?null:cV($ts,{element:M,S6h:z,page:U,selected:u.um.includes(M),Kl:x,onClick:w.lQk,dYa:w.dYa,onMouseEnter:w.xbi,onMouseLeave:w.d0i,onContextMenu:O,xbj:e.layout===
2?aus:bus,Igc:k.Igc})}),B=eV(()=>{const M=u.Pe;return M.page.type!=="fixed"?null:cV(cus,{page:M.page,selected:u.vHh,onClick:w.ysi,onMouseEnter:w.xbi,onMouseLeave:w.d0i,onContextMenu:w.BRk,dYa:w.dYa,SNo:y,xbj:e.layout===2?aus:bus,Igc:k.Igc})}),D=eV(()=>cV(dus,{onChange:w.dXs,Ns:u.Ns}));a=()=>{var M;m===null||m===void 0||(M=m.SM)===null||M===void 0||M.call(m,new dp)};const G=mV(()=>u.mTe),I=mV(()=>u.um),K=__c.IEe({qef:u,pef:w,na:M=>cV(A,{element:M.item}),SM:a}),N=__c.IEe({qef:u,pef:w,na:M=>cV(A,{element:M.item}),
SM:a,KMe:"basic"});a=eV(({vu:M})=>cV(eus,{layout:e.layout,QNo:B,Hfp:D,B6i:N,klp:K,vu:M,mTe:G,Pll:w.Pll,um:I,Pni:w.Pni}));b={Button:M=>{const O=M.onClick,U=gV(()=>{O===null||O===void 0||O();w.hCn()},[O]);return kV(rV,{children:[cV(fus,{...M,onClick:U}),(t===null||t===void 0?void 0:t.Kxh)&&cV(t.Kxh,{})]})},Pu:{Ola:eV(()=>cV(gus,{xF:u.cPe,onClick:w.Swo})),sg:eV(()=>cV(hus,{xF:u.cPe,um:u.um}))},na:a,onClose:fV(()=>{w.store.cPe="single";Uts(w,"hidden")})};return{S5f:a,zbp:b}};
Cus=function({selection:a,eb:b,ya:c,ka:d,P:e,Ga:f,isDragging:g,keyboardShortcuts:h,Ma:k,viewport:l,Bd:m,fh:p,xe:q,aT:r,BR:t,Lk:u,Kl:w,ut:x,Qf:y}){f=f.Vd("editor.editing.arrangement.layering");const z=new jus(a,k,d),A=new kus(z,a,e,f),B=O=>A.Hic(O,"toolbar");k=eV(()=>cV(lus,{display:"comfortable",$Sr:B,Feq:z.Kog,aeq:z.xog,Lfq:z.Kog,Kfq:z.xog}));h.register([mus,()=>A.Hic("forward","shortcut"),L("aTrwIA"),["edit"]],[nus,()=>A.Hic("backward","shortcut"),L("dsP+YA"),["edit"]],[ous,()=>A.Hic("front","shortcut"),
L("57tYtg"),["edit"]],[pus,()=>A.Hic("back","shortcut"),L("UcHnxQ"),["edit"]]);const D=()=>A.Hic("forward","menu"),G=()=>A.Hic("front","menu"),I=()=>A.Hic("backward","menu"),K=()=>A.Hic("back","menu");p.kc(()=>({pfg:z.vN,qAp:z.H0h,dAp:z.G0h}),(O,{pfg:U,qAp:W,dAp:X})=>{!U||W&&X?(O.Zuh=void 0,O.kyc=void 0,O.lyc=void 0,O.Pyc=void 0,O.Qyc=void 0):(O.Zuh={Button:qus},O.kyc={Button:Z=>cV(rus,{...Z,onClick:D,hm:mus,disabled:W})},O.lyc={Button:Z=>cV(sus,{...Z,onClick:G,hm:ous,disabled:W})},O.Pyc={Button:Z=>
cV(tus,{...Z,onClick:I,hm:nus,disabled:X})},O.Qyc={Button:Z=>cV(uus,{...Z,onClick:K,hm:pus,disabled:X})})},{equals:lV.shallow});q===null||q===void 0||q.wm(()=>z.vN&&!z.G0h,{type:"simple",key:"send-backward",name:L("u+2kVg"),Icon:__c.par,hm:nus,execute:async()=>I()},{type:"simple",key:"send-to-back",name:L("t3ZWGw"),Icon:vus,hm:pus,execute:async()=>K()});q===null||q===void 0||q.wm(()=>z.vN&&!z.H0h,{type:"simple",key:"bring-forward",name:L("Pxfk5A"),Icon:wus,hm:mus,execute:async()=>D()},{type:"simple",
key:"bring-to-front",name:L("pbaLlQ"),Icon:xus,hm:ous,execute:async()=>G()});const {S5f:N,zbp:M}=ius({selection:a,viewport:l,eb:b,Wji:A,ka:d,P:e,Xsk:g,fh:p,aT:r,ya:c,BR:t,Lk:u,Kl:w,ut:x,Qf:y});m.plugins.ooa=()=>({Rd:()=>z.PVf,...M});m.plugins.kyc=()=>({Rd:()=>z.PVf,Button:eV(O=>cV(yus,{...O,onClick:D,disabled:z.Kog}))});m.plugins.lyc=()=>({Rd:()=>z.PVf,Button:eV(O=>cV(zus,{...O,onClick:G,disabled:z.Kog}))});m.plugins.Pyc=()=>({Rd:()=>z.PVf,Button:eV(O=>cV(Aus,{...O,onClick:I,disabled:z.xog}))});m.plugins.Qyc=
()=>({Rd:()=>z.PVf,Button:eV(O=>cV(Bus,{...O,onClick:K,disabled:z.xog}))});return{R5f:k,S5f:N}};Gus=function({selection:a,update:b,getValue:c,DIb:d,Wwb:e,label:f}){const g=new Dus,h=new Eus(g,a,b);a=eV(()=>{iV(()=>fV(h.onBlur),[]);return cV(Fus,{value:g.value,disabled:d===null||d===void 0?void 0:d(),yx:c(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:f,unit:e===null||e===void 0?void 0:e()})});return{store:g,Rhd:a}};
Hus=function(a,b,c){const {x:d,y:e}=c(b[0]),f=b.every(h=>nVi(c(h).x,d));b=b.every(h=>nVi(c(h).y,e));const g=wb.direction===2?a.width-d:d;a=a.units;return{x:f?pVi(tg(4,a,g),a):void 0,y:b?pVi(tg(4,a,e),a):void 0}};Ius=function(a){a=Qj(a);return wb.direction===2?a.tr:a.tl};Lus=function(a,b){var c=a.selection.La;if(c&&c.type==="elements"){var d=c.elements;if(d.length!==0&&d.every(Jus))return c=a.eb.Zk(c.container.page),Hus(c,d,e=>Kus(a,e,b))}};
Mus=function(a,b,c){return a.te.QRa.has(c==="start"?b.start:b.end)};Kus=function(a,b,c){const {s:d,e}=(new __c.Ln(a.te,b)).gha;return c==="start"?d:e};Jus=function(a){return a.type==="line"};
Nus=function(a,b,c,d){var e;const f=c.elements,g=c.container.page;c=c.box;(e=a.P)===null||e===void 0||e.track(__c.Jph,{AFa:f.map(h=>h.type),Yc:d,ND:g.elements.count(),Vb:void 0,$ul:b.x,avl:b.y,p0j:c===null||c===void 0?void 0:c.tl.x,q0j:c===null||c===void 0?void 0:c.tl.y,ETf:c===null||c===void 0?void 0:c.width,xTf:c===null||c===void 0?void 0:c.height})};
Pus=function(a,b,c,d,e){let f,g;if(e==null){const h=Ous[a][d];f=(k,l)=>h*l;g=Ous[a].small*.5}else f=(h,k)=>{let l=h+k*(e/2+.5);l=Math.round(l/e)*e;return l+(d==="small"?0:e*3*k)-h};switch(c){case "up":return{delta:{x:0,y:f(b.y,-1)},eTi:g};case "down":return{delta:{x:0,y:f(b.y,1)},eTi:g};case "left":return{delta:{x:f(b.x,-1),y:0},eTi:g};case "right":return{delta:{x:f(b.x,1),y:0},eTi:g};default:throw new v(c);}};
Rus=function(a,b,c,d,e,f){if(a.N){var {x:g,y:h}=e||{},{x:k,y:l}=f||{},{x:m,y:p}=c||{},{x:q,y:r}=d||{};a.N.track(Qus,{Kba:g,KTa:h,Cmb:k,Dmb:l,d4r:m,e4r:p,y3r:q,z3r:r,units:__c.Ov(__c.Nv(b))})}};
Sus=function(a,b,c,d,e){var f=a.selection.La;if(f&&f.type==="elements"&&c.every(Jus)&&a.store.CKh){f=a.eb.Zk(f.container.page).units;b=Mv(f,b);var g=a.store.O6,h=a.store.w1a;for(const k of c){c=new __c.iZd(k,a.yr.te);const {x:l,y:m}=Kus(a.store,k,d),p=e==="x"?new sj(b,m):new sj(l,b);d==="start"?__c.dee(c,p):c.setEndPoint(p)}Rus(a,f,g,h,a.store.O6,a.store.w1a)}};
Xus=function({selection:a,eb:b,yr:c,toolbar:d,Bd:e,wp:f,Wj:g,WW:h,AX:k,F8:l,P:m}){var p;const q=new Tus(a,k),{xCn:r,Dqc:t}=new Uus(q,a,c,b,g,l,m),u=fV((x,y)=>r(x,y,"keyboard"));h.register(["ArrowUp",()=>u("up","small"),L("B5NX3g"),["edit"]],["ArrowDown",()=>u("down","small"),L("SzdIhw"),["edit"]],["ArrowLeft",()=>u("left","small"),L("qpV6YA"),["edit"]],["ArrowRight",()=>u("right","small"),L("1v1q7g"),["edit"]],[Ro("ArrowUp"),()=>u("up","large"),L("B5NX3g"),["edit"]],[Ro("ArrowDown"),()=>u("down",
"large"),L("SzdIhw"),["edit"]],[Ro("ArrowLeft"),()=>u("left","large"),L("qpV6YA"),["edit"]],[Ro("ArrowRight"),()=>u("right","large"),L("1v1q7g"),["edit"]],[So("ArrowUp"),()=>u("up","small"),L("B5NX3g"),["edit"]],[So("ArrowDown"),()=>u("down","small"),L("SzdIhw"),["edit"]],[So("ArrowLeft"),()=>u("left","small"),L("qpV6YA"),["edit"]],[So("ArrowRight"),()=>u("right","small"),L("1v1q7g"),["edit"]],[So(Ro("ArrowUp")),()=>u("up","large"),L("B5NX3g"),["edit"]],[So(Ro("ArrowDown")),()=>u("down","large"),
L("SzdIhw"),["edit"]],[So(Ro("ArrowLeft")),()=>u("left","large"),L("qpV6YA"),["edit"]],[So(Ro("ArrowRight")),()=>u("right","large"),L("1v1q7g"),["edit"]]);const w=x=>r(x,"small","nudge");e.plugins.L_a=()=>({Rd:()=>q.Xxj,Button:x=>cV(Vus,{...x,Dqc:t}),Pu:{sg:()=>L("aYsObw")},na:x=>cV(Wus,{...x,PH:w})});bNe(f.controls,()=>q.bNg);(p=d.mE)===null||p===void 0||p.FQ(()=>q.bNg)};
Yus=function(a,b,c){var d,e,f;const g=a.selection.La,h=a.store.position,k=g===null||g===void 0?void 0:(d=g.box)===null||d===void 0?void 0:d.Lb();(f=a.N)===null||f===void 0||f.track(__c.Jph,{gD:g===null||g===void 0?void 0:(e=g.elements)===null||e===void 0?void 0:e.map(l=>bk(l)?"sticky_note":l.type),Yc:"position_panel",Vb:void 0,units:__c.Ov(__c.Nv(b)),$ul:c===null||c===void 0?void 0:c.x,avl:c===null||c===void 0?void 0:c.y,p0j:h===null||h===void 0?void 0:h.x,q0j:h===null||h===void 0?void 0:h.y,ETf:k===
null||k===void 0?void 0:k.width,xTf:k===null||k===void 0?void 0:k.height})};
Zus=function(a){if(a&&a.type===1&&a.only){if(a.container.type==="marker"||a.container.type==="section-marker")return pa(a.container.container.type!=="break-item","Page break item cover cannot be directly selected"),{$Cc:"body",LRa:__c.SUc.snapshot(a.only),text:a.container.container.text,ref:a.container.marker};if(a.only.type==="break"&&a.only.marker.Ig.ref)return{$Cc:"break",LRa:__c.SUc.snapshot(a.only.marker.Ig.ref),text:a.container.text,ref:a.only.marker}}};
fvs=function(a){const b=a.selection,c=a.Gb,d=a.P,e=a.Bd;var f=a.fh;const g=new $us(a.sc,b,a.q3,a.Og,a.QT,a.Ma,a.undo,c,a.RFc,d);f.kc(()=>g.tTf,(A,B)=>{A.ezc=B?{Button:eV(D=>cV(D.hl,{...D,kg:B==="set"&&c.Sd.Tfj?cV(c.Sd.Tfj,{}):void 0,Icon:B==="set"?__c.car:avs,label:B==="set"?L("R1qqvg"):L("+NqaGw"),onClick:B==="set"?g.FOk:g.IOk}))}:void 0});e.plugins.ezc=()=>({Rd:()=>!!g.tTf,Button:eV(A=>cV(A.Ci,{...A,icon:g.tTf==="set"?__c.car:avs,Ah:"icon",tooltip:g.tTf==="set"?L("R1qqvg"):L("+NqaGw"),onClick:g.tTf===
"set"?g.FOk:g.IOk}))});if(a.Ja!=="responsive"){var h=a.eb;f=a.Wj;var k=a.yr,l=a.te,m=a.toolbar,p=a.wp,q=a.WW,r=a.AX;a=a.F8;var t=new bvs(b,h),u=new cvs(t,b,h,d),w=()=>{var A=b.La;if(A&&A.type==="elements")return A=h.Zk(A.container.page).units,` ${dvs(A)}`},{Rhd:x}=Gus({selection:b,update:u.jj,getValue:()=>{var A;return(A=t.position)===null||A===void 0?void 0:A.x},DIb:()=>t.e2k,Wwb:w,label:"X"});({Rhd:u}=Gus({selection:b,update:u.Bj,getValue:()=>{var A;return(A=t.position)===null||A===void 0?void 0:
A.y},DIb:()=>t.e2k,Wwb:w,label:"Y"}));var {vsd:y,...z}=evs({Wj:f,selection:b,eb:h,yr:k,te:l,Wwb:w,P:d});Xus({selection:b,eb:h,Wj:f,yr:k,toolbar:m,Bd:e,wp:p,WW:q,AX:r,F8:a,P:d});return{vsd:y,...z,yjj:x,zjj:u}}};
evs=function({Wj:a,selection:b,eb:c,yr:d,te:e,Wwb:f,P:g}){const h=new gvs(b,c,e);a=new hvs(a,h,b,c,d,g);({Rhd:c}=Gus({selection:b,update:a.Qns,getValue:()=>{var k;return(k=h.O6)===null||k===void 0?void 0:k.x},DIb:()=>h.Zul,Wwb:f,label:L("uiBQMQ")}));({Rhd:d}=Gus({selection:b,update:a.Rns,getValue:()=>{var k;return(k=h.O6)===null||k===void 0?void 0:k.y},DIb:()=>h.Zul,Wwb:f,label:L("/qrYnA")}));({Rhd:e}=Gus({selection:b,update:a.Ons,getValue:()=>{var k;return(k=h.w1a)===null||k===void 0?void 0:k.x},
DIb:()=>h.o0j,Wwb:f,label:L("cYMiqw")}));({Rhd:b}=Gus({selection:b,update:a.Pns,getValue:()=>{var k;return(k=h.w1a)===null||k===void 0?void 0:k.y},DIb:()=>h.o0j,Wwb:f,label:L("B+Mtdg")}));return{vsd:a,Hgj:c,Igj:d,m$i:e,n$i:b}};ivs=function(a,b){return wb.direction!==2||a.store.B3d?Ej():__c.Mj(b.c,rj(b.rotation),!0,!1)};jvs=function(a,b,c){const {horizontal:d,vertical:e}=__c.kee(a.D$,[b]);return c==="x"&&!!d||c==="y"&&!!e};
kvs=function(a,b,c,d,e){var f,g,h=a.store.size;const k=h===null||h===void 0?void 0:h.width;h=h===null||h===void 0?void 0:h.height;const l=a.selection.La;a.N.track(__c.oQh,{gD:b.map(m=>m.type),Yc:a.store.B3d?"keyboard":"position_panel",wLb:d,Fpb:e,Uvg:k,zGm:h,D6l:a.store.PQd,x:l===null||l===void 0?void 0:(f=l.box)===null||f===void 0?void 0:f.Lb().left,y:l===null||l===void 0?void 0:(g=l.box)===null||g===void 0?void 0:g.Lb().top,units:__c.Ov(__c.Nv(c))})};
lvs=function(a){return __c.vgg(a===3||a===2?"bottom":wb.direction===2?"left":"right",a)};mvs=function(a,b,c){if(a!==null&&a!==void 0&&a.ecd)switch(a.ecd.type){case "table":var d;c=a.ecd.GWi;a=a.ecd.rows;b===null||b===void 0||(d=b.PXe)===null||d===void 0||d.call(b,c.table,c.container,a,"contextual_menu");break;case "sheet":b=a.ecd.sheet;a=a.ecd.rows;c===null||c===void 0||c.PXe(b,a.map(e=>e));break;default:throw new v(a.ecd);}};
nvs=function(a,b,c){if(a!==null&&a!==void 0&&a.eZc)switch(a.eZc.type){case "table":var d;c=a.eZc.GWi;a=a.eZc.columns;b===null||b===void 0||(d=b.QQf)===null||d===void 0||d.call(b,c.ja,c.container,a,"contextual_menu");break;case "sheet":b=a.eZc.sheet;a=a.eZc.columns;c===null||c===void 0||c.QQf(b,a.map(e=>e));break;default:throw new v(a.eZc);}};
ovs=function(a,b,c){if(a!==null&&a!==void 0&&a.fcd)switch(a.fcd.type){case "table":var d;c=a.fcd.GWi;a=a.fcd.rows;b===null||b===void 0||(d=b.SXe)===null||d===void 0||d.call(b,c,"row",a,"contextual_menu");break;case "sheet":b=a.fcd.sheet;a=a.fcd.rows;c===null||c===void 0||c.WIi(b,a.map(e=>e));break;default:throw new v(a.fcd);}};
pvs=function(a,b,c){if(a!==null&&a!==void 0&&a.fZc)switch(a.fZc.type){case "table":var d;c=a.fZc.GWi;a=a.fZc.columns;b===null||b===void 0||(d=b.SXe)===null||d===void 0||d.call(b,c,"column",a,"contextual_menu");break;case "sheet":b=a.fZc.sheet;a=a.fZc.columns;c===null||c===void 0||c.zbe(b,a.map(e=>e));break;default:throw new v(a.fZc);}};
qvs=function(a){switch(a.type){case "controlled":case "rect":case "shape":case "separator":case "layout":case "table":case "chart":case "embed":return a;case "design":var b;if(((b=a.Sw.ref)===null||b===void 0?void 0:b.type)==="sticky-scroll")break;return a;case "sheet":case "break":case "pill":break;default:throw new v(a);}};
rvs=function(a,b,c){if(b.size>0&&c.size===0)return{ecd:b.size>1?{type:"sheet",sheet:a,rows:b}:void 0,fcd:{type:"sheet",sheet:a,rows:b}};if(c.size>0&&b.size===0)return{eZc:c.size>1?{type:"sheet",sheet:a,columns:c}:void 0,fZc:{type:"sheet",sheet:a,columns:c}}};
yvs=function(a){const b=a.selection;var c=a.P,d=a.wOa;const e=a.Si,f=new svs(a.Ma,b),g=new tvs(f,c,e);if(a.Ja!=="responsive"){var h;const r=a.eb,t=a.D$,u=a.re,w=a.$ab,x=a.Wj,y=a.viewport,z=a.vsd;var k=a.wp;var l=a.WW;var m=a.toolbar;const A=()=>{var M=b.La;if(M&&M.type==="elements")return M=r.Zk(M.container.page).units,` ${dvs(M)}`},{store:B,Rhd:D}=Gus({selection:b,update:(M,O)=>N.resizeTo(M,O,"y"),getValue:()=>K.y0m,DIb:()=>!K.z0m,Wwb:A,label:L("ve8EdA")}),{store:G,Rhd:I}=Gus({selection:b,update:(M,
O)=>N.resizeTo(M,O,"x"),getValue:()=>K.wKo,DIb:()=>!K.xKo,Wwb:A,label:L("nImjeQ")}),K=new uvs(f,b,r,t,B,G),N=new vvs(K,g,b,u,t,d,e,r,w,c,x,y,z);c=eV(()=>cV(wvs,{label:L("hCgNKA"),PQd:K.PQd,xef:K.xef,ssi:N.ssi}));d=(M,O)=>fV(()=>N.SRr(M,O));l.register([Vk("ArrowLeft"),d("left","small"),L("ISKsQA"),["edit"]],[Vk("ArrowRight"),d("right","small"),L("pjnYvA"),["edit"]],[Vk("ArrowUp"),d("up","small"),L("MuydoQ"),["edit"]],[Vk("ArrowDown"),d("down","small"),L("liTRpQ"),["edit"]],[Vk(Ro("ArrowLeft")),d("left",
"large"),L("ISKsQA"),["edit"]],[Vk(Ro("ArrowRight")),d("right","large"),L("pjnYvA"),["edit"]],[Vk(Ro("ArrowUp")),d("up","large"),L("MuydoQ"),["edit"]],[Vk(Ro("ArrowDown")),d("down","large"),L("liTRpQ"),["edit"]]);bNe(k.controls,()=>K.B3d);(h=m.mE)===null||h===void 0||h.FQ(()=>K.B3d);k=K;l=N;m={rjj:I,Baj:D,Wbj:c}}const p=k||f,q=l||g;a.fh.kc(()=>p.k_b,(r,t)=>{var u,w,x,y;const z={Button:eV(B=>cV(B.hl,{...B,Icon:__c.Aar,label:L("g/5NUQ"),onClick:q.vxi}))},A={Button:eV(B=>cV(B.hl,{...B,Icon:__c.war,label:L("h7cPEw"),
onClick:q.txi}))};r.UVc=(t===null||t===void 0?void 0:(u=t.ecd)===null||u===void 0?void 0:u.type)==="sheet"?z:void 0;r.bWc=(t===null||t===void 0?void 0:(w=t.ecd)===null||w===void 0?void 0:w.type)==="table"?z:void 0;r.TVc=(t===null||t===void 0?void 0:(x=t.eZc)===null||x===void 0?void 0:x.type)==="sheet"?A:void 0;r.aWc=(t===null||t===void 0?void 0:(y=t.eZc)===null||y===void 0?void 0:y.type)==="table"?A:void 0;if(t===null||t===void 0?0:t.fcd){const B=t.fcd.rows.size;r.czc={Button:eV(D=>cV(D.hl,{Icon:__c.yar,
label:J("2SUQmA",[B]),onClick:q.wxi,oa:D.oa}))}}else r.czc=void 0;if(t===null||t===void 0?0:t.fZc){const B=t.fZc.columns.size;r.bzc={Button:eV(D=>cV(D.hl,{Icon:__c.tar,label:J("U4i6zQ",[B]),onClick:q.uxi,oa:D.oa}))}}else r.bzc=void 0;if(t===null||t===void 0?0:t.item){const B=t.item;r.fzc={Button:eV(D=>cV(D.hl,{...D,Icon:B.width==="100cqw"?xvs:__c.BXp,label:B.width==="100cqw"?L("8zQa7Q"):L("oAhr9A"),onClick:g.dnh}))}}else r.fzc=void 0});return m||{}};
Avs=function(a,b,c,d){var e,f;const g=(f=a.selection.La)===null||f===void 0?void 0:(e=f.box)===null||e===void 0?void 0:e.Lb(),{width:h,height:k,left:l,top:m}=g||{};a.N.track(zvs,{gD:c,kb:d,width:h,height:k,x:l,y:m,rotation:a.store.rotation,sYk:b||0})};
Dvs=function({selection:a,Qta:b,WW:c,toolbar:d,wp:e,AX:f,P:g}){var h;const k=new Bvs(a,f),l=new Cvs(k,b,a,g);({Rhd:a}=Gus({selection:a,update:l.qss,getValue:()=>k.rotation,DIb:()=>k.disabled,Wwb:()=>"\u00b0",label:L("00WB4Q")}));b=(m,p)=>fV(()=>l.TRr(m,p));__c.Wo(c,[So(","),b("left","small"),L("jthlfA"),["edit"]],[So("."),b("right","small"),L("oazzMw"),["edit"]],[So(Ro(",")),b("left","large"),L("jthlfA"),["edit"]],[So(Ro(".")),b("right","large"),L("oazzMw"),["edit"]]);bNe(e.controls,()=>k.BNg);(h=
d.mE)===null||h===void 0||h.FQ(()=>k.BNg);return{mfj:a}};
Kvs=function(a,b){var c=b==="vertical"?Evs:Fvs,d=b==="vertical"?Gvs:Hvs,e=b==="vertical"?Ivs:Jvs;a=a.map(k=>({element:k,box:Pj(Qj(k))})).slice();const f=a.sort(c)[0],g=a.sort(d).slice(-1)[0];c=a.filter(k=>k!==f&&k!==g).sort(e);d=b==="vertical"?f.box.b.y:f.box.r.x;e=b==="vertical"?g.box.t.y:g.box.Rb.x;const h=c.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);a=a.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);f===g&&h<d-e&&([d,e]=[e,d]);return{spacing:(e-d-h)/(c.length+1),LCe:d,
Rji:e,first:f,middle:c,last:g,Zxo:h,pZi:a}};Evs=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.y-b.y;return Lvs(c)?a.x-b.x:c};Gvs=function(a,b){a=a.box.br;b=b.box.br;const c=a.y-b.y;return Lvs(c)?a.x-b.y:c};Ivs=function(a,b){return a.box.c.y-b.box.c.y};Fvs=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.x-b.x;return Lvs(c)?a.y-b.y:c};Hvs=function(a,b){a=a.box.br;b=b.box.br;const c=a.x-b.x;return Lvs(c)?a.y-b.y:c};Jvs=function(a,b){return a.box.c.x-b.box.c.x};Lvs=function(a){return Math.abs(a)<1E-4};
Mvs=function(a,b,c,d){const e=c==="left"?d-b.left:0;c=c==="top"?d-b.top:0;a.yr.O0a([b]).translate(e,c);return Qj(b)};
Qvs=function({selection:a,yr:b,Rkd:c,keyboardShortcuts:d,P:e,CAe:f}){const g=new __c.WYi(c,f),h=new __c.VYi(g,b,a,e),k=()=>h.X_g("menu");a={Button:eV(m=>{var p;return cV(Nvs,{...m,type:(p=g.params)===null||p===void 0?void 0:p.type,onClick:k,disabled:g.wLe,hm:Ovs})})};const l=()=>h.X_g("toolbar");b=eV(()=>{var m;return((m=g.params)===null||m===void 0?void 0:m.type)!=null?cV(Pvs,{type:g.params.type,onClick:l,disabled:g.wLe}):null});d.register([Ovs,()=>!g.wLe&&h.X_g("shortcut"),L("WLw+ig"),["edit"]]);
return{cVs:a,Shj:b,gVs:g}};
Zvs=function({selection:a,yr:b,Rkd:c,ka:d,keyboardShortcuts:e,P:f,Bd:g,fh:h,CAe:k}){const l=new Rvs(c),m=new Svs(l,b,a,f),{cVs:p,Shj:q,gVs:r}=Qvs({selection:a,yr:b,Rkd:c,keyboardShortcuts:e,P:f,CAe:k}),t=()=>m.uSe("vertical","menu"),u=()=>m.uSe("horizontal","menu");h&&h.kc(y=>{var z,A;return{CMp:(y===null||y===void 0?void 0:y.type)==="elements"&&y.Ki()&&!l.kbi,wLe:r.wLe,ckr:(z=l.tch)===null||z===void 0?void 0:z.bxk,Vfr:(A=l.tch)===null||A===void 0?void 0:A.Itk}},(y,{CMp:z,wLe:A,ckr:B,Vfr:D})=>{!z||
A&&B&&D?(y.WVc=void 0,y.tAh=void 0,y.bAh=void 0,y.aAh=void 0):(y.WVc={Button:eV(G=>{var I;return cV(Tvs,{...G,fVs:(I=r.params)===null||I===void 0?void 0:I.type})})},y.tAh=p,y.bAh={Button:G=>cV(Uvs,{...G,onClick:t,disabled:B})},y.aAh={Button:G=>cV(Vvs,{...G,onClick:u,disabled:D})})},{equals:lV.shallow});const w=y=>m.uSe(y,"toolbar"),x=mV(()=>l.kbi?void 0:eV(()=>{var y,z;return cV(Wvs,{display:"comfortable",ZRc:d.layout===1,uSe:w,Dfq:(y=l.tch)===null||y===void 0?void 0:y.Itk,Efq:(z=l.tch)===null||z===
void 0?void 0:z.bxk,Shj:q})}));g.plugins.WVc=()=>({Rd:()=>d.layout===2&&!l.kbi,Button:y=>cV(Xvs,{...y}),Pu:{sg:()=>L("8xqoHg")},na:()=>cV(Yvs,{Yle:x.get()})});return{Yle:x}};
cws=function(a,b,c,d,e){var f=c[b];const g=d.get(c[a]),h=d.get(f),k=e==="x"||e==="y"?c.filter((r,t)=>{if(t===a||t===b)r=!1;else{r=d.get(r);const [u,w]=$vs(g,h,e);r=e==="x"?r.Rb.x>u.Rb.x&&r.r.x<w.r.x:r.t.y>u.t.y&&r.b.y<w.b.y}return r}):[],{zqi:l,Bqi:m,yqi:p}=(()=>{switch(e){case "grid":return{zqi:new sj(h.tl.x,h.tl.y),Bqi:new sj(g.tl.x,g.tl.y),yqi:[]};case "diagonal-two-element":return aws(g,h);case "x":case "y":return bws(g,h,k.map(r=>d.get(r)),e);default:throw new v(e);}})();f=(r,t)=>{r=d.get(r);
return Qj({top:t.y,left:t.x,width:r.width,height:r.height})};const q=new Map;for(let r=0;r<c.length;r++){const t=c[r];if(r===a){q.set(t,f(t,l));continue}if(r===b){q.set(t,f(t,m));continue}const u=k.indexOf(t);u!==-1?q.set(t,f(t,p[u])):q.set(t,d.get(t))}return q};$vs=function(a,b,c){return a.tl[c]<b.tl[c]?[a,b]:[b,a]};
bws=function(a,b,c,d){const [e,f]=$vs(a,b,d);a=e===a?"forwards":"backwards";b=new sj(d==="x"?f.tl.x-e.tl.x:0,d==="y"?f.tl.y-e.tl.y:0);const g=new sj(d==="x"?f.width-e.width:0,d==="y"?f.height-e.height:0);d=f.translate(d==="x"?e.tl.x-f.tl.x:0,d==="y"?e.tl.y-f.tl.y:0);b=zj(b,g);b=e.translate(b.x,b.y);c=c.map(h=>h.translate(g.x,g.y));return a==="backwards"?{zqi:new sj(d.tl.x,d.tl.y),Bqi:new sj(b.tl.x,b.tl.y),yqi:c.map(h=>new sj(h.tl.x,h.tl.y))}:{zqi:new sj(b.tl.x,b.tl.y),Bqi:new sj(d.tl.x,d.tl.y),yqi:c.map(h=>
new sj(h.tl.x,h.tl.y))}};aws=function(a,b){const [c,d]=$vs(a,b,"y");a=c===a?"down":"up";let e;(c.Rb.x===Math.min(c.Rb.x,d.Rb.x)?"main":"anti")==="main"?(b=new sj(d.br.x-c.width,d.br.y-c.height),e=new sj(c.tl.x,c.tl.y)):(b=new sj(d.Fn.x,d.Fn.y-c.height),e=new sj(c.tr.x-d.width,c.tr.y));return{zqi:a==="down"?b:e,Bqi:a==="down"?e:b,yqi:[]}};
dws=function(a){const b=Uj(0,[Qj(a.elements[0])]);return a.elements.map(c=>{c=Uj(0,[Qj(c)]);return`${c.width},${c.height},${c.rotation},`+`${Math.round((c.tl.x-b.tl.x)*1E5)/1E5},${Math.round((c.tl.y-b.tl.y)*1E5)/1E5}`}).join("|")};
gws=function(a){var b;if(b=a.length!==1){a:{for(b=0;b<a.length-1;b++)if(!(Math.abs(a[b].c.x-a[b+1].c.x)<.5&&Math.abs(a[b].c.y-a[b+1].c.y)<.5)){b=!1;break a}b=!0}b=!b}if(b){a:{b=new Set;var c=new Set,d=new Set;for(var e=0;e<a.length;e++){var f=a[e];const g=Math.round(f.Rb.x);f=Math.round(f.t.y);const h=`${g}/${f}`;if(b.has(h)){b=!1;break a}b.add(h);c.add(g);d.add(f);if(c.size*d.size>a.length){b=!1;break a}}b=c.size<=1||d.size<=1||c.size*d.size<a.length?!1:!0}if(b)return"grid";b=ews(a,"x");c=ews(a,
"y");d=b?fws(a,"x"):void 0;e=c?fws(a,"y"):void 0;b=d!=null||e!=null?a.length!==2&&(d!=null&&e!=null||e==null&&d!==0&&b&&b[0]-b[1]===0||d==null&&e!==0&&c&&c[0]-c[1]===0)?"grid":d!=null&&e!=null?Math.abs(d)<Math.abs(e)?"x":"y":d!=null?"x":"y":void 0;!(c=a.length!==2)&&(c=b!=null&&b!=="grid")&&(c=a[0],a=a[1],d=Uj(0,[c,a]),c=!(b==="x"?d.height>Math.max(c.height,a.height):d.width>Math.max(c.width,a.width)));return c?b:"diagonal-two-element"}};
ews=function(a,b){let c=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const d of a)if(a=b==="x"?[d.t.y,d.b.y]:[d.Rb.x,d.r.x],c=[Math.max(c[0],a[0]),Math.min(c[1],a[1])],c[0]>c[1])return;return c};fws=function(a,b){a=b==="x"?[...a].sort(hws):[...a].sort(iws);let c=0;for(let f=0;f<a.length-1;f++){var d=a[f],e=a[f+1];d=b==="x"?e.tl.x-d.tr.x:e.tl.y-d.Fn.y;d<0&&(c+=d)}return c};hws=function(a,b){return a.tl.x-b.tl.x};iws=function(a,b){return a.tl.y-b.tl.y};
kws=function(a,b){if(__c.Xj(Uj(0,a),b))return b=jws(a,b),a.indexOf(b)};jws=function(a,b){return a.reduce((c,d)=>{const e=wj(d.c,b);return e<c.distance?{box:d,distance:e}:c},{box:a[0],distance:Infinity}).box};lws=function(a,b){a=a.store.Rab;return a!=null&&a.ktc!==b};
pws=function(a,b,c,d){var e=a.Kfe;if(e==null)d();else{a.store.kga=d;e=mws([...e.elements],c);var f;a.L1=(f=a.L1)!==null&&f!==void 0?f:a.undo.startBuffering();try{const g=new Map(e.map(p=>[p,new nws(Qj(p))]));a.store.LJn=e;a.store.VCd=g;const h=g.get(b).I$f.c,k=e.indexOf(b);if(k===-1)throw Error();const l=a.tdk(a.store.mzi,h),m=ows(a,k,l!==null&&l!==void 0?l:k,e,c);a.setState({key:l,vOb:c,ktc:b,rVg:m});a.store.Pig.set(a.store.Rab.key,m);a.Whe(h)}catch(g){d(),a.mL()}}};
ows=function(a,b,c,d,e){const f=a.store.VCd;return sd(a.jUp(b,c,d,a.store.x3r,e),(g,h)=>{h=f.get(h);g=g.tl;const k=h.container.tl;h=h.I$f.Lb();return Qj({...h,left:h.left+(g.x-k.x),top:h.top+(g.y-k.y)})})};qws=function(a,b,c,d){d-=b.left;c-=b.top;a.yr.O0a([b]).translate(d,c)};
mws=function(a,b){const c=rws();if(b==="grid"){const e=Math.max(...a.map(f=>{f=c(f);return f.left+f.width}));return a.sort((f,g)=>{f=c(f);g=c(g);return f.left+Math.round(f.top)*e-(g.left+Math.round(g.top)*e)})}const d=b==="x"||b==="diagonal-two-element"?"left":"top";return a.sort((e,f)=>e[d]-f[d])};rws=function(){const a=new Map;return b=>{if(a.has(b))return a.get(b);const c=Uj(0,[Qj(b)]).Lb();a.set(b,c);return c}};
sws=function(a){switch(a.type){case "rect":return a.fill.video.ref!=null?"video":a.fill.image.ref!=null?"image":"color";case "group":return"group";case "grid":return"grid";case "text":return"text";case "shape":return"shape";case "table":return"table";case "chart":return"chart";default:return"other"}};
tws=function(a){const b=[{mime:"text/plain",type:"text"},{mime:"text/html",type:"html"},{mime:"application/x-canva",type:"proto"}];let c=null;for(const d of b)if(a.getData(d.mime).length>0){c=d.type;break}return c};uws=function(a){let b;a.cells.BB===1&&a.cells.Ooa<=1&&a.forEach({item:c=>{b=c}});return b};vws=function(a){const b=[];a.cells.Ooa===1&&a.forEach({item:c=>b.push(c)});return b};wws=function(a){const b=[];vws(a).forEach(c=>{c.type==="rect"&&(c.fill.image||c.fill.video)&&b.push(c)});return b};
xws=function(a){switch(a.mi.type){case "date":return{content:{...__c.aYc,value:__c.Mxb(__c.Em(a.mi.date))},Bb:{...__c.pYc}};case "mention":return{content:{...__c.fYc,value:[{text:a.mi.text,user:a.mi.user,brand:a.mi.brand}]},Bb:{...__c.qYc}};case "select":return{content:{...__c.dYc,value:a.mi.text},Bb:{...__c.rYc,options:a.mi.options.map(b=>({label:b.label,fill:b.fill}))}};case "embed":return{content:{...__c.gYc,value:[{embed:{text:a.mi.text,url:a.mi.url}}]}};default:throw new v(a.mi);}};
zws=function(a){const b=[];a.forEach(c=>{(c.fill.image||c.fill.video)&&b.push({fill:c.fill,Uy:void 0})});return b.length>0?{content:{...__c.eYc,value:b}}:{content:{...__c.dYc,value:a.map(c=>`<${yws(c.type)}>`).join("\n")}}};
Aws=function(a){switch(a.type){case "pill":return xws(a);case "rect":return zws([a]);case "embed":return{content:{...__c.gYc,value:[{embed:{text:a.altText?a.altText.text:a.url,url:a.url}}]}};case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "chart":case "separator":return{content:{...__c.iYc,value:Xk.md().Wb(`<${yws(a.type)}>`).Wb("\n").build()}};default:throw new v(a);}};
yws=function(a){switch(a){case "controlled":return console.warn("Controlled items are currently not supported. Call site:","richtext3ToSheetCell itemTypeToText"),"";case "rect":return L("Po4g+Q");case "shape":return L("3KoYQg");case "break":return L("vRuadQ");case "separator":return L("9Ah64A");case "embed":return L("blnNUw");case "pill":return L("sYyvAw");case "chart":return L("db+1ng");case "design":return L("rLM0FQ");case "layout":return L("3ljN7A");case "table":return L("SsLNlA");case "sheet":return L("j7viPg");
default:throw new v(a);}};Bws=async function(a,b,c){b.forEach(d=>{d.content.text.setAttributes(ce(Fe.Ff,()=>{}));d.content.text.Yta(a.content.text.cells.Ya());let e=0;a.content.text.forEach({...be,Ya:(f,g)=>{f=f.length;d.content.text.setAttributes(g,{index:e,length:f});e+=f}})});c.nb().addEvent("content_added")};
Cws=function(a,b){const c=b.vt.rows.length;b=b.vt.cols.length;const d=c*b;return c>a.irb?(a.la.Hb({Cb:L("5Jz/og")}),!1):b>a.hrb?(a.la.Hb({Cb:L("V4HzaA")}),!1):d>a.Xde?(a.la.Hb({Cb:L("DD0OAw")}),!1):!0};
Dws=function(a,b,c,d){b.layout.cells.forEach((e,f)=>{var g;if(((g=e.content.ref)===null||g===void 0?void 0:g.type)==="formula"){e=e.content.ref.value;switch(e.type){case "canonical":pa(e.Bf.length===0);e=e.Noa;break;case "invalid":e=e.zPc;break;default:throw new v(e);}e=e.trim().slice(1);var h,k=(h=__c.$de(a.xB,{type:0,Noa:e}))!==null&&h!==void 0?h:{type:1,uka:e};c&&(k=a.Naa.JQd(b,k,{jt:-c.z_b,FR:-c.bSb}));wz(d,l=>{l.K$(b,{row:f.Yb,column:f.$b},__c.lhe(k.uka))})}})};
Ews=function(a,b,c,d,e,f){var g;let h;const k=a.selection.La;if((k===null||k===void 0?void 0:(g=k.inner)===null||g===void 0?void 0:g.type)==="sheet"){var l,m;const q=k.type==="elements"?k.inner.sheet.config:k.inner.page.sheet,r=(l=a.Si)===null||l===void 0?void 0:__c.Yms(l,b.config,c,q,k.inner.cells.map(t=>t),d,e,f);r&&k.type==="elements"&&(f===null||f===void 0?0:f.NRc)&&((m=a.Tc)===null||m===void 0||wz(m,t=>{for(const u of r)t.setAttributes(q,{row:u.row,column:u.column},{tJ:f.NRc})}));if(r===null||
r===void 0||!r.length)return;switch(k.type){case "elements":a.selection.w4a(k.inner.container,r[0],r[0],r);h=k.inner.sheet;break;case "pages":a.selection.nZa(k.inner.container,r[0],r[0],r);break;case "audio":break;default:throw new v(k);}}else{var p;e=(k===null||k===void 0?void 0:k.Yo)||a.viewport.jh.page;if(pf(e)||e.type==="responsive"||!Cws(a,b.config))return;const q=e.elements.append(b);pa(q.type==="sheet");h=q;if(f===null||f===void 0?0:f.NRc)(p=a.Tc)===null||p===void 0||wz(p,r=>{q.config.layout.cells.forEach((t,
u)=>{r.setAttributes(q.config,{row:u.Yb,column:u.$b},{tJ:f.NRc})})});a.Tc&&Dws(a,h.config,c,a.Tc)}d.nb().addEvent("content_added");return h};Fws=function(a,b,c,d,e,f,g,h){var k,l;const m=(k=a.Si)===null||k===void 0?void 0:__c.Yms(k,b.config,e,c.sheet.config,d,f,g,h);m&&(h===null||h===void 0?0:h.NRc)&&((l=a.Tc)===null||l===void 0||wz(l,p=>{for(const q of m)p.setAttributes(c.sheet.config,{row:q.row,column:q.column},{tJ:h.NRc})}));m!==null&&m!==void 0&&m.length&&(__c.Fv(a.selection,c,m[0],m[0],m),f.nb().addEvent("content_added"))};
Gws=function(a,b,c,d,e,f){var g=a.selection.Ib;if((g===null||g===void 0?void 0:g.type)===4)Fws(a,b,g.container,g.cells.map(p=>p),c,d,e,f);else if((g===null||g===void 0?void 0:g.type)===0&&g.container.type==="sheet-item-cell-richtext"){var h,k;g=g.container.container;var l={row:g.row,column:g.column};(h=(k=a.QR).Lob)===null||h===void 0||h.call(k);Fws(a,b,g.container,[l],c,d,e,f)}else if(Cws(a,b.config)){var m=a.Xa.iJc(b);if(m){pa(m.item.type==="sheet");if(f===null||f===void 0?0:f.NRc)(l=a.Tc)===null||
l===void 0||wz(l,p=>{pa(m.item.type==="sheet");m.item.config.layout.cells.forEach((q,r)=>{pa(m.item.type==="sheet");p.setAttributes(m.item.config,{row:r.Yb,column:r.$b},{tJ:f.NRc})})});a.Tc&&Dws(a,m.item.config,c,a.Tc)}}};Hws=function(a,b){const c=__c.TNc.domain.cells.md();b.forEach((d,e)=>c.add({top:e,left:0,bottom:e,right:0},{...ys,content:{...__c.dYc,value:d}}));a=__c.eke({Pb:a.Pb,NXb:1,OXb:b.length,...YHd});return{...a,vt:{...a.vt,cells:c.build()}}};
Iws=async function(a,b,c,d,e){var f,g;const h=a.selection.La,k=a.selection.Ib;if(am(b).ok)return a.Uzc(Vv(b),c);if((h===null||h===void 0?void 0:(f=h.inner)===null||f===void 0?void 0:f.type)==="table")a={...xs,content:{...ws,text:Kg.q4(`${b}\n`)}},await Bws(a,h.inner.cells,c);else if((h===null||h===void 0?void 0:(g=h.inner)===null||g===void 0?void 0:g.type)==="sheet"){var l;const r=h.type==="elements"?h.inner.sheet.config:h.inner.page.sheet,t=h.inner.cells;var m=b.split("\n").filter(u=>u.length>0);
if(m.length>1){var p;m=Hws(a,m);m={...xYc,top:0,left:0,width:m.vt.cols.reduce((w,x)=>w+x.width,0),height:m.vt.rows.reduce((w,x)=>w+x.height,0),id:a.Pb.Vh.generate(),config:m};const u=bMb.create(m);(p=a.Tc)===null||p===void 0||wz(p,w=>{u.config.layout.cells.forEach((x,y)=>{x=__c.qSc.snapshot(x).content;pa((x===null||x===void 0?void 0:x.type)==="plaintext");w.HFa(u.config,{row:y.Yb,column:y.$b},x.value)})});p=bMb.snapshot(u);Ews(a,p,void 0,c,d,e)}else(l=a.Tc)===null||l===void 0||wz(l,u=>{t.forEach(w=>
{u.HFa(r,w,b)})}),c.nb().addEvent("content_added")}else if((k===null||k===void 0?void 0:k.type)===4){var q;const r=k.container.sheet.config,t=k.cells;p=b.split("\n");if(p.length>1){p=Hws(a,p);p={...QYc,id:a.Pb.wi.generate(),config:p};const u=NUc.create(p);(m=a.Tc)===null||m===void 0||wz(m,w=>{u.config.layout.cells.forEach((x,y)=>{x=__c.JUc.snapshot(x).content;pa((x===null||x===void 0?void 0:x.type)==="plaintext");w.HFa(u.config,{row:y.Yb,column:y.$b},x.value)})});p=NUc.snapshot(u);Gws(a,p,void 0,
c,d,e)}else(q=a.Tc)===null||q===void 0||wz(q,u=>{t.forEach(w=>{u.HFa(r,w,b)})}),c.nb().addEvent("content_added")}else k!=null?a.Xa.v9b(Xk.md().attrs(a.tTq()).Wb(b).build()):await a.sc.addText(b.replace(/\t/g," "),{Yc:"paste",span:c}),c.nb().addEvent("content_added")};
Jws=async function(a,b,c){var d,e;const f=a.selection.La;if((f===null||f===void 0?void 0:(d=f.inner)===null||d===void 0?void 0:d.type)==="table")await Bws({...xs,content:{...ws,text:b}},f.inner.cells,c);else{d=b.cells.Ya();if(am(d).ok)return a.Uzc(Vv(d),c);if((f===null||f===void 0?void 0:(e=f.inner)===null||e===void 0?void 0:e.type)==="sheet"){var g;const h=f.type==="elements"?f.inner.sheet.config:f.inner.page.sheet,k=f.inner.cells,l=b.attrs.attributes["font-size"],m=b.attrs.attributes["font-family"];
(g=a.Tc)===null||g===void 0||wz(g,p=>{k.forEach(q=>{var r=Kg.create(b);p.XAb(h,q,r);r={};l&&l.size!==0||(r.fontSize=YHd.fontSize);m&&m.size!==0||!a.Rr.BT||(r.fontFamily=a.Rr.BT);Object.keys(r).length>0&&p.setAttributes(h,q,r)})})}else await a.sc.addText(d.replace(/\t/g," "),{Yc:"paste",span:c});c.nb().addEvent("content_added")}};
Lws=function(a,b,c){const d=a.selection.Ib;if((d===null||d===void 0?void 0:d.type)===4){var e;const g=b.cells.Ya();if(am(g).ok)a.Uzc(Vv(g),c);else{var f=Kws(b).content;(e=a.Tc)===null||e===void 0||wz(e,h=>{d.cells.forEach(k=>{h.WAb(d.container.sheet.config,k,f)})});c.nb().addEvent("content_added")}}else return a=a.Xa.v9b(b),c.nb().addEvent("content_added"),a};Mws=function(a,b){if(!a.EKc||!a.EKc(b.media))return b.filter?{...b,filter:void 0}:b};Nws=function(a,b){if(!a.EKc||!a.EKc(b.video))return b};
Qws=async function(a,b,c,d){if(b.Xi.size>0){const h=new Ows(__c.Iza(b.Xi));c.pages&&(c.pages=c.pages.map(k=>h.tkc(k)));c.elements&&(c.elements=h.WCc(c.elements));c.pH&&(c.pH=c.pH.map(k=>h.aUd(k)));d.nb().addEvent("text_styles_inlined")}if(b.ia==="")return{c4b:!0,...c};b=new __c.y7e({MI:b.ia,extension:b.Xf});const e=__c.Hf(c);let f;try{f=await a.rq.qW(e,{type:"document",ref:b})}catch(h){f=!1}d.nb().addEvent("resources_loaded");const g=new Pws(a.sPq(),a.tPq(),f?void 0:h=>!a.oAf(h));c.pages&&(c.pages=
c.pages.map(h=>g.tkc(h)));c.tracks&&(c.tracks=c.tracks.map(h=>g.dGj(h)));c.sh&&(c.sh=c.sh.map(h=>g.kza(h)));c.elements&&(c.elements=g.WCc(c.elements));c.pH&&(c.pH=c.pH.map(h=>g.aUd(h)));d.nb().addEvent("resources_normalized");return{c4b:f,...c}};Rws=function(a){const b=fs.snapshot(a);return a.type==="line"?{...b,...Qj(a).Lb()}:a.type==="chart"?(a=a.uqc.get(),a==null?b:{...b,data:a}):b};
Sws=function(a,b,c){const d=new Map;for(const f of b){var e;b=a.layout.cells.get(f.row,f.column);if((b===null||b===void 0?void 0:(e=b.ref.content.ref)===null||e===void 0?void 0:e.type)!=="formula")continue;const g=c===null||c===void 0?void 0:c.getContent(a,b.span.Yb,b.span.$b);g&&d.set(`${b.span.$b.id}:${b.span.Yb.id}`,g===null||g===void 0?void 0:g.lR)}return d};
Tws=function(a,b,c,d,e){const f=new Map,g=new Map,h=new Map,k=new Set,l=new Set,m=[],p=[];let q,r,t=1;for(const y of d){var u,w;d=c.LJ(y.row);q=q!=null?Math.min(q,d):d;d=c.YJ(y.column);r=r!=null?Math.min(r,d):d;d=c.layout.cells.get(y.row,y.column);const z=(d===null||d===void 0?void 0:d.span)||{Yb:y.row,$b:y.column,Te:y.row,Ve:y.column},A=Dk(z.$b,z.Ve,c.layout.cols),B=Dk(z.Yb,z.Te,c.layout.rows),D=`C${t++}`;var x=d===null||d===void 0?void 0:(u=d.ref)===null||u===void 0?void 0:u.content.ref;let G=x?
e(x):void 0;if((x===null||x===void 0?void 0:x.type)==="formula")switch(pa((G===null||G===void 0?void 0:G.type)==="formula"),x.value.type){case "invalid":break;case "canonical":x=__c.L5q(b,c,x.value);x=b.Bge(c,x);if(x.type!=="canonical")throw Error();G={...G,value:{...__c.ZXc,Noa:x.Noa,Bf:[]}};break;default:throw new v(x.value);}g.set(D,{...ys,content:G,Bb:(d===null||d===void 0?0:(w=d.ref)===null||w===void 0?0:w.Bb.ref)?__c.CNc.snapshot(d===null||d===void 0?void 0:d.ref.Bb.ref):void 0});h.set(`${z.$b.id}:${z.Yb.id}`,
c.layout.attrs.get(He.zs,z.Yb,z.$b)||{});for(const I of A){k.has(I.id)||(k.add(I.id),m.push(__c.MNc.snapshot(I)));for(const K of B)l.has(K.id)||(l.add(K.id),p.push(__c.LNc.snapshot(K))),f.set(`${I.id}:${K.id}`,D)}}return{sheet:{vt:__c.dke(a.domain.cells,{uoa:g,uzc:f,cols:m,rows:p,_attributes:h}),Z5:[],direction:c.direction,nr:new Map,AT:__c.XHd,Cpa:!1,view:__c.vYc},metadata:{z_b:q!==null&&q!==void 0?q:0,bSb:r!==null&&r!==void 0?r:0}}};
Uws=function(a,b,c){return(d,e)=>{var f;const g=c===null||c===void 0?void 0:c.getContent(a.config,e.Yb,e.$b),h=a.config.layout.attrs.get(He.zs,e.Yb,e.$b)||{};var k=__c.mUb(h.textAlign,d===null||d===void 0?void 0:d.type,g===null||g===void 0?void 0:(f=g.Bb)===null||f===void 0?void 0:f.type);k={...__c.yZe(h),"text-align":k};f={...xs,content:{...ws,text:Kg.md().attrs(k).Wb("\n").build()}};if(!g)return f;k=Kg.FTi().attrs(k);switch(d===null||d===void 0?void 0:d.type){case void 0:case "embed":case "number":case "boolean":case "plaintext":case "media":case "mention":var l=
k.Wb(g.lR+"\n").build();break;case "formula":d=`${e.$b.id}:${e.Yb.id}`;(d=b===null||b===void 0?void 0:b.CDe.get(d))&&(l=k.Wb(d+"\n").build());break;case "text2":l=Kg.snapshot(d.value);l=k.append(l).build();break;default:throw new v(d);}return l?{...xs,content:{...ws,text:Kg.qub(l)},fill:{...ms,color:h===null||h===void 0?void 0:h.m_}}:f}};
Vws=function(a,b,c){return(d,e)=>{const f=a.config.layout.attrs.get(He.zs,e.Yb,e.$b)||{};var g=__c.mUb(f.textAlign,d===null||d===void 0?void 0:d.type);g={...__c.Ky(f),textAlign:g};let h;(d===null||d===void 0?void 0:d.type)==="formula"?(d=`${e.$b.id}:${e.Yb.id}`,(d=b===null||b===void 0?void 0:b.CDe.get(d))&&(h=Xk.md().attrs(g).Wb(d+"\n").build())):d&&(h=c(a.config,d,e));return h?{...xs,content:{text:h},fill:{...ms,color:f===null||f===void 0?void 0:f.m_}}:{...xs,content:{...ws,text:Xk.md().attrs(g).Wb("\n").build()}}}};
Xws=function(a){if(a)return[...a.entries()].map(([b,c])=>new Wws({...c,selection:b.slice(1)}))};axs=function(a,{aspectRatio:b,Mn:c,tb:d}){return new Yws({aspectRatio:b&&new Zws(b),Mn:c&&new $ws(c),tb:d&&a.MTf(d)})};fxs=function(a){return new bxs({kpa:a.kpa.filter(vb).map(b=>new cxs({boundingBox:new dxs({left:b.boundingBox.yjb,top:b.boundingBox.Ajb,width:b.boundingBox.width,height:b.boundingBox.height}),N$:new exs({Ad:b.N$.Ad,d5:b.N$.d5.filter(vb),W7c:b.N$.W7c})}))})};
vxs=function(a){return __c.zd(a.map(b=>{switch(b.type){case "inpainting":return new gxs({...b,mask:hxs(b.mask)});case "prompt_inpainting":var c=hxs(b.mask);a:{var d=b.chb;switch(d){case "normal":d=1;break a;case "color_harmonized":d=2;break a;case "phoenix":d=3;break a;default:throw new v(d);}}return new ixs({...b,mask:c,chb:d});case "text_breakout_inpainting":return new jxs({sn:b.sn});case "bg_remover":return new kxs(b);case "erase_restore":return new lxs({...b,mask:new mxs(b.mask)});case "prompt_editing":return new nxs({...b,
mask:b.mask?hxs(b.mask):void 0});case "outpainting":return new oxs({...b});case "segmentation_bg_remover":return new pxs({mask:hxs(b.mask)});case "image_merge":return new qxs({...b,g3a:new rxs({...b.g3a,sB:b.g3a.sB&&new sxs({...b.g3a.sB})})});case "bg_generation":return new txs(b);case "style_transfer":return new uxs(b);default:throw new v(b);}}))};yxs=function(a){return __c.zd(a.map(b=>new wxs({mask:hxs(b.mask),Oi:b.Oi&&new xxs(b.Oi),jK:b.jK&&Xws(b.jK)||[]})))};
hxs=function(a){switch(a.type){case "mask_selection":return new mxs(a);case "segmentation_mask":const {points:c,zJa:d,...e}=a;a=__c.bCf(__c.zd(c));a:switch(d){case "standard":var b=1;break a;case "more":b=2;break a;default:throw new v(d);}return new zxs({...e,points:a,zJa:b});case "adaptive_brush_mask":return new Axs(a);case "foreground_mask":return new Bxs({region:2});case "background_mask":return new Bxs({region:1});default:throw new v(a);}};
Cxs=function(a,{aspectRatio:b,Mn:c,tb:d}){return{aspectRatio:b&&{...b},Mn:c&&{...c},tb:d&&a.Rlf(d)}};Dxs=function(a){return a!==null&&a!==void 0&&a.length?new Map(a.map(b=>[`#${b.selection}`,b])):__c.xA.jK};Exs=function(a){return{kpa:a.kpa.map(b=>{const c=b.boundingBox;return{boundingBox:{...c,yjb:c.left,Ajb:c.top},N$:{...b.N$}}})}};
Gxs=function(a){return a.map(b=>{switch(b.type){case "INPAINTING":return{...b,type:"inpainting",mask:Fxs(b.mask)};case "PROMPT_INPAINTING":var c=Fxs(b.mask);a:{var d=b.chb;switch(d){case 1:d="normal";break a;case 2:d="color_harmonized";break a;case 3:d="phoenix";break a;default:throw new v(d);}}return{...b,type:"prompt_inpainting",mask:c,chb:d};case "TEXT_BREAKOUT_INPAINTING":return{type:"text_breakout_inpainting",sn:b.sn};case "BG_REMOVER":return{...b,type:"bg_remover"};case "ERASE_RESTORE":return{type:"erase_restore",
mask:{...b.mask,type:"mask_selection"}};case "PROMPT_EDITING":return{...b,type:"prompt_editing",mask:b.mask?Fxs(b.mask):void 0};case "OUTPAINTING":return{...b,type:"outpainting"};case "SEGMENTATION_BG_REMOVER":return{type:"segmentation_bg_remover",mask:Fxs(b.mask)};case "IMAGE_MERGE":return{...b,Fg:b.Jri,type:"image_merge"};case "BG_GENERATION":return{...b,type:"bg_generation"};case "STYLE_TRANSFER":return{...b,type:"style_transfer"};default:throw new v(b);}})};
Hxs=function(a){return a.map(b=>({mask:Fxs(b.mask),Oi:b.Oi&&{...b.Oi},jK:b.jK&&Dxs(b.jK)}))};
Fxs=function(a){switch(a.type){case "MASK_SELECTION":return{...a,type:"mask_selection"};case "SEGMENTATION_MASK":var b=a.cTa,c=a.points?__c.$Bf(a.points.xs,a.points.ys):[];a:{var d=a.zJa;switch(d){case 1:d="standard";break a;case 2:d="more";break a;default:throw new v(d);}}return{...a,type:"segmentation_mask",cTa:b,points:c,zJa:d};case "ADAPTIVE_BRUSH_MASK":return{...a,type:"adaptive_brush_mask"};case "FGBG_MASK":return{type:a.region===1?"background_mask":"foreground_mask"};default:throw new v(a);
}};Kxs=function(a,b,c){const d=[],e=[];b.forEach(g=>{var h;const k=(h=a.PN)===null||h===void 0?void 0:h.FBe(g.image.ref);k&&d.push(k);e.push(Xg.t3(Zr.snapshot(g)))});const f=Ixs(d);b={contentType:"page_backgrounds",gYb:b.length};return{YRb:new Jxs({...c,sh:e,fill:e[0],C$d:f}),pse:b}};
Lxs=function(a,b,c,d,e){const {sheet:f,metadata:g}=Tws(__c.iBa,a.xB,c,b,k=>__c.pSc.snapshot(k)),h=[...b].sort((k,l)=>c.layout.rows.Wi(k.row,l.row)||c.layout.cols.Wi(k.column,l.column))[0];d=zj(d,new sj(c.Gd(h.column),c.xd(h.row)));a=a.Tc?Sws(c,b,a.Tc):new Map;return{sheet:{...xYc,id:e,config:f,top:d.y,left:d.x,width:f.vt.cols.reduce((k,l)=>k+l.width,0),height:f.vt.rows.reduce((k,l)=>k+l.height,0)},metadata:{...g,CDe:a}}};
Mxs=async function(a,b,c){var d,e=a.selection.La;const f=e&&e.type==="pages"?e:void 0;e=!0;let g=b.sh.map(k=>rns(Xg.IX(k)));c.nb().addEvent("proto_deserialized");a.session!==b.session&&({c4b:e,sh:g}=await Qws(a.vAb,b,{sh:g},c));c.nb().addEvent("content_normalized");const h=a.viewport.jh;((d=a.timing)===null||d===void 0?0:d.Xt)&&h.type==="fixed-page"?(d=__c.IRd(a.vd,h.page.Oc,a.timing.UG),a.AV.ion(g,d,b.width,b.height)):a.AV.Non(g[0],b.width,b.height,f);c.nb().addEvent("content_added");return e};
Nxs=async function(a,b,c){if(!a.Gp.KAj({yBl:b.tracks.length}))return c.abort(),!1;let d=b.tracks.map(f=>__c.bde(mu,Xg.aUh(f)));c.nb().addEvent("proto_deserialized");let e=!0;b.session!==a.session&&({c4b:e,tracks:d}=await Qws(a.vAb,b,{tracks:d},c));c.nb().addEvent("content_normalized");oV(()=>{var f;const g=(f=__c.Ii(d,k=>{var l;return(l=k.startUs)!==null&&l!==void 0?l:0}).startUs)!==null&&f!==void 0?f:0,h=a.Gp.Z8h()-g;d=d.reduce((k,l)=>{var m;const p=((m=l.startUs)!==null&&m!==void 0?m:0)+h;p<=a.Gp.bOe&&
k.push({...l,startUs:p});return k},[]);f=a.vDa.document.audio.tracks.Zca(void 0,d);c.nb().addEvent("content_added");__c.wde(a.selection,f)});return e};
Qxs=function(a,b,c,d,e){var f;b=Oxs(b,{width:d,height:e,units:4},a.eb.Zk(c.page),a.viewport.XB().transform(a.viewport.Qm(c)),Pxs(a,c));d=__c.Ii(b,l=>Math.min(...Qj(l).ih().map(m=>m.y)));const g=Qj(d);d=l=>c.page.elements.some(m=>{m=Qj(m);const p=g.transform(Fj(l,l));return m.approximatelyEquals(p)});let h=0;for(;d(h);)h+=__c.Ak;if((f=a.timing)===null||f===void 0?0:f.Xt){f=a.timing.UG;var k;d=(k=__c.Ii(b,m=>{var p;return(p=m.startUs)!==null&&p!==void 0?p:0}).startUs)!==null&&k!==void 0?k:0;const l=
f-d;b=b.map(m=>{var p;const q=((p=m.startUs)!==null&&p!==void 0?p:0)+l;p=m.durationUs!=null?m.durationUs:m.type!=="rect"&&m.type!=="layout"||m.fill.video==null?5E6:a.vd.IUb(m.fill.video)||5E6;return{...m,startUs:q,durationUs:p}})}return b.map(l=>__c.ow(l,Fj(h,h)))};Pxs=function(a,b){const c=a.$Ka.store.r_;if((c===null||c===void 0?void 0:c.page)===b.page)return a.viewport.Qm(b).transformPoint(c.position)};
Rxs=function(a,b,c,d){var e,f,g,h;c={width:c,height:d,units:4};c=b.dimensions||c;d=a.vDa.document.dimensions;return((f=a.vDa.doctype)===null||f===void 0?0:(e=f.Pc)===null||e===void 0?0:e.FQa)||((h=a.vDa.doctype)===null||h===void 0?0:(g=h.Pc)===null||g===void 0?0:g.$db)?(e=d.width/c.width,e=xg(c)?d:{width:c.width*e,height:c.height*e,units:4},__c.Kne(c,e,e,b,a.Pb)):a.l1c&&xg(c)||b.sheet!=null?{...b,dimensions:c}:__c.Hne(c,d,b,a.Pb)};
Oxs=function(a,b,c,d,e){if(!a.length)return[];const f=Uj(0,a.map(Qj));b=xg(b)?f:Qj({left:0,top:0,...ug(4,b)});const g=!xg(c),h=g?Qj({left:0,top:0,...ug(4,c)}):void 0;c=f;!h||h.approximatelyEquals(b)||__c.Wj(h,f)||(c=__c.kde(f.transform(Ij(f.tl,h.tl)),h.tl,h));if(!g)c=c.transform(e?Ij(c.c,e):Ij(c.c,d.c));else if(h&&!Tj(c,d)){var k;e=(k=Tj(h,d))!==null&&k!==void 0?k:d;c=c.transform(Ij(c.c,e.c))}const l=Ej().then(Ij(f.tl,c.tl)).then(__c.Lj(c.tl,c.width/f.width));return a.map(m=>__c.ow(m,l))};
Ixs=function(a){return a.map(b=>new Sxs({value:b&&Txs.serialize(b)}))};Uxs=function(a){switch(a){case "solid":return __c.Rfe([]);case "dotted":return __c.Rfe([1,1]);case "dashed":return __c.Rfe([3,1]);default:throw new v(a);}};Vxs=function(a){const b=[];a.cells.Ooa===1&&a.forEach({item:c=>b.push(c)});return b};Wxs=function(a){return a<=0?"solid":a===1?"dotted":"dashed"};
Xxs=function(a,b,c){const d=bV.element("td");(a=c===null||c===void 0?void 0:c.getContent(a,b.row,b.column))&&d.setContent(a.lR);return d};Yxs=function(a,b){const c=new Map;for(const {row:d,column:e}of b)(b=__c.ode(__c.ZHd,a,e,d))&&c.set(qns(e,d),b);return c};Zxs=function(a){const b=new Map;for(const c of a.layout.rows)for(const d of a.layout.cols){const e=__c.ode(__c.ZHd,a,d,c);e&&b.set(qns(d,c),e)}return b};
$xs=function(a){if(a.Cbf){var b=a.Cbf.transform();if(b.cells.Ya().trim().length!==0){var c=__c.YPb(a.Mi,b,1,"em-square"),d=__c.Pn(c,a.container.width);c.destroy();a.elements.push({...__c.Cs,top:a.Ikc,left:0,width:d.width,height:d.height,text:b,Sn:1,Su:1,Kf:{fi:d.fi}});a.Ikc+=d.height}}};sV=function(a){a.e$==null||a.Xan(a.e$)||a.TKa("\n")};
ays=function(a,b,c){const d={},e=()=>{tV(vqs(c,a),h=>{d["font-size"]=h});var g=Iqs(c,a);tV(g?g*1E3:void 0,h=>{d.leading=h});g=Mqs(c,a);tV(g?g*1E3:void 0,h=>{d.tracking=h});tV(Cqs(c,a),h=>{d["text-transform"]=h});g=Eqs(c,a);tV(g,h=>{d.direction=h});tV(xqs(c,a,g),h=>{d["text-align"]=h});g=yqs(a);tV(g,h=>{d["list-level"]=h});tV(g?g*1700:void 0,h=>{d["head-indent"]=h});tV(zqs(a),h=>{h!=="checked"&&h!=="unchecked"&&(d["list-marker"]=h)});tV(Nqs(a),h=>{d.semantics=h})},f=()=>{tV(wqs(c,a),g=>{d["font-weight"]=
g});tV(Aqs(c,a),g=>{d["font-style"]=g});tV(oqs(c,a),g=>{d.color=g});tV(Bqs(c,a),g=>{d.decoration=g});tV(Dqs(c,a),g=>{d.strikethrough=g});tV(Zns(a),g=>{d.link=g})};switch(b){case "block":e();f();break;case "inline":f();break;default:throw new v(b);}return d};tV=function(a,b){a!=null&&b(a)};bys=function(a){a.wdb&&(a.NVa.push(a.wdb),a.wdb=void 0)};cys=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};
eys=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":d=Kg.jJ.deserialize(d.text);const k=bV.element("div");(new dys(d)).transform().forEach(q=>{k.appendChild(q)});return k;case "GROUP":const l=bV.element("div");eys(a,d.mb).forEach(q=>l.appendChild(q));return l;case "TABLE":return d=Xg.awe(d),Pns(a.yOa,d,q=>{const r=bV.element("td");(new dys(q)).transform().forEach(t=>r.appendChild(t));return r});case "SHEET":d=__c.kBa(Xg,d);const m=bMb.create(d),p=c===null||c===void 0?void 0:c.sheets[d.id];
d=p?p.cells?Yxs(p.sheet,p.cells):Zxs(p.sheet):Zxs(m.config);return(new fys(m.config,(q,r)=>{switch(q.type){case "text2":const t=bV.element("td");r=Kg.snapshot(q.value);(new dys(r)).transform().forEach(w=>t.appendChild(w));return t;default:q=(p===null||p===void 0?void 0:p.sheet)||m.config;const u=n(q.y_b(r.row.id));r=n(q.aSb(r.column.id));return Xxs(q,{row:u,column:r},a.Tc)}},d)).transform();case "SHAPE":var e;if(!d.$c.length)break;var f=__c.Gn.create(Xg.VDc(d)),g=n(f.$c.first());d=g.text.Ya.trim();
if(!d)break;var h;f=bk(f)?(h=(e=f.$c.next(g))===null||e===void 0?void 0:e.text.Ya.trim())!==null&&h!==void 0?h:"":"";if(!f)return f=bV.element("p"),f.setContent(d),f;e=bV.element("table");g=e.appendChild(bV.element("tr"));h=g.appendChild(bV.element("td"));g=g.appendChild(bV.element("td"));h.setContent(d);g.setContent(f);return e;case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new v(d);}}).filter(vb)};
gys=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":return Kg.jJ.deserialize(d.text).cells.Ya().trim();case "GROUP":return gys(a,d.mb);case "TABLE":var e=Xg.awe(d);return Ons(a.yOa,e);case "SHEET":e=__c.kBa(Xg,d);var f=bMb.create(e);d=c===null||c===void 0?void 0:c.sheets[e.id];const h=(d===null||d===void 0?void 0:d.sheet)||f.config;return a.gmh.serialize(e.config,l=>l(h));case "SHAPE":if(!d.$c.length)break;var g=__c.Gn.create(Xg.VDc(d));const k=n(g.$c.first());d=k.text.Ya.trim();if(!d)break;
g=bk(g)?(f=(e=g.$c.next(k))===null||e===void 0?void 0:e.text.Ya.trim())!==null&&f!==void 0?f:"":"";return d+(g?` \u2014 ${g}`:"");case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new v(d);}}).filter(vb).join("\n")};
jys=function(a,b){const c=a.grid.Tv;var d=b.map(l=>hys(l,c));const e=iys(d.map(l=>l.gridColumnStart)),f=iys(d.map(l=>l.gridRowStart));var g=a.grid.gridTemplateColumns.filter((l,m)=>e.includes(m+1));d=a.grid.gridTemplateRows.filter((l,m)=>f.includes(m+1));g=g.map(l=>parseFloat(l));const h=Math.min(...g),k=h<1?1/h:1;g=g.map(l=>`${l*k}fr`);return{zp:a.zp,grid:{gridTemplateColumns:g,gridTemplateRows:d,columnGap:a.grid.columnGap,rowGap:a.grid.rowGap,Tv:new Map(b.map(l=>{const m=hys(l,c),p=e.indexOf(m.gridColumnStart)+
1,q=f.indexOf(m.gridRowStart)+1;__c.ta(m.gridColumnStart+1,m.gridColumnEnd);__c.ta(m.gridRowStart+1,m.gridRowEnd);return[l,{...__c.qn,alignSelf:m.alignSelf,padding:m.padding,gridColumnStart:p.toString(),gridColumnEnd:(p+1).toString(),gridRowStart:q.toString(),gridRowEnd:(q+1).toString()}]}))}}};
hys=function(a,b){a=b.get(a);b=d=>{d=parseInt(d!==null&&d!==void 0?d:"1",10);pa(!isNaN(d),"Invalid placement position");return isNaN(d)?1:d};var c;return{alignSelf:a===null||a===void 0?void 0:a.alignSelf,padding:(c=a===null||a===void 0?void 0:a.padding)!==null&&c!==void 0?c:__c.VXc,gridColumnStart:b(a===null||a===void 0?void 0:a.gridColumnStart),gridRowStart:b(a===null||a===void 0?void 0:a.gridRowStart),gridColumnEnd:b(a===null||a===void 0?void 0:a.gridColumnEnd),gridRowEnd:b(a===null||a===void 0?
void 0:a.gridRowEnd)}};
mys=function(a,b,c,d,e){const f=[];b.forEach({item:m=>{f.push(kys(m));if(m.type==="sheet"&&!c.has(m.id)){var p=NUc.create(m);p=a.Tc?Sws(p.config,p.config.layout.cells.map((q,r)=>({row:r.Yb,column:r.$b})),a.Tc):new Map;c.set(m.id,{z_b:0,bSb:0,CDe:p})}}});var g=__c.fhf(a.Xa),h=a.PN&&g?__c.lLf(a.PN,[...g.items.values()]):[];g===null||g===void 0||g.disconnect();g=h.map(m=>new Sxs({value:m&&Txs.serialize(m)}));const {media:k,Cc:l}=__c.Hf({pH:[b]});h={contentType:"richtext3",gYb:f.length,gD:f.join(", "),
wD:[...k.map(m=>m.id),...l]};b=Xg.E4a(b);return{YRb:new lys({...e,Nc:b,C$d:g,nvc:c}),pse:h,fCc:d}};pys=function(a,b,c,d,e,f,g,h,k){b.type==="table"?a.rB.xoi(d,e,f,b,!0,"clipboard"):b.type==="sheet"?(c=c!=null?h===null||h===void 0?void 0:h.get(c):void 0,b=nys(a,b,c),a.rB.xoi(d,e,f,b,!0,"clipboard")):oys(a,b,g,k)};
rys=function(a,b,c,d,e,f,g,h){c=c!=null?e===null||e===void 0?void 0:e.get(c):void 0;b.type==="sheet"?Gws(a.vVa,b,c,f,g,h):b.type==="table"?(b=(new qys(a.Pb,k=>Kws(a.ZQ.config.bDg(k)),__c.mAa,k=>{if(!a.Tc)return k;const l=__c.MUc.create(k);wz(a.Tc,m=>{l.layout.cells.forEach((p,q)=>{p.content.ref&&p.content.ref.type==="text3"&&m.Mdc(l,{column:q.$b,row:q.Yb},p.content.ref.value)})});return __c.MUc.snapshot(l)},b)).transform(),b={...QYc,id:a.Pb.wi.generate(),config:b},Gws(a.vVa,b,c,f,g,h)):oys(a,b,d,
f)};oys=function(a,b,c,d){b=sys(a,b);const e=Xk.md();for(f of b)e.append(f);var f=Xk.qub(e.build());tys(a,f.slice(0,f.length-1),c,d)};
tys=function(a,b,c,d){var e,f,g;const h=((e=a.selection.La)===null||e===void 0?void 0:e.type)==="pages"&&((f=a.selection.La.Ud)===null||f===void 0?void 0:f.type)==="responsive"?a.selection.La.Ud:void 0;h&&a.Xa.Ju(h.text,Nw.end());b=Lws(a.vVa,b,d);(b=b===null||b===void 0?void 0:b.wEj())&&b.items.size>0&&((g=a.PN)===null||g===void 0||__c.jLf(g,[...b.items],c));b===null||b===void 0||b.disconnect()};vys=function(a,b,c){return uys(a)&&!c.marker.Ig.ref&&b.width==="100cqw"};
sys=function(a,b){switch(b.type){case "table":return[...b.cells.values()].filter(({content:{text:d}})=>d.cells.Ooa>1||d.cells.BB>0).map(d=>d.content.text);case "sheet":const c=NUc.create(b);return c.config.layout.cells.map((d,e)=>d.content.ref?wys(a,c.config,d.content.ref,e):void 0).filter(vb);case "layout":return[...b.cells.values()].filter(({text:d})=>d.cells.Ooa>1||d.cells.BB>0).map(d=>d.text);default:throw new v(b);}};
wys=function(a,b,c,d){var e,f,g=__c.ge(He,b.layout.attrs.get(He.zs,d.Yb,d.$b)||{});const h=(e=a.Tc)===null||e===void 0?void 0:e.getContent(b,d.Yb,d.$b);b=__c.mUb(g.textAlign,c.type,h===null||h===void 0?void 0:(f=h.Bb)===null||f===void 0?void 0:f.type,h?()=>h.fD.type:void 0);f={...__c.Ky(g),textAlign:b};g=h===null||h===void 0?void 0:h.lR;if(b=h===null||h===void 0?void 0:h.Bb)switch(b.type){case "date":if(c.type==="number"&&(b=__c.Nxb(c.value)))return Xk.md().attrs(f).item(xys(b,g,a.vDa.document.language)).Wb("\n").build();
break;case "select":if(g)return Xk.md().attrs(f).item(yys(g,b.options)).Wb("\n").build()}switch(c.type){case "number":case "formula":case "boolean":case "plaintext":return g&&g.length>0?Xk.md().attrs(f).Wb(`${g}\n`).build():void 0;case "media":if(c.value.count()===0)break;const k=Xk.md().attrs(f);c.value.forEach(p=>k.item(zys(p)));return k.Wb("\n").build();case "mention":if(c.value.count()===0)break;const l=Xk.md().attrs(f);c.value.forEach(p=>l.item({...__c.WYc,mi:{type:"mention",...p}}));return l.Wb("\n").build();
case "embed":if(c.value.count()===0)break;const m=Xk.md().attrs(f);c.value.forEach(p=>m.item({...__c.WYc,mi:{type:"embed",...p.embed}}));return m.Wb("\n").build();case "text3":return a=Xk.snapshot(c.value),a.cells.Ooa>1||a.cells.BB>0?Xk.md().attrs(f).append(a).build():void 0;default:throw new v(c);}};nys=function(a,b,c){b=NUc.create(b);c=(new Ays(Vws(b,c,(d,e,f)=>wys(a,d,e,f)),b.config)).transform();return{...__c.PYc,...c}};
uys=function(a){const b=a.selection.Ib;if(!b||b.container.type!=="body"&&b.container.type!=="responsive-page")return!1;switch(b.type){case 0:return a.Xa.mma(b.container.text,b.range,Nw.start()).intersects;case 1:return!!b.only&&!a.Xa.qRd(b.container.text,b.only);default:return!1}};
Bys=function(a,b,c){switch(b.type){case "controlled":case "rect":case "chart":case "design":case "embed":case "pill":case "break":case "separator":case "sheet":return b;case "shape":throw new __c.Dv;case "table":return{...b,cells:sd(b.cells,d=>({...d,content:{...d.content,text:a.QRf(d.content.text,c)}}))};case "layout":return{...b,cells:sd(b.cells,d=>({...d,text:a.QRf(d.text,c)}))};default:throw new v(b);}};Cys=function(a){let b;a.cells.BB===1&&a.cells.Ooa===0&&a.forEach({item:c=>{b=c}});return b};
Dys=function(a){const b=[];a.cells.Ooa===0&&a.forEach({item:c=>b.push(c)});return b};kys=function(a){switch(a.type){case "pill":return`${a.mi.type}_${a.type}`.toLowerCase();default:return a.type.toLowerCase()}};zys=function(a){var b,c;const {width:d,height:e}=n(a.Uy||((b=a.fill.image.ref)===null||b===void 0?void 0:b.tb)||((c=a.fill.video.ref)===null||c===void 0?void 0:c.tb));return{...__c.NYc,gb:d,Ub:e,fill:Zr.snapshot(a.fill)}};
xys=function(a,b,c){return{...__c.WYc,mi:{type:"date",text:b!==null&&b!==void 0?b:a.toString(),date:{day:a.getUTCDate(),month:(a.getUTCMonth()+1)%12,year:a.getUTCFullYear()},language:c!==null&&c!==void 0?c:"en",style:2}}};yys=function(a,b){let c="0";b=b.map((d,e)=>{d.label===a&&(c=e.toString());return{id:e,label:d.label,fill:{...ms,color:d.fill.color}}});return{...__c.WYc,mi:{type:"select",text:a,options:b,GG:c}}};
Gys=function(a,b,c){const d=Rb("cf27dcb6",!1),e=Rb("73c869d2",!1),f={},g=()=>{var k=Eqs(c,a);uV(k,l=>{f.direction=l});uV(xqs(c,a,k),l=>{f.textAlign=l});uV(yqs(a),l=>{f.Hk=l});uV(zqs(a),l=>{f.Mk=l});uV(Iqs(c,a),l=>{f.lineHeight=l});k=Eys(a,k);uV(k,l=>{f.marginInlineStart=l});uV(Fys(a,k),l=>{f.textIndent=l});uV(Nqs(a),l=>{e&&(f.JBa=l)})},h=()=>{uV(vqs(c,a),k=>{if(!d||a.tagName!=="SUB"&&a.tagName!=="SUP")f.fontSize=k});uV(wqs(c,a),k=>{f.fontWeight=k});uV(Aqs(c,a),k=>{f.fontStyle=k});uV(oqs(c,a),k=>{f.color=
k});uV(lqs(c,a),k=>{k!=="#ffffff"&&(f.backgroundColor=k,f.cva=__c.Kbg.cva,f.bva=__c.Kbg.bva)});uV(Bqs(c,a),k=>{f.decoration=k});uV(Dqs(c,a),k=>{f.sv=k});uV(Zns(a),k=>{f.link=k});uV(Mqs(c,a),k=>{f.letterSpacing=k});uV(Oqs(c,a),k=>{if(d)switch(k){case "super":f.verticalAlign=__c.sB.verticalAlign;f.uJ=__c.sB.uJ;break;case "sub":f.verticalAlign=__c.Ezg.verticalAlign;f.uJ=__c.Ezg.uJ;break;default:throw new v(k);}})};switch(b){case "block":g();h();break;case "inline":h();break;default:throw new v(b);}return f};
Fys=function(a,b){a=pqs(qV(a.style.textIndent));b=a!=null&&a>0?24+((b||0)===0?8:0):0;return b>0?b:void 0};Eys=function(a,b){b=b==="rtl"?a.style.marginRight:a.style.marginLeft;return(a=pqs(qV(a.style.marginInlineStart||b)))?bos(a):void 0};uV=function(a,b){a!=null&&b(a)};
Hys=function(a,b){const {width:c,height:d}=Fi(a.files,g=>g.width);pa(c>0&&d>0);const e=Nj(0,0,c,d).Lb();let f;b?f="100%":b=a.type===2?"50%":c<d?"50%":"100%";return{...__c.NYc,width:b,maxWidth:f,fill:{...ms,image:{...__c.ls,media:{id:a.id,version:a.version},tb:e}},gb:void 0,Ub:void 0}};Jys=function(a,b){return Pns(a.yOa,b,c=>{const d=bV.element("td");(new Iys(c,a.Tc,a.yOa)).transform().forEach(e=>d.appendChild(e));return d})};
Kys=function(a,b){var c;const d=NUc.create(b),e=(c=a.fCc)===null||c===void 0?void 0:c.sheets[b.id];b=e?e.cells?Yxs(e.sheet,e.cells):Zxs(e.sheet):Zxs(d.config);return(new fys(d.config,(f,g)=>{switch(f.type){case "text3":return g=Xk.snapshot(f.value),g=(new Iys(g,a.Tc,a.yOa)).transform(),f=bV.element("td"),f.setContent(g.join("")),f;default:f=(e===null||e===void 0?void 0:e.sheet)||d.config;const h=n(f.y_b(g.row.id));g=n(f.aSb(g.column.id));return Xxs(f,{row:h,column:g},a.Tc)}},b)).transform()};
Mys=function(a,b){const c=bV.element("table"),d=bV.element("tr");c.appendChild(d);c.setStyle("padding-block-start",`${b.padding.xd}px`);c.setStyle("padding-block-end",`${b.padding.Xe}px`);b.fill.color&&c.setStyle("background-color",b.fill.color);b.cells.forEach(e=>{e=Lys(a,e);d.appendChild(e)});return c};Lys=function(a,b){const c=bV.element("td");(new Iys(b.text,a.Tc,a.yOa)).transform().forEach(d=>c.appendChild(d));b.fill.color&&c.setStyle("background-color",b.fill.color);return c};
Nys=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};Pys=function(a,b,c,d,e){var f;const g=new Qqs(b.getElementsByTagName("style"));e=new Oys(()=>({...a.rud(),...d}),{pVd:h=>a.pVd(h,c),oVd:h=>a.oVd(h,g,c)},g,a.Pb,c,()=>Ly,e,(f=a.Ua)===null||f===void 0?void 0:f.qYc,a.ztl);return Yns(b,e).transform()};
Rys=function({byr:a,Oyr:b,gEs:c,uEs:d,vEs:e,fh:f,la:g,ka:h,Dc:k}){const l=fV(()=>k.Xu=void 0),m=fV(()=>k.Xu=()=>cV(__c.lur,{closeDialog:l})),p=fV(()=>k.Xu=()=>cV(Qys,{closeDialog:l})),q=Symbol("ContextualMenuCopyPaste"),r=A=>{h.layout===2&&g.Hb({Cb:A,group:q})},t=A=>{A&&r(L("l7+Eng"))},u=()=>{h.layout===2?p():m()},w=()=>a().then(()=>r(L("hQep9g"))).catch(u),x=()=>b().then(t).catch(u),y=()=>b({bhd:!0}).then(t).catch(u),z=()=>b({Izg:!0}).then(t).catch(u);f.kc(()=>({CFs:c(),iHs:d(),jHs:e()}),(A,{CFs:B,
iHs:D,jHs:G})=>{A.eid=B?{Button:I=>cV(I.hl,{Icon:ID,label:L("y+PwqQ"),onClick:w,oa:I.oa,hm:Vk("c")})}:void 0;A.Tid=D?{Button:I=>{const K=gV(()=>{var N,M;(N=I.oa)===null||N===void 0||N.call(I);(M=I.Og)===null||M===void 0||M.clear()},[I]);return cV(I.hl,{Icon:__c.xgr,label:L("mvO3fA"),onClick:x,oa:K,hm:Vk("v")})}}:void 0;A.xdj=G?{Button:I=>cV(I.hl,{...I,Icon:__c.xgr,label:L("iV8+cw")})}:void 0;A.C6f=G?{Button:I=>cV(I.hl,{...I,Icon:__c.xgr,label:L("JQ7LxA"),onClick:y,hm:Vk(Ro("v"))})}:void 0;A.B6f=G?
{Button:I=>cV(I.hl,{...I,Icon:__c.xgr,label:L("RBZgMg"),onClick:z,hm:Vk(So("v"))})}:void 0},{equals:lV.shallow})};
Vys=function(a,b,c,d){const e=a.selection,f=a.Tc,g=a.Pb,h=a.Ih,k=new Sys(c,a.QJd,f,a.uo,g,(h===null||h===void 0?void 0:h.Xba)||d.Xba,{qYc:()=>{var r;return((r=e.Ib)===null||r===void 0?void 0:r.type)===4}},Tys);if(a.Ja==="responsive")return k;const l=a.session,m=a.viewport,p=new Uys(b,()=>{const r=m.jh;if(r.type==="responsive-page")throw Error("Cannot get the target box for a responsive page");const t=ug(4,r.page.dimensions||l.document.dimensions);return xg(t)?m.XB().transform(m.Qm(r)).scale(.85):
Qj({top:0,left:0,...t}).translate(t.width*.075,t.height*.075).scale(.85)},a.Mi,a.FWi,f,g,(h===null||h===void 0?void 0:h.Xba)||d.Xba,{qYc:()=>{var r,t;return((t=e.La)===null||t===void 0?void 0:(r=t.inner)===null||r===void 0?void 0:r.type)!=="table"}}),q=()=>{var r,t;return e.Ib||((r=e.La)===null||r===void 0?void 0:r.type)==="pages"&&((t=e.La.Ud)===null||t===void 0?void 0:t.type)==="responsive"?k:p};return{fUh(r){return q().fUh(r)},mVd(r){return q().mVd(r)},Slf(r){return q().Slf(r)},serialize(r){return q().serialize(r)}}};
azs=function(a,b,c,d,e,f){const g=a.alert,h=a.zc;var k=a.session;const l=a.Ma,m=a.viewport,p=a.la,q=a.Xa,r=a.selection;var t=a.Og;const u=a.N;var w=a.sc;const x=a.Wq,y=a.oc;var z=a.QT;const A=a.$p;var B=a.QJd,D=a.Jia,G=a.kwc;const I=a.timing,K=a.Pb,N=a.xB;var M=a.Naa;const O=a.Si,U=a.Tc;var W=a.iJ,X=a.QR,Z=a.Rr;const da=a.N7a,ka=a.JHa,la=a.Jva,oa=()=>{const qa=g.wq(()=>cV(Ik,{dismissible:!0,Kc:qa,tone:"warn",qH:!1,children:L("1qqN6w")}))},{bSf:ja}=new Wys({session:0,ia:"",domain:"",width:0,height:0});
d=new Xys(r,a.Ja!=="responsive"?a.jc:void 0,m,p,K,w,q,d,e,a.Ja!=="responsive"?a.wOa:void 0,N,M,O,U,W,X,Z,da.irb,da.hrb,da.Xde);const ha=new Yys(b,d,c,oa,qa=>{la.GJb&&[...qa.values()].find(ra=>!__c.nlf(la,ra))&&p.Hb({Cb:L("Y1SDvw"),jr:{buttonText:L("0MD9lQ"),onClick:()=>ka.kXk()},group:Zys})},ja,qa=>!(h===null||h===void 0||!h.rules.find(ra=>{var sa;return((sa=ra.gd)===null||sa===void 0?void 0:sa.brand)===qa})),document.location.hostname,k,Date.now(),l,q,r,t,u,f,w,y,x,z,A===null||A===void 0?void 0:
A.PN,B,D,G,N,O,U,K);if(a.Ja==="responsive")return ha;k=new __c.Vi(Math.round(Math.random()*1E4).toString(36)+Date.now().toString(36));t=a.$Ka;w=a.AOb;z=a.wOa;B=a.Gb;D=a.eb;G=a.AV;e=a.lr;M=a.FWi;W=a.yga;X=a.HE;Z=a.Og;const ba=a.vd,ca=new $ys(ha,b,d,a.sc,c,oa,ja,k,document.location.hostname,a.session,Date.now(),l,q,B,u,f,r,Z,A===null||A===void 0?void 0:A.PN,m,t,D,G,e,w,z,M,I,ba,N,O,U,K,W,y,x,p,X,da.l1c,da.jE);return{copy(qa,ra){return(r.Ib?ha:ca).copy(qa,ra)},cut(qa,ra,sa,wa){return(r.Ib?ha:ca).cut(qa,
ra,sa,wa)},paste(qa,ra,sa,wa,ya){return(r.Ib?ha:ca).paste(qa,ra,sa,wa,ya)},Imd(){return(r.Ib?ha:ca).Imd()},ufg(){return(r.Ib?ha:ca).ufg()},pjc(){return(r.Ib?ha:ca).pjc()},dYf(qa){return(r.Ib?ha:ca).dYf(qa)}}};
czs=function(a,b,c,d,e,f){const g=a.Ja,h=a.Ma,k=a.errorService,l=a.N,m=a.selection,p=a.Xa,q=a.la,r=a.xAb,t=a.Cod,u=I=>{k.fu({level:"info",category:"clipboard",message:I})},w=async(I,K,N)=>{u("cut");I=b.sb(I,{Fb:{name:"editor.cut"}});const M=await c.cut(N,K,I,void 0);M?(I.nb().cG(M.YRb.type.toLowerCase()),I.nb().addEvent("copied"),I.nb().tk(({Hi:O})=>{l.track(__c.Cif,{...M.pse,action:"cut",kb:K,Qb:O()})}),I.ue()):(I.nb().cG("no_data"),I.end())},x=I=>{h.mode>=30?I=p.focused:I!==null&&I!==void 0&&I.target?
I.target instanceof Element&&__c.oTb(I.target)!=null?I=!0:(I=I.target,I=I instanceof Node?I.parentElement:null,I=(I===null||I===void 0?void 0:I.closest(".a5dsSw"))!=null):I=!1;return I},y=async I=>{if(!(h.mode<=20)&&(x(I)||document.activeElement&&Uns()!=null||!__c.Jba(I)&&!z()))return w("editor_clipboard_cut_shortcut_used","shortcut",I)},z=()=>{var I;return((I=document.getSelection())===null||I===void 0?void 0:I.type)==="Range"},A=async(I,K,N)=>{u("copy");I=b.sb(I,{Fb:{name:"editor.copy"}});const M=
await c.copy(N,void 0);M?(I.nb().cG(M.YRb.type.toLowerCase()),I.nb().addEvent("copied"),I.nb().tk(({Hi:O})=>{l.track(__c.Cif,{...M.pse,action:"copy",kb:K,Qb:O()})}),I.ue()):(I.nb().cG("no_data"),I.end())},B=async I=>{(x(I)||document.activeElement&&Uns()!=null||!__c.Jba(I)&&!z())&&await A("editor_clipboard_copy_shortcut_used","shortcut",I)},D=async(I,K,N,M)=>{u("paste");const O=b.sb(I,{Fb:{name:"editor.paste",attrs:new Map([["control_context",K]])}});N===null||N===void 0||N.preventDefault();I=await d.paste(N,
void 0,m.Ib&&(M===null||M===void 0?0:M.bPn)?new Set(["text/plain"]):void 0);if(!I)return q.Hb({Cb:L("xsdoFQ")}),O.nb().cG("no_data"),O.end(),!1;O.nb().addEvent("clipboard_data_read");O.nb().cG(ios(I.type));await c.paste(I,O,K,(f===null||f===void 0?void 0:f.Xba)||e.Xba,M).catch(U=>{if(U instanceof __c.Toe)O.abort(),q.Hb({Cb:L("d6WIJg"),group:__c.Soe});else throw O.end("error"),U;});return!0},G=async(I,K)=>{h.mode<=30||!(x(I)||document.activeElement&&Uns()!=null)&&__c.Jba(I)||await D("editor_clipboard_paste_shortcut_used",
"shortcut",I,K)};Rys({byr:()=>A("editor_clipboard_copy_menu_used","menu"),Oyr:I=>D("editor_clipboard_paste_menu_used","menu",void 0,I),gEs:()=>c.Imd(),uEs:()=>c.ufg(),vEs:()=>c.pjc(),fh:a.fh,ka:a.ka,Dc:a.Dc,la:q});if(g==="responsive")document.addEventListener("cut",y),document.addEventListener("copy",B),document.addEventListener("paste",G);else if(bzs()){const I=[Vk("x"),()=>y(),L("EtFtgQ"),["edit"]],K=[Vk("c"),()=>B(),L("y+PwqQ"),["edit"]],N=[Vk("v"),()=>G(),L("mvO3fA"),["edit"]];a.uZd.register(I);
a.uZd.register(K);a.uZd.register(N)}else document.addEventListener("cut",y),document.addEventListener("copy",B),document.addEventListener("paste",G,{capture:!0});r.register([Vk(Ro("v")),()=>{D("editor_clipboard_paste_shortcut_used","shortcut",void 0,{bhd:c.pjc(),bPn:!c.pjc()})},L("mvO3fA"),["edit","suggest"]],[Vk(So(Ro("v"))),()=>{D("editor_clipboard_paste_shortcut_used","shortcut",void 0,{bhd:c.pjc(),bPn:!c.pjc()})},L("mvO3fA"),["edit","suggest"]],[Vk(So("v")),()=>{!t.t9a&&c.pjc()&&D("editor_clipboard_paste_shortcut_used",
"shortcut",void 0,{Izg:!0})},L("mvO3fA"),["edit","suggest"]]);g!=="responsive"&&a.uZd.register([Vk(Ro("v")),()=>{c.pjc()&&G(void 0,{bhd:!0})},L("mvO3fA"),["edit"]],[Vk(So(Ro("v"))),()=>{c.pjc()&&G(void 0,{bhd:!0})},L("mvO3fA"),["edit"]],[Vk(So("v")),()=>{!t.t9a&&c.pjc()&&G(void 0,{Izg:!0})},L("mvO3fA"),["edit"]])};bzs=function(){var a=navigator;return a!=null&&/iPad|Macintosh/i.test(a.userAgent)&&a.maxTouchPoints!=null&&a.maxTouchPoints>2};
gzs=function(a){const b=a.cJp;a=a.HX;const c=new dzs;a=new ezs(c,a);b.pwh=eV(()=>c.G9d==null?null:cV(fzs,{bounds:c.G9d}));return{kJp:a}};hzs=function(a){return a.every(b=>!!b.fill.image.ref)};izs=function(a){return a.every(b=>!!b.fill.video.ref)};jzs=function(a){return a.every(b=>!!b.fill.image.ref)};kzs=function(a){return a.every(b=>!!b.fill.video.ref)};lzs=function(a,b){return __c.Bo.PFm&&fk(a.eb,b,c=>c===null||c===void 0?void 0:c.mvg)};
mzs=function(a,b,c,d){switch(b.type){case "group":case "grid":case "table":case "sheet":var e,f;a.eta(c,d,1,b.container.container);(e=(f=a.Wq).tDa)===null||e===void 0||e.call(f,[b.container.ja],b.container.container);return!0;case "sheet-cell-media":var g,h;a.eta(c,d,1,b.container.container.container);(g=(h=a.Wq).tDa)===null||g===void 0||g.call(h,[b.sheet],b.container.container.container);return!0;case "shape":var k,l;a.eta(c,d,1,b.container.container);(k=(l=a.Wq).tDa)===null||k===void 0||k.call(l,
[b.shape],b.container.container);return!0;case "layout":case "layout-cell":return!1;default:throw new v(b);}};
nzs=function(a,b,c,d){var e,f;if(c.length===b.layout.cells.size)switch(c=b.container,c.type){case "fixed-page":var g,h;(g=(h=a.Wq).tDa)===null||g===void 0||g.call(h,[b.layout],c);break;case "group-element":case "controlled-element":throw Error("Deleting layout in these containers not supported");case "layout-element-cell":nzs(a,c.container,[c.qb],d);break;default:throw new v(c);}else(e=(f=a.Wq).Ysm)===null||e===void 0||e.call(f,b.layout,c),a.og.f8c(b,b.layout.cells.values().next().value)};
ozs=function(a,b){const c={type:a};if(a!=="page"&&a!=="row"&&a!=="column")return c;const d={};switch(b===null||b===void 0?void 0:b.type){case "page":d.Exs=b.pages.length;break;case "table-element":case "table-item":a==="column"?(a=dMe(b.table,b.cells),d.Hhb=a[a.length-1]-a[0]+1):a==="row"&&(a=cMe(b.table,b.cells),d.U_b=a[a.length-1]-a[0]+1);break;case "sheet-page-content":case "sheet-element":case "sheet-item":a==="column"?d.Hhb=b.columns.length:a==="row"&&(d.U_b=b.rows.length)}c.bHk=d;return c};
rzs=function(a,b){switch(a.type){case "background":a={message:L("AYGgyw"),Icon:Px,mode:"inner",hm:"Delete"};break;case "page":var c,d;a={message:J("JwjLTA",[(d=(c=a.bHk)===null||c===void 0?void 0:c.Exs)!==null&&d!==void 0?d:1]),Icon:Px,hm:"Delete"};break;case "scrollable-design":case "element":a={message:L("eLUEGw"),Icon:Px,mode:"outer",hm:"Delete"};break;case "grid":a={message:L("9p4Z5w"),Icon:__c.Byr,mode:"outer"};break;case "table-element":case "table-item":a={message:L("Kj4xeQ"),Icon:__c.kah,
mode:"outer"};break;case "controlled":case "group":a={message:L("IBNQDA"),Icon:uIp,mode:"inner"};break;case "image":a={message:L("8gZNXQ"),Icon:__c.Ru,mode:"inner"};break;case "video":a={message:L("jOQ+DQ"),Icon:__c.sD,mode:"inner"};break;case "shape":a={message:L("4iOUcQ"),Icon:__c.IZi,mode:"outer"};break;case "layout-element":case "layout-item":a={message:L("nMb99Q"),Icon:__c.gYi,mode:"outer"};break;case "column":var e,f;a={message:J("78BjBg",[(f=(e=a.bHk)===null||e===void 0?void 0:e.Hhb)!==null&&
f!==void 0?f:1]),Icon:pzs,mode:"column"};break;case "row":var g,h;a={message:J("F6TSbw",[(h=(g=a.bHk)===null||g===void 0?void 0:g.U_b)!==null&&h!==void 0?h:1]),Icon:qzs,mode:"row"};break;case "sheet-element":case "sheet-item":a={message:L("V1ylcQ"),Icon:__c.eG,mode:"outer"};break;case "sheet-element-cell-media":case "sheet-item-cell-media":a={message:L("eLUEGw"),Icon:Px,mode:"inner"};break;case "sheet-page-content":throw Error("Sheet page content cannot be deleted directly");default:throw new v(a.type);
}return{...a,message:b?L("eLUEGw"):a.message,Icon:b?Px:a.Icon}};szs=function(a){switch(a){case "section":return J("/g1arw",[1]);case "page":return J("JwjLTA",[1]);default:throw new v(a);}};
wzs=function(a,b,c,d,e){var f=tzs(a,b);f&&(f.count()===c.length||f.some(g=>!g.draft&&!c.includes(g)))&&(f=__c.FWe(a.document,c,a.Io),!f||a.hLn.Adq?(uzs(a,b,c),vzs(a,d,e)):a.eHs({Uhe:g=>{if(g){var h=a.hLn;h.storage?h.storage.setItem("E2DontShowPageDeleteWarningWithLink",JSON.stringify(g)):h.Fvm=g}},onCancel:()=>e.abort(),onClose:()=>e.abort(),ep:()=>{uzs(a,b,c);vzs(a,d,e)},kWg:f,OD:c.length}))};
tzs=function(a,b){switch(b.type){case "fixed-document":return a.document.pages;case "concatenated-fixed-page":var c;return(a=tzs(a,b.container))?(c=b.lha(a))===null||c===void 0?void 0:c.pages:void 0;default:throw new v(b);}};uzs=function(a,b,c){var d,e;const f=tzs(a,b);if(f){var g=xzs(f,c);g==null&&(g=n(f.last()),pa(a.A3h.zL!=null),{ja:g}=a.A3h.zL(g,{location:"delete_all_pages",Yc:"delete_all_pages"},{template:"default"}));a.og.hU(b,g);(d=(e=a.Wq).OTh)===null||d===void 0||d.call(e,c,f)}};
vzs=function(a,b,c){var d,e;const f=(e=(d=a.og.La)===null||d===void 0?void 0:d.pages)!==null&&e!==void 0?e:[],g=new Map;for(const [k,l]of a.document.pages.toArray().entries())g.set(l,k);d=f.map(k=>g.get(k)).filter(vb);c.nb().addEvent("deleted");const h={action:"delete",dSc:d.map(String),kb:b,location:b};c.nb().tk(({Hi:k})=>{a.N.track(__c.Hif,{...h,Qb:k(),Ly:0})});c.ue()};
xzs=function(a,b){var c=a.first(e=>b.includes(e)),d=a.last(e=>b.includes(e));c=c&&a.previous(c);d=d&&a.next(d);a=a.first(e=>!b.includes(e));return d||c||a};Bzs=function({X:a,Qa:b}){const c=new yzs,d=new zzs(c,a,b);d.init();return eV(()=>d.nla?cV(Azs,{Kc:d.Kc}):null)};
vV=function(a,b,c){const d=a.map(({label:f,values:g,type:h,Bb:k})=>{let l;h.binding!=="unused"&&(l=h.id);return{...__c.os,label:f,values:g,Bb:k,id:l,Kb:void 0}}),e=__c.Pjj(d,b);return{TPa:"state",mediaId:`_gc${b.type.toLowerCase().replace(/_/g,"")}`,config:e,data:d,Nb:void 0,spa:f=>{var g=`_gc${b.type.toLowerCase().replace(/_/g,"")}`,h={...__c.ps,title:c&&Czs.gCm?{...__c.YWc,text:c}:__c.ps.title};a:switch(e.type){case "LINE":case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "BUBBLEPLOT":case "DOTPLOT":case "STACKED_AREA":case "GROUPED_DOTPLOT":case "RADAR":var k=
__c.Iw.tpa(n(e.Kb)).length<=5;break a;case "BAR_RACE":case "PIE":case "DONUT":case "SCATTERPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "HISTOGRAM":case "FUNNEL":k=!1;break a;default:throw new v(e);}return{...__c.Iz,TPa:"state",mediaId:g,$n:h,data:d,config:e,Nb:void 0,Qn:k,style:__c.Gw(f)}}}};Dzs=function(a,b,c){switch(a.type){case "COLUMN":return a.header;case "BLOCK_HEADER":return b;case "BLOCK_VALUE":return c;default:throw new v(a);}};
Gzs=function(a,b,c){const d=new Set(hos(c));if(!b.every(f=>d.has(f)))return Ia({ZOe:b,from:[...d],RDe:"LABELLED_SERIES_FROM_ROWS",binding:"labels"});var e=Ezs(c.data());c=[];for(const [f,g]of e){e={binding:"unused"};a&&d.has(a)&&f===a?e={binding:"labelBy",id:Oy()}:b.includes(f)&&(e={binding:"valueBy",id:Oy()});const {values:h,Bb:k}=Fzs([...g],e.binding);c.push({label:f,values:h,type:e,Bb:k})}return Ha(c)};
Hzs=function(a,b){var c=hos(b),d=c.indexOf(a.label);const e=c.indexOf(a.group),f=c.indexOf(a.value);if(d<0)return Ia({ZOe:a.label,from:c,RDe:"PIVOT",binding:"label"});if(e<0)return Ia({ZOe:a.group,from:c,RDe:"PIVOT",binding:"groupBy"});if(f<0)return Ia({ZOe:a.value,from:c,RDe:"PIVOT",binding:"valueBy"});var g=new Set;c=new Set;for(var h of b.raw.slice(1))g.add(h[e]),c.add(h[d]);h=Array.from(g);const k=Array.from(c);c=new Map;for(g=0;g<h.length;g++)c.set(h[g],g);const l=new Map;for(const q of b.raw.slice(1))b=
q[d],c=q[e],g=q[f],l.has(b)||l.set(b,new Map),n(l.get(b)).set(c,g);const {values:m,Bb:p}=Fzs(k,"labelBy");a=[{label:a.label,values:m,type:{binding:"labelBy",id:Oy()},Bb:p}];d=h.map(q=>{const r=k.map(x=>{if(!l.has(x))return"";x=n(l.get(x));return x.has(q)?n(x.get(q)):""}),t={binding:"valueBy",id:Oy()},{values:u,Bb:w}=Fzs(r,"valueBy");return{label:q,values:u,type:t,Bb:w}});return Ha(a.concat(d))};Ezs=function(a){const b=new Map;for(const c of a)for(const [d,e]of c)__c.lj(b,d,e);return b};
Kzs=function(a,b){const c=b.raw[0],d=Izs(c),e=Izs([...c,d]),f=a.map(g=>c.indexOf(g));pa(f.every(g=>g>=0),"not all datablock headers are defined in the csv");a=[[...c.filter((g,h)=>!f.includes(h)),d,e]];for(const g of b.raw.slice(1))for(const h of f)a.push([...g.filter((k,l)=>!f.includes(l)),c[h],g[h]]);return{ulr:d,iUc:e,C1s:new Jzs(a)}};Izs=function(a){let b=1,c;do c=J("rlYolQ",[b++]);while(a.includes(c));return c};
Fzs=function(a,b){let c=a,d;switch(b){case "valueBy":case "sizeBy":const [e,f]=__c.Ige(a,{xAe:!1});f.ok?(c=e.map(k=>{const l=__c.Dge(k,f.value[0]);return l.ok?l.value.toString():k}),d=__c.RPe({kind:"number",format:f.value[0]},{gtc:!1})):d=__c.RPe({kind:"number",format:__c.LZg},{gtc:!1});break;case "xValueBy":case "yValueBy":const [g,h]=__c.Ige(a,{xAe:!1});h.ok?(c=g.map(k=>{const l=__c.Dge(k,h.value[0]);return l.ok?l.value.toString():k}),d=__c.RPe({kind:"number",format:h.value[0]},{gtc:!1})):d=__c.PPe;
break;case "labelBy":case "groupBy":case "colorBy":d=__c.PPe;break;case "unused":break;default:throw new v(b);}return{values:c,Bb:d}};
Nzs=function(a,b){switch(a.type){case "WIDE_DATA":if(a.group.type==="BLOCK_HEADER"&&a.value.type==="BLOCK_VALUE"&&a.label.type==="COLUMN")a=Gzs(a.label.header,[...a.WSh],b);else{const {C1s:c,ulr:d,iUc:e}=Kzs([...a.WSh],b);a=Hzs({group:Dzs(a.group,d,e),label:Dzs(a.label,d,e),value:Dzs(a.value,d,e)},c)}break;case "LONG_DATA":a=Hzs({label:a.hyd,group:a.ZVq,value:a.iUc},b);break;case "SCATTERPLOT":case "DOT_PLOT":case "GROUPED_DOT_PLOT":a=Lzs(a.hyd,a.W4i,[a.b5i],a.GNh,a.SSi,b);break;case "HIERARCHY_CHART":a=
Mzs([...a.VVm],a.iUc,b);break;case "SINGLE_SERIES_PART_TO_WHOLE":a=Gzs(a.hyd,[a.iUc],b);break;case "HISTOGRAM":a=Gzs(void 0,[a.iUc],b);break;default:throw new v(a);}return a.ok?a:Ia({type:5})};
Qzs=function(a,b){b=Nzs(a,b);if(!b.ok)return b;b=b.value;if(!b.length)throw Error("Error getting chart series");const c={xT:b.length,rowCount:b[0].values.length+1},{Ren:d,bindings:e}=Ozs(b);var f=e.valueBy,g=e.labelBy;const h=e.groupBy;var k=e.sizeBy,l=e.colorBy,m=e.xValueBy;const p=e.yValueBy;switch(a.type){case "WIDE_DATA":case "LONG_DATA":switch(a.Xc){case 1:return Ha({J$a:vV(b,{...__c.W1g,nh:f,dg:g[0]},a.title),Tpa:c});case 10:return Ha({J$a:vV(b,{...__c.c2g,nh:f,dg:g[0]},a.title),Tpa:c});case 2:case 8:return Ha({J$a:vV(b,
{...__c.R1g,nh:f,dg:g[0]},a.title),Tpa:c});case 3:return Ha({J$a:vV(b,{...__c.S1g,nh:f,dg:g[0]},a.title),Tpa:c});case 9:return Ha({J$a:vV(b,{...__c.V1g,nh:f,dg:g[0]},a.title),Tpa:c});case 4:return Ha({J$a:vV(b,{...__c.a2g,nh:f,dg:g[0]},a.title),Tpa:c});case 6:return Ha({J$a:vV(b,{...__c.U1g,nh:f,dg:g[0]},a.title),Tpa:c});case 5:case 7:return Ha({J$a:vV(b,{...__c.T1g,nh:f,dg:g[0]},a.title),Tpa:c});default:throw new v(a);}case "SCATTERPLOT":f=g[0];l=l[0];pa(m.length===1,`xValueBy does not exist for ${a.type}`);
pa(p.length===1,`yValueBy does not exist for ${a.type}`);g=n(b.find(r=>r.type.binding==="xValueBy"));var q=n(b.find(r=>r.type.binding==="yValueBy"));g=g.Bb===__c.PPe;q=q.Bb===__c.PPe;return g&&q?Ha({J$a:vV(b,{...$1g,dg:f,Eo:l,pN:m[0],pM:[p[0]],lf:Pzs($1g.lf,d.get(m[0])),we:Pzs($1g.we,d.get(p[0]))},a.title),Tpa:c}):g||q?(k=g?"x":"y",Ha({J$a:vV(b,{...Z1g,dg:f,Eo:l,N5:g?"X":"Y",pN:m[0],pM:[p[0]],s9:Pzs(Z1g.s9,k==="x"?d.get(m[0]):d.get(p[0])),O4:Pzs(Z1g.O4,k==="x"?d.get(p[0]):d.get(m[0]))},a.title),Tpa:c})):
Ha({J$a:vV(b,{...__c.Y1g,dg:f,Eo:l,xu:k[0],pN:m[0],pM:p,lf:Pzs(__c.Y1g.lf,d.get(m[0])),we:Pzs(__c.Y1g.we,d.get(p[0]))},a.title),Tpa:c});case "DOT_PLOT":return pa(m.length===1,`xValueBy does not exist for ${a.type}`),pa(p.length===1,`yValueBy does not exist for ${a.type}`),k=n(b.find(r=>r.type.binding==="xValueBy")).label===a.Aem,Ha({J$a:vV(b,{...Z1g,dg:g[0],Eo:l[0],N5:k?"X":"Y",pN:m[0],pM:[p[0]],s9:Pzs(Z1g.s9,k?d.get(m[0]):d.get(p[0])),O4:Pzs(Z1g.O4,k?d.get(p[0]):d.get(m[0]))},a.title),Tpa:c});case "GROUPED_DOT_PLOT":return pa(m.length===
1,`xValueBy does not exist for ${a.type}`),pa(p.length===1,`yValueBy does not exist for ${a.type}`),Ha({J$a:vV(b,{...$1g,dg:g[0],Eo:l[0],pN:m[0],pM:[p[0]],lf:Pzs($1g.lf,d.get(m[0])),we:Pzs($1g.we,d.get(p[0]))},a.title),Tpa:c});case "HIERARCHY_CHART":switch(m=a.VVm.map(r=>h.find(t=>d.get(t)===r)).filter(vb),a.Xc){case 1:return Ha({J$a:vV(b,{...__c.zXc,groupBy:m,xu:f,hG:m.length},a.title),Tpa:c});case 2:return Ha({J$a:vV(b,{...__c.yXc,groupBy:m,xu:f,hG:m.length},a.title),Tpa:c});default:throw new v(a);
}case "HISTOGRAM":return pa(f.length===1,`valueBy does not exist for ${a.type}`),Ha({J$a:vV(b,{...__c.b2g,nh:f[0]},a.title),Tpa:c});case "SINGLE_SERIES_PART_TO_WHOLE":switch(pa(f.length===1,`valueBy does not exist for ${a.type}`),a.Xc){case 1:return Ha({J$a:vV(b,{...__c.qXc,dg:g.length===1?g[0]:void 0,nh:f[0]},a.title),Tpa:c});case 2:return Ha({J$a:vV(b,{...__c.rXc,dg:g.length===1?g[0]:void 0,nh:f[0]},a.title),Tpa:c});case 3:return Ha({J$a:vV(b,{...__c.d2g,dg:g.length===1?g[0]:void 0,nh:f[0]},a.title),
Tpa:c});default:throw new v(a);}default:throw new v(a);}};Pzs=function(a,b){return b?{...a,title:{...a.title,text:b}}:a};
Ozs=function(a){return a.reduce((b,c)=>{const d=c.type;switch(d.binding){case "unused":return b;case "valueBy":case "labelBy":case "groupBy":case "sizeBy":case "colorBy":case "xValueBy":case "yValueBy":return b.Ren.set(d.id,c.label),b.bindings[d.binding].push(d.id),b;default:throw new v(d);}},{Ren:new Map,bindings:{valueBy:[],labelBy:[],groupBy:[],sizeBy:[],colorBy:[],xValueBy:[],yValueBy:[]}})};
Szs=function(a){var b=a.lR;const c=a.fD;a=a.Bb;if(c&&c.type){var d=c.type;switch(d){case 1:return b=Rzs(a),new __c.V6c({value:c.value,M4h:b});case 2:return new __c.V6c({value:c.value,M4h:new __c.T6c});case 3:return new __c.W6c({value:c.value});case 4:return new __c.X6c({value:b});case 6:return new __c.Y6c;case 7:return new __c.Z6c({name:b});case 8:return new __c.$6c({title:b});case 9:break;default:throw new v(d);}}};
Rzs=function(a){if(a===void 0)return new __c.P6c;const b=a.type;switch(b){case "plain_number":return new __c.Q6c({Uv:a.zj.Uv,Lq:a.zj.Lq});case "percentage":return new __c.S6c({Uv:a.zj.Uv,Lq:a.zj.Lq});case "currency":return new __c.R6c({Uv:a.zj.Uv,Lq:a.zj.Lq,Ija:a.zj.symbol,locale:a.zj.locale});case "date":return new __c.T6c;case "select":case "mention":case "embed":case "checkbox":return new __c.P6c;default:throw new v(b);}};
Tzs=function(a,b){const c=b.sheet,d=new Map;b=b.cells.reduce((f,{row:g,column:h})=>{const k=a.Tc.getContent(c,g,h);if(!k||!k.Fr)return f;switch(k.Fr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":f.push({reference:Rm({row:g,column:h},c),value:k.lR.trim(),fd:void 0});break;case "number":var l;if(!k.Bb){f.push({reference:Rm({row:g,column:h},c),value:k.Fr.value.toString().trim(),fd:void 0});break}switch((l=k.Bb.zj)===null||l===
void 0?void 0:l.type){case "date":var m;f.push({reference:Rm({row:g,column:h},c),value:k.lR,fd:k.Fr.value.toString()});g=n((m=k.Bb.zj)===null||m===void 0?void 0:m.format);var p;d.set(g,((p=d.get(g))!==null&&p!==void 0?p:0)+1);break;case "currency":case "percentage":case "plain":case void 0:f.push({reference:Rm({row:g,column:h},c),value:k.Fr.value.toString().trim(),fd:void 0});break;default:throw new v(k.Bb.zj);}break;default:throw new v(k.Fr);}return f},[]);const e=d.size>0?Array.from(d.entries()).reduce(([f,
g],[h,k])=>k>g?[h,k]:[f,g])[0]:void 0;return{data:b,Tpa:{dateFormat:e}}};
Uzs=function(a,b){const c=b.cells,d=b.sheet;na(c.length>0);let e=0,f=0;const g=c[0].row,h=c[0].column;c.forEach(l=>{const m=d.LJ(l.row)-d.LJ(g);l=d.YJ(l.column)-d.YJ(h);e=Math.max(e,m);f=Math.max(f,l)});const k=Array.from({length:e+1},()=>Array(f+1).fill(""));c.forEach(l=>{var m;const p=d.LJ(l.row)-d.LJ(g),q=d.YJ(l.column)-d.YJ(h);if((l=(m=a.zia.n8h(d,l.column,l.row))===null||m===void 0?void 0:m.content)&&l.Fr)switch(l.Fr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":k[p][q]=l.lR.trim();
break;case "number":k[p][q]=l.Fr.value.toString().trim();break;default:throw new v(l.Fr);}else k[p][q]=""});return k};
Vzs=function(a){var b=a.CJa.findSheet();if(!b)return Ia({errorMessage:L("lGc67g"),HBa:void 0,dld:"no_selection"});const c=b.sheet;b=b.sheetName;const d=c.layout.rows.toArray(),e=c.layout.cols.toArray(),f=d.flatMap(l=>e.map(m=>({row:l,column:m})));b={sheet:c,cells:f,range:`A1:${Rm({row:d[d.length-1],column:e[e.length-1]},c)}`,sheetName:b};const {data:g,Tpa:h}=Tzs(a,b);if(g.length<2)return Ia({errorMessage:L("Xi2QLg"),HBa:b,dld:"too_few_cells"});const k=new Map;c.layout.cells.forEach((l,m)=>{if(l.content.ref){l=
m.$b;var p=m.Yb;m=Rm({column:l,row:p},c);if(l=a.Tc.getContent(c,p,l))l=Szs(l),l!==void 0&&k.set(m,l)}});return Ha({HBa:b,ema:g,Tpa:h,mu:k})};Xzs=async function(a){try{const b=await a.nS.fck(new Wzs),c=Date.now();oV(()=>{a.store.quota={kind:"loaded",ite:b.quota.ite,tF:b.quota.tF,jbd:b.quota.jbd?new Date(c+b.quota.jbd):void 0}})}catch(b){a.errorService.pa(b),oV(()=>{a.errorService.pa(b,"Error fetching credits.");a.store.Bqd=L("ldPNNQ")})}};
Yzs=function(a){switch(a){case 1:case 5:return{XDf:L("q0uMCg"),Kph:L("kC6nPg"),Ld:1};case 4:return{XDf:L("SbbsuQ"),Kph:L("yaFQLA"),Ld:1};case 2:return{XDf:L("E9w/qw"),Kph:L("j7cy7A"),Ld:0};case 3:return{XDf:L("qLeuiA"),Kph:L("/mPGOg"),Ld:1};case 6:return{XDf:L("ldPNNQ"),Kph:L("rtuM4A"),Ld:0};default:throw new v(a);}};
Zzs=function(a){switch(a){case 1:return"no_valid_insights";case 5:return"unsupported_functionality";case 4:return"unrelated_query";case 2:return"insufficient_data";case 3:return"dangerous_content";case 6:return"internal_error";default:throw new v(a);}};
$zs=function(a){switch(a.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":case "SUNBURST":return a.type;case "POPULATION_PYRAMID":case "DUMBBELL":case "LOLLIPOP":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":throw Error("Unsupported chart type");
default:throw new v(a);}};aAs=function(a){switch(a){case void 0:break;case "stacked":return"STACKED";case "proportional-stacked":return"PROPORTIONAL_STACKED";case "stacked":return"STACKED";case "proportional":return"PROPORTIONAL";case "unstacked":return"UNSTACKED";case "stream":return"STREAM";default:throw new v(a);}};
bAs=function(a){if(a){if(a===L("/15meQ"))return{type:"spot_trends",index:0};if(a===L("WdBwUg"))return{type:"visualize",index:1};if(a===L("JLfw8A"))return{type:"summarize",index:2};if(a===L("l8zS1w"))return{type:"find_outliers",index:3}}};
cAs=function(a){var b;if(a=a.selection.La){if(((b=a.pages)===null||b===void 0?void 0:b.length)===1&&(b=a.pages[0],pf(b)&&b.id))return{sheet:b.sheet,sheetId:b.id};switch(a.type){case "elements":var c,d;if(((c=a.inner)===null||c===void 0?void 0:c.type)==="sheet")return{sheet:a.inner.sheet.config,sheetId:a.inner.sheet.id};if(((d=a.Ud)===null||d===void 0?void 0:d.type)==="sheet")return{sheet:a.Ud.config,sheetId:a.Ud.id};break;case "pages":var e;if(((e=a.inner)===null||e===void 0?void 0:e.type)==="sheet"&&
a.inner.page.id)return{sheet:a.inner.page.sheet,sheetId:a.inner.page.id};if(a.pages.length===1&&(c=a.pages[0],pf(c)&&c.id))return{sheet:c.sheet,sheetId:c.id}}}};dAs=function({root:a=null,onChange:b}){const c=jV(null);iV(()=>{if(c.current){var d=new __c.Hk,e=d.lY(a,"0px");d.observe(c.current,f=>{b(f)});return e}},[b,a]);return{Xab:c}};
hAs=function({X:a,Qa:b,Tb:c,Aa:d,f0d:e}){if(a){var f=new eAs,g=new fAs(f,a,b,c,d,e);return{Hbj:eV(()=>{iV(()=>{g.aEq()},[]);return f.mee?cV(gAs,{onClose:g.Kc,onClick:g.kTr}):null}),LOr:g.Kc}}};
iAs=function(a,b){if(b.type==="fixed-page"){var c;pa(a.session.document.Ja==="fixed");var d;return(d=(c=b.container)===null||c===void 0?void 0:c.ub(b.page))!==null&&d!==void 0?d:Ef(a.session.document).ub(b.page)}if(b.container!=null&&b.container.type!=="fixed-document"&&b.container.type!=="responsive-document")return iAs(a,b.container)};
jAs=function(a,b,c){switch(a){case 5:return{Icon:__c.vu,hb:void 0,label:L("ZK0snA")};case 2:return{Icon:__c.tDg,hb:L("KkfI8w"),label:void 0};case 3:return{Icon:__c.tDg,hb:L("eCV9Kg"),label:void 0};case 1:return{Icon:__c.hrg,hb:L("SSbFKQ"),label:void 0};case 6:return{Icon:__c.KB,hb:void 0,label:L("LtzRdg")};case 4:return{Icon:__c.KB,hb:void 0,label:L("YLfGCA")};case 0:return{Icon:void 0,hb:void 0,label:L("FXfIUQ")};case "view":return{Icon:c==="compact"?__c.fu:__c.wv,label:c==="compact"?void 0:L("shxLEA"),
hb:b===2?L("nOK04Q"):L("shxLEA"),variant:"secondary"};case "comment":return{Icon:c==="compact"?__c.fu:__c.cI,label:c==="compact"?void 0:L("REoikw"),hb:b===4?L("nOK04Q"):L("REoikw"),variant:"secondary"};case "playground":throw Error(`${a} mode is not supported`);default:throw new v(a);}};kAs=function(a){function b(){a(...(d!==null&&d!==void 0?d:[]));e=d=void 0}function c(...f){d=f;e||(e=setTimeout(b,1100))}let d,e;c.cancel=()=>{clearTimeout(e);e=d=void 0};return c};
nAs=function(a){const b=wV.box(a(),{deep:!1});let c;const d=fV(g=>b.set(g)),e=kAs(d),f=()=>{c===null||c===void 0||c();c=void 0;e.cancel()};lAs(b,()=>{f();c=dV(a,g=>{g===1?(e.cancel(),d(g)):e(g)},{fireImmediately:!0})});mAs(b,f);return b};pAs=function(a){const b=wV.box(),c=dV(()=>a.JP===1,d=>{b.set(d?void 0:oAs())},{fireImmediately:!0});return{Kyk:mV(()=>{var d;return(d=b.get())!==null&&d!==void 0?d:oAs()}),dispose:c}};
qAs=function(a){const b=a.layout.direction!==2?2:void 0;return a.layout.direction=b};rAs=function(a){const b=a.direction!=="rtl"?"rtl":"ltr";return a.direction=b};sAs=function(a){const b=a.direction!==2?2:1;return a.direction=b};uAs=function(a,b){a=a.OZa.sGd;return b.direction?{value:tAs[b.direction],selection:"table"}:a?{value:"ltr",selection:"table"}:void 0};wAs=function(a,b){a=a.OZa.sGd;return b.direction==="rtl"?{value:vAs[b.direction],selection:"sheet"}:a?{value:"ltr",selection:"sheet"}:void 0};
yAs=function(a,b){a=a.OZa.sGd;return b.direction===2?{value:xAs[b.direction],selection:"layout"}:a?{value:"ltr",selection:"layout"}:void 0};zAs=function(a,b,c,d){na(c!==0);if(c<0){const e=b.x;b=b.y;b=a==="horizontal"?new sj(e+c,b):new sj(e,b+c);c=-c}return{dir:a,start:b,length:c,type:d}};
AAs=function(a){const b=a.image.ref;a=a.video.ref;a=a===null||a===void 0?void 0:a.video;return{mediaId:(b===null||b===void 0?void 0:b.media.id)||a||"",sE:(b===null||b===void 0?void 0:b.media.version.toString())||""}};
CAs=function(a){const b=a.sdr,c=a.onClick,d=a.onMouseEnter,e=a.onMouseLeave,f=a.onDragStart,g=a.qe,h=a.onDragEnd;return({direction:k})=>{const l=k==="top"||k==="bottom"?"right":"bottom";return cV(__c.qvh,{onClick:()=>c(k),onMouseEnter:()=>d===null||d===void 0?void 0:d(k),onMouseLeave:e,onDragStart:m=>f(k,new sj(m.clientX,m.clientY)),qe:m=>g(k,new sj(m.clientX,m.clientY)),onDragEnd:m=>h(k,new sj(m.clientX,m.clientY)),$ud:BAs(b?k:"plus"),rnb:"floating",fixedRotation:b,hb:b?L("kZxMcQ"):L("QLoPdg"),mk:l})}};
BAs=function(a){switch(a){case "plus":return __c.K3d;case "top":return __c.k6g;case "bottom":return __c.h6g;case "left":return __c.uzc;case "right":return __c.aEd;default:throw new v(a);}};
HAs=function(a,b,c,d,e,f,g,h){var k=__c.xhe(b),l=__c.xhe(c);k=DAs(d,k);l=DAs(EAs(d),l);f=FAs(b,f,d);const m={...f,...(h===null||h===void 0?void 0:h.Sor)};a=a.elements.append({...__c.AYc,...m,...__c.bWa({Rb:k,r:l,height:f.weight}).Lb(),start:{...m.start,position:{left:k.x,top:k.y}},end:{...m.end,position:{left:l.x,top:l.y}}});e.connect(a.start,b,{Dda:1,anchorPoint:GAs(d)});e.connect(a.end,c,{Dda:g,anchorPoint:(h===null||h===void 0?0:h.rGm)?h.rGm:g===1?GAs(EAs(d)):new sj(.5,.5)});return a};
FAs=function(a,b,c){const d=b.G3c(a);if(d.length){var e;const g=GAs(c);var f=[...d].sort(l=>{const m=b.QRa.get(l.start)===a,p=b.QRa.get(l.end)===a;return m&&IAs(g,l.start)||p&&IAs(g,l.end)?-1:m?0:1});[f]=f;const {Szk:h,XCf:k}=JAs(b,f,a,g);switch((e=f.geometry.ref)===null||e===void 0?void 0:e.type){case void 0:e=void 0;break;case "elbowed":e={...__c.BYc,pb:f.geometry.ref.pb};break;case "curved":e={...__c.CYc,depth:0,skew:0};break;default:throw new v(f.geometry.ref);}c=n(f.color||f.fill.gradient.ref);
return{end:{...k,anchor:void 0},start:{...h,anchor:void 0},geometry:e,weight:f.weight,color:c.type!=null?void 0:c,fill:{...ms,gradient:c.type!=null?c:void 0},xa:f.xa,tg:f.tg,Nl:f.Nl}}return(e=(f=a.paths.first())===null||f===void 0?void 0:f.stroke.ref)&&e.weight>0?(f=n(e.color||e.fill.gradient.ref),{...KAs,weight:Math.max(Math.round(e.weight),1),color:f.type!=null?void 0:f,fill:{...ms,gradient:f.type!=null?f:void 0},tg:e.tg,Nl:e.Nl,xa:a.xa,geometry:__c.BYc}):{...KAs,xa:a.xa,geometry:__c.BYc}};
JAs=function(a,b,c,d){const e=[2,3];var f=b.end.marker;if(f&&e.includes(f))return{Szk:b.start,XCf:b.end};if((f=b.start.marker)&&e.includes(f))return{Szk:b.end,XCf:b.start};const [g,h]=a.QRa.get(b.start)===c?[b.start,b.end]:[b.end,b.start],[k,l]=IAs(d,g)?[g,h]:[h,g];return{Szk:k,XCf:l}};DAs=function(a,[b,c,d,e]){switch(a){case "top":return d;case "right":return c;case "bottom":return e;case "left":return b;default:throw new v(a);}};
EAs=function(a){switch(a){case "top":return"bottom";case "right":return"left";case "bottom":return"top";case "left":return"right";default:throw new v(a);}};GAs=function(a){switch(a){case "top":return{x:.5,y:0};case "right":return{x:1,y:.5};case "bottom":return{x:.5,y:1};case "left":return{x:0,y:.5};default:throw new v(a);}};IAs=function(a,b){if(!b.anchor)return!1;const c=b.anchor.left;return b.anchor.top===a.y&&c===a.x};
LAs=function(a){var b,c,d,e;a.FLf&&(clearTimeout(a.FLf),a.FLf=void 0);(b=a.kga)===null||b===void 0||b.call(a);a.kga=void 0;(c=a.Xgq)===null||c===void 0||c.call(a);(d=a.HOh)===null||d===void 0||d.onDragEnd();a.HOh=void 0;document.body.classList.toggle("_1Nlzlw",!1);a.store.kgh=!1;a.store.xQi=!1;a.store.isDragging=!1;a.store.gGe=void 0;a.store.Kvf=void 0;a.store.connectTarget=void 0;a.zhe=void 0;a.from=void 0;(e=a.store.Jvf)===null||e===void 0||e.pages.qr()};
RAs=function(a,b,c,d){const e=a.Wj.bSc;d=MAs(NAs(d),b.rotation);const f=OAs(c,b),{position:g,NKb:h,Ykc:k}=PAs(b,d,f,e,ug(4,c.dimensions||a.document.dimensions));return{bFr:QAs(b,g),NKb:h,Ykc:k}};
SAs=function(a,b,c,d,e){c=ug(4,c.dimensions||a.document.dimensions);c=n(a.store.Jvf).pages.set(0,{...__c.Ds,id:a.Pb.mh.generate(),dimensions:c});e=QAs(b,e);e=c.elements.append(e);a.wab.ASg(e);const f=c.elements.append(fs.snapshot(b));b=FAs(b,a.te,d);a=HAs(c,f,e,d,a.AX,n(a.WUm),1,{Sor:b});f.xa=1;bk(e)&&(a.xa=1);return{Yud:c,gGe:e,Kvf:a,rTi:f}};
TAs=function(a,b){a.Xgq=dV(()=>Qj(b).Lb(),c=>{const d=n(a.store.rTi),e=n(a.store.gGe);d.top=c.top;d.left=c.left;d.width=c.width;d.height=c.height;d.rotation=c.rotation;e.width=c.width;e.height=c.height;e.rotation=c.rotation})};UAs=function(a,b,c){b=Qj({...b,left:a.x,top:a.y});switch(c){case "top":c=b.b;break;case "bottom":c=b.t;break;case "left":c=b.r;break;case "right":c=b.Rb;break;default:throw new v(c);}return Ij(c,a).transformPoint(a)};
NAs=function(a){switch(a){case "top":return{x:0,y:-1};case "right":return{x:1,y:0};case "bottom":return{x:0,y:1};case "left":return{x:-1,y:0};default:throw new v(a);}};MAs=function(a,b){a=Jj(new sj(0,0),rj(b)).transformPoint(a);return{x:a.x,y:a.y}};OAs=function(a,b){const c=Qj(b);return a.elements.filter(d=>{d.type!=="shape"||!VEd(d)&&!bk(d)?d=!1:Qj(d).intersects(c)?(d=Qj(d),d=Math.max(Math.abs(d.width-c.width),Math.abs(d.height-c.height))<=Number.EPSILON):d=!0;return d})};
PAs=function(a,b,c,d,e){const f=Qj(a);var g=VAs(f,f,b,b.x!==0?d:void 0,b.y!==0?d:void 0);const h=Qj({top:g.y,left:g.x,width:f.width,height:f.height,rotation:f.rotation});var k=WAs(h,c);if(!k)return XAs(g,a,e)?{position:g,NKb:1,Ykc:!0}:(g=YAs(f,c),{position:new sj(a.left+g,a.top+g),NKb:1,Ykc:!1});k=Qj(k);a=ZAs(k,f,MAs(b,90),c,d);k=ZAs(k,f,MAs(b,-90),c,d);b=k.NKb+a.NKb+1;d=a.position;a=k.position;k=XAs(d,f,e);e=XAs(a,f,e);e=k||e?k?e?wj(d,g)<=wj(a,g)?d:a:d:a:void 0;return e?{position:e,NKb:b,Ykc:!0}:
(c=YAs(h,c),{position:new sj(g.x+c,g.y+c),NKb:b,Ykc:!1})};VAs=function(a,b,c,d,e){const f=$As(a,c),g=$As(b,c);c=__c.Bj(f/2+g/2+80,c);a={x:c.x+a.center().x-b.width/2,y:c.y+a.center().y-b.height/2};b.rotation===0&&(d&&(a.x=Math.round(a.x/d)*d),e&&(a.y=Math.round(a.y/e)*e));return a};$As=function(a,b){a=a.ih().map(c=>__c.Dj(c,b));return Math.max(...a)-Math.min(...a)};
ZAs=function(a,b,c,d,e,f=0){a=VAs(a,b,c,e,e);const g=WAs(Qj({top:a.y,left:a.x,width:b.width,height:b.height,rotation:b.rotation}),d);return g?ZAs(Qj(g),b,c,d,e,f+1):{position:a,NKb:f+1}};WAs=function(a,b){for(const c of b)if(a.intersects(Qj(c)))return c};QAs=function(a,b){const c={$c:n(a.$c).map(d=>{const e={...d.text.wz(0),link:void 0};return{...__c.LRc.snapshot(d),text:Kg.md().attrs(e).DW().build()}})};return{...__c.$ce(mu,__c.Gn.snapshot(a)),...c,link:void 0,left:b.x,top:b.y}};
YAs=function(a,b){const c=f=>b.some(g=>{g=Qj(g);const h=a.translate(f,f);return g.approximatelyEquals(h)});let d=0,e=0;for(;c(d)&&e<100;)d+=__c.Ak,e+=1;return d};
aBs=function(a,b){var c=a.ih();a=Math.round(Math.min(...c.map(k=>k.x)));var d=Math.round(Math.max(...c.map(k=>k.x))),e=Math.round(Math.min(...c.map(k=>k.y)));c=Math.round(Math.max(...c.map(k=>k.y)));var f=b.ih();b=Math.round(Math.min(...f.map(k=>k.x)));var g=Math.round(Math.max(...f.map(k=>k.x))),h=Math.round(Math.min(...f.map(k=>k.y)));f=Math.round(Math.max(...f.map(k=>k.y)));return!(a>=g||d<=b||e>=f||c<=h)};
XAs=function(a,b,c){if(xg(c))return!0;a=Qj({...b,top:a.y,left:a.x});return aBs(Nj(0,0,c.width,c.height),a)};dBs=function({update:a,getValue:b,DIb:c,Wwb:d,label:e,WEh:f=!0}){const g=new bBs,h=new cBs(g,a,f);a=eV(()=>cV(Fus,{value:g.value,disabled:c===null||c===void 0?void 0:c(),yx:b(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:e,unit:d===null||d===void 0?void 0:d()}));return{store:g,mX:a}};
jBs=function({document:a,viewport:b,Df:c,la:d}){const e=new eBs(a,b);a=new fBs(e,d);b=()=>` ${gBs[e.dimensions.units]}`;const {mX:f}=dBs({update:a.pzs,label:L("gPUe1Q"),getValue:()=>e.columns,WEh:!1}),{mX:g}=dBs({update:a.aPi,label:L("JE/qcA"),getValue:()=>e.rows,WEh:!1}),{mX:h}=dBs({update:a.ozs,getValue:()=>e.oCc,DIb:()=>e.Gjm,Wwb:b,label:L("zKi7Hw")}),{mX:k}=dBs({update:a.GAs,getValue:()=>e.Fna,DIb:()=>e.C1n,Wwb:b,label:L("zKi7Hw")}),{mX:l}=dBs({update:a.nzs,getValue:()=>e.cZc,Wwb:b,label:L("8bavyQ")}),
{mX:m}=dBs({update:a.FAs,getValue:()=>e.dcd,Wwb:b,label:L("8bavyQ")}),p=()=>kV(rV,{children:[cV(f,{}),cV(h,{}),cV(l,{})]}),q=()=>kV(rV,{children:[cV(g,{}),cV(k,{}),cV(m,{})]});return{G8i:()=>cV(hBs,{P7i:p,pfj:q}),vVo:r=>cV(iBs,{Df:c,P7i:p,pfj:q,onClose:r.onClose}),store:e}};
qBs=function({viewport:a,document:b,header:c,ka:d,Df:e,P:f,la:g,hhk:h,LEg:k}){const {G8i:l,vVo:m,store:p}=jBs({document:b,viewport:a,Df:e,la:g}),q=new kBs(p,d,a,b),r=new lBs(b,q,d,h,k,f,g),t=()=>{r.Zvn();c.r7()},u=new __c.V7d,w=()=>({sg:mBs,get ACa(){return d.layout===2?()=>cV(nBs,{onClick:t}):void 0},ovc:!1}),x=()=>u.Zg({$e:()=>cV(m,{onClose:r.nps}),options:w()}),y=A=>{r.abo(A);q.sq==="custom"&&x()},z=eV(A=>cV(oBs,{options:pBs,sq:q.sq,Oe:A.Oe,Qc:r.TAn,gi:r.UAn,My:y,oa:A.oa}));return{T8o:eV(A=>d.layout===
2?cV(z,{...A}):cV(oBs,{options:pBs,sq:q.sq,Oe:A.Oe,Qc:r.TAn,gi:r.UAn,My:r.abo,onSubmit:r.Zvn,onCancel:A.oa,oa:A.oa,G8i:q.Uko?l:void 0})),zTq:w,pDi:mV(()=>q.pDi),navigation:u}};sBs=function(a,b){const c=b.position;b=b.direction===1;const d=jk(a.ya,a.document.dimensions),{width:e}=ug(4,d);return rBs(d.units,(a.hj&&!b?e-c:c)/Mv(d.units)).toString()};tBs=function(a,b,c){if(a.store.NTe==="viewable")return!0;c=a.ya===c;return!(a.store.d9j.has(b)||a.canvas.H3a==="none"&&b.direction===1&&!c)};
uBs=function(a,b){return a.viewport.Qm(a.viewport.jh).transformPoint(b)};wBs=function(a,b,c){a.N.track(vBs,{previous:c.toString(),value:b.position.toString(),direction:b.direction===1?"horizontal":"vertical",Op:0,Mr:0,Ly:0})};yBs=function(a,b,c){var d=b.filter(e=>e.direction===2);b=b.filter(e=>e.direction===1).length;d=d.length;a.N.track(xBs,{CWq:-1,direction:b&&d?"mixed":d?"vertical":b?"horizontal":"none",kb:c,eWg:b,sWg:d,Op:0,Mr:0,Ly:0})};
zBs=function(a){const b=a.filter(c=>c.direction===2);a=a.filter(c=>c.direction===1);return{direction:b.length&&a.length?"mixed":b.length?"vertical":a.length?"horizontal":"none",sWg:b.length,eWg:a.length}};rBs=function(a,b){const c=d=>{const e=Math.pow(10,d);return(Math.round(b*e)/e).toFixed(d)};switch(a){case 1:return c(1);case 2:return c(3);case 3:case 4:return c(0);default:throw new v(a);}};
ABs=function({onClick:a}){const b=gV(c=>{c.preventDefault()},[]);return cV("div",{className:"xlB9Gg",onPointerDown:a,onMouseDown:b})};
DBs=function(a){const b=new BBs(a.MLe,a.zwa,a.ed,a.Xa,a.Ma,a.uo),c=a.Ja!=="responsive"&&a.myb?new CBs(a.lrg,a.myb):void 0;a.fh.kc(()=>{const d=c===null||c===void 0?void 0:c.U_a;return d&&Object.keys(d).length!==0?{actions:d,mjf:c}:{actions:b.U_a,mjf:b}},(d,{actions:e,mjf:f})=>{d.ybj=e["add-column"]?{Button:m=>cV(m.hl,{Icon:Nu,label:L("gQ2wmg"),onClick:f.pti,oa:m.oa})}:void 0;d.zbj=f.xOk&&e["add-row"]?{Button:m=>cV(m.hl,{Icon:Nu,label:L("yR5v2g"),onClick:f.xOk,oa:m.oa})}:void 0;const g=wb.direction===
2,h=g?ur:tr,k=g?tr:ur,l=f.egn;d.Cbj=e["move-column-before"]?{Button:eV(m=>cV(m.hl,{Icon:l===2?k:h,label:l===2?L("AbZWJg"):L("GsrOSg"),onClick:f.gyn,oa:m.oa}))}:void 0;d.Bbj=e["move-column-after"]?{Button:eV(m=>cV(m.hl,{Icon:l===2?h:k,label:l===2?L("GsrOSg"):L("AbZWJg"),onClick:f.fyn,oa:m.oa}))}:void 0;d.Ebj=f.iyn&&e["move-row-up"]?{Button:eV(m=>cV(m.hl,{Icon:__c.FB,label:L("rLHohQ"),onClick:f.iyn,oa:m.oa}))}:void 0;d.Dbj=f.hyn&&e["move-row-down"]?{Button:eV(m=>cV(m.hl,{Icon:__c.Vt,label:L("SnU4qQ"),
onClick:f.hyn,oa:m.oa}))}:void 0},{equals:lV.shallow});return{ukr:b}};
HBs=function({ed:a,MLe:b,zwa:c,nB:d,nMe:e,XBf:f,uo:g,S9b:h}){function k(q,r){l.fne&&c.efb(l.fne,g,q,r)}const l=new EBs(b,a,e,f,h),m=new FBs(l),p=q=>d.xN.transformPoint(q);return eV(()=>{const q=l.gDh,r=l.fne,t=l.L0l,u=l.dgn,w=l.gb;if(l.G4c||!(q&&t&&u&&w&&r))return null;var x;return cV(GBs,{fca:u,nj:r,gb:w,gridTemplateColumns:t.grid.gridTemplateColumns,direction:(x=q===null||q===void 0?void 0:q.direction)!==null&&x!==void 0?x:1,efb:k,OBj:p,asi:m.asi,Yti:m.Yti,fDh:m.fDh})})};
LBs=function(a){if(a.Ja!=="responsive"){const r=a.viewport,t=a.lrg,u=a.d$i;a.canvas.kc(()=>t.selected.NUn,(w,x)=>{w.Ag.fOd=x?y=>y.page.page!==r.ya?null:cV(IBs,{amp:()=>cV(JBs,{viewport:r,Sc:y.Sc,context:x,Uip:u})}):void 0})}const b=a.canvas,c=a.MLe,d=a.ed,e=a.nbj,f=a.gbp,g=a.Hxh,h=a.Dkr,k=a.XBf,l=a.dbp,m=mV(()=>h.lcn),p=mV(()=>h.GRa),q=mV(()=>k.KWb);b.kc(r=>r===40&&(c.selected.dw||c.focused.dw||c.JD.dw),(r,t)=>{r.vn.NL.fOd=t?()=>cV(KBs,{gI:c,ed:d,Zej:f,Yej:e,Fej:g,Dir:m,svk:p,KWb:q,lMo:l}):void 0})};
MBs=function(a,b,c){return Gj(b).transformPoint(__c.Hj(rj(-c)).transformPoint(a))};SBs=function(a){var b=a.Xa;const c=a.viewport;var d=a.zwa;const e=a.oh,f=a.S9b,g=new NBs(a.MLe,a.lnr,a.ed,f);b=new OBs(g,d,b,e,c);if(a.Ja==="responsive"||!a.zXd)return{Hxh:PBs(g,b),XBf:g};d=a.myb;a=new QBs(a.lrg,f);return{d$i:PBs(a,new RBs(a,d,e,c)),Jlq:a,Hxh:PBs(g,b),XBf:g}};
PBs=function(a,b){return eV(({nd:c=1})=>{const d=a.orientation,e=a.direction,f=a.gap,g=a.Vyo,h=a.uvj,k=a.gb,l=a.vei,m=a.l5a,p=a.Cdd,q=a.padding;return d&&l!=null&&f!=null&&g&&h&&k&&!p?cV(TBs,{orientation:d,width:h.vRd*c,height:h.Jff*c,onClick:b.onClick,padding:{paddingTop:q.paddingTop*c,paddingRight:q.paddingRight*c,paddingBottom:q.paddingBottom*c,paddingLeft:q.paddingLeft*c},gb:k*c,PVq:g.map(r=>(r*c).toString()+"px"),gap:f*c,vei:l,onDragStart:b.onDragStart,qe:b.qe,onDragEnd:b.onDragEnd,pWd:m===null||
m===void 0?void 0:m.pWd,zvb:m===null||m===void 0?void 0:m.zvb,j9b:m===null||m===void 0?void 0:m.j9b,direction:e,nd:c}):null})};UBs=function(a,b){const c=a.nj.zoom;if(!(a.lpo<a.nj.STg)){b=b.x-a.Pul.x;a.nkc==="right"&&(b*=-1);var d=a.nj.width/c;const e=a.nj.zoom;__c.dce(a.dw,d,Math.max(a.nj.STg*e,Math.min((a.lpo-b*2)/c,d)),a.nj.Gq.width,e)}};VBs=function(a,b){const c=(a.width-a.gb)/2;return Nj(b.tl.x+c,b.tl.y+a.padding.paddingTop,b.tr.x-c,b.br.y-a.padding.paddingBottom)};
WBs=function(a,b){const c=a.Woa,d=a.cGb,e=a.O2l;if(c){var f=c.grid.gridTemplateColumns;b/=a.GWp;if(!(d>=f.length||e>=f.length)){a=f.map(k=>parseFloat(k));var g=f.reduce((k,l)=>k+parseFloat(l),0);a=a[d]+a[e];var h=.1*g;b=Math.max(h,Math.min(a-h,b*g));f=[...f];f[d]=`${b}fr`;f[e]=`${a-b}fr`;c.grid.gridTemplateColumns=f}}};
ZBs=function(a,b,c,d,e){const f=new XBs(a,c,d,g=>n(b.dP).transformPoint(g),e);return eV(()=>{var g,h;const {nj:k,i4d:l}=(h=e.selected)!==null&&h!==void 0?h:{},{width:m,height:p}=l!==null&&l!==void 0?l:{};return m!=null&&p!=null&&k&&(g=mA(k))!==null&&g!==void 0&&g.PJc?cV(YBs,{JS:m,xAa:p,paddingTop:k.padding.paddingTop,paddingBottom:k.padding.paddingBottom,gb:k.gb,onDragStart:f.GNr,qe:f.FNr,onDragEnd:f.ENr,nkc:e.nkc,S9b:e.S9b}):null})};
bCs=function({selection:a,wp:b,nMe:c}){const d=fV(()=>{c.tNg=!0}),e=fV(()=>{c.tNg=!1});b.Eu(()=>{var f,g,h,k,l,m;return{nkc:c.nkc,PJc:(m=((f=c.selected)===null||f===void 0?void 0:f.nj)!=null&&((g=mA(c.selected.nj))===null||g===void 0?void 0:g.PJc))!==null&&m!==void 0?m:!1,ygr:((h=a.Ib)===null||h===void 0?void 0:h.type)===1&&((l=a.Ib)===null||l===void 0?void 0:(k=l.only)===null||k===void 0?void 0:k.type)==="layout"}},(f,{nkc:g,PJc:h,ygr:k})=>{f.layout.V4f=k?g||!h?()=>null:eV(({onDragStart:l,onDragEnd:m,
...p})=>{const q=c.selected.dw;var r=c.selected.nj;const t=c.selected.ZGa;var u=c.selected.i4d;const {width:w,height:x}=u!==null&&u!==void 0?u:{},y=q&&r!=null?$Bs(r):!1;r=gV((z,A,B,D,G)=>{l(z,A,B,D,G);y&&d()},[l,y]);u=gV(()=>{e();m()},[m]);return q&&t&&w!=null&&x!=null?cV(aCs,{width:w,height:x,HFs:y||c.tNg,onDragStart:r,onDragEnd:u,...p}):null}):void 0})};
eCs=function(a,b,c,d,e){const f=new cCs(a,b,c,d,e);return{nbj:eV(()=>{const g=e.focused.dw,h=e.focused.nj,k=e.focused.i4d,l=e.focused.pzf;return k&&g&&h&&l!=null&&!e.EDs?cV(dCs,{dw:g,i4d:k,nj:h,pzf:l,onDragStart:f.jNr,qe:f.iNr,onDragEnd:f.hNr,onMouseEnter:f.onMouseEnter,onMouseLeave:f.onMouseLeave,onClick:f.onClick,rvk:e.rvk}):null})}};
jCs=function({Bd:a,Dr:b,P:c,mjf:d,gI:e}){const f=new fCs(e,d),g=new gCs(f,c);a.plugins.Qgc=()=>({Rd:()=>!!f.cSd,Button:h=>cV(hCs,{...h}),Pu:{sg:()=>{L("BtDtuQ")}},na:eV(h=>{var k,l,m,p,q,r;return cV(iCs,{...h,Lh:b,cOk:((k=f.cSd)===null||k===void 0?0:k.cellPadding)?g.nNi:void 0,cellPadding:((l=f.cSd)===null||l===void 0?0:l.cellPadding)?f.xqm:void 0,gNr:((m=f.cSd)===null||m===void 0?0:m.columnGap)?g.mzs:void 0,columnGap:((p=f.cSd)===null||p===void 0?0:p.columnGap)?f.columnGap:void 0,UWr:((q=f.cSd)===
null||q===void 0?0:q.rowGap)?g.EAs:void 0,rowGap:((r=f.cSd)===null||r===void 0?0:r.rowGap)?f.rowGap:void 0})})})};
kCs=function(a,b,c,d,e,f,g){const h=fV((q,r,t,u)=>{b.eHb==null&&(a.JD.nxb={ZGa:r,dw:q,BYc:t&&u?{qb:t,id:u}:void 0})}),k=fV((q,r,t)=>{b.eHb==null&&(a.JD.nxb=t!==void 0?{ZGa:r,dw:q,BYc:void 0}:void 0)}),l=fV((q,r,t,u)=>{switch(u){case "padding":c.xLi(r,q,[t]);break;case "before_text":c.Ju(t.text,Nw.start());c.focus();break;case "after_text":c.Ju(t.text,Nw.end());c.focus();break;default:throw new v(u);}}),m=d({}),p=(q,r)=>e.Wsa(q,r);f.bma.Iwh=eV(q=>{const r=q.Sc,t=q.item,u=q.Gq,w=xV(()=>new __c.zIb(t,
u,r),[t,u,r]);return cV(__c.AIb,{...q,W8:m,nj:w,Lre:g.enr,Wsa:p,onMouseEnter:h,onMouseLeave:k,Vxn:l})})};lCs=function(a){dV(()=>a.Kt,b=>{b&&(a.store.uhi=!0)});dV(()=>a.selection.La,()=>{a.store.uhi=a.Kt})};mCs=function(a,{action:b,wL:c,rNe:d,location:e,nb:f}){b={ia:"",action:b,wL:c,rNe:d,location:e};f?(f.addEvent("actioned"),Yo({nb:f,P:a.N,event:__c.xAh,props:b})):a.N.track(__c.xAh,b)};
nCs=function(a){return a.map(b=>{switch(b){case Vl.Hs:return"content";case Vl.vKa:return"text_formatting";case Vl.COLOR:return"color";case Vl.pid:return"effects";default:throw new v(b);}})};
oCs=function(a,{selection:b,locked:c,wL:d,location:e,nb:f}){const g=[];switch(b.type){case "audio":break;case "pages":if(!b.inner){b=b.pages.filter(h=>h.type!=="responsive");b.forEach(h=>a.uc.wRc(h,c,d));b.length>1&&g.push("page");break}switch(b.inner.type){case "pages":if(!b.inner.inner){b.inner.pages.forEach(k=>a.uc.wRc(k,c,d));g.push("page");break}switch(b.inner.inner.type){case "background":b.inner.inner.Oc.forEach(k=>{a.uc.JOi(k,c)});g.push("background");break;default:throw new v(b.inner.inner.type);
}break;case "background":const h=b.inner.page;if(h.type==="responsive")return;if(xg(h.dimensions||a.document.dimensions))break;b.inner.Oc.forEach(k=>{a.uc.JOi(k,c)});g.push("background");break;case "sheet":case "sheet-cell-media":break;default:throw new v(b.inner);}break;case "elements":b.elements.forEach(h=>{a.uc.Tjl(h,c,d);g.push(h.type)});break;default:throw new v(b);}mCs(a,{action:c?"locking":"unlocking",wL:d!=null?nCs(d).join(","):"",rNe:g.join(","),location:e,nb:f})};
pCs=function({document:a,viewport:b,le:c}){var d=c&&__c.oxr(({yd:f,ld:g,tf:h,Qmf:k})=>{f=[...a.pages][f-1];return cV(__c.sOm,{E3a:!k&&f.draft,children:cV(c,{ld:g,tf:h,page:Ef(a).ub(f)})})});const e=mV(()=>{const f=b.ya;return f!=null&&a.pages.has(f)?[...a.pages].indexOf(f):0});d=__c.qeq({rug:!1,qoa:d,Mo:e});return __c.wxf({Eyc:d,Yyc:__c.yxf()})};qCs=function(a){const b=new Map;b.set("pages",Array.from(a).join(","));return b};
rCs=function(a){switch(a){case 0:return"CX3XCQ";case 1:return"r4r9MA";case 2:return"HJl02Q";case 3:return"GuWP5w";default:throw Error("indentation not supported");}};sCs=function(a){a.store.Nqi&&(a.store.Nqi.selected=!1,a.store.Nqi=void 0);a.store.FVg&&(a.store.FVg.selected=!1,a.store.FVg=void 0)};
xCs=function(a,b){if(!a[0])return{tree:[],K6n:void 0};b=b[0];let c;var d=tCs(a);const e={};__c.aSb(d,4).forEach((k,l)=>{k.forEach(m=>{m=Math.round(__c.bSb({fontSize:m.attrs["font-size"],fontWeight:m.attrs["font-weight"]}));e[m]=l})});d=new __c.Vi("outline-tree-");const f=new uCs(d.next(),-1,void 0);let g=f;for(const k of a){var h=(a=k.Y5j)?Math.round(__c.bSb({fontSize:a.fontSize,fontWeight:a.fontWeight})):0;const l=e[h];a=b===k;if(l==null||l>=3||h<vCs||wCs(()=>k.Ssc.get().trim()===""))g.selected=
g.selected||a,a&&(c=g);else{h=new uCs(d.next(),l,k);for((h.selected=a)&&(c=h);g.level>=h.level&&g.parent;)g=g.parent;h.parent=g;g.children.push(h);g=h}}return{tree:f.children,K6n:c}};tCs=function(a){a=a.map(c=>__c.SRb(c.Y5j));const b=new Map;a.forEach(c=>{const d=__c.TRb(c),e=b.get(d);e?e.frequency++:b.set(d,{attrs:c,frequency:1})});return[...b.values()]};yCs=function(a,b){return a.Ma.mode<40?!0:b.draft?!1:a.document.pages.filter(c=>!c.draft).length<=1};
zCs=function(a,b){return a.Ma.mode<40?!0:b.ja.draft?!1:b.container.pages.filter(c=>!c.draft).length<=1};BCs=function(a,b,c){const d=a.V.sb("unhide_pages",{Fb:{name:`editor.page_drafting.${b}_unhide_pages`}});ACs(a,c,!1);a.tH("unhide",b,d,c);d.ue()};
CCs=function(a,b){const c=a.V.sb("unhide_sections",{Fb:{name:"editor.page_drafting.page_controls_unhide_sections"}});b.forEach(d=>{d.ja.draft=!1});b=b.map(d=>{var e;return(e=d.container)===null||e===void 0?void 0:e.ja});a.tH("unhide","page_controls",c,b);c.ue()};
DCs=function(a,b){const c=a.V.sb("hide_sections",{Fb:{name:"editor.page_drafting.page_controls_hide_sections"}});b.forEach(d=>{d.ja.draft=!0});b=b.map(d=>{var e;return(e=d.container)===null||e===void 0?void 0:e.ja});a.tH("hide","page_controls",c,b);c.ue()};ACs=function(a,b,c){b.forEach(d=>{d.draft=c;d.type!=="responsive"&&ECs(a,d)})};
ECs=function(a,b){var c,d;if(b.draft)switch(a=e=>{e.elements.qr(f=>fw(f))},b.type){case "fixed":a(b);break;case "concatenated-fixed":b.pages.forEach(a);break;default:throw new v(b);}else(c=(d=a.sc).Gne)===null||c===void 0||c.call(d,b)};FCs=__c.FCs=function(a,b){a.N.track(__c.hah,b)};GCs=function(a,{U4m:b,uLm:c,kb:d,Qb:e}){a.N.track(__c.Hif,{action:"reorder",kb:d,Qb:e,dSc:b.map(String),SWi:c.map(String),location:"page_navigator",Ly:0})};
ICs=function(a,{action:b,previous:c,current:d,kb:e,Qb:f}){a.N.track(HCs,{action:b,xad:c,oLj:d,kb:e,Qb:f})};KCs=function(a,{AJ:b,Qb:c,kb:d}){a.N.track(JCs,{HWs:b?"fixed":"scaled",Qb:c,kb:d})};MCs=function(a,{I3k:b,PKj:c,JLk:d,Qb:e}){a.N.track(LCs,{action:"resize",I3k:b,PKj:c,JLk:d,Qb:e})};
NCs=function(a,b){const c=Math.round(b.width),d=Math.round(b.height);if(a){if(c<=0||d<=0)return a;switch(b.units){case 1:return J("5fKDgA",[a,c,d]);case 3:return J("XW7xhg",[a,c,d]);case 2:return J("I87Viw",[a,c,d]);case 4:return J("E2FYXw",[a,c,d]);default:throw Error("Invalid unit type");}}};RCs=function({Lea:a,hS:b}){return{QUc:eV(({page:c,eBd:d,className:e})=>{const f=gV(()=>{a.qql(c)},[c]);return cV(OCs,{className:e,onClick:f,FLk:d.hea,dHe:d.dHe})}),JUc:b?c=>cV(PCs,{...c,hS:b}):void 0,Oot:QCs}};
SCs=function(a,b){const c=hKe(a,b);a=zns(a,b)/c*100;var d;b=(((d=b.transition.ref)===null||d===void 0?void 0:d.durationUs)||0)/1E6;return{Wul:a,e0h:b/c*100}};UCs=function({my:a,aFa:b,xw:c,QM:d,document:e,fG:f}){const g=k=>e.pages.previous(k),h=k=>e.pages.previous(k,l=>!l.draft);return({page:k,mc:l})=>cV(TCs,{my:a,aFa:b,QM:d,xw:c,fG:f,PSq:g,MSq:h,page:k,mc:l})};VCs=function(a,b){const c=a.props.lYb,d=a.props.durationUs;return{type:b,p2d:b==="end"?c+d:c,Tfn:void 0,RIg:a.props.hp.scrollLeft,deltaX:0}};
XCs=function(a,{Iyf:b}){return(a=__c.Ii(a.targets.get(),c=>Math.abs(b-c.XBa)))&&WCs(a,b)?a===null||a===void 0?void 0:a.XBa:void 0};$Cs=function(a,{XBa:b,Iyf:c,uCf:d,Y6d:e}){return YCs(a,{XBa:b,Iyf:c,uCf:d})||ZCs(a,{Y6d:e})};YCs=function(a,{XBa:b,Iyf:c,uCf:d}){if(a.yCf==null||d==null)return!1;d=Math.abs(b-c)>Math.abs(b-d);return a.yCf.pKs===b-c>0&&d};ZCs=function(a,{Y6d:b}){const c=n(a.yCf);return b-c.NB>a.oKs};
aDs=function({sel:a,nel:b,F3:c,page:d}){if(d.type==="responsive-page"||d.type==="concatenated-fixed-page")return{left:0,top:0,width:a,height:b};d=c.width/c.height;if(d<.9)return b=a*.6/c.width,d=c.width*b,{left:(a-d)/2,top:8,width:d,height:c.height*b};if(d>1.1)return a/=c.width,d=c.height*a,{left:0,top:(b-d)/2,width:c.width*a,height:d};const e=Math.max(a/c.width,b/c.height);d=c.width*e;c=c.height*e;return{left:d>a?-((d-a)/2):0,top:c>b?-((c-b)/2):0,width:d,height:c}};
cDs=function(a,b){var c;if(!b.AJ&&bDs(b,a))return(c=a.Oc.first())===null||c===void 0?void 0:c.color};dDs=function({r:a,g:b,b:c}){return`radial-gradient(100% 120% at 0% 120%, rgba(${a}, ${b}, ${c}, 0.8) 55%, rgba(0, 0, 0, 0))`};eDs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};fDs=function({r:a,g:b,b:c}){return`drop-shadow(0 0 5px rgb(${a} ${b} ${c} / 60%)) drop-shadow(0 0 8px rgb(${a} ${b} ${c}))`};
hDs=function(a){switch(a.type){case "fixed":return gDs(a);case "concatenated-fixed":return{gradient:{background:dDs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};case "responsive":return{gradient:{background:dDs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};default:throw new v(a);}};
gDs=function(a){var b,c,d,e;if(a.draft||((b=a.Oc.first())===null||b===void 0?0:b.image.ref)||((c=a.Oc.first())===null||c===void 0?0:c.video.ref)||((d=a.Oc.first())===null||d===void 0?0:d.gradient.ref))return{gradient:{background:"radial-gradient(100% 120% at 0 120%, rgba(13, 18, 22, 0.8), rgba(0, 0, 0, 0))"},text:{color:"#ffffff",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"},icon:{color:"#ffffff",filter:"drop-shadow(0 0 5px rgb(13 18 22 / 60%)) rgb(13 18 22 / 70%))"}};a=(e=
a.Oc.first())===null||e===void 0?void 0:e.color;if(!a)return{gradient:{background:dDs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};const f=Yh(a);e=Fi(["#000000","#ffffff"],g=>__c.pj(g,f))==="#000000";return{gradient:{background:dDs(f)},text:{color:e?"#000000":"#ffffff",textShadow:eDs(f)},icon:{color:e?"#000000":"#ffffff",filter:fDs(f)}}};
iDs=function(a,b,c){var d;b=a.type==="fixed"&&b.K3d(a)&&!pf(a)&&(!xg(b.document.dimensions)||c.I3>1);if(pf(a))return __c.eG;if(b)return __c.cBf;if(a.type==="concatenated-fixed")return __c.gO;if(((d=a.He)===null||d===void 0?void 0:d.type)==="inline")return __c.vLh;if(a=fk(c,a,__c.qTj))switch(a){case 9:return yV.tqq?__c.uo:__c.yBq;case 1:return __c.yBq;case 2:return __c.dhk;case 3:return __c.cBf;case 4:return __c.q$j;case 5:return __c.hPp;case 6:return __c.sD;case 7:return __c.gO;case 8:return __c.eG;
default:throw new v(a);}};jDs=function(a,b){b=a.Jld.r8h(b);if(b===-1)throw Error("Audio track not found in audio timeline");const c=a.YEc>0?Xc:0,d=a.Jld.height.get()>0?Xc:0;return{top:a.uQc+a.YEc+c+a.ZRf.height+d+b*a.Jld.rowHeight.get(),rowHeight:a.Jld.rowHeight.get()}};lDs=function(a){const b={ZRf:{height:zV}};a=new kDs(b,a);return{o$b:b,eda:a}};
mDs=function(a,b,c){if(c&&(c=fk(a.eb,c,__c.qTj),a=a.eb.I3>1,yV.Bpq&&b.data.type==="searchMedia"&&(b.data.kind==="searchImageMedia"||b.data.kind==="searchPrivateMedia")&&(a||c!==6))){b=b.data.media.files.filter(f=>f.quality<=7).sort((f,g)=>g.quality-f.quality);const {height:d,width:e}=b[0];if(e&&d)return{type:"fixed",dimensions:{width:e,height:d,units:4},He:{type:"inline",pG:void 0}}}};
oDs=function(a,b,c){a.GEc===void 0&&a.store.ya!==c&&nDs(b)&&(a.GEc=window.setTimeout(()=>{a.store.FG(c);a.Fbd()},750))};
pDs=function(a,b,c){a.GEc===void 0&&a.store.ya!==c&&(a.GEc=window.setTimeout(()=>{switch(b.data.type){case "editingElements":a.rG.TWh(c);a.store.ei&&a.store.FG(c);a.Fbd();break;case "searchMedia":case "video":case "audio":case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "datasetFieldPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.store.FG(c);a.Fbd();
break;default:throw new v(b.data);}},750))};
nDs=function(a){switch(a.data.type){case "chart":const b=a.data.Xb.config;a=a.data.Xb.TPa==="state"?b.type:__c.cne(b.type);return __c.ihk(a,"responsive");case "table":case "video":case "searchMedia":case "embed":case "layout":case "sheet":case "template":case "design":return!0;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":return!1;default:throw new v(a.data);
}};
rDs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.Fbd();b.data.type!=="editingElements"&&a.store.viewport.xJ(c);a:switch(c.type){case "fixed-page":var e=c;break a;case "concatenated-fixed-page":e=c.ub(c.pages.first());break a;case "responsive-page":throw new __c.Sw;default:throw new v(c);}switch(b.data.type){case "editingElements":a.rG.TWh(c.page,"to-origin");a.store.ei&&(await ma(0),a.store.viewport.xJ(c));break;case "searchMedia":switch(b.data.kind){case "futureSearchMedia":case "searchImageMedia":case "searchPrivateMedia":d=qDs(a,
e);b=b.data;b.kind!=="futureSearchMedia"?b={type:"image",image:Dhf(b.media)}:(b=await b.future,b=b.type==="static"?{type:"image",image:Dhf(b.media)}:{type:"video",video:b.video});d&&a.zl.eZa(d,b);break;default:a.hxa.Vxe(e,b,{location:"page_navigator",irc:d})}break;case "video":c=await b.data.video;if(c.contentType==="STICKER"){a.hxa.Vxe(e,b,{location:"page_navigator",irc:d});break}d=qDs(a,e);b={type:"video",video:c};d&&a.zl.eZa(d,b);break;case "audio":a.hxa.Vxe(e,b,{location:"page_navigator",irc:d});
break;case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.hxa.Vxe(e,b,{location:"page_navigator",irc:d});break;case "datasetFieldPlaceholder":break;default:throw new v(b.data);}};
sDs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.Fbd();b.data.type!=="editingElements"&&a.store.viewport.xJ(c);switch(b.data.type){case "chart":case "table":case "video":case "searchMedia":case "embed":case "layout":case "template":case "design":case "sheet":await a.hxa.Vxe(c,b,{location:"page_navigator",irc:d});break;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":break;
default:throw new v(b.data);}};qDs=function(a,b){const c=a.lQq(b,b.page.elements.toArray());return c.length?c.reduce((d,e)=>d.Ls.width*d.Ls.height>e.Ls.width*e.Ls.height?d:e):__c.Iy.Oaa(b,__c.dk(a.Gh,b.page))};tDs=async function(a,b,c,d,e){c=a.mnj(d,c,e);if(!c)return null;if(a.timing.Xt)return c;b.xF==="command"?await b.aQd(c):await b.Mqa(c);__c.Bo.Otg&&b.ei&&setTimeout(()=>a.selection.deselectAll());return c};
uDs=function(a,b,c){a.zqm=dV(()=>c.uh?c.ya:void 0,d=>{d&&b.IRa&&b.xF==="single"&&!b.mc(d)&&b.Wda(d)})};vDs=async function(a,b){a.mc(b)?await a.QDc(b):await a.aQd(b)};wDs=async function(a,b,c){if(b&&b!==c){if(a.pK===a.OD){var d=a.document.pages.first();const f=a.document.pages.last();if(a.ya===d&&b===f&&c===d||a.ya===f&&b===d&&c===f){await a.Mqa(c);return}}var e=!1;d=a.document.pages.flatMap(f=>{const g=e;if(f===b||f===c)e=!e;return e||g?[f]:[]});await a.hU(qd([...a.Cg,...d]));a.voa=c}else await a.Mqa(c)};
xDs=function(a){a.z0k!=null&&(cancelAnimationFrame(a.z0k),a.z0k=void 0);a.t3g==null&&(a.t3g=a.V.sb("scroll",{Fb:{name:"page_navigator.scroll",performance:{rV:!0}}}),a.t3g.nb().tk(({Hi:b})=>{a.N.h_i({Qb:b()})}))};
ADs=function(a,b){var c=n(a.UZa);const d=a.hp.clientWidth,e=a.hp.clientHeight,f=a.hp.scrollTo,g=a.hp.scrollHeight;b=a.h0a.sO(b);const h=b.startUs,k=h+b.durationUs,l=c.gRa(h),m=c.gRa(k);let p;c.Ukh&&yDs(a.timing.UG,{startUs:h,endUs:k})||!zDs(a,l,m)||(p=l,m-l<d&&(p=Math.max(0,(l+m)/2-d/2)));const {top:q,rowHeight:r}=jDs(a.eda,b);c=q+r;let t;q<a.hp.scrollTop+a.eda.uQc?t=Math.max(q-a.eda.uQc,0):c>a.hp.scrollTop+a.hp.clientHeight&&(t=Math.max(c-a.hp.clientHeight,0));a=()=>f({left:p,top:t,behavior:"smooth"});
t&&t+e>g?requestAnimationFrame(a):(p!=null||t!=null)&&a()};yDs=function(a,b){return b.startUs<=a&&b.endUs>=a};zDs=function(a,b,c){const d=n(a.UZa),e=a.hp.scrollLeft;a=e+a.hp.clientWidth-d.kdb-d.g_f;return c<=e||b>=a};BDs=function(a,b,c="smooth"){const d=a.hp.scrollLeft,e=a.hp.scrollTo;a=a.hp.offsetWidth;b<d?e({left:b-200,behavior:c}):(a=a!==null&&a!==void 0?a:0,b>d+a&&e({left:b+200-a,behavior:c}))};CDs=function(a){a.SFf!=null&&(cancelAnimationFrame(a.SFf),a.SFf=null);a.YOb=null;a.gTc=[]};
DDs=function(a,b,c,d){if(a.kv){var e=b,f=c,g=()=>{if(a.kv)if(e*=.95,f*=.95,Math.sqrt(e*e+f*f)<=1)a.SFf=null;else{var h={};if(d==="horizontal"||d==="diagonal")h.left=a.kv.scrollLeft-e;if(d==="vertical"||d==="diagonal")h.top=a.kv.scrollTop-f;a.hp.scrollTo(h);a.SFf=requestAnimationFrame(g)}};a.SFf=requestAnimationFrame(g)}};IDs=function({timing:a,QM:b,V:c,N:d,eda:e,h0a:f}){c=new EDs(c,d);a=new FDs(c,a,e,f);b=new GDs(c,a,b);e=Ub()&&yV.Ixq?new HDs(c):void 0;return{Icg:b,hp:c,eab:a,iDl:e}};
MDs=function(a,b,c){const d=JDs(async()=>{const {A6p:e}=await __webpack_require__.me(106146).then(()=>({A6p:__c.KDs}));return{default:await e(a,b,c)}});return e=>cV(LDs,{fallback:null,children:cV(d,{...e})})};
ODs=function(a){const b=a.Mz;return eV(c=>{var d;const e=jV(null),f=(d=__c.kga(e,{v$g:"--17LfHw"}))===null||d===void 0?void 0:d.v$g;iV(()=>{f&&b.reo(f)},[f]);return kV("div",{className:AV("ni1AiA",{hFmqkA:b.isLinear}),ref:e,children:[cV(NDs,{...a,...c}),b.A4b&&cV(a.SYo,{}),!!a.fme&&cV(a.fme,{})]})})};
PDs=function(a,b,c={}){let d=Ans(a.lr,b);if(!d)return[];c.wci||(d=d.filter(g=>c.wci?!0:g.position===1));const e=a.Lw.gRa,f=e(b.startUs);return d.map(({Ie:g,position:h})=>{g=Math.floor(g*1E6+b.startUs-b.trim.startUs);return{XBa:g,Bas:h,r$b:e(g,{withTrim:!0,lfc:!0})-f}})};
QDs=function(a,b,c,d,e){const f=b.NS,g=b.track.volume,h=d+b.startUs,k=h+b.durationUs,l=b.vGc&&!f,m=Math.round(h-b.trim.startUs);return a.Lw.v0c.map((p,q)=>{var r=p.page,t=p.qda;const u=p.paddingRight;var w=p.durationUs;p=p.width;const x=t+w;var y=Math.round(Math.max(t,Math.min(h,x)));t=(l?x:Math.round(Math.max(t,Math.min(k,x))))-y;if(t===0||!BV(a.Lw,r))return null;r=y-m;w=p-p/w*(w-t);p=a.Lw.v0c;y=0;for(q+=1;q<p.length&&!BV(a.Lw,p[q].page);)y+=p[q].width+p[q].paddingRight,q++;q=q<p.length?y:0;return{state:{startUs:r,
durationUs:t,width:w,height:c,XUi:e,volume:g},draft:q>0,paddingRight:u+q}}).filter(vb)};RDs=function(a,b){const c=a.trim.startUs,d=b/a.durationUs;return{Apo:c?d*c:0,m6g:e=>1/d*e}};SDs=function(a){a.store.RGh="max"};
TDs=function(a,b,c,d){const e=a.pla.med;if(a.timing.Xt){b=a.ei.get()?[]:a.pla.srg.get();const h=a.pla.OGh.get(),k=a.pla.Eah.get();return qd([...b,...h,...k]).map(l=>({XBa:l,Ged:e,X1c:e}))}const f=[{XBa:0,Ged:a.pla.med*5,X1c:a.pla.med}],g=a.lr.xma==="trim"&&a.lr.$0e(b.track)?PDs(a,b,{wci:a.QQi}).map(h=>h.XBa):[];d.forEach((h,k)=>{const l=h.qda,m=l+h.durationUs;f.push({XBa:m,Ged:e,X1c:d[k+1]?e:a.pla.med*5});c.forEach(p=>{l<p&&p<m&&f.push({XBa:p,Ged:e,X1c:e})});g.forEach(p=>{l<p&&p<m&&f.push({XBa:p,
Ged:p===0?0:e,X1c:e})})});return f};UDs=function(a,b){var c;const d=a.store,e=a.YEp;a=a.o8s;const f=b.track,g=b.Jwa,h=b.Pwk;if(g&&g!==6&&g!==5||h)return d.v$g;if(((c=b.audio)===null||c===void 0?void 0:c.B4b)===2)return a;if(b=d.Asj.get(f.audio))return b;const k=e[d.Rfn%e.length];oV(()=>{d.Asj.set(f.audio,k);d.Rfn++});return k};VDs=function(a,b){a.lr.select(...a.UQ.filter(c=>c!==b))};
XDs=function({positions:a,data:b}){if(a)return{box:{top:a.Rx.y-(a.start?a.start.YBa.y:0),left:a.Rx.x-(a.start?a.start.YBa.x:0)+(b.uK-WDs),width:WDs/b.uK*b.rI,height:WDs,rotation:0}}};
$Ds=function(a,b,c){const d=a.eDi.map(k=>k.map(l=>{var m;return(m=b.find(p=>p!==l&&p.track.id!=null&&p.track.id===l.track.id))!==null&&m!==void 0?m:l})),e=new Set(d.flat());var f=b.filter(k=>!e.has(k));const g=f.filter(k=>{var l;return((l=k.audio)===null||l===void 0?void 0:l.B4b)===2});f=f.filter(k=>{var l;return((l=k.audio)===null||l===void 0?void 0:l.B4b)!==2});g.length>0&&d.unshift(g);f.length>0&&d.push(f);const h=YDs(c);a.eDi=d.reduce((k,l)=>{l.filter(m=>b.includes(m)).sort(h).forEach(m=>{const p=
ZDs(a,m,k);k[p]||(k[p]=[]);k[p].push(m)});return k},[]);a.xEl.clear();return a.eDi};ZDs=function(a,b,c){a=a.xEl.get(b);var d;if(a&&!aEs(b,(d=c[a])!==null&&d!==void 0?d:[]))return a;d=c.findIndex(e=>!aEs(b,e!==null&&e!==void 0?e:[]));return d>=0?d:c.length};aEs=function(a,b){const c=a.vGc&&!a.durationUs?Infinity:a.startUs+a.durationUs;return b.some(d=>d===a?!1:d.track.loop===2||a.track.loop===2?!0:(d.vGc&&!d.durationUs?Infinity:d.startUs+d.durationUs)>a.startUs&&c>d.startUs)};
cEs=function(a){return b=>cV(bEs,{...a,...b})};dEs=function(a){const b=jV(null),[c,d]=nV(!0);iV(()=>{if(b.current)return a.observe(b.current,d)},[d,a]);return[c,b]};fEs=function(a){return b=>cV(eEs,{...a,...b})};
hEs=function({clc:a,selection:b,fh:c,lr:d,Mz:e,qA:f,$Ta:g,Lw:h,fOq:k}){const l=r=>{const t=iy(d,r);e.mob(t)||__c.wde(b,[r])},m=r=>{r.stopPropagation();e.c_c&&(r=iy(e.lr,e.c_c),e.anh(r))},p=()=>{e.Nnn("contextual_menu")},q=()=>{e.Snn()};c.kc(()=>{var r,t;return{fMp:((r=b.La)===null||r===void 0?void 0:r.type)==="audio",zir:((t=d.VQa)===null||t===void 0?void 0:t.loop)===2}},(r,{fMp:t,zir:u})=>{t?(r.Fuh=u?void 0:{Button:w=>cV(w.hl,{label:L("LNMQvg"),onClick:m,Icon:__c.PEg,disabled:!e.wxj||e.UQ.length>
1,oa:w.oa})},r.lwh={Button:w=>cV(w.hl,{label:J("Pd364g",[e.UQ.length]),onClick:p,Icon:Px,oa:w.oa,hm:"Delete"})},r.Y4f={Button:w=>cV(w.hl,{label:J("ksDiTw",[e.UQ.length]),onClick:q,Icon:__c.rOe,oa:w.oa,hm:Vk("d")})},r.bca=u?void 0:{Button:w=>cV(w.hl,{label:L("0GYwog"),onClick:()=>{d.Oic.E5&&d.toolbar.kB(d.Oic.E5)},Icon:__c.x$g,oa:w.oa,disabled:e.UQ.length>1})},a||(r.rra={Button:w=>cV(w.hl,{label:L("dqBWeQ"),onClick:()=>{d.GKf()},Icon:__c.qKe,oa:w.oa,disabled:e.UQ.length>1})})):(r.Fuh=void 0,r.lwh=
void 0,r.Y4f=void 0,r.Ijd=void 0,r.bca=void 0,r.rra=void 0)},{equals:lV.structural});return{onContextMenu:(r,t,u)=>{r.preventDefault();const w=__c.tj({x:r.clientX||0,y:r.clientY||0});l(t);t=w.x;var x=k();!x||t<x||!f||!g||u!==null&&u!==void 0&&u.kou||(u=t-x,t=h.QDg(u)/1E6,x=h.gRa(g.currentTime*1E6,{lfc:!1}),Math.abs(x-u)>gEs&&(f.vrb=t));c.uLb(w,"audio_timeline","right_click","bottom-start");r.stopPropagation()},dYa:(r,t)=>{r.stopPropagation();l(t)}}};
tEs=function({clc:a,Bc:b,sc:c,viewport:d,Ma:e,lr:f,h0a:g,G7b:h,selection:k,fh:l,Lo:m,Lw:p,pla:q,timing:r,qA:t,$Ta:u,hp:w,errorService:x,ka:y,lma:z,ifc:A,aFa:B,Lk:D,t1b:G,mBl:I,o$b:K,Zrg:N,kvg:M,Gus:O}){const U=mV(()=>A.N1c),W=mV(()=>y.layout===2);x=MDs(x,m,N);const X=new iEs(f,g,k,new jEs,kEs,lEs,p,q,z,B,W,G,I,U,r,M,h,t,D),Z=parseInt("28px",10);K.Jld={r8h:ja=>X.tXc.findIndex(ha=>ha.some(ba=>ba===ja)),height:mV(()=>{const ja=X.qcm,ha=B.rme&&B.Cai.get()?Z:0;return ja+ha}),rowHeight:mV(()=>X.xsj),lWg:mV(()=>
X.tXc.length)};f.Z8h=ja=>{if(!p.sfb)return p.dAa(ja!==null&&ja!==void 0?ja:d.ya).qda;if(ja)return p.dAa(ja).qda;var ha;ja=(ha=u===null||u===void 0?void 0:u.currentTime)!==null&&ha!==void 0?ha:0;return Math.max(Math.min(ja*1E6,f.bOe),0)};const da=cEs({Mz:X,lzc:x,Lo:m});g=mEs({Lw:p,lr:f,Mz:X});const {onContextMenu:ka,dYa:la}=hEs({selection:k,lr:f,Mz:X,fh:l,clc:a,qA:t,$Ta:u,Lw:p,fOq:()=>w.getBoundingClientRect().left+p.kdb+nEs-w.scrollLeft});a=fEs({Ma:e,Lo:m,lr:f,Mz:X,x2b:da,lzc:x,C6i:g,onContextMenu:ka,
dYa:la,hza:l,Lw:p,ei:W,hp:w});__c.Qce(b,"audio",ja=>{X.Lzn(ja.id);A.N1c&&setTimeout(O)});k=async({data:ja,positions:ha})=>{if(ja.type==="audio"&&ha&&p.Wxe!=null&&c.QEb!=null){ha=Math.max(Math.min(p.Wxe*1E6,f.bOe),0);ja=await ja.audio;if(!ja)throw Error("The Audio object could not be found.");c.QEb(ja,{Yc:"object_panel_drag",startUs:ha});t===null||t===void 0||t.seek(p.Wxe);p.onDrop()}};l={canDrop(){return!0},Ft:ja=>{if(ja.positions)return oEs(p,{scrollLeft:w.scrollLeft,left:w.getBoundingClientRect().left},
ja.positions.Rx.x),X.zYb(ja.data.result.jd.Kq),XDs(ja)}};a=ic(b,["audio"],async({data:ja,positions:ha},{rC:ba})=>{if(ja.type==="audio"&&ha&&p.Wxe){ja=await ja.audio;if(!ja)throw Error("The Audio object could not be found.");t===null||t===void 0||t.seek(p.Wxe);f.vbd(ba.track,ja,"audio_timeline_replace");p.onDrop()}},a,l);e=ic(b,["audio"],k,eV(ja=>cV(pEs,{children:ja.children,connectDropTarget:ja.connectDropTarget,drag:ja.drag,Mz:X,x2b:da})),l);k=ic(b,["audio"],k,eV(ja=>cV(qEs,{connectDropTarget:ja.connectDropTarget,
drag:ja.drag,Bc:b,Mz:X,Lw:p,x2b:da})),l);const oa=ja=>{var ha;ja.stopPropagation();(ha=B.TWk)===null||ha===void 0||ha.call(B,"audio_timeline")};l=eV(()=>X.Ipa?cV(rEs,{width:p.Nfd,onClick:oa,label:L("y5z2dw"),O_h:r.Xt}):null);A.eRl=ODs({jsj:new sEs,Mz:X,o6i:a,fme:l,x2b:da,SYo:k,n6i:e,ei:W});return{Mz:X,kFp:ja=>{if(ja.data.type==="audio")return X.zYb(ja.data.result.jd.Kq),XDs(ja)}}};uEs=function(a,b){a.Mio.add(b)};
vEs=function({uf:a,Uoa:b,lw:c,onChange:d,onSubmit:e}){const f=jV(null),g=gV(k=>{d(!1);e(k)},[d,e]),h=gV(k=>{k.key==="Escape"&&d(!1);k.key!=="Enter"&&k.key!=="Escape"||setTimeout(()=>{var l;return(l=f.current)===null||l===void 0?void 0:l.focus()},0)},[d]);return c?kV(gr,{spacing:"0",Fa:"center",children:[cV(fr,{width:"content",children:cV(__c.Ou,{className:"FmO3ug",KM:a<10?"NxXA5w":a<100?"RzFpKA":"_3ZP36A",ariaLabel:L("8aYwqA"),placeholder:b===null||b===void 0?void 0:b.toString(),Yg:g,onKeyDown:h,
autoFocus:"on-desktop",min:1,max:a,maximumFractionDigits:0,maxLength:a.toString().length})}),cV(fr,{width:"content",children:cV(Q,{size:"medium",weight:"bold",className:"S9lMNA",children:J("bw8g6Q",[a])})})]}):cV(Yi,{ref:f,className:"vZB9Zg",variant:"tertiary",size:"small",hb:L("8aYwqA"),onClick:()=>d(!0),children:b!=null?J("q6CACQ",[b,a]):J("plwCKA",[a])})};
yEs=function({keyboardShortcuts:a,document:b,viewport:c,eb:d,N:e,V:f}){const g=new wEs(c,b,d,e,f),h=l=>g.Ekl(l),k=l=>g.rfa(l);b=eV(l=>cV(xEs,{...l,lw:g.lw,onChange:h,onSubmit:k}));a.register([Vk(So("g")),()=>g.Ekl(!0),L("8aYwqA"),["edit","view","comment"]]);return{DXo:b}};
CEs=function({ifc:a,o$b:b,eda:c,onDragEnd:d,onDragStart:e,N:f,V:g,pd:h=wb.pd}){b.D0c={height:mV(()=>a.N1c?zEs:0)};const k=new AEs,l=new BEs(c,f,g);b=fV(p=>{l.onDragStart(k,p);e===null||e===void 0||e()});c=fV(()=>{l.onDragEnd(k);d===null||d===void 0||d()});f=fV(p=>{l.qe(k,p)});const m=new ar({cHa:mV(()=>"k1UFGA"),onDragStart:b,qe:f,onDragEnd:c});return{U4f:eV(function({disabled:p}){return cV("div",{className:AV("rRLseg k1UFGA",{QdeuaQ:k.isDragging,_7N0f3Q:h,hzE_6A:p}),onMouseDown:p?void 0:m.onMouseDown,
onTouchStart:p?void 0:m.onTouchStart,children:cV("div",{className:"y8mVQA"})})}),isDragging:mV(()=>k.isDragging)}};DEs=function(a){a.vul=void 0;a.r_=void 0;a.Pxe=void 0;a.lW=void 0;a.RWh=!1;a.Kpc=!1;a.fNg=!1};
IEs=function({h1a:a,hp:b,Kl:c,ei:d,timing:e}){const f=new __c.D4g;f.Hgb=b;Lrs(()=>{f.RTc({iSg:d.get()?400:void 0,ySg:400,vHg:d.get()?60:void 0,Esh:30})});b=new __c.B4g(f);const g=new EEs(c,d);c=new FEs(g,b);const h=__c.gc(a,"timelineItems"),k=__c.Rce(h,"timelineItems",c.onDragStart,c.qe,c.onDragEnd,c.Fw,{l2a:{enabled:"touch-only"}});a=eV(({item:l,onDragStart:m,children:p})=>e.Xt?cV(GEs,{item:l,onDragStart:m,jhq:k,tjq:g,children:p}):p);dV(()=>h.isDragging,l=>{l||DEs(g)});c=eV(()=>cV(__c.hd,{open:h.isDragging,
level:1,children:cV(HEs,{store:g})}));return{h1a:h,oga:g,yyc:a,KYo:c}};LEs=function(a,b,c=d=>d.timing){return a.oKq.get()?JEs(b,c):KEs(b,c)};MEs=function(a,b,c){var d,e;if(((d=a.$sc.get(b))===null||d===void 0?void 0:d.aKi)!==c.aKi||((e=a.$sc.get(b))===null||e===void 0?void 0:e.eOb)!==c.eOb)c.aKi||c.eOb?a.$sc.set(b,c):a.$sc.has(b)&&a.$sc.delete(b)};NEs=function(a,b){const c=a.startUs,d=a.endUs;return c===0&&d===Infinity?b.length>0:b.some(e=>e.endUs>c&&d>e.startUs)};
PEs=function(a,b,c,d,e=f=>f.timing){d=b<0?!1:b>=c.length?!0:d==="above";b=Math.max(0,Math.min(c.length-1,b));let f=OEs(a,c[b],e);if(f==null){if(d){b++;if(b>=c.length)return{rowIndex:c.length,R$d:0,QFd:!0};f=OEs(a,c[b],e);return f==null?{rowIndex:b,R$d:0,QFd:!0}:{rowIndex:b,R$d:f,QFd:!1}}a=b>0?OEs(a,c[b-1],e):void 0;if(a==null)return{rowIndex:b,R$d:0,QFd:!0};--b;f=a}return{rowIndex:b,R$d:f,QFd:!1}};
OEs=function(a,b,c=f=>f.timing,d=0,e=b.length-1){if(!b.length)return 0;const f=a.startUs,g=a.endUs;if(f!==0||g!==Infinity){d=Math.max(0,d);e=Math.max(d,Math.min(b.length-1,e));if(f>=c(b[e]).endUs)return e+1;if(g<=c(b[d]).startUs)return d;if(d!==e){var h=d+Math.floor((e-d)/2),k=c(b[h]);if(f>=k.endUs)return OEs(a,b,c,h+1,e);if(g<=k.startUs)return OEs(a,b,c,d,h-1)}}};REs=function(a,b){return new QEs(mV(()=>b.AUj(a)),mV(()=>b.timing.Xt))};
TEs=function(a,b){const c=a.Xjf(a.page),d=n(b.parent),e=b.elements.map(f=>n(c.items.find(g=>g.element===f)));return{type:1,data:b,group:d,IAb:c,items:e,...SEs(a,c,e)}};UEs=function(a,b){const c=a.Xjf(a.page),d=b.elements.flatMap(e=>{if(e.type==="group"){const f=c.items.filter(g=>g.parent===e);if(f.length)return f}return[n(c.items.find(f=>f.element===e))]});return{type:0,data:b,IAb:c,items:d,...SEs(a,c,d)}};
VEs=function(a,b){const c=a.Xjf(a.page);let d=c.Cwa;const e=b.sh.map(f=>{const g=a.vd.TK(f)||5E6,h=d;d+=g;return{timing:{startUs:h,endUs:h+g,durationUs:g},fill:f}});for(const f of e)c.Ll(f);return{type:2,data:b,IAb:c,items:e,...SEs(a,c,e)}};
SEs=function(a,b,c){const d=n(c[0]),e=n(b.$_d(d)).rowIndex,f=d.timing.startUs,g=c.slice(1);let h=Infinity,k=Infinity;for(const l of c)c=n(b.$_d(l)),h=Math.min(h,l.timing.startUs),k=Math.min(k,c.rowIndex);a=new WEs(a.JSa,a.WNb,f,e,d.timing.durationUs,Math.max(0,f-h),Math.max(0,e-k));b=new XEs(b,a,d,g);return{Fjg:d,n4d:a,z3m:b}};
YEs=async function(a,b){var c=5E6;if(b.type==="video"){var d=await b.video;(d=d.wv||d.ylc)&&(c=d*1E6)}d=a.Xjf(a.page);c={timing:{startUs:d.Cwa,endUs:d.Cwa+c,durationUs:c}};d.Ll(c);c=[c];return{type:3,data:b,IAb:d,items:c,...SEs(a,d,c)}};
ZEs=function(a,b){if(a.page.locked)return!1;switch(b.type){case "timelineItems":case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":return!0;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":return!0;case "searchElementGroupMedia":case "searchTemplate":return!1;default:throw new v(b);}default:throw new v(b);}};
cFs=function(a,b){const c=a.page;var d=b.IAb;const e=b.n4d;b=b.items;const f=$Es(b);if(e.dkk){var g=[],h=new Set;for(const l of d.items){d=l.parent||l.element;if(b.includes(l)){if(d.type==="group"){if(h.has(d))continue;h.add(d)}c.elements.Hwa(k,d);g.push(d)}var k=d}e.eOb?(aFs(a.U0c,g,void 0,e.eOb,void 0,Infinity),bFs(a.U0c,g,f)):bFs(a.U0c,[],f)}else bFs(a.U0c,[],f)};
dFs=function(a,b){const c=a.page,d=b.IAb,e=b.n4d,f=b.items;b=b.group;const g=$Es(f);if(e.dkk){var h,k=!1,l=[];for(const p of d.items){f.includes(p)&&(k||(c.elements.Hwa(h,b),k=!0),b.mb.Hwa(m,p.element),l.push(p.element));if(p.parent===b)var m=p.element;k||(h=p.parent||p.element)}e.eOb?(aFs(a.U0c,l,b,e.eOb,void 0,Infinity),bFs(a.U0c,l,g)):bFs(a.U0c,[],g)}else bFs(a.U0c,[],g)};
eFs=function(a,b){const c=a.page;a=ug(4,a.eb.Zk(c));const d=b.IAb;b=b.items;const e=new Map(b.map(g=>[g,n(d.$_d(g)).startUs]));let f;for(const g of d.items)if(b.includes(g)){const h=e.get(g),k=g.fill,l={...Zr.snapshot(k),durationUs:void 0,transition:void 0};f=c.elements.jI(f,{...zs,fill:l,startUs:h,durationUs:g.timing.durationUs,top:0,left:0,width:a.width,height:a.height});c.Oc.has(k)&&c.Oc.delete(k)}else f=g.parent||g.element};
fFs=async function(a,{data:b,IAb:c,n4d:d,items:e}){var f,g=(f=c.items.find((r,t)=>c.items[t+1]===e[0]))===null||f===void 0?void 0:f.element;d={Yc:"object_panel_drag",startUs:d.startUs};g=g?{gKa:{type:"ref",after:g}}:{gKa:{type:"absolute",value:"bottom"}};switch(b.type){case "video":b=await b.video;a.sc.CD(b,d,g);break;case "chart":a.sc.Dga(__c.Ahf(b.Xb),d,g);break;case "searchShape":var h,k;(h=(k=a.sc).Y8)===null||h===void 0||h.call(k,b.shape,b.ref,d,g);break;case "table":b=b.table;a.sc.addTable(b.data.CSc,
b.ref,d,g);break;case "line":var l,m;(l=(m=a.sc).uPa)===null||l===void 0||l.call(m,b.line.data,d,g);break;case "grid":var p,q;const {cells:r,layout:t}=__c.gie(b.grid);(p=(q=a.sc).Dne)===null||p===void 0||p.call(q,r,t,d,g);break;case "textParagraph":a.sc.addText(b.V4e.label,{...d,NZ:b.I.NZ},void 0,void 0,void 0);break;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":if(b.kind==="futureSearchMedia"){b=await b.future;
switch(b.type){case "static":b=Dhf(b.media);a.sc.addImage(b,d,g);break;case "animated":a.sc.CD(b.video,d,g);break;default:throw new v(b);}return}b=Dhf(b.media);a.sc.addImage(b,d,g);break;case "searchElementGroupMedia":throw Error("element groups not supported");case "searchTemplate":throw Error("templates not supported");default:throw new v(b);}break;default:throw new v(b);}};
gFs=async function(a,b){switch(b.type){case "timelineItems":return a=a.axm,b.elements.length?b.parent?TEs(a,b):UEs(a,b):VEs(a,b);case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":case "searchMedia":return YEs(a.axm,b);default:throw new v(b);}};
$Es=function(a){const {OMa:b,Cwa:c}=a.reduce((d,e)=>{const f=e.timing.startUs;e=e.timing.durationUs;d.OMa=Math.min(d.OMa,f);d.Cwa=Math.max(d.Cwa,f+e);return d},{OMa:Infinity,Cwa:0});return Number.isFinite(b)?c-b:0};
jFs=function({element:a,page:b,Icon:c,isActive:d,Xt:e,N6c:f,x9m:g,L$m:h,Wio:k,RPd:l,width:m,trim:p}){a:switch(a.type){case "text":var q="fjN3Rg";break a;default:q="_5U_EXA"}d=AV("KFVziA",{v1Zhxg:f,Mztdbw:e&&!g,IytRuQ:g,A_OCpw:!e&&d,[q]:e});e=xV(()=>{if(!f)return null;const r=AV("_8XK3EQ",{parHvw:k});switch(a.type){case "text":return cV(__c.iA,{size:"small",tone:"primary",className:r});case "rect":if(a.fill.video.ref)return null;if(a.fill.image.ref)return cV(__c.Ru,{size:"small",tone:"primary",className:AV(r,
"qGJ1eQ")});default:return cV(hFs,{size:"small",tone:"primary",className:r})}},[f,k,a]);return kV("div",{className:d,children:[e,h&&cV(c,{width:m,height:iFs,Pia:l,element:a,page:b,trim:p})]})};
kFs=function({xUj:a,vd:b,u8f:c}){return eV(({page:d,element:e})=>{const {startUs:f,durationUs:g}=VWa(e,d.ja,b.ub(d.ja),void 0),h=a.kMd(g);return cV("div",{className:"VzBqkA",style:{width:h,height:a.rowHeight},children:cV(jFs,{element:e,page:d.ja,Icon:c,isActive:!1,Xt:!0,N6c:!0,x9m:!1,L$m:!0,Wio:!1,width:h,trim:{startUs:f,endUs:f+g}})})})};
sFs=function({sc:a,h1a:b,eb:c,vd:d,qA:e,og:f,hp:g,oga:h,xUj:k,Qlq:l,U0c:m,Xjf:p,g4c:q,u8f:r}){const t=CV(w=>{var x=q(w);const y=new lFs(g,k,x);x=new mFs(y);w=new nFs(w,c,a,f,g,x,new oFs(w,d,y,l,p),l,h,m);return{E7a:x,o0c:w}}),u=eV(({connectDropTarget:w,drag:x,page:y})=>{const {E7a:z,o0c:A}=t(y);iV(()=>{if(x===null||x===void 0?0:x.d3)A.onDragEnter(x.data);else A.onDragLeave()},[A,x]);iV(()=>dV(()=>b.isDragging,B=>{B?A.yHb():A.bQj()}),[A]);iV(()=>dV(()=>h.isDragging,B=>{B?e.f0e():e.LXe()}),[A]);return cV(pFs,
{connectDropTarget:w,E7a:z,children:cV(qFs,{store:z,eua:k})})});h.tTl=kFs({xUj:k,vd:d,u8f:r});return{e$i:ic(b,rFs,(w,{page:x})=>{const {o0c:y,E7a:z}=t(x);w=n(z.Uxe);y.onDrop(w)},u,{Ft:({positions:w},x)=>t(x.page).o0c.onDragOver(n(w)),canDrop:(w,x)=>ZEs(t(x.page).o0c,w.data)})}};uFs=function(a){return DV(b=>cV(tFs,{...a,...b}))};vFs=function(a,b,c,d){return a.Lw.gRa(c,{...d,V7g:b,dub:a.M$m})};
wFs=function(a,b,c){if(!a.ei.get()){a.jd.rgh=!1;c=a.Lw.QDg(c);var {qda:d,durationUs:e}=a.Lw.dAa(b);b=d+e;c=Math.min(b,Math.max(c,d));a.jd.HLc(c/1E6,c<b?"start":"end");a.jd.stop();requestAnimationFrame(()=>a.jd.rgh=!0)}};xFs=function(a,b){return a.scrollHeight-Math.max(0,(b+1)*a.rowHeight)};
zFs=function(a,b,c,d,e,f,g){const h=CV(m=>c.dAa(m).LMk),k=mV(()=>{const m=b.TXh;var p=b.Wva;const q=f.jh;p=g.Xt&&q.type==="fixed-page"?q.ja:p;if(p==null)return[];const r=h(p);return m(p).filter(t=>b.Vza!==t.element).reduce((t,{element:u,parent:w})=>{const {startUs:x,durationUs:y}=w==null?u:__c.TWa(w,u);x&&t.push(x+r);(u=y&&(x||0)+y)&&t.push(u+r);return t},[])});a.srg=k;const l=mV(()=>{var m=b.Wva;if(!m)return[];var p=g.Xt;const q=h(m),{durationUs:r}=c.dAa(m);m=p&&e.get()?null:a.bad.get();m=m!=null?
[m]:[];const t=a.Eah.get(),u=a.srg.get(),w=p&&e.get()?[]:a.OGh.get();p=p?[]:a.HHh.get();const x=a.med;return qd([...m,...t,...u,...w.filter(y=>y>q&&y<q+r),...p]).map(y=>({XBa:y-q,Ged:x,X1c:x}))});return{WNb:new yFs(l,a.WHe,d),srg:k}};BFs=function({element:a,parent:b},c){const {startUs:d,endUs:e}=AFs({element:a,parent:b});return!!d||e<c||a.type==="group"&&a.mb.some(f=>BFs({element:f,parent:a},c))};
AFs=function({parent:a,element:b}){const {startUs:c=0,durationUs:d=Infinity}=a?__c.TWa(a,b):b;return{startUs:c,endUs:c+d}};aFs=function(a,b,c,d,e,f){b.forEach(g=>{const {startUs:h=0,durationUs:k=f-h}=c?__c.TWa(c,g):g,l=__c.xm({startUs:h+d,endUs:h+d+k},f);c?CFs(c,g,l,f):(g.startUs=l.startUs||void 0,__c.ZJe(g,f,l))});e&&DFs(a,e,f);a.Sde=0};
bFs=function(a,b,c,d=c){var e,f,g;(e=a.GLd)===null||e===void 0||e.addEvent("trimming");(f=a.GLd)===null||f===void 0||f.nb().tk(({Hi:h})=>a.P.track(EFs,{action:"trim",gD:b.map(k=>k.type),pYk:Math.floor(d/1E3),xKj:Math.floor(c/1E3),Qb:h()}));(g=a.GLd)===null||g===void 0||g.ue()};DFs=function(a,b,c){b.durationUs==null&&isFinite(c)&&c!==a.vd.ub(b)&&(b.durationUs=c)};
CFs=function(a,b,c,d){const {startUs:e=0,durationUs:f=d-e}=a,g=a.mb.toArray(),h=g.map(p=>{if(p===b)return{startUs:c.startUs,durationUs:c.endUs-c.startUs};const {startUs:q=0,durationUs:r=f-q}=p;return{startUs:q+e,durationUs:Math.min(r,f-q)}});var k=__c.Ife(h,d);const l=k.startUs;k=k.endUs-k.startUs;e!==l&&(a.startUs=l||void 0);f!==k&&__c.$Je(a,d,{startUs:l,durationUs:k});for(a=0;a<g.length;++a){d=g[a];var m=h[a];const {startUs:p=0,durationUs:q=k-p}=d,r=Math.max(m.startUs-l,0);m=Math.min(m.durationUs,
k-r);p!==r&&(d.startUs=r||void 0);q!==m&&__c.$Je(d,k,{startUs:r,durationUs:m})}};
GFs=function(a,b){const c=fV(()=>{var d;a._open=!a._open;if(a._open){a.HTr();var e=a.selection.La;(e===null||e===void 0?void 0:(d=e.inner)===null||d===void 0?void 0:d.type)==="group"&&e.inner.group.type==="group"&&a.EYd.add(e.inner.group)}else a.EYd.clear();b.track(FFs,{action:a.open?"open":"close"})});return eV(d=>{const e=d.Og,f=d.oa,g=gV(()=>{f===null||f===void 0||f();e===null||e===void 0||e.clear()},[e,f]);return cV(d.hl,{Icon:__c.eA,label:a.open?L("vATgeQ"):L("V59lIw"),onClick:c,oa:g})})};
HFs=function({store:a,P:b,fh:c}){const d=GFs(a,b);c.kc(()=>a.mhh,(e,f)=>{e.bVc=f?{Button:d}:void 0})};IFs=function(a,b,c){if((a=a.Vo(b.media))&&a.images.length){var d=c*__c.kYa();return Fi(a.images,e=>e.height>d?-e.height:e.height).url}};JFs=function(a,b){const c=b.Sud(a);if(c.length)return{frames:c};if(a=b.c4c(a))return{url:a}};
PFs=function(a,b,c,d,e,f,g,h){return eV(function({element:k,page:l,width:m,height:p,Pia:q}){switch(k.type){case "text":return cV(KFs,{element:k,page:l,FE:e,N6c:g});case "group":if(!LFs(k))break;k=k.mb.first();return cV(KFs,{element:k,page:l,FE:e,N6c:g});case "rect":var r=k.fill.image.ref;if(g&&r){m=IFs(c,r,MFs);if(!m)break;return cV(NFs,{url:m})}const t=k.fill.video.ref;if(t&&f.Xt){r=JFs(t,d);if(r===null||r===void 0?0:r.frames)return cV(OFs,{fill:t,vIb:r.frames,Cf:d,width:m,height:p,Pia:q,Z2i:h});
if(r===null||r===void 0?0:r.url)return cV(NFs,{url:r.url})}}l=a.ub(l);return cV("div",{className:AV(["iQioCA"],{hCGVwg:g}),children:cV(b,{element:k,page:l,ld:MFs,tf:MFs})})})};
VFs=function({document:a,viewport:b,Wj:c,Kl:d,Pa:e,sc:f,Lw:g,FM:h,timing:k,qA:l,t1b:m,eb:p,Bc:q,hp:r,wog:t,oga:u,yyc:w,selection:x,BR:y,fh:z,FE:A,uc:B,vd:D,ifc:G,o$b:I,eda:K,pla:N,Ma:M,u3d:O,ei:U,Lk:W,P:X,Ga:Z}){Z=Z.Vd("editor.editing.page_navigator.timeline.element_timing");const da=new QFs(a,O,U,D,x,g,p,k,()=>{c.hq="thumbnail";U.get()&&b.zoom.mode==null&&b.Gz(b.ya,"fit")});t.add(()=>!da.open);({WNb:t}=zFs(N,da,g,W,U,b,k));W=new RFs(l,D,X,Z,W);const ka=CV(oa=>REs(oa,da));N=mV(()=>G.N1c||yV.f8g);
const la=new SFs(a,da,g,ka,U,N);I.XXh={UPq:(oa,ja)=>{oa=ka(oa).iuf(ja);if(!oa)throw Error("Element position not found");return xFs(la,oa.rowIndex)},height:mV(()=>la.YEc),rowHeight:la.rowHeight,lWg:mV(()=>la.AEk)};m=new TFs(a,da,D,l,g,B,x,la,ka,m,M,X,t,Z,U);B=Ef(a);d=PFs(B,d,e,h,A,k,!!m.N6c,(oa,ja)=>UFs.factory(mV(()=>g.fBa),D)(oa,ja));({e$i:f}=sFs({sc:f,h1a:q,eb:p,vd:D,qA:l,og:x,hp:r,oga:u,xUj:la,Qlq:t,U0c:W,Xjf:oa=>REs(oa,da),g4c:ka,u8f:d}));G.sTl=uFs({ei:U,document:a,viewport:b,L:m,store:da,eua:la,
eda:K,g4c:ka,oga:u,Lw:g,O6e:W,BR:y,fh:z,u8f:d,yyc:w,e$i:f,cQj:N,hp:r});HFs({store:da,P:X,fh:z});return{YXh:da}};WFs=function({lr:a,fh:b}){b.kc(()=>({uMp:a.fdm,LMp:a.xdm}),(c,{uMp:d,LMp:e})=>{c.Pdj=d||e?{Button:f=>{const g=gV(h=>{h.stopPropagation();d?a.QOn():a.yCo()},[]);return cV(f.hl,{label:d?L("NH7+Vw"):L("6vk0bw"),onClick:g,Icon:__c.xo,oa:f.oa})}}:void 0})};
eGs=function({V:a,m1a:b,u3d:c,ei:d,n_c:e,pla:f,Mz:g,qA:h,$Ta:k,Lw:l,fG:m,hp:p,timing:q,n8p:r}){const t=mV(()=>h.vrb!=null?l.gRa(h.vrb*1E6):null),u=mV(()=>{var O;return(O=h.lic)!==null&&O!==void 0?O:!1}),w=mV(()=>{const O=r===null||r===void 0?void 0:r.get();return O!=null?O/1E6:k.currentTime}),x=mV(()=>q.Xt||(r===null||r===void 0?void 0:r.get())!=null?!1:!0),y=wV.box(!1);let z=!1,A;const B=fV(()=>{XFs(h);(A===null||A===void 0?0:A.isRecording())||(A=a.sb("playhead_drag",{performance:{rV:!0}}));y.set(!0);
(z=k.Jf)&&h.pause({seeking:!0,ended:!1});h.Rjl(!0);h.lic=!1}),D=fV(()=>{y.set(!1);const O=l.Cud(k.currentTime,u.get());h.FG(O);h.Rjl(!1);z&&h.play();YFs(h);A===null||A===void 0||A.ue({Fx:({Hi:U})=>{U=U();b.track(ZFs,{action:"seek",kb:"click",Qb:U});A=void 0}})}),G={top:Xc*2.5,height:mV(()=>p.clientHeight)},I=eV(({Qpc:O})=>cV($Fs,{Lw:l,zuc:h.seek,currentTime:w,onDragStart:B,onDragEnd:D,playing:k.Jf,scrolling:!!O,hidden:c.get(),nAo:h.YKe||!(g===null||g===void 0||!g.eQd)||g.jjk,Fmh:G,Ao:d.get(),LEh:u,
hp:p,dub:x})),K=new aGs,N=new bGs(K,l,e,w,cGs,q),M=eV(()=>!Vb()||d.get()||m.AJ?null:cV(dGs,{store:K,L:N,Cfc:f.bad.get()!=null||l.Pdr||!!g.eQd||c.get()||t.get()!=null||K.Cfc,Fmh:G}));return{LUq:N,Sgp:eV(({Qpc:O})=>!l.sfb||l.b1e&&m.AJ&&!k.Jf&&!y.get()?null:kV(rV,{children:[cV(M,{}),cV(I,{Qpc:O})]}))}};gGs=function({Lw:a,qA:b,Qf:c,uz:d}){const e=new fGs(a,b,d);c.wAn=()=>{setTimeout(()=>{e.cbo(!0)},18E4)}};
kGs=function({o$b:a,xw:b,fG:c,hp:d,R1j:e}){a.Mss={height:mV(()=>b.isLinear?hGs:0)};const f=new iGs(b,c,d,e);return{Vhj:eV(()=>b.isLinear?cV(jGs,{store:f,xw:b}):null)}};
mGs=function(){const a=new lGs,b=({children:c,BHq:d,Qmr:e,z3i:f=20})=>{iV(()=>{a.bGo(d,e)},[d,e]);iV(()=>{a.WEo(f)},[f]);return c};return{Ebp:({itemSizes:c,wn:d,children:e,ANl:f,BNl:g,z3i:h})=>cV(__c.HC,{wn:d,itemSizes:c,tta:f,bvo:g,children:k=>cV(b,{BHq:(k===null||k===void 0?void 0:k.J9)||0,Qmr:(k===null||k===void 0?void 0:k.f$)||0,z3i:h,children:e})}),ynr:a}};
pGs=function({vIa:a,GMa:b,ncd:c,sWd:d,y9i:e,fh:f,ace:g,Vje:h}){const k=new nGs(a,c,d),{Ebp:l,ynr:m}=mGs(),p=CV(x=>fV(()=>{var y=b.Uxb(x);if(b.store.a_e.length!==1||!y){var z=b.t1b.get();switch(z){case "single":oGs(b,x);break;case "command":case "shift":y?(y=b.store.gm,y!==null&&y!==void 0&&y.mc(b.page,x.fill)&&y.N5d(b.page,x.fill)):oGs(b,x);break;default:throw new v(z);}}})),q=fV(()=>a.Exf=void 0),r=fV(x=>a.Exf=x),t=CV(x=>fV(y=>{y.preventDefault();y.stopPropagation();if(!Fc.Yaa&&!Fc.yxd){oGs(b,x);
var z,A,B=__c.tj({x:(z=y.clientX)!==null&&z!==void 0?z:0,y:(A=y.clientY)!==null&&A!==void 0?A:0});f.uLb(B,"element_timeline","right_click","bottom-start")}})),u=eV(({index:x,scene:y})=>{const z=jV(null),A=m.DUq(x).ODs;iV(()=>{const G=z.current;if(G&&A)return dV(()=>k.yTq(y),I=>{G.style.transform=I?`translateX(${I}px)`:""})},[y,A]);if(!A)return null;const B=c.axb(y),D=Ub()?g.xDp(a.scenes):g.wDp(a.scenes)||g.Mir(a.scenes);x=x<a.scenes.length-1&&!D;return kV("div",{className:AV("AcYpYA",{_2d_wKQ:b.Uxb(y)}),
style:{minWidth:B},onClick:p(y),onContextMenu:t(y),children:[cV("div",{ref:z,children:cV(e,{scene:y,width:B,height:zV})}),x&&cV("div",{className:AV("ie9DpA",{_9UAeXA:d.yHb}),onMouseEnter:()=>r(y.fill),onMouseLeave:q,children:cV(h,{fill:y.fill})})]})}),w=eV(()=>a.scenes.map((x,y)=>cV(u,{index:y,scene:x,KJb:y===a.scenes.length-1},x.key)));return{hNo:eV(({wn:x,ANl:y,BNl:z,z3i:A})=>{const B=jV(null);iV(()=>{const D=B.current;if(D)return dV(()=>c.rSq(a.scenes),G=>{D.style.paddingLeft=G?`${G}px`:""})},
[]);return cV("div",{ref:B,className:"_K9olQ",style:{height:zV},children:cV(l,{itemSizes:c.SUm(a.scenes),wn:x,ANl:y,BNl:z,z3i:A,children:cV(w,{})})})})}};
rGs=function(a,b){if(a.vIa.page.ja.locked)return!1;switch(b.type){case "timelineItems":return b.elements.length===1?qGs(a,b.elements):b.sh.length===1?a.vIa.tfr(b.sh[0]):!1;case "video":return b.kind==="futureVideo"?!1:b.video.contentType==="VIDEO";case "searchMedia":a:switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":a=!0;break a;case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":a=!1;break a;default:throw new v(b);}return a;default:throw new v(b);
}};qGs=function(a,b){return b.every(c=>sGs(a,c))};sGs=function(a,b){return b.type!=="rect"?!1:b.fill.video.ref?(a=(b=b.fill.video.ref.video)?a.Zb.Tca(b):void 0,!(a==="VECTOR_STICKER"||a==="STICKER"||a==="CLIP")):b.fill.image.ref?__c.dh(a.Pa,b.fill.image.ref)===1:!!b.fill.gradient.ref||!!b.fill.color};
vGs=function(a,b){const c=a.Cah,d=a.vIa;switch(b.type){case "timelineItems":return[...b.sh.map(e=>d.l3h(e)).filter(vb),...b.elements.filter(e=>sGs(a,e)).map(e=>tGs(c,e.fill))];case "video":return[uGs(c,b.video)];case "searchMedia":switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":return[{type:4,key:c.generateKey(),durationUs:5E6,NS:5E6,trim:{startUs:0,endUs:5E6}}];case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":throw Error("Unsupported drag type");
default:throw new v(b);}default:throw new v(b);}};tGs=function(a,b){return b.video.ref?a.NHj(b):b.image.ref?wGs(a,b):b.gradient.ref?xGs(a,b):b.color?yGs(a,b):zGs(a,b)};
uGs=function(a,b){const c=AGs(Promise.resolve(b));return BGs({type:4,key:a.generateKey(),get durationUs(){return c.case({pending:()=>5E6,rejected:()=>5E6,fulfilled:d=>{var e;const f=(e=d.wv)!==null&&e!==void 0?e:d.ylc;return f==null?5E6:f*1E6}})},get NS(){return this.durationUs},get trim(){return{startUs:0,endUs:this.durationUs}}},{durationUs:mV,NS:mV,trim:mV})};
wGs=function(a,b){const c=n(b.image.ref),d=a.vd;return BGs({type:1,key:a.generateKey(),fill:b,qy:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.TK(this.fill)||5E6},NS:Infinity},{trim:mV,durationUs:mV})};xGs=function(a,b){const c=n(b.gradient.ref),d=a.vd;return BGs({type:3,key:a.generateKey(),fill:b,kRa:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.TK(this.fill)||5E6},NS:Infinity},{trim:mV,durationUs:mV})};
yGs=function(a,b){const c=a.vd;return BGs({type:2,key:a.generateKey(),fill:b,get color(){var d;return(d=b.color)!==null&&d!==void 0?d:"#ffffff"},get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.TK(this.fill)||5E6},NS:Infinity},{color:mV,trim:mV,durationUs:mV})};zGs=function(a,b){const c=a.vd;return BGs({type:5,key:a.generateKey(),fill:b,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.TK(this.fill)||5E6},NS:Infinity},{trim:mV,durationUs:mV})};
CGs=function(a){a.Mvc=void 0;a.jSc=void 0;a.JSa=void 0;a.Z3g=void 0;a.bce=void 0};
HGs=function({Pa:a,Zb:b,h1a:c,hp:d,oga:e,yyc:f,vIa:g,GMa:h,Cah:k,ncd:l,clp:m}){const p=new DGs(d,g,e,l),q=new EGs(a,b,d,p,k,e,g,h);a=eV(u=>{const w=gV(()=>q.V_p(u.scene.fill),[u.scene.fill]);return cV(f,{item:u.scene.fill,onDragStart:w,children:cV(m,{...u})})});const r=eV(({scene:u})=>{var w;const x=jV(null),y=((w=p.AJg)===null||w===void 0?void 0:w.type)==="replace";w=u.fill!=null&&h.Uxb(u);iV(()=>{const z=x.current;if(z)return dV(()=>p.RPq(u),A=>{z.style.transform=A?`translateX(${A}px)`:""},{fireImmediately:!0})});
return cV("div",{ref:x,className:AV("nvSIEQ",y?"Lmgmmw":"ChvVrA",y&&!w&&"QLhSLg"),style:{width:l.axb(u),height:zV},children:y&&cV(R,{background:"contrast",borderRadius:"elementRound",padding:"1u",children:cV(__c.I5f,{size:"small",className:"qlLLfw"})})})}),t=eV(()=>{var u;return(u=p.dTj)!==null&&u!==void 0&&u.length?p.dTj.map(w=>cV(r,{scene:w},w.key)):null});b=eV(({connectDropTarget:u,drag:w})=>{iV(()=>{if(w===null||w===void 0?0:w.d3)q.onDragEnter(w.data);else q.onDragLeave()},[w]);iV(()=>dV(()=>
c.isDragging,x=>{x?q.yHb():q.bQj()}),[]);return cV(FGs,{connectDropTarget:u,store:p,children:cV(t,{})})});return{sWd:p,vdp:ic(c,GGs,u=>{const w=p.AJg,x=(w===null||w===void 0?void 0:w.type)==="replace"||p.Tjk;if(w!=null&&x){if(!rGs(q,u.data))throw Error("Unacceptable drag data provided on drop");q.onDrop(u.data,w)}},b,{canDrop:u=>rGs(q,u.data),Ft:({positions:u})=>{q.onDragOver(n(u))}}),y9i:a}};
oGs=function(a,b){a.qA.stop();const c=a.store.gm;(c===null||c===void 0?0:c.mc(a.page,b.fill))||(a.t1b.get()==="single"||!c||c.isEmpty?__c.K1a(a.og,a.Pe,b.fill):c.H5d(a.page,b.fill))};IGs=function(a,b,c){a.page.Oc.PXa(c===null||c===void 0?void 0:c.fill,b.map(d=>d.fill))};KGs=async function(a,b){return Promise.all(b.map(c=>JGs(a,c)))};MGs=function(a,b,c){return a.zl.eZa(new LGs(a.h2g,b.fill,a.Pe),{type:"video",video:c},{k3i:b.durationUs})};
NGs=function(a,b,c){const d=a.page.Oc.toArray();a.sc.Qzc({type:"video",video:b},{Yc:"object_panel_drag"},{Kq:b.wv,placement:{Pe:a.Pe}});b=a.page.Oc.filter(e=>!d.includes(e));a.page.Oc.PXa(c===null||c===void 0?void 0:c.fill,b)};OGs=function(a,b,c){return a.zl.eZa(new LGs(a.h2g,b.fill,a.Pe),{type:"image",image:c})};
PGs=function(a,b,c){const d=a.page.Oc.toArray();a.sc.Qzc({type:"image",image:b},{Yc:"object_panel_drag"},{placement:{Pe:a.Pe}});b=a.page.Oc.filter(e=>!d.includes(e));a.page.Oc.PXa(c===null||c===void 0?void 0:c.fill,b)};JGs=async function(a,b){if(b.fill.video.ref)return QGs(a,b);if(b.fill.image.ref)return RGs(a,b);if(b.fill.color||b.fill.gradient.ref)return{...Zr.snapshot(b.fill),durationUs:b.durationUs||a.vd.TK(b.fill)||5E6};throw Error("Unknown fill type");};
QGs=async function(a,b){const c=Zr.snapshot(b.fill),d=n(c.video);var e=await __c.kZi(a.Zb,d.video);(e===null||e===void 0?0:e.length)?(e=Fi(e,f=>f.width),e=en(a.NDe,e)):e=en(a.NDe,d.tb);return{...c,durationUs:b.durationUs||a.vd.TK(b.fill)||5E6,video:{...d,tb:e.Lb()}}};
RGs=function(a,b){const c=Zr.snapshot(b.fill),d=n(c.image);var e=a.Pa.getImages(d.media);e.length?(e=Fi(e,f=>f.width),e=en(a.NDe,e)):e=d.tb?en(a.NDe,d.tb):Nj(0,0,a.NDe.width,a.NDe.height);return{...c,durationUs:b.durationUs||a.vd.TK(b.fill)||5E6,image:{...d,tb:e.Lb()}}};SGs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};
TGs=function(a){switch(a.type){case 5:return{textColor:"black",textShadow:void 0};case 0:case 1:case 3:return{textColor:"white",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"};case 2:const b=Yh(a.color);return{textColor:Fi(["#000000","#ffffff"],c=>__c.pj(c,b))==="#000000"?"black":"white",textShadow:SGs(b)};default:throw new v(a);}};
WGs=function({QM:a,GMa:b,ace:c,xfj:d,dlp:e,cij:f}){return eV(({scene:g,width:h,height:k})=>{const l=b.Uxb(g),m=c.IFe(g).esb;var p=m!=null;const q=h>50,r=!a.ei&&c.IFe(g).Ala.isVisible;p=!q||p||!l||r;return cV(d,{scene:g,Ao:a.ei,children:kV("div",{className:AV("FlISGw",{_Tgftw:l}),style:{width:h-UGs,height:k},children:[cV(e,{scene:g,width:h,height:k,Pia:m}),cV(f,{fill:g.fill,mc:l}),cV(VGs,{scene:g,hidden:p})]})})})};
YGs=function({vd:a,aFa:b,vIa:c,page:d}){const e=d.ja.Oc,f=k=>e.last()===k,g=k=>e.previous(k),h=k=>{var l,m,p;const q=a.TK(k),r=(((m=e.previous(k))===null||m===void 0?void 0:(l=m.transition.ref)===null||l===void 0?void 0:l.durationUs)||0)/q*100;k=((k===null||k===void 0?void 0:(p=k.transition.ref)===null||p===void 0?void 0:p.durationUs)||0)/q*100;return{Wul:r,e0h:k}};return({fill:k,mc:l})=>cV(XGs,{tUq:h,aFa:b,vIa:c,NSq:g,fill:k,mc:l,tgr:f})};
bHs=function({Cf:a,Pa:b,Z2i:c}){return eV(({scene:d,width:e,height:f,Pia:g})=>{switch(d.type){case 0:const h=JFs(d.aaa,a);return(h===null||h===void 0?0:h.frames)?cV(OFs,{fill:d.aaa,vIb:h.frames,Cf:a,width:e,height:f,Pia:g,Z2i:c}):(h===null||h===void 0?0:h.url)?cV(NFs,{url:h.url}):cV(ZGs,{});case 1:return b.contains(d.qy.media)||__c.zv(b,[d.qy.media]),(d=IFs(b,d.qy,f))?cV(NFs,{url:d}):cV(ZGs,{});case 2:return cV($Gs,{color:d.color});case 3:return cV(aHs,{gradient:d.kRa,width:e,height:f});default:return cV(ZGs,
{})}})};cHs=function(a,b,c,d){const e=mV(()=>{if(d.get())return[];var f=b.bad.get();f=f!=null?[f]:[];const g=b.srg.get(),h=b.OGh.get(),k=b.med;return qd([...f,...g,...h]).map(l=>({XBa:l,Ged:k,X1c:k}))});return{Eah:mV(()=>{const f=[];let g=0;a.scenes.forEach(h=>{f.push(g);g+=h.durationUs});f.push(g);return f}),WNb:new yFs(e,b.WHe,c)}};
hHs=function({hp:a,GMa:b,UZa:c,qA:d,vd:e,X6e:f,pla:g,Lk:h,ei:k}){const l=(r,t)=>r+f.i1k(t),m=CV(r=>{const t=new dHs(r,b,c,f,k);r=new eHs(e,r,t,d);return{store:t,L:r}}),{Eah:p,WNb:q}=cHs(b,g,h,k);g.Eah=p;g=new fHs(r=>m(r).store);return{xfj:eV(({scene:r,Ao:t,children:u})=>{const {store:w,L:x}=m(r);return cV(gHs,{hp:a,lYb:w.M2n,durationUs:w.durationUs,Ieb:l,OMa:w.OMa,Cwa:w.Cwa,f6d:1E5,NS:r.NS,Xha:x.Xha,eBa:x.eBa,ona:x.cHn,VEa:x.VEa,vpb:x.vpb,wpb:x.wpb,captureEvents:!0,disabled:w.isDisabled,Ao:t,U7b:w.A6j,
Ala:w.Ala,FLd:q,children:u})}),ace:g}};
nHs=function({yi:a,page:b,eb:c,Pa:d,Zb:e,vd:f,FM:g,og:h,sc:k,zl:l,t1b:m,qA:p,UZa:q,pla:r,Lk:t,ei:u,h1a:w,hp:x,oga:y,yyc:z,QM:A,Gzb:B,fSf:D,HGd:G,fh:I,Vje:K}){const N=new iHs(f);a=new jHs(a,b,c,N,h);h=new kHs(a,f,k,l,d,e,h,m,p);k=new lHs(q);const {xfj:M,ace:O}=hHs({vd:f,qA:p,pla:r,Lk:t,ei:u,hp:x,GMa:h,X6e:k,UZa:q});p=new mHs(k,O);g=bHs({Cf:g,Pa:d,Z2i:(da,ka)=>UFs.factory(mV(()=>q.fBa),f)(da,ka)});b=WGs({QM:A,GMa:h,ace:O,xfj:M,dlp:g,cij:YGs({vd:f,aFa:B,vIa:a,page:b})});const {sWd:U,vdp:W,y9i:X}=HGs({Pa:d,
Zb:e,h1a:w,hp:x,oga:y,yyc:z,vIa:a,GMa:h,Cah:N,ncd:p,clp:b}),{hNo:Z}=pGs({vIa:a,GMa:h,ncd:p,sWd:U,y9i:X,fh:I,ace:O,Vje:K});return eV(({wn:da,fme:ka})=>kV("div",{className:"t7NATw",children:[cV(Z,{wn:da,ANl:D,BNl:G}),ka?cV(ka,{}):B.Fje&&cV(B.Fje,{size:"m",shape:"square"}),cV(W,{})]}))};
uHs=function({Ia:a,Qf:b,my:c,hp:d,xw:e,qA:f,fG:g,lBl:h,d2g:k,Lpb:l,QM:m,Oid:p,fSf:q,HGd:r,gWa:t,jE:u,onContextMenu:w}){const x=Ef(a),y=eV(I=>{const K=gV(()=>oHs(e,m,I.page,f),[I.page]);return cV(pHs,{store:m,document:a,N:k,V:h,rss:m.xSq(I.page),Z_a:K,pcd:m.ei?60:void 0,uzg:!0,gWa:t,tUa:e.isLinear,...I,children:I.children})}),z=eV(I=>{const K=jV(d);return cV(qHs,{Ia:a,QM:m,PNk:f===null||f===void 0?void 0:f.stop,ceh:e.ceh,Tpl:e.Tpl,dIp:e.uoi,UKe:m.UKe(I.page.page),Bwh:y,tUa:e.isLinear,Rel:K,...I})}),
A=eV(I=>cV(rHs,{yd:I.yd,KYk:g.AJ?"pageNumber":"pageDuration",page:I.page,QM:m,Lpb:l,my:c,Wda:I.Wda,tUa:e.isLinear})),B=eV(I=>cV(sHs,{Rpp:z,glp:A,Ia:a,onContextMenu:m.KN?w:void 0,qOg:!!e.t$a,UKe:m.UKe(I.page.page),jE:u,Qf:b,xw:e,fG:g,Oid:p,store:m,gWa:t,...I})),D=eV(({sgd:I,wn:K,Hg:N,Lib:M,Fyc:O,iyc:U,bNa:W,v4a:X})=>{const Z=jV({CCk:Number.MAX_VALUE,Wlk:a.pages.count()<=20?a.pages.count()-1:-1}),da=e.tel;return cV(__c.HC,{wn:K,itemSizes:da,tta:q,bvo:r,children:ka=>{let la=-1;const oa=(ka===null||ka===
void 0?void 0:ka.J9)||0,ja=(ka===null||ka===void 0?void 0:ka.f$)||0,ha=Math.min(oa,Z.current.CCk),ba=Math.min(da.length-1,Math.max(ja,Z.current.Wlk));Z.current.CCk=Math.min(ha,Z.current.CCk);Z.current.Wlk=Math.max(ba,Z.current.Wlk);return cV(rV,{children:a.pages.map((ca,qa)=>{la++;const ra=la>=ha&&la<=ba,sa=la===0?da[la]-e.kdb:da[la];return cV(B,{hp:d,page:x.ub(ca),Vb:la,w5r:sa,sgd:I,Lib:M,v4a:X,PDs:ra,Hzb:oa<=la&&la<=ja?"visible":"hidden",wn:K,Hg:N,Fyc:O,iyc:U,bNa:W},qa)})})}})}),G=eV(({W2b:I,Rrc:K,
z2b:N})=>cV(tHs,{W2b:I,Rrc:K,dEg:{width:e.y9h,height:zV},z2b:N,Oid:p,QM:m,Lpb:l,qA:f,xw:e,jE:u}));return eV(({sgd:I,wn:K,Hg:N,Lib:M,Fyc:O,z2b:U,iyc:W,bNa:X,W2b:Z,Rrc:da,v4a:ka})=>{const la=e.kdb;return kV(rV,{children:[cV("div",{className:"_AhXog",style:{width:la,marginLeft:-la},children:cV(p,{page:a.pages.first(),ezm:"full",uzg:!0,v0q:!0})}),cV(D,{sgd:I,wn:K,Hg:N,Lib:M,Fyc:O,iyc:W,bNa:X,v4a:ka}),Z&&da&&cV(G,{W2b:Z,Rrc:da,z2b:U})]})})};
vHs=function({Ia:a,viewport:b,Qf:c,Pa:d,Zb:e,eb:f,vd:g,FM:h,sc:k,zl:l,my:m,og:p,t1b:q,h1a:r,Icg:t,hp:u,oga:w,yyc:x,ivh:y,Vje:z,Jmh:A,Mz:B,ifc:D,xw:G,qA:I,fG:K,lBl:N,d2g:M,Lpb:O,QM:U,Gzb:W,Oid:X,fSf:Z,HGd:da,gWa:ka,jE:la,onContextMenu:oa,fh:ja,pla:ha,Lk:ba,ei:ca}){let qa=()=>{};const ra=uHs({Ia:a,Qf:c,my:m,hp:u,xw:G,qA:I,fG:K,lBl:N,d2g:M,Lpb:O,QM:U,Oid:X,fSf:Z,HGd:da,gWa:ka,jE:la,onContextMenu:oa});c=eV(sa=>{qa();var wa=b.jh;if(A.Xt&&wa.type==="fixed-page"){const ya=Ef(a);wa=nHs({yi:ya,page:ya.ub(wa.ja),
eb:f,Pa:d,Zb:e,vd:g,FM:h,sc:k,zl:l,og:p,t1b:q,qA:n(I),UZa:G,pla:ha,Lk:ba,ei:ca,h1a:r,hp:u,oga:w,yyc:x,QM:U,Gzb:W,fSf:Z,HGd:da,fh:ja,ivh:y,Vje:z});return cV(wa,{...sa})}qa=t.PPj.add(()=>!!G.t$a||!!G.dfb||!!B.c_c||G.qQj);return cV(ra,{...sa})});D.yXl=c};xHs=function(a){const b=new wHs;dV(()=>b.trim&&!a.pages.has(b.trim.page),c=>{c&&(b.trim=void 0)});return b};
yHs=function(a,b,c){var d;c=c||((d=a.store.trim)===null||d===void 0?void 0:d.direction);({durationUs:d}=a.aCg(wm.gs(b),c));a=hKe(a.my,b);return d?Math.max(a,d/1E6):Math.max(a,600)};BHs=function(a,b,c,d,e,f,g,h,k,l){return g?new zHs(a,b,c,d,e,g,h,k,l):new AHs(a,b,c,d,e,f,h,l)};
CHs=function(a,b,c){if(a.sre(b,c)){var d=a.ya;a.x8g(d);var e=wm.gs(d),f=e.indexOf(b);f!==-1&&c.forEach((g,h)=>{h>0&&(h=mu.iQ(Dn.snapshot(d),{iFa:!0}),d=a.document.pages.jI(d,h));e=wm.gs(d);h=e[f];a.bPi(d,g.endUs/1E6-g.startUs/1E6,"end");h.trim={startUs:g.startUs,endUs:g.endUs}})}};EHs=function({u2e:a,my:b,Cf:c,viewport:d,document:e,xh:f}){const g=new DHs(a,b,c,d,e,f);dV(()=>a.PAb.length&&a.TFh,h=>{h&&a.Ik&&CHs(g,a.Ik,a.PAb)})};
GHs=function(a){var b;if(a.Ma.mode<40||a.Lw.AJ)return!1;const c=(b=a.lr.UQ)===null||b===void 0?void 0:b.filter(e=>{e=iy(a.lr,e);return!!FHs(e,a.vrb)});var d;b=(d=c===null||c===void 0?void 0:c.length)!==null&&d!==void 0?d:0;d=a.document.audio.tracks.count();return b>0&&d+b<=a.lr.Bsj};HHs=function(a,b){a=a.Lw.cDg(b,!0);if(a!==null&&a!==void 0&&a.page){b-=a.qda/1E6;var c=a.durationUs/1E6-b;if(!(b<.1||c<.1))return{...a,oLs:b}}};
IHs=function(a,b,c){let d=0;for(const e of b)if(b=a.vd.TK(e)||5E6,d+=b,b>0&&c<d)return a=d-c,c=b-a,c<1E5||a<1E5?void 0:{fill:e,aFq:c,dFq:a}};FHs=function(a,b){b=b*1E6-a.startUs;a=a.durationUs-b;if(!(b<1E5||a<1E5))return b};
JHs=function(a,b,c){const d=iy(a.lr,b);b=a.Mz.tXc.findIndex(k=>k.some(l=>l===d));var e=FHs(d,c);if(e){var f=__c.bde(mu,__c.yEc.snapshot(d.track));c=d.trim.startUs+e;var g={startUs:c,endUs:d.trim.endUs},h=(g.endUs-g.startUs)/2;e=a.document.audio.tracks.append({...f,startUs:Math.floor(d.startUs+e),trim:g,fadeIn:f.fadeIn!=null&&f.fadeIn.durationUs>h?{...f.fadeIn,durationUs:h}:f.fadeIn,fadeOut:f.fadeOut!=null&&f.fadeOut.durationUs>h?{...f.fadeOut,durationUs:h}:f.fadeOut});f=iy(a.lr,e);a.Mz.iag(f,b);a.Mz.iag(d,
b);a.lr.yrb(d,"trim");a.lr.Jde(d,d.trim.startUs,c);a.lr.xBb(d,"shortcut");return e}};
OHs=function({xh:a,fh:b,Wj:c,Bd:d,selection:e,document:f,timing:g,my:h,lr:k,Lw:l,vd:m,V:p,$Ta:q,qA:r,Mz:t,ei:u,Dc:w,Ma:x}){const y=mV(()=>c.hq==="thumbnail"&&!w.rKa),z=new KHs(f,x,h,k,t,l,g,m,p,a,r,q,y);d.plugins.DEb=()=>({Rd:()=>{var A,B;return((A=e.La)===null||A===void 0?void 0:A.type)==="pages"&&c.hq==="thumbnail"&&!l.AJ&&((B=e.La)===null||B===void 0?void 0:B.Ki())},Button:eV(A=>cV(LHs,{...A,disabled:!z.HKh,K2e:z})),onClose:r.wbe});b.kc(()=>z.HKh,(A,B)=>{B?A.dAh={Button:D=>{const G=gV(()=>{var I;
(I=D.onClick)===null||I===void 0||I.call(D);z.OTi()},[D]);return cV(D.hl,{label:L("GiOiNA"),onClick:G,Icon:MHs,hm:"s",oa:D.oa})},onClose:r.wbe}:(A.dAh=void 0,r.wbe())});d.plugins.cDb=()=>({Rd:()=>{var A,B;return x.mode===40&&((A=e.La)===null||A===void 0?void 0:A.type)==="audio"&&!((B=k.UQ)===null||B===void 0||!B.length)},Button:eV(A=>cV(NHs,{...A,disabled:!GHs(z),Ao:u.get(),K2e:z})),onClose:r.wbe});b.kc(()=>GHs(z),(A,B)=>{A.Agj=B?{Button:D=>{const G=gV(I=>{var K;(K=D.onClick)===null||K===void 0||
K.call(D);I.stopPropagation();z.NTi()},[D]);return cV(D.hl,{label:L("W417Fg"),onClick:G,Icon:MHs,hm:"s",oa:D.oa})},onClose:r.wbe}:void 0});return z};PHs=function({ei:a,onClick:b}){a=a?L("OEWZcA"):L("8pJsaQ");return cV(Yi,{variant:"tertiary",icon:tr,onClick:b,children:a})};
RHs=function({onClick:a,playState:b,isDisabled:c}){const d=()=>b.UG/1E6,e=()=>b.G5e/1E6;return eV(()=>{var f;return cV(QHs,{onClick:a,currentTime:d,totalTime:e,Jf:b.Jf,wa:b.wa,isDisabled:(f=c===null||c===void 0?void 0:c.get())!==null&&f!==void 0?f:!1})})};
QHs=function({onClick:a,currentTime:b,totalTime:c,Jf:d,wa:e,isDisabled:f}){return kV(gr,{spacing:"1u",Fa:"center",children:[cV(fr,{width:"content",children:cV(SHs,{currentTime:b,totalTime:c})}),cV(fr,{width:"content",children:cV(qr,{onClick:a,variant:"tertiary",icon:e?__c.dr:d?__c.Ju:__c.Ku,disabled:e||f,size:"small",Jc:"medium",hb:d?L("8Pbkhg"):L("Y/SEvA"),uTb:!0})}),cV(fr,{width:"content",children:cV(THs,{totalTime:c})})]})};UHs=function({MOm:a}){return cV("time",{dir:"ltr",className:"Nbtq6A",children:a})};
ZHs=function({o$b:a,$sg:b,G7b:c,ei:d,timing:e,xw:f,qA:g,$Ta:h,fG:k,Pfq:l,Vdg:m,P_h:p}){let q=VHs,r=mV(()=>null);a.vge={height:mV(()=>b&&f.sfb?WHs:0)};if(!g||!h)return{vge:r,cbf:q};const t=()=>{g.DOa({kb:"click"})};if(b){const u=RHs({onClick:t,isDisabled:l,playState:h}),w=fV(()=>{e.Xt=!1;g.stop();k.PHd(!0)});r=mV(()=>f.sfb?cV(XHs,{S$r:cV(u,{}),LAq:m&&p&&e.Xt?cV(PHs,{ei:d.get(),onClick:w}):void 0}):null)}else q=eV(()=>{if(!f.sfb)return null;var u=g.YKe||!!f.t$a||!!f.dfb||k.PF;u=l.get()||d.get()&&u;
return cV(YHs,{onClick:t,Jf:h.Jf,wa:h.wa||!(c===null||c===void 0||!c.CMd.size),tG:u})});return{vge:r,cbf:q}};
bIs=function({xw:a,fG:b,lXj:c,Dc:d,keyboardShortcuts:e,D9:f,Td:g,Wj:h,ei:k}){const l=So("d");c&&e.register([l,()=>{a.b1e&&b.PHd(!b.AJ,"shortcut")},L("VH6WcA"),["edit","comment","view"]]);g.Eu(()=>k.get()&&a.b1e,({SL:p},q)=>{p&&(p.Uhj=q?{Button:eV(r=>cV($Hs,{...r,Wj:h,fG:b}))}:void 0)});const m=()=>{b.PHd(!b.AJ,"click")};f.FZa.install("timeline_mode",{Rd:()=>!k.get()&&h.hq==="thumbnail"&&!d.rKa&&a.b1e,Component:eV(()=>cV(aIs,{active:!b.AJ,onClick:m,xI:c?l:void 0,hb:c?b.AJ?L("JOx0bg"):L("vr2BIw"):void 0}))});
Lrs(()=>{a.b1e||a.AJ||b.PHd(!0)},{scheduler:requestAnimationFrame})};dIs=function({ifc:a,Gzb:b,timing:c,document:d,viewport:e,ei:f}){dV(()=>c.Xt&&e.jh.type==="fixed-page"&&e.jh.ja.elements.empty&&e.jh.ja.Oc.empty&&d.audio.tracks.count()===0,g=>{a.fme=g?eV(()=>cV(cIs,{Fje:b.Fje,ei:f})):void 0},{fireImmediately:!0})};BV=function(a,b){return Oub(b,a.I.document)};bDs=function(a,b){a=a.I.eb;return b.type!=="fixed"||xg(a.Zk(b))?!1:fk(a,b,c=>!!c&&!c.FQa&&!c.$db)};
oEs=function(a,b,c){b=a.s0d(c+b.scrollLeft-(b.left+eIs+a.kdb));a.Wxe=Math.round(b*100)/100};gIs=function(a,b){return a.v0c.slice(b,b+2).some(({width:c})=>c<fIs)};oHs=function(a,b,c,d){a.hwn();if(d)if(b.ei){const e=cps(()=>!b.zvd,()=>{d.rgh=!0;d.FG(c);hIs(d,c,"start");e()})}else hIs(d,c,"start")};iIs=function(a,b,{offsetWidth:c,width:d,qda:e,durationUs:f}){b-=e;if(b<=0)return c;e=b-f;return e<=0?c+(f?b/f:1)*d:c+d+e/1E6*a.fBa};
jIs=function(a,b,{lfc:c,V7g:d,withTrim:e}={}){if(d){const {LMk:f}=a.dAa(d);b+=f}c=(d===null||d===void 0?0:d.draft)?a.dAa(d):a.cDg(b/1E6,c,e)||a.Gji||{offsetWidth:0,width:a.kYi,qda:0,durationUs:a.Lfd};return a.aah(Math.max(iIs(a,b,c),0))};kIs=function(a,b){const c=a.D6b.find(({width:d,offsetWidth:e})=>b<=e+d);return c&&!BV(a,c.page)?{offsetWidth:c.offsetWidth,width:c.width,qda:c.qda,durationUs:0}:c||a.Gji||{offsetWidth:0,width:a.kYi,qda:0,durationUs:a.Lfd}};
lIs=function(a,b,{offsetWidth:c,width:d,qda:e,durationUs:f}){b-=c;if(b<=0)return e;c=b-d;return c<=0?e+b/d*f:e+f+c/a.fBa*1E6};mIs=function(a,b,{V7g:c}={}){if(c){const {Ivn:d}=a.dAa(c);b+=d}c=(c===null||c===void 0?0:c.draft)?a.dAa(c):kIs(a,b);return Math.max(lIs(a,b,c),0)};nIs=function(a){clearTimeout(a.rbh);a.rbh=setTimeout(()=>{a.controller.rba();a.rbh=void 0},20)};oIs=function(a,b=a.lJh){clearInterval(b);clearTimeout(b)};
pIs=function(a,b,c=0){const d=n(a.effect),e=c>0,f=()=>{var g=a.Hf,h=b-a.y8n+c*a.heartbeatInterval;const k=n(a.Jmc);let l=a.DBk;oV(k)&&(l+=Date.now()-a.wvl);d({Hf:g,Jil:h,OXs:l,LKp:e?"heartbeat":a.isBuffering?"start":"end"})};e?a.elk=window.setTimeout(f,a.lwj):f()};hIs=function(a,b,c){const {qda:d,durationUs:e}=a.Lw.dAa(b);a.HLc((c==="end"?d+e:d)/1E6,c)};
XFs=function(a,b){var c;const d=a.YKe?"trim":"playhead_drag";if(b===null||b===void 0?0:b.RAm){var e;if((e=a.eY)!==null&&e!==void 0){a={Bv:d};e.Tfi=!0;var f;e.uUj=(f=a===null||a===void 0?void 0:a.Bv)!==null&&f!==void 0?f:e.sessionType==="non-editing"?"playhead_drag":void 0}}else(c=a.eY)===null||c===void 0||__c.K4p(c,{Ye:a.ZLa(),Bv:d})};YFs=function(a){var b;(b=a.eY)===null||b===void 0||__c.L4p(b,{Ye:a.ZLa(),SY:"ended"})};qIs=function(a){a.XG.gC&&a.XG.configuration!==a.XG.OAe&&(a.stop(),a.create())};
rIs=function(a){const b=a.viewport.ya;if(b.type==="fixed"){var c=a.vd.tnc(a.document,b);const e=a.vd.ub(b),f=a.store.UG-c;c=__c.vFd(b);var d=__c.HRd(a.vd,b.Oc);let g;if(b.Oc.count()>1&&(d=d.find(h=>a.store.UG>=h.startUs&&a.store.UG<h.startUs+h.durationUs))){const h=a.store.UG-d.startUs;g=h>=0&&h<d.durationUs?h:void 0}c.forEach(({element:h,parent:k,fill:l})=>{if(!h&&g)__c.Zde(a.FM,l,g/1E6);else{const {startUs:m,durationUs:p}=h?VWa(h,b,e,k):{startUs:0,durationUs:e};h=f-m;h>=0&&h<p&&__c.Zde(a.FM,l,h/
1E6)}})}};sIs=function(a,b){b==="COMPOSITE"&&(a.store.zfi?a.kvk=!1:b="ANIMATE");if(a.XG.ycf!==b&&!(b==="COMPOSITE"&&a.store.CFg||b==="ANIMATE"&&!a.kvk&&!a.store.CFg)){var c=a.store.currentTime;if(a.XG.setActive(b)){var d;if((d=a.eY)!==null&&d!==void 0){b=a.ZLa();var e;(e=d.NNa)!==null&&e!==void 0&&e.isRecording()&&d.NNa.nb().addEvent("document_engine_updated",new Map([["type",b]]))}a.seek(c);a.stop()}}};
tIs=function(a,b,c){const {height:d,width:e}=ug(4,jk(b,a.document.dimensions)),{height:f,width:g}=ug(4,jk(c,a.document.dimensions));return d===f&&e===g};uIs=function(a,b){if(a.XG.ya){var c=a.store.Jf,d=a.XG.ya,e=a.XG.mFe(d);a.stop();e!=null&&b.includes(d)&&(b=a.store.UG-e*1E3,{qda:d}=a.Lw.dAa(d),a.X0e=c,a.create(),a.seek((d+b)/1E6))}};
CIs=function({P:a,Ga:b,pga:c,Ma:d,canvas:e,viewport:f,toolbar:g,document:h,vd:k,qc:l,timing:m,Lw:p,Gp:q,Fra:r,wZ:t,FM:u,vT:w,pCa:x,selection:y,wp:z,YNa:A,Pea:B,xxa:D,la:G,Cca:I,pla:K,ei:N,dKe:M,DAe:O,Qf:U,Cxa:W,Ev:X,jSb:Z}){var da,ka=b.Vd("editor.editing.page_navigator.timeline_preview");ka=new __c.Kur(0,a,ka,X);b=__c.TWb({Ga:b,sessionType:"editing",N:a,Ev:X});X=Ef(h);const la=new vIs(I.Fja,h,X,D,q,t,k);I=eV(()=>f.uh&&f.ya&&la.aEd&&la.yY&&O.get()?cV(wIs,{Akb:__c.MWb(),qc:ra,yY:la.yY,uuh:ba,L:ha,store:ja,
Cxa:W}):null);const oa=new xIs(la,I),ja=new yIs(h,X,f,k,m,oa),ha=new zIs(ja,h,k,f,y,p,oa,Z,u,a,K,N,M,U,ka,b,w,mV(()=>m.Xt));c.init(ha,ja);a=mV(()=>({wZb:oa.ycf==="COMPOSITE"&&Z&&Z.xCc?Z.xCc:la.gC,Cf:oa.ycf==="COMPOSITE"&&Z&&Z.bte?Z.bte:t}));q=new __c.T4p(h,a,q,__c.Ml.Lv);w=new __c.OZh({vT:w,Mra:q,nFc:!0,xMk:!0});const ba=__c.XWb(w);Z&&AIs({Fra:r,FM:u,jSb:Z,store:ja,Lw:p,BVs:oa,uuh:ba,DAe:O,L:ha});Z&&dV(()=>ja.Jf,sa=>{sa&&Z.bso.H7n()});Z&&__c.Hur({jSb:Z,wub:ja,LEs:()=>!(ja===null||ja===void 0||!ja.zfi||
(ja===null||ja===void 0?0:ja.CFg)||(ja===null||ja===void 0?void 0:ja.yKj)!=="ANIMATE"&&((ja===null||ja===void 0?0:ja.Jf)||(ja===null||ja===void 0?0:ja.wa))||(ja===null||ja===void 0?0:ja.Qfi)),JEs:()=>!(ja===null||ja===void 0||!ja.zfi||(ja===null||ja===void 0?0:ja.CFg))});const ca=(sa,{page:wa,element:ya})=>{const za=ya.container;switch(za.type){case "group-element":ha.FG(wa.ja);ha.stop();if(__c.TCe(za.group)){oV(()=>y.Ol(za.container,za.group));break}y.nOe(za,ya.ja);sa.stopPropagation();break;case "fixed-page":ha.FG(wa.ja);
ha.stop();oV(()=>y.Ol(za,ya.ja));break;case "layout-element-cell":case "chart-element":case "controlled-element":break;default:throw new v(za);}},qa={onTouchStart:(sa,wa)=>{ca(sa,wa)},onMouseDown:(sa,wa)=>{ca(sa,wa)},iAc:({page:sa,element:wa})=>{if(d.mode<=10||wa.ja.type==="group")return!1;const ya=wa.container;if(A&&ya.type!=="layout-element-cell"&&ya.type!=="chart-element"&&!__c.vig(A,wa))return!1;switch(ya.type){case "group-element":case "controlled-element":case "fixed-page":case "chart-element":break;
case "layout-element-cell":return!0;default:throw new v(ya);}return __c.WWa(wa.ja,ja.UG-(m.Xt?0:k.tnc(h,sa.ja)),sa.ja,ya)}},ra=DV(sa=>{const wa=sa.page,ya=gV(()=>{if(!A||__c.sig(A,wa))d.mode>10&&wa.container&&wa.container.type!=="design-item"&&y.$S(wa.container,wa.ja),ha.FG(wa.ja),ha.stop()},[wa]);return cV(l,{...sa,rA:{...sa.rA,Ofc:()=>!0},S7a:qa,VWg:ya})});e.kc(()=>({isEnabled:p.sfb||ja.Jf,Overlay:oa.Overlay}),(sa,{isEnabled:wa,Overlay:ya})=>{sa.w0a.gme=wa?ya:void 0});Rb("c25bfe2b",!1)&&e.kc(()=>
ja.yKj==="COMPOSITE",(sa,wa)=>{sa.w0a.uAh=wa?BIs:void 0});e=()=>oa.Overlay!=null;m.Ewk=e;m.Fwk=()=>{var sa;return((sa=oa.gC)===null||sa===void 0?void 0:sa.paused)===!1};(da=g.mE)===null||da===void 0||da.FQ(e);bNe(z.controls,e);dV(e,sa=>{sa&&(B.isActive&&B.uCc("timeline_preview"),x.o3e())});dV(()=>({BU:f.uh?f.cQ(f.ya):1,ya:f.ya}),(sa,wa)=>{sa.ya&&wa.ya&&sa.ya.type===wa.ya.type&&tIs(ha,sa.ya,wa.ya)&&sa.BU!==wa.BU&&ha.stop()},{scheduler:requestAnimationFrame});dV(()=>N.get()&&g.H4,sa=>sa&&ha.stop());
dV(()=>ja.Jf,sa=>{sa&&(D===null||D===void 0||!D.Zqi)&&(D===null||D===void 0?0:D.isEnabled)&&(G.Hb({Cb:L("bnV+qg")}),D.Zqi=!0)});return{qA:ha,$Ta:ja}};AIs=async function({jSb:a,Fra:b,FM:c,Lw:d,store:e,BVs:f,uuh:g,DAe:h,L:k}){if(await a.isSupported()){var {fOh:l,wub:m,$vh:p,xCc:q,bte:r}=a.KQh({dimensions:mV(()=>e.box)});b=new DIs(l,m,b,c,d);c=eV(()=>h.get()?cV(EIs,{$vh:p,store:e,uuh:g,L:k}):null);a.xCc=q;a.bte=r;f.XDj=b;f.ORo=c}};
KIs=function({V:a,N:b,vlf:c,hp:d}){const e=new FIs,f=new GIs(e,d),g=new HIs(a,b,c,f);a=new IIs(g);return{L:g,config:e,Mth:a,Trh:()=>JIs({aat:g,Nus:f})}};
UIs=function({dS:{Zh:a,gWa:b,vlf:c,Axq:d,puq:e,$sg:f,O_h:g,ZFc:h,clc:k,lXj:l,kvg:m,Zrg:p},errorService:q,P:r,Ga:t,pga:u,pHa:w,g2b:x,o$b:y,eda:z,d2g:A,Fzb:B,lr:D,h0a:G,Fra:I,RZ:K,wZ:N,FM:M,vT:O,G7b:U,xxa:W,FE:X,zac:Z,u2e:da,IP:ka,my:la,hp:oa,eab:ja,Icg:ha,Bc:ba,eb:ca,timing:qa,sc:ra,zl:sa,Td:wa,Pa:ya,Zb:za,Ma:Aa,Dc:Ea,keyboardShortcuts:Fa,la:Na,document:Ja,Wj:Qa,Kl:Ta,viewport:Xa,vd:Ya,dej:Sa,Oid:ib,Pea:pb,selection:ob,wp:nb,YNa:gb,BR:mb,Lo:db,aFa:ub,QM:Ob,Lpb:Pb,D9:Ab,ka:Qb,lgc:Jb,Df:$b,toolbar:rc,
Bd:Tc,uc:Sc,fh:hc,uqa:vc,Ca:tb,xh:kc,Qf:Jc,uz:sc,lma:zc,Lk:Ac,Cca:Lc,onContextMenu:ud,fSf:md,HGd:Ec,DAe:Gc,jE:Nc,Ev:Ed,jSb:Gd}){const Ud=xHs(Ja),Oe=d||c!==2,me=__c.i6q(),ye=tb&&vc?me.Uag.has(tb)||me.fAf(vc,tb):!1,Pd=mV(()=>Ob.ei),Ld=mV(()=>Ob.dKe),je=mV(()=>Ob.xF),dg=t.Vd("editor.editing.page_navigator.timeline"),{L:vd,config:gf,Mth:Tf,Trh:Ke}=KIs({V:dg,N:A,vlf:c,hp:oa}),Ig=()=>ye?!1:Qa.hq==="thumbnail"&&(Oe||!vd.AJ);qa.oii=()=>f&&Ig();qa.tdn=()=>Ig()&&!vd.AJ;const Ic=new LIs({jE:Nc,$sg:f,ZFc:h,gWa:b,
timing:qa,viewport:Xa,document:Ja,my:la,hp:oa,vd:Ya,mau:ye,ei:Pd,oii:Ig,fG:vd,R_i:Ud,eb:ca,Lk:Ac,Ma:Aa});x.Dwk=mV(()=>Ic.b1e);ja.setup(Ic);w.nir=()=>Qa.hq==="scroll"?void 0:!vd.AJ;const Uf=new MIs(mV(()=>Ic.fBa)),{qA:ne,$Ta:rd}=u!=null&&CIs({P:r,Ga:t,pga:u,document:Ja,Ma:Aa,canvas:Qa,viewport:Xa,toolbar:rc,vd:Ya,qc:Sa,timing:qa,Lw:Ic,Gp:G,Fra:I,wZ:N,FM:M,vT:O,pCa:K,xxa:W,la:Na,Cca:Lc,Pea:pb,selection:ob,wp:nb,YNa:gb,pla:Uf,Qf:Jc,ei:Pd,dKe:Ld,DAe:Gc,Cxa:a.nrd,Ev:Ed,jSb:Gd})||{},Le=Xa.jh;qa.Xt=g&&Ja.pages.count()===
1&&Oub(Le.ja)&&!!ne&&!vd.AJ;const wf=__c.pk();gf.$el={get scrollLeft(){var xe;return(xe=oa.scrollLeft)!==null&&xe!==void 0?xe:0},get clientWidth(){var xe;return(xe=oa.clientWidth)!==null&&xe!==void 0?xe:0},get E_b(){return Ic.kdb+NIs},scrollTo:xe=>oa.scrollTo({left:xe})};gf.timeline={sHq:mV(()=>{var xe;return(((xe=wf.current)===null||xe===void 0?void 0:xe.vvo)||0)+NIs}),sFe:Ic.sFe,s0d:Ic.s0d,mUq:()=>Ic.dAa(Ob.ya).qda/1E6,KSq:()=>{var xe;return((xe=qa.Gkf)!==null&&xe!==void 0?xe:0)/1E6}};gf.KUq={hide:()=>
Sf===null||Sf===void 0?void 0:Sf.LUq.hide()};const Ee=BHs(Ud,Ya,la,M,dg,K,ne,ob,Z,Ac),{h1a:se,oga:de,yyc:td,KYo:Bc}=IEs({h1a:ba,hp:oa,Kl:Ta,ei:Pd,timing:qa}),Nd=mV(()=>!!Ob.lNa),Od=new OIs,{YXh:ze}=ne&&VFs({P:r,Ga:t,document:Ja,sc:ra,viewport:Xa,Wj:Qa,Kl:Ta,Pa:ya,u3d:Nd,ei:Pd,uc:Sc,Lk:Ac,fh:hc,FE:X,vd:Ya,selection:ob,BR:mb,Ma:Aa,ifc:Od,o$b:y,eda:z,Lw:Ic,wog:ha.wog,timing:qa,FM:M,qA:ne,t1b:je,eb:ca,pla:Uf,Bc:se,hp:oa,oga:de,yyc:td})||{};uEs(Od,()=>(!Ic.AJ||!(ze===null||ze===void 0||!ze.open))&&(!Pd.get()||
yV.vvq));y.N1c=mV(()=>Od.N1c);__c.Vzf(ub,()=>yV.ltq);const {Mz:Vf,kFp:ad}=tEs({clc:k,Bc:ba,sc:ra,viewport:Xa,Ma:Aa,ifc:Od,o$b:y,aFa:ub,lr:D,h0a:G,G7b:U,hp:oa,selection:ob,fh:hc,Lo:db,Lw:Ic,pla:Uf,timing:qa,qA:ne,$Ta:rd,errorService:q.wf("audio_timeline"),ka:Qb,lma:zc,Lk:Ac,t1b:je,mBl:mV(()=>vd.BU),Gus:()=>{var xe;const kh=((xe=wf.current)===null||xe===void 0?void 0:xe.yVs)||0;oa.scrollTop<kh&&oa.scrollTo({behavior:"smooth",top:kh-z.uQc})},Zrg:p,kvg:m});Qa.kc(()=>Aa.mode===40,(xe,kh)=>xe.timeline=
kh?{r7:()=>{Vf.mode!=="max"||Vf.mode!=="max"||Vf.Gzb.vOm||(Vf.store.RGh="min",Vf.a5.stop());ze===null||ze===void 0||ze.wZn()}}:void 0);const {vge:od,cbf:Yc}=ZHs({o$b:y,$sg:f,G7b:U,ei:Pd,timing:qa,QM:Ob,xw:Ic,qA:ne,$Ta:rd,fG:vd,Pfq:mV(()=>ub.xQj),Vdg:g,P_h:yV.P_h}),{Vhj:De}=kGs({o$b:y,xw:Ic,fG:vd,hp:oa,R1j:mV(()=>ub.M3i.get())}),wg=PIs(),Sf=ne&&rd&&eGs({V:dg,m1a:r,Ia:Ja,u3d:Nd,ei:Pd,n_c:wg,pla:Uf,Mz:Vf,qA:ne,$Ta:rd,Lw:Ic,fG:vd,hp:oa,timing:qa,n8p:mV(()=>ub.M3i.get())});Sf&&(Od.CYl=Sf.Sgp);e&&WFs({lr:D,
fh:hc});const af=rd&&ne?OHs({xh:kc,fh:hc,Wj:Qa,Bd:Tc,selection:ob,document:Ja,my:la,lr:D,Lw:Ic,timing:qa,vd:Ya,V:dg,$Ta:rd,qA:ne,Mz:Vf,ei:Pd,Ma:Aa,Dc:Ea}):void 0;da&&EHs({u2e:da,my:la,Cf:M,viewport:Xa,document:Ja,xh:kc});const Zf=mV(()=>!ye&&Ub()),{ivh:Mh,Vje:bg}=QIs({QM:Ob,config:ub,Df:$b,IP:ka});vHs({Ia:Ja,viewport:Xa,Qf:Jc,vd:Ya,Pa:ya,Zb:za,eb:ca,FM:M,sc:ra,zl:sa,h1a:se,Icg:ha,hp:oa,oga:de,yyc:td,my:la,og:ob,t1b:je,Jmh:qa,Mz:Vf,ifc:Od,xw:Ic,qA:ne,fG:vd,lBl:dg,d2g:A,Lpb:Pb,QM:Ob,Gzb:ub,Oid:ib,pla:Uf,
Lk:Ac,ei:Pd,fSf:md,HGd:Ec,gWa:b,jE:Nc,onContextMenu:ud,fh:hc,ivh:Mh,Vje:bg});dIs({timing:qa,ifc:Od,Gzb:ub,document:Ja,viewport:Xa,ei:Pd});const kk=()=>{ja.FGd()},al=eV(()=>{const xe=parseInt("28px",10);return ub.rme?cV(ub.rme,{jGa:xe,dek:kh=>Ic.gRa(kh,{withTrim:!0,dub:!1}),bEg:(kh,wh)=>Ic.axb(kh,wh,{withTrim:!0,dub:!1}),Qus:kk}):null}),Gi=()=>{const {top:xe,rowHeight:kh}={top:z.uQc+z.YEc+(z.YEc>0?Xc:0),rowHeight:z.ZRf.height};oa.scrollTo({top:xe+kh/2-z.wKd/2})},om=eV(xe=>{iV(()=>{Od.N1c&&requestAnimationFrame(Gi)},
[]);iV(()=>{let wh;const fh=dV(()=>qa.Xt,Kj=>{wh!=null&&(wh(),wh=void 0);Kj&&(wh=RIs(Uf))},{fireImmediately:!0});return()=>{fh();wh===null||wh===void 0||wh()}},[]);const kh=SIs(oa,Ob.z8l,Ob.B8l);return kV(rV,{children:[cV(TIs,{...xe,n_c:wg,ref:wf,Df:$b,store:Ob,vc:Na,Mz:Vf,ifc:Od,xw:Ic,qA:ne,$Ta:rd,fG:vd,Vhj:De,hp:oa,Trh:Ke,u9s:Tf.Qq,BLs:kh,FEm:Zf,gWa:b,timing:qa,rme:al}),cV(Bc,{})]})}),{DXo:Ag}=yEs({Dc:Ea,keyboardShortcuts:Fa,document:Ja,viewport:Xa,eb:ca,N:A,V:dg});!yV.Aeq&&bIs({xw:Ic,fG:vd,lXj:l,
Dc:Ea,keyboardShortcuts:Fa,D9:Ab,Td:wa,Wj:Qa,ei:Pd});Ab.FZa.install("document_duration",{Rd:()=>(Xa.uh||Xa.uF)&&!(B===null||B===void 0?0:B.isActive),Component:eV(function(){const xe=Ob.Cg.length===1?Ob.Mo+1:void 0;return cV(Ag,{currentTime:Math.floor(((rd===null||rd===void 0?void 0:rd.UG)||0)/1E6),totalTime:(qa.Xt?Ya.ub(Xa.jh.ja):Ya.Dwb(Ja))/1E6,uf:Ob.OD,Uoa:xe,fHs:Qa.hq==="scroll"||vd.AJ})})});const Zi={get active(){return vd.isActive},get zoom(){return vd.BU},get YN(){return vd.AJ||!Ic.sfb?"fixed":
void 0},set YN(xe){vd.PHd(xe==="fixed")},Gz(xe){vd.Gz(xe)},setActive:xe=>{vd.ZAb(xe)},VYb:()=>{vd.VYb({N3g:"playhead_or_center"})},U0:xe=>{vd.U0(xe)},mgc:vd.min,$xc:vd.max},Xl=CEs({ifc:Od,o$b:y,eda:z,onDragStart:()=>{Ic.Tbo(!0)},onDragEnd:()=>{Ic.Tbo(!1)},N:A,V:dg}),$i={LYe:Ee,xw:Ic,eab:ja,fG:vd,qA:ne,$Ta:rd,AVs:(xe,kh,wh)=>{if(xe.data.type==="audio"&&xe.positions)return oEs(Ic,wh,xe.positions.Rx.x),ad(xe)},Thj:om,vge:od,cbf:Yc,jYi:Xl,ifc:Od,K2e:af,FEm:Zf,mYi:Uf};dV(()=>Qa.hq==="thumbnail"&&!vd.AJ,
xe=>{Jb.timeline=xe?Zi:void 0},{fireImmediately:!0});dV(()=>vd.AJ&&ub.hKq,()=>{vd.PHd(!1)},{fireImmediately:!1});ne&&(dV(()=>z.iBl,()=>ne.stop()),ub.DVs=()=>{ne.FG();ne.stop()},dV(()=>(D.xma==="fade_in"||D.xma==="fade_out")&&!!D.pye,xe=>xe&&ne.pause()));ne&&Jc&&sc&&gGs({Lw:Ic,qA:ne,Qf:Jc,uz:sc});return $i};
YIs=function({selection:a,pga:b}){const c=new VIs(a,b),d=RHs({onClick:c.MZf,playState:b}),e=eV(()=>cV(WIs,{sda:c.sda,rba:c.rba,uV:c.uV,wa:b.wa,currentTime:b.UG/1E6,totalTime:b.G5e/1E6}));a=eV(()=>cV(XIs,{MUi:c.MUi,Qpp:d,Olp:e}));return{Fcs:c,nhp:a}};__c.$Is=function(a,{action:b,kb:c,nb:d,$ee:e,o4e:f}){Yo({nb:d,P:a.N,event:ZIs,props:{ia:"",action:b,kb:c,$ee:e.toString(),o4e:f?f.toString():""}})};
cJs=function({document:a,yi:b,Kab:c,viewport:d}){const e=new aJs(a,b,d);a=eV(()=>cV(bJs,{Vq:e.Vq,hGa:e.hGa,onNext:e.rVm,TRe:e.uVm}));c.gaf=a};
eJs=function(a){switch(a.type){case "line":case "rect":case "text":return!1;case "embed":const b=a.url;return dJs.some(c=>b.startsWith(c));case "group":case "chart":case "table":case "controlled":case "layout":return!0;case "grid":return a.cells.size>1;case "shape":return a.paths.reduce((c,d)=>c+(d.fill.dropTarget?1:0),0)>1;case "sheet":return __c.bf("PublishingPresenter",!1);default:throw new v(a);}};
hJs=function({region:a,L6r:b,oh:c,Qm:d,ZZg:e,YZg:f,XZg:g,VZr:h,UZr:k,TZr:l}){const m=xV(()=>a.transform(Gj(b)),[a,b]),p=xV(()=>new __c.ed([new __c.fd({Ss:x=>Sk(c,y=>{h(d().transformPoint(new sj(x.Ti,x.Rj)),y)}),PH:x=>k(d().transformPoint(new sj(x.Ti,x.Rj))),Fx:()=>l()})]),[c,d,l,k,h]),[q,r]=nV(void 0),t=gV((x,y)=>{r(x);e(x,new sj(y.clientX,y.clientY),y.shiftKey)},[e]),u=gV(x=>f(d().transformPoint(new sj(x.clientX,x.clientY))),[d,f]),w=gV(()=>{r(void 0);g()},[g]);return kV(fJs,{className:"VsAudw",
box:m,children:[cV("div",{ref:p.Qq,className:"_3DzJMg"}),cV(gJs,{handle:"top-left",isActive:q==="top-left",className:"GW55Og",x_b:-45,onDragStart:t,qe:u,onDragEnd:w}),cV(gJs,{handle:"top-right",isActive:q==="top-right",className:"HdZiQQ",x_b:45,onDragStart:t,qe:u,onDragEnd:w}),cV(gJs,{handle:"bottom-left",isActive:q==="bottom-left",className:"DSLsKQ",x_b:-135,onDragStart:t,qe:u,onDragEnd:w}),cV(gJs,{handle:"bottom-right",isActive:q==="bottom-right",className:"NbZpbw",x_b:135,onDragStart:t,qe:u,onDragEnd:w})]})};
gJs=function({handle:a,isActive:b,className:c,x_b:d,onDragStart:e,qe:f,onDragEnd:g}){const h=xV(()=>mV(()=>__c.dy(new __c.J9g(d))),[d]),k=xV(()=>new ar({onDragStart:l=>e(a,l),qe:f,onDragEnd:g,cHa:h}),[h,a,g,f,e]);return cV("div",{className:AV("aZSx8w",wb.pd&&"nS73hw",b&&"_9JheGg",h.get(),c),onMouseDown:k.onMouseDown,onTouchStart:k.onTouchStart,role:"button","aria-label":L("OD+MQQ"),children:cV("div",{"aria-hidden":"true",className:"_0h_AEw",dangerouslySetInnerHTML:{__html:iJs}})})};
fJs=function({box:a,className:b,style:c={},...d}){const {top:e,left:f,width:g,height:h,rotation:k}=a.Lb();return cV("div",{...d,className:AV("aGkcFA",b),style:{width:g,height:h,transform:`translate(${f}px, ${e}px) rotate(${k}deg)`,...c}})};lJs=function(a){return new jJs(()=>__webpack_require__.me(268367).then(()=>__c.kJs).then(fV(({ibr:b})=>b(a))))};
mJs=function(a,{zSf:b,qZe:c,rEa:d,DVg:e,uGd:f}){b*=c;if(d||e||a.canvas.H3a==="space-between")return b;const {width:g,height:h}=ug(4,f),{x:k,y:l}=Gj(f.zoom).transform(g,h);return Math.min(d?k:l,b)};nJs=function(a,b,c,d,e,f){const g=f?d.left:d.top;return d.mMg?-((g-e)*d.zoom)*(a.hj?-1:1):a.getPosition(b,c,f)+g};pJs=function(a,b){a.T8b.r5e(b);a.N.track(oJs,{kb:b,previous:a.store.enabled?"hidden":"shown",value:a.store.enabled?"shown":"hidden",Op:0,Mr:0,Ly:0})};
rJs=function(a,b,c){if(a.viewport.ya!==b)return{width:0,height:0,units:c.units,top:0,left:0,zoom:a.viewport.zoom.scale,mMg:!0};b=qJs(a,b);b=a.viewport.XB().transform(b);return{width:b.width,height:b.height,units:c.units,top:b.tl.y,left:b.tl.x,zoom:a.viewport.zoom.scale,mMg:!0}};qJs=function(a,b){var c=a.viewport.cQ(b);b=a.viewport.XB().center();c=new sj(a.viewport.Tu.x*c*(a.hj?-1:1),a.viewport.Tu.y*c);return Fj(-b.x,-b.y).then(Gj(1/a.viewport.zoom.scale)).then(Fj(c.x,c.y))};
sJs=function(a,b){return a.hj?({width:a}=ug(4,b.dimensions||a.document.dimensions),Fj(-a,0)):Ej()};tJs=function(a){const b=a.view.freeze.vJa;b!=null&&(a.view.freeze.vJa=void 0,a.layout.wF.delete(b))};uJs=function(a){const b=a.view.freeze.fza;b!=null&&(a.view.freeze.fza=void 0,a.layout.nG.delete(b))};
xJs=function(a,b){const c=a.V.sb("freeze_clicked",{Fb:{name:"editor.editing.tabulating.freezing"}});switch(b.type){case "row":const f=b.sheet,g=b.Xyl;for(var d of f.layout.cols){var e=f.layout.cells.get(g,d);({Te:e}=e?e.span:{Te:g});if(e!==g){const l=`${f.LJ(g)+1}`,m=Sm(f.YJ(d)),p=a.alert.wq(()=>cV(vJs,{Kc:p,xgg:`${m}:${l}`}));c===null||c===void 0||c.ue();return}}tJs(f);d=a.Pb.Pna.generate();f.view.freeze.vJa=d;f.layout.wF.create(d,g);c===null||c===void 0||c.nb().tk(({Hi:l})=>{a.P.track(__c.bbh,{action:"frozen",
type:"row",S8c:f.LJ(g)+1,kvc:{jt:f.layout.rows.count(),oK:f.layout.cols.count()},kb:"click",location:"context_menu",Qb:l()})});c===null||c===void 0||c.ue();break;case "column":const h=b.sheet,k=b.Oyl;for(e of h.layout.rows)if(d=h.layout.cells.get(e,k),{Ve:d}=d?d.span:{Ve:k},d!==k){const l=`${h.LJ(e)+1}`,m=Sm(h.YJ(k)),p=a.alert.wq(()=>cV(wJs,{Kc:p,xgg:`${m}:${l}`}));c===null||c===void 0||c.ue();return}uJs(h);d=a.Pb.Pna.generate();h.view.freeze.fza=d;h.layout.nG.create(d,k);c===null||c===void 0||c.nb().tk(({Hi:l})=>
{a.P.track(__c.bbh,{action:"frozen",type:"column",S8c:h.YJ(k)+1,kvc:{jt:h.layout.rows.count(),oK:h.layout.cols.count()},kb:"click",location:"context_menu",Qb:l()})});c===null||c===void 0||c.ue();break;default:throw new v(b);}};yJs=function(a){const b=a.sheet;switch(a.type){case "row":tJs(b);break;case "column":uJs(b);break;default:throw new v(a);}};AJs=function(a,b,c,d){if(b.xd(c)+c.height>d.Zz.height){const e=a.alert.wq(()=>cV(zJs,{Kc:e}))}};
CJs=function(a,b,c,d){if(b.Gd(c)+c.width>d.Zz.width){const e=a.alert.wq(()=>cV(BJs,{Kc:e}))}};DJs=function(a){na(a.type==="row","Must be a row Freezable");return`${a.sheet.LJ(a.Xyl)+1}`};EJs=function(a){na(a.type==="column","Must be a column Freezable");return Sm(a.sheet.YJ(a.Oyl))};
FJs=function(a,b,c,d,e,f){if(b.size>=1&&c.size===0){if(f=b.map(g=>g),f=f[f.length-1],!(e&&a.layout.rows.Wi(f,e)<=0))return[{type:"row",sheet:a,Xyl:f}]}else if(c.size>=1&&b.size===0){if(e=c.map(g=>g),e=e[e.length-1],!(f&&a.layout.cols.Wi(e,f)<=0))return[{type:"column",sheet:a,Oyl:e}]}else if(d.size>=1)return b=d.map(g=>g),c=b[b.length-1],b=c.row,c=c.column,d=[],e&&a.layout.rows.Wi(b,e)<=0||d.push({type:"row",sheet:a,Xyl:b}),f&&a.layout.cols.Wi(c,f)<=0||d.push({type:"column",sheet:a,Oyl:c}),d;return[]};
GJs=function(a,b,c){const d=[];b&&d.push({type:"row",sheet:a});c&&d.push({type:"column",sheet:a});return d};
KJs=function(a){const b=a.Ma,c=a.selection,d=a.uc,e=a.viewport,f=a.ed,g=a.P,h=a.alert,k=a.fh,l=a.Pb;a=a.Ga.Vd("editor.editing.tabulating.freezing");const m=new __c.tu,p=new HJs(c,d,e,f,b),q=new IJs(l,m,g,a,h);dV(()=>{var r;return((r=p.pZa)===null||r===void 0?0:r.sheet)?p.O3c(p.pZa.sheet):void 0},r=>{const t=p.pZa;t!=null&&r!=null&&AJs(q,t.sheet,r,t.fz)});dV(()=>{var r;return((r=p.pZa)===null||r===void 0?0:r.sheet)?p.N3c(p.pZa.sheet):void 0},r=>{const t=p.pZa;t!=null&&r!=null&&CJs(q,t.sheet,r,t.fz)});
k.kc(()=>b.mode===40&&(p.Uzg&&p.Uzg.length>0||p.Tph&&p.Tph.length>0),(r,t)=>{r.Y$i=t?{Button:eV(u=>cV(u.hl,{...u,label:L("4PewAQ"),Icon:JJs}))}:void 0});k.kc(()=>b.mode===40&&p.w1n,(r,t)=>{r.x5f=t?{Button:eV(u=>{const w=gV(()=>{oV(()=>xJs(q,t))},[]);return cV(u.hl,{...u,label:J("9f/slg",[DJs(t)]),onClick:w})})}:void 0});k.kc(()=>b.mode===40&&p.Dim,(r,t)=>{r.w5f=t?{Button:eV(u=>{const w=gV(()=>{oV(()=>xJs(q,t))},[]);return cV(u.hl,{...u,label:J("YzDnVw",[EJs(t)]),onClick:w})})}:void 0});k.kc(()=>b.mode===
40&&p.D1n,(r,t)=>{r.P8f=t?{Button:eV(u=>{const w=gV(()=>{oV(()=>yJs(t))},[]);return cV(u.hl,{...u,label:L("UfZC+Q"),onClick:w})})}:void 0});k.kc(()=>b.mode===40&&p.Fim,(r,t)=>{r.O8f=t?{Button:eV(u=>{const w=gV(()=>{oV(()=>yJs(t))},[]);return cV(u.hl,{...u,label:L("ODcpjQ"),onClick:w})})}:void 0})};
NJs=function(a){const b=a.Ma,c=a.alert,d=a.Si,e=a.fh,f=new LJs(a.selection,a.uc,d),g=new MJs(d,c);e.kc(()=>b.mode===40&&f.hqn,(h,k)=>{h.k6f=k?{Button:eV(l=>cV(l.hl,{...l,Icon:__c.Srg,label:L("gFelzw"),onClick:()=>g.mergeCells(k)}))}:void 0});e.kc(()=>b.mode===40&&f.rCo,(h,k)=>{h.Q8f=k?{Button:eV(l=>cV(l.hl,{...l,Icon:__c.Trg,label:L("maahjw"),onClick:()=>g.Egd(k)}))}:void 0});return{jqn:f}};
OJs=function(a){let b;switch(a.type){case "row":switch(a.direction){case "up":a=J("+dxZxg",[a.content.rows.length]);b=__c.FB;break;case "down":a=J("/cSxfw",[a.content.rows.length]);b=__c.Vt;break;default:throw new v(a);}break;case "column":switch(a.direction){case "left":a=J("JDPjyQ",[a.content.columns.length]);b=__c.tr;break;case "right":a=J("966Bew",[a.content.columns.length]);b=__c.ur;break;default:throw new v(a);}break;default:throw new v(a);}return{label:a,icon:b}};
PJs=function(a,b,c,d){if(d!=null){if(b.size>=1&&c.size===0){b=b.map(g=>g);c=a.rows.previous(b[0]);var e=a.rows.next(b[b.length-1]),f=c&&d.Tmd(a,b,c,"before");d=e&&d.Tmd(a,b,e,"after");return[f?{type:"row",direction:"up",content:{sheet:a,rows:b,target:c}}:null,d?{type:"row",direction:"down",content:{sheet:a,rows:b,target:e}}:null].filter(vb)}if(c.size>=1&&b.size===0)return b=c.map(g=>g),c=a.cols.previous(b[0]),e=a.cols.next(b[b.length-1]),f=c&&d.Rmd(a,b,c,a.direction==="rtl"?"after":"before"),d=e&&
d.Rmd(a,b,e,a.direction==="rtl"?"before":"after"),[f?{type:"column",direction:"left",content:{sheet:a,columns:b,target:c}}:null,d?{type:"column",direction:"right",content:{sheet:a,columns:b,target:e}}:null].filter(vb)}};
SJs=function(a){const b=a.Ma,c=a.selection,d=a.uc,e=a.Si,f=a.fh;a=a.Ga.Vd("editor.editing.tabulating.moving");const g=new QJs(c,d,e),h=new RJs(e,a);f.kc(()=>b.mode===40&&g.Frn,(k,l)=>{k.EVc=l?{Button:eV(m=>{const {label:p,icon:q}=OJs(l);return cV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.eSk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.Ern,(k,l)=>{k.DVc=l?{Button:eV(m=>{const {label:p,icon:q}=OJs(l);return cV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.eSk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.Brn,(k,l)=>
{k.CVc=l?{Button:eV(m=>{const {label:p,icon:q}=OJs(l);return cV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.dSk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.Crn,(k,l)=>{k.BVc=l?{Button:eV(m=>{const {label:p,icon:q}=OJs(l);return cV(m.hl,{...m,label:p,Icon:q,onClick:()=>h.dSk(l)})})}:void 0});return{Npi:g}};
TJs=function(a,b,c){if(c==null)return{type:5};const d=c.type;switch(d){case "number":return{type:0,value:c.value};case "boolean":return{type:2,value:c.value};case "plaintext":return{type:1,value:c.value.toString()};case "media":return{type:5};case "mention":return{type:1,value:c.value.map(f=>f.text).join(" ")};case "embed":return{type:1,value:c.value.map(f=>f.embed.text).join(" ")};case "text2":return{type:1,value:c.value.Ya};case "text3":const e=[];c.value.forEach({Ya:f=>e.push(f),item:()=>{throw Error();
},Al:()=>{}});return{type:1,value:e.join("")};case "formula":switch(c=a.$ja.evaluate(b,c.value),c.type){case 0:return{type:0,value:c.value};case 2:return{type:1,value:c.value.toString()};case 1:return{type:2,value:c.value};case 3:return{type:4};case 15:return{type:5};case 4:return{type:3};case 16:return TJs(a,b,c.value.m0b);default:throw new v(c);}default:throw new v(d);}};
WJs=function(a,b,c,d,e){const f=[],g=[];for(var h=c.Yb;h!=null&&b.rows.Wi(h,c.Te)<=0;h=b.rows.next(h))g.push(h);for(h=c.$b;h!=null&&b.cols.Wi(h,c.Ve)<=0;h=b.cols.next(h))f.push(h);if(g.length===0||f.length===0)return{type:"success"};for(var k of g){var l;c=f[0];if((((l=b.layout.cells.get(k,c))===null||l===void 0?void 0:l.span)||{Yb:k,$b:c}).$b!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"};c=f[f.length-1];h=b.layout.cells.get(k,c);if(h!=null&&h.span.Ve!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"}}let m=
[];const p=new __c.CB;l=new __c.CB;for(const z of g){var q;k=b.layout.cells.get(z,d);k=TJs(a,b,k===null||k===void 0?void 0:(q=k.ref)===null||q===void 0?void 0:q.content.ref);c=[];for(const A of f){var r;if((h=b.layout.cells.get(z,A))&&h.span.Yb!==h.span.Te){l.add([h.span.Yb,h.span.$b]);continue}p.add([z,A]);if(h&&(h.span.Yb!==z||h.span.$b!==A))continue;const B=b.layout.attrs.get(He.zs,z,A)||{},D={};we(He,B,"all",(G,I)=>{UJs[I]||(D[I]=G)});c.push({qb:{content:(h===null||h===void 0?0:h.ref.content.ref)?
a.Dod(h.ref.content.ref):void 0,Bb:(h===null||h===void 0?0:(r=h.ref)===null||r===void 0?0:r.Bb.ref)?__c.CNc.snapshot(h.ref.Bb.ref):void 0,Gj:(h===null||h===void 0?void 0:h.ref.Gj)||[]},attrs:D,span:(h===null||h===void 0?void 0:h.span)||{Yb:z,$b:A,Te:z,Ve:A}})}m.push({...k,P3r:{column:d,row:z},XOp:c})}if(l.size>0)return{type:"error",error:"CONTAINS_VERTICALLY_MERGED_CELL",qVa:l.map(([z,A])=>({row:z,column:A}))};const t=e==="asc"?1:-1;m.sort((z,A)=>VJs[z.type]<VJs[A.type]?-1*t:VJs[z.type]>VJs[A.type]?
1*t:z.type===1&&A.type===1?a.Jn.compare(z.value,A.value,{numeric:!0})*t:z.type===0&&A.type===0?z.value===A.value?0:z.value>A.value?1*t:-1*t:z.type===2&&A.type===2?z.value===A.value?0:z.value?1*t:-1*t:0);d=m.filter(z=>z.type!==5);e=m.filter(z=>z.type===5);m=d.concat(e);const u=new Map,w=[],x=new Map;wz(a.Tc,z=>{for(let N=0;N<g.length;N++){const M=g[N];for(const W of f){var A=b.layout.cells.get(M,W);(!A||A.span.Yb===M&&A.span.$b===W)&&A&&A.span.$b!==A.span.Ve&&a.Si.Egd(b,{column:W,row:M})}const {XOp:O,
P3r:U}=m[N];for(const W of O){var B;A=W.qb;var D=W.attrs,G=W.span,I=G.$b;if(G.$b!==G.Ve){var K=[];for(const da of Dk(G.$b,G.Ve,b.layout.cols))K.push({column:da,row:M});w.push(K)}if((G=b.layout.cells.get(M,I))&&(G.span.Yb!==M||G.span.$b!==I))continue;K=A.content;const X={column:I,row:U.row};G={column:I,row:M};let Z={};I=b.layout.attrs.get(He.zs,M,I)||{};we(He,I,"all",(da,ka)=>{Z[ka]=UJs[ka]?da:void 0});Z={...Z,...D};z.setAttributes(b,G,Z);D=a.DNb.aTc(A.Bb?__c.CNc.create(A.Bb):void 0);((B=A.content)===
null||B===void 0?void 0:B.type)==="formula"?(I=a.zBc(b,X,G))?(D=__c.L5q(a.xB,b,A.content.value),D=a.Naa.JQd(b,D,I),u.set(G,D)):(z.WAb(b,G,K),z.Z_(b,G,D)):(z.WAb(b,G,K),z.Z_(b,G,D));x.set(G,[...A.Gj])}}},{H0b:z=>p.has([z.row,z.column])});wz(a.Tc,z=>{for(const [A,B]of u.entries())z.K$(b,A,__c.lhe(B.uka))});for(var y of w)a.Si.mergeCells(b,y);for(const [z,A]of x.entries())(y=b.layout.cells.get(z.row,z.column))&&y.span.$b===y.span.Ve&&y.span.Yb===y.span.Te&&(A.length>0||y.ref.Gj.length>0)&&(y.ref.Gj=
A);return{type:"success"}};
ZJs=function(a,b,c){if(c!=null)switch(c.type){case "success":break;case "error":switch(c.error){case "CONTAINS_VERTICALLY_MERGED_CELL":var d;const f=c.qVa;if(f.length===0)return;if(f.length>1){const m=a.alert.wq(()=>cV(XJs,{Kc:m}));return}const {row:g,column:h}=c.qVa[0];var e;c=(e=(d=b.layout.cells.get(g,h))===null||d===void 0?void 0:d.span)!==null&&e!==void 0?e:{Yb:g,$b:h,Te:g,Ve:h};d=`${b.LJ(c.Yb)+1}`;let k=`${Sm(b.YJ(c.$b))}${d}`;c.Yb!==c.Te&&(d=`${b.LJ(c.Te)+1}`,b=Sm(b.YJ(c.Ve)),k+=`:${b}${d}`);
const l=a.alert.wq(()=>cV(YJs,{Kc:l,xgg:k}));break;case "MERGED_CELL_OUTSIDE_RANGE":break;default:throw new v(c);}break;default:throw new v(c);}};
$Js=function(a,b){switch(b.type){case 4:var c=b.cells;const d=b.rows,e=b.columns;return{type:"sheet",sheet:b.container.sheet.config,fz:new qA(b.container.container.Dw(b.container.sheet),a.ed,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case 1:if(((c=b.only)===null||c===void 0?void 0:c.type)==="sheet"&&(b.container.type==="body"||b.container.type==="responsive-page")){c=b.only.config.layout.rows;const f=b.only.config.layout.cols;return{type:"sheet",sheet:b.only.config,fz:new qA(b.container.Dw(b.only),
a.ed,a.viewport),rows:c.map(g=>g),cols:f.map(g=>g),cells:c.flatMap(g=>f.map(h=>({row:g,column:h})))}}break;case 0:if(b.container.type!=="sheet-item-cell-richtext")break;return{type:"sheet",sheet:b.container.container.sheet,fz:new qA(b.container.container.container.container.Dw(b.container.container.container.sheet),a.ed,a.viewport),rows:[],cols:[],cells:[{column:b.container.container.column,row:b.container.container.row}]};case 2:case 3:case 5:break;default:throw new v(b);}};
aKs=function(a,b){var c;const d=a.tne;if(d==null)return"default";var e=(c=a.Si.bwa(d.sheet))===null||c===void 0?void 0:c.range;if(e==null)return"default";c=d.sheet;if(!c.layout.rows.has(e.Yb)||!c.layout.rows.has(e.Te))return"default";let f;var g;for(const h of Dk((g=c.layout.rows.next(e.Yb))!==null&&g!==void 0?g:e.Yb,e.Te,c.layout.rows))if(e=c.layout.cells.get(h,b),e!=null&&e.span.Yb===h&&e.span.$b===b){a:if(e=a.vya.getContent(c,e.span.Yb,e.span.$b),e==null)e="default";else switch(e=e.fD,e.type){case 1:e=
"number";break a;case 2:e="date";break a;case 3:case 4:case 0:case 9:case 6:case 7:case 8:e="default";break a;default:throw new v(e);}if(f&&e!==f){f="default";break}f=e}return f!==null&&f!==void 0?f:"default"};
dKs=function(a,b){const c=b.container;if(!b.elements.some(d=>a.uc.Nq({element:d,container:c}))){if(!b.inner)return bKs(a,b);switch(b.inner.type){case "sheet":return cKs(a,b.inner);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(b.inner);}}};
eKs=function(a,b){if(b.inner&&!Ul(a.uc,b.container.ub(b.inner.page)))switch(b.inner.type){case "sheet":const c=b.inner.cells,d=b.inner.rows,e=b.inner.columns;return{type:"sheet",sheet:b.inner.page.sheet,fz:new oA(b.container.ub(b.inner.page),a.viewport,a.Ma),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case "background":case "pages":case "sheet-cell-media":break;default:throw new v(b.inner);}};
bKs=function(a,b){var c;if(((c=b.Ud)===null||c===void 0?void 0:c.type)==="sheet"){c=b.Ud.config.layout.rows;var d=b.Ud.config.layout.cols;return{type:"sheet",sheet:b.Ud.config,fz:new nA(b.container.Tf(b.Ud),a.viewport),cells:c.flatMap(e=>d.map(f=>({row:e,column:f}))),rows:c.toArray(),cols:d.toArray()}}};cKs=function(a,b){const c=b.cells,d=b.rows,e=b.columns;return{type:"sheet",sheet:b.sheet.config,fz:new nA(b.container,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)}};
fKs=function(a){if(!a)return"#000000";const b=Yh(a);return Fi(["#000000","#ffffff"],c=>__c.pj(c,b))};
mKs=function(a){const b=a.Ma,c=a.Jn,d=a.selection,e=a.canvas,f=a.uc,g=a.viewport,h=a.ed,k=a.fh,l=a.Bd,m=a.alert,p=a.P,q=a.Tc,r=a.DNb,t=a.Si,u=a.vya,w=a.$ja,x=a.xB,y=a.Naa;a=a.Ga.Vd("editor.editing.tabulating.sorting");const z=new gKs(new hKs(c,w,x,y,q,r,t),t,m,p,a),A=eV(({column:K})=>{var N,M;const O=B.tne,U=O?(N=t.bwa(O.sheet))===null||N===void 0?void 0:N.range:void 0;N=gV(()=>{U&&O&&oV(()=>{z.iTi({type:"sheet",sheet:O.sheet,mbg:K,range:U},{e1j:!0});B.zCf=K})},[K,U,O]);const W=gV(()=>{U&&O&&oV(()=>
{z.jTi({type:"sheet",sheet:O.sheet,mbg:K,range:U},{e1j:!0});B.zCf=K})},[K,U,O]),X=gV(()=>aKs(B,K),[K]),Z=gV((ka,la)=>{oV(()=>z.fkl(B,ka,la))},[]);if(U!=null){var da=O===null||O===void 0?void 0:(M=O.sheet.layout.attrs.get(He.zs,U.Yb,K))===null||M===void 0?void 0:M.m_;return cV(iKs,{hii:B.zCf===K,bgColor:da,nKq:B.zCf===K,pRq:X,cDh:B.cDh,fkl:Z,ZLr:N,eMr:W})}}),B=new jKs(d,f,g,h,b,t,u),D=new kKs(B,t);e.kc(()=>b.mode===40,(K,N)=>{K.Ag.Cua=N?eV(M=>{const O=B.tne;if(O!=null){var U=D.$Wf;if(U!=null)return cV(lKs,
{$Wf:U,fz:O.fz,I_a:A,page:M.page.page})}}):void 0});e.kc(K=>K===40,(K,N)=>{K.vn.NL.Cua=N?eV(()=>{const M=B.tne;if(M!=null){var O=D.$Wf;if(O!=null)return cV(lKs,{$Wf:O,fz:M.fz,I_a:A,page:void 0})}}):void 0});k.kc(()=>b.mode===40?B.ste:void 0,(K,N)=>{K.J7f=N?{Button:eV(M=>{const O=gV(()=>oV(()=>{z.JYi(B,{h1m:!0})}),[]);return cV(M.hl,{...M,label:L("5vDH2g"),Icon:__c.Car,onClick:O})})}:void 0});const G=mV(()=>B.ste!=null&&t.bwa(B.ste.sheet)!=null),I={Rd:()=>b.mode===40?B.ste!=null:!1,Button:eV(K=>{const N=
K.onClick,M=gV(()=>oV(()=>{N===null||N===void 0||N();z.JYi(B,{h1m:!0})}),[N]);return cV(K.Ci,{...K,onClick:M,Ah:"icon",selected:G.get(),icon:__c.Car,tooltip:L("5vDH2g"),$Ba:L("5vDH2g")})})};l.plugins.Cua=()=>I};oKs=function(a,b,c){c&&(a.IXi=Nb());a.N.track(nKs,{source:b,Ghr:c,IXi:a.IXi})};qKs=function(a,{yri:b,Ghi:c,xri:d,Dri:e,Cri:f,Ari:g,Bri:h,GAf:k,$Hi:l},m){Yo({nb:m,P:a.N,event:pKs,props:{yri:b,Ghi:c,xri:d,Dri:e,Cri:f,Ari:g,Bri:h,GAf:k,$Hi:l}})};
rKs=function(a){const b={text:new Set,shape:new Set,table:new Set,line:new Set,"responsive-table-text":new Set,"responsive-layout-text":new Set,"responsive-text":new Set,"responsive-inline-item":new Set};a.filter(c=>c.type==="richtext2"||c.type==="richtext3").forEach(({item:c})=>b[c.type].add(c.Nc));return{DAl:b.text.size+b["responsive-text"].size,t8t:b["responsive-inline-item"].size,zyl:b.table.size+b["responsive-table-text"].size,Hnl:b.shape.size,Jfh:a.filter(c=>c.type==="sheet-cell").length}};
sKs=function(a,b,c,d){b=b.map(e=>({index:e,length:c}));a.W$a(b,d)};uKs=function(a,b,c,d){if(!b.length)return a;b=[...b].sort((k,l)=>k-l);tKs(a.length,b,c);let e=0,f="";const g=k=>{f+=k;e+=k.length};let h;for(;(h=b.shift())!=null;)g(a.slice(e,e+(h-e))),f+=d,e+=a.slice(e,e+c).length;g(a.slice(e,e+(a.length-e)));pa(e===a.length);return f};
vKs=function(a,b,c,d){if(!b.length)return a;a=Kg.qub(a);pa(!d.includes("\n"));b=[...b].sort((m,p)=>m-p);tKs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=Kg.md(),h={...be,Ya:(m,p)=>{g.attrs(p);g.Wb(m);e+=m.length}},k={...be,Ya:(m,p)=>{pa(!m.includes("\n"));g.attrs(p);e+=m.length}};let l;for(;(l=b.shift())!=null;)f.gt(l-e,h),f.gt(1,k),g.Wb(d),f.gt(c-1,k);f.gt(a.length-e,h);f.finish();return g.build()};
wKs=function(a,b,c,d){if(!b.length)return a;a=Xk.qub(a);pa(!d.includes("\n"));b=[...b].sort((m,p)=>m-p);tKs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=Xk.md(),h={item:(m,p)=>{g.attrs(p);g.item(m);e+=1},Ya:(m,p)=>{g.attrs(p);g.Wb(m);e+=m.length}},k={item:(m,p)=>{g.attrs(p);pa(m.display!==1);e+=1},Ya:(m,p)=>{pa(!m.includes("\n"));g.attrs(p);e+=m.length}};let l;for(;(l=b.shift())!=null;)f.gt(l-e,h),f.gt(1,k),g.Wb(d),f.gt(c-1,k);f.gt(a.length-e,h);f.finish();return g.build()};
tKs=function(a,b,c){const d=[...b].sort((e,f)=>e-f);na(c>0);na(d.slice(0,-1).every((e,f)=>e+c<=d[f+1]));na(d[0]>=0);na(d[d.length-1]+c<=a)};xKs=function(a,b){switch(b.type){case "formula":case "media":case "mention":case "embed":break;case "boolean":case "number":case "plaintext":return(c,d,e,f)=>{d=uKs(a.Ssc,d,e,f);c.HFa(a.sheet,{row:a.container.row,column:a.container.column},d,{mQe:"merge",ZPe:!1})};default:throw new v(b);}};yKs=function(a){return a.type==="sheet-cell"&&a.item.AYa.type==="responsive-page"};
zKs=function(a){return a.type==="sheet-cell"&&a.item.AYa.type==="fixed-page"};AKs=function(a){let b;return(...c)=>{b==null&&(b=new Map,setTimeout(()=>b=void 0,0));const d=c[0];let e=b.get(d);if(e!=null)return e;e=a(...c);b.set(d,e);return e}};BKs=function(a){if(a.container.type==="fixed-page")return __c.$Va(a.ja);var b=a.container.ja;b=Gj(b.width/b.gb).then(Yj(Qj(b)));return Qj(a.ja).transform(b).Lb()};CKs=function(a){const b=Yj(a.$za());a=Yj(Qj(a.el.ja));return b.then(a)};
FKs=function(a){return new DKs(new EKs(a.OEd,a.viewport),{Hrm:100})};GKs=function(a,b){return a==null||b==null?!1:a.type==="sheet-cell"?b.type==="sheet-cell"&&a.item.equals(b.item):b.type==="sheet-cell"?!1:a.item.Nc===b.item.Nc&&a.startIndex===b.startIndex};HKs=function(a){if(a.q$d!=null){var b=a.q$d.match;a.q$d=void 0;var c=a.now();a.Nlg={match:b,fzq:c+a.Emh(b)};a.Csn.navigateTo(b);a.setTimeout(()=>{var d;GKs((d=a.Nlg)===null||d===void 0?void 0:d.match,b)&&(a.Nlg=void 0)},a.Emh(b))}};
IKs=function(a){var b=a.store;const c=a.matches;if(c.length===0)return b.O3h=void 0,0;var d=a.now();d=b.O3h==null||d-b.O3h.CCf>1E4?{CCf:d,Pe:a.viewport.jh}:{Pe:b.O3h.Pe,CCf:d};b.O3h=d;a=a.document.pages.flatMap(g=>{switch(g.type){case "fixed":return[g];case "concatenated-fixed":return g.pages.toArray();case "responsive":return[g];default:throw new v(g);}});a=new Map(a.map((g,h)=>{na(g.id!=null);return[g.id,h]}));d=a.get(n(d.Pe.ja.id));if(d==null)return 0;let e;b=!1;for(let g=0;g<c.length;g++){var f=
c[g];yKs(f)?(na(f.item.AYa.type==="responsive-page"),f=n(f.item.AYa.ja.id)):f.type==="richtext3"?(f=__c.xf(f.container),na(f.type==="responsive-page"),f=n(f.ja.id)):f=n(f.item.type==="sheet-cell"?f.item.AYa.ja.id:f.item.page.ja.id);f=a.get(f);if(!(f==null||f<d-1))if(f===d-1)b||(e=g,b=!0);else if(f===d){e=g;break}else if(f>=d+1){e==null&&(e=g);break}}return e!==null&&e!==void 0?e:0};KKs=function(a,b){var c;const d=(c=a.store.Ax)!==null&&c!==void 0?c:0;a.Myg(b);a.hy.N.track(JKs,{Lmi:a.DIa,Hmn:d,Imn:b})};
LKs=function(a,b,c,d){switch(b.type){case "text":var e=BKs(b.el);e={x:e.left,y:e.top};break;case "table":e=CKs(b).transformPoint({x:0,y:0});break;case "shape":e=BKs(b.el);b=b.el.ja.$c.first().box;e={x:e.left+b.left,y:e.top+b.top};break;case "line":e=BKs(b.el);b=new __c.Ln(a.te,b.el.ja);b=n(b.textBox);e={x:e.left+b.tl.x,y:e.top+b.tl.y};break;case "sheet-cell":e=Uj(0,[b.ugg]).tl;break;default:throw new v(b);}return e.y*c+(d?c-e.x:e.x)};
MKs=function(a){let b=0;return a.Ya.slice(0,-1).split("\n").map(c=>{const d=a.wJ(b)["text-transform"];b+=c.length+1;switch(d){case "uppercase":return c.toUpperCase();case "lowercase":return c.toLowerCase();case "capitalize":return c;case "none":case void 0:return c;default:throw new v(d);}}).join("\n")+"\n"};
NKs=function(a,b,c){if(a.length===b.length)return a;a=[...a];const d=[];for(;a.length;){if(!b.length)throw Error("More CharacterItems than grapheme clusters");var e=n(a.shift());const f=b.shift();if(e.character===f)d.push(e);else{let g=e.character;for(e=[e];g!==f;){const h=n(a.shift());g+=h.character;e.push(h)}d.push(c(e,g))}}return d};
OKs=function(a,b){if(b.every(f=>f.length===1))return a;let c,d,e=0;for(let f=0;f<b.length;f++){const g=e+b[f].length;a.from>=e&&a.from<g&&(c=f);if(a.to>=e&&a.to<=g){d=f;break}e=g}return{from:n(c),to:n(d)+1}};PKs=function(a,b,c=gm(b)){b=Array.from(b).map((e,f)=>({box:a.get(f),character:e}));c=NKs(b,c,(e,f)=>{e=e.map(g=>g.box).filter(vb);return{character:f,box:e.length?Uj(e[0].rotation,e):void 0}});const d=new Map;c.forEach((e,f)=>{e.box&&d.set(f,e.box)});return d};
VKs=function({item:a,oPp:b,eAp:c}){var d=a.Nc.Ya;if(!(b.to-b.from<=0)){var e=gm(d);b=OKs(b,e);var f=QKs(e,c,b);if(f!=null&&f.length!==0){var g=NKs([...d].map((q,r)=>({character:q,indices:new Set([r])})),e,(q,r)=>{const t=new Set;for(const {indices:u}of q)for(const w of u)u.add(w);return{character:r,indices:t}});if(f.length!==b.to-b.from)throw Error("number of character boxes should be equal to the grapheme slice range length");d=[];e=[];for(let q=b.from,r=0;q<b.to;q++,r++){const t=a.Nc.wJ([...g[q].indices][0]),
u=f[r];if(u!=null){d.push(u);var h;e.push((h=t.direction)!==null&&h!==void 0?h:"ltr")}var k;var l=(k=t["font-size"])!==null&&k!==void 0?k:l}if(d.length!==0&&(h=new RKs,k=new SKs(h),h=a.p3d?k.Gif(d,a,e):h.Gif(d,a.writingMode,e))){switch(a.type){case "text":var m,p;k={width:(m=a.el.ja.gb)!==null&&m!==void 0?m:a.el.ja.width,height:(p=a.el.ja.Ub)!==null&&p!==void 0?p:a.el.ja.height};break;case "table":m=a.$za();k={width:m.width,height:m.height};break;case "shape":m=a.el.ja.$c.first();k={width:m.box.width,
height:m.box.height};break;case "line":m=a.el.ja.$c.first();k={width:m.width,height:m.height};break;default:throw new v(a);}return{path:h,transform:TKs(a,()=>Uj(0,[...c.values()]).height),viewBoxSize:k,fontSize:UKs(l!==null&&l!==void 0?l:Fe.Ff["font-size"],a.el)}}}}};UKs=function(a,b){const c=b.ja;b=b.container;b=b.type==="fixed-page"?void 0:b.ja;return a*(c.type==="shape"||c.type==="line"?c.width:c.gb?c.width/c.gb:1)*(b?b.width/b.gb:1)};
TKs=function(a,b){switch(a.type){case "text":b=a.el.ja;var c=a.el.container,d=c.type==="fixed-page"?void 0:c.ja;c=b.gb?b.width/b.gb:1;a=d?d.width/d.gb:1;b=Yj(Qj(b));d=d?Yj(Qj(d)):Ej();return Gj(c).then(b).then(Gj(a)).then(d);case "table":c=a.qb.ja;b=b();d=a.$za().height;var e=Ej();c.Yi===2?e=Fj(0,d/2-b/2):c.Yi===3&&(e=Fj(0,d-b));return e.then(CKs(a));case "shape":c=a.el.ja;a=a.el.container;e=a.type==="fixed-page"?void 0:a.ja;a=Yj(Qj(c));d=e?e.width/e.gb:1;e=e?Yj(Qj(e)):Ej();const f=c.$c.first(),g=
f.box,h=c.width/g.width;let k=Ej();f.Yi===2?k=Fj(0,c.height/2-b()/2):f.Yi===1?k=Fj(0,g.top*h):f.Yi===3&&(k=Fj(0,c.height-b()-g.top*h));return k.then(Fj(g.left*h,0)).then(a).then(Gj(d)).then(e);case "line":return b=a.el.container,b=(c=b.type==="fixed-page"?void 0:b.ja)?c.width/c.gb:1,a=Yj(Qj(a.el.ja)),c=c?Yj(Qj(c)):Ej(),Gj(b).then(a).then(c);default:throw new v(a);}};QKs=function(a,b,c){const d=[];for(let e=c.from;e<c.to;e++){const f=b.get(e);if(f==null&&!WKs.has(a[e]))return;d.push(f)}return d};
YKs=function(a,b,c){const d=[[a[0]]];for(let e=1;e<a.length;e++){const f=d[d.length-1],g=a[e],h=XKs(g,b),k=XKs(f[f.length-1],b),l=c[e]==="ltr";c[e]!==c[e-1]||l&&h<k||!l&&h>k?d.push([g]):f.push(g)}return d.map(e=>Uj(0,e))};ZKs=function(a){return __c.le(a.map(b=>[new __c.Pk(0,b.tl),new Qk(0,b.Fn),new Qk(0,b.br),new Qk(0,b.tr),new __c.An(0)]).flat())};XKs=function(a,b){return b===1?a.tl.x:a.tl.y};
$Ks=function(a,b,c){const d=(g,h)=>{g=vj(g,h);return g.y/g.x},e=__c.Bj(.5,zj(a,b));a=-1/d(a,b);const f=__c.Bj(.5,zj(b,c));b=-1/d(b,c);if(!Number.isFinite(a)||!Number.isFinite(b)){if(Number.isFinite(a)&&Number.isFinite(b))throw Error("points are on a straight line");throw Error("two points are not unique");}b=(b*f.x-a*e.x+e.y-f.y)/(b-a);return{x:b,y:a*(b-e.x)+e.y}};aLs=function(a,b){return Math.atan2(a.y-b.y,a.x-b.x)};
cLs=function(a,b){let c=0;var d=bLs(aLs(a[0].c,b)*180/qj);for(let e=1;e<a.length;e++){const f=bLs(aLs(a[e].c,b)*180/qj),g=Math.min(f,d);d=Math.max(f,d);c+=Math.abs(Math.min(d-g,g+360-d));d=f}return c};bLs=function(a){a=SVa(a);return a<0?360-Math.abs(a):a};dLs=function(a){var b,c;if(a=(c=a.Vk)===null||c===void 0?void 0:(b=c.Lc)===null||b===void 0?void 0:b.first(d=>d.type==="curved"))return Number(a.parameters.get("curvature"))};
fLs=function(a,b,c,d){var e=(c<0?360+c:c)%360;if(e%90<.01)return Math.abs(e-0)<.01?b:Math.abs(e-180)<.01?Rj({center:b.c,width:b.width,height:b.height,rotation:e}):Rj({center:b.c,width:b.height,height:b.width,rotation:e});var f=e-90;f=a.bNf((f<0?360+f:f)%360);a=a.bNf(e);if(Math.abs(e%45)<.01&&Math.abs(b.width-b.height)<.1)if(d===null||d===void 0?0:d.lHm)f=d.lHm(),e=rj(45+e%45),e={width:Math.abs((b.height-Math.sin(e)*f)/Math.cos(e)),height:f};else if(d===null||d===void 0?0:d.mHm)f=d.mHm(),e=rj(45+e%
45),e={width:f,height:Math.abs((b.width-Math.sin(e)*f)/Math.cos(e))};else throw Error("expected a sizeHint");else{d=b.width/2;const g=b.height/2;e=Math.abs(Math.floor(e/90))%2===1?{width:Math.abs(eLs(f,a,g,d)),height:Math.abs(eLs(f,a,d,g))}:{width:Math.abs(eLs(f,a,-g,d)),height:Math.abs(eLs(f,a,-d,g))}}return Rj({center:b.c,width:e.width,height:e.height,rotation:c})};eLs=function(a,b,c,d){const e=b.y;b=-b.x;return(-b*d/e+c)/(-b*a.y/e+a.x)*2};
gLs=function(a,b){return NKs(a,b,(c,d)=>{const e=Uj(0,c.map(f=>f.boundingBox));return{character:d,boundingBox:e,X0j:c[0].X0j}})};hLs=function(a,b){b.innerHTML="";a.forEach(({V0q:c,focused:d})=>{const e=window.document.createElementNS("http://www.w3.org/2000/svg","svg");Object.assign(e.style,{position:"absolute",top:0,left:0,overflow:"visible"});const f=c.viewBoxSize;e.setAttribute("viewBox",`0 0 ${f.width} ${f.height}`);e.innerHTML=`<path fill="${d?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)"}"
    d="${c.path}"></path>`;b.appendChild(e)})};kLs=function({canvas:a,Aba:b,store:c,L:d,viewport:e,Wgh:f,errorService:g}){iLs({Aba:b,store:c,L:d,viewport:e,Wgh:f,errorService:g});const h=eV(({page:{page:k},Sc:{scale:l}})=>cV(jLs,{matches:d.Mmi.filter(m=>zKs(m)).filter(m=>m.item.AYa.ja===k),scale:l}));a.kc(()=>f.get(),(k,l)=>{k.Ag.$af=l?h:void 0})};
lLs=function(a){a=[...a].sort((d,e)=>d-e);const b=[];let c=[a[0]];for(let d=1,e,f;d<a.length;d++)e=a[d],f=c[c.length-1],f===e-1?c[1]=e:(b.push(c),c=[e]);b.push(c);return b};qLs=function({store:a,document:b,q1b:c,undo:d,errorService:e,hy:f,V:g,la:h,Tc:k}){return new mLs(a,c,b,void 0,d,e,f,g,nLs(h),oLs({Tc:k}),pLs({Rcc:c,Tc:k}))};
rLs=function({Zc:a,Mi:b}){return({item:c,X7c:d,uMb:e,BZ:f})=>{sKs(c.Nc,d,e,f);switch(c.type){case "text":d=c.el.ja;c=c.el.container;c.type==="fixed-page"?a.hY(c,d):a.n3(c.container,c.ja,[d]);break;case "table":c=c.el.ja;d=__c.Zn(b,c.cells.values());a.XZb(c,d);d.destroy();break;case "shape":d=c.el.ja;c=c.el.container;c.type==="fixed-page"?a.kia(d):a.n3(c.container,c.ja,[d]);break;case "line":d=c.el.ja;c=c.el.container;(e=d.$c.first())&&e.text.charLength<=1&&d.$c.delete(e);c.type==="fixed-page"?a.CMb(d):
a.n3(c.container,c.ja,[d]);break;default:throw new v(c);}}};
sLs=function({V$k:a,Tc:b}){return({match:c,uMb:d,BZ:e})=>{if(c.type==="richtext3"||yKs(c))if(c.type==="sheet-cell"){const f=c.item,g=c.X7c;b===null||b===void 0||wz(b,h=>{var k;return(k=f.replace)===null||k===void 0?void 0:k.call(f,h,g,d,e)})}else pa(c.item.type!=="responsive-inline-item"),c.item.replace(e);else if(c.type==="sheet-cell"){const f=c.item,g=c.X7c;b===null||b===void 0||wz(b,h=>{var k;return(k=f.replace)===null||k===void 0?void 0:k.call(f,h,g,d,e)})}else a({item:c.item,X7c:[c.startIndex],
uMb:d,BZ:e})}};
tLs=function({V$k:a,Tc:b,Rcc:c}){return({matches:d,uMb:e,BZ:f})=>{pa(d.length>0);const g=d.filter(l=>l.type==="richtext2"),h=d.filter(l=>zKs(l));[...__c.mj(g,({item:l})=>l.Nc).values()].forEach(l=>a({item:l[0].item,X7c:l.map(m=>m.startIndex),uMb:e,BZ:f}));h.length>0&&(b===null||b===void 0||wz(b,l=>{for(const p of h){var m;const q=p.item,r=p.X7c;(m=q.replace)===null||m===void 0||m.call(q,l,r,e,f)}}));c.replaceAll(f);const k=d.filter(l=>yKs(l));k.length>0&&(b===null||b===void 0||wz(b,l=>{for(const p of k){var m;
const q=p.item,r=p.X7c;(m=q.replace)===null||m===void 0||m.call(q,l,r,e,f)}}))}};oLs=function({Tc:a}){return({match:b,uMb:c,BZ:d})=>{if(b.type==="sheet-cell"){const e=b.item,f=b.X7c;a===null||a===void 0||wz(a,g=>{var h;return(h=e.replace)===null||h===void 0?void 0:h.call(e,g,f,c,d)})}else pa(b.item.type!=="responsive-inline-item"),b.item.replace(d)}};
pLs=function({Rcc:a,Tc:b}){return({matches:c,uMb:d,BZ:e})=>{a.replaceAll(e);const f=c.filter(g=>g.type==="sheet-cell");f.length>0&&(b===null||b===void 0||wz(b,g=>{for(const k of f){var h;const l=k.item,m=k.X7c;(h=l.replace)===null||h===void 0||h.call(l,g,m,d,e)}}))}};nLs=function(a){return b=>{switch(b.type){case "replace-all":b=b.Hnh===1?L("tjFCqA"):J("8IJfUQ",[b.Hnh]);break;case "replace-some":b=J("KysOJA",[b.Hnh,b.Hnh-b.Vxo,b.Vxo]);break;default:throw new v(b);}a.Hb({BV:!1,Cb:b})}};
vLs=function(a,b,c){const d=[];for(const f of b.xzj)switch(f.type){case "indices":d.push({...f,sSf:b,Fpk:void 0,AYa:c});break;case "inline-item-indices":d.push({...f,type:"indices",sSf:b,Fpk:f.item,AYa:c});break;case "table-item":var e=f.container.ja;for(const h of uLs(e))(e=a.v6g.$nb(h.content.text))&&d.push(...vLs(a,e,c));break;case "layout-item":const g=f.container.ja;e=__c.aXd(g).map(h=>n(g.cells.get(h)));for(const h of e)(e=a.v6g.$nb(h.text))&&d.push(...vLs(a,e,c));break;case "sheet-cell":d.push(f);
break;default:throw new v(f);}return d};
xLs=function(a){const b=[];if(a.type==="sheet-cell")return b.push(a),b;for(const e of a.indices){var c,d;const f=h=>a.sSf.replace(e,h);let g;g=a.Fpk?{type:"responsive-inline-item",Ja:"responsive",item:a.Fpk,replace:void 0,Nc:a.sSf.gLi}:((c=a.container)===null||c===void 0?void 0:c.type)==="table-item-cell"?{type:"responsive-table-text",Ja:"responsive",item:a.container.table,replace:f,Nc:a.sSf.gLi}:((d=a.container)===null||d===void 0?void 0:d.type)==="layout-item-cell"?{type:"responsive-layout-text",
Ja:"responsive",item:a.container.layout,replace:f,Nc:a.sSf.gLi}:{type:"responsive-text",Ja:"responsive",item:wLs,replace:f,Nc:a.sSf.gLi};b.push({type:"richtext3",startIndex:e,length:g.type==="responsive-inline-item"?1:void 0,container:a.container,item:g,AYa:a.AYa})}return b};yLs=function(a,b){return!a.CRf.S8g&&Object.entries(b).some(([c,d])=>__c.Re(c)&&d==="add")};
uLs=function(a){const b=[...a.layout.columns];a.layout.direction===2&&b.reverse();const c=new Set;for(const e of a.layout.rows)for(const f of b){var d=e.kp.get(f.id);(d=d&&a.cells.get(d))&&c.add(d)}return[...c]};
ALs=function({store:a,canvas:b,viewport:c,FHq:d,Rcc:e}){const f=eV(g=>{let h=[];g.page.type==="responsive-page"&&(c.uF||c.uh)&&d?h=d.hEk(g.page):g.page.type==="body"&&c.uF&&(h=e.SNe);return kV(rV,{children:[cV(zLs,{matches:h.filter(k=>k.type==="richtext3")}),cV(jLs,{matches:h.filter(k=>k.type==="sheet-cell"),scale:b.vn.zoom})]})});b.kc(()=>a.isMounted,(g,h)=>{g.vn.NL.pAh=h?f:void 0})};
DLs=function({store:a,L:b,cwr:c,errorService:d,Qc:e,Tej:f,Xbj:g}){const h=u=>b.WC(u),k=()=>b.Q6j(),l=()=>b.U6j(),m=eV(()=>{const u=b.DIa,w=u>1,x=a.Ax,y=xV(()=>{if(u!==0)return x!=null?x+1:"?"},[u,x]);return cV(BLs,{gvs:y,hIr:b.DIa,search:a.query,IAs:h,A9h:k,fVq:l,tad:!w,krc:!w})}),p=mV(()=>b.DIa>0&&a.isMounted),q=eV(()=>{iV(()=>{e();b.Qc();c.Qc();return()=>{b.gi();c.gi()}},[]);const u=b.Ghh?g===null||g===void 0?void 0:g.get():void 0;return kV(rV,{children:[cV(m,{}),b.Ghh&&f&&cV(f,{}),u&&cV(u,{})]})}),
r=u=>d.error(u),t=DV(()=>cV(__c.cu,{cv:r,children:cV(q,{})}));return{Form:eV(({mode:u,onClose:w,source:x})=>{iV(()=>{b.VDl(x,!0);return()=>b.VDl(x,!1)},[x]);return cV(CLs,{a8i:t,onClose:w,mode:u,title:b.Ghh?L("TP6Mzw"):L("+MHgZQ")})}),Wgh:p}};
ILs=function({store:a,L:b,locale:c,ka:d}){const e=(l,m)=>b.qco(m),f=ELs.includes(c)?void 0:eV(()=>cV(FLs,{checked:a.CXb,onChange:e})),g=l=>b.jeo(l),h=()=>b.oYn(),k=()=>b.replaceAll();c=eV(()=>cV(GLs,{replace:a.replaceWith,mYa:h,Ewi:k,yAs:g,Idp:d.layout===1?f:void 0,wns:b.mYn,sns:b.jYn}));return{Xbj:mV(()=>{const l=b.xjn;if(l!=null)return DV(()=>cV(HLs,{state:l,XRg:a.query}))}),Tej:c}};
JLs=function({L:a,IYe:b,o7r:c,viewport:d}){var e=()=>a.iOb();const f={BN:mV(()=>a.BN),Elb:mV(()=>a.Elb),uld:mV(()=>a.uld),Gdd:mV(()=>a.Gdd),Hee:mV(()=>a.Hee),kob:k=>a.kob(k),oxi:k=>{a.cG(c.wTc,k);a.$gb(a.ya,k)},y9c:k=>a.$gb(a.ya,k),H9c:e,Poe:()=>a.Poe(d.ya),rFn:()=>oV(()=>a.uld=!a.uld),sFn:k=>{a.cG(c.wTc,k.type);var l;a.uld&&a.Poe((l=a.ya)===null||l===void 0?void 0:l.page);a.$gb(a.ya,k.type)}};e={BN:mV(()=>b.BN),Elb:mV(()=>b.Elb),uld:mV(()=>!1),Gdd:mV(()=>!1),Hee:mV(()=>b.Hee),kob:()=>!1,oxi:k=>b.cG(c.D6e,
k),y9c:k=>{b.$gb(k)},H9c:e,Poe:()=>{},rFn:()=>{},sFn:k=>{b.cG(c.D6e,k.type);b.$gb(k.type)}};const g={BN:mV(()=>a.BN),directions:mV(()=>a.directions),origins:mV(()=>a.origins),ra:mV(()=>a.ra),I8a:()=>{var k;return a.I8a((k=a.ya)===null||k===void 0?void 0:k.page)},dBb:k=>a.zgo(c.wTc,k),$bc:k=>a.$bc(a.ya,k),ccc:k=>a.ccc(a.ya,k),$gb:k=>a.$gb(a.ya,k),iOb:()=>a.iOb()},h={BN:mV(()=>b.BN),directions:mV(()=>b.directions),origins:mV(()=>b.origins),ra:mV(()=>b.ra),I8a:()=>b.I8a(b.Oqa),dBb:k=>b.ygo(c.D6e,k),
$bc:k=>b.$bc(b.Oqa,k),ccc:k=>b.ccc(b.Oqa,k),$gb:k=>b.$gb(k),iOb:()=>a.iOb()};return{laq:f,wVs:e,kBs:g,xVs:h}};TLs=function(a){switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "chop":return KLs;case "color-wipe":return LLs;case "cross-dissolve":return MLs;case "flow":return NLs;case "match":return OLs;case "slide":return PLs;case "stack":return QLs;case "wipe-circle":return RLs;case "wipe-line":return SLs;default:throw new v(a);}};
ZLs=function(a){switch(a){case "chop":return[{name:"clockwise",label:L("7OUI9Q"),icon:ULs,value:1},{name:"anticlockwise",label:L("tDA4Pg"),icon:VLs,value:2}];case "color-wipe":return[{name:"left",label:L("jukJIg"),icon:wr,value:2},{name:"right",label:L("ON4niA"),icon:St,value:4},{name:"up",label:L("lIXrbw"),icon:KC,value:1},{name:"down",label:L("Nbt2Wg"),icon:j6g,value:3},{name:"up_left",label:L("xA+43A"),icon:WLs,value:5},{name:"up_right",label:L("wDxSNg"),icon:__c.I7g,value:6},{name:"down_right",
label:L("S6doUg"),icon:XLs,value:8},{name:"down_left",label:L("cU2POw"),icon:YLs,value:7}];case "flow":return[{name:"left",label:L("jukJIg"),icon:wr,value:2},{name:"right",label:L("ON4niA"),icon:St,value:4},{name:"up",label:L("lIXrbw"),icon:KC,value:1},{name:"down",label:L("Nbt2Wg"),icon:j6g,value:3}];case "slide":return[{name:"left",label:L("jukJIg"),icon:wr,value:2},{name:"right",label:L("ON4niA"),icon:St,value:4},{name:"up",label:L("lIXrbw"),icon:KC,value:1},{name:"down",label:L("Nbt2Wg"),icon:j6g,
value:3}];case "stack":return[{name:"left",label:L("jukJIg"),icon:wr,value:2},{name:"right",label:L("ON4niA"),icon:St,value:4},{name:"up",label:L("lIXrbw"),icon:KC,value:1},{name:"down",label:L("Nbt2Wg"),icon:j6g,value:3}];case "wipe-circle":return[{name:"inwards",label:L("iovCXw"),value:1},{name:"outwards",label:L("xSSSwg"),value:2}];case "wipe-line":return[{name:"left",label:L("jukJIg"),icon:wr,value:2},{name:"right",label:L("ON4niA"),icon:St,value:4},{name:"up",label:L("lIXrbw"),icon:KC,value:1},
{name:"down",label:L("Nbt2Wg"),icon:j6g,value:3}];case "cross-dissolve":case "match":case void 0:break;default:throw new v(a);}};dMs=function(a){switch(a){case "chop":return[{name:"topleft",label:L("6+a4Pg"),icon:$Ls,value:1},{name:"topright",label:L("Q0GM2g"),icon:aMs,value:2},{name:"bottomleft",label:L("h9zn0Q"),icon:bMs,value:3},{name:"bottomright",label:L("PIvAww"),icon:cMs,value:4}]}};
fMs=function(a,b){if(a.Ia.pages.has(b)){var c,d=(c=a.Ia.pages.next(b,e=>!e.draft))!==null&&c!==void 0?c:a.Ia.pages.next(b);if(d&&eMs(a,b,d))return a.yi.ub(d)}};eMs=function(a,b,c){var d;if(d=a.CRa(b)&&c.type==="fixed"&&a.CRa(c))b=jk(b,a.Ia.dimensions),a=jk(c,a.Ia.dimensions),d=b.width===a.width&&b.height===a.height&&b.units===a.units;return d};gMs=function(a,b,c){a=n(a.Uq.get().find(d=>d.type===b));return Math.min(c,a.Wea)};
iMs=function({type:a,durationUs:b,Mod:c,options:d}){switch(a){case "chop":var e,f;return{type:"chop",durationUs:b,origin:(e=d===null||d===void 0?void 0:d.origin)!==null&&e!==void 0?e:3,direction:(f=d===null||d===void 0?void 0:d.direction)!==null&&f!==void 0?f:1};case "color-wipe":var g,h,k;return{type:"color-wipe",durationUs:b,ra:(h=(g=d===null||d===void 0?void 0:d.ra)!==null&&g!==void 0?g:c(4))!==null&&h!==void 0?h:hMs,direction:(k=d===null||d===void 0?void 0:d.direction)!==null&&k!==void 0?k:2};
case "cross-dissolve":return{type:"cross-dissolve",durationUs:b};case "flow":var l;return{type:"flow",durationUs:b,direction:(l=d===null||d===void 0?void 0:d.direction)!==null&&l!==void 0?l:2};case "match":return{type:"match",durationUs:b};case "slide":var m;return{type:"slide",durationUs:b,direction:(m=d===null||d===void 0?void 0:d.direction)!==null&&m!==void 0?m:2};case "stack":var p;return{type:"stack",durationUs:b,direction:(p=d===null||d===void 0?void 0:d.direction)!==null&&p!==void 0?p:3};case "wipe-circle":var q;
return{type:"wipe-circle",durationUs:b,direction:(q=d===null||d===void 0?void 0:d.direction)!==null&&q!==void 0?q:1};case "wipe-line":var r;return{type:"wipe-line",durationUs:b,direction:(r=d===null||d===void 0?void 0:d.direction)!==null&&r!==void 0?r:2};default:throw new v(a);}};kMs=function(a,b,c,d,e=!1){a.P.track(jMs,{M_f:c===null||c===void 0?void 0:c.type,uds:d===null||d===void 0?void 0:d.type,yd:a.Dud(b),Ddq:e})};
lMs=function(a){switch(a.type){case "chop":return{type:a.type,direction:a.direction,origin:a.origin};case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return{type:a.type,direction:a.direction};case "color-wipe":return{type:a.type,direction:a.direction,ra:a.ra};case "cross-dissolve":case "match":break;default:throw new v(a);}};
oMs=function(a,b){if(b&&b.Ki())switch(b.type){case "audio":break;case "elements":if(b.inner)switch(b.inner.type){case "sheet-cell-media":const d=b.inner.container;return new mMs(b.inner.media.map(g=>pos(a.controller,d.xsa(g).TK(g.fill))).filter(vb));case "sheet":const e=b.inner.container;var c=nMs(b.inner.sheet.config,b.inner.cells);return c.length===0?void 0:new mMs(c.map(({media:g,location:h})=>pos(a.controller,e.RX(h.column,h.row).xsa(g).TK(g.fill))).filter(vb));case "grid":return oos(a.controller,
b.inner.container);case "group":const f=b.inner.container;return new mMs(b.inner.mb.map(g=>oos(a.controller,f.Tf(g))).filter(vb));case "layout":case "layout-cell":return oos(a.controller,b.container.Tf(b.inner.layout));case "shape":return oos(a.controller,b.container.Tf(b.inner.shape));case "table":return oos(a.controller,b.inner.container);default:throw new v(b.inner);}return new mMs((b.Bg?[b.Bg]:b.elements).map(d=>oos(a.controller,b.container.Tf(d))).filter(vb));case "pages":switch((c=b.inner)===
null||c===void 0?void 0:c.type){case "background":return b.inner.container.type!=="fixed-page"?void 0:pos(a.controller,b.inner.container.TK(b.inner.background));case "sheet-cell-media":const d=b.inner.container;return new mMs(b.inner.media.map(f=>pos(a.controller,d.xsa(f).TK(f.fill))).filter(vb));case "sheet":const e=b.inner.container;c=nMs(b.inner.page.sheet,b.inner.cells);return c.length===0?void 0:new mMs(c.map(({media:f,location:g})=>pos(a.controller,e.RX(g.column,g.row).xsa(f).TK(f.fill))).filter(vb));
case "pages":case void 0:return;default:throw new v(b.inner);}default:throw new v(b);}};nMs=function(a,b){const c=[];for(const e of b){var d;b=a.layout.cells.get(e.row,e.column);(b===null||b===void 0?void 0:(d=b.ref.content.ref)===null||d===void 0?void 0:d.type)==="media"&&b.ref.content.ref.value.forEach(f=>c.push({media:f,location:e}))}return c};
sMs=function(a){const b=a.Pc,c=a.Dc,d=a.qa,e=a.Gb,f=a.N,g=a.session,h=wV.box(void 0,{deep:!1}),k=fV(p=>{c.Gjd=p}),l=fV(()=>{c.Gjd=void 0}),m=fV(()=>{var p,q;(p=(q=e.Sd).Avr)===null||p===void 0||p.call(q);p=h.get();if(p==null||p.state==="rejected")p=AGs(pMs({...a,Pc:b,closeDialog:l})),h.set(p);return qMs(p).then(r=>k(r))});return{ome:eV(({source:p,render:q})=>{const r=h.get();return q({onClick:()=>{f.track(rMs,{ia:g.id,source:p});return m()},loading:r!=null&&r.state==="pending",disabled:d.status===
2&&r==null})}),open:m}};pMs=async function(a){const b=a.Pi,c=a.closeDialog,[{m6p:d},e]=await Promise.all([__webpack_require__.me(51530).then(()=>__c.tMs),b()]),f=d({...a,Gk:e});return()=>cV(__c.sr,{className:"mZjong",children:cV(f,{onClose:c})})};qMs=async function(a){return await a};uMs=H(()=>({data:Pa(1,__c.O6c),prompt:T(2),mu:F(3,__c.b7c)}));__c.hug.prototype.rih=fa(1018,function(a,b){return pns(this.ZQ,a,b)});
__c.hug.prototype.bwe=fa(1017,function(a){var b;const c=__c.qrg(a);let d=this.csv.parse(a,c);const e=d.length,f=((b=d[0])===null||b===void 0?void 0:b.length)||0;b=f>0&&d.every(h=>h.length===f);let g=!1;switch(c.field){case ",":g=e>=2&&f>=4;break;case ";":case "|":g=e>=2&&f>=2||f>=4;break;default:g=!0}b&&g||(d=a.split(c.row).map(h=>[h]));a=d.map(h=>h.map(k=>k.trim()));return ons(this.ZQ,a)});
__c.quf.prototype.cac=fa(966,function(a,b,c){a=sk.LP(a);if(c!==b&&a){a.grid.Tv.forEach(f=>{var g=n(f.gridColumnStart);g=parseInt(g,10)-1;if(g===b)f.gridColumnStart=(c+1).toString(),f.gridColumnEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridColumnStart=(g+1+h).toString();f.gridColumnEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateColumns],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateColumns=d}});
__c.ruf.prototype.cac=fa(965,function(a,b,c){var d;a=a!=null?__c.nuf(a):void 0;const {Woa:e,aac:f}=a!==null&&a!==void 0?a:{};if(c!==b&&e&&f){e.grid.Tv.forEach(h=>{var k=n(h.gridColumnStart);k=parseInt(k,10)-1;if(k===b)h.gridColumnStart=(c+1).toString(),h.gridColumnEnd=(c+2).toString();else if(k>=Math.min(c,b)&&k<=Math.max(c,b)){const l=b<c?-1:1;h.gridColumnStart=(k+1+l).toString();h.gridColumnEnd=(k+2+l).toString()}});a=e.grid.gridTemplateColumns;var g=[...a];g.splice(b,1);g.splice(c,0,a[b]);e.grid.gridTemplateColumns=
g;f.grid.Tv.forEach(h=>{var k=n(h.gridRowStart);k=parseInt(k,10)-1;if(k===b)h.gridRowStart=(c+1).toString(),h.gridRowEnd=(c+2).toString();else if(k>=Math.min(c,b)&&k<=Math.max(c,b)){const l=b<c?-1:1;h.gridRowStart=(k+1+l).toString();h.gridRowEnd=(k+2+l).toString()}});(d=this.P)===null||d===void 0||d.track(__c.fph,{action:"columns_reordered",oK:e.grid.gridTemplateColumns.length,jt:e.grid.gridTemplateRows.length})}});
__c.quf.prototype.ZFf=fa(964,function(a,b,c){a=sk.LP(a);if(c!==b&&a){a.grid.Tv.forEach(f=>{var g=n(f.gridRowStart);g=parseInt(g,10)-1;if(g===b)f.gridRowStart=(c+1).toString(),f.gridRowEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridRowStart=(g+1+h).toString();f.gridRowEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateRows],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateRows=d}});Ey.prototype.Gve=fa(875,function(a){return this.p$g.Gve(a)});
OWe.prototype.Gve=fa(874,function(a){__c.Pyf(a)});Ey.prototype.AAb=fa(873,function(){return this.p$g.AAb()});OWe.prototype.AAb=fa(872,function(){this.Xa.WP()});Ey.prototype.tng=fa(871,function(a,b){return this.p$g.tng(a,b)});OWe.prototype.tng=fa(870,function(a,b){this.Xa.Rv(b,a);this.AAb()});Ey.prototype.vgf=fa(869,function(a,b,c){return this.p$g.vgf(a,b,c)});OWe.prototype.vgf=fa(868,function(a,b){a=__c.puf(this.zwa,a,b);b=a!=null?mA(a):void 0;return a!=null?!!b&&b.PJc&&b.cog>1:!1});
Ey.prototype.eKh=fa(867,function(a,b){if(this.D7)return!1;const c=a.ja.pages;return!c.has(b)||Ul(this.uc,a.ub(b))?!1:c.count()-1>=1});OWe.prototype.eKh=fa(866,function(){return!1});Ey.prototype.eVd=fa(865,function(a,b,c,d){a=a.layout.cells.get(b,c);a=a===null||a===void 0?void 0:a.ref.content.ref;if((a===null||a===void 0?void 0:a.type)==="media")for(const e of d)a.value.delete(e)});
OWe.prototype.eVd=fa(864,function(a,b,c,d){a=a.layout.cells.get(b,c);a=a===null||a===void 0?void 0:a.ref.content.ref;if((a===null||a===void 0?void 0:a.type)==="media")for(const e of d)a.value.delete(e)});Ey.prototype.vNj=fa(863,function(a){for(const b of a)a=b.fill,a.image.ref?a.image.set(void 0):a.video.ref?a.video.set(void 0):a.gradient.ref?a.gradient.set(void 0):a.color&&(a.color=void 0)});
Ey.prototype.DNj=fa(862,function(a){let b=!1;for(const c of a)c.content.text.charLength>1&&(c.content.text.Yta("\n"),c.content.Kf={fi:[]},b=!0);return b});Ey.prototype.ihm=fa(861,function(a){let b=!1;for(const c of a)a=c.fill,a.image.ref?(a.image.set(void 0),b=!0):a.video.ref?(a.video.set(void 0),b=!0):a.gradient.ref?(a.gradient.set(void 0),b=!0):a.color&&(a.color=void 0,b=!0);return b});
Ey.prototype.jfg=fa(860,function(a){if(a.Oc.count()===1){const {image:b,video:c,gradient:d,color:e}=a.Oc.first();a=!!d.ref;return!!c.ref||!!b.ref||a||e!=null&&e!=="#ffffff"}return a.Oc.count()>1});OWe.prototype.jfg=fa(859,function(){return!1});
Ey.prototype.fNj=fa(858,function(a,b,c,d){for(const f of b)if(a.Oc.has(f)){var e;if(((e=this.timing)===null||e===void 0?0:e.Xt)||a.Oc.count()!==1)a.Oc.delete(f),d===null||d===void 0||d();else{if(f.image.ref)f.image.set(void 0);else if(f.video.ref)f.video.set(void 0);else if(f.gradient.ref!=null||f.color!=="#ffffff"||!c&&!f.color)f.gradient.set(void 0),f.color=c?"#ffffff":void 0;f.durationUs=void 0}}});Ey.prototype.JGi=fa(857,function(a,b){__c.MWe(this.Cng,a,b)});OWe.prototype.JGi=fa(856,function(){});
__c.Pqe.prototype.Uzc=fa(821,async function(a,b,c){if(a==="")return Promise.resolve(void 0);this.fu({message:"Add URL"});var d=this.Xa.state;if((d===null||d===void 0?void 0:d.type)==="RANGE"&&d.isCollapsed){var e=Nw.bUb(d.range);d=this.Xa.hlb(d.Nc,e);e=d.attributes.Hk.size===1?d.attributes.Hk.values().next().value:0;d=d.collapsed&&!(e&&e>0);({connect:e}=this.Xa.nAa(a,{...Ly,link:a}));const f=e();if(c==="link")return"link";if(d){const h=this.undo.startBuffering();return __c.One(this,a).then((0,__c.pw)(k=>
{const {Z0c:l,access:m}=__c.Pne(this,k);f.Nc&&(this.Xa.Ju(f.Nc,f),this.Xa.WP());this.Ll(l,b);return m})).catch(k=>{if(k instanceof __c.Nne)return"link";throw k;}).finally((0,__c.pw)(()=>{f.disconnect();h.stop()}))}const g=this.undo.startBuffering();return mns(this,a).then((0,__c.pw)(h=>{f.Nc&&(this.Xa.Ju(f.Nc,f),this.Xa.WP());this.zea(h,b);return"public"})).catch(h=>{if(h instanceof __c.Nne)return"link";throw h;}).finally((0,__c.pw)(()=>{f.disconnect();g.stop()}))}nns(this,a);return Promise.resolve("link")});
__c.Mqe.prototype.Uzc=fa(820,function(a,b,c){if(this.zpa().type==="responsive-page")return this.lk.Uzc(a,b,c);throw Error("Unimplemented");});__c.y0g.prototype.BNi=fa(817,function(a){var b,c;return __c.yie(this,{text:(c=(b=this.target.altText)===null||b===void 0?void 0:b.text)!==null&&c!==void 0?c:"",iz:a})});__c.vde.prototype.Cuk=fa(802,function(a,b){const c=this.jZk.get(a);return!!c&&c.mc(a,b)});
__c.IZd.prototype.Dgf=fa(761,function(a){if(a.width<this.minWidth||a.height<this.minHeight)return!1;const b=__c.ZNb(this.Zc,a,void 0,void 0,{gga:!0});return Math.abs(b.D3.width-a.width)<1E-10&&Math.abs(b.D3.height-a.height)<1E-10});__c.PNa.prototype.fck=fa(184,async function(){const a=__c.lh(__c.ih([__c.PTg,"insights","quota"])),[b,{A6o:c}]=await Promise.all([this.Da.get(a,{Ra:"getinsightsquota"}),__webpack_require__.me(415643).then(()=>({A6o:__c.vMs}))]);return c.deserialize(b)});
__c.PNa.prototype.eck=fa(183,async function(a){const b=__c.ih([__c.PTg,"insights"]);__c.gh(b,{id:n(a.id)});a=__c.lh(b);const [c,{B6o:d}]=await Promise.all([this.Da.get(a,{Ra:"getinsights"}),__webpack_require__.me(415643).then(()=>({B6o:__c.wMs}))]);return d.deserialize(c)});
__c.PNa.prototype.cIj=fa(182,async function(a){const b=__c.lh(__c.ih([__c.PTg,"insights"])),[c,{cUo:d}]=await Promise.all([this.Da.post(b,uMs.serialize(a),{Ra:"createinsights"}),__webpack_require__.me(415643).then(()=>({cUo:__c.xMs}))]);return d.deserialize(c)});
var bV=class{get k7l(){const a=[],b=[];for(const [c,d]of this.styles.entries())b.push(`${c}: ${d};`);b.length&&a.push(`style="${b.join(" ")}"`);for(const [c,d]of this.attributes.entries())a.push(`${c}="${d}"`);return`${a.length>0?" "+a.join(" "):""}`}static element(a,b){return new bV(a,b)}appendChild(a){this.children.push(a);return a}setContent(a){this.content=a}setAttribute(a,b){this.attributes.set(a,b)}getStyle(a){return this.styles.get(a)}setStyle(a,b){this.styles.set(a,b)}toString(){if(this.BVg)return`<${this.tagName}${this.k7l}>`;
n(!(this.children.length>0&&this.content.length>0));const a=this.children.length>0?this.children.map(b=>b.toString()).join(""):this.content;return`<${this.tagName}${this.k7l}>${a}</${this.tagName}>`}constructor(a,b){this.tagName=a;this.children=[];this.content="";this.styles=new Map;this.attributes=new Map;this.BVg=(b===null||b===void 0?void 0:b.BVg)||!1}},yMs={eventType:"editor_page_view_list_scrolled",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:
tf(a.Qb),location:a.location})}},LCs={eventType:"editor_page_navigator_resize_interacted",Oa(a){return rf({action:a.action,previous_page_navigator_height:a.I3k,current_page_navigator_height:a.PKj,num_current_layers:a.JLk,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}},ZIs={eventType:"editor_pagemanager_page_altered",Oa(a){return rf({doctype_id:a.Ca,document_id:a.ia,category_id:a.$a,action:a.action,control_context:a.kb,source_position:a.$ee,target_position:a.o4e,
performance_context:a.Qb==null?void 0:tf(a.Qb),editing_context:a.Ba==null?void 0:sf(a.Ba)})}},zMs=class{Eu(a,b,c={}){(0,__c.Eb)(()=>a(),d=>b(this.cAm,d),{fireImmediately:!0,...c})}kc(a){(0,__c.Fb)(()=>{a(this.cAm)})}constructor(a,b){this.Gzb=a;this.c6k=b;this.cAm={TLf:this.Gzb,AOf:this.c6k}}},AMs={eventType:"preview_buffered",Oa(a){return rf({analytics_correlation_id:a.Hf,editing_context:a.Ba==null?void 0:sf(a.Ba),buffering_phase:a.LKp,location:a.location,total_buffering_duration_ms:a.OXs,session_duration_ms:a.Jil})}},
EFs={eventType:"editor_element_timing_altered",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),action:a.action,element_types:a.gD,original_duration_ms:a.pYk,current_duration_ms:a.xKj,performance_context:a.Qb==null?void 0:tf(a.Qb)})}},FFs={eventType:"editor_alter_element_timing_view",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),action:a.action,performance_context:a.Qb==null?void 0:tf(a.Qb)})}},ZFs={eventType:"editor_timeline_interacted",Oa(a){return rf({editing_context:a.Ba==
null?void 0:sf(a.Ba),action:a.action,control_context:a.kb,performance_context:a.Qb==null?void 0:tf(a.Qb)})}},HCs={eventType:"editor_timeline_zoom",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),action:a.action,control_context:a.kb,current_zoom_level:a.oLj,previous_zoom_level:a.xad,performance_context:a.Qb==null?void 0:tf(a.Qb)})}},JCs={eventType:"editor_timeline_view_mode_changed",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),to_view_mode:a.HWs,performance_context:a.Qb==
null?void 0:tf(a.Qb),control_context:a.kb})}},Drs=()=>L("2PGUeA"),wrs=class{async fIj(a,b){this.Qe.qJ({});const {$yk:c,hHq:d}=__c.Bne(a.map(g=>({size:g})),this.uo,this.Rk,this.hj);a=await this.k6a(c,{Yc:"quick_actions"});this.Qe.close({trigger:"insert"});if(a){b=b.Dw(a);var e=a.cells.get(d);if(e){var f=__c.Vra(b,d,e);window.requestAnimationFrame(()=>this.og.Ju(f,e.text,Nw.start()))}}}constructor(a,b,c,d,e,f){this.Qe=a;this.uo=b;this.k6a=c;this.Rk=d;this.hj=e;this.og=f}},BMs={eventType:"editor_media_flipped",
Oa(a){return rf({direction:a.direction,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,media_id:a.mediaId,media_ids:a.CJ,media_version:a.sE,media_versions:a.mFf,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,num_elements_in_page:a.ND,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},CMs=class{TMd(a,b){b()}TCb(){}Ws(a,b,c){c()}Yie(a,b){b()}t_a(a,b,c){c()}F5a(a,b){b()}G5a(a,b){b()}bje(a,b){b()}s_a(a,b){b()}$ie(a,b){b()}dKa(){}cje(){}aje(){}},Xns=class{Bph(a){this.goa(a.body)}goa(a){for(const b of a.childNodes)this.TMd(b)}TMd(a){this.acc.TMd(a,
()=>{a.nodeType===a.TEXT_NODE?this.TCb(a):a.nodeType===a.ELEMENT_NODE&&this.P8e(a)})}TCb(a){this.acc.TCb(a)}P8e(a){switch(a.tagName){case "DIV":this.Ws(a,"block");break;case "UL":this.t_a(a,!1);break;case "OL":this.t_a(a,!0);break;case "LI":this.F5a(a);break;case "SPAN":case "B":case "STRONG":case "I":case "EM":case "U":case "S":case "DEL":case "FONT":case "SUP":case "SUB":this.Ws(a,"inline");break;case "A":this.Yie(a);break;case "P":this.G5a(a);break;case "PRE":this.bje(a);break;case "H1":case "H2":case "H3":case "H4":case "H5":case "H6":this.s_a(a);
break;case "BLOCKQUOTE":this.$ie(a);break;case "TABLE":this.dKa(a);break;case "BR":this.cje(a);break;case "IMG":this.aje(a);break;case "STYLE":break;default:this.goa(a)}}Ws(a,b){this.acc.Ws(a,b,()=>this.goa(a))}Yie(a){this.acc.Yie(a,()=>this.goa(a))}t_a(a,b){this.acc.t_a(a,b,()=>this.goa(a))}F5a(a){this.acc.F5a(a,()=>this.goa(a))}G5a(a){this.acc.G5a(a,()=>this.goa(a))}bje(a){this.acc.bje(a,()=>this.goa(a))}s_a(a){this.acc.s_a(a,()=>this.goa(a))}$ie(a){this.acc.$ie(a,()=>this.goa(a))}dKa(a){this.acc.dKa(a,
b=>this.TMd(b))}cje(a){this.acc.cje(a)}aje(a){this.acc.aje(a)}constructor(a){this.acc=a}},DMs=a=>({H1:a*2,H2:a*1.5,H3:a*1.17,H4:a*1,H5:a*.83,H6:a*.67}),EMs=class extends CMs{async MS(a){const b=[...this.urls],c=(await Promise.all(b.map(aos))).filter(vb).map((f,g)=>new File([f],`${g}.${__c.Lz(f.type)}`));a=await a(c,"canvas",{g_a:"background",kb:"clipboard"}).images;a=new Map(a.flatMap(f=>f.mD?[[f.mD,f]]:[]));const d=new Map;for(let f=0;f<c.length;f++){var e=a.get(c[f].name);e&&(e=this.Bur(e),d.set(b[f],
e))}return d}dKa(a,b){for(const c of a.rows)for(const d of c.cells)b(d)}aje(a){this.urls.add(a.src)}constructor(){super();this.Bur=__c.Ehf;this.urls=new Set}},FMs=(a,b,...c)=>{for(const d of c)if(c=d(a))return c;return b(a)},dvs=a=>{switch(a){case 4:return L("eY1d0Q");case 1:return L("WL2xxQ");case 3:return L("nAKgzA");case 2:return L("SJUMrg");default:throw new v(a);}},Gss=class{static G(a){P(a,{Iag:__c.dG,Sbh:__c.dG.struct})}get Iag(){var a=this.selection.Ib;if(a&&!(this.Ma.mode<=20)&&(a=a.type===
1?a.only:void 0)&&a.display!==2)switch(a.type){case "controlled":case "chart":case "rect":case "embed":case "design":case "layout":case "shape":return a;case "break":case "separator":case "pill":case "table":case "sheet":break;default:throw new v(a);}}get Sbh(){const a=this.Iag;if(a&&a.width!=="100%"&&a.width!=="100cqw"&&(!a.width.endsWith("px")||a.maxWidth!=="100cqw"))switch(a.alignment||"50%"){case "0%":return"left";case "50%":return"center";case "100%":return"right"}}constructor(a,b){this.Ma=a;
this.selection=b;Gss.G(this)}},GMs={eventType:"editor_elements_aligned",Oa(a){return rf({anchor:a.anchor,control_context:a.kb,num_elements_selected:a.U8c,element_types:a.gD,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,num_elements_in_page:a.ND,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},HMs={eventType:"editor_element_z_index_changed",Oa(a){return rf({direction:a.direction,control_context:a.kb,num_elements_selected:a.U8c,element_types:a.gD,
design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,num_elements_in_page:a.ND,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}},IMs={eventType:"editor_toolbar_position_menu_opened",Oa(a){return rf({design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_elements_selected:a.U8c,element_types:a.gD,num_pages_in_document:a.Ly,num_elements_in_page:a.ND,editing_context:a.Ba==
null?void 0:sf(a.Ba),tab:a.ve})}},JMs={eventType:"editor_element_aspect_lock_clicked",Oa(a){return rf({action:a.action,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},zvs={eventType:"editor_element_rotated",Oa(a){return rf({element_types:a.gD,original_rotation:a.sYk,rotation:a.rotation,x:a.x,y:a.y,width:a.width,height:a.height,control_context:a.kb,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},KMs={eventType:"editor_elements_swapped",Oa(a){return rf({primary_element_type:a.Uds,secondary_element_type:a.Kvs,
swap_type:a.vOb,total_elements_moved:a.VXs,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}},LMs={eventType:"presentation_navigator_initial_rendered",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb),num_pages:a.OD,num_elements:a.VAa,num_embeds:a.eku,num_static_thumbnails:a.tri})}},hMs=["#7900ff","#548cff","#93ffd8","#cfffdc"],eos=a=>{const b=a.layout,c=a.Ax,d=a.mQ,e=a.wy,f=a.JQf,g=a.aua;(0,__c.Bbr)(()=>
()=>{const h=g?null:f;h===null||h===void 0||h()},[f,g]);return ubr(__c.Sbr,{layout:b,className:"jWnHiw",children:__c.Tbr.map((h,k)=>ubr(__c.Vbr,{eNs:k,Ax:c,mQ:d,dNs:h,wy:e,Lne:a.Lne,QZf:a.QZf,oa:a.oa,aua:a.aua},h))})},dos=class{static G(a){P(a,{QZf:Ebr.bound,ybh:Ebr.bound,JQf:Ebr.bound,Lne:Ebr.bound,wXf:__c.Gbr,mQ:Ebr})}QZf(a){this.store.wy===a?this.JQf():this.ybh(a)}ybh(a){this.store.wy=a}JQf(){this.store.wy=void 0}Lne(a,b){const {dimensions:c}=this.wXf||{},{top:d,left:e}=b||{};b=c&&d&&e?Qj({top:d,
left:e,width:c.width,height:c.height}):void 0;a=__c.tbr(a);this.sc.Y8(a,"sticky_note",{Yc:"tools_tab_click"},{box:b,gKa:{type:"absolute",value:"top"}});this.jya()}get wXf(){if(this.store.ZC&&this.store.wy){var a=__c.tbr(this.store.wy);a=__c.Hpe(this.sc,this.store.ZC,a);return{dimensions:{width:a.width,height:a.height},paths:a.paths,viewBox:a.viewBox}}}jya(){this.P.track(Cvg,{elementType:"shape",kb:"click",Cra:"add",rKc:!1})}constructor(a,b,c,d){this.store=a;this.jc=b;this.sc=c;this.P=d;this.r6q=(dos.G(this),
(e,f)=>{var g;const h=((g=e.Bg)===null||g===void 0?void 0:g.type)==="shape"?e.Bg:void 0;h&&(f&&(f=h.slice,g=h.$c,h.viewBox&&f&&g&&this.jc.aOa("font-size",Math.round(.08*Math.max(h.width,h.height)*.75)*$t)),lA(this.jc,e,"all"))});this.usn=e=>{this.mQ((this.store.Ax+(e==="prev"?-1:1)+__c.Ubr)%__c.Ubr)};this.mQ=e=>{this.store.Ax=e}}},cos=class{static G(a){P(a,{isActive:__c.Hbr.ref,ZAb:Ebr,wy:__c.Hbr.ref,ZC:__c.Gbr,Ax:__c.Hbr.ref})}ZAb(a){this.isActive=a!==null&&a!==void 0?a:!1}get aua(){return this.s1a&&
Fc.pfb}get ZC(){const a=this.viewport.jh.ja;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.s1a=b;this.isActive=(cos.G(this),!1);this.Ax=0}},Jzs=class{data(){if(this.raw.length<2)return[];const a=hos(this);return this.raw.slice(1).map(b=>{const c=new Map;b.forEach((d,e)=>c.set(a[e],d));return c})}constructor(a){this.raw=a}},MMs=class{encode(a){a=this.serializer.serialize(a);return{...a,html:this.Rch(a)}}Rch(a){var b=a.xNa;a=a.html;const c=bV.element("div"),d=c.appendChild(bV.element("span"));
b=jos(b);d.setAttribute("data-canva-clipboard",b);a.forEach(e=>c.appendChild(e));return c.toString()}async parse({text:a,html:b,xNa:c},d){if(c)return this.serializer.mVd(c);b=b?b.replace(/\r\n|\r/g,"\n"):void 0;if(c=kos(this,{html:b},d))return c;a=a?a.replace(/\r\n|\r/g,"\n"):void 0;return(b=await this.serializer.fUh({html:b,text:a}))?b:this.Slf({text:a})}Slf({text:a}){if(a){const b=this.serializer.mVd(a);return b!==null&&b!==void 0?b:this.serializer.Slf(a)}}constructor(a,b){var c=los;this.a7=a;this.f$d=
c;this.serializer=b}},NMs=__webpack_require__(613444),rV=NMs.Fragment,cV=NMs.jsx,kV=NMs.jsxs;var OMs,Lrs,lV,mV,BGs,wV,PMs,QMs,lAs,mAs,cps;OMs=__webpack_require__(400770);fV=__c.fV=OMs.action;Lrs=OMs.autorun;lV=OMs.comparer;mV=OMs.computed;BGs=OMs.makeObservable;wV=OMs.observable;PMs=OMs.ObservableMap;QMs=OMs.observe;lAs=OMs.onBecomeObserved;mAs=OMs.onBecomeUnobserved;dV=__c.dV=OMs.reaction;oV=__c.oV=OMs.runInAction;cps=OMs.when;var RMs=__webpack_require__(813494),eV=RMs.observer,SMs=RMs.useLocalObservable;var FV=__webpack_require__(366533),GV=FV.Component,TMs=FV.createElement,HV=FV.createRef,UMs=FV.forwardRef,VHs=FV.Fragment,JDs=FV.lazy,DV=FV.memo,VMs=FV.PureComponent,LDs=FV.Suspense,gV=FV.useCallback,WMs=FV.useDeferredValue,iV=FV.useEffect,XMs=FV.useId,YMs=FV.useImperativeHandle,ZMs=FV.useLayoutEffect,xV=FV.useMemo,jV=FV.useRef,nV=FV.useState;var $Ms=__webpack_require__(27950);var aNs=__webpack_require__,bNs=aNs(208463),AV=aNs.n_x(bNs)();var IV=__webpack_require__(277049)._;var JV=__webpack_require__(269018)._;var cNs=__webpack_require__(206928),CV=cNs.Aj,KV=cNs.iB,AGs=cNs.Sx,oAs=cNs.tB,wCs=cNs.uP;var dNs=__webpack_require__(13851);var eNs=__webpack_require__(935448).createPortal;var fNs=__webpack_require__(316620);var gNs=__webpack_require__(294462);var hNs=__webpack_require__(388909).t;var iNs=class{constructor(a){this.uIa=a}};var xos=["color","typography","alt_text","links"],jNs={typography:{label:L("A9rBrQ"),icon:cV(__c.Ayg,{size:"medium",tone:"primary"}),pVa:"typography"},color:{label:L("/hr0NQ"),icon:cV(__c.ogr,{size:"medium",tone:"primary"}),pVa:"color"},alt_text:{label:L("RsRlBQ"),icon:cV(__c.Ru,{size:"medium",tone:"primary"}),pVa:"alt_text"},links:{label:L("+jE5WA"),icon:cV(__c.xo,{size:"medium",tone:"primary"}),pVa:"links"}},kps=class{static G(a){P(a,{Dx:wV.deep,view:wV.ref,FSd:wV.ref,g4d:wV.ref,hMi:wV.ref,ZJb:mV,
Fii:mV,iU:mV,iMh:mV,MBc:mV,yge:mV,Ppi:mV,REh:mV})}get wzj(){return xos.filter(a=>!(a==="links"&&!this.k1c))}get NBc(){const a={};this.z4m>=100&&(a.color="page_limit");return a}get ZJb(){return xos.includes(this.view)?this.Dx.filter(a=>a.category===this.view):this.view==="issue"?this.iU?[this.iU]:[]:this.Dx}get Fii(){return this.ZJb.reduce((a,b)=>{var c,d;(d=a[c=b.Vb])!==null&&d!==void 0?d:a[c]=[];a[b.Vb].push(b);return a},[])}get iU(){return this.Dx.find(a=>a.selected)}get iMh(){return this.Dx.filter(a=>
a.checked)}get MBc(){const a={};this.wzj.forEach(b=>{a[b]=0});this.Dx.forEach(b=>{a[b.category]++});return a}get yge(){switch(this.view){case "home":return L("DJFkPQ");case "alt_text":return L("RsRlBQ");case "color":return L("/hr0NQ");case "typography":return L("A9rBrQ");case "links":return L("+jE5WA");case "issue":var a;return((a=this.iU)===null||a===void 0?void 0:a.rule)==="alt_text"?L("eNTSgg"):L("DJFkPQ");default:throw new v(this.view);}}get Ppi(){switch(this.view){case "alt_text":return L("7juaHg");
case "typography":return L("aKY15g")}}get REh(){switch(this.view){case "home":return L("BmFrqA");case "alt_text":return L("8+4O5g");case "color":return L("ZERETA");case "typography":return L("YN9VAw");case "links":return L("GMn6WA");case "issue":return"";default:throw new v(this.view);}}constructor(a=!1){this.k1c=a;this.z4m=(kps.G(this),1);this.Dx=wV.array();this.view="home";this.FSd="loading";this.g4d=void 0}},nps=class extends kps{get NBc(){return{}}constructor(a=!1){super(a)}};var kNs=parseInt("200ms",10),lNs=eV(({icon:a,title:b,description:c,tsf:d,CHq:e,selected:f,checked:g,ej:h,YPb:k,oSa:l,NLr:m,Dui:p,locked:q})=>{const r=jV(null),t=jV(null),u=!(!p||!d||q),w=!!m&&u&&!h;iV(()=>{const x=setTimeout(()=>{var y,z;f&&r.current&&((y=(z=r.current).scrollIntoView)===null||y===void 0||y.call(z,{block:"nearest",behavior:"smooth"}))},300);return()=>clearTimeout(x)},[f]);return kV("div",{className:"SM3Rnw",ref:r,children:[cV(No,{onClick:l,AE:"primary",selected:f,HC:J("MnQJ8A",[b.toLowerCase()]),
Zr:w&&cV(__c.c_g,{location:"top-start",visibility:g?"always":"on-hover",label:g?J("dYbh9Q",[b.toLowerCase()]):J("eUkheA",[b.toLowerCase()]),selected:g,onSelect:m}),thumbnail:cV(__c.bv,{children:cV(R,{padding:"2u",width:"full",height:"unset",children:kV(Wc,{spacing:"1u",children:[kV(gr,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[cV(fr,{children:kV(ir,{spacing:"1u",children:[a,cV(Q,{className:"P84zWw",weight:"bold",size:"medium",children:b})]})}),q?cV(fr,{width:"content",children:cV(Uu,
{text:L("KAcVpg"),tone:"neutralLow",icon:cV(ay,{size:"small"})})}):void 0]}),cV(k,{}),(f||u)&&kV(Wc,{spacing:"2u",children:[f&&(typeof c==="string"?cV(Q,{className:"B7DQ5Q",size:"medium",children:c}):cV("div",{className:"B7DQ5Q",children:c})),u&&cV(Yi,{className:"nCQDgg",disabled:e,variant:f?"primary":"secondary",stretch:!0,onClick:()=>{p()},children:d})]})]})})}),layout:"vertical",Glb:"thumbnail"}),cV($Ms["default"],{in:h,mountOnEnter:!0,timeout:kNs,nodeRef:t,classNames:{enter:"xkwLeQ",enterActive:"zo9sdQ"},
children:cV("div",{className:"eBJmtA",ref:t,children:cV(__c.$x,{className:"_2Rxe4Q",size:"medium"})})})]})});var mNs=eV(({description:a,NKk:b,l8p:c,eNp:d,YPb:e,oSa:f,locked:g,Dui:h,...k})=>{const l=!(!h||g);return cV(lNs,{description:cV(()=>kV(Wc,{spacing:"2u",children:[cV(Q,{size:"medium",children:a}),kV(gr,{Fa:"start",spacing:"1u",align:"start",children:[cV(fr,{width:"content",children:kV(R,{className:"rmlZHQ",display:"flex",padding:"0",alignItems:"center",justifyContent:"center",children:[cV(__c.IKh,{size:"medium"}),cV("div",{className:"ZFGjHg","aria-hidden":!0,children:cV(__c.SA,{fill:c,stretch:!0,aspectRatio:4.5})})]})}),
kV(fr,{children:[cV(Q,{size:"medium",weight:"bold",children:L("7G74Yw")}),cV(Q,{size:"small",tone:"tertiary",children:c.length>1?L("5ctgQg"):c[0]})]})]}),d.length>0&&l?kV(rV,{children:[cV(Q,{size:"medium",tone:"tertiary",children:L("VtIjMg")}),cV("div",{className:"gYMxhQ",children:cV(ir,{spacing:"1u",children:d.map((m,p)=>cV(__c.SA,{fill:[m],size:"small",onClick:()=>h(m)},p))})})]}):l&&cV(Ik,{tone:"info",size:"small",children:b})]}),{}),YPb:e,oSa:f,locked:g,...k})});var Ios=eV(function({REh:a,Fii:b,iU:c,$rl:d,YPb:e,IUk:f,rRk:g,HQk:h,L_r:k,I0g:l,aXd:m}){return b.flat().length===0?cV(R,{height:"full",width:"full",display:"flex",Jb:"2u",alignItems:"center",children:kV(Wc,{spacing:"1u",align:"center",children:[cV(kr,{tagName:"h3",size:"medium",alignment:"center",children:L("lBTWrQ")}),kV(Wc,{spacing:"2u",align:"center",children:[cV(Q,{size:"medium",alignment:"center",children:a}),cV(Yi,{variant:"primary",onClick:k,children:L("L6tUpw")})]})]})}):cV(Wc,{spacing:"2u",
children:b.map((p,q)=>p.length>0&&kV(Wc,{spacing:"1u",children:[cV(kr,{tagName:"h3",size:"xxsmall",children:J("7l3o/A",[q+1])}),p.map((r,t)=>kV("div",{children:[d&&cV(bj,{shape:"rectangle"}),cV("div",{className:AV({qyPrNw:d}),children:cV(nNs,{rE:r,selected:r===c,$rl:d,YPb:e,IUk:f,rRk:g,HQk:h,I0g:l,aXd:m})})]},`${r.id}:${t}`))]},q))})}),nNs=eV(({rE:a,selected:b,$rl:c,YPb:d,IUk:e,rRk:f,HQk:g,I0g:h,aXd:k})=>{var l=a.category;const m=a.messages,p=m.icon,q=a.state,r=a.wwf;b={icon:p!==null&&p!==void 0?
p:jNs[l].icon,title:m.title,description:m.description,tsf:m.tsf,CHq:q!=="ready"||c,selected:b,checked:a.checked,NLr:k&&r?()=>f(a):void 0,ej:q==="resolved",oSa:()=>e(a),locked:a.locked};c=()=>cV(d,{Q5:a.Q5});if(a.rule==="insufficient_text_contrast"){const t=a.dMd;k=a.bud;l=t?u=>{t(u);g(a)}:void 0;return cV(mNs,{...b,NKk:a.messages.NKk,l8p:a.wpd,eNp:k(),YPb:c,Dui:l})}return a.rule==="alt_text"?cV(lNs,{...b,YPb:c,Dui:()=>h===null||h===void 0?void 0:h(a)}):cV(lNs,{...b,YPb:c,Dui:a.p_m?()=>g(a):void 0})});var qos=({page:a,element:b,Kl:c,tf:d,ld:e})=>cV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:cV(R,{className:"MNaxkA",children:cV(c,{page:a,element:b,tf:d,ld:e})})});var tos=({item:a,context:b,tf:c,ld:d,Bjd:e})=>cV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:cV(R,{className:"MNaxkA",children:cV(e,{item:a,context:b,ld:d,tf:c,P4r:"1u"})})});var sos=({page:a,rT:b,tf:c,ld:d})=>cV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:cV(R,{className:"MNaxkA",children:cV(b,{page:a,fit:"contain",tf:c,ld:d})})});var oNs=({type:a})=>"page element grid_element shape_element table_element item".split(" ").includes(a),ros={tf:parseInt("48px",10),ld:parseInt("264px",10)};var Nos=({Ppi:a,$Ii:b,QXs:c,layout:d})=>{const e=kV(R,{className:"_3fBluA",background:"surface",padding:"2u",display:"flex",width:"full",flexDirection:"row",borderRadius:d===1?"container":void 0,justifyContent:"spaceBetween",alignItems:"center",children:[cV(Q,{children:J("TOnKVA",[c])}),cV(Yi,{variant:"primary",onClick:()=>{b()},children:a})]}),f=cV(R,{className:"ImFKRg",padding:"2u",display:"flex",children:e});return a&&c>0?d===1?f:e:null};var pNs={page_limit:{title:J("WNW1KQ",[100]),description:L("YvwwWA")}},qNs=eV(function({icon:a,rLh:b,LOp:c,pVa:d,SWb:e,X9a:f}){const g=gV(()=>f(d),[d,f]),h=e>0,k=c!==void 0;return cV(__c.Tt,{className:"DqxJtA",display:"block",width:"full",padding:"2u",border:"standard",borderRadius:"element",color:{disabled:"var(--3YOFOw)"},backgroundColor:{disabled:"var(--oqurdw)"},disabled:!h||k,onClick:g,children:cV(R,{width:"full",Mc:"0.5u",children:kV(gr,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[cV(fr,
{children:kV(gr,{Fa:"start",spacing:"1u",children:[cV(fr,{width:"content",children:a}),kV(fr,{children:[cV(Q,{size:"medium",tone:jr,children:b}),k&&kV(rV,{children:[cV(ld,{direction:"vertical",size:"1u"}),cV(Ik,{tone:"info",title:pNs[c].title,children:pNs[c].description})]})]})]})}),cV(fr,{width:"content",children:kV(gr,{Fa:"center",spacing:"1u",children:[cV(fr,{width:"content",children:!k&&cV(Uu,{text:h?J("fEtOCg",[e]):void 0,tone:h?"contrast":"positive",icon:h?void 0:cV(__c.Ar,{size:"tiny"})})}),
h&&!k&&cV(fr,{width:"content",children:cV(ur,{size:"medium"})})]})})]})})})}),rNs=({MBc:a,NBc:b,X9a:c})=>cV(R,{className:"Nx5i0Q",children:cV(Wc,{spacing:"1u",children:Object.values(jNs).filter(({pVa:d})=>a.hasOwnProperty(d)).map(({label:d,icon:e,pVa:f},g)=>cV(qNs,{icon:e,rLh:d,pVa:f,LOp:b[f],SWb:a[f],X9a:c},g))})});var sNs=Object.values(jNs).length,Oos=eV(({title:a,Zhb:b,Xn:c,sV:d})=>cV(__c.kd,{title:cV(kr,{className:"g6xQ3A",size:"xsmall",tagName:"h2",ariaLabel:a,children:a}),padding:"1.5u",start:b?cV(__c.xr,{className:"TTJO9w",onClick:c}):cV(CCj,{size:"medium",tone:"primary"}),end:cV(__c.jd,{onClick:d})})),Pos=eV(({wa:a,view:b,MBc:c,NBc:d,X9a:e,Gxh:f,Kcj:g,iU:h,jNh:k,HUc:l,YPb:m,NF:p,aXd:q,u_h:r})=>{const t=gV(()=>{switch(b){case "home":return cV(Jos,{wa:a,MBc:c,NBc:d,X9a:e,cRl:cV(Kos,{u_h:r})});case "issue":return h?
cV(Mos,{rE:h,HUc:l,YPb:m,jNh:k,NF:p,aXd:q}):null;default:return kV(rV,{children:[cV(R,{className:"dEAxJA",children:cV(Los,{Gxh:f})}),cV(g,{})]})}},[a,b,c,d,e,f,g,h,l,m,k,p,q,r]);return cV(Wn,{children:t()})}),Jos=eV(({wa:a,MBc:b,NBc:c,X9a:d,cRl:e})=>cV(R,{padding:"2u",children:a?cV(Wc,{spacing:"1u",children:Array.from({length:sNs}).map((f,g)=>cV("div",{className:"_8cGwhw",children:cV(bj,{shape:"rectangle",index:g})},g))}):kV(rV,{children:[e,cV(rNs,{MBc:b,NBc:c,X9a:d})]})})),Los=({Gxh:a})=>cV(R,{className:"nx_GSQ",
padding:"2u",height:"full",children:cV(a,{})}),Mos=eV(({rE:{rule:a,locked:b,Q5:c},HUc:d,YPb:e,jNh:f,NF:g,aXd:h})=>{const k=xV(()=>h&&oNs(c),[c,h]);return a==="alt_text"?(b&&f("alt_text"),kV(Wc,{spacing:"0",children:[k&&cV(R,{paddingTop:"2u",Jb:"2u",children:cV(e,{Q5:c})}),cV(d,{Oe:"fill",gi:()=>{f("alt_text")},oa:()=>{f("alt_text")},kb:"accessibility_checker",NF:g})]})):null});var tNs={eventType:"editor_a11y_checker_opened",Oa(a){var b;return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),impression_id:a.NF,issue_counts:(b=a.ixk)===null||b===void 0?void 0:b.map(c=>vos(c)),control_context:a.kb})}},uNs={eventType:"editor_a11y_checker_closed",Oa(a){var b;return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),impression_id:a.NF,interaction_trigger:a.jfb,issue_counts:(b=a.ixk)===null||b===void 0?void 0:b.map(c=>vos(c))})}},vNs={eventType:"editor_a11y_checker_navigated",Oa(a){return rf({editing_context:a.Ba==
null?void 0:sf(a.Ba),impression_id:a.NF,view_type:a.eS,view_name:a.q2f,interaction_trigger:a.jfb,initial_issue_selected:a.pyf==null?void 0:wos(a.pyf)})}},Cos={eventType:"editor_a11y_checker_issue_interacted",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),impression_id:a.NF,issue_info:a.RBf==null?void 0:wos(a.RBf),interaction_type:a.Bv,interaction_trigger:a.jfb})}},Eos={eventType:"editor_a11y_checker_multiple_issues_interacted",Oa(a){var b;return rf({editing_context:a.Ba==null?void 0:
sf(a.Ba),impression_id:a.NF,issues_info:(b=a.Wdn)===null||b===void 0?void 0:b.map(c=>wos(c)),interaction_type:a.Bv,interaction_trigger:a.jfb,bulk_edit_impression_id:a.pbm})}};var Hos=class{static G(a){P(a,{eC:fV.bound,cD:fV.bound,views:mV,MZd:mV,ahg:mV})}eC(){this.store.NF=Nb();this.store.layout===2&&this.navigation.Zg({$e:this.views.dOd,options:this.uqi});this.store.layout===1&&(this.skeleton.vx=this.views.wbj);this.store.isAlive=!0}I0g(){this.store.layout===2&&this.navigation.Zg({$e:this.views.Fxh,options:this.uqi})}cD(){this.store.isAlive=!1;const a=this.views.dOd,b=this.views.Category,c=this.views.Fxh,d=this.views.wbj;this.navigation.screen&&[a,b,c].includes(this.navigation.screen.$e)&&
this.navigation.clear();this.skeleton.vx===d&&(this.skeleton.vx=void 0)}get views(){return n(this.store.views)}get MZd(){return n(this.store.MZd)}get ahg(){return this.store.isAlive}Qnc(){const a=this.JLe.MBc;return[{$O:"all",SWb:this.JLe.Dx.length},{$O:"alt_text",SWb:a.alt_text},{$O:"color_contrast",SWb:a.color,PJs:this.JLe.NBc.color?"page_count_over_100":void 0},{$O:"typography",SWb:a.typography}]}dLd(a){const b={NF:this.store.NF,kb:a};this.Sgq=cps(()=>this.JLe.FSd!=="loading"&&!this.store.wa,()=>
{setTimeout(()=>{b.ixk=this.Qnc();this.P.track(tNs,b)},3E3)})}Z5e(a){a={NF:this.store.NF,jfb:a,ixk:this.Qnc()};this.P.track(uNs,a);this.store.NF=void 0}lhe(a){this.P.track(vNs,{NF:this.store.NF,...a})}constructor(a,b,c,d,e,f,g,h){this.store=a;this.JLe=b;this.navigation=c;this.skeleton=d;this.bhg=e;this.kwe=f;this.P=h;this.Owm=(Hos.G(this),void 0);this.tMn=-1;this.NWs=()=>{this.ahg?this.Ajh():this.Aul()};this.Ajh=()=>{var k,l,m,p;this.ahg&&(this.kwe.m3e(),Ros(this.bhg),this.cD(),(k=this.Owm)===null||
k===void 0||k.call(this),(l=this.chq)===null||l===void 0||l.call(this),(m=this.Vgq)===null||m===void 0||m.call(this),(p=this.Sgq)===null||p===void 0||p.call(this),oV(()=>this.store.wa=!0),clearTimeout(this.tMn))};this.Aul=()=>{this.bhg.lGk(this.kwe);this.kwe.Tih();this.eC();Aos(this);zos(this);Bos(this);this.tMn=setTimeout(()=>{Sos(this.bhg);oV(()=>this.store.wa=!1)},2E3)};this.uqi={ovc:!1,i0k:"collapsed",sg:g}}};var Gos=class{static G(a){P(a,{isAlive:wV.ref,wa:wV.ref,b0l:wV.ref,k_l:wV.ref,views:mV,Mgo:fV.bound,MZd:mV,Mao:fV.bound,layout:mV})}get views(){return n(this.b0l)}Mgo(a,b,c,d){this.b0l={wbj:a,dOd:b,Category:c,Fxh:d}}get MZd(){return n(this.k_l)}Mao(a){this.k_l={Kcj:a}}get layout(){return this.ka.layout}constructor(a){this.ka=a;this.isAlive=(Gos.G(this),!1);this.wa=!0;this.NF=void 0}};var Kos=eV(({u_h:a})=>a.get()?cV(R,{paddingBottom:"2u",children:cV(Ik,{tone:"warn",title:L("i46F7A"),children:L("2lJl1Q")})}):null);var wNs=Symbol("a11y_witch"),mps=class{static G(a){P(a,{Ghb:fV.bound,wLi:fV.bound,K0f:fV.bound,I9n:fV.bound,bHd:fV.bound,r_n:fV.bound,$Ii:fV.bound,shg:fV.bound,lhm:fV.bound})}lGk(a){this.l7e||Tos(this,a)}Ghb(a,b=!1){const c=this.store.iU;c!==a&&(c&&(c.selected=!1),a&&(a.selected=!0,Wos(this,a,b)))}wLi(a){var b=this.store.Dx;const c=this.store.view,d=this.store.iU;if((d===null||d===void 0?void 0:d.Q5.target)!==a||(d===null||d===void 0?void 0:d.category)!==c)b=a?b.find(e=>e.target===a&&(e.category===
c||!xos.includes(c))):void 0,d&&(d.selected=!1),b?(b.selected=!0,this.store.g4d||(this.store.g4d="selected_on_canvas"),this.store.view!==b.category?(this.bHd(b.category),this.onNavigate&&this.onNavigate()):this.bvi&&this.bvi(),this.store.g4d=void 0):this.store.view==="issue"&&(this.bHd("home"),this.onNavigate&&this.onNavigate())}YXm(a,b){this.VXd||(a.state="resolved",b.push(a),Xos(this,a))}K0f(a,b){const c=[];let d=0,e=!1;this.store.Dx.forEach(f=>{var g=a.findIndex(h=>h.equals(f));g<0?(this.YXm(f,
c),e=!0):g<d?(g=c.findIndex(h=>h.equals(f)),f.update(c[g]),c.splice(g,1,f)):(g>d&&(c.push(...a.slice(d,g)),d=g),d++,f.update(a[g]),c.push(f))});d<a.length&&c.push(...a.slice(d));this.store.Dx.replace(c);this.I9n(b,e)}I9n(a,b){a?b?(this.store.FSd="resolving",setTimeout(()=>{this.store.FSd==="resolving"&&oV(()=>{this.store.FSd="ready"})},this.store.view==="home"?0:1E3)):this.store.FSd="ready":this.store.FSd="loading"}bHd(a){if(a!=="issue"||this.store.iU)this.store.view=a,Yos(this)}r_n(a,b){this.Ghb(a);
a.resolve();this.la.Hb({Cb:J("YwO4QQ",[a.messages.title]),media:{content:cV(__c.$x,{size:"medium"})},group:wNs,jr:{buttonText:L("sdrEcg"),onClick:fV(()=>{b(a);this.da.undo.undo()})}})}$Ii(a,b){const c=this.store.iMh,d=new Map,e=this.da.undo.startBuffering();try{c.forEach(f=>{if(!f.locked&&f.resolve){const g=this.store.ZJb.findIndex(h=>h===f);d.set(g,f);f.resolve()}})}finally{e.stop()}d.size&&(a(Array.from(d.values())),this.la.Hb({Cb:J("GdVpIQ",[d.size]),media:{content:cV(__c.$x,{size:"medium"})},
group:wNs,jr:{buttonText:L("sdrEcg"),onClick:fV(()=>{b(d);this.da.undo.undo()})}}))}shg(){this.store.view="home";this.Ghb(void 0);Yos(this)}lhm(){var a,b;this.store.view=(b=(a=this.store.iU)===null||a===void 0?void 0:a.category)!==null&&b!==void 0?b:"home";this.Ghb(void 0);Yos(this)}async SFk(a,b){return a.type==="item"||a.type==="table_item"||a.type==="computed_range"||a.type==="body"||a.type==="responsive_page"?aps(this,a,b):bps(this,a,b)}bka(a){var b=a.type;const c=a.context;var d=a.item;const e=
a.inner;a=a.dD;switch(b){case "body":case "responsive_page":break;case "computed_range":return this.ed.$Da(c.text,a.range);case "item":return this.ed.oE(d);case "table_item":if(!e)return this.ed.oE(d);if(e.item)return this.ed.dRa(e.item);b=this.ed.oE(d);if(b==null)break;d=this.ed.hoc(d,e.qb);return d===null||d===void 0?void 0:d.transform(Yj(b));default:throw new v(b);}}Mul(){this.IHe=this.YHa.Fzd({Nvd:(a,b)=>dps(this,b),uxf:(a,b,c)=>dps(this,c),HHe:a=>dps(this,a.ja),ZMc:fV((a,b)=>{switch(b.type){case "grid":case "shape":case "table":Zos(this,
b)||(a=this.store.ZJb.find(({Q5:c})=>c.element===b))&&Wos(this,a);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "group":case "controlled":case "layout":break;default:throw new v(b);}this.store.g4d="dot_clicked"}),M4c:(a,b)=>{const c=this.store.iU;return this.store.ZJb.find(d=>d.Q5.item===b)?{dkd:(c===null||c===void 0?void 0:c.Q5.item)===b,type:"warning",container:a}:void 0},g8d:fV((a,b)=>{b.type!=="table"||Zos(this,b)||(a=this.store.ZJb.find(({Q5:c})=>c.item===
b))&&Wos(this,a);this.store.g4d="dot_clicked"}),N4c:()=>{},P8d:()=>{},joc:()=>this.joc(),R8d:()=>{}})}joc(){const a=this.store.iU;var b=this.store.ZJb;const c=[];for(const e of b){var d;b=e.Q5;const f=e.target;b.type!=="computed_range"||this.viewport.ya&&((d=b.page)===null||d===void 0?void 0:d.ja)!==this.viewport.ya||c.push({range:b.dD.range,MIc:{dkd:(a===null||a===void 0?void 0:a.target)===f,type:"warning",container:b.context}})}return c}Fpo(){eps(this);fps(this)}Bqo(){var a,b;(a=this.r6j)===null||
a===void 0||a.call(this);this.r6j=void 0;(b=this.r$g)===null||b===void 0||b.call(this);this.r$g=void 0}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.store=a;this.YHa=b;this.da=c;this.selection=d;this.viewport=e;this.la=f;this.Xa=g;this.ed=h;this.errorService=k;this.VXd=l;this.onNavigate=m;this.bvi=p;this.IHe=(mps.G(this),void 0)}},pps=class extends mps{YXm(){}Fpo(){fps(this)}Bqo(){var a;(a=this.r$g)===null||a===void 0||a.call(this);this.r$g=void 0}};var xNs=class{static G(a){P(a,{state:wV.ref,hkb:wV.ref,selected:wV.ref,checked:wV.ref,locked:wV.ref,Vb:mV,p_m:mV})}get Q5(){return this.VZl}get target(){return this.Kua}get Vb(){return this.hkb}Kt(){switch(this.Q5.type){case "fixed_page":case "element":case "grid_element":case "shape_element":case "table_element":var a,b,c,d,e;return!!(((c=this.Q5)===null||c===void 0?0:(b=c.page)===null||b===void 0?0:(a=b.ja)===null||a===void 0?0:a.locked)||((e=this.Q5)===null||e===void 0?0:(d=e.element)===null||
d===void 0?0:d.locked));case "body":case "responsive_page":case "item":case "table_item":case "computed_range":return!1;default:throw new v(this.Q5);}}get p_m(){return this._resolve!==void 0}resolve(){if(this.state!=="resolved"){this.state="fixing";try{var a;(a=this._resolve)===null||a===void 0||a.call(this);this.checked=!1}catch(b){this.state="ready"}}}equals(a){var b=this.target===a.target;if(this.Q5.type==="computed_range"&&a.Q5.type==="computed_range"){b=this.Q5.context;const c=this.Q5.dD;({equals:b}=
n(this.Xa).mma(b.text,c===null||c===void 0?void 0:c.range,a.Q5.dD.range));b=b&&this.Vb===a.Vb}return this.state!=="resolved"&&a.state!=="resolved"&&b&&this.rule===a.rule}update(a){this.state="ready";this.hkb=a.hkb;this._resolve=a._resolve;if(this.locked=a.locked)this.checked=!1;this.Q5.type==="computed_range"&&(this.VZl=a.Q5,this.Kua=a.target)}constructor({DR:a,KF:b,Vb:c,Q5:d,Xa:e}){this.Xa=(xNs.G(this),void 0);this.wwf=!1;this.state="ready";this.locked=this.checked=this.selected=this.VTn=!1;const f=
b.id;b=b.ZP;this.id=a;this.FPj=f;this.hkb=c;this._resolve=b;this.VZl=d;this.Kua=d.target;this.locked=this.Kt();this.Xa=e}};var yNs=class extends xNs{constructor(a){super(a);this.category=this.rule="alt_text";this.messages={title:L("p3y+ug"),description:L("5JvrxA"),tsf:L("f4PKHg")};this.wwf=!0;this._resolve=()=>a.KF.jpj.BNi(!0)}};var zNs=class extends xNs{constructor(...a){super(...a);this.rule="template_font_size_readable";this.category="typography";this.messages={title:L("+UXqTw"),description:L("lRq0hg"),tsf:L("f7d/qQ")};this.wwf=!0}};var ANs=class extends xNs{constructor(...a){super(...a);this.rule="insufficient_link_visibility";this.category="links";this.messages={title:L("GQC92Q"),description:L("udZgEQ"),tsf:L("k3YJlQ")};this.wwf=!1}};var BNs=class extends xNs{get bud(){return this.n_l}get dMd(){return this.$_l}get wpd(){return this.$Zl}update(a){super.update(a);this.Q5.type==="computed_range"&&a.rule==="insufficient_text_contrast"&&(this.n_l=a.bud,this.$_l=a.dMd,this.$Zl=a.wpd)}constructor(a){super(a);this.rule="insufficient_text_contrast";this.category="color";this.wwf=!1;const b=a.KF.bud,c=a.KF.dMd,d=a.KF.wpd;this.messages={title:L("Dc660A"),description:L("ULNaRw"),NKk:a.fO?L("wNS5yQ"):L("BB0E1Q")};this.n_l=()=>b().slice(0,
3);this.$_l=c;this.$Zl=d}};var CNs=class extends xNs{equals(a){return super.equals(a)&&a.rule==="no_justified_or_center_aligned_text_block"&&this.variant===a.variant}constructor(a){super(a);this.rule="no_justified_or_center_aligned_text_block";this.category="typography";this.wwf=!1;var b=a.KF;a=b.variant;b=b.direction==="ltr"?L("veOtUA"):L("8ZGe+g");const c=a==="center"?L("VRXCAg"):L("CuImzg"),d=a==="center"?L("BXqtxg"):L("z+DlIA");this.variant=a;this.messages={title:c,description:d,tsf:b,icon:cV(__c.Qxg,{size:"medium",tone:"primary"})}}};var DNs=["insufficient_text_contrast","alt_text","template_font_size_readable","insufficient_link_visibility","no_justified_or_center_aligned_text_block"];var lps=class{static G(a){P(a,{Baa:wV.ref,Osk:wV.ref,Dx:mV.struct})}get rules(){pa(this.document.Ja==="fixed");const a=[];this.document.pages.count()<100&&a.push({rule:"insufficient_text_contrast"});a.push({rule:"template_font_size_readable",config:{NH:12}});a.push({rule:"alt_text"});this.k1c&&a.push({rule:"insufficient_link_visibility"});this.ksg&&a.push({rule:"no_justified_or_center_aligned_text_block"});return a}async Tih(){var a;if(!this.Baa){const b=await __c.Z0e(this.Caa);oV(()=>{this.Baa=b})}(a=
this.Baa)===null||a===void 0||a.ZNb(this.rules);this.Osk=!0}m3e(){var a;(a=this.Baa)===null||a===void 0||a.Jec()}get Dx(){var a;return(a=this.Baa)!==null&&a!==void 0&&a.cK?this.vRg(this.Baa.cK):[]}vRg(a){return a.flatMap((b,c)=>b.filter(d=>d.rule==="no_justified_or_center_aligned_text_block"&&d.variant==="center"||!this.VXd&&(d.df.type==="responsive_page"||(d.df.type==="computed_range"||d.df.type==="item"||d.df.type==="table_cell")&&d.df.context.type==="responsive-page")?!1:DNs.includes(d.rule)).map(d=>
{const e=d.rule,f=ips(d.df),g=(this.kxk++).toString(),h=f.type==="computed_range"?this.Xa:void 0;switch(e){case "alt_text":return new yNs({DR:g,KF:d,Q5:f,Vb:c,Xa:h});case "template_font_size_readable":return new zNs({DR:g,KF:d,Q5:f,Vb:c,Xa:h});case "insufficient_link_visibility":return new ANs({DR:g,KF:d,Q5:f,Vb:c,Xa:h});case "insufficient_text_contrast":return new BNs({DR:g,KF:d,Q5:f,Vb:c,fO:this.Ac.fO,Xa:h});case "no_justified_or_center_aligned_text_block":return new CNs({DR:g,KF:d,Q5:f,Vb:c,Xa:h});
default:throw new v(e);}}))}constructor(a,b,c,d,e,f,g){this.Caa=b;this.k1c=c;this.ksg=d;this.VXd=e;this.document=f;this.Xa=g;this.kxk=(lps.G(this),0);this.Osk=!1;this.Ac=a("none").Ac}},ops=class extends lps{get rules(){const a=[];a.push({rule:"template_font_size_readable",config:{NH:12}});a.push({rule:"insufficient_text_contrast"});a.push({rule:"alt_text"});this.k1c&&a.push({rule:"insufficient_link_visibility"});return a}};var jps={get VXd(){return Rb("1aee4160",!1)}};var xps=DV(a=>{const b=a.fF,c=a.onClick,d=a.oa,e=a.MIf;a=gV(()=>{c===null||c===void 0||c();d===null||d===void 0||d();e()},[c,d,e]);return cV(b,{onClick:a,children:L("WpXa3A")})});var wps=class{static G(a){P(a,{MIf:fV.bound,UCn:fV.bound,Yzn:fV.bound,IIf:fV.bound,t8d:fV.bound})}MIf(){this.ka.layout;2;this.ka.layout===1&&this.kn.open(this.rno)}UCn(){this.kn.close(this.rno)}Yzn(a){const b=this.store.zh;b&&this.selection.Ol(b,a.ja)}IIf(a,b){this.Z4e.ONi(a.ja,a.container,b)}t8d(a,b){this.Z4e.bfh(a.text,a.range,b)}constructor(a,b,c,d,e,f){this.store=a;this.selection=b;this.ka=c;this.kn=d;this.rno=e;this.Z4e=f;wps.G(this)}};var ENs=class extends __c.is{BI(a){a.P8(this.Id,b=>{const c=b.Ya;var d=0,e=0;for(let f=0;f<c.length;f++)e++,c[f]==="\n"&&(e>1&&(d={index:d,length:e},e=b.Aud(d,"semantics","list-level","list-marker"),this.rOc.push({text:a,Ya:c.slice(d.index,d.index+d.length),range:d,attributes:{semantics:e.semantics.values().next().value,"list-level":e["list-level"].values().next().value,"list-marker":e["list-marker"].values().next().value}})),d=f+1,e=0)})}cKa(a,b){if(bk(a)){const c=b==null?b:b.Tf(a);a.paths.forEach(d=>
this.m2b(d,c));this.BI(n(a.$c.first()).text)}else super.cKa(a,b)}D5(a){this.MNa.push(a)}whd(){}G2f(){}sth(){}X8e(){}O3(){}constructor(a){super();this.Id=a;this.rOc=[];this.MNa=[]}};var vps=class{static G(a){P(a,{zh:mV,page:mV,F6c:mV,uLe:mV,C6c:mV,RXh:mV,um:mV})}get zh(){var a=this.viewport.ya;if(a.type==="fixed")return a=this.viewport.jh.container.ub(a),a.type==="fixed-page"?a:void 0}get page(){var a;return(a=this.zh)===null||a===void 0?void 0:a.ja}get F6c(){return!!this.zh&&__c.vf(this.zh)}get uLe(){return!!this.zh&&!this.F6c}get C6c(){const a=this.viewport;return a.uh&&!a.IS}get RXh(){const a=this.zh,b=this.page;if((b===null||b===void 0?void 0:b.type)!=="fixed"||!a)return[];
const c=[];b.elements.toArray().forEach(d=>{const e=new ENs(this.Id);e.Ws(d,a);e.rOc.length&&c.push({element:a.Tf(d),Kt:b.locked||d.locked,rOc:e.rOc})});return c}get um(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"?[...this.selection.La.elements]:[]}constructor(a,b,c){this.viewport=a;this.selection=b;this.Id=c;vps.G(this)}};var FNs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.842 8.889c-1.91 0-3.17-1.026-3.287-2.537l-.006-.076h1.693l.006.064c.076.656.68 1.125 1.594 1.125.902 0 1.494-.504 1.494-1.219v-.011c0-.809-.603-1.254-1.629-1.254H17.9v-1.26h.944c.89 0 1.465-.469 1.465-1.154v-.012c0-.703-.487-1.137-1.319-1.137s-1.388.451-1.459 1.154l-.006.053h-1.628l.005-.07c.123-1.512 1.313-2.496 3.088-2.496 1.817 0 2.989.914 2.989 2.261v.012c0 1.055-.774 1.74-1.764 1.946v.035c1.26.117 2.08.843 2.08 1.992v.012c0 1.535-1.318 2.572-3.293 2.572Z"/></svg>';var GNs=br({medium:FNs});var HNs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.604 8.701v-1.552H15.62v-1.39a103.982 103.982 0 0 1 3.346-5.513h2.484v5.485h1.102v1.418H21.45v1.552h-1.687Zm-2.55-2.924H19.8v-4.189h-.094a73.06 73.06 0 0 0-2.49 4.096v.093Z"/></svg>';var INs=br({medium:HNs});var JNs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.889 8.918c-1.81 0-3.006-1.078-3.106-2.49l-.005-.082h1.605l.012.04c.123.622.703 1.12 1.5 1.12.908 0 1.54-.639 1.54-1.547v-.012c0-.902-.638-1.529-1.534-1.529-.428 0-.791.123-1.073.363a1.512 1.512 0 0 0-.392.47h-1.518l.393-5.005h5.285v1.407h-3.908l-.211 2.408h.105c.34-.569.996-.92 1.805-.92 1.576 0 2.713 1.16 2.713 2.771v.012c0 1.781-1.313 2.994-3.211 2.994Z"/></svg>';var KNs=br({medium:JNs});var LNs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.053 8.918c-1.963 0-3.492-1.389-3.492-4.365v-.012c0-2.83 1.336-4.512 3.498-4.512 1.634 0 2.853.967 3.111 2.291l.012.06h-1.729l-.023-.054c-.2-.527-.68-.884-1.365-.884-1.225 0-1.758 1.2-1.823 2.736-.006.064-.006.129-.006.193h.118c.304-.656 1.013-1.236 2.18-1.236 1.646 0 2.76 1.172 2.76 2.771v.012c0 1.729-1.337 3-3.241 3Zm-1.553-2.976c0 .89.68 1.576 1.541 1.576.856 0 1.541-.674 1.541-1.541v-.012c0-.885-.644-1.53-1.53-1.53-.872 0-1.552.628-1.552 1.5v.007Z"/></svg>';var MNs=br({medium:LNs});var NNs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.331 6.851a6.036 6.036 0 0 0-1.364.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144ZM8.33 6.851a6.036 6.036 0 0 0-1.365.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144Z" fill="currentColor"/></svg>';var urs=br({medium:NNs});var ONs={p:{Icon:__c.Nxg,label:L("ngh+zA")},h1:{Icon:__c.Lrf,label:L("Zlbecw")},h2:{Icon:__c.Nrf,label:L("2hxuYg")},h3:{Icon:GNs,label:L("q9XNpA")},h4:{Icon:INs,label:L("e/pNFw")},h5:{Icon:KNs,label:L("Ak3EXw")},h6:{Icon:MNs,label:L("DlxQWg")},blockquote:{Icon:urs,label:L("e+rlNA")}};var PNs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m12.74 8.22-2.507-4.318a1.202 1.202 0 0 0-2.079 0l-5.85 10.075a1.202 1.202 0 0 0 1.039 1.805H9.96l-.69 3.484c-.198.996.859 1.769 1.749 1.279l3.334-1.836 3.334 1.836c.89.49 1.946-.283 1.749-1.28l-.73-3.686 2.768-2.546c.751-.69.346-1.945-.667-2.066l-3.764-.452-1.608-3.427c-.43-.916-1.734-.916-2.164 0l-.53 1.131ZM9.194 5.1 3.86 14.281h4.73l-1.358-1.249c-.751-.69-.347-1.945.667-2.066l3.764-.452.302-.644L9.194 5.1Zm5.159 3.213 1.686 3.593 3.932.471-2.9 2.668.767 3.87-3.485-1.918-3.485 1.919.767-3.87-2.9-2.669 3.932-.471 1.686-3.593Z" fill="currentColor"/></svg>';var hFs=br({medium:PNs});var RNs=({yye:a,HJb:b})=>{if(!b&&a.rOc[0])return cV(QNs,{dMf:a.rOc[0]});switch(a.element.type){case "table-element":a=__c.kah;break;case "text-element":a=__c.iA;break;case "group-element":a=__c.uIp;break;case "shape-element":a=bk(a.element.ja)?__c.iA:hFs;break;case "line-element":a=__c.Gvf;break;default:a=__c.Ru}return cV(a,{size:"medium"})},QNs=({dMf:a})=>{var b;a=(a=a.attributes.semantics)?(b=ONs[a])===null||b===void 0?void 0:b.Icon:__c.iA;return cV(a,{size:"medium"})};var SNs=({selected:a})=>cV("div",{"aria-hidden":"true",className:AV("Eo4riA",{XFp1Xw:a})});var TNs=parseInt("34px",10),UNs=parseInt("184px",10),XNs=DV(a=>{const {bjf:b,selected:c,role:d,ariaLabel:e,onClick:f,onContextMenu:g,end:h,...k}=a;return cV(VNs,{bjf:b,role:d,selected:c,onClick:f,onContextMenu:g,ariaLabel:e,end:h,children:cV(WNs,{...k})})}),WNs=DV(a=>{const b=a.jd,c=a.icon;return kV("div",{className:"lBJuRw",children:[cV("div",{className:AV(a.Ecs,"BziGlA"),children:b}),cV("div",{className:"JgQKxA",children:c})]})}),VNs=eV(a=>{const {bjf:b,selected:c,role:d,ariaLabel:e,children:f,
end:g,onContextMenu:h,...k}=a;a=!Fc.Yaa&&Vb();return kV("div",{role:d,className:AV("e6Tqqw",{IYbWNQ:a,XFp1Xw:c}),onContextMenu:h,children:[cV(pr,{className:AV(b,"zCfkxw"),ariaLabel:e,mk:"right",...k,children:f}),cV("div",{className:"E1ca_Q",children:g})]})});var YNs=a=>{const b=a.Kt,c=a.U6n,d=a.bFn;a=xV(()=>cV(rV,{children:__c.GOc.map(f=>{const {Icon:g,label:h}=ONs[f];return cV(__c.sv,{start:cV(g,{}),end:c.has(f)?cV(__c.Ar,{}):null,onClick:()=>d(f),children:h},f)})}),[d,c]);const e=gV(({pO:f,...g})=>cV(Yi,{ref:f,...g,variant:"tertiary",size:"small"}),[]);return b?cV(R,{padding:"0.5u",children:cV(ay,{})}):cV(__c.rv,{icon:__c.fv,trigger:e,children:a})};var $Ns=a=>{const {dMf:b,t8d:c,icon:d,Kt:e,...f}=a;return cV(XNs,{...f,jd:cV(Q,{size:"small",lineClamp:1,children:b.Ya}),icon:d,end:cV(ZNs,{Kt:e,dMf:b,t8d:c})})},ZNs=DV(a=>{const b=a.Kt,c=a.dMf,d=a.t8d;a=new Set;c.attributes.semantics&&a.add(c.attributes.semantics);return cV(YNs,{Kt:b,U6n:a,bFn:e=>{d(c,e)}})});var aOs=({selected:a,uVp:b})=>cV("div",{"aria-hidden":"true",className:AV("Q6TvXg",{QTwIyQ:b,alt0MA:a})});var rps=eV(a=>{const b=a.page,c=a.yye,d=a.selected,e=a.wMr,f=a.IIf,g=a.t8d;a=a.Kl;const h=XMs(),[k,l]=nV(!1),m=gV(()=>{e(c.element)},[e,c]),p=c.rOc.length>1;!p&&k&&l(!1);return kV(rV,{children:[kV("li",{children:[cV(XNs,{role:"group",bjf:p?"V9ODmA":"Ryv6KQ",selected:d,ariaLabel:L("n97ugg"),onClick:m,icon:cV(RNs,{yye:c,HJb:p}),jd:cV(a,{element:c.element.ja,page:b,ld:UNs,tf:TNs}),end:c.rOc.length>0?cV(bOs,{YAq:h,etk:k,yye:c,mPr:l,IIf:f}):null}),p&&!k&&cV(SNs,{selected:d})]}),cV("div",{id:h,className:"jShvtg",
children:k&&cV(Wc,{spacing:"1u",children:c.rOc.map((q,r)=>kV("li",{className:"JTzkBw",children:[cV(aOs,{selected:d,uVp:r===0}),cV($Ns,{role:"group",bjf:"Ryv6KQ",Ecs:"CWppGQ",selected:!1,Kt:c.Kt,ariaLabel:L("n97ugg"),onClick:()=>{},dMf:q,t8d:g,icon:cV(QNs,{dMf:q})})]},r))})})]})}),bOs=({YAq:a,etk:b,yye:c,mPr:d,IIf:e})=>{const f=new Set;c.rOc.forEach(h=>{h.attributes.semantics&&f.add(h.attributes.semantics)});const g=()=>{d(!b)};return kV(rV,{children:[c.rOc.length>1&&cV(Yi,{variant:"tertiary",size:"small",
jk:!0,pressed:b,ariaLabel:b?L("5aXSNA"):L("Yu3QyA"),Qg:a,icon:b?__c.Vt:ur,onClick:g}),cV(YNs,{Kt:c.Kt,U6n:f,bFn:h=>{e(c.element,h)}})]})};var tps=a=>{const b=a.um,c=a.vZo;return cV(R,{height:"full",padding:"2u",flexDirection:"column",paddingTop:"0",children:cV(Wn,{children:cV(R,{minHeight:"minTouchableArea",children:cV(Wc,{spacing:"1u",tagName:"ul",children:a.RXh.map((d,e)=>cV(c,{yye:d,mc:b.includes(d.element.ja)},e))})})})})},sps=({title:a,content:b})=>kV(R,{paddingTop:"12u",className:"KTaopA",children:[cV(ld,{size:"8u",direction:"vertical"}),kV(Wc,{spacing:"1u",children:[cV(kr,{alignment:"center",tone:"secondary",size:"small",children:a}),
cV(Q,{alignment:"center",tone:"tertiary",children:b})]})]});var Pps=DV(({onClick:a,oa:b,hl:c})=>cV(c,{Icon:CCj,label:L("2kDi/A"),onClick:a,oa:b})),Qps=DV(({Ci:a,...b})=>cV(a,{...b,Ah:"icon-and-label",icon:CCj,children:L("2kDi/A")}));var cOs={eventType:"editor_alt_text_panel_opened",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),initial_char_count:a.Aok,marked_decorative:a.IDk,impression_id:a.NF,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.yHo,control_context:a.kb,media_type:a.mediaType,is_multiple_fill:a.PKe,control_context_impression_id:a.xte})}},dOs={eventType:"editor_alt_text_panel_closed",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),end_char_count:a.Qyq,marked_decorative:a.IDk,
impression_id:a.NF,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.yHo,interaction_trigger:a.jfb,media_type:a.mediaType,is_multiple_fill:a.PKe,text_is_exactly_generated:a.aUs,control_context_impression_id:a.xte})}},eOs={eventType:"editor_alt_text_panel_char_limit_reached",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),impression_id:a.NF,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.yHo,max_char_count:a.vwr,media_type:a.mediaType,is_multiple_fill:a.PKe,
control_context_impression_id:a.xte})}},zps={eventType:"editor_alt_text_panel_generated",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),impression_id:a.NF,initial_char_count:a.Aok,element_type:a.elementType,resource_id:a.resourceId,media_type:a.mediaType,is_multiple_fill:a.PKe,control_context_impression_id:a.xte})}};var Mps=class{static G(a){P(a,{LEb:wV.ref,kb:wV.ref,BZe:mV,Gcd:mV,E6n:mV,v6n:mV,Ylg:mV,placeholder:mV,mfg:mV,yva:mV,ppd:mV,Zlg:mV,Rgl:mV,$xj:mV})}get BZe(){var a=this.ppd;if(a)return this.a2.JOg.Yuf(a,this.Gcd);if(this.selection.La){a=this.selection.La.container;var b=this.selection.La.Bg,c=this.selection.La.inner,d=this.selection.La.Yo,e=this.selection.La.type,f=["group","layout","layout-cell","sheet-cell-media"];if(b&&d&&e==="elements"&&!f.includes(c===null||c===void 0?void 0:c.type))switch(b.type){case "rect":case "shape":case "grid":case "line":case "chart":case "table":case "sheet":case "text":case "embed":return this.a2.nUj.Yuf(b,
a,d,this.Rgl);case "group":case "controlled":case "layout":break;default:throw new v(b);}}}get Gcd(){if(this.selection.La!=null)return this.v6n;if(this.selection.Ib!=null)return this.E6n}get E6n(){var a=this.ppd;if(a)switch(a.type){case "rect":return fOs(a.fill)?a.fill:void 0;case "shape":a=a.paths.filter(b=>b.fill.dropTarget===!0);if(a.length!==1)break;a=n(a[0]).fill;return fOs(a)?a:void 0;case "controlled":case "chart":case "design":case "embed":case "pill":case "layout":case "break":case "separator":case "table":case "sheet":break;
default:throw new v(a);}}get v6n(){const a=this.Rgl;return a&&fOs(a)?a:void 0}P$h(a){return a.filter(b=>b.fill.dropTarget===!0).length>1}get Ylg(){const a=this.yva,b=this.ppd;if(!a&&!b)return!1;if((b===null||b===void 0?void 0:b.type)==="shape")return this.P$h(b.paths);if(!a)return!1;switch(a.type){case "shape":return this.P$h(a.paths);case "grid":return a.cells.size>1;case "rect":case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":return!1;
default:throw new v(a);}}get placeholder(){var a,b,c;const d=this.BZe;if((d===null||d===void 0?void 0:d.fill)!=null){var e=(a=d.fill.image.ref)===null||a===void 0?void 0:a.media;return(a=d.fill.video.ref)&&((b=this.Zb.GQc(a))===null||b===void 0?void 0:b.altText)||e&&((c=__c.KCa(this.Pa.Vo(e)))===null||c===void 0?void 0:c.text)}}get mfg(){var a,b;return(b=(a=this.BZe)===null||a===void 0?void 0:a.editable)!==null&&b!==void 0?b:!1}get yva(){var a;return(a=this.selection.La)===null||a===void 0?void 0:
a.Bg}get ppd(){const a=this.selection.Ib;if((a===null||a===void 0?0:a.only)&&a.type===1)return a.only.type==="break"&&a.only.marker.Ig.ref?a.only.marker.Ig.ref:a.only}get Zlg(){var a,b,c;return(c=(a=this.yva)===null||a===void 0?void 0:a.type)!==null&&c!==void 0?c:(b=this.ppd)===null||b===void 0?void 0:b.type}get Rgl(){var a;let b;const c=(a=this.selection.La)===null||a===void 0?void 0:a.inner;if(c==null){a=this.yva;if(!a)return;switch(a.type){case "rect":b=a.fill;break;case "shape":a=a.paths.filter(d=>
d.fill.dropTarget===!0);a.length===1&&(b=a[0].fill);break;case "grid":a.cells.size===1&&(b=a.cells.values().next().value.fill);break;case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":break;default:throw new v(a);}b&&!fOs(b)&&(b=void 0)}else switch(c.type){case "grid":b=c.cells[0].fill;break;case "shape":b=c.paths[0].fill;break;case "table":case "sheet":case "sheet-cell-media":case "group":case "background":case "layout":case "layout-cell":case "pages":break;
default:throw new v(c);}return b}get $xj(){var a=this.ppd;if(this.selection.Ib!=null&&a!=null)return(a===null||a===void 0?void 0:a.type)==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!0;if(this.selection.La==null)return!1;a=this.selection.La.Bg;return this.selection.La.inner==null?!0:(a===null||a===void 0?void 0:a.type)==="grid"?a.cells.size===1:(a===null||a===void 0?void 0:a.type)==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!1}constructor(a,b,c,d){this.selection=
a;this.a2=b;this.Pa=c;this.Zb=d;this.LEb=(Mps.G(this),void 0);this.kb=void 0;this.qah=!1;this.Que=this.g_c=void 0}},fOs=a=>{const b=a.video;return a.image.ref!=null||b.ref!=null};var gOs={get nrq(){return Rb("c13bdd7e",!1)}};var hOs=class{static G(a){P(a,{Lhk:fV,wXm:fV,wik:fV,modified:mV})}Lhk(a,b){a.type==="SUCCESS"?(Ips(this.qO,a.altText),b.end()):(Jps(this.qO),b.end("error"))}wXm(a,b){a.type==="SUCCESS"?(Ips(this.qO,a.description),b.end()):(Jps(this.qO),b.end("error"))}Hb(){this.la.Hb({Cb:this.yF.BZe?L("6iK/DQ"):L("pfadYQ"),media:{content:cV(__c.$x,{size:"medium"})},jr:{buttonText:L("/rk4jg"),onClick:fV(()=>this.undo.undo())}})}wik(a,b){this.qO.state="magic_error";this.errorService.pa(a,{Ka:"generateMagicAltText: "+
b})}VFd(a){var b=this.yF.BZe,c=this.qO,d=this.yF.Gcd,e=this.bgr();c.VFd(b);d!==null&&d!==void 0&&d.image.ref&&e?(b=c.wkj.get(d))?(__c.Wr.domain.km(__c.Wr.snapshot(d.image.ref),b.VKm)||(b.CQj=!1,b.VKm=__c.Wr.snapshot(d.image.ref)),c.pzc=b):(b={VKm:__c.Wr.snapshot(d.image.ref),CQj:!1},c.pzc=b,c.wkj.set(d,c.pzc)):c.pzc=void 0;this.yF.qah=!1;this.yF.g_c=Nb();this.yF.Que=a}O5e(a){const b=this.yF.Gcd;this.P.track(eOs,{NF:this.yF.g_c,xte:this.yF.Que,elementType:this.yF.Zlg,resourceId:Bps(b),vwr:a,PKe:this.yF.Ylg,
mediaType:Aps(b)})}get fill(){return n(this.yF.Gcd)}get modified(){const a=this.yF.BZe,b=this.qO.text,c=this.qO.iz;return a?b!==a.text||c!==a.iz:b!==""||c!==!1}constructor(){this.I9f=(hOs.G(this),void 0);this.setText=a=>{a.length>=250&&this.O5e(250);this.qO.text=a;this.qO.state="user_modified"};this.BNi=a=>{this.qO.iz=a;this.qO.state="user_modified"};this.QMq=async()=>{const a=this.V.uCh.sb("suggest_alt_text",{Fb:{name:"editor.editing.alt_text.suggest_alt_text"}});this.qO.state="generating_magic";
Cps(this);let b;try{b=await this.JMq()}catch(c){this.wik(c,"fillRasterizer fail");a.end("error");return}if(b)if(b===this.qO.ami&&this.qO.nfa!=null)setTimeout(()=>{this.Lhk({altText:n(this.qO.nfa),type:"SUCCESS"},a)},500);else try{this.qO.ami=b;const c=await this.yfa();if(gOs.nrq){const d=new __c.R8r({l2m:b}),e=await c.NPm(d);this.Lhk(e,a)}else{const d=new __c.Sms({b5c:b}),e=await c.t7h(d);this.wXm(e,a)}}catch(c){this.wik(c,"getMagicDescription fail"),a.end("error")}};this.ZW=()=>{this.yF.qah=!0;const a=
this.yF.BZe;this.modified&&a&&__c.yie(a,this.qO.altText)!==!1&&this.Hb()};this.onFormOpen=a=>{this.VFd(a);a=this.yF.Gcd;this.P.track(cOs,{NF:this.yF.g_c,elementType:this.yF.Zlg,Aok:this.qO.text.length,IDk:this.qO.iz,resourceId:a?Bps(a):void 0,kb:this.yF.kb,xte:this.yF.Que,PKe:this.yF.Ylg,mediaType:a?Aps(a):void 0})};this.onFormClose=a=>{this.yF.Que=a;a=this.yF.Gcd;const b=this.qO.text;this.P.track(dOs,{NF:this.yF.g_c,xte:this.yF.Que,elementType:this.yF.Zlg,Qyq:b.length,IDk:this.qO.iz,resourceId:Bps(a),
jfb:this.yF.qah?"save_button_clicked":void 0,PKe:this.yF.Ylg,mediaType:Aps(a),aUs:b===this.qO.nfa});this.yF.g_c=void 0;this.yF.Que=void 0;this.yF.qah=!1}}},Nps=class extends hOs{get Gpn(){const a=this.yF.Gcd;return{type:"image",fill:n(a===null||a===void 0?void 0:a.image.ref)}}constructor(a,b,c,d,e,f,g,h,k,l){super();this.yF=a;this.qO=b;this.yfa=c;this.la=d;this.undo=e;this.P=f;this.V=g;this.errorService=h;this.gIb=k;this.Vf=l;this.bgr=()=>{var m=this.yF.yva;const p=this.yF.Gcd;if(!p)return!1;if(this.yF.ppd!=
null){var q,r=p===null||p===void 0?void 0:(q=p.image.ref)===null||q===void 0?void 0:q.tb;return!!r&&r.height>1&&r.width>1}if(!m)return!1;let t;switch(m.type){case "grid":var u;r=Array.from(__c.cn(m).entries());t=n((u=r.find(([w])=>w.fill===p))===null||u===void 0?void 0:u[1]);break;case "rect":t=m;break;case "shape":q=n(m.paths.filter(w=>w.fill===p).at(0));u=__c.vn(m.viewBox,m.slice)/m.width;m=__c.yn(q.d,m.slice);m=__c.CBb(m,q.pb*u);m=__c.le(m);t=n((r=__c.fn(m))===null||r===void 0?void 0:r.Lb());break;
case "group":case "controlled":case "chart":case "layout":case "table":case "sheet":case "line":case "text":case "embed":break;default:throw new v(m);}return!!t&&t.height>1&&t.width>1};this.myp=m=>{m.resetTransform();m.globalCompositeOperation="destination-over";m.fillStyle="#ffffff";m.fillRect(0,0,Math.round(m.canvas.width),Math.round(m.canvas.height));return m};this.JMq=async()=>{var m=this.yF.yva;const p=this.yF.ppd;if(m&&this.Vf!=null)return pa(m.type==="grid"||m.type==="rect"||m.type==="shape"),
await this.I9f,m=__c.jNg(this.Vf,m,this.fill,262144),pa(m.canvas.width>1&&m.canvas.height>1,`rasterized canvas height (${m.canvas.height}) or width (${m.canvas.width}) were too small`),this.myp(m).canvas.toDataURL();if(p!=null)return await this.I9f,m=this.gIb.Yvd(this.Gpn),pa(!!m&&"toDataURL"in m,"fillRasterizer.imageFor returned non canvas image source"),pa(m.width>1&&m.height>1,`rasterized canvas height (${m.height}) or width (${m.width}) were too small`),m.toDataURL()}}},Bps=a=>{if(a){if(a.image.ref)return a.image.ref.media.id;
if(a.video.ref)return a.video.ref.video}},Aps=a=>{if(a){if(a.video.ref)return"video";if(a.image.ref)return"image"}};var iOs,jOs,kOs,Ops;new (iOs=class extends IV{constructor(){super(Ops);jOs()}},(()=>{class a extends(kOs=GV){static G(b){P(b,{t6l:mV})}get t6l(){return this.props.Oe==="fill"?{}:{role:"dialog","aria-label":L("2kDi/A")}}render(){return cV("div",{tabIndex:-1,...this.t6l,children:cV(__c.sr,{preventScroll:"always",children:this.props.children})})}constructor(...b){super(...b);a.G(this)}}({c:[Ops,jOs]}=JV(a,[],[Lb],kOs))})(),iOs);var lOs,mOs,nOs,Fps;
new (lOs=class extends IV{constructor(){super(Fps);mOs()}},(()=>{class a extends(nOs=GV){static G(b){P(b,{nna:fV.bound,aui:fV.bound,onSubmit:fV.bound,componentDidMount:fV.bound,componentWillUnmount:fV.bound})}nna(b){this.props.nna(b)}aui(b,c){this.props.aui(c)}onSubmit(){var b,c;this.props.onSubmit();(b=(c=this.props).oa)===null||b===void 0||b.call(c)}componentDidMount(){var b,c,d,e;(b=this.OSc.current)===null||b===void 0||b.setSelectionRange(this.OSc.current.value.length,this.OSc.current.value.length);(c=
this.OSc.current)===null||c===void 0||c.focus();(d=(e=this.props).Qc)===null||d===void 0||d.call(e)}componentWillUnmount(){var b,c;(b=(c=this.props).gi)===null||b===void 0||b.call(c)}render(){const b=this.props.Zlh,c=this.props.qTh,d=this.props.juc,e=this.props.Oe;return cV(__c.bp,{onSubmit:this.onSubmit,children:cV(R,{padding:"2u",className:AV("TeFiIw",{_3HJrgw:e==="fixed"}),children:kV(Wc,{spacing:"2u",children:[cV(__c.dD,{...b,label:L("ZWXgnQ"),control:this.rpp,children:e==="fill"?this.l0o:void 0}),
cV(__c.Cr,{...c,label:L("23N7Lw"),description:L("33lzww"),onChange:this.aui,className:"_6i0ZkQ"}),cV(Yi,{...d,type:"submit",variant:"primary",alignment:"center",stretch:!0,className:"_8cqUoQ",children:L("vuvBJw")})]})})})}constructor(...b){super(...b);this.OSc=(Fps.G(this),HV());this.rpp=c=>{const {Zlh:{error:d,...e},idp:f,placeholder:g}=this.props;return cV(__c.oD,{...c,...e,maxLength:250,tn:3,maxRows:8,onChange:this.nna,placeholder:f?void 0:g,className:"_3J08Bg",ref:this.OSc,footer:cV(R,{padding:"1.5u",
children:kV(gr,{spacing:"0",Fa:"end",align:"end",children:[f&&cV(fr,{children:cV(f,{})}),cV(fr,{width:"content",children:cV(__c.vv,{count:e.value.length||0,max:250,margins:"none"})})]})})})};this.l0o=({label:c,description:d,error:e,control:f})=>kV(rV,{children:[cV(__c.Qc,{children:c}),kV(Wc,{spacing:"0.5u",children:[f,d,e]})]})}}({c:[Fps,mOs]}=JV(a,[],[Lb],nOs))})(),lOs);var Eps=({magic:a,onClick:b})=>cV(__c.hzh,{size:"small",icon:__c.JD,...a,onClick:fV(b)}),oOs=({JTk:a})=>cV(__c.hk,{message:L("S0T8aQ"),kf:a}),pOs=({eTk:a})=>cV(__c.hk,{message:L("N7FjZA"),kf:a});var Lps=class{static G(a){P(a,{text:wV.ref,iz:wV.ref,wkj:wV.shallow,pzc:wV.shallow,_state:wV.ref,nfa:mV,ami:mV,altText:mV,Zlh:mV,$li:mV,qTh:mV,juc:mV,vBh:mV})}set state(a){this._state=a}VFd(a){this.state="initial";var b;this.text=(b=a===null||a===void 0?void 0:a.text)!==null&&b!==void 0?b:"";var c;this.iz=(c=a===null||a===void 0?void 0:a.iz)!==null&&c!==void 0?c:!1}get nfa(){var a;return(a=this.pzc)===null||a===void 0?void 0:a.nfa}set nfa(a){n(this.pzc).nfa=a}get ami(){var a;return(a=this.pzc)===
null||a===void 0?void 0:a.q3q}set ami(a){n(this.pzc).q3q=a}get altText(){return this.text||this.iz?{text:this.text,iz:this.iz}:void 0}get Zlh(){return{value:this.text,disabled:this.iz||this._state==="generating_magic",description:this.text!==this.nfa||this.iz?L("h8UR7Q"):cV(oOs,{JTk:this.JTk}),error:this.ewp}}get $li(){if(this.t1c&&this.pzc){var a=this.Fvp;return{children:this.text===this.nfa?L("Ff5I3g"):L("SEajlQ"),disabled:a,loading:this._state==="generating_magic",hb:this._state!=="magic_error"&&
this.vBh?L("PG8Mog"):void 0}}}get qTh(){return{checked:this.iz,disabled:this._state==="generating_magic"}}get juc(){return{disabled:this._state==="generating_magic"}}get vBh(){var a,b;return(b=(a=this.pzc)===null||a===void 0?void 0:a.CQj)!==null&&b!==void 0?b:!1}get ewp(){if(this._state==="magic_error")return this.vBh?cV(pOs,{eTk:this.eTk}):L("eK5DjQ")}get Fvp(){return this.vBh||this.iz||this.text===this.nfa}constructor(a,b,c){this.JTk=a;this.eTk=b;this.t1c=c;this.text=(Lps.G(this),"");this.iz=!1;
this.wkj=new Map;this._state="initial"}};var Kps=class{get V(){return this.uCh}get O1r(){return this.Ekj}constructor(a){this.uCh=a.Vd("editor.editing.alt_text")}};var Wps=class{get xhl(){return this.store.xhl}get mKh(){return this.store.mKh}bfh(a,b,c){this.L.LUf(a,b,c)}ONi(a,b,c){this.L.ONi(a,b,c)}gml(a){this.L.gml(a)}constructor(a,b){this.store=a;this.L=b}};var qOs=class extends __c.is{LUf(a,b){a.P8(this.Id,c=>{c.aOa("semantics",this.JBa,b)})}BI(a){this.LUf(a,{index:0,length:a.charLength})}cKa(a,b){if(bk(a)){const c=b==null?b:b.Tf(a);a.paths.forEach(d=>this.m2b(d,c));this.BI(n(a.$c.first()).text)}else super.cKa(a,b)}whd(){Sps()}G2f(){Sps()}sth(){Sps()}X8e(){Sps()}constructor(a,b){super();this.JBa=a;this.Id=b}};var Vps=class{static G(a){P(a,{LUf:fV,ONi:fV,gml:fV})}LUf(a,b,c){(new qOs(c,this.Id)).LUf(a,b)}ONi(a,b,c){(new qOs(c,this.Id)).Ws(a,b)}gml(a){if(this.store.mKh){var b=this.store.gm;na(b!=null);var c=new qOs(a,this.Id);b.type==="focused"&&c.LUf(b.Nc,b.range);b.type==="multi-config"&&[...Tps(b,0),...Tps(b,1),...Tps(b,4),...Tps(b,3),...Tps(b,2)].forEach(d=>{c.BI(d)})}}constructor(a,b){this.store=a;this.Id=b;Vps.G(this)}};var Ups=class{static G(a){P(a,{gm:mV,mKh:mV,xhl:mV})}get gm(){var a;return(a=this.jCh)===null||a===void 0?void 0:a.state}get mKh(){var a;return this.gm!=null&&((a=this.jCh)===null||a===void 0?void 0:a.Ki())===!0}get xhl(){return this.jCh==null?new Set:this.jCh.attributes.semantics}constructor(a){this.jCh=a;Ups.G(this)}};var rOs,sOs,tOs,uOs;
new (rOs=class extends IV{constructor(){super(uOs);sOs()}},(()=>{class a extends(tOs=GV){static G(b){P(b,{r_:wV.ref,PUe:wV.ref,rkd:wV.ref,DKg:wV.ref,mrg:wV.ref,qe:wV.ref,onDragEnd:wV.ref,Fw:wV.ref,onPointerMove:fV.bound,onPointerDown:fV.bound,onPointerUp:fV.bound,onPointerLeave:fV.bound,onPointerCancel:fV.bound,onTouchStart:fV.bound,reset:fV.bound,TKe:mV,Njo:mV,sDa:mV,XPn:mV,E_f:mV,ZC:mV,nIa:mV})}componentDidMount(){this.props.selection.deselectAll();this.addEventListeners();Gb(this,[dV(()=>this.nIa,
b=>{b?this.removeEventListeners():this.addEventListeners()}),Lrs(()=>{this.ref.current!=null&&this.TKe&&this.ubl()})])}componentWillUnmount(){this.reset();this.removeEventListeners()}render(){const b=this.props.gr;return cV("div",{ref:this.ref,className:AV("bIzkSw",this.sDa),children:this.Njo&&b&&cV("div",{className:"_3CeqYg",style:this.XPn,children:cV(b,{})})})}onPointerMove(b){this.rkd===b.pointerId&&b.currentTarget instanceof HTMLElement&&!b.currentTarget.hasPointerCapture(b.pointerId)&&this.setPointerCapture(b);
this.r_=new sj(b.clientX,b.clientY);if(b.pointerId===this.rkd&&this.PUe&&!this.DKg)if(this.mrg){var c;(c=this.qe)===null||c===void 0||c.call(this,b)}else if(b.pointerType==="mouse"&&(b.buttons&1)===0)this.reset(),this.oa();else{c=this.E_f.transformPoint(this.PUe);var d=this.E_f.transformPoint(this.r_),{top:e,left:f,width:g,height:h}=__c.Oj(c,d).Lb();this.zbn(g,h)&&(this.L1=this.props.undo.startBuffering(),this.DKg=!0,Promise.resolve(this.props.One({top:e,left:f,JLl:!0})).then(k=>{if(k&&this.props.VWh!==
"none"){this.mrg=k;var {onDragStart:l,qe:m,onDragEnd:p,Fw:q}=this.PPq(k)||{};l===null||l===void 0||l(b);this.qe=m;this.onDragEnd=p;q&&(this.Fw=q,document.addEventListener("keydown",this.Fw))}else this.reset(),this.oa()}).catch(()=>{}).finally(()=>{this.DKg=!1}))}}PPq(b){var c,d;const e=this.props.wp,f=this.props.pHj,g=this.props.selection.La;if((g===null||g===void 0?void 0:g.type)==="elements"&&(g===null||g===void 0?void 0:g.Ud)===b){var h=this.OPq(b),k=(c=(d=e.controls).B0e)===null||c===void 0?void 0:
c.call(d,h);if(k){var l=f===null||f===void 0?void 0:f(g);return{onDragStart:m=>{k.onDragStart(m);l===null||l===void 0||l.onDragStart(h,m)},qe:m=>{k.qe(m);l===null||l===void 0||l.qe()},onDragEnd:()=>{try{l===null||l===void 0||l.onDragEnd()}finally{k.onDragEnd()}},Fw:l===null||l===void 0?void 0:l.Fw}}}}OPq(b){switch(b.type){case "shape":return"bottom-right";case "line":return"right";case "text":return"right";default:throw new v(b);}}onPointerDown(b){b.preventDefault();if(b.pointerType!=="mouse"||b.button===
0){if(b.pointerType==="pen"||b.pointerType==="touch")if(this.Wgb++,this.Wgb>1){this.rkd&&(this.releasePointerCapture(b),this.rkd=void 0);return}this.rkd=b.pointerId;this.setPointerCapture(b);this.r_=new sj(b.clientX,b.clientY);this.PUe=new sj(b.clientX,b.clientY)}}onPointerUp(b){if(b.pointerType==="pen"||b.pointerType==="touch")this.Wgb=Math.max(0,this.Wgb-1);if(b.pointerId===this.rkd){if(this.PUe&&this.r_){const d=this.E_f.transformPoint(this.PUe),e=this.E_f.transformPoint(this.r_),{top:f,left:g,
width:h,height:k}=__c.Oj(d,e).Lb();if(!this.zbn(h,k)){var c;this.L1=this.props.undo.startBuffering();Promise.resolve(this.props.One({top:f,left:g})).then(l=>{var m;l&&((m=this.props.selection.La)===null||m===void 0?void 0:m.Ud)===l&&this.props.t5c&&this.props.t5c(this.props.selection.La)}).catch(()=>{});(c=this.L1)===null||c===void 0||c.stop()}this.oa()}this.releasePointerCapture(b);this.reset()}}onPointerLeave(){this.reset()}onPointerCancel(b){this.Wgb=Math.max(0,this.Wgb-1);b.pointerId===this.rkd&&
this.reset()}onTouchStart(b){b.preventDefault();var c;Array.from((c=b.touches)!==null&&c!==void 0?c:[]).forEach(d=>{d.identifier!=null&&this.Q3b.add(d.identifier)});this.Q3b.size<2&&(b.stopPropagation(),setTimeout(()=>{var d,e;this.Q3b.size>1&&((e=this.ref.current)===null||e===void 0||(d=e.parentElement)===null||d===void 0||d.dispatchEvent(b))},120))}oa(){setTimeout(()=>{this.props.oa()},0)}setPointerCapture(b){if(b.currentTarget instanceof HTMLElement)try{b.currentTarget.setPointerCapture(b.pointerId)}catch(c){}}releasePointerCapture(b){if(b.currentTarget instanceof
HTMLElement&&b.currentTarget.hasPointerCapture(b.pointerId))try{b.currentTarget.releasePointerCapture(b.pointerId)}catch(c){}}get TKe(){return this.props.viewport.uh&&!this.props.viewport.gZ}ubl(){var b;if(((b=this.ref)===null||b===void 0?void 0:b.current)!=null&&this.TKe){b=this.props.viewport.XB();var {width:c,height:d}=b.Lb(),{top:e,left:f}=b.transform(this.E_f).Lb();Object.assign(this.ref.current.style,{width:`${c}px`,height:`${d}px`,top:`${e*this.props.Sc.scale}px`,left:`${f*this.props.Sc.scale}px`})}}get Njo(){return!this.nIa&&
this.r_!=null&&!this.PUe}zbn(b,c){return b>5||c>5}get sDa(){return this.nIa?"tAyUIw":this.props.VWh==="none"?"XVr5aA":"uGIU_Q"}get XPn(){if(this.r_){var b=this.xhe(this.r_);return{transform:`translate(${b.x}px, ${b.y}px) scale(${this.props.Sc.scale})`}}}xhe(b){return this.props.viewport.gZ?this.props.viewport.Qm(this.props.page).then(Gj(this.props.Sc.scale)).transformPoint(b):this.props.viewport.Dsa().transformPoint(b)}get E_f(){return this.props.viewport.Qm(this.props.page)}get ZC(){return this.props.page.ja}get nIa(){return this.ZC.locked===
!0}constructor(...b){super(...b);this.ref=(uOs.G(this),HV());this.DKg=!1;this.Wgb=0;this.Q3b=new Set;this.addEventListeners=()=>{this.ref.current==null||this.nIa||(this.ref.current.addEventListener("pointermove",this.onPointerMove),this.ref.current.addEventListener("pointerdown",this.onPointerDown),this.ref.current.addEventListener("pointerup",this.onPointerUp),this.ref.current.addEventListener("pointerleave",this.onPointerLeave),this.ref.current.addEventListener("pointercancel",this.onPointerCancel),
this.ref.current.addEventListener("touchstart",this.onTouchStart),this.ref.current.addEventListener("touchend",this.onTouchEnd),this.ref.current.addEventListener("touchcancel",this.onTouchCancel),this.ref.current.addEventListener("lostpointercapture",this.onLostPointerCapture))};this.removeEventListeners=()=>{this.ref.current!=null&&(this.ref.current.removeEventListener("pointermove",this.onPointerMove),this.ref.current.removeEventListener("pointerdown",this.onPointerDown),this.ref.current.removeEventListener("pointerup",
this.onPointerUp),this.ref.current.removeEventListener("pointerleave",this.onPointerLeave),this.ref.current.removeEventListener("pointercancel",this.onPointerCancel),this.ref.current.removeEventListener("touchstart",this.onTouchStart),this.ref.current.removeEventListener("touchend",this.onTouchEnd),this.ref.current.removeEventListener("touchcancel",this.onTouchCancel),this.ref.current.removeEventListener("lostpointercapture",this.onLostPointerCapture))};this.onTouchEnd=c=>{var d;Array.from((d=c.changedTouches)!==
null&&d!==void 0?d:[]).forEach(e=>{e.identifier!=null&&this.Q3b.delete(e.identifier)})};this.onTouchCancel=c=>{c.touches&&c.touches.length!==0||this.Q3b.clear()};this.reset=()=>{var c,d;this.Fw&&(document.removeEventListener("keydown",this.Fw),this.Fw=void 0);(c=this.onDragEnd)===null||c===void 0||c.call(this);if(this.mrg){var e;if(((e=this.props.selection.La)===null||e===void 0?void 0:e.Ud)===this.mrg&&this.props.t5c){var f;this.props.t5c(this.props.selection.La,!0);(f=this.L1)===null||f===void 0||
f.stop()}this.oa()}this.PUe=this.r_=void 0;this.Wgb=0;this.rkd=void 0;this.Q3b.clear();this.DKg=!1;this.onDragEnd=this.qe=this.mrg=void 0;(d=this.L1)===null||d===void 0||d.stop();this.L1=void 0};this.onLostPointerCapture=c=>{if(c.pointerId===this.rkd)this.onPointerUp(c)}}}({c:[uOs,sOs]}=JV(a,[],[Lb],tOs))})(),rOs);var vOs=class{static G(a){P(a,{fof:wV.ref})}constructor(){this.fof=(vOs.G(this),void 0)}};var wOs=({canvas:a,viewport:b,selection:c,wp:d,undo:e})=>{const f=new vOs,g=eV(h=>{if(h.page.ja!==b.jh.ja)return null;var k;const {gr:l,One:m,t5c:p,pHj:q,oa:r,VWh:t}=(k=f.fof)!==null&&k!==void 0?k:{};return m&&r?cV(uOs,{...h,viewport:b,selection:c,wp:d,undo:e,gr:l,One:m,t5c:p,pHj:q,oa:r,VWh:t}):null});a.kc(h=>h===40,(h,k)=>{h.Ag.H$e=k?g:void 0});return{Hkd:f}};var Yps=({eke:a,oK:b,jt:c=2,spacing:d,fua:e,RFa:f})=>cV(hr,{columns:b,spacing:d,fua:e,RFa:f,children:Array(c*Number(b)).fill(0).map((g,h)=>cV("div",{children:cV(a,{})},h))});var aqs=class{static G(a){P(a,{activeIndex:wV.ref,options:mV,rcb:mV})}get options(){return this._options.get()}get rcb(){if(!(this.activeIndex<0||this.activeIndex>=this.options.length))return this.options[this.activeIndex]}constructor(a,b){this.oK=a;this._options=b;this.activeIndex=(aqs.G(this),-1)}},bqs=class{onKeyDown(a){switch(a){case "ArrowDown":this.store.activeIndex<0?$ps(this,0):$ps(this,this.store.activeIndex+this.store.oK);break;case "ArrowLeft":wb.direction===2?$ps(this,this.store.activeIndex+
1):$ps(this,this.store.activeIndex-1);break;case "ArrowRight":wb.direction===2?$ps(this,this.store.activeIndex-1):$ps(this,this.store.activeIndex+1);break;case "ArrowUp":$ps(this,this.store.activeIndex-this.store.oK);break;case "Enter":var b;this.store.rcb&&((b=this.onSelect)===null||b===void 0||b.call(this,this.store.rcb))}}constructor(a,b){this.store=a;this.onSelect=b}};var dqs=()=>cV("div",{}),eqs=()=>cV("div",{});var hqs=()=>cV("div",{className:"M4UWZw",role:"alert",children:cV(Q,{alignment:"center",tone:"tertiary",children:L("ua8pKA")})});var gqs=class{static G(a){P(a,{status:wV.ref})}constructor(){this.status=(gqs.G(this),"none")}};var xOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm9.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-6.25v-15Zm-1.5 0H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h6.25v-15Z" fill="currentColor"/></svg>';var Crs=br({medium:xOs});var [Kqs,Lqs]=[-.2,.8],[Gqs,Hqs]=[.5,2.5],Qqs=class{constructor(a){this.styles=a;var b;if(a){const c=new Map;for(const d of a){a=document.implementation.createHTMLDocument("");const e=document.createElement("style");e.textContent=d.textContent;a.body.appendChild(e);a=(b=e.sheet)===null||b===void 0?void 0:b.cssRules;if(!a)break;for(const f of a)f instanceof CSSStyleRule&&c.set(f.selectorText.toLowerCase(),f.style)}b=c}else b=new Map;this.Pjh=b}},Pqs=/var\(--[^,]+,\s*([^)]+)\)/;var Wqs=new Map([["B",{fontWeight:"bold"}],["STRONG",{fontWeight:"bold"}],["I",{fontStyle:"italic"}],["EM",{fontStyle:"italic"}],["U",{decoration:"underline"}],["S",{sv:"strikethrough"}],["DEL",{sv:"strikethrough"}]]),Rqs=class{finish(){Tqs(this);this.builder.Wb("\n");return{backgroundColor:this.backgroundColor,E3:this.builder.build()}}TMd(a,b){b()}TCb(a){a.textContent&&Vqs(this,a.textContent)}Ws(a,b,c){switch(b){case "inline":Yqs(this,a,c);break;case "block":this.backgroundColor==null&&(this.backgroundColor=
lqs(this.Qea,a));Yqs(this,a,c);this.tMf.endsWith("\u2028")||Vqs(this,"\u2028");break;default:throw new v(b);}}Yie(a,b){this.Ws(a,"inline",b)}t_a(a,b,c){this.Ws(a,"block",c)}F5a(a,b){this.Ws(a,"block",b)}G5a(a,b){this.Ws(a,"block",b)}bje(a,b){this.Ws(a,"block",b)}s_a(a,b){this.Ws(a,"block",b)}$ie(a,b){this.Ws(a,"block",b)}dKa(){}cje(){Vqs(this,"\u2028")}aje(){}constructor(a,b){this.Qea=a;this.builder=b;this.jqm={};this.tMf=""}};var Zqs=10*$t,grs=class{static G(a){P(a,{rKh:mV,AFj:mV,Tcm:mV})}get rKh(){return this.AFj!=null}get AFj(){const a=this.selection.Ib;return(a===null||a===void 0?void 0:a.type)===0&&BVc(a.container)?a.container:null}get Tcm(){const a=this.selection.Ib;return(a===null||a===void 0?void 0:a.type)===0&&(BVc(a.container)||a.container.type==="layout-item-cell")}showNotification(a){this.la.Hb({Cb:a})}constructor(a,b,c,d,e,f,g=ers,h=Sqs){this.selection=a;this.Xa=b;this.k6a=c;this.lyb=d;this.la=e;this.Rr=f;
this.QQq=g;this.y8r=h;grs.G(this)}};var Ars=({active:a,option:b})=>kV(rV,{children:[cV("div",{className:"T6TgDw",children:cV(No,{AE:"primary",selected:a,Hn:"scaleThumbnail",thumbnail:kV("div",{className:"_37wJ8w",children:[cV(ev,{src:b.iff,height:"8u"}),cV("div",{className:"LRwe4g VnXh5Q",children:cV(Q,{size:"large",weight:"bold",children:cV("span",{className:"hS4paQ",children:b.mHf})})})]}),layout:"vertical",$m:"thumbnail"})}),cV(Q,{size:"small",alignment:"center",children:b.label})]});var yOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.5h16a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H4a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM2 8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8Zm4.5 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0ZM8 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm4.75.75a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Zm0 3a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z" fill="currentColor"/></svg>';var srs=br({medium:yOs});var zOs=__c.pxc("8u"),qrs=({active:a,option:b})=>cV(rV,{children:cV(No,{AE:"secondary",selected:a,title:b.label&&cV(rV,{children:cV(Q,{alignment:"center",size:"small",children:b.label})}),thumbnail:cV(ev,{alt:b.y3k,borderRadius:"element",src:b.un,height:zOs}),Hn:"scaleThumbnail",layout:"vertical",$m:"thumbnail"})}),AOs=()=>cV("div",{className:"I1C5KQ",children:cV(R,{border:"low",borderRadius:"baseUnit",display:"flex",flexDirection:"column",height:"full",justifyContent:"center",paddingBottom:"1.5u",
oq:"1.5u",paddingTop:"1.5u",children:kV(gr,{Fa:"center",spacing:"1u",children:[cV(fr,{width:"content",children:cV("div",{className:"K2IwOQ",children:cV(bj,{shape:"circle"})})}),cV(fr,{width:"fluid",children:kV(__c.er,{end:"1u",children:[cV(__c.Yt,{size:"xsmall"}),cV(__c.Yt,{size:"xsmall"})]})})]})})}),rrs=()=>kV(rV,{children:[cV(AOs,{}),cV(ld,{size:"1u"}),cV("div",{className:"TQZXfg",children:cV(__c.Yt,{size:"small"})})]}),trs=()=>cV(AOs,{});var prs=class{constructor(a,b,c,d,e,f,g){this.store=a;this.Wf=b;this.og=c;this.uo=d;this.ia=e;this.Rk=f;this.k6a=g}};var ors=class{static G(a){P(a,{nbi:wV.ref,BMg:wV.ref,FMg:wV.ref,txf:wV.ref,KOf:wV.ref,vFi:wV.ref})}constructor(){this.nbi=(ors.G(this),!1);this.FMg=this.BMg=!1;this.txf=[];this.KOf=[];this.vFi=!1}};var BOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm12.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-3.25v-15Zm-1.5 0h-4.5v15h4.5v-15Zm-6 15v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h3.25Z" fill="currentColor"/></svg>';var COs=br({medium:BOs});var DOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm14.25-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-1.75v-15Zm-1.5 0h-3v15h3v-15Zm-4.5 15v-15h-3v15h3Zm-4.5 0v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h1.75Z" fill="currentColor"/></svg>';var EOs=br({medium:DOs});var FOs=__webpack_require__.p+"images/1c94ede555e1ed73446b74f58315ea42.png";var GOs=__webpack_require__.p+"images/769a83ee7f42d86165825e026d9b790d.png";var HOs=__webpack_require__.p+"images/53b4489844d165e5a4227068d658cd58.png";var IOs=__webpack_require__.p+"images/07f9c993ae9ff47b1fdcd5705c8d82a2.png";var JOs=__webpack_require__.p+"images/9c140b37bedca0b2a2ec5d4b189c82d7.png";var KOs=__webpack_require__.p+"images/5c14b727e99b3aa0d9b90ada6623ad7e.png";var xrs={keyName:"two-col",FDe:["1fr","1fr"],label:J("OqFv8A",[2]),mHf:J("6Iw8IQ",[2]),iff:FOs,icon:Crs},yrs={keyName:"three-col",FDe:["1fr","1fr","1fr"],label:J("OqFv8A",[3]),mHf:J("6Iw8IQ",[3]),iff:GOs,icon:COs},zrs={keyName:"four-col",FDe:["1fr","1fr","1fr","1fr"],label:J("OqFv8A",[4]),mHf:J("6Iw8IQ",[4]),iff:IOs,icon:EOs},Brs=[xrs,yrs,zrs,{keyName:"submenu-right-sidebar",FDe:["2fr","1fr"],label:L("k9WJeg"),mHf:J("6Iw8IQ",[2]),iff:KOs},{keyName:"submenu-left-sidebar",FDe:["1fr","2fr"],label:L("CphetQ"),
mHf:J("6Iw8IQ",[2]),iff:JOs},{keyName:"submenu-left-right-sidebar",FDe:["1fr","2fr","1fr"],label:J("q7aD9g",[3]),mHf:J("6Iw8IQ",[3]),iff:HOs}];var LOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.76 20.363a.661.661 0 0 1-.466-1.13L18.808 4.72a.661.661 0 0 1 .936.935L5.228 20.169a.661.661 0 0 1-.467.194Z" fill="#138EFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20.56 3.94a1.5 1.5 0 0 1 0 2.12l-15 15a1.5 1.5 0 0 1-2.12-2.12l15-15a1.5 1.5 0 0 1 2.12 0Z" fill="#138EFF"/></svg>';var Irs=br({medium:LOs});var Hrs=eV(a=>{const b=a.Huc,c=a.layout,d=a.Ax,e=a.mQ,f=a.RZf,g=a.KQf,h=a.uPa,k=a.oa,l=a.aua;iV(()=>()=>{const m=l?null:g;m===null||m===void 0||m()},[g,l]);return cV(__c.Sbr,{layout:c,className:"_3hJ2ww",children:MOs.map(({value:m,Icon:p},q)=>cV(NOs,{Por:q,Ax:d,mQ:e,Huc:b,RZf:f,uPa:h,oa:k,yMe:m,Icon:p,aua:l},m))})}),NOs=eV(a=>{const b=a.Huc,c=a.RZf,d=a.uPa,e=a.oa,f=a.yMe,g=a.Icon,h=a.Por,k=a.Ax,l=a.mQ,m=a.aua,p=jV(null);iV(()=>{var r;k!==h||(r=p.current)!==null&&r!==void 0&&r.focus()},[k,h,p]);a=
gV(()=>{uc.UI&&l(h)},[l,h]);const q=gV(()=>{c(f);m||(d(f),e())},[d,c,f,e,m]);return cV(Yi,{ref:p,variant:"tertiary",size:"medium",icon:g,onFocus:a,active:f===b,onClick:q})}),MOs=[{Icon:__c.Gvf,value:1},{Icon:__c.Hvf,value:2},{Icon:__c.Ivf,value:3}],OOs=MOs.length;var Grs=class{static G(a){P(a,{RZf:fV.bound,KQf:fV.bound,uPa:fV.bound,mQ:fV})}RZf(a){this.store.Huc===a?this.KQf():this.store.Huc=a}KQf(){this.store.Huc=void 0}jya(){this.P.track(Cvg,{elementType:"line",kb:"click",Cra:"add",rKc:!1})}constructor(a,b,c){this.store=a;this.sc=b;this.P=c;this.uPa=(Grs.G(this),(d,e)=>{if(this.store.ZC){const {width:m,height:p}=__c.Dpe(this.sc,this.store.ZC,{yMe:d},{Yc:"tools_tab_click"});var f={dimensions:{width:m,height:p}}}else f=void 0;({dimensions:f}=f||{});let g;const {top:h,
left:k,JLl:l}=e||{};f&&h&&k&&(g=l?Qj({top:h,left:k,width:5,height:f.height/f.width*5}):Qj({top:h,left:k,width:f.width,height:f.height}));d=this.sc.uPa({yMe:d},{Yc:"tools_tab_click"},{box:g,gKa:{type:"absolute",value:"top"}});this.P.track(Cvg,{elementType:"line",kb:"click",Cra:"add",rKc:!1});return d});this.ssn=d=>{this.mQ((this.store.Ax+(d==="prev"?-1:1)+OOs)%OOs)};this.mQ=d=>{this.store.Ax=d}}};var Frs=class{static G(a){P(a,{isActive:wV.ref,ZAb:fV,Huc:wV.ref,ZC:mV,Ax:wV.ref})}ZAb(a){this.isActive=a!==null&&a!==void 0?a:!1}get aua(){return this.s1a&&Fc.pfb}get ZC(){const a=this.viewport.jh.ja;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.s1a=b;this.isActive=(Frs.G(this),!1);this.Ax=0}};var POs=class{static G(a){P(a,{Cg:mV,m$b:mV})}get Cg(){var a;return((a=this.og.La)===null||a===void 0?void 0:a.pages)||[]}get m$b(){return this.document.pages.last(a=>this.Cg.includes(a))}WJ(){return this.sc.UKa(1)}Y8d(){var a,b;const c=this.m$b||n(this.document.pages.first());pa(this.sc.zL!=null);const {page:d,container:e}=this.sc.zL(c,{Yc:"toolbar",location:"toolbar",C8:"none"},{y2d:this.m$b==null,template:void 0});(b=this.Lk)===null||b===void 0||(a=b.SM)===null||a===void 0||a.call(b,new dp);(a=
(e===null||e===void 0?void 0:e.type)==="concatenated-fixed-page"?e.lha(this.document.pages):d)&&this.og.hU(e,a)}rsl(){var a;return!(!this.og.La||this.og.La.type!=="pages"||((a=this.og.La)===null||a===void 0?0:a.inner)||!this.og.La.Ki())}constructor(a,b,c,d){this.sc=a;this.og=b;this.document=c;this.Lk=d;POs.G(this)}};var QOs=eV(a=>{const b=a.disabled;return cV(a.Ci,{onClick:a.onClick,disabled:b(),icon:__c.aBf,Ah:"icon",tooltip:L("Ae7Bjg"),children:L("Ae7Bjg")})});var ROs=(a,b,c,d)=>{d=d.document;if(d.Ja==="fixed"){var e=new POs(c,b,d),f={Rd:()=>e.rsl(),Button:eV(g=>cV(QOs,{...g,onClick:()=>e.Y8d(),disabled:()=>!e.WJ()})),Pu:{sg:()=>"Add Page"}};a.plugins.pra=()=>f}};var Ors=class{static G(a){P(a,{YNk:fV.bound})}YNk(a){if(this.selection.La&&(a===null||a===void 0?0:a.currentTarget))return this.Qe.lnh(a.currentTarget,{type:"fixed",direction:"right",anchor:"top"});this.selection.Ib&&(this.Qe.Wwc({type:"responsive",box:mV(()=>{const b=this.viewport.dP,c=this.Xa.lQ;if(this.viewport.uF&&b&&c)return c.transform(b.invert())})}),this.Qe.open({trigger:"add_button"}))}constructor(a,b,c,d,e){this.store=a;this.Xa=b;this.viewport=c;this.selection=d;this.Qe=e;Ors.G(this)}},
Qrs=class{static G(a){P(a,{onMouseUp:fV.bound,G_e:fV.bound,I_e:fV.bound,kjl:fV.bound,Hwn:fV.bound,onFocus:fV.bound,onBlur:fV.bound,onMouseDown:fV.bound})}onMouseUp(){this.kjl(!1);document.removeEventListener("mouseup",this.onMouseUp,{capture:!0})}G_e(a){this.store.lmd=a}I_e(a){this.store.Lqe=a}kjl(a){this.store.xbm=a}Pml(a){this.store.lo=a}Hwn(){clearTimeout(this.store.lo);if(!(this.Ma.mode<=20))if(this.Xa.focused)this.G_e(!0);else{var a=setTimeout(fV(()=>this.G_e(!1)),250);this.Pml(a)}}onFocus(){this.I_e(!0)}onBlur(){this.I_e(!1)}onMouseDown(){this.kjl(!0);
document.addEventListener("mouseup",this.onMouseUp,{capture:!0})}constructor(a,b,c){this.store=a;this.Xa=b;this.Ma=c;Qrs.G(this)}};var Nrs=class{static G(a){P(a,{vnh:mV,AKc:mV})}get vnh(){return this.Ma.mode<30?!1:this.selection.Ib&&this.ka.layout===2?!0:this.BCl}get BCl(){return this.AKc}get Brl(){return this.AKc&&!this.selection.Ib}get AKc(){var a=this.selection.Ib;const b=this.selection.La;let c=!1;switch(a===null||a===void 0?void 0:a.type){case void 0:case 2:case 3:case 5:break;case 0:c=a.container.type==="sheet-item-cell-richtext";break;case 1:var d;c=((d=a.only)===null||d===void 0?void 0:d.type)==="sheet";break;case 4:c=
!0;break;default:throw new v(a);}a=!1;switch(b===null||b===void 0?void 0:b.type){case void 0:case "audio":break;case "pages":var e;a=((e=b.inner)===null||e===void 0?void 0:e.type)==="sheet";break;case "elements":var f,g;a=((f=b.inner)===null||f===void 0?void 0:f.type)==="sheet"||((g=b.Ud)===null||g===void 0?void 0:g.type)==="sheet";break;default:throw new v(b);}return c||a}constructor(a,b,c){this.selection=a;this.Ma=b;this.ka=c;Nrs.G(this)}},Prs=class{static G(a){P(a,{lmd:wV.ref,Lqe:wV.ref,xbm:wV.ref,
lo:wV.ref,nQ:mV,cem:mV})}get nQ(){return this.Lqe||this.lmd}get cem(){var a;const b=this.selection;return this.Ma.mode<30||this.ka.layout!==1?!1:((a=b.Ib)===null||a===void 0?void 0:a.type)===0&&__c.Nra(b.Ib.container)}constructor(a,b,c,d){this.Ma=a;this.selection=b;this.ka=c;this.Xa=d;this.lmd=(Prs.G(this),void 0);this.xbm=this.Lqe=!1;this.lo=void 0;this.lmd=this.Xa.focused}};var SOs={enter:"q29WYw",enterActive:"JqJVCA",exit:"crpmLQ",exitActive:"HIuJnA"},TOs=parseInt("250ms",10),Srs=({onClick:a,top:b,show:c,Jle:d,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h})=>{const k=jV(null);a=cV(qr,{variant:"tertiary",uTb:!0,onClick:a,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h,size:"tiny",icon:Nu,Jc:"small",hb:L("yFLjFw"),xI:"/",className:"vgc1dg"});return cV($Ms["default"],{in:c,timeout:TOs,unmountOnExit:!0,mountOnEnter:!0,classNames:SOs,nodeRef:k,children:cV("div",{className:"lQmhtA",
style:{top:b},ref:k,children:d?cV(d,{children:a}):a})})};var Urs=Rb("8862db4f",!1),Rrs=DV(a=>{const b=a.Ci,c=a.onClick,d=a.Icon,e=a.vj,f=a.Yxk==="gradient"?cV("span",{className:"V4Xpkw",children:L("M0/rWw")}):L("M0/rWw");return kV("div",{children:[cV(b,{tooltip:L("yFLjFw"),onClick:c,icon:d,Ah:"icon-and-label",className:"vgc1dg",...a,children:f}),e&&cV(e,{})]})});var UOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.367 8.609A2.08 2.08 0 0 0 17.9 8H7.006v.5h-.002V18.9c0 1.143.935 2.078 2.078 2.078H17.9a2.084 2.084 0 0 0 2.078-2.078v-8.825a2.08 2.08 0 0 0-.61-1.466Z" fill="#11171D"/><path d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#6B6F73"/></svg>';var VOs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 17 8.473 17a7.396 7.396 0 0 1-1.465-.155l.004 2.07a2.084 2.084 0 0 0 2.082 2.073l8.818-.018a2.083 2.083 0 0 0 2.074-2.082l-.018-8.825a2.08 2.08 0 0 0-2.082-2.07l-2.045.004c.101.486.154.981.157 1.478l.002.027A7.5 7.5 0 0 1 8.5 17Z" fill="#fff" fill-opacity=".9"/><path opacity=".5" d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#fff" fill-opacity=".9"/></svg>';var ass=__c.Oxc({medium:UOs},{medium:{light:UOs,dark:VOs}});var Zrs=eV(a=>{const b=a.layout,c=a.Gba,d=a.Ax,e=a.mQ,f=a.LQf,g=a.aua;iV(()=>()=>{const h=g?null:f;h===null||h===void 0||h()},[f,g]);return cV(__c.Sbr,{layout:b,className:"j2S_rw",children:c.map((h,k)=>cV(WOs,{LBs:k,Ax:d,mQ:e,oa:a.oa,shape:h,YQc:a.YQc,Y8:a.Y8,Lge:a.Lge,aua:a.aua},h.key))})}),WOs=eV(a=>{const b=a.shape,c=a.LBs,d=a.Ax,e=a.mQ,f=a.YQc,g=a.Y8,h=a.oa,k=a.Lge,l=a.aua,m=jV(null);iV(()=>{var r;d!==c||(r=m.current)!==null&&r!==void 0&&r.focus()},[d,c,m]);a=gV(()=>{uc.UI&&e(c)},[e,c]);const p=
br({medium:()=>cV(__c.Oig,{shape:b})}),q=gV(()=>{k(b.key);l||(g(b),h())},[g,k,b,h,l]);return cV(Yi,{ref:m,variant:"tertiary",size:"medium",icon:p,onFocus:a,active:b.key===f,onClick:q})}),$rs=eV(({shape:a,FBs:b})=>{const c=b.color;var d;return cV("div",{className:"CFGd6w",style:{...b.dimensions},children:cV("svg",{className:"bnNaZg",viewBox:`0 0 ${a.viewBox.width} ${a.viewBox.height}`,stroke:c,fill:c,children:cV("path",{d:(d=a.jd)!==null&&d!==void 0?d:a.path})})})});var Yrs=class{static G(a){P(a,{Lge:fV.bound,ALi:fV.bound,LQf:fV.bound,Y8:fV.bound,CFa:mV,mQ:fV})}Lge(a){this.store.YQc===a?this.LQf():this.ALi(a)}ALi(a){this.store.YQc=a}LQf(){this.store.YQc=void 0}Y8(a,b){const c=this.store.ZC?this.eUm(a,this.store.ZC):void 0,{dimensions:d,color:e}=c||{};let f;const {top:g,left:h,JLl:k}=b||{};d&&g&&h&&(f=k?Qj({top:g,left:h,width:5,height:d.height/d.width*5}):Qj({top:g,left:h,width:d.width,height:d.height}));b=this.rue(a,e);a=this.sc.Y8(b,a.wk||"shape",{Yc:"tools_tab_click"},
{box:f,gKa:{type:"absolute",value:"top"}},{GNf:this.store.aua?!0:void 0,ycs:!!k});this.jya();return a}get CFa(){if(this.store.RAb&&this.store.ZC)return this.eUm(this.store.RAb,this.store.ZC)}jya(){this.P.track(Cvg,{elementType:"shape",kb:"click",Cra:"add",rKc:!1})}rue(a,b="#000000"){const c=a.slice,d=a.textBox,e=a.pb;return new __c.mv({viewBox:a.viewBox,paths:[new __c.lv({d:a.path,fill:{...ms,color:b},pb:e!==null&&e!==void 0?e:0})],slice:{source:c,fq:c.width,Qp:c.height,horizontal:1,vertical:1},$c:[{box:d,
rJ:4,Yi:2}],kq:{tR:!1,C7:!1}})}constructor(a,b,c,d){this.store=a;this.jc=b;this.sc=c;this.P=d;this.eUm=(Yrs.G(this),(e,f)=>{e=this.rue(e);f=__c.Hpe(this.sc,f,e);return{dimensions:{width:f.width,height:f.height},color:f.paths[0].fill.color||"#000000"}});this.q6q=(e,f)=>{var g;const h=((g=e.Bg)===null||g===void 0?void 0:g.type)==="shape"?e.Bg:void 0;h&&(f&&(f=h.slice,g=h.$c,h.viewBox&&f&&g&&this.jc.aOa("font-size",Math.round(.08*Math.max(h.width,h.height)*.75)*$t)),lA(this.jc,e,"all"))};this.tsn=e=>
{const f=this.store.DBs;this.mQ((this.store.Ax+(e==="prev"?-1:1)+f)%f)};this.mQ=e=>{this.store.Ax=e}}};var Xrs=class{static G(a){P(a,{isActive:wV.ref,ZAb:fV,YQc:wV.ref,RAb:mV,ZC:mV,Ax:wV.ref})}ZAb(a){this.isActive=a!==null&&a!==void 0?a:!1}get RAb(){if(this.YQc)return this.Gba.find(a=>a.key===this.YQc)}get aua(){return this.s1a&&Fc.pfb}get ZC(){const a=this.viewport.jh.ja;return a.type==="fixed"?a:void 0}get DBs(){return this.Gba.length}constructor(a,b,c){this.Gba=a;this.viewport=b;this.s1a=c;this.isActive=(Xrs.G(this),!1);this.Ax=0}};var ess=class{addRow(a){const b=this.store.sheet;var c=this.store.WE;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.V.sb("sheets_insert_row_menu_used",{Fb:{name:"editor.editing.sheet.adding",type:"row"}});this.Si.addRows(b,d,a,c,e,"contextual_menu");e===null||e===void 0||e.ue()}}addColumn(a){const b=this.store.sheet;var c=this.store.J_b;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.V.sb("sheets_insert_column_menu_used",{Fb:{name:"editor.editing.sheet.adding",
type:"column"}});this.Si.IQb(b,d,a,c,e,"contextual_menu");e===null||e===void 0||e.ue()}}constructor(a,b,c){this.store=a;this.Si=b;this.V=c}};var XOs=class{static G(a){P(a,{sheet:mV,kLg:mV,WE:mV,J_b:mV,oVf:mV,Rzj:mV,Qzj:mV,scn:mV,T9m:mV})}get sheet(){var a;return(a=this.CK)===null||a===void 0?void 0:a.sheet}get kLg(){const a=this.CK;if(!(a&&a.cells.size>0&&a.rows.length===0&&a.cols.length===0))return!1;var b=this.Rzj;for(var c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;b=this.Qzj;for(c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}get WE(){const a=this.CK;return a&&(this.kLg||this.scn)?
this.kLg?this.Rzj:a.rows:[]}get J_b(){const a=this.CK;return a&&(this.kLg||this.T9m)?this.kLg?this.Qzj:a.cols:[]}get oVf(){if(this.CK){var a=this.WE.length>0,b=this.J_b.length>0;return{wnj:a,xnj:a,Qmj:b,Rmj:b}}}get Rzj(){const a=this.CK;return a?qd(a.cells.map(b=>b.row)):[]}get Qzj(){const a=this.CK;return a?qd(a.cells.map(b=>b.column)):[]}get scn(){const a=this.CK;if(!a)return!1;const b=a.rows;for(let c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;return!0}get T9m(){const a=
this.CK;if(!a)return!1;const b=a.cols;for(let c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}constructor(){XOs.G(this)}},dss=class extends XOs{static G(a){P(a,{CK:mV})}get CK(){const a=this.selection.La;var b=this.selection.Ib;if(!(this.Ma.mode<=30)){if(b&&b.type===4)return{sheet:b.container.sheet.config,rows:b.rows.map(c=>c),cols:b.columns.map(c=>c),cells:b.cells};if(a&&a.Ki(Vl.Hs)&&a.inner&&a.inner.type==="sheet"&&(a.type==="elements"||a.type==="pages")){switch(a.type){case "pages":b=
a.inner.page.sheet;break;case "elements":b=a.inner.sheet.config;break;default:throw new v(a);}return{sheet:b,rows:a.inner.rows.map(c=>c),cols:a.inner.columns.map(c=>c),cells:a.inner.cells}}}}constructor(a,b){super();this.selection=a;this.Ma=b;dss.G(this)}};var gss=class{static G(a){P(a,{activeCell:wV.ref,Cba:mV})}get Cba(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(gss.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},YOs={ArrowUp:-1,ArrowDown:1},ZOs={ArrowRight:1,ArrowLeft:-1},hss=class{static G(a){P(a,{select:fV,enter:fV,vUg:fV,reset:fV})}select(a,b){this.Qe.qJ({});
this.TEb(a.col+1,a.row+1);this.Qe.m5a({vMb:`${a.col+1}x${a.row+1}`,Use:!0,iZc:!0,kb:b});this.Qe.close({trigger:"insert"})}enter(a,b){a.activeCell=b}vUg(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+YOs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.hj?-1:1)*ZOs[b];(c=a.cells.find(e=>e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&
(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}Kvk(a,b){return!!a.Cba.find(c=>b.row===c.row&&b.col===c.col)}constructor(a,b,c){this.Qe=a;this.TEb=b;this.hj=c;hss.G(this)}};var $Os=({id:a,ariaLabel:b,active:c,qb:d,onMouseEnter:e,onSelect:f})=>{const g=gV(()=>e(d),[d,e]),h=gV(()=>f(d),[d,f]);return cV("button",{tabIndex:-1,"aria-label":b,id:a,className:AV("q8e2xQ",{hd2lkg:c}),onMouseEnter:g,onClick:h})},iss=eV(({controller:a,Uzb:b,yCs:c,L:d})=>{const e=c.activeCell,f=gV(h=>d.enter(c,h),[d,c]),g=gV(h=>d.select(h,"click"),[d]);return cV("div",{className:"KHPSjw",children:cV("div",{role:"grid",id:b,className:"hM8_pw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return cV($Os,{id:l?a.Z3:void 0,ariaLabel:l?J("Yc0w1g",[h.col+1,h.row+1]):void 0,qb:h,active:d.Kvk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var aPs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm-.5 10.75V9.5h4v4.25h-4Zm5.5 0V9.5h4v4.25h-4Zm-5.5 1.5h4v4.25H5a.5.5 0 0 1-.5-.5v-3.75Zm5.5 0v4.25h4v-4.25h-4Zm5.5 4.25v-4.25h4V19a.5.5 0 0 1-.5.5h-3.5Zm0-5.75V9.5h4v4.25h-4Z" fill="currentColor"/></svg>';var bPs=aPs.replace(/currentColor/g,"hsla(221,  62%, 30%, 1)"),cPs=aPs.replace(/currentColor/g,"rgba(255, 255, 255, 0.9)"),mss=__c.Oxc({medium:bPs},{medium:{light:bPs,dark:cPs}});var dPs=({id:a,ariaLabel:b,active:c,qb:d,onMouseEnter:e,onSelect:f})=>{const g=gV(()=>e(d),[d,e]),h=gV(()=>f(d),[d,f]);return cV("button",{tabIndex:-1,"aria-label":b,id:a,className:AV("HcyofA",{_5ejCMw:c}),onMouseEnter:g,onClick:h})},nss=eV(({controller:a,Uzb:b,$Qs:c,L:d})=>{const e=c.activeCell,f=gV(h=>d.enter(c,h),[d,c]),g=gV(h=>d.select(h,"click"),[d]);return cV("div",{className:"dEypTw",children:cV("div",{role:"grid",id:b,className:"_TF0Tw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return cV(dPs,{id:l?a.Z3:void 0,ariaLabel:l?J("LmyhDA",[h.col+1,h.row+1]):void 0,qb:h,active:d.Kvk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var kss=class{static G(a){P(a,{activeCell:wV.ref,Cba:mV})}get Cba(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(kss.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},ePs={ArrowUp:-1,ArrowDown:1},fPs={ArrowRight:1,ArrowLeft:-1},lss=class{static G(a){P(a,{select:fV,enter:fV,vUg:fV,reset:fV})}select(a,b){var c,
d,e;(c=this.Qe)===null||c===void 0||c.qJ({});this.addTable(a.col+1,a.row+1);(d=this.Qe)===null||d===void 0||d.m5a({vMb:`${a.col+1}x${a.row+1}`,Use:!0,iZc:!0,kb:b});(e=this.Qe)===null||e===void 0||e.close({trigger:"insert"})}enter(a,b){a.activeCell=b}vUg(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+ePs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.hj?-1:1)*fPs[b];(c=a.cells.find(e=>
e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}Kvk(a,b){return!!a.Cba.find(c=>b.row===c.row&&b.col===c.col)}jya(){this.P.track(Cvg,{elementType:"table",kb:"click",Cra:"add",rKc:!1})}constructor(a,b,c,d){this.Qe=a;this.P=b;this.addTable=c;this.hj=d;lss.G(this)}};var gPs='<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.022 6.518a.502.502 0 0 0-.502.501v.789a1.254 1.254 0 0 1-2.508 0V6.016c0-1.108.898-2.006 2.007-2.006h12.037c1.108 0 2.006.898 2.006 2.006v1.765a1.254 1.254 0 1 1-2.507 0v-.762a.502.502 0 0 0-.502-.501h-3.762V16.8c0 .415.337.752.753.752h.752a1.254 1.254 0 0 1 0 2.508H9.279a1.254 1.254 0 0 1 0-2.508h.752a.752.752 0 0 0 .752-.752V6.518H7.022Z" fill="#992BFF"/></svg>';var rss=br({medium:gPs});var qss=class{static G(a){P(a,{addText:fV.bound})}jya(){this.P.track(Cvg,{elementType:"line",kb:"click",Cra:"add",rKc:!1})}constructor(a,b,c,d,e){this.store=a;this.jc=b;this.Zc=c;this.sc=d;this.P=e;this.addText=(qss.G(this),f=>{const g=this.store.ZC?this.vUm(this.store.ZC):void 0,{dimensions:h,attributes:k,NZ:l,text:m=""}=g||{};let p;const {top:q,left:r,JLl:t}=f||{};h&&q&&r&&(p=t?{box:Qj({top:q,left:r,width:5,height:h.height/h.width*5})}:{box:Qj({top:q,left:r,width:h.width,height:h.height})});f=this.store.aua?
t?"":m:L("7D/4Bg");return this.sc.addText(f,{Yc:"tools_tab_click",NZ:l||"default"},l?{type:"v2",attrs:{...k,"text-align":"start"}}:void 0,{GNf:this.store.aua},{...p}).then(u=>{this.P.track(Cvg,{elementType:"text_box",kb:"click",Cra:"add",rKc:!1});return u})});this.t5c=f=>{var g;if(this.store.Pe){var h=((g=f.Bg)===null||g===void 0?void 0:g.type)==="text"?f.Bg:void 0;h&&(h.text.Ya.trim().length===0&&(h.text.Yta(`${L("WPMnRQ")}\n`),this.Zc.hY(this.store.Pe,h)),lA(this.jc,f,"all"))}};this.vUm=f=>{const g=
L("WPMnRQ"),{attributes:h,NZ:k,dimensions:l}=__c.lpe(this.sc,f,g);return{attributes:h,NZ:k,dimensions:l,text:g}}}};var pss=class{static G(a){P(a,{isActive:wV.ref,ZAb:fV,Pe:mV,ZC:mV})}ZAb(a){this.isActive=a!==null&&a!==void 0?a:!1}get aua(){return this.s1a&&Fc.pfb}get Pe(){const a=this.viewport.jh;return a.type==="fixed-page"?a:void 0}get ZC(){if(this.Pe)return this.Pe.ja}constructor(a,b){this.viewport=a;this.s1a=b;this.isActive=(pss.G(this),!1)}};var vss=new __c.mv({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.lv({d:"M32 0A32 32 0 1 0 32 64A32 32 0 1 0 32 0Z",fill:{...ms,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},fq:64,Qp:64,horizontal:1,vertical:1},$c:[{box:{top:6,left:6,width:52,height:52},rJ:4,Yi:2}],kq:{tR:!1,C7:!1}}),uss=new __c.mv({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.lv({d:"M0 0H64V64H0z",fill:{...ms,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},fq:64,Qp:64,
horizontal:1,vertical:1},$c:[{box:{top:0,left:0,width:64,height:64},rJ:4,Yi:2}],kq:{tR:!1,C7:!1}});var Lss=DV(a=>cV(a.hl,{Icon:__c.R8g,label:a.WUa==="page"?L("Jtb4MA"):L("WikA8g")})),Mss=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.R8g,label:L("l7115Q")})}),Nss=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.P8g,label:L("PatQHw")})}),Oss=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.V8g,label:L("etlgHg")})}),Pss=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.X8g,label:L("Iwm8FQ")})}),Qss=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.T8g,label:L("m9R5rA")})}),
Rss=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.N8g,label:L("b6YrlQ")})});var Kss=class{static G(a){P(a,{EIa:fV.bound,EBn:fV.bound})}EIa(a,b){const c=this.selection.La;c&&c.type==="elements"&&c.Ki()&&(Dss(this,a),this.tH(a,b))}EBn(){const a=this.selection.La;if((a===null||a===void 0?0:a.elements)&&a.box&&a.Ki()){var b=a.elements;if(!(b.some(k=>k.type==="group")&&b.length>1)){var c=b[0].type==="group"?b[0]:void 0;b=c?c.mb.toArray():b;var d=c?Nj(0,0,c.gb,c.Ub):a.box;b=b.filter(k=>k.type==="text").filter(k=>k.rotation===d.rotation);var e=Fss(new Set(b.map(k=>k.writingMode||
1)));if(e!=null){e=__c.On(e);var f=Yj(d),g=Vj(d);for(const k of b){var h=Qj(k).transform(g).Lb();e?(h.left=0,h.width=d.width):(h.top=0,h.height=d.height);const l=k.gb&&k.gb/k.width,m=k.Ub&&k.Ub/k.height;h=Qj(h).transform(f).Lb();k.top=h.top;k.left=h.left;k.width=h.width;k.height=h.height;k.gb=l&&h.width*l;k.Ub=m&&h.height*m}if(c)this.Zc.n3(a.container,c,b);else for(const k of b)this.Zc.hY(a.container,k)}}}}tH(a,b){var c;const d=this.selection.La,e=this.store.mic;e&&d&&d.type==="elements"&&((c=this.N)===
null||c===void 0||c.track(GMs,{ND:d.container.page.elements.count(),U8c:e.length,gD:e.map(f=>f.type).join(", "),Op:0,Mr:0,anchor:a,kb:b}))}constructor(a,b,c,d,e){this.store=a;this.yr=b;this.Zc=c;this.selection=d;this.N=e;Kss.G(this)}},Hss=class{static G(a){P(a,{iql:mV})}get iql(){return this.store.Iag!=null}constructor(a,b){this.store=a;this.Xa=b;this.EIa=(Hss.G(this),c=>{this.Xa.xU(()=>{const d=this.store.Iag;d&&Ess(d,c)})});this.O8p=()=>{this.Xa.xU(()=>{const c=this.store.Sbh,d=this.store.Iag;if(d&&
c)switch(c){case "center":Ess(d,"left");break;case "left":Ess(d,"right");break;case "right":Ess(d,"center");break;default:throw new v(c);}})}}};var hPs=DV(a=>{const b=a.disabled,c=a.label,d=a.hm,e=a.Icon;a=a.onClick;const f=d&&!__c.Yb();return cV(Yi,{alignment:"start",variant:"secondary",disabled:b,onClick:a,icon:e,stretch:!0,children:kV(gr,{Fa:"start",tagName:"span",spacing:"1u",children:[cV(fr,{children:cV(Q,{tone:jr,lineClamp:1,children:c})}),f&&cV(fr,{width:"content",children:cV(__c.Rc,{jma:d,compact:!0})})]})})});var iPs=DV(a=>cV(R,{className:"_6NSm3Q RX4d5g SX2FBg",children:cV(kr,{size:"xsmall",tone:"primary",id:a.id,children:a.text})}));var jPs=DV(a=>{var b=a.display;const c=a.title,d=a.ZRc,e=a.children;a=(0,__c.pc)();b=cV(hr,{columns:2,fua:b==="compact"?"0":"1u",RFa:"1u",role:"group",tagName:"section",Pf:a,children:e});return c&&d?kV(Wc,{spacing:"1u",children:[cV(iPs,{text:c,id:a}),b]}):b});var Sss=DV(a=>{const b=a.display;var c=a.WUa;const d=a.ZRc,e=a.EIa,f=a.NVd,g=a.HVd,h=a.IVd,k=a.CVd,l=a.BVd;a=a.LVd;const m=gV(()=>e("top","toolbar"),[e]),p=gV(()=>e("left","toolbar"),[e]),q=gV(()=>e("middle","toolbar"),[e]),r=gV(()=>e("center","toolbar"),[e]),t=gV(()=>e("bottom","toolbar"),[e]),u=gV(()=>e("right","toolbar"),[e]);c=c?c==="page"?L("Jtb4MA"):L("WikA8g"):L("s8R+mQ");return kV(jPs,{display:b,title:c,ZRc:d,children:[cV(hPs,{onClick:m,disabled:f,Icon:__c.X8g,label:L("Iwm8FQ")}),cV(hPs,{onClick:p,
disabled:g,Icon:__c.R8g,label:L("l7115Q")}),cV(hPs,{onClick:q,disabled:h,Icon:__c.T8g,label:L("m9R5rA")}),cV(hPs,{onClick:r,disabled:k,Icon:__c.P8g,label:L("PatQHw")}),cV(hPs,{onClick:t,disabled:l,Icon:__c.N8g,label:L("b6YrlQ")}),cV(hPs,{onClick:u,disabled:a,Icon:__c.V8g,label:L("etlgHg")})]})});var kPs,lPs,mPs,nPs,oPs,pPs,Iss;
new (kPs=class extends IV{constructor(){super(Iss);mPs()}},(()=>{class a extends(nPs=GV){static G(b){P(b,{onClick:fV.bound})}onClick(){var b,c;(b=(c=this.props).onClick)===null||b===void 0||b.call(c)}getIcon(b){switch(b){case "left":return __c.Z$q;case "center":return __c.X$q;case "right":return __c.aar;default:throw new v(b);}}render(){const {Ci:b,alignment:c,children:d,...e}=this.props,f=this.getIcon(c||"center");return cV(b,{...e,disabled:c==null,onClick:this.onClick,icon:f,Ah:"icon",tooltip:L("V/DN5w"),
children:L("V/DN5w")})}constructor(...b){super(...b);a.G(this)}}({c:[Iss,mPs]}=JV(a,[],[Lb],nPs))})(),kPs);var Jss;
new (lPs=class extends IV{constructor(){super(Jss);oPs()}},(()=>{class a extends(pPs=GV){static G(b){P(b,{onChange:fV.bound})}onChange(b){this.props.EIa(b)}render(){return cV(R,{padding:"3u",paddingTop:"0",children:cV(__c.Fx,{value:this.props.alignment,onChange:this.onChange,options:[{label:cV(__c.Z$q,{size:"medium"}),value:"left",ariaLabel:L("l7115Q")},{label:cV(__c.X$q,{size:"medium"}),value:"center",ariaLabel:L("PatQHw")},{label:cV(__c.aar,{size:"medium"}),value:"right",ariaLabel:L("etlgHg")}]})})}constructor(...b){super(...b);
a.G(this)}}({c:[Jss,oPs]}=JV(a,[],[Lb],pPs))})(),lPs);var qPs=class{static G(a){P(a,{lua:wV.ref,$F:wV.ref,Gmd:mV,CT:mV,Iwk:mV,Gjo:mV})}get Gmd(){if(this.Ma.mode<40)return!1;const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "elements":var b;const c=a===null||a===void 0?void 0:(b=a.inner)===null||b===void 0?void 0:b.type;return c==="sheet"||c==="sheet-cell-media"?!1:this.ka.layout===1?!0:a.Ki();case "pages":return this.ka.layout===2||a.Ud&&pf(a.Ud)?!1:a.pages.length===1&&a.pages.every(d=>d.type!=="responsive");case "audio":return!1;
case void 0:return this.Iwk;default:throw new v(a);}}get CT(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="elements"&&a.elements.every(b=>b.type==="line")?"start-and-end-points":"size-and-position"}get Iwk(){const a=this.lua,b=this.toolbar;return a!=null&&b.hZ(a)}get Gjo(){const a=this.Gmd,b=this.$F,c=this.Iwk;return this.ka.layout===1&&a&&!(b==="layers"&&c)}constructor(a,b,c,d){this.selection=a;this.ka=b;this.toolbar=c;this.Ma=d;this.lua=(qPs.G(this),void 0);this.$F="arrange"}};var rPs=class{static G(a){P(a,{xZe:fV.bound,pLi:fV.bound,Z9b:mV,ZKd:fV.bound})}xZe(){this.store.$F="layers"}pLi(){this.store.$F="arrange"}get Z9b(){return this.store.lua==null?!1:this.toolbar.hZ(this.store.lua)}eC(){if(this.store.lua!=null)return this.toolbar.kB(this.store.lua)}cD(){if(this.store.lua!=null)return this.toolbar.vX(this.store.lua)}ZKd(){const a=this.selection.La;this.N.track(IMs,{ND:(a===null||a===void 0?void 0:a.type)==="elements"?a.container.page.elements.count():0,U8c:(a===null||
a===void 0?0:a.elements)?a.elements.length:0,gD:(a===null||a===void 0?0:a.elements)?a.elements.map(b=>b.type).join(", "):"",Op:0,Mr:0,ve:this.store.$F})}constructor(a,b,c,d){this.store=a;this.selection=b;this.toolbar=c;this.N=d;rPs.G(this)}};var sPs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.035 8.341c-.857-.257-1.356-.67-1.528-1.527a.187.187 0 1 0-.373 0c-.258.857-.67 1.356-1.528 1.527a.187.187 0 0 0 0 .374c.857.257 1.356.67 1.528 1.528a.187.187 0 0 0 .373 0c.258-.857.67-1.356 1.528-1.528a.187.187 0 1 0 0-.374ZM22.983 4.16c-2.034-.406-2.911-1.386-3.318-3.369a.25.25 0 0 0-.24-.188.25.25 0 0 0-.242.19c.004-.007-.005.004 0 0-.407 2.034-1.334 2.961-3.317 3.368a.254.254 0 1 0 0 .508c2.033.407 2.907 1.366 3.313 3.349a.25.25 0 0 0 .245.21.25.25 0 0 0 .243-.197c.003-.004-.003.005 0 0 .406-2.034 1.333-2.955 3.316-3.362a.254.254 0 1 0 0-.508Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.063 3H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h6.116a4 4 0 0 0 2.838-1.182l3.885-3.912A4 4 0 0 0 21 13.088V9.563h-1.5v2.224a1.25 1.25 0 0 1-1.25 1.23h-1.5a3.75 3.75 0 0 0-3.75 3.75v1.483c0 .69-.56 1.25-1.25 1.25H7A2.5 2.5 0 0 1 4.5 17V7A2.5 2.5 0 0 1 7 4.5h7.063V3Zm.827 15.761a2.5 2.5 0 0 1-.551.42c.104-.291.161-.604.161-.931v-1.483a2.25 2.25 0 0 1 2.25-2.25h1.5c.314 0 .616-.053.898-.15a2.493 2.493 0 0 1-.374.482l-3.884 3.912Z" fill="currentColor"/></svg>';var tPs=br({medium:sPs});var Lts=a=>{const {hl:b,$f:c,...d}=a;return cV(b,{...d,Icon:c?tPs:__c.ohk,label:L("j0l+TQ")})},Kts=class extends GV{static G(a){P(a,{isc:fV.bound,Grc:fV.bound,qD:fV.bound,NYb:fV.bound})}isc(){this.props.isc();this.props.oa()}Grc(){this.props.Grc();this.props.oa()}qD(){this.props.qD();this.props.oa()}NYb(){this.props.NYb();this.props.oa()}render(){return kV(Vo,{role:"menu",className:"kiVd2Q",children:[this.props.oId?cV(Wt,{onClick:this.isc,start:cV(__c.LIi,{size:"medium"}),children:L("OIpCMA")}):null,
cV(Wt,{onClick:this.Grc,start:cV(__c.LBh,{size:"medium"}),children:L("fiROpg")}),cV(Wt,{onClick:this.qD,start:cV(__c.Jjg,{size:"medium"}),children:L("RLWDLA")}),cV(Wt,{onClick:this.NYb,start:cV(__c.vKr,{size:"medium"}),children:L("v++iLQ")})]})}constructor(...a){super(...a);Kts.G(this)}};var Its=a=>cV(a.Ci,{pressed:a.open,icon:a.$f?tPs:void 0,Ah:a.$f?"icon-and-label":"label",onClick:a.onClick,children:L("j0l+TQ")}),Jts=class extends GV{static G(a){P(a,{Grc:fV.bound,qD:fV.bound,isc:fV.bound,NYb:fV.bound})}Grc(){this.props.Grc();this.props.oa()}qD(){this.props.qD();this.props.oa()}isc(){this.props.isc();this.props.oa()}NYb(){this.props.NYb();this.props.oa()}render(){return kV(Vo,{role:"menu",className:this.props.ka.layout===1?"_3gcOhg":void 0,children:[this.props.oId?cV(this.FYl,{children:cV(Wt,
{onClick:this.isc,start:cV(__c.LIi,{size:"medium"}),children:L("OIpCMA")})}):null,cV(this.zRo,{children:cV(Wt,{onClick:this.Grc,start:cV(__c.LBh,{size:"medium"}),children:L("fiROpg")})}),cV(Wt,{onClick:this.qD,start:cV(__c.Jjg,{size:"medium"}),children:L("RLWDLA")}),cV(Wt,{onClick:this.NYb,start:cV(__c.vKr,{size:"medium"}),children:L("v++iLQ")})]})}constructor(a){super(a);this.FYl=(Jts.G(this),void 0);const b=this.props.pT;this.FYl=(a=this.props.oId)&&b?c=>cV(b,{children:c.children}):c=>c.children;
this.zRo=!a&&b?c=>cV(b,{children:c.children}):c=>c.children}};var uPs={eventType:"magic_sort_interacted",Oa(a){return rf({control_context:a.kb,sort_type:a.K0b,status:a.status,failure_code:a.ZHb,failure_reason:a.Gn,num_elements_selected:a.U8c,element_types:a.gD,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}};var vPs,wPs,xPs,Dts=({title:a,message:b})=>{a=a!==null&&a!==void 0?a:L("TSfhVA");return cV(__c.pd,{title:a,explanation:cV(()=>cV(Q,{tone:"secondary",children:cV(__c.gk,{message:b})}),{}),button:{children:L("21qtHA")}})},yts;
new (vPs=class extends IV{constructor(){super(yts);wPs()}},(()=>{class a extends(xPs=GV){static G(b){P(b,{zce:wV.ref})}componentDidMount(){this.handle=window.setInterval(fV(()=>this.zce++),1E3)}componentWillUnmount(){window.clearInterval(this.handle)}render(){const {ghb:b=this.ghb,bLr:c}=this.props,d=1-Math.pow(1.5,-this.zce);return cV(__c.zr,{open:!0,children:cV(R,{padding:"2u",children:kV(Wc,{spacing:"2u",align:"center",children:[cV(kr,{alignment:"center",children:L("dT7lrw")}),kV(Wc,{spacing:"1u",
children:[cV(__c.OC,{value:d*100}),cV(Q,{alignment:"center",tone:"secondary",margins:"legacy",children:cV(__c.Ewm,{ghb:b})})]}),cV(Yi,{variant:"secondary",onClick:c,children:L("iIww4Q")})]})})})}constructor(...b){super(...b);this.ghb=(yts.G(this),Math.floor(Math.random()*23));this.zce=0}}({c:[yts,wPs]}=JV(a,[],[Lb],xPs))})(),vPs);var yPs=class{get(a,b){if(b.length&&!b.some(e=>!this.trg.has(e))){var c=b.map(e=>this.trg.get(e)).filter(vb),d=c.map(e=>new Set(e));c=new Set(c.flatMap(e=>e));for(const e of c)if(e.amq===b.length&&d.every(f=>f.has(e)))if(hts(e,a))ets(this,b,e);else return e}}constructor(){this.trg=new WeakMap}},fts=class{get DJn(){return this.Quo}get xKd(){return this.Kvo.map(a=>a.deref()).filter(vb)}set xKd(a){this.Kvo=a.map(its)}update(a,b){this.Quo=a;this.xKd=b;this.Omh=new WeakMap;b.forEach(c=>this.Omh.set(c,
c.text.Ya))}constructor(a,b,c,d){this.page=a;this.amq=b;this.Omh=new WeakMap;this.Kvo=[];this.Quo=d;this.xKd=c;c.forEach(e=>this.Omh.set(e,e.text.Ya))}};var Fts=class{static G(a){P(a,{state:wV.ref,pCj:wV.ref,gm:mV,um:mV,cch:mV,sgh:mV,oId:mV,$ce:mV,sNh:mV})}get jh(){const a=this.ya.kw.jh;pa(a.type!=="responsive-page");return a}get gm(){const a=this.selection.La;if(a&&a.type==="elements"&&a.Ki())return a}get um(){return this.gm&&this.gm.elements?this.gm.elements:[]}get cch(){const a=[],b=c=>{bk(c)?a.push(c):c.type==="group"&&c.mb.forEach(b)};this.um.forEach(b);return a}get sgh(){return this.cch.length>=1}get oId(){return this.X!=null}get $ce(){var a;
return(a=this.selection.La)===null||a===void 0?void 0:a.box}get sNh(){if(this.cch.length===0)return{x:0,y:0};const a=this.cch.flatMap(b=>Qj(b).ih());return __c.Oj(...a).tl}constructor(a,b,c){this.selection=a;this.ya=b;this.X=c;this.state=(Fts.G(this),0)}};var ots=18*$t,mts=ots+16;var zts={Gs:3E4},tts=["#252627","#f6f7f8"],Cts=["#ffffff","#0e1318"],Hts=class{static G(a){P(a,{yPg:fV})}hNa(){this.store.pCj&&this.toolbar.kB(this.store.pCj)}async yPg(a,b,c){var d,e=(d=this.selection.La)===null||d===void 0?void 0:d.container;if((e===null||e===void 0?void 0:e.type)==="fixed-page"){d=e.page;c=c.map(k=>k.Ied);var f=this.rim.get(d,c);if(f&&this.document.pages.has(f.page)){var g,h;e=f.page.elements.filter(l=>f.xKd.some(m=>m===l));const k=Ef(this.document).ub(f.page);e.length>0&&((g=
(h=this.Wq).tDa)===null||g===void 0||g.call(h,e,k))}g=(f===null||f===void 0?0:f.DJn)?vj(this.store.sNh,f.DJn):this.store.sNh;sts(b,g);a=await vts(this,a,b,g);gts(this.rim,c,a,vj(this.store.sNh,g),d)}}get Qvc(){const a=[],b=c=>{if(bk(c))c.rotation=0,a.push({Ied:c,a2n:[]});else if(c.type==="group"&&c.mb.filter(bk).length>0){const h=this.store.jh;var d=c.rotation;c=h.Tf(c);if(c=__c.Usf(this.RWa,[c])){({elements:c}=c.KLd());var e=[],f=[];c.forEach(k=>{bk(k)?e.push(k):f.push(k)});if(f.length){c=f.map(k=>
h.Tf(k));c=__c.Tsf(this.RWa,c,d);if(!c)return;c=c.group();if(c===null||c===void 0||!c.ja)return;e.push(c===null||c===void 0?void 0:c.ja)}this.store.selection.zcd(h,...e);e.forEach(b)}}else{var g=0;for(const h of a){const k=Qj(h.Ied),l=Qj(c),m=$ss(k,l);Wss(k,l,m)&&g<=m&&(d=h,g=m)}d!=null&&d.a2n.push(c)}};this.store.um.forEach(b);return a}Pgh(){this.la.Hb({Cb:L("Of29Hg"),BV:!1})}slb(a){return this.V.sb("cluster_elements",{Fb:{name:"editor.editing.arrangement.clustering",type:a}})}tH(a,b){const c=this.store.gm,
d=this.N;if(c!=null&&d!=null){var e={};c.elements.map(f=>{f=f.type;e[f]=(e[f]||0)+1});Yo({nb:a.nb(),P:d,event:uPs,props:{...b,U8c:c.elements.length,gD:e.toString()}});a.ue()}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A){this.document=a;this.store=b;this.toolbar=c;this.selection=d;this.sc=e;this.Wq=f;this.RWa=g;this.kWe=h;this.eb=k;this.undo=l;this.sf=m;this.Vf=p;this.errorService=q;this.la=r;this.N=t;this.V=u;this.QSg=w;this.Ea=x;this.alert=y;this.A2d=z;this.xxi=A;this.bLj=(Hts.G(this),
new Map);this.rim=new yPs;this.Grc=fV(async B=>{var D;if(this.store.state!==1){var G=this.slb("color"),I=this.undo.startBuffering(),K=this.Qvc,N=await xts(this,"color",K);N=lts("color",this.sf,N,(D=this.store.$ce)===null||D===void 0?void 0:D.width);try{this.yPg("color",N,K),this.tH(G,{kb:B,K0b:"color",status:"succeeded"})}catch(M){this.tH(G,{kb:B,K0b:"color",status:"failed"}),this.errorService.pa(M,"Error sorting elements by color")}finally{oV(()=>I.stop())}}});this.qD=fV(async B=>{var D;if(this.store.state!==
1){var G=this.slb("author"),I=this.undo.startBuffering(),K=this.Qvc,N=await xts(this,"author",K);N=lts("author",this.sf,N,(D=this.store.$ce)===null||D===void 0?void 0:D.width);try{await this.yPg("author",N,K),this.tH(G,{kb:B,K0b:"author",status:"succeeded"})}catch(M){this.tH(G,{kb:B,K0b:"author",status:"failed"}),this.errorService.pa(M,"Error sorting elements by author")}finally{oV(()=>I.stop())}}});this.isc=fV(async B=>{if(this.store.state!==1){var D=this.slb("topic"),G=this.undo.startBuffering();
try{const I=await Ats(this);await oV(async()=>{if(I)switch(I.type){case "SUCCESS":var K,N,M=I.qim,O=I.Xtn;const W=I.fJm;var U=I.Ytn;const X=[];for(const Z of M)M=Bts(this,Z.yGr),X.push({key:Z.bSp,Qvc:M});O=Bts(this,[...O,...(W||[])]);O.length!==0&&X.push({key:U,Qvc:O});U=lts("topic",this.sf,X,(K=this.store.$ce)===null||K===void 0?void 0:K.width);await this.yPg("topic",U,this.Qvc);this.tH(D,{kb:B,K0b:"topic",status:"succeeded"});(N=this.xxi)===null||N===void 0||N.call(this);await this.QSg();break;
case "FAILURE":Ets(this,I);this.tH(D,{kb:B,K0b:"topic",status:"failed",ZHb:I.error,Gn:I.message});break;default:throw new v(I);}})}catch(I){this.tH(D,{kb:B,K0b:"topic",status:"failed"}),this.Pgh(),this.errorService.pa(I,"Error sorting elements by topic")}finally{oV(()=>{G.stop();this.store.state=0}),this.bLj.clear()}}});this.NYb=fV(async B=>{var D;if(this.store.state!==1){var G=this.slb("reaction"),I=this.undo.startBuffering(),K=this.Qvc,N=await xts(this,"reaction",K);N=lts("reaction",this.sf,N,(D=
this.store.$ce)===null||D===void 0?void 0:D.width);try{await this.yPg("reaction",N,K),this.tH(G,{kb:B,K0b:"reaction",status:"succeeded"})}catch(M){this.tH(G,{kb:B,K0b:"reaction",status:"failed"}),this.errorService.pa(M,"Error sorting elements by reaction")}finally{oV(()=>I.stop())}}})}};var zPs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m19.48 10.82 1.7.83a1 1 0 0 1 0 1.8L15 16.49V14.8l4.6-2.26-1.82-.9 1.7-.83zm-14.96 0-1.7.83a1 1 0 0 0 0 1.8L9 16.49V14.8l-4.6-2.26 1.82-.9-1.7-.83zm8.23 9.5L15 18.07a.75.75 0 0 1 1.06 1.06l-2.83 2.83c-.68.68-1.79.68-2.47 0l-2.83-2.83a.75.75 0 0 1 1.06-1.06l2.26 2.26V6.9a.75.75 0 1 1 1.5 0v13.43zM15 11.35V9.68l4.6-2.27L12.66 4c-.42-.2-.9-.2-1.32 0L4.4 7.4 9 9.68v1.67L2.82 8.3a1 1 0 0 1 0-1.8l7.86-3.86a3 3 0 0 1 2.64 0l7.86 3.87a1 1 0 0 1 0 1.79L15 11.35z"/></svg>';var vus=br({medium:zPs});var APs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 3.82v9.43a.75.75 0 1 1-1.5 0V3.81L8.99 6.07A.75.75 0 1 1 7.93 5l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 5A.75.75 0 0 1 15 6.07l-2.25-2.25zM15 8.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 8.49v1.67L4.4 12.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26V8.48zm4.48 7.34 1.7.83a1 1 0 0 1 0 1.8l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8l1.7-.83 1.7.83-1.82.9 6.94 3.41c.42.2.9.2 1.32 0l6.94-3.41-1.82-.9 1.7-.83z"/></svg>';var xus=br({medium:APs});var BPs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 5.82v8.43a.75.75 0 1 1-1.5 0V5.81L8.99 8.07A.75.75 0 1 1 7.93 7l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 7A.75.75 0 0 1 15 8.07l-2.25-2.25zM15 10.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 10.49v1.67L4.4 14.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26v-1.67z"/></svg>';var wus=br({medium:BPs});var CPs=So("1"),qus=DV(a=>cV(a.hl,{Icon:__c.kar,label:L("T1qMzw")})),rus=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:wus,label:L("Pxfk5A")})}),sus=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:xus,label:L("pbaLlQ")})}),uus=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:vus,label:L("t3ZWGw")})}),tus=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.par,label:L("u+2kVg")})}),DPs=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.kar,label:L("1PXGVQ"),hm:CPs})});var kus=class{static G(a){P(a,{Hic:fV.bound})}Hic(a,b,c){if(this.store.vN){var d=this.selection.La;if(d&&d.type==="elements"){var e=this.V.sb("element_z_index_changed",{Fb:{name:"editor.element_z_index_changed"}});switch(a){case "forward":if(c)Nts(d,c);else{var f,g=d.elements;(c=(f=this.store.wrg)===null||f===void 0?void 0:f.next(g[g.length-1]))?Nts(d,c):Pts(this,d)}break;case "backward":c?Ots(d,c):(f=d.elements,(c=(g=this.store.wrg)===null||g===void 0?void 0:g.previous(f[0]))?Ots(d,c):Qts(this,d));
break;case "front":Pts(this,d);break;case "back":Qts(this,d);break;default:throw new v(a);}this.tH(d,a,b,e)}}}tH(a,b,c,d){const e=a.elements,f={ND:a.container.page.elements.count(),U8c:e.length,gD:e.map(g=>g.type).join(", "),Op:0,Mr:0,direction:b,kb:c};d.nb().tk(({Hi:g})=>{this.N.track(HMs,{...f,Qb:g()})});d.ue()}constructor(a,b,c,d){this.store=a;this.selection=b;this.N=c;this.V=d;kus.G(this)}};var mus=Vk("]"),nus=Vk("["),ous=Vk(So("]")),pus=Vk(So("[")),lus=DV(a=>{const b=a.aeq,c=a.Lfq,d=a.Kfq,e=a.$Sr;return kV(jPs,{display:a.display,children:[cV(hPs,{className:"CLbnnA",onClick:()=>e("forward"),disabled:a.Feq,Icon:wus,label:L("Y8Drbw")}),cV(hPs,{className:"_4CQkCw",onClick:()=>e("backward"),disabled:b,Icon:__c.par,label:L("LypM5g")}),cV(hPs,{onClick:()=>e("front"),disabled:c,Icon:xus,label:L("SOg37g")}),cV(hPs,{onClick:()=>e("back"),disabled:d,Icon:vus,label:L("r/JBnA")})]})});var jus=class{static G(a){P(a,{vN:mV,wrg:mV,H0h:mV,G0h:mV,pfg:mV,Kog:mV,xog:mV,PVf:mV,CLf:mV})}get vN(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"&&this.selection.La.Ki()}get wrg(){const a=this.selection.La;if(a&&a.type==="elements"){var b=a.box;return a.container.page.elements.RQa(c=>!!b&&b.intersects(Qj(c)))}}get H0h(){const a=this.CLf,b=this.selection.La;if(!b||b.type!=="elements")return!1;const c=b.elements.length;return a.indexOf(b.elements[0])===a.length-
c}get G0h(){const a=this.selection.La;if(!a||a.type!=="elements")return!1;const b=a.elements.length;return this.CLf.lastIndexOf(a.elements[b-1])===b-1}get pfg(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ki()}get Kog(){return!this.pfg||this.H0h}get xog(){return!this.pfg||this.G0h}get PVf(){const a=this.selection.La;if(this.Ma.mode!==40||this.ka.layout!==2)return!1;switch(a===null||a===void 0?void 0:a.type){case "pages":return a.pages.every(b=>b.type!=="responsive");case "elements":return!0;
case "audio":case void 0:return!1;default:throw new v(a);}}get CLf(){const a=this.selection.La;if(!a||a.type!=="elements")return[];const b=a.box;return b?a.container.page.elements.filter(c=>b.intersects(Qj(c))):[]}constructor(a,b,c){this.selection=a;this.Ma=b;this.ka=c;jus.G(this)}};var EPs=DV(a=>cV(a.Ci,{Ah:"icon-and-label",icon:a.icon,pressed:a.open,disabled:a.disabled,onClick:a.onClick,children:a.label})),yus=DV(a=>cV(EPs,{...a,icon:wus,label:L("Y8Drbw")})),zus=DV(a=>cV(EPs,{...a,icon:xus,label:L("SOg37g")})),Aus=DV(a=>cV(EPs,{...a,icon:__c.par,label:L("LypM5g")})),Bus=DV(a=>cV(EPs,{...a,icon:vus,label:L("r/JBnA")}));var fus=DV(a=>cV(a.Ci,{Ah:"icon-and-label",icon:__c.kar,pressed:a.open,onClick:a.onClick,children:L("rx7oXA")}));var FPs,GPs,HPs,IPs={type:"fixed",scale:1,rA:{HNa:0}},Zts;
new (FPs=class extends IV{constructor(){super(Zts);GPs()}},(()=>{class a extends(HPs=GV){static G(b){P(b,{m9a:mV,Hg:mV})}get m9a(){const b=this.props.eb.Zk(this.props.page);return!xg(b)}get Hg(){const b=this.props.eb.Zk(this.props.page);pa(!xg(b));return ug(4,b)}render(){var b=this.props.page,c=this.props.ld;const d=this.props.F5;var e=c;if(this.m9a){e=this.Hg.width;c=this.Hg.height;const f=this.nd.get();e*=f;c*=f}b=b.Oc.first();return cV("div",{style:{width:e,height:c},className:"U4ZyRw",children:this.m9a&&
b?cV(d,{fill:b,zq:void 0,TQb:!0,Sc:IPs,ld:this.Hg.width,tf:this.Hg.height,nd:this.nd,xvc:!1}):cV(__c.hFb,{origin:this.origin,zoom:this.zoom})})}constructor(...b){super(...b);this.origin=(Zts.G(this),mV(()=>new sj(0,0)));this.zoom=mV(()=>1);this.nd=mV(()=>this.props.ld/this.Hg.width)}}({c:[Zts,GPs]}=JV(a,[],[Lb],HPs))})(),FPs);var JPs=eV(a=>{const {selected:b,ariaLabel:c,hb:d,children:e,badge:f,onContextMenu:g,...h}=a;a=!Fc.Yaa&&Vb();return cV("div",{className:AV("hiyW1Q","_7g14zg",{F00yww:a}),onContextMenu:g,children:kV(__c.Vu,{Dzb:"compact",children:[cV(pr,{className:AV("TTS2mw",{F00yww:a,qJ7DdQ:b}),ariaLabel:c,hb:d,mk:"right",...h,children:e}),f]})})});var KPs,LPs,MPs,NPs,OPs,PPs,QPs,RPs=parseInt("36px",10)+2*parseInt("8px",10)+2*parseInt("2px",10),SPs=parseInt("8px",10)/2,TPs=parseInt("8px",10)*1.5,UPs=parseInt("8px",10)*2,eus,VPs=class extends GV{componentDidMount(){Gb(this,[dV(()=>this.props.mTe.get(),a=>this.props.Pll(a),{fireImmediately:!0}),dV(()=>this.props.um.get(),()=>this.props.Pni(),{fireImmediately:!0})])}render(){const a=this.props.layout;var b=this.props.QNo;const c=this.props.Hfp,d=this.props.B6i,e=this.props.klp,f=a===2?`${SPs}px ${TPs}px ${__c.dd().bottom+
TPs}px`:`${SPs}px ${UPs}px ${UPs}px`,g=this.XZp(f);b=this.props.vu?cV(d,{Lab:{u9a:"1u"},wC:RPs,wg:this.props.vu,Gjb:g,children:b&&cV(b,{})}):cV(e,{Lab:{u9a:"1u",fAk:f},wC:RPs,children:b&&cV(b,{})});return kV("div",{className:AV("spuUow",{_2rV2dQ:a===2}),children:[cV(R,{padding:a===2?"1.5u":"2u",paddingTop:a===2?"0":"2u",children:cV(c,{})}),cV("div",{className:"_0M3pDA",children:b})]})}constructor(...a){super(...a);this.XZp=b=>DV(({children:c})=>cV("div",{style:{padding:b},children:cV(Wc,{spacing:"1u",
children:c})}))}};({c:[eus,MPs]}=JV(VPs,[],[Lb],GV));MPs();var $ts;
new (KPs=class extends IV{constructor(){super($ts);NPs()}},(()=>{class a extends(OPs=GV){static G(b){P(b,{onClick:fV.bound,onMouseEnter:fV.bound,dYa:fV.bound,ariaLabel:mV,hb:mV,Icon:mV,HMg:mV,Ttk:mV})}onClick(b){this.props.onClick(b,this.props.element)}onMouseEnter(){this.props.onMouseEnter(this.props.element)}dYa(b){this.props.dYa(b,this.props.element)}get ariaLabel(){const b=this.props.element,c=this.props.S6h;return b.type==="text"&&b.text.Ya?b.text.Ya:c(b)}get hb(){const b=this.props.element;
if(this.HMg)return L("riMK7g");if(b.type==="group")return b.Cd?void 0:L("ZjDhTQ")}get Icon(){const b=this.props.element;if(this.HMg){var c;return((c=b.wL)===null||c===void 0?0:c.xZc)?nar:ay}switch(b.type){case "group":return b.Cd||this.Ttk?void 0:uIp}}get HMg(){const b=this.props.element;return this.props.page.ja.locked||b.locked}get Ttk(){const b=this.props.element;return b.type==="group"&&b.mb.count()>10}render(){const b=this.Icon,c=this.Ttk,d=this.props.page,e=this.props.element,f=this.props.Kl,
g=this.props.Igc;return cV(this.props.xbj,{selected:this.props.selected,ariaLabel:this.ariaLabel,hb:this.hb,ARk:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.onContextMenu,icon:b&&cV(b,{size:"medium"}),Fed:this.HMg?null:cV(__c.Z4g,{size:"medium"}),jd:c?WPs:e.width>0?cV(f,{element:e,page:d}):void 0,badge:this.HMg||!g?null:cV(g,{ariaLabel:L("dfZFMw"),Ph:this.dYa})})}constructor(...b){super(...b);a.G(this)}}({c:[$ts,NPs]}=JV(a,[],[Lb],OPs))})(),
KPs);var WPs=cV("div",{className:"fCx1PA",children:cV("div",{className:"Kp8FKg VnXh5Q",children:cV(uIp,{size:"medium"})})}),cus;
new (LPs=class extends IV{constructor(){super(cus);PPs()}},(()=>{class a extends(QPs=GV){static G(b){P(b,{onMouseEnter:fV.bound,dYa:fV.bound})}onMouseEnter(){this.props.onMouseEnter()}dYa(b){this.props.dYa(b)}render(){const b=this.props.page,c=this.props.onClick,d=this.props.onMouseLeave,e=this.props.onContextMenu,f=this.props.SNo,g=this.props.Igc;return cV(this.props.xbj,{selected:this.props.selected,ariaLabel:L("AThZtQ"),hb:L("AThZtQ"),ARk:c,onMouseEnter:this.onMouseEnter,onMouseLeave:d,onContextMenu:e,
jd:cV(f,{page:b}),icon:cV(__c.iB,{size:"medium"}),badge:b.locked||!g?null:cV(g,{ariaLabel:L("dfZFMw"),Ph:this.dYa})})}constructor(...b){super(...b);a.G(this)}}({c:[cus,PPs]}=JV(a,[],[Lb],QPs))})(),LPs);
var dus=class extends GV{static G(a){P(a,{onChange:fV.bound})}onChange(){return this.props.onChange()}get xPh(){return[{label:L("AlHQ5Q"),value:"all"},{label:L("kf4slw"),value:"overlapping"}]}render(){return cV(__c.Fx,{options:this.xPh,onChange:this.onChange,value:this.props.Ns})}constructor(...a){super(...a);dus.G(this)}},aus=DV(a=>{const b=a.jd,c=a.icon,d=a.Fed;return cV(JPs,{selected:a.selected,onClick:a.ARk,children:kV("div",{className:"_veUSQ",children:[cV("div",{className:AV("_8gxVPQ","kVC8Fw"),
children:d}),cV("div",{className:"tBy2_g",children:b}),c&&cV("div",{className:AV("_8gxVPQ","VYPvfg"),children:c})]})})}),bus=DV(a=>{const b=a.jd,c=a.icon,d=a.Fed;return cV(JPs,{selected:a.selected,onClick:a.ARk,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,badge:a.badge,onContextMenu:a.onContextMenu,ariaLabel:a.ariaLabel,hb:a.hb,children:kV("div",{className:AV("h79xOQ","aOe0NQ"),children:[cV("div",{className:AV("_8gxVPQ","kVC8Fw"),children:d}),cV("div",{className:"tBy2_g",children:b}),c&&
cV("div",{className:AV("_8gxVPQ","VYPvfg"),children:c})]})})});var gus=DV(a=>cV(__c.m8d,{onClick:a.onClick,children:a.xF==="single"?L("aAUSrg"):L("fFnlJA")})),hus=DV(a=>cV(rV,{children:a.xF==="single"?L("rx7oXA"):a.um.length>0?J("VHLDwQ",[a.um.length]):J("VHLDwQ",[1])}));var Tts={eventType:"editor_layers_panel_shown",Oa(a){return rf({action:a.action,control_context:a.kb,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},Rts={eventType:"editor_layers_interacted",Oa(a){return rf({action:a.action,element_types:a.gD,num_layers_selected:a.HHr,selected_tab:a.$F,editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var Wts=class extends __c.O4g{static G(a){P(a,{lQk:fV.bound,Swo:fV.bound,hCn:fV.bound,BRk:fV.bound,ysi:fV.bound})}lQk(a,b){const c=this.store.Pe,d=this.store.um,e=this.store.cPe;if(c.type!=="responsive-page"){if(this.ka.layout===2&&e==="multi-select"&&d.length>0)return this.LDh(b);if(this.ka.layout===2||d.length===0||!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.selection.Ol(c,b),this.store.Edn&&a.detail===2&&this.GQl(),Sts(this,"selected");if(a.shiftKey)return this.knj(b);if(a.ctrlKey||a.metaKey)return this.LDh(b)}}ISf(a){const b=
this.store.Pe;b.type!=="responsive-page"&&this.selection.Ol(b,a)}Swo(){this.store.cPe=this.store.cPe==="single"?"multi-select":"single"}hCn(){Uts(this,"shown")}BRk(a,b){a.preventDefault();b?this.store.um.includes(b)||this.ISf(b):this.ysi();requestAnimationFrame(()=>this.fh.onContextMenu(a,"layers_panel","right_click"));Sts(this,"contextual_menu_opened")}knj(a){const b=this.store.Pe,c=this.store.mTe;var d=this.store.um;if(b.type!=="responsive-page"){var e=c.indexOf(a),f=Math.max(...d.map(h=>c.indexOf(h))),
g=new Set(c.slice(Math.min(f,e),Math.max(f,e)+1));this.selection.mc(b.page,a)?(d=d.filter(h=>h===a||!g.has(h)),this.selection.Ol(b,...d)):this.selection.zcd(b,...g);Sts(this,"selected")}}LDh(a){var b=this.store.Pe;b.type!=="responsive-page"&&(b=b.page,this.selection.mc(b,a)?this.selection.e8c(b,a):this.selection.Azd(b,a),Sts(this,"selected"))}ysi(){const a=this.store.Pe;a.type!=="responsive-page"&&(this.selection.$S(a.container,a.page),Sts(this,"selected"))}GQl(){const a=this.store.Pe;if(a.type!==
"responsive-page"){var b=this.store.um;if(b.length!==0){var c=this.viewport.XB();b=Uj(0,b.map(Qj));var d=this.viewport.zoom.scale/this.viewport.R1("fit");d*=this.viewport.R1("fit");this.viewport.Gz(a.page,Math.min(c.width*.6/b.width,c.height*.6/b.height,d),{center:b.center(),animate:!0})}}}constructor(a,b,c,d,e,f,g,h){super(a);this.store=a;this.viewport=b;this.Wji=c;this.ka=d;this.selection=e;this.BR=f;this.fh=g;this.P=h;this.dXs=(Wts.G(this),()=>{this.store.Ns=this.store.Ns==="overlapping"?"all":
"overlapping";this.Pni();Sts(this,this.store.Ns==="overlapping"?"see_overlapping":"see_all")});this.Pll=k=>{this.store.dds=k};this.dYa=(k,l)=>{l&&k?this.store.um.includes(l)||this.lQk(k,l):this.ysi();Sts(this,"contextual_menu_opened")};this.cTb=k=>{var l,m=this.store.Pe;if(m.type==="responsive-page")return!0;m=m.page;return m.locked?!0:this.selection.mc(m,k)?!((l=this.selection.La)===null||l===void 0?0:l.Ki()):k.locked};this.d2=k=>{const l=this.store.Pe;l.type!=="responsive-page"&&(this.selection.mc(l.page,
k)||this.selection.Ol(l,k))};this.onDrop=({item:k,trailing:l})=>{l?this.Wji.Hic("backward","drag",k):this.Wji.Hic("forward","drag",k);Sts(this,"rearranged")};this.xbi=k=>{const l=this.store.Pe;l.type!=="responsive-page"&&this.BR.tZa({page:l.page,element:k})};this.d0i=()=>{this.BR.tZa({page:void 0,element:void 0})};this.Pni=()=>{const k=this.store.GDi,l=this.store.um;var m=this.store.mTe;this.store.vHh?(m.length>0&&this.WFk(m[m.length-1]),this.store.GDi=l):k===l?this.WFk(l[l.length-1]):((m=[...l].reverse().find(p=>
!k.includes(p)))&&this.WFk(m),this.store.GDi=l)}}};var Vts=class extends __c.P4g{static G(a){P(a,{cPe:wV.ref,Ns:wV.ref,Pe:mV,B3h:mV,Edn:mV,um:mV,vHh:mV,mTe:mV,CLf:mV,items:mV,AK:mV.struct,xec:mV})}get Pe(){return this.ya.kw.jh}get B3h(){return this.Pe.page.type==="responsive"?[]:this.Pe.page.elements.toArray()}get Edn(){if(this.Pe.page.type==="responsive")return!1;const a=this.eb.Zk(this.Pe.page);return xg(a)}get um(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"?this.selection.La.elements:[]}get GDi(){return this.F_l}set GDi(a){this.F_l=
a}get vHh(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="pages"&&!!this.selection.La.inner}set dds(a){this.E_l=a}get mTe(){return this.isDragging||this.Xsk()?this.E_l:[...(this.Ns==="overlapping"?this.CLf:this.B3h)].reverse()}get CLf(){if(this.vHh)return this.B3h;const a=this.selection.La;if(!a||a.type!=="elements")return[];const b=a.box;return this.B3h.filter(c=>!!b&&b.intersects(Qj(c)))}get items(){return this.mTe}get AK(){return this.um}get xec(){return!this.isDragging&&
!this.j1d}constructor(a,b,c,d){super("vertical");this.ya=a;this.selection=b;this.eb=c;this.Xsk=d;this.cPe=(Vts.G(this),"single");this.Ns="all";this.E_l=[];this.F_l=[]}};var Yts=parseInt("36px",10),Xts=parseInt("196px",10);var XPs=DV(a=>{const b=a.onClick,c=a.open,d=a.ZKd;a=a.Ci;const e=gV(()=>{b&&(b(),!c&&d())},[b,c,d]);return cV(a,{pressed:c,onClick:e,icon:__c.rar,Ah:"label",children:L("AXgBkw")})}),YPs=DV(a=>{const b=a.I3f,c=a.Yle,d=a.F3f;return cV(Wn,{children:cV(R,{padding:"2u",className:"lvD6KQ",children:kV(Wc,{spacing:"2u",children:[cV(a.R5f,{}),b&&cV(b,{}),c&&cV(c,{}),cV(d,{})]})})})}),ZPs=DV(a=>{const b=a.Df;var c=a.R5f;const d=a.I3f,e=a.Yle;a=a.F3f;const f=(g,h)=>({vo:()=>g,na:()=>cV(R,{Jb:"2u",children:h})});
c=[f(L("6nsfUw"),cV(c,{})),d?f(L("V/DN5w"),cV(d,{})):null,e?f(L("2cZnyg"),cV(e,{})):null,f(L("Y2VUFg"),cV(a,{ZRc:!1}))].filter(vb);return cV(b.X8,{items:c})}),$Ps=a=>{const {rjj:b,Baj:c,Wbj:d,yjj:e,zjj:f,Hgj:g,Igj:h,m$i:k,n$i:l,mfj:m,CT:p,ZRc:q=!0}=a;return kV(Wc,{spacing:"1u",children:[q&&cV(iPs,{text:L("Y2VUFg")}),kV(hr,{spacing:"1u",columns:3,Fa:"end",children:[p==="size-and-position"?cV(b,{}):cV(g,{}),p==="size-and-position"?cV(c,{}):cV(h,{}),cV(d,{}),p==="size-and-position"?cV(e,{}):cV(k,{}),
p==="size-and-position"?cV(f,{}):cV(l,{}),cV(m,{})]})]})},aQs=DV(({Ci:a,...b})=>cV(a,{...b,Ah:"icon-and-label",icon:__c.rar,tooltip:L("Y2VUFg"),children:L("Y2VUFg")})),bQs=DV(({F3f:a})=>cV(rV,{children:a&&cV(R,{padding:"2u",paddingTop:"0",children:cV(a,{ZRc:!1})})})),cQs=DV(a=>{const b=a.xZe,c=a.vu,d=a.bhp,e=a.S5f;return cV("div",{className:"GxR1sw",children:kV(__c.AC,{height:"fill",f6a:a.$F,onSelect:a.ZKd,children:[cV("div",{className:"rrwBLA",children:kV(__c.CC,{align:"stretch",children:[cV(__c.BC,
{id:"arrange",onClick:a.pLi,children:L("u+o8qg")}),cV(__c.BC,{id:"layers",onClick:b,children:L("upLrUg")})]})}),cV(__c.EC,{children:kV("div",{className:"LKB_7Q",children:[cV(__c.DC,{id:"arrange",children:cV(d,{})}),cV(__c.DC,{id:"layers",children:cV(e,{vu:c})})]})})]})})});var Fus=class extends GV{static G(a){P(a,{Szn:fV.bound,onChange:fV.bound,onBlur:fV.bound,onKeyDown:fV.bound})}Szn(){var a;const b=this.props.yx,c=this.props.onFocus;c((b===null||b===void 0?void 0:b.toString())||"");(a=this.ref.current)===null||a===void 0||a.select()}onChange(a){this.props.onChange(a)}onBlur(){this.props.onBlur()}onKeyDown(a){if(a.key==="Enter"){var b;this.props.onBlur();(b=this.ref.current)===null||b===void 0||b.blur()}}render(){const a=this.props.value,b=this.props.yx,c=this.props.focused,
d=this.props.disabled,e=this.props.unit,f=typeof b!=="undefined"?`${b===null||b===void 0?void 0:b.toString()}${e||""}`:"--";return cV(__c.dD,{label:this.props.label,Ew:"small",control:g=>cV(__c.Mu,{...g,type:"text",inputMode:"decimal",ref:this.ref,disabled:d,value:c?a:f,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onFocus:this.Szn})})}constructor(...a){super(...a);this.ref=(Fus.G(this),HV())}};var Eus=class{constructor(a,b,c){this.store=a;this.selection=b;this.update=c;this.onFocus=d=>{this.store.Hpb=d;this.store.value=d;this.store.focused=!0;this.store.um=[];(d=this.selection.La)&&d.type==="elements"&&(this.store.um=d.elements)};this.onBlur=()=>{const d=this.store.value,e=this.store.um;this.vuk(d)&&e&&e.length>0&&this.store.Hpb!==d&&(this.update(Number.parseFloat(d),e),this.store.Hpb="");this.store.focused=!1;this.store.um=[]};this.onChange=d=>{d=d.trim();d!=="-"&&isNaN(Number(d))||(this.store.value=
d)};this.vuk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d))}};var Dus=class{static G(a){P(a,{Hpb:wV.ref,value:wV.ref,focused:wV.ref,um:wV.ref})}constructor(){this.Hpb=(Dus.G(this),"");this.value="";this.focused=!1;this.um=[]}};var dQs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v12.818l-1.5-1.5V13.75h-2.568l-1.5-1.5H19.5v-2.216l-2.448-2.811a.544.544 0 0 0-.684-.085.46.46 0 0 0-.101.087l-2.707 3.153-1.005-1.005 2.53-2.89c.115-.134.251-.252.406-.351.865-.552 2.09-.4 2.735.34L19.5 7.89V5a.5.5 0 0 0-.5-.5H7.682L6.182 3H19a2 2 0 0 1 2 2ZM9.068 12.25l1.5 1.5H4.5V19a.5.5 0 0 0 .5.5h11.318l1.5 1.5H5a2 2 0 0 1-2-2V6.182l1.5 1.5v4.568h.603l1.859-2.106.892.892-1.188 1.214h2.402Zm4.597 4.597-1.097-1.097H7a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .665-.403ZM5.53 4.47a.75.75 0 0 0-1.06 1.06l15 15a.75.75 0 1 0 1.06-1.06l-15-15Z" fill="currentColor"/></svg>';var avs=br({medium:dQs});var Qus={eventType:"editor_element_line_positioned",Oa(a){return rf({start_x:a.Kba,start_y:a.KTa,end_x:a.Cmb,end_y:a.Dmb,original_start_x:a.d4r,original_start_y:a.e4r,original_end_x:a.y3r,original_end_y:a.z3r,units:a.units,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}};var bvs=class{static G(a){P(a,{position:mV.struct,xKh:mV,e2k:mV})}get position(){var a=this.selection.La;if(a&&a.type==="elements"){var b=a.elements;if(b.length!==0&&!b.some(c=>c.type==="line"))return a=this.eb.Zk(a.container.page),Hus(a,b,Ius)}}get xKh(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ki()}get e2k(){var a,b;return!this.xKh||!!((b=this.selection.La)===null||b===void 0?0:(a=b.elements)===null||a===void 0?0:a.some(c=>c.type==="line"))}constructor(a,b){this.selection=a;this.eb=
b;bvs.G(this)}};var gvs=class{static G(a){P(a,{O6:mV.struct,w1a:mV.struct,Zul:mV,o0j:mV,CKh:mV})}get O6(){return Lus(this,"start")}get w1a(){return Lus(this,"end")}get Zul(){var a;if(!this.CKh)return!0;const b=(a=this.selection.La)===null||a===void 0?void 0:a.elements;return(a=b===null||b===void 0?void 0:b.filter(Jus))&&a.length!==0?a.some(c=>Mus(this,c,"start")):!0}get o0j(){var a;if(!this.CKh)return!0;const b=(a=this.selection.La)===null||a===void 0?void 0:a.elements;return(a=b===null||b===void 0?void 0:b.filter(Jus))&&
a.length!==0?a.some(c=>Mus(this,c,"end")):!0}get CKh(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ki()}constructor(a,b,c){this.selection=a;this.eb=b;this.te=c;gvs.G(this)}};var Uus=class{static G(a){P(a,{xCn:fV.bound})}xCn(a,b,c){var d,e;const f=this.selection.La;if(f&&f.type==="elements"&&f.box&&this.store.Xxj){var g=f.box.tl,h=f.box,k=f.elements,l=f.container,m=this.yr.O0a(k);this.store.bNg=!0;var p=h.tl;(d=this.store.Rna)===null||d===void 0||d.close();var {delta:q,eTi:r}=Pus(this.eb.Zk(l.page).units,h.tl,a,b,this.Wj.bSc);r!=null&&this.F8?(a=new __c.Qsg(h,p),this.store.Rna=__c.xlg(this.F8,a,l,k,()=>r)):this.store.Rna=void 0;k={type:"translate",jj:Math.abs(q.x)>0,Bj:Math.abs(q.y)>
0};l=zj(p,q);a=t=>{const {x:u,y:w}=vj(t,p);m.translate(u,w);return h};a(l);(e=this.store.Rna)===null||e===void 0||e.Kw(k,l,h,!1,a);this.sTr();this.fZg();Nus(this,g,f,c)}}constructor(a,b,c,d,e,f,g,h=750){this.store=a;this.selection=b;this.yr=c;this.eb=d;this.Wj=e;this.F8=f;this.P=g;this.UEf=h;this.sTr=(Uus.G(this),Db(fV(()=>{var k;(k=this.store.Rna)===null||k===void 0||k.close();this.store.Rna=void 0}),this.UEf));this.fZg=Db(fV(()=>{this.store.bNg=!1}),this.UEf);this.Dqc=()=>{var k,l;const m=this.selection.La;
m&&m.type==="elements"&&((l=this.P)===null||l===void 0||l.track(__c.Kph,{ND:m.container.page.elements.count(),AFa:(k=m.elements)===null||k===void 0?void 0:k.map(p=>p.type),menu:"nudge",Op:0,Mr:0,Ly:0}))}}},Ous={[1]:{small:Mv(1,.1),large:Mv(1,1)},[2]:{small:Mv(2,.0625),large:Mv(2,1)},[3]:{small:Mv(3,1),large:Mv(3,10)},[4]:{small:1,large:10}};var hvs=class{constructor(a,b,c,d,e,f){var g=Pus;this.Wj=a;this.store=b;this.selection=c;this.eb=d;this.yr=e;this.N=f;this.cSq=g;this.Qns=(h,k)=>{Sus(this,h,k,"start","x")};this.Rns=(h,k)=>{Sus(this,h,k,"start","y")};this.Ons=(h,k)=>{Sus(this,h,k,"end","x")};this.Pns=(h,k)=>{Sus(this,h,k,"end","y")};this.LGr=(h,k,l,m)=>{if(!Mus(this.store,k,"end")){var p=Kus(this.store,k,"end");h=this.eb.Zk(h).units;var {delta:q}=this.cSq(h,p,l,m,this.Wj.bSc);m=Kus(this.store,k,"start");var r=zj(p,q);if(__c.xj(m,
r)>=25)l=r;else{var t=Fj(-m.x,-m.y);q=t.invert();r=t.transformPoint(r);l==="left"||l==="right"?(t=Math.sqrt(25-r.y*r.y),l=q.transformPoint(new sj(l==="left"?-t:t,r.y))):(t=Math.sqrt(25-r.x*r.x),l=q.transformPoint(new sj(r.x,l==="up"?-t:t)))}k=new __c.iZd(k,this.yr.te);k.setEndPoint(l);k.complete();Rus(this,h,m,p,m,l)}}}};var Vus=DV(a=>cV(a.Ci,{pressed:a.open,onClick:()=>{const b=a.onClick,c=a.open,d=a.Dqc;b&&(b(),!c&&d())},icon:__c.Rms,Ah:a.$f?"icon-and-label":"label",children:L("aYsObw")})),Wus=DV(a=>{const b=a.PH;a=gV(()=>b("left"),[b]);const c=gV(()=>b("up"),[b]),d=gV(()=>b("down"),[b]),e=gV(()=>b("right"),[b]);return cV(R,{children:kV(hr,{spacing:"1u",columns:4,children:[cV(__c.bie,{onClick:a,speed:"fast",children:f=>cV(Yi,{ariaLabel:L("qpV6YA"),icon:wr,stretch:!0,variant:"secondary",...f})}),cV(__c.bie,{onClick:c,
speed:"fast",children:f=>cV(Yi,{ariaLabel:L("B5NX3g"),icon:KC,stretch:!0,variant:"secondary",...f})}),cV(__c.bie,{onClick:d,speed:"fast",children:f=>cV(Yi,{ariaLabel:L("SzdIhw"),icon:j6g,stretch:!0,variant:"secondary",...f})}),cV(__c.bie,{onClick:e,speed:"fast",children:f=>cV(Yi,{ariaLabel:L("1v1q7g"),icon:St,stretch:!0,variant:"secondary",...f})})]})})});var Tus=class{static G(a){P(a,{bNg:wV.ref,Xxj:mV})}get Xxj(){const a=this.selection.La;return a==null||a.type!=="elements"?!1:!(!a.Ki()&&!a.elements.some(b=>__c.MGg(this.AX,b)))}constructor(a,b){this.selection=a;this.AX=b;this.bNg=(Tus.G(this),!1);this.Rna=void 0}};var cvs=class{constructor(a,b,c,d){this.store=a;this.selection=b;this.eb=c;this.N=d;this.jj=(e,f)=>{if(this.store.xKh){var g=this.selection.La;if(g&&g.type==="elements"&&g.Ki()){var h=wb.direction===2,k=this.eb.Zk(g.container.page);g=k.units;e=Mv(g,h?k.width-e:e);k=this.store.position;for(const l of f)f=Qj(l),f=f.translate(e-(h?f.tr.x:f.tl.x),0),l.left=f.Lb().left;Yus(this,g,k)}}};this.Bj=(e,f)=>{if(this.store.xKh){var g=this.selection.La;if(g&&g.type==="elements"&&g.Ki()){g=this.eb.Zk(g.container.page).units;
var h=Mv(g,e);e=this.store.position;f.forEach(k=>{var l=Qj(k);l=l.translate(0,h-l.tl.y);k.top=l.Lb().top});Yus(this,g,e)}}}}},$us=class{static G(a){P(a,{FOk:fV.bound,IOk:fV.bound,PUj:mV,tTf:mV})}FOk(){const a=this.selection.Ib;if((a===null||a===void 0?void 0:a.container.type)==="body"||(a===null||a===void 0?void 0:a.container.type)==="responsive-page"){var b=this.PUj;if(b){var c=this.Xa.qRd(a.container.text,b,{wtl:!0}),d=this.undo.startBuffering();try{const q=Zgf(this.Xa);this.Xa.WP();const r=()=>
{q&&this.Xa.qZa(q);this.Og.CS()},t=a.container.type==="responsive-page"&&a.container.marker.Ig.ref;if(c||t){var e=(c===null||c===void 0?void 0:c.type)==="item"&&c.item.type==="break",f=e&&c.item.marker.Ig.ref;if(e&&!f){var g;const u=this.QT.$uc(__c.OUc.snapshot(b),c.item.marker);(g=this.N)===null||g===void 0||g.track(L0g,{$Cc:"page_break",eUd:"cover_set",elementType:u.type,Yc:"contextual_menu"});this.selection.Rv(a.container,c.item);r()}else{var h=this.sc.addPageBreak({Yc:"contextual_menu"});if(h){var k;
const u=this.QT.$uc(__c.OUc.snapshot(b),h.marker);(k=this.N)===null||k===void 0||k.track(L0g,{$Cc:"page_break",eUd:"cover_set",elementType:u.type,Yc:"contextual_menu"});this.selection.Rv(a.container,h);r()}}}else{var l;const u=a.container.marker,w=this.QT.$uc(__c.OUc.snapshot(b),u);(l=this.N)===null||l===void 0||l.track(L0g,{$Cc:"document",eUd:"cover_set",elementType:w.type,Yc:"contextual_menu"});this.selection.Rv(a.container.HUb(u),w);r()}}finally{var m,p;d.stop();(m=(p=this.Gb.Sd).vvr)===null||
m===void 0||m.call(p)}}}}IOk(){const a=this.selection.Ib;var b=Zus(a);if(b){var c=b.$Cc,d=b.LRa,e=b.ref;b=b.text;var f=this.undo.startBuffering();try{var g;const m=Zgf(this.Xa);__c.Pyf(e);switch(c){case "body":var h;(h=this.N)===null||h===void 0||h.track(L0g,{$Cc:"document",eUd:"cover_unset",elementType:d.type,Yc:"contextual_menu"});this.Xa.Ju(b,Nw.start());break;case "break":var k;if((a===null||a===void 0?void 0:a.type)===1&&((k=a.only)===null||k===void 0?void 0:k.type)==="break"){var l;(l=this.N)===
null||l===void 0||l.track(L0g,{$Cc:"page_break",eUd:"cover_unset",elementType:d.type,Yc:"contextual_menu"});const p=__c.SUc.snapshot(a.only);this.Xa.WP();this.Xa.iJc(p)}break;default:throw new v(c);}this.Xa.iJc({...d,width:d.type==="design"&&((g=d.Sw)===null||g===void 0?void 0:g.type)==="sticky-scroll"?"100cqw":"100%"});m&&this.Xa.qZa(m)}finally{f.stop()}}}get PUj(){var a=this.selection.Ib;if((a===null||a===void 0?void 0:a.type)===1&&(a=a.only))return __c.Oyf(a)?a:void 0}get tTf(){if(!(this.Ma.mode<
40)){var a=this.selection.Ib;if((a===null||a===void 0?void 0:a.type)===1){if(Zus(a))return"unset";var b=this.PUj;if(b&&a.container.text&&(b=this.Xa.qRd(a.container.text,b,{wtl:!0}),a.container.type==="body"||a.container.type==="responsive-page")&&(Rb("38fa0627",!1)||!a.container.marker.Ig.ref&&!b||this.RFc&&(b===null||b===void 0?void 0:b.type)==="item"&&b.item.type==="break"&&!b.item.marker.Ig.ref))return"set"}}}constructor(a,b,c,d,e,f,g,h,k,l){this.sc=a;this.selection=b;this.Xa=c;this.Og=d;this.QT=
e;this.Ma=f;this.undo=g;this.Gb=h;this.RFc=k;this.N=l;$us.G(this)}};var eQs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.318 7.758a.75.75 0 0 0-1.06 1.06l2.431 2.432H3a.75.75 0 0 0 0 1.5h5.69l-2.432 2.432a.75.75 0 0 0 1.06 1.06l3.359-3.358a1.25 1.25 0 0 0 0-1.768L7.318 7.758ZM17.742 7.758a.75.75 0 0 0-1.06 0l-3.359 3.358a1.25 1.25 0 0 0 0 1.768l3.359 3.358a.75.75 0 1 0 1.06-1.06l-2.433-2.434H21a.75.75 0 0 0 0-1.5h-5.688l2.43-2.43a.75.75 0 0 0 0-1.06Z" fill="currentColor"/></svg>';var xvs=br({medium:eQs});var fQs=(a,b)=>{try{b(a),a.complete()}catch(c){a.reset()}finally{a.destroy()}},vvs=class{static G(a){P(a,{ssi:fV.bound,vxi:fV.bound,txi:fV.bound,wxi:fV.bound,uxi:fV.bound,dnh:fV.bound})}ssi(){this.store.Iic=!this.store.Iic;this.store.xef||this.N.track(JMs,{action:this.store.Iic?"lock":"unlock"})}vxi(){mvs(this.store.k_b,this.wOa,this.Si)}txi(){nvs(this.store.k_b,this.wOa,this.Si)}wxi(){ovs(this.store.k_b,this.wOa,this.Si)}uxi(){pvs(this.store.k_b,this.wOa,this.Si)}dnh(){this.selection.Ib&&this.f1.dnh()}vah(a,
b,c){var {diagonal:d}=__c.kee(this.D$,[b]),e=this.selection.La;if(e&&e.type==="elements"){var f=e.container.page;if(d&&f){var g=Qj(b);d=ivs(this,g);e=g.width;var h=g.height,k=g.c,l=g.tl;g=this.re.i7a([b]);k=__c.sgg(b,this.$ab)==="center"?k:l;f=this.viewport.cQ(f);const {width:m,height:p}=Qj(b);b=b.type!=="group"||__c.tqa(b)?8:30;a=Math.max(Math.max(Math.min(1,b/(Math.min(m,p)*f)),1E-14),a/(c==="x"?e:h));try{g.scale(__c.Lj(d.transformPoint(k),a))}finally{g.destroy()}}}}Ibd(a,b,c){const d=c==="x",e=
c==="y";var f=Qj(b);const g=Yj(f),h=ivs(this,f);c=__c.sgg(b,this.$ab);const k=h.transformPoint(c==="center"?f.c:d?f.Rb:f.t),l=h.transformPoint(d?f.r:f.b),m=g.then(h).transformPoint({x:d?a:f.width,y:e?a:f.height});switch(b.type){case "text":f=this.re.nDc(b);const p=c==="center"?"center":lvs(b.writingMode);fQs(f,q=>q.sNb(p,a,{gga:!1}));break;case "rect":b=this.re.PZc(b);fQs(b,q=>q.rv(k,l,m,d,e));break;case "grid":b=this.re.Njf(b);fQs(b,q=>q.rv(k,l,m,d,e));break;case "line":break;case "table":b=this.re.Zjf(b);
fQs(b,q=>{q.rv(k,l,m,d,e)});break;case "shape":b=this.re.Akc(b);fQs(b,q=>q.rv(k,l,m,d,e));break;case "chart":if(c=this.re.akg(b))fQs(c,q=>q.rv(k,l,m,d,e));else{c=Qj(b).rv(k,l,m,d,e,5,5);const {top:q,left:r,width:t,height:u}=c.Lb();b.top=q;b.left=r;b.width=t;b.height=u}break;case "group":if(f=__c.Xbe(b)){b=this.re.Zkg(b);const q=c==="center"?"center":lvs(f);fQs(b,r=>r.sNb(q,a,{gga:!1}))}else b=this.re.Ojf(b),fQs(b,q=>q.rv(k,l,m,d,e));break;case "embed":b=this.re.okg(b);fQs(b,q=>q.rv(k,l,m,d,e));break;
case "sheet":b=this.re.Vkg(b);fQs(b,q=>q.rv(k,l,m,d,e));break;case "layout":b=this.re.Qjf(b);fQs(b,q=>q.rv(k,l,m,d,e));break;case "controlled":b=this.re.Gjf(b);fQs(b,q=>q.rv(k,l,m,d,e));break;default:throw new v(b);}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r=750){this.store=a;this.f1=b;this.selection=c;this.re=d;this.D$=e;this.wOa=f;this.Si=g;this.eb=h;this.$ab=k;this.N=l;this.Wj=m;this.viewport=p;this.vsd=q;this.UEf=r;this.SRr=(vvs.G(this),(t,u)=>{var w=this.selection.La;if(w&&w.box&&w.Ki()&&w.type===
"elements"&&w.Ud){if(w.Ud.type==="line")this.store.B3d=!0,this.vsd.LGr(w.container.page,w.Ud,t,u);else{var x=w.box,y=w.container.page,z=w.Ud;w=w.elements;var A=this.store.size,B=t==="down"||t==="up"?"y":"x",D=B==="x"?x.r:x.b;this.store.B3d=!0;x=x.rotation===0?D:Vj(x).transformPoint(D);y=this.eb.Zk(y).units;({delta:t}=Pus(y,x,t,u,this.Wj.bSc));u=B==="x"?z.width:z.height;jvs(this,z,B)&&(this.Ibd(u+t[B],z,B),kvs(this,w,y,A===null||A===void 0?void 0:A.width,A===null||A===void 0?void 0:A.height))}this.fZg()}});
this.resizeTo=(t,u,w)=>{var x=this.selection.La;if(x&&x.Ki()&&x.type==="elements"){x=this.eb.Zk(x.container.page).units;t=Mv(x,t);var y=this.store.size;if(this.store.PQd)for(const z of u)this.vah(t,z,w);else for(const z of u)jvs(this,z,w)?this.Ibd(t,z,w):this.vah(t,z,w);kvs(this,u,x,y===null||y===void 0?void 0:y.width,y===null||y===void 0?void 0:y.height)}};this.fZg=Db(fV(()=>{this.store.B3d=!1}),this.UEf)}},tvs=class{static G(a){P(a,{dnh:fV.bound,vxi:fV.bound,txi:fV.bound,wxi:fV.bound,uxi:fV.bound})}dnh(){var a=
this.store.k_b;if(a!==null&&a!==void 0&&a.item){a=a.item;var b=__c.Ybe(a);if(b){var c={gD:[a.type],Yc:"contextual_menu",RJn:a.width,QJn:a.maxWidth};if(a.width==="100cqw"){if(a.width="100%",a.minWidth=void 0,a.maxWidth=void 0,a.JAa=void 0,a.alignment="50%",a.type==="layout")switch(a.gb){case "100%":break;case "100cqw":a.gb="100%";break;default:a.l2!=="100%"&&(a.gb="100%",a.l2=void 0,a.tca=void 0,a.JAa=void 0)}}else a.width="100cqw",a.minWidth=b==="inset"?"100%":void 0,a.maxWidth=b==="inset"?"100cqw":
void 0,a.JAa=b==="inset"?"48px":void 0,a.alignment="50%";this.N.track(__c.oQh,{...c,GGm:a.width,FGm:a.maxWidth})}}}vxi(){mvs(this.store.k_b,void 0,this.Si)}txi(){nvs(this.store.k_b,void 0,this.Si)}wxi(){ovs(this.store.k_b,void 0,this.Si)}uxi(){pvs(this.store.k_b,void 0,this.Si)}constructor(a,b,c){this.store=a;this.N=b;this.Si=c;tvs.G(this)}};var wvs=a=>{const b=a.PQd,c=a.xef,d=a.ssi;return cV(Wc,{spacing:"0.5u",children:cV(__c.dD,{label:a.label,Ew:"small",control:e=>cV(Yi,{...e,variant:"secondary",alignment:"center",stretch:!0,icon:b?ay:NLh,active:b,disabled:c,onClick:d})})})};var uvs=class{static G(a){P(a,{B3d:wV.ref,Iic:wV.ref,size:mV.struct,aspectRatio:mV,Glg:mV,yah:mV,zah:mV,y0m:mV,wKo:mV,PQd:mV,Dgf:mV,xef:mV,xKo:mV,z0m:mV,k_b:mV,Fpe:mV})}get size(){var a=this.selection.La;if(a&&a.type==="elements"&&a.elements.length!==0){var b=a.elements,c=b[0].height,d=b[0].width,e=b.every(f=>nVi(f.height,c));b=b.every(f=>nVi(f.width,d));a=this.eb.Zk(a.container.page).units;return{height:e?pVi(tg(4,a,c),a):void 0,width:b?pVi(tg(4,a,d),a):void 0}}}get aspectRatio(){if(this.size){var a=
this.size.height,b=this.size.width;if(a&&b)return a/b}}get Glg(){var a,b;if((a=this.flk)===null||a===void 0?0:a.focused)return"height";if((b=this.IPl)===null||b===void 0?0:b.focused)return"width"}get yah(){var a=this.selection.La;if(this.IPl&&a&&a.type==="elements"){a=this.eb.Zk(a.container.page).units;var b=Number.parseFloat(this.IPl.value);if(this.Glg==="width"&&this.aspectRatio!=null&&!isNaN(b))return pVi(b*this.aspectRatio,a)}}get zah(){var a=this.selection.La;if(this.flk&&a&&a.type==="elements"){a=
this.eb.Zk(a.container.page).units;var b=Number.parseFloat(this.flk.value);if(this.Glg==="height"&&this.aspectRatio!=null&&!isNaN(b))return pVi(b/this.aspectRatio,a)}}get y0m(){var a;return this.Iic&&this.Glg==="width"?this.yah:(a=this.size)===null||a===void 0?void 0:a.height}get wKo(){var a;return this.Iic&&this.Glg==="height"?this.zah:(a=this.size)===null||a===void 0?void 0:a.width}get PQd(){return this.Fpe.diagonal?this.xef||this.Iic:!1}get Dgf(){const a=this.selection.La;return!!a&&a.type==="elements"&&
a.Ki()}get xef(){if(!this.Dgf)return!0;const a=this.Fpe.horizontal,b=this.Fpe.diagonal;return!this.Fpe.vertical&&!a||!b}get xKo(){if(!this.Dgf)return!1;const a=this.Fpe.horizontal;return this.PQd||a}get z0m(){if(!this.Dgf)return!1;const a=this.Fpe.vertical;return this.PQd||a}get k_b(){if(this.selection.Ib)return this.X_.k_b;var a=this.selection.La;if(a&&(a.type==="elements"||a.type==="pages")&&a.inner)switch(a.inner.type){case "sheet":switch(a.type){case "elements":var b=a.inner.sheet.config;break;
case "pages":b=a.inner.page.sheet;break;default:throw new v(a);}return rvs(b,a.inner.rows,a.inner.columns);case "table":b=a.inner.cells;var c=a.inner.container.container.Tf(a.inner.table);const d=c.ja;a=new Set(cMe(d,b));b=new Set(dMe(d,b));c={type:"table",table:d,rows:a,columns:b,GWi:c};return{ecd:a.size>1?c:void 0,eZc:b.size>1?c:void 0,fcd:c,fZc:c};case "sheet-cell-media":case "grid":case "layout":case "layout-cell":case "shape":case "group":case "background":case "pages":break;default:throw new v(a.inner);
}}get Fpe(){var a;const b=((a=this.selection.La)===null||a===void 0?void 0:a.elements)||[];if(b.length===0)return{vertical:!1,horizontal:!1,diagonal:!1};if(b.length>1)return a=b.map(f=>__c.kee(this.D$,[f])),{diagonal:a.some(f=>f.diagonal!=null),vertical:a.some(f=>f.vertical!=null),horizontal:a.some(f=>f.horizontal!=null)};const {vertical:c,horizontal:d,diagonal:e}=__c.kee(this.D$,b);return{vertical:!!c,horizontal:!!d,diagonal:!!e}}constructor(a,b,c,d,e,f){this.X_=a;this.selection=b;this.eb=c;this.D$=
d;this.flk=e;this.IPl=f;this.B3d=(uvs.G(this),!1);this.Iic=!1}},svs=class{static G(a){P(a,{k_b:mV})}get k_b(){var a=this.selection.Ib;if(!(this.Ma.mode<=30)&&a)switch(a.type){case 1:if(!a.only||a.container.type==="marker"||a.container.type==="section-marker")break;if(a=qvs(a.only))return{item:a};break;case 4:return rvs(a.container.sheet.config,a.rows,a.columns);case 2:if(a=qvs(a.container.table))return{item:a};break;case 3:if(a=qvs(a.container.layout))return{item:a};break;case 0:case 5:break;default:throw new v(a);
}}constructor(a,b){this.Ma=a;this.selection=b;svs.G(this)}};var Cvs=class{constructor(a,b,c,d){this.store=a;this.Qta=b;this.selection=c;this.N=d;this.UEf=750;this.qss=(e,f)=>{var g=this.selection.La;if(g&&g.Ki()){g=f.slice().sort(h=>h.type==="line"?-1:1);f=this.store.rotation;for(const h of g){const k=__c.Cee(this.Qta,[h]),l=Qj(h),m=rj(e-l.rotation);try{k.rotate(Jj(l.c,m))}finally{k.destroy()}}e=g.map(h=>h.type);Avs(this,f,e,"position_panel")}};this.TRr=(e,f)=>{this.store.BNg=!0;this.oss((f==="small"?1:15)*(e==="right"?1:-1));this.fZg()};this.oss=e=>{var f=
this.selection.La;if(f&&f.box&&f.elements&&f.Ki()){var g=__c.Cee(this.Qta,f.elements),h=rj(e);e=this.store.rotation;try{g.rotate(Jj(f.box.c,h))}finally{g.destroy()}f=f.elements.map(k=>k.type);Avs(this,e,f,"shortcut")}};this.fZg=Db(fV(()=>{this.store.BNg=!1}),this.UEf)}};var Bvs=class{static G(a){P(a,{BNg:wV.ref,rotation:mV,disabled:mV})}get rotation(){var a,b=((a=this.selection.La)===null||a===void 0?void 0:a.elements)||[];if(b.length!==0){var c=b[0].rotation;a=b.every(d=>nVi(d.rotation,c));b=SVa(c);return a?__c.oVi(b,1):void 0}}get disabled(){const a=this.selection.La;return a!=null&&a.type==="elements"&&a.Ki()?a.elements.some(b=>b.type==="line"&&b.geometry.ref!=null||__c.MGg(this.AX,b)):!0}constructor(a,b){this.selection=a;this.AX=b;this.BNg=(Bvs.G(this),!1)}};var gQs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3.75 5.25h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm0 12h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5zM9 9h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm.5 1.5v3h5v-3h-5z"/></svg>';var hQs=br({medium:gQs});var Tvs=class extends VMs{get Icon(){var a=this.props.fVs;switch(a){case "horizontal":a=__c.R5q;break;case "vertical":a=__c.BDj;break;case "grid":case void 0:a=__c.Byr;break;default:throw new v(a);}return a}render(){return cV(this.props.hl,{Icon:this.Icon,label:L("8xqoHg")})}},Uvs=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:hQs,label:L("sQreSg")})}),Vvs=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.air,label:L("uYksAA")})});var Svs=class{static G(a){P(a,{uSe:fV.bound})}uSe(a,b){var c=this.store.Fih;if(c&&!(c.length<3)){var {LCe:d,middle:e,spacing:f}=Kvs(c,a);c=d;for(const {element:g,box:h}of e)switch(a){case "vertical":c=Mvs(this,g,"top",c+f-(h.t.y-g.top));c=Pj(c).b.y;break;case "horizontal":c=Mvs(this,g,"left",c+f-(h.Rb.x-g.left));c=Pj(c).r.x;break;default:throw new v(a);}}this.tH(a,b)}tH(a,b){var c,d=this.selection.La;if(d&&d.type==="elements"){var e=d.elements;d=d.container.page;(c=this.N)===null||c===void 0||c.track(__c.TYi,
{ND:d.elements.count(),U8c:e.length,gD:e.map(f=>f.type).join(", "),Op:0,Mr:0,axis:a,kb:b})}}constructor(a,b,c,d){this.store=a;this.yr=b;this.selection=c;this.N=d;Svs.G(this)}};var Wvs=class extends VMs{static G(a){P(a,{cBn:fV.bound,rHn:fV.bound})}cBn(){return this.props.uSe("horizontal")}rHn(){return this.props.uSe("vertical")}render(){const a=this.props.ZRc,b=this.props.Shj,c=this.props.Dfq,d=this.props.Efq;return kV(jPs,{display:this.props.display,title:L("8xqoHg"),ZRc:a,children:[cV(hPs,{onClick:this.rHn,disabled:d,Icon:hQs,label:L("sQreSg")}),cV(hPs,{onClick:this.cBn,disabled:c,Icon:__c.air,label:L("uYksAA")}),cV(b,{})]})}constructor(...a){super(...a);Wvs.G(this)}};var Rvs=class{static G(a){P(a,{Fih:mV({equals:lV.shallow}),kbi:mV,tch:mV.struct})}get Fih(){const a=this.Rkd.mic;if(a&&!(a.length<3))return a}get kbi(){return this.Fih==null}get tch(){if(this.Fih){var a=this.Fih;if(a.length<3)var b={Itk:!0,bxk:!0};else{var {LCe:c,middle:d,Rji:e,spacing:f}=Kvs(a,"vertical");b=d[d.length-1].box.b.y-e;b=Lvs(c-d[0].box.t.y+f)&&Lvs(b+f);for(var g=1;g<d.length&&b;g++)b=Lvs(d[g-1].box.b.y-d[g].box.t.y+f);var {LCe:h,middle:k,Rji:l,spacing:m}=Kvs(a,"horizontal");a=k[k.length-
1].box.r.x-l;a=Lvs(h-k[0].box.Rb.x+m)&&Lvs(a+m);for(g=1;g<k.length&&a;g++)a=Lvs(k[g-1].box.r.x-k[g].box.Rb.x+m);b={bxk:b,Itk:a}}return b}}constructor(a){this.Rkd=a;Rvs.G(this)}};var Xvs=DV(({Ci:a,...b})=>cV(a,{...b,Ah:"icon-and-label",icon:__c.BDj,tooltip:L("8xqoHg"),children:L("8xqoHg")})),Yvs=DV(({Yle:a})=>cV(rV,{children:a&&cV(R,{padding:"2u",paddingTop:"0",children:cV(a,{})})}));var Ovs=So(Ro("t")),Pvs=class extends VMs{static G(a){P(a,{onClick:fV.bound})}onClick(){return this.props.onClick()}get Npp(){var a=this.props.type;switch(a){case "horizontal":a=__c.R5q;break;case "vertical":a=__c.BDj;break;case "grid":case void 0:a=__c.Byr;break;default:throw new v(a);}return a}render(){return cV(hPs,{onClick:this.onClick,disabled:this.props.disabled,Icon:this.Npp,label:L("WLw+ig")})}constructor(...a){super(...a);Pvs.G(this)}};var Nvs=class extends VMs{get Icon(){var a=this.props.type;switch(a){case "horizontal":a=__c.R5q;break;case "vertical":a=__c.BDj;break;case "grid":case void 0:a=__c.Byr;break;default:throw new v(a);}return a}render(){const {hl:a,...b}=this.props;return cV(a,{...b,Icon:this.Icon,label:L("WLw+ig")})}};var iQs='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.992 6.564 3.697 7.859a.2.2 0 0 0 0 .282l1.295 1.295a.2.2 0 0 0 .341-.141v-2.59a.2.2 0 0 0-.341-.141ZM9.436 4.992 8.141 3.697a.2.2 0 0 0-.282 0L6.564 4.992a.2.2 0 0 0 .141.341h2.59a.2.2 0 0 0 .141-.341ZM6.564 11.008l1.295 1.295a.2.2 0 0 0 .282 0l1.295-1.295a.2.2 0 0 0-.141-.341h-2.59a.2.2 0 0 0-.141.341ZM11.008 9.436l1.295-1.295a.2.2 0 0 0 0-.282l-1.295-1.295a.2.2 0 0 0-.341.141v2.59a.2.2 0 0 0 .341.141Z" fill="currentColor"/></svg>';var jQs=parseInt("24px",10)/2,kQs=mV(()=>"_3EfNLg"),lQs=DV(({UEc:a,isVisible:b,Ss:c,PH:d,Fx:e})=>{var f=a.left+a.width/2;a=a.top+a.height/2;const g=xV(()=>{let h;return{onDragStart:k=>{h={x:k.clientX,y:k.clientY};c()},qe:k=>{d(vj({x:k.clientX,y:k.clientY},h))},onDragEnd:()=>{h=void 0;e()},focusable:!0}},[c,d,e]);return cV("div",{className:AV("_8QFrRw",{rYmI2Q:b===!1}),style:{top:a-jQs,left:f-jQs},children:cV(__c.qvh,{onDragStart:g.onDragStart,qe:g.qe,onDragEnd:g.onDragEnd,rnb:"floating",mk:"top",
$ud:iQs,cHa:kQs,size:"small"})})}),nQs=DV(({UEc:a,isVisible:b})=>cV(mQs,{UEc:a,className:b?"NGbfTA":"MiQ9kA"})),oQs=DV(({UEc:a,isVisible:b})=>cV(mQs,{UEc:a,className:b?"_2lVj2Q":"MiQ9kA"})),mQs=DV(({UEc:a,className:b})=>{const c=xV(()=>a.Lb(),[a]);return cV("div",{className:b,style:{...c,transformOrigin:"center",transform:`rotate(${c.rotation}deg)`}})}),pQs=DV(a=>{const b=a.gQs,c=a.vOb,d=a.nop,e=a.scale,f=a.container;a=xV(()=>f===null||f===void 0?void 0:f.Lb(),[f]);return cV("div",{className:"jNA72g",
style:{height:a===null||a===void 0?void 0:a.height,width:a===null||a===void 0?void 0:a.width,transformOrigin:"center",transform:`rotate(${-1*((a===null||a===void 0?void 0:a.rotation)||0)}deg)`},children:b.map((g,h)=>cV(d,{el:g,vOb:c,scale:e,container:f},h))})});var qQs=class{static G(a){P(a,{uji:wV.ref,LIl:fV})}hWi(a){if(a.elements.length===0)this.LIl(void 0,"");else{var b=dws(a);if(this.uji&&this.u_l===b)return this.uji;var c=Uj(0,[Qj(a.elements[0])]),d=Fj(-c.tl.x,-c.tl.y);a=a.elements.map(e=>Uj(0,[Qj(e)]).transform(d));this.LIl(a,b);return a}}LIl(a,b){this.uji=a;this.u_l=b}constructor(){this.uji=(qQs.G(this),void 0);this.u_l=""}};var rQs=class{static G(a){P(a,{Rab:wV.ref})}set VCd(a){this.Z3r=a;a!=null?(this.qYk=sd(a,b=>b.container),this.KJn=[...this.qYk.values()]):this.KJn=this.qYk=void 0}get VCd(){return this.Z3r}get mzi(){return this.KJn}get x3r(){return this.qYk}constructor(){this.Rab=(rQs.G(this),void 0);this.Pig=new Map}},sQs=class{static G(a){P(a,{Kfe:mV,hWi:mV,vOb:mV,hdn:mV,VAn:fV.bound,onDragStart:fV,QWs:fV.bound,qe:fV,onDragEnd:fV.bound})}setState(a){this.store.Rab=a}get Kfe(){const a=this.selection.La;this.span&&
(this.span.end(),this.span=void 0,this.ZAe=0);if((a===null||a===void 0?void 0:a.type)==="elements"&&!(a.elements.length<=1||a.elements.find(b=>b.rotation%90!==0||this.uc.Nq({element:b,container:a.container})||b.type==="line")))return a}get hWi(){const a=this.Kfe;if(a!=null)return this.zas.hWi(a)}get vOb(){var a,b=this.hWi;const c=this.store.Rab;if(b!=null){if((c===null||c===void 0?void 0:c.vOb)!==void 0)return c.vOb;this.span&&(this.span.end(),this.span=void 0,this.ZAe=0);this.span=this.V.sb("swap_elements");
b=this.odq(b);(a=this.span)===null||a===void 0||a.addEvent("compute-swap-type");return b}}get hdn(){return this.store.Rab!=null}kga(){var a,b;(a=(b=this.store).kga)===null||a===void 0||a.call(b);this.store.kga=void 0}VAn(a){var b;a===((b=this.store.Rab)===null||b===void 0?void 0:b.ktc)&&this.kga()}onDragStart(a,b){Sk(this.oh,c=>pws(this,a,b,c))}QWs({className:a,enabled:b}){b?this.canvas.sDa=a:this.canvas.sDa===a&&(this.canvas.sDa=void 0)}Whe(a){const b=this.store.Rab;if(b!=null)try{for(const [c,d]of b.rVg)if(c===
b.ktc&&a!=null)qws(this,c,a.y-c.height/2,a.x-c.width/2);else{const e=d.Lb();qws(this,c,e.top,e.left)}}catch(c){this.mL()}}RAa(){const a=this.store.Rab,b=a===null||a===void 0?void 0:a.dragOffset;if(a!=null&&b!=null)try{const c=[...a.rVg.keys()];this.yr.O0a(c).translate(b.x,b.y)}catch(c){this.mL()}}qe(a,b,c){var d;const e=this.store.Rab,f=this.store.LJn;var g=this.store.VCd;if((e===null||e===void 0?void 0:e.ktc)==null)this.kga(),this.mL();else if((e===null||e===void 0?void 0:e.ktc)===a){b=Gj(1/c).transformPoint(b);
g=zj(g.get(a).I$f.c,b);c=f.indexOf(a);if(c===-1)throw Error();var h=this.tdk(this.store.mzi,g),k=!this.store.Pig.has(h);k&&((d=this.span)===null||d===void 0||d.addEvent(`compute-swap-start-${this.ZAe}`));var l;d=(l=this.store.Pig.get(h))!==null&&l!==void 0?l:ows(this,c,h!==null&&h!==void 0?h:c,f,e.vOb);this.store.Pig.set(h,d);this.setState({key:h,vOb:e.vOb,ktc:a,rVg:d,dragOffset:b});this.Whe(g);if(k){var m;(m=this.span)===null||m===void 0||m.addEvent(`update-elements-${this.ZAe}`);this.ZAe+=1}}}onDragEnd(){var a,
b,c,d,e;const f=this.store.Rab;this.kga();if(f!=null){this.Whe();if(f.dragOffset&&this.store.VCd&&this.store.mzi){var g=zj(n(this.store.VCd.get(f.ktc)).I$f.c,f.dragOffset);g=this.tdk(this.store.mzi,g);g=g!=null?[...this.store.VCd.keys()].at(g):void 0}f.key==null&&this.RAa();var h=((b=this.selection.La)===null||b===void 0?void 0:(a=b.container)===null||a===void 0?void 0:a.type)==="fixed-page"?(c=this.selection.La)===null||c===void 0?void 0:c.container.page:void 0;if(h&&g){b=h.elements.toArray();a=
b.indexOf(f.ktc);b=b.indexOf(g);const [l,m]=a<b?[f.ktc,g]:[g,f.ktc];h.elements.hba(l,m);h.elements.count()>2&&(a=Math.max(a,b),(a=h.elements.toArray().at(a))&&h.elements.Hwa(a,l))}var k=0;(d=this.store.VCd)===null||d===void 0||d.forEach((l,m)=>{l=l.I$f.Lb();m.top===l.top&&m.left===l.left||k++});this.N.track(KMs,{Uds:sws(f.ktc),Kvs:g&&sws(g),vOb:f.vOb,VXs:k,Qb:(e=this.span)===null||e===void 0?void 0:e.end().Hi()});this.mL()}}mL(){var a;this.setState(void 0);this.store.LJn=void 0;this.store.VCd=void 0;
this.store.Pig=new Map;(a=this.L1)===null||a===void 0||a.stop();this.span=this.L1=void 0;this.ZAe=0}constructor(a,b,c,d,e,f,g,h,k,l=kws,m=cws,p=gws){this.store=a;this.undo=b;this.yr=c;this.uc=d;this.selection=e;this.canvas=f;this.N=g;this.V=h;this.oh=k;this.tdk=l;this.jUp=m;this.odq=p;this.L1=(sQs.G(this),void 0);this.zas=new qQs;this.V8j=KV(q=>Gj(q));this.Yxl=KV(q=>{var r,t;const u=(t=this.store)===null||t===void 0?void 0:(r=t.Rab)===null||r===void 0?void 0:r.rVg.get(this.store.Rab.ktc);return u===
null||u===void 0?void 0:u.transform(this.V8j(q))});this.Mjq=KV(q=>{const r=this.Yxl(q);var t=this.store.Rab;if(t!=null&&r!=null)return t=[...t.rVg.values()].map(u=>u.transform(this.V8j(q))),t===null||t===void 0?void 0:t.filter(u=>!u.equals(r))});this.ZAe=0}},nws=class{constructor(a){this.I$f=a;this.container=Uj(0,[a])}};var tQs=({canvas:a,undo:b,yr:c,uc:d,selection:e,wp:f,oh:g,Yfc:h,toolbar:k,tge:l,isDragging:m,P:p,Ga:q})=>{var r;q=q.Vd("editor.editing.arrangement.swapping");const t=new rQs,u=new sQs(t,b,c,d,e,a,p,q,g);bNe(f.controls,()=>t.Rab!=null);(r=k.mE)===null||r===void 0||r.FQ(()=>t.Rab!=null);yns(h,()=>!!u.Kfe);const w=eV(({el:z,vOb:A,scale:B,container:D})=>{var G;const I=gV(()=>u.onDragStart(z,A),[z,A]),K=gV(O=>u.qe(z,O,B),[z,B]);iV(()=>()=>u.VAn(z),[z]);const N=D===null||D===void 0?void 0:D.Lb();D=xV(()=>
Qj(z).transform(u.V8j(B)).transform(Fj(-1*((N===null||N===void 0?void 0:N.left)||0),0)).transform(Fj(0,-1*((N===null||N===void 0?void 0:N.top)||0))),[z,B,N]);if(lws(u,z))return null;const M=u.Yxl(B)==null||((G=t.Rab)===null||G===void 0?void 0:G.key)!=null;return cV(lQs,{UEc:D.Lb(),Ss:I,PH:K,Fx:u.onDragEnd,isVisible:M})}),x=eV(({nd:z,box:A})=>{const B=u.Kfe,D=u.vOb;return B==null||D==null?null:(A=A===null||A===void 0?void 0:A.get())&&z*Math.max(A.width,A.height)>=32?cV(pQs,{vOb:D,gQs:B.elements,scale:z,
nop:w,container:A}):null}),y=eV(({page:z,Sc:A})=>{var B,D,G;if(z.page!==((B=u.Kfe)===null||B===void 0?void 0:B.container.page))return null;z=A.scale;A=u.Yxl(z);return kV(rV,{children:[A&&cV(nQs,{UEc:A,isVisible:((D=t.Rab)===null||D===void 0?void 0:D.key)!=null}),(G=u.Mjq(z))===null||G===void 0?void 0:G.map((I,K)=>{var N;return cV(oQs,{UEc:I,isVisible:((N=t.Rab)===null||N===void 0?void 0:N.key)!=null},K)})]})});f.Eu(()=>u.Kfe,(z,A)=>{z.X7f=A?x:void 0});a.kc(()=>u.Kfe,(z,A)=>{z.Ag.Xaf=A!=null?y:void 0});
l===null||l===void 0||uns(l,()=>!m()&&!(u===null||u===void 0?0:u.hdn))};var uQs=/android/i.test(navigator.userAgent),vQs=new Set(["text/plain","text/html","application/x-canva"]),wQs=class{async copy(a,b,c){var d=this.parser.encode(a);({text:a}=d);const e=d.html;d=d.xNa;!a&&(e||d)&&uQs&&(a=" ");(c=c||(b===null||b===void 0?void 0:b.clipboardData))?(c.setData("text/plain",a),c.setData("text/html",e),c.setData("application/x-canva",d),b&&(b===null||b===void 0||b.preventDefault())):await this.clipboard.write(navigator.clipboard,{"text/plain":new Blob([a],{type:"text/plain"}),
"text/html":new Blob([e],{type:"text/html"}),"application/x-canva":new Blob([d],{type:"application/x-canva"})})}async paste(a,b,c){if(a=b||(a===null||a===void 0?void 0:a.clipboardData))return this.parser.parse(this.getData(a,c),a.items);a=new DataTransfer;b=await this.clipboard.read(navigator.clipboard);for(const [e,f]of Object.entries(b||{}))f&&(this.a7.images.includes(e)||this.a7.Cc.includes(e)?a.items.add(new File([f],"",{type:e})):a.setData(e,await __c.ZYi(f)));c=await this.parser.parse(this.getData(a,
c),a.items);b=(c===null||c===void 0?void 0:c.type)===2;a=a.items.length>1;const d=b&&c.text.length<256&&/^[~\w -]+\.\w{3,4}$/.test(c.text);if(!b||a||!d)return c;throw Error("Pasting plaintext via Clipboard API is disabled");}getData(a,b=vQs){const c=b.has("text/plain")?a.getData("text/plain"):void 0,d=b.has("text/html")?a.getData("text/html"):void 0;a=b.has("application/x-canva")?a.getData("application/x-canva"):void 0;return{text:c,html:d,xNa:a}}constructor(a,b){this.parser=a;this.clipboard=__c.JKr;
this.a7=b}};var Kws=a=>{var b=uws(a);if(b)return{...ys,...Aws(b)};b=wws(a);if(b.length>0)return{...ys,...zws(b)};const c=Xk.md();a.forEach({Ya:(d,e)=>{c.attrs(e).Wb(d)},item:(d,e)=>{switch(d.type){case "pill":c.attrs(e).Wb(d.mi.text);break;case "rect":d.fill.image?c.attrs(e).Wb(`<${L("OOUSAw")}>`):d.fill.video?c.attrs(e).Wb(`<${L("+tg4/g")}>`):c.attrs(e).Wb(`<${L("Po4g+Q")}>`);break;case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "embed":case "chart":case "separator":c.attrs(e).Wb(`<${yws(d.type)}>`);
break;default:throw new v(d);}}});a=c.build();b=a.Ypc(a.length-1);a=typeof b==="string"&&b!=="\n"?Xk.md().append(a).Wb("\n").build():a;return{...ys,content:{...__c.iYc,value:a}}};var Xys=class{static G(a){P(a,{CK:mV})}async Vcf(a,b,c){var d,e=this.selection.La;if(e&&e.type==="elements"&&((d=e.inner)===null||d===void 0?void 0:d.type)==="table"&&this.wOa){const f=e.inner;e=f.anchor;d=f.container;a=this.wOa.xoi(f.table,d.container,f.cells,a,!(c===null||c===void 0?0:c.bhd),"clipboard");a.length&&(c=e&&a.includes(e)?e:a[0],this.selection.TNa(d,c,a))}else a=Xg.Suc(a),a=new __c.tA({jg:1,element:a}),await this.sc.addTable(a,void 0,{Yc:"paste",span:b});b.nb().addEvent("content_added")}async addImage(a,
b){await this.sc.addImage(a,{Yc:"paste",span:b}).loaded;b.nb().addEvent("content_added")}async Uzc(a,b){var c,d,e,f;if(a==="")return Promise.resolve(void 0);const g=this.selection.La,h=this.selection.Ib;if(this.CK&&this.iJ)return await __c.axf(this.iJ,this.CK.sheet,this.CK.cells,a,{Omq:!0}),b.nb().addEvent("content_added"),"link";if(((d=this.jc)===null||d===void 0?void 0:(c=d.state)===null||c===void 0?void 0:c.type)==="focused"&&((e=this.jc.state)===null||e===void 0?void 0:e.range.length)>0&&((f=
this.jc.state)===null||f===void 0?void 0:f.Nc.charLength)>1){var k,l;this.jc.setAttributes({decoration:Ly.decoration,link:a});((l=this.selection.La)===null||l===void 0?void 0:(k=l.inner)===null||k===void 0?void 0:k.type)==="sheet"&&this.jc.setAttributes({color:Ly.color});b.nb().setAttribute("content_type","text_link");b.nb().addEvent("content_added");return Promise.resolve("link")}if(g===null||g===void 0?0:g.elements)return g.elements.forEach(m=>{var p;m.link=a;(p=this.jc)===null||p===void 0||p.setAttributes({decoration:Ly.decoration,
link:a})}),b.nb().setAttribute("content_type","element_link"),b.nb().addEvent("content_added"),Promise.resolve("link");if(h!=null)return c=await this.sc.Uzc(a,{Yc:"paste_url",span:b},(h===null||h===void 0?void 0:h.type)===0&&h.container.type==="sheet-item-cell-richtext"?"link":void 0),c!=null&&(b.nb().setAttribute("content_type",`${c}_embed`),b.nb().addEvent("content_added")),c;try{const m=await this.sc.UJ(a,{Yc:"paste_url",span:b});b.nb().setAttribute("content_type",`${m}_embed`);b.nb().addEvent("content_added");
return m}catch(m){}finally{b.nb().addEvent("embed_resolved")}await this.sc.addText(a,{Yc:"paste_url",NZ:"default",span:b},{type:"v2",attrs:{decoration:Ly.decoration,link:a}});b.nb().setAttribute("content_type","text_element");b.nb().addEvent("content_added");return Promise.resolve("link")}get CK(){var a;const b=this.selection.La,c=this.selection.Ib;if((c===null||c===void 0?void 0:c.type)===4)return{sheet:c.container.sheet.config,cells:Array.from(c.cells)};if((b===null||b===void 0?void 0:(a=b.inner)===
null||a===void 0?void 0:a.type)==="sheet")return{sheet:b.type==="elements"?b.inner.sheet.config:b.inner.page.sheet,cells:Array.from(b.inner.cells)}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z){this.selection=a;this.jc=b;this.viewport=c;this.la=d;this.Pb=e;this.sc=f;this.Xa=g;this.tTq=k;this.wOa=l;this.xB=m;this.Naa=p;this.Si=q;this.Tc=r;this.iJ=t;this.QR=u;this.Rr=w;this.irb=x;this.hrb=y;this.Xde=z;Xys.G(this)}};var xQs=ce(Fe.Ff,()=>{}),Pws=class extends __c.LWc{H$b(a){return{...a,image:a.image&&Mws(this,a.image),video:a.video&&Nws(this,a.video)}}IAa(a){if(a.type==="embed"&&this.EKc&&this.EKc(a.url)){const {url:b,gb:c,Ub:d,...e}=a;return{...e,...zs,fill:ms}}return a}tLc(a){const b=this.EKc;if(!b)return a;const c=Kg.md();a.text.forEach({...be,Ya:(d,e)=>{let f;var g=e["font-family"];(g=g&&__c.gsa(g))&&b(g)&&(f={"font-family":this.saq});c.attrs({...e,...f}).Wb(d)}});return{...a,text:c.build()}}s5d(a){const b=
this.EKc,c={fontFamily:(d,e,f)=>{const g=e&&__c.gsa(e);return g&&b&&b(g)?this.yTh==null?void 0:[this.yTh,Ce.encode(d,this.yTh)]:[e,f]}};return a.uRg(d=>d in c,(d,e,f)=>c[d](d,e,f))}mzd(a){const b=this.EKc;var c=a.ye.fontFamily;let d=c;b&&(c=c&&__c.gsa(c))&&b(c)&&(d=this.yTh);return{...a,ye:{...a.ye,fontFamily:d}}}zRg(a){return a.type==="embed"&&this.EKc&&this.EKc(a.url)?{...__c.NYc,gb:void 0,Ub:void 0,fill:ms}:a}Cln(a){var b;(b=super.Cln)===null||b===void 0||b.call(this,a);return a.type==="media"?
(b=Array.from(a.value).filter(vb).filter(c=>{const d=c.fill.image&&Mws(this,c.fill.image);c=c.fill.video&&Nws(this,c.fill.video);return d||c}),{...a,value:b}):a}constructor(a,b,c){super();this.saq=a;this.yTh=b;this.EKc=c}},Ows=class extends __c.LWc{tLc(a){const b=Kg.md();a.text.forEach({...be,Ya:(c,d,e)=>{var f,g;d=(g=(f=this.Xi.get(__c.fe(Fe,e,"style")))===null||f===void 0?void 0:f.attributes)!==null&&g!==void 0?g:new Map;f=__c.Ge(d);b.attrs({...xQs,...f,...e}).Wb(c)}});return{...a,text:b.build()}}constructor(a){super();
this.Xi=a}};var yQs=class{oAf(a){return this.rq.oAf(a)}constructor(a,b,c){this.rq=a;this.sPq=b;this.tPq=c}};var zQs=H(()=>({p7:ip(1),nha:ip(2)}));var xxs=H(()=>({brightness:ip(1),contrast:ip(2),highlights:ip(3),shadows:ip(4),y_a:ip(5),HPa:ip(6),saturation:ip(7),RO:ip(8),YR:ip(9),VD:ip(10),sharpness:ip(11),wT:ip(12),zI:ip(13)}));var Wws=H(()=>({selection:S(1),IXa:ip(2),tVa:ip(3),hue:ip(4)}));var $ws=H(()=>({top:ip(1),left:ip(2),width:ip(3),height:ip(4)}));var AQs=H(()=>({top:ip(1),left:ip(2),width:ip(3),height:ip(4),rotation:ip(5)}));var Zws=H(()=>({width:ip(1),height:ip(2)}));var Yws=H(()=>({Mn:F(1,$ws),tb:F(2,AQs),aspectRatio:F(3,Zws)}));var BQs=H(()=>({vertical:ip(1),horizontal:ip(2)}));var CQs=H(()=>({id:S(1),Ad:ip(2)}));var DQs=H(()=>({Ad:ip(1),sn:T(2)}));var EQs=H(()=>({Ad:ip(1),gM:S(2),AR:S(3),shadowColor:S(4)}));var FQs=H(()=>({opacity:ip(1),spread:ip(2),blur:ip(3),angle:ip(4),distance:ip(5),color:S(6),curve:ip(7),rotation:ip(8),Yoa:ip(53)}));var dxs=H(()=>({top:ip(1),left:ip(2),width:ip(3),height:ip(4)}));var exs=H(()=>({Ad:ip(1),W7c:ip(3),d5:__c.rp(2)}));var cxs=H(()=>({boundingBox:E(1,dxs),N$:E(2,exs)}));var bxs=H(()=>({kpa:Pa(1,cxs)}));var mxs=H(()=>({type:C("A?",1,"MASK_SELECTION"),sn:S(1)}));var GQs=H(()=>({xs:S(1),ys:S(2)}));var HQs=__c.$a(()=>[1,2]);var zxs=H(()=>({type:C("A?",2,"SEGMENTATION_MASK"),points:F(1,GQs),zsd:T(2),zJa:__c.Ra(3,HQs),cTa:sp(5)}));var IQs=__c.$a(()=>[1,2]);var Bxs=H(()=>({type:C("A?",4,"FGBG_MASK"),region:__c.Ra(5,IQs)}));var Axs=H(()=>({type:C("A?",6,"ADAPTIVE_BRUSH_MASK"),sn:S(7)}));var JQs=__c.Za(()=>({type:[1,mxs,2,zxs,4,Bxs,6,Axs]}),()=>({}));var gxs=H(()=>({type:C("A?",1,"INPAINTING"),mask:E(1,JQs)}));var KQs=H(()=>({text:S(1),locale:S(2)}));var LQs=__c.$a(()=>[1,2,3]);var ixs=H(()=>({type:C("A?",2,"PROMPT_INPAINTING"),mask:E(1,JQs),prompt:E(2,KQs),seed:jp(3),chb:__c.Ra(4,LQs)}));var jxs=H(()=>({type:C("A?",6,"TEXT_BREAKOUT_INPAINTING"),sn:S(1)}));var kxs=H(()=>({type:C("A?",4,"BG_REMOVER"),sn:T(1)}));var lxs=H(()=>({type:C("A?",12,"ERASE_RESTORE"),mask:E(1,mxs)}));var nxs=H(()=>({type:C("A?",5,"PROMPT_EDITING"),mask:F(1,JQs),prompt:E(2,KQs),seed:jp(3),mOf:__c.mp(4),Sxf:__c.mp(5),qOf:__c.mp(6)}));var oxs=H(()=>({type:C("A?",7,"OUTPAINTING"),yzi:ip(1),xzi:ip(2),hZi:ip(3),iZi:ip(4),seed:jp(5)}));var pxs=H(()=>({type:C("A?",8,"SEGMENTATION_BG_REMOVER"),mask:E(2,JQs)}));var sxs=H(()=>({Ti:ip(1),Rj:ip(2),zGb:ip(3),Dkc:ip(4),rotation:ip(5),flipX:sp(6),flipY:sp(7)}));var rxs=H(()=>({so:E(1,__c.zq),sB:F(2,sxs),Ti:ip(3),Rj:ip(4),rotation:ip(5),scale:ip(6)}));var qxs=H(()=>({type:C("A?",9,"IMAGE_MERGE"),g3a:E(1,rxs),G9b:ip(2),seed:jp(3),Jri:(0,__c.wp)(4),oFd:sp(5)}));var txs=H(()=>({type:C("A?",10,"BG_GENERATION"),prompt:E(1,KQs),seed:jp(2),G9b:ip(3),oFd:sp(4)}));var uxs=H(()=>({type:C("A?",11,"STYLE_TRANSFER"),Eto:E(1,__c.zq),seed:jp(2),Fto:(0,__c.wp)(3)}));var MQs=__c.Za(()=>({type:[1,gxs,2,ixs,6,jxs,4,kxs,12,lxs,5,nxs,7,oxs,8,pxs,9,qxs,10,txs,11,uxs]}),()=>({}));var wxs=H(()=>({mask:E(1,JQs),Oi:F(2,xxs),jK:Pa(3,Wws)}));var NQs=H(()=>({autoFocus:E(11,zQs),Oi:E(4,xxs),jK:Pa(20,Wws),T5c:sp(18),sB:E(5,Yws),U$c:E(19,BQs),filter:E(6,CQs),blur:E(7,DQs),$ga:E(8,EQs),shadows:E(10,FQs),p8a:E(16,bxs),tj:Pa(14,MQs),$L:Pa(21,wxs)}));var Sxs=H(()=>({value:F(1,NQs)}));var OQs=H(()=>({z_b:jp(1),bSb:jp(2),CDe:(0,__c.wp)(3)}));var PQs=()=>({bSf:jp(27,5),domain:T(34),ia:S(29),Xf:T(35),session:jp(28),Xi:(0,__c.yp)(31,__c.lua),C$d:Pa(36,Sxs),nvc:(0,__c.yp)(37,OQs)});var Jxs=H(()=>({...PQs(),type:C("A?",1,"PAGE_BACKGROUND"),fill:E(1,__c.Sl),sh:Pa(6,__c.Sl),width:jp(2),height:jp(3)}));var Wys=H(()=>({...PQs(),type:C("A?",2,"ELEMENTS"),elements:Pa(1,__c.mac),width:jp(2),height:jp(3)}));var QQs=H(()=>({...PQs(),type:C("A?",3,"PAGES"),pages:Pa(1,__c.xbc),width:jp(2),height:jp(3)}));var RQs=H(()=>({...PQs(),type:C("A?",4,"AUDIOTRACKS"),tracks:Pa(1,__c.k$b)}));var lys=H(()=>({...PQs(),type:C("A?",5,"RICHTEXT3"),Nc:E(1,__c.qbc)}));var SQs=__c.Za(()=>({type:[1,Jxs,2,Wys,3,QQs,4,RQs,5,lys]}),PQs);var Ays=class{transform(){const a=new Map([]),b=new Map;this.sheet.layout.cells.forEach((e,f)=>{const g=`${__c.qta(this.sheet.YJ(f.$b))}${this.sheet.LJ(f.Yb)+1}`;e=this.CCs(e.content.ref,f);a.set(g,e);for(e=this.sheet.LJ(f.Yb);e<=this.sheet.LJ(f.Te);e++)for(let h=this.sheet.YJ(f.$b);h<=this.sheet.YJ(f.Ve);h++){const k=`${__c.qta(h)}${e+1}`;b.set(k,g)}});const c=Array.from({length:this.sheet.layout.cols.count()},(e,f)=>({id:__c.qta(f),width:1})),d=Array.from({length:this.sheet.layout.rows.count()},
(e,f)=>({kp:new Map(c.map(g=>{const h=`${g.id}${f+1}`;var k;return[g.id,(k=b.get(h))!==null&&k!==void 0?k:h]})),height:1,minHeight:1}));return{cells:a,layout:{...__c.SXc,columns:c,rows:d}}}constructor(a,b){this.CCs=a;this.sheet=b}};var qys=class{transform(){const a=[],b=[],c=new Map([]),d=new Map([]),e=new Map([]),f=new Map([]),g=new Map;this.table.layout.columns.forEach(k=>{const l=this.Pb.Pna.generate();b.push({id:l,width:k.width});this.table.layout.rows.forEach((m,p)=>{if(!c.has(p)){var q=this.Pb.Pna.generate();c.set(p,q);a.push({id:q,height:m.height,minHeight:m.minHeight})}p=n(c.get(p));p=`${l}:${p}`;q=n(m.kp.get(k.id));if(g.has(q))m=n(g.get(q)),f.set(p,m);else{m=this.Pb.Pna.generate();g.set(q,m);f.set(p,m);const K=n(this.table.cells.get(q)),
N=this.NQs(K);var r,t,u,w,x,y,z,A,B,D,G,I;q={oja:`${(x=K.Ck.xd)!==null&&x!==void 0?x:this.table.layout.borderStyle.weight}px`,nja:`${(y=K.Ck.Xe)!==null&&y!==void 0?y:this.table.layout.borderStyle.weight}px`,qja:`${(z=K.Ck.Gd)!==null&&z!==void 0?z:this.table.layout.borderStyle.weight}px`,pja:`${(A=K.Ck.If)!==null&&A!==void 0?A:this.table.layout.borderStyle.weight}px`,Hoa:(B=(r=K.borderColor.xd)===null||r===void 0?void 0:r.color)!==null&&B!==void 0?B:this.table.layout.borderStyle.color,Goa:(D=(t=K.borderColor.Xe)===
null||t===void 0?void 0:t.color)!==null&&D!==void 0?D:this.table.layout.borderStyle.color,Joa:(G=(u=K.borderColor.Gd)===null||u===void 0?void 0:u.color)!==null&&G!==void 0?G:this.table.layout.borderStyle.color,Ioa:(I=(w=K.borderColor.If)===null||w===void 0?void 0:w.color)!==null&&I!==void 0?I:this.table.layout.borderStyle.color};r=K.fill.color;a:switch(t=K.Yi,t){case 1:t="start";break a;case 2:t="middle";break a;case 3:t="end";break a;default:throw new v(t);}a:{switch(this.table.layout.direction){case 1:u=
"ltr";break a;case 2:u="rtl";break a;case void 0:break;default:throw new v(this.table.layout.direction);}u=void 0}e.set(p,{...q,m_:r,Yi:t,direction:u});d.set(m,N)}})});const h={...__c.wYc,vt:{...__c.dke(this.MCs.domain.cells,{uoa:d,uzc:f,cols:b,rows:a,_attributes:e})},direction:"ltr",AT:__c.XHd};return this.Fci(h)}constructor(a,b,c,d,e){this.Pb=a;this.NQs=b;this.MCs=c;this.Fci=d;this.table=e}};var TQs=class{serialize({Oi:a,jK:b,T5c:c,autoFocus:d,blur:e,sB:f,U$c:g,$ga:h,filter:k,shadows:l,p8a:m,tj:p,$L:q}){return new NQs({Oi:new xxs(a),jK:Xws(b),T5c:c,blur:new DQs(e),sB:axs(this,f),U$c:new BQs(g),$ga:new EQs(h),filter:new CQs(k),autoFocus:new zQs(d),shadows:new FQs(l),p8a:fxs(m),tj:vxs(p),$L:yxs(q)})}MTf(a){return new AQs(a)}deserialize({Oi:a,jK:b,T5c:c,autoFocus:d,blur:e,sB:f,U$c:g,$ga:h,filter:k,shadows:l,p8a:m,tj:p,$L:q}){return{Oi:{...a},blur:{...e},sB:Cxs(this,f),U$c:{...g},$ga:{...h},
filter:{...k},autoFocus:{...d},jK:Dxs(b),T5c:c,shadows:{...l},p8a:Exs(m),tj:Gxs(p),$L:Hxs(q)}}Rlf(a){return{...a}}},Txs=new TQs;var $ys=class{static G(a){P(a,{copy:fV,cut:fV,WP:fV,paste:fV,fNn:fV,kNn:fV,iNn:fV,hNn:fV,jNn:fV,YAi:fV,lNn:fV,gNn:fV})}async copy(a,b){var c=this.domain,d=this.vDa;const e=d.id,f=d.extension;d=d.document;const g=this.session,h=this.selection.La;var k;if(k=h){if(!(k=h.type==="pages")){var l,m,p;h.Bg&&__c.nf(h.Bg)?k=!0:((l=h.inner)===null||l===void 0?void 0:l.type)==="group"||((m=h.inner)===null||m===void 0?void 0:m.type)==="layout"||((p=h.inner)===null||p===void 0?void 0:p.type)==="layout-cell"?({element:l}=
__c.Uk(h.inner.container),k=__c.nf(l)):k=!1}k=k||h.Ki()}if(k&&(l=this.Zk(h),c=this.O4a(h,{domain:c,ia:e,Xf:f,session:g,...ug(4,l||d.dimensions)})))return await this.ewj.copy(c,a,b),c}Zk(a){if(a.type==="elements")return a.container.ja.dimensions;if(a.type==="pages"){var b;if(a=(b=this.selection.state)===null||b===void 0?void 0:b.Qz)switch(a.type){case "body":case "concatenated-fixed-page":case "responsive-page":break;case "fixed-page":return a.page.dimensions;default:throw new v(a);}}}O4a(a,b){switch(a.type){case "audio":return this.DPh(a,
b);case "pages":var c;switch((c=a.inner)===null||c===void 0?void 0:c.type){case void 0:return this.Njg(a,b);case "background":return Kxs(this,a.inner.Oc,b);case "sheet":a=a.inner;const {sheet:e,metadata:f}=Lxs(this,a.cells,a.page.sheet,new sj(0,0),n(a.page.id));return this.WCc([],[e],{...b,nvc:new Map([[e.id,f]]),fCc:{sheets:{[e.id]:{sheet:a.page.sheet,cells:a.cells}}}});case "sheet-cell-media":return this.pjf(a.inner,b);case "pages":return a.inner.inner?Kxs(this,a.inner.inner.Oc,b):this.Njg(a.inner,
b);default:throw new v(a.inner);}case "elements":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":const e=[],f={sheets:{}},g=new Map;a.elements.forEach(l=>{e.push(Rws(l));if(l.type==="sheet"&&!g.has(l.id)){const m=this.Tc?Sws(l.config,l.config.layout.cells.map((p,q)=>({row:q.Yb,column:q.$b})),this.Tc):new Map;g.set(l.id,{z_b:0,bSb:0,CDe:m})}l.type==="sheet"&&(f.sheets[l.id]={sheet:l.config})});return this.WCc(a.elements,
e,{...b,nvc:g,fCc:f});case "table":return c=[this.yOa.rih(a.inner.table,a.inner.cells)],this.WCc(a.elements,c,b);case "sheet":c=a.inner;const {sheet:h,metadata:k}=Lxs(this,c.cells,c.sheet.config,new sj(c.sheet.left,c.sheet.top),c.sheet.id);return this.WCc(a.elements,[h],{...b,nvc:new Map([[h.id,k]]),fCc:{sheets:{[h.id]:{sheet:c.sheet.config,cells:c.cells}}}});case "sheet-cell-media":return this.pjf(a.inner,b);default:throw new v(a.inner);}default:throw new v(a);}}DPh(a,b){a=a.tracks.map(c=>Xg.GMi(__c.yEc.snapshot(c)));
return{YRb:new RQs({...b,tracks:a}),pse:{contentType:"audio_tracks",gYb:1}}}pjf(a,b){const c={contentType:"elements",gYb:a.media.size},d=a.media.map(e=>{var f,g;const {width:h,height:k}=n(e.Uy||((f=e.fill.image.ref)===null||f===void 0?void 0:f.tb)||((g=e.fill.video.ref)===null||g===void 0?void 0:g.tb));e=Xg.t3(Zr.snapshot(e.fill));return new __c.jq({...zs,top:0,left:0,width:h,height:k,rotation:0,fill:e})});a=a.media.map(e=>{var f;return(f=this.PN)===null||f===void 0?void 0:f.FBe(e.fill.image.ref)});
a=Ixs(a);return{YRb:new Wys({...b,elements:d,C$d:a}),pse:c}}Njg(a,b){const c={contentType:"pages",gYb:a.pages.length};var d=a.pages.map(f=>{a:{var g=Dn.snapshot(f);switch(f.type){case "fixed":const h=this.eb.Zk(f);f=xg(h)?f.He:this.eb.rDg(f);g={...g,dimensions:h,He:f};break a;case "concatenated-fixed":case "responsive":g={...g,He:this.eb.rDg(f)};break a;default:throw new v(f);}}return g});const e=this.PN;a=e?Ixs(a.pages.flatMap(f=>Ins(e,f))):[];d=d.map(f=>Xg.jRc(f));return{YRb:new QQs({...b,pages:d,
C$d:a}),pse:c}}WCc(a,b,c){var d,e;b=b.map(g=>Xg.xTa(g));const f=Ixs(((d=this.PN)===null||d===void 0?void 0:__c.kLf(d,a))||[]);a=__c.cua(__c.Gsb.snapshot(this.vDa.document.Xi));d={contentType:"elements",gYb:b.length,gD:b.map(g=>g.type.toLowerCase()).join(", "),wD:__c.xif(((e=this.selection.La)===null||e===void 0?void 0:e.elements)||[])};return{YRb:new Wys({...c,elements:b,Xi:a,C$d:f}),pse:d,fCc:c.fCc}}async cut(a,b,c,d){a=await this.copy(a,d);d=this.selection.La;if(a&&d&&d.Ki())return this.WP(d,b,
c),a}WP(a,b,c){c=this.V.startSpan("delete_element_cut",c);a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new v(b);}c.setAttribute("controlContext",b);switch(a.type){case "audio":this.Gp.fVd(a.tracks,b);this.selection.deselectAll();break;case "pages":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case void 0:a=a.pages;this.AV.DRb(a)&&this.AV.xXe(a,{kb:"shortcut",location:"clipboard"});this.selection.deselectAll();
break;case "sheet":var e;a=a.inner;var f=a.page.sheet;(e=this.Si)===null||e===void 0||Mns(e,f,a.cells.map(A=>A));break;case "sheet-cell-media":var g;e=a.inner.media;a=a.inner.container;(f=(g=this.Wq).eVd)===null||f===void 0||f.call(g,a.sheet,a.row,a.column,e);break;case "pages":var h,k,l;pa(((h=a.inner.inner)===null||h===void 0?void 0:h.type)==="background");(k=(l=this.Wq).zlf)===null||k===void 0||k.call(l,a.inner.inner.page,a.inner.inner.Oc);break;case "background":var m,p;if(a.inner.page.type===
"responsive")return;(m=(p=this.Wq).zlf)===null||m===void 0||m.call(p,a.inner.page,a.inner.Oc);break;default:throw c.end("error"),new v(a.inner);}break;case "elements":var q;switch((q=a.inner)===null||q===void 0?void 0:q.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":var r,t;(r=(t=this.Wq).tDa)===null||r===void 0||r.call(t,a.elements,a.container);break;case "table":var u,w;this.rB.Qal(a.inner.cells);(u=(w=this.Wq).DNj)===null||u===void 0||u.call(w,a.inner.cells);
break;case "sheet":var x;a=a.inner;e=a.sheet;(x=this.Si)===null||x===void 0||Mns(x,e.config,a.cells.map(A=>A));break;case "sheet-cell-media":var y,z;e=a.inner.media;a=a.inner.container;(y=(z=this.Wq).eVd)===null||y===void 0||y.call(z,a.sheet,a.row,a.column,e);break;default:throw c.end("error"),new v(a.inner);}break;default:throw c.end("error"),new v(a);}c.ue()}Vwc(a,b){a.nb().addEvent("pasted");a.nb().tk(({Hi:c})=>{this.N.track(__c.Cif,{...b,action:"paste",Qb:c()})});a.ue()}Imd(){var a=this.selection.La;
if(this.selection.Ib)return this.mJi.Imd();if(a===null||a===void 0||!a.Ki())return!1;switch(a===null||a===void 0?void 0:a.type){case "pages":if(a.inner!=null)a:{var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "sheet":case "sheet-cell-media":a=!0;break a;case "pages":case "background":case void 0:var c;a=!xg(((c=a.Yo)===null||c===void 0?void 0:c.dimensions)||this.vDa.document.dimensions);break a;default:throw new v(a.inner);}}else a=!0;return a;case "audio":case "elements":case void 0:return!!a;
default:throw new v(a);}}ufg(){var a;const b=this.selection.La;if(this.selection.Ib)return this.mJi.ufg();if(b===null||b===void 0||!b.Ki())return!1;if((b===null||b===void 0?void 0:b.type)==="pages")switch((a=b.inner)===null||a===void 0?void 0:a.type){case "sheet":case "sheet-cell-media":return!0;case "pages":case "background":case void 0:var c;return this.viewport.uh&&(!this.viewport.gZ||!xg(((c=b.Yo)===null||c===void 0?void 0:c.dimensions)||this.vDa.document.dimensions))||this.viewport.ya.type===
"responsive";default:throw new v(b.inner);}return!!b}pjc(){var a;const b=this.selection.La;return b?b.Ki()&&((a=b.inner)===null||a===void 0?void 0:a.type)==="sheet":!1}async paste(a,b,c,d,e){if((a.type!==1||a.xNa.type!=="PAGES"&&a.xNa.type!=="AUDIOTRACKS")&&this.viewport.jh.ja.locked)throw new __c.Toe;switch(a.type){case 0:return this.J_k(a.file,b,c,d);case 1:return this.XAi(a.xNa,b,c,e);case 2:return this.oMf(a.text,b,c,e);case 3:return this.VAi(a.content,b,c,e);default:throw new v(a);}}async J_k(a,
b,c,d){d==null?b.end("error"):(a=await d([a],"canvas",{g_a:"background",kb:"clipboard"}).images,b.nb().addEvent("image_uploaded"),[a]=a,b.nb().setAttribute("uploaded",!!a),a?(await this.vVa.addImage(__c.Ehf(a),b),this.Vwc(b,{kb:c,contentType:"image",wD:[a.id]})):b.end("error"))}async oMf(a,b,c,d){a=await Iws(this.vVa,a,b,c,d);this.Vwc(b,{kb:c,contentType:"text",aGj:a})}async XAi(a,b,c,d){if(a.bSf!==this.SBj||a.domain!=null&&a.domain!==this.domain)b.abort();else{b.nb().setAttribute("content_type",
a.type.toLowerCase());var e=!1;switch(a.type){case "PAGE_BACKGROUND":e=await Mxs(this,a,b);a={kb:c,contentType:"page_backgrounds",gYb:a.sh.length,Zzg:a.ia===this.vDa.id,$zg:a.session===this.session};break;case "ELEMENTS":var f;e=this.viewport.jh;if(e.type==="responsive-page")return;var g=__c.ade(mu,a.elements.map(k=>Xg.RSb(k)),{Zqd:this.gof.next(),Eqg:a.ia===this.vDa.id?void 0:a.ia});b.nb().addEvent("proto_deserialized");e=await this.fNn(e,a,g,b,c,d);d=__c.xif(((f=this.selection.La)===null||f===void 0?
void 0:f.elements)||[]);a={kb:c,contentType:"elements",gYb:g.length,gD:g.map(k=>k.type).join(", ").toLowerCase(),Zzg:a.ia===this.vDa.id,$zg:a.session===this.session,wD:d};break;case "PAGES":var h;e=await this.WAi(a,c,b);a={kb:c,contentType:"pages",gYb:a.pages.length,Zzg:a.ia===this.vDa.id,$zg:a.session===this.session};(g=(h=this.Gb).WBd)===null||g===void 0||g.call(h);break;case "AUDIOTRACKS":e=await Nxs(this,a,b);a={kb:c,contentType:"audio_tracks",gYb:a.tracks.length,Zzg:a.ia===this.vDa.id,$zg:a.session===
this.session};break;case "RICHTEXT3":await this.mJi.XAi(a,b,c,d);return;default:throw new v(a);}b.nb().setAttribute("resources_loaded",e);this.Vwc(b,a);e||this.wsl()}}async VAi(a,b,c,d){switch(a.type){case "richtext3":await this.mJi.VAi(a,b,c,d);break;case "elements":if(a.elements.length!==1)break;a=a.elements[0];a.type!=="table"||pf(this.viewport.ya)||(await this.vVa.Vcf(a,b,{bhd:!0}),this.Vwc(b,{kb:c,contentType:"elements"}));a.type==="sheet"&&(Ews(this.vVa,a,void 0,b,c,{...d,NRc:"wrap"}),this.Vwc(b,
{kb:c,contentType:"elements"}));a.type==="text"&&((d===null||d===void 0?0:d.bhd)?await Iws(this.vVa,a.text.cells.Ya(),b,c,d):(d===null||d===void 0?0:d.Izg)||await Jws(this.vVa,a.text,b),this.Vwc(b,{kb:c,contentType:"elements"}));break;case "media":d=await this.oc.cnb(new __c.pz({id:a.media.id,version:a.media.version}));d={...__c.Ehf(d),pending:!1,oy:!0,H3:d.H3,$z:d.Sb.$z};await this.vVa.addImage(d,b);this.Vwc(b,{kb:c,contentType:"elements",gD:"rect",gYb:1,wD:[a.media.id],correlationId:a.Hf});break;
default:throw new v(a);}}async fNn(a,b,c,d,e,f){var g,h,k,l;if(((h=this.selection.La)===null||h===void 0?void 0:(g=h.inner)===null||g===void 0?void 0:g.type)==="table"&&c.length===1){if(c[0].type==="table")return this.kNn(b,c[0],d);if(c[0].type==="sheet")return this.iNn(b,c[0],d)}else if(((l=this.selection.La)===null||l===void 0?void 0:(k=l.inner)===null||k===void 0?void 0:k.type)==="sheet"){if(c.length===1)switch(g=c[0],g.type){case "sheet":return this.hNn(b,g,d,e,f);case "table":return this.jNn(b,
g,d,e,f);case "text":return this.lNn(b,g,d);case "embed":return this.gNn(b,g,d)}if(c.every(r=>r.type==="rect"))return this.YAi(b,c,d)}const m=b.C$d.map(({value:r})=>r&&Txs.deserialize(r));d.nb().addEvent("proto_deserialized");g=!0;b.session!==this.session&&({c4b:g,elements:c}=await Qws(this.vAb,b,{elements:c},d));d.nb().addEvent("content_normalized");pf(a.ja)&&(c=c.filter(r=>r.type!=="table"&&r.type!=="sheet"));const p=a.ja;if(!Vns(p,this.eb)||a.container.type==="concatenated-fixed-page"||p.draft||
__c.Ghe(p)!=null)c=c.filter(r=>!__c.Ehe(r));if(c.length===0)return g;let q=Qxs(this,c,a,b.width,b.height);d.nb().addEvent("content_scaled_to_page");q=await Promise.all(q.map(this.XSg));q=q.map(r=>r.type==="controlled"?{...r,id:this.Pb.Vh.generate()}:r);oV(()=>{var r;let t=[];var u=q.length===1?q[0]:void 0;if((u===null||u===void 0?void 0:u.type)==="sheet"){const w=b.elements[0];pa(w.type==="SHEET");(u=Ews(this.vVa,u,b.nvc.get(w.id),d,e,{...f,NRc:"wrap"}))&&t.push(u)}else t=p.elements.Zca(void 0,q);
for(const w of t)w.type==="chart"&&this.HE(w);(r=this.PN)===null||r===void 0||__c.hLf(r,t,m);d.nb().addEvent("content_added");this.selection.Ol(a,...t);d.nb().addEvent("content_selected");this.Og.CS()});return g}async kNn(a,b,c){let d=!0;a.session!==this.session&&({c4b:d,elements:[b]}=await Qws(this.vAb,a,{elements:[b]},c));c.nb().addEvent("content_normalized");await oV(async()=>{await this.vVa.Vcf(b,c)});return d}async iNn(a,b,c){na(a.elements.length===1);na(a.elements[0].type==="SHEET");let d=!0;
a.session!==this.session&&({c4b:d,elements:[b]}=await Qws(this.vAb,a,{elements:[b]},c));c.nb().addEvent("content_normalized");a=a.nvc.get(a.elements[0].id);b=bMb.create(b);b=(new Ays(Uws(b,a,this.Tc),b.config)).transform();const e={...__c.RXc,...b,id:this.Pb.Vh.generate(),top:0,left:0,width:1,height:1,gb:1,Ub:1};await oV(async()=>{await this.vVa.Vcf(e,c)});return d}async hNn(a,b,c,d,e){na(a.elements.length===1);na(a.elements[0].type==="SHEET");let f=!0;a.session!==this.session&&({c4b:f,elements:[b]}=
await Qws(this.vAb,a,{elements:[b]},c));c.nb().addEvent("content_normalized");const g=a.nvc.get(a.elements[0].id);oV(()=>{Ews(this.vVa,b,g,c,d,e)});return f}async jNn(a,b,c,d,e){let f=!0;a.session!==this.session&&({c4b:f,elements:[b]}=await Qws(this.vAb,a,{elements:[b]},c));c.nb().addEvent("content_normalized");a=(new qys(this.Pb,h=>({...ys,content:{...__c.hYc,value:this.ZQ.config.bDg(h)}}),__c.iBa,h=>{if(!this.Tc)return h;const k=__c.tSc.create(h);wz(this.Tc,l=>{k.layout.cells.forEach((m,p)=>{(m===
null||m===void 0?0:m.content.ref)&&m.content.ref.type==="text2"&&l.XAb(k,{column:p.$b,row:p.Yb},m.content.ref.value)})});return __c.tSc.snapshot(k)},b)).transform();const g={...xYc,id:this.Pb.Vh.generate(),top:0,left:0,width:0,height:0,config:a};oV(()=>{Ews(this.vVa,g,void 0,c,d,e)});return f}async YAi(a,b,c){var d;let e=!0;a.session!==this.session&&({c4b:e,elements:b}=await Qws(this.vAb,a,{elements:b},c));c.nb().addEvent("content_normalized");a=this.selection.La;if((a===null||a===void 0?void 0:(d=
a.inner)===null||d===void 0?void 0:d.type)==="sheet"){const f=a.inner.cells,g=a.type==="elements"?a.inner.sheet.config:a.inner.page.sheet,h=b.map(k=>({fill:k.fill,Uy:{width:k.width,height:k.height}}));oV(()=>{var k;(k=this.Tc)===null||k===void 0||wz(k,l=>{f.forEach(m=>{var p;const q=g.layout.cells.get(m.row,m.column),r=(q===null||q===void 0?void 0:(p=q.ref.content.ref)===null||p===void 0?void 0:p.type)==="media"?q.ref.content.ref.value.map(t=>__c.aNc.snapshot(t)):[];l.K$(g,m,{type:6,value:[...r,...h]})})})})}return e}async lNn(a,
b,c){let d=!0;a.session!==this.session&&({c4b:d,elements:[b]}=await Qws(this.vAb,a,{elements:[b]},c));c.nb().addEvent("content_normalized");await oV(async()=>{await Jws(this.vVa,b.text,c)});return d}async gNn(a,b,c){let d=!0;a.session!==this.session&&({c4b:d,elements:[b]}=await Qws(this.vAb,a,{elements:[b]},c));c.nb().addEvent("content_normalized");await oV(async()=>{await this.vVa.Uzc(b.url,c)});return d}async Rtc(a,b,c){switch(a.type){case "fixed":var d;if(this.jE){var e,f=(e=a.dimensions)!==null&&
e!==void 0?e:{height:c,width:b,units:4};b=a.He;xg(f)&&!a.He&&(b=a.sheet?void 0:await __c.rAf(this.AV));xg(f)||b||(b={type:"inline",pG:void 0});a={...a,dimensions:f,He:b}}else a=Rxs(this,{...a,He:void 0},b,c);b=(await Promise.all(a.elements.map(this.XSg))).filter(vb);if(!this.jE&&((d=this.vDa.doctype)===null||d===void 0?void 0:d.AP[0].type)==="CONCATENATED_FIXED"){var g,h;return{...__c.IYc,id:this.Pb.mh.generate(),He:{...__c.JYc,Ca:(g=this.vDa.doctype)===null||g===void 0?void 0:g.id,GD:(h=this.vDa.doctype)===
null||h===void 0?void 0:h.version,pG:void 0},pages:[{...a,He:void 0,id:this.Pb.mh.generate(),elements:b}]}}return{...a,elements:b};case "concatenated-fixed":var k;if(!(((f=a.He)===null||f===void 0?void 0:f.type)==="reference"&&a.He.Ca===((k=this.vDa.doctype)===null||k===void 0?void 0:k.id)||this.jE))break;d=await Promise.all(a.pages.map(async l=>{const m=await Promise.all(l.elements.map(this.XSg));return{...l,elements:m.filter(vb)}}));return{...a,pages:d.filter(vb)};case "responsive":return{...a};
default:throw new v(a);}}async WAi(a,b,c){var d,e;if(a.pages.length===0)return c.abort(),!1;let f=a.pages.map(l=>mu.iQ(Xg.f6b(l)));const g=a.C$d.map(({value:l})=>l&&Txs.deserialize(l));c.nb().addEvent("proto_deserialized");let h=!0;a.session!==this.session&&({c4b:h,pages:f}=await Qws(this.vAb,a,{pages:f},c));c.nb().addEvent("content_normalized");f=(await Promise.all(f.map(async l=>this.Rtc(l,a.width,a.height)))).filter(vb);c.nb().addEvent("content_scaled_to_page");const k=((d=this.selection.La)===
null||d===void 0?void 0:d.type)==="pages"?this.selection.La.pages[this.selection.La.pages.length-1]:this.viewport.ya;d=this.sc.UKa(f);switch(d.type){case 4:return c.abort(),!1;case 2:return c.abort(),this.N.track(__c.Fif,{designId:this.vDa.id,kb:b}),this.la.Hb({Cb:J("ejP+Tw",[a.pages.length,d.xh])}),!1;case 3:return c.abort(),this.la.Hb({Cb:J("0RVqFA",[d.Spg])}),!1;case 1:break;default:throw new v(d);}b=oV(()=>this.sc.NQb(k,f,{span:c,Yc:"paste",location:"clipboard",C8:"none"}));(e=this.PN)===null||
e===void 0||Hns(e,b.map(l=>l.page),g);c.nb().addEvent("content_added");await ma(0);this.viewport.xJ(b[0]);this.selection.deselectAll();this.selection.hU(b[0].container,...b.map(l=>l.page));c.nb().addEvent("content_selected");return h}dYf(){return{items:new Set}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,N,M,O,U,W,X,Z,da,ka,la,oa,ja,ha,ba){this.mJi=a;this.vAb=b;this.vVa=c;this.sc=d;this.ewj=e;this.wsl=f;this.SBj=g;this.gof=h;this.domain=k;this.vDa=l;this.session=m;this.Ma=p;this.Xa=
q;this.Gb=r;this.N=t;this.V=u;this.selection=w;this.Og=x;this.PN=y;this.viewport=z;this.$Ka=A;this.eb=B;this.AV=D;this.Gp=G;this.ZQ=I;this.rB=K;this.yOa=N;this.timing=M;this.vd=O;this.xB=U;this.Si=W;this.Tc=X;this.Pb=Z;this.yga=da;this.oc=ka;this.Wq=la;this.la=oa;this.HE=ja;this.l1c=ha;this.jE=ba;this.XSg=($ys.G(this),async ca=>{if(__c.sqa(ca)&&this.yga)try{var qa;const ra=await ((qa=this.yga)===null||qa===void 0?void 0:qa.cJg(ca.Cd.app.id,ca.il,{JVf:!1}));return{...ca,il:ra}}catch(ra){}return ca})}};var UQs=class{transform(){let a=0,b=0,c=1;const d=[],e=this.table.getElementsByTagName("col");for(const Ja of this.table.rows){const Qa=Ja.rowIndex;let Ta=0;for(const Xa of Ja.cells){var f;const Ya=Xa.cellIndex,Sa=Xa.rowSpan,ib=Xa.colSpan;for(;(f=d[Qa])===null||f===void 0?0:f[Ya+Ta];)Ta++;const pb=Sa+Qa-this.sheet.rows.length;if(pb>0)for(let Jc=0;Jc<pb;Jc++){const sc={},zc=pqs(Ja.style.height);zc!=null&&(sc.height=Math.max(1,zc));const Ac=lqs(this.Qea,Ja);Ac&&(sc.backgroundColor=Ac);const Lc=sc;this.s1n.set(a,
Lc);var g,h;this.sheet.rows.push({id:this.Pb.Pna.generate(),height:Math.max((g=Lc.height)!==null&&g!==void 0?g:gu.height,gu.height),minHeight:Math.max((h=Lc.height)!==null&&h!==void 0?h:gu.minHeight,gu.height)});a++}const ob=ib+Ya+Ta-this.sheet.cols.length;if(ob>0)for(let Jc=0;Jc<ob;Jc++){const sc=e.item(b);if(sc){const Ac=sc.style,Lc={},ud=Fqs(sc.width)||pqs(Ac.width);ud!=null&&(Lc.width=Math.max(1,ud));const md=lqs(this.Qea,sc);md&&(Lc.backgroundColor=md);var k=Lc}else k={};const zc=k;this.Bjm.set(b,
zc);var l;this.sheet.cols.push({id:this.Pb.Pna.generate(),width:Math.max((l=zc.width)!==null&&l!==void 0?l:__c.VHd.width,__c.VHd.width)});b++}const nb=this.config.Qvo(Xa);nb&&this.sheet.uoa.set(`${c}`,nb);for(let Jc=0;Jc<ib;Jc++){const sc=Ya+Ta+Jc,zc=n(this.sheet.cols[sc]).id;for(let Ac=0;Ac<Sa;Ac++){var m,p;const Lc=Qa+Ac,ud=n(this.sheet.rows[Lc]).id;this.sheet.uzc.set(`${zc}:${ud}`,`${c}`);var q;(q=(m=d)[p=Lc])!==null&&q!==void 0?q:m[p]=[];d[Lc][sc]=!0}}c++;const gb=Ya+Ta,mb=Qa;var r=this.sheet._attributes,
t=r.set,u=`${n(this.sheet.cols[gb]).id}:${n(this.sheet.rows[mb]).id}`,w=void 0,x=void 0,y=Xa,z=gb,A=mb;const db={},ub=lqs(this.Qea,y)||((x=this.s1n.get(A))===null||x===void 0?void 0:x.backgroundColor)||((w=this.Bjm.get(z))===null||w===void 0?void 0:w.backgroundColor);ub&&(db.m_=ub);const Ob=this.direction==="rtl";{var B=void 0,D=void 0,G=this.Qea,I=y;const Jc=I.style.borderTopWidth||((D=pV(G,I))===null||D===void 0?void 0:D.borderTopWidth)||I.style.borderBlockStartWidth||((B=pV(G,I))===null||B===void 0?
void 0:B.borderBlockStartWidth);var K=Jc?pqs(qV(Jc)):void 0}const Pb=K;{var N=void 0,M=void 0,O=this.Qea,U=y;const Jc=U.style.borderBottomWidth||((M=pV(O,U))===null||M===void 0?void 0:M.borderBottomWidth)||U.style.borderBlockEndWidth||((N=pV(O,U))===null||N===void 0?void 0:N.borderBlockEndWidth);var W=Jc?pqs(qV(Jc)):void 0}const Ab=W,Qb=Ob?rqs(this.Qea,y):qqs(this.Qea,y),Jb=Ob?qqs(this.Qea,y):rqs(this.Qea,y);Pb!=null&&(db.oja=`${Pb}px`);Ab!=null&&(db.nja=`${Ab}px`);Qb!=null&&(db.qja=`${Qb}px`);Jb!=
null&&(db.pja=`${Jb}px`);{var X=void 0,Z=void 0,da=this.Qea,ka=y;const Jc=ka.style.borderTopColor||((Z=pV(da,ka))===null||Z===void 0?void 0:Z.borderTopColor)||ka.style.borderBlockStartColor||((X=pV(da,ka))===null||X===void 0?void 0:X.borderBlockStartColor);var la=Jc?kqs(Jc):void 0}const $b=la;{var oa=void 0,ja=void 0,ha=this.Qea,ba=y;const Jc=ba.style.borderBottomColor||((ja=pV(ha,ba))===null||ja===void 0?void 0:ja.borderBottomColor)||ba.style.borderBlockEndColor||((oa=pV(ha,ba))===null||oa===void 0?
void 0:oa.borderBlockEndColor);var ca=Jc?kqs(Jc):void 0}const rc=ca,Tc=Ob?nqs(this.Qea,y):mqs(this.Qea,y),Sc=Ob?mqs(this.Qea,y):nqs(this.Qea,y);$b&&(db.Hoa=$b);rc&&(db.Goa=rc);Tc&&(db.Joa=Tc);Sc&&(db.Ioa=Sc);{var qa=void 0,ra=void 0,sa=this.Qea,wa=y;const Jc=wa.style.borderTopStyle||((ra=pV(sa,wa))===null||ra===void 0?void 0:ra.borderTopStyle)||wa.style.borderBlockStartStyle||((qa=pV(sa,wa))===null||qa===void 0?void 0:qa.borderBlockStartStyle);var ya=Jc?sqs(Jc):void 0}const hc=ya;{var za=void 0,Aa=
void 0,Ea=this.Qea,Fa=y;const Jc=Fa.style.borderBottomStyle||((Aa=pV(Ea,Fa))===null||Aa===void 0?void 0:Aa.borderBottomStyle)||Fa.style.borderBlockEndStyle||((za=pV(Ea,Fa))===null||za===void 0?void 0:za.borderBlockEndStyle);var Na=Jc?sqs(Jc):void 0}const vc=Na,tb=Ob?uqs(this.Qea,y):tqs(this.Qea,y),kc=Ob?tqs(this.Qea,y):uqs(this.Qea,y);hc!=null&&(db.JPa=Uxs(hc));vc!=null&&(db.IPa=Uxs(vc));tb!=null&&(db.LPa=Uxs(tb));kc!=null&&(db.KPa=Uxs(kc));t.call(r,u,db)}}return this.config.Fci({vt:__c.dke(this.descriptor.domain.cells,
this.sheet),nr:new Map,Z5:[],direction:this.direction,AT:__c.XHd,Cpa:!1,view:__c.vYc})}constructor(a,b,c,d,e){this.descriptor=a;this.table=b;this.Qea=c;this.config=d;this.Pb=e;this.sheet={uoa:new Map,uzc:new Map,_attributes:new Map,cols:[],rows:[]};this.direction="ltr";this.Bjm=new Map;this.s1n=new Map}},VQs=class{Fci(a){if(!this.Tc)return a;const b=__c.tSc.create(a);wz(this.Tc,c=>{b.layout.cells.forEach((d,e)=>{(d===null||d===void 0?0:d.content.ref)&&d.content.ref.type==="text2"&&c.XAb(b,{column:e.$b,
row:e.Yb},d.content.ref.value)})});return __c.tSc.snapshot(b)}Qvo(a){a=this.tWs(a);if(a.length===1&&a[0].type==="text")return{...ys,content:{...__c.hYc,value:a[0].text}};if(a.length&&a.every(b=>b.type==="rect"))return{...ys,content:{...__c.eYc,value:a.map(b=>({fill:b.fill,Uy:void 0}))}}}constructor(a,b){this.Tc=a;this.tWs=b}},WQs=class{Fci(a){if(!this.Tc)return a;const b=__c.MUc.create(a);wz(this.Tc,c=>{b.layout.cells.forEach((d,e)=>{d.content.ref&&d.content.ref.type==="text3"&&c.Mdc(b,{column:e.$b,
row:e.Yb},d.content.ref.value)})});return __c.MUc.snapshot(b)}Qvo(a){a=this.BWs(a);const b=Vxs(a);return b.length>0&&b.every(c=>c.type==="rect")?{...ys,content:{...__c.eYc,value:b.map(c=>({fill:c.fill,Uy:void 0}))}}:{...ys,content:{...__c.iYc,value:a}}}constructor(a,b){this.Tc=a;this.BWs=b}};var LV={fontFamily:()=>{},fontSize:(a,b)=>{a.setStyle("font-size",`${b.toString()}px`)},fontWeight:(a,b)=>{b=__c.RPh.u9h(b);b!=null&&a.setStyle("font-weight",b.toString())},fontStyle:(a,b)=>a.setStyle("font-style",b),fontKerning:()=>{},iHc:()=>{},hHc:()=>{},gHc:()=>{},uJ:(a,b)=>{const c=parseFloat(a.getStyle("font-size")||"");b=parseFloat(b);Number.isNaN(c)||Number.isNaN(b)||b===1||a.setStyle("font-size",`${(c*b).toString()}px`)},verticalAlign:()=>{},color:(a,b)=>a.setStyle("color",b),t8a:()=>{},
backgroundColor:(a,b)=>{b!=="transparent"&&a.setStyle("background-color",b)},cva:()=>{},bva:()=>{},decoration:(a,b)=>{if(b!=="none"){var c=a.getStyle("text-decoration");a.setStyle("text-decoration",c?c+` ${b}`:b)}},sv:(a,b)=>{b!=="none"&&(b=a.getStyle("text-decoration"),a.setStyle("text-decoration",b?b+" line-through":"line-through"))},link:(a,b)=>{b.length>0&&a.setAttribute("href",b)},letterSpacing:(a,b)=>a.setStyle("letter-spacing",`${b}em`),lineHeight:(a,b)=>a.setStyle("line-height",b.toString()),
direction:(a,b)=>a.setStyle("direction",b),textAlign:(a,b,c)=>{switch(b){case "start":a.setStyle("text-align",c.direction==="rtl"?"right":"left");break;case "end":a.setStyle("text-align",c.direction==="rtl"?"left":"right");break;default:a.setStyle("text-align",b)}},Mk:(a,b)=>{["checked","unchecked"].includes(b)||a.setStyle("list-style",b)},Hk:()=>{},EXa:()=>{},marginInlineStart:(a,b,c)=>{c.direction==="rtl"?a.setStyle("margin-right",`${b}px`):a.setStyle("margin-left",`${b}px`)},textIndent:(a,b)=>
a.setStyle("text-indent",`${b}px`),textTransform:(a,b)=>a.setStyle("text-transform",b),JBa:()=>{}};var fys=class{transform(){const a=bV.element("table"),b=a.appendChild(bV.element("colgroup"));this.sheet.layout.cols.forEach(c=>{b.appendChild(bV.element("col",{BVg:!0})).setStyle("width",`${c.width}px`)});this.sheet.layout.rows.forEach(c=>{const d=a.appendChild(bV.element("tr"));d.setStyle("height",`${c.height}px`);this.sheet.layout.cols.forEach(e=>{const f=this.sheet.layout.cells.get(c,e);if(f==null||f.span.Yb===c&&f.span.$b===e){var g=(f===null||f===void 0?0:f.ref.content.ref)?this.WOp(f===null||
f===void 0?void 0:f.ref.content.ref,{row:c,column:e}):bV.element("td");d.appendChild(g);f&&f.span.Yb!==f.span.Te&&g.setAttribute("rowspan",[...Dk(f.span.Yb,f.span.Te,this.sheet.layout.rows)].length.toString());f&&f.span.$b!==f.span.Ve&&g.setAttribute("colspan",[...Dk(f.span.$b,f.span.Ve,this.sheet.layout.cols)].length.toString());var h=this.sheet.direction==="rtl",k=this.sheet.layout.attrs.get(He.zs,c,e)||{};g.setStyle("background-color",__c.ge(He,k).m_);we(__c.GNc,k,"all",(p,q)=>{if(p!=null)LV[q](g,
p,{direction:h?"rtl":"ltr"})});var l,m;k=this.Oho.get(qns((l=f===null||f===void 0?void 0:f.span.$b)!==null&&l!==void 0?l:e,(m=f===null||f===void 0?void 0:f.span.Yb)!==null&&m!==void 0?m:c));!f||f.span.Yb===f.span.Te&&f.span.$b===f.span.Ve||(e=this.Oho.get(qns(f.span.Ve,f.span.Te)),k?(k.Xe=e===null||e===void 0?void 0:e.Xe,k.If=e===null||e===void 0?void 0:e.If):k=e);if((k===null||k===void 0?void 0:k.xd)!=null){const {color:p="transparent",weight:q,uC:r}=k.xd;g.setStyle("border-top",`${q}px ${Wxs(r)} ${p}`)}if((k===
null||k===void 0?void 0:k.Xe)!=null){const {color:p="transparent",weight:q,uC:r}=k.Xe;g.setStyle("border-bottom",`${q}px ${Wxs(r)} ${p}`)}if((k===null||k===void 0?void 0:k.Gd)!=null){const {color:p="transparent",weight:q,uC:r}=k.Gd;e=`${q}px ${Wxs(r)} ${p}`;h?g.setStyle("border-right",e):g.setStyle("border-left",e)}if((k===null||k===void 0?void 0:k.If)!=null){const {color:p="transparent",weight:q,uC:r}=k.If;k=`${q}px ${Wxs(r)} ${p}`;h?g.setStyle("border-left",k):g.setStyle("border-right",k)}}})});
return a}constructor(a,b,c){this.sheet=a;this.WOp=b;this.Oho=c}};var XQs=class{serialize(a,b){a=this.Uho.serialize(a,b);return this.csv.encode(a,{field:"\t"})}deserialize(a){var b,c=__c.qrg(a);let d=this.csv.parse(a,c);const e=d.length,f=((b=d[0])===null||b===void 0?void 0:b.length)||0;b=f>0&&d.every(h=>h.length===f);let g=!1;switch(c.field){case ",":g=e>=2&&f>=4;break;case ";":case "|":g=e>=2&&f>=2||f>=4;break;default:g=!0}b&&g||(d=a.split(c.row).map(h=>[h]));a=d.length;c=Math.max(0,...d.map(h=>h.length));if(!(a<=1||c<=1))return this.Uho.deserialize(d)}constructor(a){var b=
new __c.bug;this.Uho=a;this.csv=b}};var YQs=class{serialize(a,b){const c=__c.Vms(a.vt),d=new Set;return __c.jib.yX(c.rows).map(e=>__c.mib.yX(c.cols).map(f=>{var g=c.uzc.get(`${f.id}:${e.id}`);g=g!=null?c.uoa.get(g):void 0;if(!g||!g.content||d.has(g))return"";d.add(g);g=b(k=>{var l;const m=n(k.y_b(e.id)),p=n(k.aSb(f.id));return(l=this.Tc)===null||l===void 0?void 0:l.getContent(k,m,p)});var h;return(h=g===null||g===void 0?void 0:g.lR)!==null&&h!==void 0?h:""}))}deserialize(a){const b={uoa:new Map,uzc:new Map,_attributes:new Map,cols:[],
rows:[]};a=a.map(f=>f.map(g=>g.trim()));const c=a.length,d=Math.max(0,...a.map(f=>f.length));for(var e=0;e<c;e++)b.rows.push({id:this.Pb.Pna.generate(),height:gu.height,minHeight:gu.height});for(e=0;e<d;e++)b.cols.push({id:this.Pb.Pna.generate(),width:__c.VHd.width});e=1;for(let f=0;f<c;f++)for(let g=0;g<d;g++)a[f][g]!=null&&(b.uoa.set(`${e}`,{...ys,content:{...__c.dYc,value:a[f][g]}}),b.uzc.set(`${b.cols[g].id}:${b.rows[f].id}`,`${e}`),e++);return{vt:__c.dke(__c.TNc.domain.cells,b),nr:new Map,Z5:[],
direction:"ltr",AT:__c.XHd,Cpa:!1,view:__c.vYc}}constructor(a,b){this.Tc=a;this.Pb=b}};var ZQs=()=>({Hf:T(21)});var $Qs=H(()=>({...ZQs(),type:C("A?",1,"MEDIA"),id:S(1),version:jp(2)}));var aRs=__c.Za(()=>({type:[1,$Qs]}),ZQs);var bRs=class{get PIc(){return this.Cbf?this.Cbf:this.Cbf=this.k1p()}transform(){$xs(this);return this.elements}TMd(a,b){this.PIc.TMd(a,b)}TCb(a){this.PIc.TCb(a)}Ws(a,b,c){this.PIc.Ws(a,b,c)}Yie(a,b){this.PIc.Yie(a,b)}t_a(a,b,c){this.PIc.t_a(a,b,c)}F5a(a,b){this.PIc.F5a(a,b)}G5a(a,b){this.PIc.G5a(a,b)}bje(a,b){this.PIc.bje(a,b)}s_a(a,b){this.PIc.s_a(a,b)}$ie(a,b){this.PIc.$ie(a,b)}dKa(a){$xs(this);this.Cbf=void 0;if(this.NXh.pVd&&!this.qYc())a={...this.NXh.pVd(a),top:this.Ikc},this.elements.push(a),
this.Ikc+=a.height;else if(this.NXh.oVd){var b=this.NXh.oVd(a);const c=b.vt.cols.reduce((d,e)=>d+e.width,0);a=b.vt.rows.reduce((d,e)=>d+e.height,0);b={...xYc,config:b,top:this.Ikc,left:0,width:c,height:a,id:this.Pb.Vh.generate()};this.elements.push(b);this.Ikc+=a}}cje(a){this.PIc.cje(a)}aje(a){var b;const c=(b=this.resources)===null||b===void 0?void 0:b.get(a.src);if(c){var {width:d,height:e}=Fi(c.files,f=>f.width);pa(d>0&&e>0);a=Nj(0,0,d,e).Lb();this.elements.push({...zs,top:this.Ikc,left:0,width:d,
height:e,fill:{...ms,image:{...__c.ls,media:{id:c.id,version:c.version},tb:a}}});this.Ikc+=e}}constructor(a,b,c,d,e,f,g=()=>!1){this.container=a;this.NXh=b;this.k1p=c;this.Mi=d;this.Pb=e;this.resources=f;this.qYc=g;this.elements=[];this.Ikc=0}};var cRs=DMs(Fe.Ff["font-size"]),dRs={B:{"font-weight":"bold"},STRONG:{"font-weight":"bold"},I:{"font-style":"italic"},EM:{"font-style":"italic"},U:{decoration:"underline"},S:{strikethrough:"strikethrough"},DEL:{strikethrough:"strikethrough"}},eRs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,fRs=class{transform(){var a;((a=this.I)===null||a===void 0?0:a.tXi)&&!this.Y2e&&this.TKa("\n");
return this.builder.build()}TKa(a){const b={...this.rud(),...this.dO},c=ce(this.dO,()=>{});this.rea(b,c,()=>{this.builder.Wb(a)});this.e$=a}rea(a,b,c){const d={...this.dO};this.dO={...this.dO,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.dO={...this.dO,...b,...d}}TMd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.cMb;switch(qV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.cMb=!0}b();this.cMb=c}}TCb(a){if(a.textContent){let b=a.textContent;
this.cMb||(this.Xpl(a)&&(b=b.trimStart()),this.Wpl(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.TKa(b)}}L9b(a){return a!=null&&eRs.test(a.tagName)}Xpl(a){return this.noj||this.L9b(a.previousElementSibling)||this.L9b(a.nextElementSibling)||a.previousSibling==null&&this.L9b(a.parentElement)}Wpl(a){return this.L9b(a.previousElementSibling)||this.L9b(a.nextElementSibling)||a.nextSibling==null&&this.L9b(a.parentElement)}Yie(a,b){const {cCb:c,bUa:d}=this.hwb(a,"inline"),e={color:c.color,decoration:c.decoration};
a=Fe.pick(f=>__c.Be(Fe,e,f)!=null,e);Object.keys(a).length===0&&we(Fe,Ly,"all",(f,g)=>{c[g]=f;d[g]=void 0});this.rea(c,d,b)}Ws(a,b,c){b==="block"&&sV(this);const {cCb:d,bUa:e}=this.hwb(a,b);(a=dRs[a.tagName])&&we(Fe,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.rea(d,e,c);b==="block"&&sV(this)}t_a(a,b,c){sV(this);a=this.$aa;this.$aa=b?"ordered":"unordered";c();this.$aa=a}F5a(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{b();sV(this)})}G5a(a,b){sV(this);const {cCb:c,
bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{b();sV(this)})}bje(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{const e=this.cMb;this.cMb=!0;b();this.cMb=e;sV(this)})}s_a(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");c["font-size"]==null&&(c["font-size"]=cRs[a.tagName],d["font-size"]=void 0);this.rea(c,d,()=>{b();sV(this)})}$ie(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{b();sV(this)})}dKa(){}cje(){this.TKa("\n")}aje(){}hwb(a,b){a=ays(a,
b,this.Qea);return{cCb:a,bUa:ce(a,()=>{})}}get noj(){return typeof this.e$==="string"&&this.e$.endsWith(" ")}mii(a){return a.endsWith("\n")}Xan(a){return a.endsWith("\n")||a.endsWith("\u2028")}get Y2e(){return this.e$!=null&&this.mii(this.e$)}constructor(a,b){this.rud=a;this.Qea=b;this.I={tXi:!0};this.dO={};this.cMb=!1;this.builder=Kg.md()}};var dys=class{transform(){if(this.elements.length)return this.elements;this.Nc.forEach({...be,Ya:(a,b)=>{this.v5b(b);a=a.split("\n");for(const [c,d]of a.entries())d.length>0&&(this.V9b&&this.wdb==null?(this.wdb=bV.element("a"),this.Wua({link:this.wRa.link},this.wdb)):!this.V9b&&this.wdb&&(this.NVa.push(this.wdb),this.wdb=void 0),b=this.Wua({...this.wRa,link:void 0},bV.element(this.mwk?"sup":this.jwk?"sub":"span")),b.setContent(d),this.wdb?this.wdb.appendChild(b):this.NVa.push(b)),c<a.length-1&&(bys(this),
this.WPd(),this.VPd())}});bys(this);this.WPd();this.VPd();return this.elements}v5b(a){const b=__c.ge(Fe,a),c=(d,e,f)=>{var g;a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:(g=d[e])!==null&&g!==void 0?g:d[e]=f};we(Fe,b,"block",(d,e)=>c(this.Iga,e,d));we(Fe,b,"inline",(d,e)=>c(this.wRa,e,d))}get mwk(){const a=this.wRa["vertical-align"];return a!=null&&parseInt(a,10)>0}get jwk(){const a=this.wRa["vertical-align"];return a!=null&&parseInt(a,10)<0}get V9b(){const a=this.wRa.link;return a!=null&&a.length>
0}get pXb(){const a=this.Iga["list-level"],b=this.Iga["list-marker"];return{zWb:a!=null&&a>0||b!=null&&b!=="none",YPg:cys(b)}}nak(){return this.pXb.zWb?"li":"p"}WPd(){if(this.NVa.length!==0){var a=bV.element(this.nak());this.NVa.forEach(b=>a.appendChild(b));this.wlb.push(a);this.NVa=[]}}VPd(){if(this.wlb.length!==0){var a={...this.Iga},b=a["list-level"],c=a["list-marker"];delete a["list-level"];delete a["list-marker"];var d=bV.element(this.pXb.zWb?this.pXb.YPg:"div");this.Wua(a,d);a=d;var e=b!=null&&
b>0;if(e)for(let f=0;f<Math.abs(b)-1;f++){const g=bV.element("li");g.setStyle("list-style","none");const h=bV.element(cys(c));g.appendChild(h);d.appendChild(g);d=h}for(const f of this.wlb)this.pXb.zWb&&this.Wua({"list-marker":c,"list-level":b},f),d.appendChild(f);if(e)if(c=this.elements[this.elements.length-1],!c||c.tagName!=="ul"&&c.tagName!=="ol")this.elements.push(a);else{c=Lns(c);const {node:f,indent:g}=this.$xg(c,b);b=[Lns(a)];for(a=0;a<g;a++)b=b.map(h=>[...h.childNodes]).flat();for(const h of b)f.appendChild(h);
this.elements[this.elements.length-1]=Kns(c)}else this.elements.push(d);this.wlb=[]}}$xg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}Wua(a,b){var c;const d={direction:(c=this.Iga.direction)!==null&&c!==void 0?c:"ltr"};we(Fe,a,"all",(e,f)=>{if(e!=null)gRs[f](b,e,d)});return b}constructor(a){this.Nc=a;this.elements=[];this.Iga={};this.wRa={};this.NVa=[];this.wlb=[]}},gRs={"font-family":LV.fontFamily,
"font-size":LV.fontSize,"font-weight":LV.fontWeight,"font-style":LV.fontStyle,"font-kerning":LV.fontKerning,"font-feature-liga":LV.iHc,"font-feature-clig":LV.hHc,"font-feature-calt":LV.gHc,"font-size-modifier":LV.uJ,"vertical-align":LV.verticalAlign,color:LV.color,"fill-id":LV.t8a,decoration:LV.decoration,strikethrough:LV.sv,link:LV.link,"start-us":()=>{},tracking:(a,b,c)=>LV.letterSpacing(a,b/1E3,c),leading:(a,b,c)=>LV.lineHeight(a,b/1E3,c),direction:LV.direction,"text-align":LV.textAlign,"list-marker":LV.Mk,
"text-transform":LV.textTransform,"list-level":LV.Hk,"list-number-set":LV.EXa,semantics:LV.JBa,"head-indent":()=>{},spacing:()=>{},style:()=>{},kerning:()=>{}};var Uys=class{serialize(a){return{xNa:this.pil(a.YRb),html:this.Rch(a),text:this.zil(a)}}pil(a){return JSON.stringify(SQs.serialize(a))}Rch(a){const b=a.YRb;return b.type!=="ELEMENTS"?[]:eys(this,b.elements,a.fCc)}zil(a){const b=a.YRb;return b.type!=="ELEMENTS"?"":gys(this,b.elements,a.fCc)}mVd(a){return FMs(a,b=>this.jOj(b),b=>this.hOj(b))}hOj(a){try{const b=SQs.deserialize(JSON.parse(a));switch(b.type){case "ELEMENTS":return{type:1,xNa:b};case "RICHTEXT3":const {Nc:c,...d}=b,e=Xg.UDc(c),f=this.rfk(),
g=new Map,h=(new __c.Uli(e,f,k=>{const l=this.Pb.Vh.generate();(k=k!=null?d.nvc.get(k):void 0)&&g.set(l,k);return l})).transform();return e.length>0&&h.length===0?void 0:{type:1,xNa:new Wys({...d,width:f.width,height:f.height,nvc:g,elements:h.map(k=>Xg.xTa(k))})};case "PAGES":case "PAGE_BACKGROUND":case "AUDIOTRACKS":return{type:1,xNa:b};default:throw new v(b);}}catch(b){}}jOj(a){try{const b=aRs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},
Hf:b.Hf}}}catch(b){}}async fUh({html:a}){var b,c;if(a){a=this.f$d(a);var d=(b=a.querySelector("[data-canva-clipboard]"))===null||b===void 0?void 0:b.getAttribute("data-canva-clipboard");if(b=(b=d?mos(d):void 0)?this.mVd(b):void 0)return b;var e=new Qqs(a.getElementsByTagName("style")),f=this.Xba?await Yns(a,new EMs).MS(this.Xba):void 0;b=new bRs(this.rfk(),{pVd:g=>this.pVd(g),oVd:g=>this.oVd(g,e,f)},()=>new fRs(()=>this.rud(),e),this.Mi,this.Pb,f,(c=this.Ua)===null||c===void 0?void 0:c.qYc);c=Yns(a,
b).transform();if(c.length===1)return{type:3,content:{type:"elements",elements:c}}}}Slf(a){return FMs(a,b=>({type:2,text:b}),b=>this.IOj(b),b=>this.bwe(b))}constructor(a,b,c,d,e,f,g,h){this.f$d=los;this.rud=a;this.rfk=b;this.Mi=c;this.yOa=d;this.Tc=e;this.Pb=f;this.Xba=g;this.Ua=h;this.gmh=new XQs(new YQs(this.Tc,this.Pb));this.pVd=k=>Qns(this.yOa,k,l=>Kg.md().Wb(l.textContent+"\n").build());this.oVd=(k,l,m)=>(new UQs(__c.iBa,k,l,new VQs(this.Tc,p=>{var q;const r=this.f$d(p.innerHTML),t=ays(p,"block",
l);p=new bRs(this.rfk(),{},()=>new fRs(()=>({...this.rud(),...__c.yZe(YHd),...t}),l),this.Mi,this.Pb,m,(q=this.Ua)===null||q===void 0?void 0:q.qYc);return Yns(r,p).transform()}),this.Pb)).transform();this.bwe=k=>{k=this.yOa.bwe(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return{type:3,content:{type:"elements",elements:[k]}}};this.IOj=k=>{var l,m;if((l=this.Ua)!==null&&l!==void 0&&l.qYc()&&(k=this.gmh.deserialize(k))){k={...xYc,config:k,id:this.Pb.Vh.generate(),top:0,left:0,width:k.vt.cols.reduce((q,
r)=>q+r.width,0),height:k.vt.rows.reduce((q,r)=>q+r.height,0)};if(!this.Tc)return{type:3,content:{type:"elements",elements:[k]}};var p=bMb.create(k);(m=this.Tc)===null||m===void 0||wz(m,q=>{p.config.layout.cells.forEach((r,t)=>{r.content.ref&&(pa(r.content.ref.type==="plaintext"),r=Kg.md().Wb(r.content.ref.value).Wb("\n").build(),r=Kg.create(r),q.XAb(p.config,{row:t.Yb,column:t.$b},r))})});return{type:3,content:{type:"elements",elements:[bMb.snapshot(p)]}}}}}};var hRs=class{rih(a,b){const c=__c.cXd(a),d=new Set(b);b=new Map;for(const [f,g]of a.cells)d.has(g)&&b.set(f,__c.zUc.snapshot(g));const e=[...b.keys()];a=__c.DUc.snapshot(a);return{...a,cells:b,behavior:{...a.behavior,rules:c.map(f=>jys(f.Chd,e))}}}},iys=a=>qd(a).sort((b,c)=>b-c);var Yys=class{static G(a){P(a,{cut:fV.bound,WP:fV,paste:fV.bound,K_k:fV.bound})}async copy(a,b){var c=this.selection.Ib;if(c){var d=this.vDa;if(c=this.O4a(c,{domain:this.domain,ia:d.id,Xf:d.extension,session:this.session}))return await this.ewj.copy(c,a,b),c}}O4a(a,b){const c=new Map,d={sheets:{}};switch(a.type){case 1:case 0:if(a.container.type==="section-marker"&&a.only)return a=__c.SUc.snapshot(a.only),this.Cte(a,c,d,b);a=n(this.Xa.O4a(),"state snapshot does not exist");return mys(this,a,c,d,b);
case 2:return a=this.yOa.rih(a.container.table,a.map(l=>l)),this.Cte(a,c,d,b);case 3:return a=this.nnr.rih(a.container.layout,a.map(l=>l)),this.Cte(a,c,d,b);case 4:const e=a.container.sheet.config,f=a.container.sheet.id,{sheet:g,metadata:h}=Tws(__c.mAa,this.xB,e,a.cells,l=>__c.IUc.snapshot(l)),k=this.Tc?Sws(e,a.cells,this.Tc):new Map;d.sheets[f]={sheet:e,cells:a.cells};c.set(f,{...h,CDe:k});return this.Cte({...QYc,id:f,config:g},c,d,b);case 5:return this.pjf(a.media,c,d,b);default:throw new v(a);
}}Cte(a,b,c,d){a=Xk.md().item(a).build();return mys(this,a,b,c,d)}pjf(a,b,c,d){const e=Xk.md();a.forEach(f=>e.item(zys(f)));a=e.build();return mys(this,a,b,c,d)}async cut(a,b,c,d){if(c=this.selection.Ib)return a=await this.copy(a,d),this.WP(c,b),a}WP(a,b){const c=this.V.sb("delete_element_cut",{Fb:{name:"editor.delete_element"}});var d=c.setAttribute;a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new v(b);}d.call(c,"controlContext",
b);switch(a.type){case 0:case 1:case 5:this.Wq.AAb();break;case 2:a=a.map(f=>f);this.rB.Qal(a);this.Wq.AAb();break;case 4:var e;(e=this.Si)===null||e===void 0||Mns(e,a.container.sheet.config,a.cells.map(f=>f));break;case 3:throw c.end("error"),Error("Layout Items are currently not supported");default:throw c.end("error"),new v(a);}c.ue()}Vwc(a,b){a.nb().addEvent("pasted");a.nb().tk(({Hi:c})=>{this.N.track(__c.Cif,{...b,action:"paste",Qb:c()})});a.ue()}Imd(){var a;if(this.selection.Ib){if(a=this.Ma.mode>=
20){var b,c,d;a=!((((c=this.selection.Ib)===null||c===void 0?void 0:c.container.type)!=="marker"&&((d=this.selection.Ib)===null||d===void 0?void 0:d.container.type)!=="section-marker"||this.selection.Ib.type!==1)&&((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="RANGE"&&this.Xa.state.isCollapsed)}}else a=!1;return a}ufg(){return this.selection.Ib?this.Ma.mode>=30:!1}pjc(){const a=this.selection.Ib;return a?this.Ma.mode>=30&&a.type===4:!1}async paste(a,b,c,d,e){switch(a.type){case 0:return this.J_k(a.file,
b,c,d);case 1:return this.XAi(a.xNa,b,c,e);case 2:return this.oMf(a.text,b,c,e);case 3:return this.VAi(a.content,b,c,e);default:throw new v(a);}}async XAi(a,b,c,d){let e=!0;if(a.bSf!==this.SBj||a.domain!=null&&a.domain!==this.domain)b.abort();else if(b.nb().setAttribute("content_type",a.type.toLowerCase()),a.type==="RICHTEXT3"&&a.Nc){var f=Xg.UDc(a.Nc),g=__c.Bde(f,{iFa:a.ia===this.vDa.id,Eqg:a.ia===this.vDa.id?void 0:a.ia}),h=a.C$d.map(({value:l})=>l&&Txs.deserialize(l));b.nb().addEvent("proto_deserialized");
a.session!==this.session&&({c4b:e,pH:[g]}=await Qws(this.vAb,a,{pH:[g]},b));var k=new iRs;await this.K_k(this.QRf(g,{...d,jGr:a.ia!==this.vDa.id,B7j:k}),h,a.nvc,b,c,{...a,lz:Cys(f)},d);e||this.wsl();this.tpn(k.fontFamilies)}}async VAi(a,b,c,d){switch(a.type){case "richtext3":const e=new iRs;await this.K_k(this.QRf(a.MNa,{...d,B7j:e}),[],void 0,b,c,void 0,{...d,NRc:"wrap"});this.tpn(e.fontFamilies);break;case "elements":b.abort();break;case "media":d=await this.oc.cnb(new __c.pz({id:a.media.id,version:a.media.version}));
d={...__c.Ehf(d),pending:!1,oy:!0,H3:d.H3,$z:d.Sb.$z};await this.sc.addImage(d,{Yc:"paste",span:b}).loaded;this.Vwc(b,{kb:c,contentType:"elements",gD:"rect",gYb:1,wD:[a.media.id],correlationId:a.Hf});break;default:throw new v(a);}}async K_k(a,b,c,d,e,f,g){var h;const k=this.selection.Ib,l=Cys(a),m=(f===null||f===void 0?void 0:(h=f.lz)===null||h===void 0?void 0:h.type)==="sheet"?f.lz.id:void 0;let p;switch(l===null||l===void 0?void 0:l.type){case "layout":case "table":case "sheet":if(!k)return;switch(k.type){case 0:case 1:switch(k.container.type){case "body":case "responsive-page":this.iJc(l,
m,b,c,d,e,g);break;case "section-marker":this.Xa.Ju(k.container.container.text,Nw.start());break;case "marker":this.iJc(l,m,b,c,d,e,g);break;case "table-item-cell":pys(this,l,m,k.container.table,k.container.container.container,[k.container.qb],b,c,d);break;case "sheet-item-cell-richtext":rys(this,l,m,b,c,d,e,g);break;case "layout-item-cell":oys(this,l,b,d);break;default:throw new v(k.container);}break;case 2:pys(this,l,m,k.container.table,k.container.container,k.map(u=>u),b,c,d);break;case 4:rys(this,
l,m,b,c,d,e,g);break;case 5:break;case 3:oys(this,l,b,d);break;default:throw new v(k);}break;case void 0:case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "pill":case "chart":case "design":c=a.cells.Ya().trim();g=this.Xa.state;h=Dys(a);if((k===null||k===void 0?void 0:k.type)===4&&h.length>0&&h.every(u=>u.type==="rect"))this.YAi(k.container.sheet.config,k.cells,h);else if((k===null||k===void 0?void 0:k.container.type)==="section-marker")l!=null&&__c.Oyf(l)?
this.$uc(l,k.container):(this.Xa.Ju(k.container.container.text,Nw.start()),tys(this,a,b,d));else if(k!=null&&l!=null&&__c.Oyf(l)&&(k.container.type==="body"||k.container.type==="responsive-page")&&vys(this,l,k.container)){b=d.setAttribute;a:switch(e){case "drag":c="drag";break a;case "menu":c="contextual_menu";break a;case "shortcut":c="keyboard_shortcut";break a;default:throw new v(e);}b.call(d,"controlContext",c);this.Wq.AAb();this.$uc(l,k.container.HUb(k.container.marker))}else k!=null&&am(c).ok&&
a.cells.BB===0&&(g===null||g===void 0?void 0:g.type)==="RANGE"&&g.oRa?p=await this.vVa.Uzc(Vv(c),d):tys(this,a,b,d);break;default:throw new v(l);}const q=[];a.forEach({item:u=>q.push(kys(u))});const {media:r,Cc:t}=__c.Hf({pH:[a]});this.Vwc(d,{kb:e,contentType:"richtext3",aGj:p,gYb:q.length,gD:q.join(", "),Zzg:f?f.ia===this.vDa.id:void 0,$zg:f?f.session===this.session:void 0,wD:[...r.map(u=>u.id),...t]});d.nb().addEvent("content_added")}iJc(a,b,c,d,e,f,g){b=b!=null?d===null||d===void 0?void 0:d.get(b):
void 0;a.type==="sheet"?Gws(this.vVa,a,b,e,f,{...g,NRc:"wrap"}):tys(this,Xk.md().item(a).build(),c,e)}$uc(a,b){a=this.QT.$uc(a,b.marker);this.N.track(L0g,{$Cc:"document",eUd:"cover_set",elementType:a.type,Yc:"paste"});this.selection.Rv(b,a);this.Og.CS()}YAi(a,b,c){var d;const e=c.map(f=>({fill:f.fill,Uy:f.gb!=null&&f.Ub!=null?{width:f.gb,height:f.Ub}:void 0}));(d=this.Tc)===null||d===void 0||wz(d,f=>{b.forEach(g=>{var h;const k=a.layout.cells.get(g.row,g.column),l=(k===null||k===void 0?void 0:(h=
k.ref.content.ref)===null||h===void 0?void 0:h.type)==="media"?k.ref.content.ref.value.map(m=>__c.aNc.snapshot(m)):[];f.K$(a,g,{type:6,value:[...l,...e]})})})}async oMf(a,b,c,d){a=await Iws(this.vVa,a,b,c,d);this.Vwc(b,{kb:c,contentType:"text",aGj:a})}async J_k(a,b,c,d){d?(a=await d([a],"canvas",{g_a:"background",kb:"clipboard"}).images,b.nb().addEvent("image_uploaded"),[a]=a,b.nb().setAttribute("uploaded",!!a),a?({loaded:d}=this.sc.addImage(__c.Ehf(a),{Yc:"paste"}),await d,b.nb().addEvent("content_added"),
this.Vwc(b,{kb:c,contentType:"image",wD:[a.id]})):b.end("error")):b.end("error")}QRf(a,b){const c=Xk.md();a.forEach({Ya:(d,e)=>{var f;e=Wns(e);e.fontFamily&&(b===null||b===void 0||(f=b.B7j)===null||f===void 0||f.alb(e.fontFamily));c.attrs(e).Wb(d)},item:(d,e)=>{var f;e=Wns(e);e.fontFamily&&(b===null||b===void 0||(f=b.B7j)===null||f===void 0||f.alb(e.fontFamily));(b===null||b===void 0?0:b.jGr)&&d.type==="pill"&&d.mi.type==="mention"&&!this.Vdr(d.mi.brand)?c.attrs(e).Wb(d.mi.text):c.attrs(e).item(Bys(this,
d,b))},Al:(d,e)=>c.attrs(Wns(e))});return c.build()}dYf(a){return{items:new Set(a.type===1&&a.xNa.type==="RICHTEXT3"?a.xNa.Nc.chunks.map(b=>b.mb.type==="ITEM"?__c.$za(Xg,b.mb.state).type:void 0).filter(vb):[])}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,N,M){this.vAb=a;this.vVa=b;this.ewj=c;this.wsl=d;this.tpn=e;this.SBj=f;this.Vdr=g;this.domain=h;this.vDa=k;this.session=l;this.Ma=m;this.Xa=p;this.selection=q;this.Og=r;this.N=t;this.V=u;this.sc=w;this.oc=x;this.Wq=y;this.QT=z;
this.PN=A;this.yOa=B;this.ZQ=D;this.rB=G;this.xB=I;this.Si=K;this.Tc=N;this.Pb=M;this.nnr=(Yys.G(this),new hRs)}},iRs=class{alb(a){this.fontFamilies.add(a)}constructor(){this.fontFamilies=new Set}};var jRs=DMs(Ce.Ff.fontSize),kRs={B:{fontWeight:"bold"},STRONG:{fontWeight:"bold"},I:{fontStyle:"italic"},EM:{fontStyle:"italic"},U:{decoration:"underline"},S:{sv:"strikethrough"},DEL:{sv:"strikethrough"}},lRs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,mRs=["table","sheet"],Oys=class{transform(){var a;((a=this.I)===null||a===void 0?0:a.tXi)&&!this.Y2e&&this.TKa("\n");return this.builder.build()}TKa(a){const b=
{...this.rud(),...this.dO},c=ce(this.dO,()=>{});this.rea(b,c,()=>{this.builder.Wb(a)});this.e$=a}qBc(a){this.dba();this.builder.attrs(ce(this.dO,()=>{}));this.builder.item(a);this.builder.attrs(this.dO);this.e$=a}dba(){this.e$==null||this.mii(this.e$)||this.TKa("\n")}rea(a,b,c){const d={...this.dO};this.dO={...this.dO,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.dO={...this.dO,...b,...d}}TMd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.cMb;switch(qV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.cMb=
!0}b();this.cMb=c}}TCb(a){if(a.textContent){let b=a.textContent;this.cMb||(this.Xpl(a)&&(b=b.trimStart()),this.Wpl(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.TKa(b)}}L9b(a){return a!=null&&lRs.test(a.tagName)}Xpl(a){return this.noj||this.L9b(a.previousElementSibling)||this.L9b(a.nextElementSibling)||a.previousSibling==null&&this.L9b(a.parentElement)}Wpl(a){return this.L9b(a.previousElementSibling)||this.L9b(a.nextElementSibling)||a.nextSibling==null&&this.L9b(a.parentElement)}Yie(a,b){const {cCb:c,
bUa:d}=this.hwb(a,"inline");if(this.zak){const e={color:c.color,decoration:c.decoration};a=Ce.pick(f=>__c.Be(Ce,e,f)!=null,e);Object.keys(a).length===0&&we(Ce,this.zak(),"all",(f,g)=>{c[g]=f;d[g]=void 0})}this.rea(c,d,b)}Ws(a,b,c){b==="block"&&sV(this);const {cCb:d,bUa:e}=this.hwb(a,b);(a=this.OFr[a.tagName])&&we(Ce,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.rea(d,e,c);b==="block"&&sV(this)}t_a(a,b,c){sV(this);a=this.$aa;this.$aa=b?"ordered":"unordered";c();this.$aa=a}F5a(a,b){sV(this);const {cCb:c,
bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{b();sV(this)})}G5a(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{b();sV(this)})}bje(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");this.rea(c,d,()=>{const e=this.cMb;this.cMb=!0;b();this.cMb=e;sV(this)})}s_a(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");c.fontSize==null&&(c.fontSize=jRs[a.tagName],d.fontSize=void 0);this.rea(c,d,()=>{b();sV(this)})}$ie(a,b){sV(this);const {cCb:c,bUa:d}=this.hwb(a,"block");this.rea(c,
d,()=>{b();sV(this)})}dKa(a){if(!mRs.some(d=>{var e,f;return(f=this.I)===null||f===void 0?void 0:(e=f.HCo)===null||e===void 0?void 0:e.has(d)})){var {cCb:b,bUa:c}=this.hwb(a,"block");this.rea(b,c,()=>{if(this.qYc()){var d=this.cen.oVd(a);d={...QYc,config:d,id:this.Pb.wi.generate()};this.qBc(d)}else d=this.cen.pVd(a),this.qBc(d)})}}cje(){this.TKa("\u2028")}aje(a){var b,c;var d=a.style.width||((c=pV(this.Qea,a))===null||c===void 0?void 0:c.width);c=d?pqs(qV(d)):void 0;if(d=(b=this.resources)===null||
b===void 0?void 0:b.get(a.src))a=Hys(d,c&&c<this.ztl?`${c}px`:void 0),this.qBc(a)}hwb(a,b){a=Gys(a,b,this.Qea);return{cCb:a,bUa:ce(a,()=>{})}}get noj(){return typeof this.e$==="string"&&this.e$.endsWith(" ")}mii(a){return typeof a==="string"&&a.endsWith("\n")}Xan(a){return typeof a==="string"&&(a.endsWith("\n")||a.endsWith("\u2028"))}get Y2e(){return this.e$!=null&&this.mii(this.e$)}constructor(a,b,c,d,e,f,g,h=()=>!1,k=0){this.rud=a;this.cen=b;this.Qea=c;this.Pb=d;this.resources=e;this.zak=f;this.I=
g;this.qYc=h;this.ztl=k;this.dO={};this.cMb=!1;this.builder=Xk.md();this.OFr=Rb("cf27dcb6",!1)?{...kRs,SUP:{verticalAlign:__c.sB.verticalAlign,uJ:__c.sB.uJ},SUB:{verticalAlign:__c.Ezg.verticalAlign,uJ:__c.Ezg.uJ}}:kRs}};var Iys=class{transform(){if(this.elements.length)return this.elements;this.Nc.forEach({Ya:(a,b)=>{this.v5b(b);a=a.split("\n");for(const [c,d]of a.entries()){b=d.split("\u2028");for(const [e,f]of b.entries())e>0&&this.NVa.push(bV.element("br",{BVg:!0})),f.length>0&&(this.V9b&&this.wdb==null?(this.wdb=bV.element("a"),this.Wua({link:this.wRa.link},this.wdb)):!this.V9b&&this.wdb&&(this.NVa.push(this.wdb),this.wdb=void 0),b=this.Wua({...this.wRa,link:void 0},bV.element(this.mwk?"sup":this.jwk?"sub":"span")),
b.setContent(f),this.wdb?this.wdb.appendChild(b):this.NVa.push(b));c<a.length-1&&(bys(this),this.WPd(),this.VPd())}},item:(a,b)=>{this.v5b(b);switch(a.display){case 2:(a=this.whe(a))&&this.NVa.push(a);break;case 1:case void 0:(a=this.D_f(a))&&this.wlb.push(a);break;default:throw new v(a.display);}},Al:()=>{}});bys(this);this.WPd();this.VPd();return this.elements}D_f(a){switch(a.type){case "table":return Jys(this,a);case "sheet":return Kys(this,a);case "layout":return Mys(this,a);case "break":case "separator":return bV.element("hr",
{BVg:!0});case "embed":var b;const c=bV.element("a");c.setContent(((b=a.altText)===null||b===void 0?void 0:b.text)||a.url);return this.Wua({link:a.url},c);case "pill":break;case "controlled":case "rect":case "chart":case "design":break;case "shape":throw new __c.Dv;default:throw new v(a);}}whe(a){switch(a.type){case "pill":switch(a.mi.type){case "embed":var b=bV.element("a");b.setContent(a.mi.text?a.mi.text:"");return this.Wua({...this.wRa,link:a.mi.url},b);case "date":case "mention":case "select":return b=
bV.element("span"),b.setContent(a.mi.text?a.mi.text:""),this.Wua(this.wRa,b);default:throw new v(a.mi);}case "controlled":case "rect":case "table":case "break":case "separator":case "embed":case "chart":case "design":case "layout":case "sheet":break;case "shape":throw new __c.Dv;default:throw new v(a);}}v5b(a){const b=__c.ge(Ce,a),c=(d,e,f)=>{var g;a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:(g=d[e])!==null&&g!==void 0?g:d[e]=f};we(Ce,b,"block",(d,e)=>c(this.Iga,e,d));we(Ce,b,"inline",(d,e)=>
c(this.wRa,e,d))}get V9b(){const a=this.wRa.link;return a!=null&&a.length>0}get mwk(){const a=this.wRa.verticalAlign;return a!=null&&parseInt(a,10)>0}get jwk(){const a=this.wRa.verticalAlign;return a!=null&&parseInt(a,10)<0}get pXb(){const a=this.Iga.Hk,b=this.Iga.Mk;return{zWb:a!=null&&a>0||b!=null&&b!=="none",YPg:Nys(b)}}nak(){var a;return(a=this.Iga.JBa)!==null&&a!==void 0?a:"p"}WPd(){if(this.NVa.length!==0){var a=bV.element(this.nak());this.NVa.forEach(b=>a.appendChild(b));this.NVa=[];if(this.pXb.zWb){const b=
bV.element("li");b.appendChild(a);this.wlb.push(b)}else this.wlb.push(a)}}VPd(){if(this.wlb.length!==0){var {Mk:a,Hk:b,...c}=this.Iga,d=bV.element(this.pXb.zWb?this.pXb.YPg:"div"),e=d;this.Wua(c,e);var f=b!=null&&b>0;if(f)for(let g=0;g<Math.abs(b)-1;g++){const h=bV.element("li");h.setStyle("list-style","none");const k=bV.element(Nys(a));h.appendChild(k);d.appendChild(h);d=k}for(const g of this.wlb)this.pXb.zWb&&this.Wua({Mk:a,Hk:b},g),d.appendChild(g);if(f)if(d=this.elements[this.elements.length-
1],!d||d.tagName!=="ul"&&d.tagName!=="ol")this.elements.push(e);else{d=Lns(d);const {node:g,indent:h}=this.$xg(d,b);e=[Lns(e)];for(f=0;f<h;f++)e=e.map(k=>[...k.childNodes]).flat();for(const k of e)g.appendChild(k);this.elements[this.elements.length-1]=Kns(d)}else this.elements.push(d);this.wlb=[]}}$xg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}Wua(a,b){var c;const d={direction:(c=this.Iga.direction)!==
null&&c!==void 0?c:"ltr"};we(Ce,a,"all",(e,f)=>{if(e!=null)nRs[f](b,e,d)});return b}constructor(a,b,c,d){this.Nc=a;this.Tc=b;this.yOa=c;this.fCc=d;this.elements=[];this.Iga={};this.wRa={};this.NVa=[];this.wlb=[]}},nRs=new Proxy({...LV,gPb:()=>{},hPb:()=>{},Q1b:()=>{}},{get:(a,b)=>{var c;return(c=a[b])!==null&&c!==void 0?c:()=>{}}});var Sys=class{serialize(a){return{xNa:this.pil(a.YRb),html:this.Rch(a),text:this.zil(a)}}pil(a){return JSON.stringify(SQs.serialize(a))}Rch(a){var b=a.YRb;a=a.fCc;if(b.type!=="RICHTEXT3")return[];b=Xg.UDc(b.Nc);return(new Iys(b,this.Tc,this.yOa,a)).transform()}zil(a){const b=a.YRb,c=a.fCc;if(b.type!=="RICHTEXT3")return"";const d=[];Xg.UDc(b.Nc).forEach({Ya:e=>{d.push(e)},item:e=>{switch(e.type){case "table":d.push(Ons(this.yOa,e),"\n");break;case "sheet":const f=NUc.create(e),g=c===null||c===void 0?
void 0:c.sheets[e.id],h=(g===null||g===void 0?void 0:g.sheet)||f.config;d.push(this.gmh.serialize(e.config,k=>k(h)));break;case "layout":e.cells.forEach(k=>{k=k.text.cells.Ya();k.length>0&&d.push(k,"\n")});break;case "embed":d.push(e.url,"\n");break;case "pill":switch(e.mi.type){case "embed":d.push(e.mi.url);return;case "date":case "mention":case "select":d.push(e.mi.text);return;default:throw new v(e.mi);}case "controlled":case "rect":case "break":case "separator":case "chart":case "design":break;
case "shape":throw new __c.Dv;default:throw new v(e);}},Al:()=>{}});return __c.Pli(d.join(""))}mVd(a){return FMs(a,b=>this.jOj(b),b=>this.hOj(b))}hOj(a){try{const b=SQs.deserialize(JSON.parse(a));switch(b.type){case "RICHTEXT3":return{type:1,xNa:b};case "ELEMENTS":const {elements:c,...d}=b,e=c.map(h=>Xg.RSb(h)),f=new Map,g=(new __c.oli(e,h=>{const k=this.Pb.wi.generate();(h=h!=null?d.nvc.get(h):void 0)&&f.set(k,h);return k})).transform();return e.length>0&&g.length===0?void 0:{type:1,xNa:new lys({...d,
nvc:f,Nc:Xg.E4a(g)})};case "PAGES":return{type:1,xNa:b};case "PAGE_BACKGROUND":case "AUDIOTRACKS":break;default:throw new v(b);}}catch(b){}}jOj(a){try{const b=aRs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},Hf:b.Hf}}}catch(b){}}async fUh({html:a}){var b;if(a){a=this.f$d(a);var c=(b=a.querySelector("[data-canva-clipboard]"))===null||b===void 0?void 0:b.getAttribute("data-canva-clipboard");if(b=(b=c?mos(c):void 0)?this.mVd(b):
void 0)return b;b=this.Xba?await Yns(a,new EMs).MS(this.Xba):void 0;return{type:3,content:{type:"richtext3",MNa:Pys(this,a,b)}}}}Slf(a){return FMs(a,b=>({type:2,text:b}),b=>this.IOj(b),b=>this.bwe(b))}constructor(a,b,c,d,e,f,g,h=0){this.f$d=los;this.rud=a;this.yOa=b;this.Tc=c;this.uo=d;this.Pb=e;this.Xba=f;this.Ua=g;this.ztl=h;this.gmh=new XQs(new YQs(this.Tc,this.Pb));this.pVd=(k,l)=>Qns(this.yOa,k,m=>{m=this.f$d(m.innerHTML);return Pys(this,m,l,void 0,{HCo:new Set(["table","sheet"]),tXi:!0})});
this.oVd=(k,l,m)=>(new UQs(__c.mAa,k,l,new WQs(this.Tc,p=>{const q=this.f$d(p.innerHTML);p=Gys(p,"block",l);return Pys(this,q,m,{...__c.Ky(YHd),...p},{HCo:new Set(["table","sheet"]),tXi:!0})}),this.Pb)).transform();this.bwe=k=>{k=this.yOa.bwe(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return k={...k,cells:sd(k.cells,l=>({...l,content:{...l.content,...__c.TXc,text:Xk.md().attrs(this.uo.l3||{}).Wb(l.content.text.cells.Ya()).build()}}))},{type:3,content:{type:"richtext3",MNa:Xk.md().item(k).build()}}};
this.IOj=k=>{var l,m;if((l=this.Ua)!==null&&l!==void 0&&l.qYc()&&(k=this.gmh.deserialize(k))){k={...QYc,config:k,id:this.Pb.wi.generate()};if(!this.Tc)return{type:3,content:{type:"richtext3",MNa:Xk.md().item(k).build()}};var p=NUc.create(k);(m=this.Tc)===null||m===void 0||wz(m,q=>{p.config.layout.cells.forEach((r,t)=>{r.content.ref&&(pa(r.content.ref.type==="plaintext"),r=Xk.md().Wb(r.content.ref.value).Wb("\n").build(),r=Xk.create(r),q.Mdc(p.config,{row:t.Yb,column:t.$b},r))})});m=NUc.snapshot(p);
return{type:3,content:{type:"richtext3",MNa:Xk.md().item(m).build()}}}}}};var Qys=a=>{const b=(0,__c.pc)(),c=(0,__c.pc)(),d=a.closeDialog;return cV(__c.zr,{mode:a.mode,open:!0,oa:d,Pf:b,ni:c,children:kV("div",{className:"dIfFsA",children:[cV(kr,{id:b,margins:"legacy",children:L("NSWGJA")}),cV(Q,{id:c,margins:"legacy",children:L("nfjy+g")}),cV("div",{className:"CKm0aQ",children:cV(Yi,{variant:"primary",onClick:d,children:L("MGKfPA")})})]})})};var Tys=.25*parseInt("var(--jBkZgw)",10),Zys=Symbol("Clipboard.NonEmailSafeFontWarning");var fzs=DV(({bounds:a})=>cV("div",{className:"PIS4dA",style:a.Lb(),children:cV("div",{className:"BO26GQ"})}));var ezs=class{static G(a){P(a,{qdh:fV.bound,AMh:fV.bound})}qdh(a){if(a.G9d)this.store.G9d=a.G9d;else switch(a.type){case "column":var b;(b=this.HX.gfd)===null||b===void 0||b.iHg();break;case "row":var c;(c=this.HX.gfd)===null||c===void 0||c.jHg()}}AMh(){var a;this.store.G9d=void 0;(a=this.HX.gfd)===null||a===void 0||a.JMh()}constructor(a,b){this.store=a;this.HX=b;ezs.G(this)}};var dzs=class{static G(a){P(a,{G9d:wV.ref})}constructor(){this.G9d=(dzs.G(this),void 0)}};var oRs=class{static G(a){P(a,{Pge:mV,jjf:mV,eNj:mV,fKh:mV,wng:mV,bvb:mV,t7a:mV,w0g:mV,WP:fV})}get Pge(){if(this.og.Ib)return this.f1.Pge;if(!this.fKh)return[];const a=this.bvb.map(c=>c.type),b=this.bvb.find(c=>c.type==="image"||c.type==="video");return a.includes("background")?b||this.VF.layout===2?[{type:"background"}]:[]:a.includes("page")||a.includes("sheet-page-content")?[]:a.includes("grid")||a.includes("shape")?b?this.bvb:[]:this.bvb}get jjf(){if(this.og.Ib)return this.f1.jjf;if(!this.fKh)return[];
if(this.bvb.map(b=>b.type).includes("background"))return[{type:"background"}];const a=this.bvb.find(b=>b.type==="shape");return a?[a]:this.bvb.filter(b=>b.type!=="sheet-page-content")}get brl(){if(this.og.Ib)return this.f1.brl;var a=this.jjf;if(a.length!==1)return!1;a=a[0];return["page","background"].includes(a.type)&&this.VF.layout===1||a.type==="row"||a.type==="column"?!1:!0}get zmd(){var a;return this.og.Ib?this.f1.zmd:!((a=this.og.La)===null||a===void 0?0:a.Ki())}get eNj(){var a,b;const c=this.og.La;
if(c!=null&&c.type==="pages"&&this.wng==="background"){if(((a=c.inner)===null||a===void 0?void 0:a.type)==="pages"){var d;return((d=c.inner.inner)===null||d===void 0?void 0:d.type)!=="background"?void 0:this.Wq.eKh(c.inner.inner.container.container,c.inner.inner.container.ja)?"section":void 0}if(((b=c.inner)===null||b===void 0?void 0:b.type)==="background"&&(a=c.inner.page,a.type!=="responsive"))return this.Wq.DRb([a])?"page":void 0}}get fKh(){var a;const b=this.og.La,c=((a=this.jc.state)===null||
a===void 0?void 0:a.type)==="focused";if(!b||!b.Ki()||c||b.type!=="elements"&&b.type!=="pages")return!1;a=b.inner;switch(this.wng){case "background":var d;if((a===null||a===void 0?void 0:a.type)==="background")return a.page.type==="responsive"?!1:this.Wq.jfg(a.page);if((a===null||a===void 0?void 0:a.type)==="pages"&&((d=a.inner)===null||d===void 0?void 0:d.type)==="background")return this.Wq.jfg(a.inner.page);throw Error("An inner selection is required to delete a page background");case "page":return b.pages?
this.Wq.DRb(b.pages):!1;case "table-element":case "table-item":var e;return!((e=this.HX.gfd)===null||e===void 0||!e.aNj());case "shape":case "element":case "scrollable-design":case "grid":case "group":case "controlled":case "sheet-element":case "sheet-item":case "sheet-page-content":case "sheet-item-cell-media":case "sheet-element-cell-media":case "layout-element":case "layout-item":return!0;case "image":case "video":case "column":case "row":case void 0:return!1;default:throw new v(this.wng);}}get wng(){const a=
this.og.La;if(a!=null&&(a.type==="elements"||a.type==="pages"))switch(a.type){case "pages":var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "pages":var c;return((c=a.inner.inner)===null||c===void 0?void 0:c.type)==="background"?"background":"page";case "sheet":return"sheet-page-content";case "sheet-cell-media":return"sheet-element-cell-media";case "background":return a.inner.type;case void 0:return"page";default:throw new v(a.inner);}case "elements":var d;if(this.w0g.length)return"shape";
switch((d=a.inner)===null||d===void 0?void 0:d.type){case "table":return"table-element";case "sheet":return"sheet-element";case "sheet-cell-media":return"sheet-element-cell-media";case "layout":case "layout-cell":return"layout-element";default:var e,f;return(f=(e=a.inner)===null||e===void 0?void 0:e.type)!==null&&f!==void 0?f:"element"}default:throw new v(a);}}get bvb(){var a=this.og.La;let b=!1;var c=!1,d=!1,e=!1;if((a===null||a===void 0?0:a.inner)&&a.inner.type)switch(a.inner.type){case "grid":c=
a.inner.cells;b=hzs(c);c=izs(c);break;case "table":var f;e=(f=this.HX.gfd)===null||f===void 0?void 0:f.aNj();d=!(e===null||e===void 0||!e.deleteRow);e=!(e===null||e===void 0||!e.LDc);break;case "sheet":d=a.type==="pages"?a.inner.page.sheet:a.inner.sheet.config;e=this.HX.eec;var g=a.inner.cells.map(l=>l);f=a.inner.rows.map(l=>l);a=a.inner.columns.map(l=>l);f=(e===null||e===void 0?void 0:e.pBg(d,f,g).length)||0;e=(e===null||e===void 0?void 0:e.oBg(d,a,g).length)||0;d=f>0;e=e>0;break;case "layout":case "layout-cell":a=
a.inner.type==="layout"?a.inner.container.layout:a.inner.container.container.layout;if(f=(g=this.HX.mgn)===null||g===void 0?void 0:g.kng(a))d=f.Gcm,e=f.Fcm;break;case "background":const {image:h,video:k}=a.inner.Oc[0];b=!!h.ref;c=!!k.ref;break;case "shape":a=a.inner.paths;a.length&&(b=jzs(a),c=kzs(a));break;case "group":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}else(a===null||a===void 0?void 0:a.type)==="elements"&&(a=this.w0g,a.length&&(b=jzs(a),c=kzs(a)));return[e?
"column":null,d?"row":null,b?"image":null,c?"video":null,this.wng].filter(vb).map(h=>ozs(h,this.t7a))}get t7a(){var a;if(this.og.Ib)return this.f1.t7a;var b=this.og.La;if(b&&b.Ki()&&(b.type==="elements"||b.type==="pages")){if(this.w0g.length)return{type:"shape",paths:this.w0g};switch((a=b.inner)===null||a===void 0?void 0:a.type){case "sheet":a=b.type==="pages"?"sheet-page-content":"sheet-element";var c=b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config,d=this.HX.eec,e=b.inner.cells.map(g=>g),
f=b.inner.rows.map(g=>g);b=b.inner.columns.map(g=>g);f=(d===null||d===void 0?void 0:d.pBg(c,f,e))||[];b=(d===null||d===void 0?void 0:d.oBg(c,b,e))||[];return{type:a,sheet:c,cells:e,rows:f,columns:b};case "sheet-cell-media":return e=b.inner.container,a=e.row,c=e.column,e=e.sheet,b=b.inner.media.map(g=>g),{type:"sheet-element-cell-media",sheet:e,qb:{row:a,column:c},media:b};case "layout":return{type:"layout-element",kqc:b.inner.container,cells:[...b.inner.cells]};case "table":return a=b.inner.container,
c=a.ja,b=b.inner.cells,e=dMe(c,b),d=cMe(c,b),{type:"table-element",table:c,parent:a.container,cells:b,TQ:[e[0],e[e.length-1]],WE:[d[0],d[d.length-1]]};case "background":case "grid":case "group":case "shape":case "layout-cell":case "pages":case void 0:break;default:throw new v(b.inner);}return b.type==="pages"?{type:"page",pages:b.pages}:b.Ud&&b.Ud.type==="table"?(a=b.Ud,c=dMe(a,[]),e=cMe(a,[]),{type:"table-element",table:a,parent:b.container,cells:[],TQ:[c[0],c[c.length-1]],WE:[e[0],e[e.length-1]]}):
b}}get w0g(){var a=this.og.La;if(!a||!a.Ki()||a.type!=="elements")return[];pa(a.Ki());return(a=(a=a.Ud)&&a.type==="shape"&&a.paths.filter(b=>!!b.fill.dropTarget))&&a.length===1&&(jzs(a)||kzs(a))?[a[0]]:[]}kfg(){return this.og.Ib?this.f1.kfg():this.fKh}kNj(a,b){if(this.og.Ib)return this.f1.kNj(a,b);if((b=this.og.La)&&b.Ki())switch(b.type){case "audio":var c,d;(c=(d=this.HX).KPk)===null||c===void 0||c.call(d,b,a);break;case "pages":if(b=b.inner)switch(b.type){case "background":var e,f;if(b.page.type===
"responsive")return;a=!lzs(this,b.page);(e=(f=this.Wq).fNj)===null||e===void 0||e.call(f,b.page,b.Oc,a,()=>this.og.deselectAll());break;case "sheet":case "sheet-cell-media":e=this.V.sb("delete_element",{Fb:{name:"editor.delete_element"}});this.WP(a,e,"inner");break;case "pages":if(b.inner){var g,h;(g=(h=this.Wq).fNj)===null||g===void 0||g.call(h,b.inner.page,b.inner.Oc,!1,()=>this.og.deselectAll());break}e=this.V.sb("delete_page",{Fb:{name:"editor.delete_page",type:a}});this.WP(a,e);break;default:throw new v(b);
}else e=this.V.sb("delete_page",{Fb:{name:"editor.delete_page",type:a}}),this.WP(a,e);break;case "elements":e=this.V.sb("delete_element",{Fb:{name:"editor.delete_element"}});f=b.Ud;if(!b.inner){f&&f.type==="shape"?this.WP(a,e):this.WP(a,e,"outer");break}this.WP(a,e,"inner");break;default:throw new v(b);}}WP(a,b,c){if(this.og.Ib)this.f1.WP(a,b,c),b.abort();else{var d=this.og.La;if(!d||!d.Ki()||d.type!=="elements"&&d.type!=="pages")b.abort();else{var e=this.t7a;if(d.type==="pages"){var f;switch((f=
d.inner)===null||f===void 0?void 0:f.type){case "background":var g,h;if(d.inner.page.type==="responsive")break;e=!lzs(this,d.inner.page);this.eta(a,b,1);(g=(h=this.Wq).zlf)===null||g===void 0||g.call(h,d.inner.page,d.inner.Oc,e,()=>this.og.deselectAll());break;case "sheet":if((e===null||e===void 0?void 0:e.type)!=="sheet-page-content")break;d=e.sheet;var k=e.rows,l=e.columns;e=e.cells;switch(c){case "row":var m;this.eta(a,b,1);(m=this.HX.eec)===null||m===void 0||m.deleteRows(d,k,b,a);break;case "column":var p;
this.eta(a,b,1);(p=this.HX.eec)===null||p===void 0||p.deleteColumns(d,l,b,a);break;case "inner":var q;this.eta(a,b,1);(q=this.HX.eec)===null||q===void 0||q.Jjc(d,e);this.Og.CS()}break;case "sheet-cell-media":if((e===null||e===void 0?void 0:e.type)!=="sheet-element-cell-media")break;this.eta(a,b,1);a=e.media;b=e.sheet;e=e.qb;(k=(l=this.Wq).eVd)===null||k===void 0||k.call(l,b,e.row,e.column,a);this.Og.CS();break;case void 0:case "pages":var r;if(((r=d.inner)===null||r===void 0?void 0:r.inner)!=null){var t,
u;this.eta(a,b,1);(t=(u=this.Wq).zlf)===null||t===void 0||t.call(u,d.inner.inner.page,d.inner.inner.Oc);break}const {pages:Fa,container:Na}=d.inner||d;wzs(this.pZk,Na,Fa,a,b);break;default:throw new v(d.inner);}}else{if((m=d.Ud)&&m.type==="rect"&&m.fill.image.ref!=null){var w,x;__c.dh(this.Pa,m.fill.image.ref)===2||(w=(x=this.USe).uTk)!==null&&w!==void 0&&w.call(x)}switch(c){case "outer":var y,z;if(d.inner&&mzs(this,d.inner,a,b))return;this.eta(a,b,d.elements.length);(y=(z=this.Wq).tDa)===null||y===
void 0||y.call(z,d.elements,d.container);return;case "column":switch(e===null||e===void 0?void 0:e.type){case "sheet-page-content":case "sheet-element":var A;this.eta(a,b,1);d=e.sheet;e=e.columns;(A=this.HX.eec)===null||A===void 0||A.deleteColumns(d,e,b,a);break;case "table-element":var B,D;this.eta(a,b,1);(D=this.HX.gfd)===null||D===void 0||(B=D.Zaq)===null||B===void 0||B.call(D,e.table,e.parent,e.TQ,a);break;case "layout-element":nzs(this,e.kqc,e.cells,d.container.page);break;default:b.abort()}return;
case "row":switch(e===null||e===void 0?void 0:e.type){case "sheet-page-content":case "sheet-element":var G;this.eta(a,b,1);d=e.sheet;e=e.rows;(G=this.HX.eec)===null||G===void 0||G.deleteRows(d,e,b,a);break;case "table-element":var I,K;this.eta(a,b,1);(K=this.HX.gfd)===null||K===void 0||(I=K.$aq)===null||I===void 0||I.call(K,e.table,e.parent,e.WE,a);break;case "layout-element":nzs(this,e.kqc,e.cells,d.container.page);break;default:b.abort()}return}if(d.inner)switch(d.inner.type){case "grid":var N,
M,O,U;if((N=(M=this.Wq).ihm)===null||N===void 0?0:N.call(M,d.inner.cells)){this.eta(a,b,1);break}this.eta(a,b,1,d.inner.container.container);(O=(U=this.Wq).tDa)===null||O===void 0||O.call(U,[d.inner.grid],d.inner.container.container);break;case "table":var W,X,Z,da;if((W=(X=this.Wq).DNj)===null||W===void 0?0:W.call(X,d.inner.cells)){this.eta(a,b,1);break}this.eta(a,b,1,d.inner.container.container);(Z=(da=this.Wq).tDa)===null||Z===void 0||Z.call(da,[d.inner.table],d.inner.container.container);break;
case "sheet":var ka;this.eta(a,b,1);a=d.inner.sheet;b=d.inner.cells.map(Fa=>Fa);(ka=this.HX.eec)===null||ka===void 0||ka.Jjc(a.config,b);this.Og.CS();break;case "sheet-cell-media":var la,oa;this.eta(a,b,1);a=d.inner.media;b=d.inner.container;(la=(oa=this.Wq).eVd)===null||la===void 0||la.call(oa,b.sheet,b.row,b.column,a);this.Og.CS();break;case "shape":var ja,ha;this.eta(a,b,1);(ja=(ha=this.Wq).vNj)===null||ja===void 0||ja.call(ha,d.inner.paths);break;case "group":var ba,ca,qa,ra;this.eta(a,b,d.inner.mb.length,
d.inner.container);a=d.inner.Ud;(ba=(ca=this.Wq).tDa)===null||ba===void 0||ba.call(ca,d.inner.mb,d.inner.container);a&&a.type==="rect"&&a.fill.image.ref!=null&&((qa=(ra=this.USe).uTk)===null||qa===void 0||qa.call(ra));break;case "layout":this.eta(a,b,1);nzs(this,d.inner.container,[...d.inner.cells],d.container.page);break;case "layout-cell":this.eta(a,b,1);nzs(this,d.inner.container.container,[d.inner.container.qb],d.container.page);break;default:throw new v(d.inner);}else if(this.t7a)switch(e=this.t7a,
e===null||e===void 0?void 0:e.type){case "shape":var sa,wa;this.eta(a,b,1);(sa=(wa=this.Wq).vNj)===null||sa===void 0||sa.call(wa,e.paths);break;case "table-element":case "sheet-element":case "sheet-element-cell-media":case "layout-element":var ya,za;this.eta(a,b,d.elements.length);(ya=(za=this.Wq).tDa)===null||ya===void 0||ya.call(za,d.elements,d.container);break;case "elements":var Aa,Ea;a!=="shape_detector"&&this.eta(a,b,d.elements.length);(Aa=(Ea=this.Wq).tDa)===null||Aa===void 0||Aa.call(Ea,d.elements,
d.container);break;case "page":break;case "sheet-page-content":break;case "item":case "table-item":case "sheet-item":case "sheet-item-cell-media":case "layout-item":case "cover-item":case "page-break-item":break;default:throw new v(e);}}}}}etm(a,b){const c=this.og.La;if(c&&c.Ki())switch(c.type){case "pages":var d;const {container:e,pages:f}=((d=c.inner)===null||d===void 0?void 0:d.type)==="pages"?c.inner:c;wzs(this.pZk,e,f,a,b);break;case "elements":wzs(this.pZk,c.container.container,[c.container.ja],
a,b);break;case "audio":throw Error("page deletion not supported from audio selection");default:throw new v(c);}else b.abort()}eta(a,b,c,d){var e;if(!this.og.Ib){var f=this.og.La;if(f!==null&&f!==void 0&&f.Yo){if((d===null||d===void 0?void 0:d.type)==="group-element"){var g=c>1?"multiple_elements":"single_element_in_group";var h=d.group.jm}c=c>1?"multiple_elements":"single_element";d=f.Yo.elements.count();var k=(e=f.elements)===null||e===void 0?void 0:e.map(m=>{if(m.type==="shape"){if(__c.Gfe(m))return"stroke";
if(__c.oWa(__c.mWa(m)))return"recognized_stroke";if(bk(m))return"sticky_note"}return m.type});b.nb().addEvent("deleted");var l={ND:d,AFa:k,kb:a,KNj:g||c,wD:__c.xif(f.elements||[]),jm:h};b.nb().tk(({Hi:m})=>{this.N.track(__c.Q$g,{...l,Qb:m(),Op:0,Mr:0,Ly:0})});b.ue()}else b.abort()}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.f1=a;this.Wq=b;this.HX=c;this.pZk=d;this.jc=e;this.og=f;this.Og=g;this.Pa=h;this.eb=k;this.USe=l;this.V=m;this.N=p;this.VF=q;oRs.G(this);this.Wq.JGi("deleting_ui",{hoj:r=>{switch(r.container.type){case "chart-element":break;
case "layout-element-cell":case "fixed-page":case "group-element":case "controlled-element":this.og.Ol(r.container,r.ja);break;default:throw new v(r.container);}}})}},pRs=class{static G(a){P(a,{bvb:mV,t7a:mV})}get Pge(){return this.bvb}get jjf(){return this.bvb}get brl(){var a=this.jjf;if(a.length!==1)return!1;a=a[0];return a.type==="row"||a.type==="column"?!1:!0}get zmd(){return!1}get eNj(){}get bvb(){var a;if(this.Ma.mode<=20||((a=this.og.Ib)===null||a===void 0?void 0:a.type)===0)return[];a=this.t7a;
switch(a===null||a===void 0?void 0:a.type){case "item":var b,c;return a.item.type==="design"&&((c=a.item.Sw)===null||c===void 0?void 0:(b=c.ref)===null||b===void 0?void 0:b.type)==="sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "cover-item":var d,e,f,g;if(this.Ma.mode<=30)break;return((d=a.marker.Ig.ref)===null||d===void 0?void 0:d.type)==="design"&&((g=a.marker.Ig.ref)===null||g===void 0?void 0:(f=g.Sw)===null||f===void 0?void 0:(e=f.ref)===null||e===void 0?void 0:e.type)===
"sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "page-break-item":return[{type:"element"}];case "layout-item":var h=a.$Mj;return h?[{type:"column",G9d:Fns(this.zwa,a.dw,a.ZGa,h)},{type:"layout-item"}]:[{type:"layout-item"}];case "table-item":a=(h=this.HX.gfd)===null||h===void 0?void 0:h.aNj();if(!a)break;return[a.LDc?"column":null,a.deleteRow?"row":null,"table-item"].filter(vb).map(k=>ozs(k,this.t7a));case "sheet-item":return[a.columns.length>0?"column":null,a.rows.length>0?"row":
null,"sheet-item"].filter(vb).map(k=>ozs(k,this.t7a));case "sheet-item-cell-media":return[ozs("sheet-item-cell-media",this.t7a)];case void 0:break;default:throw new v(a);}return[]}get t7a(){const a=this.og.Ib;var b=this.Xa.state;if(b){switch(b.type){case "LAYOUT_CELL":var c,d;const [h,k]=b.cells;return h&&!k?{type:"layout-item",dw:b.layout,$Mj:((c=(d=this.Wq).vgf)===null||c===void 0?0:c.call(d,b.layout,b.Nc,h))?h:void 0,ZGa:b.Nc}:void 0;case "RANGE":var e,f;return b.lz!=null?b.lz.type==="break"?{type:"page-break-item",
HTe:b.lz}:{type:"item",item:b.lz}:(a===null||a===void 0?void 0:a.container.type)==="layout-item-cell"&&b.isCollapsed?{type:"layout-item",dw:a.container.layout,$Mj:((e=(f=this.Wq).vgf)===null||e===void 0?0:e.call(f,a.container.layout,b.Nc,a.container.qb))?a.container.qb:void 0,ZGa:a.container.container.container.text}:void 0}switch(a===null||a===void 0?void 0:a.type){case 0:if(a.container.type==="table-item-cell")return b=a.container.table,c=[a.container.qb],d=dMe(b,c),e=cMe(b,c),{type:"table-item",
table:b,cells:c,parent:a.container.container.container,TQ:[d[0],d[d.length-1]],WE:[e[0],e[e.length-1]]};break;case 1:var g;if(((g=a.only)===null||g===void 0?void 0:g.type)==="table"&&a.container)return pa(__c.CVc(a.container)),b=a.only,c=[...a.only.cells.values()],d=dMe(b,c),e=cMe(b,c),{type:"table-item",table:b,cells:c,parent:a.container,TQ:[d[0],d[d.length-1]],WE:[e[0],e[e.length-1]]};break;case 2:return b=a.container.table,c=a.map(h=>h),d=dMe(b,c),e=cMe(b,c),{type:"table-item",parent:a.container.container,
table:b,cells:c,TQ:[d[0],d[d.length-1]],WE:[e[0],e[e.length-1]]};case 4:return b=a.container.sheet,d=this.HX.eec,c=a.cells.map(h=>h),f=a.rows.map(h=>h),e=a.columns.map(h=>h),f=(d===null||d===void 0?void 0:d.pBg(b.config,f,c))||[],d=(d===null||d===void 0?void 0:d.oBg(b.config,e,c))||[],{type:"sheet-item",parent:a.container.container.text,sheet:b,cells:c,rows:f,columns:d};case 5:return b=a.container,c={row:b.row,column:b.column},d=a.media.map(h=>h),{type:"sheet-item-cell-media",parent:a.container.container.container.text,
sheet:b.Ona,qb:c,media:d};case 3:case void 0:break;default:throw new v(a);}}else if((a===null||a===void 0?void 0:a.container.type)==="marker"||(a===null||a===void 0?void 0:a.container.type)==="section-marker")return{type:"cover-item",marker:a.container.marker}}kfg(){return this.t7a!=null}kNj(a,b){var c;if(!b)this.Wq.AAb();else if(!this.rDs){var d=this.t7a;if((d===null||d===void 0?void 0:d.type)==="cover-item"){var e,f;(e=(f=this.Wq).Gve)===null||e===void 0||e.call(f,d.marker);this.og.deselectAll()}else if((d===
null||d===void 0?void 0:d.type)==="page-break-item")this.WP(a,new __c.uf);else if((d===null||d===void 0?void 0:d.type)==="sheet-item")(c=this.HX.eec)===null||c===void 0||c.Jjc(d.sheet.config,d.cells);else{var g;a=((g=this.Xa.state)===null||g===void 0?void 0:g.type)!=="TABLE_CELL"||this.Xa.state.cells.length!==1||this.Xa.state.cells[0].content.text.isEmpty?void 0:this.Xa.state.cells[0];this.Wq.AAb();a&&(this.Xa.Ju(a.content.text,Nw.end()),this.Xa.focus())}b.preventDefault()}}WP(a,b,c){var d=this.t7a;
switch(d===null||d===void 0?void 0:d.type){case "layout-item":a=d.dw;b=d.$Mj;d=d.ZGa;if(b!=null)if(c==="outer"){var e,f;(e=(f=this.Wq).tng)===null||e===void 0||e.call(f,a,d);this.Xa.Rv(d,a)}else{var g,h;(g=(h=this.Wq).NTh)===null||g===void 0||g.call(h,a,b,d);this.Xa.deselectAll()}else this.Xa.Rv(d,a),this.Wq.AAb();break;case "table-item":b=d.parent;var k=d.table,l=d.TQ;d=d.WE;switch(c){case "column":var m,p;(p=this.HX.gfd)===null||p===void 0||(m=p.abq)===null||m===void 0||m.call(p,k,b,l,a);break;
case "row":var q,r;(r=this.HX.gfd)===null||r===void 0||(q=r.bbq)===null||q===void 0||q.call(r,k,b,d,a);break;case "outer":this.Xa.Rv(b.text,k);this.Wq.AAb();break;case "inner":case void 0:this.Wq.AAb();break;default:throw new v(c);}break;case "sheet-item":m=d.sheet;p=d.parent;q=d.columns;r=d.rows;d=d.cells;switch(c){case "column":(k=this.HX.eec)===null||k===void 0||k.deleteColumns(m.config,q,b,a);break;case "row":(l=this.HX.eec)===null||l===void 0||l.deleteRows(m.config,r,b,a);break;case "outer":this.Xa.Rv(p,
m);this.Wq.AAb();break;case "inner":case void 0:var t;(t=this.HX.eec)===null||t===void 0||t.Jjc(m.config,d);break;default:throw new v(c);}break;case "sheet-item-cell-media":var u,w;c=d.sheet;a=d.qb;d=d.media;(u=(w=this.Wq).eVd)===null||u===void 0||u.call(w,c.config,a.row,a.column,d);this.Xa.deselectAll();break;case "cover-item":var x,y;(x=(y=this.Wq).Gve)===null||x===void 0||x.call(y,d.marker);break;case "page-break-item":var z,A;if(d.HTe.marker.Ig.ref&&a!=="cut_contextual_menu"&&a!=="cut_keyboard_shortcut"){var B,
D;(B=(D=this.Wq).Gve)===null||B===void 0||B.call(D,d.HTe.marker);break}(z=(A=this.Wq).AAb)===null||z===void 0||z.call(A);break;case "item":case void 0:this.Wq.AAb();break;default:throw new v(d);}}etm(){}get rDs(){var a,b,c;return this.Xa.focused&&((a=this.Xa.state)===null||a===void 0?void 0:a.type)==="RANGE"&&(((b=this.Xa.state.lz)===null||b===void 0?void 0:b.type)!=="break"||!((c=this.Xa.state.lz)===null||c===void 0?0:c.marker.Ig.ref))}eta(){throw Error("logDeletedAnalytics is not implemented");
}constructor(a,b,c,d,e,f){this.Wq=a;this.HX=b;this.og=c;this.Xa=d;this.zwa=e;this.Ma=f;pRs.G(this)}};var qRs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 4.5h5.25v15H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5Zm12 0h-5.25v15H17a.5.5 0 0 0 .5-.5v-1H19v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1h-1.5V5a.5.5 0 0 0-.5-.5Zm-.97 4.47a.75.75 0 1 0-1.06 1.06L16.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L18 13.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L19.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L18 10.94l-1.97-1.97Z" fill="currentColor"/></svg>';var pzs=br({medium:qRs});var rRs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.5 5v5.25h-15V5a.5.5 0 0 1 .5-.5h14a.5.5 0 0 1 .5.5Zm0 12v-5.25h-15V17a.5.5 0 0 0 .5.5h1V19H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-1v-1.5h1a.5.5 0 0 0 .5-.5Zm-9.47-2.03a.75.75 0 1 0-1.06 1.06L10.94 18l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 19.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L13.06 18l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 16.94l-1.97-1.97Z" fill="currentColor"/></svg>';var qzs=br({medium:rRs});var sRs=DV(a=>{const b=a.onClick,c=a.disabled;return cV(a.Ci,{tooltip:L("eLUEGw"),Ah:"icon",icon:Px,className:"_6n_L7A",onClick:b,disabled:c,children:L("eLUEGw")})});DV(a=>{const b=a.onClick,c=a.oa,d=a.disabled;return cV(a.hl,{Icon:Px,label:L("eLUEGw"),disabled:d,onClick:b,oa:c,hm:"Delete"})});var tRs=DV(a=>cV(a.Ci,{icon:Px,className:"_6n_L7A",pressed:a.open,Ah:"icon",onClick:a.onClick,tooltip:L("eLUEGw"),children:L("eLUEGw")}));
DV(a=>{const b=a.oa;return cV(__c.yD,{margins:"flow",children:a.items.map((c,d)=>cV(uRs,{item:c,oa:b},d))})});
var vRs=DV(a=>{const b=a.V,c=a.disabled,d=a.aRe,e=a.onMouseEnter,f=a.onMouseLeave,g=a.onFocus,h=a.onBlur,k=a.oa;a=a.bvb.map(l=>{const m=rzs(l);return{...m,disabled:c,onClick:fV(()=>d(b.sb("delete_element_dropdown",{Fb:{name:"editor.delete_element"}}),m.mode)),onMouseEnter:fV(()=>e(l)),onMouseLeave:fV(()=>f(l)),onFocus:fV(()=>g(l)),onBlur:fV(()=>h(l))}});return cV(__c.yD,{margins:"flow",children:a.map((l,m)=>cV(uRs,{item:l,oa:k},m))})}),uRs=DV(a=>{const b=a.oa,{message:c,Icon:d,onClick:e,onFocus:f,
onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l=!1}=a.item;return kV(__c.hA,{onClick:()=>{e===null||e===void 0||e();b===null||b===void 0||b()},onFocus:f,onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l,children:[cV(__c.wD,{className:"Roid7g",children:cV(d,{size:"medium"})}),c]})}),wRs=eV(a=>{const b=a.disabled,c=a.Cg;return cV(a.Ci,{onClick:a.onClick,icon:Px,Ah:"icon",disabled:b(),tooltip:J("JwjLTA",[c]),children:J("fk0LcQ",[c])})});var xRs=class{static G(a){P(a,{Cg:mV})}get Cg(){var a;return((a=this.og.La)===null||a===void 0?void 0:a.pages)||[]}rsl(){var a;return!(!this.og.La||this.og.La.type!=="pages"||((a=this.og.La)===null||a===void 0?0:a.inner)||!this.og.La.Ki())}constructor(a,b,c,d,e,f,g,h){this.document=a;this.og=b;this.Wq=c;this.A3h=d;this.Io=e;this.N=f;this.hLn=g;this.eHs=h;xRs.G(this)}};var yRs,zRs,ARs,BRs;
new (yRs=class extends IV{constructor(){super(BRs);zRs()}},(()=>{class a extends(ARs=GV){static G(b){P(b,{open:wV.ref})}render(){const b=this.props.OD,c=this.props.kWg,d=this.props.onClose;return cV(__c.pd,{open:this.open,title:J("CMqjrQ",[b]),explanation:J("phFzTA",[c,b]),QF:"critical",buttons:this.buttons,SRb:L("lVGe+Q"),kj:d})}get buttons(){return[{children:L("JTju5w"),onClick:fV(b=>{this.props.Uhe(b.LYc);this.props.ep();this.open=!1})},{children:L("Xw0Txg"),onClick:fV(b=>{this.props.Uhe(b.LYc);this.props.onCancel();
this.open=!1})}]}constructor(...b){super(...b);this.open=(BRs.G(this),!0)}}({c:[BRs,zRs]}=JV(a,[],[Lb],ARs))})(),yRs);var CRs=class{get Adq(){return this.storage?!!this.storage.getItem("E2DontShowPageDeleteWarningWithLink"):this.Fvm}constructor(){this.Fvm=!1;this.storage=__c.cc()}};var Azs=({Kc:a})=>cV(Ik,{tone:"info",dismissible:!0,Kc:a,children:L("F+UiAA")});var zzs=class{static G(a){P(a,{init:fV,Kc:fV.bound})}init(){var a,b;this.store.nla=!this.rZq(714,(b=this.X)===null||b===void 0?void 0:(a=b.Ii)===null||a===void 0?void 0:a.Uo)}Kc(){this.store.nla=!1;this.X&&this.Qa.Mj(new __c.jt({user:this.X.user.id,types:[714]}))}get nla(){return this.store.nla}constructor(a,b,c,d=__c.jy){this.store=a;this.X=b;this.Qa=c;this.rZq=d;zzs.G(this)}};var yzs=class{static G(a){P(a,{nla:wV.ref})}constructor(){this.nla=(yzs.G(this),!0)}};var DRs=({quota:a,LKl:b,Ywk:c})=>{if(a.kind==="loading")return cV(__c.Yt,{size:"small"});const d=a.jbd?cV(Q,{size:"small",children:J("3ExZKg",[a.jbd])}):null;return kV(R,{display:"flex",justifyContent:"center",alignItems:"center",children:[c?cV(__c.Jx,{}):cV(__c.Ix,{}),"\u00a0",kV(Q,{alignment:"center",size:"small",children:[J("Tst+Tw",[a.ite,a.tF]),"\u00a0"]}),c?d:cV(Q,{size:"small",children:cV(__c.hk,{message:L("I17TjQ"),kf:b,Ex:"subtle"})})]})};var ERs=({IDs:a=!1,onCancel:b})=>{const [c,d]=nV(0);iV(()=>{const e=Math.floor(Math.random()*501+500);setTimeout(()=>{c>=1E4||d(f=>f+e)},e)},[c]);a=a?1:1-Math.pow(1.3,-(c/1E3));return cV("div",{className:"wenq4Q",children:kV(Wc,{align:"center",spacing:"1.5u",children:[cV(Q,{children:L("VwPLIQ")}),cV(__c.OC,{ariaLabel:L("SzclBg"),stretch:!0,dlc:!0,value:a*100}),cV(Yi,{variant:"secondary",stretch:!0,onClick:b,children:L("JDk5tg")})]})})};var GRs=({input:a,CDc:b,Hqk:c,C8j:d,hOo:e,Hbj:f,error:g,bqk:h,bWe:k,$If:l,EYg:m,arl:p})=>kV(rV,{children:[e&&cV(R,{Jb:"2u",paddingBottom:"2u",children:cV(e,{})}),f&&cV(R,{Jb:"2u",children:cV(f,{})}),cV(R,{paddingBottom:"2u",Jb:"2u",height:"full",display:h?"flex":void 0,alignItems:h?"center":void 0,children:kV(Wc,{spacing:"2u",children:[a,cV(FRs,{bqk:h,bWe:k,CDc:b,Hqk:c,C8j:d,error:g,$If:l,EYg:m,arl:p})]})})]}),FRs=({bqk:a,bWe:b,CDc:c,Hqk:d,C8j:e,error:f,$If:g,EYg:h,arl:k})=>{const [l,m]=nV(!0),p=
()=>{m(!0);g()};iV(()=>{a&&m(!1)},[a]);return a?cV(ERs,{onCancel:p}):l?f?f:kV(rV,{children:[cV(HRs,{bWe:b}),c,e,d,k&&cV(IRs,{EYg:h})]}):(m(!0),cV(ERs,{IDs:!0,onCancel:p}))},HRs=DV(({bWe:a})=>a?kV(Q,{weight:"bold",children:[cV(__c.$z,{}),cV(ld,{direction:"horizontal",size:"0.5u"}),J("pVv2cw",[a])]}):null),IRs=DV(({EYg:a})=>{const b=gV(()=>{a===null||a===void 0||a()},[a]);return cV(R,{background:"canvas",borderRadius:"baseUnit",Jb:"2u",Mc:"1.5u",border:"none",children:kV(Q,{children:[cV(__c.nor,{}),
cV(__c.hk,{message:L("9pud7Q"),kf:b})]})})}),JRs=DV(({Y7:a})=>a?kV(ir,{spacing:"1u",Fa:"center",children:[cV(__c.xzc,{children:L("J7PIrQ")}),cV(Uu,{tone:"neutralLow",text:L("Hv1Kng")})]}):cV(__c.xzc,{children:L("J7PIrQ")}));var KRs=__webpack_require__.p+"images/12cac2d71496e7941348c7ea6e2d56f1.png";var LRs=__webpack_require__.p+"images/43b2a0458b604ba992d1cf8d2374b9ef.png";var MRs=({Ld:a,alt:b})=>a===1?cV(__c.$u,{src:LRs,alt:b,border:"none"}):cV(__c.$u,{src:KRs,alt:b,border:"none"});var NRs=({error:a})=>cV(R,{padding:"2u",children:kV(Wc,{spacing:"1.5u",children:[cV(MRs,{Ld:a.Ld,alt:a.XDf||""}),cV(kr,{alignment:"center",size:"xsmall",children:a===null||a===void 0?void 0:a.XDf}),cV(Q,{alignment:"center",children:a===null||a===void 0?void 0:a.Kph})]})});var Czs={get gCm(){return Rb("f62bdbf5",!1)},get Hoq(){return Rb("1337609c",!1)},get vsq(){return Rb("67d49c82",!1)},get wgn(){return Rb("fb3552ee","")},get nzk(){return Rb("11da8253","")},get wsq(){return Rb("bc7d14a5",!1)},get doq(){return Rb("8c7e6060",!1)},get uqq(){return Rb("42dc6e6c",!1)}};var ORs=__webpack_require__.p+"images/cedd6f1881f2e6c967a69cc8e0678814.svg";var PRs=__webpack_require__.p+"images/6ba3afe7a63dc79585765f2493a7585c.svg";var QRs=__webpack_require__.p+"images/f166701c9801db56ad4508fb96c451d1.svg";var RRs=__webpack_require__.p+"images/6433e4a9a0eb074221d54830396fd558.svg";var TRs=({fsc:a})=>kV(Wc,{spacing:"1.5u",children:[cV(kr,{size:"xsmall",children:L("13k7+g")}),cV(hr,{columns:2,spacing:"1.5u",JRf:"equal",children:SRs.map((b,c)=>cV(No,{onClick:()=>a(b.text,b.id,c),content:kV(R,{height:"full",display:"flex",flexDirection:"column",borderRadius:"containerLarge",className:"_0ybf2Q",border:"low",padding:"2u",children:[kV(Wc,{spacing:"0.5u",children:[cV(Q,{size:"small",weight:"bold",className:"_0LZC8Q",children:b.label}),cV(__c.Ho,{size:"small",lineClamp:3,children:b.text})]}),
cV(R,{paddingTop:"0.5u",height:"full",display:"flex",alignItems:"end",children:cV(ev,{aspectRatio:1.25,src:b.image})})]})},b.id))})]}),SRs=[{id:"spot_trends",text:L("/15meQ"),label:L("l6sRWQ"),image:PRs},{id:"visualize",text:L("WdBwUg"),label:L("7fXBqw"),image:RRs},{id:"summarize",text:L("JLfw8A"),label:L("P6WuTA"),image:QRs},{id:"find_outliers",text:L("l8zS1w"),label:L("LOom5w"),image:ORs}];var URs=({O5h:a,HBa:b,a7p:c,EQr:d,JVe:e,sVr:f,Bqd:g,lui:h,nHq:k,YRi:l,NNg:m,fsc:p})=>kV(Wc,{spacing:"1u",children:[b,g&&cV(Ik,{tone:"critical",dismissible:!0,Kc:h,qH:!0,children:g}),cV(__c.oD,{placeholder:L("94xB5A"),value:e,onChange:f,tn:k?5:2,maxRows:5,gVa:0,KK:!0,maxLength:280,ariaLabel:L("m5uzaQ"),footer:!k&&cV(R,{padding:"1u",children:cV(Wc,{spacing:"0",align:"end",children:cV(Yi,{variant:"primary",icon:l?__c.I5f:St,onClick:d,disabled:a})})})}),m&&Czs.uqq&&cV(Ik,{tone:"info",qH:!0,size:"small",
Kg:!0,children:cV(__c.gk,{message:L("xxsYsQ")})}),k&&cV(Yi,{variant:"primary",icon:St,qp:"end",stretch:!0,onClick:d,disabled:a,ariaLabel:L("m5uzaQ"),children:L("m5uzaQ")}),c,k&&Czs.Hoq&&cV(TRs,{fsc:p})]});var VRs={eventType:"magic_insights_interacted",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),action:a.action,num_attempt:a.kta,had_prompt:a.Lsa,panel_session_id:a.cY,generation_id:a.TX,range_selection:a.tD,time_since_requested_ms:a.s1b,results_id:a.zAb,error_type:a.Ld,insight_type:a.lJc,index_position:a.XL,entity_id:a.osa,chart_type:a.Xc,chart_type_variant:a.$l,card_prompt_suggestion_type:a.SPa,card_prompt_suggestion_index:a.RPa})}},WRs={eventType:"magic_insights_results_generated",
Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),num_attempt:a.kta,had_prompt:a.Lsa,panel_session_id:a.cY,generation_id:a.TX,range_selection:a.tD,time_since_requested_ms:a.s1b,results_id:a.zAb,summary_generated:a.QVi,num_formulas_generated:a.ori,num_charts_generated:a.kri,error_type:a.Ld,summary_error_type:a.$ro})}},XRs={eventType:"magic_insights_results_viewed",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),num_attempt:a.kta,had_prompt:a.Lsa,panel_session_id:a.cY,generation_id:a.TX,
range_selection:a.tD,time_since_requested_ms:a.s1b,results_id:a.zAb,summary_generated:a.QVi,num_formulas_generated:a.ori,num_charts_generated:a.kri,summary_viewed:a.GPs,num_formulas_viewed:a.yHr,num_charts_viewed:a.aHr})}};var Wzs=H(()=>({}));var Mzs=(a,b,c)=>{const d=new Set(hos(c));if(!a.every(f=>d.has(f)))return Ia({ZOe:a,from:[...d],RDe:"GROUPED_SERIES_FROM_ROWS",binding:"groupBy"});const e=[];c=Ezs(c.data());for(const [f,g]of c){c={binding:"unused"};f===b?c={binding:"valueBy",id:Oy()}:a.includes(f)&&(c={binding:"groupBy",id:Oy()});const {values:h,Bb:k}=Fzs([...g],c.binding);e.push({label:f,values:h,type:c,Bb:k})}return Ha(e)},Lzs=(a,b,c,d,e,f)=>{const g=new Set(hos(f));if(!c.every(k=>g.has(k)))return Ia({ZOe:c,from:[...g],RDe:"SCATTERPLOT_SERIES_FROM_ROWS",
binding:"yAxisLabels"});if(!g.has(b))return Ia({ZOe:b,from:[...g],RDe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"xAxisLabel"});if(a&&!g.has(a))return Ia({ZOe:a,from:[...g],RDe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"labelHeader"});const h=[];f=Ezs(f.data());for(const [k,l]of f){f={binding:"unused"};k===b?f={binding:"xValueBy",id:Oy()}:a&&k===a?f={binding:"labelBy",id:Oy()}:c.includes(k)?f={binding:"yValueBy",id:Oy()}:d&&k===d?f={binding:"colorBy",id:Oy()}:e&&k===e&&(f={binding:"sizeBy",id:Oy()});const {values:m,
Bb:p}=Fzs([...l],f.binding);h.push({label:k,values:m,type:f,Bb:p})}return Ha(h)};var YRs=a=>{let b=0;for(let c=0;c<a.length;c++)b=b*26+(a.charCodeAt(c)-65)+1;return b-1},ZRs=a=>{if(a.length===0)return[];let b=0,c=0;a.forEach(({reference:e})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,f,g]=e;e=YRs(f);b=Math.max(b,parseInt(g,10)-1);c=Math.max(c,e)}});const d=Array.from({length:b+1},()=>Array(c+1).fill(""));a.forEach(({reference:e,value:f})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,g,h]=e;e=YRs(g);d[parseInt(h,10)-1][e]=f}});return d};var $Rs=class{static G(a){P(a,{history:wV.shallow,tUe:wV.ref,JVe:wV.ref,Bqd:wV.ref,error:wV.ref,quota:wV.ref,CK:wV.ref,tAa:mV,EEd:mV,current:mV})}get Ywk(){return this.alf.status===Qx.$h}get tAa(){return this.tUe!=null}get EEd(){var a;return(a=this.JVe)===null||a===void 0?void 0:a.trim()}get current(){if(!(this.history.length<1))return this.history[this.history.length-1]}get uIb(){var a;return(a=this.current)===null||a===void 0?void 0:a.uIb}get CDc(){var a;return(a=this.current)===null||a===void 0?
void 0:a.CDc}get vnd(){var a;return(a=this.current)===null||a===void 0?void 0:a.vnd}get iPg(){var a;return(a=this.current)===null||a===void 0?void 0:a.iNq}get Lfn(){var a;return(a=this.current)===null||a===void 0?void 0:a.CK}constructor(a){this.alf=a;this.Thn=($Rs.G(this),void 0);this.history=[];this.error=this.Bqd=this.JVe=this.tUe=void 0;this.quota={kind:"loading"};this.session={id:Nb(),attempt:0}}};var aSs=14*$t,bSs=class{static G(a){P(a,{O5h:mV,Ql:fV,$If:fV.bound,YRi:mV,NNg:mV})}get O5h(){if(this.NNg)return!0;const a=this.store.quota;switch(a.kind){case "loading":return!0;case "loaded":return a.tF===0;default:throw new v(a);}}xkk(){var a;const b=this.Pud(),c=(a=this.store.iPg)===null||a===void 0?void 0:a.zCs;if(!b.ok||!c)return!0;a=b.value.ema;return a.length!==c.length?!0:a.every(d=>{c.find(e=>d.reference===e.reference&&d.value!==e.value)})}Ql(a){this.store.error=a}Pud(){const a=this.dec.HBa;
if(!a)return Ia({errorMessage:L("lGc67g"),HBa:a,dld:"no_selection"});const {data:b,Tpa:c}=Tzs(this,a);if(b.length<=1)return Ia({errorMessage:L("Xi2QLg"),HBa:a,dld:"too_few_cells"});var d=a.cells;if(d.length!==0&&d[0].row.id===d[d.length-1].row.id)return Ia({errorMessage:L("bWTxvA"),HBa:a,dld:"too_few_rows"});d=Uzs(this,a);d=n(d.at(0)).filter(e=>e.length);return(new Set(d)).size!==d.length?Ia({errorMessage:L("Z3LgIw"),HBa:a,dld:"duplicate_headers"}):Ha({HBa:a,ema:b,Tpa:c})}MGj(a){const b=a.Qn,c=a.config,
d=a.data;a=a.Nb;var e=new Map;e.set("font-size",aSs.toString());e.set("color","#000000");pa(this.cE.Ja!=="responsive");e=__c.ZOe(this.cE,e);return{...__c.yYc,id:void 0,top:0,left:0,width:810,height:810,gb:810,Ub:810,Tm:{top:0,left:0,width:810,height:810},config:c,data:d,Nb:a,Qn:b,ye:e,mb:[],labels:[]}}XPh(a){const b=a.Qn,c=a.config,d=a.data;a=a.Nb;pa(this.cE.Ja==="responsive");const e=__c.XOe(this.cE);return __c.qUc.create({...__c.YYc,id:void 0,config:c,data:d,Nb:a,Qn:b,ye:e})}get YRi(){var a;return this.store.EEd!=
null&&this.store.EEd.length>0&&this.store.EEd===((a=this.store.iPg)===null||a===void 0?void 0:a.prompt)&&!this.xkk()}get NNg(){var a=this.CJa.findSheet();if(!a)return!0;a=a.sheet;var b=a.layout.rows.toArray();const c=a.layout.cols.toArray();for(const d of b)for(const e of c)if((b=this.Tc.getContent(a,d,e))&&b.Fr)return!1;return!0}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,N,M,O){this.store=a;this.navigation=b;this.ka=c;this.kn=d;this.Qe=e;this.sc=f;this.LLj=g;this.cE=h;this.selection=
k;this.CJa=l;this.dec=m;this.Tc=p;this.nS=q;this.N=r;this.alf=t;this.yG=u;this.zia=w;this.Gwb=x;this.xB=y;this.errorService=z;this.la=A;this.uz=B;this.RR=D;this.clipboard=G;this.viewport=I;this.Zg=K;this.N1l=N;this.Ac=M;this.mgq=O;this.hIn=(bSs.G(this),fV(async()=>{var U;this.store.session={id:Nb(),attempt:0};this.store.Thn=this.cE.qIa();this.ka.layout===1?this.kn.open(this.LLj,{faa:"start"}):(U=this.Qe)===null||U===void 0||U.SKf(this.navigation,{height:"auto"});this.Zg(L("J7PIrQ"));await Xzs(this)}));
this.GRp=()=>{this.kn.close(this.LLj)};this.TJm=async()=>{var U;oV(()=>{this.store.error=void 0;this.store.Bqd=void 0});(U=this.mgq)===null||U===void 0||U.call(this);const W=Vzs(this);U=bAs(this.store.EEd);U={kta:this.store.session.attempt,Lsa:this.store.EEd!=null&&this.store.EEd.length>0,cY:this.store.session.id,TX:void 0,zAb:void 0,lJc:void 0,XL:void 0,osa:void 0,Xc:void 0,$l:void 0,s1b:void 0,SPa:U===null||U===void 0?void 0:U.type,RPa:U===null||U===void 0?void 0:U.index};this.store.session.attempt+=
1;if(W.ok){var X=W.value.HBa;await this.ZDq(X,W.value.ema,W.value.Tpa,W.value.mu,{kta:U.kta,Lsa:U.Lsa,cY:U.cY,tD:X.range,SPa:U.SPa,RPa:U.RPa})}else oV(()=>{this.store.history.length>0?this.store.error=Yzs(2):this.store.Bqd=W.error.errorMessage}),this.N.track(VRs,{...U,action:"generate",tD:(X=W.error.HBa)===null||X===void 0?void 0:X.range,Ld:W.error.dld})};this.ZDq=async(U,W,X,Z,{kta:da,Lsa:ka,cY:la,tD:oa,SPa:ja,RPa:ha})=>{var ba,ca;const qa=this.CJa.WHc(),ra=this.store.EEd,sa=Date.now(),wa={cqk:void 0,
kta:da,Lsa:ka,TX:void 0,tD:oa,CXe:sa,SPa:ja,RPa:ha};oV(()=>{this.store.tUe=wa;this.store.JVe=ra;this.store.CK=qa});X=await this.gEq(W,X,Z,wa,la);if(this.store.tAa)if(Z=Date.now()-sa,la=this.kn.isOpen(this.LLj)?this.store.session.id:void 0,X.resultType===1)this.Ql(X.error),oV(()=>{this.store.tUe=void 0}),X.Ld==="generation"&&this.N.track(WRs,{kta:da,Lsa:ka,cY:la,TX:wa.TX,tD:oa,s1b:Z,zAb:void 0,QVi:!1,ori:void 0,kri:void 0,Ld:X.dld,$ro:void 0});else{var ya={uIb:X.results.uIb,vnd:X.results.xQ,CDc:X.results.summary,
iNq:{prompt:ra,bWe:`${U.sheetName}`,zCs:W},CK:qa,kta:da,Lsa:ka,TX:X.TX,tD:oa,CXe:sa,VLj:!1,tAj:X.results.xQ.map(()=>!1),G8j:X.results.uIb.map(()=>!1),SPa:wa.SPa,RPa:wa.RPa};oV(()=>{this.store.history.push(ya);this.store.tUe=void 0});this.N.track(WRs,{kta:ya.kta,Lsa:ya.Lsa,cY:la,TX:ya.TX,tD:ya.tD,s1b:Z,zAb:void 0,QVi:ya.CDc!=null,ori:ya.uIb.length,kri:ya.vnd.length,Ld:void 0,$ro:void 0});(ba=(ca=this.uz).Uon)===null||ba===void 0||ba.call(ca)}};this.gEq=async(U,W,X,Z,da)=>{let ka,la;X=new __c.b7c({content:X});
try{({id:ka}=await this.nS.cIj({data:U,prompt:this.store.EEd||void 0,mu:X}))}catch(oa){la=oa instanceof __c.Sb&&oa.statusCode===403?"permissions_error":"internal_error",this.errorService.pa(oa)}if(!ka)return this.N.track(VRs,{action:"generate",tD:Z.tD,kta:Z.kta,Lsa:Z.Lsa,cY:da,TX:void 0,zAb:void 0,lJc:void 0,XL:void 0,osa:void 0,Xc:void 0,$l:void 0,s1b:void 0,SPa:Z.SPa,RPa:Z.RPa,Ld:la!==null&&la!==void 0?la:"sent_empty_data_set"}),{resultType:1,Ld:"interaction",error:Yzs(6)};Z.TX=ka;this.N.track(VRs,
{action:"generate",tD:Z.tD,kta:Z.kta,Lsa:Z.Lsa,cY:da,TX:Z.TX,zAb:void 0,lJc:void 0,XL:void 0,osa:void 0,Xc:void 0,$l:void 0,s1b:void 0,SPa:Z.SPa,RPa:Z.RPa,Ld:void 0});try{const oa=__c.Rh(()=>this.ias(ka),cSs,{Gs:6E4});Z.cqk=oa;const ja=await oa.result;Z.cqk=void 0;if(ja.type==="FAILURE")return{resultType:1,Ld:"generation",error:Yzs(ja.reason),dld:Zzs(ja.reason)};oV(()=>{if(ja.quota){const ba=Date.now();this.store.quota={kind:"loaded",ite:ja.quota.ite,tF:ja.quota.tF,jbd:ja.quota.jbd?new Date(ba+ja.quota.jbd):
void 0}}else this.store.Bqd=L("ldPNNQ")});const ha=ja.xQ.map(ba=>{try{const ca=this.xns([...ba.dataset],W.dateFormat),qa=new Jzs(ZRs(ca)),ra=Qzs(ba.thf,qa);return ra.ok?{Xb:ra.value.J$a,message:ba.message,Va:ba.id}:void 0}catch(ca){this.errorService.pa(ca,"Error processing chart insight")}}).filter(ba=>{if(!ba)return!1;switch(ba.Xb.config.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":return!0;
case "DUMBBELL":case "LOLLIPOP":case "SUNBURST":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":case "POPULATION_PYRAMID":return!1;default:throw new v(ba.Xb.config);}}).filter(vb);await this.store.Thn;return{resultType:0,results:{xQ:ha.map(this.Nur),uIb:this.wQq(ja.uIb),summary:ja.summary},TX:ka}}catch(oa){return this.errorService.pa(oa),{resultType:1,Ld:"generation",error:Yzs(6),dld:Zzs(6)}}};this.ias=async U=>{U=await this.nS.eck({id:U});switch(U.type){case "SUCCESS":case "FAILURE":return U}};
this.xHs=U=>{const W=this.selection.La,X=this.selection.Ib;if(W&&W.Ki())switch(W.type){case "audio":return!1;case "elements":switch(U){case "data-insights":var Z,da;return((Z=W.inner)===null||Z===void 0?void 0:Z.type)==="sheet"?this.Jzj(W.inner.sheet.config,W.inner.cells):((da=W.Ud)===null||da===void 0?void 0:da.type)==="sheet"?!0:!1;case "data-insights-action":var ka,la;return((ka=W.inner)===null||ka===void 0?void 0:ka.type)==="sheet"||((la=W.Ud)===null||la===void 0?void 0:la.type)==="sheet";default:throw new v(U);
}case "pages":switch(U){case "data-insights":var oa;return((oa=W.inner)===null||oa===void 0?void 0:oa.type)==="sheet"&&this.Jzj(W.inner.page.sheet,W.inner.cells);case "data-insights-action":var ja;return((ja=W.inner)===null||ja===void 0?void 0:ja.type)==="sheet";default:throw new v(U);}default:throw new v(W);}if(X)switch(X.type){case 4:switch(U){case "data-insights":return this.Jzj(X.container.sheet.config,X.cells);case "data-insights-action":return!0;default:throw new v(U);}case 1:switch(U){case "data-insights":var ha;
return((ha=X.only)===null||ha===void 0?void 0:ha.type)==="sheet";case "data-insights-action":var ba;return((ba=X.only)===null||ba===void 0?void 0:ba.type)==="sheet";default:throw new v(U);}case 3:case 5:case 2:case 0:break;default:throw new v(X);}return!1};this.Jzj=(U,W)=>W?Array.from(W).some(X=>{var Z;return(X=this.Tc.getContent(U,X.row,X.column))?X.fD.type===4&&((Z=X.Eza)===null||Z===void 0?void 0:Z.type)!=="select"||X.fD.type===1:!1}):!1;this.ZZa=U=>{this.N.track(__c.d2f,{Fd:U,ns:"charts",source:"other",
location:"magic_insights",action:"design",eFb:void 0,JE:void 0,wi:void 0,gua:void 0})};this.Bne=async(U,W)=>{const X=n(this.store.current,"Should be current results when adding chart to page"),Z=Date.now()-X.CXe;try{var da;const {config:ka,id:la}=await this.sc.Dga(U,{Yc:"data_insights"},void 0,{aU:!0});this.N.track(VRs,{action:"add_chart_to_page",kta:X.kta,Lsa:X.Lsa,cY:this.store.session.id,TX:X.TX,tD:X.tD,s1b:Z,XL:W,zAb:n(X.vnd.at(W)).Va,lJc:"chart",Xc:$zs(ka.ref),$l:aAs(__c.ew(ka.ref)),osa:la,Ld:void 0,
SPa:X.SPa,RPa:X.RPa});const oa=(da=this.Ac.Ic)===null||da===void 0?void 0:da.id;oa&&this.Ac.nIc&&this.ZZa(oa)}catch(ka){this.errorService.pa(ka,{Ka:"Failed to add to chart to page"})}};this.yDh=async(U,W)=>{pa(this.N1l!=null);const X=n(this.store.current,"Should be current results when adding chart to page"),Z=this.N1l(this.viewport.ya);if(Z){this.selection.$S(Z.container,Z.ja);var da=Date.now()-X.CXe;try{var ka;const {config:la,id:oa}=await this.sc.Dga(U,{Yc:"data_insights"},{Pe:Z},{aU:!0});this.N.track(VRs,
{action:"add_chart_to_new_page",kta:X.kta,Lsa:X.Lsa,cY:this.store.session.id,TX:X.TX,tD:X.tD,s1b:da,XL:W,zAb:n(X.vnd.at(W)).Va,lJc:"chart",Xc:$zs(la.ref),$l:aAs(__c.ew(la.ref)),osa:oa,Ld:void 0,SPa:X.SPa,RPa:X.RPa});const ja=(ka=this.Ac.Ic)===null||ka===void 0?void 0:ka.id;ja&&this.Ac.nIc&&this.ZZa(ja)}catch(la){this.errorService.pa(la,{Ka:"Failed to add to chart to new page"})}}};this.xns=(U,W)=>W?U.map(X=>{if(X.fd){const Z=__c.Nxb(Number.parseFloat(X.fd));if(Z)return{...X,value:__c.cyb(this.RR,
Z,{format:W,type:"date"})}}return X}):U;this.xXp=async U=>{await this.clipboard.writeText(U);this.la.Hb({Cb:L("AxOOOg")});U=n(this.store.current,"Should be current results when adding chart to page");this.N.track(VRs,{action:"copy_summary",kta:U.kta,Lsa:U.Lsa,cY:this.store.session.id,TX:U.TX,tD:U.tD,s1b:Date.now()-U.CXe,zAb:void 0,lJc:"summary",Ld:void 0,XL:void 0,Xc:void 0,$l:void 0,osa:void 0,SPa:U.SPa,RPa:U.RPa})};this.Umm=async(U,W,X)=>{await this.clipboard.writeText(U);switch(W){case "formulaText":this.la.Hb({Cb:L("1DT6sg")});
break;case "formula":this.la.Hb({Cb:L("nDCdqw")});break;case "chartTitle":this.la.Hb({Cb:L("WUKA7A")});break;default:throw new v(W);}U=n(this.store.current,"Should be current results when adding chart to page");switch(W){case "formulaText":W={action:"copy_formula_text",lJc:"formula",$l:void 0,Xc:void 0,osa:void 0,zAb:n(U.uIb.at(X)).Va};break;case "formula":W={action:"copy_formula",lJc:"formula",$l:void 0,Xc:void 0,osa:void 0,zAb:n(U.uIb.at(X)).Va};break;case "chartTitle":W=n(U.vnd.at(X),"Chart should exist when copying title").Xb;
W={action:"copy_chart_title",lJc:"chart",$l:aAs(__c.ew(W.config.ref)),Xc:$zs(W.config.ref),osa:W.id,zAb:n(U.vnd.at(X)).Va};break;default:throw new v(W);}this.N.track(VRs,{...W,kta:U.kta,Lsa:U.Lsa,cY:this.store.session.id,TX:U.TX,tD:U.tD,s1b:Date.now()-U.CXe,XL:X,Ld:void 0,SPa:U.SPa,RPa:U.RPa})};this.wQq=U=>{const W=this.dec.HBa;return W?U.reduce((X,Z)=>{if(!Z.uFf)return X;let da;const ka=this.xQq(Z);if(ka==null)return X;try{var la=__c.O5q(this.Gwb,W.sheet,ka);da=this.qUq(la,Z.T4h)}catch(ja){return X}if(!da)return X;
la=Z.uFf.split("%s");const oa=Z.uFf.replace("%s",da);X.push({formula:`=${ka.uka}`,F8j:{prefix:la[0],suffix:la[1],Y0q:da},QOm:oa,Va:Z.id});return X},[]):[]};this.xQq=U=>{U=U.formula.startsWith("=")?U.formula.slice(1):U.formula;return __c.$de(this.xB,{type:0,Noa:U})};this.qUq=(U,W)=>{switch(U.type){case 0:if(W===3)return __c.Zxb(this.RR,U.value,{Uv:2,Lq:!1});if(U.Bb==null)return U=U.value,Math.abs(U)<1?U=U.toPrecision(2):(U=(Math.round(U*100)/100).toString(),W=parseFloat(U),U=!isNaN(W)&&W>9999?__c.$I(W):
U),U;switch(U.Bb.type){case "date":return(W=__c.Nxb(U.value))?__c.cyb(this.RR,W,U.Bb.zj):"";case "embed":case "mention":case "select":return U.value.toString();case "plain_number":case "percentage":case "currency":return __c.byb(this.RR,U.value,U.Bb.zj);case "checkbox":return U.value.toString();default:throw new v(U.Bb);}case 2:return U.value.toString();case 16:return U=U.value.eTd(),U.type===2?U.value:"";case 1:case 4:case 3:case 15:return"";default:throw new v(U);}};this.Nur=(U,W)=>{if(this.cE.Ja!==
"responsive"){var X=U.Xb.spa(void 0);X=__c.En.create({...__c.Ds,id:void 0,elements:[this.MGj(X)]});const da=X.elements.toArray()[0];pa(da.type==="chart");const ka=__c.Ff({pages:[X]}).ub(X);X=this.cE.Gnm(()=>({Xb:da,zh:ka}));this.cE.xyf({Xb:da,aU:!0});return{csi:()=>this.Bne(U.Xb,W),AHf:()=>this.yDh(U.Xb,W),gr:X,type:"fixed",Xb:da,description:U.message,Va:U.Va}}X=U.Xb.spa(void 0);const Z=this.XPh(X);return{csi:()=>this.Bne(U.Xb,W),AHf:()=>this.yDh(U.Xb,W),gr:this.cE.NGj(()=>Z),type:"responsive",Xb:Z,
description:U.message,Va:U.Va}};this.$If=()=>{var U;const W=this.store.tUe;W!=null&&((U=W.cqk)===null||U===void 0||U.cancel(),this.store.tUe=void 0,this.N.track(VRs,{action:"cancel",kta:W.kta,Lsa:W.Lsa,cY:this.store.session.id,TX:W.TX,tD:W.tD,s1b:Date.now()-W.CXe,zAb:void 0,lJc:void 0,osa:void 0,Xc:void 0,$l:void 0,XL:void 0,Ld:void 0,SPa:W.SPa,RPa:W.RPa}),this.store.CK=this.store.history.length===0?void 0:this.store.Lfn)};this.Qdo=fV(U=>{this.store.JVe=U});this.uDa=fV(()=>{this.store.Bqd=void 0});
this.LKl=()=>{this.alf.Pd("magic_insights","paywall")};this.xKl=Db(()=>{const U=this.store.current;U&&this.N.track(XRs,{kta:U.kta,Lsa:U.Lsa,cY:this.store.session.id,TX:U.TX,tD:U.tD,s1b:Date.now()-U.CXe,zAb:void 0,QVi:U.CDc!=null,ori:U.uIb.length,kri:U.vnd.length,GPs:U.VLj,yHr:U.G8j.filter(Boolean).length,aHr:U.tAj.filter(Boolean).length})},500,{leading:!1});this.nOr=()=>{const U=this.store.current;U&&!U.VLj&&(U.VLj=!0,this.xKl())};this.OQk=U=>{const W=this.store.current;W&&!W.G8j[U]&&(W.G8j[U]=!0,
this.xKl())};this.LLr=U=>{const W=this.store.current;W&&!W.tAj[U]&&(W.tAj[U]=!0,this.xKl())};this.fsc=(U,W,X,Z)=>{this.Qdo(W);this.N.track(VRs,{action:"click_card_prompt_suggestion",SPa:X,RPa:Z,kta:U.session.attempt,zAb:void 0,Lsa:!0,cY:this.store.session.id,tD:void 0,s1b:void 0,lJc:void 0,osa:void 0,Xc:void 0,$l:void 0,XL:void 0,Ld:void 0,TX:void 0});Czs.doq&&this.TJm()}}},cSs=a=>{switch(a){case 0:return 3E3;case 1:return 2E3;default:return 1E3}};var dSs=class{constructor(a,b,c,d,e,f){this.selection=a;this.dec=b;this.Ma=c;this.viewport=d;this.ed=e;this.KRc=f;this.WHc=()=>{var g,h=this.selection.La,k=(g=this.dec)===null||g===void 0?void 0:g.HBa;if(k){if(h)switch(h.type){case "elements":var l;if(((l=h.inner)===null||l===void 0?void 0:l.type)!=="sheet")return;var m=k.cells;return m?{type:"element",sheet:k.sheet,Cba:m.map(q=>q),element:h.inner.container,page:h.Qz,vD:new nA(h.inner.container,this.viewport)}:void 0;case "pages":var p;return h.inner&&
((p=h.inner)===null||p===void 0?void 0:p.type)==="sheet"?(m=k.cells)&&h.pages.length===1?{type:"sheet",sheet:k.sheet,Cba:m.map(q=>q),page:h.inner.container,vD:new oA(h.inner.container,this.viewport,this.Ma)}:void 0:void 0}if(h=this.selection.Ib)switch(h.type){case 4:if(k=(m=this.dec)===null||m===void 0?void 0:m.HBa,(g=k===null||k===void 0?void 0:k.cells)&&k!==null&&k!==void 0&&k.sheet)return m=h.container.container.Dw(h.container.sheet),{type:"item",sheet:k.sheet,Cba:g,item:m,page:h.Qz,vD:new qA(m,
this.ed,this.viewport)}}}};this.findSheet=()=>{var g=(g=this.viewport.ya)&&pf(g)?{sheet:g.sheet,sheetId:g.id}:void 0;if(!(g=g||cAs(this)))a:{if(g=this.selection.Ib)switch(g.type){case 4:g={sheet:g.container.sheet.config,sheetId:g.container.sheet.id};break a;case 1:var h;if(((h=g.only)===null||h===void 0?void 0:h.type)==="sheet"){g={sheet:g.only.config,sheetId:g.only.id};break a}}g=void 0}if(h=g)return g="",h.sheetId&&(g=(g=this.KRc.xdd().get(h.sheetId))?__c.Zms(g):""),{sheet:h.sheet,sheetName:g}}}},
eSs=class{constructor(a,b,c,d,e){this.selection=a;this.dec=b;this.ed=c;this.viewport=d;this.KRc=e;this.WHc=()=>{const f=this.selection.Ib;if(f)switch(f.type){case 4:var g;const h=(g=this.dec)===null||g===void 0?void 0:g.HBa,k=h===null||h===void 0?void 0:h.cells;if(k&&h!==null&&h!==void 0&&h.sheet)return g=f.container.container.Dw(f.container.sheet),{type:"item",sheet:h.sheet,Cba:k,item:g,page:f.Qz,vD:new qA(g,this.ed,this.viewport)}}};this.findSheet=()=>{var f=this.selection.Ib;if(f)switch(f.type){case 4:var g=
f.container.sheet.config;f=f.container.sheet.id;f=this.KRc.xdd().get(f);return{sheet:g,sheetName:f?__c.Zms(f):void 0};case 1:if(((g=f.only)===null||g===void 0?void 0:g.type)==="sheet")return g=f.only.config,f=f.only.id,f=this.KRc.xdd().get(f),{sheet:g,sheetName:f?__c.Zms(f):void 0}}}}};var gSs=DV(({CDc:a,Qha:b,MIa:c})=>{const {Xab:d}=dAs({onChange:e=>e&&c()});return a?cV(fSs,{ref:d,content:cV(Q,{children:a}),PNr:()=>b(a)}):null}),fSs=UMs(function({content:a,PNr:b},c){return cV(No,{Qi:c,onClick:b,ariaLabel:L("ou/phw"),thumbnail:cV(__c.bv,{children:cV(R,{padding:"2u",borderRadius:"element",children:a})}),Zr:cV(__c.uC,{location:"top-end",children:cV(__c.W6d,{onClick:b,icon:ID,ariaLabel:L("EnJA7g")})}),layout:"vertical",Glb:"thumbnail"})});var hSs=({QNr:a,ZQe:b})=>kV(Vo,{role:"menu",children:[cV(Wt,{onClick:a,children:kV(ir,{spacing:"1u",Fa:"center",children:[cV(ID,{}),cV(Q,{children:L("mMYI6A")})]})}),cV(Wt,{onClick:b,children:kV(ir,{spacing:"1u",Fa:"center",children:[cV(ID,{}),cV(Q,{children:L("P6Z+vg")})]})})]});var iSs=({UKq:a,Lr:b,index:c,Qha:d,MIa:e,Gkl:f,ebj:g,ei:h})=>{const k=gV(()=>{d(a.formula,"formula",c);f(c,!1)},[a.formula,c,d,f]),l=gV(()=>{d(a.QOm,"formulaText",c);f(c,!1)},[a.QOm,c,d,f]),{Xab:m}=dAs({onChange:r=>r&&e()}),[p,q]=nV(!1);return cV("div",{onMouseEnter:()=>{q(!0)},onMouseLeave:()=>{q(!1)},ref:m,children:cV(R,{border:"standard",display:"flex",justifyContent:"spaceBetween",alignItems:"start",borderRadius:"element",className:h?null:"YzN_aA",children:cV(No,{Zr:cV(__c.uC,{location:"top-end",
children:cV(__c.X6d,{$R:r=>{r&&r.stopPropagation();f(c,!b)},zCa:__c.Lo,zZd:cV(hSs,{QNr:k,ZQe:l}),isOpen:b})}),content:cV(R,{border:"none",Jb:"2u",Mc:"2u",children:kV(Wc,{spacing:p||h?"1u":"0",children:[kV(Q,{children:[a.F8j.prefix,cV("span",{className:"ZzIDKA",children:a.F8j.Y0q}),a.F8j.suffix]}),cV(__c.Vc,{light:"light",Hm:"light",dark:"light",XJ:"light",children:r=>cV(R,{className:AV(r.className,{T7k36g:!h}),background:"page",borderRadius:"baseUnit",children:cV(R,{background:"neutralLow",children:cV(No,
{content:cV(Wn,{direction:"horizontal",children:cV(R,{padding:"0.5u",children:cV("div",{className:"HDHnAg",onClick:k,children:cV(g,{formula:a.formula})})})})})})})})]})}),padding:"0",layout:"horizontal",$m:"card"})})})};var jSs=({uIb:a,Qha:b,OQk:c,ebj:d,ei:e})=>{const [f,g]=nV(null),h=gV((k,l)=>{g(l?k:null)},[]);return a&&a.length!==0?cV(Wc,{spacing:"2u",children:a.map((k,l)=>cV(iSs,{UKq:k,Lr:f===l,index:l,Qha:b,Gkl:h,ebj:d,ei:e,MIa:()=>c(l)},l))}):null};var kSs=({ZQe:a,AHf:b})=>cV(R,{Mc:"1u",children:kV(Vo,{role:"menu",children:[b&&cV(Wt,{onClick:b,children:kV(ir,{spacing:"1u",Fa:"center",children:[cV(__c.aBf,{}),cV(Q,{children:L("jBio7A")})]})}),!Czs.gCm&&cV(Wt,{onClick:a,children:kV(ir,{spacing:"1u",Fa:"center",children:[cV(ID,{}),cV(Q,{children:L("oJqySA")})]})})]})});var mSs=({KLj:a,index:b,csi:c,AHf:d,ZQe:e,MIa:f,TVo:g})=>{const [h,k]=nV(!1),{Xab:l}=dAs({onChange:t=>t&&f()}),m=gV(()=>{a&&(e(a,b),k(!1))},[a,b,e]),p=d&&(()=>{d();k(!1)}),q=()=>{k(t=>!t)},r=DV(t=>cV(__c.Lo,{...t,width:"40u"}));return cV("div",{className:"is0Txw",children:cV(No,{Qi:l,onClick:c,ariaLabel:L("ou/phw"),thumbnail:cV(__c.bv,{children:kV(R,{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",flex:"auto",width:"full",children:[a&&cV(lSs,{KLj:a}),g]})}),Zr:a&&cV(__c.uC,{location:"top-end",
children:cV(__c.X6d,{zCa:r,zZd:cV(kSs,{ZQe:m,AHf:p}),isOpen:h,$R:q})}),layout:"vertical",Glb:"thumbnail"})})},lSs=({KLj:a})=>cV("div",{children:cV(R,{padding:"2u",display:"flex",alignItems:"center",height:"full",children:cV(Q,{weight:"regular",size:"medium",children:a})})});var nSs={min:1,max:1.64,default:1.64},oSs=({ZLp:a,zPp:b,ZQe:c,MIa:d})=>{if(!b||b.length===0)return null;const e=(f,g)=>{c(f,"chartTitle",g)};return cV("div",{className:"gLfxmA",children:cV(Wc,{spacing:"2u",align:"center",children:b.map((f,g)=>cV(mSs,{KLj:f.description,index:g,csi:f.csi,AHf:a?f.AHf:void 0,TVo:cV(f.gr,{aspectRatio:nSs}),ZQe:e,MIa:()=>d(g)},g))})})};var pSs=__webpack_require__.p+"images/5d67cfff929a5b190f01798fcfd1dfde.svg";var gAs=({onClose:a,onClick:b})=>cV(R,{paddingBottom:"2u",children:cV(No,{layout:"horizontal",title:L("qnlK8Q"),description:L("7wkHMw"),thumbnail:cV(ev,{borderRadius:"element",src:pSs,objectFit:"contain",height:"8u"}),Zr:cV(__c.uC,{location:"top-end",visibility:"always",children:cV(__c.W6d,{onClick:a,icon:__c.vr,ariaLabel:L("ymQmsA"),variant:"subtleLinkButton",size:"small"})}),padding:"1u",background:"neutralLow",Glb:"card",onClick:b})});var fAs=class{static G(a){P(a,{Kc:fV.bound})}constructor(a,b,c,d,e,f){this.store=a;this.X=b;this.Qa=c;this.Tb=d;this.Aa=e;this.f0d=f;this.aEq=(fAs.G(this),async()=>{if(Czs.wsq)oV(()=>{this.store.mee=!0});else{var g=await this.Qa.Lca({brand:this.X.zb.brand.id,user:this.X.user.id,components:[],types:[715],ojb:[]});oV(()=>{this.store.mee=!__c.jy(715,g.actions)})}});this.Kc=()=>{this.store.mee=!1;this.Qa.Mj(new __c.jt({user:this.X.user.id,types:[715]}))};this.kTr=()=>{this.Kc();this.Aa.track(VRs,{action:"click_learn_and_play",
cY:this.f0d()});__c.qi(this.Tb,{id:Czs.wgn,title:L("qnlK8Q"),extensions:{view:void 0,default:Czs.nzk,Gva:void 0,yqb:Czs.nzk},to:void 0,$a:void 0,revision:void 0,Ec:void 0,pj:[],Hf:void 0})}}};var eAs=class{static G(a){P(a,{mee:wV.ref})}constructor(){this.mee=(eAs.G(this),!1)}};var qSs=class{static G(a){P(a,{Cum:fV})}Cum(a){var b,c;pa(this.session.document.Ja==="fixed");var d=a.fill,e=a.zq;a=iAs(this,e);if(a!=null){var f=a.page,{xa:g,flipY:h,flipX:k,image:l,video:m}=Zr.snapshot(d),p=d.image.ref;p=(m===null||m===void 0?void 0:m.tb)||(l===null||l===void 0?void 0:l.tb)||p&&((b=this.Pa.Vo(p.media))===null||b===void 0?void 0:b.dimensions);var {width:q,height:r}=n(p);xg(f.dimensions||this.session.document.dimensions)?(b=this.viewport.XB().transform(this.viewport.Qm(a)).center(),
b=Rj({center:b,width:1080,height:1080})):(b=n(__c.Lbe(f,this.session.document)),b=__c.Kbe(b));p=b.center();b=__c.fne(f,Rj({center:p,width:q,height:r}).C_b(p,b));p=en(b,{width:q,height:r}).Lb();var t,u,w=(u=(t=m===null||m===void 0?void 0:m.tb.rotation)!==null&&t!==void 0?t:l===null||l===void 0?void 0:(c=l.tb)===null||c===void 0?void 0:c.rotation)!==null&&u!==void 0?u:0;c=f.elements.append({...zs,...b.Lb(),xa:g,rotation:k!==h?-w:w,fill:{...ms,dropTarget:!0,flipX:k,flipY:h,image:l&&{...l,xa:0,tb:p},
video:m&&{...m,xa:0,tb:p}}});if(e.type==="sheet-cell-media"){var x;d=e.ja;e=e.container;e=e.sheet.layout.cells.get(e.row,e.column);e=e===null||e===void 0?void 0:e.ref.content;(e===null||e===void 0?void 0:(x=e.ref)===null||x===void 0?void 0:x.type)==="media"&&e.ref.value.delete(d)}else d.image.set(void 0),d.video.set(void 0);this.selection.Ol(a,c)}}constructor(a,b,c,d,e,f){this.Ei=a;this.uc=b;this.session=c;this.Pa=d;this.viewport=e;this.selection=f;qSs.G(this)}};var sSs=DV(a=>{const {Button:b,active:c,Uf:d,kSc:e,Ns:f,...g}=a,{Icon:h,hb:k,label:l,variant:m="tertiary"}=jAs(e,d,f);return b?cV("div",{className:"Bk3Nug",children:cV(b,{...g,active:c,icon:h,Ah:h?"icon":"label",hb:k,variant:m,children:l})}):cV("div",{className:"Bk3Nug",children:cV(rSs,{Icon:h,hb:k,label:l})})}),tSs=DV(a=>{const b=a.Icon;var c=a.hb;a=a.label;const {mode:d}=(0,__c.cb)(__c.jga).data;c=a!==null&&a!==void 0?a:c;return cV("div",{children:kV("div",{className:AV("_0Y_1Xw aWBg0w",{_MaqSA:d===
"classic"}),"aria-label":c,children:[b&&cV(b,{size:"medium"}),a&&cV("span",{className:"mfT2KA",children:a})]})})}),rSs=DV(a=>{const b=a.hb;return b?cV(lr,{label:b,placement:"bottom",children:cV(tSs,{...a})}):cV(tSs,{...a})}),uSs=DV(()=>cV("div",{className:"iMjRPg aWBg0w",children:cV("span",{className:"oO9YHA",children:L("WfLTdw")})}));var vSs=()=>({ome:__c.lc()});var wSs=eV(({ome:a,Kyk:b,oa:c,Oe:d})=>kV("div",{className:AV({QAlW9Q:d==="fixed"}),children:[cV(__c.kd,{title:L("foA7WA"),description:b?J("FUGhcw",[__c.nZi(new Date(b),new Date(oAs()))]):void 0,end:d==="fill"?cV(__c.jd,{onClick:c}):void 0}),cV(R,{padding:"2u",children:cV(a,{})})]}));var xSs=class{static G(a){P(a,{zzm:mV})}get kSc(){return this.Kaq.get()}get zzm(){if(this.Gca.JP===5)return this.Gca.JP;if(!(this.Ma.mode<=20&&this.TZh)){if(this.Ma.mode===20)return"comment";if(this.Uf===2||this.Ma.mode===10)return"view";if(!this.f1c)return this.Uze?"playground":this.Gca.JP}}constructor(a,b,c,d,e,f){this.Gca=a;this.Uf=b;this.Ma=c;this.Uze=d;this.f1c=e;this.TZh=f;this.Kaq=(xSs.G(this),nAs(()=>this.zzm))}};var ySs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5H10v1.5a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path d="M5.207 19.25h12.5a.75.75 0 0 1 0 1.5h-12.5a.75.75 0 0 1 0-1.5z" fill="currentColor"/></svg>';var zSs=br({medium:ySs});var ASs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0v-1.5H4.5v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path d="M18.25 19.25H5.75a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z" fill="currentColor"/></svg>';var BSs=br({medium:ASs});var CSs=class{},DSs=class extends CSs{static G(a){P(a,{T7d:fV.bound})}T7d(){const a=this.store.dEc;if(a)switch(a.type){case "page":var b=rAs(a.page.sheet);this.l1i(a.page.sheet,b);break;case "element":switch(a.element.type){case "table":b=qAs(a.element);this.kKl(a.element,b);break;case "sheet":b=rAs(a.element.config);this.l1i(a.element.config,b);break;case "layout":b=sAs(a.element);this.zJl(a.element,b);break;default:throw new v(a.element);}break;default:throw new v(a);}}kKl(a,b){const c=b===2?"rtl":
void 0;a.cells.forEach(d=>{d=d.content;d.text.Ya.trim().length||d.text.aOa("direction",c)})}l1i(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>{const f=a.layout.cells.get(d,e);f==null||f.span.Yb!==d||f.span.$b!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text2"||f.ref.content.ref.value.Ya.trim().length||f.ref.content.ref.value.aOa("direction",c)})})}zJl(a,b){a.direction=b!==null&&b!==void 0?b:1}constructor(a){super();this.store=a;DSs.G(this)}},ESs=
class extends CSs{static G(a){P(a,{T7d:fV.bound})}T7d(){const a=this.store.dEc;if(a)switch(a.item.type){case "table":var b=qAs(a.item);this.kKl(a.item,b);break;case "sheet":b=rAs(a.item.config);this.l1i(a.item.config,b);break;case "layout":b=sAs(a.item);this.zJl(a.item,b);break;default:throw new v(a.item);}}kKl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d=d.content;d.text.isEmpty&&__c.ghf(this.Xa,[d.text],{direction:c})})}l1i(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>
{const f=a.layout.cells.get(d,e);f==null||f.span.Yb!==d||f.span.$b!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text3"||f.ref.content.ref.value.isEmpty||__c.ghf(this.Xa,[f.ref.content.ref.value],{direction:c})})})}zJl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d.text.isEmpty&&__c.ghf(this.Xa,[d.text],{direction:c})})}constructor(a,b){super();this.store=a;this.Xa=b;ESs.G(this)}},FSs=class extends CSs{static G(a){P(a,{T7d:fV.bound})}T7d(){this.selection.La?this.fixed.T7d():this.selection.Ib&&
this.lk.T7d()}constructor(a,b,c){super();this.selection=a;this.fixed=b;this.lk=c;FSs.G(this)}};var GSs=class{static G(a){P(a,{Hab:mV})}get Hab(){return!!this.direction}constructor(a){this.OZa=a;GSs.G(this)}},HSs=class extends GSs{static G(a){P(a,{dEc:mV,direction:mV})}get dEc(){const a=this.selection.La;if(a&&a.Ki())switch(a.type){case "pages":if(a.inner){var b=a.inner.type;switch(b){case "sheet":case "sheet-cell-media":return this.eqf?{type:"page",page:a.inner.page}:void 0;case "background":case "pages":return;default:throw new v(b);}}break;case "elements":if(a.Ud)switch(b=a.Ud.type,b){case "table":case "layout":return{type:"element",
element:a.Ud};case "sheet":return this.eqf?{type:"element",element:a.Ud}:void 0;case "group":case "controlled":case "chart":case "grid":case "line":case "rect":case "shape":case "text":case "embed":return;default:throw new v(b);}if(a.inner)switch(b=a.inner.type,b){case "table":return{type:"element",element:a.inner.table};case "sheet":case "sheet-cell-media":return this.eqf?{type:"element",element:a.inner.sheet}:void 0;case "layout":case "layout-cell":return{type:"element",element:a.inner.container.layout};
case "group":case "grid":case "shape":return;default:throw new v(b);}break;case "audio":break;default:throw new v(a);}}get direction(){const a=this.dEc;if(a)switch(a.type){case "element":switch(a.element.type){case "table":return uAs(this,a.element.layout);case "sheet":return wAs(this,a.element.config);case "layout":return yAs(this,a.element);default:throw new v(a.element);}case "page":return wAs(this,a.page.sheet);default:throw new v(a);}}constructor(a,b,c){super(c);this.selection=a;this.eqf=b;HSs.G(this)}},
ISs=class extends GSs{static G(a){P(a,{dEc:mV,direction:mV})}get dEc(){const a=this.selection.Ib;if(!(this.Ma.mode<40)&&a)switch(a.type){case 0:switch(a.container.type){case "table-item-cell":return{type:"item",item:a.container.table};case "sheet-item-cell-richtext":return{type:"item",item:a.container.container.Ona};case "layout-item-cell":return{type:"item",item:a.container.layout};case "body":case "responsive-page":return;default:throw new v(a.container);}case 1:var b;const c=(b=a.only)===null||
b===void 0?void 0:b.type;if(!c)break;switch(c){case "table":case "layout":return{type:"item",item:a.only};case "sheet":return this.eqf?{type:"item",item:a.only}:void 0;case "controlled":case "chart":case "pill":case "break":case "separator":case "design":case "embed":case "rect":case "shape":return;default:throw new v(c);}case 2:return{type:"item",item:a.container.table};case 4:case 5:return this.eqf?{type:"item",item:a.type===4?a.container.sheet:a.container.Ona}:void 0;case 3:return{type:"item",
item:a.container.layout};default:throw new v(a);}}get direction(){const a=this.dEc;if(a)switch(a.item.type){case "table":return uAs(this,a.item.layout);case "sheet":return wAs(this,a.item.config);case "layout":return yAs(this,a.item);default:throw new v(a.item);}}constructor(a,b,c,d){super(d);this.Ma=a;this.selection=b;this.eqf=c;ISs.G(this)}},JSs=class extends GSs{static G(a){P(a,{dEc:mV,direction:mV})}get dEc(){if(this.selection.La)return this.fixed.dEc;if(this.selection.Ib)return this.lk.dEc}get direction(){if(this.selection.La)return this.fixed.direction;
if(this.selection.Ib)return this.lk.direction}constructor(a,b,c,d){super(d);this.selection=a;this.fixed=b;this.lk=c;JSs.G(this)}},tAs={[1]:"ltr",[2]:"rtl"},vAs={ltr:"ltr",rtl:"rtl"},xAs={[1]:"ltr",[2]:"rtl"};var KSs={table:L("dFZ7Mg"),sheet:L("QtNYag"),layout:L("TJwZxw")};var LSs,MSs,NSs,OSs;
new (LSs=class extends IV{constructor(){super(OSs);MSs()}},(()=>{class a extends(NSs=GV){static G(b){P(b,{pwo:mV})}render(){const b=this.props.page.page,c=this.props.Sc,d=this.props.eb,e=this.props.L;if(b!==e.ya||!e.lines.length)return null;const f=this.pwo,g=n(e.Vtl).transform(f),h=n(e.D3).transform(f),k=d.Zk(b).units;return kV("div",{className:"_70bAIQ",children:[cV("div",{className:"HOF9xQ",style:g.Lb()}),cV("div",{className:"HOF9xQ",style:h.Lb()}),e.lines.map((l,m)=>{let p;switch(k){case 4:p=
Math.round(l.length);break;case 2:p=parseFloat((l.length/Mv(k)).toFixed(3));break;default:p=parseFloat((l.length/Mv(k)).toFixed(1))}if(p===0)return null;var q=f.transformPoint(l.start);const r=l.length*c.scale,t=l.type==="primary"?"SaAMnQ":"FVN8Cg";q={top:q.y,left:q.x};let u;switch(l.dir){case "horizontal":u="gUGHVQ";q.width=r;break;case "vertical":u="_8cXdSA";q.height=r;break;default:throw new v(l.dir);}return cV("div",{className:AV("AwVwHw",t,u),style:q,children:l.type==="primary"&&cV("div",{className:"xPdc6w nbfwjw",
children:J("G2Se2A",[p])})},m)})]})}get pwo(){return Gj(this.props.Sc.scale)}constructor(...b){super(...b);a.G(this)}}({c:[OSs,MSs]}=JV(a,[],[Lb],NSs))})(),LSs);var PSs=class{static G(a){P(a,{lines:mV.struct,Vtl:mV.struct,D3:mV.struct,nMi:mV})}get ya(){const a=this.nMi;return a&&a.page}get lines(){if(!this.DGs.get())return[];var a=this.Vtl,b=this.D3;if(!a||!b||a.equals(b))return[];var c=Tj(a,b);if(c){var d=Uj(0,[a,b]);b=c.t;a=c.r;var e=c.b;c=c.Rb;var f=d.tl;d=d.br;const m=[],p=(q,r,t)=>{Math.round(t)!==0&&m.push(zAs(q,r,t,"primary"))};p("vertical",b,f.y-b.y);p("vertical",e,d.y-e.y);p("horizontal",c,f.x-c.x);p("horizontal",a,d.x-a.x);return m}e=[];c=a.t;f=
a.r;d=a.b;a=a.Rb;const [g,h,k,l]=b.ih();l.y<c.y?(e.push(zAs("vertical",c,l.y-c.y,"primary")),k.x>c.x?e.push(zAs("horizontal",k,c.x-k.x,"secondary")):l.x<c.x&&e.push(zAs("horizontal",l,c.x-l.x,"secondary"))):g.y>d.y&&(e.push(zAs("vertical",d,g.y-d.y,"primary")),g.x>d.x?e.push(zAs("horizontal",g,d.x-g.x,"secondary")):h.x<d.x&&e.push(zAs("horizontal",h,d.x-h.x,"secondary")));l.x<a.x?(e.push(zAs("horizontal",a,l.x-a.x,"primary")),h.y>a.y?e.push(zAs("vertical",h,a.y-h.y,"secondary")):l.y<a.y&&e.push(zAs("vertical",
l,a.y-l.y,"secondary"))):g.x>f.x&&(e.push(zAs("horizontal",f,g.x-f.x,"primary")),g.y>f.y?e.push(zAs("vertical",g,f.y-g.y,"secondary")):k.y<f.y&&e.push(zAs("vertical",k,f.y-k.y,"secondary")));return e}get Vtl(){var a=this.rG.iub;if(a)return Uj(0,a.from.map(Qj));if((a=this.nMi)&&a.selection.box){var b=Pj(a.selection.box);return a.exa?Tj(b,a.exa):b}}get D3(){var a=this.rG.iub;if(a)return Uj(0,a.to.map(Qj));var b=this.nMi;if(b){a=b.exa;var c=this.BR.V8a;if(c&&c.type!=="item"&&c.type!=="sheet-item-cell"){if(!c.page)return a;
if(c.page===b.page){if(!c.element)return a;b=Pj(Qj(c.element));return a?Tj(b,a):b}}}}get nMi(){const a=this.selection.La;if(a&&a.type==="elements"){var b=a.container;if(b){b=b.page;var c=this.eb.Zk(b);if(!xg(c)){const {width:e,height:f}=ug(4,c);var d=Nj(0,0,e,f)}return{selection:a,page:b,exa:d}}}}constructor(a,b,c,d,e){this.eb=a;this.selection=b;this.rG=c;this.DGs=d;this.BR=e;PSs.G(this)}};var QSs=DV(a=>{const b=a.vj;return kV("div",{children:[cV(a.Ci,{className:"OF7TTQ",pressed:a.open,Ah:"label",icon:__c.k9g,onClick:a.onClick,children:L("09kiuA")}),b&&cV(b,{})]})}),RSs=DV(({Oe:a,zTg:b,dQr:c,eQr:d})=>{a=AV("MK0pAg",{DyWS_g:a==="fixed",JPaDJw:b==="horizontal"});return kV(Vo,{role:"list",direction:b!==null&&b!==void 0?b:"vertical",variant:b==="horizontal"?"rounded":"regular",className:a,children:[cV(Wt,{className:AV("kpJ30w",{tS8VHQ:b==="horizontal"}),onClick:c,start:cV(__c.i9g,{size:"medium"}),
children:L("+k16yw")}),cV(Wt,{className:AV("phOkGA",{tS8VHQ:b==="horizontal"}),onClick:d,start:cV(__c.k9g,{size:"medium"}),children:L("d1wsgA")})]})});var SSs=class{static G(a){P(a,{f3c:mV})}get f3c(){const a=this.eSm();return(a===null||a===void 0?0:a.every(b=>!!Dns(this.std,b)))?a:void 0}xZd(a){a.map(b=>Dns(this.std,b)).filter(vb).forEach(b=>{b=b.h1q;b.set(!b.get())});this.Oub.LPh();this.gCk("horizontal",a)}yZd(a){a.map(b=>Dns(this.std,b)).filter(vb).forEach(b=>{b=b.J6s;b.set(!b.get())});this.Oub.LPh();this.gCk("vertical",a)}constructor(a,b,c){this.Oub=a;this.std=b;this.Pa=c;SSs.G(this)}},TSs=class extends SSs{eSm(){const a=this.selection.La;if(a&&
a.Ki(Vl.Hs))switch(a.type){case "audio":break;case "pages":var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "background":return a.inner.container.type!=="fixed-page"?void 0:[a.inner.container.TK(a.inner.Oc[0])];case "sheet-cell-media":const f=a.inner.container;return a.inner.media.map(h=>f.xsa(h).TK(h.fill));case "sheet":var c=a.inner.page;b=a.inner.cells;const g=[];for(const h of b){var d;b=c.sheet.layout.cells.get(h.row,h.column);if((b===null||b===void 0?void 0:(d=b.ref.content.ref)===
null||d===void 0?void 0:d.type)!=="media")return;b.ref.content.ref.value.forEach(k=>{var l;na(((l=a.inner)===null||l===void 0?void 0:l.type)==="sheet");k=a.inner.container.RX(h.column,h.row).xsa(k).TK(k.fill);g.push(k)})}return g.length?g:void 0;default:return}case "elements":var e;if(a.elements.length===0)break;switch((e=a.inner)===null||e===void 0?void 0:e.type){case void 0:d=a.elements;break;case "group":d=a.inner.Ud?[a.inner.Ud]:a.inner.mb;break;case "table":return;case "grid":d=a.inner.Ud;if(!d)return;
c=d.fill;return[a.inner.container.a8b(d).TK(c)];case "shape":d=a.inner.Ud;if(!d)return;c=d.fill;return[a.inner.container.b8b(d).TK(c)];case "sheet-cell-media":const f=a.inner.container;return a.inner.media.map(h=>f.xsa(h).TK(h.fill));case "sheet":d=a.inner.sheet;b=a.inner.cells;const g=[];for(const h of b){b=d.config.layout.cells.get(h.row,h.column);if((b===null||b===void 0?void 0:(c=b.ref.content.ref)===null||c===void 0?void 0:c.type)!=="media")return;b.ref.content.ref.value.forEach(k=>{var l;na(((l=
a.inner)===null||l===void 0?void 0:l.type)==="sheet");k=a.inner.container.RX(h.column,h.row).xsa(k).TK(k.fill);g.push(k)})}return g.length?g:void 0;case "layout":case "layout-cell":return __c.qo("FillPresenter");default:throw new v(a.inner);}d=d.flatMap(f=>{var {container:g}=n(a);f=g.Tf(f);switch(f.type){case "rect-element":return f.TK(f.ja.fill);case "shape-element":if(g=f.ja.paths.filter(h=>!!h.fill.dropTarget),g.length===1)return g=n(g[0]),f.b8b(g).TK(g.fill)}});return d.every(vb)?d:void 0;default:throw new v(a);
}}gCk(a,b){var {Qz:c}=n(this.selection.La);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(na(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+d,0)),b=b.map(({ja:d})=>AAs(d)),this.N.track(BMs,{direction:a,mediaId:"",CJ:b.map(d=>d.mediaId),sE:"",mFf:b.map(d=>d.sE),ND:c,Op:0,Mr:0,Ly:0}))}Dqc(a,b){var {Qz:c}=n(this.selection.La);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(na(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+
d,0)),b=b.map(({ja:d})=>AAs(d)),this.N.track(__c.akf,{menu:a,mediaId:"",CJ:b.map(d=>d.mediaId),sE:"",mFf:b.map(d=>d.sE),ND:c,Op:0,Mr:0,Ly:0}))}constructor(a,b,c,d,e){super(a,b,c);this.N=d;this.selection=e}},USs=class extends SSs{eSm(){if(!(this.Ma.mode<40)){var a=this.selection.Ib;if(a)switch(a.type){case 1:if(!a.only)break;switch(a.only.type){case "rect":var b=a.only;if(a.container.type==="responsive-page"||a.container.type==="body")return[a.container.Dw(b).TK(b.fill)];return;case "shape":return __c.bge("ResponsiveFillPresenter::getFlippableFills");
case "break":var c;switch((c=a.only.marker.Ig.ref)===null||c===void 0?void 0:c.type){case "rect":if(b=a.only,c=a.only.marker.Ig.ref,a.container.type==="responsive-page"||a.container.type==="body")return[__c.Tra(a.container.Dw(b),b.marker).Dw(c).TK(c.fill)]}break;case "controlled":case "separator":case "embed":case "pill":case "chart":case "design":case "layout":case "table":case "sheet":break;default:throw new v(a.only);}break;case 5:return b=a.media.map(f=>a.container.xsa(f).TK(f.fill)).filter(vb),
b.length?b:void 0;case 4:c=a.container;var d=a.cells;const e=[];for(b of d){const f=c.RX(b.column,b.row);d=f.content;if((d===null||d===void 0?void 0:d.type)!=="media")return;d.value.forEach(g=>{const h=f.xsa(g);e.push(h.TK(g.fill))})}return e.length?e:void 0;case 0:case 2:case 3:break;default:throw new v(a);}}}gCk(a,b){this.N&&(b=b.map(({ja:c})=>AAs(c)),this.N.track(BMs,{direction:a,mediaId:"",CJ:b.map(c=>c.mediaId),sE:"",mFf:b.map(c=>c.sE),Ly:0,Op:0,Mr:0,ND:0}))}Dqc(a,b){this.N&&(b=b.map(({ja:c})=>
AAs(c)),this.N.track(__c.akf,{menu:a,mediaId:"",CJ:b.map(c=>c.mediaId),sE:"",mFf:b.map(c=>c.sE),Ly:0,Op:0,Mr:0,ND:0}))}constructor(a,b,c,d,e,f){super(a,b,c);this.N=d;this.Ma=e;this.selection=f}},VSs=class{zu(){return this.selection.La!==void 0?this.fixed:this.lk}xZd(a){this.zu().xZd(a)}yZd(a){this.zu().yZd(a)}get f3c(){return this.zu().f3c}Dqc(a,b){return this.zu().Dqc(a,b)}constructor(a,b,c){this.selection=a;this.fixed=b;this.lk=c}};var WSs=parseInt("32px",10)||32,XSs=WSs+(parseInt("8px",10)||8)*2-30,YSs=({$Ro:a})=>kV(rV,{children:[cV("div",{className:"qfxQmA",children:cV(a,{direction:"top"})}),cV("div",{className:"UAATYw",children:cV(a,{direction:"bottom"})}),cV("div",{className:"PZ5MoA",children:cV(a,{direction:"left"})}),cV("div",{className:"hmZ7Ig",children:cV(a,{direction:"right"})})]});var ZSs,$Ss,bTs=class extends GV{componentDidMount(){Gb(this,this.props.zH.track(()=>[this.props.Yud.ja,0]))}render(){return cV("div",{style:{opacity:.25},children:this.props.Yud.ja.elements.map((a,b)=>cV(this.Jfp,{element:a},b))})}constructor(...a){super(...a);this.ilb=mV(()=>this.props.Sc.scale);this.Jfp=({element:b})=>{if(b.xa===1)return null;const c=this.props.eB,d=this.props.Sc,e=this.props.te,f=this.props.Yud;switch(b.type){case "shape":return cV(__c.hn,{config:c,page:f,Sc:d,element:f.Tf(b),
nd:this.ilb});case "line":return cV(aTs,{te:e,Sc:d,element:f.Tf(b)});default:return null}}}};({c:[$Ss,ZSs]}=JV(bTs,[],[Lb],GV));ZSs();
var aTs=eV(a=>{const b=a.te,c=a.Sc;a=a.element;const d=a.ja,{Hlc:e}=new __c.Ln(b,d);return cV("div",{className:"mnBDoQ",style:{width:e.width,height:e.height,transform:`scale(${c.scale}) translate(${d.geometry.ref?d.left:e.left}px, ${d.geometry.ref?d.top:e.top}px)`},children:cV("div",{style:{width:"100%",height:"100%",transform:`rotate(${e.rotation}deg)`},children:cV(__c.xYd,{element:a,te:b})})})});var cTs={eventType:"editor_connect_clicked",Oa(a){return rf({resource_hash:a.Ebe,side:a.side,control_context:a.kb,num_positions_checked:a.NKb,did_find_position:a.Ykc,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}},dTs={eventType:"editor_connect_previewed",Oa(a){return rf({resource_hash:a.Ebe,side:a.side,num_positions_checked:a.NKb,did_find_position:a.Ykc,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}},eTs=
{eventType:"editor_connect_toggled",Oa(a){return rf({action:a.action,editing_context:a.Ba==null?void 0:sf(a.Ba),control_context:a.kb,performance_context:a.Qb==null?void 0:tf(a.Qb)})}};var KAs={start:{...__c.zYc},end:{...__c.zYc,marker:2},weight:4,color:"#acb8c0"};var fTs=class extends __c.iwf{mlm(a){var b,c;const d=a.target,e=a.dragEnd,f=a.Dda;a=a.anchorPoint;const g=n(this.store.Yud),h=n(this.store.gGe),k=n(this.store.Kvf),l=h.xa;this.GVn=()=>{this.GVn=void 0;h.xa=l};h.xa=1;k.xa=0;this.PWi=g.ja.elements.append({...fs.snapshot(d.element),xa:1});this.connections.connect(e,this.PWi,{Dda:f,anchorPoint:a});(c=this.Lk)===null||c===void 0||(b=c.SM)===null||b===void 0||b.call(c,new __c.qsd({style:1}));this.store.connectTarget={target:d,Dda:f,anchorPoint:a}}opg(a){var b;
const c=n(this.store.Yud),d=n(this.store.gGe),e=n(this.store.Kvf);(b=this.GVn)===null||b===void 0||b.call(this);bk(d)&&(e.xa=1);this.connections.connect(a,d,{Dda:1,anchorPoint:GAs(EAs(this.dXq))});this.PWi&&c.ja.elements.delete(this.PWi);this.PWi=void 0;this.store.connectTarget=void 0}Fxj(a,b,c){return super.Fxj(a,b,c)&&c!==this.RKs}constructor(a,b,c,d,e,f,g){super(void 0,a,b,c);this.store=d;this.dXq=e;this.RKs=f;this.Lk=g}};var gTs=class{static G(a){P(a,{Iyn:fV,Myn:fV,Nyn:fV.bound,Lyn:fV,Kyn:fV,Jyn:fV,zDn:fV.bound,BDn:fV.bound,ADn:fV.bound})}Iyn(a,b,c){var d,e;const f=b.page,g=this.V.sb("connect_new_shape",{Fb:{name:"editor.connect_new_shape"}});LAs(this);(e=this.Lk)===null||e===void 0||(d=e.SM)===null||d===void 0||d.call(e,new dp);const {bFr:h,NKb:k,Ykc:l}=RAs(this,a,f,c);d=f.elements.append(h);this.wab.ASg(d);VEd(a)&&HAs(f,a,d,c,this.AX,this.te,1);b=this.selection.Ol(b,d);lA(this.jc,b,"all");const m={Ebe:__c.Efe(a.paths.map(p=>
p.d),a.paths.some(p=>!!p.pb)),side:c,kb:"click",NKb:k,Ykc:l};g.nb().tk(({Hi:p})=>{this.P.track(cTs,{...m,Qb:p()})});g.ue()}Myn(a,b,c){const d=b.page;this.FLf&&clearTimeout(this.FLf);this.FLf=window.setTimeout(fV(()=>{this.FLf=void 0;if(!this.store.isDragging){this.store.kgh=!0;var e=this.Wj.bSc,f=MAs(NAs(c),a.rotation),g=OAs(d,a),{position:h,NKb:k,Ykc:l}=PAs(a,f,g,e,ug(4,d.dimensions||this.document.dimensions));e=this.V.sb("connect_preview_shape",{Fb:{name:"editor.connect_preview_shape"}});SAs(this,
a,d,c,h);var m={Ebe:__c.Efe(a.paths.map(p=>p.d),a.paths.some(p=>!!p.pb)),side:c,NKb:k,Ykc:l};e.nb().tk(({Hi:p})=>{this.P.track(dTs,{...m,Qb:p()})});e.ue()}}),150)}Nyn(){this.store.isDragging||LAs(this)}Lyn(a,b,c,d){const e=b.page;Sk(this.oh,f=>{var g,h;this.kga=f;(h=this.Lk)===null||h===void 0||(g=h.SM)===null||g===void 0||g.call(h,new dp);this.store.isDragging=!0;this.store.kgh=!0;document.body.classList.toggle("_1Nlzlw",!0);f=this.viewport.Qm(b).transform(d.x,d.y);this.from=f=UAs(f,a,c);const {gGe:k,
Kvf:l,rTi:m}=SAs(this,a,e,c,f);this.store.gGe=k;this.store.Kvf=l;this.store.rTi=m;this.zhe=this.yr.O0a([k]);this.HOh=(new fTs(this.AX,n(this.WUm),this.Wj,this.store,c,a,this.Lk)).mJj(e,l);this.HOh.onDragStart("right",{metaKey:!1,ctrlKey:!1,shiftKey:!1});TAs(this,a)})}Kyn(a,b,c,d){var e;const f=b.page;b=this.viewport.Qm(b).transform(d.x,d.y);c=UAs(b,a,c);b=n(this.zhe);d=n(this.from);b.translate(c.x-d.x,c.y-d.y);(e=this.HOh)===null||e===void 0||e.qe();this.store.xQi=!XAs(c,a,ug(4,f.dimensions||this.document.dimensions))}Jyn(a,
b,c,d){const e=this.store.connectTarget?"drag_connect":"drag_shape";var f=this.store.connectTarget?"connect_drag_connect":"connect_drag_shape";f=this.V.sb(f,{Fb:{name:`editor.${f}`}});const g=b.page;d=this.viewport.Qm(b).transform(d.x,d.y);d=UAs(d,a,c);const h=ug(4,g.dimensions||this.document.dimensions);this.store.connectTarget?HAs(g,a,this.store.connectTarget.target.element,c,this.AX,this.te,this.store.connectTarget.Dda,{rGm:this.store.connectTarget.anchorPoint}):XAs(d,a,h)&&(d=QAs(a,d),d=g.elements.append(d),
this.wab.ASg(d),VEd(a)&&HAs(g,a,d,c,this.AX,this.te,1),b=this.selection.Ol(b,d),lA(this.jc,b,"all"));LAs(this);const k={Ebe:__c.Efe(a.paths.map(l=>l.d),a.paths.some(l=>!!l.pb)),side:c,kb:e,NKb:0,Ykc:!1};f.nb().tk(({Hi:l})=>{this.P.track(cTs,{...k,Qb:l()})});f.ue()}zDn(){const a=this.V.sb("quick_flow_context_menu_clicked",{Fb:{name:"editor.quick_flow_context_menu_clicked"}});this.store.Jdd=!this.store.Idd;const b={action:this.store.Jdd?"enabled":"disabled",kb:"context_menu"};a.nb().setAttributes(new Map([["action",
b.action]]));a.nb().tk(({Hi:c})=>{this.P.track(eTs,{...b,Qb:c()})});a.ue()}BDn(){const a=this.V.sb("quick_flow_toolbar_button_clicked",{Fb:{name:"editor.quick_flow_toolbar_button_clicked"}});this.store.Jdd=!this.store.Idd;const b={action:this.store.Jdd?"enabled":"disabled",kb:"floating_toolbar"};a.nb().setAttributes(new Map([["action",b.action]]));a.nb().tk(({Hi:c})=>{this.P.track(eTs,{...b,Qb:c()})});a.ue()}ADn(){const a=this.V.sb("quick_flow_toolbar_clicked",{Fb:{name:"editor.quick_flow_toolbar_clicked"}});
this.store.Jdd=!1;a.nb().tk(({Hi:b})=>{this.P.track(eTs,{action:"disabled",kb:"floating_toolbar",Qb:b()})});a.ue()}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u){this.store=a;this.document=b;this.Pb=c;this.viewport=d;this.selection=e;this.yr=f;this.wab=g;this.AX=h;this.te=k;this.jc=l;this.oh=m;this.Wj=p;this.V=q;this.P=r;this.Lk=t;this.WUm=u;this.kga=(gTs.G(this),void 0)}};var hTs=class{static G(a){P(a,{Jdd:wV.ref,Jvf:wV.ref,xQi:wV.ref,kgh:wV.ref,isDragging:wV.ref,connectTarget:wV.ref,rTi:wV.ref,gGe:wV.ref,Kvf:wV.ref,Zzf:mV,Yud:mV,AKh:mV,Idd:mV})}get Zzf(){return!ik(this.viewport.jh.page,this.document.dimensions)}get Yud(){if(this.Jvf){var a=Ef(this.Jvf),b=this.Jvf.pages.first();if(b&&b.type==="fixed")return a.ub(b)}}get AKh(){const a=this.selection.La;return!!a&&a.type==="elements"&&!!a.Ud&&a.Ud.type==="shape"&&(VEd(a.Ud)||bk(a.Ud))&&a.Ki()}get Idd(){var a,b;return!this.AKh||
((a=this.jc.state)===null||a===void 0?void 0:a.type)==="focused"&&this.ka.layout===2||((b=this.selection.La)===null||b===void 0?0:b.box)&&(this.selection.La.box.width*this.viewport.zoom.scale<WSs||this.selection.La.box.height*this.viewport.zoom.scale<WSs)?!1:this.Jdd!=null?this.Jdd:this.Zzf}constructor(a,b,c,d,e,f,g){this.document=a;this.viewport=b;this.selection=c;this.jc=d;this.ka=e;this.Jdd=(hTs.G(this),void 0);this.isDragging=this.kgh=this.xQi=!1;oV(()=>{this.Jdd=f});this.Jvf=g}};var iTs={eventType:"editor_element_grouping_changed",Oa(a){return rf({selected_element_types:a.AFa,action:a.action,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,num_elements_in_page:a.ND,page_index:a.Vb,editing_context:a.Ba==null?void 0:sf(a.Ba),performance_context:a.Qb==null?void 0:tf(a.Qb)})}};var jTs=class{static G(a){P(a,{HEg:fV.bound,Uph:fV.bound})}HEg(a){const b=this.V.sb("elements_grouped",{Fb:{name:"editor.elements_grouped"}});var c=this.store.Ygk;if(c){var d=c.group();if(d)return c=d.ja,d=this.selection.Ol(d.container,c),this.P&&b&&(c=c.mb.map(e=>e.type),Yo({nb:b.nb(),P:this.P,event:iTs,props:{kb:a,action:"group",AFa:c,ND:0,Op:0,Mr:0,Ly:0}}),b.ue()),d}}Uph(a){const b=this.V.sb("elements_ungrouped",{Fb:{name:"editor.elements_ungrouped"}});var c=this.store.RHl;if(c){var d=c.rotation,
{elements:e,container:f}=c.d1s.KLd();c=this.selection.Ol(f,...e);c.rotation=d;this.P&&b&&(d=e.map(g=>g.type),Yo({nb:b.nb(),P:this.P,event:iTs,props:{kb:a,action:"ungroup",AFa:d,ND:0,Op:0,Mr:0,Ly:0}}),b.ue());return c}}constructor(a,b,c,d){this.store=a;this.selection=b;this.V=c;this.P=d;jTs.G(this)}};var kTs=class{static G(a){P(a,{eSd:mV,lSd:mV,Ygk:mV,RHl:mV})}get eSd(){return!!this.Ygk}get lSd(){return!!this.RHl}get Ygk(){var a=this.selection.La;if(a&&a.type==="elements"&&a.Ki()){var b=a.container,c=a.rotation;a=a.elements.map(d=>b.Tf(d));return __c.Tsf(this.RWa,a,c)}}get RHl(){var a,b=this.selection.La;if(b&&b.type==="elements"&&b.Ki()&&((a=this.jc.state)===null||a===void 0?void 0:a.type)!=="focused"){var c=b.container;a=b.rotation;b=b.elements.map(d=>c.Tf(d));return(b=__c.Usf(this.RWa,b))?
{d1s:b,rotation:a}:void 0}}constructor(a,b,c){this.selection=a;this.RWa=b;this.jc=c;kTs.G(this)}};var lTs=Vk("g"),mTs=Vk(Ro("g")),nTs=DV(a=>{const {Ci:b,...c}=a;return cV(b,{...c,Ah:"label",icon:uIp,children:L("nW6zQA")})}),oTs=DV(a=>{const {Ci:b,...c}=a;return cV(b,{...c,Ah:"label",icon:__c.zB,children:L("YyQiPQ")})}),pTs=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:uIp,label:L("bUJF+g"),hm:lTs})}),qTs=DV(a=>{const {hl:b,...c}=a;return cV(b,{...c,Icon:__c.zB,label:L("BK2j6g"),hm:mTs})});var rTs=class{static G(a){P(a,{uWm:mV,pYc:mV})}get uWm(){return this.store.enabled}get pYc(){return this.store.pYc}qe(a){this.L.qe(a)}onDragEnd(){this.L.onDragEnd()}Fw(a){this.L.Fw(a)}r5e(a){this.L.r5e(a)}constructor(a,b){this.store=a;this.L=b;rTs.G(this)}};var sTs=DV(a=>cV(a.hl,{label:L("PgMJpw"),Icon:__c.iar})),tTs=DV(a=>{const b=a.fF,c=a.ZCa,d=a.onClick;a=a.Oe;const e=gV(()=>{c===null||c===void 0||c();d===null||d===void 0||d()},[c,d]);return cV(b,{onClick:e,Ggc:a==="fill"?ur:void 0,children:L("YPUigA")})}),uTs=DV(a=>{const b=a.hl,c=a.oa,d=a.coordinates,e=a.onClick;a=gV(()=>e(d),[e,d]);return cV(b,{label:L("c80IQw"),Icon:__c.ear,onClick:a,oa:c})}),vTs=DV(a=>{const b=a.hl,c=a.coordinates,d=a.oa,e=a.onClick;a=gV(()=>e(c),[e,c]);return cV(b,{label:L("3d4gCQ"),
Icon:__c.HUr,onClick:a,oa:d})}),wTs=DV(a=>{const b=a.hl,c=a.coordinates,d=a.oa,e=a.onClick;a=gV(()=>e(c),[e,c]);return cV(b,{label:L("llxXHA"),Icon:__c.gar,onClick:a,oa:d})}),xTs=class extends GV{static G(a){P(a,{onClick:fV.bound})}onClick(){this.props.onClick()}render(){const a=this.props.oa,b=this.props.locked;return cV(this.props.hl,{label:b?L("oeLIAg"):L("ON7FDg"),Icon:b?NLh:ay,onClick:this.onClick,oa:a})}constructor(...a){super(...a);xTs.G(this)}},yTs=DV(a=>{const b=a.oa,c=a.fF,d=gV(()=>{var e;
(e=a.onClick)===null||e===void 0||e.call(a);b===null||b===void 0||b()},[b,a]);return cV(c,{onClick:d,children:L("llxXHA")})}),zTs=class extends GV{static G(a){P(a,{onClick:fV.bound})}onClick(){const a=this.props.oa,b=this.props.onClick;b===null||b===void 0||b();a===null||a===void 0||a()}render(){return cV(this.props.fF,{onClick:this.onClick,VA:this.props.VA,hm:this.props.hm,children:L("ON7FDg")})}constructor(...a){super(...a);zTs.G(this)}},ATs=Vk(So(";")),BTs=class extends GV{static G(a){P(a,{onClick:fV.bound})}onClick(){const a=
this.props.oa,b=this.props.onClick;b===null||b===void 0||b();a===null||a===void 0||a()}render(){return cV(this.props.fF,{onClick:this.onClick,VA:this.props.VA,children:L("vGSJsA")})}constructor(...a){super(...a);BTs.G(this)}};var CTs,DTs,ETs,GTs=class extends GV{render(){const a=this.props.B_,b=this.props.position,c=this.props.yx,d=this.props.tG,e=this.props.jgi,f=this.props.canDrag,g=this.props.isActive,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l={[this.cHa.get()]:f&&e};return cV(__c.TTf,{onDragStart:this.onDragStart,qe:this.qe,onDragEnd:this.onDragEnd,canDrag:this.canDrag,Fw:this.Fw,tte:!0,cHa:f?this.cHa:void 0,children:({onTouchStart:m,onMouseDown:p})=>cV(FTs,{B_:a,position:b,yx:c,tG:d,isActive:g,jgi:e,$_c:!f,
FGb:l,onMouseEnter:h,onMouseLeave:k,onTouchStart:m,onMouseDown:p})})}constructor(...a){super(...a);this.onDragStart=b=>{this.props.onDragStart(b,this.props.B_)};this.qe=b=>{this.props.qe(b)};this.onDragEnd=()=>{this.props.onDragEnd()};this.canDrag=()=>this.props.canDrag;this.Fw=b=>{this.props.Fw(b,this.props.B_)};this.cHa=mV(()=>__c.dy(new __c.J9g(this.props.B_.direction===1?0:90)))}};({c:[ETs,CTs]}=JV(GTs,[],[Lb],GV));CTs();
var HTs=a=>{var b=a.position;const c=a.direction===1,d=c?b:0;b=c?0:b;return cV("div",{className:AV("mNd67g",{FZmaNg:a.tG,_tRmOg:c,_8i_7tg:!c}),style:{transform:`translate(${b}px, ${d}px)`}})},FTs,ITs=class extends GV{render(){const a=this.props.position,b=this.props.yx,c=this.props.onTouchStart,d=this.props.onMouseDown,e=this.props.tG,f=this.props.jgi,g=this.props.$_c;var h=this.props.B_.direction===1;const k=AV("dCYK4Q",{FZmaNg:e,_tRmOg:h,_8i_7tg:!h,lAxGWQ:this.props.isActive,jCbK0g:uc.NT,...this.props.FGb}),
l=AV("tuN9aA",{LAeprA:f});h=h?J("+p11Hw",[b]):J("9xVN3w",[b]);return kV("button",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchStart:c,onMouseDown:d,className:k,style:a,"aria-label":h,children:[f&&!e&&cV("span",{className:"_EMcsA",children:cV("span",{className:"ALc6Yg nbfwjw",children:b})}),cV("span",{className:AV("_0uzLrQ",{_87VYUA:g}),children:cV("span",{className:l})})]})}constructor(...a){super(...a);this.onMouseEnter=()=>{this.props.onMouseEnter(this.props.B_)};this.onMouseLeave=
()=>{this.props.onMouseLeave(this.props.B_)}}};({c:[FTs,DTs]}=JV(ITs,[],[Lb],GV));DTs();var JTs=eV(a=>{const b=a.L,c=a.store;return cV(rV,{children:[...c.d9j].map((d,e)=>{var f=ETs,g=c.dDh.has(d),h=sBs(b,d),k=d.position;const l=d.direction===2;var m=l?k:0;k=l?0:k;m=b.viewport.Qm(b.viewport.jh).invert().then(b.viewport.Dsa()).transform(m,k);b.viewport.Tu;var p=b.viewport.Dsa().invert().transformPoint(b.hj?b.viewport.yeb().tr:b.viewport.yeb().tl);const q=b.hj?b.viewport.XB().tr:b.viewport.XB().tl;k=q.x-p.x;p=q.y-p.y;return cV(f,{B_:d,tG:!1,jgi:!0,isActive:g,yx:h,position:l?{top:p,left:m.x}:
b.hj?{top:m.y,right:-k}:{top:m.y,left:k},onMouseEnter:b.onMouseEnter,onMouseLeave:b.onMouseLeave,Fw:b.Fw,onDragStart:b.onDragStart,onDragEnd:b.onDragEnd,qe:b.qe,canDrag:c.zqg.has(d)},e)})})}),KTs=eV(a=>{const b=a.store,c=a.L;var d=a.viewport;const e=a.page,f=a.scale;if(!d.uh||b.NTe==null)return null;d=d.jh.page===e;return a.canvas.H3a!=="space-between"||d?cV(rV,{children:b.tWm.map((g,h)=>{h={key:h,B_:g,jgi:!1,tG:!tBs(c,g,e),position:g.direction===1?{top:g.position*f,left:0}:{top:0,left:g.position*
f},onMouseEnter:c.onMouseEnter,onMouseLeave:c.onMouseLeave,yx:sBs(c,g)};return b.NTe==="viewable"?cV(FTs,{...h,isActive:b.dDh.has(g),$_c:!0}):cV(ETs,{...h,isActive:!1,canDrag:b.zqg.has(g),Fw:c.Fw,onDragStart:c.onDragStart,onDragEnd:c.onDragEnd,qe:c.qe})})}):null}),LTs=eV(a=>{const b=a.L;var c=a.viewport;const d=a.page;if(!c.uh)return null;c=c.jh.page===d;return a.canvas.H3a!=="space-between"||c?cV(rV,{children:a.Bx.map((e,f)=>cV(HTs,{position:e.position,direction:e.direction,tG:!tBs(b,e,d)},f))}):
null});var eBs=class{static G(a){P(a,{columns:wV.ref,cZc:wV.ref,oCc:wV.ref,rows:wV.ref,Fna:wV.ref,dcd:wV.ref,dimensions:mV,C1n:mV,Gjm:mV,qBb:mV})}get dimensions(){return jk(this.viewport.jh.page,this.document.dimensions)}get C1n(){return this.rows===0}get Gjm(){return this.columns===0}get qBb(){return{columns:this.columns,cZc:this.cZc,oCc:this.oCc,rows:this.rows,dcd:this.dcd,Fna:this.Fna}}constructor(a,b){this.document=a;this.viewport=b;this.columns=(eBs.G(this),6);this.dcd=this.Fna=this.rows=this.oCc=this.cZc=
0;this.oCc=MTs(a.dimensions.width/(this.columns*10),a.dimensions.units)}},MTs=(a,b)=>{switch(b){case 1:case 2:case 3:return NTs(a,2);case 4:return NTs(a,1);default:throw new v(b);}},NTs=(a,b=0)=>{b=Math.pow(10,b);return Math.round(a*b*(1+Number.EPSILON))/b};var fBs=class{constructor(a,b){this.store=a;this.la=b;this.pzs=c=>{const d=this.store.cZc,e=this.store.oCc;this.Nqf(this.store.dimensions.width,c,d,e)?(c=L("GWfiAQ"),d&&e?c=L("ZM7rPQ"):d?c=L("oNh6Aw"):e&&(c=L("fJoN0g")),this.la.Hb({Cb:c})):this.store.columns=NTs(c)};this.nzs=c=>{const d=this.store.columns,e=this.store.oCc;this.Nqf(this.store.dimensions.width,d,c,e)?(c=L("g3IJgw"),d&&e?c=L("8vK9pw"):d&&(c=L("g2Fc4Q")),this.la.Hb({Cb:c})):this.store.cZc=this.$Ji(c)};this.ozs=c=>{const d=this.store.columns,
e=this.store.cZc;this.Nqf(this.store.dimensions.width,d,e,c)?(c=L("edKzEQ"),d&&e?c=L("+i7TbA"):d&&(c=L("pGFysw")),this.la.Hb({Cb:c})):this.store.oCc=this.$Ji(c)};this.aPi=c=>{const d=this.store.dcd,e=this.store.Fna;this.Nqf(this.store.dimensions.height,c,d,e)?(c=L("yQHe2Q"),d&&e?c=L("HQYf5w"):d?c=L("ujBoWw"):e&&(c=L("NLcolA")),this.la.Hb({Cb:c})):this.store.rows=NTs(c)};this.FAs=c=>{const d=this.store.rows,e=this.store.Fna;this.Nqf(this.store.dimensions.height,d,c,e)?(c=L("g3IJgw"),d&&e?c=L("HVPx4A"):
d&&(c=L("EIY5FA")),this.la.Hb({Cb:c})):this.store.dcd=this.$Ji(Math.min(c,this.store.dimensions.height/2))};this.GAs=c=>{const d=this.store.rows,e=this.store.dcd;this.Nqf(this.store.dimensions.height,d,e,c)?(c=L("edKzEQ"),d&&e?c=L("6+spuw"):d&&(c=L("u2fUdA")),this.la.Hb({Cb:c})):this.store.Fna=this.$Ji(c)};this.Nqf=(c,d,e,f)=>tg(4,this.store.dimensions.units,1)*d+f*Math.max(d-1,0)+e*2>c;this.$Ji=c=>MTs(c,this.store.dimensions.units)}};var hBs=a=>kV(hr,{spacing:"1u",columns:3,children:[cV(a.P7i,{}),cV(a.pfj,{})]}),iBs=DV(a=>{const b=a.Df;var c=a.P7i;const d=a.pfj;iV(()=>fV(a.onClose),[a.onClose]);const e=gV((f,g)=>({vo:()=>cV(rV,{children:f}),na:()=>cV(hr,{spacing:"1u",columns:3,children:g})}),[]);c=[e(L("gPUe1Q"),cV(c,{})),e(L("JE/qcA"),cV(d,{}))];return cV(R,{padding:"2u",paddingTop:"0",children:cV(b.X8,{items:c})})});var cBs=class{constructor(a,b,c){this.store=a;this.update=b;this.WEh=c;this.onFocus=d=>{this.store.value=d;this.store.focused=!0};this.onBlur=()=>{const d=this.store.value;this.vuk(d)&&this.update(Number.parseFloat(d));this.store.focused=!1};this.onChange=d=>{d=d.trim();isNaN(Number(d))||(this.store.value=this.sanitize(d))};this.vuk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d));this.sanitize=d=>{const e=this.WEh?/^[0-9.]$/:/^[0-9]$/;return d.split("").filter(f=>e.test(f)).join("")}}};var bBs=class{static G(a){P(a,{value:wV.ref,focused:wV.ref})}constructor(){this.value=(bBs.G(this),"");this.focused=!1}};var gBs={[4]:L("eY1d0Q"),[1]:L("WL2xxQ"),[3]:L("nAKgzA"),[2]:L("SJUMrg")};var OTs=__webpack_require__.p+"images/44d262aa046efce329308241ad58e99d.png";var PTs=__webpack_require__.p+"images/457fb16c040f7d4ffed30f8729561fcf.png";var QTs=__webpack_require__.p+"images/79762f8af6d55aefb16784fa24d6e2f5.png";var RTs=__webpack_require__.p+"images/7a3e97c45cb0eb116bb173d7f394b839.png";var STs=__webpack_require__.p+"images/0d00475b150fc001612e5c8ee10dee45.png";var TTs=__webpack_require__.p+"images/d4139edd693a21ad459834f6afb64807.png";var UTs=__webpack_require__.p+"images/20a96e0c263ffa6d6e499fac04f986e5.png";var VTs=__webpack_require__.p+"images/fc4dfa7a2acff3686ff78a955b096acd.png";var WTs=__webpack_require__.p+"images/b8a93816eade047b457bdb12aea8d4a2.png";var XTs=__webpack_require__.p+"images/f2c7f5130edf84de91499a5bfc79611a.png";var YTs=__webpack_require__.p+"images/cb70f2436005001a8d43e2284c6d95ed.png";var ZTs=__webpack_require__.p+"images/504a73b622512562029f809c41023878.png";var $Ts=__webpack_require__.p+"images/0da201d460492dc4a316071769e7cd43.png";var aUs=__webpack_require__.p+"images/5a79332e5782275e8239bbf743b1431e.png";var bUs=__webpack_require__.p+"images/e7bb2ef8561f592c76cc0d54efa9b11b.png";var cUs=__webpack_require__.p+"images/c933f33218571b8e0b4d1fe48921c16a.png";var dUs={key:"12col",title:L("xG1z4A"),ek:{light:QTs,KPg:RTs,dark:OTs,xmg:PTs}},eUs={key:"3col",title:L("pznYiA"),ek:{light:UTs,KPg:VTs,dark:STs,xmg:TTs}},fUs={key:"3x3grid",title:L("+dYOyw"),ek:{light:bUs,KPg:cUs,dark:$Ts,xmg:aUs}},gUs={key:"custom",title:L("EYSP3g"),ek:{light:YTs,KPg:ZTs,dark:WTs,xmg:XTs}},pBs=[dUs,eUs,fUs,gUs];var oBs=eV(a=>{const b=a.options,c=a.sq,d=a.Oe,e=a.onCancel,f=a.onSubmit,g=a.G8i,h=a.Qc,k=a.My,l=a.oa,m=a.gi;iV(()=>{oV(()=>h());return fV(()=>m())},[h,m]);a=gV(q=>{oV(()=>k(q))},[k]);const p=gV(()=>{oV(()=>{f===null||f===void 0||f();l()})},[f,l]);return cV(R,{padding:"2u",paddingTop:d==="fill"?"0":void 0,className:AV("_1s_6uw",{O9Ff7A:d==="fixed"}),children:kV(Wc,{spacing:"1u",children:[cV(hUs,{options:b,sq:c,onClick:a}),g&&cV(g,{}),f&&cV(Yi,{variant:"primary",onClick:p,children:L("6r3rJQ")}),e&&
cV(Yi,{variant:"secondary",onClick:e,children:L("uZee/w")})]})})}),hUs=DV(a=>{const b=a.onClick,c=a.options,d=a.sq,e=gV(f=>()=>b(f),[b]);return cV(hr,{columns:4,fua:"2u",children:c.map(f=>TMs(iUs,{...f,key:f.key,active:f.key===d,onClick:e(f.key)}))})}),iUs=DV(a=>{var b;const c=a.active,d=a.title,e=a.ek;a=a.onClick;var f=xV(()=>({kx:{light:c?e.KPg:e.light,dark:c?e.xmg:e.dark}}),[c,e.dark,e.xmg,e.light,e.KPg]),g;f=(g=(b=__c.Mc(f))===null||b===void 0?void 0:b.kx)!==null&&g!==void 0?g:e.light;return cV(No,
{title:cV(__c.Go,{className:"_79_T9g",lineClamp:2,size:"small",children:d}),onClick:a,AE:"primary",selected:c,Hn:"scaleThumbnail",thumbnail:cV(ev,{src:f,alt:"Image description"}),layout:"vertical",$m:"thumbnail"})}),mBs=()=>cV(rV,{children:L("6r3rJQ")}),nBs=DV(a=>{const b=a.onClick;a=gV(()=>oV(b),[b]);return cV(__c.m8d,{onClick:a,children:L("0icR6A")})});var jUs={eventType:"editor_grid_layout_menu_toggled",Oa(a){return rf({action:a.action,source:a.source,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},kUs={eventType:"editor_grid_layout_added",Oa(a){return rf({grid_layout_category:a.NVq,direction:a.direction,num_horizontal_guides:a.eWg,horizontal_gap_px:a.G5t,horizontal_margin_px:a.H5t,horizontal_gap:a.i1q,horizontal_margin:a.j1q,num_vertical_guides:a.sWg,vertical_gap_px:a.XQu,vertical_margin_px:a.YQu,vertical_gap:a.Q2i,vertical_margin:a.K6s,units:a.units,
editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var lBs=class{constructor(a,b,c,d,e,f,g){this.document=a;this.store=b;this.ka=c;this.hhk=d;this.LEg=e;this.N=f;this.la=g;this.abo=h=>{this.store.sq=h};this.anj=()=>{this.document.Bx.qr();this.LEg.anj(this.store.ihk);this.ka.layout===1&&this.la.Hb({Cb:L("4VTm9A"),jr:{buttonText:L("GDZ7sw"),onClick:fV(this.LEg.oCo)}})};this.TAn=()=>{this.N.track(jUs,{action:"open"});this.bxo()};this.UAn=()=>{this.N.track(jUs,{action:"close"});this.bxo()};this.Zvn=()=>{this.anj();const h=this.store.qBb.columns,k=this.store.qBb.rows;
h===0&&k===0||this.N.track(kUs,{NVq:this.store.sq==="custom"?"custom":"default",direction:h===0?"horizontal":k===0?"vertical":"mixed",eWg:k||void 0,i1q:this.store.qBb.Fna||void 0,j1q:this.store.qBb.dcd||void 0,sWg:h||void 0,Q2i:this.store.qBb.oCc||void 0,K6s:this.store.qBb.cZc||void 0,units:__c.Ov(__c.Nv(this.store.dimensions.units))})};this.bxo=()=>{this.hhk.enabled||this.LEg.r5e("guides_panel");this.store.vDi=!this.store.vDi};this.nps=()=>{this.store.sq="12col"}}};var kBs=class{static G(a){P(a,{sq:wV.ref,vDi:wV.ref,dimensions:mV,Uko:mV,qBb:mV,ihk:mV,pDi:mV})}get dimensions(){const a=this.viewport.jh.page;if(a.type==="responsive")throw new __c.Sw;return a.dimensions||this.document.dimensions}get Uko(){return this.sq==="custom"&&this.ka.layout===1}get qBb(){if(this.sq==="custom")return this.K8p.qBb;const a=this.dimensions.width,b=this.dimensions.units,{columns:c,rows:d}=lUs[this.sq];return{...lUs[this.sq],cZc:0,oCc:c&&MTs(a/(c*10),b),dcd:0,Fna:d&&MTs(a/(d*10),
b)}}get ihk(){const a=this.qBb.columns,b=this.qBb.rows,c=this.qBb.cZc,d=this.qBb.oCc,e=this.qBb.dcd,f=this.qBb.Fna,g=[];(a||c)&&g.push(...this.yom(a,2,d,c));(b||e)&&g.push(...this.yom(b,1,f,e));return g}get pDi(){return this.vDi?this.ihk.map(({position:a,...b})=>({...b,position:a*this.viewport.zoom.scale})):void 0}constructor(a,b,c,d){this.K8p=a;this.ka=b;this.viewport=c;this.document=d;this.sq=(kBs.G(this),"12col");this.vDi=!1;this.yom=(e,f,g=0,h=0)=>{var k=this.dimensions.height;const l=this.dimensions.width;
var m=this.dimensions.units;k=Mv(m,f===1?k:l);const p=Mv(m,g);g=Mv(m,h);m=k/2;if(h>=m)return[{position:m,direction:f,locked:!0}];const q=[];g&&(q.push({position:g,direction:f,locked:!0}),q.push({position:k-g,direction:f,locked:!0}));const r=(k-2*g-(e-1)*p)/e;let t=g;oc(1,e).forEach(()=>{t+=r;q.push({position:t,direction:f,locked:!0});p&&(t+=p,q.push({position:t,direction:f,locked:!0}))});return q}}},lUs={"12col":{columns:12,rows:0},"3col":{columns:3,rows:0},"3x3grid":{columns:3,rows:3},custom:{columns:6,
rows:0}};var mUs={eventType:"editor_guide_view_toggled",Oa(a){return rf({previous:a.previous,value:a.value,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},vBs={eventType:"editor_guide_moved",Oa(a){return rf({previous:a.previous,value:a.value,direction:a.direction,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,
editing_context:a.Ba==null?void 0:sf(a.Ba)})}},xBs={eventType:"editor_guide_deleted",Oa(a){return rf({guides_count:a.CWq,direction:a.direction,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,num_horizontal_guides:a.eWg,num_vertical_guides:a.sWg,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},nUs={eventType:"editor_guide_locking_toggled",Oa(a){return rf({action:a.action,control_context:a.kb,direction:a.direction,
num_horizontal_guides:a.eWg,num_vertical_guides:a.sWg,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},oUs={eventType:"editor_guide_added",Oa(a){return rf({position:a.position,direction:a.direction,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var qUs=class{static G(a){P(a,{r5e:fV.bound,onMouseEnter:fV.bound,onMouseLeave:fV.bound,svl:fV.bound,onDragStart:fV.bound,qe:fV.bound,onDragEnd:fV.bound,Fw:fV.bound,awn:fV.bound,ewn:fV.bound,pBj:fV.bound,IDh:fV.bound})}get ya(){const a=this.viewport.jh.page;if(a.type==="responsive")throw new __c.Sw;return a}r5e(a){this.store.enabled?(this.store.NHe.clear(),this.store.enabled=!1):this.store.enabled=!0;this.N.track(mUs,{previous:this.store.enabled?"hidden":"shown",value:this.store.enabled?"shown":"hidden",
kb:a,Op:0,Mr:0,Ly:0})}onMouseEnter(a){this.store.Fh||this.store.NHe.add(a)}onMouseLeave(a){this.store.Fh||this.store.NHe.delete(a)}svl(){return this.undo.startBuffering()}onDragStart(a,b,c){var d;this.onMouseEnter(b);const e=uBs(this,new sj(a.clientX,a.clientY));var f=new __c.Qsg(this.Euf(b),e);f=Nns(this.Vqa,f,this.ya);a=a.metaKey||a.ctrlKey;(d=this.store.Fh)===null||d===void 0||d.close();this.store.Fh&&wBs(this,this.store.Fh.B_,this.store.Fh.X8j);c||(c=this.svl());this.store.Fh=new pUs(c,e,b,a,
f,g=>this.Euf(g))}qe(a){this.store.Fh&&(this.store.Fh.to=uBs(this,new sj(a.clientX,a.clientY)))}onDragEnd(){if(this.store.Fh){var a=this.store.Fh.B_;wBs(this,a,this.store.Fh.X8j);{var b=this.Qwb(this.ya);const c=this.Euf(a);__c.Wj(b,c)?b=!1:(this.document.Bx.delete(a),yBs(this,[a],"out_of_bounds"),b=!0)}this.store.Fh.close();this.store.Fh=void 0;b&&this.onMouseLeave(a);this.store.Nag&&this.store.NHe.clear()}}Fw(a){this.store.Fh&&(this.store.Fh.xuc=a.metaKey||a.ctrlKey)}awn(a){a&&this.IDh(a,1,"contextual_menu",
!1)}ewn(a){a&&this.IDh(a,2,"contextual_menu",!1)}pBj(a){const b=this.document.Bx,c=b.toArray();b.qr();yBs(this,c,a)}IDh(a,b,c,d=!0){this.store.enabled||this.r5e(c);const {x:e,y:f}=uBs(this,a);a=b===1?f:e;const g=this.document.Bx.append({position:a,direction:b,locked:this.store.Nag});d&&this.onMouseEnter(g);this.N.track(oUs,{position:a,direction:b===1?"horizontal":"vertical",kb:c,Op:0,Mr:0,Ly:0});return g}anj(a){this.document.Bx.q6(void 0,a)}Euf(a){const b=a.position;a=a.direction===1;const c=jk(this.ya,
this.document.dimensions),{width:d,height:e}=ug(4,c||this.document.dimensions);return a?Nj(0,b,d,b):Nj(b,0,b,e)}Qwb(a){const {width:b,height:c}=ug(4,a.dimensions||this.document.dimensions);return Nj(0,0,b,c)}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.undo=d;this.store=e;this.N=f;this.hj=g;this.la=h;this.Vqa=k;this.dCl=(qUs.G(this),l=>{if(this.store.lrl){this.store.NHe.clear();var m=this.document.Bx,p=this.store.zqg.size===0;if(p)this.oCo();else{for(const q of this.store.zqg)q.locked=
!0;this.la.Hb({Cb:L("0iK69Q")})}m=m.toArray();this.N.track(nUs,{kb:l,action:p?"unlock":"lock",...zBs(m)})}});this.oCo=()=>{for(const l of this.document.Bx)l.locked=!1;this.la.Hb({Cb:L("XzwAMA")})}}},pUs=class{close(){this.J6a.stop();this.Rna.close()}set xuc(a){this.Tme!==a&&(this.Tme=a,this.update())}set to(a){this.Yme=a;this.update()}update(){this.HEo(this.Yme);this.Tme?this.Rna.close():this.Rna.Kw({type:"translate",jj:this.B_.direction===2,Bj:this.B_.direction===1},this.Yme,this.Euf(this.B_),!1,
this.HEo)}constructor(a,b,c,d,e,f){this.J6a=a;this.from=b;this.B_=c;this.Tme=d;this.Rna=e;this.Euf=f;this.HEo=g=>{g=vj(g,this.from);this.B_.position=this.X8j+(this.B_.direction===1?g.y:g.x);return this.Euf(this.B_)};this.Yme=b;this.X8j=c.position}};var rUs=class{static G(a){P(a,{enabled:wV.ref,NTe:mV,VGe:mV,jSd:mV,lKh:mV,pYc:mV,ndm:mV,ylo:mV,gSi:mV,aRi:mV,jRi:mV,lrl:mV,Nag:mV,NHe:wV.shallow,Fh:wV.ref,zqg:mV.struct,dDh:mV.struct,d9j:mV.struct,tWm:mV.struct})}get NTe(){switch(this.ka.layout){case 1:return"draggable";case 2:return"viewable";default:throw new v(this.ka.layout);}}get VGe(){return!this.document.Bx.empty}get jSd(){return!!this.NTe&&this.viewport.uh&&this.viewport.gZ}get lKh(){return this.Ma.mode===40}get pYc(){return this.lKh&&this.NTe===
"draggable"}get ndm(){return this.enabled&&this.jSd}get ylo(){var a,b,c;const d=((b=this.selection.La)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="pages"?this.selection.La.inner.inner:(c=this.selection.La)===null||c===void 0?void 0:c.inner;return this.enabled&&this.jSd&&(d===null||d===void 0?void 0:d.type)==="background"&&d.page.type==="fixed"&&(!d.page.dimensions||!xg(d.page.dimensions))}get gSi(){return this.VGe&&this.jSd&&this.NTe==="viewable"}get aRi(){return this.jSd&&
this.lKh}get jRi(){return this.VGe&&this.enabled&&this.jSd&&this.lKh}get lrl(){return this.VGe&&this.enabled&&this.jSd&&this.pYc}get Nag(){return!this.document.Bx.empty&&this.document.Bx.every(a=>a.locked)}get zqg(){return this.pYc?new Set(this.document.Bx.filter(a=>!a.locked)):new Set}get dDh(){if(this.Fh)return new Set(this.E8.targets.length?[this.Fh.B_]:[]);const a=this.E8.targets.map(b=>b.type==="rule-x"||b.type==="rule-y"?b.B_:null).filter(vb);return new Set(a||[])}get d9j(){const a=[...this.NHe].filter(b=>
this.document.Bx.has(b));return new Set([...this.dDh,...a])}get tWm(){const {width:a,height:b,units:c}=jk(this.viewport.jh.page,this.document.dimensions),d=Mv(c,a),e=Mv(c,b);return this.document.Bx.filter(f=>{const g=f.direction===1?e:d;return f.position>=0&&f.position<=g})}constructor(a,b,c,d,e,f,g=!1){this.Ma=a;this.viewport=b;this.document=c;this.selection=d;this.E8=e;this.ka=f;this.enabled=(rUs.G(this),void 0);this.NHe=new Set;this.enabled=g}};var sUs=(a,b,c,d,e)=>{const f=fV(()=>c.dCl("shortcut"));b.register([ATs,f,L("ON7FDg"),["edit"]]);const g=()=>c.r5e("file_menu"),h=()=>c.dCl("file_menu"),k=()=>c.pBj("file_menu");a.Eu(()=>({aRi:d.aRi,IGs:d.lrl,jRi:d.jRi,gSi:d.gSi}),({SL:l},{aRi:m,IGs:p,jRi:q,gSi:r})=>{l&&(l.B5i=m?e:void 0,l.dle=p?{Button:eV(t=>cV(zTs,{...t,onClick:h,VA:d.Nag,hm:ATs}))}:void 0,l.GNd=q?{Button:t=>cV(yTs,{...t,onClick:k})}:void 0,l.igj=r?{Button:eV(t=>cV(BTs,{...t,onClick:g,VA:d.enabled}))}:void 0)},{equals:lV.structural})},
tUs=(a,b,c)=>{const d=b.awn,e=b.ewn,f=()=>b.dCl("contextual_menu"),g=()=>b.pBj("contextual_menu");a.kc(()=>({kGs:c.ylo,VGe:c.VGe}),(h,{kGs:k,VGe:l})=>{k?(h.Kgc={Button:m=>cV(sTs,{...m})},h.yuh={Button:m=>cV(uTs,{...m,onClick:d})},h.Duh={Button:m=>cV(vTs,{...m,onClick:e})},h.GNd=l?{Button:m=>cV(wTs,{...m,onClick:g})}:void 0,h.dle=l?{Button:eV(m=>cV(xTs,{...m,onClick:f,locked:c.Nag}))}:void 0):(h.Kgc=void 0,h.yuh=void 0,h.Duh=void 0,h.GNd=void 0)})},uUs=(a,b,c)=>{a.DWq=mV(()=>c.jSd?b.Bx.map(d=>d.direction===
1?{type:"rule-y",y:d.position,B_:d}:{type:"rule-x",x:d.position,B_:d}):[])};var BBs=class{static G(a){P(a,{U_a:mV,pti:fV.bound})}get U_a(){var a,b=this.gI.focused,c=this.gI.selected,d=b.dw!=null?b:c;c=d.dw;var e=d.ZGa;const f=d.nj;d=b.Cba;var g=b.Csf;const h=b.Nqa;g=h!==null&&h!==void 0?h:g;e=e&&((a=this.ed.aEa(e))===null||a===void 0?void 0:a.width);if(this.Ma.mode<40||!c||e==null||!f)return{};a=mA(f);var k;e=(k=a===null||a===void 0?void 0:a.PJc)!==null&&k!==void 0?k:!1;k=(b=b.dw===c)&&a&&d.length>0;c={};c["add-column"]=k&&e&&!!a&&a.cog<4;c["change-cell-padding"]=b;c["change-column-gap"]=
e;c["change-row-gap"]=!e;c["move-column-before"]=k&&e&&g!=null&&g>0;c["move-column-after"]=k&&e&&g!=null&&!!a&&g<a.cog-1;return c}pti(){var a=this.gI.focused;const b=a.nj;var c=a.Csf;a=a.Nqa;c=a!==null&&a!==void 0?a:c;b&&c!=null&&this.zwa.efb(b,this.uo,c+1,c)}cac(a){const b=this.gI.focused.nj;var c=this.gI.focused.Csf;const d=this.gI.focused.Nqa;c=d!==null&&d!==void 0?d:c;b!=null&&c!=null&&this.zwa.cac(b,c,c+a)}get egn(){var a=this.gI.focused.dw;const b=this.gI.selected.dw;a=a!==null&&a!==void 0?
a:b;var c;return(c=a===null||a===void 0?void 0:a.direction)!==null&&c!==void 0?c:1}constructor(a,b,c,d,e,f){this.gI=a;this.zwa=b;this.ed=c;this.Xa=d;this.Ma=e;this.uo=f;this.fyn=(BBs.G(this),fV(()=>this.cac(1)));this.gyn=fV(()=>this.cac(-1))}},CBs=class{static G(a){P(a,{U_a:mV,xOk:fV.bound,pti:fV.bound})}get U_a(){var a=this.gI.selected.vob;const b=this.gI.selected.Dgl,c=this.gI.selected.HZe,d=this.gI.selected.Hxd,e=this.gI.selected.exd,f={};if(!a||!b||c==null)return f;a=sk.LP(a);f["add-column"]=
e&&c!=null;f["add-row"]=d&&c!=null;f["move-column-before"]=e&&c!=null&&c>0;f["move-column-after"]=e&&c!=null&&c<a.grid.gridTemplateColumns.length-1;f["move-row-up"]=d&&c!=null&&c>0;f["move-row-down"]=d&&c!=null&&c<a.grid.gridTemplateRows.length-1;return f}xOk(){const a=this.gI.selected.CXa,b=this.gI.selected.HZe;a!=null&&b!=null&&this.myb.addRow(a,b+1,b)}pti(){const a=this.gI.selected.CXa,b=this.gI.selected.HZe;a!=null&&b!=null&&this.myb.addColumn(a,b+1,b)}cac(a){const b=this.gI.selected.vob,c=this.gI.selected.HZe;
b!=null&&c!=null&&this.myb.cac(b,c,c+a)}ZFf(a){const b=this.gI.selected.vob,c=this.gI.selected.HZe;b!=null&&c!=null&&this.myb.ZFf(b,c,c+a)}get egn(){const a=this.gI.selected.vob;var b;return(b=a===null||a===void 0?void 0:a.direction)!==null&&b!==void 0?b:1}constructor(a,b){this.gI=a;this.myb=b;this.fyn=(CBs.G(this),fV(()=>this.cac(1)));this.gyn=fV(()=>this.cac(-1));this.hyn=fV(()=>this.ZFf(1));this.iyn=fV(()=>this.ZFf(-1))}};var vUs,wUs,xUs,yUs;
new (vUs=class extends IV{constructor(){super(yUs);wUs()}},(()=>{class a extends(xUs=GV){static G(b){P(b,{Xwc:wV.ref})}componentDidMount(){if(this.oTc.current!=null&&typeof IntersectionObserver!=="undefined"&&Vb()){var b=new IntersectionObserver(c=>{this.Xwc&&c.forEach(d=>{const e=this.controls.get(d.target);if(e!=null){var f=e.index;d.isIntersecting?(e.JGe=!0,this.props.Arc(f)):e.JGe&&this.props.xYb(f)}})},{root:this.oTc.current});this.controls.forEach((c,d)=>b.observe(d));this.kKg=b;document.addEventListener("mousemove",
this.onMouseMove,{passive:!0});Gb(this,dV(()=>this.Xwc,this.r1i))}}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove)}render(){const b=this.props.children;return cV("div",{ref:this.oTc,className:"MXQnbw",children:cV("div",{ref:this.h6e,className:"v3K2TQ",children:b(this.WHj)})})}constructor(...b){super(...b);this.Xwc=(yUs.G(this),void 0);this.controls=new Map;this.oTc=HV();this.h6e=HV();this.onMouseMove=c=>{requestAnimationFrame(fV(()=>{this.Xwc=new sj(c.clientX,c.clientY)}))};
this.r1i=()=>{var c=this.Xwc;c&&this.Xwc&&this.oTc.current&&(c=this.props.OBj(c),this.oTc.current.style.transform=`translate(${c.x}px, ${c.y}px)`,this.h6e.current&&(this.h6e.current.style.transform=`translate(${-c.x}px, ${-c.y}px)`))};this.WHj=KV(c=>{let d;return e=>{var f;if(e==null){if(d!=null){var g;(g=this.kKg)===null||g===void 0||g.unobserve(d);e=this.controls.get(d);e!=null&&e.JGe&&this.props.xYb(e.index);this.controls.delete(d)}}else d=e,(f=this.kKg)===null||f===void 0||f.observe(d),this.controls.set(d,
{index:c,JGe:!1})}})}}({c:[yUs,wUs]}=JV(a,[],[Lb],xUs))})(),vUs);var GBs=eV(a=>{const b=a.fca,c=a.nj,d=a.gb,e=a.gridTemplateColumns,f=a.direction,g=a.fDh,h=a.efb,k=c.padding;return cV(yUs,{Arc:a.asi,xYb:a.Yti,OBj:a.OBj,children:l=>cV("div",{style:{...b,...k},className:"A_NQjw",children:kV("div",{className:AV("w3zvMw",{KOhH2w:f!==2,poDbpw:f===2}),style:{width:d,gridTemplateColumns:e.join(" "),columnGap:c.columnGap,height:b.height-k.paddingTop-k.paddingBottom},children:[cV(zUs,{F1d:l(-1),JD:g===-1,efb:h,cGb:-1,columnGap:c.columnGap}),e.map((m,p)=>cV("div",{className:"_6p8piw",
children:cV(zUs,{F1d:l(p),JD:g===p,efb:h,cGb:p,columnGap:c.columnGap})},`add-control-${p}`))]})})})}),zUs=class extends GV{render(){const a=this.props.cGb,b=this.props.F1d,c=this.props.columnGap;return cV("div",{className:"kMUyMg",style:{width:c,insetInlineStart:a===-1?-c:void 0,insetInlineEnd:a!==-1?-c:0},children:cV("div",{className:AV("i8mzIQ",{_6dAisg:this.props.JD}),ref:b,children:cV("div",{className:"yAMchA",children:cV(qr,{variant:"tertiary",className:"xk7iWw",icon:Nu,Jc:"small",size:"tiny",
onClick:this.handleClick,hb:L("gQ2wmg")})})})})}constructor(...a){super(...a);this.handleClick=fV(()=>this.props.efb(this.props.cGb+1,this.props.cGb>=0?this.props.cGb:0))}};var FBs=class{static G(a){P(a,{asi:fV.bound,Yti:fV.bound,fDh:mV})}asi(a){this.BDh.activeIndex=a}Yti(a){this.BDh.activeIndex===a&&(this.BDh.activeIndex=void 0)}get fDh(){return this.BDh.activeIndex}constructor(a){this.BDh=a;FBs.G(this)}};var EBs=class{static G(a){P(a,{activeIndex:wV.ref,gDh:mV,fne:mV,dgn:mV,L0l:mV,G4c:mV})}get gDh(){const a=this.gI.selected,b=this.gI.focused;return b.dw?b.dw:a.dw}get fne(){const a=this.gI.selected;var b;return(b=this.gI.focused.nj)!==null&&b!==void 0?b:a.nj}get dgn(){var a;const b=this.gDh;if(b)return(a=this.ed.oE(b))===null||a===void 0?void 0:a.Lb()}get L0l(){var a=this.fne;if(a)return a=mA(a),(a===null||a===void 0?0:a.PJc)?a.Woa:void 0}get gb(){var a;return(a=this.fne)===null||a===void 0?void 0:
a.gb}get G4c(){const a=this.fne;if(!a)return!0;var b;const c=(b=mA(a))!==null&&b!==void 0?b:{};return this.gDh&&a.LP.grid.gridTemplateColumns.length>=4||!c||this.nMe.GRa||this.u7k.KWb||this.S9b()}constructor(a,b,c,d,e){this.gI=a;this.ed=b;this.nMe=c;this.u7k=d;this.S9b=e;this.activeIndex=(EBs.G(this),void 0)}};var IBs=eV(a=>cV("div",{className:"_aoqnA",children:cV(a.amp,{})})),KBs=eV(a=>{const b=a.gI,c=b.focused,d=b.selected,e=a.ed,f=a.Zej,g=a.Yej,h=a.Fej,k=a.Dir,l=a.svk,m=a.KWb;a=a.lMo;return kV("div",{className:"_aoqnA",children:[cV(AUs,{JD:b.JD,ed:e,focused:c,selected:d}),cV(BUs,{selected:d,ed:e,Zej:f,tvk:k}),cV(CUs,{focused:c,ed:e,Yej:g,svk:l,KWb:m,Fej:h}),cV(a,{})]})}),JBs=eV(a=>{const b=a.Sc;var c=a.context;a=a.Uip;c=Qj(c.layout).transform(__c.qk(c.container));return cV("div",{style:{...c.scale(b.scale).Lb(),
transform:`rotate(${c.rotation}deg)`},className:"RG4NVA",children:cV(a,{nd:b.scale})})}),BUs=eV(({selected:{dw:a,nj:b},ed:c,Zej:d,tvk:e})=>{const f=gV(()=>!1,[]),g=a&&c.oE(a);return a&&g&&b?kV("div",{style:g.Lb(),className:AV("fRULfA","gg402Q"),children:[cV(DUs,{ed:c,dw:a,isFocused:f}),cV(d,{}),cV(EUs,{dw:a,nj:b,tvk:e})]}):null}),CUs=eV(({focused:a,ed:b,Yej:c,svk:d,KWb:e,Fej:f})=>{const g=gV(l=>{var m;return((m=a.BYc)===null||m===void 0?void 0:m.qb)===l},[a]),h=a.dw,k=h&&b.oE(h);return k&&h?kV("div",
{style:k.Lb(),className:AV("fRULfA","MxqZyA",{i2kpZg:d.get(),co5Mjw:e.get()}),children:[cV("div",{className:"_8XBw7Q"}),cV(FUs,{focused:a}),cV(DUs,{ed:b,dw:h,isFocused:g}),cV(c,{}),cV(f,{})]}):null}),FUs=eV(a=>{var b=a.focused,c=b.dw;a=b.nj;b=b.Nqa;if(!c||!a||b==null)return null;c=c.direction;return kV("div",{className:"RBG0bg",style:a.padding,children:[cV("div",{className:"_8XBw7Q"}),cV("div",{className:AV("_5brsHQ",{KzPd0w:c!==2,CLZE_w:c===2}),style:{width:a.gb,gridTemplateColumns:a.LP.grid.gridTemplateColumns.join(" "),
columnGap:a.columnGap},children:cV("div",{className:"b0uIuw",style:{gridColumnStart:b+1,gridColumnEnd:b+2},children:cV("div",{className:"CVVcPQ"})})})]})}),AUs=eV(a=>{const b=a.JD,c=a.ed,d=a.selected;a=a.focused;const e=b.dw,f=b.BYc,g=gV(()=>!1,[]),h=gV(l=>{var m;return((m=b.BYc)===null||m===void 0?void 0:m.qb)===l},[b]),k=e&&c.oE(e);return k?kV("div",{style:k.Lb(),className:AV("fRULfA","_9RoMsw",{ICcROg:!(f===null||f===void 0||!f.qb),TEomtQ:a.dw!=null&&a.Cba.length===0,_4i1_pQ:d.dw!=null}),children:[cV("div",
{className:"_8XBw7Q"}),cV(DUs,{ed:c,dw:e,qv:h,isFocused:g})]}):null}),DUs=eV(({dw:a,ed:b,qv:c,isFocused:d})=>cV(rV,{children:[...a.cells.entries()].map(([e,f])=>{const g=mV(()=>b.XBg(a,f),{equals:__c.ok(Sj)});var h;return cV(GUs,{wLh:g,qv:(h=c===null||c===void 0?void 0:c(f))!==null&&h!==void 0?h:!1,isFocused:d(f)},e)})})),GUs=eV(({wLh:a,qv:b,isFocused:c})=>(a=a.get())?cV("div",{className:AV("lV3NGg",{_9RoMsw:b,_8LSeEQ:c}),style:a.Lb(),children:cV("div",{className:"JGja2g"})}):null),EUs=eV(({dw:a,
tvk:b,nj:c})=>{if(!b.get())return null;b=c.padding;return kV(rV,{children:[b.paddingTop>=24&&cV(HUs,{value:a.padding.xd,height:b.paddingTop,top:0}),b.paddingBottom>=24&&cV(HUs,{value:a.padding.Xe,height:b.paddingBottom,bottom:0})]})}),HUs=DV(({value:a,height:b,bottom:c,top:d})=>cV("div",{className:"OA3nYw",style:{height:b,bottom:c,top:d},children:cV("div",{className:"HnFUtw",children:cV(Q,{size:"xsmall",tone:jr,children:J("TFO24A",[Math.round(a)])})})}));var IUs=class{static G(a){P(a,{CXa:mV,vob:mV,Dgl:mV,HZe:mV,Hxd:mV,exd:mV,HCf:mV,NUn:mV})}get CXa(){const a=this.selection.La;if(a!==null&&a!==void 0&&a.Ki()){if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout")return a.inner.container;if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout-cell")return a.inner.container.container}}get vob(){var a;return(a=this.CXa)===null||a===void 0?void 0:a.layout}get Dgl(){const a=this.selection.La;if(a!==null&&a!==void 0&&a.Ki()){if((a===null||a===
void 0?0:a.inner)&&a.inner.type==="layout")return a.inner.cells[0];if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout-cell")return a.inner.container.qb}}get HZe(){var a=this.vob,b=this.Dgl;if(a&&b&&(b=(new Map(a.cells.map((e,f)=>[e,f]))).get(b))){a=sk.LP(a).grid.Tv.get(b);var c,d;if(this.Hxd)return parseInt((c=a===null||a===void 0?void 0:a.gridRowStart)!==null&&c!==void 0?c:"-1",10)-1;if(this.exd)return parseInt((d=a===null||a===void 0?void 0:a.gridColumnStart)!==null&&d!==void 0?d:"-1",
10)-1}}get Hxd(){const a=this.vob;return a?sk.LP(a).grid.gridTemplateColumns.length===1:!1}get exd(){const a=this.vob;return a?sk.LP(a).grid.gridTemplateRows.length===1:!1}get HCf(){if(this.Hxd&&!this.exd)return"row";if(this.exd&&!this.Hxd)return"column"}get NUn(){return this.HCf==="row"||this.HCf==="column"?this.CXa:void 0}constructor(a){this.selection=a;IUs.G(this)}},JUs=class{constructor(a){this.selection=a;this.selected=new IUs(this.selection)}};var KUs=class{static G(a){P(a,{dw:mV,ZGa:mV,nj:mV,BYc:mV,Cba:mV,Csf:mV})}get R3h(){const a=this.selection.Ib;if(((a===null||a===void 0?void 0:a.type)===0||(a===null||a===void 0?void 0:a.type)===1)&&a.container.type==="layout-item-cell")return a.container}get Ggl(){const a=this.selection.Ib;return(a===null||a===void 0?void 0:a.type)===3?a.container:void 0}get dw(){var a;const b=(a=this.R3h)!==null&&a!==void 0?a:this.Ggl;return b===null||b===void 0?void 0:b.layout}get ZGa(){var a;const b=this.R3h,c=
this.Ggl;var d;return(a=(d=b===null||b===void 0?void 0:b.container)!==null&&d!==void 0?d:c)===null||a===void 0?void 0:a.container.text}get nj(){return this.qmd(this.dw,this.ZGa)}get BYc(){const a=this.R3h;return a?{qb:a.qb,id:a.JF}:void 0}get Cba(){const a=this.selection.Ib;return(a===null||a===void 0?void 0:a.type)===3?[...a.map(b=>b)]:[]}get Csf(){const a=this.nj,b=this.R3h;if(b&&a){var [c,d]=a.Rem({qb:b.qb,id:b.JF});return c!=null&&d===c+1?c-1:void 0}}get Nqa(){var a;const b=this.selection.Ib,
c=this.nj,d=(a=this.Ggl)===null||a===void 0?void 0:a.layout;if((b===null||b===void 0?void 0:b.type)===3&&d&&c){var e=c.LP,f=new Map(d.cells.map((g,h)=>[g,h]));a=b.map(g=>{g=n(f.get(g));const {gridColumnStart:h,gridColumnEnd:k}=n(e.grid.Tv.get(g));if(h==null||k==null)return[];const l=parseInt(h,10);return Array.from({length:parseInt(k,10)-l},(m,p)=>l-1+p)});a=new Set(a.flat(1));return a.size===1?[...a][0]:void 0}}constructor(a,b){this.selection=a;this.qmd=b;KUs.G(this)}},LUs=class{static G(a){P(a,
{nxb:wV.ref,dw:mV,ZGa:mV,nj:mV,BYc:mV})}get dw(){var a;return(a=this.nxb)===null||a===void 0?void 0:a.dw}get ZGa(){var a;return(a=this.nxb)===null||a===void 0?void 0:a.ZGa}get nj(){return this.qmd(this.dw,this.ZGa)}get BYc(){var a;return(a=this.nxb)===null||a===void 0?void 0:a.BYc}constructor(a){this.qmd=a;this.nxb=(LUs.G(this),void 0)}},MUs=class{static G(a){P(a,{dw:mV,container:mV,nj:mV})}get dw(){var a;const b=this.selection.Ib;if((b===null||b===void 0?void 0:b.type)===1&&((a=b.only)===null||a===
void 0?void 0:a.type)==="layout")return b.only}get ZGa(){var a;return(a=this.container)===null||a===void 0?void 0:a.text}get container(){var a;const b=this.selection.Ib;if((b===null||b===void 0?void 0:b.type)===1&&((a=b.only)===null||a===void 0?void 0:a.type)==="layout")return b.container}get nj(){return this.qmd(this.dw,this.ZGa)}constructor(a,b){this.selection=a;this.qmd=b;MUs.G(this)}},NUs=class{constructor(a,b,c){this.selection=a;this.ed=b;this.Nhd=c;this.qmd=(d,e)=>{var f=this.ed;const g=this.Nhd;
f=e!=null?f.aEa(e):void 0;if(e!=null&&d!=null&&f!=null)return new __c.zIb(d,f,g)};this.focused=new KUs(this.selection,this.qmd);this.JD=new LUs(this.qmd);this.selected=new MUs(this.selection,this.qmd)}};var OUs=5*Xc,PUs=class{static G(a){P(a,{Djg:mV,xN:mV})}get Djg(){const a=this.gI.focused.dw,b=a&&this.ed.oE(a);return b?[Qj({top:b.tl.y+a.padding.xd-OUs,left:b.tl.x,width:b.width,height:OUs})]:[]}get xN(){return this.viewport.dP||Ej()}constructor(a,b,c){this.gI=a;this.ed=b;this.viewport=c;PUs.G(this)}};var QUs=class{constructor(a,b){this.ed=a;this.Nhd=b;this.xbk=c=>{const d=__c.aXd(c.layout)[0];c=c.layout.cells.get(d);return[d,c]};this.t6h=(c,d)=>{for(const [e,f]of d.cells.entries())if(f===c)return e};this.E7h=(c,d,e)=>{var f=d.layout,g=__c.aXd(d.layout);c=g.indexOf(c);if(c==null)return[void 0,void 0];const h=d.layout.direction===1;d=d.layout.direction===2;e=e==="next"||e==="down"||h&&e==="right"||d&&e==="left"?c+1:c-1;return(f=(g=e>=0?g[e]:void 0)?f.cells.get(g):void 0)&&g?[f,g]:[void 0,void 0]}}};var TBs=DV(({orientation:a,height:b,width:c,onClick:d,padding:e,gb:f,PVq:g,gap:h,vei:k,j9b:l,onDragStart:m,qe:p,onDragEnd:q,pWd:r,zvb:t,direction:u,nd:w=1})=>{const x=a==="column"?u===1?h/2:-h/2:0,y=-1*x,z=a==="row"?h/2:0,A=-1*z;return cV("div",{className:AV("LXcOeQ",{smp5Fg:a==="column",DuBvGw:a==="row"}),style:{width:c,height:b,padding:`${e.paddingTop}px ${e.paddingRight}px ${e.paddingBottom}px ${e.paddingLeft}px`},children:kV("div",{style:{width:f,gridTemplateColumns:a==="column"?g.join(" "):"none",
gridTemplateRows:a==="row"?g.join(" "):"none",columnGap:a==="column"?h:"none",rowGap:a==="row"?h:"none"},className:AV("D5zYZQ",{gHnwHQ:u!==2,ON6A0w:u===2}),children:[g.map((B,D)=>cV(RUs,{orientation:a,ZDl:D,F_:D===k,onClick:d,onDragStart:m,qe:p,onDragEnd:q,zvb:t,nd:w},D)),r&&cV("div",{className:"MApa6w",style:r.Lb(),children:cV("div",{className:"LUDnXA"})}),l&&k!=null&&cV("div",{className:AV({SpPSQQ:a==="column",kJYp5A:a==="row",wpCz2A:l.index<k,XRPiCQ:l.index>k}),style:{...l.bounds.translate(l.index<
k?y:x,l.index<k?A:z).Lb()}})]})})}),RUs=class extends VMs{componentWillUnmount(){var a;(a=this.U4a)===null||a===void 0||a.call(this)}render(){const a=this.props.orientation,b=this.props.ZDl,c=this.props.F_,d=this.props.zvb;return cV("div",{className:AV("Y7ISsw",{VQ2gPA:a==="column",G9GP3A:a==="row",P_zEuA:c}),style:{gridColumnStart:a==="column"?b+1:"auto",gridColumnEnd:a==="column"?b+2:"auto",gridRowStart:a==="row"?b+1:"auto",gridRowEnd:a==="row"?b+2:"auto"},children:cV("div",{className:AV("S7hrgg",
{tMmKeg:a==="column",_4bvhgg:a==="row"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,style:{left:c&&a==="column"?d:void 0,top:c&&a==="row"?d:void 0},children:cV(Yi,{variant:"tertiary",className:"ALM0Rw",icon:__c.qtg,Jc:"small",size:"small",ariaLabel:a==="column"?L("JuaJHw"):L("iz71mA"),onClick:this.onClick})})})}constructor(...a){super(...a);this.draggable=new ar({onDragStart:fV((b,c)=>{this.props.onDragStart(this.props.ZDl,new sj(b.clientX,b.clientY),this.props.nd);
this.U4a=c}),qe:fV(b=>this.props.qe(new sj(b.clientX,b.clientY))),onDragEnd:()=>{requestAnimationFrame(fV(()=>{this.U4a=void 0;this.props.onDragEnd()}))},cHa:mV(()=>"W74d3A")});this.onClick=fV(()=>this.props.onClick(this.props.ZDl))}};var SUs=class{static G(a){P(a,{I7a:wV.ref,zvb:mV,iA:mV,hAc:mV,j9b:mV,pWd:mV})}set Rx(a){this.I7a=MBs(this.viewport.Qm(this.viewport.jh).transform(a.x,a.y),this.TTe,this.iA.rotation)}get zvb(){return this.dragStart!=null&&this.I7a!=null?this.I7a.x-this.dragStart.x:void 0}get iA(){return Qj(this.CXa.layout).transform(__c.qk(this.CXa.container))}get hAc(){const a=this.CXa,b=this.Jlc,c=this.TTe,d=[...sk.Fzj(a.layout).values()].sort((f,g)=>f.Rb.x-g.Rb.x),e=sk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,
-e.paddingBlockStart).scale(b*c))}get j9b(){var a=this.I7a,b=this.CXa;const c=this.TTe,d=this.hAc;if(this.zvb!=null&&d&&a!=null){var e=MBs(this.iA.Rb,c,this.iA.rotation);b=sk.padding(b.layout);var f=a.x-e.x-b.paddingInlineStart*c;a=d.findIndex(g=>g.Rb.x<=f&&f<g.r.x);return a!==-1?{index:a,bounds:d[a]}:void 0}}get pWd(){var a;const b=n(this.cGb),c=(a=this.hAc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate((d=this.zvb)!==null&&d!==void 0?d:0,0):void 0}}close(){var a;const b=(a=this.j9b)===
null||a===void 0?void 0:a.index;b!=null&&this.myb.cac(this.CXa.layout,this.cGb,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.myb=b;this.CXa=c;this.cGb=d;this.Jlc=e;this.TTe=f;this.onClose=h;this.dragStart=(SUs.G(this),void 0);this.dragStart=MBs(a.Qm(a.jh).transform(g.x,g.y),f,this.iA.rotation)}},TUs=class{static G(a){P(a,{I7a:wV.ref,zvb:mV,iA:mV,hAc:mV,j9b:mV,pWd:mV})}set Rx(a){this.I7a=MBs(this.viewport.Qm(this.viewport.jh).transform(a.x,a.y),this.TTe,this.iA.rotation)}get zvb(){return this.dragStart!=
null&&this.I7a!=null?this.I7a.y-this.dragStart.y:void 0}get iA(){return Qj(this.CXa.layout).transform(__c.qk(this.CXa.container))}get hAc(){const a=this.CXa,b=this.Jlc,c=this.TTe,d=[...sk.Fzj(a.layout).values()].sort((f,g)=>f.t.y-g.t.y),e=sk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,-e.paddingBlockStart).scale(b*c))}get j9b(){var a=this.I7a,b=this.CXa;const c=this.TTe,d=this.hAc;if(this.zvb!=null&&d&&a!=null){var e=MBs(this.iA.t,c,this.iA.rotation);b=sk.padding(b.layout);
var f=a.y-e.y-b.paddingBlockStart*c;a=d.findIndex(g=>g.t.y<=f&&f<g.b.y);return a!==-1?{index:a,bounds:d[a]}:void 0}}get pWd(){var a;const b=n(this.rowIndex),c=(a=this.hAc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate(0,(d=this.zvb)!==null&&d!==void 0?d:0):void 0}}close(){var a;const b=(a=this.j9b)===null||a===void 0?void 0:a.index;b!=null&&this.myb.ZFf(this.CXa.layout,this.rowIndex,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.myb=b;this.CXa=c;this.rowIndex=
d;this.Jlc=e;this.TTe=f;this.onClose=h;this.dragStart=(TUs.G(this),void 0);this.dragStart=MBs(a.Qm(a.jh).transform(g.x,g.y),f,this.iA.rotation)}},UUs=class{static G(a){P(a,{I7a:wV.ref,zvb:mV,hAc:mV,j9b:mV,pWd:mV})}set Rx(a){var b;this.I7a=(b=this.viewport.dP)===null||b===void 0?void 0:b.transform(a.x,a.y)}get zvb(){return this.dragStart!=null&&this.I7a!=null?this.I7a.x-this.dragStart.x:void 0}get hAc(){var a=this.dw;const b=this.nj,c=a&&this.ed.oE(a);if(c){a=b.padding;var d=a.paddingTop,e=a.paddingBottom;
return b.Kag.map(f=>Nj(f.left,0,f.left+f.width,c.height-d-e))}}get j9b(){var a=this.ed,b=this.I7a,c=this.zvb;const d=this.dw,e=this.hAc,f=this.nj;a=d&&a.oE(d);b=b===null||b===void 0?void 0:b.x;if(c!=null&&e&&b!=null&&a){var g=b-a.Rb.x-(a.width-f.gb)/2;c=e.findIndex(h=>h.Rb.x<=g&&g<h.r.x);return c!==-1?{index:c,bounds:e[c]}:void 0}}get pWd(){var a;const b=n(this.cGb),c=(a=this.hAc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate((d=this.zvb)!==null&&d!==void 0?d:0,0):void 0}}close(){var a;
const b=(a=this.j9b)===null||a===void 0?void 0:a.index;b!=null&&this.zwa.cac(this.nj,this.cGb,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){var k;this.viewport=a;this.ed=b;this.zwa=c;this.dw=d;this.cGb=e;this.onClose=g;this.nj=h;this.dragStart=(UUs.G(this),void 0);this.dragStart=(k=a.dP)===null||k===void 0?void 0:k.transform(f.x,f.y)}},RBs=class{constructor(a,b,c,d){this.store=a;this.myb=b;this.oh=c;this.viewport=d;this.onClick=()=>{};this.onDragStart=(e,f,g)=>{const h=this.store.CXa;if(h&&sk.LP(h.layout)){var k=
this.store.Jlc;Sk(this.oh,l=>{var m;(m=this.store.l5a)===null||m===void 0||m.close();this.store.exd&&(m=new SUs(this.viewport,this.myb,h,e,k,g,f,()=>{l()}),this.store.l5a=m);this.store.Hxd&&(m=new TUs(this.viewport,this.myb,h,e,k,g,f,()=>{l()}),this.store.l5a=m)})}};this.qe=e=>{this.store.l5a&&(this.store.l5a.Rx=e)};this.onDragEnd=()=>{if(this.store.l5a){var e;(e=this.store.l5a)===null||e===void 0||e.close();this.store.l5a=void 0}}}},OBs=class{tZe(a){const b=this.store.dw,c=this.store.ZGa;var d=this.store.LP;
b&&c&&d&&(d=[...d.grid.Tv.entries()].map(([e,f])=>{var g=f.gridColumnStart;f=f.gridColumnEnd;g&&f?(f=parseInt(f,10)-1,g=parseInt(g,10)-1<=a&&f>a):g=!1;return g?e:void 0}).filter(vb).map(e=>b.cells.get(e)).filter(vb),this.Xa.xLi(c,b,d))}constructor(a,b,c,d,e){this.store=a;this.zwa=b;this.Xa=c;this.oh=d;this.viewport=e;this.onClick=f=>{this.tZe(f)};this.onDragStart=(f,g)=>{const h=this.store.dw,k=this.store.LP,l=this.store.nj;h&&k&&l&&Sk(this.oh,m=>{var p;this.tZe(f);(p=this.store.l5a)===null||p===
void 0||p.close();const q=new UUs(this.viewport,this.store.ed,this.zwa,h,f,g,()=>{q.j9b&&this.tZe(q.j9b.index);m()},l);this.store.l5a=q})};this.qe=f=>{this.store.l5a&&(this.store.l5a.Rx=f)};this.onDragEnd=()=>{var f;(f=this.store.l5a)===null||f===void 0||f.close();this.store.l5a=void 0}}};var QBs=class{static G(a){P(a,{l5a:wV.ref})}get KWb(){return this.l5a!=null}get Hxd(){return this.gI.selected.Hxd}get exd(){return this.gI.selected.exd}get orientation(){if(this.Hxd)return"row";if(this.exd)return"column"}get CXa(){return this.gI.selected.CXa}get vob(){return this.gI.selected.vob}get direction(){const a=this.vob;return a&&a.direction}get uvj(){var a=this.CXa;if(a){var b=a.layout;a=Qj({...b,width:b.gb,height:b.Ub}).transform(__c.qk(a));return{vRd:a.width,Jff:a.height}}}get Jlc(){const a=
this.vob,b=this.uvj;return a==null||b==null?1:b.vRd/a.gb}get gap(){var a=this.vob;const b=this.Jlc,c=this.orientation;if(a&&c)return a=c==="row"?sk.rowGap(a):sk.columnGap(a),b*a}get vei(){return this.gI.selected.HZe}get Vyo(){const a=this.vob,b=this.Jlc,c=this.orientation;if(a&&c)return(c==="row"?sk.Ri(a):sk.elb(a)).map(d=>d*b)}get gb(){const a=this.vob;return a&&a.width-this.padding.paddingRight-this.padding.paddingLeft}get padding(){var a=this.vob;a=a&&sk.padding(a);var b,c,d,e;return{paddingTop:(b=
a===null||a===void 0?void 0:a.paddingBlockStart)!==null&&b!==void 0?b:0,paddingRight:(c=a===null||a===void 0?void 0:a.paddingInlineEnd)!==null&&c!==void 0?c:0,paddingBottom:(d=a===null||a===void 0?void 0:a.paddingBlockEnd)!==null&&d!==void 0?d:0,paddingLeft:(e=a===null||a===void 0?void 0:a.paddingInlineStart)!==null&&e!==void 0?e:0}}get Cdd(){return!this.vob||this.S9b()}constructor(a,b){this.gI=a;this.S9b=b;this.l5a=(QBs.G(this),void 0)}},NBs=class{static G(a){P(a,{l5a:wV.ref,KWb:mV})}get KWb(){return this.l5a!=
null}get orientation(){return this.dw?"column":void 0}get dw(){return this.gI.focused.dw}get direction(){const a=this.dw;return a===null||a===void 0?void 0:a.direction}get ZGa(){return this.gI.focused.ZGa}get nj(){return this.gI.focused.nj}get uvj(){var a=this.dw;return(a=a&&this.ed.oE(a))&&{vRd:a.width,Jff:a.height}}get gap(){const a=this.nj;return a===null||a===void 0?void 0:a.columnGap}get vei(){var a=this.gI.focused;const b=a.Csf;a=a.Nqa;return b!==null&&b!==void 0?b:a}get Woa(){var a;return this.nj!=
null?(a=mA(this.nj))===null||a===void 0?void 0:a.Woa:void 0}get LP(){var a;return(a=this.nj)===null||a===void 0?void 0:a.LP}get Vyo(){var a;return(a=this.nj)===null||a===void 0?void 0:a.ONh}get gb(){var a;return(a=this.nj)===null||a===void 0?void 0:a.gb}get padding(){var a,b,c,d;return{paddingTop:(c=(a=this.nj)===null||a===void 0?void 0:a.padding.paddingTop)!==null&&c!==void 0?c:0,paddingRight:0,paddingBottom:(d=(b=this.nj)===null||b===void 0?void 0:b.padding.paddingBottom)!==null&&d!==void 0?d:0,
paddingLeft:0}}get Cdd(){var a;const b=this.nj;return!this.dw||!b||!((a=mA(b))===null||a===void 0?0:a.PJc)||this.nMe.GRa||this.S9b()}constructor(a,b,c,d){this.gI=a;this.nMe=b;this.ed=c;this.S9b=d;this.l5a=(NBs.G(this),void 0)}};var VUs=class{set Rx(a){this.strategy.apply(a)}close(){var a,b;this.J6a.stop();(a=(b=this.strategy).close)===null||a===void 0||a.call(b);this.onClose()}constructor(a,b,c){this.strategy=a;this.J6a=b;this.onClose=c}},WUs=class{static G(a){P(a,{Fh:wV.ref,nkc:wV.ref,tNg:wV.ref,sNg:wV.ref,Ihi:wV.ref,GRa:mV,lcn:mV})}get selected(){const a=this.gI.selected,b=a.dw;return{dw:b,nj:a.nj,container:a.container,ZGa:a.ZGa,i4d:b&&this.ed.oE(b)}}get focused(){var a=this.gI.focused;const b=a.dw,c=a.nj,d=a.ZGa,e=a.Csf;
a=a.Nqa;return{dw:b,i4d:b&&this.ed.oE(b),pzf:e!==null&&e!==void 0?e:a,nj:c,ZGa:d}}get EDs(){var a;const b=this.gI.focused.nj;var c=this.selection.Ib;c=(c===null||c===void 0?void 0:c.type)===1&&c.only!=null&&c.container.type==="layout-item-cell";return!b||!((a=mA(b))===null||a===void 0?0:a.PJc)||c}get S9b(){return this.pfr()}get GRa(){return this.tNg||this.nkc!=null||this.sNg}get lcn(){const a=this.wp.controls.JI;return a==="top"||a==="bottom"}get rvk(){return this.Ihi||this.sNg}constructor(a,b,c,
d,e){this.selection=a;this.gI=b;this.ed=c;this.wp=d;this.pfr=e;this.Fh=(WUs.G(this),void 0);this.nkc=void 0;this.Ihi=this.sNg=this.tNg=!1}};var XUs=class{apply(a){UBs(this,a);const b=this.$za();a=this.transformPoint(a);this.Rna.Kw(this.Ttd,a,b,!0,c=>{UBs(this,c);return b})}close(){this.Rna.close()}constructor(a,b,c,d,e,f,g,h){this.nkc=a;this.Pul=b;this.dw=c;this.nj=d;this.handle=e;this.Rna=f;this.$za=g;this.transformPoint=h;this.Ttd={type:"resize",handle:this.handle};this.lpo=this.nj.gb}},XBs=class{constructor(a,b,c,d,e){this.undo=a;this.oh=b;this.Vqa=c;this.transformPoint=d;this.store=e;this.GNr=(f,g)=>{const h=this.store.selected.container,
k=this.store.selected.dw,l=this.store.selected.i4d,m=this.store.selected.nj;h&&k&&l&&m&&Sk(this.oh,p=>{var q;this.store.nkc=f;(q=this.store.Fh)===null||q===void 0||q.close();q=VBs(m,l);q=__c.tlg(this.Vqa,new __c.Fph(q,g),k,h,m.Gq);this.store.Fh=new VUs(new XUs(f,g,k,m,f,q,()=>VBs(m,l),this.transformPoint),this.undo.startBuffering(),p)})};this.FNr=f=>{this.store.Fh&&(this.store.Fh.Rx=f)};this.ENr=()=>{var f;this.store.nkc=void 0;(f=this.store.Fh)===null||f===void 0||f.close();this.store.Fh=void 0}}};var YUs=class{apply(a){this.mjh!=null&&this.Hji.x!==a.x&&(a=a.x-this.Pul.x,this.dw.direction!==2?this.Ssl==="inlineStart"&&(a*=-1):this.Ssl==="inlineEnd"&&(a*=-1),WBs(this,this.mjh+a),this.o_m=!0)}close(){if(this.o_m){var a=this.Woa;this.P.track(__c.fph,{action:"column_width_resized",oK:a===null||a===void 0?void 0:a.grid.gridTemplateColumns.length,jt:a===null||a===void 0?void 0:a.grid.gridTemplateRows.length})}}constructor(a,b,c,d,e,f){var g,h;this.P=a;this.dw=b;this.nj=c;this.cGb=d;this.Ssl=e;this.Pul=
f;this.o_m=!1;this.O2l=this.Ssl==="inlineEnd"?d+1:d-1;pa(this.cGb>=0&&this.O2l>=0);this.mjh=(g=this.nj.Kag[this.cGb])===null||g===void 0?void 0:g.width;this.Woa=(h=this.nj!=null?__c.nuf(this.nj):void 0)===null||h===void 0?void 0:h.Woa;this.GWp=c.gb-(this.Woa?c.Xro:0);this.Hji=f}},cCs=class{static G(a){P(a,{onMouseEnter:fV.bound,onMouseLeave:fV.bound,onClick:fV.bound})}onMouseEnter(){this.store.Ihi=!0}onMouseLeave(){this.store.Ihi=!1}onClick(){const a=this.store.focused.dw,b=this.store.focused.ZGa;
a&&b&&this.Xa.Rv(b,a)}constructor(a,b,c,d,e){this.undo=a;this.Xa=b;this.oh=c;this.P=d;this.store=e;this.jNr=(cCs.G(this),(f,g,h)=>{const k=this.store.focused.dw,l=this.store.focused.nj,m=this.store.focused.i4d;k&&m&&l&&Sk(this.oh,p=>{var q;this.store.sNg=!0;(q=this.store.Fh)===null||q===void 0||q.close();this.store.Fh=new VUs(new YUs(this.P,k,l,f,g,h),this.undo.startBuffering(),p)})});this.iNr=f=>{this.store.Fh&&(this.store.Fh.Rx=f)};this.hNr=()=>{var f;this.store.sNg=!1;(f=this.store.Fh)===null||
f===void 0||f.close();this.store.Fh=void 0}}};var ZUs,dCs,aVs=class extends GV{get wfr(){return this.props.pzf===0}get sgr(){var a;const {Woa:b}=(a=mA(this.props.nj))!==null&&a!==void 0?a:{};return b&&this.props.pzf===b.grid.gridTemplateColumns.length-1}render(){const a=this.props.dw,b=this.props.nj,c=this.props.i4d,d=this.props.qe,e=this.props.onDragEnd;var f=this.props.pzf;const g=this.props.rvk,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l=this.props.onClick;var m=b.padding;const p=m.paddingTop,q=m.paddingBottom;m=b.Kag.map(r=>Nj(r.left,
0,r.left+r.width,c.height-p-q));return(f=f!=null?m===null||m===void 0?void 0:m[f]:void 0)?kV("div",{className:"_2qe7aw",style:{paddingTop:p,paddingBottom:q},children:[cV("div",{className:AV("vb8OZg",{y1tB4g:g})}),kV("div",{className:AV("BSPXOg",{vBa_SA:a.direction!==2,q4lpmA:a.direction===2}),style:{width:b.gb},children:[g&&(m===null||m===void 0?void 0:m.map((r,t)=>cV("div",{className:"_22NqHw",style:{...r},children:cV("div",{className:"vb8OZg"})},t))),cV($Us,{bounds:f.Lb(),rjr:!this.wfr,dfr:!this.sgr,
onDragStart:this.onDragStart,qe:d,onDragEnd:e,onMouseEnter:h,onMouseLeave:k,onClick:l})]})]}):null}constructor(...a){super(...a);this.onDragStart=(b,c)=>{const d=this.props.pzf;if(d!=null)this.props.onDragStart(d,b,c)}}};({c:[dCs,ZUs]}=JV(aVs,[],[Lb],GV));ZUs();
var $Us=DV(({bounds:a,rjr:b,dfr:c,onDragStart:d,qe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})=>kV("div",{className:AV("ox1XRA"),style:a,children:[b&&cV(bVs,{side:"inlineStart",onDragStart:d,qe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k}),c&&cV(bVs,{side:"inlineEnd",onDragStart:d,qe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})]})),bVs=class extends VMs{render(){const a=this.props.side,b=this.props.onMouseEnter,c=this.props.onMouseLeave;return cV("div",{className:AV("pa2PwA",
{Ga8mEw:a==="inlineEnd",_4ePfAA:a==="inlineStart"}),onMouseDown:this.onMouseDown,onTouchStart:this.draggable.onTouchStart,onClick:this.onClick,onMouseEnter:b,onMouseLeave:c})}constructor(...a){super(...a);this.NGe=!1;this.draggable=new ar({onDragStart:fV(b=>{this.NGe=!0;this.props.onDragStart(this.props.side,new sj(b.clientX,b.clientY))}),qe:fV(b=>this.props.qe(new sj(b.clientX,b.clientY))),onDragEnd:fV(()=>this.props.onDragEnd()),cHa:mV(()=>"KQSIwQ")});this.onMouseDown=b=>{this.NGe=!1;this.draggable.onMouseDown(b)};
this.onClick=()=>{if(!this.NGe)this.props.onClick()}}};var YBs=DV(a=>{const b=a.xAa,c=a.paddingTop,d=a.onDragStart,e=a.qe,f=a.onDragEnd,g=a.nkc;return cV("div",{style:{width:a.JS,height:b},children:cV("div",{style:{marginTop:`${c}px`,width:`${a.gb}px`,height:`${b-c-a.paddingBottom}px`},className:AV("aPwIdw",{uyaqmw:!!g,ifl7dA:a.S9b}),children:["left","right"].map(h=>cV(cVs,{side:h,onDragStart:d,qe:e,onDragEnd:f,GRa:g===h},h))})})}),cVs=class extends VMs{render(){const a=this.props.side;return cV("div",{className:AV("y_6bUQ",{__x9Ig:a==="left",OjZzNQ:a===
"right",Q_bC3w:this.props.GRa}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:cV("div",{className:"c9fvmg"})})}constructor(...a){super(...a);this.draggable=new ar({onDragStart:fV(b=>this.props.onDragStart(this.props.side,new sj(b.clientX,b.clientY))),qe:fV(b=>this.props.qe(new sj(b.clientX,b.clientY))),onDragEnd:fV(()=>this.props.onDragEnd()),cHa:mV(()=>"_7WfdmA")})}};var aCs=eV(a=>{const b=a.onDragStart,c=a.onDragEnd,d=a.qe,e=a.Fw,f=a.width,g=a.height,h=a.HFs,k=a.zdc,{mWo:l,...m}=a;a=m.P2d;const p=a.Neb;return kV(rV,{children:[cV(l,{...(h?{...m,P2d:{...a,Neb:{...p,left:void 0,right:void 0}}}:m)}),h&&cV(dVs,{width:f,height:g,zdc:k,onDragStart:b,qe:d,onDragEnd:c,Fw:e})]})}),dVs=eV(({height:a,width:b,zdc:c,onDragStart:d,qe:e,onDragEnd:f,Fw:g})=>kV("div",{className:"Vx6WjA",style:{width:b,height:a},children:[c.Rb&&cV(eVs,{side:"left",Gym:c.Rb,onDragStart:d,qe:e,onDragEnd:f,
Fw:g}),c.r&&cV(eVs,{side:"right",Gym:c.r,onDragStart:d,qe:e,onDragEnd:f,Fw:g})]})),eVs=class extends VMs{render(){const a=this.props.side;return cV("div",{className:AV("DuTSAQ",{bM_mBA:a==="left",X4n9ZA:a==="right"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:cV("div",{className:"LZc7cQ"})})}constructor(...a){super(...a);this.onDragStart=(b,c,d)=>{this.props.onDragStart(this.props.side,this.props.Gym,b,c,d)};this.draggable=new ar({onDragStart:fV(this.onDragStart),
qe:fV(this.props.qe),Fw:fV(this.props.Fw),onDragEnd:fV(this.props.onDragEnd)})}};var fVs=parseInt("24px",10),$Bs=KV(function(a){return Math.abs(a.width-a.gb)<fVs});var gCs=class{constructor(a,b){this.store=a;this.P=b;this.nNi=c=>{var d=this.store.Xji;if(d){var e=d.dw;d=d.cells;var f=new Map(e.cells.map((g,h)=>[g,h]));d.forEach(g=>{const h=f.get(g);e.behavior.rules.forEach(k=>{if(k=k.grid.Tv.get(h))k.padding.all=c,k.padding.xd=void 0,k.padding.Xe=void 0,k.padding.Gd=void 0,k.padding.If=void 0,this.V9p()})})}};this.mzs=c=>{const d=this.store.nj!=null?__c.nuf(this.store.nj):void 0;d&&(d.aac&&(d.aac.grid.columnGap=c),d.Woa&&(d.Woa.grid.columnGap=c),this.X9p())};
this.EAs=c=>{const d=this.store.nj!=null?__c.nuf(this.store.nj):void 0;d&&(d.aac&&(d.aac.grid.rowGap=c),d.Woa&&(d.Woa.grid.rowGap=c),this.m$p())};this.hMj=c=>Db(()=>{var d=this.store.nj,e;({Woa:d}=(e=d!=null?mA(d):void 0)!==null&&e!==void 0?e:{});this.P.track(__c.fph,{action:c,oK:d===null||d===void 0?void 0:d.grid.gridTemplateColumns.length,jt:d===null||d===void 0?void 0:d.grid.gridTemplateRows.length})},1E3);this.V9p=this.hMj("cell_spacing_resized");this.X9p=this.hMj("column_spacing_resized");this.m$p=
this.hMj("row_spacing_resized")}};var fCs=class{static G(a){P(a,{Xji:mV,nj:mV,xqm:mV,cSd:mV})}get Xji(){var a,b=(a=this.gI.selected)===null||a===void 0?void 0:a.dw;if(b)return a=b.cells.map(d=>d),{dw:b,cells:a};b=this.gI.focused.dw;a=this.gI.focused.BYc;const c=this.gI.focused.Cba;if(b&&a)return{dw:b,cells:[a.qb]};if(b&&c)return{dw:b,cells:c}}get nj(){var a;return(a=this.gI.selected.nj)!==null&&a!==void 0?a:this.gI.focused.nj}get xqm(){var a=this.Xji;const b=this.nj;if(a&&b){var c=a.cells,d=b.LP,e=new Map(a.dw.cells.map((f,g)=>[f,
g]));a=c.map(f=>{var g;f=e.get(f);return f!=null?(g=d.grid.Tv.get(f))===null||g===void 0?void 0:g.padding:void 0}).map(f=>f!=null?__c.nIb(f,1).paddingBlockStart:0);a=[...(new Set(a))];return a.length===1?a[0]:void 0}}get cSd(){var a=this.mjf.U_a;const b=a===null||a===void 0?void 0:a["change-cell-padding"],c=a===null||a===void 0?void 0:a["change-column-gap"];a=a===null||a===void 0?void 0:a["change-row-gap"];if(this.Xji&&(b||c||a))return{cellPadding:b,columnGap:c,rowGap:a}}get columnGap(){var a;return(a=
this.nj)===null||a===void 0?void 0:a.LP.grid.columnGap}get rowGap(){var a;return(a=this.nj)===null||a===void 0?void 0:a.LP.grid.rowGap}constructor(a,b){this.gI=a;this.mjf=b;fCs.G(this)}};var hCs=DV(a=>cV(a.Ci,{icon:__c.X$g,pressed:a.open,Ah:"icon",onClick:a.onClick,tooltip:L("BtDtuQ"),children:L("BtDtuQ")})),iCs=DV(a=>{const b=a.Lh,c=a.Oe,d=a.cellPadding,e=a.cOk,f=a.columnGap,g=a.gNr,h=a.rowGap;a=a.UWr;return cV(R,{padding:c==="fill"?"2u":"0",className:AV({u9Sfdw:c==="fixed"}),children:kV(Wc,{spacing:"2u",children:[e&&cV(b,{label:L("BHtCqg"),min:0,max:40,step:1,Kw:0,value:d!=null?Math.round(d*1E3)/1E3:void 0,onChange:fV(e)}),g&&cV(b,{label:L("aT6ZSA"),min:0,max:40,step:1,Kw:0,value:f!=
null?Math.round(f*1E3)/1E3:void 0,onChange:fV(g)}),a&&cV(b,{label:L("HFpIpQ"),min:0,max:40,step:1,Kw:0,value:h!=null?Math.round(h*1E3)/1E3:void 0,onChange:fV(a)})]})})});var gVs=class{static G(a){P(a,{uhi:wV.ref})}constructor(){this.uhi=(gVs.G(this),!1)}},hVs=class{static G(a){P(a,{wjn:mV,Tql:mV,NNb:mV,$mo:mV,mNb:mV,Kt:mV,wpc:mV,Hbn:mV,DBi:mV,oYc:mV,dUe:mV,XLk:mV,Ykf:fV.bound,oWk:fV.bound,PQk:fV.bound})}get wjn(){const a=this.selection.La;if(!(this.Ma.mode<40)&&a)switch(a.type){case "pages":var b,c,d,e;if(((b=a.inner)===null||b===void 0?void 0:b.type)==="background"||((c=a.inner)===null||c===void 0?void 0:c.type)==="pages"&&((d=a.inner.inner)===null||d===void 0?void 0:
d.type)==="background")return 2;if(((e=a.Qz)===null||e===void 0?void 0:e.type)==="responsive-page")break;return 1;case "elements":return 3}}get Tql(){const a=this.selection.La;return this.Ma.mode<40||!a?!1:this.mNb?this.mNb.locked:this.Kt}get NNb(){var a,b,c=this.selection.La;if(this.Ma.mode<40||!c)return!1;if(((a=c.inner)===null||a===void 0?void 0:a.type)==="sheet")switch(c.type){case "audio":case "pages":return!1;case "elements":var d,e;return((e=this.jc)===null||e===void 0?void 0:(d=e.state)===
null||d===void 0?void 0:d.type)!=="focused";default:throw new v(c);}if(((b=c.inner)===null||b===void 0?void 0:b.type)==="sheet-cell-media")return!1;switch(c.type){case "audio":return!1;case "pages":var f,g,h;if(((f=c.Qz)===null||f===void 0?void 0:f.type)==="responsive-page")return!1;if(((g=c.inner)===null||g===void 0?void 0:g.type)==="pages"){var k;return((k=c.inner.inner)===null||k===void 0?void 0:k.type)==="background"?(a=c.inner.inner.page.Oc,c.inner.inner.page.locked||a.some(l=>!__c.BVa(l)||l.locked)):
c.inner.pages.every(l=>!__c.yVa(l)||l.locked)}if(((h=c.inner)===null||h===void 0?void 0:h.type)==="background"){c=c.inner.page;if(c.type==="responsive"||xg(c.dimensions||this.document.dimensions))return!1;a=c.Oc;return c.locked||a.some(l=>!__c.BVa(l)||l.locked)}return c.pages.some(l=>l.type!=="responsive")&&c.pages.every(l=>!__c.yVa(l)||l.locked);case "elements":return this.mNb?this.mNb.locked:!0;default:throw new v(c);}}get $mo(){const a=this.selection.La;return this.Ma.mode<40||!a?!1:a.type==="pages"&&
a.inner==null&&this.Kt}get mNb(){var a=this.selection.La;if(a&&a.type==="elements"&&a.inner!=null&&(a.inner.type==="group"||a.inner.type==="layout"||a.inner.type==="layout-cell")&&({element:a}=__c.Uk(a.inner.container),__c.nf(a)))return a}get Kt(){const a=this.selection.La;return!(a===null||a===void 0?0:a.Ki())}get wpc(){const a=this.selection.La;return!(a===null||a===void 0?0:a.Ki(Vl.Hs))}get Hbn(){return this.Kt&&!this.wpc}get DBi(){const a=this.selection.La;if(!a)return!1;switch(a.type){case "audio":return!1;
case "elements":return a.elements.every(c=>__c.hhk(this.uc,a.container.Tf(c))!=null);case "pages":if(a.inner)switch(a.inner.type){case "background":var b=a.inner.container;return b.type==="section-marker"?!1:__c.fhk(this.uc,b.TK(a.inner.background))!=null;case "sheet":return __c.Dde(this.uc,a.inner.container);case "sheet-cell-media":return b=a.inner.container.container,b.container&&__c.Dde(this.uc,b.container.ub(b.page))!=null;case "pages":if(a.inner.inner)switch(a.inner.inner.type){case "background":return __c.fhk(this.uc,
a.inner.inner.container.TK(a.inner.inner.background))!=null;default:throw new v(a.inner.inner.type);}const c=a.inner;return c.pages.every(d=>__c.Dde(this.uc,c.container.ub(d))!=null);default:throw new v(a.inner);}return a.pages.every(c=>__c.Dde(this.uc,a.container.ub(c))!=null);default:throw new v(a);}}get oYc(){const a=this.selection.La;if(!a||!this.DBi)return!1;switch(a.type){case "audio":return!1;case "elements":return!Ul(this.uc,a.container,this.dUe?Vl.Hs:void 0);case "pages":var b;if(((b=a.Qz)===
null||b===void 0?void 0:b.type)==="responsive-page"&&!a.Qz.page.locked)return!1;if(!a.inner)return!0;switch(a.inner.type){case "sheet":case "sheet-cell-media":return!0;case "background":return a.inner.container.type!=="fixed-page"?!1:!Ul(this.uc,a.inner.container,Vl.Hs);case "pages":if(!a.inner.inner)return!Ul(this.uc,a.inner.container,Vl.Hs);switch(a.inner.inner.type){case "background":return!Ul(this.uc,a.inner.inner.container,Vl.Hs);default:throw new v(a.inner.inner.type);}default:throw new v(a.inner);
}default:throw new v(a);}}get dUe(){const a=this.selection.La;if(!this.mWa||!a||!a.type)return!1;switch(a.type){case "audio":return!1;case "pages":var b,c;if(((b=a.Qz)===null||b===void 0?void 0:b.type)==="responsive-page")return!1;const {inner:d,Ud:e}=((c=a.inner)===null||c===void 0?void 0:c.type)==="pages"?a.inner:a;return(d===null||d===void 0?void 0:d.type)==="background"?!1:!!e;case "elements":return!!a.Bg&&__c.tqb(this.uc,a.Bg,Vl.Hs);default:throw new v(a);}}get XLk(){var a,b;return((b=this.selection.La)===
null||b===void 0?void 0:(a=b.pages)===null||a===void 0?void 0:a.filter(c=>c.type!=="responsive").length)||0}Ykf(a){const b=this.V.sb("change_element_locking",{Fb:{name:"editor.change_element_locking"}});var c=this.selection.La;if(c&&this.oYc){var d=this.Kt&&!this.wpc;if(this.dUe){var e=c.Bg;switch(c.type){case "audio":break;case "pages":var f;const {Ud:g,inner:h}=((f=c.inner)===null||f===void 0?void 0:f.type)==="pages"?c.inner:c;if(g&&!h&&!this.Kt){c=b.nb();this.uc.wRc(g,!0,[Vl.Hs]);mCs(this,{action:"locking",
wL:nCs([Vl.Hs]).join(","),rNe:"page",location:a,nb:c});break}oCs(this,{selection:c,locked:d||!this.Kt,location:a,nb:b.nb()});break;case "elements":if(e&&!this.Kt){d=__c.tqb(this.uc,e,Vl.Hs)?[Vl.Hs]:void 0;oCs(this,{selection:c,locked:!0,wL:d,location:a,nb:b.nb()});break}oCs(this,{selection:c,locked:d||!this.Kt,location:a,nb:b.nb()});break;default:throw new v(c);}}else oCs(this,{selection:c,locked:d||!this.Kt,location:a,nb:b.nb()});b.ue()}else b.end("error")}oWk(a){const b=this.V.sb("click_floating_toolbar_unlock",
{Fb:{name:"editor.click_floating_toolbar_unlock"}}),c=this.selection.La;c&&this.oYc&&this.Kt?(oCs(this,{selection:c,locked:!1,nb:b.nb(),location:a}),b.ue()):b.end("error")}PQk(a){const b=this.V.sb("click_context_menu_full_lock",{Fb:{name:"editor.click_context_menu_full_lock"}}),c=this.selection.La;c&&this.oYc&&!this.Kt?(oCs(this,{selection:c,locked:!0,nb:b.nb(),location:a}),b.ue()):b.end("error")}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.document=b;this.Ma=c;this.selection=d;this.jc=e;this.uc=
f;this.N=g;this.V=h;this.mWa=k;hVs.G(this)}};var iVs,jVs,kVs,lVs,mVs,nVs,oVs,pVs,qVs,rVs;
new (iVs=class extends IV{constructor(){super(rVs);lVs()}},(()=>{class a extends(mVs=GV){static G(b){P(b,{icon:mV,label:mV,tooltip:mV})}render(){var b=this.props.L;const c=b.Kt;b=b.oYc;return cV(this.props.Ci,{tooltip:this.tooltip,disabled:c&&!b,selected:c,Ah:"icon",icon:this.icon,onClick:this.props.onClick,children:this.label})}get icon(){return sVs(this.props.L)}get label(){return tVs(this.props.L)}get tooltip(){var b=this.props.L;const c=b.Kt,d=b.DBi,e=b.oYc;return c&&!d?L("rQJdVg"):c&&!e?L("rnCrIw"):
!c&&b.dUe?L("ou4BGA"):uVs(b)}constructor(...b){super(...b);a.G(this)}}({c:[rVs,lVs]}=JV(a,[],[Lb],mVs))})(),iVs);var vVs;
new (jVs=class extends IV{constructor(){super(vVs);nVs()}},(()=>{class a extends(oVs=GV){static G(b){P(b,{icon:mV})}render(){const b=this.props.onClick;var c=this.props.L;const d=this.props.Ci;var e=c.DBi;const f=c.oYc;c=c.wpc?L("X5CkxQ"):L("416rFw");e=e?f?c:L("rnCrIw"):L("rQJdVg");return cV(d,{tooltip:e,disabled:!f,selected:!0,Ah:"icon",icon:this.icon,onClick:b,children:c})}get icon(){return sVs(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[vVs,nVs]}=JV(a,[],[Lb],oVs))})(),jVs);var wVs;
new (kVs=class extends IV{constructor(){super(wVs);pVs()}},(()=>{class a extends(qVs=GV){static G(b){P(b,{icon:mV,label:mV})}render(){const b=this.props.L,c=b.oYc;return cV(this.props.hl,{disabled:b.Kt&&!c,Icon:this.icon,onClick:this.props.onClick,oa:this.props.oa,label:this.label,hm:this.props.hm})}get icon(){var b=this.props.L;const c=b.Kt;return c&&!b.wpc?nar:c?NLh:ay}get label(){return this.props.KLl?tVs(this.props.L):uVs(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[wVs,pVs]}=JV(a,
[],[Lb],qVs))})(),kVs);
var xVs=eV(a=>{const b=a.oa,c=a.L;a=a.hl;const d=c.Kt,e=c.oYc,f=gV(()=>c.PQk("context_menu"),[c]);return cV(a,{disabled:d&&!e,Icon:ay,onClick:f,oa:b,label:L("7Dt6hg")})}),yVs=eV(a=>{const b=a.oa,c=a.hm,d=a.L;a=a.hl;const e=d.Kt,f=d.oYc,g=gV(()=>d.Ykf("context_menu"),[d]);return cV(a,{disabled:e&&!f,Icon:nar,onClick:g,oa:b,label:L("ou4BGA"),hm:c})}),sVs=a=>{const b=a.Kt;return b&&!a.wpc?nar:b?ay:NLh},tVs=a=>{const b=a.Kt;a=b&&!a.wpc;return b&&!a?L("X5CkxQ"):L("7Dt6hg")},uVs=a=>{const b=a.Kt,c=b&&!a.wpc,
d=a.wjn;if(!d)return b&&!c?L("X5CkxQ"):L("7Dt6hg");switch(d){case 1:return b&&!c?J("M6hjLQ",[a.XLk]):J("ZUCbLw",[a.XLk]);case 2:return b&&!c?L("l2Wnow"):L("pLKZpA");case 3:return b&&!c?L("X5CkxQ"):L("7Dt6hg");default:throw new v(d);}};var zVs='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="m16.099 15.745-.075.088a.711.711 0 0 1-.283.202c-.125.051-.26.085-.4.102l-.22.025v.99l.268-.02a1.743 1.743 0 0 0 .487-.11v2.223h1.048v-3.5h-.825Z"/><g fill="currentColor"><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6ZM4 3h12a2 2 0 0 1 1.975 1.75h-1.277a.756.756 0 0 0-.698-.5H4a.76.76 0 0 0-.75.75v8c0 .319.213.592.5.698v1.277A2 2 0 0 1 2 13V5c0-1.1.9-2 2-2Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/></g></svg>';var AVs=br({medium:zVs});var BVs=eV(({a8i:a,ob:b})=>kV("div",{className:"_6ykBxw",children:[cV(a,{}),cV(b,{})]})),CVs=({W3o:a,Eq:b,Znp:c,$f:d})=>cV(R,{padding:"2u",height:"full",paddingTop:d?"0":"2u",children:kV(Wc,{spacing:"2u",children:[cV(Q,{size:"medium",weight:"bold",children:L("5VY+6Q")}),cV(a,{}),cV(Q,{size:"medium",weight:"bold",children:L("Wz4zjQ")}),cV(b,{}),cV(c,{})]})}),DVs=({onClick:a})=>kV(rV,{children:[cV(Q,{size:"medium",weight:"bold",children:L("GtlHpg")}),cV(Yi,{variant:"secondary",stretch:!0,onClick:a,
children:L("VMCXkA")})]}),EVs=({onClick:a})=>cV("div",{className:"eOO2Pw",children:cV(Wc,{align:"start",spacing:"2u",children:cV(Yi,{variant:"secondary",icon:Px,qp:"start",stretch:!0,onClick:a,children:L("NWQG1w")})})});var FVs=class{static G(a){P(a,{Hab:mV,ym:mV,Cg:mV,dtm:fV.bound,uxn:fV.bound,P5l:fV.bound,ton:fV.bound,tV:fV.bound,VCn:fV,Kcm:mV})}get Hab(){return!!this.store.xDe||this.Kcm}get ym(){return[...this.document.pages].map((a,b)=>({yd:b+1,R_:a.title,disabled:a.draft}))}get h6r(){var a;switch((a=this.document.o$)===null||a===void 0?void 0:a.text.Ya){case "${pageNumberOnly}\n":return"${pageNumberOnly}";case "${pageNumber}\n":return"${pageNumber}";case "${pageNumberOfTotal}\n":return"${pageNumberOfTotal}";
default:return"${pageNumberOnly}"}}get Cg(){const a=[...this.document.pages],b=this.document.pages.filter(c=>!c.draft&&Vns(c,this.eb)&&c.elements.filter(d=>fw(d)).length>0);return new Set(b.map(c=>a.indexOf(c)+1))}dtm(){const a=Ef(this.document);this.document.pages.forEach(b=>{if(Vns(b,this.eb)){const c=a.ub(b);b.elements.forEach(d=>{var e,f;return fw(d)&&((e=(f=this.Wq).tDa)===null||e===void 0?void 0:e.call(f,[d],c))})}});this.rrc.ctm("edit_panel")}uxn(a){const b=this.Cg,c=[...this.document.pages].filter((e,
f)=>a.has(f+1)),d=Ef(this.document);this.document.pages.forEach(e=>{if(!e.draft&&Vns(e,this.eb))if(c.includes(e)){var f,g;if(!e.elements.first(l=>fw(l))&&(f=(g=this.sc).Gne)!==null&&f!==void 0&&f.call(g,e)){var h=e.elements.first(l=>fw(l)),k=Ef(this.document).ub(e);h&&this.selection.Ol(k,h);setTimeout(fV(()=>{this.viewport.ya===e&&(this.store.xDe=void 0)}))}}else e===this.viewport.ya&&(this.selection.deselectAll(),this.store.xDe=e,this.selection.eNb(this.viewport.ya)),f=d.ub(e),g=e.elements.filter(l=>
fw(l)),(h=(k=this.Wq).tDa)===null||h===void 0||h.call(k,g,f)});__c.Jje(this.fBd,"page_numbers_properties_applied_to_all_pages",{Uh:"page_numbers_shown",Ska:qCs(b),nac:qCs(this.Cg),location:"edit_panel"})}P5l(){var a;const b=(a=this.selection.La)===null||a===void 0?void 0:a.Bg;b&&fw(b)&&(a=__c.Tje(this.rrc,b,this.selection.La.container.page))&&this.rrc.JJl(a,{location:"edit_panel",nac:__c.Lje(a)})}ton(a){this.store.T9d&&(this.toolbar.kB(this.store.T9d),this.fBd.dLd(a))}tV(){this.store.xDe=void 0}get Kcm(){const a=
this.selection.La;return a!==null&&a!==void 0&&a.Ki()?!(a===null||a===void 0||!a.Bg)&&fw(a.Bg):!1}constructor(a,b,c,d,e,f,g,h,k,l){this.store=a;this.document=b;this.viewport=c;this.selection=d;this.eb=e;this.Wq=f;this.sc=g;this.rrc=h;this.fBd=k;this.toolbar=l;this.VCn=(FVs.G(this),()=>{this.store.T9d&&this.toolbar.kB(this.store.T9d)})}};var GVs=class{static G(a){P(a,{xDe:wV.ref,T9d:wV.ref,Yp:mV})}get Yp(){return this.ka.layout===2}constructor(a){this.ka=a;this.xDe=(GVs.G(this),void 0)}};var HVs={eventType:"editor_outline_panel_toggled",Oa(a){return rf({action:a.action,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},IVs={eventType:"editor_outline_navigation_interacted",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var JVs=class{open(){this.P.track(HVs,{action:"opened"})}close(){this.P.track(HVs,{action:"closed"})}constructor(a){this.P=a}};var KVs=DV(a=>cV(a.P_a,{icon:__c.ABj,active:a.active,onClick:a.onClick,jk:!0,className:"_9VOALA",children:L("Ex0Ltw")})),LVs=DV(a=>cV(a.fF,{onClick:a.onClick,AY:__c.ABj,children:L("saxtEw")}));var MVs=[{src:__webpack_require__.p+"images/4f0fade581fa0df5092428513149dd75.png",Aq:1},{src:__webpack_require__.p+"images/2b94f461e58f5fc5a2225e718bde79ec.png",Aq:2},{src:__webpack_require__.p+"images/2864846bc0151d3608cc8219e63ffcf0.png",Aq:3}],NVs=eV(a=>{const b=jV(null),c=a.node,d=a.pZg,e=gV(()=>d(c),[c,d]);iV(()=>{if(c.selected){var f,g;const h=a.layout===2?"start":"center";(g=b.current)===null||g===void 0||(f=g.scrollIntoView)===null||f===void 0||f.call(g,{behavior:"smooth",block:h})}},[c.selected,
a.layout]);return cV(Wt,{onClick:e,active:c.selected,children:cV("div",{ref:b,className:AV("GbUzEA",rCs(c.level),{Xu0QtA:c.selected}),children:cV(__c.mr,{tone:jr,children:c.title})})})}),OVs=eV(a=>{const b=a.node,c=a.layout;return b.children.length>0?kV(VHs,{children:[cV(NVs,{...a}),b.children.map(d=>cV(OVs,{node:d,pZg:a.pZg,layout:c},d.key))]}):cV(NVs,{...a})}),PVs=a=>cV(R,{height:"full",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:"JXDRdg",children:cV(a.layout===
2?Wn:VHs,{children:kV(R,{display:"flex",alignItems:"center",justifyContent:a.layout===2?"start":"center",flexDirection:"column",padding:"2u",minHeight:"minTouchableArea",children:[cV(R,{paddingBottom:"4u",className:"uAIpuQ",children:cV(__c.Uc,{alt:"",sources:MVs,className:"aibHcw"})}),kV(R,{paddingBottom:"2u",children:[cV(Q,{size:"large",weight:"bold",alignment:"center",children:L("GUi1aA")}),cV(Q,{alignment:"center",children:L("ma9AgA")})]}),a.OEs&&a.$vn&&cV(Yi,{variant:"primary",onClick:a.$vn,children:L("0hiCVA")})]})})}),
QVs=a=>{const b=a.nodes.length===0,c=b?cV(PVs,{...a}):cV(R,{height:"full",padding:"2u",paddingTop:"0",className:"XkLBwQ",children:kV(Wn,{children:[cV(Vo,{role:"navigation",variant:"rounded",children:a.nodes.map(d=>cV(OVs,{node:d,pZg:a.pZg,layout:a.layout},d.key))}),cV(R,{minHeight:"minTouchableArea"})]})});return cV(__c.vqh,{duration:350,pTj:0,Iba:"fill-height",keyFrame:b?0:1,direction:b?"back":"forward",children:c})};var RVs=Xc*5,UVs=class{static G(a){P(a,{kxo:fV.bound,yse:fV.bound,w8k:fV.bound,focusNode:fV.bound,pwj:fV,FJl:fV})}Fuj(){this.bWh();this.Rwm=dV(()=>this.viewport.scrollTop,this.qOr);this.enf=dV(()=>({blocks:this.uJa.blocks,Bcd:this.uJa.Bcd}),({blocks:a,Bcd:b})=>this.pwj(a,b),{equals:lV.structural})}bWh(){var a,b;(a=this.Rwm)===null||a===void 0||a.call(this);(b=this.enf)===null||b===void 0||b.call(this)}kxo(){if(this.store.b6d)this.yse();else{var a,b;this.kn.open(this.uyh,{faa:"start"});this.dKn.open();
(a=(b=this.Gb.Qna).amn)===null||a===void 0||a.call(b);this.w8k()}}yse(){this.kn.close(this.uyh);this.dKn.close()}w8k(){this.pwj(this.uJa.blocks,this.uJa.Bcd);this.FJl(this.viewport.scrollTop)}focusNode(a){const b=a.Nc;if(b){var c=Nw.collapseToStart(a.range);a=SVs(this.ed,a);var d=()=>this.Xa.Ju(b,c),e=this.viewport.scrollingContainer;if(e){var f=e.scrollHeight,g=e.scrollTop;e=e.clientHeight;Math.abs(Math.ceil(g)-Math.ceil(a))<2||g<a&&g+e>=f?d():this.viewport.CTa(a,__c.Um()?"auto":"smooth").then(d)}else d()}}pwj(a,
b){if(this.store.b6d){sCs(this);var {tree:c,K6n:d}=xCs(a,b);this.store.nodes=c;this.store.Nqi=d}}FJl(a=0){if(this.store.b6d){sCs(this);a+=RVs;var b=TVs(this.store.nodes,a,this.ed,!1);b&&(a=TVs([b],a,this.ed,!0))&&(a.selected=!0,this.store.FVg=a)}}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.kn=b;this.Xa=c;this.uJa=d;this.ed=e;this.viewport=f;this.dKn=g;this.uyh=h;this.Gb=k;this.Rwm=(UVs.G(this),void 0);this.qOr=Db(l=>this.FJl(l),250);dV(()=>this.store.b6d,l=>l?this.Fuj():this.bWh(),{equals:lV.structural})}},
TVs=(a,b,c,d)=>{let e;for(const f of a)if((a=SVs(c,f)<=b)&&d)e=TVs(f.children,b,c,d)||f;else if(a)e=f;else break;return e},SVs=(a,b)=>{var c,d;return b.Nc?Math.floor((d=(c=a.$Da(b.Nc,b.range))===null||c===void 0?void 0:c.tl.y)!==null&&d!==void 0?d:1):1};var uCs=class{static G(a){P(a,{selected:wV.ref,title:mV})}get title(){var a,b;return(b=(a=this.block)===null||a===void 0?void 0:a.Ssc.get().trim())!==null&&b!==void 0?b:""}get Nc(){var a;return(a=this.block)===null||a===void 0?void 0:a.Nc}get range(){var a,b;return(b=(a=this.block)===null||a===void 0?void 0:a.range)!==null&&b!==void 0?b:Nw.start()}constructor(a,b,c){this.key=a;this.level=b;this.block=c;this.parent=(uCs.G(this),void 0);this.children=[];this.selected=!1}},vCs=Math.round(__c.bSb({fontSize:15*
$t,fontWeight:"normal"})),VVs=class{static G(a){P(a,{FVg:wV.ref,Nqi:wV.ref,nodes:wV.shallow,Bsn:mV,Vhh:mV})}get b6d(){return this.layout===2?this.Bsn:this.Vhh}get Bsn(){return this.Og.stack.length>0}get Vhh(){return this.kn.isOpen(this.uyh)}constructor(a,b,c,d){this.layout=a;this.Og=b;this.kn=c;this.uyh=d;this.FVg=(VVs.G(this),void 0);this.nodes=[]}};var WVs=a=>{const {hl:b,Egb:c,...d}=a;return cV(b,{...d,Icon:__c.xv,label:J("v26itA",[c])})},XVs=a=>{const {hl:b,Egb:c,...d}=a;return cV(b,{...d,Icon:__c.wv,label:J("8KUvdQ",[c])})},YVs=a=>{const b=a.zh.page,c=a.disabled,d=a.onClick;a=a.bhc;const e=gV(()=>{d(b)},[d,b]);return cV(a,{disabled:c,hb:b.draft?J("8KUvdQ",[1]):J("v26itA",[1]),icon:b.draft?__c.xph:__c.yph,onClick:e})},ZVs=a=>{const b=a.zh,c=a.disabled,d=a.onClick;a=a.Button;const e=gV(()=>{d(b)},[d,b]),f=b.ja;return cV(a,{disabled:c,hb:f.draft?
J("PXv+rw",[1]):J("gmBRhA",[1]),icon:f.draft?__c.xph:__c.yph,onClick:e})},$Vs=a=>{const b=a.onClick,c=a.qo;return cV(a.hl,{disabled:a.disabled,label:c?J("PXv+rw",[1]):J("gmBRhA",[1]),Icon:c?__c.xph:__c.yph,onClick:b})},aWs=a=>{const b=a.Ci,c=a.ljq,d=a.a1s,e=a.active;a=a.onClick;const f=e?__c.wv:__c.xv,g=e?J("a2RjPQ",[d]):J("+/GZ3Q",[c]);return cV(b,{onClick:a,icon:f,Ah:"icon",disabled:c===0&&d===0,selected:e,tooltip:g,children:g})};var bWs=class{static G(a){P(a,{IRa:mV,nZm:mV,H_m:mV,QZm:mV,vkk:mV,T6n:mV,oZm:mV,kWd:mV,JLd:mV,Syn:fV.bound,Tyn:fV.bound,PCn:fV.bound,sUk:fV.bound,TGn:fV.bound})}get IRa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}get nZm(){var a;return!((a=this.kWd)===null||a===void 0||!a.length)&&this.IRa}get H_m(){var a;return!((a=this.JLd)===null||a===void 0||!a.length)&&this.IRa}get QZm(){return this.document.pages.count()!==1}get vkk(){var a,b=this.selection.La;
b=b===null||b===void 0?void 0:(a=b.Qz)===null||a===void 0?void 0:a.ja;return(b===null||b===void 0?void 0:b.type)!=="concatenated-fixed"?!1:b.pages.count()>1}get T6n(){var a;const b=this.selection.La,c=b===null||b===void 0?void 0:(a=b.Qz)===null||a===void 0?void 0:a.ja;if((c===null||c===void 0?void 0:c.type)==="concatenated-fixed"&&(b===null||b===void 0?void 0:b.type)==="pages"&&b.Yo)return b.container.ub(c).ub(b.Yo)}get oZm(){var a,b,c;return!((a=this.Fzb)===null||a===void 0||!a.isActive)&&this.IRa&&
(!((b=this.kWd)===null||b===void 0||!b.length)||!((c=this.JLd)===null||c===void 0||!c.length))}get kWd(){if(!(this.Ma.mode<40)){var a=this.selection.La;if(a&&a.type==="pages"){var b=a.pages;if(!this.document.pages.every(c=>c.draft||b.includes(c)))return b.some(c=>!c.draft)?b:void 0}}}get JLd(){if(!(this.Ma.mode<40)){var a=this.selection.La;if(a&&a.type==="pages")return a=a.pages,a.every(b=>b.draft)?a:void 0}}Syn(){const a=this.kWd;a&&this.QWh("contextual_menu",a)}Tyn(){const a=this.JLd;a&&BCs(this,
"contextual_menu",a)}PCn(a){var b=a.draft?void 0:[a];a=a.draft?[a]:void 0;b?this.QWh("page_controls",b):a&&BCs(this,"page_controls",a)}sUk(a){a.ja.draft?CCs(this,[a]):DCs(this,[a])}TGn(){var a=this.kWd,b=this.JLd;a?this.QWh("toolbar",a):b&&BCs(this,"toolbar",b)}QWh(a,b){const c=this.V.sb("hide_pages",{Fb:{name:`editor.page_drafting.${a}_hide_pages`}});ACs(this,b,!0);this.tH("hide",a,c,b);c.ue()}tH(a,b,c,d){c.nb().tk(({Hi:e})=>{c.nb().addEvent("rendered");this.P.track(__c.Hif,{action:a,kb:b,Qb:e(),
location:"",dSc:this.WT(d).map(String),Ly:0})});c.ue()}WT(a){let b=0;return this.document.pages.flatMap(c=>{c=a.includes(c)?[b]:[];b++;return c})}constructor(a,b,c,d,e,f,g){this.document=a;this.Ma=b;this.selection=c;this.sc=d;this.Fzb=e;this.P=f;this.V=g;bWs.G(this)}};var cWs=class{constructor(a){this.N=a}};var dWs=class{static G(a){P(a,{wad:wV.ref,SNf:wV.ref,Geh:fV})}constructor(){this.wad=(dWs.G(this),0);this.SNf=0;this.Geh=(a,b)=>{this.wad=a;this.SNf=b}}};var eWs,fWs,gWs,hWs=class extends GV{getSnapshotBeforeUpdate(){var a=this.uta.current;a&&(a=a.getBoundingClientRect(),this.store.wad=a.left,this.store.SNf=a.top);return null}componentDidUpdate(a){const b=this.props.OD;a=a.OD;const c=this.uta.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.wad-d.left,f=this.store.SNf-d.top;this.store.Geh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>
{c.style.transform="";c.style.transition=""})})}else this.store.Geh(d.x,d.y)}}render(){var a=this.props.dimensions;const b=a.width;a=a.height;const c=this.props.transition,d=this.props.xh;return cV(lr,{disabled:this.props.isDragging,label:this.props.WJ?L("XvT4OA"):J("ChI8GQ",[d]),placement:"top",children:cV("div",{style:{width:b,height:a,transition:c},className:"tKehZw",ref:this.uta,children:cV(this.Button,{})})})}constructor(...a){super(...a);this.uta=HV();this.store=new dWs;this.Button=()=>{const b=
this.props.WJ,c=this.props.xh,d=this.props.u7d,e=this.props.pEa,f=this.props.floating;return cV(pr,{className:AV("u2AKZQ","TkK1YA",{Umw1pw:Vb(),"g_Uopg usZ96Q":f,MJ1VvA:e}),icon:Nu,disabled:!b,onClick:d,ariaLabel:b?L("XvT4OA"):J("ChI8GQ",[c]),stretch:!0})}}},lWs;({c:[gWs,eWs]}=JV(hWs,[],[Lb],GV));eWs();
lWs=class extends GV{getSnapshotBeforeUpdate(){var a=this.uta.current;a&&(a=a.getBoundingClientRect(),this.store.wad=a.left,this.store.SNf=a.top);return null}componentDidUpdate(a){const b=this.props.OD;a=a.OD;const c=this.uta.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.wad-d.left,f=this.store.SNf-d.top;this.store.Geh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>{c.style.transform=
"";c.style.transition=""})})}else this.store.Geh(d.x,d.y)}}render(){const a=this.props.WJ,b=this.props.xh,c=this.props.u7d,d=this.props.pEa,e=this.props.floating,f=this.props.isDragging,g=this.props.lKa,h=this.props.dimensions;return cV("div",{style:{transition:this.props.transition},className:"tKehZw",ref:this.uta,children:g?cV(jWs,{dimensions:h,WJ:a,xh:b,pEa:d,floating:e,isDragging:f,u7d:c,lKa:g}):cV("div",{style:{width:h.width,height:h.height},children:cV(kWs,{WJ:a,xh:b,pEa:d,floating:e,isDragging:f,
Ucn:!0,u7d:c})})})}constructor(...a){super(...a);this.uta=HV();this.store=new dWs}};({c:[__c.iWs,fWs]}=JV(lWs,[],[Lb],GV));fWs();
var kWs=({WJ:a,xh:b,pEa:c,floating:d,isDragging:e,Ucn:f,u7d:g})=>cV(pr,{className:AV("u2AKZQ","TkK1YA",{_9wtJ_Q:!f,Umw1pw:Vb(),"g_Uopg usZ96Q":d,MJ1VvA:c}),icon:Nu,disabled:!a,onClick:g,hb:a?L("XvT4OA"):J("ChI8GQ",[b]),mk:"top",Xw:e,ariaLabel:a?L("XvT4OA"):J("ChI8GQ",[b]),stretch:!0}),jWs=({dimensions:{width:a,height:b},WJ:c,xh:d,pEa:e,floating:f,isDragging:g,u7d:h,lKa:k})=>{const [l,m]=nV(!1),p=gV(()=>m(!1),[]);return kV(__c.qha,{children:[cV("div",{style:{width:Math.max(a-40,40),height:b},children:cV(kWs,
{WJ:c,xh:d,pEa:e,floating:f,isDragging:g,Ucn:!1,u7d:h})}),cV("div",{style:{width:40,height:b},children:cV(k,{reference:cV(pr,{className:AV("u2AKZQ","TkK1YA","_36DSqQ",{Umw1pw:Vb(),"g_Uopg usZ96Q":f,MJ1VvA:e,Ta0Vdg:l}),disabled:!c,onClick:q=>{m(!l);q.preventDefault();q.stopPropagation()},hb:c?L("VXpw8g"):J("ChI8GQ",[d]),mk:"top",Xw:g,ariaLabel:c?L("VXpw8g"):J("ChI8GQ",[d]),active:l,stretch:!0,children:cV(__c.Vt,{className:AV("lYCBUw",{PInLWQ:l})})}),open:l,onClose:p,location:"page_manager"})})]})};var mWs=class{h_i({Qb:a}){this.N.track(yMs,{Qb:a,location:"page_navigator"})}cLd(a,b,c,d){c.nb().addEvent("page_selected");c.nb().tk(({Hi:e})=>{this.N.track(__c.ZFd,{...d,location:"page_navigator",Qb:e(),Ly:0})});if(b){const e=__c.i1a(this.W_,f=>{a===f&&(c.nb().addEvent("rendered"),c.ue(),e())})}else setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{c.nb().addEvent("rendered");c.end()})})})}lEl(){this.N.track(__c.HZg,{location:"page_navigator"})}constructor(a,b){this.N=a;this.W_=
b;this.Ryo=({Qb:c,Rxm:d,tri:e})=>{this.N.track(LMs,{Qb:c,...d,tri:e})}}};var oWs=({items:a})=>cV("div",{className:"F9EiJA",children:a.map((b,c)=>cV(nWs,{item:b},c))}),nWs=({item:a})=>{const b=gV(()=>cV(a.na,{lq:!0}),[a]);return cV(qr,{variant:"secondary",icon:b,size:"large",onClick:a.onClick,disabled:a.disabled,children:a.label})};var pWs,qWs,rWs,sWs;
new (pWs=class extends IV{constructor(){super(sWs);qWs()}},(()=>{class a extends(rWs=GV){static G(b){P(b,{hb:wV.ref,uWa:wV.ref,Ksd:wV.ref,onFocus:fV.bound,onClick:fV.bound,aNc:fV.bound,onMouseLeave:fV.bound,nq:fV.bound,zBn:fV.bound,izb:fV.bound})}get lq(){const b=this.props.lq;return b!=null?b:this.Ksd}componentDidMount(){Gb(this,[dV(()=>this.uWa,b=>{b=b&&this.IKc.get(b);b===null||b===void 0||b.focus()}),dV(()=>this.props.lq,b=>{b||(this.Ksd=!1)}),dV(()=>this.Ksd,b=>{var c,d;return(c=(d=this.props).XVk)===
null||c===void 0?void 0:c.call(d,{lq:b,immediate:!0})})])}PJ(b){this.hb=b;this.jN.open=!0}eQ(){this.jN.open=!1}onFocus(){const b=this.props.items;this.props.ei||(this.Ksd=!0,this.uWa=b[0])}onMouseDown(b){b.preventDefault()}onClick(b){b.stopPropagation();b=this.props.items;const c=this.props.ei,d=this.props.HCn,e=this.props.KMj;if(this.props.pio&&e!=null)return b[e].onClick();if(c){if(b.length===1)return b[0].onClick();d(()=>this.props.label,()=>cV(oWs,{items:this.props.items}))}else this.Ksd=!0,this.uWa=
b[0]}aNc(){const b=this.props.XVk;this.lq&&(b===null||b===void 0||b({lq:!1,immediate:!0}));this.Ksd=!1;this.uWa=void 0;this.eQ()}onMouseLeave(){this.eQ()}nq(b){var c;b.disabled||(b.onClick(),this.Ksd=!1,this.uWa=void 0,(c=this.N_i.current)===null||c===void 0||c.focus(),this.eQ())}zBn(b){this.Ksd=!0;this.PJ(b.label)}izb(b){this.PJ(b.label)}render(){const {KMj:b=0,items:c,label:d,ei:e,hidden:f=!1}=this.props;na(b>=0&&b<=c.length);const g=c[b];if(!g)return null;const h=!e,k=this.lq?c.length:Math.min(1,
c.length),l=!h||c.length>1;return cV(__c.Rph,{E6g:["onFocus","onMouseDown","onTouchStart"],pqg:["focusin","mousedown","touchstart"],aNc:this.aNc,children:kV("div",{tabIndex:-1,className:f?"QxRpbg":void 0,children:[l&&cV("div",{className:AV("_5VbDXg HiQ94A",{YaEJQQ:this.lq}),onMouseEnter:Vb()?this.b_r:void 0,children:cV("button",{ref:this.N_i,"aria-label":d,"aria-haspopup":h,tabIndex:this.lq?-1:void 0,className:AV("NB__NQ",{QxRpbg:this.lq}),onMouseDown:this.onMouseDown,onFocus:this.onFocus,onClick:this.onClick,
children:cV(g.na,{lq:!1})})}),h&&cV(__c.Gyc,{label:this.hb,placement:"top",state:this.jN,$ef:!1,children:cV("div",{role:"menu","aria-expanded":this.lq,className:AV("HiQ94A",{YaEJQQ:l&&!this.lq}),onMouseLeave:this.onMouseLeave,style:{borderRadius:`${k*50}% / 50%`},children:c.map((m,p)=>cV(tWs,{ref:this.qNs,item:m,hidden:l&&!this.lq,Sgi:this.lq,onClick:this.nq,onFocus:this.zBn,Ft:this.izb,a2i:this.props.a2i},p))})})]})})}constructor(...b){super(...b);this.jN=(sWs.G(this),new __c.qC);this.hb="";this.N_i=
HV();this.IKc=new Map;this.Ksd=!1;this.qNs=c=>{c&&this.IKc.set(c.item,c.element)};this.b_r=()=>{var c,d;(c=(d=this.props).XVk)===null||c===void 0||c.call(d,{lq:!1,immediate:!1})}}}({c:[sWs,qWs]}=JV(a,[],[Lb],rWs))})(),pWs);
var tWs=eV(UMs(({item:a,hidden:b,Sgi:c,onClick:d,onFocus:e,Ft:f,a2i:g},h)=>{const k=jV(null);YMs(h,()=>({item:a,element:n(k.current)}),[a,k]);h=gV(p=>{p.stopPropagation();d(a)},[a,d]);const l=gV(()=>e(a),[a,e]),m=gV(()=>f(a),[a,f]);return cV("div",{className:AV(g?"v5n5LQ":"JYppLg",{QxRpbg:b}),children:cV("button",{ref:k,role:"menuitem",className:AV("NB__NQ",{_zjbeQ:a.disabled}),"aria-label":a.label,onClick:h,onMouseOver:m,onFocus:l,children:cV(a.na,{lq:c})})})}));var uWs=({QM:a,config:{udg:b},Df:c,IP:d,Ia:e})=>{const f=c.Qjb,g=m=>{m.stopPropagation()},h=()=>d.clear();c=eV(()=>cV("div",{onClick:g,children:cV(f,{navigation:d,open:!!d.screen,oa:h})}));const k=(m,p)=>{d.Zg({$e:()=>cV(p,{}),options:{sg:m}})},l=eV(({page:m,eL:p,JSk:q})=>{if(e.pages.last()===m||a.lNa)return null;var r=[b.Buh,b.R8f].filter(vb);const t=b.R8f||b.Buh;var u=(t===null||t===void 0?void 0:t.isActive(m))||!1;const w=(t===null||t===void 0?void 0:t.isDisabled(m))||!1,x=t&&r.indexOf(t);r=r.map(z=>
({get label(){return z.getLabel(m)},get disabled(){return z.isDisabled(m)||!a.KN},onClick:()=>z.onClick(m),na:({lq:A})=>cV(z.na,{page:m,lq:A,Ber:z===t})}));const y=!u&&!p&&!Ub();u=!a.KN&&!u;return cV(sWs,{hidden:y||u,pio:!w&&t===b.R8f&&m.transition.ref!==void 0,ei:a.ei,label:L("v4jmbQ"),HCn:k,items:r,KMj:x,lq:p,XVk:q})});return{wea:c,XH:l}};var vWs=eV(({pages:a,label:b,GUe:c,language:d,aBa:e,disabled:f,description:g})=>{const [h,k]=nV(!1),l=__c.W_b({disabled:f}),m=jV(null),p=jV(null),q=gV(z=>{a.forEach(A=>e(A,z))},[e,a]),r=gV(()=>{var z;(z=p.current)===null||z===void 0||z.idc();k(!0)},[]),t=gV(()=>{k(!1);setTimeout(()=>{var z;return(z=m.current)===null||z===void 0?void 0:z.focus()})},[]),u=gV(()=>{var z,A;(z=p.current)===null||z===void 0||z.focus();(A=p.current)===null||A===void 0||A.idc()},[]),w=[["Enter",gV(z=>{z.preventDefault();
u()},[u])]];var x=a.map(z=>z.title||"");x=[...(new Set(x))];const y=x.length>1?"":x[0];return cV(__c.zp,{map:w,Zq:!0,children:({ref:z})=>cV("div",{className:AV("xLOtiw"),children:cV(__c.kd,{title:kV("li",{ref:(0,dNs["default"])(m,l,z),tabIndex:0,className:AV("CVtD_Q",{xR5BiA:f}),children:[cV("span",{className:AV("_6EevIg",{yUfh5w:f}),children:cV(__c.Qyh,{ref:p,label:b,value:y,defaultValue:c,NK:d,Swa:q,onFocus:r,onBlur:t,disabled:f,tabIndex:-1,className:"hzzX3w",KM:AV("hl_3wg _5Gynyg",{KFP_SQ:f})})}),
!f&&cV("div",{className:AV("_DbJ8A",{lfizNA:h}),children:cV(Yi,{variant:"tertiary",tabIndex:-1,ariaLabel:b,onClick:u,size:"small",icon:__c.fu})})]}),description:g,padding:"1.5u",$u:!1})})})});var wWs=({document:a,N:b,V:c,L:d,store:e,fh:f,eb:g,jE:h})=>{const k=(p,q)=>{p.stopPropagation();e.mc(q)&&e.IRa||(p=c.sb("create_contextual_menu.on_context_menu",{Fb:{name:"editor.page.navigate",type:"create_contextual_menu"}}),e.Mqa(q),b.cLd(q,e.ya!==q,p,{Vb:e.Vb(q),pK:e.pK,Txd:e.K3d(q),kb:"click"}))},l=fV((p,q)=>{p.preventDefault();k(p,q);f.uLb(new sj(p.clientX||0,p.clientY||0),"page_navigator","right_click","bottom-start")}),m=eV(({page:p})=>{const q=gV(r=>k(r,p),[p]);return f.Igc?cV(f.Igc,{Ph:q,
visibility:"always",ariaLabel:L("zEseqg")}):null});f.kc(()=>({KN:e.KN,IRa:e.IRa}),(p,{KN:q,IRa:r})=>{p.qdj=!e.ei&&q&&r?{Button:eV(()=>{var t=e.Cg,u=J("WIOFPA",[e.pK]),w=J("2nAH+A",[e.pK]),x=a.language,y=d.aBa,z=!e.KN;if(e.Cg.length===1){var A=e.Cg[0];if(h){var B=g.DS(A);A=A.type==="responsive"?__c.ts:jk(A,a.dimensions);B=NCs(B==="inline"?L("DGuhpg"):B===null||B===void 0?void 0:B.name,A)}else B=void 0}else B=void 0;return cV(vWs,{pages:t,label:u,GUe:w,language:x,aBa:y,disabled:z,description:B})})}:
void 0});return{onContextMenu:l,G2b:m}};var QCs=a=>{const b=a.className;a=a.onClick;const c=L("FsEKBw");return cV("div",{role:"none",onClick:a,children:cV(lr,{label:c,placement:"top",children:cV(Uu,{tone:"contrast",shape:"circle",className:b,icon:cV(__c.cBf,{size:"tiny"}),ariaLabel:c})})})},xWs=({UPl:a})=>a?cV(__c.bLr,{size:"tiny"}):cV(__c.cI,{size:"tiny"}),OCs=a=>{const b=a.className;var c=a.FLk;const d=a.dHe;a=a.onClick;c=d?L("wvn6JA"):J("UrRvRw",[c]);return cV("div",{role:"none",onClick:a,children:cV(lr,{label:c,placement:"top",children:cV(Uu,
{tone:"contrast",shape:"circle",className:b,icon:cV(xWs,{UPl:d}),ariaLabel:c})})})},PCs=a=>cV("div",{className:a.className,role:"none",onClick:a.onClick,children:cV(__c.sdh,{Gg:a.Gg,HEk:3,size:"xxsmall",osg:!1,mk:"top",SSh:!0,hS:a.hS})});var yWs,zWs,AWs,BWs=parseInt("40px",10)||38,CWs=parseInt("54px",10)||38,DWs=parseInt("116px",10)||38,EWs=parseInt("50px",10)||50,FWs=parseInt("4px",10)*2||16,GWs;
new (yWs=class extends IV{constructor(){super(GWs);zWs()}},(()=>{class a extends(AWs=GV){static G(b){P(b,{e$b:mV,onContextMenu:fV.bound,onMouseEnter:fV,PJ:fV.bound,onMouseLeave:fV,eQ:fV,hb:mV,Nwk:mV,M0m:mV,QUc:mV,JUc:mV})}get e$b(){return this.props.xw.t$a===this.props.page.page||!1}componentDidMount(){Gb(this,dV(()=>this.e$b,b=>b&&this.eQ()))}PJ(){this.jN.open=!0;this.Eha.set(!0);this.ssl=void 0}get hb(){var b=this.props.page.page;const c=this.props.yd,d=this.props.my;return this.M0m?(b=hKe(d,b),
so(b,"short")):b.title?J("KJG2Uw",[c,b.title]):J("l4WRPg",[c])}get Nwk(){const b=this.props.page.page,c=this.props.xw.N6e;return!this.props.Ao&&!(Fc.Yaa||Fc.yxd)&&c===b}get M0m(){if(this.Nwk)return!0;const b=this.props.dimensions.width;return this.props.dimensions.height<=BWs?b<DWs:b<CWs}get QUc(){const b=this.props.page.page,c=this.props.eBd,d=this.props.QUc,e=this.props.Ma;if(d&&!(c.hea<1)&&e.mode!==10)return()=>cV(d,{page:b,eBd:c,className:"_mMCTA"})}get JUc(){const b=this.props.Gg,c=this.props.JUc;
if(c)return()=>cV(c,{Gg:b,className:"Ez2eyw",onClick:this.onClick})}render(){const b=this.props.wn,c=this.props.NK,d=this.props.page,e=this.props.yd,f=this.props.dimensions,g=this.props.xw,h=this.props.QM,k=this.props.eb,l=this.props.my,m=this.props.Lql,p=this.props.visible,q=this.props.tRb,r=this.props.Uxb,t=this.props.isDragging,u=this.props.G2b,w=this.props.elp,x=this.props.flp;var y=this.props.dimensions.width;const z=this.props.dimensions.height,A=BV(g,d.page)&&!g.AJ;y=y>=EWs;return kV(rV,{children:[this.Eha.get()&&
cV(__c.Gyc,{state:this.jN,label:this.hb,lineClamp:1,placement:"top",arrow:!0,children:cV("div",{})}),cV("div",{style:{height:z+FWs},className:"TJVsng",onContextMenu:this.onContextMenu,onMouseEnter:this.Mga?this.onMouseEnter:void 0,onMouseLeave:this.Mga?this.onMouseLeave:void 0,onMouseDown:this.eQ,children:kV("div",{className:AV("pO8x8A",{k_v2zQ:h.jxd(d.page),_0a3n7A:h.n6c(d.page),_bzJOg:r,FmnYyQ:g.isLinear}),children:[kV("button",{onClick:this.onClick,className:AV("ta67Cg",{k_v2zQ:h.jxd(d.page),Zxq53g:g.isLinear,
xxfxlQ:uc.NT}),"aria-label":this.hb,children:[cV(w,{tRb:q,page:d,dimensions:f,gBb:p,wn:b,Lrh:g.isLinear}),cV("div",{className:AV("mf3LMw","Q_iqdQ",m&&"_68Z_zQ")})]}),p&&y&&cV(x,{isDragging:!!t,e$b:this.e$b||this.Nwk,Eha:this.Eha.get(),Uxb:r,KYk:A?"pageDuration":"pageNumber",bDp:q!=="none",jMp:r,tUa:g.isLinear,yd:e,NK:c,zh:d,Wda:this.onClick,QM:h,eb:k,my:l,QUc:this.QUc,JUc:this.JUc,G2b:u})]})})]})}constructor(...b){super(...b);this.jN=(GWs.G(this),new __c.qC);this.Eha=wV.box(!1);this.onContextMenu=
c=>{const d=this.props.page.page,e=this.props.onContextMenu;e===null||e===void 0||e(c,d)};this.onClick=()=>{const c=this.props.onClick;return c(this.props.page.page)};this.Mga=Vb();this.onMouseEnter=()=>{clearTimeout(this.ssl);this.ssl=setTimeout(this.PJ,150)};this.onMouseLeave=()=>{clearTimeout(this.ssl);this.eQ();this.Eha.set(!1)};this.eQ=()=>this.jN.open=!1}}({c:[GWs,zWs]}=JV(a,[],[Lb],AWs))})(),yWs);var zV=Xc*8,HWs=parseInt("20px",10)*2||40;var JWs=class{static G(a){P(a,{F3:wV.ref,Pbn:mV,Pxk:mV,Yfo:fV,fCf:mV.struct,tcn:mV,dBl:mV,Qxk:mV,Rxk:mV,gvo:mV,Owk:mV})}get Pbn(){const a=this.xw.R9(this.page);return a.width<a.height}get Pxk(){return this.Pbn?this.g5e/100:1}Yfo(a){this.F3=a}get fCf(){return{width:Math.floor(this.F3.width*this.Pxk),height:Math.floor(this.F3.height*this.Pxk)}}get tcn(){const a=this.QM,b=this.xw.t$a,c=this.page;return a.q9m?!0:a.ei&&b!=null&&b!==c}get dBl(){const a=this.fCf,b=this.xw.WRd(this.page);return this.Owk?
b%a.width-a.width:0}get Qxk(){const a=this.xw.dAa(this.page);return[this.xw.kdb+a.offsetWidth,...Array(this.Rxk.length).fill(this.fCf.width)]}get Rxk(){const a=this.xw;var b=this.dBl,c=this.fCf.width,d=this.fG;const e=this.page;b=(a.WRd(e,!0)-b)/c;b=b>1.07?Math.ceil(b):1;if(d.PF&&this.gae.length===b||a.Pia&&this.gae.length>=b)return this.gae;d=a.dAa(e).durationUs/1E6;const f=b===1?d:c/a.fBa;var g;const h=(g=this.gae[0])!==null&&g!==void 0?g:0;c=this.Owk?Array.from({length:b-this.gae.length},(l,m)=>
h-f*(m+1)).reverse().concat(this.gae):Array.from({length:b},(l,m)=>f*(m+.5));var k;c[c.length-1]=Math.min(c[c.length-1],(k=a.Tkf)!==null&&k!==void 0?k:d);return this.gae=c.map(IWs)}get gvo(){return this.fG.AJ?"fill":"repeat"}get Owk(){const a=this.xw,b=this.page;return a.Pia==="start"&&a.t$a===b}constructor(a,b,c,d,e){this.QM=a;this.xw=b;this.fG=c;this.page=d;this.g5e=e;this.F3=(JWs.G(this),{width:HWs,height:zV,scale:1});this.gae=[]}},IWs=a=>Math.floor(a*10)/10;var KWs=wb.pd,LWs=parseInt("200ms",10)||0,TCs=eV(({my:a,aFa:b,xw:c,fG:d,QM:e,PSq:f,MSq:g,page:h,mc:k})=>{var l;if(d.AJ)return null;var m=e.n6c(h);d=!(h===null||h===void 0||!h.draft);const {Wul:p,e0h:q}=SCs(a,h),r=f(h);f=!(r===null||r===void 0||!r.draft);a=(g=g(h))&&SCs(a,g);b=((l=b.qii)===null||l===void 0?0:l.get())&&e.Cg.length>0?e.Cg:void 0;e=c.vmk?c.vmk:void 0;e=[...(b?b:[]),e];l=r&&e&&!f?e.includes(r):!1;h=!m&&e?e===null||e===void 0?void 0:e.includes(h):!1;m=f?e.includes(g):!1;return kV(rV,{children:[cV(MWs,
{position:"end",width:q,isVisible:d?!1:h,mc:k,tUa:c.isLinear}),cV(MWs,{position:"start",width:f?(a===null||a===void 0?void 0:a.e0h)||0:p,isVisible:d?!1:m||l,mc:k,tUa:c.isLinear})]})}),MWs=DV(({position:a,width:b,isVisible:c,mc:d,tUa:e})=>{const f=jV(null);return cV($Ms["default"],{in:c,timeout:KWs?LWs:0,classNames:{enter:"_9mnZcg",enterActive:"_56SXBg",exit:"_9mnZcg"},nodeRef:f,unmountOnExit:!0,children:cV("div",{className:AV("zgx9yQ",{dlwChA:e,kOiXVQ:d&&a==="start",kkOmYQ:a==="end",Ia3Oog:d&&a===
"end"}),"aria-hidden":!0,children:cV("div",{className:AV("LDPjUw",{dlwChA:e,duh49g:a==="end",CQRHEA:d&&a==="start",_65_ZFQ:a==="end",DGU0aw:d&&a==="end"}),ref:f,style:{width:b+"%"}})})})});var NWs=parseInt("250ms",10)||0,PWs=eV(UMs(({isOpen:a,children:b},c)=>{const d=jV(null),e=jV(!1),[f]=nV(()=>({el:null,Nlm:!1})),[g]=nV(()=>{const l=document.createElement("div");l.classList.add("uSqASw");l.anchor=null;return l}),h=SMs(()=>({visible:a,UVd:a})),k=gV((l=!1)=>{const m=()=>{const p=d.current;if(p){var {left:q,top:r}=p.getBoundingClientRect();g.style.top=`${r}px`;g.style.left=`${q}px`}};l?m():e.current||(requestAnimationFrame(()=>{m();e.current=!1}),e.current=!0)},[g]);ZMs(()=>oV(()=>{if(h.UVd!==
a){if(a){h.UVd=!0;var l=window.setTimeout(fV(()=>{h.visible=!0}))}else h.visible=!1,l=window.setTimeout(fV(()=>{h.UVd=!1}),NWs);return()=>{clearTimeout(l)}}}),[h,a]);ZMs(()=>{if(h.UVd){var l=d.current;if(l)return document.body.appendChild(g),g.anchor=l,()=>{g.remove();g.anchor=null}}},[h.UVd,g]);ZMs(()=>{if(a&&h.UVd){var l=d.current;if(l){var m=q=>{q.target&&(f.el!==q.target&&(f.el=q.target,f.Nlm=f.el.contains(l)),f.Nlm&&k())},p=()=>k();window.addEventListener("scroll",m,!0);window.addEventListener("resize",
p,!0);k();return()=>{window.removeEventListener("scroll",m,!0);window.removeEventListener("resize",p,!0)}}}},[h.UVd,a,f,k]);YMs(c,()=>({hjb:k}));return h.UVd?cV("div",{ref:d,children:eNs(kV("div",{className:AV("HL00tw",{awHXiw:h.visible}),children:[cV(OWs,{children:b}),cV("div",{className:"_6imlDA",children:cV(__c.dha,{})})]}),g)}):null}));PWs.displayName="Tooltip";var OWs=eV(a=>{a=a.children.get();return cV("div",{className:"TUXi6A",children:cV(__c.cha,{label:a,lineClamp:1})})});
OWs.displayName="TooltipContent";var QWs,RWs,SWs,TWs=a=>a==="ArrowRight"||a==="ArrowUp",UWs;
new (QWs=class extends IV{constructor(){super(UWs);RWs()}},(()=>{class a extends(SWs=GV){static G(b){P(b,{overlay:wV.ref,componentWillUnmount:fV,onDragStart:fV.bound,onDragEnd:fV.bound,onDrag:fV.bound,onKeyDown:fV.bound,onKeyUp:fV.bound})}componentWillUnmount(){this.Pga()}onDragStart(b){var c,d;this.pdi=b.clientX;this.p2d=this.props.time;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}onDragEnd(b){var c,d;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b);this.Pga()}onDrag(b){if(this.pdi!=
null&&this.p2d!=null){const c=b.clientX-this.pdi;this.KIj();this.props.onDrag(this.p2d,c,b)}}onKeyDown(b){var c,d,e=b.key;if(TWs(e)||e==="ArrowLeft"||e==="ArrowDown"){b.preventDefault();b.stopPropagation();if(this.WOg==null||this.p2d==null){var f,g;this.p2d=this.props.time;this.WOg=0;(f=(g=this.props).pJf)===null||f===void 0||f.call(g)}this.WOg+=(b.shiftKey?10:1)*(TWs(b.key)?1:-1);(c=(d=this.props).onKeyDown)===null||c===void 0||c.call(d,this.p2d,this.WOg)}}onKeyUp(b){var c,d,e=b.key;if(TWs(e)||e===
"ArrowLeft"||e==="ArrowDown")b.preventDefault(),b.stopPropagation(),(c=(d=this.props).onKeyUp)===null||c===void 0||c.call(d),this.Pga()}KIj(){if(!this.overlay){pa(this.Mzi==null);var b=document.createElement("div");b.className="Z0qCkg";b.onclick=this.stopPropagation;document.body.appendChild(b);this.Mzi=dV(()=>this.props.cursor,c=>{c&&(b.style.cursor=c)},{fireImmediately:!0});this.overlay=b}}Pga(){this.Mzi&&(this.Mzi(),this.Mzi=void 0);this.overlay&&(document.body.removeChild(this.overlay),this.overlay=
void 0);this.pdi=this.WOg=void 0}get label(){const b=this.props.Ala;switch(b.type){case "touch":case "pointer":return b.SWa==="start"?L("UVWWzw"):L("T8SbVw");case "fullWidth":return L("QkbWIw");default:throw new v(b);}}get style(){const b=this.props.Ala,c=this.props.cursor,d=this.props.Ioc;switch(b.type){case "touch":return{cursor:c,paddingLeft:b.SWa==="start"?b.zxf:void 0,paddingRight:b.SWa==="end"?b.zxf:void 0};case "pointer":const e=b.aWa==="inside"&&b.zxf||void 0,f=b.aWa==="inside"&&b.S2i||0;
return{cursor:c,marginLeft:b.SWa==="start"?e:void 0,marginRight:b.SWa==="end"?e:void 0,top:f?f:void 0,height:`calc(100% - ${f*2}px)`,width:b.aWa==="inside"?d:void 0};case "fullWidth":return{cursor:c};default:throw new v(b);}}get classNames(){const b=this.props.Ala,c=this.props.Ioc;switch(b.type){case "touch":return{LWH67A:b.SWa==="start",el4EEg:b.SWa==="end",i_lWBA:b.isVisible};case "pointer":return{LWH67A:b.SWa==="start",el4EEg:b.SWa==="end",VpCh7A:b.aWa==="outside",_2XPgIQ:b.aWa==="inside"&&c!=
null,_Hb7xw:b.z1f};case "fullWidth":return{VDu60Q:!0,JvDQ2g:!0};default:throw new v(b);}}get HUs(){const b=this.props.Ala;switch(b.type){case "touch":return b.isVisible?cV(b.SWa==="start"?tr:ur,{className:"noqmdw",size:"small"}):null;case "pointer":const c={LWH67A:b.SWa==="start",el4EEg:b.SWa==="end"},d={borderTopLeftRadius:b.SWa==="start"?b.borderRadius:void 0,borderBottomLeftRadius:b.SWa==="start"?b.borderRadius:void 0,borderTopRightRadius:b.SWa==="end"?b.borderRadius:void 0,borderBottomRightRadius:b.SWa===
"end"?b.borderRadius:void 0};return cV("div",{"aria-hidden":!b.isVisible,className:AV("_9hMGtQ",b.aWa==="outside"?c:{...c,I18UiQ:!b.isVisible,cMDicQ:b.Nwg,LWH67A:b.SWa==="start",el4EEg:b.SWa==="end"}),style:d});case "fullWidth":return null;default:throw new v(b);}}render(){var b,c=this.props.time;const d=this.props.Ala;c={onPointerEnter:this.props.vpb,onPointerLeave:this.props.wpb,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":c,"aria-valuetext":J("UrWtuQ",[Math.round(c/
1E6*10)/10])};const e=cV("div",{role:"slider",tabIndex:0,"aria-label":this.label,className:AV("sAs_qg",this.classNames),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onKeyDownCapture:this.onKeyDown,onKeyUpCapture:this.onKeyUp,style:this.style,...c,"data-role":"trim-thumb",children:this.HUs});return d.type==="fullWidth"&&(b=d.U7b)!==null&&b!==void 0&&b.show?cV(__c.Zc,{open:!0,level:1,reference:e,placement:"top-center",children:cV("div",{"aria-label":L("QkbWIw"),onMouseDown:this.onMouseDown,
onTouchStart:this.onTouchStart,className:AV("HkOD8A",{Q_WLHg:d.U7b.appearance==="light",a0VUCg:d.U7b.appearance==="dark"}),style:this.style,...c,children:cV(__c.BXp,{size:"medium"})})}):e}constructor(...b){super(...b);this.pdi=(UWs.G(this),void 0);this.draggable=new ar({l2a:this.props.l2a?{enabled:this.props.l2a}:void 0,onDragStart:this.onDragStart,qe:this.onDrag,onDragEnd:this.onDragEnd});this.onMouseDown=c=>{this.epn(c);this.draggable.onMouseDown(c)};this.onTouchStart=c=>{this.epn(c);this.draggable.onTouchStart(c)};
this.stopPropagation=c=>c.stopPropagation();this.epn=c=>{this.props.captureEvents&&c.stopPropagation()}}}({c:[UWs,RWs]}=JV(a,[],[Lb],SWs))})(),QWs);var VWs,WWs,XWs,YWs;
new (VWs=class extends IV{constructor(){super(YWs);WWs()}},(()=>{class a extends(XWs=GV){static G(b){P(b,{isDragging:wV.ref,onDrag:fV.bound,onDragEnd:fV.bound,onDragStart:fV.bound,pJf:fV.bound,onKeyDown:fV.bound,onKeyUp:fV.bound,position:mV,RAo:mV,Prj:mV,Orj:mV,FGb:mV,eZi:mV})}componentDidMount(){this.Zfd.current&&(this.x7e=this.Zfd.current.hjb);Gb(this,[Lrs(()=>{if(this.isDragging){var b=so(this.RAo/1E6,"short");oV(()=>{this.currentTime.set(b);this.x7e()})}})])}componentWillUnmount(){oV(()=>this.isDragging=
!1)}x7e(){}onDrag(b,c,d){if(this.isDragging){var e=this.props.duration,f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.Ieb,l=this.props.FLd,m=this.props.Ala;b=Math.floor(k(b,c,this.position));var p;e=(p=l===null||l===void 0?void 0:l.XBa(b,m.type==="fullWidth"?e:void 0))!==null&&p!==void 0?p:b;g=Math.max(g,Math.min(e,h));if(g!==f)this.props.onDrag(g,d)}}onDragEnd(b){var c,d,e;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b);(e=this.props.FLd)===null||e===void 0||e.onDragEnd();
this.isDragging=!1}onDragStart(b){var c,d;this.isDragging=!0;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}pJf(){var b,c;this.isDragging=!0;(b=(c=this.props).pJf)===null||b===void 0||b.call(c)}onKeyDown(b,c){var d,e;if(this.isDragging){var f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.Ieb;b=Math.floor(k(b,c,this.position));g=Math.max(g,Math.min(b,h));g===f||(d=(e=this.props).onKeyDown)!==null&&d!==void 0&&d.call(e,g)}}onKeyUp(){var b,c;(b=(c=this.props).onKeyUp)===
null||b===void 0||b.call(c);this.isDragging=!1}get position(){const b=this.props.Ala;return b.type!=="fullWidth"?b.SWa:void 0}get RAo(){const b=this.props.time,c=this.props.duration;switch(this.position){case "start":return n(c);case "end":return n(c);case void 0:return b;default:throw new v(this.position);}}get Prj(){return this.props.time<=this.props.min}get Orj(){return this.props.time>=this.props.max}get FGb(){return this.props.Ala.type==="fullWidth"?this.isDragging?"grabbing":"pointer":this.Prj?
"e-resize":this.Orj?"w-resize":"ew-resize"}get eZi(){const b=this.props.hb;return b?wV.box(b):this.currentTime}render(){var b;const c=this.props.Ala;return this.Prj&&this.Orj&&c.type!=="fullWidth"&&!c.isVisible?null:kV(rV,{children:[cV(UWs,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,pJf:this.pJf,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,l2a:this.position?void 0:"touch-only",time:this.props.time,min:this.props.min,max:this.props.max,cursor:this.FGb,Ala:c,vpb:this.props.vpb,
wpb:this.props.wpb,captureEvents:this.props.captureEvents,Ioc:this.props.Ioc}),cV("div",{className:c.type==="fullWidth"&&((b=c.U7b)===null||b===void 0?0:b.show)?"yOdD4w":"QmeGkA",style:{left:this.position==="start"?0:void 0,right:this.position==="end"?0:void 0},children:cV(PWs,{isOpen:this.isDragging,ref:this.Zfd,children:this.eZi})})]})}constructor(...b){super(...b);this.currentTime=(YWs.G(this),wV.box(""));this.Zfd=HV();this.isDragging=!1}}({c:[YWs,WWs]}=JV(a,[],[Lb],XWs))})(),VWs);
var cGs=a=>a.classList.contains("sAs_qg")&&!a.classList.contains("VDu60Q");var ZWs,$Ws,aXs,bXs;
new (ZWs=class extends IV{constructor(){super(bXs);$Ws()}},(()=>{class a extends(aXs=GV){static G(b){P(b,{endUs:mV,g8j:mV,QAo:mV})}get endUs(){return Math.max(0,this.props.lYb+this.props.durationUs)}sJj(b){return{onDragStart:c=>{var d,e;return(d=(e=this.props).Xha)===null||d===void 0?void 0:d.call(e,{type:b,kb:"drag",nativeEvent:c})},onDragEnd:c=>{var d,e;return(d=(e=this.props).ona)===null||d===void 0?void 0:d.call(e,{type:b,kb:"drag",nativeEvent:c})},pJf:()=>{var c,d;return(c=(d=this.props).Xha)===
null||c===void 0?void 0:c.call(d,{type:b,kb:"shortcut"})},onKeyUp:()=>{var c,d;return(c=(d=this.props).ona)===null||c===void 0?void 0:c.call(d,{type:b,kb:"shortcut"})}}}get g8j(){const b=this.props.Ala,c=this.props.disabled;return b.type==="pointer"&&b.aWa==="outside"&&(!b.isVisible||c)}get QAo(){if(this.props.disabled)return null;const b=this.props.VTg,c=this.props.f6d,d=this.props.OMa,e=this.props.vSg,f=this.props.Cwa,g=this.props.lYb,h=this.props.durationUs,k=this.props.j$a,l=this.props.Ala,m=
this.props.U7b,p=this.props.vpb,q=this.props.wpb,r={Ieb:this.props.Ieb,FLd:this.props.FLd,captureEvents:this.props.captureEvents,hb:this.props.hb,Ioc:this.props.Ioc},t=l.type==="pointer"?{aWa:this.g8j?"inside":l.aWa}:{};return kV(rV,{children:[e&&k?cV(YWs,{...r,...this.dMq,time:g,min:b!==null&&b!==void 0?b:0,max:e,Ala:{type:"fullWidth",U7b:m},duration:h}):null,cV(YWs,{...r,...this.AMs,time:g,min:d,max:this.endUs-c,duration:h,Ala:{...l,...t,SWa:"start"},vpb:p,wpb:q}),cV(YWs,{...r,...this.dzq,time:this.endUs,
min:g+c,max:f,duration:h,Ala:{...l,...t,SWa:"end"},vpb:p,wpb:q})]})}render(){const b=this.props.children,c=this.props.Ala,d=this.props.disabled;return kV("div",{className:AV("HxvUnQ i1mS2A",{g_Wv1w:c.type==="pointer"&&c.aWa==="outside"&&!this.g8j,Hmp0bg:c.type==="touch"&&c.isVisible&&!d,YoKrmQ:c.type==="pointer"&&c.z1f}),children:[cV("div",{className:"x3tMUw i1mS2A",children:b}),this.QAo]})}constructor(...b){super(...b);this.AMs=(bXs.G(this),{...this.sJj("start"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).eBa)===
null||e===void 0||e.call(f,c,{type:"start",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).eBa)===null||d===void 0||d.call(e,c,{type:"start",kb:"shortcut"})}});this.dzq={...this.sJj("end"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).VEa)===null||e===void 0||e.call(f,c,{type:"end",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).VEa)===null||d===void 0||d.call(e,c,{type:"end",kb:"shortcut"})}};this.dMq={...this.sJj("fullWidth"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).j$a)===
null||e===void 0||e.call(f,c,{type:"fullWidth",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).j$a)===null||d===void 0||d.call(e,c,{type:"fullWidth",kb:"shortcut"})}}}}({c:[bXs,$Ws]}=JV(a,[],[Lb],aXs))})(),ZWs);var cXs=a=>class extends GV{componentDidMount(){const b=this.Bba.mmf;this.Beo();this.store.Hgb=this.props.hp;addEventListener("touchstart",b,{passive:!1})}componentDidUpdate(){this.Beo()}componentWillUnmount(){removeEventListener("touchstart",this.Bba.mmf)}render(){return cV(a,{...this.props,TDj:this.store.z$,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,onScroll:this.onScroll,cPi:this.cPi})}constructor(...b){super(...b);this.store=new __c.D4g;this.Bba=new __c.B4g(this.store,
this.props.kRe);this.Beo=()=>{const c=this.props.Ao;this.store.RTc({lnn:c?400:void 0,pcd:c?60:void 0,EGd:"x"})};this.onScroll=()=>{var c,d;this.props.HLp&&rEe(this.Bba);(c=(d=this.props).onScroll)===null||c===void 0||c.call(d)};this.onDragStart=c=>{this.Bba.pKc=!0;rEe(this.Bba);__c.pEe(this.Bba,{x:c.clientX,y:c.clientY});this.props.onDragStart&&this.props.onDragStart(c)};this.onDrag=c=>{const d={x:c.clientX,y:c.clientY};this.props.HLp&&rEe(this.Bba);__c.pEe(this.Bba,d);this.props.onDrag&&this.props.onDrag(c)};
this.onDragEnd=()=>{this.Bba.pKc=!1;rEe(this.Bba);this.props.onDragEnd&&this.props.onDragEnd()};this.cPi=c=>{c&&!this.Bba.$cc?this.Bba.yor():!c&&this.Bba.$cc&&(this.Bba.$cc=void 0)}}};var dXs=class extends VMs{componentWillUnmount(){var a;(a=this.f3n)===null||a===void 0||a.call(this)}render(){return cV(bXs,{lYb:this.props.lYb,durationUs:this.props.durationUs,VTg:this.props.VTg,f6d:this.props.f6d,NS:this.props.NS,OMa:this.props.OMa,vSg:this.props.vSg,Cwa:this.props.Cwa,Ieb:this.Ieb,FLd:this.props.FLd,eBa:this.eBa,VEa:this.VEa,j$a:this.j$a,Xha:this.Xha,ona:this.ona,captureEvents:this.props.captureEvents,disabled:this.props.disabled,Ala:this.props.Ala,U7b:this.props.U7b,hb:this.props.hb,
vpb:this.props.vpb,wpb:this.props.wpb,Ioc:this.props.Ioc,children:cV("div",{ref:this.props.TDj,className:"JFv1rQ",children:this.props.children})})}constructor(...a){super(...a);this.Xha=b=>{const c=this.props.Xha,d=this.props.onDragStart,e=this.props.hp;c(b);b.kb==="drag"&&d&&d(b.nativeEvent);this.f3n=dV(()=>e.scrollLeft,this.onScroll);this.wn=VCs(this,b.type)};this.eBa=(b,c)=>{const d=this.props.eBa,e=this.props.onDrag;d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.VEa=(b,c)=>{const d=this.props.VEa,
e=this.props.onDrag;d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.j$a=(b,c)=>{const d=this.props.j$a,e=this.props.onDrag;d&&d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.ona=b=>{var c;const d=this.props.ona,e=this.props.onDragEnd,f=this.props.cPi;d(b);f&&f(!0);(c=this.f3n)===null||c===void 0||c.call(this);this.wn=void 0;e&&e()};this.onScroll=fV(()=>{const b=this.props.onScroll;var c=this.props.cPi,d=this.props.lYb,e=this.props.durationUs;const f=this.props.OMa,g=this.props.Cwa,h=this.props.f6d;var k=
this.props.NS;const l=this.wn;if(l){l.deltaX=this.props.hp.scrollLeft-l.RIg;var m=l.deltaX;var p=m===0?void 0:m>0?"forwards":"backwards";m=this.props.Ieb(l.p2d,l.deltaX);var q=l.Tfn;l.Tfn=m;m-=q||l.p2d;if(!(q=!p)&&(q=l.type!=="fullWidth")){{q=l.type;const u=this.props.durationUs,w=this.props.f6d,x=this.props.lYb;q==="start"&&p==="forwards"||q==="end"&&p==="backwards"?p=u>w:(p=u<this.props.NS,p=q==="end"?p:p&&x>0)}q=!p}k=q||e===k||e===h;c&&c(k);if(!k){switch(l.type){case "fullWidth":var r,t;c=d+m;
d=this.props.vSg;e=this.props.VTg;c=d?Math.max(e!==null&&e!==void 0?e:0,Math.min(c,d)):c;(r=(t=this.props).j$a)===null||r===void 0||r.call(t,c);break;case "start":this.props.eBa(d+m);break;case "end":this.props.VEa(Math.max(f+h,Math.min(d+e+m,g)));break;default:throw new v(l.type);}b&&b()}}});this.Ieb=(b,c,d)=>{var e;c+=((e=this.wn)===null||e===void 0?void 0:e.deltaX)||0;return this.props.Ieb(b,c,d)}}},gHs=cXs(dXs);var yFs=class{get $io(){return this.OFi||this.WHe.get()}onDragEnd(){this.reset()}XBa(a,b){const c=this.uCf;this.uCf=a;let d=XCs(this,{Iyf:a});if(d==null&&b!=null){var e=XCs(this,{Iyf:a+b});e!=null&&(d=e-b)}if(d==null)return this.reset(),a;b=this.Ob.now();e=d-a;if(this.yCf==null||this.yCf.XBa!==d){var f,g;(g=this.Lk)===null||g===void 0||(f=g.SM)===null||f===void 0||f.call(g,new __c.qsd({style:1}));this.yCf={NB:b,pKs:e>0,XBa:d};this.OFi=!1}else!this.$io&&$Cs(this,{XBa:d,Iyf:a,uCf:c,Y6d:b})&&(this.OFi=
!0);return this.$io?a:d}reset(){this.yCf=void 0;this.OFi=!1;this.uCf=void 0}constructor(a,b,c){this.targets=a;this.WHe=b;this.Lk=c;this.Ob=__c.Tb;this.oKs=1E3;this.OFi=!1}},WCs=(a,b)=>{const c=a.XBa+a.X1c;return a.XBa-a.Ged<=b&&b<=c};var eXs,fXs,gXs,hXs=parseInt("50px",10),iXs=parseInt("2px",10)||2,jXs=parseInt("1px",10)||1,kXs=parseInt("7px",10)||7,lXs=parseInt("4px",10)||5,mXs=parseInt("4px",10)||3,nXs=parseInt("5px",10)||5,oXs=parseInt("3px",10)||3,pXs=parseInt("7px",10)||7,qXs=parseInt("5px",10)||5,sXs=a=>({page:b,children:c})=>cV(rXs,{...a,page:b,children:c}),rXs;
new (eXs=class extends IV{constructor(){super(rXs);fXs()}},(()=>{class a extends(gXs=GV){static G(b){P(b,{Sqf:wV.ref,I1g:wV.ref,Xha:fV,eBa:fV,kRe:fV,VEa:fV,ona:fV,Uue:mV,WNe:mV,UTg:mV,OMa:mV,Cwa:mV,Ahb:mV,trim:mV({equals:lV.shallow}),width:mV,V_f:mV({equals:lV.shallow}),bwm:mV,J3d:mV,hb:mV})}get Uue(){const b=this.props.my,c=this.props.page,d=this.props.xw;return d.t$a===c&&d.Tkf!==void 0?d.Tkf:hKe(b,c)}get WNe(){return yHs(this.props.LYe,this.props.page)}get UTg(){return.1}get OMa(){return this.Ahb.durationUs+
this.Ahb.qda-this.WNe*1E6}get Cwa(){return this.WNe*1E6+this.Ahb.qda}get Ahb(){return this.props.xw.dAa(this.props.page)}get trim(){var b=this.props.xw,c=this.Ahb;b.Pia==="start"?(c=c.qda+b.q1g*1E6,b=c-this.Uue*1E6):(b=c.qda,c=c.qda+this.Uue*1E6);return{startUs:b,endUs:c}}get width(){const b=this.props.QM,c=this.props.xw;return this.props.fG.AJ?this.Ahb.width:!this.props.gWa&&b.lNa?Math.min(this.Ahb.width,c.Tym.width):c.t$a===this.props.page?this.Ahb.width+c.P6e:this.Ahb.width}get V_f(){var b=this.props.xw;
const c=b.isLinear;var d=this.props.fG.AJ;const e=this.props.QM,f=b.N6e===this.props.page;if(b.XUe)return{type:"touch",isVisible:f&&!d};b=this.width>=hXs;d=this.I1g==null?!b:this.I1g==="outside";return c&&d?{type:"pointer",aWa:"outside",isVisible:this.J3d&&e.IRa&&e.pK===1&&!e.isDragging,Nwg:!0,z1f:c}:{type:"pointer",aWa:"inside",isVisible:b&&f,Nwg:!b,zxf:this.J3d?c?mXs:nXs:jXs,S2i:this.J3d?c?mXs:oXs:jXs,borderRadius:this.J3d?c?lXs:qXs:c?kXs:pXs,z1f:c}}get bwm(){var b;const c=this.props.QM,d=this.props.xw,
e=this.props.fG,f=this.props.page;return!c.KN||e.AJ||e.PF||!BV(d,f)?!0:c.ei&&!((b=this.V_f)===null||b===void 0?0:b.isVisible)}get J3d(){return this.props.QM.mc(this.props.page)}get hb(){return this.props.page.locked?L("lFd1Vg"):void 0}render(){const b=this.props.QM,c=this.props.xw,d=this.props.children;var e=this.props.page;const f=this.props.hp,g=c.isLinear?iXs:0,h=b.jxd(e);e=b.n6c(e);return cV(gHs,{hp:f,lYb:this.trim.startUs,durationUs:this.Uue*1E6,Ieb:this.Ieb,f6d:this.UTg*1E6,NS:this.WNe*1E6,
OMa:this.OMa,Cwa:this.Cwa,eBa:this.eBa,VEa:this.VEa,Xha:this.Xha,ona:this.ona,FLd:this.WNb,kRe:this.kRe,captureEvents:!0,disabled:this.bwm,Ala:this.V_f,hb:this.hb,vpb:c.XUe?void 0:this.a2e,wpb:c.XUe?void 0:this.Tlk,onScroll:this.onScroll,Ioc:c.isLinear?36:void 0,Ao:b.ei,children:cV("div",{style:{width:this.width-(h&&e?0:h||e?g/2:g)},children:d})})}constructor(...b){var c,d;super(...b);this.Sqf=(rXs.G(this),0);this.I1g=void 0;this.Xha=e=>{const f=this.props.QM,g=this.props.LYe,h=this.props.qA,k=this.props.page;
if(e.kb==="drag"&&e&&(f.kxi(e.nativeEvent),f.xF!=="single"))return;k.locked||(this.I1g=this.width<hXs?"outside":"inside",e=e.type==="end"?"end":"start",h===null||h===void 0||h.stop(),h===null||h===void 0||h.f0e({direction:e}),g.Xha(k,e))};this.eBa=e=>{this.props.page.locked||this.props.LYe.Uxi(Math.min(this.WNe,Math.max(this.UTg,(this.Ahb.qda+this.Ahb.durationUs-e)/1E6)))};this.kRe=()=>{const e=this.props.xw,f=this.props.QM;e.Pia==="start"&&e.P6e>0&&f.ei&&(this.eBa(this.trim.startUs-1E4),this.Sqf-=
1E4,e.T_i=this.Sqf/1E6*e.fBa)};this.VEa=e=>{this.props.page.locked||this.props.LYe.Uxi(Math.min(this.WNe,Math.max(this.UTg,(e-this.Ahb.qda)/1E6)))};this.ona=e=>{const f=this.props.LYe,g=this.props.xw,h=this.props.qA,k=this.props.page;if(g.t$a===k){const l=g.Pia;f.ona(this.UTg,this.WNe,e.kb);h===null||h===void 0||h.LXe(l);h===null||h===void 0||hIs(h,k,l);this.I1g=void 0}this.Sqf=0;g.T_i=0};this.a2e=()=>this.props.xw.BWf(this.props.page);this.Tlk=()=>this.props.xw.BWf(void 0);this.WNb=new yFs(mV(()=>
{var e=this.props.qA,f=this.props.mYi;e=(e=e===null||e===void 0?void 0:e.jCi())?[e]:[];if(!f)return e;const g=f.med;f=f.HHh?f.HHh.get().map(h=>({XBa:h,Ged:h===0?0:g,X1c:g})):[];return e.concat(f)}),(d=(c=this.props.mYi)===null||c===void 0?void 0:c.WHe)!==null&&d!==void 0?d:wV.box(!1),this.props.Lk);this.Ieb=(e,f)=>e+this.Sqf+f/this.props.xw.fBa*1E6;this.onScroll=this.props.QM.ei?()=>{const e=this.props.qA;e===null||e===void 0||e.LXe()}:void 0}}({c:[rXs,fXs]}=JV(a,[],[Lb],gXs))})(),eXs);var tXs={HNa:0},uXs=eV(({page:a,le:b,rbj:c,s2g:d,Pia:e,wn:f,IYe:g})=>cV("div",{className:"_9yfyrQ",style:{right:e==="start"?g.dBl:void 0,left:e==="start"?void 0:0},children:cV(__c.HC,{wn:f,itemSizes:g.Qxk,children:h=>cV(rV,{children:g.Rxk.map((k,l)=>{var m;if(m=h!=null){var p;m=(p=h===null||h===void 0?void 0:h.J9)!==null&&p!==void 0?p:0;var q;p=(q=h===null||h===void 0?void 0:h.f$)!==null&&q!==void 0?q:g.Qxk.length-1;q=l+1;m=m<=q&&q<=p}return cV(c,{ZSc:k,page:a,IYe:g,le:b,s2g:d,P8g:m},l)})})})})),
wXs=({P8g:a,ZSc:b,...c})=>{b=WMs(b);a=WMs(a);return cV(vXs,{...c,ZSc:b,P8g:a})},vXs=eV(({IYe:a,P8g:b,ZSc:c,page:d,le:e,s2g:f})=>{const g=a.fCf.width;a=a.fCf.height;return cV("div",{style:{width:g,height:a},children:b&&cV(e,{page:d,ld:g,tf:a,fit:f,G8g:c*1E6,rA:{HNa:c}})})}),zXs=eV(({page:a,document:b,tRb:c,dimensions:d,gBb:e,le:f,Iqp:g,rbj:h,xw:k,QM:l,wn:m,IYe:p,cij:q})=>{const r=xV(()=>({...d,width:ik(a.page,b.dimensions)?ug(4,jk(a.page,b.dimensions)).width*d.scale:d.width}),[a.page,b.dimensions,
d]);p.Yfo(r);const t=k.t$a===a.page?k.Pia:void 0;let u;a.type==="responsive-page"?u="cover":l.K3d(a.page)&&!pf(a.page)&&(u="contain");const w=l.K3d(a.page)&&a.type!=="responsive-page"?"dashed":"solid",x=!l.mc(a.page)||k.N6e===a.page&&l.ei&&BV(k,a.page)?"thin":"thick",y=!k.AJ&&BV(k,a.page);return cV("div",{className:AV("J7ZnOw",{lKgehQ:l.mc(a.page)&&l.IRa}),children:kV(xXs,{tRb:c,yFb:x,borderStyle:w,tUa:k.isLinear,children:[q&&cV(q,{page:a.page,mc:c!=="none"}),kV(g,{page:a.page,children:[cV(__c.sOm,
{E3a:a.page.draft,children:cV("div",{className:AV("CdMl_Q","ohABhA",{EQOZLw:c==="selected"||c==="focused",e1lb_g:e,T5Fk1g:!e,_5BqSaw:wb.pd,TglptA:k.isLinear}),style:{height:d.height,opacity:p.tcn?.5:1,background:y?cDs(a.ja,k):void 0},children:e&&(p.gvo==="repeat"?cV(uXs,{le:f,rbj:h,s2g:u,page:a,Pia:t,wn:m,IYe:p}):cV(yXs,{page:a,F3:r,sel:k.WRd(a.page,!0),nel:d.height,s2g:u,le:f}))})}),cV("div",{className:"JkY5pQ"})]})]})})}),xXs=eV(a=>{const b=a.tRb;return cV(__c.hPo,{borderRadius:"round",yFb:a.yFb,
tRb:b==="none"?"default":b,borderStyle:a.borderStyle,Lrh:a.tUa,children:a.children})}),yXs=a=>{const b=a.page,c=a.s2g,d=a.le,{left:e,top:f,width:g,height:h}=aDs({sel:a.sel,nel:a.nel,F3:a.F3,page:b});return cV("div",{style:{transform:`translateX(${e}px) translateY(${f}px)`},children:cV(d,{page:b,ld:g,tf:h,fit:c,rA:tXs})})},AXs=a=>{const b=UCs(a),c=a.document,d=a.le,e=a.QM,f=a.xw,g=a.fG,h=a.g5e,k=a.Fug?wXs:vXs,l=sXs(a);return m=>{const p=m.page,q=xV(()=>new JWs(e,f,g,p.page,h),[p.page]);return cV(zXs,
{...m,document:c,le:d,QM:e,xw:f,Iqp:l,rbj:k,cij:b,IYe:q})}};var yV={get fWj(){return Rb("2cd44d17",!1)},get Mpq(){return Rb("4a9296e3",!1)},get vvq(){return Rb("ba8fccc0",!1)},get Bpq(){return Rb("a4addff",!1)},get YEm(){return Rb("f79ce147",!1)},get Bxq(){return Rb("742e4c6d",!1)},get ltq(){return Rb("f9933a63",!1)},get f8g(){return Rb("1b9427a5",!1)},get P_h(){return Rb("51bdcf59",!1)},get tqq(){return Rb("c94df7cf",!1)},get Ixq(){return Rb("164ecc96",!1)},get Aeq(){return Rb("8a334b08",!1)}};var BXs=DV(a=>{const b=a.Yjc,c=a.text,d=a.FBf;return cV("p",{className:AV("s_2lEg JYIidw",a.className,{ejxV1w:d,"ptMFSw _2a6tNg":a.Uxb}),style:d?void 0:b.text,children:c})}),CXs=({onClick:a})=>cV(Yi,{size:"small",icon:__c.fu,variant:"contrast",onClick:a}),rHs=eV(({yd:a,KYk:b,page:c,QM:d,Lpb:e,my:f,Wda:g,tUa:h})=>{const k=hDs(c);return cV("div",{className:"D9QD7A",children:cV("div",{className:"_43qVUg",children:cV("div",{className:"fQqEWA",children:kV("div",{className:"OM5KyQ",children:[cV(DXs,{mode:b,
Yma:!0,yd:a,page:c,Yjc:k,QM:d,my:f,tUa:h}),cV(EXs,{isDisabled:!0,Yma:!0,Xko:d.KN,page:c,Wda:g,Yjc:k,Lpb:e,QM:d,tUa:h})]})})})})}),GXs=a=>b=>cV(FXs,{...b,...a}),FXs=eV(a=>{const b=a.isDragging;var c=a.e$b;const d=a.Eha,e=a.Uxb,f=a.KYk,g=a.bDp,h=a.jMp,k=a.tUa,l=a.yd,m=a.NK,p=a.zh,q=a.Wda,r=a.Lpb,t=a.QM,u=a.eb,w=a.my;var x=a.fh;const y=a.uc,z=a.jPr;var A=a.Vdg;const B=a.QUc,D=a.JUc;a=a.G2b;const G=p.ja;var I=Fc.Yaa||Fc.yxd;x=e&&(d||x.Lr||I);const K=hDs(G);c=c||b;const N=f==="pageDuration"&&k&&!e&&!d;
I=fk(u,G,__c.qTj)===6;A=A&&yV.P_h&&I&&e;return kV("div",{className:AV("CObwCg",{w7Fxyw:g,VUsLCQ:c,X6jsHg:t.jxd(G),dOiHrw:k,gTH6_Q:e&&t.IRa}),children:[A&&cV("div",{className:"_5JoP7Q",children:cV(CXs,{onClick:z})}),kV("div",{className:"_0_t1hg",children:[cV("div",{className:"_7I1ALw",children:B&&cV("div",{className:"a00RqQ",children:cV(B,{})})}),kV("div",{className:"KwRevw",children:[a&&cV("div",{className:AV("cpLrIw",{JtZbcA:uc.UI,PykVOA:x}),onWheel:HXs,children:cV(a,{page:G})}),(!a||!x)&&D&&cV("div",
{className:AV("cpLrIw",{OmuVVg:uc.UI,PykVOA:!x}),children:cV(D,{})})]})]}),cV(__c.Vc,{children:M=>cV("div",{className:AV(M.className,"_43qVUg",{uLhNeg:g}),children:cV("div",{className:AV("XeYKNA",{XWR8Jw:g}),style:N?void 0:K.gradient,children:kV("div",{className:"OM5KyQ",children:[cV(IXs,{zh:p,eb:u,Yjc:K,store:t,uc:y}),!N&&cV(DXs,{mode:f,Yma:!1,yd:l,page:G,Yjc:K,QM:t,my:w,tUa:k}),!N&&cV(EXs,{isDisabled:!h||b,Yma:!1,Xko:t.KN&&d,NK:m,page:G,Wda:q,Yjc:K,Lpb:r,QM:t,tUa:k})]})})})})]})}),DXs=eV(a=>{var b=
a.mode;const c=a.Yma,d=a.yd,e=a.page,f=a.Yjc,g=a.QM,h=a.my;a=a.tUa;const k=gV(()=>{pa(e.type==="fixed");h.qF(e)},[h,e]),l=g.mc(e);if(b==="pageNumber"||e.type!=="fixed")return cV(BXs,{Yjc:f,text:`${d}`,FBf:c,Uxb:l});b=cV(BXs,{Yjc:f,text:so(hKe(h,e),"short"),FBf:c,Uxb:l});return!g.KN||c||a?b:cV(pr,{tabIndex:-1,ariaLabel:L("zci4Fg"),onClick:k,size:"small",className:"rPSykQ",l8:!0,disabled:g.ei,children:b})}),IXs=eV(({zh:a,Yjc:b,store:c,eb:d,uc:e})=>{{const g=a.ja;if(c.KN){var f=Ul(e,a);a=f&&!Ul(e,a,
Vl.Hs)?nar:f?ay:iDs(g,c,d)}else a=iDs(g,c,d)}return a?cV("div",{style:b.icon,children:cV(a,{className:"zRkFXw",size:"small"})}):null}),EXs=eV(a=>{var b=a.isDisabled;const c=a.Yma,d=a.Xko,e=a.NK,f=a.page,g=a.Wda,h=a.Yjc,k=a.Lpb;var l=a.QM,m=a.tUa,p=xV(()=>Ub(),[]);const [q,r]=nV(!1);a=gV(x=>{k.aBa(f,x)},[f,k]);const t=jV(null),u=b||!l.KN||p||m;b=gV(x=>{!q&&(x.altKey||x.metaKey||x.shiftKey||x.ctrlKey)&&(g(),x.preventDefault())},[q,g]);m=gV(()=>{var x;u||(r(!0),(x=t.current)===null||x===void 0||x.idc())},
[u]);p=gV(()=>{r(!1)},[]);const w=f.title||"";l=l.mc(f);return kV(rV,{children:[cV(BXs,{Yjc:h,className:"OqCypA",text:"-",FBf:!q&&!w&&!d||c,Uxb:l}),c?cV(BXs,{Yjc:h,className:"_7LcFVQ",text:w,FBf:!0,Uxb:l}):cV(__c.Qyh,{ref:t,label:L("RW8WWQ"),value:w,defaultValue:"",NK:e,Swa:a,onMouseDown:b,onFocus:m,onBlur:p,disabled:u,tabIndex:-1,className:AV("_7LcFVQ",{KDSYFg:u}),KM:AV("Ra_6tA","s_2lEg JYIidw",{"ptMFSw _2a6tNg":l,_5bT_Aw:h.text.color==="#ffffff",Isldmg:h.text.color==="#000000"}),Qpk:h.text})]})}),
HXs=a=>{a.stopPropagation()};var JXs=({uZf:a,viewport:b,document:c,Ma:d,le:e,hS:f,G2b:g,L:h,store:k,timing:l,uc:m,eb:p,my:q,Lea:r,hp:t,fh:u,aFa:w,Qf:x,Lk:y,onContextMenu:z,Vdg:A,gWa:B,Fug:D,g5e:G=100,Uhr:I})=>{const K=a.xw,{JUc:N,QUc:M}=RCs({store:k,Lea:r,hS:f}),O=AXs({le:W=>cV(e,{...W,yBa:"static-with-placeholder-fallback"}),LYe:a.LYe,hp:t,xw:K,qA:a.qA,fG:a.fG,mYi:a.mYi,Lpb:h,QM:k,my:q,Fug:D,aFa:w,Qf:x,document:c,Lk:y,gWa:B,g5e:G});f=fV(()=>{var W,X;b.jh.type==="fixed-page"&&(l.Xt=!0,(W=a.qA)===null||W===void 0||W.stop(),(X=
a.qA)===null||X===void 0||X.configure({page:b.jh}),a.fG.PHd(!1))});const U=GXs({Lpb:h,uc:m,fh:u,jPr:f,Vdg:A});return eV(W=>{var X=GWs,Z=W.wn,da=c.language,ka=W.page,la=W.yd,oa=W.dimensions,ja=W.Lql,ha=W.visible;var ba=W.page.page;var ca;ba=k.Cuk(ba)?"page_audio_selected":!k.mc(ba)||K.N6e===ba&&k.ei&&BV(K,ba)?"none":!k.IRa||(ca=a.$Ta)!==null&&ca!==void 0&&ca.Jf?"focused":"selected";return cV(X,{QM:k,xw:K,my:q,eb:p,Ma:d,wn:Z,NK:da,page:ka,yd:la,dimensions:oa,Lql:ja,visible:ha,tRb:ba,Ao:k.ei,Uxb:k.mc(W.page.page),
isDragging:W.isDragging,eBd:k.ydk(W.page.page),Gg:k.g9h(W.page.page),onClick:W.onClick,onContextMenu:k.ei||!I&&!k.KN?void 0:z,G2b:k.ei||!I&&!k.KN?void 0:g,JUc:N,QUc:M,elp:O,flp:U})})};var KXs=({L:a,sfb:b,qA:c,K2e:d,fG:e,store:f,keyboardShortcuts:g,N:h,V:k})=>{const l=(r,t)=>{const u=r.shiftKey;t=t.direction;const w=k.sb("keyboard_shortcuts.select_page",{Fb:{name:"editor.page.navigate",type:"keyboard_shortcut"}});let x;switch(t){case "last":x=u?f.W5n():f.v5n();break;case "first":x=u?f.V5n():f.sLi();break;case "next":c&&e&&!e.AJ?c.XFk(u?.5:.1,"forwards","shortcut"):x=u?f.X5n():f.B5n();break;case "previous":c&&e&&!e.AJ?c.XFk(u?.5:.1,"backwards","shortcut"):x=u?f.Y5n():f.J5n()}x==
null?w.abort():(r.stopPropagation(),h.cLd(x,f.ya!==x,w,{Vb:f.Vb(f.ya||x),pK:f.pK,Txd:f.K3d(f.ya||x),kb:"key_press"}))},m=(r,t)=>{const u=t.direction;t=t.zZf;r.stopPropagation();u==="forwards"?a.GUg(f,{EIk:t}):a.FUg(f,"key_press",{DIk:t})},p=()=>{f.SZn()};var q=["view","comment"];g.register(["ArrowRight",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],["PageDown",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["PageUp",r=>l(r,{direction:"previous"}),
L("Nm51vA"),q]);g=new __c.d1b({vQa:!1});q=["edit","view","comment"];c&&g.register([" ",()=>{b()&&c.DOa({kb:"shortcut"})},"Toggle timeline preview",q]);g.register(["End",r=>l(r,{direction:"last"}),L("iUDjEw"),q],[Vk("ArrowRight"),r=>l(r,{direction:"last"}),L("iUDjEw"),q],[Vk("ArrowDown"),r=>l(r,{direction:"last"}),L("iUDjEw"),q],[Ro("End"),r=>l(r,{direction:"last"}),L("0A1FZQ"),q],[Vk(Ro("ArrowRight")),r=>l(r,{direction:"last"}),L("0A1FZQ"),q],[Vk(Ro("ArrowDown")),r=>l(r,{direction:"last"}),L("0A1FZQ"),
q],["Home",r=>l(r,{direction:"first"}),L("tfzZYg"),q],[Vk("ArrowLeft"),r=>l(r,{direction:"first"}),L("tfzZYg"),q],[Vk("ArrowUp"),r=>l(r,{direction:"first"}),L("tfzZYg"),q],[Ro("Home"),r=>l(r,{direction:"first"}),L("9wjTBw"),q],[Vk(Ro("ArrowLeft")),r=>l(r,{direction:"first"}),L("9wjTBw"),q],[Vk(Ro("ArrowUp")),r=>l(r,{direction:"first"}),L("9wjTBw"),q],["ArrowRight",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["PageDown",r=>l(r,{direction:"next"}),L("CYTgXw"),q],[Ro("ArrowRight"),r=>l(r,{direction:"next"}),
L("s7WncQ"),q],[Ro("PageDown"),r=>l(r,{direction:"next"}),L("s7WncQ"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],["PageUp",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],[Ro("ArrowLeft"),r=>l(r,{direction:"previous"}),L("qcHaOA"),q],[Ro("PageUp"),r=>l(r,{direction:"previous"}),L("qcHaOA"),q],[Vk("a"),r=>{r.stopPropagation();f.a5n()},L("KojSUg"),q]);q=["edit"];d&&g.register(["s",r=>{r.stopPropagation();d.dpn()},"Split",q]);g.register([Vk("Enter"),r=>{f.KN&&(r.stopPropagation(),tDs(a,
f,"shortcut",f.m$b))},L("kMIn0w"),["edit"]],[Vk("]"),r=>m(r,{direction:"forwards",zZf:!1}),L("Xv/c6w"),q],[Vk("PageDown"),r=>m(r,{direction:"forwards",zZf:!1}),L("Xv/c6w"),q],[Vk(Ro("PageDown")),r=>m(r,{direction:"forwards",zZf:!0}),L("Y2/pJg"),q],[Vk("["),r=>m(r,{direction:"backwards",zZf:!1}),L("oW2pdQ"),q],[Vk("PageUp"),r=>m(r,{direction:"backwards",zZf:!1}),L("oW2pdQ"),q],[Vk(Ro("PageUp")),r=>m(r,{direction:"backwards",zZf:!0}),L("Vb3tiQ"),q],["Backspace",p,L("HIVQ3g"),q],["Delete",p,L("HIVQ3g"),
q]);return g};var LXs=21*Xc,MXs=parseInt("96px",10)||96,NXs=15*Xc,OXs=27*Xc,PXs=19*Xc,kDs=class{static G(a){P(a,{Mah:wV.ref,YEc:mV,Qts:mV,uQc:mV,iBl:mV,Itn:mV,wKd:mV,uvo:mV,tvo:mV})}get ZRf(){return n(this.config.ZRf,"sceneTimeline is not configured correctly")}get Jld(){return n(this.config.Jld,"audioTimeline is not configured correctly")}get lWg(){var a,b;return((b=(a=this.config.XXh)===null||a===void 0?void 0:a.lWg.get())!==null&&b!==void 0?b:0)+this.Jld.lWg.get()+1}iuf(a,b){var c,d,e,f;return{top:this.uQc+
((e=(c=this.config.XXh)===null||c===void 0?void 0:c.UPq(a,b))!==null&&e!==void 0?e:0),rowHeight:(f=(d=this.config.XXh)===null||d===void 0?void 0:d.rowHeight)!==null&&f!==void 0?f:0}}get YEc(){var a,b;return(b=(a=this.config.XXh)===null||a===void 0?void 0:a.height.get())!==null&&b!==void 0?b:0}get Qts(){return this.ZRf.height}get uQc(){return n(this.config.Mss).height.get()}get iBl(){const a=n(this.config.vge),b=n(this.config.D0c);return this.wKd+a.height.get()+b.height.get()}get Itn(){return(this.ei.get()?
PXs:OXs)+this.uQc}get wKd(){return n(this.config.N1c).get()?this.Mah:Math.max(MXs,Math.min(this.uvo,yV.f8g?this.Itn:Infinity))}get uvo(){const a=this.YEc>0?Xc:0,b=this.Jld.height.get()>0?Xc:0;return this.tvo+this.YEc+this.ZRf.height+this.Jld.height.get()+a+b+this.uQc}get tvo(){return this.uQc?0:Xc*4}constructor(a,b){this.config=a;this.ei=b;this.Mah=(kDs.G(this),LXs);this.Zfo=c=>{var d=__c.Xb();var e;d=(e=d===null||d===void 0?void 0:d.height)!==null&&e!==void 0?e:window.innerHeight;this.Mah=Math.max(NXs,
Math.min(d*.6,c))}}};var QXs=a=>{const b=(e,f)=>e+(f.type==="group"?f.mb.count():1),c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new v(f);}};return a.pages.reduce((e,f)=>d(e,f),0)},RXs=a=>{const b=(e,f)=>{switch(f.type){case "group":return e+f.mb.filter(g=>g.type==="embed").length;case "embed":return e+
1;default:return e}},c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);case "embed":return e+1;default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new v(f);}};return a?d(0,a):0},SXs=(a,b)=>{const c=QXs(b);return{numPages:a.OD,numElements:c,numEmbeds:RXs(a.ya||b.pages.first())}};var TXs=(a,b,c)=>class extends GV{render(){!this.rGg&&this.tvr();return cV(c,{...this.props})}tvr(){var d,e;if((d=this.span)===null||d===void 0?0:d.isRecording())(e=this.span)===null||e===void 0||e.nb().addEvent("rendered");this.rGg=!0}componentDidMount(){var d;if((d=this.span)===null||d===void 0?0:d.isRecording())this.span.nb().addEvent("mounted"),this.span.nb().tk(({Hi:e})=>{a(e())}),this.span.end(),this.span=void 0}constructor(d){super(d);this.rGg=!1;this.span=b.sb("initial_render",{Fb:{name:"page_navigator.initial_render"}})}};var UXs=({IP:a,aFa:b,Lpb:c,QM:d})=>{const e={getLabel(){return c.WJ()?d.ei?L("y1K5cA"):L("PAB4WQ"):L("TYQVbA")},onClick(f){a.clear();tDs(c,d,"add_page_button",f)},na:({lq:f})=>cV(Nu,{size:f&&d.ei?"medium":"small"}),isActive(){return!1},isDisabled(){return!1}};dV(()=>d.KN,f=>{b.udg.Buh=f?e:void 0},{fireImmediately:!0})};var VXs,WXs,XXs,YXs,ZXs,$Xs,aYs=parseInt("4px",10)*2||8,pHs;
new (VXs=class extends IV{constructor(){super(pHs);XXs()}},(()=>{class a extends(YXs=GV){static G(b){P(b,{canDrag:mV,bdm:mV,EQi:mV,Z3l:fV,d2:fV,onDragStart:fV,aFg:fV,na:mV})}get canDrag(){return this.props.store.KN}get bdm(){const b=this.props.store;return b.mc(this.props.page)&&b.lNa&&b.mc(b.lNa)}get EQi(){const b=this.props.store,c=this.props.page;return b.lNa!==c&&(!b.zvd||!b.mc(c))}get na(){const b=this.props.rss;return cV("div",{className:"Q_BqMA",style:{transform:this.canDrag&&b?`rotate(${b}deg)`:
void 0},children:this.props.children})}render(){const b=this.props.gWa,c=this.props.Rel,d=this.props.dimensions,e=this.props.xec,f=this.props.qjq,g=this.props.pcd,h=this.props.IGd,k=this.props.store.RHc(this.props.page);return cV("div",{role:"none",className:"jBWQkA",style:{transform:k&&this.EQi?this.zLp(k):void 0,height:d.height+aYs},children:this.canDrag?cV(__c.F4g,{SC:c,d2:this.d2,onDragStart:this.onDragStart,onDragEnd:this.aFg,Z_a:this.Z_a,hQd:this.Z3l,aee:this.bdm,xec:e,height:f,pcd:g,IGd:h,
EGd:"x",BVh:b,focusable:!0,Qdj:this.Yu,children:this.na}):this.na})}constructor(...b){super(...b);this.Z3l=(pHs.G(this),()=>{this.props.store.zvd=!1});this.d2=c=>{const d=this.props.page,e=this.props.d2,f=this.props.store,g=this.props.V;f.Bll(d);f.Oqd=g.sb("drag_and_drop",{Fb:{name:"page_navigator.drag_and_drop"}});e&&e(d,c)};this.Z_a=()=>{const c=this.props.page,d=this.props.Z_a,e=this.props.store;d===null||d===void 0||d(c);e.Oqd=null};this.onDragStart=(c,d)=>{c=this.props.N;var e=this.props.store;
const f=this.props.page,g=this.props.V.sb("on_drag_start",{Fb:{name:"page_navigator.draggable_page.on_drag_start"}});e.zvd=!0;e.tjl(d);(d=e.mc(f))?g.abort():(e.Wda(f),e={Vb:e.Vb(f),pK:e.pK,Txd:e.K3d(f)},c.cLd(f,!d,g,{...e,kb:"click"}))};this.aFg=()=>{const c=this.props.store,d=this.props.page,e=this.props.onDragEnd;c.lNa===d&&(c.Bll(void 0),c.tjl(!1),e&&e(d))};this.zLp=c=>{const d=this.props.uzg||wb.direction===1?1:-1;return c!=="none"?c.direction==="left"?`translateX(${-c.distance*Xc*d}px)`:`translateX(${c.distance*
Xc*d}px)`:c};this.Yu=()=>{var c=this.props.store;const d=this.props.page,e=this.props.children,f=this.props.dimensions,g=this.props.tUa;c=c.$hm&&c.mc(d);return cV("div",{className:AV("H_zteA",{Zne_8A:!c,QySrtA:g}),style:{width:f.width,height:f.height},children:c&&e})}}}({c:[pHs,XXs]}=JV(a,[],[Lb],YXs))})(),VXs);var bYs;
new (WXs=class extends IV{constructor(){super(bYs);ZXs()}},(()=>{class a extends($Xs=GV){static G(b){P(b,{Ygh:wV.ref,pai:wV.ref,dDd:mV,jxd:mV,onDragEnter:fV,onDragLeave:fV,onMouseUp:fV})}get dDd(){const b=this.props.page,c=this.props.document;return b?c.pages.previous(b):c.pages.last()}get jxd(){const b=this.props.page,c=this.props.store;return b&&c.jxd(b)}render(){const {store:b,pEa:c,z$m:d,ezm:e="percentage",Sjq:f,uzg:g,v0q:h,tUa:k}=this.props;return kV(rV,{children:[!h&&cV("div",{className:AV("_7J9QjQ",
{CMdJpA:g,_1jWbtA:c||b.lNa&&this.Ygh,_3_sLiw:this.jxd&&e==="percentage",dvPhVQ:k})}),cV("div",{className:AV("t9v9Qw",{ciyrvA:e==="full",HoeKdQ:e==="percentage",_k6JOQ:e==="fixed",_1jWbtA:d||b.lNa,nSS_Fg:d}),style:d?void 0:f,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onMouseUp:this.onMouseUp,onContextMenu:this.preventDefault})]})}constructor(...b){super(...b);this.Ygh=(bYs.G(this),!1);this.pai=!1;this.onDrop=async()=>{var c=this.props.pEa;const d=this.props.store,
e=this.props.L,f=this.props.page;if(this.props.z$m||c)this.dDd&&d.fXe(this.dDd),f&&d.fXe(f),this.Ygh=!1;else if(!this.pai&&d.lNa)if(d.$hm&&e.UKa(d.pK))e.F6b(d,"drag",f,!1);else{e.tAd(d,"drag",f);c=d.lNa;this.pai=!0;var g=d.Cg;await ma(0);this.pai=!1;d.ya!==c&&d.FG(c);this.forceUpdate(()=>{d.setSelection(g)})}};this.onDragEnter=()=>{const c=this.props.store,d=this.props.page;this.dDd&&c.qnj(this.dDd,{direction:"left",distance:1});d&&c.qnj(d,{direction:"right",distance:1});this.Ygh=!0};this.onDragLeave=
()=>{const c=this.props.store,d=this.props.page;this.dDd&&c.fXe(this.dDd);d&&c.fXe(d);this.Ygh=!1};this.onMouseUp=()=>{const c=this.props.store,d=this.props.page;this.dDd&&c.fXe(this.dDd);d&&c.fXe(d)};this.preventDefault=c=>c.preventDefault()}}({c:[bYs,ZXs]}=JV(a,[],[Lb],$Xs))})(),WXs);var cYs=Xc/2,dYs=parseInt("96px",10)||96,eYs=eV(({hp:a,QM:b,zVs:c,eda:d})=>{const e=xV(()=>Math.floor(a.scrollLeft)>cYs,[a.scrollLeft]),f=xV(()=>Math.ceil(a.scrollLeft+a.offsetWidth+cYs)<c,[a.scrollLeft,a.offsetWidth,c]),g=a.offsetWidth<c;return b.ei||!g?null:kV("div",{className:"mffvfg",children:[cV("div",{className:AV("Jjqy1Q Jd2ccA",{_2njASw:e}),style:{height:d.wKd}}),cV("div",{className:AV("x6qgng Jd2ccA",{_2njASw:f}),style:{height:d.wKd,left:a.offsetWidth-dYs}})]})});var fYs=class{static G(a){P(a,{positions:mV})}get positions(){return{A8:this.hp.scrollLeft,Ls:this.hp.clientWidth}}constructor(a){this.hp=a;this.layout=(fYs.G(this),"horizontal")}},gYs=eV(({children:a,hp:b})=>{const c=xV(()=>new fYs(b),[b]);return yV.fWj?a({wn:c}):cV(__c.FEe,{layout:"horizontal",lxm:!0,children:({Hl:d,wn:e})=>a({wn:e,Hl:d})})});__c.hYs=16/9;__c.iYs=parseInt("24px",10)||24;__c.jYs=parseInt("28px",10)||20;__c.kYs=parseInt("24px",10)||24;__c.lYs=parseInt("176px",10)||176;__c.mYs=parseInt("224px",10)||224;__c.nYs=__c.jYs*2;__c.oYs=parseInt("72px",10)||28;__c.pYs=100/15;var qYs={width:8.5/11*zV,height:zV,scale:1},rYs=KV(a=>{const b=ug(4,a);a=xg(a)?__c.hYs:b.width/b.height;return{width:zV*a,height:zV,scale:zV/b.height}});var sYs,tYs,uYs,vYs=Xc*75||600,wYs=parseInt("300ms",10)||300,xYs=window.CSS&&window.CSS.supports&&CSS.supports("(-webkit-overflow-scrolling: touch)"),yYs;
new (sYs=class extends IV{constructor(){super(yYs);tYs()}},(()=>{class a extends(uYs=GV){static G(b){P(b,{gb:wV.ref,Hg:mV.struct,pF:fV.bound,u3d:mV,d3n:mV,XXj:mV})}componentDidMount(){const b=this.props.store,c=this.props.Lo,d=this.props.Qc,e=n(this.vu.current);Gb(this,c.lY(e,"50%"));e.addEventListener("focusout",this.Pyn);document.addEventListener("mousedown",b.kxi,{capture:!0});document.addEventListener("drop",this.stopPropagation);window.addEventListener("resize",this.Nrm);d()}componentWillUnmount(){const b=
this.props.gi;document.removeEventListener("mousedown",this.props.store.kxi,{capture:!0});document.removeEventListener("drop",this.stopPropagation);window.removeEventListener("resize",this.Nrm);this.FFn();n(this.vu.current).removeEventListener("focusout",this.Pyn);b()}acm(){return this.props.Vvm&&this.KI.innerWidth<=vYs}get Hg(){return rYs(this.props.Ia.dimensions)}get u3d(){return!!this.props.store.lNa}get d3n(){if(!this.XXj){var b=this.props.eda;return{height:this.props.I7s.MKg?0:b.wKd}}}get XXj(){return xYs&&
!this.props.uZf.BBf.get()&&this.u3d}render(){var b;const c=this.props.config,d=this.props.store,e=this.props.iOo,f=this.props.uZf,g=this.props.W2b,h=this.props.Qf,k=this.props.hp,l=this.props.iDl,m=this.props.eda,p=this.props.e6r,q={Fyc:this.props.Fyc,iyc:this.props.iyc,z2b:c.z2b,Hg:this.Hg,bNa:this.bNa,vu:this.vu,...(d.KN?{W2b:g,Rrc:this.Rrc}:{})},r=f.vge.get(),t=this.d3n,u=this.XXj;var w;const x=(w=(b=h.Aig)===null||b===void 0?void 0:b.zm)!==null&&w!==void 0?w:VHs,y=f.BBf.get(),z=y||f.Xtk.get(),
A=f.ABf.get(),B=this.gb,D=this.props.Ppp;return cV(fNs["default"],{bounds:!0,onResize:this.FFn,children:({measureRef:G})=>kV("div",{ref:G,className:AV("_xAWuA",{sJdpWg:!f.Xtk.get()}),onClick:this.Gac,children:[cV(__c.Ap,{map:p.map,Zq:!1,children:cV(__c.EB,{pF:this.pF,children:kV("div",{children:[r,z&&cV(f.jYi.U4f,{disabled:!y}),kV("div",{className:AV("S8qQCA",{m29yeA:!f.jYi.isDragging.get()&&d.pd&&wb.pd,XbJiZg:A}),style:t,ref:this.wg,children:[cV(D,{}),cV(x,{children:cV("div",{className:"IRDJFw"})}),
cV("span",{tabIndex:-1,ref:this.Qno}),cV(__c.ZCd,{onClick:this.Uno,children:L("Rz/bng")}),cV(f.cbf,{}),cV(gYs,{hp:k,children:({wn:I,Hl:K})=>kV("div",{ref:(0,dNs["default"])(k.Qq,l===null||l===void 0?void 0:l.Qq,this.vu,K),className:AV("LGNDdw",{sr7Jsw:this.acm(),ogIqug:Vb()&&!this.acm(),xE8XcA:u}),style:t,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onWheel:this.YSr,tabIndex:-1,children:[cV(fNs["default"],{client:!0,offset:!0,onResize:this.NXg,children:({measureRef:N})=>kV(rV,{children:[cV(f.Thj,
{wn:I,measureRef:N,...q}),e&&cV(e,{})]})}),cV(eYs,{hp:k,QM:d,zVs:B,eda:m})]})}),cV(__c.ZCd,{onClick:this.Vno,children:L("GxvzFw")}),cV("span",{tabIndex:-1,ref:this.Pno})]})]})})}),cV(zYs,{aFa:c})]})})}constructor(...b){super(...b);this.KI=(yYs.G(this),this.props.KI||window);this.vu=__c.pk();this.wg=__c.pk();this.Qno=HV();this.Pno=HV();this.kpl=!1;this.gb=0;this.Vno=()=>{var c;(c=this.Qno.current)===null||c===void 0||c.focus()};this.Uno=()=>{var c;(c=this.Pno.current)===null||c===void 0||c.focus()};
this.okk=!1;this.Nrm=Db(fV(()=>{const c=this.props.eda;c.Zfo(c.wKd)}),200);this.Pyn=()=>{const c=this.props.store;if(c.XJk){var d;(d=this.vu.current)===null||d===void 0||d.focus();c.XJk=!1}};this.stopPropagation=c=>{const d=this.props.store;(d.lNa||d.zvd)&&c.stopPropagation()};this.FFn=Db(c=>{yV.YEm&&this.props.store.jfo((c===null||c===void 0?0:c.bounds)?Qj(c.bounds):void 0)},200);this.NXg=fV(c=>{var d,e,f,g;this.gb=((f=(d=c.client)===null||d===void 0?void 0:d.width)!==null&&f!==void 0?f:0)+((g=(e=
c.offset)===null||e===void 0?void 0:e.left)!==null&&g!==void 0?g:0)});this.Tjs=()=>{if(this.kpl){var c;(c=this.vu.current)===null||c===void 0||c.focus();this.kpl=!1}};this.pF=()=>{var c;const d=this.props.config;(c=d.DVs)===null||c===void 0||c.call(d);this.kpl=!0};this.YSr=c=>{this.props.uZf.BBf.get()||Math.abs(c.deltaX)<Math.abs(c.deltaY)&&!c.ctrlKey&&!c.metaKey&&this.props.hp.scrollBy({EPg:c.deltaY,behavior:"instant"})};this.onTouchMove=()=>{this.okk=!0};this.onTouchEnd=()=>{this.okk=!1};this.Gac=
c=>{var d;this.props.uZf.BBf.get()||!this.wg.current||c.target instanceof Node&&((d=this.wg.current)===null||d===void 0?0:d.contains(c.target))||this.props.store.ei||this.props.L.wwn()};this.Rrc=async()=>{var c,d;const e=this.props.store,f=this.props.hp,g=this.props.Qf;await tDs(this.props.L,e,"add_page_end",this.props.Ia.pages.last());(d=g.Auh)===null||d===void 0||(c=d.kh)===null||c===void 0||c.call(d);e.ei||(await ma(0),f.scrollTo({left:f.scrollWidth,behavior:"smooth"}),this.Tjs())};this.bNa=async c=>
{const d=this.props.store,e=this.props.N;if(!this.okk&&!d.lNa){var f=c!==d.ya,g=this.props.V.sb("page_click",{Fb:{name:`editor.page.${f?"navigate":"select"}`,type:"page_navigator_click"}});d.dKe=!0;await d.Wda(c);e.cLd(c,f,g,{Vb:d.Vb(d.ya||c),pK:d.pK,Txd:d.K3d(d.ya||c),kb:"click"});d.dKe=!1}}}}({c:[yYs,tYs]}=JV(a,[],[Lb],uYs))})(),sYs);var zYs=eV(({aFa:a})=>cV(rV,{children:a.eBh&&cV(a.eBh,{})}));var AYs=class{static G(a){P(a,{bzm:fV,lpb:fV,QAn:fV})}async bzm(a,b){const c=this.undo.startBuffering();try{const d=b?this.document.pages.previous(b):this.document.pages.last(),e=mDs(this,a,d),f=await tDs(this.L,this.store,"drag",d,e);f&&await this.lpb(a,Ef(this.document).ub(f),!0)}finally{oV(()=>c.stop())}}zYb(a,b){return b.type==="responsive"?oDs(this,a,b):pDs(this,a,b)}canDrop(a,b){switch(b.type){case "fixed":return b.dimensions&&xg(b.dimensions)?a.data.type!=="audio":!0;case "responsive":return nDs(a);
case "concatenated-fixed":return a.data.type!=="audio";default:throw new v(b);}}async lpb(a,b,c){switch(b.type){case "fixed-page":return rDs(this,a,b,c);case "concatenated-fixed-page":return rDs(this,a,b.ub(b.pages.first()),c);case "responsive-page":return sDs(this,a,b,c);default:throw new v(b);}}async QAn(a){this.Fbd();const b=this.undo.startBuffering();try{const c=mDs(this,a,this.document.pages.last()),d=this.L.mnj(this.document.pages.last(),"drag",c);d&&await this.lpb(a,Ef(this.document).ub(d),
!0)}finally{oV(()=>b.stop())}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.document=a;this.viewport=b;this.Bc=c;this.L=d;this.store=e;this.undo=f;this.hxa=g;this.Ei=h;this.zl=k;this.rG=l;this.Onf=m;this.Gh=p;this.eb=q;this.GEc=(AYs.G(this),void 0);this.kDi=void 0;this.Fbd=()=>{clearTimeout(this.GEc);this.GEc=void 0};this.L8h=r=>r.flatMap(t=>{if(t.type==="rect"||t.type==="grid"||t.type==="shape")return t;if(t.type==="group")return this.L8h(t.mb.toArray())});this.lQq=(r,t)=>{let u=[];t=this.L8h(t).filter(vb);
for(const w of t)if(w.type==="grid"){t=Array.from(w.cells.ZR().values());const x=t.find(y=>!y.fill.image.ref&&!y.fill.video.ref);if(x){u=[__c.Jy.xnc(x,w,r)];break}else u=[...u,__c.Jy.xnc(t[0],w,r)]}else if(w.type==="shape")if(w.paths.filter(x=>!x.fill.image.ref&&!x.fill.video.ref).length){u=[__c.Jy.Ktd(w,r)];break}else u.push(__c.Jy.Ktd(w,r));else w.type==="rect"&&u.push(this.Onf.Hxj(w,r));return u.filter(vb)};this.onMouseMove=r=>{r=new sj(r.clientX,r.clientY);this.m7n(r);this.kDi=r};this.onTouchMove=
r=>{r.touches.length===1&&(r=new sj(r.touches[0].clientX,r.touches[0].clientY),this.m7n(r),this.kDi=r)};this.m7n=r=>{const t=this.store.ya;if(__c.Xj(this.viewport.XB(),r))this.Fbd();else{var u=this.kDi&&__c.Nce(this.Bc.yXh,this.kDi);r=__c.Nce(this.Bc.yXh,r);u=(u===null||u===void 0?void 0:u.length)&&u[0].props.page;const w=r.length&&r[0].props.page;w&&t!==w&&u===w?w&&t!==w&&this.GEc===void 0&&(this.GEc=window.setTimeout(()=>{this.rG.TWh(w,"to-origin");this.Fbd()},750)):this.Fbd()}};dV(()=>this.rG.isDragging()&&
!c.isDragging,r=>{r?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)):(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove))},{fireImmediately:!0})}};var BYs=class{static G(a){P(a,{mnj:fV,F6b:fV,Nwo:fV,hIi:fV,tAd:fV,FUg:fV,GUg:fV,wwn:fV.bound,aBa:fV.bound})}UKa(a){return this.sc.UKa(a)}WJ(){return this.sc.UKa(1)}DRb(a){return a.pK&&this.d6b.kfg()}mnj(a,b,c){try{var d,e;const f=a||n(this.document.pages.first());pa(this.sc.zL!=null);const {page:g,container:h}=this.sc.zL(f,{Yc:b,location:"page_navigator",C8:"none"},{y2d:a==null,template:c});(e=this.Lk)===null||e===void 0||(d=e.SM)===null||d===void 0||d.call(e,new dp);return(h===null||h===void 0?void 0:
h.type)==="concatenated-fixed-page"?h.lha(this.document.pages):g}catch(f){if(!(f instanceof __c.w2g))throw f;}}F6b(a,b,c,d=!0){const e=a.Cg,f=this.V.sb("copy_page",{Fb:{name:"page_navigator.copy_page"}}),g=this.document.pages;c=d?c:c?g.previous(c):g.last();const h=this.J0c.iXh(e,c,f,b);h.length&&window.requestAnimationFrame(()=>{a.FG(h[0]);a.setSelection(h)})}Nwo(a){const b=!a.a8;b||this.selection.deselectAll();a.cdd(b)}hIi(a,b){const c=this.V.sb("delete_page",{Fb:{name:"editor.page_navigator.delete_page",
type:b}});this.d6b.WP(b,c,"outer");a.XJk=!0;b=a.Cg;(b=b.length?b[0]:void 0)&&a.ei&&a.FG(b)}tAd(a,b,c){var d,e;if(a.pK!==0){if(b==="drag"){var f=a.Oqd;f===null||f===void 0||f.nb().addEvent("dropped")}else f=this.V.sb("move_selection",{Fb:{name:"page_navigator.move_selection"}});var g=a.WT(a.Cg);this.document.pages.PXa(c,a.Cg);a=a.WT(a.Cg);var h={U4m:g,uLm:a,kb:b};f===null||f===void 0||f.nb().tk(({Hi:k})=>{f===null||f===void 0||f.addEvent("rendered");GCs(this.N,{...h,Qb:k()})});f===null||f===void 0||
f.ue();(e=this.Lk)===null||e===void 0||(d=e.SM)===null||d===void 0||d.call(e,new __c.qsd({style:1}))}}FUg(a,b,c){const d=this.document.pages.first(),e=a.x3h;a.KN&&d&&e&&d!==e&&(c=c.DIk?d:this.document.pages.previous(e),this.tAd(a,b,c))}GUg(a,b){var c=this.document.pages.last();const d=a.m$b;a.KN&&c&&d&&c!==d&&(c=b.EIk?c:this.document.pages.next(d),b=a.WT(a.Cg),this.document.pages.$2a(c,a.Cg),a=a.WT(a.Cg),GCs(this.N,{U4m:b,uLm:a,kb:"key_press"}))}wwn(){this.selection.deselectAll()}aBa(a,b){b=this.$Pe(a,
b);!a.title&&b&&this.N.lEl();a.title=b||void 0}$Pe(a,b){return pf(a)?b.replace(/(^')|[\\/?*:[\]]|('$)/g,"").slice(0,31):b}constructor(a,b,c,d,e,f,g,h,k,l){this.document=a;this.sc=b;this.d6b=c;this.J0c=d;this.N=e;this.V=f;this.selection=g;this.xh=h;this.timing=k;this.Lk=l;this.zqm=(BYs.G(this),void 0);this.$fi=KV((m,p)=>m.x3h===p);this.UKe=KV((m,p)=>m.lNa===p);this.zvd=KV((m,p)=>m.mc(p)&&m.zvd);KV((m,p)=>m.mc(p)&&!!m.lNa);KV((m,p)=>m.mc(p)&&m.IRa)}};__c.CYs=class{static G(a){P(a,{voa:wV.ref,tzc:wV.ref,Jme:wV.ref,fkj:wV.ref,Kjj:wV.ref,S_l:wV.ref,FBh:wV.ref,pkj:wV.shallow,bCh:wV.ref,zvd:wV.ref,Bll:fV,isDragging:mV,KN:mV,ya:mV,zLb:mV,Mo:mV,OD:mV,pK:mV,ei:mV,Wva:mV,Vza:mV,ANm:mV,q9m:mV,IRa:mV,Cg:mV.struct,VZk:mV,x3h:mV,m$b:mV,xF:mV,a8:mV,JUq:mV,qj:mV,tjl:fV.bound,jfo:fV.bound,Kbo:fV.bound,ryp:fV.bound,kxi:fV.bound,cdd:fV,SZn:fV,qnj:fV.bound,fXe:fV.bound,aQd:fV.bound,a5n:fV.bound,Wda:fV.bound,FIk:fV.bound,X5n:fV.bound,Y5n:fV.bound,V5n:fV.bound,W5n:fV.bound,
sLi:fV.bound,v5n:fV.bound,B5n:fV.bound,J5n:fV.bound,Mqa:fV.bound,QDc:fV.bound,setSelection:fV.bound,hU:fV.bound})}get lNa(){return this.bCh}Bll(a){this.bCh=a}get isDragging(){return this.bCh!==void 0||this.Bc.isDragging}get KN(){return this.Ma.mode===40}get ya(){return this.viewport.uh||this.viewport.uF?this.viewport.ya:n(this.document.pages.first())}get zLb(){return this.document.pages.toArray()}get Mo(){return this.zLb.indexOf(this.ya)}get OD(){return this.document.pages.count()}get pK(){return this.Cg.length}get ei(){return this.ka.layout===
2}get Wva(){const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "pages":return a.Ud;case "elements":return a.Qz.ja}}get Vza(){if(this.selection.La){var a=this.selection.La.inner,b=this.selection.La.Bg;return(a===null||a===void 0?void 0:a.type)==="group"&&b?{element:b,parent:a.group}:b?{element:b,parent:void 0}:void 0}}get ANm(){if(this.selection.La&&this.selection.La.type==="audio")return this.selection.La.VQa}get q9m(){var a;return((a=this.selection.La)===null||a===void 0?void 0:
a.type)==="audio"}get IRa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}get Cg(){var a;const b=this.pkj||((a=this.selection.La)===null||a===void 0?void 0:a.pages)||[];return b.length===0?[this.ya]:b}get VZk(){return this.lNa?this.Cg.filter(a=>a!==this.lNa).slice(0,2):[]}get x3h(){return this.document.pages.first(a=>this.Cg.includes(a))}get m$b(){return this.document.pages.last(a=>this.Cg.includes(a))}get xF(){return this.tzc}get a8(){return this.Jme}get $hm(){return this.Kjj}get CJs(){return this.S_l}get x8l(){return this.FBh.includes("start-side-panel")?
this.Ma.hF.Gd:0}get w8l(){return this.FBh.includes("end-side-panel")?this.Ma.hF.If:0}get z8l(){return wb.direction===2?this.w8l:this.x8l}get B8l(){return wb.direction===2?this.x8l:this.w8l}get JUq(){return this.fkj}get qj(){if(this.da.clientId&&this.da.clients){const a=this.da.clients.get(this.da.clientId);if(a)return __c.vy(a)}return null}n6c(a){return a===this.document.pages.last()}tjl(a){this.Kjj=a}jfo(a){this.S_l=a}Kbo(a){this.FBh=a}ryp(){var a;this.fkj=(a=this.RHc(this.document.pages.last()))!==
null&&a!==void 0?a:"none"}FG(a){this.viewport.Gy(a)}kxi(a){a.ctrlKey||a.metaKey?this.tzc="command":a.shiftKey?this.tzc="shift":this.ei&&this.a8?!this.IRa&&this.cdd(!1):this.tzc="single"}cdd(a){this.tzc=(this.Jme=a)?"command":"single"}SZn(){this.tzc="single"}qnj(a,b){this.Wjd.set(a,b)}fXe(a){this.Wjd.set(a,"none")}async aQd(a){await this.hU([...this.Cg,a]);this.voa=a;this.pK===1&&this.FG(a)}a5n(){this.document.pages.filter(a=>!this.mc(a)).forEach(a=>this.aQd(a))}async Wda(a){this.xF==="single"?await this.Mqa(a):
this.xF==="command"?await vDs(this,a):this.xF==="shift"&&await wDs(this,this.voa,a)}FIk(a,b){for(a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a);a&&this.mc(a);)this.voa=a,a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a)}X5n(){if(this.voa){var a=this.mc(this.voa),b=this.document.pages.previous(this.voa),c=this.document.pages.next(this.voa),d=c&&this.mc(c);d=a&&d;b=b&&this.mc(b);d&&!b?(this.QDc(this.voa),this.voa=c):a&&c?(this.voa=c,this.aQd(c),this.FIk(this.voa,
"next")):c&&this.aQd(c);return c}}Y5n(){if(this.voa){var a=this.mc(this.voa),b=this.document.pages.next(this.voa),c=this.document.pages.previous(this.voa),d=c&&this.mc(c);d=a&&d;b=b&&this.mc(b);d&&!b?(this.QDc(this.voa),this.voa=c):a&&c?(this.voa=c,this.aQd(c),this.FIk(this.voa,"previous")):c&&this.aQd(c);return c}}V5n(){const a=this.document.pages.first();a&&wDs(this,this.voa,a);return a}W5n(){const a=this.document.pages.last();a&&wDs(this,this.voa,a);return a}sLi(){const a=this.document.pages.first();
a&&this.Mqa(a);return a}v5n(){const a=this.document.pages.last();a&&this.Mqa(a);return a}B5n(){const a=this.document.pages.next(this.ya);a&&this.Mqa(a);return a}J5n(){const a=this.document.pages.previous(this.ya);a&&this.Mqa(a);return a}async Mqa(a){this.voa=a;await this.hU([a]);this.ei&&Promise.resolve().then(()=>this.FG(a))}async QDc(a){await this.hU(this.Cg.filter(b=>b!==a))}async setSelection(a){await this.hU(a);this.voa=a[0]}async hU(a){return new Promise(b=>{this.pkj=[...a];cancelAnimationFrame(this.Ykj);
this.Ykj=requestAnimationFrame(()=>{this.Ykj=requestAnimationFrame(()=>{oV(()=>{this.selection.OAb(...a);this.pkj=void 0});b()})})})}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.da=b;this.viewport=c;this.Bc=d;this.Lea=e;this.ka=f;this.WFb=g;this.Ma=h;this.selection=k;this.voa=(__c.CYs.G(this),void 0);this.tzc="single";this.Jme=!1;this.Wjd=new PMs;this.fkj="none";this.Kjj=!1;this.FBh=[];this.Ykj=0;this.bCh=void 0;this.zvd=this.dKe=!1;this.Oqd=null;this.pd=this.XJk=!1;this.Cuk=KV(l=>{const m=
this.selection.La;return(m===null||m===void 0?void 0:m.type)!=="audio"?!1:l.audio.tracks.some(p=>m.tracks.includes(p))});this.xSq=KV(l=>this.mc(l)&&this.VZk.includes(l)?(this.VZk.indexOf(l)+1)*-3:0);this.UKe=KV(l=>this.lNa===l);this.K3d=KV(l=>!ik(l,this.document.dimensions));this.jxd=KV(l=>l===this.document.pages.first());this.RHc=KV(l=>this.Wjd.get(l));this.mc=KV(l=>this.Cg.includes(l));this.ydk=KV(l=>this.Lea.J7h(l));this.eSq=KV(l=>__c.du.gs(l).flatMap(m=>m.elements.filter(p=>bk(p))).length);this.dSq=
KV(l=>__c.du.gs(l).flatMap(m=>m.elements.filter(p=>p.type==="shape"&&VEd(p)||p.type==="line")).length);this.g9h=KV(l=>{l=__c.oFd.gs(l).map(m=>this.WFb.p0d(m)).filter(vb);return l.length===0?[]:qd(Array.from(l.flatMap(m=>[...m.vTe.values()]),m=>{m=__c.vy(m.client);if(m!==this.qj)return m=this.WFb.getUser(m),m.state==="fulfilled"?m.value:void 0})).filter(vb)});this.WT=l=>{let m=0;return this.document.pages.flatMap(p=>{p=l.includes(p)?[m]:[];m++;return p})};this.Vb=l=>this.WT([l])[0];this.voa=this.ya;
this.pd=f.layout===2;dV(()=>{var l,m;return(m=(l=k.La)===null||l===void 0?void 0:l.pages)!==null&&m!==void 0?m:[]},l=>{if(l.length===0||this.voa&&!l.includes(this.voa))this.voa=this.ya})}};__c.CYs.prototype.twk=__c.ea(1102);var GDs=class{init(){const a=this.QM,b=this.Bw,c=this.hp,d=this.eab,e=this.wog,f=this.PPj,g=mV(()=>a.Wva||a.ya);d.FG(g.get(),"auto");b.push(dV(()=>({y6a:a.ANm,page:g.get(),element:a.Vza}),(h,k)=>{var l=h.y6a,m=h.page;if((h=h.element)&&h!==(k===null||k===void 0?void 0:k.element)&&m&&m.type==="fixed"&&!e.value){var p=h.element,q=h.parent;h=n(d.UZa);const {qda:r,durationUs:t}=n(h.dAa(m));k=d.hp.clientWidth;l=d.hp.scrollTo;const {startUs:u,durationUs:w}=VWa(p,m,t,q);q=r+u;const x=q+w;m=h.gRa(q);p=h.gRa(x);
h.Ukh&&yDs(d.timing.UG,{startUs:q,endUs:x})||!zDs(d,m,p)||(h=m,p-m<k&&(h=Math.max(0,(m+p)/2-k/2)),l({left:h,behavior:"smooth"}))}else l&&l!==(k===null||k===void 0?void 0:k.y6a)&&yV.f8g?ADs(d,l):!f.value&&m&&m!==(k===null||k===void 0?void 0:k.page)&&d.FG(m,"smooth")}));b.push(dV(()=>c.clientWidth,(h,k)=>{if(h!==k){h=g.get();const m=n(d.UZa),{offsetWidth:p,width:q}=n(m.dAa(h)),r=p+q;if(zDs(d,p,r)){h=k-d.hp.clientWidth;var l=d.hp.scrollLeft;k=l+k-m.kdb;r>=l&&p<=k&&d.hp.scrollBy({EPg:h,behavior:"auto"})}}}))}dispose(){this.Bw.forEach(a=>
a());this.Bw.splice(0,this.Bw.length)}constructor(a,b,c){this.hp=a;this.eab=b;this.QM=c;this.wog=new __c.Bk;this.PPj=new __c.Bk;this.Bw=[];this.wog.add(()=>this.PPj.value)}};var EDs=class{static G(a){P(a,{ZYe:wV.ref,bZe:wV.ref,RBj:wV.ref,LBj:wV.ref,OMk:wV.ref,onResize:fV,scrollTo:fV.bound,scrollBy:fV.bound})}dispose(){var a,b;this.kv&&((a=this.SQ)===null||a===void 0||a.unobserve(this.kv),(b=this.SQ)===null||b===void 0||b.disconnect(),this.kv.removeEventListener("scroll",this.onScroll),this.kv=void 0)}scrollTo({left:a,top:b,behavior:c}){!this.kv||a===this.scrollLeft&&b===this.scrollTop||(xDs(this),this.kv.scrollTo({left:a,top:b,behavior:c}),this.ZYe=this.kv.scrollLeft,
this.bZe=this.kv.scrollTop,this.fMj())}scrollBy({EPg:a,Fxo:b,behavior:c}){this.kv&&(a||b)&&(xDs(this),this.kv.scrollBy({left:a,top:b,behavior:c}),this.ZYe=this.kv.scrollLeft,this.bZe=this.kv.scrollTop,this.fMj())}get scrollLeft(){return this.ZYe}get scrollTop(){return this.bZe}get clientHeight(){return this.LBj}get clientWidth(){return this.RBj}get offsetHeight(){var a;return(a=this.kv)===null||a===void 0?void 0:a.offsetHeight}get offsetWidth(){return this.OMk}get scrollHeight(){var a,b;return(b=
(a=this.kv)===null||a===void 0?void 0:a.scrollHeight)!==null&&b!==void 0?b:0}get scrollWidth(){var a,b;return(b=(a=this.kv)===null||a===void 0?void 0:a.scrollWidth)!==null&&b!==void 0?b:0}constructor(a,b){this.V=a;this.N=b;this.kv=(EDs.G(this),void 0);this.OMk=this.LBj=this.RBj=this.bZe=this.ZYe=0;this.b5e=!1;this.Qq=c=>{c?(this.kv=c,(this.ZYe||this.bZe)&&this.kv.scrollTo({left:this.ZYe,top:this.bZe,behavior:"auto"}),this.kv.addEventListener("scroll",this.onScroll),this.SQ=new gNs["default"](this.onResize),
this.SQ.observe(this.kv)):this.dispose()};this.onResize=c=>{c=n(c[0]);this.kv===c.target&&(this.RBj=this.kv.clientWidth,this.LBj=this.kv.clientHeight,this.OMk=this.kv.offsetWidth,this.boundingClientRect=this.kv.getBoundingClientRect())};this.onScroll=()=>{xDs(this);this.b5e||(oV(()=>{var c,d,e;this.ZYe=(e=(c=this.kv)===null||c===void 0?void 0:c.scrollLeft)!==null&&e!==void 0?e:0;var f;this.bZe=(f=(d=this.kv)===null||d===void 0?void 0:d.scrollTop)!==null&&f!==void 0?f:0}),requestAnimationFrame(()=>
{this.b5e=!1}),this.b5e=!0);this.fMj()};this.fMj=Db(()=>{this.z0k=requestAnimationFrame(()=>{this.t3g&&(this.t3g.end(),this.t3g=void 0)})},200);this.getBoundingClientRect=()=>{const c=n(this.kv);this.boundingClientRect||(this.boundingClientRect=c.getBoundingClientRect());return this.boundingClientRect}}};var FDs=class{setup(a){this.UZa=a}FG(a,b="auto"){var c=n(this.UZa);const {offsetWidth:d,width:e,qda:f,durationUs:g}=n(c.dAa(a)),h=this.hp.clientWidth,k=this.hp.scrollTo;if(c=!c.Ukh||yDs(this.timing.UG,{startUs:f,endUs:f+g})){c=n(this.UZa);const {offsetWidth:l,width:m}=n(c.dAa(a));c=!!zDs(this,l,l+m)}c&&(a=d,e<h&&(a=Math.max(0,d+e/2-h/2)),k({left:a,behavior:b}))}FGd(){const a=this.hp.clientWidth,b=this.hp.scrollWidth,c=this.hp.scrollTo;b>a&&c({left:b-a,behavior:"auto"})}constructor(a,b,c,d){this.hp=
a;this.timing=b;this.eda=c;this.h0a=d}};var HDs=class{dispose(){this.kv&&(this.kv.removeEventListener("touchstart",this.onTouchStart),this.kv.removeEventListener("touchmove",this.onTouchMove),this.kv.removeEventListener("touchend",this.onTouchEnd),this.kv.removeEventListener("touchcancel",this.onTouchEnd),CDs(this),this.kv=void 0)}constructor(a){this.hp=a;this.Yel=this.Xel=this.oyo=this.nyo=0;this.YOb=null;this.gTc=[];this.SFf=null;this.Qq=b=>{b?(this.kv=b,this.kv.addEventListener("touchstart",this.onTouchStart)):this.dispose()};this.onTouchStart=
b=>{this.kv&&b.touches.length===1&&(CDs(this),this.nyo=b.touches[0].pageX,this.oyo=b.touches[0].pageY,this.Xel=this.kv.scrollLeft,this.Yel=this.kv.scrollTop,this.gTc=[{x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()}],this.kv.addEventListener("touchmove",this.onTouchMove),this.kv.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.kv.addEventListener("touchcancel",this.onTouchEnd,{passive:!0}))};this.onTouchMove=b=>{if(this.kv&&b.touches.length===1){var c=b.target;if(c.classList.length===
0||c.closest('[data-role="trim-thumb"]')||c.closest('[data-role="draggable-timeline-item"]'))this.YOb=null;else{this.gTc.push({x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()});this.gTc.length>5&&this.gTc.shift();c=b.touches[0].pageX-this.nyo;var d=b.touches[0].pageY-this.oyo;if(!this.YOb&&(Math.abs(c)>5||Math.abs(d)>5)){const e=Math.abs(Math.atan2(d,c)*180/Math.PI);this.YOb=e>=35&&e<=55||e>=125&&e<=145?"diagonal":e>55&&e<125?"vertical":"horizontal"}b.preventDefault();this.YOb==="horizontal"?
this.hp.scrollTo({left:this.Xel-c}):this.YOb==="vertical"?this.hp.scrollTo({top:this.Yel-d}):this.YOb==="diagonal"&&this.hp.scrollTo({left:this.Xel-c,top:this.Yel-d})}}};this.onTouchEnd=()=>{if(this.kv){if(this.YOb&&this.gTc.length>=2&&!(this.gTc.length<2)){var b=this.gTc[0],c=this.gTc[this.gTc.length-1],d=c.timestamp-b.timestamp;if(d!==0){var e=40*(c.x-b.x)/d;b=40*(c.y-b.y)/d;this.YOb==="horizontal"?Math.abs(e)>=5&&DDs(this,e,0,this.YOb):this.YOb==="vertical"?Math.abs(b)>=5&&DDs(this,0,b,this.YOb):
this.YOb==="diagonal"&&(Math.abs(e)>=5||Math.abs(b)>=5)&&DDs(this,e,b,this.YOb)}}this.kv.removeEventListener("touchmove",this.onTouchMove);this.kv.removeEventListener("touchend",this.onTouchEnd);this.kv.removeEventListener("touchcancel",this.onTouchEnd);this.YOb=null;this.gTc=[]}}}};var DYs=({BH:a})=>{const b=jV(null);YMs(a,()=>()=>{var c,d,e,f;return{left:(e=(c=b.current)===null||c===void 0?void 0:c.getBoundingClientRect().left)!==null&&e!==void 0?e:0,top:(f=(d=b.current)===null||d===void 0?void 0:d.getBoundingClientRect().top)!==null&&f!==void 0?f:0}});return cV("div",{ref:b})};var EYs=class{static G(a){P(a,{x:wV.ref,APk:fV.bound,SXg:fV.bound})}APk(){this.currentNode=null;this.x=void 0}SXg({clientX:a,target:b}){b instanceof HTMLElement&&(this.currentNode=b);this.JDl&&!this.b5e&&(b=n(this.BH.current)().left,this.x=Math.floor(a-b),requestAnimationFrame(()=>{this.b5e=!1}),this.b5e=!0)}constructor(a,b){this.anchor=a;this.BH=b;this.x=(EYs.G(this),void 0);this.currentNode=null;this.JDl=!1;this.Lib=null;this.b5e=!1;this.Bw=[];this.Qq=c=>{if(c)this.Lib=c,this.Lib.addEventListener("pointermove",
this.SXg),this.Lib.addEventListener("pointerleave",this.APk),this.Bw.push(lAs(this,"x",()=>this.JDl=!0),mAs(this,"x",()=>{this.JDl=!1;this.x=void 0}));else{var d,e;this.Bw.forEach(f=>f());this.Bw=[];(d=this.Lib)===null||d===void 0||d.removeEventListener("pointermove",this.SXg);(e=this.Lib)===null||e===void 0||e.removeEventListener("pointerleave",this.APk)}}}};var PIs=()=>{const a=HV(),b=cV(DYs,{BH:a});return new EYs(b,a)};var mEs=a=>{const b=KV((c,d)=>{const e=a.Lw.gRa,f=a.Lw.cDg;c=e(c);d=(d+c)/1E6;var g;const {qda:h,durationUs:k}=(g=f(d,!0,!0))!==null&&g!==void 0?g:{};return h==null||k==null?!1:__c.vXb(d,h/1E6)||__c.vXb(d,(h+k)/1E6)});return c=>cV(FYs,{...a,...c,Ldr:b})},GYs=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.85,transform:"scaleY(0.8) scaleX(1) translateY(-10%)"},
{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],HYs=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],IYs={duration:300,delay:0,iterations:1,easing:"ease-in-out"},JYs=DV(({r$b:a,hidden:b,C0q:c,Uxr:d,variant:e,xQs:f})=>{const g=jV(null);d&&f&&g.current&&g.current.animate(f,IYs);return cV("div",{className:AV("f0aYVA",
{kNIzGQ:!c,I3G7WA:b,MEMgRA:e==="minor",NK_BJA:e==="major"}),style:{left:a},children:cV("div",{ref:g,className:"daN0cw"})})}),FYs=eV(a=>{const b=a.Mz,c=a.lr,d=a.rC,e=a.Ldr;var f=__c.Vm();const g=jV(null),h=parseInt("9px",10);a=mV(()=>{if(c.$0e(d.track))return PDs(b,d,{wci:!0})}).get();let k;wb.pd&&(k=f?HYs:GYs);f=cV("div",{ref:g,className:"Gx7VhA",children:a&&a.map(({XBa:l,r$b:m,Bas:p})=>{p=p===1?"major":"minor";const q=!!g.current&&m>g.current.offsetWidth-h,r=e(d.startUs,l);return cV(JYs,{r$b:m,hidden:!b.QQi&&
p==="minor",variant:p,C0q:q,Uxr:r,xQs:k},l)})});return cV("div",{className:"jh1bHw",children:cV(__c.vqh,{duration:250,pTj:50,Y0h:"0px",Z0h:"6px",Iba:"fill-height",keyFrame:a?0:1,direction:a?"back":"forward",children:a&&f})})});var sEs=class{getKey(a){var b=this.QIc.get(a);if(b)return b;b=this.Rk.next();this.QIc.set(a,b);return b}constructor(){this.Rk=new __c.Vi;this.QIc=new WeakMap}};var KYs=parseInt("36px",10),LYs=parseInt("8px",10)-parseInt("2px",10),NDs=eV(({jsj:a,Mz:b,...c})=>{var d=b.isVisible;if(b.tracks.length===0||!d)return null;d=c.v4a;const e=c.o6i,f=c.n6i;return cV(MYs,{height:b.PGh,xKc:b.xKc,ei:c.ei.get(),Mz:b,children:cV(NYs,{jsj:a,Mz:b,o6i:e,n6i:f,v4a:d})})}),MYs=eV(({height:a,children:b,xKc:c,ei:d,Mz:e})=>{const f=gV(h=>{e.eEc||Math.abs(h.deltaX)<Math.abs(h.deltaY)&&c&&h.stopPropagation()},[c,e.eEc]),g=e.wvo;d=e.eEc?void 0:AV("_3yePLA",{BB1YKg:c,Gc_ROA:d});return cV("div",
{className:AV("kEJzaQ",{_26_dsw:!e.eEc&&wb.pd}),style:{height:a},children:cV("div",{onWheel:f,style:{minWidth:e.ysj,paddingLeft:g+KYs,marginLeft:-(g+KYs),paddingBottom:e.eEc?void 0:LYs,marginBottom:e.eEc?void 0:-LYs},className:d,children:b})})}),NYs=eV(({jsj:a,Mz:b,o6i:c,n6i:d,v4a:e})=>{const f=jV(null),g=jV(null),h=gV(q=>{const r=b.PEk;switch(b.mode){case "min":r();break;case "max":f.current===q.target&&b.lr.a1a()}},[b]),k=gV(q=>{if(q.key===" "||q.key==="Enter")b.PEk(),q.stopPropagation()},[b]);
iV(()=>{if(!yV.f8g)return dV(()=>b.Fun,(q,r)=>{q>r&&requestAnimationFrame(()=>{var t;return(t=g.current)===null||t===void 0?void 0:t.scrollIntoView({behavior:"smooth"})})},{fireImmediately:!1})},[b,g]);const l=b.ucg,m=b.tXc,p=m.length-1;return cV("div",{ref:f,className:"_4kOaA",style:{height:b.eEc?"100%":b.PGh},onMouseDown:h,onKeyDown:k,tabIndex:0,children:m.map((q,r)=>cV("div",{ref:r===p?g:void 0,style:{height:l},className:AV("_4EOFyQ","_3dkatg",{_26_dsw:!b.eEc&&wb.pd}),children:cV(d,{children:q.map(t=>
cV(c,{rC:t,v4a:e},a.getKey(t)))})},r))})});var OYs=parseInt("16px",10),PYs=(parseInt("2px",10)||2)*2,QYs=parseInt("4px",10)||4,WDs=parseInt("28px",10)||28,RYs=WDs+PYs,SYs=class{static G(a){P(a,{RGh:wV.ref,Pia:wV.ref,Asj:wV.ref,v$g:wV.ref})}constructor(a){this.Xtk=a;this.RGh=(SYs.G(this),"min");this.Asj=new Map;this.v$g=new ei(155,155,155,1);this.Rfn=0}},iEs=class{static G(a){P(a,{A4b:wV.ref,jjk:wV.ref,usj:wV.ref,qlj:wV.ref,wvo:mV,mode:mV,PEk:fV.bound,c_c:mV,UQ:mV,kqm:mV,v1h:mV,tracks:mV,isVisible:mV,y7l:mV,Ipa:mV,ucg:mV,xsj:mV,SGh:mV,qcm:mV,
xKc:mV,eEc:mV,PGh:mV,ysj:mV,QQi:mV,jCi:mV,scg:mV,l7l:mV,reo:fV.bound,vcg:mV,tXc:mV,Fun:mV,Lfd:mV,iag:fV.bound,eZs:fV.bound,ygl:fV,Xha:fV,eBa:fV,VEa:fV,y8d:fV,j$a:fV,ona:fV,wxj:mV,anh:fV,uyj:fV,Lzn:fV,zYb:fV,Kzn:fV,Yp:mV,a2e:fV.bound,nHl:mV,eQd:mV,tii:mV,Nnn:fV,Snn:fV})}eAg({rC:a,width:b,height:c}){return{startUs:0,durationUs:a.NS,width:b,height:c,volume:a.track.volume}}get wvo(){return this.Lw.kdb}get mode(){return this.Gzb.vOm?"max":this.store.RGh}PEk(){SDs(this);const a=this.tXc[0][0];a&&this.lr.select(a.track)}get c_c(){return this.lr.VQa}get UQ(){return this.lr.UQ||
[]}get kqm(){return this.c_c?iy(this.lr,this.c_c):void 0}get v1h(){var a,b;if((b=this.G7b)===null||b===void 0?0:(a=b.CMd)===null||a===void 0?0:a.size)return Array.from(this.G7b.CMd.values(),c=>{const d=sns(this.a5,c);d.h6a=c.trim;return d})}get tracks(){return this.a5.AC.map(a=>a.track)}get isVisible(){var a;return this.a5.NC||!((a=this.v1h)===null||a===void 0||!a.length)}get y7l(){return{jGa:this.mode==="min"?QYs:WDs,Mc:PYs}}get Ipa(){return this.kvg&&!this.Lw.AJ&&!this.isVisible&&!this.A4b&&!!this.Gzb.TWk&&
!this.Gzb.Cai.get()}get ucg(){var a=this.isVisible?this.y7l.jGa:0;if(this.mode==="min")return a;const b=this.QGh/this.tXc.length-PYs;var c=this.Yp?WDs:24;return b<c?(a=this.QGh-8,c=Math.floor(a/c),(a+PYs*c)/c-PYs):Math.min(a,b)}get xsj(){return this.ucg+PYs}get SGh(){return this.tXc.length*this.xsj}get qcm(){return(this.isVisible?this.PGh:0)+(this.A4b?RYs:0)+(this.Ipa?WDs:0)}get xKc(){return!this.eEc&&this.QGh<this.SGh}get eEc(){return this.BBf.get()||yV.f8g}get PGh(){return this.eEc?this.SGh:Math.min(this.QGh,
this.SGh)}get ysj(){return this.Lw.Nfd+OYs+16}get QQi(){return this.mBl.get()>=2}get isLinear(){return this.Lw.isLinear}get jCi(){const a=this.pla.bad.get();if(!(!a||this.timing.Xt&&this.ei.get())){var b=this.pla.med;return{XBa:a,Ged:a===0?0:b,X1c:b}}}get scg(){const a=this.lr.pCa;return this.vcg.filter(({track:b})=>b!==(a===null||a===void 0?void 0:a.track)).flatMap(b=>[b.startUs,b.startUs+b.durationUs])}get l7l(){return this.vcg.flatMap(a=>this.lr.$0e(a.track)?PDs(this,a,{wci:this.QQi}).map(b=>b.XBa):
[])}reo(a){a=__c.di(a);a instanceof __c.Th&&(a=__c.fi(a));this.store.v$g=a}get vcg(){var a;let b=this.tracks.map(c=>this.a5.sO(c));if((a=this.v1h)===null||a===void 0?0:a.length)b=b.concat(this.v1h);return b}get tXc(){var a=this.kqm;const b=new Set(this.tracks);a=this.lr.pCa?this.wdl.eDi.map(d=>d.filter(e=>b.has(e.track))):$Ds(this.wdl,this.vcg,a);const c=this.eQd;return c?a.map(d=>d.includes(c)?[c]:d):a}get Fun(){return this.vcg.filter(a=>{var b;return((b=a.audio)===null||b===void 0?void 0:b.B4b)!==
2}).length}get Lfd(){return this.Lw.jBl*1E6}iag(a,b){this.wdl.iag(a,b)}eZs(a){return this.tXc.length<1?!1:this.tXc[0].some(b=>b===a)}ygl({track:a}){switch(this.t1b.get()){case "single":this.lr.mc(a)||this.lr.select(a);break;case "command":this.lr.mc(a)?VDs(this,a):this.lr.select(...this.UQ,a);break;case "shift":this.lr.select(...this.UQ,a)}}Xha(a,b){var c,d,e,f,g;(c=this.qA)===null||c===void 0||c.pause();this.lr.yrb(a,b);(d=this.qA)===null||d===void 0||d.f0e();(e=this.qA)===null||e===void 0||XFs(e,
{RAm:!0});(g=this.Lk)===null||g===void 0||(f=g.SM)===null||f===void 0||f.call(g,new dp)}eBa(a,b){var c,d;const e=a.trim,f=a.track,g=a.NS,h=e.startUs+b-a.startUs;if(h!==e.startUs){(c=this.qA)===null||c===void 0||c.seek(Math.max(b,0)/1E6,"start");this.lr.select(a.track);var k;this.lr.Jde(a,h,(k=(d=f.trim)===null||d===void 0?void 0:d.endUs)!==null&&k!==void 0?k:g);this.lr.AIk(a,b);this.store.Pia="start"}}VEa(a,b){var c;const d=a.trim,e=b-a.startUs+d.startUs;e!==d.endUs&&((c=this.qA)===null||c===void 0||
c.seek(b/1E6,"end"),this.lr.Jde(a,d.startUs,e),this.store.Pia="end")}y8d(a,b){this.lr.Jde(a,b,b+a.durationUs)}j$a(a,b,c="start"){var d,e;const f=b-((e=a.startUs)!==null&&e!==void 0?e:0);this.UQ.forEach(g=>{g=this.a5.sO(g);var h;const k=((h=g.startUs)!==null&&h!==void 0?h:0)+f;this.lr.AIk(g,k)});a=c==="start"?b:b+a.durationUs;(d=this.qA)===null||d===void 0||d.seek(Math.max(a,0)/1E6,c);this.store.Pia="start"}ona(a){var b,c,d;const e=[];(b=this.qA)===null||b===void 0||YFs(b);for(const l of this.UQ){var f;
b=this.a5.sO(l);var g;const m=(g=b.startUs)!==null&&g!==void 0?g:0;var h;const p=(h=b.durationUs)!==null&&h!==void 0?h:0;if(m+p<=0||m>this.lr.bOe)e.push(b.track);else{var k;b.zWc!=null&&b.zWc<0&&!b.h6a&&this.lr.Jde(b,b.trim.startUs-b.zWc,(k=(f=b.track.trim)===null||f===void 0?void 0:f.endUs)!==null&&k!==void 0?k:b.NS);this.lr.xBb(b,a)}}e.length>0&&this.lr.fVd(e,"drag");(c=this.qA)===null||c===void 0||c.LXe(this.store.Pia);(d=this.qA)===null||d===void 0||d.FG();this.store.Pia=void 0}get wxj(){if(!this.c_c)return!1;
const a=iy(this.lr,this.c_c);return a.NS-a.durationUs>=5E4}anh(a){var b;(b=this.qA)===null||b===void 0||b.pause();this.eQd||!this.wxj?this.lr.xBb(a,"drag"):this.lr.yrb(a,"adjust")}uyj(a){this.lr.xBb(a,"drag")}Lzn(a){this.lr.a1a();this.A4b=sns(this.a5,__c.yEc.create({...__c.KYc,audio:a,id:void 0,loop:1}))}zYb(a){this.A4b&&(SDs(this),a&&!this.A4b.h6a&&(this.A4b.h6a={startUs:0,endUs:Math.min(a*1E6,this.Lfd)}),this.A4b.zWc=(this.Lw.Wxe||0)*1E6)}Kzn(){this.A4b=void 0}get Yp(){return this.ei.get()||Ub()}a2e(a){this.qlj=
a}get nHl(){return this.lr.pCa||this.qlj}get eQd(){const a=this.lr.pye;return this.lr.xma==="adjust"?a:void 0}get tii(){return this.store.Pia!==void 0}Nnn(a){this.UQ.length<1||this.lr.fVd(this.UQ,a)}Snn(){this.UQ.length<1||this.lr.yni(this.UQ)}Ffg(a){return this.lma.status===Qx.Fk&&a.Jwa===3}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y){this.lr=a;this.a5=b;this.selection=c;this.wdl=d;this.YEp=e;this.o8s=f;this.Lw=g;this.pla=h;this.lma=k;this.Gzb=l;this.ei=m;this.t1b=p;this.mBl=q;this.BBf=r;this.timing=
t;this.kvg=u;this.G7b=w;this.qA=x;this.Lk=y;this.store=(iEs.G(this),void 0);this.A4b=void 0;this.Y_m=this.jjk=!1;this.usj=[];this.qlj=void 0;this.mob=KV(z=>this.lr.mc(z.track));this.Adn=KV(z=>{if(z.page==null)return!1;const A=this.selection.La;return(A===null||A===void 0?void 0:A.type)!=="pages"?!1:A.pages.includes(z.page)});this.g6h=CV(z=>{var A=this.Lw.gRa;A=A(z.startUs);var B=z.durationUs;const D=z.startUs;var G=this.Lw.Nfd;const I=this.Lw.gRa;var K=I(D);B=B?I(D+B,{lfc:!0}):G;G=__c.$Ke(this.lr,
z)>1?G-K:B-K;K=UDs(this,z);B=z.durationUs;z=B===0?G:G/B*z.NS;return{iic:{width:z,bDd:z+A},height:this.ucg,left:A,width:G,color:K}});this.store=new SYs(mV(()=>g.isLinear));dV(()=>c.La,z=>{if(z)switch(z.type){case "audio":return this.mode==="min"&&SDs(this);case "elements":case "pages":break;default:throw new v(z);}});h.OGh=mV(()=>this.scg);h.HHh=mV(()=>this.l7l);dV(()=>({scg:this.scg,rKs:this.jCi,Ahb:this.Lw.v0c}),({scg:z,rKs:A,Ahb:B})=>{const D=this.lr.pCa;this.usj=D?[...TDs(this,D,z,B),...(A?[A]:
[])]:[]},{equals:lV.shallow});this.WNb=new yFs(mV(()=>this.usj),this.pla.WHe,this.Lk);dV(()=>{var z;return(z=this.G7b)===null||z===void 0?void 0:z.CMd.size},z=>{z&&this.mode==="min"&&SDs(this)});this.QGh=Math.min(150,window.innerHeight/2)}};var qEs=eV(({Bc:a,Mz:b,Lw:c,connectDropTarget:d,drag:e,x2b:f})=>{c=c.Nfd;iV(()=>dV(()=>!!b.A4b&&a.isDragging,g=>{g||b.Kzn();b.jjk=g}),[b,a]);return kV("div",{className:"HpykzQ",children:[kV("div",{className:"QtV_rQ",style:{width:c},children:[cV(__c.Tu,{size:"small",tone:"primary"}),cV(Q,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",children:L("kpT/LQ")}),d(cV("div",{className:"h4fQaw"}))]}),!!e&&e.d3&&cV(TYs,{Mz:b,x2b:f})]})}),pEs=eV(({children:a,connectDropTarget:b,
Mz:c,drag:d,x2b:e})=>{const f=c.A4b;return b(kV("div",{style:{height:c.ucg},className:AV("JtDRuw",{a0TxoQ:!f}),children:[a,!!d&&d.d3&&f&&cV(UYs,{Mz:c,rC:f,x2b:e})]}))}),TYs=eV(({Mz:a,x2b:b})=>{const c=a.A4b,d=a.ysj;return cV("div",{className:AV("_4kOaA","wReuwA"),style:{height:RYs,minWidth:d},children:cV("div",{className:"_4EOFyQ",children:cV(UYs,{x2b:b,Mz:a,rC:n(c)})})})}),UYs=eV(({x2b:a,rC:b,Mz:c})=>{const {width:d,left:e,color:f,height:g}=c.g6h(b);c=g>0?g:WDs;return cV("div",{className:AV("Jqy7Tg",
"_88diBQ","wfJ8fA","_9bDcDg"),style:{width:d,height:c,transform:`translateX(${e}px)`},children:cV("div",{style:{background:hi(f),height:c},className:AV("_vhAag","VFKnig"),children:cV(a,{height:c,rC:b})})})});var jEs=class{iag(a,b){this.xEl.set(a,b)}constructor(){this.eDi=[];this.xEl=new Map}},YDs=a=>(b,c)=>b===a?-1:c===a?1:b.startUs-c.startUs;var VYs=UMs(({position:a,children:b,$_c:c},d)=>cV("div",{className:AV("XpsM5g",a==="start"?"A5MWRw":"A_It_g",{oa1HGA:c}),ref:d,children:b}));var WYs,XYs,YYs,ZYs;
new (WYs=class extends IV{constructor(){super(ZYs);XYs()}},(()=>{class a extends(YYs=GV){static G(b){P(b,{DH:wV.ref,RTd:wV.ref,gBb:mV,transform:mV,transitionDuration:mV,fjf:mV,jem:fV.bound})}get gBb(){return this.fjf>=8}get transform(){var b;const c=(b=this.DH)===null||b===void 0?void 0:b.scrollWidth;if(c&&!(this.fjf>=c)&&this.RTd!=="start")return`translateX(${(wb.direction===2?-1:1)*(this.fjf-c-8)}px`}get transitionDuration(){var b;const c=this.props.pKb,d=(b=this.DH)===null||b===void 0?void 0:b.scrollWidth;
if(!d||this.fjf>=d||this.RTd==="start")return"0s";b=Math.max(0,d-this.fjf)*60;return(c?Math.min(b,c):b)+"ms"}get fjf(){return this.DH?this.DH.clientWidth:0}jem(b){this.DH=b;ma(100).then(()=>{oV(()=>{this.RTd="scrollToEnd"})})}render(){return cV("div",{style:{overflow:"hidden"},children:cV("div",{ref:this.jem,onTransitionEnd:this.onTransitionEnd,style:this.gBb?{transform:this.transform,transitionDuration:this.transitionDuration,width:"max-content"}:{visibility:"hidden"},children:this.props.children})})}constructor(...b){super(...b);
this.DH=(ZYs.G(this),void 0);this.RTd="start";this.onTransitionEnd=async()=>{await ma(500);oV(()=>{this.RTd="start"});await ma(500);oV(()=>{this.RTd="scrollToEnd"})}}}({c:[ZYs,XYs]}=JV(a,[],[Lb],YYs))})(),WYs);var $Ys=eV(({color:a,xfc:b,width:c,height:d,isVisible:e,pxr:f,ZFc:g})=>{var h;const [k,l]=nV(!1),m=c<30;iV(()=>{m?l(e):e&&l(!0)},[e,m]);const p=b.audio,q=b.vGc,r=b.playing,t=xV(()=>(p===null||p===void 0?void 0:p.B4b)===1?cV(__c.RWj,{size:"small",className:"f3EM7Q"}):(p===null||p===void 0?void 0:p.B4b)===2?cV(__c.B9q,{size:"small",className:"f3EM7Q"}):cV(__c.Tu,{size:"small",className:"f3EM7Q"}),[p===null||p===void 0?void 0:p.B4b]);if(!k)return null;const u=p===null||p===void 0?void 0:(h=p.Pya[0])===
null||h===void 0?void 0:h.url,w=cV("div",{className:AV("_6wnscQ",{OhKKFQ:wb.pd&&r}),style:{backgroundImage:q?void 0:u&&`url('${u}')`,height:d,width:d},children:q?cV(__c.seq,{size:"medium",className:"f3EM7Q"}):!u&&t});b=g?" \u2022 "+so(b.wv,"short"):null;const x=(p===null||p===void 0?void 0:p.title)&&cV("span",{className:"_6Rqrbw",children:kV(Q,{size:"small",weight:"bold",className:"_4fk5QQ",children:[p.title,b]})});if(m&&e)return cV(__c.Zc,{placement:"top-center",open:!0,level:7,reference:cV("div",
{className:"y47BuQ",style:{left:c/2}}),children:({sab:y})=>kV(rV,{children:[cV("div",{ref:y,className:"F92n0Q",children:cV(__c.dha,{inset:!1})}),kV("div",{className:"TIZRTw",children:[w,x]})]})});b=new ei(a.r,a.g,a.b,a.a*.1);a=new ei(a.r,a.g,a.b,a.a*.9);a=`linear-gradient(270deg, ${hi(b)}, ${hi(a)} 10%)`;return cV("div",{className:AV("_J8ciQ",{F3278A:e}),onTransitionEnd:()=>l(e),children:kV("div",{className:"_2WXYNA",style:{maxWidth:c,background:a},children:[w,cV("div",{className:"S_recA",children:(p===
null||p===void 0?void 0:p.title)&&e&&cV(ZYs,{pKb:f,children:x})})]})})});var aZs=({wv:a,position:b})=>cV(VYs,{position:b,$_c:!0,children:cV(Uu,{tone:"contrast",className:"_3N1ong",text:so(a,"short")})});var cZs=eV(({rC:a,gRa:b,SEp:c,height:d,PYd:e,QYd:f})=>{const g=a.startUs;a=g+a.durationUs;return kV("div",{className:"yzpIbg",style:{width:c},children:[e!=null&&cV(bZs,{position:"in",height:d,width:b(g+e,{lfc:!0})-b(g,{lfc:!1})}),f!=null&&cV(bZs,{position:"out",height:d,width:b(a,{lfc:!0})-b(a-f,{lfc:!1})})]})}),bZs=({position:a,height:b,width:c})=>cV("div",{className:AV("l2mSag",{JlSSfg:a==="in",_8HJtoA:a==="out"}),style:{borderTopWidth:b,borderRightWidth:a==="in"?c:0,borderLeftWidth:a==="out"?c:
0}});var dZs=parseInt("4px",10)||4,eZs=new ei(255,255,255,.7),fZs=new ei(255,255,255,.4),bEs=eV(({height:a,msj:b,strokeColor:c,Mz:d,rC:e,lzc:f,Lo:g})=>{const h=mV(()=>QDs(d,e,a,b!==null&&b!==void 0?b:0,eZs)).get(),k=e.buffer,l=e.loading;return cV("div",{className:"eFZIoQ",children:h.map(({state:m,draft:p,paddingRight:q},r,{length:t})=>kV(VHs,{children:[cV(gZs,{Lo:g,lzc:f,strokeColor:c,buffer:k,loading:l,state:m}),r<t-1&&cV(hZs,{draft:p,paddingRight:q,Lo:g,lzc:f,buffer:k,loading:l,state:m})]},r))})}),gZs=
({Lo:a,buffer:b,loading:c,state:d,strokeColor:e,lzc:f})=>{const [g,h]=dEs(a);return cV("div",{ref:h,className:"_956a7w",style:{width:d.width,height:d.height},children:cV("div",{className:AV({_GsTNw:c}),children:g&&cV(f,{buffer:b,state:d,strokeColor:e})})})},hZs=({draft:a,paddingRight:b,state:c,loading:d,buffer:e,lzc:f,Lo:g})=>{const h=b/(c.width/c.durationUs),k=xV(()=>{if(e&&!(c.width<=0)){a:{if(!(h<=0)){var l=Math.floor(Math.floor(h/1E6*e.sampleRate)/6);var m=l*6,p=Math.floor((c.startUs+c.durationUs)/
1E6*e.sampleRate);if(p){var q=new AudioBuffer({length:m,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate});for(let r=0;r<e.numberOfChannels;r++){const t=e.getChannelData(r).subarray(Math.max(p-l,0),p),u=new Float32Array(m);for(let w=0;w<m;w+=t.length)u.set(t.subarray(0,m-w),w);q.copyToChannel(u,r)}l=q;break a}}l=void 0}return l}},[e,c.width,c.durationUs,c.startUs,h]);return k?cV("div",{className:"eFZIoQ",children:cV(gZs,{Lo:g,lzc:f,buffer:k,loading:d,state:{...c,startUs:0,width:b,durationUs:h},
strokeColor:fZs})}):cV("div",{className:AV("SReuxg",{t5Herg:a}),style:{height:c.height},children:cV(iZs,{loading:!e,width:b})})},iZs=({loading:a,width:b,strokeWidth:c=.6})=>cV("div",{className:AV("_FzNpw",{_GsTNw:a}),style:{width:b,transform:`scaleY(${c})`}});var jZs=a=>{const b=a.maxWidth,c=a.Jwa,d=a.u0;a=a.onClick;const e=xV(()=>c===6?cV(Uu,{tone:"contrast",className:"OCkX1Q",text:L("BkrRaA")}):c===5?cV(Uu,{tone:"contrast",className:"OCkX1Q",text:L("RySxhA")}):cV(Uu,{tone:"contrast",className:"OCkX1Q",icon:cV(ay,{size:"small"}),text:L("dSA0bg")}),[c]);return cV(VYs,{position:"start",children:cV(lr,{placement:"top",label:c===1?L("2dWxvA"):c===4?L("qChmPQ"):c===3&&d?L("UbEuXg"):c===6?L("95DsmA"):c===5?L("YLh62g"):L("Q2vs6g"),children:cV("div",{style:{"--Akz5Cw":`${b}px`},
children:d?kV(__c.YZg,{tone:"primary",className:"OCkX1Q",onClick:a,children:[cV(__c.Jx,{size:"small"})," ",L("dSA0bg")]}):e})})})};var kZs,lZs,mZs,nZs=parseInt("40px",10)||40,oZs=parseInt("96px",10)||96,pZs=parseInt("8px",10)||8,qZs=Rb("399dfcd7",!1),rZs;
new (kZs=class extends IV{constructor(){super(rZs);lZs()}},(()=>{class a extends(mZs=GV){static G(b){P(b,{Yya:mV,mc:mV,opacity:mV,Igh:mV,Aai:mV,LQi:mV,zmo:mV,sko:mV,uko:mV,W_n:mV,Ffg:mV,cZm:mV,tko:mV,dYa:fV.bound})}get Yya(){return this.props.Mz.g6h(this.props.rC)}get mc(){return this.props.Mz.mob(this.props.rC)}get opacity(){const b=this.props.Lw.qOg;return this.props.Ao&&b?.5:this.props.Mz.UQ.length<1?1:this.mc?1:.5}get Igh(){const b=this.props.Mz,c=this.props.Bvc;return this.props.rC.vGc?!0:this.props.Lw.ZFc?
this.Yya.width<30?c:!(this.Aai||c):c&&(b.Yp?this.mc:!this.mc)}get Aai(){return this.props.Mz.nHl===this.props.rC}get LQi(){const b=this.props.lr,c=this.props.hza,d=this.props.Mz.eQd===this.props.rC;return this.Yya.width>nZs&&this.mc&&!d&&(!this.Aai||c.Lr)&&!b.p9m}get zmo(){return this.props.rC.Jwa!=null&&this.LQi&&!this.Igh}get sko(){const b=this.props.rC;return!this.props.Lw.ZFc&&b.Jwa==null&&this.LQi&&!this.Igh}get uko(){const b=this.props.Mz;if(!this.props.Xlo)return!1;const c=this.Yya.width>oZs;
return!this.props.Ao&&this.LQi&&c&&!b.tii}get W_n(){const b=this.props.Ao,c=this.Yya.width,d=pZs*2;return c<=oZs||b?c-d:c-d-nZs}get Ffg(){return this.props.Mz.Ffg(this.props.rC)}get cZm(){const b=this.props.rC,c=b.QYd;return b.PYd||c}get tko(){return!this.Aai&&!this.Igh&&this.cZm}get justifyContent(){return this.props.esb==="start"?"flex-end":"flex-start"}dYa(b){this.props.dYa(b,this.props.rC.track)}render(){const b=this.props.GZq,c=this.props.rC,d=this.props.Mz,e=this.props.Ao;var f=this.props.Lw;
const g=f.gRa;f=f.ZFc;const h=this.props.x2b,k=this.props.C6i,l=this.props.msj,m=this.props.visible,p=this.props.Xjk,q=c.wv,r=c.PYd,t=c.QYd,u=this.Yya.height,w=this.Yya.width,x=this.Yya.color,y=this.props.hza.Igc,z=u-dZs*2,A=d.Adn(c);return cV("div",{style:{opacity:this.opacity,justifyContent:this.justifyContent,background:hi(x),width:w,height:u,contain:qZs?"paint":void 0},className:AV("_vhAag",{OlLBHQ:b,VFKnig:this.mc&&!e&&!p,Q7X_1A:A&&!e&&!p,_9YosPg:p}),children:m&&kV(rV,{children:[cV(h,{height:u,
msj:l,rC:c}),k&&cV(k,{rC:c}),this.tko&&cV(cZs,{rC:c,gRa:g,SEp:w,PYd:r,QYd:t,height:u}),this.sko&&cV(aZs,{position:"start",wv:q}),c.Jwa&&this.zmo&&cV(jZs,{maxWidth:this.W_n,Jwa:c.Jwa,u0:this.Ffg,onClick:()=>{d.lma.Pd("editing_commercial_music_upgrade_badge","paywall")}}),!p&&cV($Ys,{color:x,xfc:c,isVisible:this.Igh,pxr:e?3E3:void 0,width:w,height:z,ZFc:f}),this.uko&&y&&cV(VYs,{position:"end",children:cV(y,{visibility:"always",Ph:this.dYa,ariaLabel:L("iQUYNA")})})]})})}constructor(...b){super(...b);
a.G(this)}}({c:[rZs,lZs]}=JV(a,[],[Lb],mZs))})(),kZs);var sZs,tZs,uZs,vZs;
new (sZs=class extends IV{constructor(){super(vZs);tZs()}},(()=>{class a extends(uZs=GV){static G(b){P(b,{onDragEnd:fV.bound,onDragStart:fV.bound,onDrag:fV.bound,FGb:mV})}onDragEnd(b){var c,d;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b)}onDragStart(b){var c,d;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}onDrag(b,c,d){const e=this.props.m6g;c=e(c);this.props.onDrag(Math.max(this.props.min,Math.min(Math.round(b-c),this.props.max)),d)}get FGb(){const b=this.props.time;
return b===this.props.min?"w-resize":b===this.props.max?"e-resize":"ew-resize"}render(){return cV(UWs,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,Ala:{type:"fullWidth"},time:this.props.time,max:this.props.max,min:this.props.min,cursor:this.FGb})}constructor(...b){super(...b);a.G(this)}}({c:[vZs,tZs]}=JV(a,[],[Lb],uZs))})(),sZs);var wZs=eV(a=>{const b=a.NS,c=a.m6g,d=a.trim,e=a.onDrag,f=a.onDragStart,g=a.onDragEnd,h=d.endUs-d.startUs;return kV("div",{className:"HxvUnQ i1mS2A",children:[cV("div",{className:"x3tMUw i1mS2A",children:a.children}),cV(vZs,{min:0,max:b-h,time:d.startUs,m6g:c,onDrag:e,onDragStart:f,onDragEnd:g})]})});var xZs,yZs,zZs,AZs=parseInt("2px",10)*2||4,BZs=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),CZs=parseInt("8px",10)||8,DZs;
new (xZs=class extends IV{constructor(){super(DZs);yZs()}},(()=>{class a extends(zZs=GV){static G(b){P(b,{pOg:wV.ref,PJ:wV.ref,esb:wV.ref,Qhh:mV,HBf:mV,OFk:fV,Xha:fV,ona:fV,onDoubleClick:fV.bound,gwn:fV.bound,fwn:fV.bound,Ann:fV.bound,Yya:mV,oMa:mV,OMa:mV,Cwa:mV,eAg:mV,V_f:mV})}get Qhh(){const b=this.props.mob,c=this.esb!=null&&this.esb!=="fullWidth";this.esb||(this.Shh=b&&this.Yya.width<50);return!c&&this.Shh}get HBf(){const b=this.props.Mz;return this.pOg&&b.UQ.length===1}onDoubleClick(){this.props.Mz.anh(this.props.rC)}gwn(){this.PJ=
!0}fwn(){this.PJ=!1}Ann(){return this.oMa?(this.props.Mz.uyj(this.props.rC),!0):!1}get Yya(){return this.props.Mz.g6h(this.props.rC)}get oMa(){return this.props.rC===this.props.Mz.eQd}get OMa(){const b=this.props.rC.trim,c=this.props.rC.startUs;return this.HBf?0:Math.max(0,c-b.startUs)}get Cwa(){var b=this.props.rC;const c=this.props.Mz.Lfd,d=b.trim,e=b.startUs;b=b.NS;return this.HBf?c:Math.min(c,b-d.startUs+e)}componentDidMount(){this.Zfd.current&&(this.x7e=this.Zfd.current.hjb);Gb(this,[Lrs(()=>
{if(this.PJ){var b=so(this.props.rC.trim.startUs/1E6,"short");oV(()=>{this.currentTime.set(b)})}})])}x7e(){}get sSl(){return cV(rZs,{...this.props,esb:this.esb})}get eAg(){return this.props.Mz.eAg({rC:this.props.rC,width:this.Yya.iic.width,height:this.Yya.height})}get xMo(){const b=this.props.rC,c=this.props.lzc,d=b.buffer,e=b.trim,f=b.NS,g=this.Yya.iic,h=this.Yya.color,{Apo:k,m6g:l}=RDs(b,this.Yya.width);return kV(rV,{children:[cV("div",{className:"SKenVg",style:{left:-k,width:g.width},children:kV(wZs,
{NS:f,m6g:l,trim:e,onDrag:this.BVr,onDragStart:this.gwn,onDragEnd:this.fwn,children:[cV(c,{buffer:d,state:this.eAg,strokeColor:h}),cV("div",{className:"myOKOg",style:{left:k},children:this.sSl})]})}),cV(PWs,{isOpen:this.PJ,children:this.currentTime})]})}get V_f(){const b=this.props.Mz;var c=this.props.mob;const d=b.Adn(this.props.rC);if(b.Yp)return{type:"touch",isVisible:!0};const e=b.nHl===this.props.rC,f=this.Yya.width>=50;c=c||d;return{type:"pointer",aWa:this.Qhh?"outside":"inside",isVisible:this.Qhh||
f&&e,Nwg:!f,z1f:b.isLinear,...(this.Qhh?{}:{zxf:c?b.isLinear?BZs:AZs:0,S2i:c?b.isLinear?BZs:0:0,borderRadius:CZs-(c&&b.isLinear?BZs:0)})}}get Jqp(){const b=this.props.Ao;var c=this.props.rC;const d=this.props.Mz,e=this.props.lzc,f=this.props.hp,g=d.WNb,h=d.Yp,k=d.Lfd,l=d.c_c,m=c.buffer,p=c.startUs,q=c.NS,r=c.durationUs,t=this.Yya.iic;var {Apo:u}=RDs(c,this.Yya.width);u=(c=l===c.track&&!d.tii&&!this.oMa)?u:void 0;return kV("div",{className:AV("Yj83qw","_7EePFQ"),style:{left:u?-u:void 0,width:c?t.width:
void 0},children:[c&&cV("div",{className:"oaQBsQ",children:cV(e,{buffer:m,state:this.eAg})}),cV("div",{className:"myOKOg",style:{left:u},children:cV(gHs,{hp:f,Ao:b,lYb:p,durationUs:r,VTg:1E5-r,f6d:1E5,FLd:g,U7b:{show:this.Qhh,appearance:d.Yp?"light":"dark"},Ieb:this.Ieb,NS:q,OMa:this.OMa,vSg:k-1E5,Cwa:this.Cwa,eBa:this.eBa,VEa:this.VEa,j$a:this.j$a,Xha:this.Xha,ona:this.ona,Ala:this.V_f,vpb:h?void 0:this.a2e,wpb:h?void 0:this.Tlk,children:this.sSl})})]})}render(){return cV(__c.Rph,{E6g:["onMouseDown"],
pqg:["mousedown"],aNc:this.Ann,children:cV("div",{onDoubleClick:this.onDoubleClick,children:this.oMa?this.xMo:this.Jqp})})}constructor(...b){super(...b);this.currentTime=(DZs.G(this),wV.box(""));this.Zfd=HV();this.PJ=this.pOg=!1;this.esb=null;this.Shh=!1;this.kyr=(c,d,e)=>{d==="trim"&&(d=c.trim,c=e.type==="end"&&(d.endUs==null||d.endUs===c.NS),e.type==="start"&&!d.startUs||c)&&(this.pOg=!0)};this.OFk=(c,d)=>{var e;this.HBf&&this.props.Mz.j$a(c,(e=c.track.startUs)!==null&&e!==void 0?e:0,d);this.pOg=
!1};this.Xha=c=>{const d=this.props.rC,e=this.props.Mz;this.esb=c.type;a:{var f=c.type;switch(f){case "start":f="trim";break a;case "end":f="trim";break a;case "fullWidth":f="move";break a;default:throw new v(f);}}e.Xha(d,f);this.kyr(d,f,c)};this.eBa=c=>{const d=this.props.rC,e=this.props.Mz;c=Math.max(this.OMa,Math.min(c,this.Cwa-1E5));var f;this.HBf&&c<=((f=d.track.startUs)!==null&&f!==void 0?f:0)?e.j$a(d,c,"start"):(this.OFk(d,"start"),e.eBa(d,c))};this.VEa=c=>{const d=this.props.rC,e=this.props.Mz;
var f;const g=(f=d.track.startUs)!==null&&f!==void 0?f:0;f=c-(g+d.durationUs);this.HBf&&f>=0&&c<=e.Lfd?e.j$a(d,c-d.durationUs,"end"):(this.OFk(d,"end"),e.VEa(d,c))};this.j$a=c=>{this.props.Mz.j$a(this.props.rC,c)};this.BVr=c=>{this.props.Mz.y8d(this.props.rC,c)};this.ona=c=>{const d=this.props.rC,e=this.props.Mz;this.esb=null;e.ona(c.kb);this.pOg=!1;!e.Y_m&&e.Ffg(d)&&(e.lma.Pd("editing_commercial_music_upgrade_upon_trimming","paywall"),e.Y_m=!0)};this.Ieb=(c,d,e)=>{c=this.props.Lw.gRa(c,e==="end"?
{lfc:!0}:void 0)+d;c=this.props.Lw.QDg(Math.abs(c))*Math.sign(c);return Math.floor(c)};this.a2e=()=>this.props.Mz.a2e(this.props.rC);this.Tlk=()=>this.props.Mz.a2e(void 0)}}({c:[DZs,yZs]}=JV(a,[],[Lb],zZs))})(),xZs);var EZs=eV(a=>{const b=a.Psr,c=a.rC;return cV("div",{className:"sNFUtw",children:oc(c.wv?b:1).map((d,e,{length:f})=>cV(rZs,{GZq:d!==f-1,msj:d*c.durationUs,...a},d))})});var FZs,GZs,HZs,IZs;
new (FZs=class extends IV{constructor(){super(IZs);GZs()}},(()=>{class a extends(HZs=GV){static G(b){P(b,{eL:wV.ref,onMouseEnter:fV.bound,onMouseLeave:fV.bound,backgroundColor:mV,segments:mV})}onMouseEnter(){this.eL=!0}onMouseLeave(){this.eL=!1}get backgroundColor(){const b=this.props.color;return this.eL&&Vb()?hi(new ei(Math.max(0,Math.round(b.r*.75)),Math.max(0,Math.round(b.g*.75)),Math.max(0,Math.round(b.b*.75)),b.a)):hi(b)}get segments(){return QDs(this.props.Mz,this.props.rC,0,0,new ei(0,0,0,
0))}render(){return kV("div",{className:"WAZQAw",children:[this.segments.map((b,c,{length:d})=>kV(VHs,{children:[cV("div",{style:{background:this.backgroundColor,width:b.state.width}}),c<d-1&&cV("div",{className:AV({wdkUww:b.draft}),style:{background:b.draft?void 0:this.backgroundColor,width:b.paddingRight}})]},c)),cV("div",{className:"mRU4jQ",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})]})}constructor(...b){super(...b);this.eL=(IZs.G(this),!1)}}({c:[IZs,GZs]}=JV(a,[],[Lb],HZs))})(),
FZs);var JZs,KZs,LZs,eEs;
new (JZs=class extends IV{constructor(){super(eEs);KZs()}},(()=>{class a extends(LZs=GV){static G(b){P(b,{Bvc:wV.ref,gBb:wV.ref,g_i:wV.ref,hgo:fV.bound,xP:fV.bound,onMouseEnter:fV.bound,onMouseDown:fV.bound,onMouseLeave:fV.bound,onKeyDown:fV.bound,Yya:mV,mob:mV,oMa:mV,onContextMenu:fV.bound,oko:mV})}componentDidMount(){Gb(this,[dV(()=>this.g_i?this.mob:!1,b=>{var c;b&&((c=this.g_i)===null||c===void 0||c.focus({preventScroll:!0}))},{fireImmediately:!0}),dV(()=>this.mob,b=>{b&&this.props.Lw.ZFc?this.Bvc=
!0:b&&this.props.Mz.Yp?(this.Bvc=!0,window.clearTimeout(this.NDl),this.NDl=window.setTimeout(()=>{oV(()=>this.Bvc=!1)},3E3)):(this.Bvc=!1,window.clearTimeout(this.NDl))},{fireImmediately:!0})])}hgo(b){var c;this.g_i=b;(c=this.ENl)===null||c===void 0||c.call(this);b&&(this.ENl=this.props.Lo.observe(b,this.xP))}xP(b){this.gBb=b}onMouseEnter(){Vb()&&!this.mob&&(this.Bvc=!0)}onMouseDown(){this.props.Mz.ygl(this.props.rC)}onMouseLeave(){Vb()&&!this.mob&&(this.Bvc=!1)}get Yya(){return this.props.Mz.g6h(this.props.rC)}get mob(){return this.props.Mz.mob(this.props.rC)}get oMa(){return this.props.Mz.eQd===
this.props.rC}get oko(){const b=this.props.rC.track,c=this.props.Mz.c_c;return this.oMa||c===b}render(){var b=this.props.rC,c=b.audio;b=b.Pwk;const d=this.props.connectDropTarget;var e=this.props.drag;const f=this.props.hp,g=this.Yya.width,h=this.Yya.height,k=this.Yya.iic,l=this.Yya.left,m=this.Yya.color;c=(c===null||c===void 0?0:c.title)?J("avLR6Q",[c.title]):L("78k0WQ");e=!!e&&e.d3;return kV(rV,{children:[cV("div",{role:"button",tabIndex:0,ref:this.hgo,className:AV("Jqy7Tg","YAK7xA",{KjB4eQ:wb.pd,
_88diBQ:this.props.Mz.mode==="max",wfJ8fA:this.mob,iB8f7A:b}),style:{width:g,height:h,transform:`translateX(${l}px)`},"aria-label":c,onKeyDown:this.onKeyDown,onMouseEnter:this.onMouseEnter,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onContextMenu:this.onContextMenu,children:d(kV("div",{className:"yCmjww",children:[cV(MZs,{...this.props,color:m,Bvc:this.Bvc,mob:this.mob,Xjk:e||b,visible:this.gBb||this.oMa,hp:f}),kV("div",{className:AV("ewoWEQ",{AclNdg:b,HTgLsA:e||
b}),style:{height:h},children:[e&&kV(rV,{children:[cV(__c.I5f,{size:"small"}),cV(Q,{size:"small",weight:"bold",alignment:"center",tagName:"span",className:"jQln9Q",children:L("txGylQ")})]}),b&&kV(rV,{children:[cV(__c.Tu,{size:"small"}),cV(Q,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",className:"VFOWng",children:L("0GDd5g")})]})]})]}))}),cV("div",{style:{width:this.oko?k.bDd:void 0},"aria-hidden":!0})]})}constructor(...b){super(...b);this.Bvc=(eEs.G(this),!1);this.gBb=
!0;this.g_i=null;this.NDl=void 0;this.onKeyDown=c=>{const d=this.props.Mz,e=this.props.rC,f=this.props.hza;if(c.key===" "||c.key==="Enter")d.ygl(e),c.stopPropagation();if(c.key==="Escape"){var g;(g=f.Qnd)===null||g===void 0||g.call(f);this.oMa?d.uyj(e):d.lr.a1a();c.stopPropagation()}};this.onClick=c=>{const d=this.props.v4a;this.props.ei.get()||d(c)};this.onContextMenu=c=>{const d=this.props.rC,e=this.props.onContextMenu;this.props.Ma.mode<40||(c.preventDefault(),Fc.Yaa||Fc.yxd||e(c,d.track))}}}({c:[eEs,
KZs]}=JV(a,[],[Lb],LZs))})(),JZs);var MZs=eV(a=>{var b=a.ei.get();if(a.Mz.mode==="min")return cV(IZs,{color:a.color,rC:a.rC,Mz:a.Mz});b={rC:a.rC,lr:a.lr,Mz:a.Mz,Ao:b,x2b:a.x2b,lzc:a.lzc,C6i:a.C6i,Lw:a.Lw,Bvc:a.Bvc,visible:a.visible,Xjk:a.Xjk,dYa:a.dYa,hza:a.hza};const c=__c.$Ke(a.lr,a.rC);return a.Ma.mode<40||a.Mz.Yp&&!a.Mz.mob(a.rC)||c>1||a.rC.vGc||a.rC.Pwk?cV(EZs,{...b,Xlo:!1,Psr:c}):cV(DZs,{...b,hp:a.hp,Xlo:!0,mob:a.mob})});var gEs=parseInt("12px",10)||12;var rEs=a=>{const b=a.label,c=a.width,d=a.onClick;a=a.O_h;return cV("div",{className:AV("_14_wuA"),style:{maxWidth:a?void 0:c},children:cV(pr,{onClick:d,stretch:!0,alignment:"start",ariaLabel:b,children:kV("div",{className:"Z_ItSA",children:[cV(__c.Tu,{size:"small",tone:"primary",className:"csNU_A"}),cV(Q,{size:"small",weight:"bold",alignment:"start",tagName:"span",tone:"primary",children:b})]})})})};var kEs=["#33bfff","#fbbe28","#7fdc42","#00c4cc","#ff6673"].map(a=>__c.bJa(a)),lEs=__c.bJa("#8d39fa"),nEs=parseInt("16px",10)||16;var OIs=class{static G(a){P(a,{sTl:wV.ref,yXl:wV.ref,eRl:wV.ref,CYl:wV.ref,fme:wV.ref})}get N1c(){return this.Mio.value}constructor(){this.Mio=(OIs.G(this),new __c.Bk)}};var MIs=class{static G(a){P(a,{med:mV})}get med(){return this.fBa.get()<=0?0:10/this.fBa.get()*1E6}constructor(a){this.fBa=a;this.WHe=(MIs.G(this),wV.box(!1));this.bad=wV.box(void 0);this.Eah=mV(()=>[]);this.srg=mV(()=>[]);this.OGh=mV(()=>[]);this.HHh=mV(()=>[])}},RIs=a=>{const b=fV(c=>{({maxTouchPoints:e,userAgent:d}=navigator);var d,e;return a.WHe.set((!/Mac OS/i.test(d)||/iphone|ipad/i.test(d)?0:e<=1)?c.metaKey:c.ctrlKey)});window.addEventListener("keydown",b);window.addEventListener("keyup",b);
return()=>{window.removeEventListener("keydown",b);window.removeEventListener("keyup",b)}};var xEs=DV(function({currentTime:a,totalTime:b,uf:c,Uoa:d,fHs:e,lw:f,onChange:g,onSubmit:h}){return e?c>1?cV(vEs,{uf:c,Uoa:d,lw:f,onChange:g,onSubmit:h}):cV(Q,{size:"medium",weight:"bold",className:"hGeclQ",children:d!=null?J("q6CACQ",[d,c]):J("plwCKA",[c])}):kV(Q,{size:"medium",weight:"bold",className:"hGeclQ",children:[cV(__c.aE,{seconds:a})," / ",cV(__c.aE,{seconds:b})]})});var wEs=class{static G(a){P(a,{lw:wV.ref,Ekl:fV})}Ekl(a){this.lw=a&&this.document.pages.count()>1}rfa(a){if(a>0&&a<=this.document.pages.count()){const b=this.V.sb("design_progress.go_to_page",{Fb:{name:"editor.page.navigate",type:"design_progress"}}),c=a-1,d=this.document.pages.toArray()[c],e=this.viewport.ya===d;if(e)b.abort();else{this.viewport.Gy(d);switch(d.type){case "fixed":a=xg(this.eb.Zk(d));break;case "concatenated-fixed":a=!1;break;case "responsive":a=!0;break;default:throw new v(d);}this.N.cLd(d,
!e,b,{Vb:c,pK:1,Txd:a,kb:"go_to_page",location:"status_bar"})}}}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.eb=c;this.N=d;this.V=e;this.lw=(wEs.G(this),!1)}};var AEs=class{static G(a){P(a,{tyd:wV.ref})}get isDragging(){return this.tyd!=null}constructor(){this.tyd=(AEs.G(this),void 0);this.Xpo=this.DKj=0}},BEs=class{onDragStart(a,b){var c;const d=((c=a.xbl)===null||c===void 0?0:c.isRecording())?a.xbl:this.V.sb("resize",{Fb:{name:"timeline.resize",performance:{rV:!0}}});a.xbl=d;a.tyd=b.clientY;b=this.eda.wKd;a.Xpo=b;a.DKj=b}onDragEnd(a){a.tyd=void 0;const b=a.Xpo;a=a.xbl;const c=NZs(),d=Math.round(b/c*100),e=Math.round(this.eda.wKd/c*100);a===null||a===
void 0||a.nb().tk(({Hi:f})=>MCs(this.N,{I3k:d,PKj:e,JLk:this.eda.lWg,Qb:f()}));a===null||a===void 0||a.ue()}qe(a,b){var c=a.tyd;if(c!=null){c-=b.clientY;var d=c+a.DKj;c!==0&&this.eda.Zfo(d);a.tyd=b.clientY;a.DKj=d}}constructor(a,b,c){this.eda=a;this.N=b;this.V=c}},NZs=()=>{const a=__c.Xb();var b;return(b=a===null||a===void 0?void 0:a.height)!==null&&b!==void 0?b:window.innerHeight};var zEs=parseInt("12px",10)||12;var OZs=Nj(0,0,parseInt("128px",10)||128,parseInt("72px",10)||72),PZs=new sj(0,0),HEs=eV(({store:a})=>{const b=jV(null);iV(()=>dV(()=>a.Kym,c=>{const d=b.current;d&&(c?(d.style.transform=`translate(${c.x}px, ${c.y}px)`,d.style.opacity="1"):d.style.opacity="0")},{scheduler:requestAnimationFrame}),[a]);return cV("div",{ref:b,className:"_FVm1g",children:a.lW&&cV(QZs,{page:a.lW.page,elements:a.lW.elements,o8f:a.cTl,Kpc:a.Kpc})})}),QZs=eV(({page:a,elements:b,o8f:c,Kpc:d})=>cV("div",{className:"Qko23w",
children:b.slice(0,3).map((e,f)=>{const g=AV("vKg3MA",{_4Uxw3A:!d}),h=Nj(0,0,e.width,e.height).C_b(PZs,OZs);return cV("div",{className:g,style:d?void 0:{width:h.width,height:h.height},children:cV(c,{page:a,element:e,ld:h.width,tf:h.height})},f)})}));var GEs=eV(({item:a,onDragStart:b,jhq:c,tjq:d,children:e})=>{const f=jV(null),g=gV(()=>{d.vul=m=>{if(f.current){const {left:p,top:q,width:r,height:t}=f.current.getBoundingClientRect();d.Pxe={x:Math.max(0,Math.min(r,m.x-p)),y:Math.max(0,Math.min(t,m.y-q))}}return b()}},[d,b]),h=gV(m=>{g();c.onMouseDown(m)},[g,c]),k=gV(m=>{g();c.onTouchStart(m)},[g,c]),l=gV(m=>{if(Fc.Yaa||Fc.yxd)m.preventDefault(),m.stopPropagation()},[]);a=d.y$m(a);return kV("div",{ref:f,className:"UPkX6w",onMouseDown:h,onTouchStart:k,
onContextMenu:l,"data-role":a?"draggable-timeline-item":void 0,children:[cV("div",{className:AV("ztu6Iw",{_NaLug:a}),children:e}),cV("div",{className:AV("GvBgmw",{_NaLug:a})})]})});var FEs=class{Aqh(a){a={x:a.clientX,y:a.clientY};this.store.r_=a;__c.pEe(this.Bba,a)}constructor(a,b){this.store=a;this.Bba=b;this.onDragStart=c=>{const d=n(this.store.vul)({x:c.clientX,y:c.clientY});this.store.lW=d;this.Bba.pKc=!0;rEe(this.Bba);this.Aqh(c);return d};this.qe=c=>{this.store.RWh=!0;this.Aqh(c)};this.onDragEnd=()=>{this.Bba.pKc=!1;DEs(this.store)};this.Fw=c=>{this.Aqh(c)}}};var EEs=class{static G(a){P(a,{r_:wV.struct,Pxe:wV.struct,lW:wV.ref,RWh:wV.ref,Kpc:wV.ref,fNg:wV.ref,cTl:mV,Kym:mV,isDragging:mV})}get cTl(){return this.Kpc&&this.tTl?this.tTl:this.sWo}get Kym(){if(this.r_){var a=this.Kpc&&this.Pxe||{x:0,y:0};return{x:this.r_.x-a.x,y:this.r_.y-a.y}}}get isDragging(){return this.lW?this.ei.get()?this.RWh:!0:!1}constructor(a,b){this.sWo=a;this.ei=b;this.vul=(EEs.G(this),void 0);this.fNg=this.Kpc=this.RWh=!1;this.y$m=CV(c=>{var d,e;return this.isDragging?c.type!==void 0?
!((d=this.lW)===null||d===void 0||!d.elements.includes(c)):!((e=this.lW)===null||e===void 0||!e.sh.includes(c)):!1})}};var UFs=class{static G(a){P(a,{ld:wV.ref,tf:wV.ref,qYe:mV,JU:mV,Too:mV.struct,Amh:mV.struct,frameWidth:mV,bPm:mV({equals:mk(lV.shallow)}),Hun:mV,gQe:mV,Npo:mV})}static factory(a,b){return(c,d)=>new UFs(c,d,a,b)}update(a,b,c){var d=this.oHl,e=this.frameWidth,f=this.gQe;d.Pia==null&&c==="start"&&(d.$cl=a%e-e);c==="start"?d.mHl=d.ZEj-a:d.ZEj=a;d.Pia=c;d.gQe=f;d.frameWidth=e;this.ld=a;this.tf=b}get qYe(){return this.oHl.qYe}get JU(){return this.vIb.length>0&&this.ld>0&&this.tf>0}get Too(){let a=0;return this.vIb.reduce((b,
c)=>{const d=c.url,e=c.FR,f=c.jt;a+=c.xac;b.push({url:d,jt:f,oK:e,Lwp:a});return b},[])}get Amh(){const a=this.vIb.reduce((c,d)=>c+d.xac,0),b=this.vIb[0];return{hYs:a,v4s:b.EQc*1E6,...b}}get frameWidth(){const a=this.vIb[0];return Math.ceil(this.tf/a.QZa*a.RZa)}get bPm(){const a=this.Amh.RZa,b=this.Amh.QZa;let c=-1,d=0;return Array.from({length:this.Hun},(e,f)=>{const g=Math.floor(this.Npo+this.gQe*f);var h=this.Too.find(m=>g<m.Lwp);if(!h)return null;e=h.url;f=h.oK;h=h.jt;const [k,l]=[g%f,Math.floor(g/
f)%h];g!==c?(c=g,d=0):d++;return{key:`${g}-${d}`,url:e,jt:h,oK:f,qHc:l,pHc:k,RZa:a,QZa:b}}).filter(vb)}get Hun(){return Math.ceil((this.ld-(this.qYe?this.qYe:0))/this.frameWidth)}get gQe(){const a=this.vd.b8j(this.aaa)/1E6*this.fBa.get()/this.frameWidth;return this.Amh.hYs/a}get Npo(){var a;const b=((a=this.aaa.trim)===null||a===void 0?0:a.startUs)?this.aaa.trim.startUs/this.Amh.v4s:0;return this.oHl.lvo+b}constructor(a,b,c,d){this.aaa=a;this.vIb=b;this.fBa=c;this.vd=d;this.ld=(UFs.G(this),0);this.tf=
0;this.oHl=new RZs}},RZs=class{static G(a){P(a,{Pia:wV.ref,ZEj:wV.ref,mHl:wV.ref,gQe:wV.ref,frameWidth:wV.ref,$cl:wV.ref,qYe:mV,lvo:mV})}get qYe(){if(this.Pia==="start")return this.$cl}get lvo(){return this.Pia!=="start"?0:Math.floor(this.mHl/this.frameWidth)*this.gQe}constructor(){this.Pia=(RZs.G(this),void 0);this.$cl=this.frameWidth=this.gQe=this.mHl=this.ZEj=0}};var WEs=class{static G(a){P(a,{dkk:mV,eOb:mV,startUs:mV,eah:mV,rowIndex:mV})}get dkk(){return!!this.eOb||!!this.eah}get eOb(){const a=this.startUs;return a==null?0:a-this.r3r}get startUs(){var a=this.JSa.startUs;if(a!=null)return a=this.WNb.XBa(a,void 0),Math.max(a,this.OMa)}get eah(){const a=this.rowIndex;return a==null?0:a-this.q3r}get rowIndex(){const a=this.JSa.rowIndex;if(a!=null)return Math.max(a,this.KBr)}constructor(a,b,c,d,e,f,g){this.JSa=a;this.WNb=b;this.r3r=c;this.q3r=d;this.durationUs=
e;this.OMa=f;this.KBr=g;WEs.G(this)}};var SZs=class{static G(a){P(a,{Qne:wV.shallow,gXe:wV.shallow,items:mV})}get items(){if(!this.Qne.size&&!this.gXe.size)return this.euj.get();const a=this.euj.get().filter(b=>!this.gXe.has(b));for(const [b,c]of this.Qne)a.splice(c,0,b);return a}insertBefore(a,b){b=b?this.items.indexOf(b):-1;this.Qne.set(a,b>=0?b:this.items.length)}remove(a){this.Qne.has(a)?this.Qne.delete(a):this.euj.get().includes(a)&&this.gXe.add(a)}restore(a){this.gXe.has(a)&&this.gXe.delete(a)}reset(){this.Qne.clear();this.gXe.clear()}constructor(a){this.euj=
a;this.Qne=(SZs.G(this),new Map);this.gXe=new Set}},QEs=class{static G(a){P(a,{vHk:wV.ref,$sc:wV.shallow,h4g:wV.ref,Cwa:mV,dKi:mV({equals:mk(mk())}),I1n:mV({equals:mk(mk())}),C6g:mV({equals:lV.shallow}),cYk:mV({equals:mk()}),rows:mV({equals:mk(mk())}),items:mV,hen:mV({equals:lV.shallow}),iuc:mV})}get Cwa(){return this.items.reduce((a,b)=>{b=this.UBg(b);return Math.max(a,b.endUs)},0)}get dKi(){return LEs(this,this.m1h.items)}get I1n(){return this.dKi.map(a=>a.filter(b=>!this.$sc.has(b)))}get C6g(){return new Map(this.dKi.flatMap((a,
b)=>a.map((c,d)=>[c,[b,d]])))}get cYk(){return Array.from(this.$sc.entries()).filter(([a])=>this.C6g.has(a)).sort((a,b)=>{const [c,d]=n(this.C6g.get(a[0])),[e,f]=n(this.C6g.get(b[0]));return c===e?d-f:c-e})}get rows(){if(!this.cYk.length)return this.dKi;const a=this.I1n.map(d=>d.slice()),b=new Map;var c=(d,e)=>{let f=b.get(d);f||(f=[],b.set(d,f));f.push(e)};for(const [d,e]of this.cYk){const f=this.UBg(d),[g]=n(this.C6g.get(d)),{rowIndex:h,R$d:k,QFd:l}=PEs(f,g+e.aKi,a,this.h4g,this.UBg);l?c(h,d):a[h].splice(k,
0,d)}c=Array.from(b.entries()).sort((d,e)=>e[0]-d[0]);for(const [d,e]of c)a.splice(d,0,...LEs(this,e));return LEs(this,a.flat(),this.UBg)}get items(){return this.rows.flat()}get hen(){return new Map(this.rows.flatMap((a,b)=>{const c=b>=this.rows.length;return a.map((d,e)=>[d,{rowIndex:b,R$d:e,X$t:c,W$t:e>=a.length}])}))}get iuc(){return Math.max(this.vHk,this.rows.length)}Ll(a,b){this.m1h.insertBefore(a,b)}removeItem(a){this.m1h.remove(a);this.$sc.has(a)&&this.$sc.delete(a)}reset(){this.m1h.reset();
this.$sc.clear();this.vHk=1;this.h4g="below"}constructor(a,b){this.oKq=b;this.vHk=(QEs.G(this),1);this.$sc=new Map;this.h4g="above";this.UBg=CV(c=>{var d=this.$sc.get(c);if(d===null||d===void 0||!d.eOb)return c.timing;d=Math.max(0,c.timing.startUs+d.eOb);return{startUs:d,endUs:d+c.timing.durationUs,durationUs:c.timing.durationUs}});this.$_d=CV(c=>{const d=this.hen.get(c);if(d)return c=this.UBg(c),{startUs:c.startUs,endUs:c.endUs,rowIndex:d.rowIndex,R$d:d.R$d}});this.iuf=CV(c=>{const d=this.items.find(e=>
e.element===c);return d&&this.$_d(d)});this.m1h=new SZs(a)}},KEs=(a,b=c=>c.timing)=>{if(!a.length)return[];let c=[];const d=[[]];for(const e of a)a=b(e),NEs(a,c)&&(c=[],d.push([])),d[d.length-1].push(e),c.push(a);return d},JEs=(a,b=c=>c.timing)=>{if(!a.length)return[];const c=[[]];let d;for(const e of a)a=d?b(d).endUs:0,b(e).startUs>=a?c[c.length-1].push(e):c.push([e]),d=e;return c};var XEs=class{static G(a){P(a,{gtn:mV,positions:mV,H1n:mV({equals:mk(mk())}),wPh:mV})}get gtn(){var a;return(a=this.wPh)!==null&&a!==void 0&&a.QFd?[this.wPh.rowIndex]:[]}get positions(){const a=this.wPh;return a?(a.QFd?[]:[{startUs:a.startUs,durationUs:a.durationUs,rowIndex:a.rowIndex}]).concat(this.o4n.map(({eOb:b,eah:c,durationUs:d})=>({startUs:a.startUs+b,durationUs:d,rowIndex:a.rowIndex+c}))):[]}get H1n(){return this.IAb.rows.map(a=>a.filter(b=>b!==this.Fjg&&!this.Lvs.includes(b)))}get wPh(){const a=
this.n4d.startUs,b=this.n4d.rowIndex;if(a!=null&&b!=null){var c=this.Fjg.timing.durationUs,{rowIndex:d,QFd:e}=PEs({startUs:a,durationUs:c,endUs:a+c},b,this.H1n,this.IAb.h4g);return{startUs:a,durationUs:c,rowIndex:d,QFd:e}}}constructor(a,b,c,d){this.IAb=a;this.n4d=b;this.Fjg=c;this.Lvs=d;this.o4n=(XEs.G(this),void 0);const e=n(a.$_d(c)).rowIndex;this.o4n=d.map(f=>{const g=n(a.$_d(f));return{eOb:f.timing.startUs-c.timing.startUs,eah:g.rowIndex-e,durationUs:f.timing.durationUs}})}};var oFs=class{constructor(a,b,c,d,e){this.page=a;this.vd=b;this.JSa=c;this.WNb=d;this.Xjf=e}};var TZs=eV(({eua:a,I0:b})=>{const c=jV(null);iV(()=>{const d=c.current;if(d)return dV(()=>({x:a.kMd(b.startUs),y:xFs(a,b.rowIndex)}),e=>{d.style.transform=e?`translate(${e.x}px, ${e.y}px)`:""},{fireImmediately:!0,scheduler:requestAnimationFrame})});return cV("div",{ref:c,className:"CGPqmw",style:{width:a.kMd(b.durationUs)}})}),UZs=eV(({eua:a,rowIndex:b})=>{const c=jV(null);iV(()=>{const d=c.current;if(d)return dV(()=>xFs(a,b),e=>{d.style.transform=`translateY(${e}px)`},{fireImmediately:!0,scheduler:requestAnimationFrame})},
[a,b]);return cV("div",{ref:c,className:"_4X5sgA"})}),qFs=eV(({store:a,eua:b})=>a.Uxe?kV(rV,{children:[a.Uxe.z3m.positions.map((c,d)=>cV(TZs,{eua:b,I0:c},d)),a.Uxe.z3m.gtn.map((c,d)=>cV(UZs,{eua:b,rowIndex:c},d))]}):null);var pFs=eV(({connectDropTarget:a,E7a:b,children:c})=>{const d=gV(e=>{b.Fqg=e!==null&&e!==void 0?e:void 0},[b]);return a(cV("div",{ref:d,className:AV("_6RM6zQ",{XP7C2w:b.yHb}),children:c}))});var lFs=class{static G(a){P(a,{Mvc:wV.struct,jSc:wV.ref,B6g:wV.struct,Jnf:wV.ref,x:mV,y:mV,startUs:mV,rowIndex:mV,x1n:mV,zdl:mV,fEd:mV,Rqd:mV,bNb:mV})}get x(){if(this.fEd){var {x:a}=this.fEd;this.Jnf&&(a-=this.Jnf);return Math.max(0,a)}}get y(){if(this.fEd)return this.fEd.y}get startUs(){if(this.x!=null)return this.eua.i1k(this.x)}get rowIndex(){if(this.y!=null)return Math.max(0,Math.max(0,this.IAb.iuc-1)-Math.floor(Math.max(0,this.y/this.eua.rowHeight)))}get x1n(){if(this.zdl!=null)return this.zdl<
.5?0:1}get zdl(){if(this.y!=null)return Math.min(1,Math.max(0,Math.max(0,this.y/this.eua.rowHeight)-Math.floor(Math.max(0,this.y/this.eua.rowHeight))))}get fEd(){if(this.B6g&&this.Rqd)return{x:this.B6g.x-this.Rqd.x,y:this.B6g.y-this.Rqd.y}}get Rqd(){if(this.jSc)return{x:this.jSc.left-this.bNb.left,y:this.jSc.top-this.bNb.top}}get bNb(){return this.Mvc?{top:this.A8.scrollTop-this.Mvc.top,left:this.A8.scrollLeft-this.Mvc.left}:{top:0,left:0}}qhg(){this.jSc=this.Mvc=this.B6g=void 0;this.Jnf=0}constructor(a,
b,c){this.A8=a;this.eua=b;this.IAb=c;this.Mvc=(lFs.G(this),void 0);this.Jnf=0}};var nFs=class{static G(a){P(a,{onDragOver:fV.bound,onDragLeave:fV.bound})}yHb(){this.E7a.yHb=!0}bQj(){this.oga.Kpc=!1;this.E7a.qhg();this.E7a.yHb=!1}onDragOver(a){this.E7a.JSa.B6g={x:a.Rx.x,y:a.Rx.y};a.start?this.E7a.JSa.Jnf=a.start.YBa.x:this.oga.Pxe&&(this.E7a.JSa.Jnf=this.oga.Pxe.x);if(a=this.E7a.Uxe)a.IAb.h4g=this.E7a.JSa.x1n===0?"above":"below"}onDragLeave(){this.oga.Kpc=!1;this.E7a.qhg()}async onDrop(a){this.WNb.onDragEnd();const b=a.IAb;for(const c of a.items)MEs(b,c,{eOb:a.n4d.eOb,aKi:a.n4d.eah});
switch(a.type){case 0:cFs(this,a);break;case 1:dFs(this,a);break;case 2:eFs(this,a);break;case 3:await fFs(this,a);break;default:throw new v(a);}oV(()=>{var c;((c=this.oga.lW)===null||c===void 0?0:c.elements.length)&&this.og.Ol(this.oga.lW.page,...this.oga.lW.elements);this.E7a.qhg()})}constructor(a,b,c,d,e,f,g,h,k,l){this.page=a;this.eb=b;this.sc=c;this.og=d;this.A8=e;this.E7a=f;this.axm=g;this.WNb=h;this.oga=k;this.U0c=l;this.onDragEnter=(nFs.G(this),async m=>{const p=this.E7a.Fqg;if(ZEs(this,m)&&
p){var q=await gFs(this,m);oV(()=>{this.E7a.Uxe=q;this.E7a.JSa.Mvc={top:this.A8.scrollTop,left:this.A8.scrollLeft};const {top:r,left:t}=p.getBoundingClientRect();this.E7a.JSa.jSc={top:r,left:t};this.oga.Kpc=!0})}})}};var mFs=class{static G(a){P(a,{yHb:wV.ref,Uxe:wV.ref})}qhg(){this.JSa.qhg();this.Uxe=void 0}constructor(a){this.JSa=a;this.Fqg=(mFs.G(this),void 0);this.yHb=!1}};var iFs=parseInt("28px",10)||28;var rFs="timelineItems searchMedia video searchShape line table chart grid textParagraph".split(" ");var VZs=eV(({element:a,L:b,IZf:c})=>{const d=gV(e=>{c();e.stopPropagation()},[c]);return cV(__c.YZg,{tone:"primary",className:AV("AuGWSA",{XPeZdg:b.etk(a)}),onClick:d,children:cV(__c.oYh,{size:"small"})})});var WZs=UMs(({children:a},b)=>cV("div",{className:AV("gGmdtw","Eu3fXQ"),ref:b,children:a}));var XZs,YZs,ZZs,$Zs=parseInt("96px",10)||96,a_s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),b_s=parseInt("8px",10)||8,d_s=eV(function(a){const b=a.element,c=a.page,d=a.NS,e=a.timing,f=a.parent,g=a.store,h=a.O6e,k=a.L,l=a.BR,m=a.u8f;var p=a.l7n;const q=c.ja,r=jV(null);var t=g.um;const u=g.Vza===b,w=t.includes(b)||!!f&&t.includes(f);var x=w&&(t.length>1||!!f&&g.Vza===f);t=gV(I=>{I.stopPropagation();oV(()=>{var K;const N=vFs(k,q,(b.startUs||0)+((f===null||f===void 0?void 0:f.startUs)||0)),M=I.clientX-
(((K=r.current)===null||K===void 0?void 0:K.Knr)||0)+N;wFs(k,q,M);u||k.Bg(q,b,f)})},[k,b,f,u,q]);const y=gV(()=>{l.tZa({element:b,page:q})},[b,l,q]),z=gV(()=>{l.NFb({element:b,page:q})},[b,l,q]),A=gV((I,K,N)=>{const M=Math.floor(I.endUs-I.startUs);K=Math.floor(K.endUs-K.startUs);h.ona(I,N,b,f,q,d);bFs(h,[b],M,K)},[h,b,f,q,d]),B=p.endUs-p.startUs,D=!(x||!f||!b),G=!!(x||(f?u:w));p=gV(()=>{D?(aFs(h,[b],f,h.Sde,q,d),bFs(h,[b],e.durationUs)):(aFs(h,g.um,void 0,h.Sde,q,d),bFs(h,g.um,B))},[D,h,e,b,f,q,d,
B,g]);x=gV(()=>{G||k.Bg(c.ja,b,f);h.Xha("fullWidth");if(D)return{page:c,parent:f,elements:[b],sh:[]};const I=[b,...g.um.filter(K=>K!==b)];return{page:c,elements:I,sh:[]}},[c,b,f,g,G,D,k,h]);return cV(c_s,{...a,ref:r,Gwq:k.YHs(b,f),onClick:t,onMouseEnter:y,onMouseLeave:z,focused:u,selected:w,Icon:m,HVf:G,ona:A,ZSr:p,onDragStart:x})}),c_s;
new (XZs=class extends IV{constructor(){super(c_s);YZs()}},(()=>{class a extends(ZZs=GV){static G(b){P(b,{h6a:wV.shallow,RPd:wV.ref,aNf:wV.ref,$3g:wV.ref,Xt:mV,isDragging:mV,A9d:mV,trim:mV,uYk:mV,Iqn:mV,FEk:mV,Hqn:mV,rnn:mV,vpb:fV.bound,wpb:fV.bound,onMouseEnter:fV.bound,onMouseLeave:fV.bound,Ala:mV.struct,U7b:mV,Rhh:mV,ptd:mV,width:mV,left:mV,transform:mV,jSi:mV,IZf:fV.bound,ilo:mV,onContextMenu:fV,rlo:mV,disabled:mV,hidden:mV,DAm:mV,content:mV})}get Xt(){return this.props.store.timing.Xt}get isDragging(){return!!this.props.oga.isDragging}get A9d(){return{startUs:this.props.timing.startUs,
endUs:this.props.timing.endUs}}get trim(){if(this.h6a)return this.h6a;const b=this.A9d,c=this.props.HVf?this.props.O6e.Sde:0;return{startUs:b.startUs+c,endUs:b.endUs+c}}seek(b){this.props.L.zuc(this.props.page.ja,this.props.wLn+b)}get uYk(){const b=this.props.focused;return this.props.parent&&b?this.A9d:this.props.l7n}get Iqn(){if(this.RPd==="fullWidth")return this.A9d.startUs-this.uYk.startUs}get FEk(){const b=this.props.NS;if(this.Xt){const c=this.props.L.m9h(this.props.element);if(c)return c+this.A9d.startUs}return this.RPd!==
"fullWidth"?b:b-(this.uYk.endUs-this.A9d.endUs)}get Hqn(){if(this.Xt){const b=this.props.L.m9h(this.props.element);if(b)return this.A9d.endUs-b}return 0}get rnn(){return this.FEk-(this.trim.endUs-this.trim.startUs)}vpb(){this.aNf=!0}wpb(){this.aNf=!1}onMouseEnter(){this.props.ei.get()||(this.$3g=!0,this.props.onMouseEnter())}onMouseLeave(){this.props.ei.get()||(this.$3g=!1,this.props.onMouseLeave())}get Ala(){const b=this.props.focused,c=this.props.Lw,d=this.props.selected;return this.props.Yaa?{type:"touch",
isVisible:b}:{type:"pointer",aWa:this.Rhh?"outside":"inside",isVisible:(this.Rhh||this.ptd&&(!!this.h6a||this.aNf))&&!c.PF,Nwg:!this.ptd,z1f:!0,...(this.Rhh?{}:{zxf:this.props.HVf?a_s:0,S2i:this.props.HVf?a_s:0,borderRadius:b_s-(b||d?a_s:0)})}}get U7b(){const b=this.props.Lw;return{show:!(this.h6a&&this.RPd!=="fullWidth")&&this.Rhh&&!b.PF,appearance:this.props.Yaa?"light":"dark"}}get Rhh(){this.h6a||(this.Shh=this.props.HVf&&!this.ptd);return this.Shh}get ptd(){return this.width>=50}get width(){return vFs(this.props.L,
this.props.page.ja,this.trim.endUs,{lfc:!0})-this.left}get left(){return vFs(this.props.L,this.props.page.ja,this.trim.startUs)}get transform(){var b=this.props.L;var c=this.props.element;b=(c=b.g4c(this.props.page.ja).iuf(c))?xFs(b.eua,c.rowIndex):void 0;if(b!=null&&!this.hidden)return`translate(${this.left}px, ${b}px)`}get jSi(){const b=this.props.focused;return this.props.Gwq&&this.width>40&&!this.aNf&&!this.isDragging&&(b||this.$3g)}IZf(){this.props.L.IZf(this.props.page.ja,this.props.element,
this.props.parent)}get ilo(){return this.width>70||!this.jSi}get rlo(){const b=this.props.focused,c=this.props.ei,d=this.props.fh,e=this.width,f=this.aNf,g=this.h6a,h=this.isDragging,k=this.jSi,l=this.$3g||!Vb();return b&&l&&!c.get()&&e>$Zs&&(!f||d.Lr)&&!g&&!h&&!k}get disabled(){const b=this.props.focused,c=this.props.Yaa;return this.props.Lw.PF||c&&!b?!0:this.props.L.Uer(this.props.element,this.props.page.ja)}get hidden(){var b=this.props.element;return!this.props.L.g4c(this.props.page.ja).iuf(b)}get Knr(){var b;
return((b=this.ref.current)===null||b===void 0?void 0:b.getBoundingClientRect().left)||0}get DAm(){return this.trim.endUs-this.trim.startUs}get content(){const b=this.props.focused;return cV(jFs,{element:this.props.element,page:this.props.page.ja,Icon:this.props.Icon,isActive:this.props.selected||b,Xt:this.Xt,N6c:this.N6c,x9m:!this.props.ei.get()&&this.props.HVf,L$m:this.ilo,Wio:this.Ala.isVisible,RPd:this.RPd,width:this.width,trim:this.trim})}render(){const b=this.props.L,c=this.props.hp,d=this.props.onClick,
e=this.props.element,f=this.props.focused,g=this.props.ei,h=this.props.yyc,k=this.props.fh.Igc;return kV("div",{ref:this.ref,className:AV("VzBqkA",{HkpnnQ:this.hidden}),style:{width:this.width,transform:this.transform,zIndex:f&&!this.isDragging?1:void 0},onClick:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,children:[cV(h,{item:e,onDragStart:this.props.onDragStart,children:cV(gHs,{hp:c,lYb:this.trim.startUs,durationUs:this.DAm,Ieb:this.Ieb,OMa:this.Hqn,
VTg:this.Iqn,vSg:this.Xt?void 0:this.rnn,Cwa:this.FEk,f6d:1E5,NS:this.props.NS,Xha:this.Xha,eBa:this.eBa,VEa:this.VEa,j$a:this.Xt?void 0:this.j$a,ona:this.ona,vpb:this.vpb,wpb:this.wpb,captureEvents:!0,disabled:this.disabled,Ao:g.get(),U7b:this.U7b,Ala:this.Ala,FLd:b.WNb,children:this.content})}),this.rlo&&k&&cV(WZs,{children:cV(k,{visibility:"always",Ph:this.onContextMenu,ariaLabel:L("kUnZoQ")})}),this.jSi&&cV(WZs,{children:cV(VZs,{element:e,L:b,IZf:this.IZf})})]})}constructor(...b){super(...b);
this.ref=(c_s.G(this),HV());this.Shh=this.$3g=this.aNf=!1;this.N6c=this.props.L.N6c;this.Ieb=(c,d,e)=>{const f=this.props.L,g=this.props.page.ja,h=this.props.wLn,k=this.props.i6r;c=vFs(f,g,c,{lfc:e==="end"})-k+d;return f.Lw.QDg(c,{V7g:g,dub:f.M$m})-h};this.Xha=c=>{this.h6a=this.trim;const d=this.props.element,e=this.props.parent,f=this.props.L,g=this.props.O6e,h=this.props.page.ja;var k=this.props.HVf;this.RPd=c.type;k=!k;g.Xha(c.type);f.Xha(k,h,d,e)};this.eBa=c=>{if(this.Xt){const d=this.props.L.m9h(this.props.element);
if(d&&c+d<this.trim.endUs)return}this.props.O6e.eBa(this.trim,c);this.seek(c)};this.VEa=c=>{if(this.Xt){const d=this.props.L.m9h(this.props.element);if(d&&c>this.trim.startUs+d)return}this.props.O6e.VEa(this.trim,c);this.seek(c-1)};this.j$a=c=>{const d=this.trim;var e=this.props.O6e,f=c-d.startUs;d.startUs+=f;d.endUs+=f;e.Sde+=f;this.seek(c)};this.ona=c=>{const d=this.props.element,e=this.props.L,f=this.props.ZSr,g=this.props.ona,h=this.props.O6e;this.props.store.LRm(this.props.page.ja).includes(d)&&
(c=c.type,c==="fullWidth"?h.Sde&&f():g(this.trim,this.A9d,c));this.RPd=this.h6a=void 0;e.ona()};this.onContextMenu=c=>{c.preventDefault();c.stopPropagation();if(!Fc.Yaa&&!Fc.yxd){var d=this.props.fh,e=this.props.L,f=this.props.element,g=this.props.parent,h=this.props.page;this.props.selected||e.Bg(h.ja,f,g);var k,l;e=__c.tj({x:(k=c.clientX)!==null&&k!==void 0?k:0,y:(l=c.clientY)!==null&&l!==void 0?l:0});d.uLb(e,"element_timeline","right_click","bottom-start")}}}}({c:[c_s,YZs]}=JV(a,[],[Lb],ZZs))})(),
XZs);var e_s=(a,b,c,d,e,f)=>{const g=jV(void 0),h=jV(!1);return gV(k=>{if(k){var l=f.get()?e:k;g.current=Lrs(()=>{const p=h.current;if(h.current=a.open){var q=[];!p&&a.Vza&&q.push(()=>l.scrollTo({top:l.scrollTop+c.scrollHeight,behavior:"instant"}));a.Vza&&a.Wva&&d(a.Wva).iuf(a.Vza)&&q.push(()=>{var r=a.Wva,t=a.Vza;if(r&&t){var {top:u,rowHeight:w}=b.iuf(r,t);r=u+w;t=l.scrollTop;var x=l.clientHeight;u<t?l.scrollTo({top:u-b.uQc,behavior:"smooth"}):r>t+x&&l.scrollTo({top:r-x,behavior:"smooth"})}});q.length&&
requestAnimationFrame(()=>q.forEach(r=>r()))}else p&&l.scrollTop<c.scrollHeight&&l.scrollTo({top:0,behavior:"instant"})})}else{var m;(m=g.current)===null||m===void 0||m.call(g);g.current=null}},[a,b,c.scrollHeight,d,h,e,f])};var f_s=parseInt("36px",10)||36,g_s=eV(({IAb:a,eua:b})=>oc(a.iuc).map((c,d)=>cV("div",{role:"none",className:"PWKo6g",style:{top:xFs(b,d)}},d))),h_s=0,i_s=new WeakMap,j_s=eV(function(a){const b=jV(null),c=a.store,d=a.eua;var e=a.g4c;const f=a.page.ja,g=a.e$i,h=c.Wva===f;e=e(f);const k=c.timing.Xt;iV(()=>{const l=b.current;if(l&&k)return dV(()=>d.scrollWidth(f),m=>{l.style.minWidth=`${m}px`},{fireImmediately:!0})},[k,f,d]);return kV("div",{ref:b,className:AV("TtlcSA",{_2lZCug:k}),style:{zIndex:h?1:
void 0,height:d.scrollHeight},children:[k?cV(g_s,{IAb:e,eua:d}):void 0,c.AUj(f).map(l=>{var m=l.element;let p=i_s.get(m);p==null&&(p=h_s++,i_s.set(m,p));return cV(d_s,{...a,...l},p)}),k&&g&&cV(g,{page:f})]})}),k_s=eV(function(a){const b=a.document,c=a.viewport,d=a.store,e=a.eua;var f=a.eda,g=a.g4c;const h=a.L,k=a.Lw,l=a.oje,m=a.cQj,p=a.hp,q=m.get(),r=gV(u=>{Math.abs(u.deltaX)<Math.abs(u.deltaY)&&u.stopPropagation()},[]);f=e_s(d,f,e,g,p,m);const t=Ef(b);g=wCs(()=>{const u=c.jh;if(d.timing.Xt&&bDs(k,
u.ja))return[u.ja];let w=-1;return b.pages.filter(x=>{w++;return bDs(k,x)&&l.J9<=w&&w<=l.f$})}).map(u=>{var w=t.ub(u);const x=h.Bwr(w.ja),y=__c.Ife(d.um,x),z=k.dAa(w.ja);return TMs(j_s,{...a,page:w,wLn:z.LMk,i6r:z.Ivn,NS:x,l7n:y,Yaa:!Fc.Z7,key:`${d.timing.Xt?"v2":"v1"}-${u.id}`})});return cV("div",{ref:f,className:AV("nXWFCA",{o9_1eQ:!q}),onWheel:q?void 0:r,style:{maxHeight:q?void 0:e.YEc,paddingLeft:f_s,marginLeft:-f_s,zIndex:1},children:g})}),tFs=eV(function(a){return a.store.open?cV(__c.HC,{wn:a.wn,
itemSizes:a.Lw.tel,children:b=>b?cV(k_s,{...a,oje:b}):null}):null});var TFs=class{get M$m(){return!this.store.timing.Xt}get N6c(){return this.Lw.ZFc}zuc(a,b){a.draft||this.jd.seek(b/1E6)}Xha(a,b,c,d){this.jd.stop();this.Ofg=this.jd.configure({Di:[c,d].filter(vb)});this.jd.f0e();XFs(this.jd,{RAm:!0});a&&this.Bg(b,c,d)}ona(){this.jd.stop();YFs(this.jd);this.Ofg&&(this.Ofg(),this.Ofg=void 0,this.jd.LXe())}Bg(a,b,c){var d,e,f;this.jd.stop();const g=this.t1b.get(),h=g==="single"||((d=this.selection.La)===null||d===void 0?void 0:d.type)!=="elements"||((e=this.selection.La)===
null||e===void 0?void 0:e.isEmpty)||((f=this.selection.La)===null||f===void 0?void 0:f.container.page)!==a;d=Ef(this.document).ub(a);if(h)c?(d.Tf(c),this.selection.Ol(d.Tf(c),b)):this.selection.Ol(d,b);else if(g==="command"||g==="shift")b=c||b,this.selection.mc(a,b)?this.selection.e8c(a,b):this.selection.zcd(d,b)}IZf(a,b,c){const d=this.V.sb("toggle_expanded_elements"),e=this.store;if(c=c!==null&&c!==void 0?c:b.type==="group"?b:void 0)e.EYd.delete(c)||e.EYd.add(c),this.Bg(a,c);const f=c===b?"expand":
"collapse";d.ue({Fx:({Hi:g})=>this.P.track(FFs,{action:f,Qb:g()})})}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t){this.document=a;this.store=b;this.vd=c;this.jd=d;this.Lw=e;this.uIa=f;this.selection=g;this.eua=h;this.g4c=k;this.t1b=l;this.Ma=m;this.P=p;this.WNb=q;this.V=r;this.ei=t;this.Bwr=u=>this.store.timing.Xt?Infinity:this.vd.ub(u);this.Uer=KV((u,w)=>{const x=this.Ma;w=Ef(this.document).ub(w);return x.mode<40||this.uIa.Nq({element:u,container:w})});this.m9h=u=>{u=wm.yI(u);if(u.length===1)return this.vd.b8j(u[0])};
this.etk=u=>u.type!=="group";this.YHs=KV((u,w)=>u.type==="group"||!!w)}};var l_s=parseInt("32px",10)||32,SFs=class{static G(a){P(a,{AEk:mV,YEc:mV,scrollHeight:mV})}get rowHeight(){return l_s}get AEk(){return this.Ia.pages.reduce((a,b)=>{if(b.type!=="fixed")return a;b=this.g4c(b);return Math.max(a,b.iuc)},0)}get Dwr(){return this.cQj.get()?Infinity:(this.ei.get()?2.5:4.5)*this.rowHeight}get YEc(){return this.YXh.open?Math.min(this.Dwr,this.scrollHeight):0}get scrollHeight(){return Math.max(this.AEk,this.YXh.timing.Xt?1:0)*this.rowHeight}kMd(a){return a/1E6*this.UZa.fBa}i1k(a){return a/
this.UZa.fBa*1E6}constructor(a,b,c,d,e,f){this.Ia=a;this.YXh=b;this.UZa=c;this.g4c=d;this.ei=e;this.cQj=f;this.scrollWidth=(SFs.G(this),CV(g=>{g=this.g4c(g);return this.kMd(g.Cwa)}))}};var QFs=class{static G(a){P(a,{_open:wV.ref,EYd:wV.shallow,Fye:wV.ref,Wva:wV.ref,Vza:mV,um:mV({equals:lV.shallow}),FUj:mV,mhh:mV,open:mV,Oxm:mV})}get Vza(){if(this.selection.La){var a=this.selection.La.inner,b=this.selection.La.Bg;return(a===null||a===void 0?void 0:a.type)!=="group"||a.group.type!=="group"||this.EYd.has(a.group)?b:a.group}}get um(){var a,b;return(b=(a=this.selection.La)===null||a===void 0?void 0:a.elements)!==null&&b!==void 0?b:[]}get FUj(){return this.Wva&&this.Wva.type==="fixed"?
this.LRm(this.Wva):[]}get mhh(){var a,b;return!!this.Wva&&((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"&&((b=this.selection.La.inner)===null||b===void 0?void 0:b.type)!=="sheet-cell-media"&&!this.Fdn(this.Wva)&&this.FUj.length>0&&!this.timing.Xt}get open(){if(this.timing.Xt)return!0;const a=this.Lw.isLinear||!this.u3d.get();return this._open&&this.Oxm&&a}get Oxm(){return this.document.pages.some(a=>a.type==="fixed"&&!!this.TXh(a).length)}constructor(a,b,c,d,e,f,g,h,k){this.document=
a;this.u3d=b;this.ei=c;this.vd=d;this.selection=e;this.Lw=f;this.eb=g;this.timing=h;this.HTr=k;this._open=(QFs.G(this),!1);this.EYd=new Set;this.wZn=()=>{this.Fye=this.Wva=void 0;this.EYd.clear()};this.emq=CV(l=>{const m=this.Fye;if(l===this.Wva&&m)return l.elements.filter(r=>m.has(r));const p=l.elements.filter(r=>r.jm==null);if(this.timing.Xt)return p;const q=this.vd.ub(l);return p.filter(r=>BFs({element:r},q))});this.TXh=CV(l=>{switch(l.type){case "fixed":if(this.Fdn(l))return[];break;case "concatenated-fixed":case "responsive":return[];
default:throw new v(l);}return this.emq(l).flatMap(m=>m.type==="group"&&m.Cd==null&&this.EYd.has(m)?m.mb.map(p=>({element:p,parent:m})):[{element:m}])});this.LRm=CV(l=>this.TXh(l).map(m=>m.element));this.AUj=CV(l=>{const m=this.vd.ub(l),p=this.TXh(l);switch(l.type){case "fixed":return p.map(({element:q,parent:r})=>{const {startUs:t,durationUs:u}=VWa(q,l,m,r);return{timing:{startUs:t,durationUs:u,endUs:t+u},parent:r,element:q}});case "concatenated-fixed":case "responsive":return[];default:throw new v(l);
}});KV((l,m)=>this.AUj(l).find(p=>p.element===m));this.Fdn=CV(l=>{l=this.eb.Zk(l);return!!xg(l)});dV(()=>{const l=e.La;if(!l)return{};const m=l.Qz;if(!m)return{};switch(m.type){case "responsive-page":case "concatenated-fixed-page":return{};case "fixed-page":break;default:throw new v(m);}return{Yo:m.page,um:l.elements}},({Yo:l,um:m})=>{if(l==null&&m==null&&this.FUj.length===0)this.wZn();else if(m!=null||l!==this.Wva)if(!l)this.Fye=new Set(m),this.Wva=void 0;else if(m===null||m===void 0||!m.every(q=>
{var r;return(r=this.Fye)===null||r===void 0?void 0:r.has(q)}))if(this.Wva=l,l.type!=="fixed")this.Fye=new Set;else if(h.Xt)this.Fye=void 0;else{var p=this.vd.ub(l);l=l.elements.filter(q=>((m===null||m===void 0?void 0:m.includes(q))||BFs({element:q},p))&&q.jm==null);this.Fye=new Set(l)}},{fireImmediately:!0});cps(()=>!f.AJ||this._open,()=>this._open=!0)}};var RFs=class{static G(a){P(a,{Sde:wV.ref})}Xha(a){var b,c,d;(c=this.Lk)===null||c===void 0||(b=c.SM)===null||b===void 0||b.call(c,new dp);const e=((d=this.GLd)===null||d===void 0?0:d.isRecording())?this.GLd:this.V.sb("trim",{Fb:{name:"element_timing.trim",type:a,performance:{rV:!0}}});setTimeout(()=>e.addEvent("trim_start"));this.GLd=e}eBa(a,b){a.startUs=b}VEa(a,b){a.endUs=b}ona(a,b,c,d,e,f){a=__c.xm(a,f);d&&(CFs(d,c,a,f),d.startUs&&(a.startUs=Math.max(a.startUs-d.startUs,0),a.endUs=Math.max(a.endUs-
d.startUs,a.startUs)));d=c.durationUs||f-(c.startUs||0);const g=a.endUs-a.startUs;if(c.type==="group")for(var h of c.mb){var k=Math.min(h.durationUs||Infinity,d-(h.startUs||0));const l=g-k;for(const m of wm.yI(h))cKe({vd:this.vd,HMc:k,fill:m,hVd:l,direction:b,Che:!1});h.startUs=void 0;h.durationUs=void 0}else{h=g-d;for(k of wm.yI(c))cKe({vd:this.vd,HMc:d,fill:k,hVd:h,direction:b,Che:!1})}c.startUs=a.startUs||void 0;__c.ZJe(c,f,a);DFs(this,e,f)}constructor(a,b,c,d,e){this.jd=a;this.vd=b;this.P=c;this.V=
d;this.Lk=e;this.GLd=(RFs.G(this),void 0);this.Sde=0}};var NFs=eV(({url:a})=>cV("div",{className:"fk73VQ",style:{backgroundImage:`url(${a})`}}));var OFs=eV(function({fill:a,vIb:b,Cf:c,width:d,height:e,Pia:f,Z2i:g}){const h=xV(()=>eV(({qla:l})=>cV(__c.b0h,{filter:c.bwa(a),G_:c.G_(a),qla:l})),[c,a]),k=xV(()=>g(a,b),[a,b,g]);iV(()=>{oV(()=>{k.update(d,e,f)})},[d,e,f,k]);return k.JU?cV("div",{className:"_6zdK6g",children:cV("div",{className:"SFFnlw",style:{right:k.qYe},children:cV(m_s,{gbf:h,tLq:k})})}):null}),m_s=eV(function({gbf:a,tLq:b}){const c=b.frameWidth;return b.bPm.map(({key:d,url:e,jt:f,oK:g,qHc:h,pHc:k,RZa:l,QZa:m})=>cV("div",{className:"Z3AqOw",
style:{width:c},children:cV(a,{qla:{url:e,jt:f,oK:g,qHc:h,pHc:k,frameWidth:l,frameHeight:m}})},d))});var KFs=eV(({element:a,page:b,FE:c,N6c:d})=>{a=a.zR?__c.zWb(c,b,a):a.text.Ya;return cV(Q,{weight:"bold",className:AV("wdYnGg",{Jxa4Mw:d}),alignment:"center",children:a})}),LFs=KV(a=>a.mb.every(b=>b.type==="text")),MFs=parseInt("22px",10)||26;var dGs=eV(({Cfc:a,store:b,L:c,Fmh:{height:d,top:e}})=>{const f=jV(null);iV(()=>c.init(),[c]);iV(()=>dV(()=>b.position,h=>{const k=f.current;k&&(k.style.transform=`translateX(${h}px)`)}),[f,b]);const g=gV(()=>{a&&f.current&&c.hide()},[a,c]);return cV("div",{ref:f,className:AV("PVPWdQ",{Q4Irjw:a,JE0jkg:b.hidden}),onTransitionEnd:g,children:cV("div",{className:"y8k_pA",style:{height:d.get()-e,top:e}})})});var n_s=parseInt("12px",10)||12,aGs=class{static G(a){P(a,{hidden:wV.ref,Cfc:wV.ref,position:wV.ref})}constructor(){this.hidden=(aGs.G(this),!1);this.Cfc=!1}},bGs=class{static G(a){P(a,{hide:fV.bound})}init(){return dV(()=>this.n_c.x,a=>{if(a==null)this.store.Cfc=!0,this.store.position=void 0;else{this.store.Cfc=!1;this.store.position=a;var b=this.currentTime.get();b=this.Lw.gRa(b*1E6);Math.abs(a-b)<=n_s?this.store.hidden=!0:(b=(b=this.n_c.currentNode)&&this.Njr(b),a=this.timing.Xt?!0:!!this.Lw.Qdk(a),
this.store.Cfc=!!b||!a,this.store.hidden=!a)}})}hide(){this.store.hidden=!0}constructor(a,b,c,d,e,f){this.store=a;this.Lw=b;this.n_c=c;this.currentTime=d;this.Njr=e;this.timing=f;bGs.G(this)}};var o_s=__webpack_require__.p+"images/f95f17d681b98bd710922cc9a3554ed0.svg";var p_s,q_s,r_s,s_s,t_s,u_s,v_s=parseInt("8px",10),w_s;
new (p_s=class extends IV{constructor(){super(w_s);r_s()}},(()=>{class a extends(s_s=GV){static G(b){P(b,{Tib:mV,kqo:mV})}componentDidMount(){Gb(this,[dV(()=>({currentTime:this.props.currentTime.get(),LEh:this.props.LEh.get()}),()=>this.scrollTimeline(),{scheduler:requestAnimationFrame,equals:lV.structural})])}get Tib(){const b=this.props.LEh;return this.props.Lw.gRa(this.props.currentTime.get()*1E6,{lfc:b.get()})}get kqo(){var b=this.props.Fmh;const c=b.height;b=b.top;return{height:mV(()=>c.get()+
v_s),top:b}}render(){const b=this.props.TDj,c=this.props.nAo,d=this.props.hidden,e=this.kqo,f=this.props.Fmh.height.get();return cV("div",{ref:b,className:AV("HktVqg",{_84KnnQ:c,JE0jkg:d}),style:{left:`${__c.ac().width/2}px`,height:f},children:cV(x_s,{className:"_hDk6Q",...e})})}constructor(...b){super(...b);this.scrollTimeline=(w_s.G(this),()=>{this.props.scrolling||this.props.hp.scrollTo({left:this.Tib,behavior:this.props.playing?void 0:"smooth"})})}}({c:[w_s,r_s]}=JV(a,[],[Lb],s_s))})(),p_s);var y_s;
new (q_s=class extends IV{constructor(){super(y_s);t_s()}},(()=>{class a extends(u_s=GV){static G(b){P(b,{VGf:wV.ref,xLe:wV.ref,Tib:mV,XKe:mV,onDragStart:fV,onDrag:fV,onDragEnd:fV})}componentDidMount(){this.Zfd.current&&(this.x7e=this.Zfd.current.hjb);Gb(this,[dV(()=>({playing:this.props.playing,XKe:this.XKe}),Db((b,c)=>{c!==null&&c!==void 0&&c.playing||!b.playing?this.Qel&&b.playing&&b.XKe&&this.Vel():(this.Qel=!0,b.XKe&&this.Vel())})),dV(()=>this.props.playing&&this.props.hp.scrollLeft,()=>this.Qel=
!this.XKe),Lrs(()=>{if(this.xLe){var b=so(this.props.currentTime.get(),"detailed");oV(()=>{this.currentTime.set(b);this.x7e()})}}),this.ohg,this.wMh])}componentWillUnmount(){var b;(b=this.Mym)===null||b===void 0||b.call(this)}get Tib(){var b=this.props.Lw,c=this.props.LEh;if(this.VGf!=null)return this.VGf;c=b.gRa(this.props.currentTime.get()*1E6,{lfc:c.get(),dub:this.props.dub.get()});const d=b.qOg;b=b.Qdk(c);return d&&!b?0:c}x7e(){}ocm(b){return this.props.Lw.QDg(this.nWd-b,{dub:this.props.dub.get()})/
1E6}GLp(b){const c=this.props.Lw,d=this.nWd-b;if((b=c.v0c.find(({width:e,offsetWidth:f})=>d<=f+e))&&!BV(c,b.page))return Math.min(Math.max(d,b.offsetWidth),c.Nfd)}get XKe(){const b=this.props.hp.scrollLeft,c=this.props.Lw.xvo;return c==null?!1:this.Tib<b||this.Tib>b+c}render(){var b=this.props.Fmh;const c=b.top;b=b.height;return kV("div",{ref:this.props.TDj,className:AV("XxN1Zw",{JE0jkg:this.props.hidden,_84KnnQ:this.props.nAo}),style:{transform:`translateX(${this.Tib}px)`},children:[cV("div",{className:"DkIUnw",
children:cV(PWs,{isOpen:this.xLe,ref:this.Zfd,children:this.currentTime})}),cV("div",{className:"aORW0w",onPointerDown:this.onDragStart,onClick:this.onClick,children:cV("img",{className:"tlvoag",src:o_s,alt:"",draggable:!1})}),cV(x_s,{top:c,height:b,className:"y8k_pA"})]})}constructor(...b){super(...b);this.overlay=(y_s.G(this),void 0);this.currentTime=wV.box("");this.Zfd=HV();this.Oym=void 0;this.bNb=this.Wri=this.l3n=this.nWd=0;this.VGf=void 0;this.xLe=!1;this.Qel=!0;this.Vel=()=>{const c=this.props.hp,
d=c.offsetWidth;d!=null&&c.scrollTo({left:this.Tib-(d-200)/2,behavior:"smooth"})};this.onDragStart=c=>{const d=this.props.onDragStart,e=this.props.hp;this.qHj();this.Oym=c.clientX;this.nWd=this.Tib;this.l3n=e.scrollLeft;this.xLe=!0;d===null||d===void 0||d(c.nativeEvent);document.addEventListener("pointermove",this.onDrag);document.addEventListener("pointerup",this.onDragEnd);this.Mym=dV(()=>e.scrollLeft,this.sUr)};this.qHj=()=>{this.overlay=document.createElement("div");this.overlay.className="cG5xBQ";
document.body.appendChild(this.overlay)};this.wMh=()=>{this.overlay&&document.body.removeChild(this.overlay);this.overlay=void 0};this.onClick=c=>{c.stopPropagation();c.nativeEvent.stopImmediatePropagation()};this.sUr=()=>{this.bNb=this.l3n-this.props.hp.scrollLeft;const c=this.ocm(this.Wri+this.bNb);this.props.zuc(c)};this.onDrag=c=>{this.Wri=(this.Oym||c.clientX)-c.clientX;var d=this.Wri+this.bNb;const e=this.GLp(d);d=this.ocm(d);this.props.onDrag&&this.props.onDrag(c);e?(this.VGf=e,this.xLe=!1):
(this.VGf=void 0,this.props.zuc(d),this.xLe=!0)};this.onDragEnd=()=>{var c,d;this.wMh();this.bNb=this.Wri=0;this.VGf=void 0;this.xLe=!1;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d);this.XKe&&this.Vel();this.ohg()};this.ohg=()=>{var c;document.removeEventListener("pointermove",this.onDrag);document.removeEventListener("pointerup",this.onDragEnd);(c=this.Mym)===null||c===void 0||c.call(this)}}}({c:[y_s,t_s]}=JV(a,[],[Lb],u_s))})(),q_s);
var x_s=eV(a=>cV("div",{className:a.className,style:{top:a.top,height:a.height.get()-a.top}})),z_s=cXs(y_s),$Fs=a=>a.Ao?cV(w_s,{...a}):cV(z_s,{...a});var fGs=class{static G(a){P(a,{Q_i:wV.ref,m5i:wV.ref,lYi:wV.ref,njk:wV.ref,cbo:fV.bound})}cbo(a){this.njk=a}constructor(a,b,c){this.Lw=a;this.qA=b;this.uz=c;this.Q_i=(fGs.G(this),0);this.lYi=this.m5i=0;this.njk=!1;this.Bw=[dV(()=>this.Lw.PF,d=>{this.m5i>=2||d||this.m5i++}),dV(()=>this.Lw.Khi,d=>{this.lYi>=2||d||this.lYi++}),dV(()=>this.qA.YKe,d=>{this.Q_i>=2||d||this.Q_i++}),cps(()=>{const d=this.Q_i>=2||this.lYi>=2||this.m5i>=2;return this.njk&&d},()=>{var d,e,f;(d=(e=this.uz).ino)===null||d===void 0||
d.call(e);(f=this.Bw)===null||f===void 0||f.forEach(g=>g());this.Bw=void 0})]}};var A_s=parseInt("2px",10)||4,B_s=DV(({offset:a})=>cV("div",{className:"iFVm7g",style:{left:a-A_s/2}})),C_s=DV(({offset:a,MMk:b})=>cV("div",{className:"iFVm7g",style:{left:a-A_s/2,width:b-a}})),D_s=DV(({offset:a,label:b})=>cV("div",{className:"_8ONx2g",style:{left:a},children:cV(Q,{size:"small",tone:"tertiary",children:b})})),E_s=eV(({store:a})=>a.oym.map((b,c)=>cV(B_s,{...b},`dot-${c}`))),F_s=eV(({store:a})=>a.nvo.map((b,c)=>cV(D_s,{...b},`time-${c}`))),G_s=eV(({store:a})=>a.Zgn.map((b,c)=>cV(C_s,
{...b},`line-${c}`))),jGs=eV(({store:a,xw:b})=>cV("div",{className:"aPu08w",style:{paddingLeft:b.kdb,marginLeft:-b.kdb},children:kV("div",{className:"vYMgIg",children:[cV(E_s,{store:a}),cV(F_s,{store:a}),cV(G_s,{store:a})]})}));var H_s=[{BU:{from:0,to:.15},fOb:3E7,WLb:4},{BU:{from:.15,to:.2},fOb:3E7,WLb:3},{BU:{from:.2,to:.3},fOb:15E6,WLb:2},{BU:{from:.3,to:.35},fOb:15E6,WLb:3},{BU:{from:.35,to:.45},fOb:15E6,WLb:4},{BU:{from:.45,to:.55},fOb:1E7,WLb:3},{BU:{from:.55,to:.75},fOb:1E7,WLb:4},{BU:{from:.75,to:1.15},fOb:5E6,WLb:3},{BU:{from:1.15,to:1.45},fOb:5E6,WLb:4},{BU:{from:1.45,to:1.55},fOb:4E6,WLb:3},{BU:{from:1.55,to:1.85},fOb:4E6,WLb:4},{BU:{from:1.85,to:3.05},fOb:2E6,WLb:3},{BU:{from:3.05,to:3.75},fOb:2E6,WLb:4},{BU:{from:3.75,
to:5},fOb:1E6,WLb:3}],iGs=class{static G(a){P(a,{NMd:mV,lah:mV,I2n:mV({equals:lV.shallow}),BGm:mV,Ayk:mV,wIm:mV,Xfl:mV.struct,sBl:mV.struct,marks:mV,Zgn:mV({equals:mk(lV.shallow)}),nvo:mV({equals:mk(lV.shallow)}),oym:mV({equals:mk(lV.shallow)})})}get NMd(){return yV.Bxq?this.xw.NMd:{start:-Infinity,end:Infinity}}get lah(){const a=this.fG.BU;return H_s.find(({BU:b})=>b.from<=a&&a<b.to)||H_s.at(-1)}get I2n(){const a=[],b=this.NMd.start,c=this.NMd.end;for(let d=0;d<this.xw.D6b.length;d++){const e=this.xw.D6b[d];
if(!(e.offsetWidth+e.width<b)){if(e.offsetWidth>c)break;a.push(e)}}return a}get BGm(){const a=this.xw.D6b;for(let b=a.length-1;b>-1;b--){const {qda:c,durationUs:d,page:e}=a[b];if(BV(this.xw,e))return c+d}return 0}get Ayk(){return n(this.xw.D6b.at(-1))}get wIm(){var a;const b=(a=this.R1j.get())!==null&&a!==void 0?a:0;a=this.lah.fOb/(this.lah.WLb+1);return Math.ceil(b/a)*a}get Xfl(){var a=c=>c/this.xw.fBa*1E6;const b=a(this.Ayk.offsetWidth+this.Ayk.width);a=Math.max(a(this.hp.clientWidth-this.xw.kdb-
40)-b,a(this.xw.y9h),this.wIm-b);return{X9f:b,C1k:this.BGm,durationUs:a,E3i:!0}}get sBl(){const a=[],b=e=>e/this.xw.fBa*1E6,c=this.I2n.map(({page:e,offsetWidth:f,qda:g,durationUs:h})=>({X9f:b(f),C1k:g,durationUs:h,E3i:BV(this.xw,e)})),d=b(this.NMd.end);this.Xfl.X9f<d&&c.push(this.Xfl);c.forEach(e=>{const f=a.at(-1);f?f.E3i!==e.E3i?a.push(e):Math.abs(f.X9f+f.durationUs-e.X9f)<1E-4?f.durationUs+=e.durationUs:a.push(e):a.push(e)});return a}get marks(){var a;const b=[],c=[],d=[],e=this.xw.fBa,f=this.NMd.start,
g=this.NMd.end,h=this.lah.fOb,k=h/(this.lah.WLb+1);var l,m=-((l=(a=this.sBl[0])===null||a===void 0?void 0:a.C1k)!==null&&l!==void 0?l:0)%k;for(const w of this.sBl){a=w.X9f;l=w.durationUs;const x=w.C1k;if(w.E3i){if(p){p.MMk=Math.min(p.MMk,a*e-10);var p=void 0}for(;m<l+1;m+=k){const y=Math.round((a+m)/1E6*e);if(y<f)continue;if(y>g)break;const z=(x+m)/1E6;Math.round(x+m)%h===0?b.push({type:"time",offset:y,second:z,label:so(Math.round(z*100)/100,"shorter")}):c.push({type:"dot",offset:y,second:z})}m=k-
(x+l)%k}else{var q,r;p=x/1E6;l=(a+l)/1E6;var t,u;a=Math.max(a/1E6*e,((t=(q=c.at(-1))===null||q===void 0?void 0:q.offset)!==null&&t!==void 0?t:0)+10,((u=(r=b.at(-1))===null||r===void 0?void 0:r.offset)!==null&&u!==void 0?u:0)+10);p={type:"line",second:p,offset:a,MMk:l*e};d.push(p)}}return{line:d,time:b,dot:c}}get Zgn(){return this.marks.line}get nvo(){return this.marks.time}get oym(){return this.marks.dot}constructor(a,b,c,d){this.xw=a;this.fG=b;this.hp=c;this.R1j=d;iGs.G(this)}};var hGs=parseInt("24px",10)||24;var QIs=({QM:a,config:b,Df:c,IP:d,a2i:e=!0})=>{const f=b.udg,g=c.Qjb,h=()=>d.clear();c=eV(()=>cV(g,{navigation:d,open:!!d.screen,oa:h}));const k=(m,p)=>{d.Zg({$e:()=>cV(p,{}),options:{sg:m}})},l=eV(({fill:m})=>{const [p,q]=nV({eL:!1,Tuk:!1,W0e:!1}),r=jV(void 0);iV(()=>()=>{r.current&&clearTimeout(r.current)},[]);const t=gV(()=>{r.current&&(clearTimeout(r.current),r.current=void 0);p.W0e||q(K=>({...K,eL:!0}))},[p.W0e]),u=gV(()=>{r.current||p.W0e||(r.current=setTimeout(()=>{q(K=>({...K,eL:!1}));r.current=
void 0},250))},[p.W0e]),w=gV(K=>{q(N=>K?{...N,Tuk:!0,W0e:!0}:{...N,Tuk:!1,W0e:!1,eL:!1})},[]),x=Ub()||p.eL||p.W0e||p.Tuk,y=[f.Fij].filter(vb),z=y.length>0,A=b.Fje;if(!z&&!A)return null;let B=[],D=null;var G=!1;if(z){var I;D=y[0];G=(D===null||D===void 0?void 0:D.isDisabled(m))||!1;B=y.map(K=>({get label(){return K.getLabel(m)},get disabled(){return K.isDisabled(m)||!a.KN},onClick:()=>K.onClick(m),na:({lq:N})=>cV(K.na,{fill:m,lq:N,Ber:K===D})}));G=!G&&(m===null||m===void 0?void 0:(I=m.transition)===
null||I===void 0?void 0:I.ref)!==void 0}return kV("div",{className:"grI1Wg",onMouseEnter:t,onMouseLeave:u,children:[x&&A&&cV("div",{className:"e3804w",children:cV(A,{size:"s",shape:"round",fill:m,fTk:w})}),x&&z&&cV("div",{className:"e3804w",children:cV(sWs,{hidden:!1,pio:G,ei:!1,label:L("v4jmbQ"),HCn:k,items:B,KMj:0,lq:p.eL,a2i:e})})]})});return{ivh:c,Vje:l}};var lGs=class{static G(a){P(a,{xHk:wV.ref,MEk:wV.ref,Roi:wV.ref,BEf:wV.ref,bGo:fV,WEo:fV})}bGo(a,b){this.Roi=Math.min(a,this.Roi);this.BEf=Math.max(b,this.BEf);this.xHk=a;this.MEk=b}WEo(a){this.BEf=Math.max(a,this.BEf)}constructor(){this.xHk=(lGs.G(this),0);this.MEk=0;this.Roi=Number.MAX_VALUE;this.BEf=20;this.DUq=CV(a=>({isVisible:a>=this.xHk&&a<=this.MEk,ODs:a>=this.Roi&&a<=this.BEf}))}};var nGs=class{constructor(a,b,c){this.vIa=a;this.eua=b;this.sWd=c;this.yTq=CV(d=>{if(!this.sWd.Tjk||!this.sWd.G6d||this.sWd.yHb)return 0;const e=this.eua.Xuf(this.vIa.scenes,d);return this.eua.Xuf(this.sWd.G6d,d)-e})}};var FGs=eV(({connectDropTarget:a,store:b,children:c})=>{const d=gV(e=>{b.Fqg=e!==null&&e!==void 0?e:void 0},[b]);return a(cV("div",{ref:d,className:AV("rFk8Ow",{buvpww:b.yHb}),style:{minWidth:b.minWidth},children:c}))});var EGs=class{static G(a){P(a,{onDragEnter:fV.bound,onDragOver:fV.bound,onDragLeave:fV.bound,onDrop:fV.bound})}yHb(){this.store.yHb=!0}bQj(){CGs(this.store);this.store.yHb=!1;this.oga.fNg=!1}onDragEnter(a){const b=this.store.Fqg;if(rGs(this,a)&&b){this.store.bce=vGs(this,a);this.store.Mvc={top:this.hp.scrollTop,left:this.hp.scrollLeft};var {top:c,left:d}=b.getBoundingClientRect();this.store.jSc={top:c,left:d};this.oga.fNg=!0}}onDragOver(a){this.store.JSa={x:a.Rx.x,y:a.Rx.y};a.start?this.store.Z3g=
a.start.YBa.x:this.oga.Pxe&&(this.store.Z3g=this.oga.Pxe.x)}onDragLeave(){this.oga.fNg=!1;CGs(this.store)}async onDrop(a,b){const c=this.vIa.scenes[b.index];switch(a.type){case "timelineItems":if(a.sh.length){var d=a.sh.map(f=>this.vIa.l3h(f)).filter(vb);IGs(this.GMa,d,c);break}if(!a.elements.every(f=>sGs(this,f)))throw Error("Received unsupported elements on drop");const e=await KGs(this.GMa,a.elements);oV(()=>{if(b.type==="replace"){__c.ta(e.length,1);var f=this.GMa,g,h=c.durationUs,k=f.page.Oc.replace(c.fill,
e[0]);f=f.vd.TK(k);h=k.video.ref?Math.min(f,h):h;f!==h&&(k.durationUs=h,k=k.video.ref)&&(f=((g=k.trim)===null||g===void 0?void 0:g.startUs)||0,k.trim={startUs:f,endUs:f+h})}else this.GMa.page.Oc.Zca(c===null||c===void 0?void 0:c.fill,e);g=this.vIa.page;for(const l of a.elements)g.ja.elements.has(l)&&g.ja.elements.delete(l)});break;case "video":return b.type==="replace"?MGs(this.GMa,c,a.video):NGs(this.GMa,a.video,c);case "searchMedia":return d=Dhf(a.media),b.type==="replace"?OGs(this.GMa,c,d):PGs(this.GMa,
d,c);default:throw new v(a);}}constructor(a,b,c,d,e,f,g,h){this.Pa=a;this.Zb=b;this.hp=c;this.store=d;this.Cah=e;this.oga=f;this.vIa=g;this.GMa=h;this.V_p=(EGs.G(this),k=>{k=n(this.vIa.l3h(k));this.GMa.Uxb(k)||oGs(this.GMa,k);this.store.bce=this.vIa.a_e;return{page:this.vIa.page,elements:[],sh:[k.fill]}})}};var iHs=class{NHj(a){const b=n(a.video.ref),c=this.vd;return BGs({type:0,key:this.generateKey(),fill:a,aaa:b,get trim(){return __c.xm(b.trim,this.NS)},get durationUs(){return c.TK(this.fill)},get NS(){return c.b8j(b)}},{trim:mV,durationUs:mV,NS:mV})}generateKey(){return this.oFr++}constructor(a){this.vd=a;this.oFr=0}};var DGs=class{static G(a){P(a,{Mvc:wV.struct,jSc:wV.ref,JSa:wV.struct,Z3g:wV.ref,bce:wV.ref,yHb:wV.ref,aWa:mV,fEd:mV,Rqd:mV,bNb:mV,hzd:mV,Aqi:mV,FZm:mV,minWidth:mV,AJg:mV,G6d:mV,Tjk:mV,dTj:mV})}get aWa(){if(this.fEd){var {x:a,y:b}=this.fEd;this.Z3g&&(a-=this.Z3g);return{x:Math.max(0,a),y:b}}}get fEd(){if(this.JSa&&this.Rqd)return{x:this.JSa.x-this.Rqd.x,y:this.JSa.y-this.Rqd.y}}get Rqd(){if(this.jSc)return{x:this.jSc.left-this.bNb.left,y:this.jSc.top-this.bNb.top}}get bNb(){return this.Mvc?{top:this.hp.scrollTop-
this.Mvc.top,left:this.hp.scrollLeft-this.Mvc.left}:{top:0,left:0}}get uDc(){return this.vIa.scenes}get hzd(){if(this.oga.lW)return this.uDc.filter(a=>this.oga.y$m(a.fill))}get Aqi(){var a;return(a=this.bce)===null||a===void 0?void 0:a.filter(b=>{var c;return b.type===4||!((c=this.hzd)===null||c===void 0?0:c.includes(b))})}get FZm(){var a;return!((a=this.Aqi)===null||a===void 0||!a.length)}get minWidth(){var a;const b=this.ncd.Nfk(this.uDc),c=((a=this.Aqi)===null||a===void 0?0:a.length)?this.ncd.Nfk(this.Aqi):
0;return b+c+50}get AJg(){var a;const b=(a=this.aWa)===null||a===void 0?void 0:a.x;if(b!=null){var c=this.ncd.cTm(this.uDc),d=this.ncd.Nfk(this.uDc),e=0;a="insertBefore";b>=d?e=this.uDc.length:(e=c.findIndex(f=>f>b),e=e<0?c.length-1:Math.max(0,e-1),c=c[e],d=this.ncd.axb(this.uDc[e]),c=(b-c)/d,this.FZm?c>.2&&c<.8?a="replace":c>=.8&&e++:c>.5&&e++);return{index:e,type:a}}}get G6d(){var a,b;if(this.oga.Kpc&&((a=this.hzd)===null||a===void 0?0:a.length))return this.uDc.filter(d=>{var e;return!((e=this.hzd)===
null||e===void 0?0:e.includes(d))});a=this.AJg;if(a==null||a.type==="replace")return this.uDc;var c=a.index;a=this.uDc.slice(0,c);c=this.uDc.slice(c);if((b=this.hzd)===null||b===void 0?0:b.length)a=a.filter(d=>{var e;return!((e=this.hzd)===null||e===void 0?0:e.includes(d))}),c=c.filter(d=>{var e;return!((e=this.hzd)===null||e===void 0?0:e.includes(d))});return[...a,...(this.bce||[]),...c]}get Tjk(){var a;return(a=this.G6d)!==null&&a!==void 0&&a.length&&this.vIa.scenes!==this.G6d?this.vIa.scenes.length!==
this.G6d.length?!0:!this.vIa.scenes.every((b,c)=>{var d;return b===((d=this.G6d)===null||d===void 0?void 0:d[c])}):!1}get dTj(){var a;const b=this.AJg;if((b===null||b===void 0?void 0:b.type)==="replace")return[this.uDc[b.index]];if(this.bce)return this.bce;if(((a=this.hzd)===null||a===void 0?0:a.length)&&!this.oga.Kpc)return this.hzd}constructor(a,b,c,d){this.hp=a;this.vIa=b;this.oga=c;this.ncd=d;this.Fqg=(DGs.G(this),void 0);this.yHb=!1;CV(e=>{var f;return!((f=this.bce)===null||f===void 0||!f.includes(e))});
this.RPq=CV(e=>this.ncd.Xuf(this.G6d,e))}};var GGs=["video","searchMedia","timelineItems"];var kHs=class{static G(a){P(a,{h2g:mV,NDe:mV({equals:lV.structural})})}get page(){return this.store.page.ja}get Pe(){return this.store.page}get scenes(){return this.store.scenes}get a_e(){return this.store.a_e}get h2g(){return ug(4,this.store.Hg)}get NDe(){return Qj({top:0,left:0,width:this.h2g.width,height:this.h2g.height})}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.vd=b;this.sc=c;this.zl=d;this.Pa=e;this.Zb=f;this.og=g;this.t1b=h;this.qA=k;this.Uxb=(kHs.G(this),CV(l=>{var m;return!((m=this.store.gm)===
null||m===void 0||!m.mc(this.page,l.fill))}))}},LGs=class{constructor(a,b,c){this.Ls=a;this.fill=b;this.zq=c;this.type=0;this.allow={background:!0,iTd:!0};this.bleed=0}};var jHs=class{static G(a){P(a,{Exf:wV.ref,scenes:mV,a_e:mV({equals:lV.shallow}),Oqa:mV({equals:lV.shallow}),gm:mV})}get Hg(){return ug(4,this.eb.Zk(this.page.ja))}get scenes(){return this.page.ja.Oc.map(this.r4p)}get a_e(){const a=this.gm;return a?this.scenes.filter(b=>a.mc(this.page.ja,b.fill)):[]}get Oqa(){return this.a_e.map(a=>a.fill)}get gm(){var a;const b=(a=this.og.La)===null||a===void 0?void 0:a.inner;if((b===null||b===void 0?void 0:b.container.type)!=="section-marker"&&(b===null||b===void 0?
void 0:b.type)==="background"&&b.container.ja===this.page.ja)return b}constructor(a,b,c,d,e){this.yi=a;this.page=b;this.eb=c;this.Cah=d;this.og=e;this.Exf=(jHs.G(this),void 0);this.l3h=CV(f=>this.scenes.find(g=>g.fill===f));this.tfr=CV(f=>!!this.l3h(f));this.r4p=CV(f=>tGs(this.Cah,f))}};var VGs=eV(({scene:a,hidden:b})=>{const c=TGs(a);return cV(R,{display:"flex",flexWrap:"wrap",justifyContent:"start",alignItems:"end",position:"absolute",inset:"0",Jb:"1u",Mc:"0.5u",className:AV("D1oVlw",{_0DR3Cg:b,qtAvWg:c.textColor==="white"}),qmg:{"--5EXqpQ":c.textShadow},children:cV(Q,{size:"small",weight:"bold",tone:jr,children:cV(__c.aE,{seconds:a.durationUs/1E6,format:"short"})})})});var UGs=parseInt("2px",10)||2;var mHs=class{constructor(a,b){this.X6e=a;this.ace=b;this.axb=CV(c=>{if(c.type===4)return this.X6e.kMd(c.durationUs);c=this.ace.IFe(c);return this.X6e.kMd(c.durationUs)});this.SUm=CV(c=>c.map(d=>this.axb(d)));this.Nfk=CV(c=>this.SUm(c).reduce((d,e)=>d+e,0));this.cTm=CV(c=>{const d=[0];for(let e=0;e<c.length-1;++e)d.push(d[e]+this.axb(c[e]));return d});this.Xuf=KV((c,d)=>{const e=this.cTm(c);c=c.indexOf(d);return e[c]||0});this.rSq=CV(c=>{c=c.reduce((d,e)=>{const f=this.ace.IFe(e).trim;return d+Math.max(0,
f.startUs-e.trim.startUs)},0);return this.X6e.kMd(c)})}};var XGs=eV(({aFa:a,vIa:b,NSq:c,tUq:d,fill:e,tgr:f,mc:g})=>{const {Wul:h,e0h:k}=d(e),[l,m]=nV(!1),[p,q]=nV(!1);iV(()=>{var r,t=((r=a.qii)===null||r===void 0?0:r.get())&&b.Oqa.length>0?b.Oqa:void 0;r=b.Exf?b.Exf:void 0;t=[...(t?t:[]),r];r=c(e);m(r?t.includes(r):!1);q(f(e)?!1:t===null||t===void 0?void 0:t.includes(e))},[a,b.Oqa,b.Exf,e,f,c]);return kV(rV,{children:[cV(MWs,{position:"end",width:k,isVisible:p,mc:g,tUa:!1}),cV(MWs,{position:"start",width:h,isVisible:l,mc:g,tUa:!1})]})});var $Gs=({color:a})=>cV("div",{className:"_1Uh6vA",style:{backgroundColor:a}});var ZGs=()=>cV("div",{className:"rPORHQ"});var aHs=({gradient:a,height:b,width:c})=>(a=__c.v1f(a))?cV(__c.O5g,{className:"o9ZNbg",sh:[a],height:b,width:c}):cV(ZGs,{});var fHs=class{constructor(a){this.IFe=a;this.Mir=CV(b=>b.some(c=>this.IFe(c).e$b));this.xDp=CV(b=>b.some(c=>this.IFe(c).Ala.isVisible));this.wDp=CV(b=>b.some(c=>this.IFe(c).A6j.show))}};var eHs=class{static G(a){P(a,{Xha:fV.bound,eBa:fV.bound,VEa:fV.bound,cHn:fV.bound,vpb:fV.bound,wpb:fV.bound})}Xha({type:a}){var b;a!=="fullWidth"&&((b=this.qA)===null||b===void 0||b.f0e({direction:a}),this.rbb.lKb={startUs:this.scene.trim.startUs,endUs:this.scene.trim.endUs},this.rbb.esb=a,this.rbb.pjh=this.rbb.aWa)}eBa(a){this.rbb.lKb&&(this.rbb.lKb.startUs=a-this.rbb.JYe+this.scene.trim.startUs)}VEa(a){this.rbb.lKb&&(this.rbb.lKb.endUs=a-this.rbb.JYe+this.scene.trim.startUs)}cHn(){var a;if(this.rbb.lKb&&
this.rbb.esb){(a=this.qA)===null||a===void 0||a.LXe();a=this.rbb.lKb;a.endUs=Math.max(a.startUs+1E5,a.endUs);a=a.endUs-a.startUs;var b=this.scene.fill.video.ref;if(b){const c=this.vd.IUb(b);cKe({vd:this.vd,HMc:c,fill:b,hVd:a-c,direction:this.rbb.esb,Che:!1});this.scene.fill.durationUs=this.vd.IUb(b)}else this.scene.fill.durationUs=a;this.rbb.lKb=void 0;this.rbb.esb=void 0;this.rbb.pjh=void 0}}vpb(){this.rbb.eL=!0}wpb(){this.rbb.eL=!1}constructor(a,b,c,d){this.vd=a;this.scene=b;this.rbb=c;this.qA=
d;eHs.G(this)}};var dHs=class{static G(a){P(a,{lKb:wV.shallow,esb:wV.ref,eL:wV.ref,pjh:wV.ref,e$b:mV,trim:mV,JYe:mV,M2n:mV,OMa:mV,Cwa:mV,durationUs:mV,isDisabled:mV,Ala:mV,A6j:mV,aWa:mV,width:mV,ptd:mV,Uql:mV,mc:mV})}get e$b(){return!!this.esb&&!!this.lKb}get trim(){var a;return(a=this.lKb)!==null&&a!==void 0?a:this.scene.trim}get JYe(){let a=0;for(const b of this.GMa.scenes){if(b===this.scene)break;a+=b.durationUs}return a}get M2n(){var a,b;const c=((b=(a=this.lKb)===null||a===void 0?void 0:a.startUs)!==null&&b!==
void 0?b:0)-this.scene.trim.startUs;return this.esb==="start"?this.JYe+c:this.JYe}get OMa(){return this.scene.NS<Infinity?this.JYe-this.scene.trim.startUs:-Infinity}get Cwa(){return this.JYe+this.scene.NS-this.scene.trim.startUs}get durationUs(){return this.lKb?this.lKb.endUs-this.lKb.startUs:this.scene.durationUs}get isDisabled(){return this.UZa.PF||this.ei.get()&&(!this.mc||this.GMa.a_e.length>1)}get Ala(){if(Fc.Z7){const a=this.e$b&&this.pjh?this.pjh:this.aWa;return{type:"pointer",aWa:a,isVisible:!this.isDisabled&&
(a==="outside"||this.ptd&&(this.eL||this.e$b)),Nwg:this.pjh!==a||!this.ptd,S2i:this.mc?2:void 0,zxf:this.mc?2:void 0,borderRadius:this.mc?6:void 0,z1f:!0}}return{type:"touch",isVisible:this.mc}}get A6j(){return{show:!this.isDisabled&&this.Uql,appearance:Fc.Z7?"dark":"light"}}get aWa(){return this.Uql?"outside":"inside"}get width(){return this.X6e.kMd(this.durationUs)}get ptd(){return this.width>50}get Uql(){return this.GMa.Uxb(this.scene)&&!this.ptd}get mc(){return this.GMa.Uxb(this.scene)}constructor(a,
b,c,d,e){this.scene=a;this.GMa=b;this.UZa=c;this.X6e=d;this.ei=e;this.lKb=(dHs.G(this),void 0);this.eL=!1}};var lHs=class{i1k(a){return a/this.UZa.fBa*1E6}kMd(a){return a/1E6*this.UZa.fBa}constructor(a){this.UZa=a}};var I_s,J_s,K_s,tHs;
new (I_s=class extends IV{constructor(){super(tHs);J_s()}},(()=>{class a extends(K_s=GV){static G(b){P(b,{pfm:mV,Rrc:fV})}get pfm(){return __c.ac().width/2}render(){const b=this.props.W2b,c=this.props.Oid,d=this.props.QM,e=this.props.Lpb,f=this.props.dEg,g=this.props.xw,h=this.props.jE;return kV("div",{className:AV("tVFZ0A",{CHptUg:wb.pd}),style:{width:d.ei&&g.sfb?this.pfm:"auto"},children:[cV("div",{className:AV("M0SWqA",{AehUnQ:g.isLinear}),onClick:k=>k.stopPropagation(),children:cV(b,{isDragging:!!d.lNa,
transition:wb.pd?"height 300ms":void 0,dimensions:f,WJ:e.WJ(),xh:e.xh,z2b:this.props.z2b,u7d:this.Rrc,OD:d.OD,jE:h})}),cV(c,{page:void 0,ezm:"fixed",uzg:!0})]})}constructor(...b){super(...b);this.Rrc=(tHs.G(this),()=>{const c=this.props.Rrc,d=this.props.qA;c();d&&(d.stop(),d.lic=!1)})}}({c:[tHs,J_s]}=JV(a,[],[Lb],K_s))})(),I_s);var L_s,M_s,N_s,O_s=parseInt("24px",10),qHs;
new (L_s=class extends IV{constructor(){super(qHs);M_s()}},(()=>{class a extends(N_s=GV){static G(b){P(b,{n6c:mV,Tgi:mV,Bwn:fV,Awn:fV,Cwn:fV,jMg:mV})}get n6c(){const b=this.props.Ia,c=this.props.page.page;return!!b.pages.last()&&b.pages.last()===c}get Tgi(){const b=this.props.jKq;return this.n6c||!!b}get jMg(){return this.props.dIp===this.props.Vb}render(){const b=this.props.QM,c=this.props.wn,d=this.props.page,e=this.props.Vb,f=this.props.iyc,g=this.props.ceh,h=this.props.Tpl,k=this.props.Fyc,l=
this.props.UKe,m=this.props.onContextMenu,p=this.props.bNa,q=this.props.I1e,r=this.props.$be,t=this.props.tUa,u=()=>g(void 0),w=()=>g(d.page);return kV("div",{className:"m_zkbg",children:[cV(this.props.Bwh,{Rel:this.props.Rel,page:d.page,d2:this.props.d2,dimensions:r,qjq:r.height,IGd:this.props.IGd,xec:q?h(d.page):!0,children:cV(k,{page:d,yd:e+1,isDragging:l,visible:q,A0t:l,dimensions:r,onClick:p,onContextMenu:m,wn:c})}),f&&kV("div",{className:AV("deszfw",{iQZevg:this.Tgi}),onMouseLeave:this.Awn,
style:{width:this.jMg?void 0:0},children:[cV("div",{className:AV("_2mudww",{JMhm4Q:this.jMg,_3sjdIg:q&&b.isDragging,ca0eiA:t}),onMouseEnter:this.Bwn}),cV("div",{onMouseDown:this.PNk,onMouseEnter:w,onMouseLeave:u,className:AV({_1ZO3Mg:!this.Tgi,u1Xjlw:!this.Tgi&&wb.pd}),style:{width:!t&&this.jMg?O_s:0},children:cV(f,{page:d.page,eL:this.jMg,JSk:this.Cwn})})]})]})}constructor(...b){super(...b);this.PNk=(qHs.G(this),()=>{const c=this.props.PNk,d=this.props.ceh;c===null||c===void 0||c();d(this.props.page.page)});
this.Bwn=()=>{const c=this.props.cUf;c(this.props.Vb)};this.Awn=()=>{const c=this.props.cUf;c(void 0)};this.Cwn=c=>{const d=this.props.cUf,e=this.props.Vb;d(c.lq?e:void 0,c.immediate)}}}({c:[qHs,M_s]}=JV(a,[],[Lb],N_s))})(),L_s);var P_s,Q_s,R_s,sHs;
new (P_s=class extends IV{constructor(){super(sHs);Q_s()}},(()=>{class a extends(R_s=GV){static G(b){P(b,{$be:mV.struct,zvo:mV,y3n:mV.struct,Xio:mV,bNa:fV,cUf:fV,bcm:mV.struct,$fi:mV,opl:mV,y6f:mV,x6f:mV,pSl:mV,x4f:mV,I1e:mV})}get $be(){this.props.qOg&&this.Ifn||(this.Ifn=this.jxj(this.props.page.page));return this.Ifn}get zvo(){const b=this.props.xw,c=this.props.Hg;return this.props.gWa||!b.dfb?0:b.v0c.reduce((d,{width:e,paddingRight:f})=>d+Math.min(e,c.width)+f,0)}get y3n(){const b=this.props.xw;
if(!this.props.gWa&&b.dfb)return Qj({top:0,left:this.props.sgd-(this.props.hp.clientWidth||0)/2,width:this.zvo,height:0})}get Xio(){const b=this.props.xw;var c=this.props.Ia;const d=this.props.page.page,e=this.props.Vb,f=this.props.fG;if(b.isLinear&&gIs(b,e))return!0;c=b.N6e===d||b.N6e===c.pages.next(d);return b.XUe&&!f.AJ&&c}get bcm(){var b=this.props.page.page,c=this.props.Ia.pages.previous(b);c=c&&this.jxj(c);b=this.jxj(b);return{left:c?-c.width/2:-b.width/2,right:b.width/2}}get $fi(){return this.props.store.x3h===
this.props.page.page}get opl(){const b=this.props.store,c=this.props.page.page;return!b.K3d(c)&&this.$fi&&b.g9h(c).length>=1&&b.eSq(c)+b.dSq(c)>4}get y6f(){const b=this.props.Qf;return this.props.fG.AJ&&this.$fi&&b.y6f||VHs}get x6f(){const b=this.props.store,c=this.props.page,d=this.props.Qf;return this.props.fG.AJ&&b.jxd(c.page)&&d.x6f||VHs}get pSl(){const b=this.props.Qf;return this.opl&&b.qSl||VHs}get x4f(){const b=this.props.Qf;return this.opl&&b.x4f||VHs}get I1e(){const b=this.props.UKe;return this.props.Hzb===
"visible"||b}render(){const b=this.props.store,c=this.props.Rpp,d=this.props.iyc,e=this.props.Fyc,f=this.props.Oid,g=this.props.glp,h=this.props.wn,k=this.props.xw,l=this.props.page,m=this.props.Vb,p=this.props.w5r,q=this.props.PDs;return kV("div",{ref:this.uta,className:"KyZmNQ",style:!q&&p||k.isLinear?{width:p,height:"100%"}:{},children:[q&&kV(rV,{children:[cV(this.y6f,{}),cV(this.x6f,{}),cV(this.x4f,{}),cV(this.pSl,{}),cV(c,{page:l,Vb:m,iyc:this.I1e?d:void 0,jKq:this.Xio,wn:h,cUf:this.cUf,Fyc:e,
onContextMenu:this.onContextMenu,d2:this.d2,I1e:this.I1e,bNa:this.bNa,$be:this.$be,IGd:b.mc(l.page)?this.y3n:void 0}),this.I1e&&(!b.ei||k.dfb)&&cV(f,{page:l.page,Sjq:this.bcm,uzg:!0})]}),!this.I1e&&cV(g,{page:l.page,yd:m+1,Wda:this.bNa})]})}constructor(...b){super(...b);this.uta=(sHs.G(this),HV());this.jxj=c=>{const d=this.props.Hg,e=this.props.xw,f=this.props.gWa,g=e.XVd,h=this.props.fG.AJ,k=e.R9(c).scale;c=e.WRd(c,!0);return{width:h||g==null||f?c:Math.min(c,d.width),height:zV,scale:k}};this.onContextMenu=
c=>{const d=this.props.onContextMenu,e=this.props.qA,f=this.props.page,g=this.props.v4a;d&&(e===null||e===void 0||e.pause(),g(c,!0),d(c,f.page))};this.d2=(c,d)=>{const e=this.props.Hg,f=this.props.xw,g=this.props.qA,h=this.props.store.ei,k=this.props.Lib.current.getBoundingClientRect();f.ywn(c,d.x-k.x,e.width);g===null||g===void 0||g.stop();h&&g&&(g.rgh=!1)};this.bNa=async()=>{const c=this.props.bNa,d=this.props.store,e=this.props.xw,f=this.props.page.page;e.XUe?d.mc(f)&&d.IRa?e.BWf(f):e.hnl(!0):
this.props.qA&&e.Ldh(!0);await (c===null||c===void 0?void 0:c(f))};this.hover=fV(c=>{this.props.xw.kll(this.props.store.lNa?void 0:c)});this.J9p=Db(this.hover,500);this.K9p=Db(this.hover,200);this.cUf=(c,d)=>{const e=this.props.xw;var f=this.props.store;f.KN&&!f.ei&&(f=this.props.Ia.pages.count(),c!=null&&c>=f-1||(d?e.kll(c):e.isLinear?this.K9p(c):this.J9p(c)))}}}({c:[sHs,Q_s]}=JV(a,[],[Lb],R_s))})(),P_s);var S_s=class{constructor(a,b,c,d,e,f){this.page=a;this.direction=b;this.w3r=c;this.Nsr=d;this.T0s=e;this.Ofg=f}},wHs=class{static G(a){P(a,{trim:wV.ref})}constructor(){this.trim=(wHs.G(this),void 0)}},T_s=class{static G(a){P(a,{Zme:wV.ref,rvl:fV.bound,v0j:fV.bound})}get GLd(){return this.Zme}rvl(a){var b;((b=this.Zme)===null||b===void 0?0:b.isRecording())&&this.Zme.end("unset");this.Zme=this.V.sb("trim_scene",{Fb:{name:"editor.editing.page_navigator.timeline.trim_scene",performance:{rV:!0},type:a}})}v0j(){var a;
(a=this.Zme)===null||a===void 0||a.end("ok");this.Zme=void 0}aCg(a,b){var c=b==null;const {sh:d,durationUs:e}=__c.fKe(this.my,a,c);if(!d.length||c)return{fill:d[0],durationUs:e};a=f=>this.vd.IUb(f.trim?{...f,trim:b?{startUs:b==="start"?0:f.trim.startUs,endUs:b==="end"?Infinity:f.trim.endUs}:void 0}:f);c=Fi(d,a);return{fill:c,durationUs:a(c)}}constructor(a,b,c,d,e){this.store=a;this.vd=b;this.my=c;this.Cf=d;this.V=e;this.Zme=(T_s.G(this),void 0)}},AHs=class extends T_s{static G(a){P(a,{Xha:fV.bound,
Uxi:fV.bound,ona:fV.bound})}Xha(a,b){var c,d;this.rvl(b);const e=hKe(this.my,a);this.selection.OAb(a);const f=wm.gs(a);this.store.trim=new S_s(a,b,e,this.aCg(f,b).fill,0,()=>{});this.my.XHd(e);this.Cf.QJ();this.RZ.q5m([a]);this.Cce(f);(d=this.Lk)===null||d===void 0||(c=d.SM)===null||c===void 0||c.call(d,new dp)}Uxi(a){const b=this.store.trim;b?(this.my.XHd(a),this.RZ.mgo(a,b.direction,c=>{if(b.direction==="end")return!0;const d=this.Cf.getDuration(c),e=__c.CEg(this.RZ,c);return c===b.Nsr||a<=d||e<
d}),this.Cce(wm.gs(b.page))):this.v0j()}ona(a,b,c){const d=this.store.trim;d&&(this.RZ.pkm({location:"page_navigator",kb:c}),this.my.KSd({pages:[d.page],CFf:a,DEf:b,lhf:{location:"page_navigator",kb:c},ua:this.GLd}),this.Cce(wm.gs(d.page)),this.store.trim=void 0,this.my.reset())}Cce(a){var b;const c=((b=this.store.trim)===null||b===void 0?void 0:b.direction)==="end"&&this.my.TTa||0;a.forEach(d=>__c.Zde(this.Cf,d,c,this.RZ.LDg(d)))}constructor(a,b,c,d,e,f,g,h){super(a,b,c,d,e);this.RZ=f;this.selection=
g;this.Lk=h;AHs.G(this)}},zHs=class extends T_s{NQh(a,b,c,d){if(c===d)return __c.Ff({pages:[a]}).ub(a);var e=Dn.snapshot(a);e=Dn.create(e);const f=__c.Ff({pages:[e]}).ub(e);switch(f.type){case "fixed-page":return pa(a.type==="fixed"),this.zac.addAlias(e,a),__c.dKe({Cf:this.Cf,my:this.my,vd:this.vd,page:f.page,direction:b,IWg:c,oVg:d,ygd:!1}),f;case "concatenated-fixed-page":case "responsive-page":return f;default:throw new v(f);}}Xha(a,b){var c,d;this.rvl(b);XFs(this.jd);(d=this.Lk)===null||d===void 0||
(c=d.SM)===null||c===void 0||c.call(d,new dp);this.selection.OAb(a);c=hKe(this.my,a);d=c*1E6;const e=yHs(this,a,b)*1E6;this.ave=this.NQh(a,b,d,e);this.store.trim=new S_s(a,b,c,void 0,e,this.jd.configure({Di:!0,page:this.ave}));this.my.XHd(c);this.jd.seek((b==="start"?e-d:d)/1E6)}Uxi(a){if(this.store.trim){var b=this.store.trim.T0s,c=a*1E6;this.jd.seek((this.store.trim.direction==="start"?b-c:c)/1E6);this.my.XHd(a)}}ona(a,b,c){const d=this.store.trim;if(d){d.Ofg();var e=d.page;this.my.KSd({pages:[e],
CFf:a,DEf:b,lhf:{location:"page_navigator",kb:c},direction:d.direction,ua:this.GLd});this.Cce(wm.gs(e));this.jd.stop();if(this.ave)switch(this.ave.type){case "fixed-page":this.zac.store.R1g.delete(this.ave.page);this.ave=void 0;break;case "concatenated-fixed-page":case "responsive-page":this.ave=void 0;break;default:throw new v(this.ave);}this.store.trim=void 0;this.my.reset();YFs(this.jd)}else this.v0j()}Cce(a){var b;const c=((b=this.store.trim)===null||b===void 0?void 0:b.direction)==="end"&&this.my.TTa||
0;a.forEach(d=>__c.Zde(this.Cf,d,c))}constructor(a,b,c,d,e,f,g,h,k){super(a,b,c,d,e);this.jd=f;this.selection=g;this.zac=h;this.Lk=k}};var DHs=class{sre(a,b){if(a=!!this.Cf.canPlay(a)&&!!this.Cf.getDuration(a))b=b.length,this.document.pages.count()+(b-1)>this.xh?(b=this.tRa.DE,b.$Xa({icon:au,message:b.tfa.render(L("PZbDsA")),tone:"critical"}),b=!0):b=!1,a=!b;return a}get ya(){return n(this.viewport.ya)}bPi(a,b,c){this.my.XHd(b);this.my.KSd({pages:[a],direction:c,CFf:.1,DEf:Math.max(600,__c.fKe(this.my,wm.gs(a)).durationUs/1E6),lhf:{location:"highlights",kb:"shortcut"}});this.my.reset()}x8g(a){a.transition.set(void 0)}constructor(a,
b,c,d,e,f){this.tRa=a;this.my=b;this.Cf=c;this.viewport=d;this.document=e;this.xh=f}};var U_s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-width="1.5" stroke-linecap="round" d="M8 1.75v12.5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8 3.333H3a2 2 0 0 0-2 2v5.334a2 2 0 0 0 2 2h5v-1.5H3a.5.5 0 0 1-.5-.5V5.333a.5.5 0 0 1 .5-.5h5v-1.5ZM10.334 12.667h2.667a2 2 0 0 0 2-2V5.333a2 2 0 0 0-2-2h-2.667v1.5h2.667a.5.5 0 0 1 .5.5v5.334a.5.5 0 0 1-.5.5h-2.667v1.5Z" fill="currentColor"/></svg>';var V_s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.75a.75.75 0 0 0-1.5 0V6H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h5.5v2.25a.75.75 0 0 0 1.5 0V3.75ZM10.5 16.5v-9H5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h5.5Z" fill="currentColor"/><path d="M14 18h5a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-5v1.5h5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-5V18Z" fill="currentColor"/></svg>';var MHs=br({small:U_s,medium:V_s});var KHs=class{static G(a){P(a,{dpn:fV.bound,HKh:mV,OTi:fV.bound,Soo:fV.bound,NTi:fV.bound})}get vrb(){var a;const b=((a=this.qA.vrb)!==null&&a!==void 0?a:this.$Ta.currentTime).toFixed(6);return Number.parseFloat(b)}dpn(){try{var a;if(((a=this.lr.UQ)===null||a===void 0||!a.length)&&this.HKh)return this.OTi();if(GHs(this))return this.NTi()}catch(b){}}get HKh(){if(!this.Grl.get()||this.Ma.mode<40||!this.Lw.sfb||this.Lw.AJ||this.document.pages.count()>=this.xh)return!1;var a=HHs(this,this.vrb);a=a===
null||a===void 0?void 0:a.page;var b;if(!(b=!a||a.locked)&&(b=this.timing.Xt)){var c=this.vrb;b=this.Lw.cDg(c,!0);b!==null&&b!==void 0&&b.page&&b.page.type==="fixed"?(c=(c-b.qda/1E6)*1E6,b=!!IHs(this,b.page.Oc.toArray(),c)):b=!1;b=!b}if(b)return!1;switch(a.type){case "fixed":return!a.dimensions||!xg(a.dimensions);case "concatenated-fixed":case "responsive":return!1;default:throw new v(a);}}OTi(){const a=this.V.sb("split_scene",{Fb:{name:"editor.editing.page_navigator.timeline.split_scene"}});this.qA.stop();
if(this.timing.Xt){const {page:g}=n(HHs(this,this.vrb));if(g.type==="fixed"){var {fill:b,aFq:c,dFq:d}=n(IHs(this,g.Oc.toArray(),this.vrb*1E6)),e=c+d,f={...rns(Zr.snapshot(b)),durationUs:d};b.durationUs=Math.min(Math.max(Math.max(c),1E5),6E8);f=g.Oc.jI(b,f);b.transition.set(void 0);b.video.ref&&cKe({vd:this.vd,HMc:e,fill:b.video.ref,hVd:-d,direction:"end",Che:!0});f.video.ref&&cKe({vd:this.vd,HMc:e,fill:f.video.ref,hVd:-c,direction:"start",Che:!0});this.qA.seek(this.vrb,"start")}}else this.Soo();this.qA.wbe();
a.ue()}Soo(){const {page:a,durationUs:b,oLs:c}=n(HHs(this,this.vrb)),d=mu.iQ(Dn.snapshot(a),{iFa:!0});this.x8g(a);this.bPi(a,c,"end");const e=this.document.pages.jI(a,d);this.bPi(e,b/1E6-c,"start");requestAnimationFrame(()=>{this.qA.FG(e);this.qA.seek(this.vrb,"start")})}NTi(){var a;const b=this.vrb;this.qA.stop();this.qA.wbe();const c=(a=this.lr.UQ)===null||a===void 0?void 0:a.map(d=>JHs(this,d,b)).filter(vb);(c===null||c===void 0?0:c.length)&&this.lr.select(...c);this.qA.seek(b,"start")}bPi(a,b,
c){this.my.XHd(b);this.my.KSd({pages:[a],direction:c,CFf:.1,DEf:Math.max(600,__c.fKe(this.my,wm.gs(a)).durationUs/1E6),lhf:{location:"page_navigator",kb:"shortcut"},ygd:!0})}x8g(a){a.transition.set(void 0)}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.document=a;this.Ma=b;this.my=c;this.lr=d;this.Mz=e;this.Lw=f;this.timing=g;this.vd=h;this.V=k;this.xh=l;this.qA=m;this.$Ta=p;this.Grl=q;KHs.G(this)}};var LHs=eV(({Ci:a,K2e:b,disabled:c,onClick:d})=>{const e=gV(()=>{b.OTi();d===null||d===void 0||d()},[b,d]);return cV(a,{tooltip:L("GiOiNA"),icon:MHs,disabled:c,Ah:"icon",onClick:e,children:L("nHEHOg")})}),NHs=eV(({Ci:a,K2e:b,disabled:c,Ao:d,onClick:e})=>{const f=gV(()=>{b.NTi();e===null||e===void 0||e()},[b,e]);return cV(a,{tooltip:L("W417Fg"),disabled:c,icon:MHs,Ah:d?"icon-and-label":"icon",onClick:f,children:L("nHEHOg")})});var W_s,X_s,Y_s,Z_s;
new (W_s=class extends IV{constructor(){super(Z_s);X_s()}},(()=>{class a extends(Y_s=GV){static G(b){P(b,{kgb:fV.bound,kYa:fV.bound,r3a:fV.bound})}kgb(b){var c,d;const e=this.props.fG;e===null||e===void 0||e.ZAb(!0);e===null||e===void 0||e.VYb({N3g:"pinch_centre",Ti:b.Ti});(c=(d=this.props).jmu)===null||c===void 0||c.call(d)}kYa(b){const c=this.props.fG,d=this.props.Yx;(c===null||c===void 0?void 0:c.f5m)!=null&&(c.Gz(c.f5m*b.scale),d(J("MEzq1g",[c.BU])))}r3a(){const b=this.props.fG;b===null||b===
void 0||b.U0("pinch")}render(){return cV("div",{ref:this.fB.Qq,className:"Dx9Tuw",children:this.props.children})}constructor(...b){super(...b);this.yba=(Z_s.G(this),[new __c.Hzc({Ss:this.kgb,PH:this.kYa,Fx:this.r3a})]);this.fB=new __c.ed(this.yba)}}({c:[Z_s,X_s]}=JV(a,[],[Lb],Y_s))})(),W_s);var $_s=eV(({enabled:a,fG:b,...c})=>{c.Trh();return a.get()&&!b.AJ?cV(Z_s,{...c,fG:b}):c.children});var a0s,b0s,c0s,d0s=parseInt("4px",10)*2,e0s=parseInt("16px",10),f0s=parseInt("8px",10)*2,g0s=parseInt("12px",10)||12,TIs;
new (a0s=class extends IV{constructor(){super(TIs);b0s()}},(()=>{class a extends(c0s=GV){static G(b){P(b,{hce:wV.ref,vvo:mV,dEg:mV,ZAo:mV,sgd:mV,Ulm:mV,v4a:fV,Ahg:fV,onTouchStart:fV,onTouchEnd:fV,onScroll:fV,Xwi:fV})}get vvo(){var b,c;return((c=this.Lib)===null||c===void 0?void 0:(b=c.current)===null||b===void 0?void 0:b.getBoundingClientRect().x)||0}get yVs(){var b;const c=(b=this.Lib)===null||b===void 0?void 0:b.current;return c?c.offsetTop+c.offsetHeight:0}get dEg(){return{width:this.props.xw.y9h,
height:zV}}get ZAo(){const b=this.props.xw,c=this.dEg.width+d0s+2*f0s;return b.Pia==="end"?b.XAo+c:this.props.store.ei&&b.Pia==="start"?b.YAo+c:b.Nfd+c}get sgd(){const b=this.props.xw,c=this.props.store;if(!b.sfb)return 0;const d=b.kdb,e=b.Pia==="start"?b.P6e+b.T_i:0,f=b.t$a?b.dAa(b.t$a).offsetWidth:c.ei?0:d-e;return c.ei?Math.max(d-(f0s+e),-d-f):b.P6e!==0?Math.max(d-e,-f):d}get Ulm(){var b=this.props.hp;const c=this.props.xw,d=this.props.store,e={"--aABeBw":`${this.sgd}px`,"--0ljhFQ":`${d.z8l}px`,
"--5t4xnw":`${d.B8l}px`};return c.Pia?{...e,minWidth:this.ZAo}:this.props.gWa||d.ei||c.dragOffset===0?this.props.timing.Xt&&d.ei?(b=__c.ac().width/2,{...e,paddingRight:b}):e:{...e,paddingRight:b.clientWidth-(this.dEg.width+f0s)}}componentDidMount(){const b=this.props.store,c=this.props.xw,d=this.props.vu;cps(()=>!!d.current,()=>{var f;(f=d.current)===null||f===void 0||f.addEventListener("touchstart",this.onTouchStart)});const e=[dV(()=>({Cg:b.Cg,focused:b.IRa}),({Cg:f,focused:g})=>{c.XUe&&(g?(c.BWf(f.length===
1&&c.Z3i?f[0]:void 0),c.hnl(!1)):c.Z3i||c.BWf(void 0))})];Gb(this,e)}componentWillUnmount(){var b;cancelAnimationFrame(this.lCh);(b=this.props.vu.current)===null||b===void 0||b.removeEventListener("touchstart",this.onTouchStart)}render(){const b=this.props.iyc,c=this.props.z2b,d=this.props.Fyc,e=this.props.Vhj,f=this.props.W2b,g=this.props.Rrc,h=this.props.bNa,k=this.props.wn,l=this.props.Hg,m=this.props.n_c,p=this.props.ifc,q=p.sTl,r=p.yXl,t=p.eRl,u=p.CYl,w=p.fme,x=this.props.xw,y=this.props.fG,
z=this.props.u9s,A=this.props.BLs,B=this.props.measureRef,D=this.props.rme;return cV($_s,{enabled:this.props.FEm,fG:y,Trh:this.props.Trh,Yx:this.Yx,children:kV("div",{className:AV("PLXBxQ",{skT6fg:p.N1c,_4h2Low:x.ABf,_7XBsHg:this.props.timing.Xt}),style:this.Ulm,onClick:this.zNr,ref:(0,dNs["default"])(B,m.Qq,A,y.AJ?void 0:z),children:[m.anchor,u&&cV(u,{Qpc:!!this.hce,v4a:this.v4a}),cV("div",{className:"T5cLig",children:!y.AJ&&cV(e,{})}),kV("div",{className:"_8BtP1w",children:[q&&cV("div",{className:"jyrvhQ",
children:cV(q,{wn:k,v4a:this.v4a,$Bt:this.sgd+e0s})}),cV("div",{ref:this.Lib,className:"_5peejg",children:r&&cV(r,{sgd:this.sgd,wn:k,Hg:l,Lib:this.Lib,Fyc:d,iyc:b,z2b:c,W2b:f,Rrc:g,bNa:h,v4a:this.v4a,fme:w})}),cV(D,{}),t&&cV("div",{className:AV("lJ_R_Q",{qZEbqg:x.ABf}),children:cV(t,{v4a:this.v4a})})]})]})})}constructor(...b){super(...b);this.KWs=(TIs.G(this),Symbol("TimelineContent"));this.Lib=HV();this.hce=void 0;this.touchEnd=!1;this.v4a=(c,d)=>{const e=this.props.qA,f=this.props.$Ta,g=this.props.xw;
var h=this.props.fG,k=this.props.store,l=this.props.Df;k.xF==="single"&&!h.AJ&&e&&f&&this.Lib.current&&!k.zvd&&!l.isOpen&&(h=this.Lib.current.getBoundingClientRect(),{clientX:c=0}=c,c<h.left||(c-=h.left,h=g.s0d(c,{dub:!this.props.timing.Xt}),k=g.Cud(h),l=g.Qdk(c),d&&l===g.Cud(f.currentTime)?(d=g.sFe(f.currentTime),Math.abs(d-c)>g0s&&(e.vrb=h)):(e.pause(),this.props.store.ei||e.seek(this.props.timing.Xt?h:Math.min(h,g.jBl-.001)),e.FG(l),k!==l&&e.stop())))};this.Ahg=()=>{this.hce!=null&&(clearTimeout(this.hce),
this.hce=void 0)};this.onTouchStart=()=>{var c;const d=this.props.qA,e=this.props.$Ta,f=this.props.store,g=this.props.vu;f.ei&&!f.lNa&&d&&e&&g.current&&(this.props.xw.Ldh(!0),d.pause(),this.Ahg(),this.touchEnd=!1,document.addEventListener("touchend",this.onTouchEnd),(c=g.current)===null||c===void 0||c.addEventListener("scroll",this.onScroll))};this.onTouchEnd=()=>{this.touchEnd=!0;this.hce||this.Xwi()};this.onScroll=()=>{var c=this.props.store,d=this.props.qA;const e=this.props.$Ta,f=this.props.xw,
g=this.props.fG;var h=this.props.Mz;const k=this.props.hp;c.lNa||g.PF?(this.Xwi(),this.Ahg()):(h.tii?(c=f.s0d(k.scrollLeft),d===null||d===void 0||d.f0e({time:c})):f.Ukh&&(h=f.s0d(k.scrollLeft),h=Math.min(h,f.jBl-.001),d===null||d===void 0||d.seek(h),f.sfb&&c.ei&&g.AJ&&(d=f.Cud(h),c.pK===1&&c.mc(d)||(c.Mqa(d),f.eba()))),this.Ahg(),this.hce=window.setTimeout(()=>{if(this.touchEnd||(e===null||e===void 0?0:e.Jf))this.Xwi(),this.Ahg();else this.onScroll()},500))};this.Xwi=()=>{var c;const d=this.props.vu;
var e=this.props.xw;const f=this.props.$Ta,g=this.props.qA;this.props.xw.Ldh(!1);if(f&&e.sfb){if(this.hce){var h;e=e.Cud(f.currentTime,(h=g===null||g===void 0?void 0:g.lic)!==null&&h!==void 0?h:!1);g===null||g===void 0||g.FG(e)}document.removeEventListener("touchend",this.onTouchEnd);(c=d.current)===null||c===void 0||c.removeEventListener("scroll",this.onScroll);this.touchEnd=!1}};this.lCh=0;this.zNr=c=>{cancelAnimationFrame(this.lCh);this.lCh=requestAnimationFrame(()=>{this.lCh=requestAnimationFrame(()=>
{const d=this.props.xw;this.v4a(c);d.Ldh(!1)})})};this.Yx=c=>{this.props.vc.Hb({Cb:c,group:this.KWs})}}}({c:[TIs,b0s]}=JV(a,[],[Lb],c0s))})(),a0s);var YHs=DV(({onClick:a,Jf:b,wa:c,tG:d})=>{const e=gV(f=>{a();f.nativeEvent.stopImmediatePropagation()},[a]);return cV("div",{className:AV("OH498g",{EfX0rQ:d}),children:cV(qr,{variant:"tertiary",size:"large",Jc:"medium",uTb:!0,onClick:d?void 0:e,loading:c,icon:b?__c.Ju:__c.Ku,className:"Vb2WBg",ariaLabel:b?L("8Pbkhg"):L("Y/SEvA")})})});var SHs=eV(function({currentTime:a,totalTime:b}){a=so(a());b=so(b());return cV(Q,{size:"medium",tone:"primary",weight:"bold",children:cV(UHs,{MOm:a.padStart(b.length,b.replace(/\d/g,"0"))})})}),THs=eV(function({totalTime:a}){return cV(Q,{size:"medium",tone:"tertiary",children:cV(UHs,{MOm:so(a())})})});var WHs=.5*Xc+5*Xc,XHs=DV(function({S$r:a,LAq:b}){return cV(R,{padding:"0.5u",children:kV(hr,{columns:b?3:1,spacing:"0",Fa:"center",children:[b&&cV(R,{display:"flex",justifyContent:"start",children:b}),cV(R,{display:"flex",justifyContent:"center",children:a})]})})});var h0s,i0s,j0s,$Hs;new (h0s=class extends IV{constructor(){super($Hs);i0s()}},(()=>{class a extends(j0s=GV){static G(b){P(b,{VA:mV,onClick:fV.bound})}get VA(){return!this.props.fG.AJ}render(){return cV(this.props.fF,{onClick:this.onClick,VA:this.VA,children:L("2e2XZw")})}onClick(){const b=this.props.oa,c=this.props.onClick,d=this.props.fG;d.PHd(!d.AJ,"click");d.AJ||(this.props.Wj.hq="thumbnail");c&&c();b&&b()}constructor(...b){super(...b);a.G(this)}}({c:[$Hs,i0s]}=JV(a,[],[Lb],j0s))})(),h0s);var aIs=eV(a=>{const b=a.hb;return cV(Yi,{variant:"tertiary",size:"small",active:a.active,onClick:a.onClick,icon:__c.sD,jk:!0,xI:a.xI,hb:b,ariaLabel:b,children:L("Jajjyg")})});var cIs=({Fje:a,ei:b})=>cV("div",{className:"XsiM7A",children:a&&kV(rV,{children:[cV(a,{size:"m",shape:"square"}),cV(Q,{size:"xsmall",tone:jr,children:b.get()?L("fg/MLw"):L("nvHInw")})]})});var k0s=parseInt("8px",10)||8,l0s=parseInt("68px",10)||60,m0s=zV*16/9,n0s=10.5*Xc,eIs=parseInt("16px",10)||16,fIs=parseInt("24px",10)*2,LIs=class{static G(a){P(a,{dfb:wV.ref,XVd:wV.ref,T_i:wV.ref,qQj:wV.ref,Z3i:wV.ref,uoi:wV.ref,qji:wV.ref,Kkj:wV.ref,Khi:wV.ref,isLinear:mV,b1e:mV,Tym:mV({equals:lV.shallow}),fBa:mV,dragOffset:mV,kdb:mV,y9h:mV,WAo:mV,P6e:mV,NMd:mV,D6b:mV({equals:mk(lV.shallow)}),v0c:mV({equals:mk(lV.shallow)}),tel:mV,kLn:mV,Nfd:mV,kYi:mV,Gji:mV,XAo:mV,YAo:mV,Tkf:mV,L3l:mV,ywn:fV.bound,
hwn:fV.bound,XUe:mV,BWf:fV.bound,N6e:mV,qOg:mV,AJ:mV,ABf:mV,Ukh:mV,Ldh:fV.bound,hnl:fV.bound,kll:fV.bound,vmk:wV.ref,ceh:fV,xvo:mV})}get q1g(){var a;return((a=this.I.R_i.trim)===null||a===void 0?void 0:a.w3r)||0}get t$a(){var a;return(a=this.I.R_i.trim)===null||a===void 0?void 0:a.page}get Pia(){var a;return(a=this.I.R_i.trim)===null||a===void 0?void 0:a.direction}get ZFc(){return this.I.ZFc}get g_f(){return this.isLinear?0:k0s*2}get isLinear(){return!this.I.fG.AJ}get Lfd(){const a=this.I.viewport.jh;
return this.I.timing.Xt&&BV(this,a.ja)?this.I.vd.ub(a.ja):this.I.vd.Dwb(this.I.document)}get jBl(){return this.Lfd/1E6}get b1e(){const a=this.I.eb;return this.I.document.pages.some(b=>b?!fk(a,b,c=>c===null||c===void 0?void 0:c.Yze)&&bDs(this,b):!1)}get Tym(){const a=ug(4,this.I.document.dimensions);return{width:a.width/a.height*zV,height:zV}}get fBa(){return this.I.fG.BU*40}get dragOffset(){const a=this.I.fG;return this.I.gWa||!this.dfb||!this.XVd||a.AJ?0:Math.max(this.dfb-this.XVd,0)}get kdb(){var a=
this.I.$sg;if(!this.sfb)return this.dragOffset;a=this.I.ei.get()?__c.ac().width/2:a?0:n0s;return this.dragOffset+a}get y9h(){var a=this.I.document;this.I.fG.AJ?(a=a.pages.last(),a=Math.min(m0s,Math.max(this.R9(a).width,l0s))):a=96;return a}get WAo(){const a=this.I.my;return this.t$a&&a.TTa?a.TTa-this.q1g:0}get P6e(){const a=this.t$a;if(!a)return 0;const b=this.WRd(a,!1);return this.WRd(a,!0)-b}get NMd(){return{start:Math.max(this.I.hp.scrollLeft-100-this.kdb,0),end:this.I.hp.scrollLeft+this.I.hp.clientWidth+
100-this.kdb}}get D6b(){const a=this.I.viewport.jh;return this.I.timing.Xt&&BV(this,a.ja)?this.QJh([a.ja]):this.QJh(this.I.document.pages.toArray())}get v0c(){const a=this.I.viewport.jh;return this.I.timing.Xt&&BV(this,a.ja)?this.QJh([a.ja],{withTrim:!0}):this.QJh(this.I.document.pages.toArray(),{withTrim:!0})}get tel(){const a=this.v0c.map(!this.I.gWa&&this.XVd?({width:b,page:c})=>Math.min(b,this.R9(c).width)+this.g_f:({width:b})=>b+this.g_f);a.length>0&&(a[0]+=this.kdb);return a}get kLn(){return Math.max(this.fBa,
l0s)/this.fBa}R9(a){const b=this.I.document;return a.type==="concatenated-fixed"?qYs:fk(this.I.eb,a,c=>c===null||c===void 0?void 0:c.FQa)?rYs(b.dimensions):a.type==="responsive"?qYs:rYs(a.dimensions||b.dimensions)}get Nfd(){const a=this.D6b[this.D6b.length-1];return(a===null||a===void 0?void 0:a.offsetWidth)+(a===null||a===void 0?void 0:a.width)||0}get kYi(){const a=this.Gji;return((a===null||a===void 0?void 0:a.offsetWidth)||0)+((a===null||a===void 0?void 0:a.width)||0)}get Gji(){var a=this.I.viewport.jh;
return this.I.timing.Xt&&BV(this,a.ja)?this.dAa(a.ja):(a=this.I.document.pages.RQa(b=>b.type!=="responsive").last(b=>BV(this,b)))&&this.dAa(a)}get XAo(){return this.Nfd+this.qji}get YAo(){return this.Nfd+this.P6e}get Tkf(){return this.I.my.TTa}get L3l(){return this.D6b.reduce((a,{durationUs:b})=>a+b,0)}onDrop(){this.Wxe=void 0}ywn(a,b,c){this.dfb=b;b=0;const d=this.I.document.pages.toArray();for(const [f,g]of d.entries()){var e=f===d.length-1||d.length===1?0:this.g_f;e=Math.min(this.WRd(g,!0),c)+
e;if(g===a){b+=e/2;break}else b+=e}this.XVd=b;this.eba()}hwn(){this.XVd=this.dfb=void 0}get sfb(){return this.I.oii()}get XUe(){return this.I.ei.get()||Ub()}BWf(a){this.Kkj=a}get N6e(){if(!this.I.fG.AJ&&this.dfb==null)return this.t$a||this.Kkj}get qOg(){return!!this.t$a}get AJ(){return this.I.fG.AJ}get PF(){return this.I.fG.PF}get Pdr(){return this.uoi!=null}get ABf(){return this.AJ&&!this.I.ei.get()}get Ukh(){return this.I.ei.get()&&!this.AJ}get xvo(){const a=this.I.hp.clientWidth;if(a!=null)return a-
Math.max(this.kdb-this.I.hp.scrollLeft,0)-120}constructor(a){this.I=a;this.dfb=(LIs.G(this),void 0);this.XVd=void 0;this.T_i=0;this.Z3i=this.qQj=!1;this.uoi=void 0;this.qji=0;this.Kkj=void 0;this.Khi=!1;this.aah=e=>this.isLinear?Math.round(e*10)/10:Math.round(e);this.eba=()=>{var e,f;(f=this.I.Lk)===null||f===void 0||(e=f.SM)===null||e===void 0||e.call(f,new dp)};this.QJh=(e,f={})=>{const g=this.I.document,h=this.I.vd;let k=0,l=0,m=0,p=0;return e.map((q,r)=>{var t=r===e.length-1,u=f.withTrim&&q===
this.t$a;const w=h.ub(q),x=h.PZd(g,q),y=(BV(this,q)?x:w)+(u?this.WAo*1E6:0);t=t?0:this.g_f;u=this.WRd(q,u);const z=k,A=l;l+=u+t;BV(this,q)&&(k+=y);const B=z-m;m=w-x-m;r=p?this.aah(A-p-(r===0?0:this.g_f)):A;p=u/x*m;return{page:q,durationUs:y,width:u,qda:z,LMk:B,Ivn:r,offsetWidth:A,paddingRight:t}})};this.WRd=(e,f)=>{var g=this.I.my;if(this.I.fG.AJ)return Math.min(m0s,Math.max(this.R9(e).width,l0s));e=(f=f&&this.t$a===e)&&this.Tkf!==void 0?this.Tkf:hKe(g,e);g=this.aah(e*this.fBa);if(this.isLinear)return g;
e=Math.max(this.fBa,l0s);g=f&&this.q1g!==0&&this.q1g<this.kLn?g+e-this.aah(this.q1g*this.fBa):g;return f?g:Math.max(g,e)};this.dAa=e=>n(this.D6b.find(f=>f.page===e));this.cDg=(e,f,g)=>{const h=(g?this.v0c:this.D6b).filter(({page:l})=>BV(this,l)),k=Math.round(e*1E6);return h.find(({durationUs:l,qda:m},p)=>{l=m+l;return f||p===h.length-1?k<=l:k<l})};this.sFe=(e,f={})=>{var g;const h=((g=f.V7g)===null||g===void 0?0:g.draft)?this.Nfd:this.kYi;return this.aah(Math.min(jIs(this,e*1E6,f),h))};this.s0d=(e,
{dub:f=!0,...g}={})=>{var h;const k=(((h=g.V7g)===null||h===void 0?0:h.draft)?this.L3l:this.Lfd)/1E6;return f?Math.min(mIs(this,e,g)/1E6,k):mIs(this,e,g)/1E6};this.gRa=(e,{dub:f=!0,...g}={})=>f?this.sFe(e/1E6,g):jIs(this,e,g);this.axb=(e,f,{dub:g=!1,...h}={})=>this.gRa(f,{dub:g,...h})-this.gRa(e,{dub:g,...h});this.QDg=(e,{dub:f=!0,...g}={})=>f?this.s0d(e,{dub:f,...g})*1E6:mIs(this,e,g);this.Qdk=e=>{var f;return(f=this.D6b.find(({width:g,offsetWidth:h})=>e>=h&&e<=h+g))===null||f===void 0?void 0:f.page};
this.Cud=(e,f)=>{({page:e}=this.cDg(e,f)||this.D6b[0]);return e};this.Ldh=e=>{this.qQj=e};this.hnl=e=>{this.Z3i=e};this.kll=e=>{this.uoi=e};this.ceh=e=>{this.vmk=e};this.Tpl=KV(e=>!wb.pd||this.t$a===e||this.XVd!=null||this.I.fG.PF);this.Tbo=e=>{this.Khi=e};const b=a.fG,c=a.R_i,d=a.my;a=a.Ma;dV(()=>b.AJ,this.eba);dV(()=>c.trim?Math.max(this.qji,this.P6e):0,e=>this.qji=e,{fireImmediately:!0});cps(()=>!this.AJ,()=>{d.oWf=!0});a.Fmf(()=>this.Khi)}};var BIs=({kan:a})=>cV("div",{className:AV("pAiVJA",a&&"Xk_37w"),children:cV(lr,{label:L("xhtG7g"),children:cV(R,{tagName:"span",background:"neutralLow",borderRadius:"elementSoftest",ariaHidden:!1,className:"VzkBcA",ariaLabel:L("xhtG7g"),children:cV(Q,{size:"small",className:"_3ubtlQ",children:L("SI6VaA")})})})});var vIs=class{static G(a){P(a,{gC:wV.ref,aEd:wV.ref,yY:wV.ref,OAe:wV.ref,pages:mV({equals:lV.shallow})})}get pages(){var a;const b=(a=this.OAe)===null||a===void 0?void 0:a.page;if(b&&Oub(b.page))return pa(b.type==="fixed-page"),[b];a=[];for(const c of this.document.pages)Oub(c,this.document)&&a.push(this.yi.ub(c));return a}iPj(){var a;(a=this.gC)===null||a===void 0||a.dispose();this.OAe=this.aEd=this.gC=void 0}Fja(){this.OAe=this.configuration;const a=this.pages,{Ye:b,yY:c}=this.Tga({F7a:__c.hze(()=>
a,()=>this.document),override:this.OBp,zqb:mV(()=>{var d;return(d=this.xxa)===null||d===void 0?void 0:d.isEnabled})});this.aEd=b;this.yY=c;return this.gC=new __c.d5g(this.Gp,this.Cf,b,this.vd)}get OBp(){const a=this.configuration;if(a&&a.Di)return a.Di===!0?{type:"page",animation:"none"}:{type:"element",animation:"static",elements:a.Di,timing:{startUs:void 0,durationUs:void 0}}}Ukm(a,b){var c,d;lV.shallow(a.Di,(c=this.configuration)===null||c===void 0?void 0:c.Di)&&a.page===((d=this.configuration)===
null||d===void 0?void 0:d.page)||(this.configuration=a,this.gC&&(b(),this.Fja()));const e=this.configuration;return()=>{this.configuration===e&&(this.configuration=void 0)}}constructor(a,b,c,d,e,f,g){this.Tga=a;this.document=b;this.yi=c;this.xxa=d;this.Gp=e;this.Cf=f;this.vd=g;this.type=(vIs.G(this),"ANIMATE")}};var o0s=class{get currentTime(){return this.store.currentTime}get duration(){return this.store.duration}get r$a(){return this.store.volume}get paused(){return!this.store.Jf}get loading(){return this.store.wa}get YK(){return this.store.YK}get errorMessage(){return this.store.errorMessage}get seeking(){return this.store.lI}get playbackRate(){return 1}dispose(){var a;this.pause();this.controller.stop();clearTimeout(this.rbh);this.rbh=void 0;(a=this.T_k)===null||a===void 0||a.call(this);this.T_k=void 0}pause(){this.controller.onPause()}play(){this.Cf.QJ();
this.Fra.jga(()=>this.pause());this.T_k||(this.T_k=dV(()=>this.currentTime>=this.duration,()=>this.pause()));this.controller.onPlay()}resume(){}seek(a,b={}){this.store.currentTime===a||b.LAf||(this.rbh||this.controller.sda(),this.controller.uV(a),nIs(this))}gdd(){}wNb(a){this.controller.onVolumeChange(a)}constructor(a,b,c,d){this.controller=a;this.store=b;this.Fra=c;this.Cf=d}};var DIs=class{static G(a){P(a,{gC:wV.ref,aEd:wV.ref})}Ukm(){return function(){}}Fja(){this.gC||(this.gC=new o0s(this.fOh,this.wub,this.Fra,this.Cf),this.Ahb=[...this.UZa.v0c]);this.aEd={mFe:a=>{const b=this.Ahb.find(c=>c.page===a);return b?b.qda/1E3:0},ya:this.ya,nextPage:void 0};return this.gC}iPj(){var a;(a=this.gC)===null||a===void 0||a.dispose();this.aEd=this.gC=void 0}get hje(){return this.wub.hje}get ya(){const a=this.wub.currentTime*1E6;var b=this.Ahb;const c=b.length-1;b=b.find((d,e)=>{const f=
d.qda;d=f+d.durationUs;e=e===c;return a>=f&&(a<d||e&&a===d)});return b===null||b===void 0?void 0:b.page}constructor(a,b,c,d,e){this.fOh=a;this.wub=b;this.Fra=c;this.Cf=d;this.UZa=e;this.Ahb=(DIs.G(this),[]);this.type="COMPOSITE"}};var xIs=class{static G(a){P(a,{Lia:wV.ref,Overlay:mV})}get ycf(){return this.Lia.type}get ya(){var a;return(a=this.Lia.aEd)===null||a===void 0?void 0:a.ya}get nextPage(){var a;return(a=this.Lia.aEd)===null||a===void 0?void 0:a.nextPage}get gC(){return this.Lia.gC}get configuration(){return this.Lia.configuration}get OAe(){return this.Lia.OAe}get Overlay(){if(this.Lia&&this.Lia.gC)return this.Lia.type==="ANIMATE"?this.OMo:this.ORo}destroy(){this.Lia.iPj()}mFe(a){var b;return(b=this.Lia.aEd)===null||
b===void 0?void 0:b.mFe(a)}setActive(a){a=a==="COMPOSITE"&&this.XDj?this.XDj:this.JBp;const b=a.type===this.Lia.type;b||(this.Lia.iPj(),this.Lia=a);return!b}constructor(a,b){this.JBp=a;this.OMo=b;xIs.G(this);this.Lia=a}};var p0s=eV(({uuh:a,store:b,children:c})=>b.box?kV("div",{className:"fW2NvA",style:{left:b.box.left,top:b.box.top,width:b.box.width,height:b.box.height},children:[c({box:b.box}),a&&cV("div",{className:"_57TYTg",children:cV(a,{})})]}):null),wIs=eV(({qc:a,yY:b,L:c,Akb:d,Cxa:e,...f})=>{iV(()=>{c.xFk()},[c]);return cV(p0s,{...f,children:({box:g})=>cV(b,{Akb:d,qc:a,Ffa:g,$$d:1,mad:1,Cxa:e})})}),EIs=eV(({$vh:a,L:b,...c})=>{iV(()=>{b.xFk()},[b]);return cV(p0s,{...c,children:({box:d})=>cV(a,{r0b:!1,width:d.width,
height:d.height})})});var q0s=class{reaction(a,b){pa(!this.ufb,"Cannot call BufferingTracker::reaction() twice");this.ufb=!0;this.Jmc=a;this.effect=b;this.Bw.push(dV(a,c=>{c?this.wvl=Date.now():this.DBk+=Date.now()-this.wvl}),dV(a,c=>{if(this.isBuffering!==c){var d=Date.now(),e=this.lJh,f=0,g=()=>{this.isBuffering=c;oIs(this,e);pIs(this,d,f++)};c?(g(),this.lJh=window.setInterval(g,this.heartbeatInterval)):this.lJh=window.setTimeout(()=>{clearTimeout(this.elk);g()},this.lwj)}}));return()=>{this.dispose()}}dispose(){for(const a of this.Bw)a();
oIs(this);clearTimeout(this.elk)}constructor(){this.Dd={};var a;this.Hf=(a=this.Dd.Hf)!==null&&a!==void 0?a:Nb();var b;this.y8n=(b=this.Dd.y8n)!==null&&b!==void 0?b:Date.now();var c;this.lwj=(c=this.Dd.lwj)!==null&&c!==void 0?c:1E3;var d;this.heartbeatInterval=(d=this.Dd.heartbeatInterval)!==null&&d!==void 0?d:5E3;this.elk=this.lJh=this.DBk=this.wvl=0;this.ufb=this.isBuffering=!1;this.Bw=[]}},r0s=(a,b)=>{(new q0s).reaction(a,b)};var zIs=class{static G(a){P(a,{lic:wV.ref,vrb:wV.ref,stop:fV.bound,DOa:fV.bound,play:fV.bound,xFk:fV.bound,pause:fV.bound,R_k:fV.bound,YKe:mV,f0e:fV.bound,LXe:fV.bound,seek:fV.bound,XFk:fV.bound,HLc:fV.bound,wbe:fV.bound,Rjl:fV.bound})}get rnf(){return this.vd.Dwb(this.document)}configure(a={}){return this.XG.Lia.Ukm(a,()=>this.stop())}create(){const a=this.XG.Lia.Fja();this.ZEf();this.disposables=[dV(()=>a.currentTime,b=>{const c=this.XG.ya;c&&(tIs(this,c,this.viewport.ya)||this.FG(c));this.HLc(b);
b>a.duration&&(this.Xt.get()||this.R_k({ended:!0}))})];return a}stop(){var a,b;if(this.XG.gC){rIs(this);var c=this.ZLa();(a=this.eY)===null||a===void 0||tns(a,{Ye:c});(b=this.eae)===null||b===void 0||b.stop(this.store.currentTime,this.XG.gC.duration,2);this.disposables.forEach(d=>d());this.disposables=[];this.nhi=this.X0e=!1;this.XG.destroy()}}FG(a){var b;const c=(b=this.selection.La)===null||b===void 0?void 0:b.Qz;b=a||(c===null||c===void 0?void 0:c.page)||this.Lw.Cud(this.store.currentTime,this.lic);
this.viewport.ya===b||a===void 0&&!this.XG.gC||this.viewport.Gy(b)}DOa(a,b=!1){this.m1a.track(ZFs,{...a,action:this.XG.gC&&this.store.Jf?"pause":"play"});this.lic=!1;if(this.XG.gC)if(this.store.Jf||this.store.wa)this.pause(),b=this.Lw.Cud(this.store.currentTime,this.lic),this.FG(b);else{var c;sIs(this,"COMPOSITE");qIs(this);this.ZEf();this.qll(b);this.play();(c=this.eae)===null||c===void 0||c.f6j(this.store.currentTime)}else{var d,e,f;sIs(this,"COMPOSITE");(d=this.eY)===null||d===void 0||__c.A4p(d);
(e=this.eY)===null||e===void 0||__c.E4p(e,{Ye:this.ZLa()});this.X0e=!0;a=this.create();this.qll(b);a.resume();this.XG.gC&&!BV(this.Lw,this.viewport.ya)&&((this.store.currentTime*1E3|0)>=(this.XG.gC.duration*1E3|0)-1?(this.seek(0),this.FG(this.Lw.Cud(0))):this.FG(this.Lw.Cud(this.store.currentTime)));(f=this.eae)===null||f===void 0||f.f6j(this.store.currentTime)}}qll(a){const b=this.XG.Lia.gC;b&&b.wNb(a?0:1)}play(){var a,b;const c=this.XG.Lia.gC;c&&(this.Xt.get()&&c.currentTime>c.duration&&c.seek(0),
(a=this.eY)===null||a===void 0||__c.A4p(a),this.store.Jf||(b=this.eY)===null||b===void 0||__c.E4p(b,{Ye:this.ZLa()}),c.resume(),c.play(),this.nhi=!1)}ZEf(){var a,b;((a=this.XG.Lia.gC)===null||a===void 0?void 0:a.duration)===this.store.currentTime&&this.HLc(0);((b=this.XG.Lia.gC)===null||b===void 0?void 0:b.currentTime)!==this.store.currentTime&&this.seek(this.store.currentTime)}xFk(){this.X0e&&(this.X0e=!1,sIs(this,"COMPOSITE"),this.ZEf(),this.play())}pause(a={seeking:!1,ended:!1}){var b;(b=this.XG.gC)===
null||b===void 0||b.pause({seeking:a.seeking});this.X0e=!1;if(!a.seeking){var c,d,e;(c=this.eY)===null||c===void 0||__c.D4p(c,{SY:a.ended?"ended":"paused",Ye:this.ZLa()});(e=this.eae)===null||e===void 0||e.stop(this.store.currentTime,((d=this.XG.Lia.gC)===null||d===void 0?void 0:d.duration)||0)}this.nhi=a.seeking}R_k(a={ended:!1}){this.seek(this.XG.Lia.gC!=null?Math.min(this.XG.Lia.gC.currentTime,this.XG.Lia.gC.duration):0);this.lic=!1;this.pause({ended:a.ended,seeking:!1})}get bad(){return this.pla.bad.get()}get YKe(){return this.pla.bad.get()!=
null}f0e(a){var b;this.pla.bad.set(Math.floor(((b=a===null||a===void 0?void 0:a.time)!==null&&b!==void 0?b:this.store.currentTime)*1E6));if(a===null||a===void 0?0:a.direction)this.lic=a.direction==="end"}LXe(a){this.YKe&&(this.pla.bad.set(void 0),this.XG.Lia.gC&&this.HLc(this.XG.Lia.gC.currentTime,a))}jCi(){const a=this.pla.bad.get();if(a){var b=this.pla.med;return{XBa:a,Ged:a===0?0:b,X1c:b}}}seek(a,b){var c,d;this.XG.Lia.gC&&((c=this.eY)===null||c===void 0||__c.J4p(c,{Ye:this.ZLa()}));sIs(this,"ANIMATE");
a=Math.max(a,0);(d=this.eae)===null||d===void 0||d.seek(this.store.currentTime,a);qIs(this);this.HLc(a,b);(this.XG.Lia.gC||this.create()).seek(a,{LAf:this.X0e})}XFk(a,b,c){const d=this.XG.Lia.gC||this.create();this.seek(Math.max(0,Math.min(this.store.currentTime+(b==="forwards"?1:-1)*a,d.duration)));this.m1a.track(ZFs,{action:"seek",kb:c})}HLc(a,b){this.YKe||(this.store.UG=a*1E6,b&&(this.lic=b==="end"))}wbe(){this.vrb=null}ZLa(){return this.XG.ycf==="COMPOSITE"?"composite_player":"document_animation_engine"}Rjl(a){this.store.Qfi=
a}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x){this.store=a;this.document=b;this.vd=c;this.viewport=d;this.selection=e;this.Lw=f;this.XG=g;this.jSb=h;this.FM=k;this.m1a=l;this.pla=m;this.ei=p;this.dKe=q;this.Qf=r;this.eae=t;this.eY=u;this.vT=w;this.Xt=x;this.disposables=(zIs.G(this),[]);this.kvk=this.nhi=this.X0e=!1;this.rgh=!0;this.lic=!1;this.vrb=null;dV(()=>!a.wa&&!a.Jf,y=>{!this.nhi&&y&&(this.kvk=!0)});dV(()=>!a.wa&&a.Jf,y=>{var z;y&&((z=this.eY)===null||z===void 0||__c.B4p(z))});dV(()=>{var y;
return d.uh&&{Bg:(y=e.La)===null||y===void 0?void 0:y.Bg,ya:d.ya}},(y,z)=>{if(this.rgh&&f.sfb&&y){var A=y.Bg;if(A){var B,D;y=(B=e.La)===null||B===void 0?void 0:B.inner;y=(y===null||y===void 0?void 0:y.type)==="group"?y===null||y===void 0?void 0:y.group:void 0;if(B=(D=e.La)===null||D===void 0?void 0:D.Qz)switch(B.type){case "fixed-page":z=y;D=B.page;y=this.store.UG;const {qda:G,durationUs:I}=this.Lw.dAa(D);B=G+I;const {startUs:K,durationUs:N}=VWa(A,D,I,z);z=(this.Xt.get()?0:this.vd.tnc(this.document,
D))+K;A=Math.max(G,Math.min(z,B));z=Math.max(G,Math.min(z+N-1,B));if(A>=y||y>=z)A=Math.abs(A-y)<Math.abs(z-y)?A:z,this.HLc(A/1E6,A<B?"start":"end"),this.FG(D);break;case "concatenated-fixed-page":case "responsive-page":break;default:throw new v(B);}}else if(y.ya!==(z&&z.ya)){A=this.store.currentTime;y=this.store.UG;D=this.viewport.ya;const {qda:G,durationUs:I}=this.Lw.dAa(D);!(y>=this.rnf&&this.document.pages.last()===D)&&(D=y<G||y>G+I||!this.lic&&y===G+I,B=!1,this.ei.get()&&this.dKe.get()&&(D=y<=
G,B=y>=G+I),y=this.XG.ya&&!this.document.pages.has(this.XG.ya),D||B||y)&&(this.stop(),D?this.HLc(G/1E6,"start"):B?this.HLc((G+I)/1E6,"end"):this.HLc(A,"start"))}}});dV(()=>{var y;if((y=this.XG.OAe)===null||y===void 0||!y.page)return this.rnf,a.pages},y=>y&&uIs(this,y.map(z=>z.page)));dV(()=>this.rnf,y=>{if(a.UG>y){const z=this.document.pages.last(A=>BV(this.Lw,A));if(z!=null){const {durationUs:A,qda:B}=f.dAa(z);a.UG=Math.min(A+B,y)}this.stop()}});dV(()=>!a.wa&&!a.lI||!this.XG.Lia.gC,y=>{var z;y&&
((z=this.eY)===null||z===void 0||__c.G4p(z,{Ye:this.ZLa(),SY:this.XG.Lia.gC?"ended":"disrupted"}))});dV(()=>a.wa,y=>{if(y){var z,A;(z=this.eae)===null||z===void 0||z.startBuffering(this.store.currentTime);(A=this.eY)===null||A===void 0||__c.Xde(A,{Ye:this.ZLa()})}else{var B,D;(B=this.eae)===null||B===void 0||B.T4a();(D=this.eY)===null||D===void 0||__c.Wde(D)}});dV(()=>a.t8e,y=>{var z,A;if(y){(z=this.eae)===null||z===void 0||z.error();z=this.XG.ycf==="COMPOSITE";if((A=this.eY)!==null&&A!==void 0){var B=
this.ZLa(),D,G,I,K;A.EFg=!0;if(((D=A.NNa)===null||D===void 0?0:D.isRecording())||((G=A.guc)===null||G===void 0?0:G.isRecording())||((I=A.w_b)===null||I===void 0?0:I.isRecording()))((K=A.NNa)===null||K===void 0?0:K.isRecording())&&A.NNa.nb().addEvent("document_watch_error",new Map([["engine",B],["error_data",y]])),__c.G4p(A,{Ye:B,SY:"error"}),__c.L4p(A,{Ye:B,SY:"error"}),z&&__c.D4p(A,{Ye:B,SY:"error"})}if(z){var N;a.CFg=z;sIs(this,"ANIMATE");qIs(this);this.ZEf();((N=this.XG.XDj)===null||N===void 0?
0:N.hje)&&this.play()}}});dV(()=>{var y;return(y=this.jSb)===null||y===void 0?void 0:y.isSupported()},async y=>{y=await y;a.zfi=!!y},{fireImmediately:!0});r0s(()=>a.wa,y=>{this.m1a.track(AMs,{...y,location:"timeline_canvas_preview"})})}};var yIs=class{static G(a){P(a,{Qfi:wV.ref,UG:mV,gC:mV,Jf:mV,wa:mV,lI:mV,pages:mV({equals:lV.shallow}),box:mV.struct,t8e:mV,yKj:mV})}get currentTime(){return this.UG/1E6}get UG(){return this.timing.Gkf}set UG(a){this.timing.Gkf=a}get G5e(){const a=this.viewport.jh;return this.timing.Xt&&a.type==="fixed-page"?this.vd.ub(a.ja):this.vd.Dwb(this.document)}get gC(){return this.XG.gC}get Jf(){var a;return((a=this.gC)===null||a===void 0?void 0:a.paused)===!1}get wa(){var a;return!((a=this.gC)===null||a===
void 0||!a.loading)}get lI(){var a;return!((a=this.gC)===null||a===void 0||!a.seeking)}get pages(){var a=this.XG.configuration;if(a===null||a===void 0?0:a.page)return[a.page];a=this.viewport.jh;return this.timing.Xt&&a.type==="fixed-page"?[this.yi.ub(a.ja)]:this.document.pages.filter(b=>Oub(b,this.document)).map(b=>this.yi.ub(b))}get box(){if(this.viewport.uh&&this.viewport.ya&&this.document.pages.has(this.viewport.ya)){var a=this.viewport.yR(this.viewport.jh);return a&&a.transform(this.viewport.Dsa()).Lb()}}get t8e(){var a,
b;return(b=(a=this.gC)===null||a===void 0?void 0:a.errorMessage)!==null&&b!==void 0?b:void 0}get yKj(){return this.XG.ycf}constructor(a,b,c,d,e,f){this.document=a;this.yi=b;this.viewport=c;this.vd=d;this.timing=e;this.XG=f;this.Qfi=(yIs.G(this),void 0);this.CFg=this.zfi=!1}};var SIs=(a,b,c)=>{const d=jV(null),e=jV(b),f=jV(c),g=jV(0);ZMs(()=>{var h,k=b!==e.current||c!==f.current;e.current=b;f.current=c;if(k){k=g.current;var l,m=((l=(h=d.current)===null||h===void 0?void 0:h.getBoundingClientRect().left)!==null&&l!==void 0?l:0)-k;m!==0&&a.scrollBy({EPg:m,behavior:"instant"})}},[a,b,c]);iV(()=>dV(()=>[a.scrollLeft,a.clientWidth],Db(()=>{var h,k;g.current=(k=(h=d.current)===null||h===void 0?void 0:h.getBoundingClientRect().left)!==null&&k!==void 0?k:0},50)),[a]);return d};var HIs=class{static G(a){P(a,{NBh:wV.ref,JBh:wV.ref,BCh:wV.ref,nWc:wV.ref,EBh:wV.ref,ZAb:fV.bound,PHd:fV.bound,VYb:fV.bound,Gz:fV.bound,U0:fV.bound})}get BU(){return this.BCh}get f5m(){return this.EBh}get PF(){return this.NBh}get isActive(){return this.nWc}ZAb(a){this.nWc=a}get AJ(){return this.JBh}PHd(a,b){if(a!==this.JBh){var c=this.V.sb("set_fixed_width");this.z3f.VYb({N3g:"current_page"});this.JBh=a;setTimeout(()=>{c.addEvent("timeline_zoomed");this.z3f.afl();this.z3f.U0();c.ue({Fx:({Hi:d})=>
KCs(this.N,{AJ:a,Qb:d(),kb:b})})},0)}}VYb(a){var b;if(!this.disabled){this.EBh=this.BU;this.NBh=!0;this.ZAb(!0);a&&this.z3f.VYb(a);var c=((b=this.Cjb)===null||b===void 0?0:b.isRecording())?this.Cjb:this.V.sb("zoom",{Fb:{name:"timeline.zoom",performance:{rV:!0}}});setTimeout(()=>c.addEvent("zoom_start"));this.Cjb=c}}Gz(a){this.BCh=Math.min(Math.max(Math.round(a*100)/100,.1),5);yV.fWj&&this.z3f.afl()}U0(a){var b,c,d;if(!this.disabled){this.NBh=!1;this.z3f.U0();var e=n(this.EBh);this.EBh=void 0;var f=
Math.round(this.BCh*100),g=Math.round(e*100);if(f===g){var h;(h=this.Cjb)===null||h===void 0||h.end()}else{var k=f>g?"zoom_in":"zoom_out";(b=this.Cjb)===null||b===void 0||b.addEvent("zooming");(c=this.Cjb)===null||c===void 0||c.nb().tk(({Hi:l})=>ICs(this.N,{action:k,previous:g,current:f,kb:a,Qb:l()}));(d=this.Cjb)===null||d===void 0||d.ue()}}}get disabled(){return this.Hio.value}uLa(a){return this.Hio.add(a)}constructor(a,b,c,d){this.V=a;this.N=b;this.z3f=d;this.NBh=(HIs.G(this),!1);this.BCh=.6;this.nWc=
!1;this.Hio=new __c.Bk;this.min=.1;this.max=5;this.JBh=c===2}};var IIs=class{static G(a){P(a,{kef:fV.bound})}Evg(){var a;(a=this.container)===null||a===void 0||a.addEventListener("wheel",this.r0g)}kpg(){var a;(a=this.container)===null||a===void 0||a.removeEventListener("wheel",this.r0g)}kef({delta:a,Ti:b}){const c=this.fG,d=c.Gz,e=c.BU,f=c.VYb;c.PF?d(e*s0s**-Math.min(25,Math.max(-25,a))):f({N3g:"cursor",Ti:b});this.s0g()}constructor(a){this.fG=a;this.container=(IIs.G(this),void 0);this.Ixd=!1;this.Qq=b=>{if(b)this.container=b,this.container.addEventListener("wheel",
this.zZg,{passive:!0}),this.Evg();else{var c;(c=this.container)===null||c===void 0||c.removeEventListener("wheel",this.zZg);this.kpg();this.container=void 0}};this.zZg=b=>{if(!b.ctrlKey&&!b.metaKey||this.Ixd)this.kpg(),this.Ixd=!0,this.TSk()};this.TSk=Db(()=>{this.Ixd=!1;this.Evg()},80);this.r0g=b=>{!b.ctrlKey&&!b.metaKey||this.Ixd||(b.preventDefault(),this.kef({delta:b.deltaY,Ti:b.clientX}))};this.s0g=Db(()=>this.fG.U0("scroll"),200)}},s0s=2**.01;var FIs=class{};var JIs=a=>{const b=a.Nus,c=a.aat.BU,[d,e]=nV(c);iV(()=>{d!==c&&(!yV.fWj&&b.afl(),e(c))},[d,c,b])};var GIs=class{constructor(a,b){this.config=a;this.hp=b;this.O3g=this.g1k=0;this.VYb=c=>{c.N3g==="cursor"&&n(this.config.KUq).hide();var d=n(this.config.$el);const e=n(this.config.timeline);d=d.scrollLeft;a:{const {scrollLeft:g,clientWidth:h,E_b:k}=n(this.config.$el),{KSq:l,s0d:m,mUq:p,sFe:q,sHq:r}=n(this.config.timeline);switch(c.N3g){case "playhead_or_center":c=l()||0;var f=q(c);c=g<=f&&f<g+h?c:m(g+h/2-k);break a;case "pinch_centre":case "cursor":c=m(c.Ti-r.get())||0;break a;case "current_page":c=
p();f=q(c);c=g<=f&&f<g+h?c:m(g);break a;default:throw new v(c);}}this.O3g=c;this.g1k=e.sFe(this.O3g)-d};this.afl=()=>{if(this.O3g){var c=n(this.config.$el),d=n(this.config.timeline).sFe(this.O3g)-this.g1k,e=Math.abs(d-this.hp.scrollLeft)>500,f=d+this.hp.clientWidth>this.hp.scrollWidth;yV.Mpq&&e||f?requestAnimationFrame(()=>c.scrollTo(d)):c.scrollTo(d)}};this.U0=()=>{this.g1k=this.O3g=0}}};var NIs=Xc*2;var WIs=({wa:a,sda:b,rba:c,uV:d,currentTime:e,totalTime:f})=>cV(R,{Jb:"3u",children:cV(__c.Pu,{step:"any",onChange:d,onDragStart:b,onDragEnd:c,fillColor:"var(--v7HVIg)",disabled:a,min:0,max:f,value:e,ariaLabel:L("0sE/Rg"),GI:"none"})});var XIs=({MUi:a,Qpp:b,Olp:c})=>kV(__c.Rph,{E6g:["onTouchMove","onClick"],pqg:["touchmove","click"],aNc:a,children:[cV(R,{display:"flex",justifyContent:"center",width:"full",children:cV(b,{})}),cV(c,{})]});var VIs=class{static G(a){P(a,{S0e:wV.ref,MZf:fV.bound,MUi:fV.bound,uV:fV.bound,sda:fV.bound,rba:fV.bound,bho:fV.bound,VAb:fV.bound,Dhf:fV.bound})}MZf(){this.selection.deselectAll();this.pga.Jf?this.onPause():this.onPlay()}MUi(){this.v3k?this.v3k=!1:(this.Wwf=!0,this.pga.stop())}uV(a){this.selection.deselectAll();this.pga.seek(a,"start")}sda(){this.Zwk=!0;this.pga.Iwa(!0);__c.Njj(this.pga,"pause")}rba(){this.Zwk=!1;this.pga.Iwa(!1);if(!this.Wwf)this.onPlay()}bho(){var a;(a=this.ftj)===null||a===void 0||
a.call(this);this.ftj=dV(()=>({Jf:this.pga.Jf,S0e:this.S0e,gm:this.selection.La}),({Jf:b,S0e:c,gm:d})=>{if(!(!(c||Math.abs(this.pga.G5e-this.pga.UG)<1E3)||b||this.Zwk||this.Wwf||d&&d.type!=="audio"))this.onPlay()},{fireImmediately:!0,delay:200})}VAb(a){__c.Njj(this.pga,"pause");a&&(this.uV(0),this.ftj?this.v3k=!0:this.bho(),this.Wwf=!1);this.S0e=a}Dhf(){var a;(a=this.ftj)===null||a===void 0||a.call(this)}onPlay(){this.Wwf=!1;__c.Njj(this.pga,"play",Math.abs(this.pga.G5e-this.pga.UG)<1E3?0:this.pga.UG/
1E6)}onPause(){this.Wwf=!0;__c.Njj(this.pga,"pause")}constructor(a,b){this.selection=a;this.pga=b;this.S0e=(VIs.G(this),!1);this.v3k=this.Zwk=this.Wwf=!1}};var t0s=()=>{const a=gV(b=>{b.stopPropagation();b.preventDefault()},[]);return cV("div",{className:"QTiwOg",onClick:a,onPointerMove:a,onPointerLeave:a,onPointerMoveCapture:a,onTouchMove:a,onTouchStart:a,onTouchEnd:a,onTouchStartCapture:a,onTouchMoveCapture:a,onTouchEndCapture:a})};var u0s=eV(a=>{const b=a.Ci,c=a.store,d=a.L;a=c.a8?J("TGjIVQ",[c.pK]):L("dC44Ug");return cV(b,{onClick:()=>d.Nwo(c),icon:__c.KCj,Ah:"icon",disabled:!c.KN,pressed:c.a8,tooltip:a,$Ba:a,children:a})});var v0s=({document:a,Bd:b,selection:c,P:d,store:e,L:f,xw:g,Wj:h,Dc:k})=>{const l=()=>{var p,q;const r=!g.AJ&&h.hq==="thumbnail",t=c.La&&c.La.type==="pages"&&!((p=c.La)===null||p===void 0?0:p.inner)&&((q=c.La)===null||q===void 0?void 0:q.Ki());return(r||e.ei)&&t&&!k.rKa},m={document:a,store:e,P:d,L:f};dV(l,p=>{b.plugins.jEb=p?()=>({Rd:()=>!(!l()||!e.ei),Button:q=>cV(u0s,{...q,...m})}):void 0})};var w0s=eV(({P_a:a,hq:b,Qf:c,onClick:d,onMouseDown:e,onMouseUp:f})=>{const g=c.C5i;c=c.f4f;a=kV(rV,{children:[g&&cV(g,{}),cV(a,{active:b==="thumbnail",jk:!0,icon:__c.Ear,onClick:d,hb:b==="thumbnail"?L("L7Dryw"):L("6ds0BA"),onMouseDown:e,onMouseUp:f,children:L("Te3Qhw")})]});return c&&b==="thumbnail"?cV(c.zm,{children:a}):a});var x0s=class{static G(a){P(a,{MKg:wV.ref,isMouseDown:wV.ref,kyn:fV.bound,Wxn:fV.bound,lCj:fV,JGn:fV.bound,KGn:fV.bound})}kyn(){var a;const b=this.V.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed"}});this.MKg=!1;this.viewport.xJ(this.viewport.jh);this.Wj.hq="thumbnail";this.Hym.set(!0);(a=this.Qf.f4f)===null||a===void 0||a.kh();b.nb().tk(({Hi:c})=>{FCs(this.Lxc,{hq:"thumbnail_view",itc:"scrolling_view",kb:"click",Qb:c()})});wb.pd?(b.setAttribute("use_animations",!0),setTimeout(()=>{b.ue()},
wYs)):(b.setAttribute("use_animations",!1),b.ue())}Wxn(){var a;const b=this.V.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed",performance:{rV:!0}}});(a=this.Qf.f4f)===null||a===void 0||a.kh();b.nb().tk(({Hi:c})=>{FCs(this.Lxc,{hq:"scrolling_view",itc:"thumbnail_view",kb:"click",Qb:c()})});wb.pd?(b.setAttribute("use_animations",!0),this.MKg=!0,setTimeout(()=>{this.lCj();b.ue()},wYs)):(b.setAttribute("use_animations",!1),this.lCj(),b.ue())}lCj(){this.Wj.hq="scroll";this.Hym.set(!0);this.MKg=
!1}JGn(){this.isMouseDown=!0}KGn(){this.isMouseDown=!1}constructor(a,b,c,d,e,f){this.viewport=a;this.Wj=b;this.Qf=c;this.Ma=d;this.Lxc=e;this.V=f;this.MKg=(x0s.G(this),!1);this.isMouseDown=!1;this.Hym=wV.box(!1);this.Ma.Fmf(()=>this.isMouseDown)}};var y0s=class{azo({kb:a,nb:b,$ee:c}){__c.$Is(this,{action:"add",kb:a,nb:b,$ee:c,o4e:c})}lEl(){this.N.track(__c.HZg,{location:"page_manager"})}bzo({Vb:a,kb:b}){this.N.track(__c.gph,{Vb:a.toString(),kb:b})}constructor(a){this.N=a}};var z0s,A0s,B0s,C0s;
new (z0s=class extends IV{constructor(){super(C0s);A0s()}},(()=>{class a extends(B0s=GV){static G(b){P(b,{onClick:fV.bound})}render(){return cV(this.props.fF,{onClick:this.onClick,VA:this.props.config.active,AY:__c.Byr,children:L("PMajWQ")})}onClick(){const b=this.props.config;var c=this.props.Wj;const d=this.props.onClick,e=this.props.oa,f=this.props.N;d();c=c.hq==="thumbnail"?"thumbnail_view":"scrolling_view";FCs(f,{hq:b.active?c:"grid_view",itc:b.active?"grid_view":c,kb:"file_menu"});e&&e()}constructor(...b){super(...b);
a.G(this)}}({c:[C0s,A0s]}=JV(a,[],[Lb],B0s))})(),z0s);var D0s,E0s,F0s=class extends GV{componentDidMount(){Gb(this,Lrs(()=>{const a=this.props.config.active,b=this.Qi.current;a&&(this.sLn=!0);b&&!a&&this.sLn&&b.focus()},{scheduler:requestAnimationFrame}))}render(){const a=this.props.config,b=this.props.Qf,c=this.props.P_a,d=this.props.onClick,e=this.props.loading,f=this.props.disabled;return kV("div",{className:"IEWxtg",children:[(b===null||b===void 0?void 0:b.PAh)&&cV(b.PAh,{}),cV(c,{Qi:this.Qi,hb:a.active?L("uOeEsg"):L("Agz4jg"),className:AV("pnGOPw"),
icon:__c.Byr,loading:e,onClick:d,active:a.active,jk:!0,disabled:f})]})}constructor(...a){super(...a);this.Qi=HV();this.sLn=!1}};({c:[E0s,D0s]}=JV(F0s,[],[Lb],GV));D0s();var G0s=class{static G(a){P(a,{z2b:wV.ref})}constructor(){this.z2b=(G0s.G(this),void 0)}},H0s=class extends G0s{static G(a){P(a,{active:wV.ref,WBi:wV.ref,Overlay:wV.ref})}constructor(...a){super(...a);this.active=(H0s.G(this),!1);this.WBi=0}};var I0s=class{kco(a){this.Sjd=a}constructor(a){this.config=a;this.Sjd=void 0;this.w5a=async b=>{this.Sjd&&await this.Sjd();oV(()=>{this.config.WBi=b})};this.Kge=async()=>{const b=!this.config.active;b&&this.Sjd&&await this.Sjd();oV(()=>{b&&this.w5a(0);this.config.active=b})}}};var J0s=({isActive:a,jjr:b})=>cV("span",{className:AV("Wo8dEg",{znpHJQ:a,fxZSqw:b})}),bJs=({Vq:a,hGa:b,onNext:c,TRe:d})=>{const [e,f]=nV(1);iV(()=>{a<e?f(a):a>=e+5&&f(a-5+1)},[e,a]);const g=xV(()=>Array.from({length:Math.min(e+5-1,b)-e+1},(h,k)=>e+k),[e,b]);return kV(hr,{columns:3,Fa:"center",children:[kV(R,{display:"flex",justifyContent:"start",children:[cV(Yi,{variant:"tertiary",icon:tr,onClick:d,disabled:a<=1,size:"small",ariaLabel:L("a9/EUw")}),cV(Yi,{variant:"tertiary",icon:ur,onClick:c,disabled:a>=
b,size:"small",ariaLabel:L("OmU55Q")})]}),cV(R,{display:"flex",alignItems:"center",justifyContent:"center",children:g.map((h,k)=>{const l=h===a;k=k===0||k===g.length-1;return cV(J0s,{isActive:l,jjr:!l&&k&&b>5},h)})}),cV(R,{display:"flex",justifyContent:"end",children:cV(Q,{size:"small",weight:"bold",children:J("PSmC9g",[a,b])})})]})};var aJs=class{static G(a){P(a,{rVm:fV.bound,uVm:fV.bound,Vq:mV,hGa:mV})}rVm(){this.rfa(this.FKj+1)}uVm(){this.rfa(this.FKj-1)}get Vq(){return this.FKj+1}get hGa(){return this.document.pages.toArray().length}rfa(a){const b=this.document.pages.toArray();a>=0&&a<b.length&&this.viewport.xJ(this.yi.ub(b[a]))}get FKj(){return this.document.pages.toArray().indexOf(this.viewport.ya)}constructor(a,b,c){this.document=a;this.yi=b;this.viewport=c;aJs.G(this)}};var K0s=eV(a=>{const b=a.qc,c=a.page;var d=a.Sc;const e=ug(4,a.eb.Zk(c.page));if(xg(e))return null;a=e.width*d.scale;d=e.height*d.scale;return cV("div",{className:"_4zNepg",children:kV("div",{className:"QqGjMw",children:[cV(b,{page:c,ld:a,tf:d,Uab:!0}),cV(b,{page:c,ld:a,tf:d,Uab:!0})]})})});var L0s=class{static G(a){P(a,{Fae:wV.ref,ZTa:wV.ref,YSc:wV.ref,S8d:wV.ref})}constructor(){this.Fae=(L0s.G(this),void 0)}};var M0s=class{async Fae(a){var b=a.selection;const c=a.Fae;a=Sns(this.document,a.selection.container.page,this.Pb,b.elements,this.Tja,this.FE);const {ZB:d,Ou:e}=await Bns(this.JMb,b.elements);b=this.document.pages.toArray().indexOf(b.Qz.page);c({Ia:a,ZB:d,Ou:e},b+1);this.Q_c.iya({Yc:"export_selection",WT:[b]})}constructor(a,b,c,d,e,f,g,h){this.config=a;this.document=b;this.Pb=c;this.selection=d;this.JMb=e;this.Tja=f;this.FE=g;this.Q_c=h}},dJs=["https://app.flourish.studio/","https://public.flourish.studio/",
"https://flourish-user-preview.com/","https://flo.uri.sh/"];var iJs='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><filter id="_1037106200__a" width="250%" height="250%" x="-75%" y="-66.7%" filterUnits="objectBoundingBox"><feMorphology in="SourceAlpha" operator="dilate" radius=".5" result="shadowSpreadOuter1"/><feOffset in="shadowSpreadOuter1" result="shadowOffsetOuter1"/><feColorMatrix in="shadowOffsetOuter1" result="shadowMatrixOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.20 0"/><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"/><feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="2.5"/><feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="shadowMatrixOuter2"/></feMerge></filter><path id="_1037106200__b" d="M10 18.95a2.51 2.51 0 0 1-3-2.45v-7a2.5 2.5 0 0 1 2.74-2.49L10 7h6a3 3 0 0 1 3 3h-9v8.95z"/></defs><use fill="0d1216" filter="url(#_1037106200__a)" xlink:href="#_1037106200__b"/><use fill="currentColor" xlink:href="#_1037106200__b"/></svg>';var N0s=16/9,O0s=class{static G(a){P(a,{region:wV.ref,r$f:wV.ref,xne:wV.ref,H7g:mV,dAd:mV({equals:__c.ok(lV.shallow)}),tzd:mV({equals:__c.ok(lV.shallow)}),aspectRatio:mV})}get H7g(){var a;return(a=this.config.YSc)===null||a===void 0?void 0:a.get(this.viewport.ya)}get dAd(){if(pf(this.viewport.ya))return{x:0,y:0};if(this.H7g)return this.H7g.tl}get tzd(){if(!pf(this.viewport.ya)&&this.H7g)return this.H7g.br}get aspectRatio(){if(pf(this.viewport.ya))return N0s}constructor(a,b){this.config=a;this.viewport=
b;this.region=(O0s.G(this),Nj(0,0,0,0))}},P0s=class{static G(a){P(a,{ivo:mV,XXm:fV.bound,WXm:fV.bound,VXm:fV.bound,sYm:fV.bound,rYm:fV.bound,qYm:fV.bound})}get ivo(){if(this.config.S8d&&this.config.ZTa){var a=this.config.ZTa.get(this.viewport.ya);if(a){oV(()=>{this.store.region=a});var b=this.config.S8d;return{S8d:c=>{b(this.viewport.ya,c)},Qm:()=>this.viewport.Qm(this.viewport.jh)}}}}XXm(a){this.store.r$f=a}WXm(a){if(this.store.r$f){var [b,c,d,e]=this.store.region.ih(),f=b.x,g=b.y,h=e.x,k=e.y;switch(this.store.r$f){case "top-left":f=
a.x;g=a.y;a=e;break;case "top-right":h=a.x;g=a.y;a=d;break;case "bottom-left":f=a.x;k=a.y;a=c;break;case "bottom-right":h=a.x;k=a.y;a=b;break;default:throw new v(this.store.r$f);}this.store.dAd!=null&&(f=Math.max(f,this.store.dAd.x),g=Math.max(g,this.store.dAd.y));this.store.tzd!=null&&(h=Math.min(h,this.store.tzd.x),k=Math.min(k,this.store.tzd.y));h<=f+this.minWidth&&(a===b||a===d?h=f+this.minWidth:f=h-this.minWidth);var l,m=this.minWidth/((l=this.store.aspectRatio)!==null&&l!==void 0?l:1);k<=g+
m&&(a===b||a===c?k=g+m:g=k-m);f=Nj(f,g,h,k);if(this.store.aspectRatio!=null){let r;if(a===d||a===e)r=a.y;g=Math.max(f.width,this.minWidth);var p;h=g/((p=this.store.aspectRatio)!==null&&p!==void 0?p:1);if(r&&h>r){h=r;var q;g=h*((q=this.store.aspectRatio)!==null&&q!==void 0?q:1)}f=f.resizeTo(a,g,h)}this.store.region=f}}VXm(a){this.store.r$f=void 0;a(this.store.region)}sYm(a,b){this.store.xne={Tna:a,kga:b}}rYm(a){if(this.store.xne){var b=this.store.xne.Tna;b=this.store.region.translate(a.x-b.x,a.y-b.y);
var c=b.tl,d=b.br;this.store.dAd!=null&&(c.x<this.store.dAd.x&&(b=b.translate(this.store.dAd.x-c.x,0)),c.y<this.store.dAd.y&&(b=b.translate(0,this.store.dAd.y-c.y)));this.store.tzd!=null&&(d.x>this.store.tzd.x&&(b=b.translate(this.store.tzd.x-d.x,0)),d.y>this.store.tzd.y&&(b=b.translate(0,this.store.tzd.y-d.y)));this.store.region=b;this.store.xne.Tna=a}}qYm(a){this.store.xne&&(this.store.xne.kga(),this.store.xne=void 0,a(this.store.region))}constructor(a,b,c,d=100){this.store=a;this.config=b;this.viewport=
c;this.minWidth=d;P0s.G(this)}};var jJs=class{static G(a){P(a,{Ath:wV.shallow,y3a:fV.bound})}async y3a(a){this.Ath?this.Ath.L.nPk(a):this.kLc||(this.kLc=this.xrr().then(b=>{oV(()=>{this.Ath=b;this.Ath.L.nPk(a)})}))}constructor(a){this.xrr=a;this.Ath=(jJs.G(this),void 0)}};var Q0s=Rb("51b692ce",!1);var R0s=Rb("5a89daf5",!1),S0s=Rb("2cd7bf1",!1);var T0s,U0s,V0s,W0s,X0s,Y0s,Z0s;
new (T0s=class extends IV{constructor(){super(Z0s);V0s()}},(()=>{class a extends(W0s=GV){static G(b){P(b,{Ddl:wV.ref,rEa:mV,ya:mV,h_c:mV,Kjo:mV})}componentDidMount(){const b=this.props.viewport,c=this.props.L;Gb(this,[dV(()=>b.uh&&b.IS?b.XB():void 0,d=>d&&c.$Bc()),dV(()=>b.uh&&b.IS?b.ya:void 0,d=>{d&&((d=c.BCg(c.viewport.ya))&&c.hjb(c.viewport.ya,d),d=void 0);return d},{scheduler:c.vel})])}get rEa(){return this.props.direction==="horizontal"}get ya(){return this.props.viewport.ya}get h_c(){return this.props.L.BCg(this.ya)}get Kjo(){return ik(this.ya,this.props.document.dimensions)||
this.props.viewport.IS&&!pf(this.ya)}render(){const b=this.props.document,c=this.props.viewport,d=this.props.Lo,e=this.props.L,f=this.props.canDrag,g=this.props.cda,h=this.props.Mkp;if(!c.uh)return null;const k=this.ya,l=this.h_c,m=`${l}-${this.Ddl}`,p=this.props.direction==="horizontal",q=AV("Jenr8g",{L_t7dw:p,aLiuUA:!p,hMlp2g:uc.NT,[this.cHa.get()]:f});return cV(__c.TTf,{canDrag:this.canDrag,onDragStart:this.onDragStart,qe:this.qe,onDragEnd:this.onDragEnd,Fw:this.Fw,tte:!0,cHa:f?this.cHa:void 0,
children:({onTouchStart:r,onMouseDown:t})=>cV(fNs["default"],{onResize:this.onResize,bounds:!0,children:({measureRef:u})=>kV("button",{ref:u,className:q,onTouchStart:r,onMouseDown:t,children:[p||c.IS?l&&this.Kjo&&cV($0s,{document:b,viewport:c,L:e,id:l,page:k,rEa:p,DVg:!1,cda:g},m):b.pages.map((w,x)=>{const y=parseInt(x,10)===b.pages.count()-1;return ik(w,b.dimensions)&&cV($0s,{document:b,viewport:c,Lo:d,L:e,id:x,page:w,rEa:p,DVg:y,cda:g},x)}),h&&cV(h,{})]})})})}constructor(...b){super(...b);this.Ddl=
(Z0s.G(this),0);this.isDragging=!1;this.onResize=c=>{if(!ik(this.ya,this.props.document.dimensions)){const d=n(c.bounds);oV(()=>{this.Ddl=this.rEa?d.width:d.height;this.props.L.$Bc()})}};this.onDragStart=c=>{var d=this.props.T8b,e=this.props.direction==="horizontal"?1:2;const f=d.L.svl();e=d.L.IDh(new sj(c.clientX,c.clientY),e,"drag_from_ruler");d.L.onDragStart(c,e,f);this.isDragging=!0};this.canDrag=()=>this.props.canDrag;this.qe=c=>{this.isDragging&&this.props.T8b.qe(c)};this.Fw=c=>{this.isDragging&&
this.props.T8b.Fw(c)};this.onDragEnd=()=>{this.isDragging&&this.props.T8b.onDragEnd();this.isDragging=!1};this.cHa=mV(()=>__c.dy(new __c.J9g(this.rEa?0:90)))}}({c:[Z0s,V0s]}=JV(a,[],[Lb],W0s))})(),T0s);var $0s;
new (U0s=class extends IV{constructor(){super($0s);X0s()}},(()=>{class a extends(Y0s=GV){static G(b){P(b,{visible:wV.ref,xP:fV.bound,uGd:mV,increment:mV,ASf:mV({equals:lV.shallow}),M1n:mV,p9l:mV,zvl:mV,segments:mV,l3d:mV})}componentDidMount(){const b=this.props.page,c=this.props.id,d=this.props.viewport,e=this.props.document,f=this.props.L,g=ik(b,e.dimensions);Gb(this,[dV(()=>({dimensions:this.uGd,uf:e.pages.count(),Tu:d.Tu,LKg:!this.props.cda.get()}),()=>{f.hjb(b,c)},{scheduler:g?f.vel:void 0,equals:lV.structural})]);
this.props.Lo?Gb(this,[this.props.Lo.observe(this.L1n.current,this.xP)]):this.xP(!0)}get uGd(){var b=this.props.L,c=this.props.page;const d=jk(c,b.document.dimensions);if(ik(c,b.document.dimensions))b={...d,top:0,left:0,zoom:b.viewport.cQ(c),mMg:!1};else if(b.Ksq)if(b.store.mJg!==void 0){var e,f;const {width:g=0,height:h=0,top:k=0,left:l=0}=(f=(e=b.store.lQ)===null||e===void 0?void 0:e.Lb())!==null&&f!==void 0?f:{};c=b.viewport.zoom.scale;b={width:g/c,height:h/c,units:d.units,top:k,left:l+(b.hj?g||
0:0),zoom:c,mMg:!1}}else b=rJs(b,c,d);else b=rJs(b,c,d);return b}get increment(){a:{var b=this.uGd;var c=b.units;b=b.zoom;for(const d of a1s)if(b*d*Mv(c)>=34){c=d;break a}c=a1s[0]}return c}get ASf(){{var b=this.uGd;var c=this.increment,d=b.width,e=b.height;const f=b.units;e=this.props.rEa?d:e;e===0?b={zSf:0,qZe:0}:(d=Math.floor(e/c),c=d===0?34:c*Mv(f)*b.zoom,b={zSf:Math.max(e*Mv(f)*b.zoom-d*c>c/2?d+1:d,1)+1,qZe:c})}return b}get M1n(){return mJs(this.props.L,{...this.ASf,rEa:this.props.rEa,uGd:this.uGd,
DVg:this.props.DVg})}get p9l(){return this.ASf.qZe>51?4:1}get zvl(){var b=this.uGd,c=this.increment;const d=this.props.rEa?b.left:b.top;return b.mMg?Math.floor(d/c)*c:0}get segments(){return this.props.L.getSegments(this.zvl,this.increment,this.ASf.zSf,this.ASf.qZe)}get l3d(){return this.props.L.l3d}render(){const b=this.p9l,c=this.M1n,d=this.segments,e=this.props.rEa,f=this.ASf.qZe;var g=nJs(this.props.L,this.props.page,this.props.id,this.uGd,this.zvl,e);const h=e?g:0;g=e?0:g;const k=AV("_2FlpPA",
{_9gZ9sA:this.l3d,Mfjqtw:this.props.DVg}),l={width:e?f:void 0,height:e?void 0:f};return cV("span",{ref:this.L1n,className:"s_6adA",style:{transform:`translate(${h}px, ${g}px)`,width:e?c:void 0,height:e?void 0:c},children:this.visible&&cV("span",{className:"j_ppcA",children:d.map((m,p)=>kV("span",{className:k,style:l,children:[cV("span",{className:"ZCbumA nbfwjw",style:{visibility:m.visible?"visible":"hidden"},children:cV("span",{className:"Wv5dfA",children:m.label})}),kV("span",{className:"u5M_pQ",
children:[oc(b).map(q=>cV("span",{className:"FrC_Jg"},q)),cV("span",{className:"BN56bQ"}),oc(b).map(q=>cV("span",{className:"FrC_Jg"},q))]})]},p))})})}constructor(...b){super(...b);this.L1n=($0s.G(this),HV());this.visible=!1;this.xP=c=>this.visible=c}}({c:[$0s,X0s]}=JV(a,[],[Lb],Y0s))})(),U0s);
var b1s=class extends GV{componentDidMount(){Gb(this,[Lrs(()=>{var a,b;const c=this.props.lQ,d=this.props.qch;var e=this.props.BCg,f=this.props.DCg;const g=this.props.direction==="horizontal";var h,k=(h=(a=this.props.mJg.get())===null||a===void 0?void 0:a.Lb())!==null&&h!==void 0?h:(b=c.get())===null||b===void 0?void 0:b.Lb();e=(a=d.get())?e(a):void 0;k&&a&&e&&(e=f(a,e,g),f=g?k.width:k.height,k=g?e+k.left:e+k.top,e=this.NWd.current)&&(a=g?f:void 0,f=g?void 0:f,a&&(e.style.width=`${a}px`),f&&(e.style.height=
`${f}px`),e.style.transform=g?`translateX(${k}px)`:`translateY(${k}px)`)},{scheduler:requestAnimationFrame})])}render(){return cV("span",{className:"MORSCw",ref:this.NWd})}constructor(...a){super(...a);this.NWd=HV()}};var oJs={eventType:"editor_ruler_view_toggled",Oa(a){return rf({previous:a.previous,value:a.value,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var a1s=[1,2,5,10,20,50,100,200,500,1E3,2E3,5E3],c1s=class{static G(a){P(a,{zYe:wV.deep,$Bc:fV.bound,l3d:mV})}$Bc(){this.zYe=new Map}get l3d(){return this.store.l3d}BCg(a){return this.document.pages.has(a)?this.document.pages.vfa(a):void 0}getPosition(a,b,c){var d=this.zYe.get(b);if(d)return c?this.hj?d.x*-1:d.x:d.y;if(this.viewport.IS)return this.hjb(a,b),(d=this.zYe.get(b))?c?this.hj?d.x*-1:d.x:d.y:0;this.vel(fV(()=>this.hjb(a,b)));return 0}hjb(a,b){if(this.document.pages.has(a)){if(this.viewport.uh){switch(a.type){case "fixed":case "responsive":var c=
Ef(this.document).ub(a);break;case "concatenated-fixed":c=Ef(this.document).ub(a).ub(n(a.pages.first()));break;default:throw new v(a);}a=(ik(a,this.document.dimensions)?this.viewport.Qm(c).invert():qJs(this,a).invert()).then(this.viewport.Dsa()).transform(0,0)}else a=void 0;a&&((c=this.zYe.get(b))&&c.x===a.x&&c.y===a.y||this.zYe.set(b,a))}}getSegments(a,b,c,d){if(c<=0||b<=0||d<=0)return[];const e=Math.max(1,Math.ceil(8*Math.max(`${a}`.length,`${a+b*(c-1)}`.length)/d));return oc(c).map(f=>{f=a+b*f;
return{label:f,visible:Math.round(f/b)%e===0}})}vel(a){requestAnimationFrame(()=>setTimeout(a,0))}constructor(a,b,c,d,e,f,g,h){this.store=a;this.canvas=b;this.viewport=c;this.document=d;this.T8b=e;this.hj=f;this.N=g;this.Ksq=h;this.zYe=(c1s.G(this),void 0);this.zYe=new Map}};var d1s=class{static G(a){P(a,{enabled:mV,Mpl:mV,pYc:mV,l3d:mV,lQ:mV,mJg:mV,qch:mV,Fmo:mV})}get enabled(){return this.T8b.uWm}get Mpl(){return this.ka.layout===1&&this.viewport.uh&&!(this.viewport.IS&&pf(this.viewport.ya))&&(this.Pxq||this.viewport.gZ)}get pYc(){return ik(this.viewport.ya,this.document.dimensions)&&this.T8b.pYc}get l3d(){return this.canvas.H3a==="none"}get lQ(){const a=this.selection.La;if((a===null||a===void 0?void 0:a.type)==="elements"&&a.box)return Pj(a.box).transform(sJs(this,
a.Yo)).transform(Gj(this.viewport.zoom.scale))}get mJg(){var a;const b=this.selection.La;if((b===null||b===void 0?void 0:b.type)==="elements"&&this.lQ&&(a=b.inner)!==null&&a!==void 0&&a.box){var c=b.elements.find(f=>f.type==="group"||f.type==="table"||f.type==="grid");if(c){a=c.type==="grid"?1:c.height/c.Ub;var d={x:c.width/2,y:c.height/2},e=c.rotation*Math.PI/180;c=Pj(Qj({top:0,left:0,width:c.width,height:c.height,rotation:0}).transform(Gj(this.viewport.zoom.scale)).transform(Jj(d,e)));return Pj(b.inner.box.transform(Gj(a)).transform(sJs(this,
b.Yo)).transform(Gj(this.viewport.zoom.scale)).transform(Jj(d,e)).transform(Fj(-c.tl.x,-c.tl.y)).translate(this.lQ.tl.x,this.lQ.tl.y))}}}get qch(){const a=this.selection.La;return a&&a.type==="elements"?a.Yo:void 0}get Fmo(){return this.Ma.mode>10&&!!this.qch}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.Ma=d;this.selection=e;this.T8b=f;this.ka=g;this.hj=h;this.Pxq=k;d1s.G(this)}};var e1s=class extends GV{static G(a){P(a,{onClick:fV.bound})}onClick(){const a=this.props.oa,b=this.props.ZCa,c=this.props.onClick;b===null||b===void 0||b();c();a===null||a===void 0||a()}render(){return cV(this.props.fF,{onClick:this.onClick,hm:this.props.hm,VA:this.props.isEnabled,children:L("P76q1Q")})}constructor(...a){super(...a);e1s.G(this)}};var f1s='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v5H10v11H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Zm-2-.5h-3.5v4h4V5a.5.5 0 0 0-.5-.5Zm-9 0h4v4h-4v-4Zm-5 0h3.5v4h-4V5a.5.5 0 0 1 .5-.5ZM4.5 14v-4h4v4h-4Zm0 5v-3.5h4v4H5a.5.5 0 0 1-.5-.5Z"/><path d="M20.86 15.498a.75.75 0 0 0-1.014-.31l-1.543.82V14.25a.75.75 0 0 0-1.5 0v1.762l-1.55-.825a.75.75 0 1 0-.704 1.325l1.403.746-1.404.746a.75.75 0 1 0 .704 1.325l1.551-.825v1.746a.75.75 0 0 0 1.5 0v-1.742l1.544.82a.75.75 0 1 0 .704-1.324l-1.404-.746 1.403-.746a.75.75 0 0 0 .31-1.014Z"/></svg>';var JJs=br({medium:f1s});var BJs=({Kc:a})=>cV(Ik,{tone:"warn",Icon:au,dismissible:!0,Kc:a,children:L("JYYaOw")}),zJs=({Kc:a})=>cV(Ik,{tone:"warn",Icon:au,dismissible:!0,Kc:a,children:L("iXG+DQ")}),wJs=({xgg:a,Kc:b})=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:b,children:J("GKdAGA",[a])}),vJs=({xgg:a,Kc:b})=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:b,children:J("Dl7Bhw",[a])});var IJs=class{constructor(a,b,c,d,e){this.Pb=a;this.yG=b;this.P=c;this.V=d;this.alert=e}};var HJs=class{static G(a){P(a,{w1n:mV,Dim:mV,D1n:mV,Fim:mV,Uzg:mV,Tph:mV,pZa:mV})}get w1n(){var a;return(a=this.Uzg)===null||a===void 0?void 0:a.find(b=>b.type==="row")}get Dim(){var a;return(a=this.Uzg)===null||a===void 0?void 0:a.find(b=>b.type==="column")}get D1n(){var a;return(a=this.Tph)===null||a===void 0?void 0:a.find(b=>b.type==="row")}get Fim(){var a;return(a=this.Tph)===null||a===void 0?void 0:a.find(b=>b.type==="column")}O3c(a){return a.view.freeze.vJa?a.layout.wF.get(a.view.freeze.vJa):
void 0}N3c(a){return a.view.freeze.fza?a.layout.nG.get(a.view.freeze.fza):void 0}get Uzg(){var a=this.selection.La,b=this.selection.Ib;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,FJs(a,b.rows,b.columns,b.cells,this.O3c(a),this.N3c(a)).filter(c=>c.type==="column");case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;
if(Ul(this.uc,a.container.ub(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,FJs(b,a.inner.rows,a.inner.columns,a.inner.cells,this.O3c(b),this.N3c(b));case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}get Tph(){var a=this.selection.La;const b=this.selection.Ib;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,GJs(a,this.O3c(a),
this.N3c(a));case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return a=a.inner.page.sheet,GJs(a,this.O3c(a),this.N3c(a));case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}get pZa(){const a=this.selection.La,b=this.selection.Ib;switch(b===null||b===
void 0?void 0:b.type){case void 0:break;case 4:return{sheet:b.container.sheet.config,cells:b.cells,rows:b.rows,cols:b.columns,fz:new qA(b.container.container.Dw(b.container.sheet),this.ed,this.viewport)};case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "pages":var c;switch((c=a.inner)===null||c===void 0?void 0:c.type){case "sheet":return{sheet:a.inner.page.sheet,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,
fz:new oA(a.container.ub(a.inner.page),this.viewport,this.Ma)};case "background":case "pages":case "sheet-cell-media":case void 0:return;default:throw new v(a.inner);}case "elements":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case "sheet":return{sheet:a.inner.sheet.config,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,fz:new nA(a.container.Tf(a.inner.sheet),this.viewport)};case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":case void 0:return;
default:throw new v(a.inner);}case "audio":break;default:throw new v(a);}}constructor(a,b,c,d,e){this.selection=a;this.uc=b;this.viewport=c;this.ed=d;this.Ma=e;HJs.G(this)}};var g1s=({Kc:a})=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:a,children:L("3qZXBg")}),h1s=({Kc:a})=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:a,children:L("7TGn1w")});var MJs=class{static G(a){P(a,{mergeCells:fV.bound,Egd:fV.bound})}mergeCells(a){var b;const c=a.sheet;a=a.cells;const d=new __c.CB;for(var e of a){var f,g;const k=(g=(f=c.layout.cells.get(e.row,e.column))===null||f===void 0?void 0:f.span)!==null&&g!==void 0?g:{Yb:e.row,$b:e.column,Te:e.row,Ve:e.column};d.add([k.Yb,k.$b]);d.add([k.Yb,k.Ve]);d.add([k.Te,k.$b]);d.add([k.Te,k.Ve])}f=d.map(([k,l])=>({row:k,column:l}));if(!(f.length<1)){if(g=this.O3c(c)){e=c.layout.rows.Wi(f[0].row,g)>0?"after":"before";
for(var h of f)if((c.layout.rows.Wi(h.row,g)>0?"after":"before")!==e){const k=this.alert.wq(()=>cV(h1s,{Kc:k}));return}}if(h=this.N3c(c)){g=c.layout.cols.Wi(f[0].column,h)>0?"after":"before";for(const k of f)if((c.layout.cols.Wi(k.column,h)>0?"after":"before")!==g){const l=this.alert.wq(()=>cV(g1s,{Kc:l}));return}}(b=this.Si)===null||b===void 0||b.mergeCells(c,a.map(k=>k))}}Egd(a){var b;const c=a.sheet;a=a.qb;(b=this.Si)===null||b===void 0||b.Egd(c,a)}O3c(a){return a.view.freeze.vJa?a.layout.wF.get(a.view.freeze.vJa):
void 0}N3c(a){return a.view.freeze.fza?a.layout.nG.get(a.view.freeze.fza):void 0}constructor(a,b){this.Si=a;this.alert=b;MJs.G(this)}};var LJs=class{static G(a){P(a,{hqn:mV,rCo:mV})}get hqn(){var a=this.selection.La,b=this.selection.Ib;if(this.Si){switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,b=b.cells,this.Si.fSd(a,b.map(c=>c))?{sheet:a,cells:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.uc.Nq({element:d,
container:c})))break;switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,a=a.inner.cells,this.Si.fSd(b,a.map(d=>d))?{sheet:b,cells:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;if(Ul(this.uc,a.container.ub(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,a=a.inner.cells,this.Si.fSd(b,a.map(d=>d))?{sheet:b,cells:a}:
void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}}get rCo(){var a=this.selection.La,b=this.selection.Ib;if(this.Si){switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,(b=b.anchor)&&__c.Tms(a,b)?{sheet:a,qb:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;
switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,(a=a.inner.anchor)&&__c.Tms(b,a)?{sheet:b,qb:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,(a=a.inner.anchor)&&__c.Tms(b,a)?{sheet:b,qb:a}:void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new v(a.inner);
}break;case "audio":break;default:throw new v(a);}}}constructor(a,b,c){this.selection=a;this.uc=b;this.Si=c;LJs.G(this)}};var RJs=class{static G(a){P(a,{eSk:fV.bound,dSk:fV.bound})}eSk(a){var b;if(a&&a.type==="row"){var c=this.V.sb("move_row_clicked",{Fb:{name:"editor.editing.tabulating.moving"}}),d=a.content.sheet,e=a.content.rows,f=a.content.target;a=a.direction==="up"?"before":"after";(b=this.Si)===null||b===void 0||b.pPe(d,e,f,a,c,"contextual_menu");c.end()}}dSk(a){var b;if(a&&a.type==="column"){var c=this.V.sb("move_col_clicked",{Fb:{name:"editor.editing.tabulating.moving"}}),d=a.content.sheet,e=a.content.columns,
f=a.content.target;a=d.direction==="rtl"?a.direction==="left"?"after":"before":a.direction==="left"?"before":"after";(b=this.Si)===null||b===void 0||b.mPe(d,e,f,a,c,"contextual_menu");c.end()}}constructor(a,b){this.Si=a;this.V=b;RJs.G(this)}};var QJs=class{static G(a){P(a,{Frn:mV,Ern:mV,Brn:mV,Crn:mV,lPe:mV})}get Frn(){var a;return(a=this.lPe)===null||a===void 0?void 0:a.find(b=>b.type==="row"&&b.direction==="up")}get Ern(){var a;return(a=this.lPe)===null||a===void 0?void 0:a.find(b=>b.type==="row"&&b.direction==="down")}get Brn(){var a;return(a=this.lPe)===null||a===void 0?void 0:a.find(b=>b.type==="column"&&b.direction==="left")}get Crn(){var a;return(a=this.lPe)===null||a===void 0?void 0:a.find(b=>b.type==="column"&&b.direction==="right")}get lPe(){const a=
this.selection.La,b=this.selection.Ib;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return PJs(b.container.sheet.config,b.rows,b.columns,this.Si);case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.uc.Nq({element:d,container:c})))break;switch(a.inner.type){case "sheet":return PJs(a.inner.sheet.config,a.inner.rows,a.inner.columns,
this.Si);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;if(Ul(this.uc,a.container.ub(a.inner.page)))break;switch(a.inner.type){case "sheet":return PJs(a.inner.page.sheet,a.inner.rows,a.inner.columns,this.Si);case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}constructor(a,b,c){this.selection=
a;this.uc=b;this.Si=c;QJs.G(this)}};var VJs={[0]:1,[1]:2,[2]:3,[3]:4,[4]:5,[5]:6},UJs={oja:!0,nja:!0,qja:!0,pja:!0,Hoa:!0,Goa:!0,Joa:!0,Ioa:!0,JPa:!0,IPa:!0,LPa:!0,KPa:!0},hKs=class{Dod(a){switch(a.type){case "formula":return __c.WMc.snapshot(a);case "boolean":return __c.XMc.snapshot(a);case "number":return __c.ZMc.snapshot(a);case "plaintext":return __c.$Mc.snapshot(a);case "media":return __c.bNc.snapshot(a);case "mention":return __c.cNc.snapshot(a);case "embed":return __c.eNc.snapshot(a);case "text2":return __c.oSc.snapshot(a);case "text3":return __c.HUc.snapshot(a);
default:throw new v(a);}}zBc(a,b,c){const d=a.LJ(b.row);b=a.YJ(b.column);const e=a.LJ(c.row);a=a.YJ(c.column);if(![d,b,e,a].some(f=>f===-1))return{jt:e-d,FR:a-b}}constructor(a,b,c,d,e,f,g){this.Jn=a;this.$ja=b;this.xB=c;this.Naa=d;this.Tc=e;this.DNb=f;this.Si=g}};var YJs=({xgg:a,Kc:b})=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:b,children:J("4G5hmA",[a])}),XJs=({Kc:a})=>cV(Ik,{tone:"critical",Icon:au,dismissible:!0,Kc:a,children:L("6PpZ0g")});var gKs=class{fkl(a,b,c){a.cDh=c?b:void 0}JYi(a,b){var c;const d=a.ste;if(d!=null){var e=this.Si.bwa(d.sheet);if(e!=null||d.range.Yb!==d.range.Te&&d.range.$b!==d.range.Ve)var f=d.range;else{f=d.sheet;var g=d.range;const k=__c.cZa(f,{start:{column:g.$b,row:g.Yb},end:{column:g.Ve,row:g.Te}});let l,m=-1;for(const p of Dk(k.start.row,k.end.row,f.layout.rows)){let q=0;for(const r of Dk(k.start.column,k.end.column,f.layout.cols)){var h;const t=f.layout.cells.get(p,r);t!=null&&t.span.Yb===p&&t.span.$b===
r&&((h=t.ref)===null||h===void 0?void 0:h.content.ref)!=null&&q++}if(m===q){(h=f.layout.rows.previous(p))&&f.layout.rows.Wi(g.Yb,h)>=0&&(l=h);break}m=q}f={$b:k.start.column,Yb:l!==null&&l!==void 0?l:k.start.row,Ve:k.end.column,Te:k.end.row}}this.Si.rde(d.sheet,e==null?{range:f}:void 0);a.zCf=(b===null||b===void 0?0:b.h1m)?(c=a.ste)===null||c===void 0?void 0:c.mbg:void 0}}iTi(a,b){if(a!=null){var c=this.V.sb("sort_asc_clicked",{Fb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=
a.sheet;var d=a.mbg;const f=a.range;if(b===null||b===void 0?0:b.e1j){b=e.rows.next(f.Yb);if(b==null)return;d=WJs(this.iQi,e,{...f,Yb:b},d,"asc")}else d=WJs(this.iQi,e,f,d,"asc");c===null||c===void 0||c.nb().tk(({Hi:g})=>{const h=e.LJ(f.Te)-e.LJ(f.Yb)+1,k=e.YJ(f.Ve)-e.YJ(f.$b)+1;this.P.track(__c.bbh,{action:"sorted",type:"cell",S8c:h*k,kvc:{jt:e.layout.rows.count(),oK:e.layout.cols.count()},kb:"click",Qb:g()})});break;default:throw new v(a.type);}ZJs(this,a.sheet,d);c===null||c===void 0||c.ue()}}jTi(a,
b){if(a!=null){var c=this.V.sb("sort_desc_clicked",{Fb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=a.sheet;var d=a.mbg;const f=a.range;if(b===null||b===void 0?0:b.e1j){b=e.rows.next(f.Yb);if(b==null)return;d=WJs(this.iQi,e,{...f,Yb:b},d,"desc")}else d=WJs(this.iQi,e,f,d,"desc");c===null||c===void 0||c.nb().tk(({Hi:g})=>{const h=e.LJ(f.Te)-e.LJ(f.Yb)+1,k=e.YJ(f.Ve)-e.YJ(f.$b)+1;this.P.track(__c.bbh,{action:"sorted",type:"cell",S8c:h*k,kvc:{jt:e.layout.rows.count(),
oK:e.layout.cols.count()},kb:"click",Qb:g()})});break;default:throw new v(a.type);}ZJs(this,a.sheet,d);c===null||c===void 0||c.ue()}}constructor(a,b,c,d,e){var f=new __c.tu;this.iQi=a;this.Si=b;this.yG=f;this.alert=c;this.P=d;this.V=e}};var jKs=class{static G(a){P(a,{zCf:wV.ref,cDh:wV.ref,tne:mV,ste:mV})}get tne(){var a=this.selection.La;const b=this.selection.Ib;if(b)return $Js(this,b);if(a){a:{switch(a.type){case "elements":a=dKs(this,a);break a;case "pages":a=eKs(this,a);break a;case "audio":break;default:throw new v(a);}a=void 0}return a}}get ste(){var a=this.tne;if(a!=null)switch(a.type){case "sheet":var b=a.sheet;a=a.cells;a.length!==0&&__c.Tfe(b,a)?(a={$b:a[0].column,Yb:a[0].row,Ve:a[a.length-1].column,Te:a[a.length-1].row},
b={type:"sheet",sheet:b,mbg:a.$b,range:a}):b=void 0;return b;default:throw new v(a.type);}}constructor(a,b,c,d,e,f,g){this.selection=a;this.uc=b;this.viewport=c;this.ed=d;this.Ma=e;this.Si=f;this.vya=g;this.zCf=(jKs.G(this),void 0)}};var iKs=a=>{const b=a.nKq;var c=a.cDh;const d=a.pRq,e=a.fkl,f=a.ZLr,g=a.eMr,[h,k]=nV(void 0),l=jV(Nb()),[m,p]=nV(()=>d()),q=c===l.current;iV(()=>{b&&e(l.current,!0)},[]);c=gV(()=>{e(l.current,!1)},[e]);const r=gV(z=>{z.stopPropagation();q||p(d());e(l.current,!q)},[d,e,q]),t=gV(()=>{k("asc");f();e(l.current,!1)},[f,e]),u=gV(()=>{k("desc");g();e(l.current,!1)},[g,e]),w=gV(()=>{var z=cV(__c.gZi,{size:"medium"});a:switch(m){case "number":var A=L("mfqxRw");break a;case "date":A=L("O3E9rg");break a;case "default":A=
L("qo5gzA");break a;default:throw new v(m);}z=cV(Wt,{start:z,onClick:t,children:A},"asc");A=cV(__c.iZi,{size:"medium"});a:switch(m){case "number":var B=L("sZxJdg");break a;case "date":B=L("o/SCog");break a;case "default":B=L("8IXZeg");break a;default:throw new v(m);}return kV(Vo,{role:"menu",spacing:"0.5u",variant:"rounded",children:[z,cV(Wt,{start:A,onClick:u,children:B},"desc")]})},[m,t,u]);let x=cV(__c.Car,{size:"small"});h==="asc"&&a.hii?x=cV(__c.gZi,{size:"small"}):h==="desc"&&a.hii&&(x=cV(__c.iZi,
{size:"small"}));const y=x&&fKs(a.bgColor)==="#000000"?"kfFFEg":"VWiWEA";return cV(__c.uv,{open:q,placement:"bottom-start",padding:"compact",na:w,oa:c,children:cV(pr,{onMouseDown:r,className:AV(y,"bzZMqA",{SRhh0A:a.hii}),selected:a.hii,children:x})})};var lKs=eV(({$Wf:a,fz:b,I_a:c,page:d})=>{const e=a.sheet,f=a.columns,g=a.headerRow,{left:h,top:k,width:l,height:m}=a.FKs.Lb(),p=b.nd,q=e.direction==="rtl";return kV(__c.pA,{fz:b,page:d,children:[cV("div",{style:{width:l*p,height:m*p,transform:`translate(${h*p*(q?-1:1)}px, ${k*p}px)`},className:AV("o0A8CA",{_08uVeQ:!q,yzKoag:q})}),f.map(r=>cV(i1s,{scale:p,Nn:q,sheet:e,row:g,column:r,I_a:c},r.id))]})}),i1s=eV(({scale:a,Nn:b,sheet:c,column:d,row:e,I_a:f})=>{const g={_08uVeQ:!b,yzKoag:b};b=c.Gd(d)*a*
(b?-1:1);c=c.xd(e)*a;return cV("div",{style:{width:d.width,height:e.height,transform:`translate(${b}px, ${c}px) scale(${a})`},className:AV("ItYpOA",g),children:cV("div",{style:{paddingInlineEnd:__c.zu},children:cV(f,{column:d})})})});var kKs=class{static G(a){P(a,{$Wf:mV})}get $Wf(){var a,b=this.HKs.tne;if(b!=null){var c=(a=this.Si.bwa(b.sheet))===null||a===void 0?void 0:a.range;if(c!=null&&(a=b.sheet,a.layout.rows.has(c.Yb)&&a.layout.cols.has(c.$b)&&a.layout.rows.has(c.Te)&&a.layout.cols.has(c.Ve))){b=a.Gd(c.$b);var d=a.xd(c.Yb);b=Qj({left:b,top:d,width:a.Gd(c.Ve)+c.Ve.width-b,height:a.xd(c.Te)+c.Te.height-d});d=[];for(let e=c.$b;e!=null&&a.layout.cols.Wi(e,c.Ve)<=0;e=a.layout.cols.next(e))d.push(e);return{sheet:a,columns:d,
headerRow:c.Yb,FKs:b}}}}constructor(a,b){this.HKs=a;this.Si=b;kKs.G(this)}};var j1s=class{static G(a){P(a,{Plo:mV})}get Plo(){return this.Npi.lPe!=null&&this.Npi.lPe.length>0}constructor(a,b){this.Npi=a;this.jqn=b;j1s.G(this)}};var k1s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.023 14.057v-.024h6a2 2 0 0 1 2 2V20.5h4a.5.5 0 0 0 .5-.5v-5.525a4.575 4.575 0 0 0 1.5-.092V20a2 2 0 0 1-2 2H9.845a2 2 0 0 1-1.406-.577l-5.821-5.75a2 2 0 0 1-.595-1.423v-.193ZM16.023 4v1.617a4.512 4.512 0 0 0-1.5-.092V4a.5.5 0 0 0-.5-.5h-10a.5.5 0 0 0-.5.5v8.5h-1.5V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2ZM4.611 15.533l3.912 3.865v-3.365a.5.5 0 0 0-.5-.5H4.611Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9 10a6 6 0 1 0 12 0 6 6 0 0 0-12 0Zm10.5 0a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.532 13.47a.75.75 0 0 1 1.06 0l2.94 2.939a.75.75 0 0 1-1.06 1.06l-2.94-2.939a.75.75 0 0 1 0-1.06Z" fill="currentColor"/></svg>';var l1s=br({medium:k1s});var nKs={eventType:"text_find_and_replace_toggled",Oa(a){return rf({source:a.source,is_opened:a.Ghr,text_find_session_id:a.IXi,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},m1s={eventType:"text_find_and_replace_searched",Oa(a){return rf({matches_found:a.Lmi,page_index_transitioned_from:a.Y5r,page_index_transitioned_to:a.Z5r,text_elements_matched:a.TTs,table_elements_matched:a.QQs,shape_elements_matched:a.JBs,sheet_cells_matched:a.Jfh,is_match_case:a.GAf,performance_context:a.Qb==null?void 0:tf(a.Qb),
editing_context:a.Ba==null?void 0:sf(a.Ba)})}},JKs={eventType:"text_find_and_replace_focus_changed",Oa(a){return rf({matches_found:a.Lmi,page_index_transitioned_from:a.Y5r,page_index_transitioned_to:a.Z5r,match_index_from:a.Hmn,match_index_to:a.Imn,editing_context:a.Ba==null?void 0:sf(a.Ba)})}},pKs={eventType:"text_find_and_replace_text_replaced",Oa(a){return rf({number_of_replacements:a.yri,is_replace_all:a.Ghi,number_of_elements_replaced:a.xri,number_of_text_elements_replaced:a.Dri,number_of_table_cells_replaced:a.Cri,
number_of_sheet_cells_replaced:a.Bri,number_of_shape_elements_replaced:a.Ari,performance_context:a.Qb==null?void 0:tf(a.Qb),is_match_case:a.GAf,replace_string_length:a.$Hi,editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var n1s=class{constructor({N:a}){this.Irm=Db((b,c,d,e,f,g,h)=>{Yo({nb:h,P:this.N,event:m1s,props:{Lmi:b,TTs:c,QQs:d,JBs:e,Jfh:f,GAf:g}})},300);this.N=a;this.IXi=Nb()}};var o1s=class{static G(a){P(a,{isMounted:wV.ref,CXb:wV.ref,query:wV.ref,replaceWith:wV.ref,Ax:wV.ref})}constructor(){this.isMounted=(o1s.G(this),!1);this.CXb=!1;this.replaceWith=this.query="";this.Ax=void 0}};var ELs="zh ko ar ja th hi mr gu ta bn pa".split(" ");var p1s=class{Qc(){this.S$a==null&&(this.S$a=dV(()=>{const a=this.L.DIa,b=this.store.Ax;return a===0?!1:b==null||b>=a},a=>{a&&this.L.q8k()}))}gi(){var a;(a=this.S$a)===null||a===void 0||a.call(this);this.S$a=void 0}constructor(a,b){this.store=a;this.L=b}};var q1s=a=>{if(a.substring.length===0)return[];let b=a.CXb?a.source:a.source.toLowerCase();b=b.replace(/[\u201c\u201d]/g,'"').replace(/[\u2018\u2019]/g,"'");const c=a.CXb?a.substring:a.substring.toLowerCase(),d=[];for(var e;;){e=b.indexOf(c,e);if(e===-1)break;if(a.R1s)return[0];d.push(e);e+=c.length}return d};var s1s=class{create(a){const b=this.I.Tc;var c=this.I.Ma;const d=this.I.viewport,e=this.I.uc;switch(a.type){case "sheet-page-cell":return c=new oA(a.container.container.ub(a.container.page),d,c),new r1s(b,e,c,a);case "sheet-element-cell":if(a.container.container.type!=="fixed-page")throw new __c.ZId;c=new nA(a.container.container.Tf(a.Ona),d);return new r1s(b,e,c,a);default:throw new v(a);}}constructor(a){this.I=a}},u1s=class{create(a){const b=this.I.Tc;var c=this.I.viewport;const d=this.I.ed;c=
new qA(a.container.container.Dw(a.Ona),d,c);return new t1s(b,c,a)}constructor(a){this.I=a}},v1s=class{static G(a){P(a,{Ssc:mV,Ezj:mV({equals:Sj}),ugg:mV({equals:Sj})})}equals(a){return this.container.equals(a.container)}get Ssc(){var a,b;return(b=(a=this.Tc.getContent(this.sheet,this.container.row,this.container.column))===null||a===void 0?void 0:a.lR)!==null&&b!==void 0?b:""}get Ezj(){var a=this.sheet,b=this.container.row,c=this.container.column,d=a.layout.cells.get(b,c);if(d!=null){var e=d.span.Yb;
c=d.span.Ve;b=d.span.Te;d=a.Gd(d.span.$b);e=a.xd(e);c=a.Gd(c)+c.width;a=a.xd(b)+b.height;return Nj(d,e,c,a)}d=a.Gd(c);a=a.xd(b);return Nj(d,a,d+c.width,a+b.height)}get ugg(){return this.Ezj.transform(Yj(this.Tnl))}constructor(){this.type=(v1s.G(this),"sheet-cell")}},r1s=class extends v1s{static G(a){P(a,{sheet:mV,replace:mV,AYa:mV})}get Jdn(){const a=this.container;switch(a.type){case "sheet-page-cell":return!Ul(this.uc,a.container);case "sheet-element-cell":return!this.uc.Nq({element:a.Ona,container:a.container.container});
default:throw new v(a);}}get sheet(){return this.container.sheet}get Tnl(){return this.vD.hJ}get replace(){var a;const b=(a=this.sheet.layout.cells.get(this.container.row,this.container.column))===null||a===void 0?void 0:a.ref.content.ref;if(b)return b.type==="text2"?(c,d,e,f)=>{const g=Kg.snapshot(b.value);d=vKs(g,d,e,f);d=Kg.create(d);c.XAb(this.sheet,{row:this.container.row,column:this.container.column},d,{mQe:"merge",ZPe:!1})}:xKs(this,b)}get AYa(){const a=this.container.container;switch(a.type){case "fixed-page":return a;
case "sheet-element":if(a.container.type!=="fixed-page")throw new __c.ZId;return a.container;default:throw new v(a);}}constructor(a,b,c,d){super();this.Tc=a;this.uc=b;this.vD=c;this.container=d;r1s.G(this)}},t1s=class extends v1s{static G(a){P(a,{Tnl:mV({equals:Sj}),replace:mV})}get Jdn(){return!0}get sheet(){return this.container.sheet}get Tnl(){try{return this.vD.hJ}catch(a){return Qj({top:0,left:0,width:this.sheet.width,height:this.sheet.height})}}get AYa(){return this.container.container.container}get replace(){var a;
const b=(a=this.sheet.layout.cells.get(this.container.row,this.container.column))===null||a===void 0?void 0:a.ref.content.ref;if(b)return b.type==="text3"?(c,d,e,f)=>{const g=Xk.snapshot(b.value);d=wKs(g,d,e,f);d=Xk.create(d);c.Mdc(this.sheet,{row:this.container.row,column:this.container.column},d,{mQe:"merge",ZPe:!1})}:xKs(this,b)}constructor(a,b,c){super();this.Tc=a;this.vD=b;this.container=c;t1s.G(this)}};var wLs=Symbol("responsive-root-text-symbol"),w1s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Nc(){return this.el.ja.text}get writingMode(){var a;return(a=this.el.ja.writingMode)!==null&&a!==void 0?a:1}get p3d(){var a,b;const c=(b=this.el.ja.Vk.ref)===null||b===void 0?void 0:(a=b.Lc)===null||a===void 0?void 0:a.first(d=>d.type==="curved");return c?Number(c.parameters.get("curvature"))!==0:!1}get Vk(){return this.el.ja.Vk.ref}get rotation(){const a=this.el.container;
return SVa((a.type==="fixed-page"?0:a.ja.rotation)+this.el.ja.rotation)}constructor(a){this.el=a;this.type="text";this.Ja="fixed"}},x1s=class{get page(){return this.qb.container.container}get el(){return this.qb.container}get Nc(){return this.qb.ja.content.text}get rotation(){return this.el.ja.rotation}constructor(a,b){this.qb=a;this.$za=b;this.type="table";this.Ja="fixed";this.p3d=!1;this.writingMode=1;this.group=this.Vk=void 0}},y1s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?
a:a.container}get Nc(){return this.el.ja.$c.first().text}get rotation(){const a=this.el.container;return SVa((a.type==="fixed-page"?0:a.ja.rotation)+this.el.ja.rotation)}constructor(a){this.el=a;this.type="shape";this.Ja="fixed";this.p3d=!1;this.writingMode=1;this.Vk=void 0}},z1s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Nc(){return this.el.ja.$c.first().text}get rotation(){var a;const b=this.el.ja;var c=this.el.container;c=c.type==="fixed-page"?0:c.ja.rotation;
var d;const e=(d=(a=(new __c.Ln(this.te,b)).textBox)===null||a===void 0?void 0:a.rotation)!==null&&d!==void 0?d:0;return SVa(c+b.rotation+e)}constructor(a,b){this.te=a;this.el=b;this.type="line";this.Ja="fixed";this.p3d=!1;this.writingMode=1;this.Vk=void 0}};var DKs=class{async navigateTo(a){var b,c;if(!(GKs((b=this.q$d)===null||b===void 0?void 0:b.match,a)||GKs((c=this.Nlg)===null||c===void 0?void 0:c.match,a)&&this.q$d==null)){if(this.q$d!=null){var d;(d=this.q$d)===null||d===void 0||d.cancel();this.q$d=void 0}b=(this.Nlg!=null?Math.max(this.Nlg.fzq-this.now(),0):0)+this.I.Hrm;var e=this.setTimeout(()=>{HKs(this)},b);this.q$d={match:a,cancel:()=>this.clearTimeout(e)}}}Emh(a){return this.Csn.Emh(a)}constructor(a,b,c=()=>Date.now(),d=(f,g)=>window.setTimeout(f,
g),e=f=>window.clearTimeout(f)){this.Csn=a;this.I=b;this.now=c;this.setTimeout=d;this.clearTimeout=e}},A1s=class{static G(a){P(a,{navigateTo:fV.bound})}async navigateTo(a){if(a.type==="richtext3"||yKs(a)){const f=a.type==="richtext3"?__c.xf(a.container):a.item.AYa;na(f.type==="responsive-page");var b=this.viewport.jh;if(f.ja.id!==b.ja.id){const g=n(this.document.pages.filter(h=>h.id===f.ja.id)[0]);this.viewport.Gy(g,{animate:{from:b.page}});await cps(()=>this.viewport.ya===g,{timeout:1E3}).catch(()=>
{})}oV(()=>this.pqs.navigateTo(a))}else{var c=a.item,d=c.type==="sheet-cell"?c.AYa:c.page;b=this.viewport.ya;var e=d.page;b!==e&&(this.viewport.Gy(this.lud(d),{animate:{from:b},Z4a:e}),await cps(()=>this.viewport.ya===e,{timeout:1E3}).catch(()=>{}));oV(()=>{if(!ik(e,this.document.dimensions)){const g=c.type==="sheet-cell"?c.ugg:Qj(BKs(c.el));var f=this.viewport.XB();f=Math.min(f.width*.6/g.width,f.height*.6/g.height,this.viewport.cQ(e));this.viewport.Gz(e,f,{center:{x:g.c.x,y:g.c.y},animate:!0})}c.type!==
"sheet-cell"&&this.selection.Ol(d,c.el.ja)})}}Emh(a){a=a.item;switch(a.type){case "sheet-cell":case "text":case "table":case "shape":case "line":a=a.type==="sheet-cell"?a.AYa:a.page;if(a.type==="responsive-page"||a.type==="body")return 0;a=this.lud(a);return ik(a,this.document.dimensions)?0:600;default:return 0}}lud(a){var b;return((b=a.container)===null||b===void 0?void 0:b.type)==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.selection=
c;this.eb=d;this.pqs=e;A1s.G(this)}},EKs=class{async navigateTo(a){this.viewport.uF&&(a=a.type==="sheet-cell"?[a.item.ugg]:this.OEd.cCg(a),a=Uj(0,a),await this.viewport.CTa(a.tl.y,"auto"))}Emh(){return 600}constructor(a,b){this.OEd=a;this.viewport=b}};var B1s=class{static G(a){P(a,{Qc:fV,gi:fV,WC:fV,DIa:mV,Myg:fV,matches:mV,P3l:mV,Nmn:mV,Mmi:mV})}static create({store:a,document:b,Ma:c,selection:d,jc:e,viewport:f,te:g,hj:h,sf:k,eb:l,hy:m,V:p,gEk:q,Rcc:r}){d=new DKs(new A1s(f,b,d,l,r.Imi),{Hrm:100});return new B1s(a,b,c,e,f,k,l,g,q,h,m,p,d,r)}get Ghh(){return this.Ma.mode===40}VDl(a,b){oKs(this.hy,a,b)}Qc(){var a=this.store;a.isMounted=!0;a=a.query;var b=this.jc.state;if((b===null||b===void 0?void 0:b.type)==="focused"){const c=b.range;b=b.Nc.Ya.slice(c.index,
c.index+c.length);b.length&&(a=this.hj?b.split("").reverse().join(""):b)}this.WC(a)}gi(){var a;this.store.isMounted=!1;(a=this.IJh)===null||a===void 0||a.destroy();this.IJh=void 0}WC(a){var b=this.store;b.query=a;if(a.length===0)this.Myg(IKs(this));else{a=this.V.sb("text.find",{Fb:{name:"editor.text.find",type:"fixed"}});this.Myg(IKs(this));var c=this.matches,{DAl:d,zyl:e,Hnl:f,Jfh:g}=rKs(c),h=this.hy;c=c.length;b=b.CXb;var k=a.nb();h.Irm(c,d,e,f,g,b,k);a.ue()}}get DIa(){return this.matches.length}q8k(){this.Myg(IKs(this))}Q6j(){const a=
this.store,b=this.DIa;a.Ax!=null&&b>1&&KKs(this,(a.Ax+1)%b)}U6j(){var a=this.store;const b=this.DIa;a.Ax!=null&&b>1&&(a=a.Ax,KKs(this,a===0?b-1:a-1))}Myg(a){const b=this.store,c=this.matches[a];c&&(this.Imi.navigateTo(c),b.Ax=a)}get matches(){return this.store.query.length===0?[]:this.P3l.flatMap(a=>this.NGq(a))}get P3l(){const a=[],b=Ef(this.document);this.document.pages.forEach(c=>{a.push(...this.dUs(b.ub(c)))});return a}Ick(){this.IJh||(this.IJh=this.sf.QU());return this.IJh}get Nmn(){const a=
this.viewport.jh.page;return this.Mmi.filter(b=>b.type==="richtext2"||zKs(b)).filter(({item:b})=>b.type==="sheet-cell"?b.AYa.ja===a:b.page.ja===a)}get Mmi(){return this.matches.map((a,b)=>({...a,focused:b===this.store.Ax}))}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t=()=>Date.now()){this.store=a;this.document=b;this.Ma=c;this.jc=d;this.viewport=e;this.sf=f;this.eb=g;this.te=h;this.gEk=k;this.hj=l;this.hy=m;this.V=p;this.Imi=q;this.Rcc=r;this.now=t;this.NGq=(B1s.G(this),KV(u=>{if(u.type==="sheet-cell"&&
"item"in u||u.type==="richtext3")return[u];var w=this.store.CXb;const x=this.store.query,y=u.type==="sheet-cell"?u.Ssc:w?MKs(u.Nc):u.Nc.Ya;w=q1s({source:y,substring:x,CXb:w});return w.length===0?[]:u.type==="sheet-cell"?[{type:"sheet-cell",item:u,X7c:w}]:w.map(z=>({type:"richtext2",item:u,startIndex:z}))}));this.dUs=KV(u=>{switch(u.type){case "fixed-page":return this.dSm(u);case "concatenated-fixed-page":return u.pages.flatMap(w=>this.dSm(u.ub(w)));case "responsive-page":return this.Rcc.hEk(u);default:throw new v(u);
}});this.dSm=u=>{const w=[];u.elements.forEach(z=>{if(z.type==="text")w.push(new w1s(u.Tf(z)));else if(z.type==="group"){const A=u.Tf(z);z.mb.forEach(B=>{B.type==="text"?w.push(new w1s(A.Tf(B))):B.type==="shape"?B.$c.first()&&w.push(new y1s(A.Tf(B))):B.type==="line"&&B.$c.first()&&w.push(new z1s(this.te,A.Tf(B)))})}else if(z.type==="table"){const A=u.Tf(z);z.cells.forEach(B=>{B.content.text.charLength>1&&w.push(new x1s(A.Byl.EQ(B),()=>this.sLp(z).get(B).CX))})}else z.type==="shape"?z.$c.first()&&
w.push(new y1s(u.Tf(z))):z.type==="line"?z.$c.first()&&w.push(new z1s(this.te,u.Tf(z))):z.type==="sheet"&&w.push(...this.Cuo(u.Tf(z)))});__c.vf(u)&&w.push(...this.Cuo(u));const x=this.eb.Zk(u.page),y=xg(x)?0:ug(4,x).width;return w.sort((z,A)=>LKs(this,z,y,this.hj)-LKs(this,A,y,this.hj))};this.Cuo=u=>{const w=this.gEk;if(w==null)return[];const x=[];(u.type==="fixed-page"?u.page.sheet:u.ja.config).layout.cells.forEach((y,{$b:z,Yb:A})=>{y=u.RX(z,A);x.push(w.create(y))});return x};this.sLp=AKs(u=>__c.hu(__c.ko,
u));this.BSp=KV(u=>this.Nmn.filter(w=>w.type==="richtext2").filter(w=>w.item.Nc===u));this.hEk=KV(u=>this.Mmi.filter(w=>w.type==="richtext3"||yKs(w)).filter(w=>w.type==="richtext3"?w.AYa.equals(u):yKs(w)?w.item.AYa.equals(u):!1).map(w=>({...w,lS:this.Rcc.cCg(w)})))}};var jLs=eV(({matches:a,scale:b})=>{a=__c.mj(a,({item:c})=>c.sheet);return cV("div",{className:"m3qpUA",children:[...a.entries()].map(([c,d])=>{const e=d[0].item.AYa;return cV(__c.pA,{fz:d[0].item.vD,page:e.type==="fixed-page"?e.page:void 0,children:d.map(({item:f,focused:g})=>cV(C1s,{box:f.Ezj.scale(b),focused:g},D1s.get(f)))},D1s.get(c))})})}),C1s=({box:a,focused:b})=>{const {top:c,left:d,width:e,height:f,rotation:g}=a.Lb();a=`translate(${d}px, ${c}px) rotate(${g}deg)`;return cV("div",{className:AV("wOT31Q",
b&&"NaCHKw"),style:{width:e,height:f,transform:a}})},D1s=class{static get(a){var b=E1s.get(a);if(b)return b;b=`${F1s++}`;E1s.set(a,b);return b}},E1s=new WeakMap,F1s=0;var WKs=new Set([" ","\t","\n","\r"]),RKs=class{Gif(a,b,c){a=YKs(a,b,c);return ZKs(a)}},SKs=class{Gif(a,b,c){var d=a.length-1,e=n(this.sak(b));if(a.length===1||e===0)return this.w6q.Gif(a,b.writingMode,c);b=c.every(h=>h==="rtl")?[...a].reverse():a;const f=$Ks(b[0].tl,b[0].tr,b[2]?b[2].tr:b[1].tr);let g;c=[...b.map(h=>wj(h.Fn,f)),...b.map(h=>wj(h.tl,f))];a=Math.min(...c);c=Math.max(...c);e>0?(e=aLs(b[0].tl,f)*180/qj,g=aLs(b[d].tr,f)*180/qj):(g=aLs(b[0].tl,f)*180/qj,e=aLs(b[d].tr,f)*180/qj);d=(h,k)=>
this.bNf(f,k,h);b=cLs(b,f)>180;return __c.le([new __c.Pk(0,d(e,c)),new Qk(0,d(e,a)),new __c.m0a(0,new __c.a0a(a,a,0,b?1:0,1,this.bNf(f,a,g))),new Qk(0,d(g,c)),new __c.m0a(0,new __c.a0a(c,c,0,b?1:0,0,this.bNf(f,c,e)))])}bNf(a,b,c){c=rj(c);return{x:a.x+b*Math.cos(c),y:a.y+b*Math.sin(c)}}constructor(a){this.sak=dLs;this.w6q=a}};var I1s=class{zeb(a,b,c){const d=(new G1s).zeb(a);return b===0?d:d.map((e,f)=>{const g=fLs(this.oam,e.boundingBox,b,{lHm:()=>{var h=d[f].X0j();h!=null?h*=c:({boundingBox:h}=d[f],h=Math.sqrt(h.width**2+h.height**2)*.7*c);return h}});return{...e,boundingBox:g}})}constructor(){this.oam=new H1s}},H1s=class{bNf(a){a=rj(a);return{x:Math.cos(a),y:Math.sin(a)}}},G1s=class{zeb(a){const b=[];for(const d of a){a=document.createRange();a.setStartBefore(d);for(const e of this.U4e(d)){var c;const f=((c=e.textContent)!==
null&&c!==void 0?c:"").length;for(let g=0;g<f;g++){a.setStart(e,g);a.setEnd(e,g+1);const h=a.getClientRects();let k;for(const l of h)if(k==null||l.width>k.width)k=l;b.push({character:a.toString(),boundingBox:Qj(n(k)),X0j:()=>{try{return parseFloat(window.getComputedStyle(e.parentElement).getPropertyValue("font-size"))}catch(l){}}})}}}c=b.map(d=>d.character).join("");c=gm(c);return b.length===c.length?b:gLs(b,c)}*U4e(a){if(a.nodeType===Node.TEXT_NODE)yield a;else if(a.nodeType===Node.ELEMENT_NODE)for(let b=
0;b<a.childNodes.length;b++)yield*this.U4e(a.childNodes[b])}};var J1s=class{constructor(a,b,c){this.dym=new I1s;this.viewport=a;this.Ick=b;this.errorService=c;this.Gif=VKs;this.mPq=CV(d=>{const e=d.el.ja;var f,g;return this.Ick().zeb(d.Nc,d.Vk,d.writingMode,(f=e.gb)!==null&&f!==void 0?f:e.width,(g=e.Ub)!==null&&g!==void 0?g:e.height)});this.EOq=KV((d,e,f,g,h,k)=>{const l=d.getBoundingClientRect();let m;try{m=this.dym.zeb([d],f,k)}catch(t){this.errorService.error(t,{Ka:"Error: failed to measure character boxes via DOM"});return}d=fLs(this.dym.oam,Qj(l),f,{mHm:()=>
h});const p=Vj(d).then(Gj(g/d.width)),q=gm(e.Ya);let r=0;return new Map(m.map(t=>{for(;q[0]!==t.character&&q.length>0;)r++,q.shift();q.shift();t=t.boundingBox.transform(p);return[r++,t]}).filter(vb))})}},iLs=({Aba:a,store:b,L:c,viewport:d,Wgh:e,errorService:f})=>{const g=new J1s(d,()=>c.Ick(),f),h=k=>e.get()?c.BSp(k):[];oV(()=>{a.Zaf=eV(({children:k,text:l,enabled:m})=>{const p=h(l),q=jV(null),r=jV(null),t=jV(void 0);iV(()=>{var u;const w=r.current;if(q.current==null||w==null||p.length===0)w!=null&&
(w.innerHTML="");else{var x=()=>{var z=q.current;const A=r.current;var B=h(l);if(z==null||A==null||B.length===0)A!=null&&(A.innerHTML="");else{var D=B[0].item;if(D.p3d)if(pa(D.type==="text"),z=g.mPq(D),z==null)g.errorService.error("could not measure curved text character boxes"),D=void 0;else{D=D.Nc.Ya;var G=gm(D);D=PKs(z,D,G)}else{G=g.viewport.cQ(g.viewport.ya);switch(D.type){case "text":var I=D.el.ja.gb;var K=D.el.ja.width;var N=(I?K/I:1)*G;I=I!==null&&I!==void 0?I:K;G*=K;break;case "table":N=D.el.ja.gb;
I=D.el.ja.width;N=(N?I/N:1)*G;I=D.$za().width;G*=D.$za().width;break;case "shape":I=D.el.ja.$c;K=D.el.ja.width;N=G;I=I.first().box.width;G*=K;break;case "line":I=D.el.ja.$c;K=D.el.ja.width;N=G;I=I.first().width;G*=K;break;default:throw new v(D);}D=g.EOq(z,l,D.rotation,I,G,N)}if(D==null||D.size===0)A.innerHTML="";else{z=b.query.length;G=[];for(const {item:M,startIndex:O,focused:U}of B)(B=g.Gif({item:M,oPp:{from:O,to:O+z},eAp:D}))&&G.push({V0q:B,focused:U});hLs(G,A)}}};x();(u=t.current)===null||u===
void 0||u.call(t);var y=p[0].item.Nc.rca(hNs).subscribe(()=>setTimeout(x));t.current=()=>y.unsubscribe();return()=>{var z;(z=t.current)===null||z===void 0||z.call(t)}}},[q,r,p,l]);return kV("div",{ref:q,style:{position:"relative"},children:[m&&cV("div",{ref:r}),k]})})})};var K1s=(a,b)=>J("+7TiJw",[a,b]);var CLs=DV(({a8i:a,onClose:b,mode:c})=>{var d=xV(()=>["Escape",e=>{e.stopPropagation();b()}],[b]);({ref:d}=__c.zb([d],{Zq:!0}));return kV("div",{className:AV("hD99Kg",{UkHtoA:c==="canvas-overlay",_6iuQhg:c==="sheet"}),ref:d,tabIndex:0,children:[c==="canvas-overlay"&&cV(L1s,{onClose:b}),kV(R,{Jb:"2u",children:[cV(Wc,{spacing:"2u",children:cV(a,{})}),cV(ld,{direction:"vertical",size:"2u"})]})]})}),L1s=DV(({onClose:a})=>cV("div",{className:"fk8tPA",children:cV(Yi,{variant:"tertiary",icon:__c.vr,onClick:a,
ariaLabel:L("ilwjXw")})})),BLs=DV(({gvs:a,hIr:b,search:c,IAs:d,fVq:e,A9h:f,krc:g,tad:h})=>{const k=jV(null),l=jV(!1);iV(()=>{requestAnimationFrame(()=>{var q,r;(q=k.current)===null||q===void 0||q.focus();(r=k.current)===null||r===void 0||r.select()})},[]);const m=gV(q=>{q.key==="Enter"&&(l.current?e===null||e===void 0||e():f===null||f===void 0||f());q.key==="Shift"&&(l.current=!0)},[f,e]),p=gV(q=>{q.key==="Shift"&&(l.current=!1)},[l]);return kV(Wc,{spacing:"1u",children:[cV(Q,{size:"small",weight:"bold",
children:L("QeSW7g")}),kV(gr,{Fa:"start",spacing:"0.5u",children:[cV(fr,{children:cV(__c.yv,{ariaLabel:L("otJcdA"),value:c,end:a!=null&&cV(R,{Jb:"1u",children:cV(Q,{size:"small",tone:"tertiary",margins:"legacy",children:kV("span",{className:"i4ICDA",children:[a,"/",b]})})}),onChange:d,ref:k,onKeyDown:m,onKeyUp:p})}),cV(fr,{width:"content",children:cV(Yi,{variant:"tertiary",icon:tr,onClick:e,hb:L("EWLe2w"),disabled:h})}),cV(fr,{width:"content",children:cV(Yi,{variant:"tertiary",icon:ur,onClick:f,hb:L("dQoayg"),
disabled:g})})]})]})}),GLs=DV(({replace:a,yAs:b,mYa:c,Ewi:d,Idp:e,wns:f,sns:g})=>kV(Wc,{spacing:e==null?"2u":"0",children:[kV(Wc,{align:"start",spacing:"1u",children:[cV(Q,{size:"small",weight:"bold",children:L("/ptrSg")}),cV(__c.yv,{ariaLabel:"replace",value:a,onChange:b})]}),e&&cV(e,{}),kV(gr,{Fa:"start",spacing:"2u",children:[cV(fr,{children:cV(Yi,{variant:"secondary",stretch:!0,disabled:g,onClick:d,children:L("+kNphg")})}),cV(fr,{children:cV(Yi,{variant:"primary",stretch:!0,disabled:f,onClick:c,
children:L("2CtBAA")})})]})]})),FLs=DV(({checked:a,onChange:b})=>cV(__c.Cr,{label:L("WVqlVg"),checked:a,onChange:b,size:"small"})),HLs=DV(({state:a,XRg:b})=>{switch(a.type){case "all-locked":return cV(M1s,{XRg:b});case "some-locked":return cV(N1s,{XRg:b,F3a:a.XLn});default:throw new v(a);}}),M1s=DV(({XRg:a})=>cV(Ik,{tone:"critical",size:"small",children:J("nShGxw",[a])})),N1s=DV(({XRg:a,F3a:b})=>{const c=xV(()=>{var d=b.length;if(d===0)return J("iAnQBA",[a]);if(d===1)return J("ffdFTw",[a,b[0]]);d=
lLs(b).map(e=>e.length>1?J("UzUiGA",[e[0],e[1]]):e[0].toString());d.length>2&&(d=[d.slice(0,d.length-1).join(L("qUEeSw")),d[d.length-1]]);return K1s(a,d.join(L("JFKt9A")))},[b,a]);return cV(Ik,{tone:"warn",size:"small",children:c})});var O1s=DV(a=>{const b=a.label,c=a.hm,d=a.fF,e=a.onClick,f=a.oa,g=a.ZCa;a=gV(()=>{g===null||g===void 0||g();e();f===null||f===void 0||f()},[f,g,e]);return cV(d,{onClick:a,hm:c,AY:__c.zo,children:b})});var mLs=class{static G(a){P(a,{jeo:fV,qco:fV,oYn:fV,replaceAll:fV,bCk:mV,mYn:mV,jYn:mV,KLn:mV,xjn:mV})}static create({store:a,q1b:b,Rcc:c,document:d,uc:e,undo:f,errorService:g,hy:h,V:k,Zc:l,Mi:m,la:p,Tc:q}){l=rLs({Zc:l,Mi:m});return new mLs(a,b,d,e,f,g,h,k,nLs(p),sLs({V$k:l,Tc:q}),tLs({V$k:l,Tc:q,Rcc:c}))}jeo(a){this.store.replaceWith=a}qco(a){this.store.CXb=a;this.q1b.q8k()}oYn(){const a=this.store,b=this.V.sb("text.replace",{Fb:{name:"editor.text.replace"}}),c=a.Ax!=null?this.q1b.matches[a.Ax]:
void 0;c&&!this.Kt(c)&&(this.yns({match:c,uMb:a.query.length,BZ:a.replaceWith}),this.q1b.DIa===0&&(a.Ax=void 0),a.Ax!=null&&a.Ax>=this.q1b.DIa&&(a.Ax%=this.q1b.DIa),qKs(this.hy,{yri:1,Ghi:!1,xri:1,Dri:c.item.type==="text"?1:0,Cri:c.item.type==="table"?1:0,Ari:c.item.type==="shape"?1:0,Bri:c.item.type==="sheet-cell"?1:0,GAf:a.CXb,$Hi:a.replaceWith.length},b.nb()),b.ue())}replaceAll(){const a=this.store,b=this.V.sb("text.replace_all",{Fb:{name:"editor.text.replace_all"}}),c=this.q1b.matches.filter(t=>
this.pvk(t)),d=this.bCk;if(c.length===d.length)b.abort();else{var e=new Set;c.forEach(t=>{t.type==="sheet-cell"?e.add(t.item):t.item.Ja==="responsive"?e.add(t.item.item):e.add(t.item.el)});var f=c.length,g=new Set(d),h=c.filter(t=>!g.has(t)),k=a.replaceWith,l=this.undo.startBuffering();try{this.tns({matches:h,uMb:a.query.length,BZ:k}),a.Ax=void 0}catch(t){this.errorService.error(t,{Ka:"Error replacing all matches"});b.end("error");return}finally{l.stop()}d.length===0?this.Ewi({type:"replace-all",
Hnh:f}):this.Ewi({type:"replace-some",Vxo:d.length,Hnh:f});var {DAl:m,zyl:p,Hnl:q,Jfh:r}=rKs(c);qKs(this.hy,{yri:f,Ghi:!0,xri:e.size,Dri:m,Cri:p,Ari:q,Bri:r,GAf:a.CXb,$Hi:a.replaceWith.length},b.nb());b.ue()}}get bCk(){return this.q1b.matches.filter(a=>this.Kt(a))}get mYn(){var a=this.q1b.matches;const b=this.store.Ax;if(a.length===0||b==null||b<0||b>=a.length)return!0;a=a[b];return this.Kt(a)||!this.pvk(a)}get jYn(){return!this.q1b.matches.some(a=>!this.Kt(a)&&this.pvk(a))}get KLn(){var a;const b=
this.document;return b.Ja!=="fixed"||b.pages.count()===1&&((a=b.pages.first())===null||a===void 0?void 0:a.type)==="responsive"?new Map:new Map(b.pages.toArray().map((c,d)=>[c,d+1]))}get xjn(){const a=this.bCk,b=a.length;if(b!==0){if(b===this.q1b.DIa)return{type:"all-locked"};if(a.some(d=>d.type!=="sheet-cell"&&d.item.Ja==="responsive"))return{type:"some-locked",XLn:[]};var c=this.KLn;return{type:"some-locked",XLn:qd(a.map(({item:d})=>d.type==="sheet-cell"?d.AYa.type==="fixed-page"?d.AYa:void 0:d.Ja===
"fixed"?d.page:void 0).map(d=>d&&c.get(this.lud(d))).filter(vb))}}}lud(a){var b;return((b=a.container)===null||b===void 0?void 0:b.type)==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e,f,g,h,k,l,m){this.store=a;this.q1b=b;this.document=c;this.uc=d;this.undo=e;this.errorService=f;this.hy=g;this.V=h;this.Ewi=k;this.yns=l;this.tns=m;this.pvk=(mLs.G(this),KV(p=>p.item.type==="responsive-inline-item"||p.type==="sheet-cell"&&p.item.replace==null?!1:!0));this.Kt=KV(p=>p.type===
"sheet-cell"?!p.item.Jdn:p.item.Ja==="responsive"?!1:this.Alq(p.item.el));this.Alq=this.uc!=null?KV(({ja:p,container:q})=>this.uc.Nq({element:p,container:q,aspect:Vl.Hs})):()=>!1}};var R1s=class{static G(a){P(a,{n3i:mV.struct,SNe:mV.struct,WC:fV,mQ:fV,Qc:fV,gi:fV,Lrs:mV})}static create({store:a,Ma:b,document:c,Xa:d,JV:e,viewport:f,hy:g,V:h,ed:k,Jmi:l}){e=e.kc(m=>new P1s(a,m,l));c=new Q1s(a,c,e,k);return new R1s(a,c,b,f,d,g,h,FKs({OEd:c,viewport:f}))}get n3i(){var a;const b=this.viewport.fca,c=(a=this.viewport.scrollingContainer)===null||a===void 0?void 0:a.getBoundingClientRect();if(c!=null&&b!=null)return a=c.top-b.tl.y,Nj(b.tl.x,Math.round((a-1E3)/400)*400,b.br.x,Math.round((a+
c.height+1E3)/400)*400)}get SNe(){if(this.n3i==null)return[];const a=this.n3i.tl.y,b=this.n3i.br.y;return this.fwr.filter(c=>c.lS.some(d=>d.Fn.y>a&&d.tl.y<b))}WC(a){var b=this.store;b.query=a;a.length===0&&this.mQ(void 0);a=this.V.sb("text.find",{Fb:{name:"editor.text.find",type:"responsive"}});this.mQ(this.DIa>0?0:void 0);var c=this.matches;const {DAl:d,zyl:e,Hnl:f,Jfh:g}=rKs(c);var h=this.hy;c=c.length;b=b.CXb;var k=a.nb();h.Irm(c,d,e,f,g,b,k);a.ue()}mQ(a){var b;const c=(b=this.store.Ax)!==null&&
b!==void 0?b:0;this.store.Ax=a;a!=null&&((b=this.matches[a])&&this.Imi.navigateTo(b),this.hy.N.track(JKs,{Lmi:this.DIa,Hmn:c,Imn:a}))}Q6j(){const a=this.store;a.Ax==null||this.DIa===0?this.mQ(void 0):this.mQ((a.Ax+1)%this.DIa)}U6j(){const a=this.store;a.Ax==null||this.DIa===0?this.mQ(void 0):this.mQ(a.Ax===0?this.DIa-1:a.Ax-1)}q8k(){const a=this.store;if(this.DIa===0)this.mQ(void 0);else{var b;(a.Ax==null||a.Ax>=this.DIa)&&this.mQ(((b=a.Ax)!==null&&b!==void 0?b:0)%this.DIa)}}VDl(a,b){oKs(this.hy,
a,b)}Qc(){this.store.isMounted=!0}gi(){this.store.isMounted=!1;this.Xa.focus()}get Ghh(){return this.Ma.mode===40}get DIa(){return this.matches.length}get matches(){return this.OEd.SNe}get Lrs(){return this.matches.map((a,b)=>({...a,focused:b===this.store.Ax}))}hEk(a){return this.OEd.gwr(a)}get fwr(){const a=this.store.Ax;return this.OEd.Mmn.map((b,c)=>({...b,focused:c===a}))}cCg(a){return this.OEd.cCg(a)}replaceAll(a){this.OEd.replaceAll(a)}constructor(a,b,c,d,e,f,g,h){this.store=a;this.OEd=b;this.Ma=
c;this.viewport=d;this.Xa=e;this.hy=f;this.V=g;R1s.G(this);this.Imi=h}},Q1s=class{static G(a){P(a,{DIa:mV,tIh:mV,Jmn:mV,SNe:mV,Mmn:mV.struct})}get DIa(){return this.SNe.length}get tIh(){const a=this.document;if(a.Ja==="responsive"){const b=n(a.Cl.first());return __c.zf(__c.Df(a),b)}}get Jmn(){if(!this.tIh)return[];const a=this.v6g.$nb(this.tIh.text);return a?vLs(this,a,this.tIh):[]}get SNe(){const a=[];for(const b of this.Jmn)a.push(...xLs(b));return a}get Mmn(){return this.SNe.map(a=>({...a,lS:this.cCg(a)}))}cCg(a){return a.type===
"sheet-cell"?[a.item.ugg]:this.ed.r0d(a.item.Nc,Nw.of({index:a.startIndex,length:a.length||this.store.query.length}))}replaceAll(a){for(const b of this.v6g.instances)b.CRf.$x.type!=="sheet-item-cell-richtext"&&b.replaceAll(a)}constructor(a,b,c,d){this.store=a;this.document=b;this.v6g=c;this.ed=d;this.gwr=(Q1s.G(this),KV(e=>{var f=this.v6g.$nb(e.text);if(!f)return[];e=vLs(this,f,e);f=[];for(const g of e)f.push(...xLs(g));return f}))}},P1s=class{static G(a){P(a,{Xh:mV.struct,xzj:mV})}get Xh(){const a=
this.CRf,b=a.$x,c=[];let d=0;a.text.forEach({Ya:(e,f,g)=>{yLs(this,g)||((f=c[c.length-1])&&f.type==="characters"&&f.startIndex+f.Ya.length===d?f.Ya+=e:c.push({type:"characters",Ya:e,startIndex:d,container:b}));d+=e.length},item:(e,f,g)=>{if(!yLs(this,g))switch(e.type){case "pill":c.push({type:"inline-item",Ya:e.mi.text,startIndex:d,item:e,container:b});break;case "table":__c.CVc(b)&&c.push({type:"table-item",container:b.Dw(e)});break;case "layout":BVc(b)&&c.push({type:"layout-item",container:b.Dw(e)});
break;case "sheet":__c.DVc(b)&&c.push({type:"sheet-item",container:b.Dw(e)});break;case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "chart":case "design":c.push({type:"non-text-item"});break;default:throw new v(e);}d+=1}});return c}get xzj(){const a=this.store.query,b=this.store.CXb;return this.Xh.flatMap(c=>{if(c.type==="non-text-item")return[];if(c.type==="table-item"||c.type==="layout-item")return[c];if(c.type==="sheet-item"){const f=this.Jmi;if(f==null)return[];
const g=[];c.container.ja.config.layout.cells.forEach((h,{$b:k,Yb:l})=>{h=c.container.RX(k,l);h=f.create(h);k=q1s({CXb:b,source:h.Ssc,substring:a});k.length>0&&g.push({type:"sheet-cell",X7c:k,item:h})});return g}const d=q1s({CXb:b,source:c.Ya,substring:a,R1s:c.type==="inline-item"}).map(f=>f+c.startIndex),e=c.container;return c.type==="inline-item"?[{type:"inline-item-indices",indices:d,item:c.item,container:e}]:[{type:"indices",indices:d,container:e}]})}get gLi(){return this.CRf.text}replace(a,b){const c=
this.CRf.fs;a=Nw.of({index:a,length:this.store.query.length});__c.vB(c,a,b)}replaceAll(a){var b=this.xzj.flatMap(e=>e.type==="indices"?e.indices:[]);if(b.length!==0){var c=this.CRf.fs,d=this.store.query.length;b=Nw.list(b.map(e=>({index:e,length:d})));Jns(c,b,a)}}constructor(a,b,c){this.store=a;this.CRf=b;this.Jmi=c;P1s.G(this)}};var S1s,T1s,U1s=(T1s=(S1s=window.navigator)===null||S1s===void 0?void 0:S1s.userAgent)!==null&&T1s!==void 0?T1s:"",V1s=U1s.match(/AppleWebKit\//)&&!U1s.match(/(Chrome|Chromium)\//),zLs=DV(({matches:a})=>cV("div",{children:a.flatMap(({lS:b,focused:c})=>b.map(d=>cV(W1s,{box:d,focused:c},d.Fn.toString())))})),W1s=DV(({box:a,focused:b})=>{const {width:c,height:d,top:e,left:f,rotation:g}=a.Lb();return cV("div",{className:"_4a1KIg",style:{width:c,height:d,transform:`translate(${f}px, ${e}px) rotate(${g}deg)`,
backgroundColor:b?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)",opacity:V1s?.5:1}})});var X1s=class extends GV{static G(a){P(a,{onClick:fV})}render(){return cV(this.props.fF,{onClick:this.onClick,VA:this.props.VA,children:L("YSZmvA")})}constructor(...a){super(...a);this.onClick=(X1s.G(this),()=>{const b=this.props.onClick,c=this.props.oa,d=this.props.qCl;d();b&&b();c&&c()})}};var Y1s=class{constructor(a,b,c,d){this.store=a;this.config=b;this.P=c;this.Fzb=d;this.qCl=()=>{var e;const f=this.store.hq;this.config.hq=f!=="thumbnail_view"?"thumbnail":"scroll";const g=this.config.hq==="thumbnail"?"thumbnail_view":"scrolling_view";(e=this.Fzb)===null||e===void 0||e.iCj();this.P.track(__c.hah,{hq:g,itc:f,kb:"file_menu"})}}};var Z1s=class{static G(a){P(a,{Clo:mV,VA:mV,hq:mV})}get Clo(){return this.ka.layout===2}get VA(){return this.config.hq==="thumbnail"&&!this.Dc.rKa}get hq(){return this.Dc.rKa?"grid_view":this.config.hq==="thumbnail"?"thumbnail_view":"scrolling_view"}constructor(a,b,c){this.config=a;this.Dc=b;this.ka=c;Z1s.G(this)}};var $1s=oc(6),a2s=()=>cV("div",{className:"_9G1iSw",children:$1s.map(a=>cV(bj,{shape:"square",index:a},a))}),b2s=({h9b:a})=>kV("div",{children:[a?null:cV("div",{className:"XX4SVA",children:cV(__c.Zt,{})}),cV("div",{className:"ysWVVg",children:$1s.map(b=>cV(bj,{index:b,shape:"square"},b))})]});var c2s=__webpack_require__.p+"images/c1d3752055f3dd9727467a61aedbe1af.svg",d2s=__webpack_require__.p+"images/4cae76430b90372678b1e905bdcca3db.svg",e2s=__webpack_require__.p+"images/8176a64e87bfc9e9615e16a102bfc579.svg",f2s=__webpack_require__.p+"images/74d2b4f0782eb2b75e1650848e9c1644.svg",g2s=__webpack_require__.p+"images/f92bd9d9003a11a4b6a7f9403088f861.svg",h2s=__webpack_require__.p+"images/d747c381a37b344ebd5e7ccab9924101.svg",i2s=__webpack_require__.p+"images/c149f74cacb6894eb927573b8933ce2c.svg",
j2s=__webpack_require__.p+"images/ebbe273cc23a6791b453e61fd5940c1e.svg",k2s=__webpack_require__.p+"images/fa3bc38ce9b70594b8edaad3cfc61b36.svg",l2s=__webpack_require__.p+"images/116f0695785a0951166ccaf14a21716b.svg";var m2s=[{type:void 0,label:L("9e7qCw"),Wea:0,thumbnail:c2s},{type:"cross-dissolve",label:L("UC2hsg"),Wea:5E5,thumbnail:g2s},{type:"slide",label:L("nQVX1w"),Wea:5E5,thumbnail:j2s},{type:"wipe-circle",label:L("IsoSzQ"),Wea:5E5,thumbnail:e2s},{type:"color-wipe",label:L("K3o8tQ"),Wea:1E6,thumbnail:f2s},{type:"wipe-line",label:L("TeLvcQ"),Wea:5E5,thumbnail:i2s},{type:"match",label:L("9eUSmA"),description:L("0LipfA"),Wea:5E5,thumbnail:l2s},{type:"flow",label:L("Y8dVVQ"),Wea:15E5,thumbnail:h2s},{type:"stack",
label:L("XPz/Dw"),Wea:5E5,thumbnail:k2s},{type:"chop",label:L("ghebZg"),Wea:5E5,thumbnail:d2s}],n2s=[{type:void 0,label:L("9e7qCw"),Wea:0,thumbnail:c2s},{type:"cross-dissolve",label:L("UC2hsg"),Wea:5E5,thumbnail:g2s},{type:"slide",label:L("nQVX1w"),Wea:5E5,thumbnail:j2s},{type:"wipe-circle",label:L("IsoSzQ"),Wea:5E5,thumbnail:e2s},{type:"color-wipe",label:L("K3o8tQ"),Wea:1E6,thumbnail:f2s},{type:"wipe-line",label:L("TeLvcQ"),Wea:5E5,thumbnail:i2s},{type:"stack",label:L("XPz/Dw"),Wea:5E5,thumbnail:k2s},
{type:"chop",label:L("ghebZg"),Wea:5E5,thumbnail:d2s}];var o2s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.75 7.098V4.5a.75.75 0 0 0-1.5 0v4c0 .966.784 1.75 1.75 1.75h4a.75.75 0 0 0 0-1.5H5.517A7.252 7.252 0 0 1 19.25 12a7.25 7.25 0 0 1-13.604 3.495.75.75 0 0 0-1.313.724 8.75 8.75 0 1 0 .417-9.12Z" fill="currentColor"/></svg>';var p2s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var q2s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var r2s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.25 7.098V4.5a.75.75 0 0 1 1.5 0v4A1.75 1.75 0 0 1 19 10.25h-4a.75.75 0 0 1 0-1.5h3.483A7.252 7.252 0 0 0 4.75 12a7.25 7.25 0 0 0 13.604 3.495.75.75 0 0 1 1.314.724 8.75 8.75 0 1 1-.418-9.12Z" fill="currentColor"/></svg>';var s2s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var t2s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var u2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.134 6.673a1.01 1.01 0 0 1 .536-1.315l7.822-3.328a.99.99 0 0 1 1.304.532l2.024 4.865a1.01 1.01 0 0 1-.536 1.315L5.462 12.07a.99.99 0 0 1-1.304-.532L2.134 6.673Z" stroke="currentColor" stroke-width="1.25" stroke-linejoin="round"/><path d="M9.5 13.28h2.861a1 1 0 0 0 1-1v-.53" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var v2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="2.125" stroke="currentColor" stroke-width="1.25"/><circle cx="8" cy="8" r="5.375" stroke="currentColor" stroke-width="1.25"/></svg>';var w2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.993 5.457 9.55 5.9l.442-.442Zm1.992 4.644-6.5-6.5-.884.884 6.5 6.5.884-.884ZM2.75 4.375h1.586v-1.25H2.75v1.25Zm-.375 6.875v-6.5h-1.25v6.5h1.25Zm8.46.375H2.75v1.25h8.086v-1.25Zm-.135-7.25h2.55v-1.25H10.7v1.25Zm2.925.375V7.3h1.25V4.75h-1.25ZM9.551 5.899l2.55 2.55.884-.884-2.55-2.55-.884.884ZM13.625 7.3a.375.375 0 0 1-.64.265l-.884.884c1.024 1.024 2.774.299 2.774-1.149h-1.25Zm-.375-2.925c.207 0 .375.168.375.375h1.25c0-.897-.727-1.625-1.625-1.625v1.25Zm-2.55-1.25c-1.448 0-2.173 1.75-1.15 2.774l.885-.884a.375.375 0 0 1 .265-.64v-1.25ZM1.125 11.25c0 .898.728 1.625 1.625 1.625v-1.25a.375.375 0 0 1-.375-.375h-1.25ZM2.75 3.125c-.897 0-1.625.728-1.625 1.625h1.25c0-.207.168-.375.375-.375v-1.25Zm2.735.476a1.625 1.625 0 0 0-1.15-.476v1.25c.1 0 .196.04.266.11l.884-.884Zm5.616 7.384a.375.375 0 0 1-.265.64v1.25c1.447 0 2.172-1.75 1.149-2.774l-.884.884Z" fill="currentColor"/></svg>';var x2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.496 8.089 3.25 5.924v4.33l3.247-2.165Zm3.007 0 3.247-2.165v4.33L9.503 8.089Zm-2.058.87a1 1 0 0 1 1.11 0l3.89 2.594A1 1 0 0 0 14 10.72V5.457a1 1 0 0 0-1.555-.832L8.555 7.22a1 1 0 0 1-1.11 0L3.554 4.625a1 1 0 0 0-1.555.832v5.264a1 1 0 0 0 1.555.832l3.89-2.594Z" fill="currentColor"/></svg>';var y2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.75 6.5h5.157m-4.157 3H5" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/><path d="M5 3.5h8.408c.549 0 .992.443.992.993v7c0 .555-.452 1.007-1.007 1.007H3.749" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var z2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="5.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><rect x="10.125" y="3.625" width="3.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/></svg>';var A2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.25" d="M10.5 6s.608 1.78 1.388 2.645c.78.866 2.612 1.317 2.612 1.317s-1.783.46-2.612 1.419c-.552.64-1.015 1.512-1.388 2.619-.46-1.171-.956-2.044-1.489-2.62-.533-.574-1.37-1.114-2.511-1.618 1.027-.12 1.864-.493 2.511-1.117C9.981 7.71 10.5 6 10.5 6zm-5-4s.531 1.173.927 1.635C6.824 4.097 8 4.45 8 4.45s-1.315.728-1.573 1.02c-.172.194-.472.704-.9 1.53-.238-.662-.521-1.173-.848-1.53C4.35 5.112 3.792 4.772 3 4.45c.647-.198 1.147-.47 1.499-.815C5.026 3.117 5.5 2 5.5 2z"/></svg>';var B2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="10.75" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><path d="M7.675 6.175 9.5 8 7.675 9.825" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var C2s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.25 3.75a1 1 0 0 1 1-1h9.5a1 1 0 0 1 1 1V8.5a1 1 0 0 1-1 1h-9.5a1 1 0 0 1-1-1V3.75Z" stroke="currentColor" stroke-width="1.25"/><path d="M3.5 12v0c0 .531.43.961.962.961h7.077c.53 0 .961-.43.961-.961v0" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var KLs=br({small:u2s}),RLs=br({small:v2s}),LLs=br({small:w2s}),MLs=br({small:x2s}),NLs=br({small:y2s}),SLs=br({small:z2s}),OLs=br({small:A2s}),PLs=br({small:B2s}),QLs=br({small:C2s}),VLs=br({medium:o2s}),ULs=br({medium:r2s}),$Ls=br({medium:s2s}),aMs=br({medium:t2s}),bMs=br({medium:p2s}),cMs=br({medium:q2s});var D2s=({transition:a,Sgi:b,uan:c,$q:d})=>{a=TLs(a)||(b?__c.Qms:Nu);return d&&b?cV(__c.Qms,{size:"medium"}):cV(a,{size:"small",className:AV({QinT_w:c})})};var E2s={eventType:"editor_transition_panel_opened",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),page_number:a.yd,location:a.location,control_context:a.kb})}},jMs={eventType:"editor_transition_applied",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),page_number:a.yd,transition_name:a.M_f,previous_transition_name:a.uds,did_apply_between_all_pages:a.Ddq})}},F2s={eventType:"editor_transition_adjusted",Oa(a){return rf({editing_context:a.Ba==null?void 0:sf(a.Ba),page_number:a.yd,
transition_name:a.M_f,property:a.property,original_value:a.Hpb,current_value:a.oza})}};var G2s=class{static G(a){P(a,{bcb:wV.ref,C7f:wV.ref,Ee:wV.ref,title:wV.ref})}constructor(){this.bcb=(G2s.G(this),void 0);this.title=this.Ee=this.C7f=void 0}},K2s=class{static G(a){P(a,{panel:mV({keepAlive:!0}),mol:mV({keepAlive:!0}),i_k:mV,wTc:mV({equals:lV.shallow}),D6e:mV({equals:lV.shallow}),y0g:wV.ref,Hon:fV,WHn:fV,VHn:fV,close:fV})}get panel(){return{na:n(this.config.bcb),header:this.config.title?{title:this.config.title}:void 0}}get mol(){return{$e:n(this.config.C7f),options:{sg:this.config.Ee}}}get i_k(){const a=
n(this.config.bcb);return{$e:()=>cV(a,{}),options:{sg:this.config.Ee}}}get IP(){return this.tul.vne}get wTc(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)!=="pages"||a.inner!=null&&a.inner.type!=="background"?[]:a.pages.filter(b=>this.$wc.Rcb(b))}get D6e(){var a;const b=this.selection.La;return(b===null||b===void 0?void 0:b.type)!=="pages"||b.inner!=null&&b.inner.type!=="background"?[]:((a=b.inner)===null||a===void 0?void 0:a.Oc.filter(c=>!this.cAo.UJb(c)))||[]}open(a){var b;
const c=a.page,d=this.V.sb("open_transition_panel",{Fb:{name:"editor.editing.transitions.open_transition_panel",type:a.kb}});this.Hon(a.RGl,c);this.WHn(c!==null&&c!==void 0?c:(b=this.$wc.ya)===null||b===void 0?void 0:b.page,a.kb,a.entryPoint);d.ue()}Hon(a,b){b&&(this.viewport.Gy(b),a.length===0||this.y0g!=null?this.selection.OAb(b):this.selection.JEf(b))}WHn(a,b,c){a&&this.$wc.Rcb(a)&&(this.P.track(E2s,{location:"page_navigator",kb:b,yd:this.Ia.pages.toArray().indexOf(a)+1}),b=this.tul,b.active!==
c&&b.vne.clear(),b.active=c,this.IP.clear(),this.y0g=a,this.ka.layout===2?this.IP.Zg(this.mol):c==="toolbar"?this.IP.Zg(this.i_k):this.kn.open(this.panel,{Fa:"top"}))}VHn(a,b,c){this.cAo.UJb(a)||(this.P.track(E2s,{location:"page_navigator",kb:b,yd:1}),a=this.tul,a.active!==c&&a.vne.clear(),a.active=c,this.IP.clear(),this.ka.layout===2?this.IP.Zg(this.mol):c==="toolbar"?this.IP.Zg(this.i_k):this.kn.open(this.panel,{Fa:"top"}))}close(){this.y0g=void 0;this.kn.close(this.panel);this.IP.clear()}constructor(a,
b,c,d,e,f,g,h,k,l,m){this.Ia=a;this.config=b;this.kn=c;this.selection=d;this.viewport=e;this.$wc=f;this.cAo=g;this.P=h;this.tul=k;this.V=l;this.ka=m;this.y0g=(K2s.G(this),void 0)}};var L2s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.561 16.5h7.19a.75.75 0 1 1 0 1.5h-8A1.75 1.75 0 0 1 6 16.25v-8a.75.75 0 0 1 1.5 0v7.19l9.2-9.2a.75.75 0 0 1 1.06 1.06l-9.2 9.2z" fill="currentColor"/></svg>';var YLs=br({medium:L2s});var M2s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.48 15.439v-7.19a.75.75 0 1 1 1.5 0v8A1.75 1.75 0 0 1 16.23 18h-8a.75.75 0 0 1 0-1.5h7.19l-9.2-9.2a.75.75 0 0 1 1.06-1.06l9.2 9.2z" fill="currentColor"/></svg>';var XLs=br({medium:M2s});var N2s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 8.581v7.19a.75.75 0 1 1-1.5 0v-8c0-.967.783-1.75 1.75-1.75h8a.75.75 0 0 1 0 1.5H8.56l9.2 9.2a.75.75 0 0 1-1.06 1.06l-9.2-9.2z" fill="currentColor"/></svg>';var WLs=br({medium:N2s});var O2s=class{static G(a){P(a,{uld:wV.ref,animation:wV.ref,ya:mV,BN:mV,Uue:mV,Elb:mV,wSh:mV,Gdd:mV,directions:mV,origins:mV,ra:mV,Hee:mV,cG:fV,zgo:fV,KNi:fV,setDirection:fV,yll:fV,vjl:fV,U4:fV,$gb:fV,$bc:fV,ccc:fV,iOb:fV,Poe:fV})}get ya(){var a,b;return((b=this.selection.La)===null||b===void 0?void 0:(a=b.pages)===null||a===void 0?void 0:a.length)===1?this.yi.ub(this.selection.La.pages[0]):this.viewport.uh?this.yi.ub(this.viewport.ya):void 0}get BN(){var a;return(a=this.ya)===null||a===void 0?void 0:
a.page.transition.ref}get Uue(){var a,b;return(b=this.ya)===null||b===void 0?void 0:(a=b.page.transition.ref)===null||a===void 0?void 0:a.durationUs}get Elb(){var a;return(a=this.BN)===null||a===void 0?void 0:a.type}get wSh(){if(this.Elb)return this.Uq.get().find(a=>a.type===this.Elb)}get Gdd(){return this.Ia.pages.count()>2&&this.Ia.pages.filter(a=>!this.UJb(a)).some(a=>{var b;return a.transition.ref&&this.BN?a.transition.ref.type!==this.Elb||a.transition.ref.durationUs!==this.Uue||this.tpa(a.transition.ref)!==
this.tpa(this.BN)||this.Beb(a.transition.ref)!==this.Beb(this.BN)||this.HWa(a.transition.ref)!==this.HWa(this.BN):!this.BN&&a.transition.ref?!0:((b=a.transition.ref)===null||b===void 0?void 0:b.type)!==this.Elb})}tpa(a){switch(a.type){case "color-wipe":return a.ra;case "chop":case "cross-dissolve":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new v(a);}}Beb(a){switch(a.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return a.direction;
case "cross-dissolve":case "match":break;default:throw new v(a);}}HWa(a){switch(a.type){case "chop":return a.origin;case "cross-dissolve":case "color-wipe":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new v(a);}}get directions(){var a;return ZLs((a=this.BN)===null||a===void 0?void 0:a.type)}get origins(){var a;return dMs((a=this.BN)===null||a===void 0?void 0:a.type)}get ra(){var a;switch((a=this.BN)===null||a===void 0?void 0:a.type){case "color-wipe":return this.NWc(this.BN)}}NWc(a){switch(a.type){case "color-wipe":return a===
null||a===void 0?void 0:a.ra}}init(){QMs(mV(()=>new Map(this.Ia.pages.map(a=>[a,this.I8a(a)])),{equals:lV.shallow}),a=>{a.newValue.forEach((b,c)=>{var d;c.transition.ref&&b!==((d=a.oldValue)===null||d===void 0?void 0:d.get(c))&&this.KNi(c.transition.ref,this.Dud(c),Math.min(c.transition.ref.durationUs,this.I8a(c)))})});dV(()=>this.Ia.pages.filter(a=>a.type!=="fixed"||this.Ia.pages.last()===a?!1:!!a.transition.ref&&!fMs(this,a)),a=>{a.length!==0&&this.cG(a,void 0)},{equals:lV.shallow})}Rcb(a){return!this.UJb(a)}UJb(a){var b;
if(a.type!=="fixed")return!0;const c=(b=fMs(this,a))===null||b===void 0?void 0:b.page;return a.locked||c==null||c.locked||!1}get Hee(){var a;return!((a=this.BN)===null||a===void 0||!a.type)}cG(a,b){const c=this.V.sb("select_transition_type",{Fb:{name:"editor.editing.transitions.select_transition_type",type:b}});if(a.length!==0){if(this.Qmc){const d=this.Uq.get().find(e=>e.type===b);d&&__c.MDe(this.Qmc,d)}a.forEach(d=>{var e=d.transition.ref;if((e===null||e===void 0?void 0:e.type)!==b){if(b!=null){var f;
e=e?e.durationUs:gMs(this,b,this.I8a(d));var g=this.Ia;g=S7q({Ia:g,$s:this.$s,wkf:d.Oc.first(),GGf:(f=__c.T7q(d,g))===null||f===void 0?void 0:f.Oc.first()});g=iMs({type:b,durationUs:e,Mod:g})}kMs(this,d,g,d.transition.ref);d.transition.set(g)}});c.ue()}}I8a(a){if(!a||a.type!=="fixed")return 0;const b=this.vd.ub(a);var c=(a=(c=fMs(this,a))===null||c===void 0?void 0:c.page)?Math.min(b,this.vd.ub(a)):b;return Math.min(c/2,5E6)}zgo(a,{durationUs:b,direction:c,ra:d,origin:e}){const f=this.BN;if(f){var g=
lMs(f);this.cG(a,f.type);a.forEach(h=>{b&&this.KNi(f,this.Dud(h),Math.min(b||f.durationUs,this.I8a(h)));if(c)if(g===null||g===void 0?0:g.direction)this.setDirection(f,this.Dud(h),c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g===null||g===void 0?0:g.origin)this.yll(f,this.Dud(h),e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g===null||g===void 0?0:g.ra)this.vjl(f,this.Dud(h),d||g.ra);else throw Error(`No color for transition type: ${f.type}`);
})}}KNi(a,b,c){na(c>0);c!==a.durationUs&&(this.P.track(F2s,{yd:b,M_f:a.type,property:"duration_ms",Hpb:String(a.durationUs/1E3),oza:String(c/1E3)}),a.durationUs=c)}setDirection(a,b,c){switch(a.type){case "chop":case "color-wipe":case "flow":case "stack":case "slide":case "wipe-circle":case "wipe-line":if(c!==a.direction){var d=this.directions||[];const e=d.find(f=>f.value===a.direction);d=d.find(f=>f.value===c);this.P.track(F2s,{yd:b,M_f:a.type,property:"direction",Hpb:e===null||e===void 0?void 0:
e.name,oza:(d===null||d===void 0?void 0:d.name)||""});a.direction=c}break;case "cross-dissolve":case "match":throw Error(`No direction for transition type: ${a.type}`);default:throw new v(a);}}yll(a,b,c){a.type==="chop"&&c!==a.origin&&(this.P.track(F2s,{yd:b,M_f:a.type,property:"origin",Hpb:String(a.origin),oza:String(c)}),a.origin=c)}vjl(a,b,c){switch(a.type){case "color-wipe":lV.structural(c,a.ra)||(a.ra=c,this.P.track(F2s,{yd:b,M_f:a.type,property:"colors",Hpb:c.join(","),oza:a.ra.join(",")}));
break;default:throw Error(`No colors for transition type: ${a.type}`);}}U4(a){this.animation=a}get $$r(){if(this.animation&&this.animation.Ye.Jf)return this.animation}$gb(a,b){var c;const d=a===null||a===void 0?void 0:a.page;if(d&&this.Rcb(d)){pa(a.type==="fixed-page");var e=fMs(this,d);if(b!==void 0&&e){if(((c=d.transition.ref)===null||c===void 0?void 0:c.type)===b)b=d.transition.ref;else{var f;c=this.Ia;c=S7q({Ia:c,$s:this.$s,wkf:d.Oc.first(),GGf:(f=__c.T7q(d,c))===null||f===void 0?void 0:f.Oc.first()});
b=iMs({type:b,durationUs:gMs(this,b,this.I8a(d)),Mod:c})}this.Fja({pages:[a,e],transition:b})}}}$bc(a,b){var c=a===null||a===void 0?void 0:a.page;if(c&&this.Rcb(c)){pa(a.type==="fixed-page");var d=fMs(this,c);if(d){c={...n(c.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new v(c);}this.Fja({pages:[a,d],transition:c})}}}ccc(a,b){var c=a===
null||a===void 0?void 0:a.page;if(c&&this.Rcb(c)){pa(a.type==="fixed-page");var d=fMs(this,c);d&&(c={...n(c.transition.ref)},c.type==="chop"&&(c.origin=b,this.Fja({pages:[a,d],transition:c})))}}iOb(){this.animation&&this.animation.Ye.stop()}Fja({pages:a,transition:b}){const {Ye:c,yY:d}=this.Tga({F7a:__c.hze(()=>a,()=>this.Ia),override:{type:"page",animation:"none"},M9d:b});var e=c.nFe(a[0].page);e?(b=b.durationUs/1E3,e=e.duration-b,c.seek(e),c.JUe(e+b*2)):c.play();this.animation={Ye:c,yY:d}}Poe(a){if(a&&
this.Rcb(a)){var b=this.$s,c=this.Ia;kMs(this,a,this.BN,void 0,!0);c.pages.toArray().forEach(d=>{var e;if(this.Rcb(d)){var f=S7q({$s:b,Ia:c,wkf:d.Oc.first(),GGf:(e=__c.T7q(d,c))===null||e===void 0?void 0:e.Oc.first()});e=this.BN?iMs({type:this.BN.type,durationUs:Math.min(this.BN.durationUs,this.I8a(d)),Mod:f,options:lMs(this.BN)}):void 0;d.transition.set(e)}});this.$Es()}}Dud(a){return this.Ia.pages.toArray().indexOf(a)+1}CRa(a){return ik(a,this.Ia.dimensions)}kob(a){return a.Txb!=null&&this.npd<
a.Txb&&this.Qmc!=null&&!__c.LDe(this.Qmc,a)}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.Ia=a;this.$s=b;this.Tga=c;this.viewport=d;this.vd=e;this.P=f;this.V=g;this.Qf=h;this.selection=k;this.npd=l;this.Qmc=m;this.$Es=p;this.Uq=q;this.uld=(O2s.G(this),!1);this.yi=Ef(this.Ia);dV(()=>this.uld,r=>{var t;return r&&this.Poe((t=this.ya)===null||t===void 0?void 0:t.page)})}};var P2s=class{static G(a){P(a,{ra:mV,origins:mV,directions:mV,nQa:mV,ya:mV,Oc:mV,Oqa:mV,BN:mV,Elb:mV,Hee:mV,cG:fV,ygo:fV,x8g:fV,$gb:fV,$bc:fV,ccc:fV})}get ra(){var a;switch((a=this.BN)===null||a===void 0?void 0:a.type){case "color-wipe":return this.$wc.NWc(this.BN)}}get origins(){var a;return dMs((a=this.BN)===null||a===void 0?void 0:a.type)}get directions(){var a;return ZLs((a=this.BN)===null||a===void 0?void 0:a.type)}get nQa(){const a=this.viewport.uh?this.yi.ub(this.viewport.ya):void 0;if((a===
null||a===void 0?void 0:a.type)==="fixed-page")return a}get ya(){const a=this.viewport.uh?this.yi.ub(this.viewport.ya):void 0;if((a===null||a===void 0?void 0:a.type)==="fixed-page")return a.ja}get Oc(){var a;return(a=this.ya)===null||a===void 0?void 0:a.Oc}get Oqa(){var a,b,c;if(((b=this.selection.La)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="background")return(c=this.selection.La)===null||c===void 0?void 0:c.inner.Oc[0]}UJb(a){var b;return((b=this.Oc)===null||b===
void 0?void 0:b.last())===a}get BN(){var a;return(a=this.Oqa)===null||a===void 0?void 0:a.transition.ref}get Elb(){var a;return(a=this.BN)===null||a===void 0?void 0:a.type}get Hee(){var a;return!((a=this.BN)===null||a===void 0||!a.type)}cG(a,b){var c;(((c=this.Oc)===null||c===void 0?void 0:c.count())||0)!==0&&a.forEach(d=>{var e=d.transition.ref;if((e===null||e===void 0?void 0:e.type)!==b){if(b!=null&&(e=e?e.durationUs:(e=this.$wc.Uq.get().find(h=>h.type===b))?e.Wea:1E6,this.ya)){var f;var g=S7q({Ia:this.Ia,
$s:this.$s,wkf:d,GGf:(f=this.Oc)===null||f===void 0?void 0:f.next(d)});g=iMs({type:b,durationUs:e,Mod:g})}g?d.transition.set(g):d.transition.set(void 0)}})}ygo(a,{durationUs:b,direction:c,ra:d,origin:e}){const f=this.BN;if(f){var g=lMs(f);this.cG(a,f.type);a.forEach(h=>{b&&this.$wc.KNi(f,void 0,Math.min(b||f.durationUs,this.I8a(h)));if(c)if(g===null||g===void 0?0:g.direction)this.$wc.setDirection(f,void 0,c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g===
null||g===void 0?0:g.origin)this.$wc.yll(f,void 0,e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g===null||g===void 0?0:g.ra)this.$wc.vjl(f,void 0,d||g.ra);else throw Error(`No color for transition type: ${f.type}`);})}}x8g(a){a.transition.set(void 0)}Fja({transition:a,fill:b}){const c=this.nQa;if(c){var {Ye:d,yY:e}=this.Tga({F7a:__c.hze(()=>[c],()=>this.Ia),override:{type:"page",animation:"none"},M9d:a}),f=this.Oc&&__c.HRd(this.vd,this.Oc);(f=(f=f&&f.find(g=>g.fill===
b))&&f.startUs+f.durationUs)?(a=a.durationUs/1E3,f=f/1E3-a/2,d.seek(f),d.JUe(f+a*2)):d.play();this.$wc.U4({Ye:d,yY:e})}}$gb(a){var b,c;const d=this.Oqa;if(d&&!this.UJb(d)){var e=(b=this.Oc)===null||b===void 0?void 0:b.next(d);if(a!==void 0&&e){if(((c=d.transition.ref)===null||c===void 0?void 0:c.type)===a)a=d.transition.ref;else{var f;b=S7q({Ia:this.Ia,$s:this.$s,wkf:d,GGf:(f=this.Oc)===null||f===void 0?void 0:f.next(d)});a=iMs({type:a,durationUs:gMs(this.$wc,a,this.I8a(d)),Mod:b})}this.Fja({transition:a,
fill:d})}}}$bc(a,b){if(a&&!this.UJb(a)){var c={...n(a.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new v(c);}this.Fja({fill:a,transition:c})}}ccc(a,b){if(a&&!this.UJb(a)){var c={...n(a.transition.ref)};c.type==="chop"&&(c.origin=b,this.Fja({fill:a,transition:c}))}}I8a(a){var b;if(!a)return 0;const c=this.vd.TK(a),d=(b=this.Oc)===null||
b===void 0?void 0:b.next(a);a=d?Math.min(c,this.vd.TK(d)):c;return Math.min(a/2,5E6)}constructor(a,b,c,d,e,f,g){this.Ia=a;this.$s=b;this.viewport=c;this.selection=d;this.$wc=e;this.Tga=f;this.vd=g;this.yi=(P2s.G(this),void 0);this.yi=Ef(this.Ia)}};var Q2s=class{static G(a){P(a,{active:wV.ref,vne:mV})}get vne(){return n(this.uul.get(this.active))}constructor(a,b){this.active=(Q2s.G(this),"pageNavigator");this.uul=new Map;this.uul.set("pageNavigator",a);this.uul.set("toolbar",b)}};var R2s=class{static G(a){P(a,{yqm:mV,ya:mV,IRa:mV})}get yqm(){const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "pages":return this.ya&&this.ya.transition.ref!=null;default:return!1}}get ya(){return this.viewport.uh?this.viewport.ya:void 0}get IRa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}constructor(a,b){this.selection=a;this.viewport=b;R2s.G(this)}};var S2s={eventType:"editor_element_opacity_changed",Oa(a){return rf({selected_element_types:a.AFa,previous:a.previous,value:a.value,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Op,page_height:a.Mr,num_pages_in_document:a.Ly,num_elements_in_page:a.ND,page_index:a.Vb,editing_context:a.Ba==null?void 0:sf(a.Ba)})}};var T2s={Ly:0,Op:0,Mr:0},U2s=class{static G(a){P(a,{gMi:mV,mTf:mV,$Gn:fV})}get ZK(){return!!this.selection.La}get gMi(){return oMs(this,this.selection.La)}get mTf(){return this.gMi?100-Math.round(this.gMi.get()*100):void 0}constructor(a,b,c){this.controller=a;this.selection=b;this.N=c;this.$Gn=(U2s.G(this),d=>{var e;d=(100-Math.round(d))/100;(e=this.gMi)===null||e===void 0||e.set(d)});this.XZr=d=>{d!=null&&this.mTf&&this.tsr(d,100-Math.round(this.mTf*100))};this.Dqc=()=>{var d;const e=n(this.selection.La),
f=e.Qz;f&&f.type==="fixed-page"&&this.N.track(__c.Kph,{...T2s,ND:f.page.elements.count(),AFa:(d=e.elements)===null||d===void 0?void 0:d.map(g=>g.type),menu:"opacity"})};this.tsr=(d,e)=>{var f;const g=n(this.selection.La),h=g.Qz;h&&h.type==="fixed-page"&&this.N.track(S2s,{...T2s,ND:h.page.elements.count(),AFa:(f=g.elements)===null||f===void 0?void 0:f.map(k=>k.type),previous:d.toString(),value:e.toString()})}}},mMs=class{get(){return this.objects.reduce((a,b)=>Math.min(a,b.get()),1)}set(a){for(const b of this.objects)b.set(a)}constructor(a){this.objects=
a}};var V2s=a=>{const b=a.open,c=a.Ci,d=a.disabled,e=a.onClick,f=a.Ph;a=gV(()=>{b||f();e===null||e===void 0||e()},[b,e,f]);return cV(c,{tooltip:L("qwymYg"),className:"pyufWg",pressed:b,disabled:!!d,onClick:a,Ah:"icon",icon:__c.OVr,children:L("esjKOA")})},W2s=({Lh:a,value:b,onChange:c,Yg:d,Oe:e,$f:f})=>{a=cV("div",{className:"_1eG0uQ",children:cV(a,{min:0,max:100,step:1,Kw:0,onChange:c,Yg:d,value:b,label:L("esjKOA")})});return f?a:cV(__c.kjh,{Oe:e,children:a})};var X2s=class{open(){return this._open()}constructor(a){this._open=a}};var rMs={eventType:"editor_version_history_clicked",Oa(a){return rf({document_id:a.ia,source:a.source,editing_context:a.Ba==null?void 0:sf(a.Ba)})}};$B=__c.$B={};$B.oTl=zMs;$B.S5p=function({uc:a}){return{VGl:new iNs(a)}};
$B.d7m=function(a){var b=a.a2,c=a.Hq;const d=a.B0g,e=a.k1c,f=a.Dc,g=a.Ma,h=a.da,k=a.la,l=a.P,m=a.ka,p=a.Td,q=a.YHa,r=a.viewport,t=a.Caa;var u=a.Ja;const w=a.xe,x=a.selection,y=a.Xa,z=a.ed,A=a.fh,B=a.Bd,D=a.Ga,G=a.Pa,I=a.Zb,K=a.ww,N=a.O$,M=a.ea,O=a.t1c;var U=a.Wpf;const W=a.i9d,X=h.undo;switch(u){case "fixed":u=a.Id;const Z=a.kn,da=a.ksg,ka=a.Kl,la=a.rT;({HUc:b}=Rps({a2:b,Ja:"fixed",selection:x,fh:A,Bd:B,ka:m,la:k,P:l,Ga:D,Pa:G,Zb:I,ww:K,O$:N,TGb:a.TGb,undo:X,ea:M,xe:w,t1c:O,i9d:W}));qps({Hq:c,B0g:d,
k1c:e,ksg:da,Ja:"fixed",P:l,ka:m,Td:p,da:h,Dc:f,Ma:g,selection:x,Xa:y,ed:z,viewport:r,la:k,xe:w,Caa:t,YHa:q,ea:M,Wpf:U,HUc:b,Kl:ka,rT:la});Rb("eb935326",!1)&&({Z4e:c}=Xps({Ja:["fixed","responsive"],jc:a.jc,Id:u}),yps({Td:p,kn:Z,ka:m,Ma:g,selection:x,viewport:r,Id:u,Z4e:c,Kl:ka}));break;case "responsive":U=a.Bjd;a=a.Wpf;({HUc:b}=Rps({a2:b,Ja:"responsive",selection:x,fh:A,Bd:B,ka:m,la:k,P:l,Ga:D,Pa:G,Zb:I,ww:K,O$:N,undo:X,ea:M,t1c:O,i9d:W}));qps({Hq:c,B0g:d,k1c:e,Ja:"responsive",ka:m,Td:p,Dc:f,Ma:g,
ed:z,da:h,Xa:y,la:k,xe:w,Caa:t,YHa:q,ea:M,selection:x,viewport:r,P:l,HUc:b,Bjd:U,Wpf:a});break;default:throw new v(u);}p.kc(({SL:Z})=>{Z&&(Z.q5i={Button:eV(da=>cV(da.fF,{AY:CCj,children:L("u7+XyA")}))})})};
$B.e7m=function(a){if(a.Ja!=="responsive"){var {Hkd:b}=wOs({canvas:a.canvas,viewport:a.viewport,selection:a.selection,wp:a.wp,undo:a.session.undo});tss(a);wss(a);Ass(a);Jrs({...a,Hkd:b});yss(a);xss(a);bss({jbb:a.jbb,eGa:a.eGa,Hkd:b,viewport:a.viewport,jc:a.jc,sc:a.sc,Gba:a.Gba,ka:a.ka,P:a.P,s1a:a.s1a});fos({jbb:a.jbb,eGa:a.eGa,Hkd:b,viewport:a.viewport,jc:a.jc,sc:a.sc,ka:a.ka,P:a.P,s1a:a.s1a});sss({jbb:a.jbb,eGa:a.eGa,Hkd:b,viewport:a.viewport,jc:a.jc,Zc:a.Zc,sc:a.sc,P:a.P,s1a:a.s1a});!a.eQj&&a.Qe&&
a.xe&&jqs({sc:a.sc,Qe:a.Qe,xe:a.xe,toolbar:a.toolbar,Rr:a.Rr});ROs(a.Bd,a.selection,a.sc,a.session)}a.D9.zqa==null&&Trs(a);Krs(a);Ers(a,(f,g)=>a.sc.k6a(f,g));fqs(a);b=a.Qe;const c=a.xe,d=a.Si,e=a.sc;oss(a,(f,g,h)=>e.addTable(f,g,h));jss(a,(f,g)=>e.TEb(f,g));d&&fss({...a,Si:d});b&&c&&iqs({UJ:async f=>{await e.UJ(f,{Yc:"quick_actions"})},Qe:b,xe:c})};$B.f7m=function({pHa:a,$Ca:b}){dV(()=>{var c;return(c=b.Ac.Ic)===null||c===void 0?void 0:c.id},c=>a.Fd=c,{fireImmediately:!0})};
$B.g7m=function(a){if(a.Ja==="responsive"){const Ec=a.toolbar,Gc=a.Bd,Nc=a.Ma,Ed=a.fh,Gd=a.sc,Ud=a.selection,Oe=a.q3,me=a.Og,ye=a.QT,Pd=a.wOa,Ld=a.Si,je=a.da.undo,dg=a.Gb,vd=a.P,gf=a.RFc;Tss({Ja:"responsive",Bd:Gc,Ma:Nc,q3:Oe,ka:a.ka,selection:Ud});yvs({Ja:"responsive",toolbar:Ec,fh:Ed,Ma:Nc,selection:Ud,P:vd,wOa:Pd,Si:Ld});fvs({Ja:"responsive",sc:Gd,Ma:Nc,selection:Ud,q3:Oe,Og:me,QT:ye,undo:je,fh:Ed,Bd:Gc,Gb:dg,RFc:gf,P:vd});return{rNh:void 0}}const b=a.toolbar,c=a.Bd,d=a.Qf,e=a.Ma,f=a.Dc,g=a.da,
h=g.document,k=g.undo,l=a.sc,m=a.Wq,p=a.RWa,q=a.keyboardShortcuts,r=a.Wj,t=a.X,u=a.viewport,w=a.selection,x=a.ya,y=a.Df,z=a.fh,A=a.q3,B=a.Og,D=a.QT,G=a.Gb,I=a.RFc,K=a.xe,N=a.A2d,M=a.Qa,O=a.Hj,U=a.ka,W=a.eb,X=a.P,Z=a.Ga,da=a.tge,ka=a.isDragging,la=a.re,oa=a.D$,ja=a.Zc,ha=a.Qta,ba=a.yr,ca=a.errorService,qa=a.uc,ra=a.te,sa=a.AX,wa=a.sf,ya=a.Vf,za=a.$ab,Aa=a.wp,Ea=a.wOa,Fa=a.Si,Na=a.oh,Ja=a.WW,Qa=a.F8,Ta=a.kWe,Xa=a.Yfc,Ya=a.la,Sa=a.Ea,ib=a.alert,pb=a.CAe,ob=a.$f,{R5f:nb,S5f:gb}=Cus({selection:w,eb:W,
ya:x,ka:U,P:X,Ga:Z,isDragging:ka,keyboardShortcuts:q,Ma:e,viewport:u,Bd:c,fh:z,xe:K,aT:a.aT,BR:a.BR,Lk:a.Lk,Kl:a.Kl,ut:a.ut,Qf:d}),{Rkd:mb,I3f:db}=Tss({Ja:["fixed","responsive"],selection:w,Ma:e,yr:ba,Zc:ja,eb:W,te:ra,ka:U,P:X,fh:z,Bd:c,q3:A,xe:K,keyboardShortcuts:q}),{rNh:ub}=Mts({selection:w,ya:x,X:t,Dc:f,ka:U,sc:l,Wq:m,RWa:p,eb:W,undo:k,toolbar:b,Bd:c,document:h,fh:z,A2d:N,Qa:M,Hj:O,errorService:ca.wf("clustering"),P:X,Ga:Z,la:Ya,Ea:Sa,alert:ib,Qf:d,sf:wa,Vf:ya,kWe:Ta,$f:ob}),{Yle:Ob}=Zvs({selection:w,
yr:ba,keyboardShortcuts:q,ka:U,P:X,Rkd:mb,Bd:c,fh:z,CAe:pb}),{vsd:Pb,yjj:Ab,zjj:Qb,Hgj:Jb,Igj:$b,m$i:rc,n$i:Tc}=fvs({Ja:["fixed","responsive"],Ma:e,selection:w,eb:W,Wj:r,yr:ba,toolbar:b,Bd:c,te:ra,sc:l,AX:sa,wp:Aa,q3:A,Og:B,QT:D,Gb:G,RFc:I,undo:k,fh:z,WW:Ja,F8:Qa,P:X});tQs({canvas:r,undo:k,yr:ba,uc:qa,selection:w,wp:Aa,oh:Na,Yfc:Xa,toolbar:b,tge:da,isDragging:ka,P:X,Ga:Z});const {rjj:Sc,Baj:hc,Wbj:vc}=yvs({Ja:["fixed","responsive"],selection:w,Ma:e,WW:Ja,re:la,D$:oa,eb:W,toolbar:b,fh:z,wp:Aa,wOa:Ea,
Si:Fa,$ab:za,P:X,Wj:r,viewport:u,vsd:Pb}),{mfj:tb}=Dvs({selection:w,Qta:ha,WW:Ja,toolbar:b,wp:Aa,AX:sa,P:X}),kc=eV(({ZRc:Ec})=>cV($Ps,{rjj:Sc,Baj:hc,Wbj:vc,yjj:Ab,zjj:Qb,Hgj:Jb,Igj:$b,m$i:rc,n$i:Tc,mfj:tb,CT:sc.CT,ZRc:Ec})),Jc=eV(()=>cV(rV,{children:U.layout===2?cV(ZPs,{Df:y,R5f:nb,I3f:db.get(),Yle:Ob.get(),F3f:kc}):cV(YPs,{R5f:nb,I3f:db.get(),Yle:Ob.get(),F3f:kc})})),sc=new qPs(w,U,b,e),zc=new rPs(sc,w,b,X),Ac=eV(({vu:Ec})=>cV(cQs,{$F:sc.$F,ZKd:zc.ZKd,pLi:zc.pLi,xZe:zc.xZe,bhp:Jc,S5f:gb,vu:Ec})),
Lc={Rd:()=>sc.Gmd,Button:Ec=>{const Gc=Ec.onClick,Nc=Ec.open,Ed=gV(()=>{Gc===null||Gc===void 0||Gc();if(!Nc&&U.layout===1){const Gd=zc.selection.La;Gd&&Gd.type==="elements"&&Gd.Ki()||zc.xZe()}},[Nc,Gc]);return cV(XPs,{...Ec,onClick:Ed,ZKd:zc.ZKd})},Pu:{sg:()=>L("AXgBkw")},na:eV(({vu:Ec})=>U.layout===1?cV(Ac,{vu:Ec}):cV(Jc,{}))},ud={Rd:()=>sc.Gmd&&U.layout===2,Button:Ec=>cV(aQs,{...Ec}),Pu:{sg:()=>L("Y2VUFg")},na:()=>cV(bQs,{F3f:kc})};sc.lua=Lc;c.plugins.eEb=()=>Lc;c.plugins.M6f=()=>ud;q.register([CPs,
fV(()=>{zc.Z9b?zc.store.$F==="layers"?zc.cD():(zc.xZe(),zc.ZKd()):Uss(zc)}),L("1PXGVQ"),["edit"]]);K===null||K===void 0||K.wm(()=>sc.Gmd,{type:"simple",key:"layers",name:L("rx7oXA"),Icon:__c.kar,hm:CPs,execute:async()=>Uss(zc)});const md=()=>Uss(zc);z.kc(()=>sc.Gjo,(Ec,Gc)=>{Ec.ooa=Gc?{Button:Nc=>cV(DPs,{...Nc,onClick:md})}:void 0});return{rNh:ub}};
$B.m7m=function(a){const b=a.Ja,c=a.rq,d=a.la,e=a.Ih,f=a.a7,g=a.Gb,h=a.Xa,k=a.uo,l=a.tWd,m=a.errorService,p=a.hi,q=a.Ga.Vd(`editor.editing.clipboard.${b==="responsive"?"responsive":"fixed"}`),r={Xba(){var z;(z=g.sNk)===null||z===void 0||z.call(g);return{audio:Promise.resolve([]),images:Promise.resolve([]),Cc:Promise.resolve([])}}},t=()=>b==="responsive"?{}:{"font-family":a.Rr.BT},u=()=>{const z=Zgf(h);var A;return z?Ce.pick(B=>__c.Be(Ce,z,B)!=null,z):(A=k.l3)!==null&&A!==void 0?A:{}},w=Vys(a,t,u,
r),x=new wQs(new MMs(f,w),f),y=azs(a,new yQs(c,()=>t()["font-family"],()=>u().fontFamily),x,t,u,q);l.U0n={a5q:async z=>{tws(z)!=="proto"&&await y.copy(void 0,z)},VCp:async z=>{const A=q.sb("editor_clipboard_paste_drop",{Fb:{name:"editor.paste",attrs:new Map([["control_context","drag"]])}}),B=tws(z);B?(A.nb().cG(B),m.fu({category:"dropping",data:{dataType:B}}),(z=await x.paste(null,z))&&await y.paste(z,A,"drag",(e===null||e===void 0?void 0:e.Xba)||r.Xba,void 0)):(A.nb().cG("not_data"),A.end())},canDrop:z=>
tws(z)!=null,dYf:z=>{({xNa:z}=x.getData(z));return(z=z?w.mVd(z):void 0)?y.dYf(z):{items:new Set}}};czs(a,q,y,x,r,e);p&&(p.Rmm=()=>({label:"Copy Clipboard Proto",Icon:ID,Oq:async()=>{const z=await y.copy(void 0,void 0);let A;if(z)try{await window.navigator.clipboard.writeText(JSON.stringify(SQs.serialize(z.YRb))),A="Successfully copied selection to clipboard."}catch(B){A="Failed to copy selection to clipboard."}else A="Failed to copy. Do you have an selection on the page?";d.Hb({Cb:A})}}))};
$B.q7m=function(a){const b=a.ed,c=a.X,d=a.viewport,e=a.Ma,f=a.Jn,g=a.ka,h=a.kn,k=a.sc,l=a.cE,m=a.Qe,p=a.xe,q=a.nS,r=a.errorService,t=a.Qa,u=a.alf,w=a.la,x=a.P,y=a.Gwb,z=a.xB,A=a.zia,B=a.Tc,D=a.dec,G=a.ega,I=a.selection,K=a.uz,N=a.$Ca,M=a.Tb;if(B&&A&&u.status!==Qx.Er){var O=new __c.$ms(a.session.document);a.Mzg.then(U=>{let W;switch(a.Ja){case "fixed":W=new dSs(I,D,e,d,b,O);break;case "responsive":W=new eSs(I,D,b,d,O);break;default:throw new v(a);}const X=new __c.qv,Z=eV(({formula:wa})=>{var ya;const za=
(ya=ra.Lfn)===null||ya===void 0?void 0:ya.sheet;return za&&cV(U.UPb,{formula:wa,sheet:za,SAj:"xSmall"})});var da=(c===null||c===void 0?void 0:c.user.locale.startsWith("en"))||!1;const ka=da?void 0:Bzs({X:c,Qa:t}),la=Czs.vsq&&Czs.wgn!==""&&Czs.nzk!==""?hAs({X:c,Qa:t,Tb:M,Aa:x,f0d:()=>ra.session.id}):void 0,oa=(wa,ya,za)=>{sa.fsc(ra,wa,ya,za)},ja=eV(()=>{var wa;return cV(GRs,{input:ra.tAa?null:cV(URs,{Bqd:ra.Bqd,lui:sa.uDa,O5h:sa.O5h,EQr:sa.TJm,sVr:sa.Qdo,JVe:ra.JVe,YRi:sa.YRi,nHq:ra.iPg==null,HBa:void 0,
a7p:cV(DRs,{quota:ra.quota,Ywk:ra.Ywk,LKl:sa.LKl}),NNg:sa.NNg,fsc:oa}),error:ra.error?cV(NRs,{error:ra.error}):void 0,CDc:cV(gSs,{CDc:ra.CDc,Qha:sa.xXp,MIa:sa.nOr}),Hqk:cV(oSs,{ZLp:ha!=null,zPp:ra.vnd,ZQe:sa.Umm,MIa:sa.LLr}),C8j:cV(jSs,{uIb:ra.uIb,Qha:sa.Umm,OQk:sa.OQk,ebj:Z,ei:g.layout===2}),Hbj:la===null||la===void 0?void 0:la.Hbj,hOo:ka,arl:ra.iPg!=null,bqk:ra.tAa,bWe:(wa=ra.iPg)===null||wa===void 0?void 0:wa.bWe,$If:sa.$If,EYg:K.Yko})});da={header:{title:cV(JRs,{Y7:!da})},na:eV(function(){return cV(__c.tv,
{navigation:X,height:"fill",jPa:({$e:wa})=>cV(wa,{Oe:"fill",oa:sa.GRp})})})};const ha=k.zL!=null?wa=>k.zL(wa,{location:"visualize_panel",Yc:"recommended_charts",C8:"none"},{template:{type:"fixed",dimensions:{width:1920,height:1080,units:4},He:{type:"inline",pG:void 0}}}):void 0,{Ac:ba}=N.Hq("none"),ca=new __c.oHb(f),qa=new __c.tu,ra=new $Rs(u),sa=new bSs(ra,X,g,h,m,k,da,l,I,W,D,B,q,x,u,qa,A,y,z,r,w,K,ca,window.navigator.clipboard,d,wa=>{X.Zg({$e:()=>cV(Wn,{children:cV(ja,{})}),options:{sg:()=>cV(R,
{children:wa})}})},ha,ba,la===null||la===void 0?void 0:la.LOr);p&&["data-insights","data-insights-action"].forEach(wa=>p.wm(()=>sa.xHs(wa),{type:"simple",key:wa,name:L("lp4Iiw"),Icon:__c.BWr,dI:!0,execute:async()=>{sa.hIn()}}));G.YWk=()=>sa.hIn()}).catch(U=>{r.pa(U,{Ka:"Failed to load data insights"})})}};
$B.r7m=function(a){var b=a.Wq;const c=a.HX,d=a.Lzi;var e=a.Ma,f=a.selection;const g=a.Bd,h=a.fh,k=a.P;var l=a.Xa,m=a.zwa;const p=a.WW,q=a.Ga.Vd("editor.editing.deleting_ui");let r;e=new pRs(b,c,f,l,m,e);if(a.Ja!=="responsive"){f=a.document;l=a.Pa;m=a.eb;const G=a.Qf,I=a.selection,K=a.jc,N=a.Og,M=a.A3h,O=a.Io,U=a.Ea,W=a.ka,X=new CRs,Z=new xRs(f,I,b,M,O,k,X,ka=>{U(()=>cV(BRs,{...ka}))});r=new oRs(e,b,c,Z,K,I,N,l,m,G,q,k,W);const da={Rd:()=>Z.rsl(),Button:eV(ka=>cV(wRs,{...ka,onClick:()=>{r.WP("toolbar",
y("floating_toolbar",{type:"page"}),"outer")},disabled:()=>!r.kfg(),Cg:Z.Cg.length})),Pu:{sg:()=>J("JwjLTA",[Z.Cg.length])}};g.plugins.ADb=()=>da}else r=e;b=fV(G=>r.kNj("keyboard_shortcut",G));a.Ja!=="responsive"&&a.keyboardShortcuts.register(["Backspace",b,L("k6m7gA"),["edit"]],["Delete",b,L("k6m7gA"),["edit"]]);__c.Wo(p,["Backspace",b,L("k6m7gA"),["edit","suggest"]],["Delete",b,L("k6m7gA"),["edit","suggest"]]);const {kJp:t}=gzs({HX:c,cJp:d}),u=G=>t.qdh(G),w=()=>t.AMh(),x=eV(G=>{const I=G.kb,K=G.bvb;
G=G.oa;const N=gV((M,O)=>{t.AMh();return r.WP(I,M,O)},[I]);return cV(vRs,{bvb:K,V:q,disabled:r.zmd,aRe:N,oa:G,onMouseEnter:u,onMouseLeave:w,onFocus:u,onBlur:w})}),y=(G,I)=>{switch(I.type){case "background":return q.sb(`delete_background_${G}`,{Fb:{name:"editor.delete_background"}});case "page":return q.sb(`delete_page_${G}`,{Fb:{name:"editor.delete_page"}});default:return q.sb(`delete_element_${G}`,{Fb:{name:"editor.delete_element"}})}},z={Button:tRs,Pu:{sg:()=>L("eLUEGw")},na:G=>cV(x,{...G,bvb:r.Pge}),
onClose:w},A={Button:eV(G=>{const I=G.kb,K=G.onClick,N=gV(()=>{oV(()=>{var M=r.Pge;if(M.length!==0){K&&K();var O=M[0];M=y("floating_toolbar",O);O=rzs(O);return r.WP(I,M,O.mode)}})},[I,K]);return cV(sRs,{...G,onClick:N,disabled:r.zmd})})},B=mV(()=>r.Pge.length);g.plugins.xCa=()=>{const G=B.get();return{Rd:()=>G>0,...(G>1?z:A)}};g.plugins.K2b=()=>{const G=r.Pge.filter(I=>I.type==="background");return{Rd:()=>G.length>0,...(G.length>1?z:A)}};g.plugins.Agc=()=>{const G=r.Pge.filter(I=>I.type==="scrollable-design");
return{Rd:()=>G.length>0,...(G.length>1?z:A)}};const D=(G,I)=>{const K=rzs(G,I),N=fV(()=>{t.AMh();const O=y("contextual_menu",G);return r.WP("contextual_menu",O,K.mode)}),M=()=>t.qdh(G);return{Button:O=>{iV(()=>w,[]);return cV(O.hl,{Icon:K.Icon,label:K.message,hm:K.hm,onClick:N,oa:O.oa,onMouseEnter:M,onMouseLeave:w,onFocus:M,onBlur:w})}}};h.kc(()=>r.jjf,(G,I)=>{G.K2b=void 0;G.$yc=void 0;G.Mxh=void 0;G.VUc=void 0;G.azc=void 0;G.Nxh=void 0;G.WUc=void 0;G.zgc=void 0;I.forEach(K=>{const N=D(K,r.brl);
switch(K.type){case "background":G.K2b=N;break;case "column":if(!r.t7a)break;switch(r.t7a.type){case "table-element":case "table-item":G.$yc=N;break;case "sheet-element":case "sheet-item":case "sheet-page-content":G.VUc=N;break;case "layout-element":case "layout-item":G.Mxh=N}break;case "row":if(!r.t7a)break;switch(r.t7a.type){case "table-element":case "table-item":G.azc=N;break;case "sheet-element":case "sheet-item":case "sheet-page-content":G.WUc=N;break;case "layout-element":case "layout-item":G.Nxh=
N}break;default:G.zgc=N}})});h.kc(()=>r.eNj,(G,I)=>{G.X8i=I?{Button:K=>cV(K.hl,{label:szs(I),Icon:Px,hm:"Delete",onClick:fV(()=>r.etm("contextual_menu",y("contextual_menu",{type:"page"})))})}:void 0});return{d6b:r}};
$B.t7m=function({Uf:a,Td:b,Ma:c,Gca:d,Gb:e,f1c:f,Uze:g,TZh:h,zra:k}){const {Le:l,Ne:m}=__c.nc(vSs),p=new xSs(d,a,c,g,!!f,h),{Kyk:q}=pAs(d),r=k.jng(L("nykDAw"),"medium");dV(()=>p.kSc,A=>{switch(A){case 6:k.VQb(L("LtzRdg"),"critical");break;case 5:k.VQb(L("ZK0snA"),"high");break;case 0:k.VQb(L("FXfIUQ"),"high");break;case 4:k.VQb(L("YLfGCA"),"medium")}});const t=eV(({oa:A,Oe:B})=>cV(wSs,{ome:n(l.ome),Kyk:q.get(),oa:A,Oe:B})),u=mV(()=>{const A=e.swh,B=e.uwh;if(p.kSc==="view"&&B)return B;if(p.kSc==="comment"&&
A)return A}),w=mV(()=>{const A=u.get();if(A)return A;if(l.ome)return t}),x=eV(({MG:A,open:B,...D})=>{const G=n(p.kSc),I=w.get();iV(()=>{r()},[]);return cV(sSs,{...D,Button:I?A:void 0,active:B,Uf:a,kSc:G,Ns:"comfortable"})}),y=eV(({MG:A,open:B,...D})=>{const G=n(p.kSc);return cV(sSs,{...D,Button:A,active:B,Uf:a,kSc:G,Ns:"compact"})}),z=eV(({oa:A,Oe:B})=>{const D=n(w.get());return cV(D,{oa:A,Oe:B})});b.Eu(()=>({na:w.get(),HRo:u.get(),kSc:p.kSc}),({header:A},{na:B,HRo:D,kSc:G})=>{G==null||h&&(G==="view"||
G==="comment")?(A.M4f=void 0,A.twh=void 0):G==="playground"?A.M4f={Button:uSs}:(A.M4f={Button:x,na:B?z:void 0},D&&(A.twh={Button:y,na:z}))},{equals:lV.shallow});return{$ng:m}};
$B.x8q=function(a){const b=a.fh,c=new qSs(a.Ei,a.uc,a.session,a.Pa,a.viewport,a.selection);b===null||b===void 0||b.kc(()=>{a:{const e=c.Ei.ojc();if(e&&e.type!==2){var d=iAs(c,e.zq);if(d==null||!c.uc||!Ul(c.uc,d)){d=!e.fill.image.ref&&!e.fill.video.ref||e.type===1&&e.zq.type==="rect-element"?void 0:e;break a}}d=void 0}return d},(d,e)=>{if(e){var f=e.fill;f=!(f===null||f===void 0||!f.image.ref);var g=e.type===0?f?L("H1K9KQ"):L("1K2IFQ"):f?L("q5+BLg"):L("gkGP9w"),h=()=>{c.Cum(e)};d.u$e={Button:k=>cV(k.hl,
{Icon:__c.iB,label:g,onClick:h,oa:k.oa})}}else d.u$e=void 0})};$B.u7m=function(a){const b=a.selection;var c=a.Ma;const d=a.Bd;var e=a.OZa,f=a.Ja;let g,h;const k=Rb("920e6751",!1);c=new ISs(c,b,k,e);a=new ESs(c,a.Xa);f==="responsive"?(h=a,g=c):(f=new HSs(b,k,e),e=new JSs(b,f,c,e),f=new DSs(f),h=new FSs(b,f,a),g=e);d.plugins.Cgc=()=>({Rd:()=>!!g.direction,Button:eV(({Ci:l})=>{const m=n(g.direction);return cV(l,{icon:m.value==="rtl"?BSs:zSs,Ah:"icon",onClick:h.T7d,tooltip:KSs[m.selection]})})})};
$B.A8q=function({canvas:a,eb:b,selection:c,BR:d,rG:e,KNe:f,wp:g,Rba:h}){var k;const l=wV.box(!1);var m=fV(q=>{l.set(q.altKey);q.key==="Alt"&&q.type==="keyup"&&q.preventDefault()});window.document.addEventListener("keydown",m);window.document.addEventListener("keyup",m);window.addEventListener("blur",fV(()=>l.set(!1)));m=mV(()=>l.get()&&(!e.isDragging()||!!e.iub)&&!__c.Uyf(f)&&!g.controls.isDragging());const p=new PSs(b,c,e,m,d);a.kc(q=>q===40,(q,r)=>{q.Ag.w$e=r?t=>cV(OSs,{...t,eb:b,L:p}):void 0});
a=()=>!!p.lines.length;bNe(g.controls,a);(k=h.mE)===null||k===void 0||k.FQ(a);d.zHe(a)};
$B.w7m=function(a){const b=a.selection,c=a.Ja,d=a.Bd,e=a.Oub,f=a.std,g=a.Pa,h=a.xe,k=a.$f,l=a.ka,m=a.N;let p=new USs(e,f,g,m,a.Ma,b);if(c!=="responsive"){const r=new TSs(e,f,g,m,a.selection);p=new VSs(b,r,p);h===null||h===void 0||h.wm(()=>!!r.f3c,{type:"simple",key:"flip-vertical",name:L("d1wsgA"),Icon:__c.k9g,execute:fV(async()=>{const t=r.f3c;t&&r.yZd(t)})});h===null||h===void 0||h.wm(()=>!!r.f3c,{type:"simple",key:"flip-horizontal",name:L("+k16yw"),Icon:__c.i9g,execute:fV(async()=>{const t=r.f3c;
t&&r.xZd(t)})})}const q=eV(r=>{const t=r.sh;r=r.Oe;const u=fV(()=>p.xZd(t)),w=fV(()=>p.yZd(t));return cV(RSs,{dQr:u,eQr:w,Oe:r,zTg:k&&l.layout===2?"horizontal":"vertical"})});d.plugins.KDb=()=>({Rd:()=>!!p.f3c,Button:DV(r=>{var t;return cV(QSs,{...r,onClick:()=>{r.open||p.Dqc("flip",n(p.f3c));r.onClick&&r.onClick()},vj:(t=a.Qf)===null||t===void 0?void 0:t.J$i})}),Pu:{sg:()=>L("09kiuA")},na:r=>cV(q,{...r,sh:n(p.f3c)})})};
$B.W8q=function({document:a,Pb:b,viewport:c,zH:d,selection:e,wp:f,yr:g,wab:h,AX:k,te:l,jc:m,ka:p,fh:q,toolbar:r,Bd:t,Maa:u,oh:w,Wj:x,Ga:y,P:z,nM:A,Lk:B,$f:D}){var G;y=y.Vd("editor.editing.flowcharts");const I=__c.cc();var K=I===null||I===void 0?void 0:I.getItem("flowcharts.show_connect_handles");K=K!=null?K==="true"?!0:!1:void 0;const N=__c.gs.create({...__c.Fs,dimensions:a.dimensions,doctype:a.doctype}),M=new __c.Dqb(N);x.kc(Z=>Z===40?O.Yud:void 0,(Z,da)=>{Z.Ag.Q$e=da?eV(ka=>{var la;return ka.page.page!==
c.jh.page||O.xQi?null:kV(rV,{children:[cV($Ss,{zH:d,eB:A,Sc:ka.Sc,te:M,Yud:da}),cV(__c.pwf,{...ka,target:(la=O.connectTarget)===null||la===void 0?void 0:la.target})]})}):void 0});(G=r.mE)===null||G===void 0||G.FQ(()=>O.kgh);const O=new hTs(a,c,e,m,p,K,N),U=new gTs(O,a,b,c,e,g,h,k,l,m,w,x,y,z,B,M);I&&dV(()=>O.Jdd,Z=>Z!=null&&I.setItem("flowcharts.show_connect_handles",Z.toString()));const W=()=>{if(O.Idd)return{top:XSs,bottom:XSs,left:XSs,right:XSs}};f.kc(Z=>{Z.shape.aAa=W});f.Eu(()=>{if(O.Idd&&e.La&&
e.La.type==="elements"&&e.La.Ud&&e.La.Ud.type==="shape")return{element:e.La.Ud,zh:e.La.container}},(Z,da)=>{if(da){const ka=CAs({sdr:!bk(da.element),onClick:la=>U.Iyn(da.element,da.zh,la),onMouseEnter:p.layout===1?la=>U.Myn(da.element,da.zh,la):void 0,onMouseLeave:p.layout===1?U.Nyn:void 0,onDragStart:(la,oa)=>U.Lyn(da.element,da.zh,la,oa),qe:(la,oa)=>U.Kyn(da.element,da.zh,la,oa),onDragEnd:(la,oa)=>U.Jyn(da.element,da.zh,la,oa)});Z.shape.XNd=()=>cV(YSs,{$Ro:ka})}else LAs(U),Z.shape.XNd=void 0});
f.controls.AHe(()=>O.isDragging);q.kc(()=>O.AKh,(Z,da)=>{Z.j3b=da?{Button:eV(ka=>cV(ka.hl,{Icon:__c.M7p,label:O.Idd?L("muYbPQ"):L("E2C8sA"),onClick:U.zDn,oa:ka.oa}))}:void 0});if(D)t.plugins.j3b=()=>({Rd:()=>O.AKh,Button:eV(({Ci:Z,onClick:da,...ka})=>{const la=gV(()=>{da&&da();U.BDn()},[da]);return cV(Z,{...ka,onClick:la,selected:O.Idd,icon:__c.M7p,Ah:"icon",children:O.Idd?L("muYbPQ"):L("E2C8sA")})})});else{var X;const Z={Button:da=>cV(da.Ci,{selected:!0,tooltip:L("muYbPQ"),Ah:"icon",icon:__c.M7p,
onClick:U.ADn})};u?u.j3b=()=>({Rd:()=>O.Idd,...Z}):(X=r.mE)===null||X===void 0||X.kc(()=>O.Idd,(da,ka)=>{da.j3b=ka?()=>Z:void 0})}};
$B.h9q=function({RWa:a,keyboardShortcuts:b,selection:c,jc:d,toolbar:e,Bd:f,Maa:g,fh:h,xe:k,P:l,Ga:m}){var p,q;m=m.Vd("editor.editing.group");const r=new kTs(c,a,d),t=new jTs(r,c,m,l);b.register([lTs,B=>{t.HEg("keyboard_shortcut");B.preventDefault()},L("4WCqzw"),["edit"]]);b.register([mTs,B=>{t.Uph("keyboard_shortcut");B.preventDefault()},L("TBBSXA"),["edit"]]);const u=()=>t.HEg("toolbar"),w=()=>t.Uph("toolbar"),x={Button:B=>cV(nTs,{...B,onClick:u})};f.plugins.pKa=()=>({Rd:()=>r.eSd,...x});g?g.pKa=
()=>({Rd:()=>r.eSd,...x}):(p=e.mE)===null||p===void 0||p.kc(()=>r.eSd,(B,D)=>{B.pKa=D?()=>x:void 0});const y={Button:eV(B=>cV(oTs,{...B,onClick:w}))};f.plugins.wKa=()=>({Rd:()=>r.lSd,...y});g?g.wKa=()=>({Rd:()=>r.lSd,...y}):(q=e.mE)===null||q===void 0||q.kc(()=>r.lSd,(B,D)=>{B.wKa=D?()=>y:void 0});const z=()=>t.HEg("contextual_menu"),A=()=>t.Uph("contextual_menu");h.kc(()=>r.eSd,(B,D)=>{B.pKa=D?{Button:G=>cV(pTs,{...G,onClick:z})}:void 0});h.kc(()=>r.lSd,(B,D)=>{B.wKa=D?{Button:G=>cV(qTs,{...G,onClick:A})}:
void 0});k===null||k===void 0||k.wm(()=>r.eSd,{type:"simple",key:"group",name:L("bUJF+g"),hm:lTs,Icon:uIp,execute:async()=>{t.HEg("quick_actions")}});k===null||k===void 0||k.wm(()=>r.lSd,{type:"simple",key:"ungroup",name:L("BK2j6g"),hm:mTs,Icon:__c.zB,execute:async()=>{t.Uph("quick_actions")}})};
$B.i9q=function({Ma:a,canvas:b,viewport:c,selection:d,session:{document:e,undo:f},ka:g,header:h,fh:k,Df:l,ena:m,keyboardShortcuts:p,P:q,qih:r,F8:t,E8:u,la:w,hj:x}){var y;const z=new rUs(a,c,e,d,u,g,m===null||m===void 0?void 0:(y=m.initialSettings)===null||y===void 0?void 0:y.yId);m===null||m===void 0||__c.IWa(m,()=>z.enabled,(M,O)=>M.Sdc({yId:O}));const A=new qUs(b,c,e,f,z,q,x,w,t);b.kc(()=>z.ndm,(M,O)=>{M.w0a.Kgc=O?K:void 0;M.Ag.Kgc=O?N:void 0});const {T8o:B,zTq:D,navigation:G,pDi:I}=qBs({viewport:c,
document:e,header:h,ka:g,Df:l,P:q,la:w,hhk:z,LEg:A});a={Button:eV(M=>{const O=gV(()=>{var U;(U=M.onClick)===null||U===void 0||U.call(M);G.Zg({$e:B,options:D()})},[M]);return cV(tTs,{...M,onClick:O,Oe:g.layout===2?"fill":"fixed"})}),navigation:G,onClose:G.clear};sUs(h,p,A,z,a);tUs(k,A,z);uUs(r,e,z);const K=()=>cV(JTs,{store:z,L:A}),N=eV(({page:M,Sc:O})=>{const U=I===null||I===void 0?void 0:I.get();return U?cV(LTs,{L:A,canvas:b,page:M.page,viewport:c,Bx:U}):cV(KTs,{canvas:b,store:z,page:M.page,viewport:c,
L:A,scale:O.scale})});return{T8b:new rTs(z,A)}};$B.A7m=function({canvas:a,toolbar:b,Xa:c,ka:d}){const e=fV(()=>{const f=d.layout===2;b.H4&&f&&b.r7()});a.kc(f=>f>=30,(f,g)=>{a.vn.Zke=g?eV(()=>c.K4a?cV(ABs,{onClick:e}):null):void 0})};
$B.B7m=function(a){var b,c;const d=a.session;var e=a.lqc;const f=a.P;var g=a.qm;const h=a.jXh;var k=a.oh;const l=a.toolbar,m=a.Bd;var p=a.fh,q=a.selection;const r=a.Ma,t=a.ed,u=a.canvas;var w=a.Et;const x=a.wp,y=a.Pnf,z=a.Vqa,A=a.u_b,B=a.viewport,D=a.Xa,G=a.uo,I=a.isDragging,K=a.Ja!=="responsive"?a.zXd:!1,N=new JUs(q),M=new NUs(q,t,u.vn);kCs(M,y,D,A,q,g,t);g=a.Ja!=="responsive"?a.lqc.element:void 0;const O=e.item;({ukr:e}=DBs({Ja:a.Ja,fh:p,ed:t,MLe:M,lrg:N,zwa:O,myb:K?g:void 0,uo:G,Xa:D,Ma:r}));p=
new QUs(t,u.vn);w.G4d.t6h=p.t6h;w.G4d.xbk=p.xbk;w.G4d.E7h=p.E7h;const U=new WUs(q,M,t,x,I);w=ZBs(d.undo,B,k,z,U);bCs({selection:q,wp:x,nMe:U,ed:t});({nbj:q}=eCs(d.undo,D,k,f,U));const {Jlq:W,XBf:X,d$i:Z,Hxh:da}=SBs({...(a.Ja!=="responsive"?{Ja:["fixed","responsive"],lrg:N,myb:a.lqc.element,zXd:K}:{Ja:"responsive"}),MLe:M,zwa:O,lnr:U,oh:k,Xa:D,viewport:B,ed:t,S9b:I}),ka=new PUs(M,t,B);k=HBs({ed:t,MLe:M,zwa:O,nB:ka,nMe:U,XBf:X,uo:G,S9b:I});LBs({...(K&&a.Ja!=="responsive"&&Z?{Ja:["fixed","responsive"],
viewport:a.viewport,lrg:N,d$i:Z}:{Ja:"responsive"}),canvas:u,MLe:M,ed:t,gbp:w,Dkr:U,nbj:q,Hxh:da,XBf:X,dbp:k});jCs({Bd:m,Dr:__c.SLe(d.undo),P:f,mjf:e,gI:M});Rb("7f91870e",!1)&&__webpack_require__.me(455054).then(()=>__c.Y2s).then(fV(({v9q:la})=>{la({Bd:m,gI:M})}));(b=l.mE)===null||b===void 0||b.SGi(()=>ka.Djg);(c=l.mE)===null||c===void 0||c.FQ(()=>{var la;return U.GRa||X.KWb||((la=W===null||W===void 0?void 0:W.KWb)!==null&&la!==void 0?la:!1)});if(a.Ja!=="responsive"&&K){const la=a.lqc.element;a.HX.mgn=
{deleteRows:la.deleteRows,deleteColumns:la.deleteColumns,kng:la.kng};h.ggn={Nzn:(oa,ja)=>la.izm(N.selected.HCf,oa,ja),Icm:()=>N.selected.HCf==="row"||N.selected.HCf==="column"}}h.cPr=(la,oa,ja)=>Ens(O,la,G,oa,ja);h.lMp=(la,oa)=>__c.Zhf(O,la,oa);if(a.Ja!=="responsive"){const la=a.lqc.element;a.canvas.Eca.gOd=eV(ha=>cV(__c.yIb,{...ha,F5:a.ut,OUl:oa}));let oa;class ja extends(b=GV){render(){return cV(__c.xIb,{...this.props,EWa:this.fB.Qq,F5:a.ut})}constructor(...ha){super(...ha);this.YRr=ba=>{var ca;
if(!(ba.ctrlKey||ba.altKey||ba.metaKey||ba.shiftKey)){ba=this.props.page;var qa=this.props.container,ra=this.props.JF,sa=this.props.qb,wa=((ca=x.Pfb)===null||ca===void 0?0:ca.a8)?"multi":"single";la.Msi(ba.ja,__c.$ra(qa,ra,sa),wa)}};this.fB=new __c.ed([new __c.Lsf({onSelect:this.YRr})])}}({c:[oa,b]}=JV(ja,[],[Lb],b));b()}};
$B.H9q=function({document:a,uc:b,Ma:c,selection:d,jc:e,ka:f,P:g,Ga:h,toolbar:k,Bd:l,Maa:m,fh:p,keyboardShortcuts:q,xe:r,mWa:t,$f:u}){h=h.Vd("editor.editing.locking_ui");const w=new gVs,x=new hVs(w,a,c,d,e,b,g,h,t),y=So(Ro("l"));q.register([y,()=>x.Ykf("keyboard_shortcut"),L("7Dt6hg"),["edit"]]);const z={Button:D=>{const G=D.onClick,I=gV(()=>{G&&G();x.Ykf("toolbar")},[G]);return cV(rVs,{...D,onClick:I,L:x})}};if(!u){var A;m?m.Lock=()=>({Rd:()=>x.Tql,...z}):(A=k.mE)===null||A===void 0||A.kc(()=>x.Tql,
(D,G)=>{D.Lock=G?()=>z:void 0});l.plugins.Lock=()=>({Rd:()=>x.NNb&&f.layout===1,...z})}u&&(lCs(x),l.plugins.Lock=()=>({Rd:()=>x.NNb,...z}),l.plugins.aQb=()=>({Rd:()=>x.NNb&&w.uhi,...z}),l.plugins.Bhc=()=>({Rd:()=>x.$mo,...z}));const B=()=>x.Ykf("context_menu");p.kc(()=>({KLl:f.layout===2,NNb:x.NNb&&(f.layout!==2||!t),j_q:x.dUe&&!x.Kt}),(D,{KLl:G,NNb:I,j_q:K})=>{D.Lock=I?{Button:N=>cV(wVs,{...N,onClick:K?void 0:B,L:x,hm:y,KLl:G})}:void 0},{equals:lV.structural});r===null||r===void 0||r.wm(()=>!x.Kt&&
x.NNb,{type:"simple",key:"set-lock",name:L("7Dt6hg"),hm:y,Icon:ay,execute:async()=>x.PQk("quick_actions")});r===null||r===void 0||r.wm(()=>x.dUe&&!x.Kt&&x.NNb,{type:"simple",key:"set-partial-lock",name:L("ou4BGA"),hm:y,Icon:nar,execute:async()=>x.Ykf("quick_actions")});r===null||r===void 0||r.wm(()=>x.wpc&&x.NNb,{type:"simple",key:"set-unlock",name:L("X5CkxQ"),hm:y,Icon:NLh,execute:async()=>x.oWk("quick_actions")});r===null||r===void 0||r.wm(()=>x.Hbn&&x.NNb,{type:"simple",key:"set-partial-unlock",
name:L("416rFw"),hm:y,Icon:NLh,execute:async()=>x.oWk("quick_actions")});t&&p.kc(()=>({NNb:x.NNb&&!x.Kt,hHs:x.NNb&&x.dUe&&!x.Kt}),(D,{NNb:G,hHs:I})=>{D.y5f=G?{Button:K=>cV(xVs,{...K,L:x})}:void 0;D.z6f=I?{Button:K=>cV(yVs,{...K,L:x,hm:y})}:void 0})};
$B.b$q=function({document:a,Wj:b,viewport:c,toolbar:d,Bd:e,selection:f,ka:g,Wq:h,sc:k,rrc:l,xe:m,Qe:p,P:q,le:r,eb:t,$f:u}){const w=new __c.Hzf(q),x=new GVs(g),y=new FVs(x,a,c,f,t,h,k,l,w,d),z=[{value:"${pageNumberOnly}",label:L("v/osVw"),description:L("9rPF5w")},{value:"${pageNumber}",label:L("8Cdj8w"),description:L("KhZwaQ")},{value:"${pageNumberOfTotal}",label:L("tVBkBA"),description:L("w/RsHA")}],A=()=>wns(w,"page_numbers_format"),B=eV(()=>cV(__c.Az,{value:y.h6r,options:z,Ph:A,onChange:l.dFo,stretch:!0,
className:"WvDsqA"})),D=pCs({document:a,viewport:c,le:r}),G=eV(()=>cV(D,{pages:y.ym,vk:y.Cg,onChange:y.uxn,MOk:()=>wns(w,"page_numbers_shown")})),I=()=>cV(DVs,{onClick:y.P5l}),K=()=>cV(CVs,{W3o:B,Eq:G,Znp:I,$f:u}),N=()=>cV(EVs,{onClick:y.dtm});m===null||m===void 0||m.wm(()=>Vns(c.ya,t),{type:"simple",key:"page-numbers",name:L("3WjEsQ"),Icon:AVs,execute:async()=>{var O;p===null||p===void 0||p.qJ({});(O=k.FWc)===null||O===void 0||O.call(k,void 0,{cql:!0});p===null||p===void 0||p.close({trigger:"shortcut"})}});
const M={Rd:()=>y.Hab,Button:eV(O=>{const U=O.Ci,W=O.onClick,X=O.open,Z=gV(()=>{W&&W();!X&&w.dLd("toolbar")},[W,X]);return cV(U,{...O,Ah:"icon-and-label",pressed:X,icon:__c.gy,onClick:Z,children:L("Ql1UUg")})}),Pu:{sg:()=>L("3WjEsQ")},na:()=>cV(BVs,{a8i:K,ob:N}),onClose:y.tV};dV(()=>y.Hab,O=>{!O&&x.T9d?(d.vX(x.T9d),x.T9d=void 0):x.T9d=M});e.plugins.Eya=()=>M;b.CDa.Eya={onDoubleClick(O,U){fw(U.element.ja)&&y.ton("double_click")}};dV(()=>{var O;return!!x.xDe&&(((O=f.La)===null||O===void 0?void 0:O.type)!==
"pages"||f.La.Ud!==x.xDe)},()=>y.tV());xns(l,()=>{setTimeout(y.VCn)})};
$B.K7m=function({Ja:a,ka:b,Ma:c,Fzb:d,D9:e,Td:f,kn:g,Xa:h,uJa:k,KOb:l,P:m,ed:p,viewport:q,Gb:r}){const t=new JVs(m),u=new __c.V7d,w=mV(()=>{if(a==="responsive")return!0;const B=q.uh&&!q.IS,D=q.ya.type==="responsive";return!(d===null||d===void 0?0:d.isActive)&&!B&&D}),x=eV(()=>{const B=gV(G=>{A.focusNode(G);t.P.track(IVs,{})},[]),D=gV(()=>{const G=q.ya;h.focused||a==="responsive"||G.type!=="responsive"||h.Ju(G.text,Nw.end());l.AAc("heading");u.clear();f.r7()},[]);return cV(QVs,{nodes:z.nodes,layout:b.layout,
pZg:B,OEs:c.mode===40,$vn:D})}),y=()=>{u.Zg({$e:x,options:{sg:()=>L("uJG1/Q"),i0k:"collapsed"}})};m={na:x,header:{title:L("uJG1/Q")}};const z=new VVs(b.layout,u,g,m),A=new UVs(z,g,h,k,p,q,t,m,r);e.FZa.install("outline",{Rd:()=>w.get(),Component:eV(({P_a:B})=>{B=cV(KVs,{P_a:B,active:z.b6d,onClick:A.kxo});const D=r.Qna.x$e;return D?cV(D,{children:B}):B})});dV(()=>w.get(),B=>!B&&z.b6d&&A.yse());f.Eu(()=>({layout:b.layout,C4r:w.get()}),({SL:B},{layout:D,C4r:G})=>{B&&(B.adj=D===2&&G?{navigation:u,onClose:()=>
{u.clear();t.close()},Button:eV(({fF:I,onClick:K})=>{const N=gV(()=>{K===null||K===void 0||K();y();t.open();A.w8k()},[K]);return cV(r.Qna.x$e?r.Qna.x$e:VHs,{children:cV(LVs,{fF:I,onClick:N})})})}:void 0)})};
$B.k$q=function({document:a,Ma:b,selection:c,toolbar:d,fh:e,jqa:f,lZa:g,P:h,Ga:k,sc:l,Fzb:m}){k=k.Vd("editor.editing.page_drafting");const p=new bWs(a,b,c,l,m,h,k);d.plugins.VPb=()=>({Rd:()=>p.oZm,Button:eV(q=>{var r,t;return cV(aWs,{...q,onClick:p.TGn,active:!!p.JLd,ljq:((r=p.kWd)===null||r===void 0?void 0:r.length)||0,a1s:((t=p.JLd)===null||t===void 0?void 0:t.length)||0})})});e.kc(()=>p.nZm,(q,r)=>{q.G5f=r?{Button:eV(t=>{var u;return cV(WVs,{...t,Egb:((u=p.kWd)===null||u===void 0?void 0:u.length)||
0,onClick:p.Syn,disabled:!p.kWd})})}:void 0});e.kc(()=>p.H_m,(q,r)=>{q.F7f=r?{Button:eV(t=>{var u;return cV(XVs,{...t,Egb:((u=p.JLd)===null||u===void 0?void 0:u.length)||0,onClick:p.Tyn,disabled:!p.JLd})})}:void 0});e.kc(()=>p.vkk&&p.T6n,(q,r)=>{q.t9i=r?{Button:eV(t=>cV($Vs,{...t,qo:r.ja.draft,onClick:()=>p.sUk(r),disabled:zCs(p,r)}))}:void 0});f.QNd=()=>({Rd:()=>p.QZm,vo:eV(q=>cV(YVs,{...q,onClick:p.PCn,disabled:yCs(p,q.zh.page)}))});g.QNd=()=>({Rd:()=>p.vkk,Component:eV(q=>cV(ZVs,{...q,onClick:p.sUk,
disabled:zCs(p,q.zh)}))})};
$B.m$q=({Ma:a,Dc:b,da:c,le:d,lKa:e,ya:f,selection:g,AV:h,eb:k,sc:l,d6b:m,uc:p,timing:q,Wj:r,D9:t,keyboardShortcuts:u,Rba:w,Bd:x,fh:y,Td:z,kn:A,u0g:B,Lea:D,pub:G,u5b:I,lgc:K,P:N,Ga:M,ka:O,Qf:U,Lk:W,jE:X})=>{const Z=M.Vd("editor.editing.page_manager");if(c.xh===1)return{Fzb:void 0};const da=c.document,ka=new H0s,la=new y0s(N),oa=new cWs(N),ja=new I0s(ka);let ha=!1;const ba=wV.box(!1);N=fV(async()=>{ha||ba.get()||(ba.set(!0),__webpack_require__.me(769518).then(()=>__c.Z2s).then(({Kqr:sa})=>{oV(()=>{sa({config:ka,
Wj:r,Lea:D,Ma:a,Dc:b,keyboardShortcuts:u,document:da,fh:y,da:c,le:d,lKa:e,ya:f,selection:g,AV:h,eb:k,sc:l,d6b:m,uc:p,Rba:w,Bd:x,Td:z,kn:A,u0g:B,lgc:K,pub:G,u5b:I,V:Z,b6r:la,Lxc:oa,ka:O,Lk:W,jE:X});ba.set(!1);ha=!0})}))});ja.kco(N);N=fV(()=>{const sa=r.hq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.Kge();FCs(oa,{hq:"grid_view",itc:sa,kb:"keyboard_shortcut"})});u.register([Vk(So("3")),N,L("XWps9g"),["edit"]]);const ca=mV(()=>O.layout===2);z.Eu(()=>ca.get(),({SL:sa},wa)=>{sa&&(sa.uaj=wa?{Button:eV(ya=>
cV(C0s,{...ya,onClick:()=>{ya.onClick&&ya.onClick();ja.Kge()},config:ka,Wj:r,N:oa}))}:void 0)});const qa=fV(()=>{const sa=Z.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed"}}),wa=r.hq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.Kge();const ya={hq:ka.active?wa:"grid_view",itc:ka.active?"grid_view":wa,kb:"icon_click"};sa.nb().tk(({Hi:za})=>{FCs(oa,{...ya,Qb:za()})});sa.ue()}),ra=fV(()=>{if(!q.Xt){var sa=r.hq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.Kge();FCs(oa,{hq:"grid_view",
itc:sa,kb:"canvas_zoom_out"})}});oV(()=>{r.TSe=sa=>{switch(sa.name){case "progress":var wa;ja.w5a(sa.progress);sa.progress!==1||W!==null&&W!==void 0&&(wa=W.SM)!==null&&wa!==void 0&&wa.call(W,new __c.qsd({style:3}));break;case "cancel":ja.w5a(0);break;case "confirm":ra();break;default:throw new v(sa);}}});t.FZa.install("page_manager",{Rd:()=>!0,Component:eV(({P_a:sa})=>cV(E0s,{P_a:sa,config:ka,Qf:U,onClick:qa,loading:ba.get()}))});return{Fzb:{iCj:()=>{ka.active=!1},get isActive(){return ka.active}}}};
$B.n$q=function({document:a,yi:b,Dc:c,viewport:d}){c.sla&&cJs({document:a,yi:b,Kab:c.sla,viewport:d})};
$B.o$q=({da:a,aFa:b,pga:c,Bc:d,Pa:e,Zb:f,timing:g,sc:h,d6b:k,J0c:l,my:m,Fzb:p,lr:q,h0a:r,Fra:t,RZ:u,wZ:w,FM:x,vT:y,G7b:z,xxa:A,Gh:B,u2e:D,dS:G,eb:I,Wj:K,Kl:N,Lea:M,Bd:O,toolbar:U,fh:W,keyboardShortcuts:X,D9:Z,lgc:da,uc:ka,AV:la,Ei:oa,Onf:ja,zl:ha,rG:ba,FE:ca,zac:qa,Ma:ra,Dc:sa,viewport:wa,ka:ya,vd:za,Pea:Aa,selection:Ea,wp:Fa,YNa:Na,BR:Ja,le:Qa,dej:Ta,errorService:Xa,Ga:Ya,P:Sa,W_:ib,pHa:pb,g2b:ob,la:nb,Qf:gb,uz:mb,lma:db,uqa:ub,DAe:Ob,jE:Pb,Mrd:Ab,HGd:Qb,zza:Jb,WFa:$b,Df:rc,u5b:Tc,Td:Sc,Cca:hc,Lk:vc,
Ev:tb,jSb:kc})=>{var Jc;const sc=a.document,zc=Ya.Vd("editor.page_navigator"),Ac=zc.sb("page_navigator_install"),Lc=new mWs(Sa,ib),ud=new cWs(Sa),md=new __c.CYs(sc,a,wa,d,M,ya,Tc.WFb,ra,Ea),Ec=new BYs(sc,h,k,l,Lc,zc,Ea,a.xh,g,vc),{onContextMenu:Gc,G2b:Nc}=wWs({document:sc,N:Lc,V:zc,L:Ec,store:md,config:b,fh:W,eb:I,jE:Pb}),Ed=new __c.Hk,Gd=eV(({connectDropTarget:Bc,drag:Nd,...Od})=>Bc(cV("div",{children:cV(bYs,{document:sc,store:md,L:Ec,N:Lc,z$m:!!Nd,pEa:Nd&&Nd.d3,tUa:vd.xw.isLinear,...Od})}))),Ud=
ic(d,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers widget sheet".split(" "),(Bc,{page:Nd})=>{Ke.bzm(Bc,Nd)},Gd),Oe=new __c.qv,{o$b:me,eda:ye}=lDs(mV(()=>md.ei)),{eab:Pd,hp:Ld,Icg:je,iDl:dg}=IDs({timing:g,QM:md,V:zc,N:Lc,eda:ye,h0a:r}),vd=UIs({dS:G,pga:c,errorService:Xa,P:Sa,Ga:Ya,d2g:Lc,pHa:pb,g2b:ob,o$b:me,eda:ye,Fzb:p,lr:q,h0a:r,Fra:t,RZ:u,wZ:w,FM:x,vT:y,xxa:A,G7b:z,u2e:D,my:m,
hp:Ld,eab:Pd,Icg:je,IP:Oe,Bc:d,eb:I,Pa:e,Zb:f,timing:g,sc:h,zl:ha,FE:ca,zac:qa,Ma:ra,Dc:sa,keyboardShortcuts:X,la:nb,document:sc,Wj:K,Kl:N,viewport:wa,vd:za,dej:Ta,Oid:Ud,Pea:Aa,selection:Ea,wp:Fa,YNa:Na,BR:Ja,Lo:Ed,aFa:b,QM:md,Lpb:Ec,D9:Z,ka:ya,lgc:da,Df:rc,toolbar:U,Bd:O,uc:ka,fh:W,uqa:ub,Ca:(Jc=a.doctype)===null||Jc===void 0?void 0:Jc.id,xh:a.xh,lma:db,Qf:gb,uz:mb,Lk:vc,Cca:hc,onContextMenu:Gc,Td:Sc,HGd:Qb,DAe:Ob,jE:Pb,Vvm:!Vb(),Ev:tb,jSb:kc});vd.fG.uLa(()=>b.xQj);if(sa.sla&&c!=null){const {Fcs:Bc,
nhp:Nd}=YIs({selection:Ea,pga:c});sa.sla.mbf=Nd;sa.sla.VAb=Bc.VAb;sa.sla.Dhf=Bc.Dhf}g.Ofl=Bc=>{var Nd;(Nd=vd.qA)===null||Nd===void 0||Nd.seek(Bc/1E6,"start");({behavior:Nd="smooth",Yzp:Od="start"}={behavior:"smooth",Yzp:"start"});var Od;Bc=n(Pd.UZa).gRa(Bc,{lfc:Od==="end"});BDs(Pd,Bc,Nd)};const gf=KXs({L:Ec,sfb:()=>vd.xw.sfb&&!(z===null||z===void 0?0:z.CMd.size),qA:vd.qA,K2e:vd.K2e,fG:vd.fG,store:md,keyboardShortcuts:X,N:Lc,V:zc});cps(()=>md.KN,()=>{const Bc=vd.xw,Nd=vd.qA;dV(()=>Bc.sfb,Od=>{Od||
Nd===null||Nd===void 0||Nd.R_k()})});sa.c5b&&(sa.c5b.TLf=()=>K.hq==="thumbnail"?ye.iBl:0);$b.EPf({name:"page-navigator",OFb:()=>md.CJs,$ui:yV.YEm?md.Kbo:void 0});const Tf=new x0s(wa,K,gb,ra,ud,zc);Z.FZa.install("view_mode",{Rd:()=>sa.rKa==null,Component:eV(({P_a:Bc})=>cV(w0s,{P_a:Bc,hq:K.hq,Qf:gb,onClick:K.hq==="thumbnail"?Tf.Wxn:Tf.kyn,onMouseDown:Tf.JGn,onMouseUp:Tf.KGn}))});const Ke=new AYs(sc,wa,d,Ec,md,a.undo,la,oa,ha,ba,ja,B,I),{XH:Ig,wea:Ic}=uWs({QM:md,config:b,Df:rc,IP:Oe,Ia:sc});UXs({IP:Oe,
aFa:b,Lpb:Ec,QM:md});v0s({document:sc,L:Ec,store:md,xw:vd.xw,Bd:O,selection:Ea,P:Sa,Wj:K,Dc:sa});const Uf=Ab||__c.Nwh(sc.pages.toArray()),ne=JXs({viewport:wa,uZf:vd,le:Qa,hS:Tc.hS,fh:W,G2b:Nc,document:sc,Ma:ra,L:Ec,store:md,timing:g,uc:ka,eb:I,my:m,Lea:M,hp:Ld,aFa:b,Qf:gb,Lk:vc,onContextMenu:Gc,Vdg:G.O_h,gWa:G.gWa,Fug:G.Fug,g5e:G.g5e,Uhr:Uf}),rd=eV(({connectDropTarget:Bc,...Nd})=>{var Od;const ze=!((Od=Nd.drag)===null||Od===void 0||!Od.d3);iV(()=>{ze||Ke.Fbd()},[ze]);return Bc(cV("div",{children:cV(ne,
{...Nd,Lql:ze})}))}),Le=ic(d,"searchMedia video template pageView generatedDesign audio searchShape line table chart appElement grid design embed file textParagraph textPlaceholder datasetFieldPlaceholder pageNumbers editingElements widget sheet layout".split(" "),(Bc,{page:Nd})=>{Ke.lpb(Bc,Nd,!1)},rd,{Ft:(Bc,{page:Nd})=>{Ke.zYb(Bc,Nd.page);if(Ke.canDrop(Bc,Nd.ja))return vd.AVs(Bc,Nd.page,{scrollLeft:Ld.scrollLeft,left:Ld.getBoundingClientRect().left})},canDrop:(Bc,{page:Nd})=>Ke.canDrop(Bc,Nd.ja)}),
wf=eV(({connectDropTarget:Bc,drag:Nd,...Od})=>{var ze,Vf;const ad=(Vf=(ze=gb.Auh)===null||ze===void 0?void 0:ze.zm)!==null&&Vf!==void 0?Vf:VHs;return Bc(kV("div",{children:[gb.zyh&&cV(gb.zyh,{}),Pb?cV(ad,{children:cV(__c.iWs,{pEa:Nd===null||Nd===void 0?void 0:Nd.d3,Ao:md.ei,floating:!1,lKa:b.lKa,...Od})}):cV("div",{style:{width:Od.dimensions.width},children:cV(ad,{children:cV(gWs,{pEa:Nd===null||Nd===void 0?void 0:Nd.d3,floating:!1,Ao:md.ei,...Od})})})]}))}),Ee=ic(d,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers editingElements widget sheet".split(" "),
Bc=>{Ke.QAn(Bc)},wf,{canDrop:Bc=>{var Nd=Ke;const Od=Nd.document.pages.last();return Od!=null&&Nd.canDrop(Bc,Od)}}),se=eV(()=>b.xQj&&cV(t0s,{})),de={Ia:sc,config:b,eda:ye,Lo:Ed,iyc:Ig,iOo:Ic,Fyc:Le,W2b:Ee,Ppp:se,L:Ec,I7s:Tf,uZf:{$Ta:vd.$Ta,Hau:vd.qA!==void 0,fG:vd.fG,Thj:vd.Thj,vge:vd.vge,cbf:vd.cbf,jYi:vd.jYi,ABf:mV(()=>vd.xw.ABf),BBf:mV(()=>vd.ifc.N1c),Xtk:mV(()=>vd.xw.isLinear)},store:md,hp:Ld,iDl:dg,V:zc,N:Lc,Lxc:ud,Qc:()=>{uDs(Ec,md,wa);je.init()},gi:()=>{var Bc;(Bc=Ec.zqm)===null||Bc===void 0||
Bc.call(Ec);je.dispose()},Qf:gb,e6r:gf,Vvm:!Vb()};dV(()=>({layout:ya.layout,Grl:K.hq==="thumbnail"&&!sa.rKa}),({layout:Bc,Grl:Nd})=>{if(Nd){var Od=0;Nd=Jb===null||Jb===void 0?void 0:Jb.draft.s$c;var ze=Jb===null||Jb===void 0?void 0:Jb.draft.kK.thumbnail.images;ze&&Nd&&md.OD===Nd.length&&(Od=Nd.reduce((Vf,ad)=>ze.find(od=>od.gDd===ad)?++Vf:Vf,0));switch(Bc){case 2:sa.U1=void 0;O.U1=TXs(Vf=>Lc.Ryo({Qb:Vf,Rxm:SXs(md,sc),tri:Od}),zc,()=>cV(yYs,{...de,zeq:!0}));break;case 1:O.U1=void 0;sa.U1=TXs(Vf=>Lc.Ryo({Qb:Vf,
Rxm:SXs(md,sc),tri:Od}),zc,()=>cV(yYs,{...de,zeq:!1}));break;default:throw new v(Bc);}}else sa.U1=void 0,O.U1=void 0;Ac.end()},{fireImmediately:!0,equals:lV.shallow});const td=Ef(sc);dV(()=>K.hq,(Bc,Nd)=>{var Od,ze;Nd==="scroll"&&Bc==="thumbnail"&&((ze=Ea.state)===null||ze===void 0?void 0:(Od=ze.Qz)===null||Od===void 0?void 0:Od.ja)!==wa.ya&&Ea.hU(td,wa.ya)});setTimeout(()=>{md.pd=!0});return{f6r:Oe}};
$B.J$q=function(a){const b=a.ka,c=a.session.document,d=a.qc,e=a.viewport,f=a.eb,g=a.oh,h=a.Ga,k=new L0s,l=new M0s(k,c,a.Pb,a.selection,a.JMb,a.Tja,a.FE,a.Q_c),m=mV(()=>a.qa.status===2),p=a.X,q=a.ia;a.fh.kc(()=>{{var u;const x=l.config.Fae,y=l.selection.La;var w=x&&(y===null||y===void 0?void 0:y.type)==="elements"&&((u=y.inner)===null||u===void 0?void 0:u.type)!=="table"&&(y.elements.length>1||eJs(y.elements[0]))?{selection:y,Fae:x}:void 0}return w},(u,w)=>{u.MVc=w?{Button:eV(x=>{const y=gV(()=>{h.Vd("editor.editing.publishing").sb("editor.publish.click_download_selection",
{Fb:{name:"editor.publish.click_download_selection",attrs:new Map([["location","contextualMenu"]])}}).ue();!p&&q?__c.Ol(a.ke,__c.Pl.B_a,"download_selection",{$bd:"pageview"}):l.Fae(w)},[]);return cV(x.hl,{label:L("xW6dpg"),Icon:__c.zD,onClick:y,oa:x.oa,disabled:m.get()})})}:void 0});a.canvas.kc(()=>{var u,w;return b.layout===1&&!!((w=a.session.doctype)===null||w===void 0?0:(u=w.Pc)===null||u===void 0?0:u.uXd)},(u,w)=>{u.Ag.Kaj=w?x=>cV(K0s,{...x,qc:d,eb:f}):void 0});const r=new O0s(k,e),t=new P0s(r,
k,e);a.canvas.kc(()=>t.ivo,(u,w)=>{u.Ag.g8f=w?eV(({Sc:x})=>{const y=gV(()=>t.VXm(w.S8d),[]),z=gV(()=>t.qYm(w.S8d),[]);return cV(hJs,{region:r.region,L6r:x.scale,Qm:w.Qm,ZZg:t.XXm,YZg:t.WXm,XZg:y,VZr:t.sYm,UZr:t.rYm,TZr:z,oh:g})}):void 0});return{c6k:k}};
$B.O$q=function({document:a,aFa:b,De:c,Sqg:d,selection:e,pga:f,Csj:g,iX:h,sc:k,timing:l,vd:m,runtime:p,ea:{errorService:q,N0:r,mr:t,P:u},Wj:w,X:x,eb:y}){b!=null&&Q0s&&h!=null&&f!=null&&x!=null&&(g=g.filter(z=>window.MediaRecorder!=null&&window.MediaRecorder.isTypeSupported(z)),a=lJs({document:a,aFa:b,De:c,selection:e,Csj:g,iX:h,sc:k,pga:f,timing:l,vd:m,runtime:p,errorService:q,N0:r,Wj:w,mr:t,X:x,P:u,eb:y}),vns(d,a.y3a))};
$B.Y$q=function({canvas:a,viewport:b,Lo:c,document:d,hj:e,ka:f,keyboardShortcuts:g,P:h,Td:k,T8b:l,selection:m,Ma:p}){if(l){var q=new d1s(a,b,d,p,m,l,f,e,R0s),r=new c1s(q,a,b,d,l,e,h,S0s),t=mV(()=>q.lQ),u=mV(()=>q.mJg),w=mV(()=>q.qch),x=I=>r.BCg(I),y=(I,K,N)=>r.getPosition(I,K,N),z=I=>eV(()=>cV(b1s,{direction:I,qch:w,lQ:t,mJg:u,BCg:x,DCg:y}));e=I=>{const K=z(I);return eV(({cda:N})=>cV(Z0s,{direction:I,document:d,L:r,viewport:b,Lo:c,canDrag:q.pYc,cda:N,T8b:l,Mkp:q.Fmo?K:void 0}))};var A=e("vertical"),
B=e("horizontal");a.kc(()=>q.enabled&&q.Mpl,(I,K)=>{I.w0a.pme=K?A:void 0;I.w0a.Yke=K?B:void 0});var D=()=>pJs(r,"file_menu");a=fV(()=>pJs(r,"keyboard_shortcut"));var G=Ro("r");g.register([G,a,L("P76q1Q"),["edit","view","comment"]]);k.Eu(()=>q.Mpl,({SL:I},K)=>{I&&(I.kgj=K?{Button:eV(N=>cV(e1s,{...N,onClick:D,hm:G,isEnabled:q.enabled}))}:void 0)})}};
$B.Y7m=function(a){const b=a.Ma,c=a.fh;var d=a.Vho;const e=d.Tc,f=d.DNb;d=d.Si;const {Npi:g}=SJs({...a,Si:d}),{jqn:h}=NJs({...a,Si:d});e&&d&&f&&mKs({...a,Tc:e,DNb:f,Si:d});KJs({...a,Si:d});const k=new j1s(g,h);c.kc(()=>b.mode===40&&k.Plo,(l,m)=>{l.rcj=m?{Button:eV(p=>cV(p.hl,{...p,Icon:__c.fv,label:L("TuY+Qw")}))}:void 0})};
$B.Z7m=function(a){function b({cyd:ka,source:la}){ka===null||ka===void 0||ka.preventDefault();oV(()=>{switch(m.layout){case 2:break;case 1:e.dzc!=null&&Object.values(U).includes(e.dzc)?e.dzc=void 0:e.dzc=U[la];break;default:throw new v(m.layout);}})}const c=a.Td,d=a.Ma,e=a.Dc,f=a.viewport,g=a.keyboardShortcuts,h=a.y8a,k=a.Dxa,l=a.xe,m=a.ka;var p=a.P,q=a.errorService,r=a.la,t=a.locale,u=a.hj;const w=a.Ga.Vd("editor.editing.richtext.finding_and_replacing"),x=q.wf("text_finding_and_replacing"),y=new o1s;
p=new n1s({N:p});let z;q=()=>{};if(a.Ja!=="responsive"){const ka=a.canvas;q=a.session;var A=q.document,B=q.undo;const la=a.selection;q=a.jc;const oa=a.sf,ja=a.eb,ha=a.te,ba=a.Tc,ca=ba&&new s1s({...a,Tc:ba}),qa=R1s.create({store:y,Ma:d,document:A,Xa:a.Xa,JV:a.JV,Jmi:ba&&new u1s({...a,Tc:ba}),viewport:f,hy:p,V:w,ed:a.ed}),ra=B1s.create({store:y,document:A,Ma:d,selection:la,jc:q,viewport:f,te:ha,hj:u,sf:oa,eb:ja,hy:p,V:w,gEk:ca,Rcc:qa});z=ra;ALs({store:y,canvas:ka,viewport:f,FHq:ra,Rcc:qa});q=(()=>{let wa=
()=>kLs({canvas:ka,Aba:sa,store:y,L:ra,viewport:f,Wgh:K,errorService:x});return()=>{wa!=null&&(la.deselectAll(),wa(),wa=void 0)}})();const sa=a.Aba;r=mLs.create({store:y,q1b:ra,document:A,uc:a.uc,undo:B,Tc:ba,errorService:x,hy:p,V:w,Zc:a.Zc,Mi:a.Mi,la:r,Rcc:qa})}else u=a.session,A=a.canvas,B=a.Tc,a=R1s.create({store:y,Ma:d,document:u.document,Xa:a.Xa,JV:a.JV,Jmi:B&&new u1s({...a,Tc:B}),viewport:f,hy:p,V:w,ed:a.ed}),ALs({store:y,canvas:A,viewport:f,Rcc:a}),z=a,r=qLs({store:y,q1b:a,document:u.document,
undo:u.undo,errorService:x,hy:p,V:w,la:r,Tc:B});if(z!=null){if(r!=null){t=ILs({store:y,L:r,locale:t,ka:m});var D=t.Tej;var G=t.Xbj}var {Form:I,Wgh:K}=DLs({store:y,L:z,cwr:new p1s(y,z),errorService:x,Qc:q,Tej:D,Xbj:G}),N=(ka,la)=>{y.isMounted&&(ka.preventDefault(),la?z.U6j():z.Q6j())},M=[[Vk("f"),ka=>b({cyd:ka,source:"keyboard-shortcut"})],[Vk(Ro("g")),ka=>N(ka,!0)],[Vk("g"),ka=>N(ka,!1)]],O=eV(({source:ka})=>{const la=gV(()=>b({cyd:void 0,source:ka}),[ka]);return cV(__c.Ap,{map:M,Zq:!0,children:cV("div",
{className:"J_K8Hw",children:cV(I,{mode:"canvas-overlay",onClose:la,source:ka})})})}),U={"file-menu":DV(()=>cV(O,{source:"file-menu"})),"keyboard-shortcut":DV(()=>cV(O,{source:"keyboard-shortcut"})),"quick-actions":DV(()=>cV(O,{source:"quick-actions"}))},W=Vk("f");oV(()=>{g.register([W,ka=>b({cyd:ka,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]]);h===null||h===void 0||h.register([W,ka=>b({cyd:ka,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]]);
k.register([W,ka=>b({cyd:ka,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]])});var X=new __c.V7d,Z={$e:eV(({oa:ka})=>cV(I,{onClose:ka,mode:"sheet",source:"file-menu"})),options:{sg:eV(()=>cV(rV,{children:z.Ghh?L("TP6Mzw"):L("+MHgZQ")})),ovc:!1}},da;c.Eu(()=>({mode:d.mode,layout:m.layout}),({SL:ka})=>{if(ka){const la=m.layout===1;da={Button:eV(oa=>{const ja=oa.onClick,ha=oa.oa,ba=gV(()=>{la?b({cyd:void 0,source:"file-menu"}):(ja===null||ja===void 0||ja(),X.Zg(Z),ha===
null||ha===void 0||ha())},[ja,ha]);return cV(O1s,{...oa,onClick:ba,oa:ha,label:d.mode===40?L("PV2q7g"):L("mQjTGw"),hm:la?W:void 0})}),navigation:la?void 0:X};ka.dzc=da}});l===null||l===void 0||l.install({type:"simple",key:"text-find-and-replace",hm:Vk("f"),name:L("PV2q7g"),Icon:l1s,execute:async()=>{m.layout===1?b({cyd:void 0,source:"quick-actions"}):da==null||__c.Vee(c,da)||(X.clear(),c.osc(da),X.Zg(Z))}})}};
$B.Par=function({xh:a,Wj:b,Dc:c,Fzb:d,keyboardShortcuts:e,ka:f,Td:g,P:h}){if(a!==1){a=fV(()=>{b.hq="thumbnail";d===null||d===void 0||d.iCj();h.track(__c.hah,{hq:"thumbnail_view",itc:"scrolling_view",kb:"keyboard_shortcut"})});var k=fV(()=>{b.hq="scroll";d===null||d===void 0||d.iCj();h.track(__c.hah,{hq:"scrolling_view",itc:"thumbnail_view",kb:"keyboard_shortcut"})});e.register([Vk(So("1")),k,L("mDtR3A"),["edit"]],[Vk(So("2")),a,L("ZVsdnw"),["edit"]]);var l=new Z1s(b,c,f),m=new Y1s(l,b,h,d);g.Eu(()=>
l.Clo,({SL:p},q)=>{p&&(p.o8f=q?{Button:eV(r=>cV(X1s,{...r,qCl:m.qCl,VA:l.VA}))}:void 0)})}};
$B.Tar=function({Ia:a,viewport:b,selection:c,vd:d,ka:e,Ma:f,canvas:g,Bd:h,fh:k,aFa:l,P:m,qc:p,Cca:q,Uw:r,Df:t,kn:u,xxa:w,timing:x,IP:y,Qf:z,la:A,Ga:B,$f:D,J_j:G}){function I(Ea,Fa){dV(Ea,Na=>{var Ja;(Ja=l.qii)!==null&&Ja!==void 0&&Ja.get()&&(Ja=Fa(),Ja.length===1&&Ja[0]===Na&&Z.close())})}B=B.Vd("editor.editing.transition");var K=__c.cc();K=K&&new __c.$De(K,"Transition",Ea=>Ea.label.replace(/\s/g,"_"));const N=new R2s(c,b),M=new O2s(a,r.Ivc,q.Fja,b,d,m,B,z,c,new Date,K,()=>{A.Hb({Cb:L("k2JMiA")})},
mV(()=>x.Xt?n2s:m2s));M.init();const O=new P2s(a,r.Ivc,b,c,M,q.Fja,d),U=new __c.qv,W=new Q2s(y,U),X=new G2s,Z=new K2s(a,X,u,c,b,M,O,m,W,B,e);g.kc(()=>M.$$r,(Ea,Fa)=>{if(Fa){var Na=Fa.yY;Ea.Ag.BAh=eV(Ja=>{var Qa,Ta=ug(4,jk(Ja.page.page,a.dimensions));const Xa=Ja.Sc.scale;Ta={width:Ta.width*Xa,height:Ta.height*Xa};return Ja.page.page===((Qa=M.ya)===null||Qa===void 0?void 0:Qa.page)?cV(Na,{qc:p,Ffa:Ta,Wbn:!1}):null})}else Ea.Ag.BAh=void 0});k.kc(()=>f.mode===40&&N.IRa,(Ea,Fa)=>{const Na=()=>Z.open({kb:"contextual_menu",
RGl:Z.wTc,entryPoint:"pageNavigator"});Ea.F5i=Fa?{Button:eV(Ja=>cV(Ja.hl,{label:M.BN?L("zb4Baw"):L("ilHeTQ"),onClick:Na,Icon:__c.Qms,oa:Ja.oa,disabled:M.ya?M.UJb(M.ya.page):!0}))}:void 0});const da={getLabel:Ea=>e.layout===2?L("o31hEQ"):M.UJb(Ea)?L("2DF9ug"):Ea.transition.ref?L("zb4Baw"):L("ilHeTQ"),isActive:Ea=>!!Ea.transition.ref,isDisabled:Ea=>M.UJb(Ea),na:eV(({page:Ea,lq:Fa})=>cV(D2s,{$q:e.layout===2,Sgi:Fa,uan:M.Rcb(Ea)&&Z.wTc.includes(Ea),transition:Ea.transition.ref})),onClick(Ea){pa(M.Rcb(Ea));
Z.open({page:Ea,kb:"click",RGl:Z.wTc,entryPoint:"pageNavigator"})}},ka={getLabel:Ea=>e.layout===2?L("o31hEQ"):O.UJb(Ea)?L("2DF9ug"):Ea.transition.ref?L("zb4Baw"):L("ilHeTQ"),isActive:Ea=>!!Ea.transition.ref,isDisabled:Ea=>O.UJb(Ea),na:eV(({fill:Ea,lq:Fa})=>cV(D2s,{$q:e.layout===2,Sgi:Fa,uan:!O.UJb(Ea)&&Z.D6e.includes(Ea),transition:Ea.transition.ref})),onClick(Ea){O.nQa&&(__c.K1a(c,O.nQa,Ea),Z.VHn(Ea,"click","pageNavigator"))}};dV(()=>f.mode===40,Ea=>{Ea&&(x.Xt?l.udg.Fij=ka:l.udg.R8f=da)},{fireImmediately:!0});
l.qii=mV(()=>Z.y0g!=null);x.Xt?dV(()=>Z.D6e.length===0||f.mode!==40,Ea=>Ea&&Z.close()):dV(()=>Z.wTc.length===0||f.mode!==40,Ea=>Ea&&Z.close());const la=a.pages.first();x.Xt&&(la===null||la===void 0?void 0:la.type)==="fixed"?I(()=>la===null||la===void 0?void 0:la.Oc.last(),()=>[...Z.D6e]):I(()=>a.pages.last(),()=>Z.wTc);const oa=__c.FFe(r.wSb,W.vne),ja=Ea=>cV(__c.lGe,{...Ea,navigation:W.vne,ka:e,Q8:oa}),ha=eV(()=>(w===null||w===void 0?0:w.isEnabled)?cV(Ik,{tone:"warn",size:"small",dismissible:!1,children:cV(__c.gk,
{message:__c.iDe()})}):null),ba=JDs(async()=>{const {kqp:Ea}=await __webpack_require__.me(305908).then(()=>({kqp:__c.$2s}));return{default:Ea}}),ca=JDs(async()=>{const {mqp:Ea}=await __webpack_require__.me(305908).then(()=>({mqp:__c.a3s}));return{default:Ea}}),qa=JDs(async()=>{const {lqp:Ea}=await __webpack_require__.me(305908).then(()=>({lqp:__c.b3s}));return{default:Ea}}),{laq:ra,wVs:sa,kBs:wa,xVs:ya}=JLs({L:M,IYe:O,viewport:b,o7r:Z});X.C7f=eV(()=>{const Ea=x.Xt?sa:ra,Fa=x.Xt?ya:wa;return cV(LDs,
{fallback:cV(a2s,{}),children:cV(ca,{Uq:M.Uq.get(),...Ea,onClick:Ea.sFn,A7f:()=>cV(LDs,{fallback:null,children:cV(ba,{$q:!0,...Fa,Df:t,Xia:ja})}),gcb:ha,navigation:W.vne})})});X.bcb=eV(()=>{const Ea=x.Xt?sa:ra,Fa=x.Xt?ya:wa;return cV(LDs,{fallback:cV(b2s,{h9b:D}),children:cV(qa,{Uq:M.Uq.get(),$f:D,...Ea,A7f:()=>cV(LDs,{fallback:null,children:cV(ba,{...Fa,Xia:ja})}),gcb:ha})})});X.Ee=()=>L("gK/oPw");X.title=L("gK/oPw");const za=()=>Z.open({kb:"click",RGl:Z.wTc,entryPoint:"toolbar"}),Aa=()=>{var Ea;
return f.mode===40&&!((Ea=Z.wTc)===null||Ea===void 0||!Ea.length)&&M.ya!=null&&!M.UJb(M.ya.page)};dV(Aa,Ea=>{h.oHa.Transition=Ea?()=>({label:{mo:()=>L("o31hEQ"),na:{navigation:U},Ph:()=>za(),gr:eV(()=>M.wSh&&M.wSh.type!==void 0?M.wSh.label:void 0)},na:{na:eV(Fa=>(X===null||X===void 0?0:X.C7f)?cV(X.C7f,{...Fa}):null)}}):void 0});h.plugins.Transition=()=>({Rd:()=>G&&Aa()||e.layout===2&&Aa(),Button:eV(Ea=>{const Fa=L("o31hEQ");return cV(Ea.Ci,{...Ea,pressed:Ea.open,selected:N.yqm,icon:__c.Qms,Ah:"icon-and-label",
onClick:()=>{var Na;za();(Na=Ea.onClick)===null||Na===void 0||Na.call(Ea)},children:Fa})}),navigation:U})};
$B.Uar=function({VGl:a,selection:b,undo:c,toolbar:d,Bd:e,xe:f,P:g,$f:h}){const k=new U2s(a,b,g),l=__c.SLe(c),m={Rd:()=>k.mTf!=null,Button:eV(p=>cV(V2s,{...p,Ph:k.Dqc})),Pu:{sg:()=>L("esjKOA")},na:eV(p=>cV(W2s,{Lh:l,value:n(k.mTf),onChange:k.$Gn,Yg:k.XZr,Oe:p.Oe,$f:h}))};e.plugins.yEb=()=>m;f===null||f===void 0||f.wm(()=>k.mTf!=null,{type:"simple",key:"transparency",name:L("esjKOA"),aliases:[L("RNACiA")],Icon:__c.OVr,execute:async()=>{var p;if((p=m.Rd)===null||p===void 0?0:p.call(m))d.kB(m),k.Dqc()}})};
$B.$7m=function(a){const b=a.session,c=a.Db,d=a.hi,e=a.Td,f=a.Ma,g=a.$ng,h=a.Gb,k=a.Pc;if(k.status===Qx.Er)return{b2f:void 0};const {ome:l,open:m}=sMs(a),p=k.status===Qx.$h;e.Eu(()=>f.mode===40,({SL:q},r)=>{q&&(q.Gjd=r?{Button:eV(t=>{const u=p?h.Sd.Qij:void 0;return cV(l,{source:"file_menu",render:({onClick:w,loading:x,disabled:y})=>cV(t.fF,{AY:__c.Vbj,onClick:()=>{var z;w();(z=t.onClick)===null||z===void 0||z.call(t)},kg:x?__c.ov:u,disabled:y,children:L("ETXuvQ")})})})}:void 0)});if(g){const q=p?
__c.kJ:Yi,r=()=>cV(l,{source:"design_status",render:({onClick:t,disabled:u,loading:w})=>cV(q,{variant:"primary",onClick:t,disabled:u,loading:w,stretch:!0,children:L("EV/mkA")})});g.ome=()=>f.mode===40?r:void 0}d&&__webpack_require__.me(885017).then(()=>__c.Rej).then(fV(({fbr:q})=>{q({hi:d,Db:c,da:b})}));return{b2f:new X2s(m)}};
$B.ybs=function(a){const b=a.zc,c=a.sc,d=a.alert,e=a.P,f=a.pub,g=a.Gb,h=a.ya,k=a.Rr,l=a.dm,m=a.Pb,p=a.Tb,q=a.Db,r=a.da,t=a.Jq,u=a.$i,w=a.jtg,x=a.errorService,y=a.rb,z=a.uz,A=a.zDe,B=a.Qaa,D=a.yb,G=a.cL,I=a.Bha,K=a.Pi,N=a.la,M=a.qa,O=a.ka,U=a.eb,W=a.ehc,X=a.Na,Z=a.Uw,da=a.selection,ka=a.ug,la=a.a0,oa=a.Ma,ja=a.Grb,ha=a.OVa,ba=a.itf,ca=a.lKd,qa=a.Ga,ra=a.viewport,sa=a.oM,wa=a.BPb,ya=a.WFb,za=a.De,Aa=Promise.all([__webpack_require__.me(301523).then(()=>__c.c3s),G()]).then(fV(([{a9q:Ea},Fa])=>Ea({Ia:r.document,
da:r,Pb:m,Tb:p,Db:q,ka:O,eb:U,ya:h,Ma:oa,dm:l,Jq:t,designId:r.id,Qaa:B,Rr:k,selection:da,ug:ka,Uw:Z,sc:c,a0:la,OVa:ha,uz:z,zc:b,zDe:A,CKq:Fa,undo:r.undo,alert:d,viewport:ra,la:N,Na:X,errorService:x,Bha:I,rb:y,yb:D,qa:M,P:e,Ga:qa,ehc:W,jtg:w,lKd:ca,itf:ba,pub:f,oM:sa})));wa.then(Ea=>{Ea.register("widget:form",()=>Aa)});__c.Wee(ja.Y6m,({LL:Ea,Pv:Fa})=>{const Na=r.document;__c.pRo&&ka&&Na.Ja==="fixed"&&Promise.all([__webpack_require__.me(308764).then(()=>__c.d3s),G(),K()]).then(([{m3p:Ja},Qa,Ta])=>{Ja=
Ja({ls:Qa.ls,$i:u,Na:X,Gk:Ta,errorService:x,Pv:Fa,De:za,X:ka,Lf:r.extension,ia:r.id,Ia:Na,N:Ea.N,jQ:ya.g1r,Av:()=>Ea.Av(2),RFb:Ea.close,viewport:ra,l0:g.l0,T1:g.T1,CZb:ba,oM:sa});Ea.Dwd(2,Ja)})})};$B.Gbs=async function(a){return Promise.all([a.zEa,__webpack_require__.me(70971).then(()=>__c.e3s)]).then(([b,{C9q:c}])=>c({...a,zEa:b}))};
$B.Lbs=function(a){let b=[];const c=wV.box(e=>{b.push(e);if(b.length>1)for(;b.length>10;)b.shift();else __webpack_require__.me(489062).then(()=>__c.f3s).then(fV(({vbr:f})=>{const {Azr:g}=f(a);b.forEach(h=>g(h));b=[];c.set(g)}))});let d;dV(()=>{const e=a.jc.state;return e&&e.type==="focused"&&e.contentType===0?e.element:void 0},e=>{const f=d===null||d===void 0?void 0:d.text.Ya;f&&c.get()(f);d=e});return c};
}).call(self, self._0e44dc207644359e659b7c94d839693f);}

}])
//# sourceMappingURL=sourcemaps/d109ad2a2079b694.js.map