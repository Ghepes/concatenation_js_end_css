;// __FILE_CONTENT_FOR__:c37c1f0af6ec87c6.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[311970],{

/***/ 172439:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var hey,iey,mey,ney,oey,pey,qey,rey;hey=function(a){a.knh=void 0;++a.Tlg};iey=function(a){let b=a.knh;b==null&&(a.nSf+=1,b=a.hgg().catch(c=>{b===a.knh&&hey(a);throw c;}).finally(()=>--a.nSf),a.knh=b);return b};__c.ley=function({I:{YM:a},V:b,Gm:{RLh:c,Aco:d}}){b=new jey(a,b);a=key.createStore();c=new key(a,b,c);d!=null&&c.Cel(d);c.F7h();return{mP:a,yx:c}};mey=__webpack_require__(400770);ney=mey.action;oey=mey.computed;pey=mey.observable;qey=mey.reaction;rey=mey.runInAction;var sey=__c.H(()=>({X:__c.L(1),userId:__c.L(2)}));var jey=class{get isComplete(){return this.nSf===0&&this.Tlg===this.Azk}async Qud(){const a=this.Tlg,b=await iey(this);if(a!==this.Tlg)return this.Qud();this.Azk=a;return b}async hgg(){const a=new sey({userId:this.V.user.id,X:this.V.Oa.brand.id});return(await this.YM.hgg(a)).quota}constructor(a,b){this.YM=a;this.V=b;this.Tlg=this.nSf=0;this.Azk=-1}};var tey=class{static G(a){__c.Q(a,{XCd:pey.ref,Fgf:pey.ref,tZb:pey.ref,Ucc:pey.ref,yub:pey.ref,Tae:pey.ref,PQe:pey.ref,Zue:pey.ref,QQe:pey.shallow,loading:oey,aVg:oey,tza:oey,OQe:oey,pmd:oey})}get loading(){return this.Fgf>0}get aVg(){return this.PQe+this.Ucc}get tza(){return!this.tZb||this.yub==null||this.aVg<this.yub}get OQe(){return this.yub!=null?this.yub-this.aVg:0}get pmd(){return this.yub!=null?this.aVg/this.yub:0}constructor(){this.XCd=(tey.G(this),void 0);this.Fgf=0;this.tZb=!1;this.PQe=
this.Tae=this.Ucc=0;this.Zue=!1;this.QQe=new Map}},key=class{static G(a){__c.Q(a,{Cel:ney,bih:ney,Ecj:ney,$Me:ney,Tuf:ney,V9j:ney,W9j:ney})}static createStore(){return new tey}F7h(a=!1){if(this.dispose==null){var b=this.store;this.dispose=qey(()=>!b.loading&&b.Zue,c=>{c&&__c.eb(Math.max(500,b.Tae*1E3)).then(()=>{this.z3e()})},{fireImmediately:a})}}Qwd(){return this.z3e().then(()=>this.store.tza)}async z3e(){const a=this.store;try{if(rey(()=>a.Fgf+=1),this.H4j){const b=await this.ggg.Qud();rey(()=>
{this.bih(b);this.Ecj();a.Tae=0;a.XCd="provider";a.Zue=!1})}else rey(()=>{this.Ecj();a.Ucc=0;a.yub=void 0;a.Tae=0;a.XCd="provider";a.Zue=!1})}catch(b){rey(()=>{a.Tae+=1;a.Zue=!0})}finally{rey(()=>--a.Fgf)}}Cel(a){this.bih(a);this.store.XCd="bootstrap"}bih(a){const b=this.store;this.H4j?(b.Ucc=a.BIa,b.yub=a.limit,b.tZb=a.tZb):(b.Ucc=0,b.yub=void 0,b.tZb=!1)}Ecj(){this.store.PQe=Array.from(this.store.QQe.values()).reduce((a,b)=>a+b,0)}$Me(a,b){this.store.QQe.set(a,b);this.store.PQe+=b}Tuf(a){return this.store.QQe.has(a)?
(this.store.QQe.delete(a),!0):!1}V9j(a){a!=null?(this.store.Ucc-=a,this.store.XCd="userAction",hey(this.ggg)):this.knb()}W9j(a){this.store.Ucc+=a;this.store.XCd="userAction";hey(this.ggg)}knb(){hey(this.ggg);rey(()=>this.store.Zue=!0)}constructor(a,b,c){this.store=a;this.ggg=b;this.H4j=c;this.dispose=(key.G(this),void 0)}};__c.Wta={};__c.Wta.Pkn=__c.ley;
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/11_sourcemaps/c37c1f0af6ec87c6.js.map