(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[473256],{

/***/ 716392:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(301439);__web_req__(960817);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var Mzb,Lzb,Pzb;__c.Nzb=async function(a){const b=await Lzb(a);b!=null&&(await Mzb(b),b.close(),await Promise.race([__c.Lvb.delete({name:a}),__c.eb(500)]))};Mzb=async function(a){const b=Array.from(a.objectStoreNames);if(b.length>0){const c=a.transaction(b,"readwrite");await Promise.all(b.map(d=>c.objectStore(d).clear()));await c.wsb}};
Lzb=async function(a){if(self.indexedDB!=null){if("databases"in self.indexedDB)try{if(!(await self.indexedDB.databases()).some(({name:d})=>d===a))return}catch(d){}var b=!1,c=await __c.Lvb.open({name:a,KId:()=>{b=!0},dld:{type:1,jnd:!0,knd:!0}});if(b)await __c.Lvb.delete({name:a});else return c}};__c.Ozb=async function(a,b){let c;switch(b.wD){case 1:c="cache";break;case 2:c="idb";break;default:throw new __c.t(b.wD);}await a.OG.put(`${c}:${b.name}`,b)};
Pzb=async function(a,{key:b,Wj:c,Lxp:d}){if(d(c)){switch(c.wD){case 1:await self.caches.delete(c.name);break;case 2:await __c.Nzb(c.name);break;default:throw new __c.t(c.wD);}await a.OG.delete(b)}};__c.Szb=function({I:{da:a}}){return new Qzb(__c.Izb({RZ:"persisted_data_registry",serializer:{serialize:Rzb.serialize,deserialize:Rzb.deserialize},da:a}))};var Qzb=class{async JMd({name:a,scope:b}){this.UJh&&await __c.Ozb(this,{name:a,wD:2,scopes:b!=null?[{key:1,value:b.userId},{key:2,value:b.X}]:[]})}async deleteData({Vyc:a}){if(this.UJh){var b=a.Aq.size===0,c=[],{items:d}=await this.OG.getAll();for(const {key:e,Wj:f}of d)try{await Pzb(this,{key:e,Wj:f,Lxp:g=>{if(b)return!0;g=g.scopes.filter(h=>h.key===1);return g.length===0?!1:!g.some(h=>a.Aq.has(h.value))}})}catch(g){c.push(g)}if(c.length>0)throw new Tzb(c);}}constructor(a){this.UJh=__c.Xa("2446dd3c",
!0);this.OG=a}},Tzb=class extends Error{constructor(a){super("Unable to delete PersistedDataRegistry data");this.errors=a}};var Uzb=__c.K(()=>[1,2]);var Vzb=__c.K(()=>[1,2]);var Wzb=__c.H(()=>({key:__c.Ma(1,Vzb),value:__c.L(2)}));var Rzb=__c.H(()=>({name:__c.L(1),wD:__c.Ma(2,Uzb),scopes:__c.La(3,Wzb)}));
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=sourcemaps/d93738888d9cebbd.js.map