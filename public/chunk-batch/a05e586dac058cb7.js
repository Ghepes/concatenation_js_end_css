;// __FILE_CONTENT_FOR__:a05e586dac058cb7.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[616766],{

/***/ 870332:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);__web_req__(771161);__web_req__(429426);__web_req__(179149);__web_req__(394293);__web_req__(298914);__web_req__(735191);__web_req__(805085);__web_req__(451206);__web_req__(869631);__web_req__(434330);__web_req__(861592);__web_req__(378172);__web_req__(103080);__web_req__(390229);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var V=__c.V;var FFl,GFl,CFl,EFl,IFl,HFl,JFl,MFl,LFl,OFl,NFl,PFl,RI,DFl,QFl,BFl,RFl;
FFl=function({onClick:a,onDoubleClick:b,Vla:c,b$q:d=300,rFr:e=750,hHr:f=9,pwr:g=!1}){const h=BFl(0),k=BFl(null),l=BFl(null),n=BFl(0),p=BFl(null),[q,r,u]=CFl(f),v=RI(()=>{l.current&&(window.clearTimeout(l.current),l.current=null);k.current&&(window.clearTimeout(k.current),k.current=null)},[]);DFl(()=>()=>v(),[v]);const w=RI(D=>EFl(D,g)?!1:!0,[g]);f=RI(D=>{EFl(D,g)?v():(w(D)&&D.stopPropagation(),n.current=Date.now(),r(D.clientX,D.clientY),c&&(l.current=window.setTimeout(()=>{c()},e)))},[g,w,c,v,e,r]);
const x=RI(D=>{if(EFl(D,g))v();else{b&&D.preventDefault();w(D)&&D.stopPropagation();var F=Date.now();q(D.clientX,D.clientY)?v():(l.current&&(window.clearTimeout(l.current),l.current=null),F-n.current>=e||(b?(F-h.current<d?(p.current=b,k.current&&(window.clearTimeout(k.current),k.current=null)):k.current=window.setTimeout(()=>{"click"in D.target?D.target.click():a===null||a===void 0||a(D);p.current=null},d),h.current=F):p.current=a))}},[g,b,w,e,d,v,q,a]),y=RI(D=>{EFl(D,g)?a===null||a===void 0||a(D):
p.current?(p.current(D),p.current=null):(b&&D.preventDefault(),w(D)&&D.stopPropagation())},[g,a,b,w]),A=RI(D=>{l.current!=null&&(window.clearTimeout(l.current),l.current=null);u();n.current!==0&&(n.current=0);w(D)&&D.stopPropagation()},[w,u]),B=RI(()=>{u();v();n.current&&(n.current=0);h.current=0},[v,u]);return{onClick:y,onPointerDown:f,onPointerUp:x,onPointerLeave:A,onPointerCancel:B}};GFl=function(a){const {children:b,...c}=a,d=FFl(c);return a.children(d)};
CFl=function(a){const b=BFl(null),c=RI((e,f)=>{b.current=e!==void 0&&f!==void 0?{x:e,y:f}:null},[]),d=RI(()=>{b.current=null},[]);return[RI((e,f)=>{if(b.current==null)f=!1;else{var g=b.current.x,h=b.current.y;g==null||h==null||e==null||f==null?f=0:(e-=g,f-=h,f=Math.sqrt(e*e+f*f));f=f>a}return f},[a]),c,d]};EFl=function(a,b){return!(a.nativeEvent&&a.isTrusted)||!!(a.metaKey||a.ctrlKey||a.shiftKey)&&!b||(a.type==="click"&&a.detail===0?!0:!1)};
IFl=function(a){return a.TIj?SI(__c.ybl,{open:a.isOpen,trigger:a.card,T0k:a.width,S0k:a.height,wKc:({width:b,height:c})=>SI("div",{style:{width:b,height:c},children:SI(HFl,{thumbnail:a.thumbnail,Uk:a.T8o,onClick:a.onClick,ariaLabel:a.ariaLabel,Ia:a.Ia})}),dMd:a.dMd,pa:a.pa}):a.card};HFl=function(a){return SI(GFl,{onClick:a.onClick,Vla:a.Vla,children:b=>{b={layout:"vertical",thumbnail:a.thumbnail,Uk:a.Uk,ariaLabel:a.ariaLabel,...b};return a.Ia?SI(__c.xB,{...b,Ia:a.Ia}):SI(__c.zA,{...b})}})};
__c.KFl=function(a){var b;return(a=(b=JFl(a).map(c=>{var d;return((d=c.OC[0])!==null&&d!==void 0?d:c).eb.filter(e=>e.eh===1)}).at(0))===null||b===void 0?void 0:b.at(0))?{width:a.width,height:a.height,aspectRatio:a.width/a.height}:{width:1,height:1,aspectRatio:1}};JFl=function(a){switch(a.type){case "DESIGN":return a.pages;case "RESPONSIVE":return a.nt;case "ELEMENT":throw Error("Unsupported template type: "+a.type);default:throw new __c.t(a);}};
MFl=function(a){if(a.length!==0){if(a.length===1)return a[0];var b=a[0],c=b.width;b=b.height;var d=c/b,e=.5<d&&d<2?200:500,f=c>b?"width":"height";return[...a].sort((g,h)=>f==="width"?LFl(g.width,h.width,e):LFl(g.height,h.height,e))[0]}};LFl=function(a,b,c){return a>c&&b<c?-1:a<c&&b>c?1:Math.abs(a-c)-Math.abs(b-c)};
OFl=function(a){var b=NFl(a);switch(a.type){case "DESIGN":a=b!==null&&b!==void 0?b:a.pages[0].eb;break;case "RESPONSIVE":a=b!==null&&b!==void 0?b:a.nt[0].eb;break;case "ELEMENT":a=a.eb;break;default:throw new __c.t(a);}a=a.filter(c=>c.eh===3);b=a.filter(c=>!!c.Kp);return b.length>0?b:a};NFl=function(a){var b;if((a=(b=a.Sz)===null||b===void 0?void 0:b.eb)&&a.length>0)return a};PFl=__webpack_require__(366533);RI=PFl.useCallback;DFl=PFl.useEffect;QFl=PFl.useMemo;BFl=PFl.useRef;RFl=PFl.useState;var SFl=__webpack_require__(400770),TFl=SFl.observable,UFl=SFl.runInAction;var VFl=__webpack_require__(613444),WFl=VFl.Fragment,SI=VFl.jsx,XFl=VFl.jsxs;var YFl=__webpack_require__(813494).observer;var ZFl;ZFl=class{static G(a){__c.Q(a,{$r:TFl.ref})}constructor(a){ZFl.G(this);this.kr=a;this.$r=this.kr.$r}};
__c.$Fl=class{static createStore(a,b,c){return a?new ZFl(new __c.UA({type:__c.$Fl.nEd(a.type),object:a.object,$r:a.$r})):new ZFl(new __c.UA({type:__c.$Fl.nEd(c),object:b,$r:!1}))}static nEd(a){switch(a){case 2:return 2;case 1:return 1;default:throw new __c.t(a);}}async toggle(a,b,c){if(a.kr.$r===a.$r){UFl(()=>{a.$r=!a.$r});try{let d;a.kr.$r?(c({Db:"unstarred",ow:b}),d=await this.p3a(a.kr),this.ha.fb({Za:V("mGpZLg"),group:this.z2})):(c({Db:"starred",ow:b}),d=await this.W2a(a.kr),this.ha.fb({Za:V("+VZ6Qg"),
group:this.z2,Ul:{buttonText:V("moswxA"),onClick:()=>this.Ga.$X({id:"likes"})}}));UFl(()=>{a.kr=d;a.$r=d.$r})}catch(d){UFl(()=>{a.$r=a.kr.$r});const e=!a.kr.$r;this.errorService.ia(d,`Error ${e?"creating":"deleting"} like`);this.ha.fb({Za:e?V("W1EDNA"):V("OYAS+A"),group:this.z2,Ul:{buttonText:V("q2AcFw"),onClick:()=>void this.toggle(a,b,c)}})}}}async W2a(a){return(await this.Zo.W2a(new __c.Ynj({body:{brand:this.X,user:this.userId,type:a.type,object:a.object}}))).kr}async p3a(a){return(await this.Zo.p3a(new __c.R7k({body:{brand:this.X,
user:this.userId,type:a.type,object:a.object}}))).kr}constructor(a,b,c,d,e,f){this.X=a;this.userId=b;this.Zo=c;this.ha=d;this.Ga=e;this.errorService=f;this.z2=Symbol("LIKE")}};var aGl,bGl;
__c.cGl=YFl(function({template:a,rm:b,kr:c,index:d,i3c:e,Ea:f,es:g,n5i:h,uFf:k,KZa:l,gBp:n,Zb:p,o1p:q,$Qc:r,XKl:u,WKl:v,gyc:w,zx:x,R1d:y,q4i:A}){const {correlationId:B}=__c.aFl(a.id),D=RI(Fa=>x({...Fa,resourceId:a.id,Ufa:a.brand,index:d}),[x,a.id,a.brand,d]),[F,G]=RFl(()=>__c.$Fl.createStore(c,a.id,2)),[I,J]=RFl(!1),{width:O,height:P,aspectRatio:R}=QFl(()=>__c.KFl(a),[a]),T=QFl(()=>k.n4d(a),[a,k]),U=QFl(()=>JFl(a).map(Fa=>{var Qa;const Va=((Qa=Fa.OC[0])!==null&&Qa!==void 0?Qa:Fa).eb.filter(ab=>ab.eh===
1);return MFl(Va)}).filter(__c.Ua),[a]),Y=QFl(()=>{const Fa=OFl(a);return MFl(Fa)},[a]);var aa;const fa=(aa=a.lg)!==null&&aa!==void 0?aa:U.length;[aa]=RFl(()=>new __c.WEl(U.map(Fa=>Fa.url),fa));const da=__c.ng({default:"design",Jc:"preview"}),ia=QFl(()=>{var Fa,Qa;return p?void 0:f.BFa({template:a.id,category:(Fa=b===null||b===void 0?void 0:b.category)!==null&&Fa!==void 0?Fa:a.category,doctype:(Qa=b===null||b===void 0?void 0:b.doctype)!==null&&Qa!==void 0?Qa:a.tw,Fb:B})},[p,f,a,b,B]),X=QFl(()=>{var Fa;
return{id:a.id,title:a.title,yPc:T,Ta:(Fa=b===null||b===void 0?void 0:b.category)!==null&&Fa!==void 0?Fa:a.category,Wa:(b===null||b===void 0?void 0:b.doctype)||a.tw}},[a,b,T]),ba=QFl(()=>F.$r,[F.$r]),ha=RI(Fa=>()=>{q(()=>{T?D({Db:"customize",ow:Fa}):n()})},[D,q,T,n]),la=RI(Fa=>()=>q(()=>{l(a.id);D({Db:"preview",ow:Fa})}),[q,l,a.id,D]),ka=RI(()=>J(!1),[]),na=RI(()=>{w&&(D({Db:"quick_preview"}),J(!0))},[w,D]);__c.qa(a.type==="DESIGN"||a.type==="RESPONSIVE",`Unsupported template type: ${a.type}`);const oa=
RI(Fa=>{e.toggle(F,Fa,D)},[e,F,D]),xa=QFl(()=>({template:X,MJ:ba,Hpe:oa,hQo:ha("action_menu"),KZa:la("action_menu"),Bxi:()=>D({Db:"translate",ow:"action_menu"}),jId:()=>D({Db:"report",ow:"action_menu"})}),[X,ba,oa,ha,la,D]),ua=RI(Fa=>SI(u,{...xa,location:"action_menu",Cja:!0,oMj:()=>{Fa.Tz();ka()}}),[xa,ka,u]);DFl(()=>{a.id!==F.kr.object&&G(__c.$Fl.createStore(c,a.id,2))},[F.kr.object,c,a.id]);const ya=SI(v,{...xa,eip:ua,fzg:Fa=>D({Db:Fa})}),Ba=SI(__c.Z,{borderRadius:"containerStandard",background:"surface",
children:SI(u,{...xa,location:"quick_preview",Cja:!1,oMj:ka})}),va={Sod:ha,ariaLabel:__c.S("gvAcig",[a.title]),Ia:T?ia:void 0};v={Sod:la,ariaLabel:__c.S("NqusTA",[a.title]),Ia:void 0};const Ca=da==="design"&&T?va:v,Ia=SI(__c.BA,{location:"bottom-end",visibility:"always",gw:!0,children:SI(r,{il:a.il,sc:a.sc})});if(U.length===0)g=SI(__c.vA,{aspectRatio:1,index:d%10,borderRadius:"element"});else{if(Y!=null){const {url:Fa}=U[0];return SI(__c.AFl,{title:a.title,es:g,pWa:y,y5a:Y.Kp,KA:{source:"home",location:A,
Qb:a.id},children:({U6:Qa,Fka:Va,$ub:ab,fna:kb,Y$:bb})=>{Va=SI(__c.yA,{HA:Y.url,Rm:Fa,muted:!bb,KIa:!p&&Va?"now":"never",tC:a.title,borderRadius:"element",aspectRatio:R});kb=kb&&SI(__c.BA,{location:"bottom-start",visibility:"always",gw:!0,children:SI(kb,{})});bb=XFl(WFl,{children:[ya,Ia,kb]});Qa=SI("div",{ref:Qa,onMouseEnter:ab.YB,onMouseLeave:ab.mSa,onFocus:ab.onFocus,onBlur:ab.onBlur,children:SI(HFl,{thumbnail:Va,Uk:bb,Vla:na,...Ca,onClick:Ca.Sod("card")})});return SI(IFl,{TIj:w,isOpen:I,card:Qa,
width:O,height:P,thumbnail:Va,onClick:va.Sod("quick_preview"),Ia:va.Ia,ariaLabel:va.ariaLabel,pa:ka,dMd:Ba,T8o:kb})}})}if(U.length>1){g=SI(aGl,{aspectRatio:R,Trb:aa,n5i:h});var Na=SI(__c.BA,{location:"bottom-start",children:SI(bGl,{lg:fa,Trb:aa})})}else({url:g}=U[0]),g=SI(__c.xA,{src:g,aspectRatio:O/P,alt:a.title,borderRadius:"element"})}Na=XFl(WFl,{children:[ya,Ia,Na]});Na=SI(HFl,{thumbnail:g,Uk:Na,Vla:na,...Ca,onClick:Ca.Sod("card")});return SI(IFl,{TIj:w,isOpen:I,card:Na,width:O,height:P,thumbnail:g,
onClick:va.Sod("quick_preview"),Ia:va.Ia,ariaLabel:va.ariaLabel,pa:ka,dMd:Ba})});aGl=YFl(function({aspectRatio:a,Trb:b,n5i:c}){const [d]=RFl(()=>new __c.UEl(b)),e=__c.sA();return SI(__c.uA,{aspectRatio:a,borderRadius:"element",children:SI(__c.kZh,{store:d,ga:c,YA:e})})});bGl=YFl(function({lg:a,Trb:b}){return __c.Le.zla?SI(__c.bg,{tone:"contrast",text:__c.S("5VLbyQ",[b.eua+1,a])}):SI(__c.bg,{tone:"contrast",text:a.toString(),icon:SI(__c.ULh,{className:"RpkFmQ",size:"tiny"})})});
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/27_sourcemaps/a05e586dac058cb7.js.map