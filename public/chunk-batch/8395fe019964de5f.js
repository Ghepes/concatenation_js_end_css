;// __FILE_CONTENT_FOR__:8395fe019964de5f.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[496516],{

/***/ 414097:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(663480);__web_req__(157643);__web_req__(770491);__web_req__(404448);__web_req__(146875);__web_req__(218929);__web_req__(408657);__web_req__(589028);__web_req__(805085);__web_req__(473321);__web_req__(174937);__web_req__(600110);__web_req__(285806);__web_req__(219745);__web_req__(317697);__web_req__(83880);__web_req__(489323);__web_req__(306503);__web_req__(227293);__web_req__(304073);__web_req__(672678);__web_req__(607671);__web_req__(672270);__web_req__(905935);__web_req__(878533);__web_req__(930523);__web_req__(752215);__web_req__(990687);__web_req__(33706);__web_req__(710918);__web_req__(347259);__web_req__(172858);__web_req__(121623);__web_req__(580778);__web_req__(96863);__web_req__(893105);__web_req__(939815);__web_req__(977824);__web_req__(241869);__web_req__(616109);__web_req__(636837);__web_req__(92641);__web_req__(223343);__web_req__(206785);__web_req__(818865);__web_req__(967141);__web_req__(830353);__web_req__(721753);__web_req__(300572);__web_req__(763795);__web_req__(369976);__web_req__(723272);__web_req__(581247);__web_req__(87118);__web_req__(105413);__web_req__(553619);__web_req__(187290);__web_req__(277842);__web_req__(80441);__web_req__(990472);__web_req__(279138);__web_req__(618306);__web_req__(228071);__web_req__(749039);__web_req__(415339);__web_req__(980063);__web_req__(136663);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var Th=__c.Th;var Db=__c.Db;var Qg=__c.Qg;var Wa=__c.Wa;var xs=__c.xs;var Q=__c.Q;var lj=__c.lj;var t=__c.t;var Zh=__c.Zh;var Yh=__c.Yh;var nf=__c.nf;var xc=__c.xc;var S=__c.S;var ng=__c.ng;var Uh=__c.Uh;var W=__c.W;var Z=__c.Z;var V=__c.V;var xf=__c.xf;var xD=__c.xD;
var MOy=function(a,b){try{var c;const e=a.getSession();var d;(c=a.storage)===null||c===void 0||c.setItem("ui.assistant.help_automation_assistant.session",JSON.stringify(__c.Z2i.serialize(new __c.Z2i({...e,ZCd:{id:b,eventId:void 0},Dd:(new Date).getTime(),uZ:(d=e.uZ)!==null&&d!==void 0?d:1}))))}catch(e){a.errorService.ia(e,{ta:"Error setting interaction data"})}},NOy=function(a){a.VKj.forEach(b=>b())},ROy=function({mG:a,hf:b,I:{errorService:c,hm:d}}){const e=__c.Ha(()=>{const f=new OOy,g=new POy(f,
{Gd:"live_chat",mG:a,errorService:c,hf:b,hm:d});return{store:f,ga:g,Ofa:()=>g.eQg(),onSubmit:()=>g.dya(),Tsi:()=>g.bvi(2),hui:()=>g.bvi(1)}});return F4(()=>{const {store:f,ga:g,Ofa:h,onSubmit:k,Tsi:l,hui:n}=e(),p=a.store.vt;G4(()=>{g.reset()},[g]);G4(()=>{p&&__c.AD(g.ea.hf,{type:"live_chat_csat_survey_form_shown",status:"succeeded",location:g.ea.Gd,vt:p})},[p,g]);return H4(QOy,{w3:a.store.w3,rating:f.rating,bxb:f.bxb,oL:f.oL,qfa:f.qfa,onChange:g.Amf,Tsi:l,hui:n,Ofa:h,onSubmit:k})})},TOy=function(a){if(!xD().W3a)return{timeout:0};
switch(a){case "overlay":return{classNames:{enter:"rHTEQw",enterActive:"a2GZiA",enterDone:"OYcRpQ",exit:"_1TAvzw",exitActive:"hYJaTQ"},timeout:SOy};case "overlay-footer":return{classNames:{enter:"r9VQcA",enterActive:"Qklg7A",exit:"G08ByQ",exitActive:"T0UPFg"},timeout:SOy};default:return{timeout:0}}},UOy=function(a,b="full"){switch(b){case "half":a=a.lQd;a.ga.pnc(a.store,["half","full"]);break;case "auto":a=a.lQd;a.ga.pnc(a.store,["auto","full"]);break;default:a=a.lQd,a.ga.pnc(a.store,["full"])}},
VOy=async function(a){const b=a.ea.V;var c=a.ea.I;a=c.Ba;c=c.errorService;if(b){var d=b.user,e=d.id;if((typeof e==="string"?!e.startsWith("UAAAAAAAAA"):!e.$f.user.startsWith("UAAAAAAAAA")&&e.iX!==2)&&!d.Zi.includes(__c.T2a.enj))try{await a.rg(new __c.uk({user:b.user.id,types:[720]}))}catch(f){c.ia(f)}}},WOy=function(a){let b,c=!0;return function(...d){if(b)return b.promise;b=__c.Da();const e=b.promise,f=b.resolve;if(!c)return setTimeout(()=>{f(a.apply(this,d));b=void 0},500),e;f(a.apply(this,d));
c=!1;setTimeout(()=>{c=!0;b=void 0},500);return e}},XOy=function(a,b){var c;(c=a.qza)===null||c===void 0||c.postMessage({type:"live_chat_status_update",payload:{conversationId:b.vt,status:b.status}})},cPy=function({ha:a}){const b=new YOy(a);return({dw:c,onClose:d})=>{const e=ZOy(()=>new $Oy(!0),[]),f=aPy(()=>{b.onSubmit(e,c);d()},[c,d,e]),g=aPy(h=>b.uga(e,h),[e]);return H4(bPy,{onSubmit:f,uga:g,store:e})}},ePy=function({ha:a}){const b=new YOy(a);return({dw:c,onClose:d,lMd:e})=>{const f=ZOy(()=>new $Oy(!1),
[]),g=aPy(()=>{b.onSubmit(f,c);d()},[c,d,f]),h=aPy(l=>b.uga(f,l),[f]),k=aPy(l=>b.fNa(f,l),[f]);return H4(dPy,{onSubmit:g,lMd:e,uga:h,fNa:k,store:f})}},jPy=function({ha:a}){const b=new fPy,c=cPy({ha:a}),d=ePy({ha:a});return F4(({dw:e,lMd:f})=>{const [g]=gPy(()=>new hPy),h=aPy(()=>b.Ena(g),[g]),k=aPy(()=>b.XLa(g),[g]),l=aPy(n=>b.Wlc(g,e,n),[e,g]);return I4(iPy,{children:[H4(__c.tn,{pa:h,open:g.WFa,children:g.rating===1?H4(c,{dw:e,onClose:h}):H4(d,{dw:e,onClose:h,lMd:f})}),H4(__c.bYl,{rating:g.rating,
Nol:g.rating!==void 0,onRateChange:l,GTk:k})]})})},kPy=function(a,b){const c=a.store.sIg.get(b);c&&(c.disconnect(),a.store.sIg.delete(b))},mPy=function(a,b,c){if(c)return b==="FULL_WIDTH_INBOUND"?J4+lPy+a.store.Mpg+lPy+J4:J4+a.store.Mpg+J4;switch(b){case "MULTI_INBOUND":a=a.store.cards.slice().reverse();b=a.findIndex(f=>f.card.Roa);a=b===-1?a:a.slice(0,b);const {e7i:d,n5h:e}=a.reduce((f,g)=>{var h;g=((h=g.card.nodeRef.current)===null||h===void 0?void 0:h.getBoundingClientRect().height)||0;return{e7i:f.e7i+
g,n5h:f.n5h+1}},{e7i:0,n5h:0});return J4+d+e*J4;case "OUTBOUND":return J4+a.store.hff+(a.store.Igf?J4+a.store.Igf:0)+J4;case "INBOUND":return J4+a.store.hff+J4+a.store.Rpg+J4;case "FULL_WIDTH_INBOUND":return J4+a.store.hff+J4+lPy+a.store.Rpg+lPy+J4;case "LIVE_CHAT_SESSION":return J4+lPy+a.store.dci+lPy+J4;case "LIVE_CHAT_FEEDBACK_SUBMITTED":return J4+a.store.cci+J4;default:return 0}},nPy=function(a){if(a.store.cards.length<=1)return!1;const b=a.store.cards.slice().reverse().findIndex(c=>c.card.Roa);
return(b===-1?a.store.cards.length:b)>=2},pPy=function(a){const b=oPy(a);return b===-1?0:a.store.cards.slice(b+1).reduce((c,d)=>{var e;d=((e=d.card.nodeRef.current)===null||e===void 0?void 0:e.getBoundingClientRect().height)||0;return c+d+J4},0)},oPy=function(a){var b,c;return(c=(b=a.store.cards.map((d,e)=>({card:d.card,index:e})).reverse().find(({card:d})=>!d.Roa&&d.Yic&&qPy.includes(d.Yic)))===null||b===void 0?void 0:b.index)!==null&&c!==void 0?c:-1},tPy=function(a,b,c){const d=new rPy,e=new sPy(d,
a,b,c);return{store:d,TOo:f=>{e.cfl(f)},zMo:(f,g,h,k)=>{e.Lel(f,g,h,k)},xDh:()=>{e.xDh()}}},zPy=function({xka:a,Cx:b,errorService:c,O7e:d,ft:e,fBo:f,ULb:g,D_c:h,VAb:k,ha:l,DB:n,Ghj:p,wad:q,Pgb:r}){const u=xD().W3a,v=xD().Dwb,w=new uPy,x=new vPy(n,q,k,c,g,a);a=new wPy(x,w);const y=()=>n.Rz(),A=J=>n.CLc(J),B=J=>r(!n.Fmk()&&J),D=b.gfd({Component:xPy,Vi:"card_stack"}),F=yPy({ha:l}),G=(J,O)=>c.error(J,{ta:"help_automation_assistant: ",extra:new Map(Object.entries(O))}),I=({children:J})=>H4(__c.Ff,{Tc:G,
children:J});return{kqc:F4(({FV:J})=>{G4(()=>{J&&J.addEventListener("scroll",n.vAg);return()=>{J&&J.removeEventListener("scroll",n.vAg)}},[J]);G4(()=>{x.dif(w,xD().Dwb,J)});return H4(D,{g$a:F,ErrorBoundary:I,uOf:f.get(),yf:w.header,cards:w.cards,pXa:w.pXa,O7e:d,ft:e,responseStatus:h(),ya:w.ya,Bia:u,Xmo:v,uZ:g(),FV:J,Rz:y,j9a:A,gXd:u?void 0:w.gXd,Ghj:p.get(),Pgb:B})}),Aub:a}},yPy=function({ha:a}){const b=jPy({ha:a});return c=>H4(APy,{...c,AEm:b})},CPy=function({fa:a,sp:b,fo:c,ob:d,iOc:e,Ib:f}){G4(()=>
{f()},[f]);return H4(xf,{size:"medium",variant:"secondary",icon:__c.K_i,onClick:()=>{d&&a&&(a.track(BPy,{fo:c,sp:b}),d.Tj("leadGenDialog","help_assistant_contact_sales",{sp:b,fo:c,hAb:void 0,onComplete:()=>{e===null||e===void 0||e({uya:"button_click",JC:"assistant_contact_sales"})}}))},children:V("G23fnw")})},FPy=function({fa:a,NHh:b,EA:c,ob:d,iOc:e}){return(b=b&&(c===7||c===9||c===8||c===11||c===12))?{type:"INBOUND_CARD",card:new DPy({fa:a,jyp:b,ob:d,EA:c,iOc:e})}:{type:"TRANSIENT",Component:()=>
H4(EPy,{})}},KPy=function({LGe:a,aD:b,mG:c,y$e:d,N$:e,ft:f}){const g=xD().W3a,{Jgd:h,cCh:k}=d||{};d=e()===4;const l=new GPy({mG:c,GEn:!d&&k==="bottom",Bia:g}),n=new HPy;d=new IPy(l,n);const p=()=>{n.BAf(l,1)},q=()=>{n.BAf(l,2);__c.m(c).f2e().finally(()=>{n.BAf(l,void 0)})},r=()=>{n.BAf(l,void 0)};return{gb:F4(u=>{var v;return I4(iPy,{children:[l.enl&&!u.Bml&&H4(Z,{padding:"2u",shadow:f()&&!g?"surface":void 0,children:H4(b,{})}),H4(JPy,{LGe:a,Jgd:h,GOo:q,fri:r,umf:p,FQd:u.FQd||g,variant:(v=u.variant)!==
null&&v!==void 0?v:l.Icg,fhj:l.dej===2})]})}),GKa:d}},LPy=function(a){if(a!=="compact")return V("oRYe4Q")},QPy=function({mG:a,ft:b}){const c=xD().W3a;return{yf:F4(d=>(a===null||a===void 0?0:a.store.status===2)?H4(MPy,{Bia:c,name:a.store.w3,...d}):c?H4(NPy,{...d}):b()?H4(OPy,{...d}):H4(PPy,{...d}))}},RPy=function({Ka:a}){return H4(__c.ih,{className:"_9BGDHQ",Ia:a.omb({}),variant:"unstyled",target:"_blank",children:I4(W,{size:"small",tone:"tertiary",children:[V("ahAGnA"),H4(Uh,{size:"0.5u",direction:"horizontal"}),
H4(__c.zj,{size:"tiny"})]})})},SPy=function({Ka:a}){return()=>H4(RPy,{Ka:a})},TPy=function({Ka:a}){const b=ng({default:!0,Aa:!1});return H4(Z,{display:"flex",justifyContent:"center",className:b?"uPFZUw":"W8APTQ",children:H4(__c.ih,{className:"_6cDSNg",Ia:a.p8({ly:__c.X0a({RDg:!0})}),variant:"unstyled",target:"_blank",children:I4(W,{size:"small",tone:"tertiary",children:[H4(__c.Rs,{size:"small"}),H4(Uh,{size:"0.5u",direction:"horizontal"}),V("vc0cZA"),H4(Uh,{size:"0.5u",direction:"horizontal"}),H4(__c.zj,
{size:"tiny"})]})})})},UPy=function({Ka:a}){return()=>H4(TPy,{Ka:a})},VPy=function({ntd:a,Ka:b}){return a?{Jgd:UPy({Ka:b}),cCh:"top"}:{Jgd:SPy({Ka:b}),cCh:"bottom"}},YPy=async function(a,b){try{a.ea.t9("loading");const {sK:c}=await WPy(a,b);await a.ea.controllers.mG.vrb({Gd:"assistant_search_bar",oSe:c==="print-and-delivery"?4:7,Obc:"tiered_support_page",h1c:b})}catch(c){a.ea.I.errorService.ia(c,{ta:"Error starting enterprise chat session"}),a.ea.I.Ka&&a.ea.jq(new XPy({Ka:a.ea.I.Ka}))}finally{a.ea.t9("completed")}},
aQy=function(a,{p4e:b=!1}={}){if(!(a.pSe.length>0)){var c=a.ea.fra(void 0);a.pSe=[{type:"chat_session_end",nk:()=>{var f,g;a.ea.ULb()===2&&(a.ea.Nxe(1),(f=(g=a.ea).QSe)===null||f===void 0||f.call(g),f=V("a5qW5Q"),a.ea.jq(new ZPy(f,"chat_session_end")),a.ea.controllers.NT.ga.Bqa(S("se39yA",[f])),(f=a.ea.controllers.mG.store.vt)&&XOy(a.ea.controllers.CQe,{vt:f,status:3}))}},{type:"chat_feedback_submitted",nk:()=>{var f=V("RKzTVg");a.ea.jq(new __c.IMl(f,{tdi:"chat_feedback_submitted"}));a.ea.controllers.NT.ga.Bqa(S("eCJ87g",
[f]));(f=a.ea.controllers.mG.store.vt)&&XOy(a.ea.controllers.CQe,{vt:f,status:1})}},{type:"chat_agent_join",nk:f=>{f=S("2eQayw",[f.w3]);a.uJi&&(a.uJi(),a.uJi=void 0);a.ea.jq(new ZPy(f,"chat_agent_join"));a.ea.controllers.NT.ga.Bqa(S("se39yA",[f]))}},{type:"chat_agent_leave",nk:f=>{f=S("Twa+Hg",[f.w3]);a.ea.jq(new ZPy(f));a.ea.controllers.NT.ga.Bqa(S("se39yA",[f]))}},{type:"chat_agent_message_received",nk:f=>{f.type==="text"?a.ea.jq(new __c.f1i(f.text,{xLc:f.w3,hJ:c})):a.ea.jq(new $Py({dj:f.dj,text:f.text},
{xLc:f.w3,hJ:c}));var g=a.ea.controllers.NT,h=f.text;h=(f=f.w3)?S("XRBqhQ",[h,f]):S("7gIfnw",[h]);g.ga.Bqa(h)}}];a.pSe.forEach(f=>{a.ea.controllers.mG.addListener(f)});var d={type:"chat_session_start",nk:f=>{const g=xD().W3a;if(f===null||f===void 0?0:f.T1o)f=V("l4oDQw"),a.ea.jq(new __c.W0i(f)),a.ea.controllers.NT.ga.Bqa(S("eCJ87g",[f]));else{a.ea.Nxe(2);var h=g?V("aX+BqQ"):V("ASaveg");g?(a.uJi=a.ea.jq(new ZPy(h,"chat_session_start")),a.ea.controllers.NT.ga.Bqa(S("se39yA",[h]))):(a.ea.jq(new __c.IMl(h)),
a.ea.controllers.NT.ga.Bqa(S("eCJ87g",[h])));(f===null||f===void 0?0:f.vt)&&XOy(a.ea.controllers.CQe,{vt:f.vt,status:2})}}},e={type:"chat_session_reconnect",nk:()=>a.ea.Nxe(2)};a.pSe=[...a.pSe,d,e];a.ea.controllers.mG.addListener(d,{fireImmediately:b});a.ea.controllers.mG.addListener(e,{fireImmediately:!0})}},WPy=async function(a,b){var c,d;return a.ea.I.hm?{sK:(d=(await (await a.ea.I.hm()).xLj({description:b,Hkf:1})).results)===null||d===void 0?void 0:(c=d[0])===null||c===void 0?void 0:c.sK}:{sK:void 0}},
eQy=function(){const a=new bQy,b=new cQy(a),c=new dQy(b);return{u$a:F4(()=>{const d=a.a8c,e=a.$Sc;G4(()=>{b.subscribe();return()=>{b.unsubscribe()}},[]);return I4(iPy,{children:[H4(__c.hf,{ariaLive:"polite",ariaAtomic:!0,children:d&&H4(__c.y3i,{node:d})}),H4(__c.hf,{ariaLive:"assertive",ariaAtomic:!0,children:e&&H4(__c.y3i,{node:e})})]})}),NT:c}},mQy=function({Button:a,kqc:b,yf:c,gb:d,Aua:e,tah:f,fih:g,xIb:h,jWa:k,$8f:l,xxd:n,y$e:p,isOpen:q,cCd:r,onScroll:u,DQd:v}){const w=xD().W3a,x=new fQy({$8f:l,
cCd:r}),y=new gQy({store:x,NZh:()=>window.innerHeight,hog:__c.Eb.direction===2}),A=window.matchMedia(`(max-height: ${hQy}px)`),B=g(iQy),D=()=>h({uya:"internal_link",JC:"escape_key"}),F=()=>h({uya:"button_click",JC:"panel_header_close_clicked"});return F4(()=>{var G;const I=n();var J=jQy(),O=jQy();J=I?O:J;G4(()=>kQy(()=>q(),P=>{P?(y.VSi(A.matches),A.addEventListener("change",y.hQk),window.addEventListener("resize",y.onResize)):(A.removeEventListener("change",y.hQk),window.removeEventListener("resize",
y.onResize))}),[]);O=H4(B,{ma:b,yf:I?w?NPy:lQy:x.WWi?c:void 0,Aua:e,ariaLabel:V("CipyCw"),jWa:k,Wi:J,footer:H4(d,{}),y$e:p,aNb:(I===null||I===void 0?void 0:I.aNb)||xD().Dwb,isOpen:q(),Bia:w,onClose:()=>w?F():I?k():F(),wmf:D,onScroll:u,overlay:I,Nre:x.Nre,DQd:v.get(),O_i:f?H4(f,{Ne:J,mode:"pin",onClose:F,g5o:(G=x.Nre)===null||G===void 0?void 0:G.aCg}):void 0});return!x.p2h&&q()?H4(__c.Rh,{open:!0,level:1,children:O}):H4(__c.pf,{level:1,offset:{main:xc,cross:xc*-1},ulf:P=>y.Iel(P.reference),open:q(),
placement:x.Mre===2?"start-bottom":"top-end",reference:H4(a,{Ne:q()?J:void 0}),children:O})})},nQy=async function(a,b){var c,d;const e=(c=a.xka)===null||c===void 0?void 0:c.getSession();if(!e||!e.ZCd)return b;c=(new Date).getTime()-3E5;a=await ((d=a.xka)===null||d===void 0?void 0:d.TAc({Tce:c,limit:100}));return new __c.H4m({...b,SZ:new __c.aZi({b6a:a===null||a===void 0?void 0:a.messages.map(f=>new __c.$Yi({origin:f.source===2?1:2,content:new __c.XYi({text:f.content})}))})})},oQy=async function(a,
{interactionId:b,hnb:c,utterance:d,sHa:e,TZ:f,oMe:g,juk:h}){if(e&&e.length){var k,l=(k=await g)!==null&&k!==void 0?k:[];e.forEach(n=>{var p;a.NT.ga.Bqa(S("eCJ87g",[n]));f!==3||(p=a.DQe)!==null&&p!==void 0&&p.call(a,[new __c.v0i({source:2,content:d.text,Fh:new __c.w0i({id:b}),timestamp:Date.now()}),new __c.v0i({source:1,content:n,Fh:new __c.w0i({id:b,eventId:c}),actions:l,timestamp:Date.now()})])});h&&await a.JAa.rcj(new __c.sSn({hnb:c!==null&&c!==void 0?c:"",Jlp:e.map(n=>new __c.rSn({origin:2,textContent:new __c.XYi({text:n})}))}))}},
pQy=function(a,{fg:b,interactionId:c,eqg:d,method:e}){var f,g;a.ea.fa.track(__c.P_i,{jA:a.ea.cM.getSessionId(),fg:b,interactionId:c,eqg:d,location:a.ea.cM.getLocation(),method:e,dA:(f=(g=a.ea).VZc)===null||f===void 0?void 0:f.call(g)})},tQy=function({DB:a}){const b=new qQy,c=new rQy,d=new sQy(b,c),{Dwb:e}=xD();return{Aua:F4(()=>b.YYi&&e?H4(__c.sj,{className:"WqLFnA",icon:__c.QH,tb:V("gLcNIg"),variant:"secondary",Cc:"small",size:"xsmall",onClick:()=>{a.Rz();d.Pgb(!1)}}):null),tpp:d}},vQy=function({mimeTypes:a,
In:b,Bia:c,Jzb:d,isVisible:e}){return F4(()=>H4(uQy,{mimeTypes:a,In:b,Bia:c,isVisible:e(),Jzb:d()}))},xQy=function(a){switch(a.variant){case "C":return H4(nf,{align:"start",spacing:"1.5u",children:a.Jlc.map((b,c)=>H4(__c.Zj,{border:"standard",borderRadius:"element",display:"block",onClick:()=>a.onClick(b),padding:"1u",tone:"secondary",width:"full",children:H4(W,{alignment:"start",tone:"secondary",children:b.utterance})},c))});case "D":return I4(nf,{align:"start",spacing:"1u",children:[H4(W,{size:"small",
children:V("a4HgkQ")}),a.Jlc.map((b,c)=>H4(__c.Aj,{onClick:()=>a.onClick(b),variant:"unstyled",children:I4(Yh,{spacing:"1u",tagName:"span",Da:"center",children:[H4(Zh,{tagName:"span",width:"content",children:H4(wQy,{id:b.id,index:c})}),H4(Zh,{tagName:"span",children:H4(W,{alignment:"start",size:"small",tone:"secondary",children:b.utterance})})]})},c))]});default:return H4(__c.sk,{name:V("0MqcqA"),We:"chevron",Mh:"small",children:a.Jlc.map((b,c)=>H4(__c.Zj,{border:"standard",borderRadius:"element",
className:"_4H93sQ",display:"block",onClick:()=>a.onClick(b),padding:"1u",tone:"secondary",children:H4(W,{alignment:"start",tone:"secondary",lineClamp:3,children:b.utterance})},c))})}},wQy=function(a){switch(a.id){case "change-payment-method":case "manage-plan":a=__c.gr;break;case "recent-designs":a=__c.Ej;break;case "prevent-page-edits":a=__c.Pj;break;case "dream-lab-images":a=__c.Pt;break;case "add-music-to-video":a=__c.$jb;break;case "add-new-slide":a=__c.Cck;break;case "loop-video":case "change-video-speed":a=
yQy;break;case "design-quickly":a=__c.xk;break;case "autoplay-presentations":a=__c.ujk;break;case "presentation-notes":a=__c.VZo;break;case "ai-features-in-pro":a=__c.BB;break;case "trim-videos":a=__c.Drn;break;case "adjust-audio":a=__c.q0d;break;case "find-favorite-designs":a=__c.tt;break;case "add-page-transitions":a=__c.mgo;break;case "status-print-order":case "change-print-order":a=__c.lDn;break;case "presentation-recording":a=__c.Kel;break;default:a=__c.m0i}return H4(a,{size:"small",className:zQy("am_jRg",
"sD1lYw")})},BQy=function(a,b){a.ea.fa.track(AQy,{action:"shown",interactionId:a.interactionId,Jlc:b.map(c=>({id:c.id}))})},CQy=async function(a){try{var b,c;const d=await a.ea.I.JAa.xik({doctype:(b=(c=a.ea).gia)===null||b===void 0?void 0:b.call(c),page:a.ea.N$()});if(d.suggestions.length)return BQy(a,d.suggestions),[...d.suggestions]}catch(d){a.ea.I.errorService.ia(d,{ta:"Failed to load prompt suggestions"})}},HQy=function({fa:a,y_b:b,gia:c,JAc:d,N$:e,interactionId:f,wmg:g,query:h,I:{errorService:k,
JAa:l},variant:n}){const p=new DQy,q=new EQy({fa:a,y_b:b,gia:c,JAc:d,N$:e,interactionId:f,wmg:g,query:h,I:{errorService:k,JAa:l},store:p}),r=__c.Ha(()=>{const u=K4(()=>q.isVisible),v=K4(()=>p.G8c);return{isVisible:u,G8c:v,$ui:w=>{var x=q.ea.JAc();x=x?{caller:x,w5b:{TZ:x}}:{};q.ea.fa.track(AQy,{action:"clicked",interactionId:q.interactionId,n2k:{id:w.id}});q.ea.y_b({fg:"click",interactionId:q.interactionId,method:"suggested",query:w.utterance,...x})}}});return{uGi:new FQy({ga:q}),M9g:()=>{const {isVisible:u,
$ui:v,G8c:w}=r();return H4(GQy,{isVisible:u,$ui:v,G8c:w,variant:n})}}},IQy=function(a,b,c){return b?c===2?V("6bqjWg"):V("j0yklw"):a?V("Ev+e9w"):V("n+F4Dw")},KQy=function(a){const b=a.uL;return{Ppc:new JQy(async()=>({Xbc:await b()}))}},SQy=function({eac:a,fa:b,Cx:c,Aub:d,SUc:e,IKb:f=!0,y_b:g,N$:h,JAc:k,gia:l,ULb:n,D_c:p,Zb:q,isOpen:r,ft:u,JEd:v,vGi:w,DB:x,hNa:y,I:{errorService:A,JAa:B,uL:D}}){const F=xD().W3a,G=()=>p()==="loading"||p()==="streaming",I=K4(()=>!d.length&&!d.tfe()),J=!!w&&w!=="A",O=new LQy(()=>
G()||q()||(fa===null||fa===void 0?void 0:fa.isActive)),P=new MQy(g,k,I,void 0),R=()=>P.c0c(O,"keyboard"),T=ha=>P.$x(O,ha),U=K4(()=>O.query),{M9g:Y,uGi:aa}=J?HQy({fa:b,y_b:g,gia:l,JAc:k,N$:h,interactionId:K4(()=>O.interactionId),wmg:I,query:U,I:{errorService:A,JAa:B},variant:w}):{};b=new NQy(P,O,aa);const {ZEe:fa,Vib:da}=OQy({uL:D,hNa:y,SUc:e,eac:a,Cx:c,$x:T,K_h:()=>P.c0c(O,"voice"),isDisabled:K4(()=>{var ha;return(ha=O.gLc)===null||ha===void 0?void 0:ha.disabled}),ya:G,Zb:q,IKb:f,errorService:A}),
ia=PQy({URh:300,ULb:n,isOpen:r,ft:u,Bia:F,JEd:v,bId:R,DB:x,jEb:ha=>P.jEb(O,ha),$x:T,store:O}),X=QQy({Zb:q,store:O}),ba=vQy({mimeTypes:__c.B3i,In:ha=>P.okk(O,ha[0]),Bia:F,isVisible:()=>n()===2,Jzb:()=>O.Jzb});return{aD:F4(ha=>{var la,ka;return H4(RQy,{M9g:Y,Rda:ia,JA:X,Vib:da,k4g:ba,Bia:F,cno:(la=O.gLc)===null||la===void 0?void 0:la.disabled,isFocused:O.isFocused&&!((ka=O.gLc)===null||ka===void 0?0:ka.disabled),ya:G(),eje:O.disabled,IKb:f,uZ:n(),bId:R,mode:ha.mode})}),g7:b}},PQy=function({URh:a,ULb:b,
isOpen:c,ft:d,Bia:e,JEd:f,bId:g,DB:h,jEb:k,$x:l,store:n}){const p=__c.ze(),q=()=>{p&&h.gwe(Math.max(document.documentElement.clientHeight,window.innerHeight)-p.height,"instant")},r=()=>{p===null||p===void 0||p.removeEventListener("resize",q,!0)};return F4(()=>{const u=ng({default:()=>{k(!0);p===null||p===void 0||p.addEventListener("resize",q,{capture:!0,once:!0})},Aa:()=>k(!0)});G4(()=>r,[]);return H4(TQy,{URh:a,isOpen:c(),Bia:e,JEd:f,uZ:b(),onBlur:()=>{k(!1);r()},onFocus:u,Ib:v=>{if(!xD().Dwb||d())return h.mxf(v)},
HBa:l,bId:g,gLc:n.gLc,Hye:n.Hye,value:n.query})})},QQy=function({Zb:a,store:b}){return F4(()=>H4(UQy,{disabled:b.disabled,Zb:a()}))},$Qy=function({kqc:a,yf:b,gb:c,Aua:d,tah:e,fih:f,xIb:g,jWa:h,xxd:k,isOpen:l,Tmo:n,onScroll:p,Rz:q,DQd:r}){const u=new VQy,v=new WQy(n?["full","half"]:["full"]);n=new XQy(u,v);const w=f(YQy),{W3a:x,Dwb:y}=xD(),A=D=>D?g({uya:"internal_link",JC:"mobile_sheet_close_request"}):g({uya:"button_click",JC:"panel_header_close_clicked"}),B=D=>{v.PAf=D};return{mOa:F4(()=>{const D=
k(),F=D?ZQy:b;return H4(w,{ma:a,yf:x&&D?NPy:F,Aua:d,alignContent:D&&!D.aNb?"bottom":"top",jWa:h,W3a:x,Dwb:y,footer:H4(c,{}),height:v.height,isOpen:l(),onClose:G=>x?A(G):D?h():A(G),onScroll:p,overlay:D,GYo:B,Rz:q,DQd:r.get(),O_i:e&&H4(e,{mode:"sheet",onClose:A})})}),lQd:n}},cRy=function(a){switch(a.mode){case "sheet":return H4(aRy,{...a});case "pin":return H4(bRy,{...a});default:throw new t(a);}},aRy=function(a){const b=dRy(null),c=aPy(d=>{b.current&&(b.current.style.height=`calc(100% - ${d}px)`)},
[b]);return I4(Z,{className:zQy("ydtV6g"),height:"full",children:[H4(eRy,{pnc:c,children:H4(Z,{display:"flex",justifyContent:"end",padding:"1.5u",className:"GNFPHw",children:H4(__c.lpb,{Ne:a.Ne,ariaLabel:V("qIaKGw"),className:"_8Gz7Qg",icon:__c.Xh,onClick:a.onClose})})}),H4(Z,{ref:b,className:"_Sr3Tg",display:"flex",flexDirection:"column",children:I4(Z,{display:"flex",flex:"auto",flexDirection:"column",height:"full",children:[I4(Z,{display:"flex",flex:"auto",flexDirection:"column",justifyContent:"center",
mc:"2u",children:[H4(lj,{size:"medium",alignment:"center",children:H4(__c.Pf,{message:fRy()})}),H4(Uh,{size:"1u"}),H4(W,{size:"small",alignment:"center",tone:"tertiary",children:H4(__c.Pf,{message:gRy(a.uAl)})}),H4(Uh,{size:"1.5u"}),H4(Z,{padding:"2u",children:H4(a.aD,{mode:"compact"})})]}),a.gb&&H4(Z,{className:"XOW91w",children:H4(a.gb,{Bml:!0,FQd:!0,variant:2})})]})})]})},bRy=function(a){return I4(Z,{className:zQy("ydtV6g"),children:[H4(Z,{display:"flex",justifyContent:"end",padding:"1.5u",children:H4(__c.lpb,
{Ne:a.Ne,ariaLabel:V("qIaKGw"),className:"_8Gz7Qg",icon:__c.Xh,onClick:a.onClose})}),I4("div",{className:"nCflHA",style:a.g5o,children:[I4(Z,{display:"flex",flex:"auto",flexDirection:"column",justifyContent:"center",children:[H4(lj,{size:"medium",alignment:"center",children:H4(__c.Pf,{message:fRy()})}),H4(Uh,{size:"1u"}),H4(W,{size:"small",alignment:"center",tone:"tertiary",children:H4(__c.Pf,{message:gRy(a.uAl)})}),H4(Uh,{size:"1.5u"}),H4(Z,{padding:"2u",children:H4(a.aD,{mode:"compact"})})]}),a.gb&&
H4(Z,{flex:"none",justifyContent:"center",children:H4(a.gb,{Bml:!0,variant:2})})]})]})},gRy=function(a){switch(a){case "A":return V("6qOBkA");case "B":return V("gCZttA");case "C":return V("hFQsLA");case "D":return V("vaVyHA");default:throw new t(a);}},hRy=function({gb:a,aD:b}){const c=__c.Xa("da9b5f48","A");return d=>H4(cRy,{gb:a,aD:b,uAl:c,...d})};
__c.E3i.prototype.jXg=__c.ja(334,function(a){switch(a.status){case 1:this.ga.ZHg();break;case 2:this.Lte(a);break;case 3:__c.C1i(this);break;default:throw new t(a.status);}});
__c.D3i.prototype.myf=__c.ja(333,async function(a){if(!this.pbb)throw Error("Chat session not started");const b=await this.Nw(a.file,a.span),c=__c.v1i({Yqa:b,$bd:"USER_FILE_UPLOAD_RECEIVED",stream:this.pbb,span:a.span});this.Kca.next(new __c.q_i({DDj:b,Yqa:b}));await c;return __c.v1i({Yqa:b,$bd:"MESSAGE_ACKNOWLEDGE",timeoutMs:12E4,stream:this.pbb,span:a.span})});
__c.E3i.prototype.myf=__c.ja(332,async function(a,b){return this.da.he("send_message",b,{Hc:{name:"chat.send_message",type:"file"}},async c=>{c=await this.ga.myf({file:a,span:c});c.B0&&__c.I1i(this,c.B0)})});
var iRy=class{FFb(a,b,c){var d;this.ea.I.JAa.nbj(new __c.l_i({ckb:this.ea.jA,L5:this.ea.interactionId,hnb:(d=this.ea.hnb)!==null&&d!==void 0?d:"",rating:a,YP:b,reason:c}));this.Wxj=!0}get GIl(){return this.Wxj}get KPn(){return this.nxj}Gup(){this.nxj=1}constructor(a){this.ea=a;this.nxj=0;this.Wxj=!1}},jRy=class extends Error{constructor(){super("unknown responder")}},kRy=__webpack_require__(400770),L4=kRy.action,K4=kRy.computed,M4=kRy.observable,kQy=kRy.reaction,lRy=kRy.runInAction;var mRy=__webpack_require__(613444),iPy=mRy.Fragment,H4=mRy.jsx,I4=mRy.jsxs;var nRy=__webpack_require__(366533),aPy=nRy.useCallback,G4=nRy.useEffect,jQy=nRy.useId,ZOy=nRy.useMemo,dRy=nRy.useRef,gPy=nRy.useState;var F4=__webpack_require__(813494).observer;var oRy=__webpack_require__(22451).A;var pRy=__webpack_require__(27950).A;var qRy=__webpack_require__,rRy=qRy(208463),zQy=qRy.n_x(rRy)();var sRy=__webpack_require__(294462).A;var tRy=__webpack_require__(152060).A;var uRy=__webpack_require__(628181).Y;var vRy=__webpack_require__(450117).B7;var wRy=__webpack_require__(584657).H;var xRy=__webpack_require__(296423).x;var yRy=__webpack_require__(322546).of;var zRy=__webpack_require__(943474).O;var ARy=__webpack_require__(10360).w;var BRy=__webpack_require__(206928).Sx;var OOy=class{static G(a){Q(a,{bxb:M4.ref,rating:M4.ref,oL:M4.ref,qfa:K4})}get qfa(){return this.oL.length>100||this.bxb==="submitting"}constructor(){this.bxb=(OOy.G(this),"unsubmitted");this.oL=""}},POy=class{static G(a){Q(a,{reset:L4,Amf:L4.bound,dya:L4,bvi:L4})}reset(){this.store.rating=void 0;this.store.oL="";this.store.bxb="unsubmitted"}Amf(a){this.store.oL=a}async dya(){if(this.store.bxb!=="submitting"&&this.store.rating){this.store.bxb="submitting";try{const {id:a}=await this.P5(this.store.oL,
this.store.rating);lRy(()=>{this.store.bxb="submitted"});this.ea.hf.Ida({ebb:!1,HPa:!1,jla:__c.Ah.Ki.Ikj,vt:this.ea.mG.store.vt,feedbackId:a,F$:2,Oea:12,w1b:this.store.rating===2,location:this.ea.Gd});setTimeout(()=>{var b=this.ea.mG;b.ga.ZHg();NOy(b)},2500)}catch(a){lRy(()=>{this.store.bxb="failed"}),this.ea.errorService.ia(a,{ta:"error submitting feedback for chat"})}}}eQg(){var a=this.ea.mG;a.ga.ZHg();NOy(a)}bvi(a,b,c){__c.e0i(this.ea.hf,{w1b:a===2,location:this.ea.Gd,result:b,source:c,vt:this.ea.mG.store.vt});
this.store.rating=a}async P5(a,b){const c=await this.ea.hm();a=new __c.I_i({metadata:new __c.uD({}),form:new __c.G_i({rating:b,experience:`chat-${this.ea.mG.store.vt}`,feedback:a})});return c.P5(a)}constructor(a,b){this.store=a;this.ea=b;POy.G(this)}};var QOy=a=>a.bxb==="submitted"?H4(CRy,{}):H4(DRy,{...a}),DRy=a=>{const b=jQy();return H4(Z,{border:"low",borderRadius:"container",padding:"3u",paddingBottom:"2u",className:"XWepgw",children:I4(nf,{spacing:"2u",align:"center",children:[H4(W,{id:b,weight:"bold",alignment:"center",children:a.w3?S("KcYDQw",[a.w3]):V("57nFOw")}),H4(__c.qQj,{GQ:a.rating,v_g:{label:V("RXvzhQ"),value:2,onClick:a.Tsi},hvg:{label:V("tyNUdQ"),value:1,onClick:a.hui},Vd:b,variant:"inline"}),a.rating?H4(ERy,{...a}):H4(xf,{variant:"tertiary",
stretch:!0,onClick:a.Ofa,children:V("wEaSKA")})]})})},ERy=a=>{const b=a.rating===2?V("y9mHlg"):V("LR7JAw"),c=jQy();return H4(xs,{onSubmit:a.onSubmit,className:"OiNwuw",children:I4(nf,{spacing:"2u",align:"stretch",children:[H4(__c.Ct,{control:d=>H4(__c.rt,{...d,Vd:c,error:a.bxb==="failed",VB:2,PJ:5,onChange:a.onChange,placeholder:b}),error:a.bxb==="failed"?V("A6GKMw"):null,validator:__c.aQj,value:a.oL,label:b,children:({label:d,error:e,control:f})=>I4(nf,{spacing:"0.5u",children:[H4(__c.hf,{id:c,Bac:!0,
children:d}),f,e]})}),H4(xf,{variant:"tertiary",stretch:!0,disabled:a.qfa,loading:a.bxb==="submitting",type:"submit",children:V("xFQA8Q")})]})})},CRy=()=>H4(Z,{border:"low",borderRadius:"container",padding:"3u",paddingBottom:"2u",className:"IZnwFA",children:I4(nf,{spacing:"2u",align:"center",children:[H4(Z,{className:"rMvTNA",borderRadius:"element",padding:"1u",children:H4(__c.sQj,{size:"medium",className:"JlKNNw"})}),H4(W,{weight:"bold",children:V("48NP2g")}),H4(W,{children:V("HbfRzQ")})]})});var GRy=class extends __c.ED{constructor(a){super(H4(FRy,{pna:a}))}},FRy=({pna:a})=>{var b,c;return H4(__c.zA,{description:(b=a.file)===null||b===void 0?void 0:b.name,thumbnail:H4(__c.xA,{src:((c=a.preview)===null||c===void 0?void 0:c.src)||"",border:"low",borderRadius:"elementSmall",width:"5u",height:"5u"}),layout:"horizontal",qg:"card",wPa:"card"})};var HRy=class{constructor(a){this.ma=()=>H4(__c.SLo,{stream:a})}};var SOy=parseInt("500ms",10),IRy=({rWg:a,children:b})=>{const c=dRy(null),d=__c.gs(),e=TOy(a);return d?b:H4(oRy,{mode:"out-in",children:H4(pRy,{nodeRef:c,timeout:e.timeout,classNames:e.classNames,children:H4("div",{ref:c,children:b})},a)})};var JRy=parseInt("300ms",10),iQy=({ma:a,yf:b,Aua:c,ariaLabel:d,jWa:e,Wi:f,footer:g,y$e:h,aNb:k,SO:l=!1,isOpen:n,Bia:p,onClose:q,wmf:r,onScroll:u,overlay:v,Nre:w,DQd:x,O_i:y})=>{const A=dRy(null),B=dRy(null),[D,F]=gPy(null);G4(()=>{if(A.current&&n){const J=new __c.sTa(A.current,{V0c:!1});J.addListener("keyup",{key:"Escape"},()=>{__c.me.Kta("keyboard");r()});return()=>{J.reset()}}},[n,r]);const {Jgd:G,cCh:I}=h||{};h=aPy(J=>{u&&J.lw&&u({scrollTop:J.scroll.top})},[u]);return H4(pRy,{appear:!0,classNames:{appear:"qwjvIQ",
appearActive:"eSswSQ",appearDone:"_0X0PUQ",enter:"qwjvIQ",enterActive:"eSswSQ",enterDone:"_0X0PUQ",exit:"LdERlA",exitActive:"_3S51TA",exitDone:"YH7JMQ"},in:n,timeout:JRy,nodeRef:A,children:I4("div",{"aria-label":d,id:f,ref:A,role:"dialog",tabIndex:-1,className:zQy("PF9Flw",{gX6oNw:l}),style:w===null||w===void 0?void 0:w.A9o,children:[y&&H4(pRy,{in:x,nodeRef:B,timeout:{enter:0,exit:JRy},classNames:{exit:"LdERlA",exitActive:"_3S51TA",exitDone:"YH7JMQ"},unmountOnExit:!0,children:H4(Z,{ref:B,borderRadius:"container",
position:x?void 0:"absolute",top:"0",end:"0",width:"full",className:"NsDoSw",children:y})}),!x&&I4(Z,{border:"low",borderRadius:"container",background:"surface",className:"NsDoSw",children:[b&&H4(b,{Ne:f,mode:y?"compact":"default",title:v===null||v===void 0?void 0:v.title,Na:v?e:void 0,onClose:q}),G&&I==="top"&&H4(G,{}),I4("div",{className:zQy("XDMyoA",{V1LWBg:k}),style:w===null||w===void 0?void 0:w.aCg,children:[I4("div",{className:"_7KiQ_w",children:[H4(__c.zs,{Qj:F,iRb:"shadow",onScroll:h,tHa:!1,
children:H4(Z,{padding:"2u",paddingBottom:"0",children:H4(IRy,{rWg:v?"overlay":"none",children:v?I4(iPy,{children:[v.title&&!v.twl&&p&&I4(iPy,{children:[H4(lj,{size:"small",children:v.title}),H4(Uh,{direction:"vertical",size:"2u"})]}),H4(v.ma,{FV:D})]}):H4(a,{FV:D})})})}),c&&H4("div",{className:"x3vddA",children:H4(c,{})})]}),H4(IRy,{rWg:v?"overlay-footer":"none",children:v?H4(Z,{padding:"2u",children:v.gb&&H4(v.gb,{})}):g})]})]})]})})};var KRy=class{static G(a){Q(a,{isOpen:M4.ref,responseStatus:M4.ref,Ehg:M4.ref,overlay:M4.ref,uZ:M4.ref,wOg:M4.ref,JC:M4.ref})}constructor(){this.isOpen=(KRy.G(this),!1);this.Ehg=!1;this.uZ=1;this.wOg=!0}},LRy=class{static G(a){Q(a,{vxe:L4,i7b:L4,t9:L4,Nxe:L4,QSe:L4,loadOverlay:L4,jWa:L4})}async init(a){var b;(b=this.xka)===null||b===void 0?b=0:(b=b.getSession(),b=b.isOpen&&b.ZCd?!0:!1);(b&&!this.ea.ft()||this.ea.bsd)&&!this.ea.nec&&await this.open(a)}jq(a,b,c){__c.qa(a.hud==null||(c===null||c===void 0?
void 0:c.caller)===a.hud);return(c===null||c===void 0?0:c.hOr)&&(this.Aub.length>0||this.Aub.tfe())?()=>{}:this.Aub.jq(b,c===null||c===void 0?void 0:c.pXa)}hNa(a){this.Aub.hNa(new HRy(a))}SUc(){this.Aub.hNa(void 0)}async y_b(a,b){const c=b.caller,d=b.fg,e=b.query,f=b.pna;if((e!==null&&e!==void 0&&e.trim()||f)&&a.responseStatus!=="loading"&&a.responseStatus!=="streaming")return this.Cx.YNd("type_message","send_message",d,async g=>{const h=f?new GRy(f):new __c.ED(e);this.jq(a,h,{caller:c});var k=this.ea.messageHandlers.kBk;
if(a.uZ===1&&k){var l;if((l=k.zml)===null||l===void 0?0:l.call(k)){await k.n6(b,g,h);return}}a:switch(a.uZ){case 1:k=this.ea.messageHandlers.Ilp;break a;case 2:k=__c.m(this.ea.messageHandlers.kBk);break a;default:throw new t(a.uZ);}await k.n6(b,g,h)})}isOpen(a){return a.isOpen}JAc(a){return a.hud}wOg(a){return a.wOg}vxe(a,b,c){__c.qa(a.hud==null||(c===null||c===void 0?void 0:c.caller)===a.hud);a.hud=b}i7b(a,b,c){__c.qa(a.hud==null||(c===null||c===void 0?void 0:c.caller)===a.hud);this.g7.i7b(b)}t9(a,
b){a.responseStatus=b}Nxe(a,b){a.uZ=b}xxd(a){return a.overlay}ULb(a){return a.uZ}D_c(a){return a.responseStatus}zZh(a){return a.JC}QSe(a){a.JC=void 0}async loadOverlay(a,b){this.t9(a,"loading");try{const c=await b;lRy(()=>{a.overlay=c})}catch(c){this.ea.I.errorService.ia(c,{ta:"Failed to load overlay"})}finally{this.t9(a,"completed")}}async jWa(a,b){var c,d;(b===null||b===void 0?0:b.ZSp)&&a.overlay&&((c=(d=a.overlay).onClose)===null||c===void 0||c.call(d));a.overlay=void 0}async toggle(a,b,c){a.isOpen?
(await this.close(a,b),c&&setTimeout(()=>this.open(a,b),JRy)):await this.open(a,b)}Ndd(a,b){var c,d;this.ea.fa.track(__c.R_i,{jA:this.ea.cM.getSessionId(),isOpen:a,location:this.ea.cM.getLocation(),dA:(c=(d=this.ea).VZc)===null||c===void 0?void 0:c.call(d),source:b,version:"lite"})}constructor(a){this.ea=a;this.xka=(LRy.G(this),void 0);this.open=WOy(L4(async(b,c,d,e)=>{var f;this.Cx.VQg("open_assistant","open_assistant");b.isOpen=!0;b.JC=c===null||c===void 0?void 0:c.JC;(f=this.ea.sIj)===null||f===
void 0||f.wi({p4e:(c===null||c===void 0?void 0:c.JC)==="chat_session_start"});this.Ndd(!0,c);UOy(this,this.ea.nec&&!b.Ehg?"auto":d);VOy(this);await this.Aub.xAo();this.Aub.scrollTo(e)}));this.close=WOy(L4((b,c)=>{var d;this.Cx.VQg("close_assistant","close_assistant");b.isOpen=!1;b.Ehg=!0;(d=this.ea.sIj)===null||d===void 0||d.onClose();this.Ndd(!1,c)}));this.xka=a.controllers.xka;this.Cx=a.controllers.Cx;this.V=a.V;this.Aub=a.controllers.Aub;this.g7=a.controllers.g7;this.lQd=a.controllers.lQd}};var MRy=class{init(){var a;this.qza||(this.qza=this.F9m("help-automation-assistant"),(a=this.qza)===null||a===void 0||a.addEventListener("message",this.zZ))}postMessage(a){a.forEach(b=>{var c;(c=this.qza)===null||c===void 0||c.postMessage({type:"session_message",payload:{source:b.source,content:b.content,interaction:{id:b.Fh.id,eventId:b.Fh.eventId},actions:b.actions.map(d=>({key:d.key,actionDetails:d.Iv})),timestamp:b.timestamp,senderName:b.xLc}})})}constructor(a,b,c){this.jq=a;this.VAb=b;this.jXg=
c;this.F9m=__c.LOy;this.bua=Wa();this.zZ=d=>{var e=d.data;switch(e.type){case "session_message":var f=e.payload;f=this.VAb({source:f.source,content:f.content,Fh:{id:f.interaction.id,eventId:f.interaction.eventId},actions:f.actions.map(g=>({key:g.key,Iv:g.actionDetails})),timestamp:f.timestamp,xLc:f.senderName},!0);this.jq(f);break;case "live_chat_status_update":d=e.payload.conversationId;e=e.payload.status;(f=this.jXg)===null||f===void 0||f.call(this,{vt:d,status:e});break;default:throw new t(e);
}}}};var ZPy=class extends __c.N2i{get g2c(){return!0}get Yic(){return this.Sso}constructor(a,b){super(()=>H4(Z,{rb:"6u",children:H4(W,{size:"small",alignment:"center",tone:"secondary",Vl:!1,children:a})}));this.Sso=b}};var NRy=class{constructor(a){this.ea=a;this.VAb=(b,c)=>{const d=this.ea.cM,e=this.ea.xjb;var f=this.ea.fra,g=this.ea.I.JAa;const h=this.ea.$Cb;switch(b.source){case 2:return new __c.ED(b.content);case 1:const k=d.getSessionId();f=f("magic_answer_link",l=>{e.rHf(b.Fh.id,k,l)});g=new iRy({jA:k,hnb:b.Fh.eventId,interactionId:b.Fh.id,I:{JAa:g}});c=new __c.f1i(b.content,{hJ:f,actions:M4.box(h.Weg(b.actions,{jA:d.getSessionId(),interactionId:b.Fh.id})),tRe:c});g&&c.Rsd(g);return c;case 3:return c=f(void 0),
new __c.f1i(b.content,{xLc:b.xLc,hJ:c});case 4:return new ZPy(b.content);default:throw new t(b.source);}}}};var ORy=[{label:V("SW+BpA"),value:"unrelated"},{label:V("v62N1Q"),value:"unsafe"},{label:V("vWZlHQ"),value:"unsatisfied"}],bPy=F4(({onSubmit:a,uga:b,store:c})=>{const d=jQy(),e=c.qfa;c=c.reason;return H4(__c.Ph,{children:H4(xs,{className:"Ck0pEw",onSubmit:a,children:H4(Z,{padding:"3u",children:I4(nf,{spacing:"2u",children:[H4(Z,{paddingBottom:"1u",children:I4(nf,{spacing:"2u",children:[H4(lj,{size:"small",children:V("B73iQg")}),H4(W,{children:V("sukByg")})]})}),H4(__c.Zr,{htmlFor:d,children:V("rewMsg")}),
H4(__c.rt,{D5:!0,id:d,onChange:b,value:c}),H4(xf,{disabled:e,type:"submit",variant:"primary",children:V("fBjJNQ")})]})})})})}),dPy=F4(({onSubmit:a,lMd:b=ORy,uga:c,fNa:d,store:e})=>{const f=jQy(),g=jQy(),h=e.qfa,k=e.reason;e=e.YP;return H4(__c.Ph,{children:H4(xs,{className:"Ck0pEw",onSubmit:a,children:H4(Z,{padding:"3u",children:I4(nf,{spacing:"2u",children:[H4(Z,{paddingBottom:"1u",children:I4(nf,{spacing:"2u",children:[H4(lj,{size:"small",children:V("B73iQg")}),H4(W,{children:V("FKdlHQ")})]})}),
H4(__c.Zr,{htmlFor:g,children:V("1ymwDg")}),H4(nf,{spacing:"0.5u",children:H4(__c.wz,{id:g,xL:1,onChange:d,options:b,value:e,variant:"button"})}),H4(__c.Zr,{htmlFor:f,marker:"optional",children:V("cvr+pQ")}),H4(__c.rt,{D5:!0,id:f,onChange:c,value:k}),H4(xf,{disabled:h,type:"submit",variant:"primary",children:V("fBjJNQ")})]})})})})});var $Oy=class{static G(a){Q(a,{qfa:K4,reason:M4.ref,YP:M4.ref})}get qfa(){return this.Qdf?!this.reason:!this.YP}constructor(a){$Oy.G(this);this.Qdf=a}},YOy=class{static G(a){Q(a,{onSubmit:L4,uga:L4,fNa:L4})}onSubmit(a,b){b.FFb(a.Qdf?1:2,a.YP,a.reason);this.ha.fb({Za:V("BCtLrg")});a.reason=void 0;a.YP=void 0}uga(a,b){a.reason=b}fNa(a,b){a.YP=b}constructor(a){this.ha=a;YOy.G(this)}};var hPy=class{static G(a){Q(a,{WFa:M4.ref,rating:M4.ref})}constructor(){this.WFa=(hPy.G(this),!1)}},fPy=class{static G(a){Q(a,{Ena:L4,XLa:L4,Wlc:L4})}Ena(a){a.WFa=!1}XLa(a){a.WFa=!0}Wlc(a,b,c){a.rating=c;b.FFb(c)}constructor(){fPy.G(this)}};var J4=xc*2,lPy=xc*1.5,qPy=["chat_session_start","chat_agent_join"],rPy=class{static G(a){Q(a,{hff:M4.ref,Rpg:M4.ref,dci:M4.ref,cci:M4.ref,Mpg:M4.ref,Igf:M4.ref,rj:M4.ref,$nc:M4.ref,pXa:M4.ref})}constructor(){this.hff=(rPy.G(this),0);this.$nc=this.rj=this.Igf=this.Mpg=this.cci=this.dci=this.Rpg=0;this.pXa=!1;this.sIg=new Map;this.cards=[]}},sPy=class{static G(a){Q(a,{cfl:L4,Lel:L4,EXf:L4,Yii:L4,yGd:L4,Ogl:L4})}cfl(a){this.store.rj=a;this.EXf(this.store.pXa)}Lel(a,b,c=!1,d){this.store.cards=a;this.store.pXa=
c;const e=a[a.length-1],f=[...a].reverse().find(k=>k.card.Roa),g=[...a].reverse().find(k=>!k.card.Roa),h=[...a].reverse().find(k=>!k.card.Roa&&k.card.Yic&&qPy.includes(k.card.Yic));a=[...a].reverse().find(k=>!k.card.Roa&&k.card.Yic==="chat_feedback_submitted");this.yGd("lastCard",(e===null||e===void 0?void 0:e.card.nodeRef.current)||null);this.yGd("lastOutboundCard",(f===null||f===void 0?void 0:f.card.nodeRef.current)||null);this.yGd("lastInboundCard",(g===null||g===void 0?void 0:g.card.nodeRef.current)||
null);this.yGd("lastLiveChatStartMessage",(h===null||h===void 0?void 0:h.card.nodeRef.current)||null);this.yGd("lastLiveChatFeedbackSubmittedMessage",(a===null||a===void 0?void 0:a.card.nodeRef.current)||null);d==="loading"&&b.current?this.yGd("loadingIndicator",b.current):(kPy(this,"loadingIndicator"),this.store.Igf=0);this.EXf(c);this.Yii()}EXf(a=!1){var b=this.store.cards.length>0?this.store.cards[this.store.cards.length-1].card:null;if(b){const c=!b.Roa&&b.Yic==="chat_session_end";b=this.uZ===
2||c?"LIVE_CHAT_SESSION":b.Roa||b.Yic!=="chat_feedback_submitted"?b.Roa?"OUTBOUND":b.g2c?"FULL_WIDTH_INBOUND":"INBOUND":"LIVE_CHAT_FEEDBACK_SUBMITTED";a&&this.uZ===1?(a=mPy(this,b,!0),this.store.$nc=Math.max(0,this.store.rj-a),this.Rz()):nPy(this)?(a=mPy(this,"MULTI_INBOUND"),this.store.$nc=Math.max(0,this.store.rj-a)):b==="LIVE_CHAT_SESSION"?(a=mPy(this,b),b=pPy(this),this.store.$nc=Math.max(0,this.store.rj-(a+b))):(a=mPy(this,b),this.store.$nc=Math.max(0,this.store.rj-a))}}Yii(){this.Pgb(this.store.$nc===
0&&this.uZ===1)}yGd(a,b){kPy(this,a);if(b){var c=new sRy(d=>{for(const e of d)e.contentRect&&this.Ogl(a,e.contentRect.height)});c.observe(b);this.store.sIg.set(a,c)}}Ogl(a,b){switch(a){case "lastCard":this.store.Mpg=b;break;case "lastOutboundCard":this.store.hff=b;break;case "lastInboundCard":this.store.Rpg=b;break;case "loadingIndicator":this.store.Igf=b;break;case "lastLiveChatStartMessage":this.store.dci=b;break;case "lastLiveChatFeedbackSubmittedMessage":this.store.cci=b}this.EXf(this.store.pXa);
this.Yii()}xDh(){this.store.sIg.forEach(a=>a.disconnect())}constructor(a,b,c,d){this.store=a;this.uZ=b;this.Rz=c;this.Pgb=d;sPy.G(this)}};var PRy=F4(({cards:a,pXa:b,ft:c,bfi:d,uZ:e,responseStatus:f,FV:g,Rz:h,PAf:k,Pgb:l})=>{const {store:n,TOo:p,zMo:q,xDh:r}=ZOy(()=>tPy(e,h,l),[e,h,l]),u=__c.xe(()=>{const v=c()?k:(g===null||g===void 0?void 0:g.clientHeight)||0;p(v)});G4(()=>{if(g){var v=new sRy(u);v.observe(g);return()=>{v.disconnect()}}},[g,u]);G4(()=>{u()},[c,k,u]);G4(()=>{q(a,d,b,f)},[a,d,b,f,q]);G4(()=>{n.$nc>0&&requestAnimationFrame(()=>{h()})},[n.$nc,h]);G4(()=>()=>{r()},[r]);return a.length===0||n.$nc<=0?null:H4("div",{style:{height:n.$nc}})});var QRy=parseInt("500ms",10),xPy=F4(({g$a:a,ErrorBoundary:b,uOf:c,yf:d,cards:e,pXa:f,O7e:g,ya:h,ft:k,Bia:l,Xmo:n,uZ:p,responseStatus:q,FV:r,Rz:u,j9a:v,gXd:w,Ghj:x,Pgb:y})=>{let A,B=e;const D=dRy(null);c?(A=H4(c,{}),B=e.filter(({kjg:F})=>!F)):x&&x.type==="TRANSIENT"&&e.length===0?A=H4(x.Component,{}):x&&x.type==="INBOUND_CARD"&&(A=H4(a,{ErrorBoundary:b,card:x&&x.card,Rz:u,Bia:l,sI:r,j9a:v}));return H4("div",{className:"stL6ZA",children:I4(nf,{spacing:"2u",children:[d&&H4(d,{}),A,h&&H4(Z,{className:"M74edw",
display:"flex",alignItems:"center",justifyContent:"center",children:H4(__c.pYk,{})}),H4(tRy,{appear:!0,component:null,children:B.map(({card:F})=>H4(pRy,{classNames:{enter:"FXVfzg",enterActive:"_2lgcpQ",exit:"H110Kg"},nodeRef:F.nodeRef,timeout:{appear:QRy,enter:QRy,exit:0},children:H4(a,{ErrorBoundary:b,card:F,Bia:l,Rz:u,sI:r,j9a:v})},F.id))}),w&&H4(Z,{background:"surface",border:"low",borderRadius:"legacyLarge",padding:"2u",children:H4(w.ma,{})}),H4(RRy,{Bia:l,uZ:p,responseStatus:q,bfi:D}),n&&H4(PRy,
{cards:e,pXa:f,ft:k,uZ:p,PAf:g(),FV:r,responseStatus:q,bfi:D,Rz:u,Pgb:y})]})})}),APy=F4(({ErrorBoundary:a,AEm:b,card:c,Bia:d,Rz:e,sI:f,j9a:g})=>{var h;const k=c.Roa||((h=c.dw)===null||h===void 0?void 0:h.KPn)!==0?void 0:H4(b,{dw:c.dw,lMd:c.lMd});return H4(Z,{className:zQy("_3T4zuQ",c.Roa?"_1j41JQ":c.g2c?"oNeLwg":d?c.NBd?"_w8RDQ":void 0:"Ao6f7A",{SCjFjg:!c.Roa}),ref:c.nodeRef,children:H4(a,{children:H4(c.ma,{feedback:k,Rz:e,sI:f,j9a:g})})})}),RRy=({Bia:a,bfi:b,uZ:c,responseStatus:d})=>{if(a&&c===1&&
d==="loading")return H4("div",{className:"RdPvoQ",ref:b,children:I4(Qg,{spacing:"1u",Da:"center",children:[H4(__c.pYk,{}),H4(W,{size:"small",tone:"tertiary",children:V("LX9wdA")})]})})};var wPy=class{jq(a,b=!1){return this.ga.jq(this.store,a,{pXa:b})}bei(a){this.ga.bei(this.store,a)}tfe(){return!!this.store.header}hNa(a){this.ga.hNa(this.store,a)}$hf(a){return this.ga.$hf(this.store,a.scrollTop)}scrollTo(a){this.ga.scrollTo(a)}get length(){return this.store.cards.length}constructor(a,b){this.ga=a;this.store=b;this.xAo=__c.Ha(()=>this.ga.uzj(this.store))}};var uPy=class{static G(a){Q(a,{cards:M4.ref,header:M4.ref,ya:M4.ref,gXd:M4.ref,continuation:M4.ref,pXa:M4.ref})}constructor(){this.cards=(uPy.G(this),[]);this.pXa=this.ya=!1}},vPy=class{static G(a){Q(a,{uzj:L4,jq:L4,bei:L4,hNa:L4,$hf:L4})}async uzj(a){if(this.xka)try{a.ya=!0;this.DB.CLc(!1);const {messages:b,continuation:c}=await this.xka.TAc();b.forEach(d=>{this.jq(a,this.VAb(d),{kjg:!0})});lRy(()=>{a.continuation=c});b.length>0&&setTimeout(()=>{this.DB.Rz("instant")})}catch(b){this.errorService.ia(b)}finally{this.DB.CLc(!0),
lRy(()=>{a.ya=!1})}}jq(a,b,c){a.cards=[...a.cards,{card:b,kjg:c===null||c===void 0?void 0:c.kjg}];!b.Roa&&b.tRe&&this.wad();var d;a.pXa=(d=c===null||c===void 0?void 0:c.pXa)!==null&&d!==void 0?d:!1;return L4(()=>{a.cards=a.cards.filter(({card:{id:e}})=>e!==b.id)})}bei(a,b){a.header=b}hNa(a,b){a.gXd=b}async $hf(a,b){var c;if(!((c=a.continuation)===null||c===void 0||!c.ub||b>500||a.ya)&&this.xka){a.ya=!0;this.DB.CLc(!1);var {E6b:d}=this.DB.Aoa(),{messages:e,continuation:f}=await this.xka.TAc({continuation:a.continuation});
lRy(()=>{a.cards=[...e.map(g=>({card:this.VAb(g),kjg:!0})),...a.cards];a.continuation=f});setTimeout(()=>{const {E6b:g,Haa:h}=this.DB.Aoa();h===0&&this.DB.scrollTo(g-d+h,"instant");lRy(()=>{a.ya=!1});setTimeout(()=>{this.DB.CLc(!0)})})}}scrollTo(a="bottom"){setTimeout(()=>{switch(a){case "top":this.DB.scrollTo(0,"instant");break;default:this.DB.Rz()}},0)}dif(a,b,c){var d;a=(d=a.cards[a.cards.length-1])===null||d===void 0?void 0:d.card;d=!!a&&a.Roa;a=!!a&&!d&&a.Yic==="chat_session_end";a=this.ULb()===
2||a;this.DB.dif(c,d,b,a)}constructor(a,b,c,d,e,f){this.DB=a;this.wad=b;this.VAb=c;this.errorService=d;this.ULb=e;this.xka=f;vPy.G(this)}};var SRy=class{CLc(a){this.g$c=a}dif(a,b,c,d){a&&this.FV!==a?this.Maf(a):(b!==!1||!c||d)&&this.g$c&&this.Rz()}scrollTo(a,b){const c=this.FV;c&&(this.D6b&&cancelAnimationFrame(this.D6b),this.D6b=requestAnimationFrame(()=>setTimeout(()=>{c.scrollTo({top:a,behavior:b})},0)))}Aoa(){const a=this.FV;if(!a)return{Haa:0,E6b:0};const b=a.scrollHeight;return{Haa:Math.min(Math.max(a.scrollTop,0),b-a.clientHeight),E6b:b}}Rz(a="smooth"){const b=this.FV;b&&(this.D6b&&cancelAnimationFrame(this.D6b),this.D6b=requestAnimationFrame(()=>
setTimeout(()=>{b.scrollTo({top:b.scrollHeight,behavior:a})},0)))}gwe(a,b="smooth"){const c=this.FV;c&&Math.floor(c.scrollHeight-c.scrollTop-c.clientHeight)<=a&&this.Rz(b)}Maf(a){this.FV=a;a.scrollTop=a.scrollHeight}constructor(a){this.Pgb=a;this.g$c=!0;this.mxf=b=>{let c=b.clientHeight;const d=new sRy(e=>{e=e[0].target.clientHeight;const f=e-c;c=e;f<=0||this.gwe(f)});d.observe(b);return()=>d.disconnect()};this.Fmk=()=>{const b=this.FV;return b?b.scrollTop+b.clientHeight>=b.scrollHeight:!1};this.vAg=
()=>{this.FV&&this.Fmk()&&this.Pgb(!1)}}};var EPy=()=>H4(Z,{className:"X1HO2A",rb:{default:"3u",Aa:"6u"},mc:{default:"2u",Aa:"8u"},children:I4(nf,{spacing:"2u",align:"center",children:[H4(__c.tD,{size:"large",className:"HH0Hhg"}),H4(W,{alignment:"center",tone:"tertiary",size:"small",children:V("JBt4FA")})]})});var BPy={eventType:"contact_sales_interacted",Ra(a){return Db({touchpoint_label:a.fo,touchpoint_correlation_id:a.sp})}},TRy={eventType:"contact_sales_showed",Ra(a){return Db({touchpoint_label:a.fo,touchpoint_correlation_id:a.sp})}},AQy={eventType:"help_automation_prompt_suggestions_interacted",Ra(a){var b;return Db({interaction_id:a.interactionId,action:a.action,prompt_suggestions:(b=a.Jlc)===null||b===void 0?void 0:b.map(c=>Db({id:c.id})),prompt_suggestion_selected:a.n2k==null?void 0:Db({id:a.n2k.id}),
magic_assistant_context:a.HM==null?void 0:__c.yD(a.HM)})}};var DPy=class extends __c.N2i{constructor({fa:a,jyp:b,EA:c,ob:d,iOc:e}){const f=Wa(),g=__c.Wni({medium:"generic",bnb:"help_assistant_contact_sales",version:void 0,EA:c}),h=()=>{a&&a.track(TRy,{fo:g,sp:f})};super(()=>H4("div",{className:"X1HO2A",children:I4(nf,{spacing:"1u",children:[H4(W,{Vl:!0,children:V("wqa/yA")}),H4(W,{Vl:!0,children:V("JBt4FA")}),b&&H4(W,{Vl:!0,children:V("jLRhRw")})]})}),{gb:()=>b?H4(CPy,{fa:a,sp:f,fo:g,ob:d,iOc:e,Ib:h}):null})}};var GPy=class{static G(a){Q(a,{tOg:M4.ref,dej:M4.ref,enl:K4,Icg:K4})}get enl(){return this.Icg!==4&&this.Icg!==5}get Icg(){var a,b;return this.dej?4:((a=this.ea.mG)===null||a===void 0?0:a.store.status===3)?5:((b=this.ea.mG)===null||b===void 0?0:b.store.status===2)?3:!this.ea.GEn||this.tOg||this.ea.Bia?1:2}constructor(a){this.ea=a;this.tOg=(GPy.G(this),!1)}},HPy=class{static G(a){Q(a,{BAf:L4,wad:L4})}BAf(a,b){a.dej=b}wad(a){a.tOg=!0;this.timeout!=null&&clearTimeout(this.timeout);this.timeout=setTimeout(()=>
{lRy(()=>{a.tOg=!1});this.timeout=null},5E3)}constructor(){this.timeout=(HPy.G(this),null)}},IPy=class{wad(){this.ga.wad(this.store)}constructor(a,b){this.store=a;this.ga=b}};var JPy=({LGe:a,Jgd:b,GOo:c,fri:d,umf:e,FQd:f,variant:g,fhj:h})=>{switch(g){case 3:a=H4(URy,{children:H4(VRy,{umf:e})});break;case 4:a=H4(URy,{children:H4(WRy,{umf:c,fri:d,fhj:h})});break;case 5:a=H4(URy,{children:H4(XRy,{LGe:a})});break;case 2:a=H4(URy,{children:H4(YRy,{Jgd:b,FQd:f})});break;case 1:a=H4(URy,{children:H4(ZRy,{FQd:f})});break;default:throw new t(g);}return H4(tRy,{children:a})},URy=a=>{const b=dRy(null);return H4(pRy,{nodeRef:b,timeout:{enter:parseInt("500ms",10),exit:0},classNames:{enter:"tMxgkQ",
enterActive:"_8sji0Q"},children:H4("div",{ref:b,children:a.children})})},VRy=({umf:a})=>{const b=ng({default:!0,Aa:!1});return H4(Z,{display:"flex",justifyContent:"center",className:{dNlOiQ:!b,bMwA3w:b},children:H4(xf,{variant:"tertiary",stretch:!0,onClick:a,children:V("/QpIwQ")})})},WRy=({umf:a,fri:b,fhj:c})=>I4(nf,{spacing:"2u",align:"stretch",children:[H4(Uh,{size:"1u"}),H4(Z,{display:"flex",justifyContent:"center",borderTop:"low",padding:"2u",children:I4(nf,{spacing:"2u",align:"center",children:[I4(nf,
{spacing:"1u",align:"center",children:[H4(lj,{size:"small",alignment:"center",children:V("DBIaHQ")}),H4(W,{alignment:"center",children:V("qomQIQ")})]}),I4(Qg,{spacing:"1.5u",align:"center",children:[H4(xf,{variant:"critical",onClick:a,loading:c,children:V("u3sHOQ")}),H4(xf,{variant:"secondary",onClick:b,children:V("0ea0Tg")})]})]})})]}),XRy=({LGe:a})=>H4(Z,{padding:"2u",children:a&&H4(a,{})}),ZRy=({FQd:a})=>{const b=ng({default:!0,Aa:!1});return H4(Z,{display:"flex",justifyContent:"center",className:{dNlOiQ:!b,
bJZNCQ:b,kjmkkw:b&&!a},children:H4(W,{size:"small",tone:"tertiary",children:V("cjyGtg")})})},YRy=({Jgd:a,FQd:b})=>{const c=ng({default:!0,Aa:!1});return H4(Z,{display:"flex",justifyContent:"center",className:{dNlOiQ:!c,bJZNCQ:c,kjmkkw:c&&!b},children:a&&H4(a,{})})};var PPy=a=>H4(Th,{title:V("mSz3Tw"),Ty:a.Ty,description:LPy(a.mode),end:H4(__c.lpb,{className:"lc596Q",ariaLabel:V("qIaKGw"),icon:__c.Xh,onClick:a.onClose,Ne:a.Ne})}),lQy=a=>H4(Z,{padding:"2u",children:H4(xf,{variant:"subtleLinkButton",icon:__c.rk,Cc:"small",alignment:"start",stretch:!0,onClick:a.onClose,Ne:a.Ne,children:H4(W,{tone:"secondary",children:V("Rk0+tQ")})})}),OPy=a=>H4(Th,{title:V("mSz3Tw"),Ty:a.Ty,description:LPy(a.mode),end:H4(__c.Sh,{className:"lc596Q",Ne:a.Ne,onClick:a.onClose})}),
ZQy=a=>H4(Th,{title:a.title,Ty:a.Ty,end:H4(__c.vCd,{Ne:a.Ne,onClick:a.onClose,children:V("Rk0+tQ")})}),NPy=a=>H4(Th,{QB:!1,start:a.Na?H4(__c.wk,{onClick:a.Na}):void 0,end:H4(__c.Sh,{onClick:a.onClose})}),MPy=a=>{var b=a.Bia?H4(lj,{tone:"primary",size:"xxsmall",children:V("pFsXyQ")}):V("pFsXyQ"),c=a.Ty;var d=a.Bia;var e=a.name;d=e!=null?d?H4(W,{tone:"tertiary",size:"xsmall",children:S("1R8LBQ",[__c.Nf(e)])}):S("1R8LBQ",[__c.Nf(e)]):void 0;e=a.Bia;var f=a.name;e=f?H4(__c.Wg,{ih:e?f:void 0,backgroundColor:e?
"#8b3dff":void 0,name:f,size:e?"small":"medium"}):e?H4(__c.tD,{size:"large"}):void 0;return H4(Th,{title:b,Ty:c,description:d,start:e,end:H4(__c.lpb,{className:"lc596Q",ariaLabel:V("qIaKGw"),icon:__c.Xh,onClick:a.onClose,Ne:a.Ne})})};var $Ry=/\.(png|jpe?g|gif|webp|svg|avif|heic|heif|tiff?)$/i,aSy=a=>{try{const b=new URL(a);return!["https:","http:","data:"].includes(b.protocol)||b.protocol==="data:"&&!a.split(",")[0].includes("data:image/")?!1:!0}catch(b){return!1}},$Py=class extends __c.N2i{constructor({dj:a,text:b},c){super(()=>H4(bSy,{dj:a,text:b,hJ:c===null||c===void 0?void 0:c.hJ}),c)}},bSy=({dj:a,text:b,hJ:c})=>{const d=e=>{e=uRy(e);return H4(__c.y3i,{hJ:c,node:e})};return aSy(a)?$Ry.test(a)?H4(__c.lf,{sources:[{src:a,Pf:1}],
alt:b,className:"Q_AFow"}):d(`[${b}](${a})`):d(b)};var XPy=class extends __c.N2i{constructor({Ka:a}){const b=({Oi:e})=>{var f=__c.Of("contact-support");e=e("contact-support");return S("lKg7yQ",[f,e])},c=__c.Ch({MQ:"none-of-the-above",eVb:"none-of-the-above"});a=a.p8({ly:c});const d=new Map([["contact-support",a]]);super(()=>I4(nf,{spacing:"1u",children:[H4(W,{children:V("lrhgnQ")}),H4(W,{children:H4(__c.Nt,{pg:b,Hg:d})})]}))}};var cSy=class{async n6(a,b,c){const {query:d,pna:e,interactionId:f=Wa()}=a;try{c.nAf({type:"PENDING"});if(this.zml()){var g,h;(g=(h=this.ea).QSe)===null||g===void 0||g.call(h);this.ea.controllers.NT.ga.Bqa(S("KuKD6Q",[d]));await YPy(this,d);this.ea.controllers.CQe.postMessage([new __c.v0i({source:2,content:d,Fh:new __c.w0i({id:f}),timestamp:Date.now()})])}else e?(this.ea.controllers.NT.ga.Bqa(S("Te7f8w",[e.file.name])),await this.ea.controllers.mG.myf(e.file,b)):(this.ea.controllers.NT.ga.Bqa(S("KuKD6Q",
[d])),await this.ea.controllers.mG.VKg(d,f,b),this.ea.controllers.CQe.postMessage([new __c.v0i({source:2,content:d,Fh:new __c.w0i({id:f}),timestamp:Date.now()})]));b.setStatus("ok");c.nAf({type:"SUCCESS"})}catch(k){g=this.oW(k,!!a.pna),h=this.euc(k),this.ea.controllers.NT.ga.Bqa(S("se39yA",[g])),h?(this.ea.I.errorService.ia(k),b.setStatus("error")):b.setStatus("ok"),c.nAf({type:"ERROR",message:g,ii:h?()=>{c.nAf({type:"PENDING"});this.n6({...a,interactionId:f},b,c)}:void 0})}}oW(a,b){return this.ea.Zb()?
V("eAjxdQ"):a instanceof __c.W2i?S("xdsX5A",[50]):a instanceof __c.V2i||b?V("nuKdiA"):V("D+bMXw")}euc(a){return!(a instanceof __c.W2i)}zml(){const a=this.ea.zZh();return this.ea.ULb()===2?!1:a==="tiered_support_page"}constructor(a){this.ea=a;this.pSe=[]}};var dQy=class{reset(){this.ga.reset()}constructor(a){this.ga=a}};var dSy=class{qSc(a){this.messages.next(a)}complete(){this.messages.complete()}constructor(){this.messages=new vRy;this.p4c=this.messages.pipe(wRy(a=>xRy(yRy(a),zRy(2E3).pipe(ARy()))))}};var bQy=class{static G(a){Q(a,{$Za:M4.ref,tjb:M4.ref,a8c:K4,$Sc:K4})}get a8c(){return this.$Za?uRy(this.$Za):void 0}get $Sc(){return this.tjb?uRy(this.tjb):void 0}constructor(){this.$Za=(bQy.G(this),void 0)}},cQy=class{static G(a){Q(a,{reset:L4,fed:L4,Zdd:L4})}subscribe(){this.vrf=this.Dpb.p4c.subscribe(a=>this.fed(a));this.HOe=this.gVb.p4c.subscribe(a=>this.Zdd(a))}unsubscribe(){var a,b;(a=this.vrf)===null||a===void 0||a.unsubscribe();(b=this.HOe)===null||b===void 0||b.unsubscribe()}dispose(){this.Dpb.complete();
this.gVb.complete()}Bqa(a){this.Dpb.qSc(a)}DSf(a){this.gVb.qSc(a)}reset(){this.store.$Za=void 0;this.store.tjb=void 0;this.unsubscribe();this.subscribe()}fed(a){this.store.$Za=a}Zdd(a){this.store.tjb=a}constructor(a){this.store=a;this.Dpb=(cQy.G(this),void 0);this.Dpb=new dSy;this.gVb=new dSy}};var eSy=parseInt("592px",10)||xc*74,fQy=class{static G(a){Q(a,{Nre:M4.shallow,Qwk:M4.ref,NHj:M4.ref,Mre:K4,eBj:K4,WWi:K4,p2h:K4})}get Mre(){return this.Qwk?2:this.ea.$8f()&&this.ea.cCd?3:1}get eBj(){return this.Mre===2}get WWi(){return this.Mre===2?!1:this.ea.$8f()}get p2h(){return[1,2].includes(this.Mre)}constructor(a){this.ea=a;this.Nre=(fQy.G(this),void 0)}},gQy=class{static G(a){Q(a,{Iel:L4.bound,VSi:L4,PVb:L4})}Iel(a){this.ea.store.NHj=a;this.PVb()}VSi(a){this.ea.store.Qwk=a;this.PVb()}PVb(){var a=
this.ea.store,b=this.ea.store.NHj;const c=this.ea.store.Mre;var d=this.ea.store.eBj;const e=this.ea.store.WWi;var f=__c.V2a();let g=f.top+xc*4;d||(g+=xc*7);e&&(g+=xc*7);var h;d=(h=b===null||b===void 0?void 0:b.top)!==null&&h!==void 0?h:0;var k;b=(k=b===null||b===void 0?void 0:b.height)!==null&&k!==void 0?k:0;k=d+b;switch(c){case 1:g+=this.ea.NZh()-d;break;case 2:g+=this.ea.NZh()-k;break;case 3:var l=f.bottom+xc*2;g+=l;l={position:"fixed",[this.ea.hog?"left":"right"]:xc*3+(this.ea.hog?f.left:f.right),
bottom:l};break;default:throw new t(c);}f=this.ea.NZh()-g;a.Nre={A9o:l,aCg:{minHeight:Math.min(eSy,f),maxHeight:f}}}constructor(a){this.ea=a;this.hQk=(gQy.G(this),({matches:b})=>{this.VSi(b)});this.onResize=()=>{this.ea.store.p2h||this.PVb()}}};var hQy=parseInt("600px",10);var fSy=__c.H(()=>({text:__c.L(1)}));var gSy=class{async run({query:a,interactionId:b,span:c,w5b:d,t9:e}){var f;const g=new fSy({text:a}),h=!__c.Xa("8eb9081b",!1);var k=h?await this.JAa.AUh(new __c.pSn({utterance:g,ckb:this.cM.getSessionId(),L5:b,TZ:(d===null||d===void 0?0:d.TZ)?d===null||d===void 0?void 0:d.TZ:void 0}),{xa:c}):void 0,l,n,p,q;const r={Myn:void 0,SZ:(l=k===null||k===void 0?void 0:k.qDb.SZ)!==null&&l!==void 0?l:new __c.aZi({}),P7a:(n=k===null||k===void 0?void 0:k.qDb.P7a)!==null&&n!==void 0?n:a,TZ:Number((q=(p=k===null||
k===void 0?void 0:k.qDb.TZ)!==null&&p!==void 0?p:d===null||d===void 0?void 0:d.TZ)!==null&&q!==void 0?q:3),text:k===null||k===void 0?void 0:k.qDb.text},u=k===null||k===void 0?void 0:k.hnb;a=await this.Xvf.get(r.TZ);c.setAttributes(new Map([["responder_type",__c.F4m.serialize(r.TZ)],["has_responder",String(!!a)]]));if(!a)throw new jRy;k=new iRy({jA:this.cM.getSessionId(),hnb:u,interactionId:b,I:{JAa:this.JAa}});const {sHa:v,$P:w,gla:x,oMe:y,Q1a:A}=await a.execute({$4d:h?await nQy(this,r):r,dw:k,interactionId:b,
sessionId:this.cM.getSessionId(),xa:c,jq:this.jq,w5b:d,g7:this.g7,t9:e});A===8?await this.run({query:"refund",interactionId:b,span:c,w5b:{TZ:6},t9:e}):(f=this.xka)===null||f===void 0||MOy(f,b);oQy(this,{interactionId:b,hnb:u,utterance:g,sHa:v,TZ:r.TZ,oMe:y,juk:h});return{handleError:B=>{oQy(this,{interactionId:b,hnb:u,utterance:g,sHa:[B],TZ:r.TZ,juk:h})},$P:w,gla:x}}constructor(a,b,c,d,e,f,g,h){this.JAa=a;this.jq=b;this.xka=c;this.cM=d;this.NT=e;this.Xvf=f;this.g7=g;this.DQe=h;this.type="V1"}};var hSy=class{async n6(a,b){const {fg:c,interactionId:d=Wa(),eqg:e,method:f,query:g,w5b:h}=a;this.ea.t9("loading");pQy(this,{fg:c,interactionId:d,eqg:e,method:f});this.ea.controllers.g7.OPd(void 0);let k,l,n;a=performance.now();try{this.ea.controllers.NT.ga.Bqa(S("KuKD6Q",[g])),{handleError:k,$P:l,gla:n}=await this.KKc.run({query:g,interactionId:d,span:b,w5b:h,t9:this.ea.t9}),b.setStatus("ok"),this.Oyk=void 0,this.G0a(d,n,"success",{requestStart:a,$P:l})}catch(p){const q=this.oW(g,p);this.ea.controllers.NT.ga.Bqa(S("eCJ87g",
[q]));const r=p instanceof __c.XUn?p.QLn:new __c.f1i(q);this.ea.jq(r);this.Oyk=g;this.ea.I.errorService.ia(p);b.setStatus("error");this.G0a(d,n,p instanceof jRy?"unknown_intent":"error",{requestStart:a,$P:p instanceof __c.J3i?p.$P:l});k===null||k===void 0||k(q,b)}finally{this.ea.t9("completed")}}oW(a,b){return b instanceof __c.XUn?b.errorMessage:this.ea.Zb()?V("wsba6g"):b instanceof jRy?V("YinYoA"):a===this.Oyk?V("VaKwBw"):V("6RAAdA")}G0a(a,b,c,d){var e,f,g=this.ea.fa,h=g.track,k=this.ea.cM.getSessionId(),
l;var n=Math.round(((l=d.$P)!==null&&l!==void 0?l:performance.now())-d.requestStart);h.call(g,__c.Q_i,{jA:k,xRh:n,interactionId:a,dA:(e=(f=this.ea).VZc)===null||e===void 0?void 0:e.call(f),result:c,Sv:b})}constructor(a){this.ea=a;this.KKc=new gSy(a.I.JAa,a.jq,a.controllers.xka,a.cM,a.controllers.NT,a.controllers.yjb,a.controllers.g7,a.DQe)}};var qQy=class{static G(a){Q(a,{YYi:M4.ref})}constructor(){this.YYi=(qQy.G(this),!1)}},rQy=class{static G(a){Q(a,{Pgb:L4})}Pgb(a,b){a.YYi=b}constructor(){rQy.G(this)}},sQy=class{Pgb(a){this.ga.Pgb(this.store,a)}constructor(a,b){this.store=a;this.ga=b}};var iSy='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.786 12.362a4.5 4.5 0 0 0 6.364 6.364l7.602-7.601a.75.75 0 0 1 1.06 1.06l-7.601 7.602a6 6 0 1 1-8.485-8.485L12.327 3.7a4.25 4.25 0 1 1 6.01 6.01l-7.601 7.602A2.5 2.5 0 1 1 7.2 13.777l7.602-7.602a.75.75 0 0 1 1.06 1.06l-7.6 7.602a1 1 0 1 0 1.413 1.415l7.602-7.602a2.75 2.75 0 0 0-3.89-3.889l-7.6 7.601Z" fill="currentColor"/></svg>';var jSy=__c.Vi({medium:iSy});var uQy=({mimeTypes:a,In:b,Bia:c,isVisible:d,Jzb:e})=>d?H4(__c.Nj,{mimeTypes:a,In:f=>b(f),multiple:!1,children:({onClick:f})=>H4(xf,{variant:"tertiary",icon:c?__c.xk:jSy,size:"small",onClick:f,disabled:e})}):null;var kSy='<svg fill="none" viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m8.248 4.212 11.05 6.574c.694.412.91 1.29.483 1.961-.121.19-.286.35-.483.467l-11.05 6.574c-.694.413-1.602.204-2.03-.467A1.39 1.39 0 0 1 6 18.574V5.426C6 4.638 6.66 4 7.475 4c.273 0 .54.073.773.212z" stroke="currentColor" stroke-width="1.5"/></svg>';var yQy=__c.Vi({medium:kSy});var GQy=F4(a=>{var b;const c=a.isVisible.get(),d=a.G8c.get(),e=__c.Me(__c.Zgb,__c.ahb,__c.bhb);return c&&!e&&(d===null||d===void 0?void 0:d.state)==="fulfilled"&&(b=d.value)!==null&&b!==void 0&&b.length?H4(xQy,{onClick:a.$ui,Jlc:d.value,variant:a.variant}):null});var FQy=class{OPd(a){this.ea.ga.OPd(a)}constructor(a){this.ea=a}};var DQy=class{static G(a){Q(a,{G8c:M4.ref})}constructor(){this.G8c=(DQy.G(this),void 0)}},EQy=class{static G(a){Q(a,{OPd:L4,Iuo:L4})}OPd(a){this.ea.store.G8c=(a===null||a===void 0?0:a.length)?BRy.resolve(a):void 0;(a===null||a===void 0?0:a.length)&&BQy(this,a)}Iuo(){this.ea.store.G8c=BRy(CQy(this))}get interactionId(){var a;return(a=this.ea.interactionId.get())!==null&&a!==void 0?a:Wa()}get isVisible(){return!this.ea.query.get()}constructor(a){this.ea=a;EQy.G(this)}};var RQy=({M9g:a,Rda:b,JA:c,Vib:d,k4g:e,Bia:f,cno:g,isFocused:h,ya:k,eje:l,IKb:n,uZ:p,bId:q,mode:r})=>r==="compact"?H4(Z,{width:"full",background:"page",border:"low",borderRadius:"container",className:"tT0YCw",children:H4(xs,{action:"search",onSubmit:q,children:I4(Yh,{align:"spaceBetween",Da:"center",spacing:"2u",children:[H4(Zh,{width:"fluid",children:H4(b,{})}),H4(Zh,{width:"content",children:H4(Z,{mc:"1u",us:"1u",children:I4(Qg,{spacing:"1u",Da:"center",children:[d&&H4(d,{}),H4(c,{})]})})})]})})}):
I4(nf,{spacing:"1.5u",align:"stretch",children:[p===1&&I4(iPy,{children:[!f&&k&&H4("div",{className:"yP9ZdQ",children:I4(Qg,{spacing:"1u",Da:"center",children:[H4(__c.pYk,{}),H4(W,{size:"small",tone:"tertiary",children:V("5oOpXQ")})]})}),!k&&a&&H4(a,{})]}),H4(Z,{width:"full",background:f&&g?"neutralSubtle":"page",border:"low",borderRadius:"container",className:zQy("tT0YCw",{kRBZ5w:f&&h}),children:H4(xs,{action:"search",onSubmit:q,children:H4(lSy,{k4g:e,Rda:b,Vib:d,JA:c,Bia:f,eje:l,IKb:n,uZ:p})})})]}),
mSy=({IKb:a,eje:b,Vib:c,JA:d})=>a?b?c&&H4(c,{}):H4(d,{}):H4(d,{}),lSy=({k4g:a,Rda:b,Vib:c,JA:d,Bia:e,eje:f,IKb:g,uZ:h})=>e?h===2?I4(iPy,{children:[H4(b,{}),H4(Z,{rb:"1u",paddingBottom:"1u",children:I4(Yh,{align:"spaceBetween",Da:"center",spacing:"2u",children:[H4(Zh,{width:"content",children:a&&H4(a,{})}),H4(Zh,{width:"content",children:H4(mSy,{IKb:g,eje:f,Vib:c,JA:d})})]})})]}):H4(Z,{padding:"0.5u",children:I4(Yh,{align:"spaceBetween",Da:"end",spacing:"0",children:[H4(Zh,{width:"fluid",children:H4(b,
{})}),H4(Zh,{width:"content",children:H4(Z,{mc:"0.25u",children:H4(mSy,{IKb:g,eje:f,Vib:c,JA:d})})})]})}):I4(iPy,{children:[H4(b,{}),H4(Z,{rb:"1u",paddingBottom:"1u",children:I4(Yh,{align:"spaceBetween",Da:"center",spacing:"2u",children:[H4(Zh,{width:"content",children:a&&H4(a,{})}),H4(Zh,{width:"content",children:I4(Qg,{spacing:"1u",Da:"center",children:[c&&H4(c,{}),H4(d,{})]})})]})})]}),TQy=({URh:a=0,isOpen:b,Bia:c,JEd:d,uZ:e,onBlur:f,onFocus:g,Ib:h,HBa:k,bId:l,gLc:n,Hye:p,value:q})=>{const r=dRy(null),
u=aPy(y=>{y.key!=="Enter"||y.shiftKey||(y.preventDefault(),l())},[l]);G4(()=>{const y=n===null||n===void 0?void 0:n.Exp;if(b&&!y){var A=setTimeout(()=>{var B;return(B=r.current)===null||B===void 0?void 0:B.focus()},a);return()=>clearTimeout(A)}},[a,b,n]);G4(()=>{var y;n!==null&&n!==void 0&&n.Exp||n!==null&&n!==void 0&&n.disabled||(y=r.current)===null||y===void 0||y.focus()},[n]);G4(()=>{if(r.current)return h===null||h===void 0?void 0:h(r.current)},[h]);var v,w,x;return I4(iPy,{children:[H4(__c.mj,
{label:(v=n===null||n===void 0?void 0:n.C5f)!==null&&v!==void 0?v:"",disabled:!(n===null||n===void 0?0:n.disabled),children:H4(__c.rt,{D5:!0,ariaLabel:(w=n===null||n===void 0?void 0:n.placeholder)!==null&&w!==void 0?w:V("zz46JA"),DF:!0,KVb:0,className:"_8hyL4w",disabled:n===null||n===void 0?void 0:n.disabled,maxLength:d,PJ:5,VB:1,onBlur:f,onChange:k,onFocus:g,onKeyDown:u,placeholder:(x=n===null||n===void 0?void 0:n.placeholder)!==null&&x!==void 0?x:IQy(p,c,e),ref:r,value:q})}),(n===null||n===void 0?
void 0:n.C6b)&&H4(__c.hf,{children:n.C6b})]})},UQy=({disabled:a,Zb:b})=>H4(__c.sj,{className:"j_FNLg",disabled:a,icon:b?__c.qx:__c.cF,size:"small",tb:b?V("l8zK2Q"):V("pi1djA"),Mk:"bottom",type:"submit",variant:"primary"});var NQy=class{i7b(a){return this.ga.i7b(this.store,a)}OPd(a){var b;if(a===null||a===void 0?0:a.length){var c=this.store,d=Wa();c.interactionId=d}else this.store.interactionId=void 0;(b=this.uGi)===null||b===void 0||b.OPd(a)}constructor(a,b,c){this.ga=a;this.store=b;this.uGi=c}};var LQy=class{static G(a){Q(a,{query:M4.ref,Hye:M4.ref,gLc:M4.ref,Jzb:M4.ref,isFocused:M4.ref,disabled:K4})}get disabled(){var a;return!this.query||this.isDisabled()||((a=this.gLc)===null||a===void 0?void 0:a.disabled)}constructor(a){this.isDisabled=a;this.query=(LQy.G(this),"");this.Hye=!1;this.gLc=void 0;this.isFocused=this.Jzb=!1}},MQy=class{static G(a){Q(a,{okk:L4,c0c:L4,$x:L4,i7b:L4,jEb:L4})}async okk(a,b){a.Jzb=!0;try{const c=__c.Jf(b),d=await __c.yTk.OJa(c.type).handle(c.content);await this.y_b({fg:"attach_file",
interactionId:this.Xeg(),method:"explicit",query:"",pna:{file:b,preview:d.img}})}finally{lRy(()=>{a.Jzb=!1})}}c0c(a,b){if(!a.disabled){var c=this.JAc();this.y_b({fg:b,interactionId:a.interactionId,method:"explicit",query:a.query,...(c?{caller:c,w5b:{TZ:c}}:{})});this.$x(a,"");a.Hye||(a.Hye=!0)}}$x(a,b){a.query=b}i7b(a,b){a.gLc=b}jEb(a,b){a.isFocused=b}Xeg(){if(this.wmg.get()&&this.o2k)return this.o2k}constructor(a,b,c,d){this.y_b=a;this.JAc=b;this.wmg=c;this.o2k=d;MQy.G(this)}};var nSy=class extends vRy{};var oSy=class{sNa(a){this.sMd=[];this.rta=new MediaRecorder(a,{mimeType:this.mimeType});this.rta.addEventListener("dataavailable",this.rlf);this.rta.addEventListener("stop",this.qnf);this.rta.start(1E3)}Yta(){var a;(a=this.rta)===null||a===void 0||a.stop()}gIi(){var a,b;(a=this.rta)===null||a===void 0||a.removeEventListener("dataavailable",this.rlf);(b=this.rta)===null||b===void 0||b.removeEventListener("stop",this.qnf);this.rta=void 0}constructor(a,b,c){this.mimeType=a;this.Vha=b;this.Zb=c;this.type=
1;this.sMd=[];this.rlf=d=>{this.sMd.push(d.data)};this.qnf=()=>{this.Zb()||this.Vha.next({type:"recorder",Qte:this.sMd,mimeType:this.mimeType});this.gIi()}}};var pSy=["audio/webm","audio/mp3","audio/wav","audio/mpeg","audio/mp4"],rSy=({Vha:a,Zb:b})=>{var c;if((c=window.MediaRecorder)!==null&&c!==void 0&&c.isTypeSupported&&(c=qSy()))return new oSy(c,a,b)},qSy=()=>{const a=window.MediaRecorder;return pSy.find(b=>a.isTypeSupported(b))};var JQy=class{async mpc(a,b,c){const {Xbc:d}=await this.Wgj;return d.mpc(new __c.Hek({audio:a,jW:b}),{xa:c})}get Wgj(){return this.ceh||(this.ceh=this.Qei())}constructor(a){this.Qei=a}};var sSy=class{sNa(){this.$ge=setTimeout(()=>this.Yta(),5E3);this.transcript="";this.dma.addEventListener("result",this.Anf);this.dma.addEventListener("error",this.onError);this.dma.addEventListener("end",this.aP);this.dma.start()}Yta(){this.dma.stop()}Gtf(){this.$ge&&clearTimeout(this.$ge);this.$ge=void 0;this.dma.removeEventListener("result",this.Anf);this.dma.removeEventListener("error",this.onError);this.dma.removeEventListener("end",this.aP)}constructor(a,b,c){this.dma=a;this.Vha=b;this.Zb=c;
this.type=0;this.transcript="";this.Anf=d=>{this.$ge&&clearTimeout(this.$ge);this.$ge=setTimeout(()=>this.Yta(),2E3);let e="";for(let f=d.resultIndex;f<d.results.length;++f)e+=d.results[f][0].transcript;e.length>0&&(this.transcript=e);this.Vha.next({type:"recognition",transcript:this.transcript,isFinal:!1})};this.onError=d=>{d.error==="no-speech"||d.error==="aborted"?this.Vha.next({type:"recognition",transcript:this.transcript,isFinal:!0}):this.Vha.next({type:"recognition-error"});this.Gtf()};this.aP=
()=>{this.Zb()||this.Vha.next({type:"recognition",transcript:this.transcript,isFinal:!0});this.Gtf()};this.dma.continuous=!0;this.dma.interimResults=!0;this.dma.lang="en-AU";this.dma.maxAlternatives=1}};var tSy=({Vha:a,Zb:b})=>{var c=window.SpeechRecognition||window.webkitSpeechRecognition;if(c)return c=new c,new sSy(c,a,b)};var uSy=()=>H4("div",{className:"NRL7JA",children:H4(__c.CDn,{size:"small"})}),vSy=({zAg:a,uDc:b,disabled:c,tb:d,Mk:e})=>H4(__c.sj,{tb:d,Mk:e,variant:"tertiary",onClick:a,icon:b?uSy:__c.zDn,size:"small",active:b,disabled:c});var wSy=class{static G(a){Q(a,{status:M4.ref,Thc:M4.ref,isActive:K4,ya:K4,isDisabled:K4,tb:K4})}get isActive(){return this.status!=="none"&&this.status!=="not-available"}get ya(){return this.status==="initializing"||this.status==="transcribing"}get isDisabled(){const a=this.ya,b=this.status;var c;const d=(c=this.mdf.get())!==null&&c!==void 0?c:!1;return a||b==="not-available"||d}get tb(){return this.status==="not-available"?V("zRdb5g"):this.status==="listening"?V("SvKIWQ"):V("UJyNmg")}constructor(a){this.mdf=
a;this.status=(wSy.G(this),"none")}},ySy=class{static G(a){Q(a,{setStatus:L4,sNa:L4})}get iG(){return __c.m(this.kka)}setStatus(a,b){a.status=b}async nOc(a){a.status==="listening"?this.Yta(a):(await this.oRi(a),await this.sNa(a))}async dAg(a){this.iG&&this.iG.addEvent("streaming_service_disabled");this.rVa=void 0;if(this.nOa)this.iG&&this.iG.addEvent("recording_service_continuation");else{var b=this.Cx.da.startSpan("reinstantiate_recording_service",this.iG);if(this.fDb){this.nOa=this.fDb;if(this.stream){b.addEvent("attached_existing_stream");
return}if(this.stream=await this.h8e(a)){this.hNa(this.stream);this.nOa.sNa(this.stream);b.end();return}}this.mwi(a);b.end("error")}}WDf(){var a,b;((a=this.query)===null||a===void 0?void 0:a.length)===0&&this.transcript!=null?this.aIc(""):this.aIc((b=this.transcript)!==null&&b!==void 0?b:this.query)}async zxi(a,b,c){this.setStatus(a,"transcribing");this.transcript=await this.yZh(b,c);this.setStatus(a,"none");this.rVa?this.query!==void 0&&this.WDf():(this.iG&&this.iG.addEvent("submit_with_streaming_disabled"),
this.aIc(this.transcript))}Pwi(a){var b;this.iG&&this.iG.addEvent("speech_recognition_end",new Map([["had_stream",!!this.stream]]));(b=this.nOa)===null||b===void 0||b.Yta();this.dof(a)}Nwi(a,b){this.query=b;this.Pwi(a);this.nOa?this.transcript!=null&&this.WDf():(this.iG&&this.iG.addEvent("submit_without_recording_service"),this.aIc(this.query))}Owi(a,b){this.iG&&this.iG.addEvent("speech_recognised");a.status!=="transcribing"&&(b.length!==0?this.setStatus(a,"listening"):this.setStatus(a,"initializing"));
this.$x(b)}aIc(a){a===void 0?(this.iG&&this.iG.end("error"),this.Cx.KKb("error")):a.length!==0?(this.$x(a),this.iG&&this.iG.end(),this.K_h()):(this.eac(V("nQkQUQ")),this.iG&&this.iG.addEvent("no_sound_detected"),this.iG&&this.iG.end(),this.Cx.KKb())}iNi(a,b){switch(b.type){case "recognition":b.isFinal?this.Nwi(a,b.transcript):this.Owi(a,b.transcript);break;case "recorder":this.zxi(a,b.Qte,b.mimeType);break;case "recognition-error":this.dAg(a);break;default:throw new t(b);}}init(a){this.Vha.subscribe({next:b=>
this.iNi(a,b)})}async sNa(a){const b=this.Cx.Hc("speak_message","send_message","voice");this.kka=this.Cx.da.startSpan("listening",b);this.setStatus(a,"initializing");if(this.stream=await this.h8e(a))this.query=void 0,this.transcript=null,this.$x(""),this.rVa&&this.isAndroid&&(this.rVa=void 0),this.rVa&&this.Cx.da.f7("start_streaming_service",this.iG,()=>{this.rVa.sNa()}),this.stream&&(this.nOa&&this.Cx.da.f7("start_recording_service",this.iG,()=>{this.nOa.sNa(this.stream)}),this.hNa(this.stream)),
this.setStatus(a,"listening");else{var c;this.setStatus(a,"none");this.eac(V("FLrEXA"));(c=this.Cx.iG)===null||c===void 0||c.addEvent("missing_permissions");this.Cx.KKb()}}Yta(a){this.Cx.da.f7("stop_listening",this.iG,()=>{this.rVa&&this.rVa.Yta();this.nOa&&this.nOa.Yta();this.dof(a)});this.iG&&this.iG.end()}dof(a){this.ADf();a.status!=="transcribing"&&this.setStatus(a,"none")}mwi(a){this.eac(V("9suqrQ"));this.setStatus(a,"not-available");this.ADf();this.iG&&this.iG.end("error");this.Cx.KKb("error")}ADf(){this.SUc();
this.stream&&__c.Xtg(this.stream);this.stream=void 0}async yZh(a,b){const [c]=a;if(c!=null&&this.Ppc&&(a=await __c.bpn(new Blob(a,{type:b}))))try{var d;const e=xSy(b);return(await ((d=this.Ppc)===null||d===void 0?void 0:d.mpc([a],e,this.iG))).text}catch(e){this.rVa||(e instanceof __c.ob?this.eac(V("9suqrQ")):this.eac(V("nQkQUQ"))),this.errorService.ia(e,"Failed to fetch interpreted query")}}async T8h(){try{return(await this.mediaDevices.enumerateDevices()).find(c=>c.kind==="audioinput")!=null}catch(c){var a,
b;this.errorService.Tl(c,{extra:new Map([["mediaDevices",!!navigator.mediaDevices],["enumerateDevices",!((a=navigator.mediaDevices)===null||a===void 0||!a.enumerateDevices)],["getUserMedia",!((b=navigator.mediaDevices)===null||b===void 0||!b.getUserMedia)]])});return!1}}async h8e(a){return a.Thc?this.NUh():void 0}async NUh(){try{return await this.Cx.da.he("fetch_stream",this.iG,()=>this.mediaDevices.getUserMedia({audio:!0}))}catch(a){}}async oRi(a){if(typeof a.Thc==="undefined"){var b=await this.T8h();
lRy(()=>{a.Thc=b})}}constructor(a,b,c,d,e,f,g,h,k,l,n,p,q=window.navigator.mediaDevices){this.fDb=b;this.Ppc=c;this.hNa=d;this.SUc=e;this.eac=f;this.Cx=g;this.$x=h;this.K_h=k;this.errorService=l;this.Vha=n;this.isAndroid=p;this.mediaDevices=(ySy.G(this),void 0);this.transcript=null;this.mediaDevices=q;this.rVa=a;this.nOa=b}},xSy=a=>{switch(a){case "audio/webm":return 7;case "audio/mp3":return 1;case "audio/wav":return 6;case "audio/mpeg":return 3;case "audio/mp4":return 2}};var OQy=({uL:a,hNa:b,SUc:c,$x:d,K_h:e,ya:f,Zb:g,isDisabled:h,eac:k,Cx:l,errorService:n,IKb:p})=>{if(!p)return{};p=new nSy;const q=rSy({Vha:p,Zb:g}),r=tSy({Vha:p,Zb:g});if(!q&&!r)return{};a=q&&KQy({uL:a}).Ppc;const u=new wSy(h),v=new ySy(r,q,a,b,c,k,l,d,e,n,p,/android/i.test(navigator.userAgent)),w=()=>void v.nOc(u);v.init(u);return{Vib:F4(({Mk:x})=>{G4(()=>kQy(()=>g(),y=>{y&&u.status==="listening"&&v.Yta(u)}),[]);return u.Thc===!1?null:H4(vSy,{zAg:w,uDc:u.status==="listening",disabled:g()||f()||u.isDisabled,
tb:u.tb,Mk:x})}),ZEe:u}};var zSy=parseInt("300ms",10),YQy=({ma:a,yf:b,Aua:c,alignContent:d="bottom",jWa:e,W3a:f,Dwb:g,footer:h,height:k,isOpen:l,onClose:n,onScroll:p,GYo:q,overlay:r,DQd:u,Rz:v,O_i:w,title:x})=>{const y=dRy(null),[A,B]=gPy(null),[D,F]=gPy(null),[G,I]=gPy(null),[J,O]=gPy(0),[P,R]=gPy(0),T=jQy(),U=P+xc*2,Y=aPy(ia=>{F(ia);B(ia===null||ia===void 0?void 0:ia.parentElement)},[]),aa=aPy(ia=>{D&&(D.style.minHeight=`calc(100% - ${ia}px)`,O(ia))},[D]),fa=aPy(ia=>{I(ia)},[]),da=aPy(()=>{requestAnimationFrame(()=>{__c.Ae()&&
g&&v()})},[v,g]);G4(()=>{const ia=window.visualViewport;if(ia&&__c.Ae()&&g)return ia.addEventListener("resize",da),()=>{ia.removeEventListener("resize",da)}},[da,g]);G4(()=>{if(G){var ia=new sRy(X=>{for(const ba of X)R(ba.contentRect.height)});ia.observe(G);return()=>{ia.disconnect()}}},[G]);G4(()=>{if(A){var ia=new sRy(X=>{for(const ba of X){const ha=ba.contentRect.height-J-P;ha>0&&lRy(()=>{q(ha)})}});ia.observe(A);return()=>{ia.disconnect()}}},[A,J,P,q]);return I4(__c.Wh,{Vd:T,height:k,pa:()=>n(!0),
open:l,role:"dialog",Q4a:!1,pxf:k.includes("half")?"half":void 0,onScroll:p,children:[w&&H4(pRy,{in:u,nodeRef:y,timeout:{enter:0,exit:zSy},classNames:{exit:"OWfhvQ",exitActive:"_1Lz8lA",exitDone:"k_jpWA"},unmountOnExit:!0,children:H4(Z,{ref:y,position:"absolute",bottom:"0",end:"0",width:"full",height:"full",children:w})}),!u&&I4(iPy,{children:[H4("div",{className:"Cvfayg",children:H4(ASy,{hup:aa,children:H4(b,{title:r?r.title:x,Ty:T,Na:r?e:void 0,onClose:n,mode:w?"compact":"default"})})}),I4(Z,{className:"r5_6MA",
display:"flex",flexDirection:"column",ref:Y,children:[I4("div",{className:zQy("_8M5xTw",{fa3Cyw:d==="top",kQ_71w:d==="bottom"}),style:{paddingBottom:U},children:[H4(IRy,{rWg:r?"overlay":"none",children:r?I4(iPy,{children:[r.title&&!r.twl&&f&&I4(iPy,{children:[H4(lj,{size:"small",children:r.title}),H4(Uh,{direction:"vertical",size:"2u"})]}),H4(r.ma,{FV:A})]}):H4(a,{FV:A})}),c&&H4("div",{className:"kAoUvQ",style:{marginBottom:U},children:H4(c,{})})]}),H4(IRy,{rWg:r?"overlay-footer":"none",children:H4(Z,
{ref:fa,className:"r1EZqg",children:r?H4(Z,{padding:"2u",background:"surface",shadow:"surface",children:r.gb&&H4(r.gb,{})}):h&&H4(Z,{background:"surface",shadow:"surface",children:h})})})]})]})]})},ASy=__c.du(({height:a})=>({height:a}),{BZb:"width"})(({children:a,height:b,hup:c})=>{G4(()=>c(b),[b,c]);return a});var XQy=class{O7e(){return this.store.PAf}constructor(a,b){this.ga=a;this.store=b}};var WQy=class{static G(a){Q(a,{height:M4.shallow,PAf:M4.ref})}constructor(a){this.height=(WQy.G(this),void 0);this.PAf=0;this.height=a}},VQy=class{pnc(a,b){a.height=b}};var fRy=()=>{var a=__c.Of("MWlexw");return S("R/VXKw",[a])};var eRy=__c.du(({height:a})=>({height:a}),{BZb:"width"})(a=>{const b=a.height,c=a.pnc;G4(()=>c(b),[b,c]);return a.children});__c.J2i={fbb:function({Button:a,fa:b,Wl:c,mE:d,hi:e,xjb:f,xka:g,cM:h,Cx:k,V:l,fra:n,mG:p,VZc:q,N$:r,gia:u,hf:v,Zb:w,cCd:x,nec:y,ft:A,Lwk:B,ha:D,wi:F,$Cb:G,EA:I,ob:J,I:O}){const P=c.JEd;var R=c.ntd,T;const {bsd:U,NHh:Y,IKb:aa,vGi:fa}=(T=c.dca)!==null&&T!==void 0?T:{},da=__c.Xa("1b0d16e5",!0);c=O.errorService;const ia=O.JAa,X=O.Ka,ba=O.uL,ha=O.hm;T=O.Ba;const la=new KRy,ka=(mc,sc)=>hc.jq(la,mc,{caller:sc}),na=mc=>hc.close(la,mc),oa=()=>hc.ULb(la),xa=()=>hc.xxd(la),ua=()=>hc.jWa(la,{ZSp:!0}),ya=()=>
hc.D_c(la),Ba=()=>hc.zZh(la),va=()=>hc.QSe(la),Ca=()=>hc.isOpen(la),Ia=mc=>hc.t9(la,mc),Na=mc=>hc.Nxe(la,mc),Fa=p?mc=>p.jXg(mc):void 0,Qa=mc=>fb.Pgb(mc),{u$a:Va,NT:ab}=eQy();f=new NRy({xka:g,cM:h,xjb:f,fra:n,$Cb:G,I:O});const kb=new MRy(ka,f.VAb,Fa),bb=new SRy(Qa),{Aua:Za,tpp:fb}=tQy({DB:bb}),nb=p?new cSy({jq:ka,controllers:{CQe:kb,mG:p,NT:ab},fra:n,ULb:oa,Zb:w,I:{errorService:c,hm:ha,Ka:X},Nxe:Na,zZh:Ba,t9:Ia,QSe:va}):void 0;R=VPy({ntd:R,Ka:X});G=K4(()=>hc.wOg(la)?FPy({fa:b,NHh:Y,EA:I,ob:J,iOc:e.toggle}):
null);({yf:n}=QPy({mG:p,ft:A}));const ub=K4(()=>la.Ehg?void 0:d.uOf),{kqc:yb,Aub:qb}=zPy({xka:g,Cx:k,errorService:c,O7e:()=>$b.O7e(),ft:A,fBo:ub,VAb:f.VAb,ULb:oa,D_c:ya,ha:D,DB:bb,Ghj:G,wad:()=>Qb.wad(),Pgb:Qa}),{aD:vb,g7:Bb}=SQy({fa:b,eac:mc=>hc.jq(la,new __c.IMl(mc),{pXa:!0}),Cx:k,Aub:qb,SUc:()=>hc.SUc(),IKb:aa,y_b:mc=>hc.y_b(la,mc),gia:u,JAc:()=>hc.JAc(la),ULb:oa,N$:r,D_c:ya,Zb:w,isOpen:Ca,ft:A,JEd:P,vGi:fa,DB:bb,hNa:mc=>hc.hNa(mc),I:{errorService:c,JAa:ia,uL:ba}});u=new hSy({jq:ka,fa:b,cM:h,DQe:mc=>
kb.postMessage(mc),controllers:{xka:g,yjb:e.lCa,NT:ab,g7:Bb},VZc:q,Zb:w,I:{errorService:c,JAa:ia},t9:Ia});w=p?ROy({mG:p,hf:v,I:{errorService:c,hm:ha}}):void 0;v=mc=>k.gfd({Component:mc,Vi:"assistant_render",$Q:!0});const {gb:Sb,GKa:Qb}=KPy({LGe:w,aD:vb,mG:p,y$e:R,N$:r,ft:A}),Xb=da?hRy({gb:Sb,aD:vb}):void 0;r=K4(()=>!Xb||qb.length||qb.tfe()||ub.get()?!1:!0);a=mQy({Button:a,kqc:yb,gb:Sb,yf:n,Aua:Za,tah:Xb,fih:v,xIb:na,jWa:ua,$8f:()=>!qb.tfe(),xxd:xa,y$e:R,isOpen:Ca,cCd:x,onScroll:mc=>qb.$hf(mc),DQd:r});
const {mOa:cc,lQd:$b}=$Qy({kqc:yb,yf:n,gb:Sb,Aua:Za,tah:Xb,fih:v,xIb:na,jWa:ua,xxd:xa,isOpen:Ca,Tmo:B,onScroll:mc=>qb.$hf(mc),Rz:()=>bb.Rz(),DQd:r}),hc=new LRy({V:l,fa:b,cM:h,sIj:{wi:({p4e:mc})=>{F===null||F===void 0||F();g===null||g===void 0||g.updateSession({isOpen:!0});kb.init();nb===null||nb===void 0||aQy(nb,{p4e:mc});g===null||g===void 0||g.init({p4e:mc})},onClose:()=>g===null||g===void 0?void 0:g.updateSession({isOpen:!1})},controllers:{xka:g,Cx:k,Aub:qb,NT:ab,g7:Bb,lQd:$b},bsd:U,nec:y,VZc:q,
ft:A,messageHandlers:{Ilp:u,kBk:nb},I:{errorService:c,Ba:T}});return{Ahd:a,mOa:cc,u$a:Va,ga:hc,store:la}}};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/130_sourcemaps/8395fe019964de5f.js.map