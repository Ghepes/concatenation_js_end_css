(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[561451],{

/***/ 525792:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(830353);__web_req__(157643);__web_req__(763795);__web_req__(369976);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var cpn,jpn;cpn=function(a){clearTimeout(a.ppl);a.ppl=setTimeout(()=>{a.Yta()},12E3)};__c.gpn=function(a){var b=a.nae;a=a.Vha;var c=__c.Xa("fb13b8f5",!0);const d=__c.Xa("1d12b050",!0);var e;if(c&&d)a:{if((e=window.MediaRecorder)!==null&&e!==void 0&&e.isTypeSupported&&(e=dpn())){e=new epn(e,a);break a}e=void 0}else e=void 0;c?(c=window.SpeechRecognition||window.webkitSpeechRecognition)?(c=new c,b=new fpn(c,a,b)):b=void 0:b=void 0;return{ZHk:e,tql:b}};
__c.ipn=function(a){const b=a.uL;return{Ppc:new hpn(async()=>({Xbc:await b()}))}};jpn=__webpack_require__(450117).B7;var kpn;kpn=__webpack_require__(613444);__c.lpn=kpn.jsx;__c.mpn=kpn.jsxs;var npn=__webpack_require__(400770),opn=npn.action,ppn=npn.computed,qpn=npn.observable,rpn=npn.runInAction;var epn=class{sNa(a){this.sMd=[];this.rta=new MediaRecorder(a,{mimeType:this.mimeType});this.rta.addEventListener("dataavailable",this.rlf);this.rta.addEventListener("stop",this.qnf);this.rta.start(1E3)}Yta(){var a;(a=this.rta)===null||a===void 0||a.stop()}gIi(){var a,b;(a=this.rta)===null||a===void 0||a.removeEventListener("dataavailable",this.rlf);(b=this.rta)===null||b===void 0||b.removeEventListener("stop",this.qnf);this.rta=void 0}constructor(a,b){this.mimeType=a;this.Vha=b;this.sMd=[];this.rlf=
c=>{this.sMd.push(c.data)};this.qnf=()=>{this.Vha.next({type:"recorder",Qte:this.sMd,mimeType:this.mimeType});this.gIi()}}};var spn=["audio/webm","audio/mp3","audio/wav","audio/mpeg","audio/mp4"],dpn=()=>{const a=window.MediaRecorder;return spn.find(b=>a.isTypeSupported(b))};var fpn=class{sNa(){this.transcript="";this.dma.addEventListener("result",this.Anf);this.dma.addEventListener("error",this.onError);this.dma.addEventListener("end",this.aP);cpn(this);this.dma.start()}Yta(){this.dma.stop()}Gtf(){this.dma.removeEventListener("result",this.Anf);this.dma.removeEventListener("error",this.onError);this.dma.removeEventListener("end",this.aP);clearTimeout(this.ppl)}constructor(a,b,c){this.dma=a;this.Vha=b;this.transcript="";this.Anf=d=>{let e="";cpn(this);for(let f=0;f<d.results.length;++f)e+=
d.results[f][0].transcript;e.length>0&&(this.transcript=e);this.Vha.next({type:"recognition",transcript:this.transcript,isFinal:!1})};this.onError=d=>{d.error==="no-speech"||d.error==="aborted"?d.message==="Siri and Dictation are disabled"?this.Vha.next({type:"recognition-ios-no-dictation"}):this.Vha.next({type:"recognition",transcript:this.transcript,isFinal:!0}):this.Vha.next({type:"recognition-error"});this.Gtf()};this.aP=()=>{this.Vha.next({type:"recognition",transcript:this.transcript,isFinal:!0});
this.Gtf()};this.dma.continuous=!0;this.dma.interimResults=!0;c!==!0&&(this.dma.lang="en-AU");this.dma.maxAlternatives=1}};__c.tpn=class extends jpn{};var hpn=class{async mpc(a,b,c){const {Xbc:d}=await this.Wgj;return d.mpc(new __c.Hek({audio:a,jW:b}),{xa:c})}get Wgj(){return this.ceh||(this.ceh=this.Qei())}constructor(a){this.Qei=a}};__c.upn=()=>(0,__c.lpn)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,__c.lpn)("rect",{width:"12",height:"12",rx:"2",fill:"currentColor"})});var wpn;__c.vpn=class{static G(a){__c.Q(a,{status:qpn.ref,Thc:qpn.ref,isActive:ppn,ya:ppn,isDisabled:ppn,tb:ppn})}get isActive(){return this.status!=="none"&&this.status!=="not-available"}get ya(){return this.status==="initializing"||this.status==="transcribing"}get isDisabled(){return this.ya||this.status==="not-available"}get tb(){return this.status==="not-available"?__c.V("zRdb5g"):this.status==="listening"?__c.V("SvKIWQ"):__c.V("UJyNmg")}constructor(){this.status=(__c.vpn.G(this),"none")}};
__c.xpn=class{static G(a){__c.Q(a,{setStatus:opn,init:opn,sNa:opn})}setStatus(a,b){a.status=b}async nOc(a,b){b&&(this.tzg=b);a.status==="listening"?this.Yta(a):(await this.oRi(a),await this.sNa(a))}async dAg(a){this.rVa=void 0;if(!this.nOa){if(this.fDb){this.nOa=this.fDb;if(this.stream)return;if(this.stream=await this.h8e(a)){this.nOa.sNa(this.stream);return}}this.mwi(a)}}WDf(a){var b,c;((b=this.query)===null||b===void 0?void 0:b.length)===0&&this.transcript!=null?this.aIc(a,""):this.aIc(a,(c=this.transcript)!==
null&&c!==void 0?c:this.query)}async zxi(a,b,c){var d;this.setStatus(a,"transcribing");(d=this.fa)===null||d===void 0||d.x_o();this.transcript=await this.yZh(b,c);this.rVa?this.query!==void 0&&this.WDf(a):this.aIc(a,this.transcript)}Pwi(a){var b;(b=this.nOa)===null||b===void 0||b.Yta();this.dof(a)}Nwi(a,b){this.query=b;this.Pwi(a);this.nOa?this.transcript!=null&&this.WDf(a):this.aIc(a,this.query)}Owi(a,b){var c;(c=this.tzg)===null||c===void 0||c.call(this,b)}aIc(a,b){this.setStatus(a,"none");if(b!==
void 0)if(b.length!==0){var c,d;(c=this.tzg)===null||c===void 0||c.call(this,b);(d=this.fa)===null||d===void 0||d.Gmf({rOb:b.length})}else{var e;this.onError(1);(e=this.fa)===null||e===void 0||e.onError({qoa:"transcription"})}}iNi(a,b){switch(b.type){case "recognition":b.isFinal?this.Nwi(a,b.transcript):this.Owi(a,b.transcript);break;case "recorder":this.zxi(a,b.Qte,b.mimeType);break;case "recognition-error":this.dAg(a);break;case "recognition-ios-no-dictation":var c;this.onError(3);(c=this.fa)===
null||c===void 0||c.onError({qoa:"recognition-ios-no-dictation"});this.dAg(a);break;default:throw new __c.t(b);}}init(a){var b;this.rVa==null&&this.nOa==null?a.status="not-available":((b=this.Vha.observers)===null||b===void 0?void 0:b.length)===0&&this.Vha.subscribe({next:c=>this.iNi(a,c)})}async sNa(a){var b,c,d,e,f;this.setStatus(a,"initializing");(b=this.fa)===null||b===void 0||b.aof();if(this.stream=await this.h8e(a))this.query=void 0,this.transcript=null,(c=this.tzg)===null||c===void 0||c.call(this,
""),this.isAndroid&&(this.rVa=void 0),(d=this.rVa)===null||d===void 0||d.sNa(),this.stream&&((e=this.nOa)===null||e===void 0||e.sNa(this.stream)),this.setStatus(a,"listening"),(f=this.fa)===null||f===void 0||f.ETo();else{var g;this.setStatus(a,"none");this.onError(0);(g=this.fa)===null||g===void 0||g.onError({qoa:"permissions"})}}Yta(a){var b,c;(b=this.rVa)===null||b===void 0||b.Yta();(c=this.nOa)===null||c===void 0||c.Yta();this.dof(a)}dof(){this.ADf()}mwi(a){var b;this.setStatus(a,"not-available");
this.onError(2);(b=this.fa)===null||b===void 0||b.onError({qoa:"services"});this.ADf()}ADf(){this.stream&&__c.Xtg(this.stream);this.stream=void 0}async yZh(a,b){const [c]=a;if(c!=null&&this.Ppc&&(a=await __c.bpn(new Blob(a,{type:b}))))try{var d;const g=wpn(b);return(await ((d=this.Ppc)===null||d===void 0?void 0:d.mpc([a],g))).text}catch(g){if(!this.rVa)if(g instanceof __c.ob){var e;this.onError(2);(e=this.fa)===null||e===void 0||e.onError({qoa:"services"})}else{var f;this.onError(1);(f=this.fa)===
null||f===void 0||f.onError({qoa:"transcription"})}this.errorService.ia(g,"Failed to fetch interpreted query")}}async T8h(){try{return(await this.mediaDevices.enumerateDevices()).find(c=>c.kind==="audioinput")!=null}catch(c){var a,b;this.errorService.Tl(c,{extra:new Map([["mediaDevices",!!navigator.mediaDevices],["enumerateDevices",!((a=navigator.mediaDevices)===null||a===void 0||!a.enumerateDevices)],["getUserMedia",!((b=navigator.mediaDevices)===null||b===void 0||!b.getUserMedia)]])});return!1}}async h8e(a){return a.Thc?
this.NUh():void 0}async NUh(){try{return await this.mediaDevices.getUserMedia({audio:!0})}catch(a){}}async oRi(a){if(typeof a.Thc==="undefined"){var b=await this.T8h();rpn(()=>{a.Thc=b})}}constructor(a,b,c,d,e,f,g,h,k,l=window.navigator.mediaDevices){this.fa=a;this.fDb=c;this.Ppc=d;this.onError=e;this.errorService=g;this.Vha=h;this.isAndroid=k;this.mediaDevices=(__c.xpn.G(this),void 0);this.transcript=null;this.mediaDevices=l;this.rVa=b;this.nOa=c;this.tzg=f}};
wpn=a=>{switch(a){case "audio/webm":return 7;case "audio/mp3":return 1;case "audio/wav":return 6;case "audio/mpeg":return 3;case "audio/mp4":return 2}};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=sourcemaps/dddc1958cc6d8fbb.js.map