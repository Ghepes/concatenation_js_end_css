(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[960681],{

/***/ 725696:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);__web_req__(620826);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var ypn=function(a){return a.map(({ref:b})=>b)},zpn=function(a){var b=Number.MAX_VALUE,c=[];a.forEach(d=>{const e=d.position.top;e<b?(b=e,c=[d]):e===b&&c.push(d)});return c},Apn=function(a){const b={};a.forEach(c=>{__c.pa(c.pWa==="vertical-masonry");const d=c.position.left,e=c.position.top;if(!b[d]||e<b[d].top)b[d]={top:e,element:c}});return Object.values(b).map(({element:c})=>c)},Bpn=function(a){a=a.filter(b=>b.oGh==="horizontal");return a.length>0?a:null},Cpn=function(a,b){return(a=Bpn(a))?(a.sort((c,
d)=>b?d.position.left-c.position.left:c.position.left-d.position.left),[a[0]]):null},Dpn=function(a){return Bpn(a)||zpn(a)},Fpn=function(a,b){return Cpn(a,b)||Epn(a,b)},Epn=function(a,b){return a.length===0?[]:[a.slice().sort((c,d)=>c.position.top===d.position.top?b?d.position.left-c.position.left:c.position.left-d.position.left:c.position.top-d.position.top)[0]]},Gpn=function(a,b){if(a.length===0)return[];var c=a.reduce((f,g)=>{var h;const k=(h=f[g.pWa])!==null&&h!==void 0?h:0;f[g.pWa]=k+1;return f},
{});c=Object.entries(c).map(([f])=>f);let d,e=a;c.length===1?d=c[0]:(c=a.filter(f=>f.oGh==="horizontal"),d=c.length>0?c[0].pWa:Epn(a,b.Hs)[0].pWa,e=a.filter(f=>f.pWa===d));switch(d){case "carousel":return b.RYm==="row"?Dpn(e):Fpn(e,b.Hs);case "grid":case "horizontal-masonry":return zpn(e);case "vertical-masonry":return Apn(e);default:throw new __c.t(d);}},Hpn=__webpack_require__(400770),Ipn=Hpn.action,Jpn=Hpn.observable,Kpn=Hpn.reaction,Lpn=Hpn.runInAction;var Mpn={eventType:"template_preview_interacted",Ra(a){return __c.Db({source:a.source,action:a.action,control_context:a.fg,location:a.location,was_playing:a.bfd,was_muted:a.z9b,template_id:a.Qb,editing_context:a.Ge==null?void 0:__c.jh(a.Ge),performance_context:a.Hi==null?void 0:__c.kh(a.Hi)})}};var Npn=(a,b,c)=>{switch(a){case "autoplay-heuristic":return Gpn(b,c);case "autoplay-all":return b;case "autoplay-carousel-first-element":return Fpn(b,c.Hs);case "autoplay-carousel-row":return Dpn(b);case "autoplay-vertical-masonry-top-element-each-column":return Apn(b);case "autoplay-horizontal-masonry-top-row":case "autoplay-grid-top-row":return zpn(b);default:throw new __c.t(a);}};var Opn;Opn=__c.Eb.direction===2;__c.Ppn=class{constructor(a){this.yzl=b=>{var c;(c=this.N)===null||c===void 0||c.track(Mpn,b)};this.eWg=({action:b,KA:c,z9b:d,trigger:e="click"})=>{this.yzl({...c,action:b,fg:e,bfd:b==="pause",...(d!==void 0?{z9b:d}:{})})};this.H8i=({action:b,KA:c,bfd:d,z9b:e})=>{this.yzl({...c,action:b,bfd:d,fg:"click",...(e!==void 0?{z9b:e}:{})})};this.N=a}};
__c.Qpn=class extends __c.Ppn{static G(a){__c.Q(a,{sE:Jpn.ref,WVc:Jpn.ref,kKf:Jpn.ref,h6b:Ipn.bound,Zta:Ipn.bound,Eaj:Ipn.bound,HJk:Ipn.bound,d9k:Ipn.bound,pme:Ipn.bound,eI:Ipn.bound})}init(){this.mbi||(document.addEventListener("visibilitychange",this.fAg),this.mbi=!0);this.wai||(document.addEventListener("scroll",this.onScroll),this.wai=!0);!this.q9h&&__c.re()&&(document.addEventListener("click",this.xPk,{capture:!0}),this.q9h=!0);if(!this.ZOe)return this.ZOe=Kpn(()=>this.WVc,a=>{if(a&&!this.wcf){var b;
(b=this.kC)===null||b===void 0||b.jhb(()=>{this.ZOe&&this.wcf&&(this.wcf=!1,this.eI())});this.wcf=!0}}),this.cleanup}hnc(a){var b;(b=this.observer)===null||b===void 0||b.disconnect();this.observer=new IntersectionObserver(this.OVp,{threshold:.7,...a});this.init()}lKo(a,b,c){var d;this.lta.set(a,{ref:a,pWa:b,oGh:"static",position:{left:0,top:0},visible:!1,Zsc:c});(d=this.observer)===null||d===void 0||d.observe(a);return()=>{var e;(e=this.observer)===null||e===void 0||e.unobserve(a);this.lta.delete(a)}}Ttp(a=
"mr"){const b=this.Fac;switch(a){case "ma":this.Fac=0;break;case "mr":this.Fac=1;break;case "sa":this.Fac=2;break;default:this.Fac=1}return()=>{this.Fac=b}}Fka(a){return(this.UPa||!this.kKf)&&this.ZGa.includes(a)}h6b(a,b){this.ZGa.replace([a]);this.Uoa=a;this.W8h&&(this.UPa=!0);(b===null||b===void 0?0:b.YZm)&&this.sE&&this.Eaj(a);if(b===null||b===void 0?0:b.hhj)this.kKf=!1}Zta(a,b){a==null?(this.ZGa.clear(),this.Uoa=void 0):this.ZGa.includes(a)&&(this.ZGa.replace(this.ZGa.filter(c=>c!==a)),this.Uoa=
a);this.WVc=void 0;this.ZGa.length===0&&(this.UPa=!1);b&&(this.kKf=!0)}Sup(){this.W8h=!1}Y$(a){return this.sE&&this.WVc===a}Eaj(a,b){this.WVc=a;this.sE=!0;if(b===null||b===void 0?0:b.hhj)this.kKf=!1;(b===null||b===void 0?0:b.j_m)&&!this.ZGa.find(c=>c===a)?(this.h6b(a),this.CAe=[]):this.Fac===2&&(this.CAe=this.ZGa.slice(),this.ZGa.replace([a]))}HJk(){this.WVc=void 0;this.sE=!1;this.Jqf=[...this.ZGa];this.ZGa.clear()}d9k(){this.ZGa.replace(this.Jqf);this.Jqf=[]}pme(){this.ZGa.clear();this.WVc=this.Uoa=
void 0;this.sE=!1}eI(){this.WVc=void 0;this.sE=!1;this.Fac===2&&(this.ZGa.replace(this.CAe),this.CAe=[])}constructor(a){super(a===null||a===void 0?void 0:a.N);this.observer=(__c.Qpn.G(this),void 0);this.lta=new Map;this.ZGa=Jpn.array([],{deep:!1});this.CAe=[];this.Jqf=[];this.Uoa=void 0;this.sE=!1;this.Fac=1;this.q9h=this.X$h=this.wai=this.mbi=this.kKf=this.wcf=!1;this.cleanup=()=>{document.removeEventListener("visibilitychange",this.fAg);this.mbi=!1;document.removeEventListener("scroll",this.onScroll);
this.q9h=!1;document.removeEventListener("click",this.xPk);this.wai=!1;this.ZOe&&(this.ZOe(),this.ZOe=void 0)};this.xPk=d=>{if(this.sE){for(d=d.target;d!==document.body&&d!=null;){if(this.lta.has(d))return;d=d.parentElement}this.eI()}};this.dispose=()=>{var d;this.cleanup();(d=this.observer)===null||d===void 0||d.disconnect();this.observer=void 0;this.wcf=!1;Lpn(()=>{this.ZGa.clear();this.sE=!1});this.CAe=[];this.Jqf=[]};this.fAg=()=>{this.Jqf.length?this.d9k():__c.re()?this.HJk():this.pme()};this.onScroll=
()=>{this.X$h&&this.UUj()};this.OVp=d=>{for(const e of d)(d=this.lta.get(e.target))&&this.lta.set(e.target,{...d,visible:e.intersectionRatio>.7||Math.abs(e.intersectionRatio-.7)<1E-6,position:e.boundingClientRect});this.X$h=!0;this.UUj()};this.UUj=__c.$e(()=>{this.X$h=!1;var d=Array.from(this.lta).filter(([,{visible:g}])=>g);if(d.length!==0&&this.UPa){var e=!!this.Uoa,f=d.map(([,{ref:g}])=>g);this.Uoa&&!f.includes(this.Uoa)&&(this.Uoa=void 0,e=!1);e||(d=d.map(([,g])=>{const {top:h,left:k}=g.ref.getBoundingClientRect();
var l=g.position||{top:h,left:k};let n="static";Math.abs(k-l.left)>1?n="horizontal":Math.abs(h-l.top)>1&&(n="vertical");l={...g,oGh:n,position:{top:h,left:k}};this.lta.set(g.ref,{...g,...l});return l}),e=Npn(this.Oac,d,this.lQm),this.nEj(e,d))}else this.nEj([],[])},300);this.nEj=Ipn((d,e)=>{const f=ypn(e);e=ypn(Epn(d.filter(g=>{var h;return(h=this.lta.get(g.ref))===null||h===void 0?void 0:h.Zsc}),Opn));switch(this.Fac){case 0:this.ZGa.replace(f);break;case 2:this.sE?(this.ZGa.replace(e),this.CAe=
f):this.ZGa.replace(f);break;case 1:d=ypn(d);this.ZGa.replace(d);break;default:throw new __c.t(this.Fac);}this.sE&&(this.WVc=e[0])});this.Cqh=()=>{this.a6f();this.Ygh&&(clearTimeout(this.Ygh),this.Ygh=void 0)};this.a6f=()=>{this.t$h&&(this.t$h(),this.t$h=void 0)};this.xRp=(d,e,f)=>{this.Cqh();this.eWg({action:"pause",KA:f,z9b:e?!this.Y$(d):void 0})};this.gzl=(d,e,f,g)=>{this.H8i({KA:g,action:d,bfd:this.Fka(e),z9b:f?!this.Y$(e):void 0})};this.nzl=(d,e,f,g)=>{const h=()=>{this.Cqh();this.eWg({action:"play",
KA:g,trigger:d,z9b:f?!0:void 0})},k=()=>{this.Ygh=setTimeout(h,500)};this.Cqh();d==="click"?h():e.get()?k():this.t$h=Kpn(()=>e.get(),()=>{this.a6f();k()})};this.UPa=this.W8h=__c.hs({al:__c.Kh(__c.Eb.al),Bc:__c.Eb.Bc});this.kC=a===null||a===void 0?void 0:a.kC;var b;this.Oac=(b=a===null||a===void 0?void 0:a.Oac)!==null&&b!==void 0?b:"autoplay-heuristic";var c;this.lQm={RYm:(c=a===null||a===void 0?void 0:a.mPe)!==null&&c!==void 0?c:"row",Hs:Opn}}};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=sourcemaps/d81619c371103b90.js.map