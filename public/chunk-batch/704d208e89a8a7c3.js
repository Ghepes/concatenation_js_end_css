;// __FILE_CONTENT_FOR__:704d208e89a8a7c3.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[75045],{

/***/ 404448:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);__web_req__(489323);__web_req__(92714);__web_req__(827202);__web_req__(735801);__web_req__(831724);__web_req__(67419);__web_req__(923763);__web_req__(672678);__web_req__(891611);__web_req__(87118);__web_req__(589028);__web_req__(919494);__web_req__(501821);__web_req__(805085);__web_req__(317697);__web_req__(169562);__web_req__(281973);__web_req__(66559);__web_req__(60488);__web_req__(326678);__web_req__(40104);__web_req__(770491);__web_req__(136331);__web_req__(809074);__web_req__(227293);__web_req__(221869);__web_req__(271410);__web_req__(495427);__web_req__(958906);__web_req__(761516);__web_req__(218929);__web_req__(990472);__web_req__(279138);__web_req__(228071);__web_req__(79708);__web_req__(388654);__web_req__(717939);__web_req__(741298);__web_req__(285806);__web_req__(473321);__web_req__(306503);__web_req__(399481);__web_req__(834521);__web_req__(662920);__web_req__(916206);__web_req__(618306);__web_req__(577747);__web_req__(723272);__web_req__(801591);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var x2i;var ea=__c.ea;var Tg=__c.Tg;var Z2i;var L=__c.L;var M=__c.M;var H=__c.H;var Zh=__c.Zh;var Yh=__c.Yh;var W=__c.W;var nf=__c.nf;var Z=__c.Z;var N2i;var s2i;var t2i;var Q=__c.Q;var Db=__c.Db;var o1i;var FD;var Xa=__c.Xa;var ED;var W0i;var t=__c.t;var Nf=__c.Nf;var S=__c.S;var V=__c.V;var w0i;var CD;
var g0i,k0i,o0i,q0i,t0i,u0i,x0i,z0i,B0i,A0i,C0i,E0i,I0i,L0i,N0i,Q0i,S0i,H0i,P0i,V0i,Z0i,a1i,d1i,g1i,i1i,c1i,e1i,b1i,k1i,m1i,n1i,p1i,t1i,w1i,x1i,y1i,z1i,E1i,A1i,B1i,D1i,H1i,G1i,F1i,J1i,L1i,M1i,N1i,O1i,P1i,T1i,V1i,X1i,a2i,c2i,b2i,d2i,e2i,a0i,b0i,c0i,d0i,f0i,f2i,g2i,GD;__c.zD=function(a,b){a.wa.track(a0i,{BF:a.getSession(),page:a.page,rU:a.rU,...b})};__c.AD=function(a,b){a.wa.track(b0i,{BF:a.getSession(),page:a.page,rU:a.rU,...b})};__c.BD=function(a,b){a.wa.track(c0i,{page:a.page,rU:a.rU,...b})};
__c.e0i=function(a,b){a.wa.track(d0i,{BF:a.getSession(),page:a.page,rU:a.rU,...b})};g0i=function(a,b){a.wa.track(f0i,{...b,BF:a.getSession()})};
k0i=function({mE:a,Zb:b,isOpen:c,iOc:d}){return h0i(({Ne:e,onClick:f})=>{var g;const h=a.YVa.Component,k=(g=a.YVa.SO)===null||g===void 0?void 0:g.get(),l=i0i(null),n=__c.NYi();g=b();const p=c();j0i(()=>{var q;p||n||(q=l.current)===null||q===void 0||q.focus()},[l,n,p]);return!h||k?CD("div",{}):CD(h,{Ne:e,className:"yR9JPQ",disabled:g&&!p,kH:l,isOpen:p,onClick:q=>{f===null||f===void 0||f(q);d({uya:"button_click",JC:"assistant_button"})}})})};
o0i=function({locale:a}){const b=__c.Eb.direction===2&&a!=="he-IL"?l0i:__c.m0i;return c=>CD(n0i,{la:b,...c})};q0i=async function(a,{dw:b,interactionId:c,title:d,description:e,Gyo:f}){d=new p0i({title:d,description:e});b&&d.Rsd(b);a.ea.hi.jq(d,{pXa:!0});f&&(await a.ea.I.eLa()).Nfh({interactionId:c,response:f})};
t0i=function({vn:a,designId:b,Ea:c,uT:d,Ca:e,Ka:f,Ga:g,zSa:h,Hb:k}){const l=new r0i({vn:a,Ea:c,uT:d,Ca:e,Ka:f,Ga:g,zSa:h,Hb:k});return(n,p)=>({children:q,url:r})=>CD(s0i,{ZAc:u=>l.ZAc(u,n,b),gua:p,url:r,children:q})};u0i=function(a){var b;return(b=a.filter(c=>c.source===2).sort((c,d)=>d.timestamp-c.timestamp)[0])===null||b===void 0?void 0:b.gha};
x0i=function(a,b){const c=[];a.forEach(d=>{var e,f;c.push(new __c.v0i({source:2,content:d.utterance,Fh:new w0i({id:d.interactionId}),timestamp:(f=d.$pa)!==null&&f!==void 0?f:0}));(((e=d.responses)===null||e===void 0?0:e.length)?d.responses:[d.response]).forEach((g,h)=>{var k,l,n;c.push(new __c.v0i({source:1,content:g!==null&&g!==void 0?g:"",Fh:new w0i({id:d.interactionId,eventId:d.interactionId===((k=b.ZCd)===null||k===void 0?void 0:k.id)?(l=b.ZCd)===null||l===void 0?void 0:l.eventId:void 0}),timestamp:((n=
d.$pa)!==null&&n!==void 0?n:0)+1+h,actions:d.iIm.map(p=>new __c.bZh({key:p}))}))})});return c};z0i=async function(a,b){try{var c;await ((c=a.mG)===null||c===void 0?void 0:c.Lte({vt:b.vt,continuation:b.CNb}))}catch(d){d instanceof y0i||a.errorService.ia(d,{ta:"Error reconnecting to live chat session"}),a.updateSession({uZ:1})}};
B0i=function(a,b,c){const d=A0i(a,b);return d.continuation?{messages:d.messages,continuation:{TYf:d===a?a.continuation:c.TYf,Jrg:d===b?b.continuation:c.Jrg,ub:!!((a===null||a===void 0?0:a.continuation)||b.continuation)}}:{messages:[...(a&&d!==a?a:b).messages,...d.messages].sort((e,f)=>e.timestamp-f.timestamp),continuation:{TYf:a===null||a===void 0?void 0:a.continuation,Jrg:b.continuation,ub:!!((a===null||a===void 0?0:a.continuation)||b.continuation)}}};
A0i=function(a,b){if((a===null||a===void 0?void 0:a.messages.length)===0)return b;if(b.messages.length===0&&a)return a;const c=a===null||a===void 0?void 0:a.mEc,d=b.mEc;return c&&c>d?a:b};C0i=function(a,b,c){var d,e;((d=a.ea.V.user)===null||d===void 0?0:d.email)?b():(e=a.Byi.missing_email)===null||e===void 0||e.openDialog(c)};
E0i=async function(a,{fWb:b,a_m:c,xg:d}){try{const {pEj:e}=await d.Jdk(new D0i({uWc:b}));return e?1:2}catch(e){return c===null||c===void 0||c.setStatus("error"),a.ea.errorService.ia(e,{ta:"Error fetching available agents"}),2}};
__c.F0i=async function(a,b){var c;if(!a.ea.fS)return 2;const d=await a.xg,e=(c=a.ea.da)===null||c===void 0?void 0:c.Ec("help.check_chat_availability",{Hc:{name:"help.check_chat_availability"}});a.CD=await Promise.race([E0i(a,{fWb:b,a_m:e,xg:d}),__c.eb(1E4).then(()=>{e===null||e===void 0||e.setStatus("error");return 2})]);e===null||e===void 0||e.end();return a.CD};
I0i=async function(a,{V:b,dw:c,l1c:d,interactionId:e,title:f}){return Promise.all([__webpack_require__.me(505490).then(()=>__c.G0i),a.ea.I.hm(),a.ea.I.Mt()]).then(([{agn:g},h,k])=>{var l,n,p,q;return g({...a.ea,l1c:d,title:f,onClose:H0i(a,{Gd:"missing_designs_fix_flow",dw:c,sRg:V("ftomyg")}),XOb:a.XOb(c),fa:{location:"missing_designs_fix_flow",interactionId:e,sessionId:a.ea.cM.getSessionId()},V:b,hf:a.hf,otd:!0,I:{...a.ea.I,xg:h,Zj:k},source:a.ff,GA:(l=a.ea.Wl.dca)===null||l===void 0?void 0:l.userAgent,
fS:(n=a.ea.Wl.dca)===null||n===void 0?void 0:n.fS,k0e:!0,rwb:!0,d8:(p=a.ea.Wl.dca)===null||p===void 0?void 0:p.g6j,oKb:(q=a.ea.Wl.dca)===null||q===void 0?void 0:q.C3j})})};
L0i=async function(a,{V:b,dw:c,interactionId:d,title:e}){return Promise.all([__webpack_require__.me(494277).then(()=>__c.J0i),a.ea.I.hm()]).then(([{bgn:f},g])=>{var h,k,l,n;return f({...a.ea,title:e,onClose:H0i(a,{Gd:"missing_pro_features_fix_flow",dw:c,sRg:V("QOxlDQ")}),XOb:a.XOb(c),fa:{location:"missing_pro_features_fix_flow",interactionId:d,sessionId:a.ea.cM.getSessionId()},V:b,hf:a.hf,otd:!0,I:{...a.ea.I,xg:g},u4e:new K0i({V:b}),source:a.ff,GA:(h=a.ea.Wl.dca)===null||h===void 0?void 0:h.userAgent,
fS:(k=a.ea.Wl.dca)===null||k===void 0?void 0:k.fS,k0e:!0,rwb:!0,d8:(l=a.ea.Wl.dca)===null||l===void 0?void 0:l.g6j,oKb:(n=a.ea.Wl.dca)===null||n===void 0?void 0:n.C3j})})};
N0i=async function(a,{V:b,dw:c,interactionId:d,title:e}){return Promise.all([__webpack_require__.me(721745).then(()=>__c.M0i),a.ea.I.tia(),a.ea.I.hm(),a.ea.I.ula()]).then(([{pin:f},g,h,k])=>{var l,n,p,q;return f({...a.ea,title:e,onClose:H0i(a,{Gd:"print_order_fix_flow",dw:c,sRg:V("uFHS6w")}),XOb:a.XOb(c),fa:{location:"print_order_fix_flow",interactionId:d,sessionId:a.ea.cM.getSessionId()},V:b,hf:a.hf,otd:!0,I:{...a.ea.I,nq:g,xg:h,KW:k},u4e:new K0i({V:b}),source:a.ff,GA:(l=a.ea.Wl.dca)===null||l===
void 0?void 0:l.userAgent,fS:(n=a.ea.Wl.dca)===null||n===void 0?void 0:n.fS,k0e:!0,rwb:!0,d8:(p=a.ea.Wl.dca)===null||p===void 0?void 0:p.GKn,oKb:(q=a.ea.Wl.dca)===null||q===void 0?void 0:q.jGn})})};
Q0i=async function(a,{V:b,interactionId:c,Do:d,title:e}){return Promise.all([__webpack_require__.me(251798).then(()=>__c.O0i),a.ea.I.eLa(),a.ea.I.tia(),a.ea.I.ula(),a.ea.I.H1c()]).then(([{T9m:f},g,h,k,l])=>f({...a.ea,Do:d,title:e,interactionId:c,aLo:n=>{a.ea.fa.track(__c.S_i,{interactionId:c,jA:a.ea.cM.getSessionId(),results:[{category:"system_message",action:n}]})},onClose:n=>{a.ea.hi.jWa();return n?(a.ea.hi.jq(n),P0i(a,V("Rzg1aQ"))):P0i(a,V("hA07hw"))},k3b:()=>{a.ea.ft()&&a.ea.hi.close({uya:"internal_link",
JC:"external_link_clicked"})},V:b,I:{...a.ea.I,JAa:g,nq:h,KW:k,n0:l}}))};
S0i=async function(a,{V:b,dw:c,interactionId:d,title:e}){return Promise.all([__webpack_require__.me(250320).then(()=>__c.R0i),a.ea.I.hm()]).then(([{O9m:f},g])=>{var h;return f({...a.ea,title:e,onClose:({FY:k,...l})=>{let n="";k===1?n=a.ea.La.getName(14):k===2&&(n=V("djOEWg"));return H0i(a,{Gd:__c.DD(k),dw:c,sRg:S("zrmzKQ",[Nf(n)])})(l)},XOb:a.XOb(c),fa:{interactionId:d,sessionId:a.ea.cM.getSessionId()},V:b,hf:a.hf,otd:!0,I:{...a.ea.I,xg:g},u4e:new K0i({V:b}),source:a.ff,GA:(h=a.ea.Wl.dca)===null||
h===void 0?void 0:h.userAgent,rwb:!0})})};H0i=function(a,{Gd:b,dw:c,sRg:d}){return e=>{a.ea.hi.jWa();switch(e.type){case 2:return T0i&&!U0i?P0i(a,d):V0i(a,{Gd:b,cda:e.cda,dw:c});case 0:return P0i(a,d);case 1:var f;e.T8a===0&&((f=a.ea.V)===null||f===void 0?0:f.user.email)&&(e=Nf(a.ea.V.user.email),P0i(a,S("VAADUQ",[e])));break;default:throw new t(e);}}};P0i=function(a,b){a.ea.hi.jq(new W0i(b))};
V0i=function(a,{Gd:b,dw:c,cda:d}){c&&!c.GIl&&(c.Gup(),a.ea.hi.jq(new X0i({tSa:e=>{U0i&&a.ea.hi.jq(new ED(e===1?V("/KMZCQ"):V("xlCzmA")));c.GIl||a.ea.hi.jq(new W0i(V("iWuKXw")));c.FFb(e);__c.e0i(a.hf,{w1b:e===1,location:b,result:d,source:a.ff})}})))};__c.Y0i=function(a){return(a===null||a===void 0?void 0:a.Db)==="inline"};
Z0i=function(a){return a.includes("[")||a.includes("]")||a.includes("<")||a.includes(">")?a:a.replace(/(https?:\/\/[^\s]+|[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}(?:\.[a-zA-Z]{2,})?(?:\/[^\s]*)?)/g,b=>{const c=b.startsWith("http")?b:`https://${b}`;return`[${b.length<=50?b:`${b.slice(0,50)}...`}](${c})`})};
a1i=function({Fic:a,sK:b,V:c,FHh:d,dQa:e}){if(d)return 6;d=!(c===null||c===void 0||!c.user.Prg);if(["payment-failure","credit-debit-card-error","connect-social-media","cant-connect-social-media"].includes(a)||a==="double-charge")return 1;if("missing-pro-features team-member-charge charge-help design-missing cancel-pause-change-pro subscription-auto-renew subscription-renewal-reminder".split(" ").includes(a)||!d&&["change-email","access-email"].includes(a)||["remove-from-team","add-team-members"].includes(a)||
a==="team-ownership-transfer"&&(c===null||c===void 0?void 0:c.user.brands.get(c===null||c===void 0?void 0:c.Oa.brand.id))===__c.lg.Su)return 2;if(b==="print-and-delivery"){if(e)return 3;if(a==="print-order-status-undelivered")return 7;if(__c.$0i.includes(a))return 4}if(a==="none-of-the-above"){if(["payment-pricing-billing","account-settings"].includes(b))return 2;if(b==="print-and-delivery")return 4}if(e)return 5};
d1i=async function(a,{Iv:b,Gd:c,mG:d,Obc:e,dw:f,$U:g,interactionId:h}){var k;await a.ea.hi.t9("loading");const l=((k=b.Bla)===null||k===void 0?void 0:k.type)==="PRINT_DETAILS";try{const n=await d.vrb({h1c:b.transcript,oSe:b1i(b.uWc),Gd:c,Obc:e,Wog:b.sK,Lzb:b.OCa,d5b:l?{tF:b.Bla.Do,wnk:b.Bla.Nfe}:void 0,jA:a.ea.cM.getSessionId(),eab:h,$U:g});a.Ida({vt:n===null||n===void 0?void 0:n.vt,interactionId:h,Oea:12,Gd:c})}catch(n){a.ea.I.errorService.ia(n,{ta:"Error starting live chat:"}),c1i(a,{Iv:new __c.XYh({sK:b.sK,
OCa:b.OCa,transcript:b.transcript,Bla:b.Bla,YTg:b.transcript}),dw:f,interactionId:h,message:V("bijfSQ")})}finally{await a.ea.hi.t9("completed")}};
g1i=async function(a,{dw:b,interactionId:c,Bla:d}){await a.ea.hi.t9("loading");const e=[];try{var f,g;const h=(f=a.ea.Wl.dca)===null||f===void 0?void 0:f.FHh,k=a1i({Fic:d.Fic,sK:d.sK,V:a.ea.V,FHh:h,dQa:(g=a.ea.Wl.dca)===null||g===void 0?void 0:g.dQa}),l=k?await __c.F0i(a.ea.Xua,b1i(k)):void 0;let n;k&&l===1?(e1i(a,{key:"contact-support--livechat",Iv:new __c.ZYh({sK:d.sK,OCa:d.Fic,transcript:d.y1b,uWc:k,Bla:void 0}),dw:b,interactionId:c,Mpk:e}),n=Xa("65a9eba3",!1)?V("Mf9y3Q"):V("RqIKZA")):n=h?V("v+mp+w"):
Xa("65a9eba3",!1)?V("Mf9y3Q"):V("UCT7rw");e1i(a,{key:"contact-support--email",Iv:new __c.XYh({sK:d.sK,OCa:d.Fic,YTg:d.y1b,transcript:d.y1b,Bla:void 0}),dw:b,interactionId:c,Mpk:e});a.ea.hi.jq(new __c.f1i(n,{actions:FD.box(e)}))}catch(h){a.ea.I.errorService.ia(h,{ta:"Error getting support options:"})}finally{await a.ea.hi.t9("completed")}};
i1i=async function(a,{Iv:b,V:c,Ja:d,La:e,interactionId:f,I:g,title:h}){return Promise.all([__webpack_require__.me(563447).then(()=>__c.h1i)]).then(([{E$m:k}])=>{var l,n;return k({fa:{interactionId:f,location:"assistant_contact_support",sessionId:a.ea.cM.getSessionId()},V:c,Ja:d,La:e,EJa:a.ea.EJa,hf:a.hf,cM:a.ea.cM,Bla:{sK:(l=b.sK)!==null&&l!==void 0?l:"none-of-the-above",y1b:b.YTg,Fic:(n=b.OCa)!==null&&n!==void 0?n:"none-of-the-above"},t3b:()=>{a.ea.hi.jq(new W0i(V("7VdjFA")))},dO:p=>{var q,r;a.ea.hi.jWa();
var u;if(p=(u=p.email)!==null&&u!==void 0?u:(r=a.ea.V)===null||r===void 0?void 0:(q=r.user)===null||q===void 0?void 0:q.email)q=Nf(p),a.ea.hi.jq(new W0i(S("4SjbjQ",[q])))},I:g,title:h})})};c1i=async function(a,{Iv:b,dw:c,interactionId:d,message:e}){(b=a.qgc({key:"retry-create-support-ticket",Iv:b},{interactionId:d,dw:c}))&&a.ea.hi.jq(new __c.f1i(e,{actions:FD.box([b])}))};e1i=function(a,{key:b,Iv:c,dw:d,interactionId:e,Mpk:f}){(a=a.qgc({key:b,Iv:c},{interactionId:e,dw:d}))&&f.push(a)};
b1i=function(a){switch(a){case 1:return 1;case 2:return 2;case 3:return 4;case 4:return 5;case 5:return 7;case 6:return 8;case 7:return 6;default:throw new t(a);}};k1i=async function({V:a,hi:b,hf:c,I:d}){const e=d.errorService,f=d.Ca,[{znn:g},h]=await Promise.all([__webpack_require__.me(881594).then(()=>__c.j1i),d.hm?d.hm():d.xg]);return g({V:a,hi:b,errorService:e,Ca:f,xg:h,hf:c})};m1i=function({V:a,hf:b,hi:c,I:d}){return new l1i(c,__c.Ha(()=>k1i({V:a,hi:c,hf:b,I:d})))};
n1i=function(a){var b,c;(b=a.d1i)===null||b===void 0||b.unsubscribe();a.d1i=void 0;(c=a.gth)===null||c===void 0||c.unsubscribe();a.gth=void 0;a.pbb=void 0};p1i=function(a,b){a.gth||(a.gth=b.vX.subscribe(c=>{a.ea.store.connectionStatus!==2&&c===2&&a.ea.store.vt&&a.ea.store.status===2&&(n1i(a),a.ea.da.Fp("websocket_reconnect_chat_session",d=>a.Lte({vt:__c.m(a.ea.store.vt),continuation:a.CNb,span:d})));o1i(()=>{a.ea.store.connectionStatus=c})}))};
t1i=function(a,b){const c=__c.Da();b.pipe(q1i(d=>d.type==="CONVERSATION_CONNECT_ACKNOWLEDGE"||d.type==="ERROR"),r1i(1),(0,__c.s1i)(1E4)).subscribe({next:d=>{if(d.type==="CONVERSATION_CONNECT_ACKNOWLEDGE")c.resolve({vt:d.vt}),o1i(()=>{a.ea.store.status=2;a.ea.store.vt=d.vt});else if(d.type==="ERROR")switch(d.code){case 6:a.t6.next(new __c.TZi({gha:"system"}));c.reject(new y0i);break;default:c.reject(Error(`Failed to start conversation. Error: ${d.code} ${d.message}`))}},error:d=>{var e;d instanceof
__c.zgb&&d.statusCode===404?c.reject(new y0i((e=d.endUserMessage)!==null&&e!==void 0?e:d.message)):c.reject(d)}});return c.promise};
__c.v1i=function({Yqa:a,$bd:b="MESSAGE_ACKNOWLEDGE",stream:c,timeoutMs:d=1E4,span:e}){const f=__c.Da();c.pipe(q1i(g=>g.type===b||g.type==="ERROR"?g.Yqa===a:!1),r1i(1),(0,__c.s1i)(d)).subscribe({next:g=>{if(g.type==="MESSAGE_ACKNOWLEDGE")f.resolve({B0:g.B0}),e.addEvent("message_acknowledged");else if(g.type==="USER_FILE_UPLOAD_RECEIVED")f.resolve({}),e.addEvent("user_file_upload_received");else if(g.type==="ERROR"){const h=`Error: ${g.code} ${g.message}`;g.code===5?(e.addEvent("file_upload_error"),
f.reject(new u1i(h))):(e.addEvent("message_error"),f.reject(Error(h)))}},error:g=>{e.addEvent("message_timeout");f.reject(Error(`Acknowledgment timeout: ${g.message}`))}});return f.promise};w1i=function(a){switch(a){case "contact_support_form":return 1;case "fix_flow":return 2;case "generative_flow":return 3;case "tiered_support_page":return 4;case "intent_based_contact_flow":return 5;default:throw new t(a);}};x1i=function(a){switch(a){case "reprint":return 1;case "refund":return 2}};
y1i=function(a,b,c){b.forEach((e,f)=>{a.uTf.set(f,e)});var d;c&&a.ga.kRi((d=a.uTf.get(c))!==null&&d!==void 0?d:c)};z1i=function(a,b){a.XKj.forEach(c=>c({T1o:!1,...b}))};
E1i=function(a,b){b.subscribe({next:c=>{switch(c.type){case "AGENT_JOINED":return A1i(a,c);case "AGENT_TEXT":return B1i(a,c);case "AGENT_ENDED_CONVERSATION":return __c.C1i(a);case "AGENT_LEFT":return D1i(a,a.store.w3);case "AGENT_FILE":return B1i(a,c);case "CONVERSATION_CONNECT_ACKNOWLEDGE":case "MESSAGE_ACKNOWLEDGE":case "USER_FILE_UPLOAD_RECEIVED":case "AGENT_TYPING_STATUS":case "ERROR":break;default:throw new t(c);}},error:()=>{},complete:()=>{}})};
A1i=function(a,b){a.store.w3&&b.w3!==a.store.w3&&D1i(a,a.store.w3);a.ga.kRi(b.w3);a.uTf.set(b.gha,b.w3);a.DAj.forEach(c=>c({w3:b.w3}))};B1i=function(a,b){b.type==="AGENT_TEXT"?a.kgh.forEach(c=>c({text:b.text,w3:F1i(a,b),B0:b.B0,type:"text"})):a.kgh.forEach(c=>{var d;return c({text:(d=b.altText)!==null&&d!==void 0?d:b.dj,w3:F1i(a,b),B0:b.B0,dj:b.dj,type:"file"})})};__c.C1i=async function(a){a.store.status!==3&&(D1i(a,a.store.w3),await a.ga.f2e({Aef:!1,span:new __c.Wb}),G1i(a,{Aef:!1}))};
D1i=function(a,b){b&&a.EAj.forEach(c=>c({w3:b}))};H1i=function(a){a.WKj.forEach(b=>b())};G1i=function(a,b){a.UKj.forEach(c=>c(b))};__c.I1i=function(a,b){a.xGl.forEach(c=>c({B0:b}))};F1i=function(a,b){var c;return b.type==="AGENT_TEXT"&&b.w3?b.w3:b.gha==="system"&&a.store.w3?a.store.w3:(c=a.uTf.get(b.gha))!==null&&c!==void 0?c:b.gha};J1i=function(a){var b,c;return((b=a.storage)===null||b===void 0?void 0:b.getItem(a.Ksj))===((c=a.V)===null||c===void 0?void 0:c.user.id)};
L1i=function(a){if(a.type==="TERMINAL"){if(a.reason.type==="UNSAFE_REPLY")throw new __c.K1i(a.reason.text);throw Error(a.reason.text);}};M1i=function(a){return a.type==="START"};N1i=function(a){return a.type==="TEXT"};O1i=function(a){return a.type==="SUGGESTED_UTTERANCES"};P1i=function(a){return a.type==="START"||a.type==="ACTIONS"};T1i=function({owa:a}){const b=[];Xa("8a0bac93",!1)&&b.push(new Q1i);Xa("f73bcfbc",!1)&&b.push(new R1i);return new __c.S1i(a,b)};
V1i=function(a){a.hi.lCa.register(3,{responder:()=>__webpack_require__.me(535387).then(()=>__c.U1i).then(({ewh:b})=>b(a))})};X1i=function(a){a.hi.lCa.register(6,{responder:()=>__webpack_require__.me(152222).then(()=>__c.W1i).then(({zfn:b})=>b(a))})};
a2i=function({fa:a,hi:b,xjb:c,Cx:d,fra:e,N$:f,$Cb:g,I:h}){const k=h.errorService,l=h.Ka,n=T1i({owa:h.owa});V1i({hi:b,xjb:c,Cx:d,fra:e,N$:f,Pyb:n,$Cb:g});const p=new Y1i(a);b.lCa.register(5,{responder:()=>__webpack_require__.me(137904).then(()=>__c.Z1i).then(q=>new q.b5g(p,n,d,l,f))});b.lCa.register(1,{responder:()=>__webpack_require__.me(532728).then(()=>__c.$1i).then(q=>new q.xbh)});X1i({fa:a,hi:b,xjb:c,fra:e,Pyb:n,I:{errorService:k}})};
c2i=function(){var a=window.location.pathname;if(a.startsWith(__c.eg([128])))return 3;a=__c.fh(a);return b2i(a)};b2i=function(a){switch(a){case 129:return 1;default:return 2}};d2i=function(){const a=c2i();switch(a){case 2:return"home";case 1:return"editor";case 3:return"settings";default:throw new t(a);}};
e2i=function({V:a,Ze:b,La:c,naa:d,I:e,ja:f,ZJ:g,za:h}){let k;g&&a&&(k=async()=>{const n=g.JSa,p=g.KSa,[{KK:q},r,u,v,w,x,y]=await Promise.all([__c.RYi(),e.vf(),e.hm(),e.Ny(),e.lBa(),g.Nv?e.iF(g.Nv):void 0,n&&p?e.lV(n,p):void 0]);await q({hya:12,Rca:__c.lp.uua,zb:a.user,X:a.Oa.brand.id,ja:f,te:()=>e.Ad.reload(),ZJ:g,La:c,za:h,Ze:b,I:{...e,jd:r,nv:x,Xg:v,Xfa:y,hU:w,xg:u}})});let l;d&&a&&(l=async()=>{const {LTa:n}=await __c.O_i();await n({zb:a.user,X:a.Oa.brand.id,I:e,za:h,ja:f,naa:d,La:c})});return{KK:k,
LTa:l}};a0i={eventType:"help_center_button_clicked",Ra(a){return Db({analytics_session:a.BF,target:a.target,page:a.page,location:a.location,usage_context:a.rU,is_chat_available:a.o9h,is_chat_session_ended:a.dAr,support_tier:a.ZSd})}};b0i={eventType:"help_center_action_completed",Ra(a){return Db({analytics_session:a.BF,type:a.type,status:a.status,failure_reason:a.Xr,page:a.page,location:a.location,query:a.query,result:a.result,source:a.source,usage_context:a.rU,support_tier:a.ZSd,conversation_id:a.vt})}};
c0i={eventType:"help_center_issue_auto_resolved",Ra(a){return Db({action_taken:a.xVa,root_cause:a.cda,page:a.page,location:a.location,usage_context:a.rU})}};d0i={eventType:"help_center_rating_clicked",Ra(a){return Db({analytics_session:a.BF,interaction_id:a.interactionId,conversation_id:a.vt,is_satisfied:a.w1b,location:a.location,page:a.page,source:a.source,result:a.result,usage_context:a.rU})}};
f0i={eventType:"assistant_eligibility_checked",Ra(a){return Db({eligible:a.cFa,check_type:a.p_m,location:a.location,analytics_session:a.BF})}};f2i=__webpack_require__(613444);g2i=f2i.Fragment;CD=__c.CD=f2i.jsx;GD=f2i.jsxs;var h2i=__webpack_require__,i2i=h2i(208463),j2i=h2i.n_x(i2i)();var h0i=__webpack_require__(813494).observer;var k2i=__webpack_require__(366533),l2i=k2i.createRef,m2i=k2i.Fragment,n2i=k2i.memo,o2i=k2i.useCallback,j0i=k2i.useEffect,p2i=k2i.useMemo,i0i=k2i.useRef,q2i=k2i.useState;var r2i;r2i=__webpack_require__(400770);s2i=__c.s2i=r2i.action;t2i=__c.t2i=r2i.computed;FD=__c.FD=r2i.observable;o1i=__c.o1i=r2i.runInAction;var u2i=__webpack_require__(628181).Y;var v2i=__webpack_require__(73531).t;var q1i=__webpack_require__(268245).p;var r1i=__webpack_require__(316440).s;__c.s1i=__webpack_require__(311264).w;var w2i=__webpack_require__(660264).m;x2i=__c.x2i=__webpack_require__(450117).B7;__c.y2i=__webpack_require__(114496).u;var z2i=__webpack_require__(741430).M;var A2i=__webpack_require__(213427).h;var B2i=__webpack_require__(67498).S;var C2i=__webpack_require__(535921).T;var D2i=__webpack_require__(486047).H;var E2i=__webpack_require__(792216).o;var F2i=__webpack_require__(790337).$;var G2i=__webpack_require__(153181).j;var H2i=class{getContext(){return{jA:this.cM.getSessionId(),location:this.cM.getLocation(),version:"lite"}}track(a,b){this.fa.track(a,{...b,HM:this.getContext()})}Mga(a,b){this.fa.Mga(a,{...b,HM:this.getContext()})}constructor(a,b){this.fa=a;this.cM=b}};var I2i='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.9 8.808C7.985 6.629 9.453 5 12.2 5c2.501 0 4.187 1.487 4.187 3.543 0 1.458-.739 2.49-1.99 3.24-1.221.719-1.572 1.221-1.572 2.178v.568h-1.96l-.01-.72c-.047-1.364.53-2.216 1.828-2.993 1.146-.692 1.554-1.231 1.554-2.188 0-1.042-.843-1.8-2.14-1.8-1.308 0-2.151.767-2.236 1.98H7.9ZM11.963 19c-.87 0-1.468-.578-1.468-1.44 0-.88.597-1.458 1.469-1.458.87 0 1.458.577 1.458 1.458 0 .862-.587 1.44-1.459 1.44Z" fill="currentColor"/></svg>';__c.m0i=__c.Vi({medium:I2i});var n0i=({la:a,isOpen:b,...c})=>CD(__c.sj,{variant:"primary",active:b,icon:b?__c.Xh:a,ariaLabel:b?V("PgSMew"):V("lnzzqw"),tb:b?V("PgSMew"):V("lnzzqw"),...c});var l0i=({className:a,...b})=>CD(__c.m0i,{className:j2i(a,"StoIYg"),...b});var K2i=({fa:a,Wl:b,mE:c,hi:d,xjb:e,xka:f,cM:g,Cx:h,V:k,fra:l,mG:n,VZc:p,N$:q,gia:r,hf:u,SO:v,cCd:w,nec:x,ft:y,Lwk:A,ha:B,va:D,wi:F,$Cb:G,I,r5r:J=!0,ob:O,EA:P})=>{const R=da=>I.errorService.ia(da),T=()=>D.status===__c.db.$d,U=FD.box(),Y=FD.box(),aa=()=>{var da=U.get();if(da){const ia=da.Ahd;da=da.mOa;return y()?da:ia}return y()?void 0:fa},fa=k0i({mE:c,Zb:T,isOpen:()=>d.isOpen(),iOc:da=>d.toggle(da,!1)});return{AQ:h0i(()=>{const da=aa(),ia=Y.get();j0i(()=>{J&&d.init()},[]);return(v===null||v===void 0?
0:v.get())?null:GD(__c.Ff,{Tc:R,children:[da&&CD(da,{}),ia&&CD(ia,{})]})}),y1c:()=>Promise.all([__webpack_require__.me(414097).then(()=>__c.J2i),I.eLa()]).then(([{fbb:da},ia])=>{const {Ahd:X,mOa:ba,u$a:ha,ga:la,store:ka}=da({Button:fa,fa:a,Wl:b,mE:c,hi:d,xjb:e,xka:f,cM:g,Cx:h,V:k,fra:l,mG:n,VZc:p,N$:q,gia:r,hf:u,Zb:T,cCd:w,nec:x,ft:y,Lwk:A,ha:B,wi:F,$Cb:G,EA:P,ob:O,I:{...I,JAa:ia}});o1i(()=>{U.set({Ahd:X,mOa:ba});Y.set(ha)});return{ga:la,store:ka}})}};var L2i=class{static G(a){Q(a,{footer:FD.ref})}constructor(){this.ONa=(L2i.G(this),!1);this.id=__c.Wa();this.nodeRef=l2i();this.footer=void 0}};var M2i;({W3a:M2i}=__c.xD());
N2i=__c.N2i=class extends L2i{static G(a){Q(a,{oxj:FD.ref,Fye:FD.ref,Gye:t2i,actions:t2i,Rsd:s2i})}get tRe(){var a,b;return(b=(a=this.ea)===null||a===void 0?void 0:a.tRe)!==null&&b!==void 0?b:!1}get ZPi(){var a;return this.NBd?CD(__c.Wg,{size:"xsmall",name:(a=this.ea)===null||a===void 0?void 0:a.xLc,backgroundColor:M2i?"#8b3dff":void 0}):CD(__c.tD,{size:"medium"})}get Gye(){var a,b,c,d;const e=(b=this.ea)===null||b===void 0?void 0:(a=b.actions)===null||a===void 0?void 0:a.get();if(e===null||e===void 0?
0:e.length){if(((d=this.ea)===null||d===void 0?0:(c=d.AWi)===null||c===void 0?0:c.get())||this.Fye)return!1}else return!1;return!0}get actions(){var a,b;const c=(b=this.ea)===null||b===void 0?void 0:(a=b.actions)===null||a===void 0?void 0:a.get();if(c!==null&&c!==void 0&&c.length&&this.Gye)return c.map(d=>({...d,onClick:()=>{d.onClick();d.nRb&&o1i(()=>{this.Fye=!0})}}))}get dw(){return this.oxj}get lMd(){return this.kHm}Rsd(a,b){this.oxj=a;this.kHm=b}get g2c(){return!1}get NBd(){var a;return((a=this.ea)===
null||a===void 0?0:a.xLc)?!0:!1}get Yic(){}constructor(a,b){super();this.ea=b;this.ma=(N2i.G(this),void 0);this.Fye=this.Roa=!1;this.zQ=h0i(()=>{var c;return(c=this.actions)!==null&&c!==void 0&&c.length&&this.Gye?CD(Z,{paddingTop:M2i?"2u":void 0,children:CD(nf,{spacing:M2i?"1u":"0",align:"stretch",role:"list",children:this.actions.map((d,e)=>GD(m2i,{children:[!M2i&&e>0&&CD(Z,{rb:"1u",children:CD(__c.ak,{})}),CD("div",{role:"listitem",children:CD(this.yQ,{action:d,hno:e!==0&&d.Db!=="automation_flow"})})]},
d.key))})}):null});this.yQ=h0i(({action:c,hno:d})=>{var e=c.la;const f=c.label,g=c.description,h=c.onClick,k=c.isDisabled;c=c.Db;c==="automation_flow"&&M2i?e=CD(__c.zA,{border:"low",qg:"card",Vf:"bgColorTransition",layout:"horizontal",onClick:h,disabled:k===null||k===void 0?void 0:k(),content:GD(Z,{alignItems:"center",display:"flex",width:"full",justifyContent:"center",padding:"0",children:[e&&CD(Z,{children:CD(__c.tA,{background:"none",children:CD(e,{size:"large",tone:"primary",className:"iBdacw"})})}),
GD(nf,{spacing:"0",children:[CD(__c.qA,{children:f}),CD(__c.rA,{children:g})]})]})}):(d=M2i?c==="exclusive"?"primary":__c.xD().OKh?"secondary":d||c==="deterministic_flow"||c==="clarifying"?"secondary":"primary":"linkButton",e=CD(__c.xf,{alignment:"center",variant:d,disabled:k===null||k===void 0?void 0:k(),onClick:h,stretch:!(c==="deterministic_flow"&&M2i),children:GD(Z,{padding:"1u",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:M2i?"center":void 0,children:[e&&GD(g2i,{children:[CD(e,
{size:"medium"}),CD(__c.Uh,{size:"1u"})]}),CD(W,{weight:M2i&&c==="deterministic_flow"?"regular":"bold",tone:__c.kj,children:f})]})}));return e});this.ma=this.g2c?c=>CD(a,{...c}):h0i(c=>{var d;return GD(nf,{spacing:"1u",align:"start",children:[M2i?GD(Z,{display:"flex",flexDirection:"column",alignItems:"start",width:"full",children:[CD(Z,{padding:this.NBd?"2u":void 0,Eo:this.NBd?void 0:"0.5u",background:this.NBd?"tabdock":void 0,borderRadius:this.NBd?"containerStandard":void 0,children:CD(a,{...c})}),
this.Gye&&CD(Z,{className:"chB3Rg",Cqa:"stretch",children:CD(this.zQ,{})}),this.NBd&&GD(g2i,{children:[CD(__c.Uh,{size:"1u"}),this.ZPi]})]}):GD(Yh,{spacing:"1u",Da:"end",children:[CD(Zh,{width:"content",children:this.ZPi&&CD(Zh,{width:"content",children:this.ZPi})}),CD(Zh,{children:GD(nf,{spacing:"0",align:"stretch",children:[CD(Z,{padding:"2u",background:"tabdock",className:j2i("_7cYPtw",{Pw056w:!this.Gye}),children:CD(a,{...c})}),this.Gye&&CD(Z,{background:"page",border:"low",borderTop:"none",className:"chB3Rg",
children:CD(this.zQ,{})})]})})]}),GD(Z,{Eo:M2i?void 0:"4u",children:[(b===null||b===void 0?void 0:b.gb)&&CD(b.gb,{}),GD(nf,{spacing:"0.5u",children:[c.feedback,!(b===null||b===void 0?0:(d=b.AWi)===null||d===void 0?0:d.get())&&c.footer]})]})]})})}};var p0i=class extends N2i{constructor(a){super(()=>GD(nf,{spacing:"0.5u",children:[GD(Yh,{Da:"start",spacing:"0",children:[CD(__c.rC,{size:"medium",tone:"positive"}),CD(__c.Uh,{size:"1u",direction:"horizontal"}),CD(W,{size:"medium",weight:"bold",tone:"success",children:a.title})]}),a.description&&CD(W,{size:"medium",children:a.description})]}))}};var P2i=class{qgc(a,b){switch(a.key){case "update-invoice":return{key:a.key,render:()=>this.lxh(b),Db:"inline"}}}async lxh(a){return Promise.all([__webpack_require__.me(371166).then(()=>__c.O2i),this.ea.I.tia()]).then(([{lxh:b},c])=>b({...this.ea,V:this.ea.V,I:{...this.ea.I,nq:c},AGa:this.lRp(),onClose:()=>this.ea.hi.jWa(),k3b:this.ekb,hh:(d,e,f)=>q0i(this,{...a,title:d,description:e,Gyo:f}),source:this.ff,loadOverlay:this.loadOverlay}))}constructor(a){this.ea=a;this.ff="assistant";this.lRp=()=>{({Ftb:c,
Gd:b}={Ftb:"show_edit_invoice_entry_point",Gd:"update-invoice"});var b,c;return()=>{__c.AD(this.ea.hf,{location:b,source:this.ff,status:"succeeded",type:c})}};this.loadOverlay=async b=>{await this.ea.hi.loadOverlay(Promise.resolve(b))};this.ekb=()=>{this.ea.ft()&&this.ea.hi.close({uya:"internal_link",JC:"external_link_clicked"})}}};var r0i=class{ZAc(a,b,c){const d=__c.yVi(a);if(d!=null){switch(d.pathname.split("/")[1]){case "":var e=this.lWh(d);break;case "design":var f=/^\/design\/(D[\w-_]{10,})/.exec(d.pathname);if(f){f=f[1];var g=d.pathname.split("/").slice(3),h;g.length===0?e=h=void 0:g.length===1?g[0]==="edit"||g[0]==="view"?(h=void 0,e=g[0]):(h=g[0],e=void 0):g.length===2&&(h=g[0],e=g[1]);h=h?new __c.Tj({default:h}):void 0;e=e==="edit"?this.Ea.Gz({id:f,...(h&&{extensions:h})}):e==="view"?this.Ea.ngc?this.Ea.ngc({id:f,
...(h&&{extensions:h})}):this.Ea.MQa({id:f}):this.Ea.MQa({id:f})}else e=void 0;break;case "help":e=this.iWh(d);break;case "settings":e=this.cZh(d);break;default:e=void 0}e===void 0&&(e=this.Ca.Ao({url:__c.rg(a),target:2}));b&&this.vn.wfh(a,b,!!e);return{Ia:e,onClick:this.hYh(d,c)}}}lWh(a){switch(a.pathname){case "/":var b;return(b=this.Ga)===null||b===void 0?void 0:b.Nk({})}}iWh(a){var b,c;const d=a.href.split("/help")[1].slice(1);if(d==="")return(b=this.Ka)===null||b===void 0?void 0:b.omb({});if(d.includes("get-in-touch/contact-support")){var e;
a=a.searchParams;var f,g,h,k;b=__c.Ch({MQ:(f=a.get("issue_category"))!==null&&f!==void 0?f:void 0,eVb:(g=a.get("issue"))!==null&&g!==void 0?g:void 0,flow:(h=a.get("flow"))!==null&&h!==void 0?h:void 0,step:(k=a.get("step"))!==null&&k!==void 0?k:void 0});return(e=this.Ka)===null||e===void 0?void 0:e.p8({ly:b})}return(c=this.Ka)===null||c===void 0?void 0:c.p8({ly:d})}cZh(a){var b,c;const d=a.pathname.split("/settings")[1].slice(1);if(d==="privacy-preferences")return(b=this.Hb)===null||b===void 0?void 0:
b.XAc();b=null;d==="print-orders"?b=a.searchParams.get("printOrder"):(a=/^purchase-history\/print-order\/(P[\w-_]{10,})/.exec(d))&&(b=a[1]);if(b)return(c=this.Hb)===null||c===void 0?void 0:c.sxd({Do:b!==null&&b!==void 0?b:void 0})}hYh(a,b){const c=this.qUh(a.searchParams.get("variant"));if(this.zSa&&a.pathname.startsWith("/help/get-in-touch/general-feedback"))return()=>this.zSa({JC:"help_automation_assistant",variant:c,designId:b})}qUh(a){switch(a){case "general-bug-feedback":return this.uT?"staff-bug-feedback":
"general-bug-feedback";case "general-report-bug":return this.uT?"staff-report-bug":"general-report-bug";default:return this.uT?"staff-feedback":"general-feedback"}}constructor(a){const b=a.Ea,c=a.uT,d=a.Ca,e=a.Ka,f=a.Ga,g=a.zSa,h=a.Hb;this.vn=a.vn;this.Ea=b;this.uT=c;this.Ca=d;this.Ka=e;this.Ga=f;this.zSa=g;this.Hb=h}};var s0i=({children:a,ZAc:b,gua:c,url:d})=>{const e=b(d);b=f=>{if(e===null||e===void 0?0:e.onClick)f.preventDefault(),e.onClick();c===null||c===void 0||c(d)};return e?CD(__c.ih,{Ia:e.Ia,onClick:b,target:"_blank",children:a}):a};var Q2i=H(()=>({eab:M(1),continuation:M(2),limit:__c.Zb(4,100),vt:L(5)}));var R2i=__c.K(()=>[0,1,2,3]);w0i=__c.w0i=H(()=>({id:L(1),eventId:M(2)}));__c.v0i=H(()=>({source:__c.Ma(1,R2i),content:L(2),Fh:__c.C(3,w0i),actions:__c.La(4,__c.bZh),timestamp:__c.ac(5),xLc:M(6)}));var S2i=class{get xg(){return this.Rid||(this.Rid=this.hm())}async TAc(a){if(!a.continuation)return{messages:[],mEc:0,continuation:void 0};try{const b=await this.xg;if(!b||!a.session.Dxa)return{messages:[],mEc:0};const {messages:c,continuation:d,vTf:e}=await b.iek(new Q2i({continuation:a.continuation==="INITIAL"?void 0:a.continuation,limit:a.limit,vt:a.session.Dxa.vt}));if(c===null||c===void 0||!c.length)return{messages:[],mEc:0};let f=c.map(k=>{var l=a.session,n,p,q,r=k.source===1?2:3;a:switch(k.Dtg){case "TEXT_MESSAGE":var u=
k.text;break a;case "FILE_MESSAGE":u=k.altText?k.source===1?k.altText:`[${k.altText}](${k.dj})`:k.dj;break a;case "LEGACY_MESSAGE":var v;u=(v=k.content)!==null&&v!==void 0?v:V("6n4ygQ");break a;default:throw new t(k);}return new __c.v0i({source:r,content:u,Fh:new w0i({id:(p=(n=l.ZCd)===null||n===void 0?void 0:n.id)!==null&&p!==void 0?p:"",eventId:void 0}),timestamp:k.timestamp,xLc:k.gha?(q=e.get(k.gha))!==null&&q!==void 0?q:k.gha:void 0})}).sort((k,l)=>k.timestamp-l.timestamp),g;a.continuation===
"INITIAL"&&a.session.uZ===2&&(f=f.filter(k=>k.timestamp<=a.session.Dd),g=u0i(c));const h=Math.max(...f.map(k=>k.timestamp));return{messages:f,continuation:d,mEc:h,vTf:e,Gon:g}}catch(b){return this.errorService.ia(b,{ta:"Error getting chat history"}),{messages:[],mEc:0}}}constructor(a,b){this.hm=a;this.errorService=b}};var T2i=H(()=>({sessionId:L(1),continuation:M(2),limit:__c.Zb(3,100),Tce:__c.ec(4)}));var U2i=class{get JAa(){return this.TGm||(this.TGm=this.eLa())}async TAc(a){if(!a.session.ZCd||!a.continuation)return{messages:[],mEc:0,continuation:void 0};try{const b=await this.JAa,{V8n:c,continuation:d}=await b.Ik(new T2i({sessionId:a.session.jA,continuation:a.continuation==="INITIAL"?void 0:a.continuation,limit:a.limit?a.limit/2:void 0,Tce:a.Tce})),e=x0i(c,a.session),f=Math.max(0,...c.map(g=>{var h;return(h=g.$pa)!==null&&h!==void 0?h:0}));return{messages:e,continuation:d,mEc:f}}catch(b){return this.errorService.ia(b,
{ta:"Error getting help automation history"}),{messages:[],mEc:0,continuation:void 0}}}constructor(a,b){this.eLa=a;this.errorService=b}};var u1i,y0i;__c.V2i=class extends Error{};__c.W2i=class extends __c.V2i{};u1i=class extends __c.V2i{};y0i=class extends Error{};var X2i=__c.K(()=>[1,2]);var Y2i=H(()=>({vt:L(1),feedbackId:M(2),CNb:M(3),f8d:__c.ic(4)}));Z2i=__c.Z2i=H(()=>({jA:L(1),ZCd:__c.E(2,w0i),Dd:__c.ac(3),userId:L(4),isOpen:__c.ic(5),uZ:__c.Ma(6,X2i,1),Dxa:__c.E(8,Y2i)}));var $2i=Xa("beca4d70",10)*6E4,a3i=class{getSession(){const a=(new Date).getTime();let b;try{var c;const f=(c=this.storage)===null||c===void 0?void 0:c.getItem("ui.assistant.help_automation_assistant.session");b=f?Z2i.deserialize(JSON.parse(f)):void 0}catch(f){return this.yQb(a)}try{const f=this.V.user.id;if(!b||b.userId!==f||b.Dd<=a-$2i)return this.yQb(a);b.uZ===2&&b.Dxa&&z0i(this,b.Dxa);return b}catch(f){var d,e;this.errorService.ia(f,{ta:"Error getting session ID"});(d=this.storage)===null||d===
void 0||d.removeItem("ui.assistant.help_automation_assistant.session");return new Z2i({jA:this.sLg(),Dd:(new Date).getTime(),userId:(e=this.V)===null||e===void 0?void 0:e.user.id,uZ:1})}}yQb(a){var b,c;a=new Z2i({jA:this.sLg(),Dd:a!==null&&a!==void 0?a:(new Date).getTime(),userId:(b=this.V)===null||b===void 0?void 0:b.user.id,uZ:1});(c=this.storage)===null||c===void 0||c.setItem("ui.assistant.help_automation_assistant.session",JSON.stringify(Z2i.serialize(a)));return a}updateSession({isOpen:a,uZ:b,
Dxa:c,Dd:d}){try{var e;const f=this.getSession();(e=this.storage)===null||e===void 0||e.setItem("ui.assistant.help_automation_assistant.session",JSON.stringify(Z2i.serialize(new Z2i({...f,isOpen:a,uZ:b!==null&&b!==void 0?b:f.uZ,Dxa:c!==null&&c!==void 0?c:f.Dxa,Dd:d!==null&&d!==void 0?d:f.Dd}))))}catch(f){this.errorService.ia(f,{ta:"Error updating session"})}}init({p4e:a=!1}={}){!this.isInitialized&&this.mG&&(this.mG.addListener({type:"chat_session_start",nk:b=>{(b===null||b===void 0?0:b.vt)&&this.updateSession({uZ:2,
Dxa:new Y2i({vt:b.vt,f8d:!1,feedbackId:b.vt,CNb:void 0})})}},{fireImmediately:a}),this.mG.addListener({type:"chat_session_end",nk:b=>{const c=this.getSession();b=c.Dxa?new Y2i({vt:c.Dxa.vt,f8d:b===null||b===void 0?void 0:b.Aef,feedbackId:c.Dxa.vt,CNb:b===null||b===void 0?void 0:b.B0}):void 0;this.updateSession({Dxa:b,uZ:1})}}),this.mG.addListener({type:"chat_agent_message_received",nk:b=>{const c=this.getSession();c.Dxa&&b.B0&&this.updateSession({Dxa:new Y2i({vt:c.Dxa.vt,f8d:c.Dxa.f8d,feedbackId:c.Dxa.vt,
CNb:b.B0}),Dd:Date.now()})}}),this.mG.addListener({type:"chat_user_message_sent",nk:b=>{const c=this.getSession();c.Dxa&&this.updateSession({Dxa:new Y2i({vt:c.Dxa.vt,f8d:c.Dxa.f8d,feedbackId:c.Dxa.vt,CNb:b.B0}),Dd:Date.now()})}}),this.isInitialized=!0)}async TAc(a){try{var b,c;const e=this.getSession();var d;const f=(d=a===null||a===void 0?void 0:a.continuation)!==null&&d!==void 0?d:{TYf:"INITIAL",Jrg:"INITIAL",ub:!1},[g,h]=await Promise.all([(b=this.WZm)===null||b===void 0?void 0:b.TAc({continuation:f.TYf,
limit:20,session:e}),this.Ywo.TAc({continuation:f.Jrg,Tce:a===null||a===void 0?void 0:a.Tce,limit:20,session:e})]);if(g===null||g===void 0?0:g.vTf)(c=this.mG)===null||c===void 0||y1i(c,g.vTf,g.Gon);return B0i(g,h,f)}catch(e){return this.errorService.ia(e,{ta:"Error getting messages"}),{messages:[],continuation:void 0}}}constructor(a,b,c,d,e){var f=__c.He();this.V=a;this.errorService=b;this.Ywo=c;this.WZm=d;this.mG=e;this.sLg=__c.Wa;this.storage=f;this.isInitialized=!1}};var b3i=class{wfh(a,b,c){this.results.push({action:"link_shown",category:b,isValid:c,url:a})}rHf(a,b,c){this.fa.track(__c.U_i,{interactionId:a,jA:b,url:c,location:this.cM.getLocation()})}TVg(a,b){this.results.length!==0&&(this.fa.track(__c.S_i,{interactionId:a,jA:b,results:this.results}),this.results=[])}constructor(a,b){this.fa=a;this.cM=b;this.results=[]}};var c3i=class{getSessionId(){return this.sessionId}constructor(a,b){this.getLocation=a;this.xka=b;this.sLg=__c.Wa;this.sessionId=this.sLg();this.xka&&({jA:a}=this.xka.getSession(),this.sessionId=a)}};var d3i='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 15c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7Zm2.99-8.45a.722.722 0 1 1-1.444 0 .722.722 0 0 1 1.444 0Zm-5.258.722a.722.722 0 1 0 0-1.445.722.722 0 0 0 0 1.445ZM2.072 8A5.936 5.936 0 0 1 8 2.071 5.936 5.936 0 0 1 13.929 8 5.936 5.936 0 0 1 8 13.929 5.936 5.936 0 0 1 2.071 8Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.006 9.755c-1.11 0-2.122.583-2.786 1.535a.625.625 0 0 1-1.025-.714c.866-1.243 2.24-2.071 3.81-2.071 1.571 0 2.945.828 3.812 2.07a.625.625 0 0 1-1.025.715c-.664-.952-1.676-1.535-2.786-1.535Z" fill="currentColor"/></svg>';var e3i='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.001 21.802c-5.405 0-9.801-4.397-9.801-9.801S6.596 2.2 12 2.2s9.801 4.396 9.801 9.801-4.397 9.801-9.801 9.801ZM16.188 9.97a1.011 1.011 0 1 1-2.022 0 1.011 1.011 0 0 1 2.022 0Zm-7.363 1.011a1.011 1.011 0 1 0 0-2.022 1.011 1.011 0 0 0 0 2.022ZM3.7 12.001C3.7 7.424 7.424 3.7 12 3.7s8.301 3.724 8.301 8.301-3.724 8.301-8.301 8.301-8.3-3.724-8.3-8.301Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.009 14.458c-1.554 0-2.97.817-3.9 2.15a.875.875 0 0 1-1.436-1c1.213-1.74 3.137-2.9 5.336-2.9 2.2 0 4.123 1.16 5.336 2.9a.875.875 0 0 1-1.435 1c-.93-1.333-2.347-2.15-3.901-2.15Z" fill="currentColor"/></svg>';var f3i=__c.Vi({small:d3i,medium:e3i});var {Dwb:g3i}=__c.xD(),X0i=class extends N2i{static G(a){Q(a,{lOg:FD.ref})}get g2c(){return g3i}constructor(a){super(()=>g3i?GD(Z,{display:"flex",flexDirection:"column",alignItems:"start",width:"full",children:[CD(Z,{Eo:"0.5u",children:CD(W,{children:V("zqo8tA")})}),CD(Z,{className:"chB3Rg",Cqa:"stretch",children:CD(this.hhm,{})})]}):CD(W,{children:V("zqo8tA")}),{actions:g3i?void 0:t2i(()=>[{key:"positive_rating",label:V("/KMZCQ"),la:__c.b9h,onClick:()=>{a.tSa(1)},Db:"standard"},{key:"negative_rating",
label:V("xlCzmA"),la:f3i,onClick:()=>{a.tSa(2)},Db:"standard"}])});this.tSa=(X0i.G(this),void 0);this.lOg=!1;this.hhm=h0i(()=>{if(!this.lOg)return CD(Z,{paddingTop:"2u",children:GD(Yh,{spacing:"1u",Da:"start",children:[CD(Zh,{children:CD(this.$pj,{bGe:__c.j_i.gOf,label:V("/KMZCQ"),onClick:()=>{o1i(()=>{this.lOg=!0});this.tSa(1)}})}),CD(Zh,{children:CD(this.$pj,{bGe:__c.h_i.gOf,label:V("xlCzmA"),onClick:()=>{o1i(()=>{this.lOg=!0});this.tSa(2)}})})]})})});this.$pj=h0i(({bGe:b,label:c,onClick:d})=>{const [e,
f]=q2i(!1),{$Rd:g,$ze:h}=p2i(()=>({$Rd:()=>f(!0),$ze:()=>f(!1)}),[f]);return CD(__c.Zj,{onBlur:h,onClick:d,onFocus:g,onMouseEnter:g,onMouseLeave:h,tone:"secondary",padding:"1u",borderRadius:"element",border:"low",width:"full",alignItems:"center",children:GD(Z,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"full",children:[CD(Z,{display:"inline-flex",justifyContent:"center",alignItems:"center",className:"w2Q3pw",children:CD(Z,{className:j2i("g9w54A",{jCZiZw:__c.Eb.Bc}),
children:CD(b,{animate:e})})}),CD(__c.Uh,{size:"1u"}),CD("div",{className:"bCSciw",children:CD(W,{weight:"bold",tone:__c.kj,children:c})})]})})});this.tSa=a.tSa}};W0i=__c.W0i=class extends N2i{constructor(a){super(()=>CD(W,{children:CD(__c.Pf,{message:a})}),void 0)}};ED=__c.ED=class extends L2i{static G(a){Q(a,{bEb:FD.ref,nAf:s2i})}nAf(a){this.bEb=a}constructor(a){super();this.Roa=(ED.G(this),!0);this.shg=()=>{var c;((c=this.bEb)===null||c===void 0?void 0:c.type)==="ERROR"&&this.bEb.ii&&this.bEb.ii()};this.C4n=c=>{if(c.key==="Enter"||c.key===" ")c.preventDefault(),this.shg()};const b=typeof a==="string";this.ma=h0i(()=>{var c,d,e,f,g;const h=((c=this.bEb)===null||c===void 0?void 0:c.type)==="ERROR"&&this.bEb.ii?{onClick:this.shg,onKeyDown:this.C4n,tabIndex:0,
role:"button",className:"WDkuWQ"}:{};return CD("div",{...h,children:GD(nf,{spacing:"0.5u",align:"end",children:[GD(__c.Qg,{spacing:"0.5u",align:"end",Da:"center",children:[CD(Z,{className:"kPk2aw",padding:"2u",borderRadius:"container",children:b?CD(W,{tagName:"span",Vl:!0,children:a}):a}),((d=this.bEb)===null||d===void 0?void 0:d.type)==="ERROR"&&this.bEb.ii&&CD(__c.Yt,{tone:"critical"}),((e=this.bEb)===null||e===void 0?void 0:e.type)==="ERROR"&&!this.bEb.ii&&CD(__c.vj,{tone:"critical"}),((f=this.bEb)===
null||f===void 0?void 0:f.type)==="PENDING"&&CD(__c.Qz,{})]}),((g=this.bEb)===null||g===void 0?void 0:g.type)==="ERROR"&&CD(W,{size:"small",tone:"critical",children:this.bEb.message})]})})})}};__c.DD=a=>{switch(a){case 1:return"c4e_fix_flow";default:return"nfp_fix_flow"}};var K0i=class{Fg(a,b){this.Byi[a]=b}aOb(a,b){C0i(this,()=>{const c=this.Byi[a];c&&c.openDialog(b)},b)}constructor(a){this.ea=a;this.Byi={}}};var D0i=H(()=>({uWc:__c.Ma(2,__c.QZi)}));var h3i=class{get xg(){return this.Rid||(this.Rid=this.ea.hm())}constructor(a){this.ea=a;this.CD=0}};var i3i=({index:a,YQd:b})=>CD("div",{className:"X2AIsQ DJYiZA",children:GD(Yh,{spacing:"2u",align:"center",Da:"center",children:[CD(Zh,{width:"content",children:CD("div",{className:"yPZ_FA",children:CD(__c.If,{shape:"square",index:a})})}),CD(Zh,{children:GD(nf,{align:"start",spacing:"1.5u",children:[b&&CD("div",{className:"_GNaZw",children:CD(Tg,{index:a})}),CD("div",{className:"_4o2ygQ",children:CD(__c.Rg,{index:a})}),CD("div",{className:"_239L6Q",children:CD(Tg,{index:a})})]})})]})});var j3i=a=>CD("div",{className:"X2AIsQ DJYiZA",children:GD(nf,{spacing:"2u",children:[GD(__c.Qg,{spacing:"1u",Da:"center",children:[CD("div",{className:"yPZ_FA",children:CD(__c.If,{shape:"circle",index:a.index})}),CD("div",{className:"_GNaZw",children:CD(Tg,{})})]}),GD(nf,{align:"start",spacing:"1.5u",children:[CD("div",{className:"_239L6Q",children:CD(Tg,{})}),CD("div",{className:"_239L6Q",children:CD(Tg,{})})]})]})});var l3i=a=>{const b=a.channel,c=a.disabled,d=a.loading,e=a.onClick;a=a.OWc===k3i;return CD(__c.vh,{className:j2i("DJYiZA","tlGGHg unS_Qw LQzFZw VgvqkQ",b.className,{tegMSg:c,_2IkdQw:d}),Dfa:!0,alignment:"start",onClick:e,disabled:c,loading:d,children:CD("div",{className:"aP_ceQ",children:GD(Yh,{spacing:"2u",align:"center",Da:"center",children:[CD(Zh,{width:"content",children:CD("div",{className:"_64timg",children:CD(b.icon,{size:"medium"})})}),CD(Zh,{children:GD(nf,{align:"start",spacing:"0",children:[b.header,
CD(W,{weight:"bold",children:b.title}),(a||b.description)&&CD(W,{size:"small",children:a?V("8zKYdw"):b.description})]})})]})})})};var p3i=a=>{const b=a.channel,c=a.disabled,d=a.jlb,e=a.errorMessage,f=a.loading,g=a.mode;a=a.onClick;return CD(Z,{border:"low",borderRadius:"element",padding:"3u",width:"full",children:GD(nf,{spacing:"2u",children:[b.FIl&&CD(__c.yj,{tone:"warn",size:"small",bf:!0,children:CD(W,{size:"small",weight:"bold",children:b.FIl})}),GD(nf,{spacing:"1u",children:[CD(m3i,{channel:b,mode:g}),CD("div",{className:j2i({_4pcI2Q:d&&g===n3i}),children:CD(__c.Et,{spacing:"0",children:b.details.map((h,k)=>CD(__c.Ft,{children:CD(W,
{size:"medium",children:h})},k))})})]}),GD(nf,{spacing:"1u",align:"start",children:[CD(__c.xf,{variant:b.Y1f,onClick:a,disabled:c,loading:f,stretch:g===o3i,children:b.Ir}),e&&CD(W,{size:"small",tone:"critical",children:e})]})]})})},m3i=({channel:a,mode:b})=>b===n3i?GD(nf,{spacing:"1u",children:[GD(Yh,{spacing:"1u",Da:"center",children:[CD(Zh,{width:"content",children:CD(q3i,{channel:a})}),a.oMb&&CD(Zh,{children:CD(Z,{display:"flex",justifyContent:"end",children:CD(r3i,{channel:a})})})]}),CD(__c.lj,
{size:"xsmall",children:a.title})]}):GD(__c.Qg,{spacing:"1u",Da:"center",children:[CD(q3i,{channel:a}),CD(__c.lj,{size:"xsmall",children:a.title}),a.oMb&&CD(r3i,{channel:a})]}),q3i=({channel:a})=>CD("div",{className:"tyN6nQ",children:CD(a.icon,{size:"medium"})}),r3i=({channel:a})=>CD(__c.bg,{tone:"assistLow",text:a.oMb});var o3i,n3i,k3i,t3i,s3i;o3i=0;n3i=1;k3i=1;
t3i=n2i(({channels:a,CD:b,jlb:c,x2e:d,mode:e,dqi:f,isp:g,variant:h="standard"})=>{const k=c?j3i:i3i,l=b===0;let n=1;h==="enterprise_support"?n=a.length>1?2:1:c&&e===1&&(n=2);const p=o2i(q=>{if(q.key===1&&b!==1)return 1;if(g!=null&&g!==q.key)return 2},[b,g]);return CD("div",{className:"W0CRbQ",children:CD(__c.aj,{columns:n,spacing:"1u",children:a.map((q,r)=>l?CD(k,{index:r,YQd:!!q.header},r):CD(s3i,{channel:q,OWc:p(q),jlb:c,errorMessage:d===q.key?V("50dB0g"):void 0,loading:g===q.key,mode:e,dqi:f},
q.key))})})});__c.u3i=__c.du(({width:a})=>({mode:a<=400?0:1}))(t3i);s3i=({channel:a,OWc:b,jlb:c,errorMessage:d,loading:e,mode:f,dqi:g})=>{const h=o2i(()=>g(a.key),[g,a.key]);return CD(c?p3i:l3i,{channel:a,disabled:!!b,OWc:b,jlb:c,errorMessage:d,loading:e,mode:f,onClick:h},a.title)};var {W3a:T0i,Dwb:U0i}=__c.xD(),v3i=class{qgc(a,b){const c=this.ea.V,d=b.dw;if(c&&d)switch(a.key){case "missing_designs_fix_flow--lets_find_your_design":return{key:a.key,la:T0i?__c.hr:void 0,label:V("cHlYpg"),description:V("v/8Zww"),onClick:()=>{const h=I0i(this,{...b,V:c,dw:d,l1c:"lets_find_your_design",title:V("cHlYpg")});this.ea.hi.loadOverlay(h);this.ea.hi.jq(new ED(V("cHlYpg")))},mmf:this.kHf({Ftb:"show_missing_designs_entry_point",Gd:"missing_designs_fix_flow"}),nRb:!0,Db:"automation_flow"};
case "missing_designs_fix_flow--part_of_design_missing":return{key:a.key,la:T0i?__c.hr:void 0,label:V("bDW+Hw"),description:V("i1pSCQ"),onClick:()=>{const h=I0i(this,{...b,V:c,dw:d,l1c:"part_of_design_missing",title:V("bDW+Hw")});this.ea.hi.loadOverlay(h);this.ea.hi.jq(new ED(V("bDW+Hw")))},mmf:this.kHf({Ftb:"show_missing_designs_entry_point",Gd:"missing_designs_fix_flow"}),nRb:!0,Db:"automation_flow"};case "missing_pro_features_fix_flow":return{key:a.key,la:T0i?__c.hr:void 0,label:V("LqXV4w"),description:V("hC9w+A"),
onClick:()=>{const h=L0i(this,{...b,V:c,dw:d,title:V("LqXV4w")});this.ea.hi.loadOverlay(h);this.ea.hi.jq(new ED(V("LqXV4w")))},mmf:this.kHf({Ftb:"show_missing_pro_features_entry_point",Gd:"missing_pro_features_fix_flow"}),nRb:!0,Db:"automation_flow"};case "print_order_fix_flow":return{key:a.key,la:T0i?__c.M_i:void 0,label:V("HT3PMg"),description:V("Y9P53g"),onClick:()=>{const h=N0i(this,{...b,V:c,dw:d,title:V("HT3PMg")});this.ea.hi.loadOverlay(h);this.ea.hi.jq(new ED(V("HT3PMg")))},mmf:this.kHf({Ftb:"show_print_order_entry_point",
Gd:"print_order_fix_flow"}),nRb:!0,Db:"automation_flow"};case "cancel-print-order":const g=a.Iv;return(g===null||g===void 0?void 0:g.type)!=="PRINT_ORDER_DETAILS"?void 0:{key:a.key,la:T0i?__c.M_i:void 0,label:V("Y+C/+A"),description:V("jbiKnA"),onClick:()=>{const h=Q0i(this,{...b,V:c,title:V("Y+C/+A"),Do:g.Do});this.ea.hi.loadOverlay(h);this.ea.hi.jq(new ED(V("Y+C/+A")))},nRb:!0,Db:"automation_flow"};case "c4e_application_flow":return this.ea.KK?{key:a.key,la:T0i?__c.Qt:void 0,label:V("KwfqWQ"),description:S("kGaD4w",
[Nf(this.ea.La.getName(14))]),onClick:this.ea.KK,Db:"automation_flow"}:void 0;case "nfp_application_flow":var e;return(e=this.ea.Wl.dca)!==null&&e!==void 0&&e.G1j&&this.ea.LTa?{key:a.key,la:T0i?__c.Pr:void 0,label:V("KwfqWQ"),description:S("kGaD4w",[Nf(V("djOEWg"))]),onClick:this.ea.LTa,Db:"automation_flow"}:void 0;case "c4e_nfp_fix_flow":var f;return(f=this.ea.Wl.dca)!==null&&f!==void 0&&f.G1j?{key:a.key,la:T0i?__c.SZi:void 0,label:V("J2zOeQ"),description:V("bcF3tA"),onClick:()=>{const h=S0i(this,
{...b,V:c,dw:d,title:V("J2zOeQ")});this.ea.hi.loadOverlay(h);this.ea.hi.jq(new ED(V("J2zOeQ")))},mmf:()=>{[1,2].forEach(h=>{this.kHf({Ftb:"show_c4e_nfp_entry_point",Gd:__c.DD(h)})()})},nRb:!0,Db:"automation_flow"}:void 0}}XOb(a){return b=>{a.FFb(b==="good"?1:2)}}constructor(a){this.ea=a;this.ff="assistant";this.kHf=({Ftb:b,Gd:c})=>()=>{__c.AD(this.hf,{location:c,source:this.ff,status:"succeeded",type:b})};this.hf=a.hf}};__c.w3i=class{Weg(a,b){return a.map(c=>{const d=this.qgc(c,b);if(d&&!__c.Y0i(d))return{...d,onClick:()=>{d.onClick();this.zOc(d.key,b)}}}).filter(__c.Ua)}qgc(a,b){for(const c of this.ea.TIi){const d=c.qgc(a,b);if(d)return d}}zOc(a,b){var c,d;this.ea.wa.track(__c.P_i,{action:a,jA:b.jA,fg:"click",interactionId:b.interactionId,location:this.ea.cM.getLocation(),method:"interacted",dA:(c=(d=this.ea).VZc)===null||c===void 0?void 0:c.call(d)})}constructor(a){this.ea=a}};__c.w3i.prototype.ndd=ea(331);var x3i=H(()=>({interactionId:L(2)}));__c.y3i=h0i(({hJ:a,htb:b=m2i,node:c})=>{const d=o2i(f=>f.map((g,h)=>CD(__c.y3i,{hJ:a,htb:b,node:g},h)),[a,b]),e=o2i(f=>{switch(f.type){case "emphasis":case "strong":return CD("b",{children:d(f.children)});case "list":var g;return CD(W,{Vl:!0,tagName:"div",children:f.ordered?CD("ol",{className:"v4L0bg",start:(g=f.start)!==null&&g!==void 0?g:void 0,children:d(f.children)}):CD("ul",{className:"v4L0bg",children:d(f.children)})});case "listItem":return CD("li",{children:d(f.children)});case "link":return a?
CD(a,{url:f.url,children:d(f.children)}):CD("b",{children:f.url});case "heading":case "paragraph":return CD(W,{Vl:!0,children:d(f.children)});case "root":return CD(nf,{spacing:"1u",children:d(f.children)});case "text":case "inlineCode":return CD(g2i,{children:f.value});case "thematicBreak":return CD(__c.ak,{});case "code":return CD(W,{Vl:!0,children:f.value});default:return null}},[a,d]);return CD(b,{children:e(c)})});__c.f1i=class extends N2i{constructor(a,b){a=(b===null||b===void 0?0:b.hJ)?Z0i(a):a;const c=u2i(a);super(()=>CD(__c.y3i,{hJ:b===null||b===void 0?void 0:b.hJ,node:c}),b)}};__c.$0i="missing-pro-features charge-help credit-debit-card-error double-charge design-missing change-email add-team-members remove-from-team team-ownership-transfer team-member-charge help-placing-new-order print-order-status-undelivered cancel-print-order update-print-order order-return-to-sender reordering-print-item using-coupon-codes late never-received damaged items-missing incorrect marks sizing text paper".split(" ");var z3i=class{qgc(a,b){const c=this.ea.V,d=b.dw,e=a.Iv;if(c&&d)switch(a.key){case "create-support-ticket":case "retry-create-support-ticket":var f;const k=(f=this.ea.V)===null||f===void 0?void 0:f.user.email;if(!k||(e===null||e===void 0?void 0:e.type)!=="SUPPORT_REQUEST_DETAILS")break;return{key:a.key,label:V("9TokYQ"),la:__c.er,description:V("TmYqKQ"),onClick:async()=>{this.ea.hi.jq(new ED(V("9TokYQ")));await this.ykb({Iv:e,Gd:"assistant_support_handoff_quick_action",email:k,dw:d,$U:2,interactionId:b.interactionId})},
nRb:!0,Db:"automation_flow"};case "start-live-chat":case "contact-support--livechat":var g;const l=this.ea.mG;f=(g=this.ea.Wl.dca)===null||g===void 0?void 0:g.fS;if(!l||!f||(e===null||e===void 0?void 0:e.type)!=="LIVE_CHAT_DETAILS")break;return{key:a.key,label:V("ZDymaQ"),la:Xa("65a9eba3",!1)?__c.K_i:__c.UYi,description:V("3IztDw"),onClick:async()=>{this.ea.hi.jq(new ED(V("ZDymaQ")));const p=a.key==="contact-support--livechat";await d1i(this,{Iv:e,mG:l,dw:d,interactionId:b.interactionId,Obc:p?"intent_based_contact_flow":
"generative_flow",Gd:p?"assistant_contact_support":"assistant_support_handoff_quick_action",$U:p?4:2})},nRb:!0,Db:"automation_flow"};case "contact-support":if(!Xa("bdec2f8e",!1))break;const n=Xa("65a9eba3",!1)?V("DMZt6w"):V("XZYy6Q");return{key:a.key,label:n,la:Xa("65a9eba3",!1)?__c.UYi:void 0,description:Xa("65a9eba3",!1)?V("rXCOQw"):void 0,onClick:async()=>{const p=await this.$eg({interactionId:b.interactionId});p&&(this.ea.hi.jq(new ED(n)),await g1i(this,{dw:d,interactionId:b.interactionId,Bla:p}))},
nRb:!0,Db:Xa("65a9eba3",!1)?"automation_flow":"clarifying"};case "contact-support--email":if((e===null||e===void 0?void 0:e.type)==="SUPPORT_REQUEST_DETAILS"){var h=Xa("65a9eba3",!1)?V("GbfkrQ"):V("9TokYQ");return{la:__c.er,Db:"automation_flow",key:a.key,label:h,description:Xa("65a9eba3",!1)?V("cTzq1w"):V("TmYqKQ"),onClick:async()=>{this.ea.hi.jq(new ED(h));var p=b.interactionId;const q=__c.Ch();this.hf.gua({interactionId:p,location:"assistant_contact_support",$a:q,id:q,title:"Contact Flow in Ask Canva"});
p=i1i(this,{...b,Iv:e,V:c,Ja:this.ea.Ja,La:this.ea.La,I:{...this.ea.I,nq:await this.ea.I.tia(),KW:await this.ea.I.ula(),xg:await this.ea.I.hm()},title:V("DMZt6w")});this.ea.hi.loadOverlay(p)},nRb:!0}}}}async $eg(a){await this.ea.hi.t9("loading");try{return await (await this.ea.I.eLa()).$eg(new x3i({interactionId:a.interactionId}))}catch(b){return this.ea.I.errorService.ia(b,{ta:"No issue type or category found"}),{sK:"none-of-the-above",Fic:"none-of-the-above",y1b:""}}finally{await this.ea.hi.t9("completed")}}async ykb(a){await this.ea.hi.t9("loading");
const b=a.Iv;try{var c,d;const e=await this.ea.I.hm(),f=((c=b.Bla)===null||c===void 0?void 0:c.type)==="PRINT_DETAILS",{id:g}=await e.ykb(new __c.PZi({form:new __c.wZi({sK:b.sK,OCa:b.OCa,rje:1,description:b.YTg,d5b:f?new __c.qZi({tF:b.Bla.Do,Nfe:b.Bla.Nfe}):void 0}),metadata:new __c.uD({bta:location.pathname,GA:(d=this.ea.Wl.dca)===null||d===void 0?void 0:d.userAgent,QCc:b.transcript,eab:a.interactionId}),t1d:new __c.HZi({jA:this.ea.cM.getSessionId(),$U:2})}));this.Ida({interactionId:a.interactionId,
feedbackId:g,Oea:7,Gd:a.Gd});this.ea.hi.jq(new W0i(S("pGfLtg",[Nf(a.email)])))}catch(e){this.ea.I.errorService.ia(e,{ta:"Error creating support ticket:"}),c1i(this,{...a,message:V("NvYfKA")})}finally{await this.ea.hi.t9("completed")}}Ida(a){this.hf.Ida({vt:a.vt,feedbackId:a.feedbackId,jla:__c.Ah.Ki.S9b,ebb:!1,HPa:!1,D5d:!1,e8d:!1,rod:!1,Fqd:!1,Oea:a.Oea,F$:1,location:a.Gd,interactionId:a.interactionId})}constructor(a){this.ea=a;this.hf=new __c.w_i(a.fa,()=>a.cM.getSessionId(),"assistant",a.cM.getLocation())}};var A3i=class{qgc(a){const b=this.ea.Ae,c=this.ea.Gd;if(this.ea.V)switch(a.key){case "upgrade-plan":if(b){var d=Xa("e957d8dd",!1);g0i(this.ea.hf,{cFa:d,p_m:"upgrade_your_plan_quick_action_display",location:c});return d?{key:a.key,label:V("gf6Uag"),la:__c.Rs,onClick:async()=>{b()},Db:"standard"}:void 0}}}constructor(a){this.ea=a}};var l1i=class{qgc(a){switch(a.key){case "submit-wish":return{key:"submit-wish",Db:"exclusive",label:V("gkdGEQ"),onClick:()=>{this.hi.loadOverlay(this.dln())}}}}constructor(a,b){this.hi=a;this.dln=b}};__c.B3i="image/jpeg image/png image/heic image/heif application/pdf video/mp4 video/quicktime video/x-m4v video/webm video/x-matroska application/json image/gif video/avi video/x-msvideo video/mpeg".split(" ");var C3i;C3i=class{static G(a){Q(a,{status:FD.ref,w3:FD.ref,vt:FD.ref,connectionStatus:FD.ref})}constructor(){this.status=(C3i.G(this),1);this.connectionStatus=0}};
__c.D3i=class{static G(a){Q(a,{vrb:s2i,Lte:s2i,f2e:s2i,ZHg:s2i,kRi:s2i})}get xg(){return this.Rid||(this.Rid=this.ea.hm())}get ptl(){return this.rHm||(this.rHm=this.ea.Gdb())}async vrb(a){var b,c,d,e;n1i(this);const f=(b=a.CFc.d5b)===null||b===void 0?void 0:b.tF;b=await this.ptl;let g=a.CFc.h1c;var h=Xa("91013d08",3200);(h=Math.min(h,3200))&&g.length>h&&(g=g.slice(-h),this.ea.errorService.warning(`Initial chat message truncated to ${h} characters`));this.pbb=b.QWh(new __c.n_i({...a.CFc,h1c:g,jA:a.CFc.jA,
Obc:w1i(a.CFc.Obc),d5b:f?new __c.qZi({tF:f,XDi:x1i((c=a.CFc.d5b)===null||c===void 0?void 0:c.mbp),yxa:(d=a.CFc.d5b)===null||d===void 0?void 0:d.Yap,Nfe:(e=a.CFc.d5b)===null||e===void 0?void 0:e.wnk}):void 0,$U:a.CFc.$U}),this.Kca).pipe(v2i());this.d1i=this.pbb.subscribe({next:k=>{k.type==="AGENT_TEXT"?this.CNb=k.B0:k.type==="MESSAGE_ACKNOWLEDGE"&&(this.CNb=k.B0);this.t6.next(k)}});p1i(this,b);({vt:a}=await t1i(this,this.pbb));return{stream:this.t6,vt:a}}async Lte(a){if(!this.pbb||this.ea.store.vt!==
a.vt)if(this.dGg)await this.dGg;else return this.dGg=(async()=>{try{n1i(this);const b=await this.ptl;this.pbb=b.QWh(new __c.o_i({vt:a.vt,continuation:a.continuation}),this.Kca).pipe(v2i());this.d1i=this.pbb.subscribe({next:d=>{d.type==="AGENT_TEXT"?this.CNb=d.B0:d.type==="MESSAGE_ACKNOWLEDGE"&&(this.CNb=d.B0);this.t6.next(d)}});p1i(this,b);const {vt:c}=await t1i(this,this.pbb);return{stream:this.t6,vt:c}}catch(b){throw this.pbb=void 0,b;}finally{this.dGg=void 0}})()}async f2e(a){if(a.Aef&&this.pbb){var b;
var c=(b=a.Yqa)!==null&&b!==void 0?b:__c.Wa();a=__c.v1i({Yqa:c,stream:this.pbb,span:a.span});this.Kca.next(new __c.p_i({Yqa:c}));c=(await a).B0}this.t6.complete();this.Kca.complete();n1i(this);this.t6=new w2i(1);this.Kca=new x2i;this.CNb=void 0;o1i(()=>{this.ea.store.status=3});return{B0:c}}async VKg(a){if(!this.pbb)throw Error("Chat session not started");const b=__c.v1i({Yqa:a.Yqa,stream:this.pbb,span:a.span});this.Kca.next(new __c.r_i({text:a.text,Yqa:a.Yqa}));return b}async Nw(a,b){try{if(a.size<=
0)throw new __c.W2i("File is empty");if(a.size/1024/1024>50)throw new __c.W2i("Maximum file size (50mb) is exceeded");const c=__c.Jf(a);if(!__c.B3i.includes(c.type))throw new __c.W2i(`File type (${c.type}) is not supported`);const d=await this.xg;b.addEvent("get_upload_form");const {iO:e,qx:f}=await d.L4a(new __c.VZi({mimeType:c.type,target:3}));a={file:c,qx:f,url:e};b.addEvent("upload_to_s3");await this.ea.Gh.upload(a);const g=f.get("key");if(g===void 0)throw new u1i("Key was not returned from upload or was not defined");
return g}catch(c){b.addEvent("upload_file_error");this.ea.errorService.ia(c);if(c instanceof __c.W2i)throw c;throw new u1i("Failed to upload file");}}ZHg(){this.ea.store.status=1;this.CNb=this.ea.store.w3=void 0}kRi(a){this.ea.store.w3=a}constructor(a){this.ea=a;this.Kca=(__c.D3i.G(this),new x2i);this.t6=new w2i(1)}};__c.D3i.prototype.myf=ea(333);__c.E3i=class{async vrb(a){return this.da.Fp("start_chat_session",{Hc:{name:"chat.start",type:a.Obc}},async b=>{if(this.store.status===2){const e=this.store.vt;if(e)return z1i(this,{vt:e}),await this.VKg(a.h1c,__c.Wa(),b),{vt:e}}const {stream:c,vt:d}=await this.ga.vrb({CFc:a,span:b});z1i(this,{vt:d});E1i(this,c);return{vt:d}})}async Lte(a){if(this.store.status!==3)return this.da.Fp("reconnect_chat_session",{Hc:{name:"chat.reconnect"}},async b=>{b=await this.ga.Lte({...a,span:b});if(b===null||b===
void 0?0:b.stream)E1i(this,b.stream),H1i(this)})}async f2e(){return this.da.Fp("end_chat_session",{Hc:{name:"chat.end"}},async a=>{a=await this.ga.f2e({Aef:!0,span:a});G1i(this,{Aef:!0,B0:a===null||a===void 0?void 0:a.B0})})}async VKg(a,b,c){return this.da.he("send_message",c,{Hc:{name:"chat.send_message",type:"text"}},async d=>{d=await this.ga.VKg({text:a,Yqa:b,span:d});d.B0&&__c.I1i(this,d.B0)})}addListener(a,b={}){switch(a.type){case "chat_session_start":this.XKj.push(a.nk);b.fireImmediately&&
this.store.status===2&&a.nk({vt:this.store.vt});break;case "chat_session_reconnect":this.WKj.push(a.nk);b.fireImmediately&&this.store.status===2&&a.nk();break;case "chat_session_end":this.UKj.push(a.nk);b.fireImmediately&&this.store.status===3&&a.nk();break;case "chat_feedback_submitted":this.VKj.push(a.nk);break;case "chat_agent_join":this.DAj.push(a.nk);break;case "chat_agent_leave":this.EAj.push(a.nk);break;case "chat_agent_message_received":this.kgh.push(a.nk);break;case "chat_user_message_sent":this.xGl.push(a.nk);
break;default:throw new t(a);}}constructor({errorService:a,hm:b,Gdb:c,Gh:d,da:e}){this.XKj=[];this.WKj=[];this.UKj=[];this.VKj=[];this.DAj=[];this.EAj=[];this.kgh=[];this.xGl=[];this.uTf=new Map;this.da=e;this.store=new C3i;this.ga=new __c.D3i({store:this.store,errorService:a,hm:b,Gdb:c,Gh:d,da:e})}};__c.E3i.prototype.jXg=ea(334);__c.E3i.prototype.myf=ea(332);var F3i=class{get xg(){return this.Rid||(this.Rid=this.ea.hm())}constructor(a){this.ea=a}};var G3i=class{constructor(a){this.Ksj="PHONE_NUMBER_VERIFIED_USER";this.V=a;this.storage=__c.He()}};var I3i=({fa:a,V:b,pMa:c,Ze:d,I:{errorService:e,Ca:f,Ka:g,dnb:h,lca:k,Ba:l,qa:n,Hq:p},ja:q})=>{if(c&&b)return async r=>{const [{Ohn:u},v]=await Promise.all([__webpack_require__.me(885119).then(()=>__c.H3i),h===null||h===void 0?void 0:h()]),w=new G3i(b);if(J1i(w))r();else{var x=u({Ca:f,Ka:g,hh:()=>{r();w.V&&w.storage&&w.storage.setItem(w.Ksj,w.V.user.id)},X8:{V:b,pMa:c,Ze:d,I:{wa:a,errorService:e,dnb:v?()=>Promise.resolve(v):void 0,lca:k,Ba:l,qa:n,Hq:p},source:"ask-canva"}});q(x)}}};var Y1i=class{$Vg(a,b){this.results.size!==0&&(this.fa.track(__c.S_i,{interactionId:a,jA:b,results:Array.from(this.results)}),this.results.clear())}constructor(a){this.fa=a;this.results=new Set}};__c.K1i=class extends Error{};__c.J3i=class extends Error{constructor(a,b){super(a);this.$P=b}};
__c.S1i=class{get Mfe(){return this.qdh||(this.qdh=this.owa())}async SWh(a){var b=await this.Mfe;const c=new x2i,d=new x2i;a=b.CDf(new __c.cZi(a),c).pipe(z2i(L1i),(0,__c.s1i)(15E3),(0,__c.y2i)());b=A2i(a,d);const e=b.pipe(q1i(N1i),B2i(({answer:k},l)=>{l=l.text;for(const n of this.Hyo)l=n.U1k(l),l.actions&&d.next(new __c.cZh({actions:l.actions})),l=l.delta;return{answer:k+l,delta:l}},{answer:""}),v2i(1)),f=__c.vD(b.pipe(q1i(P1i),B2i((k,l)=>k.concat(l.actions),[]),C2i(k=>__c.Wf(k,l=>l.key)),D2i())).catch(k=>
{if(k instanceof __c.WYi)return[];throw k;}),g=__c.vD(b.pipe(q1i(O1i),B2i((k,l)=>k.concat(l.ktl),[]),E2i(1))).catch(k=>{if(k instanceof __c.WYi)return[];throw k;}),h=__c.Da();b.pipe(q1i(M1i),F2i()).subscribe({next:k=>{h.resolve({oMe:f,PIp:g,Iwa:e,Q1a:k.Q1a})},error:h.reject});a.pipe(G2i(()=>{d.complete()})).subscribe();return h.promise}async eWh(a){const b=await this.Mfe,c=new x2i;return b.BDf(new __c.cZi(a),c).pipe(z2i(L1i),q1i(N1i),B2i((d,e)=>({answer:d.answer+e.text,delta:e.text}),{answer:""}),
(0,__c.s1i)(15E3),v2i(1))}constructor(a,b){this.owa=a;this.Hyo=b}};__c.S1i.prototype.UWh=ea(335);var Q1i=class{U1k(a){if(!a.includes(this.Fnj))return{delta:a};const b=a.match(this.$0l);return b&&b[1]?{delta:b[1],actions:[new __c.bZh({key:"contact-support"})]}:{delta:a}}constructor(){this.Fnj="/help/contact-us";this.$0l=new RegExp(`\\[(.*)\\]\\(.*canva.*com${this.Fnj}.*\\)`)}};var R1i=class{U1k(a){if(!a.includes(this.juj))return{delta:a};const b=a.match(this.Mrm);return b&&b[1]?{delta:b[1],actions:[new __c.bZh({key:"submit-wish"})]}:{delta:a}}constructor(){this.juj="/help/submit-wish";this.Mrm=new RegExp(`\\[(.*)\\]\\(.*canva.*com${this.juj}.*\\)`)}};__c.K3i={Teo:async function({Wl:a,mE:b,hi:c,Cx:d,V:e,Ja:f,La:g,ha:h,Psa:k,va:l,Au:n,Ze:p,EA:q,ob:r,I:u,nec:v,ja:w,skeleton:x,da:y,za:A}){var B,D,F,G,I,J,O,P=u.N,R=u.Ea;const T=u.errorService,U=u.Ca,Y=u.Ka,aa=u.Ga,fa=u.Ba,da=u.dnb,ia=u.uL,X=u.eLa,ba=u.hm,ha=u.Gdb,la=u.lca,ka=u.qa,na=u.Hq,oa=u.Gh,xa=u.Hb,ua=()=>__c.Qe({default:!0,Aa:!1},__c.mg.Lt());var ya=(B=a.dca)===null||B===void 0?void 0:B.fS;let Ba;if(ya){Ba=new __c.E3i({errorService:T,hm:ba,Gdb:ha,Gh:oa,da:y});var va=new S2i(ba,T)}y=new h3i({errorService:T,
hm:ba,fS:ya});B=new F3i({errorService:T,hm:ba,byc:!((D=a.dca)===null||D===void 0||!D.byc)});ya=new U2i(X,T);D=((F=a.dca)===null||F===void 0?0:F.DHn)?new a3i(e,T,ya,va,Ba):void 0;va=r?()=>{r.Tj(__c.cC.NH,"assistant",{trigger:"intentional"})}:void 0;const Ca=new c3i(()=>d2i(),D);F=new H2i(P,Ca);const {LTa:Ia,KK:Na}=e2i({V:e,Ze:p,La:g,naa:(G=a.dca)===null||G===void 0?void 0:G.naa,I:u,ja:w,ZJ:(I=a.dca)===null||I===void 0?void 0:I.ZJ,za:A});A=new __c.w_i(F,()=>Ca.getSessionId(),"assistant",Ca.getLocation());
n=new v3i({fa:F,cM:Ca,Wl:a,hi:c,V:e,Xua:y,Ja:f,mG:Ba,EJa:B,La:g,hf:A,Au:n,I:u,KK:Na,LTa:Ia,ft:ua});g=new z3i({fa:F,Wl:a,hi:c,cM:Ca,V:e,mG:Ba,Xua:y,EJa:B,Ja:f,La:g,I:u});G=m1i({V:e,hi:c,hf:A,I:u});f=new P2i({hi:c,V:e,Ja:f,hf:A,I:u,ft:ua});I=new A3i({V:e,Ae:va,hf:A,Gd:Ca.getLocation()});f=new __c.w3i({wa:F,cM:Ca,TIi:[n,g,G,I,f]});g=new b3i(F,Ca);P=__c.b1a({N:P,Tsd:!0,errorService:T,Ca:U,Ka:Y,hm:ba,locale:e.user.locale,page:"home",Gh:oa,ja:w,rU:"assistant"});R=t0i({vn:g,Ea:R,uT:(J=a.dca)===null||J===
void 0?void 0:J.uT,Ca:U,Ka:Y,Ga:aa,zSa:P,Hb:xa});const {AQ:Fa,y1c:Qa}=K2i({fa:F,Wl:a,mE:b,hi:c,xjb:g,xka:D,cM:Ca,Cx:d,V:e,fra:R,mG:Ba,N$:()=>c2i(),hf:A,SO:t2i(()=>b2i(k.get())===1),nec:v,cCd:!0,ft:ua,ha:h,va:l,zSa:P,$Cb:f,EA:q,ob:r,I:{errorService:T,Ca:U,Ka:Y,Ga:aa,uL:ia,eLa:X,hm:ba,Gdb:ha,Ba:fa,Gh:oa,Hb:xa}});a2i({fa:F,hi:c,xjb:g,Cx:d,fra:R,N$:()=>c2i(),$Cb:f,I:u});const Va=I3i({fa:F,V:e,pMa:(O=a.dca)===null||O===void 0?void 0:O.pMa,Ze:p,I:{errorService:T,Ca:U,Ka:Y,dnb:da,lca:la,Ba:fa,qa:ka,Hq:na},
ja:w});o1i(()=>{b.YVa.Component=o0i({locale:e.user.locale});b.YVa.SO=t2i(()=>[__c.dh,48].includes(k.get()));x.AQ=Fa;b.oZk.iCf=Va});return{y1c:Qa}}};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/117_sourcemaps/704d208e89a8a7c3.js.map