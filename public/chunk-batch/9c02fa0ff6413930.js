;// __FILE_CONTENT_FOR__:9c02fa0ff6413930.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[516371],{

/***/ 579174:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);__web_req__(666594);__web_req__(475673);__web_req__(118299);__web_req__(279688);__web_req__(663142);__web_req__(234887);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var lg=__c.lg;var Faz,Daz,Haz,Jaz,Kaz,Laz,Maz,Caz;
Faz=async function(a){Caz(()=>a.loading=!0);try{const b=a.session.Oa.brand.Lm;if(a.rfe){const l=await Promise.all([a.QDd(),Daz(a),a.pgf()]),[{hMa:n,RY:p},q,r]=l,u=q.role,v=!n||n.a7.length===0||n.a7.includes(u),w=new Eaz(n,p,v,u===lg.hq||u===lg.Su,b,r===null||r===void 0?void 0:r.email);Caz(()=>{a.Hv=w;a.rfe=!0});return w}if(b){const {hMa:l,RY:n}=await a.QDd(),p=new Eaz(l,n,!0,!0,b,a.session.user.email);Caz(()=>{a.Hv=p;a.rfe=!0});return p}const c=await Promise.all([a.QDd(),a.Pei()]),[{hMa:d,RY:e},{kT:f,
LR:g}]=c,h=!d||d.a7.length===0||d.a7.includes(f),k=new Eaz(d,e,h,f===lg.hq||f===lg.Su,b,g);Caz(()=>{a.Hv=k;a.rfe=!0});return k}finally{Caz(()=>a.loading=!1)}};Daz=async function(a){a=await a.qa.Pea(new __c.ss({brand:a.session.Oa.brand.id,Rg:[a.session.user.id],aLa:!0,limit:1,BV:!0}));return __c.m(a.ro[0])};Haz=function(a){if(a!=null)return Gaz.get(a)};__c.viy=function({V:a,Au:b,I:{Jb:c,qa:d}}){return new Iaz(a,b,c,d)};Jaz=__webpack_require__(400770);Kaz=Jaz.action;Laz=Jaz.computed;Maz=Jaz.observable;
Caz=Jaz.runInAction;var Naz=__c.H(()=>({F7n:__c.M(11),mode:__c.z("A?",2,"BRAND_WITH_PAYMENT_METHODS"),currency:__c.L(31),country:__c.M(32),brand:__c.L(33),projection:__c.Pa(34,__c.kDc)}));var Gaz=new Map([["AU","AUD"],["US","USD"],["DE","EUR"],["NL","EUR"],["CL","CLP"]]),Eaz=class{constructor(a,b,c,d,e,f){this.account=a;this.RY=b;this.oUc=c;this.lRa=d;this.V$=e;this.LR=f}},Oaz=class{constructor(a){this.Cj=a.Cj;this.ama=a.ama;this.a7=a.a7;this.Mfb=a.Mfb;this.Oz=a.Oz;this.o2=a.o2;this.S0=a.S0}},Iaz=class{static G(a){__c.Q(a,{Hv:Maz.ref,rfe:Maz.ref,loading:Maz.ref,cca:Laz,account:Laz,RY:Laz,bC:Laz,oUc:Laz,lRa:Laz,V$:Laz,LR:Laz,Ox:Kaz})}get cca(){return!this.loading&&this.rfe}get account(){var a;
return(a=this.Hv)===null||a===void 0?void 0:a.account}get RY(){var a,b;return(b=(a=this.Hv)===null||a===void 0?void 0:a.RY)!==null&&b!==void 0?b:[]}get bC(){var a;return(a=this.account)===null||a===void 0?void 0:a.Cj}get oUc(){var a,b;return(b=(a=this.Hv)===null||a===void 0?void 0:a.oUc)!==null&&b!==void 0?b:!1}get lRa(){var a;return(a=this.Hv)===null||a===void 0?void 0:a.lRa}get V$(){var a;return(a=this.Hv)===null||a===void 0?void 0:a.V$}get LR(){var a;return(a=this.Hv)===null||a===void 0?void 0:
a.LR}jS(){this.YRf||(this.YRf=Faz(this).catch(a=>{this.Ox();throw a;}));return this.YRf}Ox(){this.Hv=this.YRf=void 0}async QDd(){var a=Haz(this.Au.lck);const b=a==null?this.Au.countryCode:this.Au.lck,c=a||this.Au.gd.currency;a=await __c.Nk(()=>this.Jb.$Ac(new Naz({brand:this.session.Oa.brand.id,currency:c,country:b,projection:[1,7,8,10]})),g=>g instanceof __c.uc,4);const {DVb:d,zGj:e,hO:f}=a!==null&&a!==void 0?a:{DVb:void 0,zGj:void 0,hO:[]};return{hMa:d?new Oaz({...d,o2:d.pTj,S0:e===null||e===void 0?
void 0:e.S0}):void 0,RY:f.slice()}}async Pei(){var a=this.session.user;let b=a.brands.get(this.session.Oa.brand.id);b==null&&(b=(await Daz(this)).role);if(b===lg.hq||b===lg.Su)return{kT:b,LR:a.email};a=await this.pgf();return{kT:b,LR:a===null||a===void 0?void 0:a.email}}async pgf(){const a=await this.qa.Pea(new __c.Zjm({brand:this.session.Oa.brand.id,Zi:[lg.Su],aLa:!0,limit:1,BV:!0}));return a.ro.length?a.ro[0]:void 0}constructor(a,b,c,d){this.session=a;this.Au=b;this.Jb=c;this.qa=d;this.YRf=(Iaz.G(this),
void 0);this.loading=this.rfe=!1}};__c.osa={};__c.osa.Euh=__c.viy;
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/15_sourcemaps/9c02fa0ff6413930.js.map