(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[996338],{

/***/ 130423:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var M=__c.M;var z=__c.z;var H=__c.H;var xzi,yzi,zzi,Azi,Bzi;__c.wzi=async function({za:a,errorService:b,Te:c,Ha:d}){if(d){var [e,{rnn:f}]=await Promise.all([__webpack_require__.me(27955).then(()=>__c.uzi).then(({Kem:g})=>new g(c,d)),__webpack_require__.me(284916).then(()=>__c.vzi)]);a.hzf(f({errorService:b,XAe:e}));a.Bxe(e)}};xzi=function(a,b){let c;if(b===null||b===void 0?0:b.rd){var d;const e=b.rd;if(b=b.Fa||e.NCa)c=(d=a.Inp)===null||d===void 0?void 0:d.startSpan(b,e.xa)}return c};
yzi=function(a,{body:b,odb:c,span:d}){return[{name:"Content-Type",value:b!=null?"application/json;charset=UTF-8":void 0},{name:"X-Canva-Active-User",value:a.tEa.O_d},{name:"X-Canva-Analytics",value:a.tEa.Rc},{name:"X-Canva-Api",value:a.a1d},{name:"X-Canva-App",value:a.app},{name:"X-Canva-Auth",value:a.tEa.ftc},{name:"X-Canva-Authz",value:a.tEa.LHb},{name:"X-Canva-Brand",value:a.tEa.QTc},{name:"X-Canva-Build-Name",value:a.tEa.k3d},{name:"X-Canva-Build-Sha",value:a.tEa.l3d},{name:"X-Canva-Locale",value:a.tEa.Qgf},
{name:"X-Canva-Request",value:c===null||c===void 0?void 0:c.Fa},{name:"X-Canva-Request-Case",value:c===null||c===void 0?void 0:c.akp},{name:"X-Canva-Service-Method",value:c===null||c===void 0?void 0:c.Fyf},{name:"X-Canva-Traceparent",value:d!=null?__c.XPa(d):void 0},{name:"X-Canva-User",value:a.tEa.jEe}].filter(function(e){return e.value!=null})};
zzi=function(a,b){b=new Headers(b.reduce((d,e)=>{d[e.name]=e.value;return d},{}));const c=b.get("x-canva-auth");c!=null&&(a.tEa.ftc=c!=="!"?c:void 0);b=b.get("x-canva-authz");b!=null&&(a.tEa.LHb=b!=="!"?b:void 0)};Azi=function(a){try{return __c.sa(JSON.parse(a))}catch(b){throw new __c.pb(b);}};
Bzi=function(a){if(a.body==null)return{endUserMessage:a.endUserMessage,message:a.message};try{const b=Azi(a.body),c=b.endUserMessage,d=b.error;return{endUserMessage:typeof c==="string"?c:void 0,message:typeof d==="string"?d:void 0,body:b}}catch(b){return{endUserMessage:a.endUserMessage,message:a.message}}};__c.Dzi=function(a,b,c,d,e){return new Czi(a,b,c,d,e)};__c.BJa.prototype.Bxe=__c.ja(17,function(){});
__c.TJa.prototype.Bxe=__c.ja(16,function(a){try{this.config.qok=a;const b=this.config.plugins.find(c=>c.name==="TrackUserOperationStarted");b&&a.DOc?b.DOc==null&&(b.DOc=a.DOc,b.h_b()):this.errorService.nka({level:"debug",message:"TrackUserOperationStarted not configured",type:"debug"})}catch(b){this.errorService.ia(b)}});var Ezi=__webpack_require__(400770).runInAction;var Fzi=H(()=>({name:__c.L(1),value:__c.L(2)}));var Gzi=()=>({path:__c.L(1),headers:__c.La(2,Fzi),iMi:__c.gc(6)});var Hzi=H(()=>({...Gzi(),method:z("A?",3,"GET")}));var Izi=H(()=>({...Gzi(),method:z("A?",4,"POST"),body:M(3)}));var Jzi=H(()=>({...Gzi(),method:z("A?",5,"DELETE")}));var Kzi=__c.Ta(()=>({method:[3,Hzi,4,Izi,5,Jzi]}),Gzi);var Lzi=__c.K(()=>[1,2,3,4]);var Mzi=H(()=>({status:__c.Zb(1),body:M(2),message:M(3),endUserMessage:M(4),headers:__c.La(5,Fzi),ULn:__c.Oa(6,Lzi)}));var Nzi=()=>({path:__c.L("path",1)});var Ozi=H(()=>({...Nzi(),method:z("method","GET",2,"GET")}));var Pzi=H(()=>({...Nzi(),method:z("method","POST",3,"POST"),body:M("body",2)}));var Qzi=H(()=>({...Nzi(),method:z("method","DELETE",4,"DELETE")}));var Rzi=__c.Ta(()=>({method:[2,Ozi,3,Pzi,4,Qzi]}),Nzi);var Szi=H(()=>({status:__c.Zb("status",1),body:M("body",2),message:M("message",3),endUserMessage:M("endUserMessage",4)}));var Tzi=["x-canva-auth","x-canva-authz","x-request-id","cf-ray"],Czi=class{async get(a,b){const c=xzi(this,b);return await this.send(new Hzi({path:a,headers:yzi(this,{odb:b,span:c}),iMi:Tzi}),c)}async post(a,b,c){const d=xzi(this,c);return await this.send(new Izi({path:a,body:b&&JSON.stringify(b),headers:yzi(this,{body:b,odb:c,span:d}),iMi:Tzi}),d)}async delete(a,b){const c=xzi(this,b);return await this.send(new Jzi({path:a,headers:yzi(this,{odb:b,span:c}),iMi:Tzi}),c)}async send(a,b){try{b===null||
b===void 0||b.setAttribute("http.method",a.method);const [c,d,e]=this.Ha.n7k?[this.Ha.n7k,Kzi.serialize,Mzi.deserialize]:[this.Ha.request,Rzi.serialize,Szi.deserialize],f=await this.VNd.exec(this.Ha.CCb,c,d(a));return Ezi(()=>{const g=e(f);b===null||b===void 0||b.setAttribute("http.status_code",g.status);return this.e0c(a.path,g)})}catch(c){b===null||b===void 0||b.setStatus("error");if(c instanceof __c.qc&&c.message.includes("timeout")){const d=new __c.uc({requestUrl:a.path,message:`${a.method}:${a.path} timed out`});
d.stack=c.stack;b===null||b===void 0||b.setAttribute("http.error_type","timeout");throw d;}b===null||b===void 0||b.setAttribute("http.error_type","unknown");throw c;}finally{b===null||b===void 0||b.end()}}e0c(a,b){var c,d,e;const f=b.status,g=b.body,h=b instanceof Mzi?b.ULn:void 0,k=(c=this.w0m)===null||c===void 0?void 0:c.Ec("http_v2_response",new Map([["status_code",f],["error_domain_code",h]]));if(200<=f&&f<300){b instanceof Mzi&&zzi(this,b.headers);a=g?Azi(g):void 0;if(!a)throw k===null||k===
void 0||k.end("error"),new __c.pb({message:"Body is not defined"});k===null||k===void 0||k.end();return a}if(f<0)switch(k===null||k===void 0||k.end("error"),f){case -1E3:throw new __c.ib;case -1001:throw new __c.uc;case -1004:case -1005:throw new __c.rb;case -1011:throw new __c.Gya;case -1013:throw new __c.mla;default:return new __c.Hya({statusCode:f})}const {message:l,endUserMessage:n,body:p}=Bzi(b);c=b instanceof Mzi?(d=b.headers.find(q=>q.name.toUpperCase()==="X-REQUEST-ID"))===null||d===void 0?
void 0:d.value:void 0;b=b instanceof Mzi?(e=b.headers.find(q=>q.name.toUpperCase()==="CF-RAY"))===null||e===void 0?void 0:e.value:void 0;a=__c.sb({body:p,endUserMessage:n,message:l,requestId:c||b,requestUrl:a,statusCode:f});k===null||k===void 0||k.end("error");throw a;}constructor(a,b,c,d,e){this.VNd=a;this.Ha=b;this.a1d=c.a1d;this.app=c.app;this.tEa=d!==null&&d!==void 0?d:new __c.pgb(c);this.w0m=e===null||e===void 0?void 0:e.qd("host_http_client");this.Inp=e===null||e===void 0?void 0:e.TLb()}};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=sourcemaps/10bb709e2a87320c.js.map