(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[995932],{

/***/ 209570:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(157643);__web_req__(805085);__web_req__(980409);__web_req__(317697);__web_req__(873788);__web_req__(271855);__web_req__(288466);__web_req__(288717);__web_req__(700097);__web_req__(791773);__web_req__(624318);__web_req__(223343);__web_req__(206785);__web_req__(202507);__web_req__(296874);__web_req__(250028);__web_req__(761516);__web_req__(720566);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var dk=__c.dk;var ng=__c.ng;var t=__c.t;var V=__c.V;var sj=__c.sj;var Uh=__c.Uh;var Z=__c.Z;var uAo,xAo,zAo,BAo,FAo,EAo,GAo,JAo,LAo,NAo,PAo,QAo,TAo,UAo,WAo,ZAo,KAo,aO,$N;uAo=function({Xk:a,input:b,terms:c}){return $N(__c.nf,{spacing:"1u",children:[$N(Z,{className:"fDoEjQ",children:[a,aO(Uh,{size:"1u"}),b]}),c]})};__c.vAo=function(a){return{type:"file",width:1,height:1,file:a,alt:a.name}};
__c.yAo=function(a){const b=[...a.Gb.files].sort((c,d)=>c.height==null||d.height==null?c.quality-d.quality:c.height-d.height);for(const c of b)if(c.height!=null&&c.height>=2*wAo)return xAo(c,a);for(const c of b)if(c.quality>=3)return xAo(c,a);return xAo(__c.m(b.at(0)),a)};xAo=function(a,b){var c,d;return{type:"image",media:b,width:(c=a.width)!==null&&c!==void 0?c:wAo,height:(d=a.height)!==null&&d!==void 0?d:wAo,Rv:a.url,alt:b.vz}};
zAo=function(a){const b=a.active;return aO(sj,{active:b,icon:b?__c.h2h:__c.Vul,Cc:"medium",onClick:a.onClick,size:"small",tb:V("AS/p4g"),variant:"secondary"})};BAo=function({children:a}){return aO(__c.sk,{name:V("P8LK2w"),We:"custom",Aua:AAo,Mh:"small",children:a})};
FAo=function({Xk:a,state:b,Zb:c,ZQ:d,aPb:e,nDh:f,HPd:g}){const h=CAo(()=>{switch(b.mode){case "open":return b.OE.key;case "closed":return b.Zfe.key;default:throw new t(b);}},[b]),k=b.mode==="open";if(a.length===0)return null;const l=a.findIndex(n=>n.E_d.includes(h));return aO(__c.Pg,{x:"2u",children:aO(Z,{rb:"2u",className:bO("eZWAZg",{EtVOpw:d}),children:aO(BAo,{children:a.map((n,p)=>aO(DAo,{Kc:n,isOpen:k,vjp:q=>aO(Z,{mc:"1.5u",us:p===a.length-1?"2u":void 0,children:q}),active:p===l,onClick:e,disabled:EAo({Zb:c,
isOpen:k,isActive:p===l,nDh:f}),HPd:g},n.BNc))})})})};EAo=function({Zb:a,isOpen:b,isActive:c,nDh:d}){return d?!0:a?!b||!c:!1};GAo=function(){return $N(__c.Qg,{spacing:"1u",children:[aO("div",{className:"BDyxnA",children:aO(__c.If,{shape:"textRectangle",index:0})}),aO("div",{className:"BDyxnA",children:aO(__c.If,{shape:"textRectangle",index:1})}),aO("div",{className:"BDyxnA",children:aO(__c.If,{shape:"textRectangle",index:2})})]})};
JAo=function({state:a}){const b=__c.m(HAo(IAo),"SubmitButton must be used within a WonderBoxForm"),c=b.tb||V("fIAM0w"),d=CAo(()=>b.state===void 0?!1:b.state!=="enabled",[b]);return a.mode==="open"&&a.OE.type==="search"&&a.OE.SXc?aO(Z,{padding:"0.5u",children:aO(Uh,{size:"4u"})}):aO(__c.Zh,{width:"content",children:aO(sj,{tb:c,type:"submit",size:"small",icon:__c.DG,variant:"primary",disabled:d,loading:b.state==="loading"})})};
LAo=function(){return $N(KAo,{children:[aO("div",{className:bO("vrggLw","UiqHEw")}),aO("div",{className:bO("vrggLw","_6wKIGg")}),aO("div",{className:bO("vrggLw","kPZNJw")}),aO("div",{className:bO("vrggLw","KEmrbg")}),aO("div",{className:bO("vrggLw","WyYo2A")}),aO("div",{className:bO("vrggLw","N5cKGQ")}),aO("div",{className:bO("vrggLw","d4eDCg")})]})};
NAo=function({M_:a,OE:b}){const c=CAo(()=>{var d,e;return(e=b===null||b===void 0?void 0:(d=b.DFa)===null||d===void 0?void 0:d.call(b,a))!==null&&e!==void 0?e:MAo},[b,a]);return ng(c)};
PAo=function({eU:a,upg:b,isOpen:c,OE:d,M_:e,sEf:f,value:g,disabled:h,I2c:k,onChange:l,onClick:n,onFocus:p,onBlur:q,onPaste:r,i4n:u}){const v=ng({default:1,Aa:0});e=NAo({M_:e,OE:d});const w=__c.m(HAo(IAo),"WonderBoxInputField must be rendered inside a WonderBoxForm"),x=cO(y=>{if(y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),w.onSubmit))w.onSubmit()},[w]);f=aO(__c.Pg,{x:"0.5u",children:aO(__c.zr,{ref:OAo(b,y=>a(y)),type:"search",className:bO("kZyqPQ","_15wUdw",{NMKMKA:f}),placeholder:e,value:g,
disabled:h,onClick:n,onChange:l,onFocus:p,onBlur:q,onPaste:r,start:c?aO(__c.hr,{}):aO(__c.l1k,{}),end:c?g&&d?aO(sj,{icon:__c.Xh,Cc:"tiny",ariaLabel:V("v/d0Qw"),onClick:()=>u(d),disabled:h,variant:"contrast",size:"tiny"}):void 0:aO(Z,{background:"neutral",borderRadius:"elementRound",padding:"0.5u",children:aO(__c.DG,{tone:"secondary",size:"medium"})}),DF:!0,maxLength:d===null||d===void 0?void 0:d.gRa})});if(!d)return f;switch(d===null||d===void 0?void 0:d.type){case "search":return f;case "generative":return aO(__c.rt,
{ref:OAo(b,y=>a(y)),placeholder:e,value:g,disabled:h,onChange:y=>l(y),onFocus:p,onClick:n,onBlur:q,onPaste:r,DF:!0,D5:!0,footer:!c&&aO("div",{className:"TJx7kw",children:aO(Z,{background:"neutral",borderRadius:"elementRound",padding:"0.5u",children:aO(__c.DG,{tone:"secondary",size:"medium"})})}),PJ:c?10:1,KVb:v,maxLength:d===null||d===void 0?void 0:d.gRa,onKeyDown:x,c2:bO("h9anCw",{GKTAsg:!c}),className:bO("kZyqPQ",{_3du2Yg:k})});default:throw new t(d);}};
QAo=function({children:a,sEf:b,rnb:c,GL:d}){return aO(Z,{className:bO("_2FG0qg",{_4B9IIw:d==="gradient",_3du2Yg:b,_2tkXqQ:c}),children:aO("div",{className:"EZ5hkA",children:a})})};TAo=function({query:a}){const b=RAo(null);SAo(()=>{const c=b.current;c&&c.scrollTo({position:"end",behavior:"smooth"})},[b,a]);return aO(Z,{className:"c6p4Zw",children:aO(__c.$h,{direction:"vertical",ref:b,children:aO(__c.tAo,{transcript:a.length>0?a:V("zuw9bg")})})})};
UAo=function(a){return a<.5?8*Math.pow(a,4):1-Math.pow(-2*a+2,4)/2};
WAo=function(a,b,c,d,e){var f,g,h=b.current.open;b=b.current.closed;if(!(h&&b&&globalThis.Animation&&"finished"in globalThis.Animation.prototype&&"animate"in globalThis.HTMLElement.prototype))return{SVk:null,Prk:null};var k=b.width/h.width,l=b.height/h.height;b=[];h=[];k=a?k:1/k;a=a?l:1/l;for(l=0;l<=100;l++){var n=UAo(l/100);const p=k+(1-k)*n;n=a+(1-a)*n;b.push({transform:`scaleX(${p}) scaleY(${n})`});h.push({transform:`scaleX(${1/p}) scaleY(${1/n})`})}e(!0);c=((f=c.current)===null||f===void 0?void 0:
f.animate(b,{duration:VAo,easing:"linear"}))||null;d=((g=d.current)===null||g===void 0?void 0:g.animate(h,{duration:VAo,easing:"linear"}))||null;d===null||d===void 0||d.finished.then(()=>{e(!1)});return{SVk:c,Prk:d}};
__c.YAo=function({Xk:a,aPb:b,HQf:c,Zb:d,isOpen:e,Aqa:f,ZQ:g,I2c:h,HPd:k,features:l,vZc:n,onFocus:p,value:q,onChange:r,aad:u,onClose:v,onSubmit:w,PRg:x,jAg:y,attachments:A,addAttachment:B,u_a:D,V_d:F,clearAttachments:G,M_:I,nda:J,UZd:O,hRf:P,MWg:R,ije:T,Fxe:U,Zge:Y,getSessionId:aa,h0a:fa,qIi:da,csb:ia,zva:X,FBe:ba,Sje:ha}){const la=CAo(()=>e?{mode:"open",OE:__c.JUn(l,f)}:{mode:"closed",Zfe:__c.JUn(l,f)},[e,l,f]);return aO(uAo,{Xk:aO(FAo,{Xk:a,state:la,Zb:d,aPb:b,ZQ:g,nDh:h,HPd:k}),input:aO(XAo,{state:la,
vZc:n,onFocus:p,value:q,onChange:r,aad:u,isOpen:e,Zb:d,I2c:h,onClose:v,Aqa:f,onSubmit:w,PRg:x,jAg:y,attachments:A,addAttachment:B,u_a:D,V_d:F,clearAttachments:G,M_:I,nda:J,UZd:O,hRf:P,MWg:R,ZQ:g,ije:T,Fxe:U,Zge:Y,getSessionId:aa,h0a:fa,qIi:da,csb:ia,zva:X,FBe:ba,HPd:k,Sje:ha}),terms:la.mode==="open"&&la.OE.type==="generative"&&aO(c,{})})};ZAo=__webpack_require__(613444);KAo=ZAo.Fragment;aO=ZAo.jsx;$N=ZAo.jsxs;var $Ao=__webpack_require__(366533),aBo=$Ao.createContext,bBo=$Ao.memo,cBo=$Ao.Suspense,cO=$Ao.useCallback,HAo=$Ao.useContext,dBo=$Ao.useDeferredValue,SAo=$Ao.useEffect,eBo=$Ao.useImperativeHandle,fBo=$Ao.useLayoutEffect,CAo=$Ao.useMemo,RAo=$Ao.useRef,gBo=$Ao.useState;var hBo=__webpack_require__(813494).observer;var iBo=__webpack_require__,jBo=iBo(208463),bO=iBo.n_x(jBo)();var OAo=__webpack_require__(13851).A;var wAo=__c.xc*7.5,kBo=hBo(function({OE:a,attachments:b,RWo:c,yt:d=__c.Ee()}){var e,f,g,h;const k=new Set((h=(f=a.egc)===null||f===void 0?void 0:(e=(g=f.call(a)).lZh)===null||e===void 0?void 0:e.call(g,b))!==null&&h!==void 0?h:[]);return b.length?aO(__c.Qg,{spacing:"1u",children:b.map((l,n)=>{const p=l.width/l.height;var q=k.has(n);const r=(q=!a.qia.includes("image")||!q)?V("1KGjEg"):l.alt,u=aO(__c.zA,{fC:"secondary",thumbnail:l.type==="file"?aO(__c.tA,{height:wAo,aspectRatio:p,padding:"none",children:aO(Z,
{width:"full",height:"full",padding:"1u",children:aO(__c.W,{lineClamp:1,children:l.file.name})})}):aO(__c.xA,{aspectRatio:p,borderRadius:"element",height:wAo,width:wAo*p,src:l.Rv,className:q?"Ejv0QA":void 0,alt:l.alt}),Uk:$N(KAo,{children:[aO(__c.BA,{location:"top-end",visibility:d||q?"always":"on-hover",transition:"slide",children:aO(sj,{variant:"contrast",icon:__c.Xh,Cc:"tiny",ariaLabel:V("KC70YA"),tb:V("KC70YA"),size:"tiny",onClick:()=>c(l)})}),q&&aO(__c.BA,{location:"bottom-start",visibility:"always",
children:aO(__c.bg,{tone:"contrast",icon:aO(__c.fCk,{size:"tiny"}),ariaLabel:V("1KGjEg")})}),!q&&l.type==="design"&&aO(__c.BA,{location:"bottom-start",visibility:"always",children:aO(__c.tD,{size:"small"})}),!q&&l.type==="file"&&aO(__c.BA,{location:"bottom-start",visibility:"always",children:aO(__c.bg,{text:V("BoujCQ"),tone:"contrast"})})]}),layout:"vertical",zHa:"thumbnail",borderRadius:"element",ariaLabel:l.alt?__c.S("Dd5XlA",[l.alt]):V("WhmTVA")});return r?aO(__c.mj,{label:r,children:v=>aO("div",
{style:{maxWidth:wAo},...v,children:u})},n):aO("div",{style:{maxWidth:wAo},children:u},n)})}):null}),lBo=hBo(function({OE:a,kLo:b,Koi:c,isOpen:d=!1,rDh:e=!1,csb:f}){var g,h;const [k,l]=gBo(d),n=cO(()=>{l(!0);f("attachment_menu_opened")},[f]),p=cO(()=>{l(!1)},[]);d=cO(()=>{b(a,p);f("attachment_dialog_opened")},[b,a,p,f]);const q=cO(({disabled:v,onClick:w,...x})=>aO(sj,{variant:"secondary",icon:__c.xk,size:"small",Cc:"medium",disabled:v,onClick:w,ariaLabel:V("dJ3PrA"),tb:V("dJ3PrA"),Mk:"right",Ne:"wonderbox-attachment-uploader-menu",
...x}),[]),r=a.qia.includes("image")||a.qia.includes("design"),u=(h=a.egc)===null||h===void 0?void 0:(g=h.call(a).wca)===null||g===void 0?void 0:g.get();return r||u!==null&&u!==void 0&&u.length?!r||u!==null&&u!==void 0&&u.length?r||(u===null||u===void 0?void 0:u.length)!==1?aO(__c.ar,{open:k,pa:p,placement:"end-top",trigger:v=>aO(q,{...v,onClick:n}),children:$N(__c.ck,{role:"menu",id:"wonderbox-attachment-uploader-menu",children:[r&&aO(dk,{onClick:d,start:aO(__c.Dj,{size:"medium"}),label:V("dJ3PrA"),
disabled:e}),u===null||u===void 0?void 0:u.map(({label:v,la:w,onClick:x},y)=>aO(dk,{onClick:()=>{x({csb:f}).then(c).finally(p)},start:aO(w,{size:"medium"}),label:v},y))]})}):aO(q,{disabled:e,onClick:()=>{u[0].onClick({csb:f}).then(c)}}):aO(q,{disabled:e,onClick:d}):aO(q,{disabled:!0})}),mBo=hBo(function({OE:a,Koi:b,isOpen:c=!1,rDh:d=!1,csb:e,vZc:f}){var g,h;const [k,l]=gBo(c),{Tsn:{$2g:n,RBh:p},zCo:{Crj:q,xji:r},FQn:{Tnj:u,pzc:v}={}}=f,w=cO(()=>{l(!0);e("attachment_menu_opened")},[e]),x=cO(()=>{l(!1)},
[]),y=cO(async()=>{l(!1);p.Bg();r.Bg();v===null||v===void 0||v.Bg()},[p,r,v]);c=cO(async()=>{r.SD();l(!1)},[r]);f=cO(async()=>{p.SD();l(!1)},[p]);const A=CAo(()=>{if(v)return()=>{v.SD();l(!1)}},[v]),B=cO(async()=>{p.Bg();r.Bg();v===null||v===void 0||v.Bg();l(!0)},[p,r,v]),D=cO(Y=>{var aa;var fa=Y.Yc.Zw.thumbnail;fa={type:"design",width:fa.width,height:fa.height,alt:Y.Yc.content.title,Rv:(aa=fa.images.at(0))===null||aa===void 0?void 0:aa.url,design:Y};return b(fa)},[b]),F=cO(Y=>b(__c.yAo(Y)),[b]),
G=cO(Y=>b(__c.vAo(Y)),[b]),I=RAo(null),J=k||p.Cr.get()||r.Cr.get()||(v===null||v===void 0?void 0:v.Cr.get()),O=cO(({disabled:Y,onClick:aa,...fa})=>aO(sj,{variant:"secondary",icon:J?__c.Xh:__c.xk,size:"small",Cc:"medium",disabled:Y,onClick:aa,ariaLabel:V("Nvw0yA"),tb:V("Nvw0yA"),Mk:"right",Ne:"wonderbox-attachment-uploader-menu",...fa}),[J]),P=a.qia.includes("image"),R=a.qia.includes("design"),T=a.qia.includes("file"),U=(h=a.egc)===null||h===void 0?void 0:(g=h.call(a).wca)===null||g===void 0?void 0:
g.get();return P||R||T||(U===null||U===void 0?0:U.length)?$N(KAo,{children:[aO("div",{ref:I,children:aO(__c.ar,{open:k,pa:x,placement:"bottom-start",trigger:Y=>aO(O,{...Y,onClick:J?y:w}),children:$N(__c.ck,{role:"menu",id:"wonderbox-attachment-uploader-menu",children:[P&&aO(dk,{onClick:c,start:aO(__c.Hj,{size:"medium"}),label:V("r1yuKg"),disabled:d}),T&&A&&aO(dk,{onClick:A,start:aO(__c.Akj,{size:"medium"}),label:V("CJzKMg"),disabled:d}),R&&aO(dk,{onClick:f,start:aO(__c.EA,{size:"medium"}),label:V("ZTNlhQ"),
disabled:d}),U===null||U===void 0?void 0:U.map(({label:Y,la:aa,onClick:fa},da)=>aO(dk,{onClick:()=>{fa({csb:e}).then(b).finally(x)},start:aO(aa,{size:"medium"}),label:Y},da))]})})}),P&&aO(q,{trigger:I.current,placement:"bottom-start",Na:B,uSa:F}),T&&u&&aO(u,{trigger:I.current,placement:"bottom-start",Na:B,fY:G}),R&&aO(n,{trigger:I.current,placement:"bottom-start",Na:B,EW:D})]}):aO(O,{disabled:!0})});var AAo=hBo(a=>a.direction==="backward"&&a.kh.MVa||a.direction==="forward"&&a.kh.FOa?null:aO(Z,{mc:"1.5u",children:aO(__c.Zj,{className:bO("_rsBnQ",a.direction==="forward"?"SBW0hw":"EJo3iQ"),borderRadius:"elementRound",onClick:a.onClick,tone:"secondary",border:"low",backgroundColor:"var(--4RaSjg)",height:"full",width:"full",alignItems:"center",justifyContent:"center",ariaLabel:a.direction==="forward"?V("ApXdXg"):V("9sSB0g"),children:a.direction==="forward"?aO(__c.bk,{}):aO(__c.rk,{})})}));var nBo=(a,b)=>a?aO(Z,{us:"1u",children:b}):b,DAo=bBo(function({Kc:a,isOpen:b,vjp:c,onClick:d,disabled:e,active:f,HPd:g}){const h=a.icon,k=a.E9n,l=a.title,n=a.w4c,p=a.badge,q=a.Fz,r=cO(()=>{g===null||g===void 0||g("default");d(a)},[d,a,g]);return c(nBo(!!p,$N(__c.Zj,{borderRadius:"elementRound",border:"standard",mc:"0.5u",active:f,onClick:r,display:"flex",alignItems:"center",className:bO("wbdPFQ",{GKmOGQ:f&&q==="default",OiBYHQ:f&&q==="generative"}),disabled:e,children:[f&&k?k:h,aO(Uh,{direction:"horizontal",
size:"0.5u"}),aO(__c.W,{size:"medium",children:aO(oBo,{title:l,w4c:n})}),!p&&!f&&aO(Uh,{direction:"horizontal",size:"0.5u"}),p&&aO("span",{className:"iAptWA",children:aO(pBo,{badge:p})}),f&&b&&$N(KAo,{children:[aO(Uh,{direction:"horizontal",size:"0.5u"}),aO(__c.Xh,{size:"small"})]})]})))}),oBo=bBo(function({title:a,w4c:b}){return ng({default:b!==null&&b!==void 0?b:a,Aa:a})}),pBo=bBo(function({badge:a}){switch(a){case "new":return aO(__c.bg,{tone:"assist",text:V("No/2dQ")});default:throw new t(a);
}});var VAo=parseInt("500ms",10),IAo=aBo(void 0),qBo=hBo(function({value:a,attachments:b,state:c,Zb:d,I2c:e,bGp:f,children:g,OUn:h,Xcb:k}){var l,n=CAo(()=>{var r;const u=c.mode==="open"?c.OE:c.Zfe;return((r=u.o8)===null||r===void 0?void 0:r.call(u,{query:a,attachments:b}))||void 0},[c,a,b]);const p=n===null||n===void 0?void 0:n.get(),q=CAo(()=>{var r;if(h)return!0;const u=c.mode==="open"?c.OE:c.Zfe;return p&&p.state!=="enabled"||d||e||c.mode==="open"&&((r=c.OE)===null||r===void 0?void 0:r.type)==="generative"&&
!a||!((u===null||u===void 0?void 0:u.type)==="search"&&u.SXc)&&!f},[h,p,d,f,e,c,a]);n=CAo(()=>({tb:(p===null||p===void 0?void 0:p.state)==="disabled"?p.reason:V("fIAM0w"),onSubmit:q?void 0:k,state:(p===null||p===void 0?void 0:p.state)==="loading"?"loading":q?"disabled":p===null||p===void 0?void 0:p.state}),[p,q,k]);return aO(__c.xs,{action:"search",onSubmit:q?()=>{}:k,disabled:q,role:c.mode==="open"&&((l=c.OE)===null||l===void 0?void 0:l.type)==="search"?"search":"form",children:aO(IAo.Provider,{value:n,
children:g})})}),XAo=hBo(function({state:a,vZc:b,onFocus:c,value:d,onChange:e,aad:f,isOpen:g,Zb:h,I2c:k,onClose:l,onSubmit:n,PRg:p,jAg:q,attachments:r,addAttachment:u,u_a:v,V_d:w,clearAttachments:x,M_:y,nda:A,UZd:B,hRf:D,MWg:F,ZQ:G,ije:I,Fxe:J,Zge:O,getSessionId:P,h0a:R,qIi:T,csb:U,zva:Y,FBe:aa,HPd:fa,Sje:da}){var ia;eBo(T,()=>({focus:cc=>{var $b;if(cc===null||cc===void 0?0:cc.Wnc){var hc,mc;(hc=la.current)===null||hc===void 0||hc.scrollIntoView({behavior:"smooth",block:"end"});(mc=la.current)===
null||mc===void 0||mc.focus({preventScroll:!0})}else($b=la.current)===null||$b===void 0||$b.focus()}}),[]);const [X,ba]=gBo(!1),ha=RAo(null),la=RAo(null),ka=RAo(null);T=cO(cc=>{var $b;a.mode==="open"&&a.OE.type==="search"&&a.OE.Eec&&(cc.preventDefault(),cc.isComposing||($b=ka.current)===null||$b===void 0||$b.prev())},[a]);var na=cO(cc=>{var $b;a.mode==="open"&&a.OE.type==="search"&&a.OE.Eec&&(cc.preventDefault(),cc.isComposing||($b=ka.current)===null||$b===void 0||$b.next())},[a]),oa=cO(cc=>{var $b;
a.mode==="open"&&a.OE.type==="search"&&a.OE.Eec&&(($b=ka.current)===null||$b===void 0?0:$b.select())&&cc.preventDefault()},[a]);({ref:l}=__c.df([["Escape",l],["ArrowUp",T],["ArrowDown",na],["Enter",oa]],{Lr:!0}));T=cO(cc=>{la.current=cc},[]);na=cO(()=>{q===null||q===void 0||q();a.mode==="open"&&a.OE.type==="search"&&a.OE.Eec&&(d===null||d===void 0?void 0:d.trim().length)>0&&ba(!0)},[a,d,q]);const xa=cO((cc,$b)=>{$b.type==="search"&&($b.hda.onChange({query:$b.SXc?cc.trim():cc,M_:y}),$b.SXc||!$b.Eec?
fa===null||fa===void 0||fa("automatic"):cc.trim().length>0?ba(!0):ba(!1))},[y,fa]),ua=cO(cc=>{e(cc);xa(cc,a.mode==="open"?a.OE:a.Zfe)},[e,xa,a]),ya=cO((cc,$b)=>{fa===null||fa===void 0||fa("suggestion");f(cc);$b.controller.Gca({query:cc,M_:y,attachments:r,h0a:R,tO:"suggestion",zva:Y});n({input:cc});ba(!1)},[fa,f,y,r,R,n,Y]),Ba=cO(cc=>{var $b;const hc=d.trim();fa===null||fa===void 0||fa("default");cc.controller.Gca({query:hc,M_:y,attachments:r,h0a:R,zva:Y,tO:"default"});n({input:hc});x();ba(!1);($b=
la.current)===null||$b===void 0||$b.blur()},[d,fa,y,r,R,n,x,Y]);oa=CAo(()=>{if(a.mode==="open"){var cc=a.OE;if((cc===null||cc===void 0?void 0:cc.type)==="generative"){var $b=cc.Jof;if($b)return async hc=>{(hc=await $b(hc))&&u(hc)}}}},[a,u]);const va=cO(cc=>($b,hc)=>{$b=A($b,hc);hc=d.trim();fa===null||fa===void 0||fa("adjustment");cc&&cc.controller.Gca({query:hc,M_:$b,attachments:r,h0a:R,tO:"adjustment",zva:Y});n({input:hc});return $b},[r,n,R,A,d,Y,fa]),Ca=cO(cc=>{ua("");cc.type==="search"&&(fa===
null||fa===void 0||fa("default"),cc.controller.Gca({query:"",M_:y,attachments:r,h0a:R,zva:Y,tO:"default"}),n({input:""}),ba(!1))},[ua,y,r,R,n,Y,fa]),Ia=cO(()=>{c===null||c===void 0||c();F.startSession()},[c,F]),Na=cO(()=>{F.Oak()},[F]),Fa=dBo(d),Qa=CAo(()=>a.mode==="closed"?null:aO(rBo,{query:p,n3f:Fa,lEb:f,OE:a.OE,M_:y,nda:a.OE.type==="search"?va(a.OE):A,attachments:r,Sje:da,Zb:h}),[a,r,va,y,A,f,p,Fa,da,h]);var Va=CAo(()=>a.mode==="closed"?null:b?aO(mBo,{OE:a.OE,Koi:u,rDh:k||h,csb:U,vZc:b}):aO(lBo,
{OE:a.OE,kLo:w,Koi:u,rDh:k||h,csb:U}),[a,u,w,k,h,U,b]);const ab=__c.Xa("9854d99d",!1),kb=dBo(Qa),bb=dBo(a.mode==="open"?a.OE:a.Zfe);Va=dBo(Va);const Za=cO(()=>{ba(!1)},[]),fb=ng({default:!0,Aa:!1});fBo(()=>{if(bb&&!I&&!fb&&la.current){const cc=la.current.value.length;la.current.focus();la.current.setSelectionRange(cc,cc)}ha.current=bb},[I,bb,fb]);const nb=d!==p;a:if(a.mode==="closed")var ub="gradient";else switch(a.OE.type){case "generative":ub="gradient";break a;case "search":ub="solid";break a;
default:throw new t(a.OE);}const yb=RAo(null),qb=RAo(null),vb=ng({default:!0,Aa:!1});fBo(()=>{if(yb.current){var {width:cc,height:$b}=yb.current.getBoundingClientRect();g?O.current.open={width:cc,height:$b}:O.current.closed={width:cc,height:$b};if(!vb){var {SVk:hc,Prk:mc}=WAo(g,O,yb,qb,J);return()=>{hc===null||hc===void 0||hc.cancel();mc===null||mc===void 0||mc.finish();mc===null||mc===void 0||mc.cancel()}}}},[O,g,J,vb]);const Bb=CAo(()=>{switch(a.mode){case "open":return a.OE;case "closed":return a.Zfe;
default:throw new t(a);}},[a]),Sb=cO(()=>{Ba(Bb)},[Ba,Bb]),Qb=CAo(()=>({state:a,value:d,attachments:r,Zb:h,I2c:k,bGp:nb}),[a,d,r,h,k,nb]),Xb=dBo(Qb);return aO(qBo,{...Xb,OUn:Xb!==Qb&&Bb.o8!=null,Xcb:Sb,children:aO(Z,{ref:yb,className:bO("awS2cA","qTM_vg",{coX0kw:g,WbCnsA:!g,nUVq7g:g&&ub==="gradient",W1rM9w:g&&ub==="solid",No0aYg:I,dGUbhw:G}),children:$N(D,{isEnabled:a.mode==="open"&&a.OE.qia.includes("image"),addAttachment:u,children:[aO(Z,{className:I&&"zmXE8g",children:$N(Z,{ref:qb,className:"rOxU6g",
children:[$N(Z,{rb:"1.5u",mc:"2u",children:[aO(__c.csi,{EGa:Za,children:$N("div",{children:[k&&aO(TAo,{query:d}),aO(PAo,{eU:T,upg:l,isOpen:g,OE:bb,M_:y,sEf:X,value:d,disabled:h,I2c:k,onChange:ua,onClick:na,onFocus:Ia,onBlur:Na,onPaste:oa,i4n:Ca}),a.mode==="open"&&!I&&bb&&bb.type==="search"&&bb.Eec&&aO(sBo,{cYa:ka,OE:bb,rnb:a.OE!==bb,nbb:d,ddc:Fa,sEf:X,$Ob:cc=>ya(cc,bb),getSessionId:P,Zb:h})]})}),a.mode==="open"&&((ia=a.OE)===null||ia===void 0?void 0:ia.type)==="generative"&&r.length>0&&$N(KAo,{children:[aO(Uh,
{size:"0.5u"}),aO(kBo,{OE:a.OE,attachments:r,RWo:v})]}),a.mode==="open"&&$N("div",{className:bO({_3du2Yg:X}),children:[aO(Uh,{size:"2u"}),$N(__c.Yh,{Da:"start",spacing:"1u",children:[aO(__c.Zh,{width:"fluid",children:a.OE.type==="generative"&&Va}),a.OE.kIh&&aO(__c.Zh,{width:"content",children:aO(zAo,{active:Y,onClick:aa})}),(a.OE.type==="generative"||k)&&B&&aO(__c.Zh,{width:"content",children:aO(B,{OE:a.OE,getSessionId:P,$x:f})}),aO(JAo,{state:a})]})]})]}),a.mode==="open"&&!k&&aO(QAo,{GL:ub,rnb:bb!==
a.OE,sEf:X,children:aO(cBo,{fallback:aO(Z,{rb:"1.5u",mc:"1u",children:aO(GAo,{})}),children:ab?Qa:kb})})]})}),aO(LAo,{})]})})})}),MAo={default:"",Aa:""},rBo=bBo(function({OE:a,query:b,n3f:c,lEb:d,M_:e,nda:f,attachments:g,Sje:h,Zb:k}){return(a=a.Nya)?aO(Z,{rb:"1.5u",mc:"1u",children:aO(a,{query:b,n3f:c,lEb:d,M_:e,nda:f,attachments:g,tO:h,Zb:k})}):null}),sBo=({cYa:a,rnb:b,OE:c,nbb:d,ddc:e,sEf:f,$Ob:g,getSessionId:h,Zb:k})=>{if(c.type!=="search"||!f)return null;c=c.HKe;return aO(Z,{background:"surface",
border:"standard",className:"R0I2bA",children:$N("div",{className:bO("MMRxcA",{_2tkXqQ:b}),children:[aO(__c.ak,{}),aO(cBo,{fallback:null,children:aO(c,{cYa:a,nbb:d,ddc:e,$Ob:g,getSessionId:h,Zb:k})})]})})};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=sourcemaps/3c25c2f8fa0e7f83.js.map