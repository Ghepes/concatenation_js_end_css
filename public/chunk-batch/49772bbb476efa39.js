;// __FILE_CONTENT_FOR__:49772bbb476efa39.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[941330],{

/***/ 80907:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(383449);__web_req__(75799);__web_req__(290122);__web_req__(694897);__web_req__(906932);__web_req__(42995);__web_req__(618245);__web_req__(192388);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var Pb=__c.Pb;var m=__c.m;
var mwi=function(a,{Ld:b,percent:c=1,q1b:d,aug:e}){var f=b.kO;if(e){const g=m(f.find(k=>k.DC&&k.NG&&k.DC<=e&&e<=k.NG));f=f.filter(k=>k.DC&&k.DC>e+1);const h=kwi(g,e+1);switch(g.KS){case 2:f=[new __c.Ltd({...g,KS:1,DC:1,NG:e,pJ:h}),new __c.Ltd({...g,DC:e+1,pJ:h}),...f];break;case 1:f=[new __c.Ltd({...g,DC:1}),...f];break;default:throw new __c.t(g.KS);}}return f.map(g=>lwi(a,{zap:g,Ld:b,percent:c,q1b:d}))},nwi=function(a,b){__c.pa(b.Ma!==Pb.sg,"Day is not a valid BillingInterval at the moment.");return mwi(a,
{Ld:b,q1b:!1})},lwi=function(a,{zap:b,Ld:c,percent:d=1,q1b:e}){__c.pa(c.Ma!==Pb.sg,"Day is not a valid BillingInterval at the moment.");const f=c.currency,g={Ma:c.Ma,hb:c.hb};if(b.KS===2)return __c.qa(b.unitAmount!=null),c=Math.round(b.pJ*d),d=Math.round(b.unitAmount*d),{interval:g,currency:f,q1b:e,type:b.KS,bound:{lower:b.DC||1,upper:b.NG},bH:a.qFa(c,f,g),g0d:a.qFa(d,f,g),base:c,fac:d};const h=owi(b,c);c=Math.round(b.pJ*d);d=h!=null?Math.round((b.pJ-h.pJ)*d):c;return{interval:g,currency:f,q1b:e,
type:b.KS,bound:{lower:b.DC||1,upper:b.NG},totalPrice:a.qFa(c,f,g),fqk:a.qFa(d,f,g),total:c,Wao:d}},pwi=function(a,b){return a>=b.lower&&(b.upper==null||a<=b.upper)},qwi=function(a,{DC:b,NG:c}){return(b==null||a>=b)&&(c==null||a<=c)},owi=function(a,b){const c=a.DC;return c!=null?b.kO.find(d=>qwi(c-1,d)):void 0},kwi=function(a,b){var c;const d=(c=a.DC)!==null&&c!==void 0?c:1;var e;c=(e=a.NG)!==null&&e!==void 0?e:Infinity;__c.qa(d<=b&&b<=c);if(a.KS===1)return a.pJ;e=m(a.unitAmount);return a.pJ+e*(b-
d)},swi=async function(a,b){__c.qa(__c.Du(b));const {Ma:c,hb:d}=rwi(b),e=b.Ic;var f=(await a.pb.sQa(new __c.Lu({brand:b.IS.brand,subscription:b.id}))).cH.find(g=>g.Ic.id===e);f=m(f).Ic.CK[0];b=await a.pb.Gzc(new __c.qae({CK:[f.id],ki:__c.kra(b.mf.type==="PREPAID"?__c.Tb.Q9:__c.Tb.fka),uI:__c.fra(__c.Rb.LH),currency:b.mf.currency,Ma:__c.Mb(c),hb:d,active:!0}));return nwi(a,__c.H6d(b.groups[0]))},rwi=function(a){if(__c.tu(a)){const b=a.mf.Ma;a=a.mf.hb;__c.pa(b!==Pb.sg,"Day is not a valid BillingInterval at the moment.");
return{Ma:b,hb:a}}return{Ma:Pb.Wd,hb:1}},twi=class{Yea(a,b){const c=(a=a.find(d=>pwi(b,d.bound)))&&this.x3d(a,b);if(a!=null&&c!=null){if(a.type===2){const d=c-a.base;return{...a,count:b,iQq:d,total:c,Rfh:this.qFa(d,a.currency,a.interval),totalPrice:this.qFa(c,a.currency,a.interval)}}return{...a,count:b}}}x3d(a,b){a=Array.isArray(a)?a.find(c=>pwi(b,c.bound)):a;if(!(a==null||a.type===1&&!pwi(b,a.bound)||a.type===2&&b<a.bound.lower))return a.type===1?a.total:a.base+a.fac*(b-a.bound.lower+1)}qFa(a,b,
c){const d=a*__c.Gu(c,{Ma:Pb.zd,hb:1});c=a*__c.Gu(c,{Ma:Pb.Wd,hb:1});return{price:this.Ja.ig(a,b),aOa:this.Ja.ig(c,b),f0:this.Ja.ig(d,b)}}constructor(a){this.Ja=a}};__c.uwi=class extends twi{mig(a){return a.aE!=null?!1:a.Xp===2||a.Cp!=null&&(a.Cp.vN===0||a.Cp.vN===a.Cp.Tm)}async YXa(a,b,c=!1){var d;__c.qa(__c.Du(a));a.aE!=null&&(b="currentPeriod");const e=__c.s8d(a);if(!c&&a.Cp!=null&&(b==="currentPeriod"&&a.Cp.vN!==0||b==="nextPeriod"&&a.Xp!==2&&a.Cp.vN<a.Cp.Tm)){var f;if(a.Cp.type==="ABSOLUTE")return mwi(this,{Ld:a.Cp.Ld,q1b:!0,aug:e?void 0:(f=a.cEa)===null||f===void 0?void 0:f.Jsa});if(a.Cp.type==="PERCENTAGE"){var g,h=a.Ld;if(h==null){const k=rwi(a);h=await this.pb.sQa(new __c.Lu({brand:a.IS.brand,
subscription:a.id}));h=m(h.cH.find(l=>l.Ic.id===a.Ic),"Unable to find config for current subscription").Ic.CK;h=await this.pb.Gzc(new __c.qae({Ma:__c.Mb(k.Ma),hb:k.hb,CK:h.map(l=>l.id)}));h=m(h.groups.map(__c.H6d).find(l=>l.Ma===k.Ma&&l.hb===k.hb))}return mwi(this,{Ld:h,percent:1-a.Cp.ZD*.01,q1b:!0,aug:e?void 0:(g=a.cEa)===null||g===void 0?void 0:g.Jsa})}throw new __c.t(a.Cp);}return b==="nextPeriod"&&a.Xp===2?(g=a.$s,g==null&&(__c.Hu()?(g=await this.Qh.getSubscription(new __c.sae({id:a.id,Pp:[__c.Pq.E$g]})),
g=m(g.subscription.$s)):(g=await this.pb.getSubscription(new __c.tae({id:a.id,Pp:[4]})),g=m(__c.ou(g.subscription).$s))),mwi(this,{Ld:m(g.Ld),q1b:!1,aug:e?void 0:(h=a.cEa)===null||h===void 0?void 0:h.Jsa})):a.Ld!=null?mwi(this,{Ld:a.Ld,q1b:!1,aug:e?void 0:(d=a.cEa)===null||d===void 0?void 0:d.Jsa}):swi(this,a)}constructor(a,b,c){super(c);this.pb=a;this.Qh=b}};
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/16_sourcemaps/49772bbb476efa39.js.map