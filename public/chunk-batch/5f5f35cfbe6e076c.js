(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[43531],{

/***/ 76014:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var g$z,i$z,h$z,j$z,l$z,k$z,m$z,n$z,p$z,q$z,r$z,s$z,t$z;g$z=function({data:a,url:b}){try{const c=JSON.stringify(a,void 0,2);return{extra:new Map([["spans",c.slice(0,15500)],["url",b]]),tags:new Map([["telemetry.export.beacon.over_64_kB",String(c.length>64E3)]])}}catch(c){return{tags:new Map([["telemetry.error.serialisation_error","true"]])}}};i$z=function(a,b){h$z(a,b,()=>{const c=a.SOh.get(b.spanContext().spanId)||[];for(const d of c)i$z(a,d)})};
h$z=function(a,b,c){var d,e=(d=b.attrs.get("parent_relative_start_ms"))!==null&&d!==void 0?d:b.duration;e=typeof e==="number"?` - ${Math.round(e)}ms`:"";const f=(d=b.parentSpanId!=null)?`${b.Lfc==="event"?"[ChildEvent]":"[ChildSpan]"}: `:"[OpenTelemetryClient]: ",g=__c.rRa(b)?"User Operation - ":"";e=`${f}${g}${b.name}${e}`;d&&!a.pFk.has(b.parentSpanId)?console.group(e):console.groupCollapsed(e);console.groupCollapsed("Attributes");a.logTable({name:b.name,dMu:`${b.duration}ms`,...Object.fromEntries(b.attrs.entries())});
console.groupEnd();c===null||c===void 0||c();console.groupEnd();a.pFk.add(b.spanContext().spanId)};j$z=function(a){switch(a){case "unset":return 0;case "ok":return 1;case "error":return 2;default:return 0}};l$z=function(a){const b=[];for(const [c,d]of a.entries())d!=null&&b.push({key:c,value:k$z(d)});return b};
k$z=function(a){const b=typeof a;return b==="string"?{stringValue:a}:b==="number"?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:b==="boolean"?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(k$z)}}:b==="object"&&a!=null?{kvlistValue:{values:Object.entries(a).map(([c,d])=>({key:c,value:k$z(d)}))}}:{}};m$z=function(a){const b=new Map;for(const c of a)a=b.get(c.eXb),a||(a=[],b.set(c.eXb,a)),a.push(c);return b};
n$z=function(a,b){b=b(a)/1E3;a=Math.trunc(b);b=Number((b-a).toFixed(9))*1E9;let [c,d]=[a,b];d>1E9&&(d-=1E9,c+=1);return c*1E9+d};
__c.o$z=function(a,b){if(a.length===0)return{resourceSpans:[]};const c=[];a=m$z(a);for(const [d,e]of a)if(e.length>0){a={attributes:l$z(e[0].oWb),droppedAttributesCount:0};const f=[{scope:{name:d},spans:e.map(g=>{var h=g.spanContext();const k=n$z(g.startTime,b);var l;const m=n$z((l=g.endTime)!==null&&l!==void 0?l:g.startTime,b);var p=g.attrs;g.Lfc==="event"&&(l=g.attrs.get("parent_start"),l!=null&&typeof l==="number"&&(p=new Map([...p.entries(),["parent_start",n$z(l,b)]])));l=h.traceId;h=h.spanId;
var q=g.parentSpanId,r=g.name;p=l$z(p);var t={code:j$z(g.status)};g=g.links;const u=[];for(const w of g)u.push({spanId:w.cyc.spanId,traceId:w.cyc.traceId,droppedAttributesCount:0});return{traceId:l,spanId:h,parentSpanId:q,name:r,kind:3,startTimeUnixNano:k,endTimeUnixNano:m,attributes:p,droppedAttributesCount:0,events:[],droppedEventsCount:0,status:t,links:u,droppedLinksCount:0}})}];c.push({resource:a,scopeSpans:f})}return{resourceSpans:c}};p$z=function(a,b){a.yWn.unshift(b);return a};
q$z=function(a,b,c,d=!1){b.aborted||d||!b.T7c()||(c.push(b),b.vte.forEach(e=>c.push(e)));for(const e of b.hDc)q$z(a,e,c,d||b.aborted);b.ua=void 0;b.hDc.length=0};r$z=function(a,b){a.KGn.push(b)};s$z=class extends Error{constructor(a,b){super(a);this.I=b;this.name="TelemetryExportError";Object.setPrototypeOf(this,s$z.prototype)}};t$z=class extends __c.rea{constructor(a,b,c){super(a,b);this.I=c;this.name="SampledTracingExportError";Object.setPrototypeOf(this,t$z.prototype)}};var u$z=({navigator:a,url:b})=>c=>{var d=JSON.stringify(c);d=new Blob([d],{type:"application/json"});try{if(!a.sendBeacon(b,d))throw new s$z("createSendWithBeacon: Failed to enqueue spans in Beacon",g$z({data:c,url:b}));}catch(e){throw new s$z(e instanceof Error?e.message:String(e),e instanceof s$z?e.I:g$z({data:c,url:b}));}};var v$z=({KZs:a,url:b,errorSampleRate:c,fetch:d=self.fetch})=>async e=>{var f,g;e=new Request(b,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"},priority:"low",signal:(f=(g=AbortSignal).timeout)===null||f===void 0?void 0:f.call(g,a)});try{const h=await d(e);if(h.status>299||h.status<200)throw c!=null?new t$z(`SendWithFetch: Failed to export (status: ${h.status})`,c):new s$z(`SendWithFetch: Failed to export (status: ${h.status})`);}catch(h){throw f=
h instanceof Error&&h.name==="AbortError"?`SendWithFetch: Fetch request timeout: ${a}ms`:"SendWithFetch: Failed to export",c!=null?new t$z(f,c):new s$z(f);}};var w$z=class{Iu(a){var b=[];for(const c of a)c.parentSpanId&&!this.pFk.has(c.parentSpanId)?(a=this.SOh.get(c.parentSpanId)||[],a.push(c),this.SOh.set(c.parentSpanId,a)):b.push(c);for(const c of b)b=c.spanContext().spanId,i$z(this,c),this.SOh.delete(b)}shutdown(){return Promise.resolve()}async flush(){}logTable(a){const b={};for(const c of Object.keys(a)){const d=a[c];b[c]=d instanceof Object?JSON.stringify(d):d}console.table(b)}constructor(){this.SOh=new Map;this.pFk=new Set}};var y$z=class{async Iu(a){if(a.length!==0)if(this.ZQh.size<this.dVd){try{this.Lsh.mod();var b=__c.o$z(a,c=>this.Lsh.kSd(c))}catch(c){this.errorService.pa(c,{Ka:"OTLPSpanAdapter: Unable to convert spans",extra:new Map(__c.KRa(a))});return}try{const c=this.send(b);this.ZQh.add(c);c.catch(d=>{this.errorService.pa(d)}).finally(()=>{this.ZQh.delete(c)})}catch(c){this.errorService.pa(c)}}else this.errorService.pa(new s$z("OTLPExporter: Concurrency Limit Reached"))}async flush(){await Promise.all(this.ZQh)}constructor(a,
b,c){var d=new __c.x$z;this.config=a;this.errorService=b;this.Lsh=d;this.send=c;this.ZQh=new Set;var e;this.dVd=(e=a.dVd)!==null&&e!==void 0?e:Infinity}};var z$z=class{static create(){return new z$z}build(a){return this.yWn.reduce((b,c)=>c(b),{kMb:()=>{},process:b=>a.Iu(b),flush:()=>a.flush()})}constructor(){this.yWn=[]}};var A$z=class{kMb(){}process(a){for(const b of a)b.T7c()&&(this.buffer.push(b),this.buffer.length>=this.config.uGf&&this.B4c());this.buffer.length>0&&this.timer==null&&(this.timer=setTimeout(()=>this.B4c(),this.config.Gpi))}async flush(){this.B4c();await this.GYa.flush()}B4c(){try{this.GYa.process(this.buffer)}catch(a){this.errorService.pa(a,{Ka:`Failed to export the span buffer from ${A$z.name}`,extra:new Map([...__c.KRa(this.buffer),["maxBatchSize",this.config.uGf],["maxBatchingTimeMs",this.config.Gpi]])})}this.buffer=
[];this.timer!=null&&clearTimeout(this.timer);this.timer=void 0}constructor(a,b,c){this.GYa=a;this.config=b;this.errorService=c;this.buffer=[]}};var C$z=class{kMb(a){const b=a.spanContext().traceId,c=this.u1i.get(b);c!=null?(c.wEd+=1,a.ua===void 0&&(c.root=a)):this.u1i.set(b,{wEd:1,root:a});this.GYa.kMb(a)}process(a){for(const c of a){a=c.spanContext().traceId;var b=this.u1i.get(a);b!=null&&(--b.wEd,b.wEd===0&&(b=this.Ams.process(b),this.GYa.process(b),this.u1i.delete(a)))}}flush(){return this.GYa.flush()}constructor(a){var b=new B$z;this.GYa=a;this.Ams=b;this.u1i=new Map}},B$z=class{process(a){const b=[];q$z(this,a.root,b);return b}};__c.x$z=class{kSd(a){return this.pGo+(a-this.jSn)}mod(){var a=Date.now(),b=performance.now();Math.abs(this.kSd(b)-a)<this.threshold||(this.pGo=a,this.jSn=b)}constructor(){var a=Date.now(),b=performance.now();this.pGo=a;this.jSn=b;this.threshold=1E4}};var D$z;
D$z=class{yqi(){this.isInitialized||typeof document==="undefined"||typeof window==="undefined"||(this.isVisible=document.visibilityState==="visible",this.HJd(),this.isInitialized=!0)}HJd(){window.addEventListener("pagehide",()=>{this.qTe()});document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this.qTe():document.visibilityState!=="visible"||this.isVisible||document.visibilityState!=="visible"||(this.isVisible=!0)})}qTe(){this.isVisible&&(this.isVisible=!1,this.KGn.forEach(a=>
a()))}constructor(){this.isVisible=!0;this.KGn=[];this.isInitialized=!1;this.yqi()}};
__c.oSa={Scr:async function({bootstrap:a,errorService:b}){const c=z$z.create();if(a.QFq){const [{o3o:k},{vgj:l}]=await Promise.all([__webpack_require__.me(752239).then(()=>__c.E$z),__webpack_require__.me(615633).then(()=>__c.f$z)]);p$z(p$z(c,m=>new l(b,m)),m=>new k(b,m))}else if(a.SJ==="CONSOLE"){const {vgj:k}=await __webpack_require__.me(615633).then(()=>({vgj:__c.e$z}));p$z(c,l=>new k(b,l))}p$z(c,k=>new C$z(k));if(a.SJ==="CONSOLE")return c.build(new w$z);const d=u$z({url:a.endpoint,navigator}),
e=v$z({url:a.endpoint,KZs:3E4,errorSampleRate:.001,fetch:self.fetch}),f=new D$z;var g;const h=p$z(c,k=>{var l,m;return new A$z(k,{uGf:(l=a.uGf)!==null&&l!==void 0?l:60,Gpi:(m=a.Gpi)!==null&&m!==void 0?m:3E3},b)}).build(new y$z({url:a.endpoint,dVd:(g=a.JFq)!==null&&g!==void 0?g:20},b,async k=>{f.yqi();if(f.isVisible)return e(k);try{d(k)}catch(l){return l instanceof s$z?b.Mq(new __c.rea(l.message,.001),l.I):b.pa(l),e(k)}}));r$z(f,()=>{h.flush()});return h}};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/5f5f35cfbe6e076c.js.map