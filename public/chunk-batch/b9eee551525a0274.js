;// __FILE_CONTENT_FOR__:b9eee551525a0274.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[970770],{

/***/ 181515:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(89391);__web_req__(228661);__web_req__(75799);__web_req__(489767);__web_req__(157643);__web_req__(361658);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var Ha=__c.Ha;var Ob=__c.Ob;var Fu=__c.Fu;var zu=__c.zu;var qu=__c.qu;var t=__c.t;var uu=__c.uu;var tu=__c.tu;var Au=__c.Au;var wu=__c.wu;var ebe,fbe,hbe,ibe,gbe,kbe,lbe,mbe,nbe,obe,pbe,sbe,qbe,rbe,Dbe,Ebe,Abe;ebe=function(a,b,c){return!__c.n8d(a)&&wu(a)&&Au(a)&&tu(a)&&a.Xp===2&&a.$s!=null&&b.includes(__c.Eu({Kb:a.Kb}))&&c.includes(__c.Eu({Kb:a.$s.Ic}))};fbe=function(a){const b=__c.Lg([0,...[3,8,16].map(c=>c+1)],c=>Date.now()>=a+864E5*c?c:Number.NaN);return new Date(a+864E5*(isNaN(b)?0:b))};
hbe=function(a){var b=Date.now();b=gbe(b);a=a.filter(tu).filter(uu).filter(b).slice();a.sort((c,d)=>d.xh-c.xh);if(a.length>0)return a[0]};
__c.jbe=function(a){a=a.filter(wu).filter(b=>!__c.n8d(b));if(a.some(Au)){a=a.filter(Au).filter(tu);a=a.filter(uu);const b=a.find(c=>c.Mca);return b?(b===null||b===void 0?void 0:b.Xp)===1?void 0:{Pt:"grace",type:"renewal",CRa:fbe(b.xh),dueDate:new Date(b.xh),subscription:b}:(a=a.find(c=>c.aE&&c.aE.status===4))&&a.aE&&a.aE.tra!==2?{type:"rollup",Pt:ibe(a.aE.tra),CRa:fbe(a.aE.Ef),dueDate:new Date(a.aE.Ef),subscription:a}:void 0}if(a=hbe(a))return{type:"renewal",Pt:"past_grace",CRa:fbe(a.xh),dueDate:new Date(a.xh),
subscription:a}};ibe=function(a){if(!a)throw Error(`Unexpected status ${a}`);switch(a){case 1:return"grace";case 3:return"past_grace";case 2:throw Error(`Unexpected status ${a}`);default:throw new t(a);}};gbe=function(a){return b=>b.Mca&&b.xh<a&&a-b.xh<2592E6&&b.lp===4&&b.Xp!==1&&b.status===2};kbe=function({subscription:a,state:b,Je:c}){switch(b){case "DOWNGRADING":return qu(a)&&ebe(a,c.Uqa,c.lea);default:throw new t(b);}};lbe=function(a){return uu(a)&&tu(a)&&wu(a)&&Au(a)};
mbe=function({subscription:a,bootstrap:b}){return!qu(a)||b.qun?!1:zu(a)&&__c.jbe([a])==null&&!__c.Cu(a)&&!a.Kb.vwa&&tu(a)&&wu(a)&&Fu(...b.Je.Uqa)(a)&&!kbe({subscription:a,state:"DOWNGRADING",Je:b.Je})&&a.quantity===1&&!a.Kb.description.toLowerCase().includes("holding plan")};nbe=function({subscription:a,bootstrap:b}){return kbe({subscription:a,state:"DOWNGRADING",Je:b.Je})};obe=function({subscription:a,Je:b}){return uu(a)&&wu(a)&&zu(a)&&qu(a)&&!a.Mca&&(!a.aE||a.aE.tra===2)&&!Fu(...b.kac)(a)};
pbe=function(a,b){return a.config.Egf[(b===null||b===void 0?void 0:b.xc)||a.xc]};
__c.tbe=function({errorService:a,Jb:b,LFa:c,pb:d,Qh:e,vL:f,jV:g,hsa:h,W_:k,AM:l,T$:n,nzb:p,uYa:q,a9:r,za:u}){const v=window.navigator.userAgent.toLowerCase().includes("store/samsung");u=u===null||u===void 0?void 0:u.qd("webx.services.subscription");const w=a.gf("platform_subscription_service");return k==null||v?g!=null?qbe({errorService:w,Jb:b,LFa:c,pb:d,Qh:e,jV:g,hsa:h,AM:l,T$:n,uYa:q,a9:r,da:u}):rbe({errorService:a,Jb:b,pb:d,Qh:e,T$:n,a9:r,da:u,vL:f,nzb:p}):sbe({a9:r,W_:k,AM:l,pb:d,Qh:e,errorService:w,
T$:n,Jb:b,da:u})};
sbe=function({errorService:a,Jb:b,pb:c,Qh:d,W_:e,AM:f,T$:g,a9:h,da:k}){const l=new ube(h),n=new vbe(h);return new __c.wbe(k,{platform:"GOOGLE_PLATFORM",Egf:{[Ob.OH]:{MNb:Ha(()=>n),O5a:Ha(async()=>{const [p,q,{ddm:r}]=await Promise.all([e(),f?f():Promise.resolve(void 0),__webpack_require__.me(931630).then(()=>__c.H$d)]);__c.qa(__c.nae(p));return new r(n,c,d,p,a.gf("google_plan_option_service_v2"),q,h)})},[Ob.Kn]:{MNb:Ha(()=>l),O5a:Ha(async()=>{const [p,{CFm:q}]=await Promise.all([g!=null?g():Promise.resolve(void 0),
__webpack_require__.me(123373).then(()=>__c.bbe)]);return new q(l,b,c,d,a.gf("web_plan_option_service_for_google"),p,h)})},[Ob.iE]:{MNb:Ha(()=>new xbe("GOOGLE_PLATFORM",Ob.iE)),O5a:Ha(async()=>{const {Chd:p}=await __webpack_require__.me(894482).then(()=>({Chd:__c.I$d}));return new p("GOOGLE_PLATFORM",Ob.iE)})},[Ob.Tya]:ybe}})};
qbe=function({errorService:a,Jb:b,LFa:c,pb:d,Qh:e,jV:f,hsa:g,AM:h,T$:k,uYa:l,a9:n,da:p}){const q=new zbe(n),r=new Abe(n);return new __c.wbe(p,{platform:"APPLE_PLATFORM",Egf:{[Ob.OH]:{MNb:Ha(()=>new xbe("APPLE_PLATFORM",Ob.OH)),O5a:Ha(async()=>{const {Chd:u}=await __webpack_require__.me(894482).then(()=>({Chd:__c.I$d}));return new u("APPLE_PLATFORM",Ob.OH)})},[Ob.Kn]:{MNb:Ha(()=>q),O5a:Ha(async()=>{const [u,{BFm:v}]=await Promise.all([k!=null?k():Promise.resolve(void 0),__webpack_require__.me(649648).then(()=>
__c.$ae)]);return new v(q,b,d,e,a.gf("web_plan_option_service_for_apple"),u,n)})},[Ob.iE]:{MNb:Ha(()=>r),O5a:Ha(async()=>{const [u,v,w,{XLl:x},{YLl:y},A]=await Promise.all([f(),n.pBn&&(g===null||g===void 0?void 0:g()),h?h():Promise.resolve(void 0),__webpack_require__.me(82651).then(()=>__c.O9d),__webpack_require__.me(849178).then(()=>__c.g9d),l()]);return v?new y(r,d,e,v,a.gf("apple_plan_option_service_v2"),w,n,A,c):new x(r,d,e,u,a.gf("apple_plan_option_service_v1"),w,n)})},[Ob.Tya]:ybe}})};
rbe=function({errorService:a,Jb:b,pb:c,Qh:d,T$:e,nzb:f,vL:g,a9:h,da:k}){const l=new __c.Bbe(h);window.navigator.userAgent.includes("canvaeditor")&&a.warning("Installed Internal PlatformSubscriptionService in iOS App");return new __c.wbe(k,{platform:"WEB_PLATFORM",Egf:{[Ob.OH]:{MNb:Ha(()=>new xbe("WEB_PLATFORM",Ob.OH)),O5a:Ha(async()=>{const {Chd:n}=await __webpack_require__.me(894482).then(()=>({Chd:__c.I$d}));return new n("WEB_PLATFORM",Ob.OH)})},[Ob.Kn]:{MNb:Ha(()=>l),O5a:Ha(async()=>{const [n,
{AFm:p},q]=await Promise.all([e!=null?e():Promise.resolve(void 0),__webpack_require__.me(318983).then(()=>__c.Cbe),f!=null?f():Promise.resolve(void 0)]);return new p(l,b,c,d,a.gf("web_plan_option_service"),n,h,g,q)})},[Ob.iE]:{MNb:Ha(()=>new xbe("WEB_PLATFORM",Ob.iE)),O5a:Ha(async()=>{const {Chd:n}=await __webpack_require__.me(894482).then(()=>({Chd:__c.I$d}));return new n("WEB_PLATFORM",Ob.iE)})},[Ob.Tya]:ybe}})};Dbe=[2,5,8];Ebe=a=>a.length>0&&a.every(b=>Dbe.includes(b));
Abe=class{PK(a){const b=a.subscription;a=a.type;if(b.xc!==this.xc)return!1;switch(a){case 4:return!uu(b)&&tu(b)&&wu(b)&&zu(b);case 11:return this.bootstrap.P3j&&!uu(b)&&tu(b)&&wu(b)&&zu(b);case 15:return this.bootstrap.z_e&&!uu(b)&&tu(b)&&qu(b)&&wu(b)&&zu(b)&&__c.Du(b);case 5:case 23:case 7:case 9:case 16:case 17:case 20:case 19:case 2:case 3:case 6:case 8:case 10:case 12:case 21:case 13:case 14:case 22:return!1;default:throw new t(a);}}TRb(a){return Ebe(a)}JYa(a,b){switch(b){case "DOWNGRADING":return qu(a)&&
ebe(a,this.bootstrap.Je.Uqa,this.bootstrap.Je.lea);default:throw new t(b);}}constructor(a){this.bootstrap=a;this.platform="APPLE_PLATFORM";this.xc=Ob.iE}};var Fbe=[2,5,8],Gbe=a=>a.length>0&&a.every(b=>Fbe.includes(b)),vbe=class{PK(a){const b=a.subscription;a=a.type;if(b.xc!==this.xc)return!1;switch(a){case 11:return this.bootstrap.P3j&&!uu(b)&&tu(b)&&wu(b)&&zu(b);case 4:case 5:case 23:case 7:case 9:case 16:case 17:case 20:case 15:case 19:case 2:case 3:case 6:case 8:case 10:case 12:case 21:case 13:case 14:case 22:return!1;default:throw new t(a);}}TRb(a){return Gbe(a)}JYa(a,b){switch(b){case "DOWNGRADING":return qu(a)&&ebe(a,this.bootstrap.Je.Uqa,this.bootstrap.Je.lea);
default:throw new t(b);}}constructor(a){this.bootstrap=a;this.platform="GOOGLE_PLATFORM";this.xc=Ob.OH}};var Hbe,zbe,ube,xbe;Hbe=[1,0,2,3,4,6,7];
__c.Bbe=class{PK(a){const b=a.subscription;a=a.type;if(b.xc!==this.xc)return!1;switch(a){case 4:return this.bootstrap.aYj?!1:uu(b)&&tu(b)&&wu(b)&&zu(b)&&qu(b)&&!ebe(b,this.bootstrap.Je.Uqa,this.bootstrap.Je.lea)&&!b.Mca;case 5:return this.bootstrap.aYj?!1:uu(b)&&tu(b)&&wu(b)&&Au(b)&&b.zK!=null&&qu(b)&&!ebe(b,this.bootstrap.Je.Uqa,this.bootstrap.Je.lea)&&!b.Mca&&!Fu(...this.bootstrap.Je.kac)(b);case 11:return uu(b)&&tu(b)&&wu(b)&&qu(b)&&Fu(...this.bootstrap.Je.lea)(b)&&zu(b);case 23:return uu(b)&&
tu(b)&&wu(b)&&qu(b)&&this.bootstrap.oCn;case 19:return uu(b)&&wu(b)&&qu(b)&&Fu(...this.bootstrap.Je.lea)(b)&&zu(b);case 7:return uu(b)&&__c.su(b)&&wu(b)&&zu(b)&&qu(b)&&!Fu(...this.bootstrap.Je.kac)(b);case 8:case 10:return obe({subscription:b,Je:this.bootstrap.Je});case 9:return uu(b)&&tu(b)&&wu(b)&&zu(b)&&qu(b)&&!Fu(...this.bootstrap.Je.kac)(b);case 16:return a=(new Date).getTime()+18E5,tu(b)&&zu(b)&&uu(b)&&qu(b)&&wu(b)&&!Fu(...this.bootstrap.Je.kac)(b)&&!__c.Cu(b)&&b.xh>a&&!b.Mca&&!b.Duk&&!b.zK&&
(!b.Cp||b.Cp.vN===b.Cp.Tm);case 15:return uu(b)&&tu(b)&&wu(b)&&zu(b)&&qu(b)&&!Fu(...this.bootstrap.Je.kac)(b);case 2:return lbe(b);case 3:return uu(b)&&tu(b)&&wu(b)&&__c.Bu(b)&&zu(b);case 6:return this.bootstrap.Xun?!1:uu(b)&&tu(b)&&qu(b)&&!ebe(b,this.bootstrap.Je.Uqa,this.bootstrap.Je.lea)&&__c.f7d(b)&&!__c.ru(b)&&!b.Kb.vwa;case 20:if(!qu(b)||this.bootstrap.fvn)return!1;a=__c.jbe([b]);return a!=null&&!(a.type==="renewal"&&a.Pt==="past_grace")&&uu(b)&&tu(b)&&wu(b)&&Au(b);case 12:return mbe({subscription:b,
bootstrap:this.bootstrap});case 21:return nbe({subscription:b,bootstrap:this.bootstrap});case 17:case 13:case 14:case 22:return!1;default:throw new t(a);}}TRb(a){return a.length>0&&a.every(b=>Hbe.includes(b))}JYa(a,b){return kbe({subscription:a,state:b,Je:this.bootstrap.Je})}constructor(a){this.bootstrap=a;this.platform="WEB_PLATFORM";this.xc=Ob.Kn}};
zbe=class{PK(a){const b=a.subscription;a=a.type;switch(a){case 8:case 10:return tu(b)&&obe({subscription:b,Je:this.bootstrap.Je});case 4:case 5:case 11:case 23:case 19:case 7:case 9:case 16:case 15:case 3:case 6:case 20:case 17:case 13:case 14:case 22:return!1;case 2:return lbe(b);case 12:return mbe({subscription:b,bootstrap:this.bootstrap});case 21:return nbe({subscription:b,bootstrap:this.bootstrap});default:throw new t(a);}}TRb(a){return Ebe(a)}JYa(a,b){return kbe({subscription:a,state:b,Je:this.bootstrap.Je})}constructor(a){this.bootstrap=
a;this.platform="APPLE_PLATFORM";this.xc=Ob.Kn}};
ube=class{PK(a){const b=a.subscription;a=a.type;switch(a){case 8:case 10:return tu(b)&&obe({subscription:b,Je:this.bootstrap.Je});case 4:case 5:case 11:case 23:case 19:case 7:case 9:case 16:case 15:case 3:case 6:case 20:case 17:case 13:case 14:case 22:return!1;case 2:return lbe(b);case 12:return mbe({subscription:b,bootstrap:this.bootstrap});case 21:return nbe({subscription:b,bootstrap:this.bootstrap});default:throw new t(a);}}TRb(a){return Gbe(a)}JYa(a,b){return kbe({subscription:a,state:b,Je:this.bootstrap.Je})}constructor(a){this.bootstrap=
a;this.platform="GOOGLE_PLATFORM";this.xc=Ob.Kn}};xbe=class{TRb(){return!1}PK(){return!1}JYa(){return!1}constructor(a,b){this.platform=a;this.xc=b}};__c.wbe=class{get platform(){return this.config.platform}get xc(){switch(this.config.platform){case "WEB_PLATFORM":return Ob.Kn;case "GOOGLE_PLATFORM":return Ob.OH;case "APPLE_PLATFORM":return Ob.iE;default:throw new t(this.config.platform);}}O5a(a){return pbe(this,a).O5a()}TRb(a){return pbe(this).MNb().TRb(a)}PK(a){return pbe(this,a.subscription).MNb().PK(a)}JYa(a,b){return pbe(this,a).MNb().JYa(a,b)}async nFa(a){return this.VUa({operation:"find_plan_options",type:a.UL===2&&a.type===22?22:1,func:async()=>
(await this.O5a()).nFa(a)})}async IU(a){return(await this.O5a()).IU(a)}async I_(a){return this.VUa({operation:"find_update_subscription_options",type:a.type,func:async()=>(await this.O5a(a.subscription)).I_(a)})}async Ax(a){return(await this.O5a(a.option.subscription)).Ax(a)}async VUa({operation:a,type:b,func:c}){var d;const e=(d=this.da)===null||d===void 0?void 0:d.Ec(`platform_subscription_service.${a}`,{Hc:{name:"subscription.request_plan_options",type:__c.dbe[b],attrs:new Map([["provider",this.xc.toString()]])}});
try{return await c()}catch(f){throw e===null||e===void 0||e.setStatus("error"),f;}finally{e===null||e===void 0||e.end()}}constructor(a,b){this.da=a;this.config=b}};__c.wbe.prototype.Yxb=__c.ea(227);var ybe;ybe={MNb:Ha(()=>{throw Error("Unexpect samsung platform/subscription");}),O5a:Ha(()=>{throw Error("Unexpect samsung platform/subscription");})};__c.ala={};__c.ala.phe=__c.tbe;
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/34_sourcemaps/b9eee551525a0274.js.map