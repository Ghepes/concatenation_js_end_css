(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[3471],{

/***/ 76014:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(583202);self._f0786118459de4aed74884bcb4b303e0 = self._f0786118459de4aed74884bcb4b303e0 || {};(function(__c) {var Je,Le,Ke,Me,Oe,Ne,Pe,Qe,Se,Te,Xe,Ye,We,Ze;Je=function({data:a,url:b}){try{const c=JSON.stringify(a,void 0,2);return{extra:new Map([["spans",c.slice(0,15500)],["url",b]]),tags:new Map([["telemetry.export.beacon.over_64_kB",String(c.length>64E3)]])}}catch(c){return{tags:new Map([["telemetry.error.serialisation_error","true"]])}}};Le=function(a,b){Ke(a,b,()=>{const c=a.cb.get(b.spanContext().spanId)||[];for(const d of c)Le(a,d)})};
Ke=function(a,b,c){var d,e=(d=b.attrs.get("parent_relative_start_ms"))!==null&&d!==void 0?d:b.duration;e=typeof e==="number"?` - ${Math.round(e)}ms`:"";var f=(d=b.parentSpanId!=null)?`${b.T==="event"?"[ChildEvent]":"[ChildSpan]"}: `:"[OpenTelemetryClient]: ";const g=__c.R(b)?"User Operation - ":"";e=`${f}${g}${b.name}${e}`;d&&!a.ac.has(b.parentSpanId)?console.group(e):console.groupCollapsed(e);console.groupCollapsed("Attributes");d={name:b.name,Qf:`${b.duration}ms`,...Object.fromEntries(b.attrs.entries())};
e={};for(const h of Object.keys(d))f=d[h],e[h]=f instanceof Object?JSON.stringify(f):f;console.table(e);console.groupEnd();c===null||c===void 0||c();console.groupEnd();a.ac.add(b.spanContext().spanId)};Me=function(a){switch(a){case "unset":return 0;case "ok":return 1;case "error":return 2;default:return 0}};Oe=function(a){const b=[];for(const [c,d]of a.entries())d!=null&&b.push({key:c,value:Ne(d)});return b};
Ne=function(a){const b=typeof a;return b==="string"?{stringValue:a}:b==="number"?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:b==="boolean"?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(Ne)}}:b==="object"&&a!=null?{kvlistValue:{values:Object.entries(a).map(([c,d])=>({key:c,value:Ne(d)}))}}:{}};Pe=function(a){const b=new Map;for(const c of a)a=b.get(c.P),a||(a=[],b.set(c.P,a)),a.push(c);return b};
Qe=function(a,b){b=b(a)/1E3;a=Math.trunc(b);b=Number((b-a).toFixed(9))*1E9;let [c,d]=[a,b];d>1E9&&(d-=1E9,c+=1);return c*1E9+d};
__c.Re=function(a,b){if(a.length===0)return{resourceSpans:[]};const c=[];a=Pe(a);for(const [d,e]of a)if(e.length>0){a={attributes:Oe(e[0].X),droppedAttributesCount:0};const f=[{scope:{name:d},spans:e.map(g=>{var h=g.spanContext();const k=Qe(g.startTime,b);var l;const n=Qe((l=g.endTime)!==null&&l!==void 0?l:g.startTime,b);var m=g.attrs;g.T==="event"&&(l=g.attrs.get("parent_start"),l!=null&&typeof l==="number"&&(m=new Map([...m.entries(),["parent_start",Qe(l,b)]])));l=h.traceId;h=h.spanId;var p=g.parentSpanId,
q=g.name;m=Oe(m);var r={code:Me(g.status)};g=g.links;const t=[];for(const x of g)t.push({spanId:x.pd.spanId,traceId:x.pd.traceId,droppedAttributesCount:0});return{traceId:l,spanId:h,parentSpanId:p,name:q,kind:3,startTimeUnixNano:k,endTimeUnixNano:n,attributes:m,droppedAttributesCount:0,events:[],droppedEventsCount:0,status:r,links:t,droppedLinksCount:0}})}];c.push({resource:a,scopeSpans:f})}return{resourceSpans:c}};Se=function(a,b){a.cd.unshift(b);return a};
Te=function(a,b,c,d=!1){b.aborted||d||!b.ka()||(c.push(b),b.ra.forEach(e=>c.push(e)));for(const e of b.Ba)Te(a,e,c,d||b.aborted);b.G=void 0;b.Ba.length=0};__c.Ve=function(a){var b=Date.now(),c=performance.now();Math.abs(__c.Ue(a,c)-b)<a.threshold||(a.rd=b,a.bd=c)};__c.Ue=function(a,b){return a.rd+(b-a.bd)};
Xe=function(a){window.addEventListener("pagehide",()=>{We(a)});document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?We(a):document.visibilityState!=="visible"||a.isVisible||document.visibilityState!=="visible"||(a.isVisible=!0)})};Ye=function(a){a.isInitialized||typeof document==="undefined"||typeof window==="undefined"||(a.isVisible=document.visibilityState==="visible",Xe(a),a.isInitialized=!0)};We=function(a){a.isVisible&&(a.isVisible=!1,a.Zc.forEach(b=>b()))};
Ze=function(a,b){a.Zc.push(b)};__c.fe.prototype.Ka=__c.v(4,async function(){for(const a of this.H)a&&await __c.Db(this,a);this.H=[]});var Z=class extends Error{constructor(a,b){super(a);this.Sa=b;this.name="TelemetryExportError";Object.setPrototypeOf(this,Z.prototype)}},$e=class extends __c.Lb{constructor(a,b,c){super(a,b);this.Sa=c;this.name="SampledTracingExportError";Object.setPrototypeOf(this,$e.prototype)}};var af=({navigator:a,url:b})=>c=>{var d=JSON.stringify(c);d=new Blob([d],{type:"application/json"});try{if(!a.sendBeacon(b,d))throw new Z("createSendWithBeacon: Failed to enqueue spans in Beacon",Je({data:c,url:b}));}catch(e){throw new Z(e instanceof Error?e.message:String(e),e instanceof Z?e.Sa:Je({data:c,url:b}));}};var bf=({Me:a,url:b,errorSampleRate:c,fetch:d=self.fetch})=>async e=>{var f,g;e=new Request(b,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"},priority:"low",signal:(f=(g=AbortSignal).timeout)===null||f===void 0?void 0:f.call(g,a)});try{const h=await d(e);if(h.status>299||h.status<200)throw c!=null?new $e(`SendWithFetch: Failed to export (status: ${h.status})`,c):new Z(`SendWithFetch: Failed to export (status: ${h.status})`);}catch(h){throw f=
h instanceof Error&&h.name==="AbortError"?`SendWithFetch: Fetch request timeout: ${a}ms`:"SendWithFetch: Failed to export",c!=null?new $e(f,c):new Z(f);}};var cf=class{Mc(a){var b=[];for(const c of a)c.parentSpanId&&!this.ac.has(c.parentSpanId)?(a=this.cb.get(c.parentSpanId)||[],a.push(c),this.cb.set(c.parentSpanId,a)):b.push(c);for(const c of b)b=c.spanContext().spanId,Le(this,c),this.cb.delete(b)}async flush(){}constructor(){this.cb=new Map;this.ac=new Set}};var ef=class{async Mc(a){if(a.length!==0)if(this.eb.size<this.Mb){try{__c.Ve(this.Ya);var b=__c.Re(a,c=>__c.Ue(this.Ya,c))}catch(c){this.j.l(c,{M:"OTLPSpanAdapter: Unable to convert spans",extra:new Map(__c.Fb(a))});return}try{const c=this.send(b);this.eb.add(c);c.catch(d=>{this.j.l(d)}).finally(()=>{this.eb.delete(c)})}catch(c){this.j.l(c)}}else this.j.l(new Z("OTLPExporter: Concurrency Limit Reached"))}async flush(){await Promise.all(this.eb)}constructor(a,b,c){var d=new __c.df;this.config=a;this.j=
b;this.Ya=d;this.send=c;this.eb=new Set;var e;this.Mb=(e=a.Mb)!==null&&e!==void 0?e:Infinity}};var ff=class{static create(){return new ff}build(a){return this.cd.reduce((b,c)=>c(b),{L:()=>{},process:b=>a.Mc(b),flush:()=>a.flush()})}constructor(){this.cd=[]}};var gf=class{L(){}process(a){for(const b of a)b.ka()&&(this.buffer.push(b),this.buffer.length>=this.config.kb&&this.Ka());this.buffer.length>0&&this.za==null&&(this.za=setTimeout(()=>this.Ka(),this.config.lb))}async flush(){this.Ka();await this.D.flush()}Ka(){try{this.D.process(this.buffer)}catch(a){this.j.l(a,{M:`Failed to export the span buffer from ${gf.name}`,extra:new Map([...__c.Fb(this.buffer),["maxBatchSize",this.config.kb],["maxBatchingTimeMs",this.config.lb]])})}this.buffer=[];this.za!=
null&&clearTimeout(this.za);this.za=void 0}constructor(a,b,c){this.D=a;this.config=b;this.j=c;this.buffer=[]}};var jf=class{L(a){const b=a.spanContext().traceId,c=this.zb.get(b);c!=null?(c.ga+=1,a.G===void 0&&(c.root=a)):this.zb.set(b,{ga:1,root:a});this.D.L(a)}process(a){for(const c of a){a=c.spanContext().traceId;var b=this.zb.get(a);b!=null&&(--b.ga,b.ga===0&&(b=this.ye.process(b),this.D.process(b),this.zb.delete(a)))}}flush(){return this.D.flush()}constructor(a){var b=new hf;this.D=a;this.ye=b;this.zb=new Map}},hf=class{process(a){const b=[];Te(this,a.root,b);return b}};__c.df=class{constructor(){var a=Date.now(),b=performance.now();this.rd=a;this.bd=b;this.threshold=1E4}};var kf;kf=class{constructor(){this.isVisible=!0;this.Zc=[];this.isInitialized=!1;Ye(this)}};
__c.fc={de:async function({W:a,j:b}){const c=ff.create();if(a.Sd){const [{xd:k},{Eb:l}]=await Promise.all([__webpack_require__.me(752239).then(()=>__c.lf),__webpack_require__.me(615633).then(()=>__c.Ie)]);Se(Se(c,n=>new l(b,n)),n=>new k(b,n))}else if(a.O==="CONSOLE"){const {Eb:k}=await __webpack_require__.me(615633).then(()=>({Eb:__c.He}));Se(c,l=>new k(b,l))}Se(c,k=>new jf(k));if(a.O==="CONSOLE")return c.build(new cf);const d=af({url:a.endpoint,navigator}),e=bf({url:a.endpoint,Me:3E4,errorSampleRate:.001,
fetch:self.fetch}),f=new kf;var g;const h=Se(c,k=>{var l,n;return new gf(k,{kb:(l=a.kb)!==null&&l!==void 0?l:60,lb:(n=a.lb)!==null&&n!==void 0?n:3E3},b)}).build(new ef({url:a.endpoint,Mb:(g=a.Rd)!==null&&g!==void 0?g:20},b,async k=>{Ye(f);if(f.isVisible)return e(k);try{d(k)}catch(l){return l instanceof Z?b.yc(new __c.Lb(l.message,.001),l.Sa):b.l(l),e(k)}}));Ze(f,()=>{h.flush()});return h}};
}).call(self, self._f0786118459de4aed74884bcb4b303e0);}

}])
//# sourceMappingURL=sourcemaps/44786d0c59fa5720.js.map