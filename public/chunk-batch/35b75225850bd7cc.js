(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[98973],{

/***/ 583202:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;self._f0786118459de4aed74884bcb4b303e0 = self._f0786118459de4aed74884bcb4b303e0 || {};(function(__c) {/*

 Copyright The Closure Library Authors.
 Copyright The Closure Compiler Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var Y;var y;var J;var w;var u,ba,ea,fa,ia,ka,ma,na,qa,B,C,ra,G,H,sa,I,ta,P,Da,Ea,ua,Ba,Aa,xa,ya,za,N,O,Ca,D,M,va,wa,Ha,Ja,La,Ia,Ka,Na,Ma,Ra,Sa,Ua,Wa,Xa,Ta,Va,Za,ab,bb,cb,db,eb,fb,gb,ib,hb,jb,kb,lb,mb,nb,pb,ob,qb,rb,tb,sb,ub,vb,Cb,Eb,Hb,Gb,Mb,Jb,Ob,Pb,Rb,Ub,Wb,Zb,$b,Sb,ac,Yb,bc,Kb,Vb,S,Ib,hc,ic,jc,kc,lc,nc,oc,qc,tc,vc,xc,yc,zc,Ac,Bc,Cc,Dc,Fc,Ec,Hc,Jc,Ic,Kc,Mc,Oc,Yc,Nc,Zc,$c,ad,bd,dd,fd,gd,aa,da,ca;u=function(a){return function(){return aa[a].apply(this,arguments)}};
__c.v=function(a,b){return aa[a]=b};ba=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};ea=function(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&da(c,a,{configurable:!0,writable:!0,value:b})}};
w=__c.w=function(a,b,...c){if(!a)throw Error(b==null?"invalid argument":fa(b,...c));};fa=function(a,...b){let c=0;return a.replace(/\{}/g,()=>c<b.length?b[c++]:"{}")};y=__c.y=function(a,b){var c=[];if(!a)throw Error(b==null?"invalid state":fa(b,...c));};__c.z=function(a,b,...c){if(a==null)throw Error(b==null?"argument is null":fa(b,...c));return a};ia=function(a,b,c){return a(ha.required(b,c))};ka=function(a){return new ja(a)};ma=function(a){return new la(a)};
na=function(a){return a!=null&&a.then!=null};qa=function(a){({ge:b}={ge:!1});var b;let c=!1,d;return(...e)=>{w(e.length===0);if(d==null||b&&(!d.ok||c))try{c=!1,d=oa(a()),na(d.value)&&d.value.then(null,()=>c=!0)}catch(f){d=pa(f)}if(d.ok)return d.value;throw d.error;}};B=function(a,b,c,d){return{tag:c,J:2,C:b,default:d!=null?d:a.defaultValue,defaultValue:a.defaultValue,A:a.A}};C=function(a,b,c){return{tag:c,J:3,C:b,defaultValue:a.defaultValue,A:a.A}};
ra=function(a){return(b,c,d)=>{const {tag:e,C:f,R:g}=D(b,c,d);return{J:5,tag:e,C:f,fa:g,wc:E.A,A:a==="object"?"object":a==="enum"?"string":a.A}}};G=function(a,b){const {tag:c,C:d,R:e}=D(a,b);return{tag:c,J:1,C:void 0,Tc:d,value:e,Jd:!1,A:"string"}};H=function(a,b){const {tag:c,C:d,R:e}=D(a,b);return{tag:c,J:2,C:d,fa:e,A:"object"}};sa=function(a,b){const {tag:c,C:d,R:e}=D(a,b);return{tag:c,J:3,C:d,fa:e,A:"object"}};I=function(a,b,c){const {tag:d,C:e,R:f}=D(a,b,c);return{tag:d,J:4,C:e,fa:f,A:"object"}};
ta=function(a,b,c){const {tag:d,C:e,R:f}=D(a,b,c);return{tag:d,J:3,C:e,fa:f,A:"string"}};
P=function(a){var b={};const c=qa(()=>{const e=a();var f=Object.keys(e);const g={},h={};for(const k of f)switch(f=e[k],f.J){case 1:h[f.tag]={...f,name:k};break;case 2:case 3:case 4:case 5:g[f.tag]={...f,name:k};break;default:throw new J(f);}return{kind:1,Nc:e,ib:ua(e,b.gb),Td:g,Ed:h}});class d{static ma(e){return d.Xa(e,[])}static wb(e,f,g){f=f.config;return f.A==="Uint8Array"?va(e):f.fa?f.fa.Xa(e,g):e}static va(e){return d.Ca(e,[])}static fb(e,f,g){f=f.config;return f.A==="Uint8Array"?wa(e):f.fa?
f.fa.Ca(e,g):e}static Ca(e,f){var {ib:g}=c(),h=Object.create(d.prototype);for(const r of g){g=r.config;const t=r.name;var k=r.I,l=r.U,n=k,m=e[n];m==null&&l!=null&&e[l]!=null&&(n=l,m=e[n]);switch(g.J){case 3:if(m==null){h[t]=void 0;break}else if(!M(m,g.A))throw xa({I:k,U:l},m,g.A,f);f.push(n);h[t]=d.fb(m,r,f);f.pop();break;case 2:if(m==null&&g.defaultValue!=null){h[t]=g.defaultValue;break}else if(m==null||!M(m,g.A))throw ya({I:k,U:l},m,g.A,f);f.push(n);h[t]=d.fb(m,r,f);f.pop();break;case 1:var p=r.sb;
n=r.rc;if(m==null&&g.Jd){h[t]=g.value;break}if(m===p){h[t]=g.value;break}if(n!=null&&m===n){h[t]=g.value;break}e=p;h=n;throw new TypeError(`Expected value ${h?`either "${e}" OR "${h}"`:`"${e}"`} for key ${za({I:k,U:l})} found: ${JSON.stringify(m)} ${N(f)}`);case 4:if(m==null){h[t]=[];break}else if(!Array.isArray(m))throw Aa({I:k,U:l},m,g.A,f);p=Array(m.length);for(var q=0;q<m.length;++q){if(!M(m[q],g.A))throw ya({I:k,U:l},m[q],g.A,[...f,n],q);f.push(`${n}[${q}]`);p[q]=d.fb(m[q],r,f);f.pop()}h[t]=
p;break;case 5:if(m==null){h[t]=new Map;break}else if(typeof m!=="object")throw new TypeError(`Expected Map for key ${za({I:k,U:l})}, found: ${O(m)} ${N(f)}`);k=g.wc==="number";m=Object.entries(m);l=Array(m.length);for(p=0;p<m.length;++p){const [x,A]=m[p];if(k){if(q=Number(x),isNaN(q))throw new TypeError(`Expected number map key, found: NaN ${N([...f,n])}`);}else q=x;if(!M(A,g.A))throw new TypeError(`Expected ${g.A} map value for map key "${q}", found: ${O(A)} ${N([...f,n])}`);f.push(`${n}["${q}"]`);
const K=d.fb(A,r,f);f.pop();l[p]=[q,K]}h[t]=new Map(l);break;default:throw new J(g);}}return h}constructor(e={}){var {ib:f}=c();for(const g of f){f=g.config;const h=g.name,k=e[h];switch(f.J){case 1:this[h]=f.value;break;case 2:this[h]=k==null?f.default:k;break;case 3:this[h]=k;break;case 4:this[h]=k==null?[]:k;break;case 5:this[h]=k==null?new Map:k;break;default:throw new J(f);}}}}d.init=c;d.Xa=b.Ab?(e,f)=>{throw new TypeError(`Unproducible oneof case ${N(f)}`);}:(e,f)=>{if(e==null||typeof e!=="object")throw new TypeError(`Expected type object, found: ${O(e)} ${N(f)}`);
var {ib:g}=c();const h={};for(const m of g){g=m.config;var k=m.I,l=e[m.name];const p=k;switch(g.J){case 1:if(l!==g.value)throw new TypeError(`Expected value ${JSON.stringify(g.value)} for key "${k}", found: ${JSON.stringify(l)} ${N(f)}`);h[p]=m.sb;break;case 2:if(g.defaultValue!=null&&l===g.defaultValue)break;f.push(p);var n=d.wb(l,m,f);f.pop();if(!M(n,g.A))throw ya({I:k},l,g.A,f);h[p]=n;break;case 3:if(l==null)break;f.push(p);n=d.wb(l,m,f);f.pop();if(!M(n,g.A))throw xa({I:k},l,g.A,f);h[p]=n;break;
case 4:if(l==null)break;else{if(!Array.isArray(l))throw Aa({I:k},l,g.A,f);if(l.length===0)break}n=Array(l.length);for(let q=0;q<l.length;++q){f.push(`${p}[${q}]`);const r=d.wb(l[q],m,f);f.pop();if(!M(r,g.A))throw ya({I:k},r,g.A,[...f,p],q);n[q]=r}h[p]=n;break;case 5:if(!(l instanceof Map))throw new TypeError(`Expected Map for key "${k}", found: ${O(l)} ${N(f)}`);if(l.size===0)break;k={};for(const [q,r]of l){if(typeof q!==g.wc)throw new TypeError(`Expected ${g.wc} map key, found: ${O(q)} ${N([...f,
p])}`);f.push(`${p}["${q}"]`);l=d.wb(r,m,f);f.pop();if(!M(l,g.A))throw new TypeError(`Expected ${g.A} map value for map key "${q}", found: ${O(l)} ${N([...f,p])}`);k[q]=l}h[p]=k;break;default:throw new J(g);}}return h};return d};
Da=function(a,b){var c={};const d=qa(()=>{var g=a();const h=Object.keys(g)[0];let k;const l=new Map,n=new Map,m=new Map;for(var p=0;p<g[h].length;p+=2){var q=g[h][p];const x=g[h][p+1],A=x.init().Nc[h];if(!A)throw new TypeError("Missing discriminator.");if(A.J!==1)throw new TypeError(`Discriminator must be FieldLabel.CONSTANT, was ${A.J}.}`);var r=Ba("A?",A.C,c.gb);const {ca:K,la:F}=Ba(Ca(q-1),A.Tc,c.gb);m.set(q,{Xe:x,value:A.value});l.set(A.value,x);n.set(K,x);F&&n.set(F,x);if(k&&k.I!==r.ca)throw new TypeError(`oneOf JSON keys are not consistent. ${k.I} ${r.ca}`);
if(k&&k.U!==r.la)throw new TypeError(`oneOf secondary JSON keys are not consistent. ${k.U} ${r.la}`);q=A.tag;k={I:r.ca,U:r.la}}if(k==null||q==null)throw new TypeError("OneOf has no cases.");g=b();r=Object.keys(g);p={};for(var t of r)p[g[t].tag]={...g[t],name:t};t=c.Hd!=null?c.Hd():void 0;return{kind:2,ib:ua(g,c.gb),Ld:h,pe:l,mf:q,Kd:k,De:n,Id:t,Nc:g,Td:p,Ed:{},Tf:m}}),e=(g,h)=>{const {Ld:k,pe:l}=d(),n=g[k],m=l.get(n);if(!m)throw new TypeError(`Unknown oneof deserialized case: ${JSON.stringify(n)} ${N(h)}`);
return m.Xa(g,h)},f=(g,h)=>{const {De:k,Kd:l,Id:n}=d();var m=l.U;let p=g[l.I];p==null&&m&&(p=g[m]);if(p==null&&n)return n.Ca(g,h);m=k.get(p);if(!m)throw new TypeError(`Unknown oneof serialized case: ${JSON.stringify(p)} ${N(h)}`);return m.Ca(g,h)};return{init:d,ma:g=>e(g,[]),Xa:e,va:g=>f(g,[]),Ca:f}};
Ea=function(a,b=0){var c={};const d=qa(()=>{const g=a(),h=[],k=new Map,l=new Map,n=new Map,m=new Map,p=new Set;let q=0,r=1;for(;q<g.length;){const x=r++,A=g[q];var t=Ca(A-b);q+=1;let K;const F=g[q];typeof F==="string"&&(K=F,q+=1);const {ca:L,la:yb}=Ba(t,K,c.gb);t=g[q];typeof t==="object"&&t.Ab&&(p.add(x),q+=1);h.push(x);k.set(L,x);yb&&k.set(yb,x);l.set(x,L);n.set(x,A);m.set(A,x)}return{values:h,ud:l,ag:n,Nf:m,Ee:k,Ab:p.size?p:void 0}}),e=(g,h,k)=>{const {Ab:l}=d();if(l&&l.has(g))throw new TypeError(`Unproducible enum value: ${JSON.stringify(g)} ${k?
N(k):""}`);h=h.get(g);if(h==null)throw new TypeError(`The proto enum serializer failed to serialize value ${JSON.stringify(g)} into JSON.
It does not recognize value ${JSON.stringify(g)} as a valid member of the TypeScript enum.
${k?N(k):""}`);return h},f=(g,h)=>{const k=d().Ee.get(g);if(k==null)throw new TypeError(`The proto enum deserializer failed to deserialize JSON ${JSON.stringify(g)} into an enum value.
It does not recognize JSON ${JSON.stringify(g)} as a valid JSON value encoding of the enum.
${N(h)}`);return k};return{values:()=>d().values,Mf:()=>{const {values:g,Ab:h}=d();return h==null?g:g.filter(k=>!h.has(k))},ma:g=>e(g,d().ud,[]),Xa:(g,h)=>e(g,d().ud,h),va:g=>f(g,[]),Ca:f}};ua=function(a,b){return Object.entries(a).map(([c,d])=>{let e=Ca(d.tag-1);if(d.J===1){const {ca:k,la:l}=Ba(e,d.Tc,b);e="A?";var f={sb:k,rc:l}}const {ca:g,la:h}=Ba(e,d.C,b);return{config:d,name:c,I:g,U:h,sb:f===null||f===void 0?void 0:f.sb,rc:f===null||f===void 0?void 0:f.rc}})};
Ba=function(a,b,c){if(!b){if(c!==void 0)throw Error("Dual Deserialization config templated but JSON full key/value wasn't");return{ca:a}}if(c===void 0)return{ca:b};if(c===0)return{ca:a,la:b};if(c===1)return{ca:b,la:a};throw Error("function should have been exhaustive, but wasn't");};Aa=function(a,b,c,d){return new TypeError(`Expected repeated ${c} value for key ${za(a)}, found: ${O(b)} ${N(d)}`)};xa=function(a,b,c,d){return new TypeError(`Expected optional ${c} value for key ${za(a)}, found: ${O(b)} ${N(d)}`)};
ya=function(a,b,c,d,e){return new TypeError(`Expected ${c} value${e!==void 0?` at index ${e}`:""} for key ${za(a)}, found: ${O(b)} ${N(d)}`)};za=function(a){const b=a.I;return(a=a.U)?`either "${b}" OR "${a}"`:`"${b}"`};N=function(a){return`(path: .${a.join(".")})`};O=function(a){return a===null?"null":Array.isArray(a)?"array":typeof a};
Ca=function(a){if(a<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a);const b=[];for(;a>0;)b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a%64)),a=Math.floor(a/64);return b.reverse().join("")};D=function(a,b,c){return typeof a==="string"?{C:a,tag:b,R:c,$c:void 0}:{tag:a,R:b,$c:c}};M=function(a,b){return typeof a===b||b==="Uint8Array"&&typeof a==="string"};va=function(a){a=Array.from(a,b=>String.fromCodePoint(b)).join("");return btoa(a)};
wa=function(a){return Uint8Array.from(atob(a),b=>b.codePointAt(0))};Ha=function(a){const b=ia(Fa.va,"workerServerBootstrap",a);a=ia(c=>c,"serializedPageWorkerBootstrap",a);return new Ga(b,a)};Ja=function(a){return{type:"request",metadata:Ia(a.metadata),message:a.message,transferables:a.B}};
La=function(a){switch(a.status){case "OK":return{type:"response",metadata:Ia(a.metadata),status:"OK",message:a.message,transferables:a.B};case "ERROR":return a.reason?{type:"response",metadata:Ia(a.metadata),status:"ERROR",reason:Ka(a.reason)}:{type:"response",metadata:Ia(a.metadata),status:"ERROR"};default:throw new J(a);}};Ia=function({id:a,aa:b,name:c,Ea:d,xa:e}){return{id:a,service:b,requestType:e,name:c,statefulInstanceId:d}};Ka=function({value:a,stack:b}){return{value:a,stack:b}};
Na=function(a){const b=Ma(a);switch(a.status){case "OK":return{type:"response",status:"OK",metadata:b,message:a.message,B:a.transferables};case "ERROR":return a=(a=a.reason)?{value:Q.required("value",a),stack:Q.optional("stack",a)}:void 0,{type:"response",status:"ERROR",reason:a,metadata:b};default:throw new J(a);}};
Ma=function(a){var b=__c.z(a.metadata);a=Oa.optional("id",b)||0;var c=Q.required("service",b);var d=Q.required("requestType",b);if(d==="rpc")d="rpc";else if(d==="event")d="event";else throw Error(`Unknown request type: ${d}`);var e=Q.required("name",b);b=Oa.optional("statefulInstanceId",b);return{id:a,aa:c,xa:d,name:e,Ea:b}};__c.Pa=function(){let a,b;return{promise:new Promise((c,d)=>{a=c;b=d}),resolve:a,reject:b}};__c.Qa=function(a){return a!=null};
Ra=function(a,b){if(a)switch(b){case "rpc":return a.da;case "event":return a.ja;default:throw new J(b);}};Sa=function(a,b){return Array.isArray(a)&&a.every(c=>c instanceof b)};
Ua=async function(a,b){if(b){if(a){var c={},d=0;for(const f in b){var e=b[f];const g=a[f],h=d.toString();if(g){switch(e.type){case "BLOB":y(g instanceof Blob);e={type:e.type,value:(await Ta(g)).ma()};break;case "ARRAY_BUFFER":y(g instanceof ArrayBuffer);e={type:e.type,value:g};break;case "IMAGE_BITMAP":y(g instanceof ImageBitmap);e={type:e.type,value:g};break;case "OFFSCREEN_CANVAS":y(g instanceof OffscreenCanvas);e={type:e.type,value:g};break;case "ARRAY_BUFFER_ARRAY":y(Sa(g,ArrayBuffer));e={type:e.type,
value:g};break;case "BLOB_ARRAY":y(Sa(g,Blob));e={type:e.type,value:await Promise.all(g.map(async k=>(await Ta(k)).ma()))};break;case "IMAGE_BITMAP_ARRAY":y(Sa(g,ImageBitmap));e={type:e.type,value:g};break;case "OFFSCREEN_CANVAS_ARRAY":y(Sa(g,OffscreenCanvas));e={type:e.type,value:g};break;default:throw new J(e.type);}c[h]=e;d++}else y(!e.required),c[h]=void 0,d++}y(d>0||Object.keys(a).length===0);return c}y(Object.entries(b).every(([,f])=>!f.required))}else y(a==null)};
Wa=function(a,b){if(b){if(a){var c={},d=0;for(const f in b){var e=b[f];const g=a[d.toString()];if(g){y(g.type===e.type);switch(g.type){case "BLOB":e=Va(g.value).toBlob();break;case "BLOB_ARRAY":e=g.value.map(h=>Va(h).toBlob());break;case "ARRAY_BUFFER":case "IMAGE_BITMAP":case "OFFSCREEN_CANVAS":case "ARRAY_BUFFER_ARRAY":case "IMAGE_BITMAP_ARRAY":case "OFFSCREEN_CANVAS_ARRAY":e=g.value;break;default:throw new J(g);}c[f]=e;d++}else y(!e.required),c[f]=void 0,d++}y(d>0||Object.keys(a).length===0);return c}y(Object.entries(b).every(([,
f])=>!f.required))}else y(a==null)};Xa=function(a){const b=[];for(const c in a){const d=a[c];if(d)switch(d.type){case "BLOB":b.push(d.value.buffer);break;case "BLOB_ARRAY":b.push(...d.value.map(e=>e.buffer));break;case "ARRAY_BUFFER":case "IMAGE_BITMAP":case "OFFSCREEN_CANVAS":b.push(d.value);break;case "ARRAY_BUFFER_ARRAY":case "IMAGE_BITMAP_ARRAY":case "OFFSCREEN_CANVAS_ARRAY":b.push(...d.value);break;default:throw new J(d);}}return b};
Ta=async function(a){return typeof a.arrayBuffer==="function"?new Ya(a.type,await a.arrayBuffer()):new Ya(a.type,await (new Response(a)).arrayBuffer())};Va=function(a){return new Ya(Q.required("blobType",a),ia(Za,"buffer",a))};Za=function(a){if(a&&typeof a.byteLength==="number"&&typeof a.slice==="function")return a;throw new TypeError(`Expected ArrayBuffer, found: ${JSON.stringify(a)}`);};ab=function(a,b){var c=__c.$a();y(!a.yb.has(c.name));a.yb.set(c.name,b)};
bb=async function(a,{aa:b,name:c,xa:d,message:e,B:f,Ea:g}){const h=a.Ae.next();b=Ja({metadata:{id:h,aa:b,xa:d,name:c,Ea:g},message:e,B:f});f?a.postMessage(b,Xa(f)):a.postMessage(b,[]);if(d!=="event"){var {resolve:k,reject:l,promise:n}=__c.Pa();a.jc.set(h,{resolve:k,reject:l});n.finally(()=>{a.jc.delete(h)}).catch(()=>{});return n}};
cb=function(a,b,c){const d={},e={};for(const f in b.da.na){const g=b.da.na[f];d[g.name]=async h=>{const k=g.request.message.ma(h.message);h=await bb(a,{aa:b.name,xa:"rpc",name:g.name,Ea:c,message:k,B:await Ua(h.B,g.request.B)});y(h!==void 0,"Expected response to be defined");return{message:g.response.message.va(h.message),B:Wa(h.B,g.response.B)}}}for(const f in b.ja.na){const g=b.ja.na[f];e[g.name]=async h=>{const k=g.message.ma(h.message);await bb(a,{aa:b.name,xa:"event",name:g.name,Ea:c,message:k,
B:await Ua(h.B,g.B)})}}return{da:d,ja:e}};
db=function({na:a,dispose:b}){const c=a.Qb,d=new Map,e=new Map;for(const f in c.da.client){const g=c.da.client[f];d.set(g.name,async({message:h,B:k})=>{h=g.request.message.va(h);k=Wa(k,g.request.B);k=await a[f]({message:h,B:k});return{message:g.response.message.ma(k.message),B:await Ua(k.B,g.response.B)}})}for(const f in c.ja.client){const g=c.ja.client[f];e.set(g.name,async({message:h,B:k})=>{h=g.message.va(h);k=Wa(k,g.B);a[f]({message:h,B:k})})}b!=null&&d.set("dispose",async()=>{await b();return{message:{},
B:void 0}});return{da:d,ja:e}};
eb=async function(a,b,c){const d=b.metadata.aa,e=b.metadata.name,f=a.jc.get(b.metadata.id);if(f)switch(b.status){case "OK":f.resolve({message:b.message,B:b.B});break;case "ERROR":a=a.j;c=a.l;if(b.reason){var g=b.reason;const h=Error(g.value);g.stack&&(h.stack=g.stack);g=h}else g=Error("Failed to process web worker message");c.call(a,g,{tags:new Map([["worker.service",d],["worker.rpc",e]])});f.reject({reason:b.reason});break;default:throw new J(b);}else a.j.l("Unexpected response received in dispatcher",{tags:new Map([["worker.service",
d],["worker.rpc",e]]),extra:new Map([["response",c]])})};
fb=async function(a,b){const c=b.metadata,d=c.aa,e=c.name,f=c.Ea,g=c.xa;try{var h;let m;if(f==null)m=(h=Ra(a.Ke.get(d),g))===null||h===void 0?void 0:h.get(e);else if(a.yb.has(d)){var k;let p=a.tc.get(f);if(p==null){const q=a.yb.get(d)();p=db({na:q,dispose:()=>{a.tc.delete(f);return q.dispose()}});a.tc.set(f,p);q.wd=cb(a,q.Qb,f)}m=(k=Ra(p,g))===null||k===void 0?void 0:k.get(e)}if(m){var l=await m({message:b.message,B:b.transferables});if(l&&g!=="event"){var n=l.B;a.postMessage(La({metadata:c,status:"OK",
message:l.message,B:n!=null?n:void 0}),n?Xa(n):[])}}else b=`Missing "${d}:${e}" route handler.`,a.j.l(b,{tags:new Map([["worker.service",d],["worker.rpc",e]])}),a.postMessage(La({metadata:c,status:"ERROR",reason:{value:b}}),[])}catch(m){a.j.l(m),a.postMessage(La({metadata:c,status:"ERROR",reason:m instanceof Error?{value:m.message,stack:m.stack||""}:void 0}),[])}};gb=function(){const a=globalThis;if(a.WorkerGlobalScope==null)throw Error("This script was run outside a Worker");return a};
ib=function(){const a=hb();let b=0;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(c){c=Number(c);return(c^a[b++]&15>>c/4).toString(16)})};hb=function(){if(typeof window!=="undefined"&&typeof window.crypto!=="undefined"&&typeof window.crypto.getRandomValues==="function")return window.crypto.getRandomValues(new Uint8Array(31));const a=Math.random;return Array.from({length:31},()=>Math.floor(a()*255))};
jb=function(a){a.wa.sort((b,c)=>c-b);a.wa.splice(a.Xc).forEach(b=>{a.La.delete(b)});a.wa.length!==a.La.size&&(a.j.error("Interaction list and map are out of sync, disconnecting observer"),a.disconnect())};kb=function(a,b){a.Zb.set(b.id,b);a.Jc||(a.Jc=setTimeout(()=>{for(const c of a.Zb.values())a.te(c);a.Zb.clear();a.Jc=void 0}))};lb=function(a){try{var b;(b=a.Pa)===null||b===void 0||b.observe({type:a.qb.type,buffered:a.qb.buffered})}catch(d){var c;(c=a.Pa)===null||c===void 0||c.observe({entryTypes:[a.qb.type]})}};
mb=function(a){a.resources.length>2E3&&(a.resources.sort((b,c)=>c.endTime-b.endTime),a.resources=a.resources.slice(0,2E3))};nb=function(a,b){const c={vc:0,od:0,md:0,nd:0};for(const d of a.resources)d.startTime>=b.startTime&&d.endTime<=b.endTime&&(c.vc+=d.Pe,c.od++,d.he&&c.md++,d.ie&&c.nd++);return c};__c.R=function(a){return a.T==="span"&&a.attrs.get("is_uop")===!0};pb=function(a){a.za==null&&a.H.length!==0&&a.ba.length!==0&&(a.za=setTimeout(()=>{a.$d(()=>{a.za=void 0;ob(a);pb(a)})},a.config.Ud))};
ob=function(a){var b=performance.now()-a.config.ze,c;for(c=a.H.length-1;c>=0&&!(a.H[c].Ob<=b);c--);var d=a.H.slice(0,c+1);a.H=a.H.slice(c+1);const e=new Set,f=[];c=[];for(let g=a.ba.length-1;g>=0;g--){const h=a.ba[g];e.has(h.id)||h.Ob>b?(e.add(h.id),f.push(h)):c.push(h)}c.reverse();c.sort((g,h)=>g.startTime-h.startTime);a.ba=f.reverse();b=[];for(const g of d)if(d=qb(g,c))a.oa.xb("interaction_latency",{startTime:d.startTime,links:[{pd:g.context}]}).setAttribute("user_operation",d.Re).setAttributes(d.Qe).end("ok",
d.startTime+d.latency),b.push(d);rb(a,b)};qb=function(a,b){let c;for(const d of b){if(a.startTime<d.startTime)break;a.startTime<=d.startTime+d.latency&&(!c||c.latency<d.latency)&&(c=d)}if(c)return{interactionId:c.id,startTime:c.startTime,latency:c.latency,Re:a.name,Qe:a.attrs}};rb=function(a,b){a.Oa=a.Oa.concat(b);a.Oa.sort((c,d)=>d.latency-c.latency);a.Oa.splice(a.config.re)};
tb=function(a,b,c){if(!a.Ma())return{count:void 0,duration:void 0};if(b==null||c==null)return{count:0,duration:0};a=sb(a,b,c);return{count:a.length,duration:a.reduce((d,{duration:e})=>d+e,0)}};sb=function(a,b,c){const d=[];for(const e of a.Na)a=e.startTime+e.duration,a>b&&a<=c&&d.push(e);return d};
ub=function(a,b){var c=b.attrs.get("was_always_visible");if(typeof c==="boolean")return c;if(b.endTime!=null){a:{c=b.startTime;let d;for(const e of a.pa){if(e.time>=c&&e.time<=b.endTime&&e.status==="hidden"){a=!1;break a}e.time<=c&&(d=e)}a=d!=null?d.status==="visible":a.Fc===a.pa[0].time?a.pa[0].status==="visible":void 0}return a}};vb=function(a){return a.document.visibilityState==="visible"?"visible":"hidden"};
Cb=function(a,b,c,d){if(d.Kc){var e=new wb(c);S(a,e);e=new xb(c);S(a,e);d.Nd&&(e=new zb(c),S(a,e));d.Pd&&(d=new Ab(c,a,f=>new Bb(f,c),{je:200,ke:50,ae:1E3,Ud:5E3,ze:2E3,re:10}),S(a,d),b.Qc=d)}};__c.Db=async function(a,b){if(a.qd==null)a.j.l("Attempted to send user operation before host RPC client has been initiated");else try{await a.qd(b)}catch(c){a.j.l(c)}};
Eb=function(a){return[["name",a.name],["status",a.status],["instrumentationScope",a.P],["startTime",a.startTime],["endTime",a.endTime],["duration",a.duration],["parentSpanId",a.parentSpanId]]};__c.Fb=function(a){return[["spans",JSON.stringify(a.map(Eb),void 0,2)]]};Hb=function(a,b,c){return b!=null&&typeof b==="object"&&b.sampleRate!=null&&b instanceof Error?Gb(b.sampleRate):c==="error"||c==="fatal"?a.Ic:a.Hc};Gb=function(a){return Math.min(Math.max(0,a),1)};
Mb=function({span:a,j:b,Y:c,kf:d=new Map}){try{var e,f,g,h,k;y(!a.isRecording(),"Span must be ended to create a PerformanceContext");const l=Ib(c,"LongTaskService"),n=Ib(c,"VisibilityService"),m=Ib(c,"DataUsage"),p=a.startTime,q=a.endTime;y(q!=null,"Span endTime must exist to create a PerformanceContext");const r=new Map([["start",Jb(p,p)]]),t=__c.R(a)?(e=a.S)===null||e===void 0?void 0:e.Ia:void 0;for(const {name:F,startTime:L}of a.ra)r.set(F,Jb(p,L));if(t!=null)for(const [F,L]of t)r.set(F,Jb(p,L));
for(const [F,L]of d)r.set(F,Jb(p,L));r.set("finish",Jb(p,q));if(l==null||n==null)return{metrics:r,...((g=a.ha)===null||g===void 0?void 0:(f=g.frameRate)===null||f===void 0?void 0:Kb(f))};const x=tb(l,p,q),A=ub(n,a),K=m===null||m===void 0?void 0:nb(m,{startTime:p,endTime:q});return{metrics:r,Ff:x.count,Gf:x.duration,bg:A,resources:void 0,...K,...((k=a.ha)===null||k===void 0?void 0:(h=k.frameRate)===null||h===void 0?void 0:Kb(h))}}catch(l){return c=l instanceof Error?l.message:"Unknown error creating PerformanceContext",
d=c.includes("Invalid metric: adjusted time must not be negative")?2E-4:.2,b.yc(new __c.Lb(c,d),{M:"Error creating PerformanceContext",tags:new Map([["span.name",a.name],["service.name",String(a.X.get("service.name"))]])}),{yf:c}}};Jb=function(a,b){a=b-a;y(a>=0,"Invalid metric: adjusted time must not be negative");return Math.round(a)};
Ob=function(a){return function(){for(let b=0;b<a*2;b++)Nb[b]=Math.floor(Math.random()*16)+48,Nb[b]>=58&&(Nb[b]+=39);return String.fromCharCode.apply(null,Nb.slice(0,a*2))}};Pb=function(a){let b,c;a instanceof Map?b=a:a&&(c=a);return{nb:b,ob:c}};__c.Qb=function(a){const {nb:b,ob:c}=Pb(a);var d;return{...c,attrs:(d=b!==null&&b!==void 0?b:c===null||c===void 0?void 0:c.attrs)!==null&&d!==void 0?d:new Map}};
Rb=function(a){for(const c of a.Z.plugins)try{var b;(b=c.Ra)===null||b===void 0||b.call(c,a)}catch(d){a.j.l(d,{M:"Plugin.onSpanEnd error",extra:new Map([["plugin",c.name],...Eb(a)])})}};Ub=function(a){var b;(b=a.S)===null||b===void 0||Sb(b,a);a.G instanceof Tb&&a.G.S!=null&&a.G.S!==a.S&&Sb(a.G.S,a)};
Wb=function(a,b,c,d){const e=a.Sb={ta:a.ta,ua:a.ua};try{var f;a.timeout&&clearTimeout(a.timeout);let g,h,k;b instanceof Map?h=b:b!=null&&(g=b);c instanceof Map?h=c:c!=null&&(k=c);d!=null&&(k=d);a.Fa=!1;g!=null&&a.setStatus(g);h&&a.setAttributes(h);if((f=a.ha)===null||f===void 0?0:f.frameRate){Vb(a.ha.frameRate);const {Ub:l,Pc:n,frameCount:m}=Kb(a.ha.frameRate);l!=null&&n!=null&&m!=null&&(a.attrs.set("frame_duration_mean",l),a.attrs.set("frame_duration_standard_deviation",n),a.attrs.set("frame_count",
m),a.attrs.set("long_frame_duration",l+2*n))}a.ended=!0;a.endTime=k!==null&&k!==void 0?k:a.getCurrentTime();a.duration=a.endTime-a.startTime;Rb(a);Ub(a);a.Z.Da.process([a]);a.Qa.forEach(l=>l(e));a.Fa=!0;return e}catch(g){return a.j.l(g,{M:"Error ending span",extra:new Map(Eb(a))}),e}};
Zb=function({Sa:{performance:a,name:b,type:c,attrs:d,startTime:e,timeout:f,hb:g},oa:h,G:k,Fd:l,j:n,se:m}){d=d||new Map;c&&d.set("uop_attr_type",c);d.set("sample_rate_override",1);d.set("is_uop",!0);c=k===null||k===void 0?void 0:k.ka();if(k!=null&&!k.ka()){const r=k.Bb();r instanceof Xb&&(k=r.N)}e={performance:a,attrs:d,startTime:e,timeout:f};const p=k?h.startSpan(b,k,e):h.xb(b,e);y(p instanceof Tb,"User operations can only be created by SpanImpls");const q=[];l.forEach(r=>{try{const t=r.lf();q.push(t)}catch(t){n.l(t)}});
h=new Map(q.flatMap(r=>[...r.entries()]));a=new Xb(b,p,h,n,c,g,(a===null||a===void 0?0:a.Wf)?new Map:void 0);p.S=a;a.bb(()=>{Yb(p,p.attrs.get("uop_attr_type"))});a.setAttributes(h);a.setAttributes(d);m===null||m===void 0||m(p);return a};$b=function(a){a=a===null||a===void 0?void 0:a.Bb();return a instanceof Xb?a:void 0};
Sb=function(a,b){a.Pb.delete(b);if(!a.ended){if(a.Ia&&b.T==="span"&&!b.aborted){a.Ia.set(`${b.name}_start`,b.startTime);for(var c of b.ra)a.Ia.set(`${b.name}_${c.name}`,c.startTime);b.endTime!=null&&a.Ia.set(`${b.name}_end`,b.endTime)}c=b.status==="error";b=b.attrs.get("timed_out")===!0;if(a.Pb.size===0||c||b){a.ended=!0;const e=ac(a,a.N);if(e!=null){b&&!a.N.name.endsWith("timed_out")&&(a.N.setAttribute("timed_out",!0,!0),a.hb||(a.N.name+=".timed_out"));var d=a.Tb=a.N.end(c||a.hb&&b?"error":"ok",
e.endTime);a.Qa.forEach(f=>f(d))}else a.N.abort(),a.bc.forEach(f=>f())}}};ac=function(a,b){if(!b.aborted){var c=b.endTime!=null?b:void 0;for(const d of b.Ba)b=ac(a,d),b!=null&&(c==null||b.endTime>c.endTime)&&(c=b);return c}};Yb=function(a,b){if(typeof b==="string"){for(const c of a.ra)c.setAttribute("uop_attr_type",b,!0);for(const c of a.Ba)c.attrs.get("is_uop")!==!0&&(c.setAttribute("uop_attr_type",b,!0),Yb(c,b))}};
bc=function(a){if(a){var b=a===null||a===void 0?void 0:a.Bb();return b instanceof Xb?b.Va:a.ka()}};Kb=function(a){return{frameCount:a.ya.count,Ub:a.ya.count>0?a.ya.ne:void 0,Pc:a.ya.count>0?a.ya.we:void 0}};Vb=function(a){a.Hb&&a.kc.cancelAnimationFrame(a.Hb);a.document.removeEventListener("visibilitychange",a.pb);a=Kb(a);var b=cc;const c=a.frameCount*a.Ub,d=a.Ub+2*a.Pc;c>0&&(b.frameCount+=a.frameCount,b.Wc.add(d,c));for(const e of b.Rc)e(a)};
S=function(a,b){try{const d=b.name;if(a.config.plugins.some(e=>e.name===d))throw Error(`Plugin already exists: ${b.name}`);a.config.plugins.push(b)}catch(d){var c;a.j.l(d,{extra:new Map([["attrs",Object.fromEntries((c=a.config)===null||c===void 0?void 0:c.X)]])})}};Ib=function(a,b){try{return a.config.plugins.find(d=>d.name===b)}catch(d){var c;a.j.l(d,{extra:new Map([["attrs",Object.fromEntries((c=a.config)===null||c===void 0?void 0:c.X)]])})}};
hc=function(a,b){var c;const d=new Map([["app.component",a.app],["service.name",a.app],["app.source",(c=a.source)!==null&&c!==void 0?c:"web"],["session_id",ib()],["ctx.user",a.Ue],["ctx.brand",a.Cd],["ctx.organization",a.ue],["device.id",a.deviceId],["x-canva-tenant","canva-app"]]);if(a.O==="HTTP"){var e;c=new dc((e=a.Oe)!==null&&e!==void 0?e:0,b);d.set("device.platform",a.platform);var f;d.set("app.flavor",(f=a.Wd)!==null&&f!==void 0?f:"");var g;d.set("app.build.variant",(g=a.variant)!==null&&g!==
void 0?g:"baseline");var h;d.set("app.release",(h=a.release)!==null&&h!==void 0?h:"")}else c=new ec;const k={W:a,j:b};a=__webpack_require__.me(76014).then(()=>__c.fc).then(({de:l})=>l(k));b=new gc(a,b);return{oc:c,Da:b,X:d}};ic=function(){let a=!1;return function({message:b}){if(b==="mutable is not connected"){if(a)return!0;a=!0}return!1}};jc=function(a){return({message:b})=>b!=null&&a.includes(b)};kc=function(a){return({filename:b})=>b!=null&&a.test(b)};
lc=function({location:a}){return a!=null&&a.href.indexOf("file://")===0};
nc=function(a,b){const {be:c,Wa:d,Df:e}=Object.assign({be:[],Wa:{}},b),f={};Object.entries(d).forEach(([g,h])=>{h!=null&&(f[g]=h)});e&&a.Gb(g=>{g.tags||(g.tags={});g.extra||(g.extra={});g.tags["contains-fullstory-session"]="yes";g.extra["fullstory-session"]=e.Bf(!0);return g});mc(g=>{a.error(g,{M:"Reaction errored: ",tags:new Map([["handler","onReactionError"]])})});a.hd([ic(),jc(c),kc(/s\.pinimg\.com/),kc(/gis_client_library/),kc(/gtag\/js/),lc]);a.jd(f)};
oc=function(a,b,c,d){d=[c instanceof Error?c:null,a.context,d].filter(__c.Qa);Object.keys(a.tags).length>0&&d.push(a.tags);return[`[ConsoleErrorClient][${a.name}][${b}]: ${c}`,...d]};
qc=function(a){if(pc==null&&(pc={...((typeof self!=="undefined"?self.flags:void 0)||{})},qc("fe634b10"))){var b,c,d={},e;const g=new URLSearchParams((e=(c=self)===null||c===void 0?void 0:(b=c.location)===null||b===void 0?void 0:b.search)!==null&&e!==void 0?e:"");for(const [h,k]of g)if(b=h.match(/^flags?\.(.+)$/i))b=b[1],b=rc().v3(b,314159).toString(16),d[b]=k;sc=d}d=sc===null||sc===void 0?void 0:sc[a];d!=null&&(delete sc[a],pc[a]=d===""||d==="true");var f;return(f=pc[a])!==null&&f!==void 0?f:!1};
tc=function(a){Object.keys(a).forEach(b=>a[b]==null&&delete a[b])};vc=function(a){if(a instanceof uc){const b=[];a.values.forEach(c=>{b.push(vc(c))});return b}if(a instanceof wc){const b={};a.values.forEach(c=>{b[c.name]=vc(c.value)});return b}return a.value};xc=function(a,b){let c=b;Object.entries(a.Wa).forEach(([d,e])=>{c=c.split(e).join(d)});return c};yc=function(a,b={}){Object.keys(b).forEach(c=>{const d=b[c];typeof d==="string"&&(b[c]=xc(a,d))})};
zc=function(a,b){var c;return{...b,frames:b===null||b===void 0?void 0:(c=b.frames)===null||c===void 0?void 0:c.map(d=>{for(const [e,f]of Object.entries(a.Wa)){const g=h=>h===null||h===void 0?void 0:h.replace(f,e);d.module=g(d.module);d.abs_path=g(d.abs_path);d.filename=g(d.filename)}return d})}};
Ac=function(a,b){var c,d;b.exception&&b.exception.values&&(b.exception={...b.exception,values:(d=b.exception)===null||d===void 0?void 0:(c=d.values)===null||c===void 0?void 0:c.map(e=>({...e,...(e.stacktrace&&{stacktrace:zc(a,e.stacktrace)})}))})};Bc=function(a,b){var c=b.request;c!=null&&c.url!=null&&(c.url=xc(a,c.url));Ac(a,b);b.tags!=null&&yc(a,b.tags)};
Cc=function(a,b){const c=[];b.message&&c.push(b.message);if(b.exception){const {type:d="",value:e=""}=b.exception.values&&b.exception.values[0]||{};d!=="Error"&&c.push(d,e)}return c.some(d=>a.zd.some(e=>Object.prototype.toString.call(e)==="[object RegExp]"?e.test(d):typeof e==="string"?d.indexOf(e)!==-1:!1))};Dc=function(a){if(a&&typeof a==="object"&&"cause"in a)return Dc(a.cause)};
Fc=function(a,b){var c,d;if((a===null||a===void 0?void 0:a.message)!==(b===null||b===void 0?void 0:b.message))return!1;a=(c=a.exception)===null||c===void 0?void 0:c.values;b=(d=b.exception)===null||d===void 0?void 0:d.values;if(a==null||b==null||a.length!==b.length)return!1;for(d=0;d<a.length;d++)if(a[d].value!==b[d].value||a[d].type!==b[d].type||!Ec(a[d].stacktrace,b[d].stacktrace))return!1;return!0};
Ec=function(a,b){a=a===null||a===void 0?void 0:a.frames;b=b===null||b===void 0?void 0:b.frames;if(a==null&&b==null)return!0;if(a==null||b==null||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c].filename!==b[c].filename||a[c].colno!==b[c].colno||a[c].lineno!==b[c].lineno)return!1;return!0};Hc=function(a,b){const c=a.history.find(f=>Fc(f.event,b));if(c==null)return!1;const d=Gc.now(),e=c.timestamp;return Fc(b,c.event)&&d-e<a.Ne};Jc=function(a){return a({iteratee:b=>Ic({frame:b,Ge:"/dist/renderer/"})})};
Ic=function({frame:a,Ge:b}){if(a.filename==null)return a;const c=a.filename.replace(/\\/g,"/").split(b);if(c.length<=1)return a;a.filename="app://"+b+c.pop();return a};Kc=function(a,b){try{const c=new URL(b,`${a.location.protocol}//${a.location.host}`);if(!["http:","https:"].includes(c.protocol))return"";a.Ad.some(d=>c.hostname.includes(d))&&c.pathname.startsWith("/_ajax")||(c.pathname="");c.search="";return b.includes(c.host)?c.toString():c.pathname||"/"}catch(c){return""}};
Mc=function(a){const b=[];for(const c of Lc){const d=c(a);d&&b.push(d)}return b};Oc=function(a){return(b,c)=>{b.request&&(b.request=a.qc(b.request));if(Nc(a,b))return null;if(a.Yc){b.tags==null&&(b.tags={});a:switch(a.Yc.status){case 2:var d="OFFLINE";break a;case 1:d="ONLINE";break a;default:d="UNKNOWN"}b.tags.offlineStatus=d}try{Bc(a.Gc,b)}catch(e){a.l(e)}return a.Ac.reduce((e,f)=>f(e,c),b)}};
Yc=function(a,b,c){var d,e,f,g=(d=a.F)===null||d===void 0?void 0:d.getCurrentHub().getClient();d=g&&g.getOptions()||{};var h;g=(h=b.sampleRate)!==null&&h!==void 0?h:1;var k;h=[new Pc,new Qc(2E3),new Rc(g,(k=b.qe)!==null&&k!==void 0?k:g),new Sc,new Tc,new Uc(a.allowUrls,location)];a.F&&(h.push(a.F.dedupeIntegration()),h.push(a.F.extraErrorDataIntegration()),h.push(Jc(a.F.rewriteFramesIntegration)));a.W.flags&&a.W.flags.Od&&h.push(new Vc(Wc));a.setTags(a.W.tags);a.setExtras(a.W.extra);a.setTag("reactVersion",
Xc);if(k=typeof navigator!=="undefined"?navigator.userAgent:void 0)k=Mc(k),a.setTags(k);b=b.ve;b!==1&&a.setTag("webx",String(b===3));a.setTag("iframe",String(typeof window!=="undefined"&&window.self!==window.top));c.ad&&a.setTag("webview",c.ad);d.beforeSend=Oc(a);c={...d,maxValueLength:1024,dsn:d.dsn||a.W.dsn,environment:d.environment||a.W.environment,release:d.release||a.W.release,tracesSampleRate:0,sampleRate:1,integrations:h,allowUrls:a.allowUrls,autoSessionTracking:!1,ignoreErrors:["variable: _AutofillCallbackHandler",
"_AutofillCallbackHandler is not defined","Non-Error promise rejection captured with value: Object Not Found Matching Id","Event `CustomEvent` (type=unhandledrejection) captured as promise rejection"]};if(qc("e75f1ec")){var l;c.transport=(l=a.F)===null||l===void 0?void 0:l.makeBrowserOfflineTransport(a.F.makeFetchTransport);c.transportOptions={flushAtStartup:!0}}tc(c);(e=a.F)===null||e===void 0||e.init(c);(f=a.F)===null||f===void 0||f.configureScope(n=>{n.setUser({id:ib()});n.setExtra("isAnonymousUser",
!0);n.setTag("initLocation","error_client")})};Nc=function(a,b){const c=b.exception&&b.exception.values&&b.exception.values.length>0&&b.exception.values[0],d=c&&c.stacktrace||void 0,e=d&&d.frames&&d.frames[0]&&d.frames[0].filename,f=b.message||c&&c.value||void 0;return a.Oc.some(g=>g({message:f,filename:e,location,tags:b.tags,event:b}))};Zc=function(a,b){var c,d;b instanceof Error?(c=a.F)===null||c===void 0||c.captureException(b):(d=a.F)===null||d===void 0||d.captureMessage(b)};
$c=function(a,b,c){if(b==null)return Error((c?c+" ":"")+"[null error thrown]");if(typeof b==="object"){const e=b instanceof __c.Lb?new __c.Lb(b.message,b.sampleRate):Error(b.message);b.stack&&(e.stack=b.stack);b.cause&&(e.cause=b.cause);if(c){var d;if((d=b.message)===null||d===void 0?0:d.startsWith(c))return a.setTag("prefixCollision","true"),b;a=c+" "+(e.message||"[no message on error]");try{e.message=a}catch(f){if(f instanceof TypeError)return Error(a);throw f;}}return e}return b.toString()};
ad=function(a,b,c,d){a.F==null?(console.error(c),d&&console.log("errorParams",d)):a.F&&a.F.withScope(e=>{typeof d==="string"&&(d={M:d});c=$c(e,c,typeof d==="string"?d:d===null||d===void 0?void 0:d.M);d!=null&&(d.fingerprint&&e.setFingerprint(d.fingerprint),d.Te&&e.setTag("userFlow",d.Te),d.extra&&d.extra.forEach((f,g)=>e.setExtra(g,f)),d.tags&&d.tags.forEach((f,g)=>e.setTag(g,f)));a.componentStack.length>0&&e.setTag("component",a.componentStack.join("."));e.setLevel(b);Zc(a,c)})};
bd=function(a,b){const c={},d={},e=qa(b);for(const f in a.da.client)c[f]=async g=>e().then(h=>h[f](g));for(const f in a.ja.client)d[f]=async g=>{e().then(h=>h[f](g))};return{aa:{...c,...d},getClient:e}};__c.cd=function(a){const b={};for(const c in a.da.na)b[c]=async()=>{throw Error("Worker server not registered with dispatcher");};return{da:b}};dd=function(a){var b=__c.$a();const {aa:c,getClient:d}=bd(b,a);return{...c,Qb:b,dispose:()=>d().then(e=>e.dispose()),wd:__c.cd(b)}};
fd=function({Rb:a,Aa:b}){ab(a,()=>dd(()=>__webpack_require__.me(103860).then(()=>__c.ed).then(({yd:c})=>new c(b.jb("ui.rendering.fill")))))};gd=function({Rb:a,Aa:b}){fd({Rb:a,Aa:b})};aa=[];da=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};ca=ba(this);ea("globalThis",function(a){return a||ca});
ea("Object.fromEntries",function(a){return a?a:function(b){var c={};if(!(Symbol.iterator in b))throw new TypeError(""+b+" is not iterable");b=b[Symbol.iterator].call(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;if(Object(d)!==d)throw new TypeError("iterable for fromEntries should yield objects");c[d[0]]=d[1]}return c}});var mc=__webpack_require__(400770).onReactionError;var hd=__webpack_require__,id=hd(882262),rc=hd.n_x(id);var Xc=__webpack_require__(277439).version;__webpack_require__.p=self.__canva_public_path__;J=__c.J=class extends Error{constructor(a){super(`unhandled case: ${JSON.stringify(a)}`)}};var jd=class{constructor(a){this.type=a}};var kd=class extends jd{required(a,b){b=b[a];if(b==null||typeof b!==this.type)throw new TypeError(`expected ${this.type} for property "${a}", found: ${JSON.stringify(b)}`);return b}optional(a,b){b=b[a];if(b!=null){if(typeof b!==this.type)throw new TypeError(`expected optional ${this.type} for property "${a}", found: ${JSON.stringify(b)}`);return b}}},Q=new kd("string"),Oa=new kd("number"),ha=new kd("object");var ja=class{get ok(){return!0}map(a){return new ja(a(this.value))}constructor(a){this.value=a}},la=class{get ok(){return!1}map(){return this}constructor(a){this.error=a}},oa=ka,pa=ma;var E={A:"string"},ld={A:"boolean",defaultValue:!1,Vd:1},md={A:"number",defaultValue:0,Vd:8},nd={A:"number",defaultValue:0},od={A:"number",defaultValue:0},T=(a,b)=>{const {tag:c,C:d,R:e}=D(a,b);return B(nd,d,c,e)},pd=a=>{const {tag:b,C:c}=D(a);return C(md,c,b)},U=a=>{const {tag:b,C:c}=D(a);return C(nd,c,b)},V=(a,b)=>{const {tag:c,C:d,R:e}=D(a,b);return B(E,d,c,e)},W=(a,b)=>{const {tag:c,C:d}=D(a,b);return C(E,d,c)},qd=a=>{const {tag:b,C:c}=D(a);return{tag:b,J:4,C:c,A:E.A}},rd=(a,b)=>{const {tag:c,
C:d,R:e}=D(a,b);return B(ld,d,c,e)},X=a=>{const {tag:b,C:c}=D(a);return C(ld,c,b)},sd=ra(E),td=ra("object");var ud=P(()=>({O:G(2,"CONSOLE")}));var vd=Ea(()=>[1,2,3],1);var wd=P(()=>({name:V(1),value:V(2)}));var xd=P(()=>({Od:X(1)}));var yd=P(()=>({qf:X(1),Jf:U(2),Kf:U(3),Lf:U(4)}));var zd=P(()=>({type:G(1,"STRING"),value:V(1)}));var Ad=P(()=>({type:G(2,"BOOL"),value:rd(1)}));var Bd=P(()=>({type:G(3,"INT"),value:T(1)}));var Cd=P(()=>{const {tag:a,C:b,R:c}=D(1);return{type:G(4,"DOUBLE"),value:B(md,b,a,c)}});var uc=P(()=>({type:G(5,"ARRAY"),values:I(1,Dd)}));var wc=P(()=>({type:G(6,"KVLIST"),values:I(1,Ed)}));var Dd=Da(()=>({type:[1,zd,2,Ad,3,Bd,4,Cd,5,uc,6,wc]}),()=>({}));var Ed=P(()=>({name:V(1),value:H(2,Dd)}));var Fd=P(()=>({O:G(3,"SENTRY"),dsn:W(28),environment:W(30),release:W(34),sampleRate:pd(29),tracesSampleRate:pd(31),pf:X(32),ve:ta(33,vd),tags:I(35,wd),flags:sa(36,xd),If:sa(37,yd),extra:I(38,Ed),qe:pd(39)}));var Gd=Da(()=>({O:[2,ud,3,Fd]}),()=>({}));var Hd=()=>({Qd:X(5),lb:U(6),kb:U(7),Rd:U(8),Kc:X(9),Of:pd(10),Oe:pd(11),source:W(13),Ue:W(14),Cd:W(4),ue:W(17),deviceId:W(18),af:W(15),Sd:X(16),uf:X(19),Pd:X(20),vf:X(21),tf:X(22),Ze:qd(23),nf:X(24),Nd:X(25)});var Id=P(()=>({...Hd(),O:G(1,"HTTP"),app:V(27),endpoint:V(28),release:W(29),Wd:W(31),rf:X(32),sf:X(33),platform:W(35),variant:W(36)}));var Jd=P(()=>({...Hd(),O:G(2,"CONSOLE"),app:V(27)}));var Kd=P(()=>({...Hd(),O:G(3,"NOOP")}));var Ld=Da(()=>({O:[1,Id,2,Jd,3,Kd]}),Hd);var Md=()=>({j:sa(4,Gd),Le:sa(5,Ld)});var Nd=P(()=>{const {tag:a,C:b,R:c}=D(2);return{Uf:V(1),wf:B(od,b,a,c)}});var Od=P(()=>({$e:W(1),bf:W(9),cf:W(2),df:W(3),Ye:W(14),$f:W(12),ff:W(4),Ef:W(10),app:W(11),gf:W(5),hf:W(6),Pf:W(7),jf:td(8,Nd)}));var Pd=P(()=>({...Md(),mode:G(2,"REAL"),Cf:H(50,Od)}));var Qd=P(()=>({...Md(),mode:G(3,"FAKE"),Sf:T(50)}));var Fa=Da(()=>({mode:[2,Pd,3,Qd]}),Md);var Rd=class{constructor(a){this.state=a}},Ga=class{constructor(a,b){this.Ve=a;this.Ce=b}};var Sd=class extends jd{required(a,b){if(b==null||typeof b!==this.type)throw new TypeError(`expected ${this.type} for property "${a}", found: ${JSON.stringify(b)}`);return b}optional(a,b){if(b!=null){if(b==null||typeof b!==this.type)throw new TypeError(`expected optional ${this.type} for property "${a}", found: ${JSON.stringify(b)}`);return b}}},Td=new Sd("string"),Ud=new Sd("object");var Ya=class{toBlob(){return new Blob([this.buffer],{type:this.type})}ma(){var a=Td.required("type",this.type);var b=Ud.required("buffer",Za(this.buffer));return{blobType:a,buffer:b}}constructor(a,b){this.type=a;this.buffer=b}};var Wd=class{constructor(a,b){this.postMessage=a;this.j=b;this.Ke=new Map;this.tc=new Map;this.jc=new Map;this.Ae=new Vd;this.yb=new Map;this.route=async({data:c})=>{a:switch(c.type){case "request":var d={type:"request",metadata:Ma(c),message:c.message,B:c.transferables};break a;case "response":d=Na(c);break a;default:throw new J(c);}const e=d.type;switch(e){case "request":return fb(this,d);case "response":return eb(this,d,c);default:throw new J(e);}}}},Vd=class{next(){return this.id++}constructor(){this.id=
0}};var Xd={id:0,aa:"worker.protocol",xa:"rpc",name:"SETUP"};var Yd=P(()=>({Md:W(1)}));var Zd,ae;Zd=class{jb(){return new Y}};Y=__c.Y=class{xb(){return new __c.$d}startSpan(){return new __c.$d}addEvent(){}async flush(){}};Y.prototype.ub=u(3);Y.prototype.tb=u(1);
__c.$d=class{Bb(){return new ae}abort(){}setAttributes(){return this}setAttribute(){return this}setStatus(){return this}isRecording(){return!1}ka(){return!1}end(){return{ta:()=>({}),ua:()=>({})}}spanContext(){return this.context}addEvent(){}bb(){}constructor(){this.name="";this.attrs=new Map;this.P="NOOP";this.ra=[];this.status="unset";this.X=new Map;this.startTime=performance.now();this.T="span";this.context={traceId:"",spanId:"",traceFlags:0};this.links=[]}};ae=class{addEvent(){}bb(){}setAttribute(){}setAttributes(){}};var Bb=class{Ma(){var a,b,c,d,e;return((b=this.Fb.PerformanceObserver)===null||b===void 0?void 0:(a=b.supportedEntryTypes)===null||a===void 0?void 0:a.includes("event"))&&((e=this.Fb.PerformanceEventTiming)===null||e===void 0?void 0:(d=e.prototype)===null||d===void 0?void 0:(c=d.hasOwnProperty)===null||c===void 0?void 0:c.call(d,"interactionId"))}disconnect(){var a;(a=this.Pa)===null||a===void 0||a.disconnect()}constructor(a,b){var c=window;this.te=a;this.j=b;this.Xc=10;this.Fb=c;this.La=new Map;
this.wa=[];this.Zb=new Map;if(this.Ma())try{this.Pa=new this.Fb.PerformanceObserver(d=>{for(const e of d.getEntries())if(e.interactionId!=null&&e.interactionId!==0){if(d=this.La.get(e.interactionId))e.duration>d.latency&&(d.latency=e.duration,d.startTime=e.startTime);else{d={id:e.interactionId,latency:e.duration,startTime:e.startTime};const f=this.La.get(this.wa[this.wa.length-1]);if(this.wa.length<this.Xc||f==null||d.id>f.id)this.La.set(d.id,d),this.wa.push(d.id),jb(this)}kb(this,d)}}),this.Pa.observe({type:"event",
buffered:!0,durationThreshold:0})}catch(d){b.l(d,{M:"Error creating new `PerformanceObserver`"})}}};var be=class{constructor(a,b,c){this.name=a;this.j=c;this.oa=b}};var ce=class extends be{Ma(){var a,b;return((b=this.PerformanceObserver)===null||b===void 0?void 0:(a=b.supportedEntryTypes)===null||a===void 0?void 0:a.includes(this.qb.type||""))||!1}constructor(a,b,c,d=new Y){var e=self.PerformanceObserver;super(a,d,c);this.qb=b;this.PerformanceObserver=e;this.enabled=!0;this.Ma()?(this.Pa=new e(f=>{this.Lc(f)}),lb(this)):this.enabled=!1}};var zb=class extends ce{Lc(a){mb(this);for(const b of a.getEntries())b.transferSize!=null&&this.resources.push({startTime:b.startTime,endTime:b.responseEnd,Pe:b.transferSize,he:b.encodedBodySize!=null&&b.encodedBodySize!==0&&b.transferSize===0,ie:b.decodedBodySize===0&&b.transferSize===0})}Ra(a){if(this.enabled&&a.endTime!=null){var b=nb(this,{startTime:a.startTime,endTime:a.endTime});a.setAttributes(new Map([["data_usage.transfer_size_bytes",b.vc],["data_usage.requests",b.od],["data_usage.requests.cached",
b.md],["data_usage.requests.opaque",b.nd]]))}}constructor(a){super("DataUsage",{type:"resource",buffered:!0},a);this.resources=[]}};var de=new Set(["uop_attr_type","embedded_editor","timed_out","unhandled_exception"]),ee=new Set(["editor.editing.sync.health","performance.web_vitals.interaction_to_next_paint"]),Ab=class extends be{Ra(a){if(this.enabled&&a.endTime!=null&&!a.aborted&&__c.R(a)&&!ee.has(a.name)){var b=new Map;for(const [c,d]of a.attrs.entries())de.has(c)&&b.set(c,d);a={name:a.name,attrs:b,context:a.spanContext(),startTime:a.startTime,Ob:performance.now()};this.H.push(a);this.H.length>this.config.ke&&(this.H=this.H.slice(this.H.length/
2));pb(this)}}constructor(a,b,c,d,e=(()=>{var g;return((g=window)===null||g===void 0?void 0:g.requestIdleCallback)!=null?h=>window.requestIdleCallback(h,{timeout:this.config.ae}):h=>h()})(),f=window){super("InteractionLatency",b.jb("interaction_latency"),a);this.fe=c;this.config=d;this.$d=e;this.ba=[];this.H=[];this.Oa=[];this.ee=this.fe(g=>{this.enabled&&(g={...g,Ob:performance.now()},this.ba.push(g),this.ba.length>this.config.je&&(this.ba=this.ba.slice(this.ba.length/2)),pb(this))});this.enabled=
this.ee.Ma();f.addEventListener("pageshow",g=>{g.persisted&&(this.ba=[],this.H=[],this.Oa=[])},!0)}};var wb=class extends ce{Ra(a){if(this.enabled&&a.endTime!=null){var {count:b,duration:c}=tb(this,a.startTime,a.endTime);a.setAttributes(new Map([["long_task_count",b],["long_task_duration",c]]));if(a.parentSpanId==null){const d=sb(this,a.startTime,a.endTime);if(d.length>0){const e=this.oa.startSpan("long_tasks",a,{startTime:a.startTime});d.forEach(({startTime:f,duration:g,name:h})=>this.oa.startSpan("long_task",e,{startTime:f,attrs:new Map([["name",h]])}).end("ok",f+g));e.end()}}}}Lc(a){a=a.getEntries();
for(const b of a)this.Na.length>=this.Db&&(this.Na=this.Na.slice(a.length)),this.Na.push(b)}constructor(a){super("LongTaskService",{type:"longtask",buffered:!0},a,new Y);this.Na=[];this.Db=80}};var xb=class extends be{Ra(a){try{const b=ub(this,a);a.setAttribute("was_always_visible",b);for(const d of a.ra)d.setAttribute("was_event_parent_always_visible",b,!0);const c=a.G;if(a.T==="event"&&c!=null){const d=ub(this,c);a.setAttribute("was_event_parent_always_visible",d)}}catch(b){this.j.l(b,{M:"VisibilityService: failed to apply visibility attributes"})}}constructor(a){var b=window.document;super("VisibilityService",new Y,a);this.document=b;this.getCurrentTime=()=>performance.now();this.Db=
40;this.pa=[];this.pb=()=>{this.pa.length>=this.Db&&(this.pa=this.pa.slice(1));this.pa.push({status:vb(this),time:this.getCurrentTime()})};this.Fc=this.getCurrentTime();this.document.addEventListener("visibilitychange",this.pb);this.pa.push({status:vb(this),time:this.Fc})}};__c.fe=class extends be{L(a){if(__c.R(a)&&a.name!=="editor.editing.sync.health"){const b=a.attrs.get("uop_attr_type");a={Yf:a.name,Zf:typeof b==="string"?b:void 0};this.qd?__c.Db(this,a):(this.H.length===20&&this.H.pop(),this.H.unshift(a))}}constructor(a){super("TrackUserOperationStarted",new Y,a);this.H=[]}};__c.fe.prototype.Ka=u(4);var ge=class extends be{L(a){this.ga.add(a)}Ra(a){this.ga.delete(a)}constructor(a){super("UnhandledExceptions",new Y,a);this.ga=new Set;this.Bd=b=>{try{var c,d;((d=b.exception)===null||d===void 0?0:(c=d.values)===null||c===void 0?0:c.some(e=>{var f;return((f=e.mechanism)===null||f===void 0?void 0:f.handled)===!1}))&&this.Dd(b.event_id)}catch(e){this.j.l(e,{M:"Failed to close all spans"})}return b};this.Dd=b=>{for(const c of this.ga)c.name+=".unhandled_exception",c.end("error",new Map([["unhandled_exception",
!0],["sentry_event_id",b]]));this.ga.clear()};a.Gb(b=>this.Bd(b))}};var gc=class{L(a){this.D?this.D.L(a):this.Jb.push(a)}process(a){try{this.D?this.D.process(a):this.Ib.push(...a)}catch(b){this.j.l(b,{M:`Failed to export the span buffer from ${gc.name}`,extra:new Map(__c.Fb(a))})}}async flush(){const a=await this.Vc;a.process(this.Ib);await a.flush();this.Ib=[]}constructor(a,b){this.Vc=a;this.j=b;this.Ib=[];this.Jb=[];this.D=void 0;this.Vc.then(c=>this.D=c).then(()=>{for(const c of this.Jb)this.D.L(c);this.Jb.length=0;return this.flush()})}};var ec=class{kd(){return!0}};var Rc;__c.Lb=class extends Error{constructor(a,b){super(a);this.sampleRate=b;this.sampleRate=Gb(b)}};
Rc=class{setupOnce(a,b){a((c,d)=>{const e=b().getIntegration(Rc);if(!e)return c;if(!(Math.random()<Hb(e,d===null||d===void 0?void 0:d.originalException,c.level)))return null;d={sampleRate:Hb(this,d===null||d===void 0?void 0:d.originalException)};c.extra=c.extra!=null?{...c.extra,...d}:d;c.tags=c.tags!=null?{...c.tags,...d}:d;return c})}constructor(a,b){this.Ic=a;this.Hc=b;this.name=Rc.id;this.Ic=Gb(a);this.Hc=Gb(b)}};Rc.id="Sampling";var he=Ob(16),ie=Ob(8),Nb=Array(32);var Tb=class{Bb(){return this.S||new ae}setAttributes(a,b=!1){if(this.Fa&&!b)return this;this.attrs=new Map([...this.attrs,...a]);return this}setAttribute(a,b,c=!1){if(this.Fa&&!c)return this;this.attrs.set(a,b);return this}setStatus(a){try{if(this.Fa)return this;this.status=a;return this}catch(b){return this.status="error",this.j.l(b),this}}isRecording(){return!this.ended}ka(){return(this.spanContext().traceFlags&1)!==0}abort(){try{var a;if(!this.aborted){this.aborted=!0;this.setAttribute("span_aborted",
!0);for(const b of this.Ba)b.abort();this.ended||(this.Fa=this.ended=!0,this.timeout&&clearTimeout(this.timeout),((a=this.ha)===null||a===void 0?0:a.frameRate)&&Vb(this.ha.frameRate),this.endTime=this.getCurrentTime(),this.duration=this.endTime-this.startTime,Rb(this),Ub(this),this.bc.forEach(b=>b()),this.Z.Da.process([this]))}}catch(b){this.j.l(b)}}end(a,b,c){try{if(this.ended)return{ta:this.ta,ua:this.ua};this.ended=!0;return Wb(this,a,b,c)}catch(d){return this.j.l(d,{M:"Error ending span",extra:new Map(Eb(this))}),
{ta:this.ta,ua:this.ua}}}bb(a){try{this.ended&&this.aborted||(this.ended&&this.Sb?a(this.Sb):this.Qa.push(a))}catch(b){this.j.l(b)}}spanContext(){return this.context}addEvent(a,b){try{w(a.length>0,"Event name cannot be empty");const {nb:c,ob:d}=Pb(b),e=new je({name:a,G:this,Z:this.Z,ea:this.ea,P:this.P,j:this.j,startTime:d===null||d===void 0?void 0:d.startTime,S:void 0,T:"event",Ja:d===null||d===void 0?void 0:d.Ja,getCurrentTime:this.getCurrentTime,Y:this.Y,attrs:(d===null||d===void 0?void 0:d.attrs)||
c,hc:this.startTime});this.ra.push(e)}catch(c){this.j.l(c)}}get X(){return this.ea()}constructor(a){var b;this.Fa=this.aborted=this.ended=!1;this.attrs=new Map;this.ra=[];this.Ba=[];this.status="unset";this.Sb=void 0;this.Qa=[];this.bc=[];this.ta=f=>Mb({span:this,j:this.j,Y:this.Y,...f});this.ua=()=>this.ka()?this.spanContext():void 0;this.name=a.name;this.ended=!1;this.Z=a.Z;var c;this.getCurrentTime=(c=a.getCurrentTime)!==null&&c!==void 0?c:f=>{var g;return(g=f===null||f===void 0?void 0:f.override)!==
null&&g!==void 0?g:performance.now()};c=ie();this.identifier=`${this.name}_${c}`;this.startTime=this.getCurrentTime({id:this.identifier,override:a.startTime});this.P=a.P;this.S=a.S;this.T=a.T;this.j=a.j;this.ha=a.ha;const d=((b=a.G)===null||b===void 0?void 0:b.spanContext().traceId)||he();a.attrs&&(this.attrs=new Map(a.attrs));this.attrs.set("span_type",this.T);b=a.Z.oc.kd({traceId:d,He:this.name,attributes:this.attrs,G:a.G})?1:0;this.context={spanId:c,traceId:d,traceFlags:b};this.links=a.links||
[];a.G&&(this.parentSpanId=a.G.spanContext().spanId,this.G=a.G);this.ea=a.ea;this.Y=a.Y;this.setStatus("ok");this.timeout=setTimeout(()=>{var f;this.setAttribute("timed_out",!0);__c.R(this)&&((f=this.S)===null||f===void 0?0:f.hb)?this.end("error"):(this.name+=".timed_out",this.end("ok"))},a.timeout||12E4);for(const f of this.Z.plugins)try{var e;(e=f.L)===null||e===void 0||e.call(f,this)}catch(g){this.j.l(g,{M:"Error calling plugin onSpanStart",extra:new Map([["plugin",f.name],...Eb(this)])})}this.Z.Da.L(this)}},
je=class extends Tb{constructor(a){super(a);a.hc!=null&&(this.setAttribute("parent_relative_start_ms",Math.round(this.startTime-a.hc)),this.setAttribute("parent_start",a.hc));a.Ja&&this.setAttribute("event_type",a.Ja);this.end("ok",this.startTime)}};var Xb=class{get aborted(){return this.N.aborted}bb(a){try{this.ended&&this.aborted||(this.ended&&this.Tb?a(this.Tb):this.Qa.push(a))}catch(b){this.j.l(b,{tags:new Map([["user_operation",this.name]])})}}addEvent(a,b){try{const c=__c.Qb(b);this.eventContext.forEach((e,f)=>{c.attrs.has(f)||c.attrs.set(f,e)});c.attrs.set("user_operation",this.name);c.attrs.set("is_uop",!0);c.attrs.set("sample_rate_override",1);const d=this.N.attrs.get("uop_attr_type");d!=null&&c.attrs.set("uop_attr_type",d);this.Va&&
c.attrs.set("uop_persist",!0);this.N.addEvent(a,c)}catch(c){this.j.l(c,{tags:new Map([["user_operation",this.name]])})}}setAttributes(a){this.N.setAttributes(a)}setAttribute(a,b){this.N.setAttribute(a,b)}constructor(a,b,c,d,e,f,g){var h=new Set;this.name=a;this.N=b;this.eventContext=c;this.j=d;this.Va=e;this.hb=f;this.Ia=g;this.Pb=h;this.Qa=[];this.bc=[];this.Tb=void 0;this.ended=!1}};var dc=class{kd({He:a,attributes:b,G:c}){b=b===null||b===void 0?void 0:b.get("sample_rate_override");if(b!=null&&typeof b==="number"){if(b<0||b>1)this.j.error(Error(`Invalid sample rate (${b}) for ${a}`)),b=this.sampleRate;return Math.random()<b}a=this.le(c);return a!=null?a:Math.random()<this.sampleRate}constructor(a,b){var c=bc;this.sampleRate=a;this.j=b;this.le=c;this.sampleRate=Math.min(Math.max(0,this.sampleRate),1)}};var ke=class{add(a,b=1){w(isFinite(a));w(b>0);if(this.V===0)this.V=b,this.Za=this.$a=this.qa=a,this.ab=0;else{this.V+=b;const c=a-this.qa;this.qa+=b*c/this.V;this.ab+=b*c*(a-this.qa);this.$a=Math.min(this.$a,a);this.Za=Math.max(this.Za,a)}}addAll(a){for(const b of a)this.add(b)}get count(){return this.V}get ne(){return this.qa}get sum(){return this.V>0?this.qa*this.V:0}get min(){return this.$a}get max(){return this.Za}get xe(){return this.V===0?NaN:this.V===1?0:Math.max(this.ab,0)/this.V}get we(){return Math.sqrt(this.xe)}constructor(){this.V=
0;this.qa=NaN;this.ab=0;this.Za=this.$a=NaN}};var le=class{start(){this.ya=new ke;this.rb=void 0;this.Hb=this.kc.requestAnimationFrame(this.ed);this.document.addEventListener("visibilitychange",this.pb)}get Sc(){return this.document.visibilityState==="visible"}constructor(){var a=window.document;this.kc=window;this.document=a;this.ya=new ke;this.ed=b=>{this.rb!==void 0&&this.ya.add(Math.min(b-this.rb,5E3));this.rb=this.Sc?b:void 0;this.Hb=this.kc.requestAnimationFrame(this.ed)};this.pb=()=>{this.Sc||(this.rb=void 0)}}},me=class{reset(){this.frameCount=
0;this.Wc=new ke;this.Rc.clear()}constructor(){this.frameCount=0;this.Wc=new ke;this.Rc=new Set}},cc=new me;var ne=class{L(){}process(){}async flush(){}};__c.oe=class{xb(a,b){return this.startSpan(a,void 0,b)}startSpan(a,b,c){try{var d;const {nb:e,ob:f}=Pb(c),g=__c.z(this.P(b),"No instrumentation scope found for '{}' of parent '{}:{}'",a,b===null||b===void 0?void 0:b.P,b===null||b===void 0?void 0:b.spanContext().spanId),h=(f===null||f===void 0?0:(d=f.performance)===null||d===void 0?0:d.Hf)?this.Nb.frameRate():void 0;h===null||h===void 0||h.start();const k=(f===null||f===void 0?0:f.Je)?Zb({Sa:{...f.Je,startTime:f.startTime,timeout:f.timeout},oa:this.xc,
G:b,Fd:[this.config.Cb,this.Cb].filter(__c.Qa),j:this.j,se:n=>{b=n}}):$b(b),l=new Tb({name:a,G:b,Z:this.config,ea:this.ea,P:g,j:this.j,getCurrentTime:this.getCurrentTime,startTime:f===null||f===void 0?void 0:f.startTime,timeout:f===null||f===void 0?void 0:f.timeout,Y:this.Y,attrs:(f===null||f===void 0?void 0:f.attrs)||e,links:f===null||f===void 0?void 0:f.links,S:k,T:"span",ha:{frameRate:h}});k!==null&&k!==void 0&&(l.attrs.get("is_uop")||l.setAttribute("user_operation",k.name),k.Va==null&&(k.Va=l.ka(),
k.Va&&k.N.setAttribute("uop_persist",!0)),k.Pb.add(l));b!=null&&b instanceof Tb&&b.Ba.push(l);return l}catch(e){return this.j.l(e),new __c.$d}}addEvent(a,b){try{const {nb:c,ob:d}=Pb(b);w(a.length>0,"Event name cannot be empty");const e=__c.z(this.P(),"Event ({}) requires instrumentation scope",a);new je({name:a,Z:this.config,ea:this.ea,P:e,S:void 0,j:this.j,T:"event",Ja:d===null||d===void 0?void 0:d.Ja,getCurrentTime:this.getCurrentTime,startTime:d===null||d===void 0?void 0:d.startTime,Y:this.Y,attrs:(d===
null||d===void 0?void 0:d.attrs)||c,G:void 0})}catch(c){this.j.l(c)}}async flush(){try{await this.config.Da.flush()}catch(a){this.j.l(a)}}constructor(a,b,c,d,e,f,g,h=l=>{var n;return(n=l===null||l===void 0?void 0:l.override)!==null&&n!==void 0?n:performance.now()},k={frameRate:()=>new le}){this.P=a;this.Y=b;this.config=c;this.ea=d;this.j=e;this.xc=f;this.Cb=g;this.getCurrentTime=h;this.Nb=k}};__c.oe.prototype.ub=u(2);__c.oe.prototype.tb=u(0);var pe=class{constructor(a){var b;this.oc=(b=a.oc)!==null&&b!==void 0?b:new ec;var c;this.Da=(c=a.Da)!==null&&c!==void 0?c:new ne;var d;this.plugins=(d=a.plugins)!==null&&d!==void 0?d:[];var e;this.X=(e=a.X)!==null&&e!==void 0?e:new Map;this.Cb=a.Cb;this.Qc=a.Qc}},qe=class{jb(a){try{return new __c.oe(()=>a,this,this.config,()=>new Map([...this.config.X,["service.name",this.Fe+" | "+a]]),this.j,this.xc,void 0,this.getCurrentTime,this.Nb)}catch(c){var b;this.j.l(c,{extra:new Map([["attrs",Object.fromEntries((b=
this.config)===null||b===void 0?void 0:b.X)]])});return new Y}}constructor(a,b,c=e=>{var f;return(f=e===null||e===void 0?void 0:e.override)!==null&&f!==void 0?f:performance.now()},d={frameRate:()=>new le}){this.config=a;this.j=b;this.getCurrentTime=c;this.Nb=d;this.Fe=(a=this.config.X.get("service.name"))&&typeof a==="string"?a:"no_service_name";this.xc=this.jb("telemetry.user_operation")}};var re=!1,se=class{setTag(a,b){this.tags[a]=b}hd(){}Gb(){}setContext(a){this.context=a}error(a,b){this.console.error(...oc(this,"error",a,b))}l(a,b){this.console.error(...oc(this,"error",a,b))}yc(a,b){this.console.warn(...oc(this,"warning",a,b))}info(a,b){this.console.info(...oc(this,"info",a,b))}debug(a,b){this.console.debug(...oc(this,"debug",a,b))}jd(){}toJSON(){return{name:this.name,context:this.context,tags:this.tags}}constructor(){var a=console;this.name="editor";this.tags={};if(!re&&typeof window===
"object"){const b=window.onerror;window.onerror=(...d)=>{typeof b==="function"&&b(...d);console.error("unhandled error:",...d)};const c=window.onunhandledrejection;window.onunhandledrejection=d=>{typeof c==="function"&&c(d);console.error("[ConsoleErrorClient]: Unhandled promise rejection",d)};re=!0}w(!0,"name must not contain a dot");a instanceof se?(this.name=`${a.name}.${"editor"}`,this.console=a.console):this.console=a}};var pc,sc;var te=class{constructor(a){this.Wa=a}};var Vc=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(Vc);return d?Cc(d,c)?null:c:c})}constructor(a=[]){this.zd=a;this.name=Vc.id}};Vc.id="FilterErrors";var Sc=class{setupOnce(a,b){a(c=>{b().getIntegration(Sc);return c})}constructor(){this.name=Sc.id}};Sc.id="HostRpcServiceErrors";var Tc=class{setupOnce(a,b){a((c,d)=>{if(!b().getIntegration(Tc)||!d)return c;if(d=Dc(d.originalException))c.tags||(c.tags={}),Object.assign(c.tags,{http_service_error:!0,statusCode:d.statusCode,...(d.requestId?{requestId:d.requestId}:{})}),d.requestUrl&&(c.tags.phase=d.requestUrl.includes("/csrf3/")?"csrf":"request");return c})}constructor(){this.name=Tc.id}};Tc.id="HttpServiceErrors";var Gc={now:()=>Date.now()};var ue=class{add(a){this.Ha=this.Xd(this.Ha);this.list[this.Ha]=a}find(a){let b=this.Ha;do{if(this.list[b]&&a(this.list[b]))return this.list[b];b=this.Zd(b)}while(b!==this.Ha)}constructor(){this.Kb=10;this.Ha=0;this.Xd=a=>(a+1)%this.Kb;this.Zd=a=>(a+this.Kb-1)%this.Kb;this.list=Array(10)}},Qc=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(Qc);d&&(Hc(d,c)?c=null:d.history.add({event:c,timestamp:Gc.now()}));return c})}constructor(a){this.Ne=a;this.name=Qc.id;this.history=new ue}};Qc.id="NoSuccessiveEvent";var Pc=class{setupOnce(a,b){a(c=>{var d,e;if(!b().getIntegration(Pc))return c;var f;c.tags=(f=c.tags)!==null&&f!==void 0?f:{};c.tags["prior.unhandled.error.count"]=this.fd;((e=c.exception)===null||e===void 0?0:(d=e.values)===null||d===void 0?0:d.some(g=>{var h;return((h=g.mechanism)===null||h===void 0?void 0:h.handled)===!1}))&&this.fd++;return c})}constructor(){this.name=Pc.id;this.fd=0}};var Uc=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(Uc);return d?d.processEvent(c):c})}processEvent(a){var b;a===null||a===void 0||(b=a.breadcrumbs)===null||b===void 0||b.map((c,d)=>{if(a===null||a===void 0?0:a.breadcrumbs){var e=a.breadcrumbs;if(c.type==="http"){var f;c.data=c.data||{};var g;c.data.url=Kc(this,(g=(f=c.data)===null||f===void 0?void 0:f.url)!==null&&g!==void 0?g:"")}e[d]=c}});a.request&&(a.request=this.qc(a.request));return a}qc(a){var b,c,d;const e=(a===null||a===void 0?
0:a.url)?Kc(this,a===null||a===void 0?void 0:a.url):void 0,f={};if(a===null||a===void 0?0:(b=a.headers)===null||b===void 0?0:b["User-Agent"])f["User-Agent"]=a===null||a===void 0?void 0:a.headers["User-Agent"];if(a===null||a===void 0?0:(c=a.headers)===null||c===void 0?0:c.Referer)f.Referer=Kc(this,a===null||a===void 0?void 0:(d=a.headers)===null||d===void 0?void 0:d.Referer);return{url:e,headers:f}}constructor(a,b){this.Ad=a;this.location=b;this.name=Uc.id}};Uc.id="UrlScrubber";var Lc=[function(a){if(a=/canvaeditor\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}},function(a){if(a=/com.canva.editor\s\(version\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}}];var Wc=["TimeoutError","HttpTimeoutError",/^ResizeObserver loop/,/^WHEN_CANCELLED$/,"ChunkLoadError",/^NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope':/,/Failed to register a ServiceWorker.*(The document is in an invalid state|An unknown error occurred when fetching the script|Failed to access storage|The URL protocol of the current origin \('null'\) is not supported|Timed out while trying to start the Service Worker)\.$/,/^(Can't find variable: indexedDB|Internal error opening backing store for indexedDB.open.|Encountered full disk while opening backing store for indexedDB.open.|An internal error was encountered in the Indexed Database server)/,
/Non-Error promise rejection captured with value: [Tt]imeout( \(.\))?/],ve=class{qc(a){var b,c,d;if(!a.url)return{headers:{"User-Agent":(d=a===null||a===void 0?void 0:(b=a.headers)===null||b===void 0?void 0:b["User-Agent"])!==null&&d!==void 0?d:""}};b=/^(\/design\/[a-zA-Z0-9_-]+\/)([a-zA-Z0-9_-]{22})(.*)/;d=new URL(a.url);d.search="";b.test(d.pathname)&&(d.pathname=d.pathname.replace(b,"$1<REDACTED>$3"));var e;return{url:d.toString(),headers:{"User-Agent":(e=a===null||a===void 0?void 0:(c=a.headers)===
null||c===void 0?void 0:c["User-Agent"])!==null&&e!==void 0?e:""}}}Gb(a){this.Ac.push(a)}setContext({user:a,locale:b,xf:c}){var d,e;(e=this.F)===null||e===void 0||(d=e.getCurrentHub())===null||d===void 0||d.configureScope(f=>{a&&(f.setUser(a),f.setExtra("isAnonymousUser",!1));b&&f.setTag("locale",b);c===null||c===void 0||c.forEach((g,h)=>f.setExtra(h,g))})}setTags(a){for(const b of a)this.setTag(b.name,b.value)}setTag(a,b){if(this.F!=null){{var c=a.length<=32;const d=b.length<=200;c&&d?c=oa(!0):(c=
(c?"":"Key name length cannot exceed 32 characters.\n")+(d?"":"Key value length cannot exceed 200 characters.\n"),c=pa(Error(c+`Tag: ${a}:${b}`)))}c.ok?this.F.setTag(a,b):Zc(this,c.error)}}setExtras(a){for(const b of a)this.setExtra(b.name,b.value)}setExtra(a,b){this.F!=null&&this.F.setExtra(a,vc(b))}hd(a){this.Oc=a}error(a,b){ad(this,"error",a instanceof Error?a:Error(a),b)}l(a,b){ad(this,"error",a,b)}yc(a,b){ad(this,"warning",a,b)}info(a,b){ad(this,"info",a instanceof Error?a:Error(a),b)}debug(a,
b){ad(this,"debug",a instanceof Error?a:Error(a),b)}jd(a){this.Gc=new te(a)}constructor(a){var b=self.Sentry,c=new te({});a:{var d=self;if(typeof d.zc==="object"&&typeof d.zc.Yd==="function"){let e;try{e=d.zc.Yd()}catch(f){d=void 0;break a}d=typeof e==="string"?e:void 0}else d=void 0}this.W=a;this.componentStack=["editor"];this.Oc=[];this.F=b;this.Gc=c;this.Ac=[];this.Yc=void 0;this.allowUrls="/dist/renderer/ canva.com canva.cn canva-dev.com canva-staging.com canva-staging.cn www.features.canva-internal.com www.features.canva-internal-staging.com canva-apps.com canva-apps.cn canva-apps-dev.com canva-apps-staging.com canva-apps-staging.cn".split(" ");
this.F?Yc(this,a,{ad:d}):typeof self.suppressSentryInitializationError!=="undefined"&&self.suppressSentryInitializationError===!0||console.error("Sentry can not be found on the global scope.")}};var we=P(()=>({id:V(1),version:T(2)}));var xe=P(()=>({media:H(1,we),mc:sd(2)}));var ye=Ea(()=>[8,"PICO_THUMBNAIL",9,"NANO_THUMBNAIL",10,"MICRO_THUMBNAIL",1,"THUMBNAIL",2,"THUMBNAIL_LARGE",3,"SCREEN",6,"SCREEN_2X",7,"SCREEN_3X",4,"PRINT",5,"ORIGINAL"]);var ze=P(()=>{const {tag:a,C:b}=D("urlExpiry",10);return{url:V("url",1),Xf:C(od,b,a),sd:rd("urlDenied",7),width:T("width",2),height:T("height",3),vd:rd("watermarked",4),K:rd("spritesheet",6),mc:sd("recoloring",9),quality:ta("quality",5,ye),zf:W("filterCode",8),mimeType:W("mimeType",11)}});var Ae=Ea(()=>[1,"RECOLORABLE",2,"BACKGROUND_R",3,"BACKGROUND_G",4,"BACKGROUND_B",5,"BACKGROUND_A"]);var Be=P(()=>{const {tag:a,C:b,R:c,$c:d}=D("type",1,Ae);return{type:{tag:a,J:2,C:b,fa:c,default:d,A:"string"},color:W("color",3)}});var Ce=P(()=>({ld:T("spritesWide",1),Rf:T("spritesHigh",2),Af:rd("fullyRecolorable",3),layers:I("layers",4,Be)}));var De=P(()=>({Yb:H(1,xe),K:H(3,ze),Ie:H(4,Ce)}));var Ee=P(()=>({url:V(1)}));var Fe=P(()=>({Se:qd(1)}));var Ge=P(()=>({}));__c.$a=()=>({name:"spritesheetWorker",da:{client:{Wb:{name:"getBestImage",request:{message:De,B:void 0},response:{message:Ee,B:void 0}},Ua:{name:"runEviction",request:{message:Fe,B:void 0},response:{message:Ge,B:void 0}}},na:{}},ja:{client:{},na:{}}});(async function(a,b,c=gb()){c.postMessage(La({metadata:Xd,status:"OK",message:{state:(new Rd("INITIALISED")).state}}));c.onmessage=async({data:d})=>{d=Na(d);y(d.metadata.aa==="worker.protocol"&&d.status==="OK");const {Ve:e,Ce:f}=Ha(d.message);let g;await b({W:{base:e,page:a(f)},Gd:h=>{y(g==null);return g=new Wd((k,l)=>c.postMessage(k,l),h)}});y(g!=null,"dispatcher");c.postMessage(La({metadata:Xd,status:"OK",message:{state:(new Rd("READY")).state}}));c.onmessage=g.route}})(Yd.va,async({Gd:a,W:{base:b,
page:c}})=>{var d=b.j;c=c.Md;if(d){switch(d.O){case "CONSOLE":d=new se;break;case "SENTRY":d=new ve(d);break;default:throw new J(d);}nc(d,{Wa:{__extension__:c}})}else d=new se;a=a(d);b=b.Le;b!==null&&b!==void 0?b:b=new Kd({});a:{b=b.O==="NOOP"?b:{...b,Kc:!1};try{if(typeof self!=="undefined"&&b!=null&&b.O!=="NOOP"){var e=new pe(hc(b,d)),f=new qe(e,d);try{if(b.O!=="NOOP"&&b.Qd){Cb(f,e,d,b);var g=new ge(d);S(f,g);b.source==="webx"&&S(f,new __c.fe(d))}}catch(k){d.l(k)}var h={Aa:f,Vf:e};break a}}catch(k){d.l(k)}h=
void 0}({Aa:h}={Aa:h?h.Aa:new Zd});gd({Rb:a,Aa:h})});
}).call(self, self._f0786118459de4aed74884bcb4b303e0);},

/***/ 739205:
(_, __, r) => r(583202)

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, [22374,98821], () => (__webpack_exec__(583202), __webpack_exec__(739205)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
])
//# sourceMappingURL=sourcemaps/35b75225850bd7cc.js.map