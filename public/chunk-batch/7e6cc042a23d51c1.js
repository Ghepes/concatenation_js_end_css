;// __FILE_CONTENT_FOR__:7e6cc042a23d51c1.js
(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[928801],{

/***/ 876260:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(297866);__web_req__(214213);__web_req__(157643);__web_req__(24355);__web_req__(497849);__web_req__(926248);__web_req__(495296);__web_req__(790298);__web_req__(627847);__web_req__(362699);__web_req__(454050);__web_req__(739897);__web_req__(296300);__web_req__(735191);__web_req__(870332);__web_req__(95043);__web_req__(244420);self._ebd5e19490e9b70e7436d6c497657170 = self._ebd5e19490e9b70e7436d6c497657170 || {};(function(__c) {var M=__c.M;var t=__c.t;var LRx,MRx,NRx,PRx,RRx,SRx,TRx,QRx,YRx,ZRx,aSx,bSx,cSx;
LRx=function({Fi:a}){var b,c;let d,e,f,g;const h=a===null||a===void 0?void 0:a.range,k=a===null||a===void 0?void 0:(b=a.style)===null||b===void 0?void 0:b.value;if((a===null||a===void 0?void 0:a.$j)!=null)switch(a.$j.type){case "CATEGORY":d=a.$j.value;break;case "CATEGORY_GROUP":e=a.$j.values;break;case "PRINT":f=!0;break;case "QUERY":g=a.$j.value;break;default:throw new t(a.$j);}var l;d||(d=(l=a===null||a===void 0?void 0:(c=a.xJa)===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:a===null||a===
void 0?void 0:a.category);return{category:d,Tua:e,qNb:f,cKc:g,Bxa:h,WHa:k}};MRx=function(a){return a!=null?encodeURIComponent(a):a};
NRx=function(a){switch(a.type){case "CATEGORY":return new __c.Lon({...a,label:MRx(a.label),value:MRx(a.value)});case "CATEGORY_GROUP":return new __c.Mon({...a,label:MRx(a.label),values:a.values.map(encodeURIComponent)});case "QUERY":return new __c.Oon({...a,label:MRx(a.label),value:MRx(a.value)});case "PRINT":return new __c.Non({...a,label:MRx(a.label)});default:throw new t(a);}};
__c.ORx=function(a){var b,c=a.$j?NRx(a.$j):void 0,d=a.range?encodeURIComponent(a.range):void 0;if(a.style){var e=a.style;e={label:MRx(e.label),value:MRx(e.value)}}else e=void 0;return new __c.nM({$j:c,range:d,style:e,category:a.category?encodeURIComponent(a.category):void 0,xJa:((b=a.xJa)===null||b===void 0?0:b.id)?new __c.Jon({id:encodeURIComponent(a.xJa.id)}):void 0})};
PRx=function({Fxf:a,dKm:b}){var c;return{WHa:a.WHa,Bxa:a.Bxa,jM:a.jM,T7d:a.T7d,AB:a.AB,fa:{$e:b,Ab:(c=a.metadata)===null||c===void 0?void 0:c.Ab,resultType:void 0,Zd:void 0}}};
RRx=function({Hxf:a,onError:b,Zd:c,$e:d,query:e,offset:f=0,Ab:g,XF:h}){const k=[];for(const [n,p]of a.entries())switch(p.type){case "PUBLIC_TEMPLATE":k.push({type:"public_template",id:p.template.id,item:QRx({template:p.template,rm:p.rm,kr:p.kr}),fa:{KG:f+n,position:f+n,query:e,Ab:g,$e:d,XF:h,resultType:"public_template",fi:"public_templates",Zd:c},xbi:{template:p.template,rm:p.rm,kr:p.kr}});continue;case "DESIGN_SPEC":a=p.rm;var l=a.dimensions;k.push({type:"design_spec",id:p.rm.token,item:{type:"DESIGN_SPEC",
id:a.token,wp:a.displayName,aspectRatio:l.width/l.height,doctype:a.doctype,Ta:a.category},fa:{KG:f+n,position:f+n,query:e,Ab:g,$e:d,XF:h,resultType:"design_spec",fi:"public_templates",Zd:c}});continue;default:b(`Unexpected mixed types found: ${p.type}`)}return k};
SRx=function({response:a,onError:b,query:c}){return a.results.map((d,e)=>{var f,g,h,k;const l=__c.li();return{id:l,my:d.group.my,results:RRx({$e:l,Hxf:d.group.results,Zd:((f=d.metadata)===null||f===void 0?void 0:f.Zd)||d.Zd,Ab:(g=a.metadata)===null||g===void 0?void 0:g.Ab,query:c,XF:e,onError:b}),Zd:((h=d.metadata)===null||h===void 0?void 0:h.Zd)||d.Zd,continuation:d.group.continuation,position:e,Ab:(k=a.metadata)===null||k===void 0?void 0:k.Ab}})};
TRx=function(a){var b;a=(b=a.tpb.at(0))===null||b===void 0?void 0:b.at(0);return((a===null||a===void 0?void 0:a.width)||1)/((a===null||a===void 0?void 0:a.height)||1)};
QRx=function({template:a,rm:b,kr:c}){if(a.type==="ELEMENT")throw Error("ELEMENT type not supported");let d,e;const f=a.sc.map(h=>{const k=__c.uWn(h);return{type:"MEDIA",count:h.count,sc:k.sc===2?3:2}});switch(a.type){case "DESIGN":var g;d=a.pages.map(h=>{var k;return((k=h.OC[0])!==null&&k!==void 0?k:h).eb.map(({width:l,height:n,url:p,eh:q,Kp:r})=>({width:l,height:n,url:p,Kp:r,type:URx(q)}))});e=a.Sz?{...a.Sz,eb:(g=a.Sz)===null||g===void 0?void 0:g.eb.map(({width:h,height:k,url:l,eh:n,Kp:p})=>({width:h,
height:k,url:l,Kp:p,type:URx(n)}))}:void 0;break;case "RESPONSIVE":d=a.nt.map(h=>h.eb.map(({width:k,height:l,url:n,eh:p,Kp:q})=>({width:k,height:l,url:n,Kp:q,type:URx(p)})));break;default:throw new t(a);}return{id:a.id,tpb:d,Sz:e,il:a.il,title:a.title,sc:f,$r:c===null||c===void 0?void 0:c.$r,version:a.version,brand:a.brand,Ta:b===null||b===void 0?void 0:b.category,Wa:b===null||b===void 0?void 0:b.doctype,lg:a.type==="DESIGN"?a.lg:1,type:a.type,aspectRatio:__c.VRx?__c.KFl(a).aspectRatio:TRx({tpb:d})}};
YRx=function({aN:a,query:b,Zp:c,n0d:d,cE:e,fga:f=1,iUc:g,hoa:h,xta:k,errorService:l}){let n=d.cKc;b.trim()===""&&n!=null&&(b=n,n=void 0);return h?e.Fp("wonder_box.templates.fetch_search_home2_results",async p=>{p=await a.yal(new WRx({query:b,Lj:3,continuation:c,Kl:1,category:d.category,Tua:d.Tua,qNb:d.qNb,cKc:n,Bxa:d.Bxa,WHa:d.WHa,filters:new XRx({}),iUc:g,fga:f}),{xa:p});p=k.hge(p);if(!p.ok)throw l.error(`wonder_box search_templates failed to hydrate searchHome2 response with error: ${p.error.kind}`,
{ta:"ResourceClient",extra:__c.Nkd(p.error)}),Error("searchHome2 failed at hydration step.");p=p.value;return new __c.Nfd({...p,results:p.results.map(q=>{var r;return new __c.zq({...q,metadata:q.group.metadata,Zd:(r=q.group.metadata)===null||r===void 0?void 0:r.Zd,group:q.group,fu:q.fu,Bv:q.Bv,LE:q.LE,title:q.title,subtitle:q.subtitle})})})}):e.Fp("wonder_box.templates.fetch_search_home_results",p=>a.Mmc(new __c.Spn({query:b,Lj:3,continuation:c,Kl:1,category:d.category,Tua:d.Tua,qNb:d.qNb,cKc:n,Bxa:d.Bxa,
WHa:d.WHa,iUc:g,fga:f}),{xa:p}))};ZRx=async function({nOd:a,query:b}){return b.trim()===""?{zFg:[],Ab:void 0}:a.GOi(new __c.Aap({query:b,limit:4,pA:["marketplace_templates"],tHi:2,eVj:!1,uba:14}))};__c.$Rx=function({query:a,Fi:b,tO:c,Jvk:d=!1}){a:switch(c){case void 0:case "default":case "suggestion":case "adjustment":c="explicit";break a;case "automatic":c="implicit";break a;default:throw new t(c);}b=b!=null?__c.jF(__c.ORx(b),__c.nM.serialize):null;return[a,b,c,d].filter(__c.Ua).join("-")};aSx=__webpack_require__(400770);
bSx=aSx.observable;cSx=aSx.runInAction;var dSx=(a,b)=>({results:a.zFg.map(c=>({label:c.displayName,Zd:void 0})),Ab:a.Ab,$e:b});var XRx=__c.H(()=>({jlc:M(1)}));var WRx=__c.H(()=>({query:__c.L(1),iUc:__c.gc(24),continuation:M(2),fu:__c.Pa(3,__c.Lfd),qt:M(4),G2:__c.ic(5),Kea:__c.N(6),L7a:__c.Oa(7,__c.Dfd),Afa:__c.ec(8),Ux:__c.ec(9),category:M(10),Lj:__c.Oa(11,__c.Cfd),lY:M(12),na:M(13),Upa:__c.N(14),cKc:M(15),WHa:M(16),Tua:__c.gc(17),qNb:__c.N(18),Bxa:M(19),Kl:__c.Oa(20,__c.Ffd),resultType:__c.Pa(21,__c.Efd),filters:__c.C(22,XRx),fga:__c.Oa(23,__c.Bfd)}));__c.VRx=__c.Xa("70d2dc48",!1);var URx=a=>{switch(a){case 3:return 2;case 1:return 1;case 2:return 3;default:throw new t(a);}};var eSx,fSx,gSx;eSx=()=>(a,b)=>{const c=a.k9a+b.query.length;return c>200?a:{qte:[...a.qte,b.query],k9a:c}};fSx=a=>a.map(b=>({...b,results:bSx.array(b.results)}));
gSx=({Fxf:a,kEj:b,aN:c,cE:d,n0d:e,errorService:f,xta:g,query:h,Hgi:k,hoa:l})=>{const n=__c.li(),p=b?dSx(b,n):void 0,q=fSx(k({response:a,query:h,onError:u=>{f.warning(u)}}));let r;return{M_:()=>{r||(r=PRx({Fxf:a,dKm:__c.li()}));return r},getContent:()=>[q,p],cxb:async({$e:u})=>{var v,w,x=q.findIndex(D=>D.id===u);const y=q[x];x=y.continuation;if(y){x=await YRx({query:h,Zp:x,aN:c,cE:d,n0d:e,fga:1,hoa:l,errorService:f,xta:g});var A=x.results.at(0);if(A){var B=RRx({Hxf:A.group.results,onError:D=>f.warning(D),
$e:u,query:h,offset:y.results.length,XF:y.position,Ab:(v=x.metadata)===null||v===void 0?void 0:v.Ab,Zd:((w=A.metadata)===null||w===void 0?void 0:w.Zd)||A.Zd});cSx(()=>{y.results.push(...B)});y.continuation=A.group.continuation}else f.warning(`Group not found for section ${u}`)}else f.ia(`Could not find section with id: ${u}`)}}};
__c.Cva={oVe:function({aN:a,nOd:b,xta:c,errorService:d,cE:e,Kec:f,hoa:g,Hgi:h=SRx}){if(f){const k=__c.Xdo({EQa:__c.$Rx,request:async({query:l,Fi:n,tO:p})=>{const q=LRx({Fi:n}),r=p==="automatic"?2:1,[u,v]=await Promise.all([YRx({query:l,Zp:void 0,aN:a,cE:e,n0d:q,fga:r,iUc:k.Nfg().filter(y=>y.tO==="automatic"&&JSON.stringify(y.Fi)===JSON.stringify(n)&&y.Jvk===!0).reduce(eSx(),{qte:[],k9a:0}).qte,errorService:d,hoa:g,xta:c}),b?ZRx({query:l,nOd:b}):void 0]);p=u.AEd!=null?{query:u.AEd,Fi:n,tO:p,Jvk:!0}:
void 0;const w=p!=null&&k.has(p);if(r===2&&w)return l=k.get(p),{Lt:l}=await l,l();const x=gSx({Fxf:u,kEj:v,aN:a,cE:e,n0d:q,errorService:d,query:l,Hgi:h,xta:c,hoa:g});return r!==2||p==null||w||(k.oMg(p,()=>Promise.resolve(x)),u.results.length)?x:(l=k.get(p),{Lt:l}=await l,l())},errorService:d,Hpd:()=>__c.Xa("531f336c",300)});return k}return new __c.Rdj({EQa:__c.$Rx,loader:async({query:k,Fi:l,tO:n})=>{l=LRx({Fi:l});n=await YRx({query:k,Zp:void 0,aN:a,cE:e,n0d:l,fga:n==="automatic"?2:1,errorService:d,
hoa:g,xta:c});return gSx({Fxf:n,kEj:void 0,aN:a,cE:e,n0d:l,errorService:d,query:k,Hgi:h,hoa:g,xta:c})},errorService:d})}};__c.Cva.Mmc=YRx;__c.Cva.htp=__c.$Rx;
}).call(self, self._ebd5e19490e9b70e7436d6c497657170);}

}])
//# sourceMappingURL=https://chunk-composing.canva.com/chunk-batch-sm/28_sourcemaps/7e6cc042a23d51c1.js.map