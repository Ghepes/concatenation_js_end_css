(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[19986],{

/***/ 482530:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(447605);__web_req__(764820);__web_req__(294098);__web_req__(83503);__web_req__(327362);__web_req__(293952);__web_req__(991363);__web_req__(917183);__web_req__(651699);__web_req__(366183);__web_req__(159692);__web_req__(5862);__web_req__(221981);__web_req__(249608);__web_req__(850719);__web_req__(317135);__web_req__(569994);__web_req__(405113);__web_req__(630476);__web_req__(730757);__web_req__(283579);__web_req__(512724);__web_req__(222307);__web_req__(543095);__web_req__(829421);__web_req__(13077);__web_req__(891069);__web_req__(140815);__web_req__(492025);__web_req__(723870);__web_req__(549685);__web_req__(48888);__web_req__(728225);__web_req__(360321);__web_req__(76245);__web_req__(42853);__web_req__(624684);__web_req__(754101);__web_req__(785562);__web_req__(732901);__web_req__(630833);__web_req__(972452);__web_req__(345811);__web_req__(234984);__web_req__(397070);__web_req__(558082);__web_req__(741298);__web_req__(896992);__web_req__(598984);__web_req__(562169);__web_req__(484391);__web_req__(757515);__web_req__(397592);__web_req__(157825);__web_req__(162018);__web_req__(488738);__web_req__(487352);__web_req__(229001);__web_req__(548758);__web_req__(133600);__web_req__(857255);__web_req__(114073);__web_req__(587437);__web_req__(305452);__web_req__(383677);__web_req__(851909);__web_req__(121623);__web_req__(958906);__web_req__(353889);__web_req__(734237);__web_req__(451856);__web_req__(300572);__web_req__(667484);__web_req__(934683);__web_req__(253420);__web_req__(940649);__web_req__(458375);__web_req__(563461);__web_req__(73036);__web_req__(822403);__web_req__(241869);__web_req__(31055);__web_req__(697890);__web_req__(668206);__web_req__(446874);__web_req__(439573);self._456c437108d2d2713799e19380be528d = self._456c437108d2d2713799e19380be528d || {};(function(__c) {var fC;var K8q=__c.K8q;var IFs;var sKe=__c.sKe;var rk=__c.rk;var li=__c.li;var ii=__c.ii;var HEe=__c.HEe;var wo=__c.wo;var qc=__c.qc;var ok=__c.ok;var or=__c.or;var Vx=__c.Vx;var mu=__c.mu;var pp=__c.pp;var V=__c.V;var C=__c.C;var E=__c.E;var T=__c.T;var op=__c.op;var XJh=__c.XJh;var k0g=__c.k0g;var Hb=__c.Hb;var gbr=__c.gbr;var bu=__c.bu;var Yo=__c.Yo;var vc=__c.vc;var hv=__c.hv;var Kb=__c.Kb;var Ob=__c.Ob;var rr=__c.rr;var er=__c.er;var ao=__c.ao;var jd=__c.jd;var mr=__c.mr;var ej=__c.ej;
var nr=__c.nr;var fy=__c.fy;var Xu=__c.Xu;var lr=__c.lr;var Ro=__c.Ro;var eD=__c.eD;var rA=__c.rA;var fu=__c.fu;var Uug=__c.Uug;var wcr=__c.wcr;var O=__c.O;var uf=__c.uf;var tf=__c.tf;var QXe=__c.QXe;var Jy=__c.Jy;var xk=__c.xk;var ia=__c.ia;var F=__c.F;var U=__c.U;var Qa=__c.Qa;var H=__c.H;var O5g=__c.O5g;var OC=__c.OC;var Yt=__c.Yt;var yr=__c.yr;var Wj=__c.Wj;var TVa=__c.TVa;var vj=__c.vj;var Xk=__c.Xk;var jm=__c.jm;var dk=__c.dk;var $l=__c.$l;var Xm=__c.Xm;var Zk=__c.Zk;var rvb=__c.rvb;
var sr=__c.sr;var In=__c.In;var Am=__c.Am;var Hc=__c.Hc;var ln=__c.ln;var Mif=__c.Mif;var Wb=__c.Wb;var pXa=__c.pXa;var Fs=__c.Fs;var dr=__c.dr;var bj=__c.bj;var ir=__c.ir;var jr=__c.jr;var lc=__c.lc;var ny=__c.ny;var Vb=__c.Vb;var nd=__c.nd;var Lif=__c.Lif;var na=__c.na;var Wc=__c.Wc;var xKe=__c.xKe;var kw=__c.kw;var bp=__c.bp;var AJa=__c.AJa;var Ao=__c.Ao;var ey=__c.ey;var Lj=__c.Lj;var vr=__c.vr;var pk=__c.pk;var fFd=__c.fFd;var Pj=__c.Pj;var lu=__c.lu;var Ff=__c.Ff;var Wm=__c.Wm;var y1g=__c.y1g;
var z1g=__c.z1g;var Ia=__c.Ia;var Uy=__c.Uy;var Ka=__c.Ka;var KHp=__c.KHp;var Ux=__c.Ux;var aNe=__c.aNe;var bNe=__c.bNe;var lk=__c.lk;var Jjf=__c.Jjf;var OD=__c.OD;var Qb=__c.Qb;var Oj=__c.Oj;var xg=__c.xg;var as=__c.as;var Kk=__c.Kk;var WUc=__c.WUc;var ZYc=__c.ZYc;var BMb=__c.BMb;var Ds=__c.Ds;var Es=__c.Es;var de=__c.de;var He=__c.He;var ee=__c.ee;var Bj=__c.Bj;var Dj=__c.Dj;var wj=__c.wj;var Jj=__c.Jj;var gk=__c.gk;var sy=__c.sy;var Xo=__c.Xo;var Ov=__c.Ov;var wg=__c.wg;var rTi=__c.rTi;
var vb=__c.vb;var pTi=__c.pTi;var hp=__c.hp;var bi=__c.bi;var Ji=__c.Ji;var gu=__c.gu;var Pk=__c.Pk;var xj=__c.xj;var Yj=__c.Yj;var Vj=__c.Vj;var Vo=__c.Vo;var pd=__c.pd;var Cs=__c.Cs;var rf=__c.rf;var GYc=__c.GYc;var J=__c.J;var gif=__c.gif;var tA=__c.tA;var uA=__c.uA;var Aj=__c.Aj;var wA=__c.wA;var Qu=__c.Qu;var Xj=__c.Xj;var bl=__c.bl;var KVc=__c.KVc;var cl=__c.cl;var oV;var kr=__c.kr;var Uc=__c.Uc;var P=__c.P;var R=__c.R;var RAj=__c.RAj;var wr=__c.wr;var Sb=__c.Sb;var gV;var eV;var sf=__c.sf;
var L=__c.L;var mcr=__c.mcr;var Yv=__c.Yv;var Ce=__c.Ce;var zg=__c.zg;var ps=__c.ps;var Zg=__c.Zg;var Lg=__c.Lg;var Kj=__c.Kj;var Zj=__c.Zj;var uId=__c.uId;var Ke=__c.Ke;var Ge=__c.Ge;var Qw=__c.Qw;var v=__c.v;var Uj=__c.Uj;var Sj=__c.Sj;var ak=__c.ak;var sA=__c.sA;var am=__c.am;var is=__c.is;var qu=__c.qu;var ta=__c.ta;var ub=__c.ub;var pa=__c.pa;var n=__c.n;var em=__c.em;var Cz=__c.Cz;var Ry=__c.Ry;
var $os,aps,bps,cps,dps,eps,fps,gps,hps,ips,jps,kps,lps,mps,nps,ops,pps,qps,rps,sps,tps,ups,vps,wps,xps,yps,zps,Aps,Bps,Cps,Dps,Eps,Fps,Gps,Hps,Ips,Jps,Kps,Mps,Nps,Ops,Pps,Qps,Ups,Wps,Vps,Xps,Yps,Zps,$ps,aqs,bqs,dqs,eqs,cqs,jqs,kqs,lqs,nqs,oqs,pqs,qqs,sqs,uqs,Fqs,Gqs,Hqs,Iqs,Lqs,Mqs,Nqs,Oqs,Pqs,Qqs,Rqs,Jqs,Kqs,Tqs,Uqs,Vqs,Wqs,Yqs,Xqs,frs,jrs,nrs,rrs,srs,wrs,xrs,yrs,vrs,Grs,Hrs,Irs,Mrs,Ors,Prs,Srs,Vrs,Yrs,Zrs,pV,$rs,ass,bss,css,dss,fss,gss,hss,iss,jss,kss,lss,mss,nss,oss,pss,qss,rss,sss,tss,xss,Bss,
Css,Dss,qV,yss,ess,uss,Hss,Iss,Jss,Kss,Mss,Nss,Pss,Rss,Sss,Tss,Uss,Qss,Vss,Xss,Yss,Zss,ats,cts,kts,tts,yts,zts,Its,Bts,Lts,Kts,Rts,Sts,Vts,Zts,dus,hus,ius,lus,mus,nus,pus,ous,sus,qus,rus,tus,uus,Ius,Jus,Kus,Lus,Pus,Nus,Ous,Mus,Sus,Rus,Qus,Tus,Uus,Wus,Xus,Yus,avs,Zus,$us,gvs,cvs,fvs,evs,hvs,kvs,lvs,mvs,pvs,qvs,jvs,tvs,Bvs,Cvs,Dvs,Evs,Fvs,Hvs,Jvs,Yvs,rws,vws,wws,xws,Aws,Bws,zws,yws,Cws,Ews,Gws,Hws,Mws,Nws,Ows,Vws,Uws,Yws,Zws,$ws,axs,bxs,cxs,dxs,exs,fxs,gxs,nxs,pxs,sxs,zxs,txs,vxs,xxs,uxs,wxs,yxs,Axs,
Bxs,Fxs,Oxs,Sxs,Pxs,Rxs,Qxs,Txs,Wxs,Uxs,Vxs,Xxs,Yxs,$xs,Zxs,ays,eys,dys,fys,bys,gys,hys,iys,jys,kys,lys,mys,oys,pys,nys,qys,rys,sys,tys,uys,vys,wys,xys,yys,Ays,Bys,Cys,Fys,Gys,Hys,Iys,Jys,Kys,Mys,Qys,Vys,kzs,nzs,Xys,rzs,szs,tzs,vzs,wzs,uzs,zzs,Azs,Bzs,Czs,Fzs,Ezs,Gzs,Dzs,xzs,Jzs,Kzs,Lzs,Mzs,Nzs,Ozs,Pzs,sV,Qzs,vV,Rzs,Szs,Uzs,Wzs,Zzs,Xzs,bAs,eAs,gAs,dAs,iAs,kAs,hAs,lAs,cAs,jAs,qAs,rAs,sAs,$zs,oAs,mAs,nAs,vAs,uAs,tAs,wV,wAs,yAs,zAs,BAs,AAs,CAs,EAs,GAs,KAs,QAs,SAs,RAs,WAs,XAs,YAs,ZAs,$As,aBs,bBs,cBs,
dBs,gBs,hBs,lBs,iBs,jBs,kBs,mBs,qBs,xV,sBs,vBs,wBs,tBs,zBs,xBs,uBs,CBs,FBs,EBs,DBs,HBs,GBs,IBs,JBs,KBs,MBs,NBs,OBs,PBs,QBs,RBs,SBs,TBs,XBs,YBs,ZBs,$Bs,cCs,eCs,fCs,gCs,hCs,jCs,lCs,nCs,oCs,pCs,rCs,qCs,wCs,uCs,yCs,sCs,tCs,vCs,xCs,ACs,GCs,HCs,ICs,JCs,CCs,BCs,DCs,ECs,KCs,PCs,OCs,LCs,FCs,NCs,QCs,MCs,TCs,ZCs,fDs,hDs,iDs,jDs,lDs,nDs,oDs,gDs,pDs,sDs,wDs,ADs,BDs,HDs,EDs,JDs,KDs,LDs,ODs,RDs,UDs,ZDs,$Ds,aEs,cEs,dEs,fEs,gEs,iEs,eEs,jEs,lEs,kEs,mEs,nEs,oEs,rEs,sEs,tEs,uEs,zEs,CEs,hEs,EEs,FEs,DEs,GEs,HEs,LEs,PEs,
OEs,QEs,nFs,oFs,pFs,qFs,rFs,sFs,tFs,uFs,vFs,AFs,wFs,BFs,CFs,EFs,FFs,GFs,DFs,HFs,JFs,LFs,NFs,PFs,QFs,UFs,VFs,XFs,YFs,$Fs,cGs,aGs,bGs,dGs,fGs,gGs,hGs,iGs,kGs,jGs,lGs,mGs,oGs,pGs,rGs,sGs,qGs,uGs,vGs,tGs,wGs,xGs,yGs,zGs,AGs,DGs,EGs,BGs,CGs,FGs,GGs,HGs,MGs,QGs,SGs,TGs,UGs,VGs,WGs,XGs,YGs,ZGs,aHs,dHs,cHs,eHs,gHs,hHs,jHs,lHs,xHs,yHs,zHs,CHs,GHs,HHs,MHs,PHs,QHs,RHs,THs,SHs,VHs,XHs,YHs,ZHs,WHs,bIs,cIs,gIs,hIs,iIs,jIs,kIs,dIs,nIs,oIs,wIs,yIs,zIs,AIs,BIs,DIs,FIs,EIs,eIs,fIs,HIs,GIs,KIs,LIs,MIs,NIs,TIs,ZIs,$Is,
iJs,kJs,oJs,qJs,pJs,rJs,vJs,BJs,sJs,tJs,uJs,CJs,DJs,EJs,FJs,IJs,NJs,PJs,QJs,RJs,TJs,xJs,yJs,zJs,AJs,VJs,SJs,WJs,XJs,YJs,ZJs,$Js,cKs,eKs,iKs,jKs,oKs,uKs,BKs,CKs,EKs,FKs,IKs,JKs,LKs,NKs,OKs,PKs,MKs,QKs,VKs,WKs,YKs,XKs,aLs,fLs,iLs,kLs,DV,eGs,sHs,nLs,vKs,pLs,qLs,rLs,sLs,tLs,uLs,vLs,wLs,oLs,aJs,bJs,xLs,yLs,zLs,ALs,BLs,JLs,HLs,RLs,aMs,eMs,jMs,lMs,oMs,nMs,mMs,sMs,tMs,uMs,wMs,yMs,xMs,zMs,AMs,BMs,EMs,FMs,HMs,JMs,KMs,LMs,MMs,NMs,RMs,UMs,VMs,WMs,ZMs,$Ms,cNs,fNs,gNs,hNs,kNs,lNs,iNs,jNs,mNs,tNs,vNs,xNs,yNs,zNs,
BNs,CNs,DNs,ANs,ENs,FNs,GNs,HNs,INs,JNs,MNs,NNs,ONs,PNs,RNs,SNs,TNs,UNs,VNs,WNs,bOs,aOs,$Ns,XNs,eOs,fOs,dOs,gOs,hOs,jOs,iOs,kOs,mOs,lOs,nOs,oOs,rOs,sOs,xOs,yOs,zOs,AOs,vOs,wOs,uOs,COs,EOs,FOs,BOs,HOs,KOs,POs,QOs,$Os,fPs,kPs,mPs,lPs,nPs,pPs,rPs,sPs,vPs,uPs,zPs,wPs,xPs,BPs;$os=async function(a,b){return a.Hai(b).then(c=>({text:c!==null&&c!==void 0?c:b,url:b,type:"embed"}))};
aps=function(a,b){const c=a.Xa.state,d={...Ry,link:b};if((c===null||c===void 0?void 0:c.type)==="SHEET_CELL"&&a.Vc){const e=c.anchor,f=c.sheet.config,g=a.Vc.getContent(f,e.row,e.column);Cz(a.Vc,h=>{g&&g.isEmpty&&h.rGa(f,e,b);h.setAttributes(f,e,d)})}else(c===null||c===void 0?void 0:c.type)==="RANGE"&&em(c.LQc()).ok?a.Xa.QAa(b,d):a.Xa.b_a(d)};
bps=function(a,b){const c=b.length,d=Math.max(0,...b.map(g=>g.length)),e=__c.ktg(a,{rows:c,columns:d}),f=new Map;for(let g=0;g<c;g++)for(let h=0;h<d;h++){const k=n(e.layout.rows[g].sp.get(e.layout.columns[h].id));if(b[g][h]!=null){const l=a.config.zSh(b[g][h]+"\n");f.set(k,l)}}return{...e,cells:f}};
cps=function(a,b,c){pa(c.length>0,"Cannot copy empty subset of table");const {rows:d,columns:e}=__c.pNe(b,c);var f=d.map(k=>({...k,sp:new Map(e.map(l=>{const m=k.sp.get(l.id);return m?[l.id,m]:void 0}).filter(ub))}));const g=e.map(k=>({...k}));ta(f.length>0);ta(g.length>0);const h=new Set(c);f={cells:new Map(f.flatMap(k=>Array.from(k.sp.values(),l=>{const m=b.cells.get(l);if(m&&h.has(m))return[l,a.config.g4e(m)]}).filter(ub))),layout:{...b.layout,rows:f,columns:g}};return a.config.R4(f,{table:b,cells:c})};
dps=function(a,b){return`${a.id}:${b.id}`};eps=function(a){var b=qu;return __c.uta(b,new __c.vta(()=>b.l6c.G7(a)),c=>c.Nza(a))};fps=function(a,b){__c.ua(a.document.Ja,"fixed");return new __c.$Nd(a.A1a,a.nWe,a.hs,a.Zm,a.document,a.Dmc,a.qd,b,void 0,()=>{},a.jwg,!0)};gps=function(a,{Ze:b}){__c.g5p(a,{oZ:"closed",Ze:b});__c.j5p(a,{Ze:b,oZ:"ended"});__c.o5p(a,{Ze:b,oZ:"ended"})};hps=function(a,b){ta(!a.pjh);(0,__c.Jb)(()=>a.pjh=b)};ips=function(a,b){ta(a.c0k===void 0);a.c0k=b};
jps=function(a,b){a.P.track(__c.Uje,{action:"page_numbers_dropdown_menu_opened",Wh:b,location:"edit_panel"})};kps=function(a,b){a.rPn.push(b)};lps=function(a,b){a.eno.add(b)};mps=function(a,b){var c,d;return(((d=a.document.pages.previous(b,e=>!e.draft))===null||d===void 0?void 0:(c=d.transition.ref)===null||c===void 0?void 0:c.durationUs)||0)/1E6};
nps=function(a,b){var c;if(b.audio&&a.Lnd)return(c=__c.gKe(a.Lnd,b.audio.id))===null||c===void 0?void 0:c.filter(d=>{d=d.He*1E6;return d>=b.trim.startUs&&d<=b.trim.endUs})};ops=async function(a,b){return __c.f_e(a,__c.Jf({elements:b.map(c=>is.snapshot(c))}))};pps=function(a,b){if(b.image.ref){var c;a=a.Pa.jp(b.image.ref.media);var d;return(d=a===null||a===void 0?void 0:(c=a.c4)===null||c===void 0?void 0:c.y9j)!==null&&d!==void 0?d:!0}return!!b.video.ref};
qps=function(a,b){const c=b.ia;if(pps(a,c)&&!__c.Xqb(a.iJa,b,am.Ps))return{v5q:{get:()=>c.flipX,set:d=>{c.flipX=d}},N$s:{get:()=>c.flipY,set:d=>{c.flipY=d}}}};rps=function(a,b,c,d,e){const f=__c.wvf(a,b,d);e=(new Map(b.cells.map((g,h)=>[g,h]))).get(e);f&&sA(f)&&e&&__c.gjf(a,b,d)&&(b=a.mGj.Svf(f,e),b!=null&&a.Yfb(f,c,b+1,b,"content_styles"))};
sps=function(a,b,c,d){var e=a.fd;a=__c.wvf(a,b,c);const f=e.vE(b);e=f===null||f===void 0?void 0:ak(f);b=(new Map(b.cells.map((k,l)=>[k,l]))).get(d);if(a!=null&&([d]=b!=null?a.qim({rb:d,id:b}):[],f&&d!=null)){var g=a.padding.paddingTop,h=a.padding.paddingBottom;b=(f.width-a.eb)/2;a=a.Vcg.map(k=>Sj(k.left,0,k.left+k.width,f.height-g-h));return e!=null&&a!=null?Uj(a[d-1].translate(b,g).transform(e.invert())):void 0}};
tps=function(a,b){if(a.X&&!__c.Kv(a.vc,b)){var c=b.ia,d=c.type==="group",e=__c.qf(c),f=c.type==="text",g=c.type==="embed",h=c.type==="rect"&&c.fill.video.ref;if(!(d||e||g||h||f)){if(b.type==="controlled-element"){var k,l;if((k=(l=a.iDk).zYm)===null||k===void 0?0:k.call(l,b))return}return{get:()=>c.link,set:m=>{if(m){if(m=a.o5i(m))c.link=m}else c.link=void 0}}}}};
ups=function(a,b,c){switch(b.type){case "fixed":const d=c.shift();b.Jc.forEach(e=>{(e=e.image.ref)&&d&&a.i7a(e,d)});b=b.elements.toArray();return __c.mKf(a,b,c);case "concatenated-fixed":return b.pages.reduce((e,f)=>ups(a,f,e),c);case "responsive":return __c.oKf(a,[...b.text.items],c);default:throw new v(b);}};vps=function(a,b,c){b.reduce((d,e)=>ups(a,e,d),c)};
wps=function(a,b){switch(b.type){case "fixed":return[...b.Jc.map(c=>a.ZCe(c.image.ref)),...__c.pKf(a,b.elements.toArray())];case "concatenated-fixed":return b.pages.flatMap(c=>wps(a,c));case "responsive":return[...__c.qKf(a,Array.from(b.text.items))];default:throw new v(b);}};
xps=function(a,b,c){ta(!c.includes("\n"));b=b.resolve(a.Ih).map(p=>p.resolve(a.Ih)).sort((p,q)=>p.index-q.index||p.length-q.length);const d=a.text.cursor(),e=a.text.S4(),f=__c.Bbg(e);let g=0;var h=0;const k=[];for(let p=0;p<b.length;p++){var l=b[p];ta(h<=l.index);d.nt(l.index-h,f);__c.Cbg(d,e,l.length,{Ya:q=>ta(!q.includes("\n")),item:({display:q=1})=>ta(q!==1)});h=__c.Iz(a.Bb,Qw.of({index:l.index,length:Math.min(c.length,1)}));h=Ge.pick("inline",h);var m=__c.Ebg(d.x5,__c.Fbg(h));c.length>0&&(e.e0(m),
e.insert(c),e.JS(m));k.push(Qw.of({index:l.index+g,length:c.length}));g+=c.length-l.length;h=l.index+l.length;[l]=a.tree.fBa(l.index+l.length);l.type===6&&(m=__c.pbg(l,m),e.e0(m),d.nt(l.length(),f),e.JS(m),h+=l.length())}a.k8a.next(e.build())};yps=function(a){const b=new cV(a.tagName.toLowerCase());b.setContent(a.innerHTML);if(a.attributes.length)for(const c of a.attributes)b.setAttribute(c.name,c.value);return b};
zps=function(a){const b=document.createElement("div");b.innerHTML=a.toString().trim();return n(b.firstElementChild)};
Aps=function(a,b,c){const d=[];Cz(a.Vc,e=>{for(const f of c){const g=b.layout.cells.get(f.row,f.column);e.setAttributes(b,{row:(g===null||g===void 0?void 0:g.span.Zb)||f.row,column:(g===null||g===void 0?void 0:g.span.dc)||f.column},{...Ke.Ff,...uId,fontFamily:a.Xr.WT||Ke.Ff.fontFamily});g!=null&&(__c.Sjg(b,g.span),e.q0(b,{row:g.span.Zb,column:g.span.dc},void 0),e.XBb(b,{row:g.span.Zb,column:g.span.dc},void 0));d.push({row:(g===null||g===void 0?void 0:g.span.Zb)||f.row,column:(g===null||g===void 0?
void 0:g.span.dc)||f.column})}});__c.tjg(a.yva,b,d)};Bps=function(a,b,c){const d={Mge:a.SQh(c).filter(e=>e.type!=="rule-x"&&e.type!=="rule-y"),kHb:a.kHb(c)};return new __c.Kkg(b,a.k9,c,d)};Cps=function(a,b){var c=__c.qta.TX(b.layout.rows);const d=__c.rta.TX(b.layout.columns),e=new Set;c=c.map(f=>d.map(g=>{g=f.sp.get(g.id);g=g!=null?b.cells.get(g):void 0;if(!g||e.has(g))return"";e.add(g);g=g.content.text.cells.Ya();return g.substr(0,g.length-1)}));return a.csv.encode(c,{field:"\t"})};
Dps=function(a,b,c){const d=cV.element("table"),e=__c.jtg(b),f=new Set;b.layout.rows.forEach((g,h)=>{const k=d.appendChild(cV.element("tr"));b.layout.columns.forEach((l,m)=>{l=g.sp.get(l.id);if(l!=null){if(f.has(l))return;f.add(l)}var p=l!=null?b.cells.get(l):void 0;p=(p=p?a.pR.config.FFg(p):void 0)?c(p):cV.element("td");k.appendChild(p);const {rows:q,columns:r}=(l!=null?e.get(l):void 0)||{rows:[h],columns:[m]};q.length>1&&p.setAttribute("rowspan",q.length.toString());r.length>1&&p.setAttribute("colspan",
r.length.toString())})});d.setStyle("font-family","sans-serif");d.setStyle("color","black");d.setStyle("border","1px solid black");return d};
Eps=function(a,b,c){const d=[],e=[];for(const m of b.rows){const p=m.rowIndex;let q=0;for(const r of m.cells){var f;const t=r.cellIndex;b=r.rowSpan;const u=r.colSpan;for(var g=c(r);(f=d[p])===null||f===void 0?0:f[t+q];)q++;e.push({text:g,rows:Array.from({length:b},(w,x)=>p+x),columns:Array.from({length:u},(w,x)=>t+q+x)});for(g=0;g<b;g++)for(let w=0;w<u;w++){var h,k,l;(l=(h=d)[k=p+g])!==null&&l!==void 0?l:h[k]=[];d[p+g][t+q+w]=!0}}}return __c.ltg(a.pR,e)};
Fps=function(a){const b=Math.round(a*1E3)/1E3;return Math.abs(a-b)<1E-10?b:a};
Gps=function(a,b,c,d,e,f){var g=__c.ek(Zj(0,d.map(l=>__c.JXa(e,l))),0).Mb();const h={width:Math.ceil(Fps(g.width)),height:Math.ceil(Fps(g.height)),units:4},k=Kj(-g.left,-g.top);d=__c.jde(__c.bh,d.map(l=>{var m=is.snapshot(l);l.type==="chart"?(l=l.Irc.get(),m=l==null?m:{...m,data:l,Ob:void 0}):m=l.type==="text"&&l.OR?{...m,width:l.width,height:l.height}:m;return m})).map(l=>{l=__c.tw(l,k);if(l.type==="text"&&l.OR){var m=__c.Mn.create(l),p=m.text.Gz(0);m=__c.YWb(f,b,m);p=Lg.ld().attrs(p).Xb(`${m}\n`).build();
l={...l,OR:!1,text:p}}return Zg.pUa(l)});g=__c.ktb.snapshot(a.Zi);return new __c.Fg({doctype:new __c.Gg(h),dimensions:new __c.Yl(h),language:a.language,title:a.title,Zi:__c.eua(g),pages:[new __c.Vl({id:c.qh.generate(),background:void 0,N0:new __c.Wl({uh:[ps]}),elements:d})]})};Hps=function(a){const b=new Map;for(const [c,d]of a)__c.qj(b,c,d);return b};Ips=function(){var a;return(a=document.activeElement.closest(".jHvOGA"))!==null&&a!==void 0?a:void 0};Jps=function(a,b){return a.type==="fixed"&&!zg(b.Zk(a))};
Kps=function(a){const b={};Ce(Ge,a,"all",(c,d)=>{__c.Se(d)!=null?(d=n(__c.Se(d)),b[d]=c):__c.Re(d)?b[d]=void 0:b[d]=c});return b};Mps=function(a,b){(new Lps(b)).msh(a);return b};Nps=function(a){a=a.getAttribute("href");if(a!=null)try{const b=Yv(a);return em(b).ok?b:void 0}catch(b){}};Ops=function(a){let b;try{b=new URL(a)}catch(c){return!1}return b.protocol==="http:"||b.protocol==="https:"};
Pps=async function(a){const b=a.match(/^data:([a-z]+\/[^:;]+);base64,/);if(b){const [c,d]=b;return __c.qIa(a.slice(c.length),d)}if(Ops(a))return fetch(a).then(c=>c.blob()).catch(()=>{})};Qps=function(a){const b=[0],c=__c.Pe.marginInlineStart.max;for(let d=32;d<=c;d+=24)b.push(d);return b.reduce((d,e)=>Math.abs(e-a)<Math.abs(d-a)?e:d,0)};
Ups=function({ecb:a,QGa:b,gmd:c,viewport:d,jc:e,oc:f,ka:g,P:h,i2a:k}){const l=new Rps(d,k),m=new Sps(l,e,f,h),p=(0,__c.qcr)(({oa:r})=>mcr(Tps,{layout:g.layout,Hx:l.Hx,AQ:m.AQ,Hy:l.Hy,mpe:m.mpe,a1f:m.a1f,TSf:m.TSf,oa:r,xua:l.xua}));if(k){const r=(0,__c.qcr)(()=>m.EZf?mcr(__c.Ocr,{EZf:m.EZf}):null),t=w=>x=>m.mpe(w,x),u=()=>b.wRb("Deselect");(0,__c.Acr)(()=>({isActive:l.isActive,Hy:l.Hy}),({isActive:w,Hy:x})=>{c.aqf=w&&x&&l.xua?{dr:r,ppe:t(x),L6c:m.F$q,oa:u,BZh:"none"}:void 0},{equals:__c.xcr.shallow})}const q=
[["ArrowUp",()=>m.own("prev")],["ArrowDown",()=>m.own("next")],["Escape",()=>{l.Hy?m.TSf():b.wRb("Deselect")}]];a.Ljj=()=>({Qd:()=>!0,Button:(0,__c.qcr)(r=>{const {pAc:t,Sv:u,pressed:w,...x}=r;l.$Bb(w);return mcr(t,{id:"StickyNote",icon:__c.Icr,hb:L("+T7h4A"),pressed:w,onClick:u,...x})}),ma:r=>mcr(p,{oa:r.oa}),NRh:q})};Wps=function(a){return a.raw.length?Vps(a.raw[0]):[]};
Vps=function(a){const b=new Map;return a.map(c=>{if(b.has(c)){var d;const e=((d=b.get(c))!==null&&d!==void 0?d:0)+1;b.set(c,e);c=`${c} (${e})`}b.set(c,0);return c})};Xps=function(a,b,c){switch(b){case "enabled":return{value:a,label:c,disabled:!1};case "disabled":return{value:a,label:c,disabled:!0};case "hidden":break;default:throw new v(b);}};Yps=function(a){switch(a){case 0:return"image";case 1:return"proto";case 2:return"text";case 3:return"content";default:throw new v(a);}};
Zps=function(a){var b=new Uint16Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint8Array(b.buffer);b="";for(c=0;c<a.byteLength;c++)b+=String.fromCharCode(a[c]);return btoa(b)};$ps=function(a,{html:b},c){if(!b||!a.Gae(b).body.innerText.trim().length){b=[];for(const e of c||[])a.H7.images.includes(e.type)&&(c=e.getAsFile())&&b.push(c);if(b.length>0){var d;return{type:0,file:(d=b.find(e=>e.type!=="image/svg+xml"))!==null&&d!==void 0?d:b[0]}}}};
aqs=function(a){return(new DOMParser).parseFromString(a,"text/html")};bqs=function(a){a=atob(a);var b=new Uint8Array(a.length);for(var c=0;c<b.length;c++)b[c]=a.charCodeAt(c);a=new Uint16Array(b.buffer);b="";for(c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b};dqs=function(a,b){if(!__c.Kv(a.iJa,b))return cqs(b.ia)};eqs=function(a,b){if(!__c.Xqb(a.iJa,b)){a=b.ia;if(a.image.ref)return cqs(a.image.ref);if(a.video.ref)return cqs(a.video.ref)}};
cqs=function(a){return{get:()=>a.xa,set:b=>{a.xa=b}}};
jqs=function({Ll:a,MT:b,Ykd:c}){const d=g=>a?dV(fqs,{...g,...gqs,Ll:a}):null,e=g=>b?dV(hqs,{...g,...gqs,MT:b}):null,f=g=>c?dV(iqs,{...g,...gqs,Ykd:c}):null;return({u6:g})=>{switch(g.type){case "element":case "grid_element":case "shape_element":case "table_element":return dV(d,{element:g.element,page:g.page});case "fixed_page":return dV(e,{page:g.page});case "item":return dV(f,{item:g.item,context:g.context});case "table_item":const h=g.item,k=g.context;if(g.inner&&g.inner.item){const l=g.inner.rb;
return dV(f,{item:g.inner.item,context:__c.Cf(k.Fw(h),l)})}return dV(f,{item:h,context:k});case "body":case "responsive_page":case "computed_range":break;default:throw new v(g);}}};kqs=function(a){return sf({category_name:a.tP,issue_count:a.NXb,skip_rule:a.RNs})};lqs=function(a){return sf({category_name:a.tP,rule_name:a.e_e,card_position:a.Pif})};
nqs=function(a){if(a.store.layout===2){var b,c;const d=a.views.Category,e=a.views.qAh;mqs.includes(a.fNe.view)&&((b=a.navigation.screen)===null||b===void 0?void 0:b.df)!==d?a.tjg.Kjg():a.fNe.view==="issue"&&((c=a.navigation.screen)===null||c===void 0?void 0:c.df)!==e&&a.tjg.Nkm()}};
oqs=function(a){a.vlq=eV(()=>a.fNe.view,b=>{var c,d,e;const f=a.views.Category,g=a.views.qAh,h=a.views.IPd;if(((c=a.navigation.screen)===null||c===void 0?void 0:c.df)!==f&&mqs.includes(b)){var k,l;((k=a.navigation.screen)===null||k===void 0?void 0:k.df)===g&&a.navigation.goBack();((l=a.navigation.screen)===null||l===void 0?void 0:l.df)!==f&&a.store.layout===2&&a.navigation.Xg({df:a.views.Category,options:a.mti,qb:a.m0d.Ffj})}else if(((d=a.navigation.screen)===null||d===void 0?void 0:d.df)!==g&&b===
"issue")a.n3g();else if(((e=a.navigation.screen)===null||e===void 0?void 0:e.df)!==h&&b==="home"){var m,p,q;((m=a.navigation.screen)===null||m===void 0?void 0:m.df)===g&&a.navigation.goBack();((p=a.navigation.screen)===null||p===void 0?void 0:p.df)===f&&a.navigation.goBack();((q=a.navigation.screen)===null||q===void 0?void 0:q.df)!==h&&(a.navigation.clear(),a.store.layout===2&&a.navigation.Xg({df:a.views.IPd,options:a.mti}))}})};
pqs=function(a){a.tAm=eV(()=>a.store.layout,b=>{b===1?(a.lD(),setTimeout(a.jC,300)):a.nmh()})};qqs=function(a){a.nlq=eV(()=>a.skeleton.Cx,(b,c)=>{c===a.views.qej&&b!==c&&a.nmh()})};sqs=function(a,b){a.P.track(rqs,{$F:a.store.$F,...b})};uqs=function(a,b){a.P.track(tqs,{$F:a.store.$F,...b})};
Fqs=function(a,b,c,d,e,f,g,h,k,l,m,p,q){const r=new __c.i8d,t=fV(()=>b.aie),u=new vqs(d),w=new wqs(u,b,r,e,a,c,t,f),x=M=>({tP:M.category,e_e:M.rule,Pif:b.YKb.findIndex(S=>S===M)}),y=M=>(M=M!==null&&M!==void 0?M:b.EU)?x(M):void 0,z=M=>S=>{sqs(w,{Dv:"unresolved",cgb:"undo_button_clicked",RDf:{tP:S.category,e_e:S.rule,Pif:M}})},A=gV(M=>{const S=x(M);sqs(w,{Dv:"resolved",cgb:"resolve_button_clicked",RDf:S});a.s3n(M,z(S===null||S===void 0?void 0:S.Pif))}),B=gV(M=>{M.checked=!M.checked;const S=x(M);sqs(w,
{Dv:M.checked?"checkbox_checked":"checkbox_unchecked",cgb:"checkbox_clicked",RDf:S})}),D=gV(()=>{const M=Sb();a.ULi(S=>{uqs(w,{Nem:M,Dv:"resolved",cgb:"multi_select_resolve_button_clicked",Qhn:S.map(x)})},S=>{uqs(w,{Nem:M,Dv:"unresolved",cgb:"multi_select_undo_button_clicked",Qhn:Array.from(S).map(([Q,W])=>({tP:W.category,e_e:W.rule,Pif:Q}))})})}),G=gV(M=>{b.view==="issue"&&a.LId(M||"home")}),I=jqs({Ll:h,MT:k,Ykd:l}),K=fV(()=>{const M=hV((W,X=!1)=>{b.EU!==W?(a.yib(W,X),sqs(w,{Dv:"selected",cgb:"card_clicked",
RDf:y(W)})):X&&a.LId("issue")},[]),S=hV(()=>{a.Kjg();w.Qie({C4f:b.view})},[]),Q=hV(W=>{M(W,!0);w.Qie({C4f:"issue",cgb:"resolve_button_clicked",oAf:y(W)})},[M]);return dV(xqs,{n3g:Q,AHh:b.AHh,sli:b.sli,EU:b.EU,xvl:p&&b.iUd==="resolving",TQb:I,WXk:M,FUk:B,VTk:A,V3r:S,zYd:q})});c=fV(()=>{const M=hV(S=>{a.LId(S);w.Qie({cgb:"card_clicked",tS:"category_page",C4f:b.view,oAf:y()})},[]);return dV(yqs,{va:u.va,WCc:b.WCc,XCc:b.XCc,N$a:M,AUl:dV(zqs,{X1h:m})})});d=fV(()=>{iV(()=>()=>nqs(w),[]);return dV(Aqs,{rAh:K})});
e=fV(()=>{iV(()=>()=>nqs(w),[]);return b.EU?dV(Bqs,{YVc:g,TQb:I,yE:b.EU,PPh:G,$F:u.$F,zYd:q}):null});const N=fV(()=>dV(Cqs,{Isi:b.Isi,ULi:D,T0s:b.POh.length,layout:u.layout}));f=fV(()=>{const M=jV(null),S=hV(ba=>{ba.stopPropagation()},[]);iV(()=>{const ba=M.current;ba===null||ba===void 0||ba.addEventListener("focusout",S);return()=>{ba===null||ba===void 0||ba.removeEventListener("focusout",S)}},[M,S]);const Q=hV(ba=>{a.LId(ba);w.Qie({cgb:"card_clicked",tS:"category_page",C4f:b.view,oAf:y()})},[]),
W=hV(()=>{var ba;(ba=M.current)===null||ba===void 0||ba.focus();b.view==="issue"&&b.EU?a.LId(b.EU.category):a.Kjg();w.Qie({cgb:"back_button_clicked",C4f:b.view,oAf:y()})},[]),X=hV(()=>{w.nmh();w.L7e("close_button_clicked")},[]);return kV("div",{className:"_758flQ",ref:M,tabIndex:-1,children:[dV("div",{className:"zO2oIQ",children:dV(Dqs,{title:b.aie,Oo:W,KV:X,Rib:b.view!=="home"})}),dV("div",{className:"VmJ8yg",children:dV(Eqs,{va:u.va,view:b.view,WCc:b.WCc,XCc:b.XCc,N$a:Q,PPh:G,rAh:K,Ffj:N,EU:b.EU,
YVc:g,TQb:I,$F:u.$F,zYd:q,X1h:m})})]})});u.Tko(f,c,d,e);u.Seo(N);return{wia:w,navigation:r}};Gqs=function(a){var b,c;a.Kjg();(b=a.Y8e)===null||b===void 0||b.call(a);a.Y8e=void 0;(c=a.dJe)===null||c===void 0||c.call(a);a.dJe=void 0;a.Juo()};Hqs=function(a){a.dJe||a.q9j||a.Vbh||(a.hyl(),a.Nto())};Iqs=function(a,b){a.da.document.Ja==="fixed"&&(a.store.n8m=a.da.document.pages.count());a.Y8e=eV(()=>b.Mx,c=>{a.U2f(c,b.Rvk)},{fireImmediately:!0,delay:300})};
Lqs=function(a,b,c=!1){const d=b.u6;a.store.aPi=b;let e;a.da.document.Ja!=="responsive"&&(e=a.viewport.ya);Jqs(a,d).then(()=>a.cJk(d,e)).catch(f=>a.errorService.pa(f,{Ka:"accessibilityCheckerPresenter.selectCheckable: "})).finally(gV(()=>{const f=a.store.aPi;f&&(f.equals(b)?(Kqs(a,d),b.selected=!0,a.store.aPi=void 0):a.store.Mx.find(g=>g.equals(f))||(a.store.aPi=void 0))})).finally(()=>{var f;c&&((f=a.store.EU)===null||f===void 0?0:f.equals(b))&&a.LId("issue")})};
Mqs=function(a,b){b.WXn||b.state!=="resolved"||(b.WXn=!0,setTimeout(gV(()=>{if(b.state==="resolved"){const c=a.store.Mx,d=c.indexOf(b);d>=0&&c.splice(d,1)}}),a.store.view==="home"?0:1E3))};Nqs=function(a){a.store.POh.forEach(b=>b.checked=!1)};Oqs=function(a,b){return!!a.store.YKb.find(({u6:c})=>c.target===b)};
Pqs=function(a,b,c){switch(b.type){case "body":case "responsive-page":return a.store.YKb.find(({u6:d})=>{var e,f;if((e=d.mD)===null||e===void 0||!e.range||!c||"page"in b&&((f=d.page)===null||f===void 0?void 0:f.ia)!==b.page)return!1;({cCe:d}=a.Xa.Jma(b.text,c,d.mD.range));return d});case "table-item-cell":return a.store.YKb.find(({u6:d})=>{var e,f;return d.type==="table_item"&&((e=d.inner)===null||e===void 0?void 0:e.rb)===b.rb&&!((f=d.inner)===null||f===void 0?0:f.item)});case "layout-item-cell":case "sheet-item-cell-richtext":break;
default:throw new v(b);}};Qqs=async function(a,b,c){var d;if(b.type!=="body"&&b.type!=="responsive_page"){var e=a.yka(b),f=a.viewport.scrollingContainer;if(e&&f){var g=f.scrollHeight;e=e.tl.y;var h=f.scrollTop;f=f.clientHeight;if(!(Math.abs(Math.ceil(h)-Math.ceil(e))<2||h<e&&h+f>=g))return b=(c?c===((d=b.page)===null||d===void 0?void 0:d.ia):1)&&!__c.Zm()?"smooth":"auto",a.viewport.noa(e,b)}}};
Rqs=async function(a,b,c){var d=b.context;b=b.page;if(d.type!=="fixed-document"&&a.viewport.sQ&&(d=__c.yf(d),d.type==="concatenated-fixed-page"&&d.pages.first()!==b.ia&&c!==d.ia))return a.viewport.EG(d.tb(b.ia))};
Jqs=async function(a,b){const c=b.page;if(c&&c.ia!==a.viewport.mh.ia&&a.da.document.Ja!=="responsive"&&(c.type!=="fixed-page"||c.container.type!=="design-item"))return b=__c.yf(c),a.viewport.EG(c,a.viewport.jh&&a.viewport.sQ&&((b===null||b===void 0?void 0:b.type)!=="concatenated-fixed-page"||(b===null||b===void 0?void 0:b.ia)!==a.viewport.ya)||__c.Zm()?void 0:{animate:{from:a.viewport.mh}}),Sqs(()=>c.ia.type==="responsive"?a.viewport.wP!=null:a.viewport.jh,{timeout:300})};
Kqs=function(a,b){switch(b.type){case "element":case "grid_element":case "shape_element":case "table_element":var c=b.group,d=b.element;const e=b.context,f=b.type;b=b.inner;if(c)ta(__c.Doe(d)),e.type==="group-element"?a.selection.Il(e,d):(ta(e.type!=="chart-element"&&e.type!=="layout-element-cell"&&e.type!=="controlled-element"),a.selection.Il(e.Sf(c),d));else if(b)switch(f){case "grid_element":a.selection.URc(e.Sf(d),b);break;case "shape_element":a.selection.jee(e.Sf(d),b);break;case "table_element":a.selection.OOa(e.Sf(d),
b,[b]);break;default:throw new v(f);}else e.type!=="chart-element"?a.selection.Il(e,d):a.selection.Il(e.container,e.Yb);break;case "fixed_page":c=b.context;b=b.page;pa(c.type!=="design-item");a.selection.DU(c,b.ia);break;case "responsive_page":a.Xa.Ru(b.context.tb(b.target).text);break;case "body":a.Xa.Ru(__c.Bf(b.context,b.target).text);break;case "item":case "table_item":c=b.context;d=b.item;(b=b.inner)?b.item?a.Xa.Uv(b.rb.content.text,b.item):a.Xa.Qrb(c.text,d,[b.rb]):a.Xa.Uv(c.text,d);break;case "computed_range":a.Xa.Ru(b.context.text,
b.mD.range);break;default:throw new v(b);}};Tqs=function(a,b){var c;const d=a.store.EU;a=a.store.YKb.find(({u6:g})=>{var h;return g.element?g.element===b:((h=g.page)===null||h===void 0?void 0:h.ia)===b});var e;const f=d?(e=d.u6.element)!==null&&e!==void 0?e:(c=d.u6.page)===null||c===void 0?void 0:c.ia:void 0;return a?{Cld:f===b,type:"warning"}:void 0};
Uqs=function(a){a.q9j=eV(()=>{var b,c,d;return{inner:(b=a.selection.La)===null||b===void 0?void 0:b.inner,zg:(c=a.selection.La)===null||c===void 0?void 0:c.zg,Yz:(d=a.selection.La)===null||d===void 0?void 0:d.Yz}},({inner:b,zg:c,Yz:d})=>{let e;if(c){switch(c.type){case "grid":(b=(b===null||b===void 0?void 0:b.type)==="grid"?b.Nd:void 0)&&Oqs(a,b)&&(e=b);break;case "shape":b=(b===null||b===void 0?void 0:b.type)==="shape"?b.Nd:void 0;var f=c.paths.filter(g=>g.fill.dropTarget===!0);(f=f.length===1?f[0]:
void 0)&&Oqs(a,f)?e=f:b&&Oqs(a,b)&&(e=b);break;case "table":(b=(b===null||b===void 0?void 0:b.type)==="table"?b.Nd:void 0)&&Oqs(a,b)&&(e=b);break;case "group":(b=(b===null||b===void 0?void 0:b.type)==="group"?b.nb.at(0):void 0)&&Oqs(a,b)&&(e=b);break;case "layout":d=(b===null||b===void 0?void 0:b.type)==="layout"?(f=b.Nd)===null||f===void 0?void 0:f.element:void 0;(d=(b===null||b===void 0?void 0:b.type)==="layout-cell"?b.Nd:void 0)&&Oqs(a,d)&&(e=d);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "controlled":break;
default:throw new v(c);}e||(e=c)}else d&&d.type==="fixed-page"&&(e=d.ia);a.qOi(e)})};
Vqs=function(a){a.Vbh=a.Xa.VTe(()=>{const b=a.selection.Jb;if(!b)return!1;var c=b.type;const d=b.container,e=a.store.YKb,f=a.store.EU;let g;switch(c){case 0:({range:c}=a.Xa.cmb(d.text,b.range));g=Pqs(a,d,c);break;case 2:g=e.find(({u6:h})=>{var k,l;return h.type==="table_item"&&((k=h.inner)===null||k===void 0?void 0:k.rb)===b.only&&!((l=h.inner)===null||l===void 0?0:l.item)});break;case 1:g=e.find(({u6:h})=>{var k;return h.type==="table_item"&&((k=h.inner)===null||k===void 0?0:k.item)?h.inner.item===
b.only:h.item===b.only});break;case 3:case 4:case 5:break;default:throw new v(c);}g&&g!==f&&a.qOi(g.target);g||a.qOi(void 0)},{fireImmediately:!1})};
Wqs=function(a,b,c,d,e,f,g){const h=gV(()=>{b.layout===2&&(a.nmh(),a.L7e())}),k={Button:fV(({NE:p,onClick:q,oa:r})=>{const t=hV(()=>{q===null||q===void 0||q();r&&b.layout===1&&r();l("file_menu")},[q,r]);return dV(p,{onClick:t,dB:a.sjg,Rhc:b.layout===2?wr:void 0,children:L("i3xHIg")})}),navigation:b.layout===2?d:void 0,onClose:h},l=p=>{b.layout===1?(a.P_s(),a.sjg?a.KMd(p):a.L7e("view_settings_menu_toggled")):(!c.f5&&k&&c.Ctc(k),a.Wxl(),a.KMd(p))};let m=g;c.Lu(()=>({Ji:f.mode>=30,ii:b.layout===2}),
({iM:p},{Ji:q,ii:r})=>{p&&(k.navigation=r?d:void 0,q=q?k:void 0,p.i8i=q,m&&(q&&r&&c.Ctc(q),a.Wxl(),m=!1))},{equals:lV.structural});e===null||e===void 0||e.install({key:"accessibility-checker",type:"simple",name:L("DJFkPQ"),Icon:RAj,aliases:[L("v25ELQ"),L("8YeK6A"),L("RsRlBQ"),L("/hr0NQ"),L("A9rBrQ")],execute:async()=>{l("quick_actions")}})};
Yqs=function(a){switch(a.type){case "element":return Xqs(a);case "fixed_page":return{type:"fixed_page",context:a.context,target:a.page,page:a.context.tb(a.page)};case "computed_range":var b=a.mD,c=a.context;return{type:"computed_range",target:b,context:c,page:c.type==="responsive-page"?c:void 0,mD:b};case "item":c=a.item;const d=a.inner;a=a.context;const e=a.type==="responsive-page"?a:void 0;if(c.type==="table"){const f=d===null||d===void 0?void 0:d.rb,g=d===null||d===void 0?void 0:d.item;return{type:"table_item",
target:(b=g!==null&&g!==void 0?g:f)!==null&&b!==void 0?b:c,page:e,context:a,item:c,inner:d}}return{type:"item",target:c,context:a,page:e,item:c};case "responsive_page":return b=a.context,c=a.body,{type:"responsive_page",target:c,context:b,page:b.tb(c)};case "body":return{type:"body",target:a.body,context:a.context};case "table_cell":throw Error("Use LintableItem (with a LintableItemInner) instead of LintableTableCell");default:throw new v(a);}};
Xqs=function(a){const b=a.element,c=a.context,d=a.inner,e=a.page;a=a.parent;switch(b.type){case "rect":case "line":case "chart":case "text":case "embed":case "group":case "controlled":case "sheet":return{type:"element",context:c,target:b,page:e,group:a,element:b};case "grid":let f;(d===null||d===void 0?void 0:d.type)==="grid"&&(f=d.rb);ta(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"grid_element",context:c,target:f!==null&&f!==void 0?f:b,page:e,element:b,inner:f};case "shape":let g;
(d===null||d===void 0?void 0:d.type)==="shape"&&(g=d.path);return{type:"shape_element",context:c,target:g!==null&&g!==void 0?g:b,page:e,group:a,element:b,inner:g};case "table":let h;(d===null||d===void 0?void 0:d.type)==="table"&&(h=d.rb);ta(c.type!=="layout-element-cell"&&c.type!=="chart-element");return{type:"table_element",context:c,target:h!==null&&h!==void 0?h:b,page:e,element:b,inner:h};case "layout":return __c.uo("FixedDesignLinterAdapter",{type:"element",context:c,target:b,page:e,group:a,
element:b});default:throw new v(b);}};
frs=function(a){var b=a.Qq;const c=a.g3g,d=a.F2c,e=a.Ma,f=a.Ec,g=a.da;var h=a.la;const k=a.P,l=a.ka,m=a.Xd,p=a.OIa,q=a.ea.errorService,r=a.viewport,t=a.Zaa,u=a.Ja,w=a.YVc,x=a.we,y=a.selection,z=a.Xa,A=a.fd;let B,D,G,I,K;const N=()=>{W.Qie({cgb:B.K5d,C4f:B.view,tS:"category_page",oAf:B.EU?{tP:B.EU.category,e_e:B.EU.rule,Pif:B.YKb.findIndex(ba=>ba===B.EU)}:void 0})},M=()=>{sqs(W,{Dv:"selected",cgb:B.K5d,RDf:B.EU?{tP:B.EU.category,e_e:B.EU.rule,Pif:B.YKb.findIndex(ba=>ba===B.EU)}:void 0})},S=u==="fixed"||
a.Qrf;switch(u){case "fixed":var Q=a.Kug;K=mV(()=>!Zqs.uZd&&!!g.document.pages.some(ba=>ba.type==="responsive"));D=a.Ll;G=a.MT;B=a=new $qs(d);b=new ars(b,t,d,Q,Zqs.uZd,g.document,z);h=new brs(a,p,g,y,r,h,z,A,q,Zqs.uZd,N,M);break;case "responsive":S&&(I=a.Ykd);K=mV(()=>!1);B=Q=new crs(d);b=new drs(b,t,d,!1,!1,g.document,z);h=new ers(Q,p,g,y,r,h,z,A,q,!1,N,M);break;default:throw new v(u);}const {wia:W,navigation:X}=Fqs(h,B,b,l,f,k,w,D,G,I,K,u==="responsive"||Zqs.uZd,S);Wqs(W,l,m,X,x,e,c)};
jrs=function(a){const b=a.store,c=a.L;if(!b||!c)return{MYl:void 0};const d=b.Dh,e=f=>d==null?null:dV(grs,{Sze:f.Sze,page:d,selected:f.mc,FQr:c.TDn,JKf:c.JKf,T9d:c.T9d,Ll:a.Ll});return{MYl:fV(()=>{var f=b.v_h;const g=b.vm,h=b.RMe,k=b.U7c,l=b.X7c;return h||k?h?d!=null&&f.length>0?dV(irs,{v_h:f,vm:g,w2o:e}):dV(hrs,{title:L("63v7ew"),content:L("mCxSxg")}):(f=l?L("FqeC2Q"):L("jQRKWA"),dV(hrs,{title:f,content:L("CBxIHQ")})):(requestAnimationFrame(()=>{c.OGn()}),null)})}};
nrs=function({Ma:a,selection:b,viewport:c,Xd:d,nn:e,ka:f,Fd:g,Ll:h,M6e:k}){if(k){var l={ma:()=>dV(hrs,{title:L("dhOFpQ"),content:""}),header:{title:L("v5miQg")}},m=new krs(c,b,g),p=new lrs(m,b,f,e,l,k),{MYl:q}=jrs({store:m,L:p,Ll:h});l.ma=()=>q?dV(q,{}):null;d.Lu(()=>a.mode>=30&&m.RMe&&f.layout===1,({iM:r},t)=>{r&&(r.j8i=t?{Button:u=>dV(mrs,{...u,MKf:p.MKf})}:void 0)})}};
rrs=function(a){const b=a.JF.Xdd;a.P.track(ors,{$F:a.JF.A0c,Xue:a.JF.lwe,elementType:a.JF.wog,Crk:a.JO.text.length,nMe:a.JF.vog,mediaType:prs(b),resourceId:qrs(b)})};srs=function(a){var b;const c=a.JF.Wva;a.JF.Yqd&&(a.Vag=a.iJb.fD([a.ztn]));c&&(a.Vag=(b=a.Uf)===null||b===void 0?void 0:__c.qMg(b,a.fill));return a.Vag};
wrs=function(a,b,c,d){const e=fV(()=>{iV(()=>{const g=d.Roi&&srs(c);return()=>{g===null||g===void 0||g.then(({dispose:h})=>h())}},[]);return d.Roi?dV(trs,{magic:d.Roi,onClick:c.fRq}):null}),f=__c.pw(urs,{V:a.V,lu:"alt_text_form"});return fV(g=>{const [h]=nV(()=>g.kb?(b.kb=g.kb,vrs(a,g.kb)):a.Y5r);return dV(f,{Hoh:d.Hoh,TVh:d.TVh,nhp:e,xvc:d.xvc,placeholder:b.placeholder,Ina:c.setText,Vwi:c.sQi,onSubmit:c.xX,Rc:()=>{c.onFormOpen(g.$F)},...g,ki:()=>{var k;const l=a.dFh.sb("close_alt_text_view",{Fb:{name:"editor.editing.alt_text.close_alt_text_view",
type:b.Wch?"save":"without_saving"}});(k=g.ki)===null||k===void 0||k.call(g);c.onFormClose(g.$F);l.end()},Qf:{ua:h,h$:!0}})})};xrs=function(a,b){a.text=b;a.Kfa=b;a.state="magic_success"};yrs=function(a){a.state="magic_error";n(a.xAc).yTj=!0};vrs=function(a,b){var c;return(c=a.Cnj)!==null&&c!==void 0&&c.isRecording()?a.Cnj:(b=a.dFh.sb("open_alt_text_view",{Fb:{name:"editor.editing.alt_text.open_alt_text_view",type:b}}),a.Cnj=b)};
Grs=function(a){var b=a.H2;const c=a.Ja,d=a.selection,e=a.kh,f=a.Cd,g=a.ka;var h=a.la;const k=a.P,l=a.Pa,m=a.Aw,p=a.gW,q=a.$b,r=a.undo;var t=a.ea;const u=t.Ufa,w=t.errorService,x=t.yb,y=t.ob;t=a.we;var z=a.O2c;const A=a.I$d,B=new zrs(a.Ga);z=new Ars(()=>x===null||x===void 0?void 0:x.IV({jV:__c.Sv({appName:"Alt Text Suggestions"})},{target:"_blank"}),()=>y===null||y===void 0?void 0:y.Xs(new __c.Bk({uri:"https://canva.ui-app.dev/policies/ai-safety/",target:1})),z);const D=new Brs(d,b,l,q);b=new __c.TMg([new __c.NMg(l),
new __c.OMg(l,m),new __c.PMg(l,p),new __c.QMg(q),new __c.RMg],__c.KLg(l),w,__c.VMg.lij);switch(c){case "fixed":a=n(a.UHb.RN)({type:"custom_thumbnail",H3a:64E4});h=new Crs(D,z,u,h,r,k,B,w,b,a);break;case "responsive":h=new Crs(D,z,u,h,r,k,B,w,b);break;default:throw new v(c);}const G=wrs(B,D,h,z),I=fV(M=>dV(Drs,{Oe:M.Oe,children:dV(G,{...M})}));e.kc(()=>({$ed:D.Ahg,layout:g.layout}),(M,{$ed:S,layout:Q})=>{M.Ahc=S?{Button:W=>{const X=hV(()=>{var ba;D.kb="contextual_menu";vrs(B,"contextual_menu");Q===
2?(ba=W.Ng)===null||ba===void 0||ba.Xg({df:I,options:{rg:()=>L("2kDi/A")}}):D.NFb&&e.M5(D.NFb)},[W.Ng]);return dV(Ers,{...W,onClick:X})},ma:I}:void 0;D.NFb=M.Ahc;A&&Q===1&&D.NFb&&e.M5(D.NFb)},{equals:lV.structural,zYn:!0});const K=new __c.Yx,N=()=>K.Xg({df:I,options:{rg:()=>L("2kDi/A")}});f.plugins.Ahc=()=>({Qd:()=>D.Ahg,Button:M=>{const S=M.onClick,Q=hV(()=>{S&&S();N()},[S]);return dV(Frs,{...M,onClick:Q})},navigation:K});t===null||t===void 0||t.ym(()=>!!D.NFb&&D.Ahg&&g.layout!==2&&D.YAj,{type:"simple",
key:"alt-text",name:L("2kDi/A"),Icon:RAj,aliases:[L("L4kqUg"),L("IMUp/A"),L("42FIOw"),L("TqUHjA"),L("F7VHdQ")],execute:async()=>{ta(!!D.NFb&&D.Ahg&&D.YAj);D.kb="quick_action";vrs(B,"quick_action");D.NFb&&e.M5(D.NFb)}});return{YVc:G}};Hrs=function(){throw Error("Semantics text attribute not supported in Sheets");};Irs=function(a,b){var c,d;return(d=(c=__c.zB(a,b))===null||c===void 0?void 0:c.FH)!==null&&d!==void 0?d:[]};
Mrs=function(a){if(a.Ja==="responsive")return{M6e:void 0};var b=a.Fd;a=new Jrs(a.jc);b=new Krs(a,b);return{M6e:new Lrs(a,b)}};
Ors=function({z4:a,activeIndex:b,Zaf:c,Jle:d,hasError:e,id:f,va:g,IK:h,pPk:k,onClick:l,options:m,setActive:p,spacing:q,Bua:r,CGa:t}){if(!g&&e)return dV(R,{padding:"2u",children:dV(P,{alignment:"center",children:L("cXUN2w")})});e=__c.Nl(m,Number(h));var u;f=g&&d?dV(Nrs,{Jle:d,qt:k,IK:h,spacing:q,Bua:r,CGa:t}):dV(R,{id:f,role:"grid",children:dV(Uc,{spacing:(u=t!==null&&t!==void 0?t:q)!==null&&u!==void 0?u:"1u",children:e.map((w,x)=>dV(kr,{columns:h,role:"row",spacing:q,Bua:r,CGa:t,children:w.map((y,
z)=>{const A=Number(h)*x+z;z=A===b;return dV("div",{id:z?a:void 0,onClick:()=>l(A),onMouseEnter:()=>p(A),role:"gridcell",children:dV(c,{active:z,option:y})},A)})},x))})});return dV(R,{padding:"2u",children:dV(__c.Fu,{keyFrame:g&&d?0:1,direction:"replace",children:f})})};Prs=function(a,b){b<0||b>=a.store.options.length||(a.store.activeIndex=b)};
Srs=function({Zaf:a,Jle:b,onSelect:c,IK:d,pPk:e,options:f}){const g=new Qrs(d,f),h=new Rrs(g,c),k=gV(m=>{Prs(h,m)}),l=gV(m=>{var p;if(m=h.store.options[m])(p=h.onSelect)===null||p===void 0||p.call(h,m)});return{dPh:()=>{h.store.activeIndex=-1},wAh:fV(m=>dV(Ors,{activeIndex:g.activeIndex,Zaf:a,Jle:b,IK:d,pPk:e,onClick:l,options:f.get(),setActive:k,...m})),onKeyDown:m=>{h.onKeyDown(m.key)}}};
Vrs=function({Qe:a,we:b,Y1h:c}){if(a&&b&&c){var {dPh:d,wAh:e,onKeyDown:f}=Srs({Zaf:Trs,Jle:Urs,IK:3,onSelect:async()=>{a.JJ({});a.close({trigger:"insert"})},options:mV(()=>[])});b.ym(()=>!0,{type:"simple",key:"cover",name:L("3SRQvA"),Icon:__c.War,tI:!1,execute:async()=>{d();a.push({Faa:mV(()=>({IQ:a.z4,uQa:"none",ariaExpanded:!1,ariaHasPopup:"grid"})),D8:{defaultValue:L("L2Fjrg"),ZBa:!0},Component:fV(({SAb:g})=>dV(e,{z4:a.z4,hasError:!1,id:g,va:!1,Bua:"1.5u",CGa:"1u"})),onKeyDown:gV(g=>{f(g);return!1})})}})}};
Yrs=function({oK:a,Qe:b,we:c}){const d=new Wrs,e=(g,h)=>b.b6a({sue:!0,A_c:g,kb:h}),f=async(g,h)=>{ta(d.status!=="loading");try{oV(()=>d.status="loading"),b.JJ({}),await a(g),e(!0,h),b.close({trigger:"insert"}),oV(()=>d.status="none")}catch(k){e(!1,h),oV(()=>d.status="error")}};c.install({type:"simple",key:"embed",name:L("pwHv5A"),Icon:__c.SXi,tI:!1,execute:async()=>{b.push({Component:fV(()=>d.status==="error"?dV(Xrs,{}):null),Faa:mV(()=>({ariaExpanded:d.status==="error",uQa:"none"})),qbe:{show:mV(()=>
d.status==="error")},D8:{loading:mV(()=>d.status==="loading"),defaultValue:"",placeholder:L("w4sSag")},oZb:gV(()=>{d.status==="error"&&(d.status="none")}),onKeyDown:g=>{const h=b.query;g.key==="Enter"&&h.length&&d.status!=="loading"&&f(h,"keyboard");return!1}})}})};
Zrs=function({oc:a,Qe:b,we:c,toolbar:d,Xr:e}){const f=async(g,h)=>{var k;b.JJ({});b.close({trigger:"insert"});await ((k=a.vcg)===null||k===void 0?void 0:k.call(a,g,{Wc:"quick_actions"},void 0,`static-${h}`));d.DJa()};c.install({type:"simple",key:"poll",name:L("8GP/2A"),Icon:__c.YQo,execute:async()=>f(__c.Zos(e.WT,"poll"),"poll")});c.install({type:"simple",key:"quiz",name:L("qO376Q"),Icon:__c.$Qo,execute:async()=>f(__c.Zos(e.WT,"quiz"),"quiz")})};
pV=function(a,b){return a.Cmh.get(`#${b.id.toLowerCase()}`)||a.Cmh.get(`.${b.className.toLowerCase()}`)||b.className.toLowerCase().split(" ").map(c=>a.Cmh.get(`.${c}`)).find(c=>!!c)||a.Cmh.get(b.tagName.toLowerCase())||a.Cmh.get(`${b.tagName.toLowerCase()}.${b.className}`)};
$rs=function(a){a=qV(a);var b;a:{if(a.length&&a!=="initial"&&(b=document.createElement("canvas").getContext("2d"))){b.fillStyle=a;b=b.fillStyle;break a}b=void 0}a=b||a;try{try{const {r:d,g:e,b:f,a:g}=__c.$Ia(a);var c=__c.fi(new __c.Xh(Math.floor((1-g)*255+g*d),Math.floor((1-g)*255+g*e),Math.floor((1-g)*255+g*f))).toLowerCase()}catch(d){const {r:e,g:f,b:g}=__c.hi(a);c=__c.fi(new __c.Xh(e,f,g)).toLowerCase()}return c}catch(d){}};
ass=function(a,b){var c,d;const e=b.style.backgroundColor||((c=pV(a,b))===null||c===void 0?void 0:c.backgroundColor)||b.style.background||((d=pV(a,b))===null||d===void 0?void 0:d.background);if(e&&e!=="transparent")return $rs(e)};bss=function(a,b){var c,d;const e=b.style.borderLeftColor||((c=pV(a,b))===null||c===void 0?void 0:c.borderLeftColor)||b.style.borderInlineStartColor||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineStartColor);if(e)return $rs(e)};
css=function(a,b){var c,d;const e=b.style.borderRightColor||((c=pV(a,b))===null||c===void 0?void 0:c.borderRightColor)||b.style.borderInlineEndColor||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineEndColor);if(e)return $rs(e)};dss=function(a,b){var c;if(a=b.style.color||((c=pV(a,b))===null||c===void 0?void 0:c.color))return $rs(a)};
fss=function(a,b){var c,d;const e=b.style.borderLeftWidth||((c=pV(a,b))===null||c===void 0?void 0:c.borderLeftWidth)||b.style.borderInlineStartWidth||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineStartWidth);if(e)return ess(qV(e))};gss=function(a,b){var c,d;const e=b.style.borderRightWidth||((c=pV(a,b))===null||c===void 0?void 0:c.borderRightWidth)||b.style.borderInlineEndWidth||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineEndWidth);if(e)return ess(qV(e))};hss=function(a){a=qV(a);switch(a){case "solid":case "dotted":case "dashed":return a}};
iss=function(a,b){var c,d;const e=b.style.borderLeftStyle||((c=pV(a,b))===null||c===void 0?void 0:c.borderLeftStyle)||b.style.borderInlineStartStyle||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineStartStyle);if(e)return hss(e)};jss=function(a,b){var c,d;const e=b.style.borderRightStyle||((c=pV(a,b))===null||c===void 0?void 0:c.borderRightStyle)||b.style.borderInlineEndStyle||((d=pV(a,b))===null||d===void 0?void 0:d.borderInlineEndStyle);if(e)return hss(e)};
kss=function(a,b){var c;if(a=b.style.fontSize||((c=pV(a,b))===null||c===void 0?void 0:c.fontSize))return c=ess(qV(a)),c!=null&&c>0?c:void 0};lss=function(a,b){var c;if(a=b.style.fontWeight||((c=pV(a,b))===null||c===void 0?void 0:c.fontWeight)){c=qV(a);switch(c){case "normal":case "bold":return c}c=parseInt(c,10);if(!isNaN(c))return __c.gOh.getStyle(c)}};
mss=function(a,b,c){var d;if(a=b.style.textAlign||((d=pV(a,b))===null||d===void 0?void 0:d.textAlign))switch(d=qV(a),d){case "start":case "center":case "end":case "justify":return d;case "left":return c==="rtl"?"end":"start";case "right":return c==="rtl"?"start":"end"}};nss=function(a){let b=0;for(a=a.parentElement;a!=null;)["OL","UL"].includes(a.tagName)&&(b=Math.min(8,b+1)),a=a.parentElement;return b<=0?void 0:b};
oss=function(a){var b;a:{for(b=a;b!=null;){if(b.tagName==="LI")break a;b=b.parentElement}b=void 0}switch(b===null||b===void 0?void 0:b.getAttribute("role")){case "checkbox":return(b===null||b===void 0?void 0:b.getAttribute("aria-checked"))==="true"?"checked":"unchecked"}a:{for(b=a.parentElement;b!=null;){if(["OL","UL"].includes(b.tagName))break a;b=b.parentElement}b=void 0}const c=a.style.listStyleType||a.style.listStyle||(b===null||b===void 0?void 0:b.style.listStyleType)||(b===null||b===void 0?
void 0:b.style.listStyle);if(c)switch(a=qV(c),a){case "none":case "disc":case "circle":case "square":case "decimal":case "lower-alpha":case "lower-roman":return a}else{if((b===null||b===void 0?void 0:b.tagName)==="OL")return"decimal";if((b===null||b===void 0?void 0:b.tagName)==="UL")switch(nss(a)){case 0:case 1:return"disc";case 2:return"circle";default:return"square"}}};pss=function(a,b){var c;if(a=b.style.fontStyle||((c=pV(a,b))===null||c===void 0?void 0:c.fontStyle))switch(c=qV(a),c){case "normal":case "italic":return c}};
qss=function(a,b){var c;if(a=b.style.textDecoration||((c=pV(a,b))===null||c===void 0?void 0:c.textDecoration)){var d;qV(a).split(" ").forEach(e=>{switch(e){case "none":case "underline":d=e}});return d}};rss=function(a,b){var c;if(a=b.style.textTransform||((c=pV(a,b))===null||c===void 0?void 0:c.textTransform))switch(c=qV(a),c){case "none":case "uppercase":return c}};
sss=function(a,b){var c;if(a=b.style.textDecoration||((c=pV(a,b))===null||c===void 0?void 0:c.textDecoration)){var d;qV(a).split(" ").forEach(e=>{switch(e){case "line-through":d="strikethrough";break;case "none":d="none"}});return d}};tss=function(a,b){var c=(a=b.style.direction||((c=pV(a,b))===null||c===void 0?void 0:c.direction))?qV(a):void 0;switch(c){case "ltr":case "rtl":return c;default:if(b.dir==="ltr"||b.dir==="rtl")return b.dir}};
xss=function(a,b){var c;if(a=b.style.lineHeight||((c=pV(a,b))===null||c===void 0?void 0:c.lineHeight))return c=qV(a),c=uss(c),c!=null?Math.max(vss,Math.min(c,wss)):void 0};Bss=function(a,b){var c;if(a=b.style.letterSpacing||((c=pV(a,b))===null||c===void 0?void 0:c.letterSpacing)){c=qV(a);switch(c){case "normal":return 0}c=c&&c.endsWith("em")?yss(c):void 0;return c!=null?Math.max(zss,Math.min(Ass,c)):void 0}};
Css=function(a){a=a.tagName.toLowerCase();switch(a){case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "p":return a;case "blockquote":case "quote":return"blockquote"}};Dss=function(a,b){var c=(a=b.style.verticalAlign||((c=pV(a,b))===null||c===void 0?void 0:c.verticalAlign))?qV(a):void 0;switch(c){case "super":case "sub":return c}};qV=function(a){for(;Ess.test(a);)a=a.replace(Ess,"$1");return a};yss=function(a){a=parseFloat(a);if(!isNaN(a)&&Number.MIN_SAFE_INTEGER<a&&a<Number.MAX_SAFE_INTEGER)return a};
ess=function(a){if(a){if(a.endsWith("px"))return yss(a);if(a.endsWith("pt")&&(a=yss(a),a!=null))return Math.round(a*4/3*100)/100}};uss=function(a){if(a&&/^\d*\.?\d+$/.test(a))return yss(a)};Hss=function(a,b){let c;try{c=(new DOMParser).parseFromString(b,"text/html")}catch(d){return}b=new Fss(c.getElementsByTagName("style"));a=new Gss(b,a);Mps(c,a);return a.finish()};Iss=function(a){const b=a.BOf.trimEnd(),c=a.BOf.slice(b.length);a.builder.Xb(b);a.BOf=c};
Jss=function(a,b){Iss(a);Object.assign(a.Rtm,b);a.builder.attrs(b)};Kss=function(a,b){a.BOf+=b.replace(/\u00a0/g," ")};Mss=function(a,b){const c={...Lss.get(b.tagName)};var d=lss(a.nfa,b);d&&(c.fontWeight=d);(d=pss(a.nfa,b))&&(c.fontStyle=d);(d=dss(a.nfa,b))&&(c.color=d);(d=qss(a.nfa,b))&&(c.decoration=d);(a=sss(a.nfa,b))&&(c.tv=a);return c};Nss=function(a,b,c){b=Mss(a,b);const d=__c.oe(Ge,b,(e,f)=>a.Rtm[f]);Jss(a,b);c();Jss(a,d)};
Pss=function(a){return cl.ld().attrs({fontFamily:a.Xr.amc&&__c.ij(a.Xr.amc),fontSize:Oss,color:"#ffffff"})};Rss=async function(a,b,c){const d=a.xIj;if(d==null)a.Xa.u$b(c);else if(b=Qss(a.nzb,b,c),b=await a.$6a(b,{Wc:"code_blocks"}),b!=null&&b.cells.size!==0){var [e,f]=[...b.cells.entries()][0],g=__c.Xra(d.Fw(b),e,f);requestAnimationFrame(()=>a.selection.Ru(g,f.text,Qw.end()))}};Sss=async function(a){if(a.$Mh){const b=Pss(a).Xb("\n").build();await Rss(a,"#1f1f1f",b)}else a.showNotification(L("9mS+7A"))};
Tss=async function(a){const b=await a.eVq(a.la);await oV(()=>{if(!b)return a.showNotification(L("WQlllg"));var c=Pss(a);c=a.Ebs(c,b);if(c==null||c.Z3.length<=1)return a.showNotification(L("WQlllg"));var d;const e=(d=c.backgroundColor)!==null&&d!==void 0?d:"#1f1f1f";return Rss(a,e,c.Z3)})};Uss=async function(a){var b;const c=__c.gXi();let d;try{d=await c.read()}catch(e){a.Ib({Cb:L("H8xFAw")});return}return d===null||d===void 0?void 0:(b=d["text/html"])===null||b===void 0?void 0:b.text()};
Qss=function(a,b,c){a=a.next();const d={...__c.wn,padding:{...__c.dYc,all:10},gridColumnStart:"1",gridColumnEnd:"2",gridRowStart:"1",gridRowEnd:"2"};return{...__c.jZc,width:"100%",fill:{...ps,color:b},pb:{...__c.cYc,all:10},cells:new Map([[a,{...__c.iZc,text:c}]]),behavior:{rules:[{Cp:void 0,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["1fr"],columnGap:0,rowGap:0,Wv:new Map([[a,d]])}},{Cp:450,grid:{gridTemplateColumns:["1fr"],gridTemplateRows:["auto"],columnGap:0,rowGap:0,Wv:new Map([[a,d]])}}]}}};
Vss=function(a,b){return(c,d,e)=>{if(!a())return!0;e=e.format;const f=d.index;d=d.length;d>0&&(c.deleteText(f,d,"user"),c.focus());c.insertText(f,"`",e,"user");c.history.cutoff();c.deleteText(f-2,3,"user");b();return!1}};
Xss=function({selection:a,Xa:b,iUa:c,$6a:d,nzb:e,Xr:f,Qe:g,we:h,la:k,IUb:l,vZd:m}){const p=new Wss(a,b,d,e,k,f);l&&(c.q1.UJn=Vss(()=>p.$Mh,()=>Sss(p)));m&&g&&h&&h.ym(()=>p.$Mh||p.ugm,{type:"simple",key:"code-blocks",name:L("l+Rifw"),Icon:__c.SXi,execute:async()=>{g.JJ({});g.close({trigger:"insert"});await Tss(p)}})};Yss=function(a,b){b=__c.Rne(b,a.Kn,a.Qk);a.$6a(b,{Wc:"quick_actions"})};
Zss=async function(a,b){const c=new __c.gij({jGc:Array.from(b.keys()),p2c:!0,query:"",context:new __c.LF({Su:a.ja,vt:!1,BO:21}),types:[2]});({results:a}=await a.Vf.Xde(c));return a.filter(d=>d.type==="LAYOUT").map(d=>{const e=b.get(d.id);if(e)try{const f=__c.OZg.deserialize(JSON.parse(d.j6d));return{...e,O_b:f}}catch(f){}}).filter(d=>d!=null)};
ats=async function(a){if(!(a.store.rzf.length>0))try{a.store.iPg=!0;const {rzf:b}=await __webpack_require__.me(941898).then(()=>({rzf:__c.$ss})),c=await Zss(a,b);oV(()=>{a.store.rzf=c;a.store.Zdi=!1})}catch(b){oV(()=>{a.store.Zdi=!0})}finally{oV(()=>{a.store.iPg=!1})}};
cts=async function(a){if(!(a.store.TQf.length>0))try{a.store.mPg=!0;const {TQf:b}=await __webpack_require__.me(431364).then(()=>({TQf:__c.bts})),c=await Zss(a,b);oV(()=>{a.store.TQf=c;a.store.oIi=!1})}catch(b){oV(()=>{a.store.oIi=!0})}finally{oV(()=>{a.store.mPg=!1})}};
kts=function({$6a:a,YUj:b,ja:c,Qe:d,we:e,Kn:f,og:g,Vf:h,Hb:k}){b=new __c.Uqe({id:c,clientId:b});const l=new dts,m=new ets(l,h,g,f,c,b,a);a=()=>{const x=m.og.Jb;return x!=null&&KVc(x.container)};const {dPh:p,wAh:q,onKeyDown:r}=Srs({Zaf:fts,Jle:gts,IK:3,onSelect:async x=>{d.JJ({});Yss(m,x.O_b);d.close({trigger:"insert"})},options:mV(()=>l.rzf)});e.ym(a,{type:"simple",key:"highlight-block",name:L("uhQfzQ"),Icon:hts,tI:!1,OMa:()=>({lg:fV(()=>k.Rd.zdj?dV(k.Rd.zdj,{}):null),A1:k.Rd.uzr}),execute:async()=>
{p();ats(m);d.push({Faa:mV(()=>({IQ:d.z4,uQa:"none",ariaExpanded:!l.iPg,ariaHasPopup:"grid"})),D8:{defaultValue:L("xCwiAg"),ZBa:!0},Component:fV(({SAb:x})=>dV(q,{z4:d.z4,hasError:l.Zdi,id:x,va:l.iPg,Bua:"1.5u",CGa:"1u"})),onKeyDown:gV(x=>{r(x);return!1})})}});const {dPh:t,wAh:u,onKeyDown:w}=Srs({Zaf:fts,Jle:its,IK:3,pPk:1,onSelect:async x=>{d.JJ({});Yss(m,x.O_b);d.close({trigger:"insert"})},options:mV(()=>l.TQf)});e.ym(a,{type:"simple",key:"quotes",name:L("jzPZzg"),Icon:jts,tI:!1,execute:async()=>
{t();cts(m);d.push({Faa:mV(()=>({IQ:d.z4,uQa:"none",ariaExpanded:!l.mPg,ariaHasPopup:"grid"})),D8:{defaultValue:L("3iOE/Q"),ZBa:!0},Component:fV(({SAb:x})=>dV(u,{z4:d.z4,hasError:l.oIi,id:x,va:l.mPg,Bua:"1.5u",CGa:"1u"})),onKeyDown:gV(x=>{w(x);return!1})})}})};
tts=function(a,b){const c=a.we,d=a.Qe,e=a.Kn;var f=a.session;const g=f.id;f=f.clientId;const h=a.fd,k=a.selection,l=a.Hb,m=a.Vf;var p=new __c.Uqe({id:g,clientId:f});Xss({we:c,Qe:d,la:a.la,selection:k,Xa:a.Xa,iUa:a.iUa,$6a:b,nzb:p,Xr:a.Xr,IUb:a.IUb,vZd:a.vZd});if(d&&c){var q=new lts(d,e,b,p,a.Ti,k),r=gV(async z=>{const A=k.Jb;A!=null&&KVc(A.container)&&await q.cLj(z,A.container)}),t=[mts,nts,ots].map(z=>({type:"simple",key:`simple-action-${z.keyName}`,name:z.label,Icon:z.icon,tI:!1,async execute(){return r(z.YEe)}}));
a={type:"multi-simple",key:"layout-columns-presets",VAl:mV(()=>t)};var {dPh:u,wAh:w,onKeyDown:x}=Srs({Zaf:pts,IK:3,onSelect:z=>{r(z.YEe)},options:mV(()=>qts)});p={type:"simple",key:"layout-columns-all",name:L("mconjg"),Icon:rts,tI:!1,OMa:()=>({lg:fV(()=>l.Rd.uej?dV(l.Rd.uej,{}):null),A1:l.Rd.yzr}),execute:async()=>{u();d.push({Faa:mV(()=>({IQ:d.z4,uQa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),D8:{ZBa:!0,query:mV(sts)},Component:({SAb:z})=>dV(w,{z4:d.z4,id:z,spacing:"2u"}),onKeyDown:gV(z=>{x(z);
return!1})})}};var y=()=>{const z=k.Jb;return!(z==null||!KVc(z.container)||!h.GEa(z.container.text))};c.ym(y,p);c.ym(y,a);kts({Qe:d,we:c,$6a:b,YUj:f,ja:g,Kn:e,og:k,Vf:m,Hb:l})}};
yts=function({ecb:a,QGa:b,gmd:c,viewport:d,oc:e,ka:f,ZCk:g,P:h,i2a:k}){const l=new uts(d,k),m=new vts(l,e,h),p=fV(({oa:r})=>dV(wts,{Xvc:l.Xvc,layout:f.layout,Hx:l.Hx,AQ:m.AQ,b1f:m.b1f,USf:m.USf,mQa:m.mQa,oa:r,xua:l.xua}));if(k){const r=w=>x=>m.mQa(w,x),t=w=>{var x=w.Nd;w=w.container;if(x=(x===null||x===void 0?void 0:x.type)==="line"?w.Sf(x):void 0)return g.b6p(x.container.ia,x.ia)},u=()=>b.wRb("Deselect");eV(()=>({isActive:l.isActive,Xvc:l.Xvc}),({isActive:w,Xvc:x})=>{c.aqf=w&&x&&l.xua?{ppe:r(x),
nKj:t,oa:u}:void 0},{equals:lV.shallow})}const q=[["ArrowUp",()=>m.mwn("prev")],["ArrowDown",()=>m.mwn("next")],["Escape",()=>{l.Xvc?m.USf():b.wRb("Deselect")}]];a.OWc=()=>({Qd:()=>!0,Button:fV(r=>{const {pAc:t,Sv:u,pressed:w,...x}=r;l.$Bb(w);return dV(t,{id:"Line",icon:xts,hb:L("ONGArA"),pressed:w,onClick:u,...x})}),ma:r=>dV(p,{oa:r.oa}),NRh:q})};
zts=function({Qe:a,we:b,dya:c,selection:d,oc:e,Hb:f}){a&&b&&b.ym(()=>d.Jb!=null&&__c.JVc(d.Jb.container),{type:"simple",key:"break",name:L("zbsOKQ"),Icon:__c.Vyf,im:bl("Enter"),OMa:()=>({lg:fV(()=>f.Rd.T9i?dV(f.Rd.T9i,{}):void 0),A1:f.Rd.izr}),execute:async()=>{a.JJ({});e.addPageBreak({Wc:"quick_actions"});a.close({trigger:"insert"})}});__c.Zo(c,[bl("Enter"),g=>{const h=d.Jb;h!=null&&__c.JVc(h.container)&&(g.preventDefault(),e.addPageBreak({Wc:"shortcut"}))},L("w16Knw"),["edit","suggest"]])};
Its=function(a){const b=a.canvas,c=a.Qe,d=a.ka,e=a.selection,f=a.Cd,g=a.viewport,h=a.Ma,k=a.Xa,l=a.Hb,m=a.$f;if(c){a.Ja==="responsive"?c.kth("responsive"):eV(()=>a.viewport.ya.type==="responsive",w=>{c.kth(w?"responsive":"fixed")},{fireImmediately:!0});Ats(()=>{var w,x,y,z;const A=a.selection.La,B=a.selection.Jb;var D;(B===null||B===void 0?void 0:B.type)===4||(B===null||B===void 0?void 0:B.type)===5||(B===null||B===void 0?void 0:B.type)===1&&(B===null||B===void 0?void 0:(w=B.only)===null||w===void 0?
void 0:w.type)==="sheet"||(A===null||A===void 0?void 0:(x=A.inner)===null||x===void 0?void 0:x.type)==="sheet"||(A===null||A===void 0?void 0:(y=A.inner)===null||y===void 0?void 0:y.type)==="sheet-cell-media"||(A===null||A===void 0?void 0:A.type)==="elements"&&((z=A.Nd)===null||z===void 0?void 0:z.type)==="sheet"?c.Mth({type:"sheet",editable:(D=A===null||A===void 0?void 0:A.Ji())!==null&&D!==void 0?D:!0}):c.Mth(void 0)});var p=mV(()=>{var w;if(((w=e.Jb)===null||w===void 0?void 0:w.type)===0)return a.fd.FEa(e.Jb.container.text,
e.Jb.range)},{equals:__c.tk(Xj)});Bts(a,p);var q=new Cts(e,h,d),r=new Dts(q,k,g,e,c),t=new Ets(h,e,d,k),u=new Fts(t,k,h);eV(()=>k.focused,()=>{var w;return(w=u.CAn)===null||w===void 0?void 0:w.call(u)});f.plugins.v4=()=>({Qd:()=>q.eqh,Button:fV(w=>{const x=w.onClick,y=hV(z=>oV(()=>{x===null||x===void 0||x();r.lRk(z)}),[x]);return dV("div",{ref:c.Jml,children:dV(Gts,{...w,open:c.isOpen,cBk:q.NLc&&d.layout===1?"gradient":"static",Icon:q.NLc?__c.xmg:d.layout===2?__c.P$d:Qu,Oj:q.Zul?m.ACh:void 0,onClick:y})})})});
b.kc(()=>t.Dhm,(w,x)=>{w.wn.cM.j9f=x?fV(()=>{var y=p.get();if(y==null)return null;y=y.Mb();return dV(Hts,{show:t.BQ,onClick:r.lRk,top:y.top+y.height/2,lne:l.lne,onFocus:u.onFocus,onBlur:u.onBlur,onMouseDown:u.onMouseDown})}):void 0})}};
Bts=function(a,b){var c;const d=a.canvas,e=a.session.undo,f=a.viewport,g=a.Ma,h=a.ka,k=a.selection,l=a.uX,m=a.Qe,p=a.Mna,q=a.Xa,r=a.fd,t=a.fYd;if(m){var u,w,x=()=>{var z;if(((z=k.Jb)===null||z===void 0?void 0:z.type)===4){const A=mV(()=>{if(f.FF){var B=k.Jb;if((B===null||B===void 0?void 0:B.type)===4&&B.mu)return __c.VWf(B,r,f)}});z=mV(()=>{var B;const D=(B=A.get())===null||B===void 0?void 0:B.tza;return D?Uj(D):void 0});Jts?m.gyc({type:"sheet",box:z,rPf:__c.XWf(A,d,p)}):m.gyc({type:"fixed",anchor:"top",
direction:"right",box:mV(()=>{if(f.FF){var B=k.Jb;if((B===null||B===void 0?void 0:B.type)===4&&B.mu){var D=B.container.sheet;const N=__c.Nk(D.config,B.mu.column,B.mu.row);if(N){var G=new wA(B.container.container.Fw(B.container.sheet),r,f);B=__c.Lk(D.config).find(M=>__c.bk(M.box,N));var I=G.AJ,K=G.hA;I=D.config.direction==="rtl"?Aj(K.tr,I.tr):Aj(K.tl,I.tl);G=G.ON.then(ak(K));D=__c.Mk(D.config,I,B).then(G.invert());return Uj(N.transform(D))}}}})})}else m.gyc({type:"responsive",box:mV(()=>{const A=f.FF,
B=f.wP,D=b.get();if(A&&B&&D)return D.transform(B.invert())})})},y=({im:z,trigger:A})=>{if(h.layout===1&&k.La){var B,D,G;({to:z}=Kts({im:z,Ja:"fixed"}));if(((B=k.La.inner)===null||B===void 0?void 0:B.type)==="sheet"||A!=="shortcut_targeted"){if(((G=k.La)===null||G===void 0?void 0:(D=G.inner)===null||D===void 0?void 0:D.type)==="sheet"){const I=mV(()=>{if(k.La)return __c.WWf(k.La,f,g)});B=mV(()=>{var K;const N=(K=I.get())===null||K===void 0?void 0:K.tza;return N?Uj(N):void 0});Jts?m.gyc({type:"sheet",
box:B,rPf:__c.XWf(I,d,p)}):m.gyc({type:"fixed",box:mV(()=>{var K=k.La;if(K&&K.inner&&K.inner.type==="sheet"){var N=K.inner.mu;if(N!=null){var M;K.type==="pages"?M=new uA(K.container.tb(K.inner.page),f,g):K.type==="elements"&&(M=new tA(K.container.Sf(K.inner.sheet),f));if(M!=null){K=M.sheet;var S=M.AJ,Q=M.hA;M=M.ON;var W=__c.Nk(K,N.column,N.row);if(W)return N=__c.Lk(K).find(X=>__c.bk(X.box,W)),S=K.direction==="rtl"?Aj(Q.tr,S.tr):Aj(Q.tl,S.tl),Q=M.then(ak(Q)),K=__c.Mk(K,S,N).then(Q.invert()),Uj(W.transform(K))}}}}),
anchor:"top",direction:"right"})}m.open({trigger:A,to:z})}}};a.iUa.q1.P9d=gV(z=>{if(h.layout!==1)return!0;if(g.mode<=20)return!1;var A=k.Jb;if((A===null||A===void 0?void 0:A.container.type)==="sheet-item-cell-richtext")return!0;let B;switch(z){case "/":A="shortcut";break;case ":":A="shortcut_targeted";B="blank-emoji-responsive";break;case "@":A="shortcut_targeted";B="mention";break;default:throw new v(z);}m.open({trigger:A,to:B});if(!m.isOpen)return!0;w=e.startBuffering();u=q.QAa(z,gif(q)).connect();
x();return!1});a.Ja!=="responsive"&&m.UQc(l,y);m.UQc(a.Ja==="responsive"?l:a.wBb,({im:z,trigger:A,L6e:B})=>{var D=k.Jb;if(D&&B){B=h.layout===1&&(__c.wba(z)||Lts(B.prefix,z))&&D.container.type!=="sheet-item-cell-richtext";if(D.type===0)return!1;if(B||!__c.wba(z))if(B||__c.wba(z)){var {to:G}=Kts({im:z,Ja:"responsive",MA:D.type});B=()=>{var I;m.open({trigger:A,to:G});m.isOpen&&(w=e.startBuffering(),((I=k.Jb)===null||I===void 0?void 0:I.type)!==0||__c.wba(z)||(u=q.QAa(z,gif(q)).connect()),x())};switch(D.type){case 2:const I=
D.only;if(!I){B();break}D=__c.Cf(D.container,I).text;q.Ru(D,Qw.all());q.focus();B();break;case 4:B();break;case 5:case 3:case 1:B();break;default:throw new v(D);}}else switch(D.type){case 2:B=D.only;if(!B)break;D=__c.Cf(D.container,B).text;q.Ru(D,Qw.all());q.focus();q.QAa(z);break;case 4:case 5:case 3:case 1:break;default:throw new v(D);}}});eV(()=>m.query,z=>{z===" "&&(q.QAa(" "),setTimeout(()=>{m.close({trigger:"escape"})},0))});m.addEventListener("beforeapply",gV(()=>{u!==null&&u!==void 0&&u.Oc&&
(q.Ru(u.Oc,u),q.jQ(),u.disconnect())}));m.addEventListener("close",gV(({trigger:z})=>{w===null||w===void 0||w.stop();w=void 0;u===null||u===void 0||u.disconnect();u=void 0;z!=="show_dialog"&&setTimeout(()=>{q.focused||q.focus()})}));a=t===null||t===void 0?void 0:t.get();(a===null||a===void 0?0:(c=a.dra)===null||c===void 0?0:c.wMn)&&m.open({trigger:"ui_state"})}};
Lts=function(a,b){switch(b){case "/":return!!a.match(/(^|\s)$/);case ":":return!!a.match(/(^|\s)$/);case "@":return!!a.match(/(^|\s|\p{P})$/u);default:throw new v(b);}};Kts=function(a){switch(a.im){case ":":return{trigger:"shortcut_targeted",to:a.Ja==="fixed"?"blank-emoji-fixed":"blank-emoji-responsive"};case "@":return{trigger:"shortcut_targeted",to:a.Ja==="fixed"||a.MA===4?"mention-insert":"mention"};default:return{trigger:"shortcut"}}};
Rts=function({ecb:a,QGa:b,gmd:c,viewport:d,jc:e,oc:f,bca:g,ka:h,P:k,i2a:l}){const m=new Mts(g,d,l),p=new Nts(m,e,f,k),q=fV(({oa:t})=>dV(Ots,{oa:t,layout:h.layout,bca:g,kSc:m.kSc,Hx:m.Hx,AQ:p.AQ,C9:p.C9,nMd:p.nMd,VSf:p.VSf,xua:m.xua}));if(l){const t=fV(()=>m.SBb&&p.mGa?dV(Pts,{shape:m.SBb,CFs:p.mGa}):null),u=x=>y=>p.C9(x,y),w=()=>b.wRb("Deselect");eV(()=>({isActive:m.isActive,SBb:m.SBb}),({isActive:x,SBb:y})=>{c.aqf=x&&y&&m.xua?{dr:t,ppe:u(y),L6c:p.E$q,oa:w}:void 0},{equals:lV.shallow})}const r=[["ArrowUp",
()=>p.nwn("prev")],["ArrowDown",()=>p.nwn("next")],["Escape",()=>{m.kSc?p.VSf():b.wRb("Deselect")}]];a.yVa=()=>({Qd:()=>!0,Button:fV(t=>{const {pAc:u,Sv:w,pressed:x,...y}=t;m.$Bb(x);return dV(u,{id:"Shape",icon:Qts,hb:L("8CFVjw"),pressed:x,onClick:w,...y})}),ma:t=>dV(q,{oa:t.oa}),NRh:r})};Sts=function({HLs:a,wJs:b,fl:c}){let d;a&&b?d=L("N/GixA"):a?d=L("qXgT6g"):b&&(d=L("0E7snA"));return dV(c,{label:n(d),Icon:Qu})};
Vts=function({selection:a,vIj:b,Cd:c,Vi:d,Ma:e,Ga:f}){const g=new Tts(a,e);a=f.Ud("editor.editing.sheet_adding");const h=new Uts(g,d,a),k=gV(()=>{h.addRow("before")}),l=gV(()=>{h.addRow("after")}),m=gV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction==="rtl"?"after":"before")}),p=gV(()=>{const q=h.store.sheet;q&&h.addColumn(q.direction!=="rtl"?"after":"before")});b.kc(()=>g.uXf,(q,r)=>{q.ozc=(r===null||r===void 0?0:r.wqj)?{Button:fV(y=>dV(y.fl,{label:J("w4rzTQ",[g.iF.length]),Icon:__c.nhr,onClick:k,
oa:y.oa}))}:void 0;q.pzc=(r===null||r===void 0?0:r.xqj)?{Button:fV(y=>dV(y.fl,{label:J("KiqINg",[g.iF.length]),Icon:__c.phr,onClick:l,oa:y.oa}))}:void 0;q.mzc=(r===null||r===void 0?0:r.Qpj)?{Button:fV(y=>dV(y.fl,{label:J("Yf0hww",[g.C0b.length]),Icon:__c.oFq,onClick:m,oa:y.oa}))}:void 0;q.nzc=(r===null||r===void 0?0:r.Rpj)?{Button:fV(y=>dV(y.fl,{label:J("qRE55g",[g.C0b.length]),Icon:__c.lhr,onClick:p,oa:y.oa}))}:void 0;var t;const u=(t=(r===null||r===void 0?void 0:r.wqj)||(r===null||r===void 0?void 0:
r.xqj))!==null&&t!==void 0?t:!1;var w;const x=(w=(r===null||r===void 0?void 0:r.Qpj)||(r===null||r===void 0?void 0:r.Rpj))!==null&&w!==void 0?w:!1;q.v8i=u||x?{Button:fV(y=>dV(Sts,{HLs:u,wJs:x,fl:y.fl}))}:void 0});c.plugins.ozc=()=>({Qd:()=>{var q;return!((q=g.uXf)===null||q===void 0||!q.wqj)},Button:fV(q=>dV(q.zi,{icon:Qu,onClick:k,yh:"icon-and-label",children:J("w4rzTQ",[g.iF.length])}))});c.plugins.pzc=()=>({Qd:()=>{var q;return!((q=g.uXf)===null||q===void 0||!q.xqj)},Button:fV(q=>dV(q.zi,{icon:Qu,
onClick:l,yh:"icon-and-label",children:J("KiqINg",[g.iF.length])}))});c.plugins.mzc=()=>({Qd:()=>{var q;return!((q=g.uXf)===null||q===void 0||!q.Qpj)},Button:fV(q=>dV(q.zi,{icon:Qu,onClick:m,yh:"icon-and-label",children:J("Yf0hww",[g.C0b.length])}))});c.plugins.nzc=()=>({Qd:()=>{var q;return!((q=g.uXf)===null||q===void 0||!q.Rpj)},Button:fV(q=>dV(q.zi,{icon:Qu,onClick:p,yh:"icon-and-label",children:J("qRE55g",[g.C0b.length])}))})};
Zts=function(a,b){const c=a.viewport,d=a.selection,e=a.Ja,f=a.Gb,g=a.we,h=a.Qe,k=a.Xr,l=a.Ti;if(h&&g){var m=a.Ga.Ud("editor.editing.sheet_adding");a=gV((r,t)=>{const u=m.sb("create_and_add_sheet",{Fb:{name:"editor.element.add",type:"sheet",attrs:new Map([["action","quick_actions"]])}});r=__c.Axa(Zg,{...GYc,config:__c.rke({...__c.sId,Gb:f,IYb:r,JYb:t,NJ:"wrap",$i:uId.$i,fontSize:uId.fontSize,fontFamily:k.WT}),id:f.Cg.generate(),top:0,left:0,width:1,height:1});b(r,{Wc:"quick_actions",span:u,WZd:!0})});
var p=new Wts,q=new Xts(h,a,l);g.ym(()=>{const r=d.Jb;return e!=="responsive"&&rf(c.ya)?!1:r!=null?__c.MVc(r.container):!0},{type:"simple",key:"sheet",name:L("fN/KMA"),aliases:[L("Yvno9Q")],Icon:__c.gG,execute:async()=>h.push({D8:{ZBa:!0,query:mV(()=>{var r=p.activeCell;return`${r.col+1}x${r.row+1}`})},Faa:mV(()=>({IQ:h.z4,uQa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:r=>dV(Yts,{...r,vGs:p,L:q}),onKeyDown:r=>{r.key!=="Tab"&&r.preventDefault();switch(r.key){case "Enter":q.select(p.activeCell,
"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":q.dXg(p,r.key)}return!1},onClose:()=>q.reset(p),reset:()=>q.reset(p)}),tI:!1})}};
dus=function(a,b){const c=a.we,d=a.Qe,e=a.Crg,f=a.Ti,g=a.fja,h=a.P,k=a.viewport,l=a.Gb,m=a.Ga.Ud("table_adding"),p=(x,y,z)=>{x=__c.ktg(g,{columns:x,rows:y});const A={...Cs,text:Lg.R4("\n")};x=Zg.hwc({...x,cells:pd(x.cells,B=>({...B,content:A})),...__c.$Xc,id:l.Cg.generate(),top:0,left:0,width:1,height:1,eb:1,Ub:1});x=new __c.Lv({kg:1,element:x});z.addEvent("table_proto_created");z.mb().addEvent("table_proto_created");return x},q=(x,y,z)=>{if(a.Ja==="responsive")return p(x,y,z);switch(k.ya.type){case "fixed":case "concatenated-fixed":return x=
__c.ktg(a.xPb,{columns:x,rows:y}),x=new __c.Lv({kg:1,element:Zg.hwc(x),fonts:[]}),z.addEvent("table_proto_created"),z.mb().addEvent("table_proto_created"),x;case "responsive":return p(x,y,z);default:throw new v(k.ya);}},r=()=>{const x=a.selection.Jb;return x!=null&&__c.LVc(x.container)?!0:a.Ja!=="responsive"?!rf(a.viewport.ya):!1},t=gV((x,y,z)=>{const A=m.sb("create_and_add_table",{Fb:{name:"editor.element.add",type:"table",attrs:new Map([["action","quick_actions"]])}});b((z!==null&&z!==void 0?z:
q)(x,y,A),void 0,{Wc:"quick_actions",span:A,WZd:!0})}),u=new $ts,w=new aus(d,h,t,f);if(a.Ja!=="responsive"){const x=gV((z,A,B)=>{z=__c.ktg(a.xPb,{columns:z,rows:A});A=pd(z.cells,(D,G)=>{G=G.match(/\d+$/);const I={"text-align":"center"};Number(G?G[0]:[])===1&&(I["font-weight"]="bold");G={...Cs,text:Lg.ld().attrs(I).Xb("\n").build()};return{...D,content:G}});z=Zg.hwc({...z,cells:A,width:428,height:250,eb:428,Ub:250,layout:{...z.layout,cellPadding:10,borderStyle:{...z.layout.borderStyle,color:"#cccccc",
weight:2}}});z=new __c.Lv({kg:1,element:z});B.addEvent("table_proto_created");B.mb().addEvent("table_proto_created");return z}),y=gV(()=>{w.addTable(3,4,x)});a.ecb.Table=()=>({Qd:r,Button:fV(z=>{const {pAc:A,Sv:B,oa:D,...G}=z;z=hV(()=>{B();y();w.Kya();D()},[B,D]);return dV(A,{id:"Table",icon:bus,hb:L("/92zfw"),onClick:z,...G})})})}!e&&d&&c&&c.ym(r,{type:"simple",key:"table",name:L("AibD4g"),Icon:__c.lTj,execute:async()=>d.push({D8:{ZBa:!0,query:mV(()=>{var x=u.activeCell;return`${x.col+1}x${x.row+
1}`})},Faa:mV(()=>({IQ:d.z4,uQa:"none",ariaExpanded:!0,ariaHasPopup:"grid"})),Component:x=>dV(cus,{...x,aVs:u,L:w}),onKeyDown:x=>{x.key!=="Tab"&&x.preventDefault();switch(x.key){case "Enter":w.select(u.activeCell,"keyboard");break;case "ArrowUp":case "ArrowRight":case "ArrowDown":case "ArrowLeft":w.dXg(u,x.key)}return!1},onClose:()=>w.reset(u),reset:()=>w.reset(u)}),tI:!1})};
hus=function({ecb:a,QGa:b,gmd:c,viewport:d,jc:e,Zc:f,oc:g,P:h,i2a:k}){const l=new eus(d,k),m=new fus(l,e,f,g,h);if(k){const q=fV(()=>{var t,u=l.iD?m.cYm(l.iD):void 0;if(!u)return null;const w=u.text,x=u.attributes;u=u.dimensions;const y=x["font-family"],z=x["font-weight"];return dV("div",{style:{width:u.width,height:u.height,color:x.color,fontSize:`${x["font-size"]}px`,fontFamily:y?__c.lj(y):void 0,fontWeight:z?(t=__c.pj(z))===null||t===void 0?void 0:t.toString():void 0},children:w})}),r=()=>b.wRb("Deselect");
eV(()=>l.isActive,t=>{c.aqf=t&&l.xua?{dr:q,ppe:m.addText,L6c:m.L6c,oa:r}:void 0})}const p=q=>{q.key==="Escape"&&b.wRb("Deselect")};eV(()=>l.isActive,q=>{q?document.addEventListener("keydown",p):document.removeEventListener("keydown",p)});a.Text=()=>({Qd:()=>!0,Button:fV(q=>{const {pAc:r,Sv:t,oa:u,active:w,...x}=q;l.$Bb(w);q=hV(()=>{t();l.xua||(m.addText(),u())},[t,u]);return dV(r,{id:"Text",icon:gus,hb:L("yeR+vA"),onClick:q,active:w,...x})})})};
ius=function(a){const b=a.we,c=a.Qe,d=a.oc;a.keyboardShortcuts.register(["t",()=>d.addText(L("7D/4Bg"),{Wc:"shortcut"}),L("WPMnRQ"),["edit"]]);b===null||b===void 0||b.install({type:"simple",key:"text",name:L("zHOe/Q"),Icon:__c.oA,im:{key:"t"},tI:!1,execute:async()=>{c===null||c===void 0||c.close({trigger:"insert"});c===null||c===void 0||c.JJ({});d.addText(L("7D/4Bg"),{Wc:"quick_actions"})}})};
lus=function(a){const b=a.keyboardShortcuts,c=a.we,d=a.Qe,e=a.oc;a.gYh||(b.register(["r",()=>e.C9(jus,"static-rectangle",{Wc:"shortcut"}),L("t4sYiQ"),["edit"]],["c",()=>e.C9(kus,"static-circle",{Wc:"shortcut"}),L("WNgl/w"),["edit"]]),c===null||c===void 0||c.install({type:"simple",key:"circle",name:L("YWLlfw"),Icon:__c.BTj,im:{key:"c"},tI:!1,execute:async()=>{d===null||d===void 0||d.close({trigger:"insert"});d===null||d===void 0||d.JJ({});await e.C9(kus,"static-circle",{Wc:"quick_actions"})}}),c===
null||c===void 0||c.install({type:"simple",key:"rectangle",name:L("cnGpyQ"),aliases:[L("OLOtCg")],Icon:__c.jTj,im:{key:"r"},execute:async()=>{d===null||d===void 0||d.close({trigger:"insert"});d===null||d===void 0||d.JJ({});await e.C9(jus,"static-rectangle",{Wc:"quick_actions"})}}))};
mus=function(a){const b=a.we,c=a.Qe,d=a.oc,e=a.LZj?__c.Qcr:__c.Pcr;a.keyboardShortcuts.register(["s",()=>d.C9(e,"static-sticky-note",{Wc:"shortcut"}),L("G/kzLg"),["edit"]]);b===null||b===void 0||b.install({type:"simple",key:"sticky-note",name:L("JzZYlg"),aliases:[L("GOfopA"),L("aw0D4Q"),L("VZc9jw")],Icon:__c.Efk,im:{key:"s"},tI:!1,execute:async()=>{c===null||c===void 0||c.close({trigger:"insert"});c===null||c===void 0||c.JJ({});await d.C9(__c.Pcr,"static-sticky-note",{Wc:"quick_actions"})}})};
nus=function(a){const b=a.keyboardShortcuts,c=a.we,d=a.oc;a.gYh||(b.register(["l",()=>d.mQa({},{Wc:"shortcut"}),L("8VCGoA"),["edit"]],["|",()=>d.mQa({VNe:2},{Wc:"shortcut"},{}),L("HdnMAQ"),["edit"]]),c===null||c===void 0||c.install({type:"simple",key:"line",name:L("P9yWmw"),Icon:__c.Afk,im:{key:"l"},execute:async()=>{d.mQa({},{Wc:"quick_actions"})}}),c===null||c===void 0||c.install({type:"simple",key:"arrow-line",name:L("RWM/gg"),Icon:__c.Cfk,execute:async()=>{d.mQa({Zeb:3},{Wc:"quick_actions"})}}))};
pus=function(a){const b=a.session.document,c=a.selection,d=a.Ma,e=a.vIj,f=a.oc,g=a.viewport;if(b.Ja==="fixed"){var h=()=>{var k,l;const m=(l=(k=c.La)===null||k===void 0?void 0:k.pages)!==null&&l!==void 0?l:[];if(k=b.pages.last(p=>m.includes(p))){ta(f.LL!=null);const p=f.LL(k,{Wc:"contextual_menu",location:"canvas"});Promise.resolve().then(()=>g.EG(p))}};e.kc(()=>{var k,l,m;return d.mode>=40&&((k=c.La)===null||k===void 0?void 0:k.type)==="pages"&&((l=c.La.inner)===null||l===void 0?void 0:l.type)!==
"sheet"&&((m=c.La.inner)===null||m===void 0?void 0:m.type)!=="sheet-cell-media"&&!ous(c.La)},(k,l)=>{k.Tra=l?{Button:fV(m=>dV(m.fl,{label:L("IFfqmQ"),disabled:!f.MLa(1),onClick:h,Icon:__c.cAf,oa:m.oa,im:bl("Enter")}))}:void 0});e.kc(()=>d.mode>=30&&ous(c.La),(k,l)=>{const m=()=>{if(ous(c.La)){var p=c.La.inner.container,q=c.La.inner.pages.at(-1);q&&f.yqj(p,q,{Wc:"contextual_menu",location:"canvas"})}};k.sxh=l?{Button:p=>dV(p.fl,{label:L("3vzkKw"),disabled:!ous(c.La)||!f.CTd(c.La.inner.container,1),
onClick:m,Icon:__c.cAf,oa:p.oa,im:bl(Vo("Enter"))})}:void 0})}};ous=function(a){var b,c;return(a===null||a===void 0?void 0:a.type)==="pages"&&((b=a.inner)===null||b===void 0?void 0:b.type)==="pages"&&((c=a.inner.inner)===null||c===void 0?void 0:c.type)==="background"};
sus=function(a,b){const c=a.store.pyj;var d=a.store.Bjc;if(c&&d){d=d.map(e=>{var f,g;return{element:e,box:a.store.KVa==="page"&&((f=a.selection.La)===null||f===void 0?0:f.box)?Uj((g=a.selection.La)===null||g===void 0?void 0:g.box):Uj(Vj(e))}});switch(b){case "top":b=qus(d.map(({element:e,box:f})=>({element:e,delta:c.t.y-f.t.y})),"y");break;case "middle":b=qus(d.map(({element:e,box:f})=>({element:e,delta:c.c.y-f.c.y})),"y");break;case "bottom":b=qus(d.map(({element:e,box:f})=>({element:e,delta:c.b.y-
f.b.y})),"y");break;case "left":b=qus(d.map(({element:e,box:f})=>({element:e,delta:c.Sb.x-f.Sb.x})),"x");break;case "center":b=qus(d.map(({element:e,box:f})=>({element:e,delta:c.c.x-f.c.x})),"x");break;case "right":b=qus(d.map(({element:e,box:f})=>({element:e,delta:c.r.x-f.r.x})),"x");break;default:throw new v(b);}rus(a,b)}};qus=function(a,b){return{targets:Hps(a.map(({delta:c,element:d})=>[c,d])),axis:b}};
rus=function(a,b){const c=b.targets;b=b.axis;for(const [d,e]of c)a.Fr.E1a(e).translate(b==="x"?d:0,b==="y"?d:0)};tus=function(a,b){switch(b){case "center":a.alignment="50%";break;case "left":a.alignment="0%";break;case "right":a.alignment="100%";break;default:throw new v(b);}};uus=function(a){return a.size===1?a.values().next().value:void 0};
Ius=function(a){var b=a.Ja,c=a.O3;const d=a.selection;var e=a.Cd;const f=a.ka,g=new vus(a.Ma,d),h=new wus(g,c),k={Qd:()=>h.Itl,Button:fV(m=>dV(xus,{...m,alignment:g.zeh})),Vu:{rg:()=>L("V/DN5w")},ma:fV(m=>dV(yus,{...m,alignment:g.zeh,qJa:h.qJa}))},l={Qd:()=>h.Itl,Button:fV(m=>dV(xus,{...m,alignment:g.zeh,onClick:h.ecq}))};e.plugins.o0a=()=>f.layout===2?k:l;if(b!=="responsive"){e=a.Fr;const m=a.Zc,p=a.P,q=a.kh;b=a.we;c=a.keyboardShortcuts;const r=new __c.UWi(d,a.gb,a.se),t=new zus(r,e,m,d,p),u=()=>
t.qJa("left","menu"),w=()=>t.qJa("center","menu"),x=()=>t.qJa("right","menu"),y=()=>t.qJa("top","menu"),z=()=>t.qJa("middle","menu"),A=()=>t.qJa("bottom","menu");q&&q.kc(()=>{var B,D,G,I,K,N;return{AZc:r.ETd,lNg:(B=r.hbb)===null||B===void 0?void 0:B.lNg,kNg:(D=r.hbb)===null||D===void 0?void 0:D.kNg,nNg:(G=r.hbb)===null||G===void 0?void 0:G.nNg,oNg:(I=r.hbb)===null||I===void 0?void 0:I.oNg,mNg:(K=r.hbb)===null||K===void 0?void 0:K.mNg,jNg:(N=r.hbb)===null||N===void 0?void 0:N.jNg}},(B,{AZc:D,lNg:G,
kNg:I,nNg:K,oNg:N,mNg:M,jNg:S})=>{!D||G&&I&&K&&N&&M&&S?(B.o0a=void 0,B.Cxh=void 0,B.Bxh=void 0,B.Exh=void 0,B.Fxh=void 0,B.Dxh=void 0,B.Axh=void 0):(B.o0a={Button:Q=>dV(Aus,{...Q,KVa:r.KVa})},B.Cxh={Button:Q=>dV(Bus,{...Q,onClick:u,disabled:G})},B.Bxh={Button:Q=>dV(Cus,{...Q,onClick:w,disabled:I})},B.Exh={Button:Q=>dV(Dus,{...Q,onClick:x,disabled:K})},B.Fxh={Button:Q=>dV(Eus,{...Q,onClick:y,disabled:N})},B.Dxh={Button:Q=>dV(Fus,{...Q,onClick:z,disabled:M})},B.Axh={Button:Q=>dV(Gus,{...Q,onClick:A,
disabled:S})})},{equals:lV.shallow});a=mV(()=>r.xok?void 0:fV(()=>dV(Hus,{display:"comfortable",pTc:f.layout===1,qJa:t.qJa,KVa:r.KVa,nXd:r.nXd,iXd:r.iXd,bXd:r.bXd,hXd:r.hXd,cXd:r.cXd,lXd:r.lXd})));b===null||b===void 0||b.ym(()=>{var B;return r.ETd&&!((B=r.hbb)===null||B===void 0?0:B.oNg)},{type:"simple",key:"align-top",name:L("IDKHXA"),PVb:()=>r.KVa?r.KVa==="page"?L("oUIJeA"):L("Vt0K/Q"):L("IDKHXA"),Icon:__c.B8g,execute:async()=>t.qJa("top","quick_actions")});b===null||b===void 0||b.ym(()=>{var B;
return r.ETd&&!((B=r.hbb)===null||B===void 0?0:B.mNg)},{type:"simple",key:"align-middle",name:L("PcAfBw"),PVb:()=>r.KVa?r.KVa==="page"?L("cvbe3Q"):L("6DJE4g"):L("PcAfBw"),Icon:__c.x8g,execute:async()=>t.qJa("middle","quick_actions")});b===null||b===void 0||b.ym(()=>{var B;return r.ETd&&!((B=r.hbb)===null||B===void 0?0:B.jNg)},{type:"simple",key:"align-bottom",name:L("+olaig"),PVb:()=>r.KVa?r.KVa==="page"?L("7FSYWw"):L("ubRa0A"):L("+olaig"),Icon:__c.r8g,execute:async()=>t.qJa("bottom","quick_actions")});
b===null||b===void 0||b.ym(()=>{var B;return r.ETd&&!((B=r.hbb)===null||B===void 0?0:B.lNg)},{type:"simple",key:"align-left",name:L("A2UFbA"),PVb:()=>r.KVa?r.KVa==="page"?L("lBeN7g"):L("aPV1gw"):L("A2UFbA"),Icon:__c.v8g,execute:async()=>t.qJa("left","quick_actions")});b===null||b===void 0||b.ym(()=>{var B;return r.ETd&&!((B=r.hbb)===null||B===void 0?0:B.kNg)},{type:"simple",key:"align-center",name:L("/N5DHw"),PVb:()=>r.KVa?r.KVa==="page"?L("6XfRBw"):L("iutmFw"):L("/N5DHw"),Icon:__c.t8g,execute:async()=>
t.qJa("center","quick_actions")});b===null||b===void 0||b.ym(()=>{var B;return r.ETd&&!((B=r.hbb)===null||B===void 0?0:B.nNg)},{type:"simple",key:"align-right",name:L("xJd0CQ"),PVb:()=>r.KVa?r.KVa==="page"?L("sA5UnA"):L("eqyQBw"):L("xJd0CQ"),Icon:__c.z8g,execute:async()=>t.qJa("right","quick_actions")});c.register([bl(Vo("j")),()=>t.AFn(),L("74ZxvQ"),["edit"]]);return{qmd:r,rvt:t,S5f:a}}};Jus=function(a){a.store.JC==="layers"&&a.bac||(a.e0e(),a.jC(),a.BUc())};
Kus=function(a){const {fl:b,XPh:c,...d}=a;let e;switch(c){case "topic":a=__c.PGi;e=L("OIpCMA");break;case "color":a=__c.Mzh;e=L("fiROpg");break;case "author":a=__c.ajg;e=L("RLWDLA");break;case "reaction":a=__c.$Lr;e=L("v++iLQ");break;default:throw new v(c);}return dV(b,{...d,Icon:a,label:e})};Lus=function(a,b,c){a=a.width*a.height;b=b.width*b.height;return c>0&&b/a<2&&c/b>=.01};
Pus=function(a,b){if(a.rotation===0&&b.rotation===0){var c=Yj(a,b);return c?c.width*c.height:0}a=[a.tl,a.tr,a.br,a.En];b=Mus([b.tl,b.tr,b.br,b.En]);for(c of b){if(a.length<=2)break;a=Nus(a,c)}return(c=a.length<=2?null:a)?Math.abs(Ous(c)):0};Nus=function(a,b){const c=[],d=Mus(a);a=a.map(f=>{const [g,h,k]=Qus(b);return Math.sign(h*f.x+g*f.y+k)});for(let f=0;f<d.length;f++){var e=d[f];const g=a[f],h=a[f+1]||a[0];g<=0&&c.push(e[0]);g*h<0&&(e=Rus(e,b))&&c.push(e)}return c};
Ous=function(a){return a.length<3?0:Mus(a).reduce((b,[c,d])=>b+(c.x*d.y-d.x*c.y),0)/2};Mus=function(a){const b=a.slice();a=a.slice();const c=a.shift();if(c==null)return[];a.push(c);return Sus(b,a)};Sus=function(a,b){pa(a.length===b.length,"both arrays must have the same length");return a.map((c,d)=>[c,b[d]])};Rus=function(a,b){const [c,d,e]=Qus(a),[f,g,h]=Qus(b);a=c*h-f*e;b=g*e-d*h;const k=d*f-g*c;return k===0||isNaN(k)||isNaN(a)||isNaN(b)?null:new xj(a/k,b/k)};
Qus=function(a){const [{x:b,y:c},{x:d,y:e}]=a;return[b-d,e-c,d*c-e*b]};Tus=function(a,b){const c=a.Bq(()=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:d,children:dV(__c.mk,{message:b})})),d=()=>{c()}};Uus=function(a,b,c){b.forEach(d=>{const e=a.Rtg.get(d);e&&e.some(f=>f===c)&&a.Rtg.set(d,e.filter(f=>f!==c))})};Wus=function(a,b,c,d,e){const f=a.get(e,b);if(f)f.update(d,c);else{const g=new Vus(e,b.length,c,d);b.forEach(h=>{__c.qj(a.Rtg,h,g)})}};
Xus=function(a,b){if(b!==a.page)return a.bMd=[],a.wph=new WeakMap,!0;if(a.bMd.length<1)return!0;const c=new Set(b.elements.toArray());a.bMd=a.bMd.filter(d=>c.has(d));return a.bMd.some(d=>d.text.Ya!==a.wph.get(d))};Yus=function(a){return typeof WeakRef!=="undefined"?new WeakRef(a):{deref:()=>a}};avs=function(a,b,c,d){c=c.map(Zus);return $us(a,b,c,Math.max(2E3,Math.min(d!==null&&d!==void 0?d:5E3,5E3)))};
Zus=function(a){let b=bvs,c=0,d=bvs;var e=0,f=0;const g=[],h=a.bxc.length;if(h<=8){for(f=0;f<h;f++){var k=a.bxc[f],l=k.$fd;f!==0&&f%2===0&&(c=0,b=d+16);g.push({Cuo:k,r2b:b,uac:c});c+=l.width+16;d=Math.max(d,b+l.height);e=Math.max(e,c)}return{key:a.key,elements:g,width:e,height:d}}for(e=0;e<h;e++)k=a.bxc[e],l=k.$fd,e!==0&&e%4===0&&(c+=f+16,d=Math.max(d,b),b=bvs,f=0),g.push({Cuo:k,r2b:b,uac:c}),b+=l.height+16,f=Math.max(f,l.width),d=Math.max(d,b);return{key:a.key,elements:g,width:c+f,height:d}};
$us=function(a,b,c,d){let e=0,f=0,g=[];const h=[];for(const l of c){e+l.width>d&&g.length!==0&&(e=0,f+=Math.max(...g.map(r=>r.height),0)+80,g=[]);var k=cvs(a,l.key);c=b.lV();k=Lg.ld().lv("font-size",dvs).Xb(evs(k)).build();const m=__c.to.create(fvs()),{width:p,height:q}=__c.co(c,k,1,m);c=.5*(__c.tWb(dvs,m,p,q).Mb().width-p);k={...l,r2b:f,uac:e,b_s:c};g.push(k);e=e+Math.max(l.width,p+c)+64;h.push(k)}return h};gvs=function(a,b){return{topLeftCorner:{top:a.y+b.r2b,left:a.x+b.uac+b.b_s}}};
cvs=function(a,b){switch(a){case "color":return L("H6eBIA");case "author":return b?b:L("QQQgpA");case "topic":return b?b:L("YyGQUQ");case "reaction":return b?J("lo/HDw",[b]):L("NOPhIw");default:throw new v(a);}};fvs=function(a="#000000"){return{Kc:[{type:"background",parameters:new Map([["roundness",(.5).toString()],["spread",(.5).toString()],["transparency",(1).toString()],["color",a]])}]}};evs=function(a){a=a.replace(/\r\n|[\r\u2028\u2029]/g,"\n");a.endsWith("\n")||(a+="\n");return a};
hvs=function(a,b){const c=b.x,d=b.y;for(const e of a)for(const {Cuo:f,uac:g,r2b:h}of e.elements){a=f.$fd.left;b=f.$fd.top;oV(()=>{f.$fd.left=c+e.uac+g;f.$fd.top=d+e.r2b+h});for(const k of f.c6n){const l=k.left-a,m=k.top-b;oV(()=>{k.left=c+e.uac+g+l;k.top=d+e.r2b+h+m})}}};
kvs=async function(a,b,c,d){const e=[];for(const g of c){const {top:h,left:k}=gvs(d,g).topLeftCorner||{top:0,left:0};c=a;var f=__c.Cqe({page:c.store.mh.page,gb:c.gb,region:Vj({top:h,left:k,width:g.width,height:bvs}).Mb(),vv:ivs,Uf:c.Uf});c=jvs(f);f=fvs(f);(c=await a.oc.addText(cvs(b,g.key),{Wc:"arrangement",q7:"none",g_:"default_title",Bra:"none"},{type:"v2",attrs:{"font-size":dvs,color:c}},{PPf:!0,Sk:f},gvs(d,g)))&&e.push(c)}a.store.selection.Qdd(a.store.mh,...e);return e};
lvs=function(a,b){switch(b){case "color":return c=>{var d;if(c=(d=c.paths.first())===null||d===void 0?void 0:d.fill)return d=__c.Bw(c),d.length?JSON.stringify(d):c.color};case "author":return c=>{var d;return(d=__c.ik(c).rGb)===null||d===void 0?void 0:d.text.Ya};case "topic":return()=>{};case "reaction":return async c=>{if(c=await a.OXe.VGe(a.store.mh.page,c))return c.toString()};default:throw new v(b);}};
mvs=async function(a,b,c){const d=new Map;a=lvs(a,b);for(const e of c){c=await a(e.$fd);const f=d.get(c);f?f.bxc.push(e):d.set(c,{key:c,bxc:[e]})}return b==="reaction"?[...d.entries()].sort(([e],[f])=>f?e?parseInt(f,10)-parseInt(e,10):1:-1).map(e=>e[1]):Array.from(d.values())};
pvs=async function(a){a.store.state=1;const b=__c.Gb();let c;a.Ea(({onClose:e})=>{c=e;return dV(nvs,{iPr:()=>b.resolve(void 0)})});let d;for(const [e,f]of a.bxc.entries())a.XNj.set(e,f);try{const e=a.store.Leh.map(f=>{var g,h;return((h=(g=f.ed.first())===null||g===void 0?void 0:g.text.Ya)!==null&&h!==void 0?h:"").replace(/\n/g," ")});d=await Promise.race([a.d4d().then(f=>f.Tlm({CKr:e,qWp:void 0}).then(async g=>g.type!=="SUCCESS"?g:await __c.Vh(async()=>{const h=await f.BTn({tc:g.tc});switch(h.status){case 1:case 2:return h.result;
case 3:break;default:throw new v(h.status);}},500,{...ovs}).result)),b.promise])}catch(e){a.Cjh(),a.errorService.pa(e,"Error sorting elements by topic")}finally{c===null||c===void 0||c()}return d};qvs=function(a,b){b=b.map(d=>a.XNj.get(d)).filter(d=>d!==void 0);const c=new Set(a.store.vm);return b.filter(d=>c.has(d.$fd))};jvs=function(a){return Ji(rvs,b=>Math.abs(__c.SVa(bi(b),bi(a))))};
tvs=function(a,b){const c=b.error,d=b.UNo,e=b.message;switch(c){case 1:case 2:case 3:case 3:a.Ea(()=>dV(svs,{title:d,message:e}));a.errorService.pa(e,"Error sorting elements by topic");break;case 2:case 4:case 1:Tus(a.alert,e);a.errorService.pa(e,"Error sorting elements by topic");break;default:throw new v(c);}};
Bvs=function({selection:a,document:b,ya:c,X:d,Ec:e,ka:f,oc:g,Ep:h,EXa:k,gb:l,undo:m,toolbar:p,Cd:q,kh:r,d4d:t,Qa:u,Ij:w,errorService:x,P:y,Ga:z,la:A,Ea:B,alert:D,$f:G,rf:I,Uf:K,OXe:N,Yf:M}){const S=new uvs(a,c,d),Q=__c.Ma(async()=>{if(d){var {D4p:ca}=await __webpack_require__.me(875664).then(()=>({D4p:__c.vvs}));return await ca({Ij:w,X:d,Qa:u,ka:f,z3g:gV(qa=>{const ra=gV(()=>{e.M3b=void 0});e.M3b=()=>dV(qa,{onClose:ra})})})}},{Pwa:!0});c=z.Ud("editor.editing.cluster");const W=new wvs(b,S,p,a,g,h,
k,N,l,m,I,K,x,A,y,c,async()=>{const ca=await Q();return ca===null||ca===void 0?void 0:ca()},B,D,t,G.rAi),X=()=>W.Tsc("floating_toolbar"),ba=()=>W.yD("floating_toolbar"),da=()=>W.vtc("floating_toolbar"),la=()=>W.JZb("floating_toolbar"),ka={Qd:()=>S.ejh,Button:ca=>dV(xvs,{...ca,Yf:M}),Vu:{rg:()=>L("j0l+TQ")},ma:fV(ca=>dV(yvs,{nW:G.s$i,Tsc:X,yD:ba,vtc:da,JZb:la,oa:ca.oa,ka:f,Yf:M,VJd:S.VJd}))};q.plugins.Tea=()=>ka;S.mFj=ka;const oa=()=>W.Tsc("menu"),ja=()=>W.yD("menu"),fa=()=>W.vtc("menu"),aa=()=>W.JZb("menu");
r.kc(()=>({ejh:S.ejh,Eo:f.layout===2}),(ca,{ejh:qa,Eo:ra})=>{if(qa){var sa=wa=>dV(zvs,{...wa,Tsc:oa,yD:ja,vtc:fa,JZb:aa,VJd:S.VJd});ca.Tea={Button:wa=>dV(Avs,{...wa,onClick:ra&&M?()=>{var za;return(za=wa.Ng)===null||za===void 0?void 0:za.Xg({df:sa,options:{rg:()=>L("j0l+TQ")}})}:wa.onClick,Yf:M}),ma:sa};ca.yyh={Button:wa=>dV(Kus,{...wa,XPh:"color",onClick:oa})};ca.xyh={Button:wa=>dV(Kus,{...wa,XPh:"author",onClick:ja})};ca.Ayh=S.VJd?{Button:wa=>dV(Kus,{...wa,XPh:"topic",onClick:fa})}:void 0;ca.zyh=
{Button:wa=>dV(Kus,{...wa,XPh:"reaction",onClick:aa})}}else ca.Tea=void 0,ca.yyh=void 0,ca.xyh=void 0,ca.Ayh=void 0,ca.zyh=void 0});return{YPh:W}};Cvs=function(a,b){a.container.page.elements.S3a(b,a.elements)};Dvs=function(a,b){a.container.page.elements.CYa(b,a.elements)};Evs=function(a,b){var c;const d=b.elements;(a=(c=a.store.Utg)===null||c===void 0?void 0:c.last(e=>!d.includes(e)))&&Cvs(b,a)};
Fvs=function(a,b){var c;const d=b.elements;(a=(c=a.store.Utg)===null||c===void 0?void 0:c.first(e=>!d.includes(e)))&&Dvs(b,a)};Hvs=function(a,b){const c=a.selection.La;a.P.track(Gvs,{action:b,oD:c&&c.elements?c.elements.map(d=>d.type):void 0,MLr:c&&c.elements?c.elements.length:0,JC:a.store.Es})};Jvs=function(a,b){a.P.track(Ivs,{action:b,kb:"mobile_toolbar"})};
Yvs=function({selection:a,viewport:b,gb:c,Jmi:d,ka:e,P:f,$vk:g,wT:h,kh:k,QR:l,Lk:m,ya:p,Ll:q,yt:r,$f:t}){const u=new Kvs(p,a,c,g),w=new Lvs(u,b,d,e,a,l,k,f),x=M=>dV(q,{...M,nd:Mvs,sf:Nvs}),y=fV(M=>dV(Ovs,{...M,gb:c,k6:r,nd:Mvs})),z=M=>__c.oUb(h,M).name,A=fV(({element:M})=>{const S=hV(W=>{w.PUk(W,M)},[M]),Q=u.Pe;return Q.type!=="fixed-page"?null:dV(Pvs,{element:M,B9h:z,page:Q,selected:u.vm.includes(M),Ll:x,onClick:w.zTk,SYa:w.SYa,onMouseEnter:w.iei,onMouseLeave:w.Z2i,onContextMenu:S,rej:e.layout===
2?Qvs:Rvs,Thc:k.Thc})}),B=fV(()=>{const M=u.Pe;return M.page.type!=="fixed"?null:dV(Svs,{page:M.page,selected:u.eKh,onClick:w.rvi,onMouseEnter:w.iei,onMouseLeave:w.Z2i,onContextMenu:w.PUk,SYa:w.SYa,VRo:y,rej:e.layout===2?Qvs:Rvs,Thc:k.Thc})}),D=fV(()=>dV(Tvs,{onChange:w.g0s,Es:u.Es}));a=()=>{var M;m===null||m===void 0||(M=m.nN)===null||M===void 0||M.call(m,new hp)};const G=mV(()=>u.QUe),I=mV(()=>u.vm),K=__c.YEe({ngf:u,mgf:w,ma:M=>dV(A,{element:M.item}),nN:a}),N=__c.YEe({ngf:u,mgf:w,ma:M=>dV(A,{element:M.item}),
nN:a,gOe:"basic"});a=fV(({zu:M})=>dV(Uvs,{layout:e.layout,TRo:B,Ljp:D,s9i:N,xpp:K,zu:M,QUe:G,opl:w.opl,vm:I,Jqi:w.Jqi}));b={Button:M=>{const S=M.onClick,Q=hV(()=>{S===null||S===void 0||S();w.dGn()},[S]);return kV(rV,{children:[dV(Vvs,{...M,onClick:Q}),(t===null||t===void 0?void 0:t.vAh)&&dV(t.vAh,{})]})},Vu:{kma:fV(()=>dV(Wvs,{IF:u.BQe,onClick:w.VAo})),rg:fV(()=>dV(Xvs,{IF:u.BQe,vm:u.vm}))},ma:a,onClose:gV(()=>{w.store.BQe="single";Jvs(w,"hidden")})};return{d8f:a,Cfp:b}};
rws=function({selection:a,gb:b,ya:c,ka:d,P:e,Ga:f,isDragging:g,keyboardShortcuts:h,Ma:k,viewport:l,Cd:m,kh:p,we:q,wT:r,QR:t,Lk:u,Ll:w,yt:x,$f:y}){f=f.Ud("editor.editing.arrangement.layering");const z=new Zvs(a,k,d),A=new $vs(z,a,e,f),B=S=>A.Ujc(S,"toolbar");k=fV(()=>dV(aws,{display:"comfortable",iXr:B,Yiq:z.grg,viq:z.Tqg,ekq:z.grg,dkq:z.Tqg}));h.register([bws,()=>A.Ujc("forward","shortcut"),L("aTrwIA"),["edit"]],[cws,()=>A.Ujc("backward","shortcut"),L("dsP+YA"),["edit"]],[dws,()=>A.Ujc("front","shortcut"),
L("57tYtg"),["edit"]],[ews,()=>A.Ujc("back","shortcut"),L("UcHnxQ"),["edit"]]);const D=()=>A.Ujc("forward","menu"),G=()=>A.Ujc("front","menu"),I=()=>A.Ujc("backward","menu"),K=()=>A.Ujc("back","menu");p.kc(()=>({Dhg:z.NN,yEp:z.h3h,lEp:z.g3h}),(S,{Dhg:Q,yEp:W,lEp:X})=>{!Q||W&&X?(S.Pxh=void 0,S.vzc=void 0,S.wzc=void 0,S.Yzc=void 0,S.Zzc=void 0):(S.Pxh={Button:fws},S.vzc={Button:ba=>dV(gws,{...ba,onClick:D,im:bws,disabled:W})},S.wzc={Button:ba=>dV(hws,{...ba,onClick:G,im:dws,disabled:W})},S.Yzc={Button:ba=>
dV(iws,{...ba,onClick:I,im:cws,disabled:X})},S.Zzc={Button:ba=>dV(jws,{...ba,onClick:K,im:ews,disabled:X})})},{equals:lV.shallow});q===null||q===void 0||q.ym(()=>z.NN&&!z.g3h,{type:"simple",key:"send-backward",name:L("u+2kVg"),Icon:__c.ibr,im:cws,execute:async()=>I()},{type:"simple",key:"send-to-back",name:L("t3ZWGw"),Icon:kws,im:ews,execute:async()=>K()});q===null||q===void 0||q.ym(()=>z.NN&&!z.h3h,{type:"simple",key:"bring-forward",name:L("Pxfk5A"),Icon:lws,im:bws,execute:async()=>D()},{type:"simple",
key:"bring-to-front",name:L("pbaLlQ"),Icon:mws,im:dws,execute:async()=>G()});const {d8f:N,Cfp:M}=Yvs({selection:a,viewport:l,gb:b,Jmi:A,ka:d,P:e,$vk:g,kh:p,wT:r,ya:c,QR:t,Lk:u,Ll:w,yt:x,$f:y});m.plugins.Poa=()=>({Qd:()=>z.WXf,...M});m.plugins.vzc=()=>({Qd:()=>z.WXf,Button:fV(S=>dV(nws,{...S,onClick:D,disabled:z.grg}))});m.plugins.wzc=()=>({Qd:()=>z.WXf,Button:fV(S=>dV(ows,{...S,onClick:G,disabled:z.grg}))});m.plugins.Yzc=()=>({Qd:()=>z.WXf,Button:fV(S=>dV(pws,{...S,onClick:I,disabled:z.Tqg}))});m.plugins.Zzc=
()=>({Qd:()=>z.WXf,Button:fV(S=>dV(qws,{...S,onClick:K,disabled:z.Tqg}))});return{c8f:k,d8f:N}};vws=function({selection:a,update:b,getValue:c,FJb:d,Zxb:e,label:f}){const g=new sws,h=new tws(g,a,b);a=fV(()=>{iV(()=>gV(h.onBlur),[]);return dV(uws,{value:g.value,disabled:d===null||d===void 0?void 0:d(),Fx:c(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:f,unit:e===null||e===void 0?void 0:e()})});return{store:g,rjd:a}};
wws=function(a,b,c){const {x:d,y:e}=c(b[0]),f=b.every(h=>pTi(c(h).x,d));b=b.every(h=>pTi(c(h).y,e));const g=vb.direction===2?a.width-d:d;a=a.units;return{x:f?rTi(wg(4,a,g),a):void 0,y:b?rTi(wg(4,a,e),a):void 0}};xws=function(a){a=Vj(a);return vb.direction===2?a.tr:a.tl};Aws=function(a,b){var c=a.selection.La;if(c&&c.type==="elements"){var d=c.elements;if(d.length!==0&&d.every(yws))return c=a.gb.Zk(c.container.page),wws(c,d,e=>zws(a,e,b))}};
Bws=function(a,b,c){return a.se.ESa.has(c==="start"?b.start:b.end)};zws=function(a,b,c){const {s:d,e}=(new __c.Qn(a.se,b)).Aha;return c==="start"?d:e};yws=function(a){return a.type==="line"};
Cws=function(a,b,c,d){var e;const f=c.elements,g=c.container.page;c=c.box;(e=a.P)===null||e===void 0||e.track(__c.vph,{kGa:f.map(h=>h.type),Wc:d,$D:g.elements.count(),Wb:void 0,vyl:b.x,wyl:b.y,o3j:c===null||c===void 0?void 0:c.tl.x,p3j:c===null||c===void 0?void 0:c.tl.y,KVf:c===null||c===void 0?void 0:c.width,DVf:c===null||c===void 0?void 0:c.height})};
Ews=function(a,b,c,d,e){let f,g;if(e==null){const h=Dws[a][d];f=(k,l)=>h*l;g=Dws[a].small*.5}else f=(h,k)=>{let l=h+k*(e/2+.5);l=Math.round(l/e)*e;return l+(d==="small"?0:e*3*k)-h};switch(c){case "up":return{delta:{x:0,y:f(b.y,-1)},XVi:g};case "down":return{delta:{x:0,y:f(b.y,1)},XVi:g};case "left":return{delta:{x:f(b.x,-1),y:0},XVi:g};case "right":return{delta:{x:f(b.x,1),y:0},XVi:g};default:throw new v(c);}};
Gws=function(a,b,c,d,e,f){if(a.N){var {x:g,y:h}=e||{},{x:k,y:l}=f||{},{x:m,y:p}=c||{},{x:q,y:r}=d||{};a.N.track(Fws,{uoa:g,Csb:h,xnb:k,ynb:l,l8r:m,m8r:p,G7r:q,H7r:r,units:__c.Qv(__c.Pv(b))})}};
Hws=function(a,b,c,d,e){var f=a.selection.La;if(f&&f.type==="elements"&&c.every(yws)&&a.store.kNh){f=a.gb.Zk(f.container.page).units;b=Ov(f,b);var g=a.store.v7,h=a.store.m2a;for(const k of c){c=new __c.xZd(k,a.Fr.se);const {x:l,y:m}=zws(a.store,k,d),p=e==="x"?new xj(b,m):new xj(l,b);d==="start"?__c.jee(c,p):c.setEndPoint(p)}Gws(a,f,g,h,a.store.v7,a.store.m2a)}};
Mws=function({selection:a,gb:b,Fr:c,toolbar:d,Cd:e,Zo:f,Uj:g,uX:h,VX:k,l9:l,P:m}){var p;const q=new Iws(a,k),{rGn:r,Rrc:t}=new Jws(q,a,c,b,g,l,m),u=gV((x,y)=>r(x,y,"keyboard"));h.register(["ArrowUp",()=>u("up","small"),L("B5NX3g"),["edit"]],["ArrowDown",()=>u("down","small"),L("SzdIhw"),["edit"]],["ArrowLeft",()=>u("left","small"),L("qpV6YA"),["edit"]],["ArrowRight",()=>u("right","small"),L("1v1q7g"),["edit"]],[Vo("ArrowUp"),()=>u("up","large"),L("B5NX3g"),["edit"]],[Vo("ArrowDown"),()=>u("down",
"large"),L("SzdIhw"),["edit"]],[Vo("ArrowLeft"),()=>u("left","large"),L("qpV6YA"),["edit"]],[Vo("ArrowRight"),()=>u("right","large"),L("1v1q7g"),["edit"]],[Xo("ArrowUp"),()=>u("up","small"),L("B5NX3g"),["edit"]],[Xo("ArrowDown"),()=>u("down","small"),L("SzdIhw"),["edit"]],[Xo("ArrowLeft"),()=>u("left","small"),L("qpV6YA"),["edit"]],[Xo("ArrowRight"),()=>u("right","small"),L("1v1q7g"),["edit"]],[Xo(Vo("ArrowUp")),()=>u("up","large"),L("B5NX3g"),["edit"]],[Xo(Vo("ArrowDown")),()=>u("down","large"),
L("SzdIhw"),["edit"]],[Xo(Vo("ArrowLeft")),()=>u("left","large"),L("qpV6YA"),["edit"]],[Xo(Vo("ArrowRight")),()=>u("right","large"),L("1v1q7g"),["edit"]]);const w=x=>r(x,"small","nudge");e.plugins.w0a=()=>({Qd:()=>q.VAj,Button:x=>dV(Kws,{...x,Rrc:t}),Vu:{rg:()=>L("aYsObw")},ma:x=>dV(Lws,{...x,NG:w})});sy(f.controls,()=>q.JPg);(p=d.sE)===null||p===void 0||p.UQ(()=>q.JPg)};
Nws=function(a,b,c){var d,e,f;const g=a.selection.La,h=a.store.position,k=g===null||g===void 0?void 0:(d=g.box)===null||d===void 0?void 0:d.Mb();(f=a.N)===null||f===void 0||f.track(__c.vph,{oD:g===null||g===void 0?void 0:(e=g.elements)===null||e===void 0?void 0:e.map(l=>gk(l)?"sticky_note":l.type),Wc:"position_panel",Wb:void 0,units:__c.Qv(__c.Pv(b)),vyl:c===null||c===void 0?void 0:c.x,wyl:c===null||c===void 0?void 0:c.y,o3j:h===null||h===void 0?void 0:h.x,p3j:h===null||h===void 0?void 0:h.y,KVf:k===
null||k===void 0?void 0:k.width,DVf:k===null||k===void 0?void 0:k.height})};
Ows=function(a){if(a&&a.type===1&&a.only){if(a.container.type==="marker"||a.container.type==="section-marker")return ta(a.container.container.type!=="break-item","Page break item cover cannot be directly selected"),{iEc:"body",zSa:__c.aVc.snapshot(a.only),text:a.container.container.text,ref:a.container.marker};if(a.only.type==="break"&&a.only.marker.Jg.ref)return{iEc:"break",zSa:__c.aVc.snapshot(a.only.marker.Jg.ref),text:a.container.text,ref:a.only.marker}}};
Vws=function(a){const b=a.selection,c=a.Hb,d=a.P,e=a.Cd;var f=a.kh;const g=new Pws(a.oc,b,a.O3,a.Ng,a.lU,a.Ma,a.undo,c,a.bHc,d);f.kc(()=>g.zVf,(A,B)=>{A.nAc=B?{Button:fV(D=>dV(D.fl,{...D,lg:B==="set"&&c.Rd.Qij?dV(c.Rd.Qij,{}):void 0,Icon:B==="set"?__c.War:Qws,label:B==="set"?L("R1qqvg"):L("+NqaGw"),onClick:B==="set"?g.URk:g.XRk}))}:void 0});e.plugins.nAc=()=>({Qd:()=>!!g.zVf,Button:fV(A=>dV(A.zi,{...A,icon:g.zVf==="set"?__c.War:Qws,yh:"icon",tooltip:g.zVf==="set"?L("R1qqvg"):L("+NqaGw"),onClick:g.zVf===
"set"?g.URk:g.XRk}))});if(a.Ja!=="responsive"){var h=a.gb;f=a.Uj;var k=a.Fr,l=a.se,m=a.toolbar,p=a.Zo,q=a.uX,r=a.VX;a=a.l9;var t=new Rws(b,h),u=new Sws(t,b,h,d),w=()=>{var A=b.La;if(A&&A.type==="elements")return A=h.Zk(A.container.page).units,` ${Tws(A)}`},{rjd:x}=vws({selection:b,update:u.kj,getValue:()=>{var A;return(A=t.position)===null||A===void 0?void 0:A.x},FJb:()=>t.w5k,Zxb:w,label:"X"});({rjd:u}=vws({selection:b,update:u.Bj,getValue:()=>{var A;return(A=t.position)===null||A===void 0?void 0:
A.y},FJb:()=>t.w5k,Zxb:w,label:"Y"}));var {fud:y,...z}=Uws({Uj:f,selection:b,gb:h,Fr:k,se:l,Zxb:w,P:d});Mws({selection:b,gb:h,Uj:f,Fr:k,toolbar:m,Cd:e,Zo:p,uX:q,VX:r,l9:a,P:d});return{fud:y,...z,wmj:x,xmj:u}}};
Uws=function({Uj:a,selection:b,gb:c,Fr:d,se:e,Zxb:f,P:g}){const h=new Wws(b,c,e);a=new Xws(a,h,b,c,d,g);({rjd:c}=vws({selection:b,update:a.Xrs,getValue:()=>{var k;return(k=h.v7)===null||k===void 0?void 0:k.x},FJb:()=>h.uyl,Zxb:f,label:L("uiBQMQ")}));({rjd:d}=vws({selection:b,update:a.Yrs,getValue:()=>{var k;return(k=h.v7)===null||k===void 0?void 0:k.y},FJb:()=>h.uyl,Zxb:f,label:L("/qrYnA")}));({rjd:e}=vws({selection:b,update:a.Vrs,getValue:()=>{var k;return(k=h.m2a)===null||k===void 0?void 0:k.x},
FJb:()=>h.n3j,Zxb:f,label:L("cYMiqw")}));({rjd:b}=vws({selection:b,update:a.Wrs,getValue:()=>{var k;return(k=h.m2a)===null||k===void 0?void 0:k.y},FJb:()=>h.n3j,Zxb:f,label:L("B+Mtdg")}));return{fud:a,Ejj:c,Fjj:d,fcj:e,gcj:b}};Yws=function(a,b){return vb.direction!==2||a.store.f5d?Jj():__c.Rj(b.c,wj(b.rotation),!0,!1)};Zws=function(a,b,c){const {horizontal:d,vertical:e}=__c.qee(a.daa,[b]);return c==="x"&&!!d||c==="y"&&!!e};
$ws=function(a,b,c,d,e){var f,g,h=a.store.size;const k=h===null||h===void 0?void 0:h.width;h=h===null||h===void 0?void 0:h.height;const l=a.selection.La;a.N.track(__c.GOh,{oD:b.map(m=>m.type),Wc:a.store.f5d?"keyboard":"position_panel",vMb:d,Hqb:e,tyg:k,iKm:h,a$l:a.store.rSd,x:l===null||l===void 0?void 0:(f=l.box)===null||f===void 0?void 0:f.Mb().left,y:l===null||l===void 0?void 0:(g=l.box)===null||g===void 0?void 0:g.Mb().top,units:__c.Qv(__c.Pv(c))})};
axs=function(a){return __c.Nfg(a===3||a===2?"bottom":vb.direction===2?"left":"right",a)};bxs=function(a,b,c){if(a!==null&&a!==void 0&&a.wdd)switch(a.wdd.type){case "table":var d;c=a.wdd.BZi;a=a.wdd.rows;b===null||b===void 0||(d=b.tZe)===null||d===void 0||d.call(b,c.table,c.container,a,"contextual_menu");break;case "sheet":b=a.wdd.sheet;a=a.wdd.rows;c===null||c===void 0||c.tZe(b,a.map(e=>e));break;default:throw new v(a.wdd);}};
cxs=function(a,b,c){if(a!==null&&a!==void 0&&a.w_c)switch(a.w_c.type){case "table":var d;c=a.w_c.BZi;a=a.w_c.columns;b===null||b===void 0||(d=b.$Sf)===null||d===void 0||d.call(b,c.ia,c.container,a,"contextual_menu");break;case "sheet":b=a.w_c.sheet;a=a.w_c.columns;c===null||c===void 0||c.$Sf(b,a.map(e=>e));break;default:throw new v(a.w_c);}};
dxs=function(a,b,c){if(a!==null&&a!==void 0&&a.xdd)switch(a.xdd.type){case "table":var d;c=a.xdd.BZi;a=a.xdd.rows;b===null||b===void 0||(d=b.wZe)===null||d===void 0||d.call(b,c,"row",a,"contextual_menu");break;case "sheet":b=a.xdd.sheet;a=a.xdd.rows;c===null||c===void 0||c.RLi(b,a.map(e=>e));break;default:throw new v(a.xdd);}};
exs=function(a,b,c){if(a!==null&&a!==void 0&&a.x_c)switch(a.x_c.type){case "table":var d;c=a.x_c.BZi;a=a.x_c.columns;b===null||b===void 0||(d=b.wZe)===null||d===void 0||d.call(b,c,"column",a,"contextual_menu");break;case "sheet":b=a.x_c.sheet;a=a.x_c.columns;c===null||c===void 0||c.$ce(b,a.map(e=>e));break;default:throw new v(a.x_c);}};
fxs=function(a){switch(a.type){case "controlled":case "rect":case "shape":case "separator":case "layout":case "table":case "chart":case "embed":return a;case "design":var b;if(((b=a.Vw.ref)===null||b===void 0?void 0:b.type)==="sticky-scroll")break;return a;case "sheet":case "break":case "pill":break;default:throw new v(a);}};
gxs=function(a,b,c){if(b.size>0&&c.size===0)return{wdd:b.size>1?{type:"sheet",sheet:a,rows:b}:void 0,xdd:{type:"sheet",sheet:a,rows:b}};if(c.size>0&&b.size===0)return{w_c:c.size>1?{type:"sheet",sheet:a,columns:c}:void 0,x_c:{type:"sheet",sheet:a,columns:c}}};
nxs=function(a){const b=a.selection;var c=a.P,d=a.rPa;const e=a.Vi,f=new hxs(a.Ma,b),g=new ixs(f,c,e);if(a.Ja!=="responsive"){var h;const r=a.gb,t=a.daa,u=a.qe,w=a.Vbb,x=a.Uj,y=a.viewport,z=a.fud;var k=a.Zo;var l=a.uX;var m=a.toolbar;const A=()=>{var M=b.La;if(M&&M.type==="elements")return M=r.Zk(M.container.page).units,` ${Tws(M)}`},{store:B,rjd:D}=vws({selection:b,update:(M,S)=>N.resizeTo(M,S,"y"),getValue:()=>K.g4m,FJb:()=>!K.h4m,Zxb:A,label:L("ve8EdA")}),{store:G,rjd:I}=vws({selection:b,update:(M,
S)=>N.resizeTo(M,S,"x"),getValue:()=>K.zOo,FJb:()=>!K.AOo,Zxb:A,label:L("nImjeQ")}),K=new jxs(f,b,r,t,B,G),N=new kxs(K,g,b,u,t,d,e,r,w,c,x,y,z);c=fV(()=>dV(lxs,{label:L("hCgNKA"),rSd:K.rSd,tgf:K.tgf,mvi:N.mvi}));d=(M,S)=>gV(()=>N.aWr(M,S));l.register([bl("ArrowLeft"),d("left","small"),L("ISKsQA"),["edit"]],[bl("ArrowRight"),d("right","small"),L("pjnYvA"),["edit"]],[bl("ArrowUp"),d("up","small"),L("MuydoQ"),["edit"]],[bl("ArrowDown"),d("down","small"),L("liTRpQ"),["edit"]],[bl(Vo("ArrowLeft")),d("left",
"large"),L("ISKsQA"),["edit"]],[bl(Vo("ArrowRight")),d("right","large"),L("pjnYvA"),["edit"]],[bl(Vo("ArrowUp")),d("up","large"),L("MuydoQ"),["edit"]],[bl(Vo("ArrowDown")),d("down","large"),L("liTRpQ"),["edit"]]);sy(k.controls,()=>K.f5d);(h=m.sE)===null||h===void 0||h.UQ(()=>K.f5d);k=K;l=N;m={pmj:I,wdj:D,Qej:c}}const p=k||f,q=l||g;a.kh.kc(()=>p.e0b,(r,t)=>{var u,w,x,y;const z={Button:fV(B=>dV(B.fl,{...B,Icon:__c.sbr,label:L("g/5NUQ"),onClick:q.pAi}))},A={Button:fV(B=>dV(B.fl,{...B,Icon:__c.obr,label:L("h7cPEw"),
onClick:q.nAi}))};r.lXc=(t===null||t===void 0?void 0:(u=t.wdd)===null||u===void 0?void 0:u.type)==="sheet"?z:void 0;r.uXc=(t===null||t===void 0?void 0:(w=t.wdd)===null||w===void 0?void 0:w.type)==="table"?z:void 0;r.kXc=(t===null||t===void 0?void 0:(x=t.w_c)===null||x===void 0?void 0:x.type)==="sheet"?A:void 0;r.tXc=(t===null||t===void 0?void 0:(y=t.w_c)===null||y===void 0?void 0:y.type)==="table"?A:void 0;if(t===null||t===void 0?0:t.xdd){const B=t.xdd.rows.size;r.lAc={Button:fV(D=>dV(D.fl,{Icon:__c.qbr,
label:J("2SUQmA",[B]),onClick:q.qAi,oa:D.oa}))}}else r.lAc=void 0;if(t===null||t===void 0?0:t.x_c){const B=t.x_c.columns.size;r.kAc={Button:fV(D=>dV(D.fl,{Icon:__c.mbr,label:J("U4i6zQ",[B]),onClick:q.oAi,oa:D.oa}))}}else r.kAc=void 0;if(t===null||t===void 0?0:t.item){const B=t.item;r.oAc={Button:fV(D=>dV(D.fl,{...D,Icon:B.width==="100cqw"?mxs:__c.$Xp,label:B.width==="100cqw"?L("8zQa7Q"):L("oAhr9A"),onClick:g.Mph}))}}else r.oAc=void 0});return m||{}};
pxs=function(a,b,c,d){var e,f;const g=(f=a.selection.La)===null||f===void 0?void 0:(e=f.box)===null||e===void 0?void 0:e.Mb(),{width:h,height:k,left:l,top:m}=g||{};a.N.track(oxs,{oD:c,kb:d,width:h,height:k,x:l,y:m,rotation:a.store.rotation,H0k:b||0})};
sxs=function({selection:a,nua:b,uX:c,toolbar:d,Zo:e,VX:f,P:g}){var h;const k=new qxs(a,f),l=new rxs(k,b,a,g);({rjd:a}=vws({selection:a,update:l.rws,getValue:()=>k.rotation,FJb:()=>k.disabled,Zxb:()=>"\u00b0",label:L("00WB4Q")}));b=(m,p)=>gV(()=>l.bWr(m,p));__c.Zo(c,[Xo(","),b("left","small"),L("jthlfA"),["edit"]],[Xo("."),b("right","small"),L("oazzMw"),["edit"]],[Xo(Vo(",")),b("left","large"),L("jthlfA"),["edit"]],[Xo(Vo(".")),b("right","large"),L("oazzMw"),["edit"]]);sy(e.controls,()=>k.jQg);(h=
d.sE)===null||h===void 0||h.UQ(()=>k.jQg);return{gij:a}};
zxs=function(a,b){var c=b==="vertical"?txs:uxs,d=b==="vertical"?vxs:wxs,e=b==="vertical"?xxs:yxs;a=a.map(k=>({element:k,box:Uj(Vj(k))})).slice();const f=a.sort(c)[0],g=a.sort(d).slice(-1)[0];c=a.filter(k=>k!==f&&k!==g).sort(e);d=b==="vertical"?f.box.b.y:f.box.r.x;e=b==="vertical"?g.box.t.y:g.box.Sb.x;const h=c.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);a=a.reduce((k,{box:l})=>k+(b==="vertical"?l.height:l.width),0);f===g&&h<d-e&&([d,e]=[e,d]);return{spacing:(e-d-h)/(c.length+1),dEe:d,
Emi:e,first:f,middle:c,last:g,bCo:h,k1i:a}};txs=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.y-b.y;return Axs(c)?a.x-b.x:c};vxs=function(a,b){a=a.box.br;b=b.box.br;const c=a.y-b.y;return Axs(c)?a.x-b.y:c};xxs=function(a,b){return a.box.c.y-b.box.c.y};uxs=function(a,b){a=a.box.tl;b=b.box.tl;const c=a.x-b.x;return Axs(c)?a.y-b.y:c};wxs=function(a,b){a=a.box.br;b=b.box.br;const c=a.x-b.x;return Axs(c)?a.y-b.y:c};yxs=function(a,b){return a.box.c.x-b.box.c.x};Axs=function(a){return Math.abs(a)<1E-4};
Bxs=function(a,b,c,d){const e=c==="left"?d-b.left:0;c=c==="top"?d-b.top:0;a.Fr.E1a([b]).translate(e,c);return Vj(b)};
Fxs=function({selection:a,Fr:b,qmd:c,keyboardShortcuts:d,P:e,VBe:f}){const g=new __c.YWi(c,f),h=new __c.XWi(g,b,a,e),k=()=>h.D2g("menu");a={Button:fV(m=>{var p;return dV(Cxs,{...m,type:(p=g.params)===null||p===void 0?void 0:p.type,onClick:k,disabled:g.TMe,im:Dxs})})};const l=()=>h.D2g("toolbar");b=fV(()=>{var m;return((m=g.params)===null||m===void 0?void 0:m.type)!=null?dV(Exs,{type:g.params.type,onClick:l,disabled:g.TMe}):null});d.register([Dxs,()=>!g.TMe&&h.D2g("shortcut"),L("WLw+ig"),["edit"]]);
return{eZs:a,Qkj:b,iZs:g}};
Oxs=function({selection:a,Fr:b,qmd:c,ka:d,keyboardShortcuts:e,P:f,Cd:g,kh:h,VBe:k}){const l=new Gxs(c),m=new Hxs(l,b,a,f),{eZs:p,Qkj:q,iZs:r}=Fxs({selection:a,Fr:b,qmd:c,keyboardShortcuts:e,P:f,VBe:k}),t=()=>m.XTe("vertical","menu"),u=()=>m.XTe("horizontal","menu");h&&h.kc(y=>{var z,A;return{NQp:(y===null||y===void 0?void 0:y.type)==="elements"&&y.Ji()&&!l.Wdi,TMe:r.TMe,por:(z=l.afh)===null||z===void 0?void 0:z.gAk,jkr:(A=l.afh)===null||A===void 0?void 0:A.Mwk}},(y,{NQp:z,TMe:A,por:B,jkr:D})=>{!z||
A&&B&&D?(y.nXc=void 0,y.eDh=void 0,y.MCh=void 0,y.LCh=void 0):(y.nXc={Button:fV(G=>{var I;return dV(Ixs,{...G,hZs:(I=r.params)===null||I===void 0?void 0:I.type})})},y.eDh=p,y.MCh={Button:G=>dV(Jxs,{...G,onClick:t,disabled:B})},y.LCh={Button:G=>dV(Kxs,{...G,onClick:u,disabled:D})})},{equals:lV.shallow});const w=y=>m.XTe(y,"toolbar"),x=mV(()=>l.Wdi?void 0:fV(()=>{var y,z;return dV(Lxs,{display:"comfortable",pTc:d.layout===1,XTe:w,Xjq:(y=l.afh)===null||y===void 0?void 0:y.Mwk,Yjq:(z=l.afh)===null||z===
void 0?void 0:z.gAk,Qkj:q})}));g.plugins.nXc=()=>({Qd:()=>d.layout===2&&!l.Wdi,Button:y=>dV(Mxs,{...y}),Vu:{rg:()=>L("8xqoHg")},ma:()=>dV(Nxs,{Bne:x.get()})});return{Bne:x}};
Sxs=function(a,b,c,d,e){var f=c[b];const g=d.get(c[a]),h=d.get(f),k=e==="x"||e==="y"?c.filter((r,t)=>{if(t===a||t===b)r=!1;else{r=d.get(r);const [u,w]=Pxs(g,h,e);r=e==="x"?r.Sb.x>u.Sb.x&&r.r.x<w.r.x:r.t.y>u.t.y&&r.b.y<w.b.y}return r}):[],{rti:l,tti:m,qti:p}=(()=>{switch(e){case "grid":return{rti:new xj(h.tl.x,h.tl.y),tti:new xj(g.tl.x,g.tl.y),qti:[]};case "diagonal-two-element":return Qxs(g,h);case "x":case "y":return Rxs(g,h,k.map(r=>d.get(r)),e);default:throw new v(e);}})();f=(r,t)=>{r=d.get(r);
return Vj({top:t.y,left:t.x,width:r.width,height:r.height})};const q=new Map;for(let r=0;r<c.length;r++){const t=c[r];if(r===a){q.set(t,f(t,l));continue}if(r===b){q.set(t,f(t,m));continue}const u=k.indexOf(t);u!==-1?q.set(t,f(t,p[u])):q.set(t,d.get(t))}return q};Pxs=function(a,b,c){return a.tl[c]<b.tl[c]?[a,b]:[b,a]};
Rxs=function(a,b,c,d){const [e,f]=Pxs(a,b,d);a=e===a?"forwards":"backwards";b=new xj(d==="x"?f.tl.x-e.tl.x:0,d==="y"?f.tl.y-e.tl.y:0);const g=new xj(d==="x"?f.width-e.width:0,d==="y"?f.height-e.height:0);d=f.translate(d==="x"?e.tl.x-f.tl.x:0,d==="y"?e.tl.y-f.tl.y:0);b=Dj(b,g);b=e.translate(b.x,b.y);c=c.map(h=>h.translate(g.x,g.y));return a==="backwards"?{rti:new xj(d.tl.x,d.tl.y),tti:new xj(b.tl.x,b.tl.y),qti:c.map(h=>new xj(h.tl.x,h.tl.y))}:{rti:new xj(b.tl.x,b.tl.y),tti:new xj(d.tl.x,d.tl.y),qti:c.map(h=>
new xj(h.tl.x,h.tl.y))}};Qxs=function(a,b){const [c,d]=Pxs(a,b,"y");a=c===a?"down":"up";let e;(c.Sb.x===Math.min(c.Sb.x,d.Sb.x)?"main":"anti")==="main"?(b=new xj(d.br.x-c.width,d.br.y-c.height),e=new xj(c.tl.x,c.tl.y)):(b=new xj(d.En.x,d.En.y-c.height),e=new xj(c.tr.x-d.width,c.tr.y));return{rti:a==="down"?b:e,tti:a==="down"?e:b,qti:[]}};
Txs=function(a){const b=Zj(0,[Vj(a.elements[0])]);return a.elements.map(c=>{c=Zj(0,[Vj(c)]);return`${c.width},${c.height},${c.rotation},`+`${Math.round((c.tl.x-b.tl.x)*1E5)/1E5},${Math.round((c.tl.y-b.tl.y)*1E5)/1E5}`}).join("|")};
Wxs=function(a){var b;if(b=a.length!==1){a:{for(b=0;b<a.length-1;b++)if(!(Math.abs(a[b].c.x-a[b+1].c.x)<.5&&Math.abs(a[b].c.y-a[b+1].c.y)<.5)){b=!1;break a}b=!0}b=!b}if(b){a:{b=new Set;var c=new Set,d=new Set;for(var e=0;e<a.length;e++){var f=a[e];const g=Math.round(f.Sb.x);f=Math.round(f.t.y);const h=`${g}/${f}`;if(b.has(h)){b=!1;break a}b.add(h);c.add(g);d.add(f);if(c.size*d.size>a.length){b=!1;break a}}b=c.size<=1||d.size<=1||c.size*d.size<a.length?!1:!0}if(b)return"grid";b=Uxs(a,"x");c=Uxs(a,
"y");d=b?Vxs(a,"x"):void 0;e=c?Vxs(a,"y"):void 0;b=d!=null||e!=null?a.length!==2&&(d!=null&&e!=null||e==null&&d!==0&&b&&b[0]-b[1]===0||d==null&&e!==0&&c&&c[0]-c[1]===0)?"grid":d!=null&&e!=null?Math.abs(d)<Math.abs(e)?"x":"y":d!=null?"x":"y":void 0;!(c=a.length!==2)&&(c=b!=null&&b!=="grid")&&(c=a[0],a=a[1],d=Zj(0,[c,a]),c=!(b==="x"?d.height>Math.max(c.height,a.height):d.width>Math.max(c.width,a.width)));return c?b:"diagonal-two-element"}};
Uxs=function(a,b){let c=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const d of a)if(a=b==="x"?[d.t.y,d.b.y]:[d.Sb.x,d.r.x],c=[Math.max(c[0],a[0]),Math.min(c[1],a[1])],c[0]>c[1])return;return c};Vxs=function(a,b){a=b==="x"?[...a].sort(Xxs):[...a].sort(Yxs);let c=0;for(let f=0;f<a.length-1;f++){var d=a[f],e=a[f+1];d=b==="x"?e.tl.x-d.tr.x:e.tl.y-d.En.y;d<0&&(c+=d)}return c};Xxs=function(a,b){return a.tl.x-b.tl.x};Yxs=function(a,b){return a.tl.y-b.tl.y};
$xs=function(a,b){if(__c.ck(Zj(0,a),b))return b=Zxs(a,b),a.indexOf(b)};Zxs=function(a,b){return a.reduce((c,d)=>{const e=Bj(d.c,b);return e<c.distance?{box:d,distance:e}:c},{box:a[0],distance:Infinity}).box};ays=function(a,b){a=a.store.Kbb;return a!=null&&a.yuc!==b};
eys=function(a,b,c,d){var e=a.nhe;if(e==null)d();else{a.store.Dga=d;e=bys([...e.elements],c);var f;a.o2=(f=a.o2)!==null&&f!==void 0?f:a.undo.startBuffering();try{const g=new Map(e.map(p=>[p,new cys(Vj(p))]));a.store.HNn=e;a.store.GEd=g;const h=g.get(b).Ubg.c,k=e.indexOf(b);if(k===-1)throw Error();const l=a.sgk(a.store.eCi,h),m=dys(a,k,l!==null&&l!==void 0?l:k,e,c);a.setState({key:l,sPb:c,yuc:b,$Xg:m});a.store.glg.set(a.store.Kbb.key,m);a.Bje(h)}catch(g){d(),a.xL()}}};
dys=function(a,b,c,d,e){const f=a.store.GEd;return pd(a.xYp(b,c,d,a.store.F7r,e),(g,h)=>{h=f.get(h);g=g.tl;const k=h.container.tl;h=h.Ubg.Mb();return Vj({...h,left:h.left+(g.x-k.x),top:h.top+(g.y-k.y)})})};fys=function(a,b,c,d){d-=b.left;c-=b.top;a.Fr.E1a([b]).translate(d,c)};
bys=function(a,b){const c=gys();if(b==="grid"){const e=Math.max(...a.map(f=>{f=c(f);return f.left+f.width}));return a.sort((f,g)=>{f=c(f);g=c(g);return f.left+Math.round(f.top)*e-(g.left+Math.round(g.top)*e)})}const d=b==="x"||b==="diagonal-two-element"?"left":"top";return a.sort((e,f)=>e[d]-f[d])};gys=function(){const a=new Map;return b=>{if(a.has(b))return a.get(b);const c=Zj(0,[Vj(b)]).Mb();a.set(b,c);return c}};
hys=function(a){switch(a.type){case "rect":return a.fill.video.ref!=null?"video":a.fill.image.ref!=null?"image":"color";case "group":return"group";case "grid":return"grid";case "text":return"text";case "shape":return"shape";case "table":return"table";case "chart":return"chart";default:return"other"}};
iys=function(a){const b=[{mime:"text/plain",type:"text"},{mime:"text/html",type:"html"},{mime:"application/x-canva",type:"proto"}];let c=null;for(const d of b)if(a.getData(d.mime).length>0){c=d.type;break}return c};jys=function(a){let b;a.cells.qB===1&&a.cells.qpa<=1&&a.forEach({item:c=>{b=c}});return b};kys=function(a){const b=[];a.cells.qpa===1&&a.forEach({item:c=>b.push(c)});return b};lys=function(a){const b=[];kys(a).forEach(c=>{c.type==="rect"&&(c.fill.image||c.fill.video)&&b.push(c)});return b};
mys=function(a){switch(a.fi.type){case "date":return{content:{...__c.jYc,value:__c.qyb(__c.Jm(a.fi.date))},Bb:{...__c.yYc}};case "mention":return{content:{...__c.oYc,value:[{text:a.fi.text,user:a.fi.user,brand:a.fi.brand}]},Bb:{...__c.zYc}};case "select":return{content:{...__c.mYc,value:a.fi.text},Bb:{...__c.AYc,options:a.fi.options.map(b=>({label:b.label,fill:b.fill}))}};case "embed":return{content:{...__c.pYc,value:[{embed:{text:a.fi.text,url:a.fi.url}}]}};default:throw new v(a.fi);}};
oys=function(a){const b=[];a.forEach(c=>{(c.fill.image||c.fill.video)&&b.push({fill:c.fill,Ex:void 0})});return b.length>0?{content:{...__c.nYc,value:b}}:{content:{...__c.mYc,value:a.map(c=>`<${nys(c.type)}>`).join("\n")}}};
pys=function(a){switch(a.type){case "pill":return mys(a);case "rect":return oys([a]);case "embed":return{content:{...__c.pYc,value:[{embed:{text:a.altText?a.altText.text:a.url,url:a.url}}]}};case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "chart":case "separator":return{content:{...__c.rYc,value:cl.ld().Xb(`<${nys(a.type)}>`).Xb("\n").build()}};default:throw new v(a);}};
nys=function(a){switch(a){case "controlled":return console.warn("Controlled items are currently not supported. Call site:","richtext3ToSheetCell itemTypeToText"),"";case "rect":return L("Po4g+Q");case "shape":return L("3KoYQg");case "break":return L("vRuadQ");case "separator":return L("9Ah64A");case "embed":return L("blnNUw");case "pill":return L("sYyvAw");case "chart":return L("db+1ng");case "design":return L("rLM0FQ");case "layout":return L("3ljN7A");case "table":return L("SsLNlA");case "sheet":return L("j7viPg");
default:throw new v(a);}};qys=async function(a,b,c){b.forEach(d=>{d.content.text.setAttributes(ee(He.Ff,()=>{}));d.content.text.uua(a.content.text.cells.Ya());let e=0;a.content.text.forEach({...de,Ya:(f,g)=>{f=f.length;d.content.text.setAttributes(g,{index:e,length:f});e+=f}})});c.mb().addEvent("content_added")};
rys=function(a,b){const c=b.zt.rows.length;b=b.zt.cols.length;const d=c*b;return c>a.lsb?(a.la.Ib({Cb:L("5Jz/og")}),!1):b>a.ksb?(a.la.Ib({Cb:L("V4HzaA")}),!1):d>a.Bfe?(a.la.Ib({Cb:L("DD0OAw")}),!1):!0};
sys=function(a,b,c,d){b.layout.cells.forEach((e,f)=>{var g;if(((g=e.content.ref)===null||g===void 0?void 0:g.type)==="formula"){e=e.content.ref.value;switch(e.type){case "canonical":ta(e.Bf.length===0);e=e.ppa;break;case "invalid":e=e.IQc;break;default:throw new v(e);}e=e.trim().slice(1);var h,k=(h=__c.fee(a.IB,{type:0,ppa:e}))!==null&&h!==void 0?h:{type:1,Pka:e};c&&(k=a.jba.kSd(b,k,{qt:-c.t0b,VR:-c.TSb}));Cz(d,l=>{l.kaa(b,{row:f.Zb,column:f.dc},__c.xhe(k.Pka))})}})};
tys=function(a,b,c,d,e,f){var g;let h;const k=a.selection.La;if((k===null||k===void 0?void 0:(g=k.inner)===null||g===void 0?void 0:g.type)==="sheet"){var l,m;const q=k.type==="elements"?k.inner.sheet.config:k.inner.page.sheet,r=(l=a.Vi)===null||l===void 0?void 0:__c.Los(l,b.config,c,q,k.inner.cells.map(t=>t),d,e,f);r&&k.type==="elements"&&(f===null||f===void 0?0:f.dTc)&&((m=a.Vc)===null||m===void 0||Cz(m,t=>{for(const u of r)t.setAttributes(q,{row:u.row,column:u.column},{NJ:f.dTc})}));if(r===null||
r===void 0||!r.length)return;switch(k.type){case "elements":a.selection.m5a(k.inner.container,r[0],r[0],r);h=k.inner.sheet;break;case "pages":a.selection.ZZa(k.inner.container,r[0],r[0],r);break;case "audio":break;default:throw new v(k);}}else{var p;e=(k===null||k===void 0?void 0:k.hp)||a.viewport.mh.page;if(rf(e)||e.type==="responsive"||!rys(a,b.config))return;const q=e.elements.append(b);ta(q.type==="sheet");h=q;if(f===null||f===void 0?0:f.dTc)(p=a.Vc)===null||p===void 0||Cz(p,r=>{q.config.layout.cells.forEach((t,
u)=>{r.setAttributes(q.config,{row:u.Zb,column:u.dc},{NJ:f.dTc})})});a.Vc&&sys(a,h.config,c,a.Vc)}d.mb().addEvent("content_added");return h};uys=function(a,b,c,d,e,f,g,h){var k,l;const m=(k=a.Vi)===null||k===void 0?void 0:__c.Los(k,b.config,e,c.sheet.config,d,f,g,h);m&&(h===null||h===void 0?0:h.dTc)&&((l=a.Vc)===null||l===void 0||Cz(l,p=>{for(const q of m)p.setAttributes(c.sheet.config,{row:q.row,column:q.column},{NJ:h.dTc})}));m!==null&&m!==void 0&&m.length&&(__c.Hv(a.selection,c,m[0],m[0],m),f.mb().addEvent("content_added"))};
vys=function(a,b,c,d,e,f){var g=a.selection.Jb;if((g===null||g===void 0?void 0:g.type)===4)uys(a,b,g.container,g.cells.map(p=>p),c,d,e,f);else if((g===null||g===void 0?void 0:g.type)===0&&g.container.type==="sheet-item-cell-richtext"){var h,k;g=g.container.container;var l={row:g.row,column:g.column};(h=(k=a.hS).Kpb)===null||h===void 0||h.call(k);uys(a,b,g.container,[l],c,d,e,f)}else if(rys(a,b.config)){var m=a.Xa.xKc(b);if(m){ta(m.item.type==="sheet");if(f===null||f===void 0?0:f.dTc)(l=a.Vc)===null||
l===void 0||Cz(l,p=>{ta(m.item.type==="sheet");m.item.config.layout.cells.forEach((q,r)=>{ta(m.item.type==="sheet");p.setAttributes(m.item.config,{row:r.Zb,column:r.dc},{NJ:f.dTc})})});a.Vc&&sys(a,m.item.config,c,a.Vc)}}};wys=function(a,b){const c=__c.bOc.domain.cells.ld();b.forEach((d,e)=>c.add({top:e,left:0,bottom:e,right:0},{...Es,content:{...__c.mYc,value:d}}));a=__c.rke({Gb:a.Gb,IYb:1,JYb:b.length,...uId});return{...a,zt:{...a.zt,cells:c.build()}}};
xys=async function(a,b,c,d,e){var f,g;const h=a.selection.La,k=a.selection.Jb;if(em(b).ok)return a.aBc(Yv(b),c);if((h===null||h===void 0?void 0:(f=h.inner)===null||f===void 0?void 0:f.type)==="table")a={...Ds,content:{...Cs,text:Lg.R4(`${b}\n`)}},await qys(a,h.inner.cells,c);else if((h===null||h===void 0?void 0:(g=h.inner)===null||g===void 0?void 0:g.type)==="sheet"){var l;const r=h.type==="elements"?h.inner.sheet.config:h.inner.page.sheet,t=h.inner.cells;var m=b.split("\n").filter(u=>u.length>0);
if(m.length>1){var p;m=wys(a,m);m={...GYc,top:0,left:0,width:m.zt.cols.reduce((w,x)=>w+x.width,0),height:m.zt.rows.reduce((w,x)=>w+x.height,0),id:a.Gb.Cg.generate(),config:m};const u=BMb.create(m);(p=a.Vc)===null||p===void 0||Cz(p,w=>{u.config.layout.cells.forEach((x,y)=>{x=__c.zSc.snapshot(x).content;ta((x===null||x===void 0?void 0:x.type)==="plaintext");w.rGa(u.config,{row:y.Zb,column:y.dc},x.value)})});p=BMb.snapshot(u);tys(a,p,void 0,c,d,e)}else(l=a.Vc)===null||l===void 0||Cz(l,u=>{t.forEach(w=>
{u.rGa(r,w,b)})}),c.mb().addEvent("content_added")}else if((k===null||k===void 0?void 0:k.type)===4){var q;const r=k.container.sheet.config,t=k.cells;p=b.split("\n");if(p.length>1){p=wys(a,p);p={...ZYc,id:a.Gb.Ai.generate(),config:p};const u=WUc.create(p);(m=a.Vc)===null||m===void 0||Cz(m,w=>{u.config.layout.cells.forEach((x,y)=>{x=__c.SUc.snapshot(x).content;ta((x===null||x===void 0?void 0:x.type)==="plaintext");w.rGa(u.config,{row:y.Zb,column:y.dc},x.value)})});p=WUc.snapshot(u);vys(a,p,void 0,
c,d,e)}else(q=a.Vc)===null||q===void 0||Cz(q,u=>{t.forEach(w=>{u.rGa(r,w,b)})}),c.mb().addEvent("content_added")}else k!=null?a.Xa.u$b(cl.ld().attrs(a.GXq()).Xb(b).build()):await a.oc.addText(b.replace(/\t/g," "),{Wc:"paste",span:c}),c.mb().addEvent("content_added")};
yys=async function(a,b,c){var d,e;const f=a.selection.La;if((f===null||f===void 0?void 0:(d=f.inner)===null||d===void 0?void 0:d.type)==="table")await qys({...Ds,content:{...Cs,text:b}},f.inner.cells,c);else{d=b.cells.Ya();if(em(d).ok)return a.aBc(Yv(d),c);if((f===null||f===void 0?void 0:(e=f.inner)===null||e===void 0?void 0:e.type)==="sheet"){var g;const h=f.type==="elements"?f.inner.sheet.config:f.inner.page.sheet,k=f.inner.cells,l=b.attrs.attributes["font-size"],m=b.attrs.attributes["font-family"];
(g=a.Vc)===null||g===void 0||Cz(g,p=>{k.forEach(q=>{var r=Lg.create(b);p.YBb(h,q,r);r={};l&&l.size!==0||(r.fontSize=uId.fontSize);m&&m.size!==0||!a.Xr.WT||(r.fontFamily=a.Xr.WT);Object.keys(r).length>0&&p.setAttributes(h,q,r)})})}else await a.oc.addText(d.replace(/\t/g," "),{Wc:"paste",span:c});c.mb().addEvent("content_added")}};
Ays=function(a,b,c){const d=a.selection.Jb;if((d===null||d===void 0?void 0:d.type)===4){var e;const g=b.cells.Ya();if(em(g).ok)a.aBc(Yv(g),c);else{var f=zys(b).content;(e=a.Vc)===null||e===void 0||Cz(e,h=>{d.cells.forEach(k=>{h.XBb(d.container.sheet.config,k,f)})});c.mb().addEvent("content_added")}}else return a=a.Xa.u$b(b),c.mb().addEvent("content_added"),a};Bys=function(a,b){if(!a.RLc||!a.RLc(b.media))return b.filter?{...b,filter:void 0}:b};Cys=function(a,b){if(!a.RLc||!a.RLc(b.video))return b};
Fys=async function(a,b,c,d){if(b.Zi.size>0){const h=new Dys(__c.Mza(b.Zi));c.pages&&(c.pages=c.pages.map(k=>h.Elc(k)));c.elements&&(c.elements=h.eEc(c.elements));c.FH&&(c.FH=c.FH.map(k=>h.CVd(k)));d.mb().addEvent("text_styles_inlined")}if(b.ja==="")return{a5b:!0,...c};b=new __c.G8e({fJ:b.ja,extension:b.Pf});const e=__c.Jf(c);let f;try{f=await a.wq.PW(e,{type:"document",ref:b})}catch(h){f=!1}d.mb().addEvent("resources_loaded");const g=new Eys(a.ITq(),a.JTq(),f?void 0:h=>!a.oCf(h));c.pages&&(c.pages=
c.pages.map(h=>g.Elc(h)));c.tracks&&(c.tracks=c.tracks.map(h=>g.aJj(h)));c.uh&&(c.uh=c.uh.map(h=>g.Nza(h)));c.elements&&(c.elements=g.eEc(c.elements));c.FH&&(c.FH=c.FH.map(h=>g.CVd(h)));d.mb().addEvent("resources_normalized");return{a5b:f,...c}};Gys=function(a){const b=is.snapshot(a);return a.type==="line"?{...b,...Vj(a).Mb()}:a.type==="chart"?(a=a.Irc.get(),a==null?b:{...b,data:a}):b};
Hys=function(a,b,c){const d=new Map;for(const f of b){var e;b=a.layout.cells.get(f.row,f.column);if((b===null||b===void 0?void 0:(e=b.ref.content.ref)===null||e===void 0?void 0:e.type)!=="formula")continue;const g=c===null||c===void 0?void 0:c.getContent(a,b.span.Zb,b.span.dc);g&&d.set(`${b.span.dc.id}:${b.span.Zb.id}`,g===null||g===void 0?void 0:g.zR)}return d};
Iys=function(a,b,c,d,e){const f=new Map,g=new Map,h=new Map,k=new Set,l=new Set,m=[],p=[];let q,r,t=1;for(const y of d){var u,w;d=c.fK(y.row);q=q!=null?Math.min(q,d):d;d=c.sK(y.column);r=r!=null?Math.min(r,d):d;d=c.layout.cells.get(y.row,y.column);const z=(d===null||d===void 0?void 0:d.span)||{Zb:y.row,dc:y.column,Ue:y.row,Xe:y.column},A=Kk(z.dc,z.Xe,c.layout.cols),B=Kk(z.Zb,z.Ue,c.layout.rows),D=`C${t++}`;var x=d===null||d===void 0?void 0:(u=d.ref)===null||u===void 0?void 0:u.content.ref;let G=x?
e(x):void 0;if((x===null||x===void 0?void 0:x.type)==="formula")switch(ta((G===null||G===void 0?void 0:G.type)==="formula"),x.value.type){case "invalid":break;case "canonical":x=__c.D6q(b,c,x.value);x=b.fie(c,x);if(x.type!=="canonical")throw Error();G={...G,value:{...__c.hYc,ppa:x.ppa,Bf:[]}};break;default:throw new v(x.value);}g.set(D,{...Es,content:G,Bb:(d===null||d===void 0?0:(w=d.ref)===null||w===void 0?0:w.Bb.ref)?__c.LNc.snapshot(d===null||d===void 0?void 0:d.ref.Bb.ref):void 0});h.set(`${z.dc.id}:${z.Zb.id}`,
c.layout.attrs.get(Ke.Gs,z.Zb,z.dc)||{});for(const I of A){k.has(I.id)||(k.add(I.id),m.push(__c.VNc.snapshot(I)));for(const K of B)l.has(K.id)||(l.add(K.id),p.push(__c.UNc.snapshot(K))),f.set(`${I.id}:${K.id}`,D)}}return{sheet:{zt:__c.qke(a.domain.cells,{Voa:g,CAc:f,cols:m,rows:p,_attributes:h}),C6:[],direction:c.direction,yr:new Map,VT:__c.tId,dqa:!1,view:__c.EYc},metadata:{t0b:q!==null&&q!==void 0?q:0,TSb:r!==null&&r!==void 0?r:0}}};
Jys=function(a,b,c){return(d,e)=>{var f;const g=c===null||c===void 0?void 0:c.getContent(a.config,e.Zb,e.dc),h=a.config.layout.attrs.get(Ke.Gs,e.Zb,e.dc)||{};var k=__c.LUb(h.textAlign,d===null||d===void 0?void 0:d.type,g===null||g===void 0?void 0:(f=g.Bb)===null||f===void 0?void 0:f.type);k={...__c.D_e(h),"text-align":k};f={...Ds,content:{...Cs,text:Lg.ld().attrs(k).Xb("\n").build()}};if(!g)return f;k=Lg.yWi().attrs(k);switch(d===null||d===void 0?void 0:d.type){case void 0:case "embed":case "number":case "boolean":case "plaintext":case "media":case "mention":var l=
k.Xb(g.zR+"\n").build();break;case "formula":d=`${e.dc.id}:${e.Zb.id}`;(d=b===null||b===void 0?void 0:b.VEe.get(d))&&(l=k.Xb(d+"\n").build());break;case "text2":l=Lg.snapshot(d.value);l=k.append(l).build();break;default:throw new v(d);}return l?{...Ds,content:{...Cs,text:Lg.zvb(l)},fill:{...ps,color:h===null||h===void 0?void 0:h.B_}}:f}};
Kys=function(a,b,c){return(d,e)=>{const f=a.config.layout.attrs.get(Ke.Gs,e.Zb,e.dc)||{};var g=__c.LUb(f.textAlign,d===null||d===void 0?void 0:d.type);g={...__c.Qy(f),textAlign:g};let h;(d===null||d===void 0?void 0:d.type)==="formula"?(d=`${e.dc.id}:${e.Zb.id}`,(d=b===null||b===void 0?void 0:b.VEe.get(d))&&(h=cl.ld().attrs(g).Xb(d+"\n").build())):d&&(h=c(a.config,d,e));return h?{...Ds,content:{text:h},fill:{...ps,color:f===null||f===void 0?void 0:f.B_}}:{...Ds,content:{...Cs,text:cl.ld().attrs(g).Xb("\n").build()}}}};
Mys=function(a){if(a)return[...a.entries()].map(([b,c])=>new Lys({...c,selection:b.slice(1)}))};Qys=function(a,{aspectRatio:b,On:c,ub:d}){return new Nys({aspectRatio:b&&new Oys(b),On:c&&new Pys(c),ub:d&&a.SVf(d)})};Vys=function(a){return new Rys({Mpa:a.Mpa.filter(ub).map(b=>new Sys({boundingBox:new Tys({left:b.boundingBox.skb,top:b.boundingBox.ukb,width:b.boundingBox.width,height:b.boundingBox.height}),naa:new Uys({Ad:b.naa.Ad,K5:b.naa.K5.filter(ub),n9c:b.naa.n9c})}))})};
kzs=function(a){return __c.ud(a.map(b=>{switch(b.type){case "inpainting":return new Wys({...b,mask:Xys(b.mask)});case "prompt_inpainting":var c=Xys(b.mask);a:{var d=b.Vhb;switch(d){case "normal":d=1;break a;case "color_harmonized":d=2;break a;case "phoenix":d=3;break a;default:throw new v(d);}}return new Yys({...b,mask:c,Vhb:d});case "text_breakout_inpainting":return new Zys({un:b.un});case "bg_remover":return new $ys(b);case "erase_restore":return new azs({...b,mask:new bzs(b.mask)});case "prompt_editing":return new czs({...b,
mask:b.mask?Xys(b.mask):void 0});case "outpainting":return new dzs({...b});case "segmentation_bg_remover":return new ezs({mask:Xys(b.mask)});case "image_merge":return new fzs({...b,Z3a:new gzs({...b.Z3a,DB:b.Z3a.DB&&new hzs({...b.Z3a.DB})})});case "bg_generation":return new izs(b);case "style_transfer":return new jzs(b);default:throw new v(b);}}))};nzs=function(a){return __c.ud(a.map(b=>new lzs({mask:Xys(b.mask),Li:b.Li&&new mzs(b.Li),DK:b.DK&&Mys(b.DK)||[]})))};
Xys=function(a){switch(a.type){case "mask_selection":return new bzs(a);case "segmentation_mask":const {points:c,nKa:d,...e}=a;a=__c.dBf(__c.ud(c));a:switch(d){case "standard":var b=1;break a;case "more":b=2;break a;default:throw new v(d);}return new ozs({...e,points:a,nKa:b});case "adaptive_brush_mask":return new pzs(a);case "foreground_mask":return new qzs({region:2});case "background_mask":return new qzs({region:1});default:throw new v(a);}};
rzs=function(a,{aspectRatio:b,On:c,ub:d}){return{aspectRatio:b&&{...b},On:c&&{...c},ub:d&&a.Mnf(d)}};szs=function(a){return a!==null&&a!==void 0&&a.length?new Map(a.map(b=>[`#${b.selection}`,b])):__c.My.DK};tzs=function(a){return{Mpa:a.Mpa.map(b=>{const c=b.boundingBox;return{boundingBox:{...c,skb:c.left,ukb:c.top},naa:{...b.naa}}})}};
vzs=function(a){return a.map(b=>{switch(b.type){case "INPAINTING":return{...b,type:"inpainting",mask:uzs(b.mask)};case "PROMPT_INPAINTING":var c=uzs(b.mask);a:{var d=b.Vhb;switch(d){case 1:d="normal";break a;case 2:d="color_harmonized";break a;case 3:d="phoenix";break a;default:throw new v(d);}}return{...b,type:"prompt_inpainting",mask:c,Vhb:d};case "TEXT_BREAKOUT_INPAINTING":return{type:"text_breakout_inpainting",un:b.un};case "BG_REMOVER":return{...b,type:"bg_remover"};case "ERASE_RESTORE":return{type:"erase_restore",
mask:{...b.mask,type:"mask_selection"}};case "PROMPT_EDITING":return{...b,type:"prompt_editing",mask:b.mask?uzs(b.mask):void 0};case "OUTPAINTING":return{...b,type:"outpainting"};case "SEGMENTATION_BG_REMOVER":return{type:"segmentation_bg_remover",mask:uzs(b.mask)};case "IMAGE_MERGE":return{...b,Dg:b.Bui,type:"image_merge"};case "BG_GENERATION":return{...b,type:"bg_generation"};case "STYLE_TRANSFER":return{...b,type:"style_transfer"};default:throw new v(b);}})};
wzs=function(a){return a.map(b=>({mask:uzs(b.mask),Li:b.Li&&{...b.Li},DK:b.DK&&szs(b.DK)}))};
uzs=function(a){switch(a.type){case "MASK_SELECTION":return{...a,type:"mask_selection"};case "SEGMENTATION_MASK":var b=a.UTa,c=a.points?__c.bBf(a.points.xs,a.points.ys):[];a:{var d=a.nKa;switch(d){case 1:d="standard";break a;case 2:d="more";break a;default:throw new v(d);}}return{...a,type:"segmentation_mask",UTa:b,points:c,nKa:d};case "ADAPTIVE_BRUSH_MASK":return{...a,type:"adaptive_brush_mask"};case "FGBG_MASK":return{type:a.region===1?"background_mask":"foreground_mask"};default:throw new v(a);
}};zzs=function(a,b,c){const d=[],e=[];b.forEach(g=>{var h;const k=(h=a.wM)===null||h===void 0?void 0:h.ZCe(g.image.ref);k&&d.push(k);e.push(Zg.R3(as.snapshot(g)))});const f=xzs(d);b={contentType:"page_backgrounds",cZb:b.length};return{PSb:new yzs({...c,uh:e,fill:e[0],cbe:f}),Nte:b}};
Azs=function(a,b,c,d,e){const {sheet:f,metadata:g}=Iys(__c.mBa,a.IB,c,b,k=>__c.ySc.snapshot(k)),h=[...b].sort((k,l)=>c.layout.rows.Yi(k.row,l.row)||c.layout.cols.Yi(k.column,l.column))[0];d=Dj(d,new xj(c.Bd(h.column),c.rd(h.row)));a=a.Vc?Hys(c,b,a.Vc):new Map;return{sheet:{...GYc,id:e,config:f,top:d.y,left:d.x,width:f.zt.cols.reduce((k,l)=>k+l.width,0),height:f.zt.rows.reduce((k,l)=>k+l.height,0)},metadata:{...g,VEe:a}}};
Bzs=async function(a,b,c){var d,e=a.selection.La;const f=e&&e.type==="pages"?e:void 0;e=!0;let g=b.uh.map(k=>eps(Zg.gY(k)));c.mb().addEvent("proto_deserialized");a.session!==b.session&&({a5b:e,uh:g}=await Fys(a.uBb,b,{uh:g},c));c.mb().addEvent("content_normalized");const h=a.viewport.mh;((d=a.timing)===null||d===void 0?0:d.Hs)&&h.type==="fixed-page"?(d=__c.XRd(a.qd,h.page.Jc,a.timing.zG),a.RV.bsn(g,d,b.width,b.height)):a.RV.Hsn(g[0],b.width,b.height,f);c.mb().addEvent("content_added");return e};
Czs=async function(a,b,c){if(!a.Op.JDj({SEl:b.tracks.length}))return c.abort(),!1;let d=b.tracks.map(f=>__c.kde(qu,Zg.EWh(f)));c.mb().addEvent("proto_deserialized");let e=!0;b.session!==a.session&&({a5b:e,tracks:d}=await Fys(a.uBb,b,{tracks:d},c));c.mb().addEvent("content_normalized");oV(()=>{var f;const g=(f=__c.Ki(d,k=>{var l;return(l=k.startUs)!==null&&l!==void 0?l:0}).startUs)!==null&&f!==void 0?f:0,h=a.Op.Jai()-g;d=d.reduce((k,l)=>{var m;const p=((m=l.startUs)!==null&&m!==void 0?m:0)+h;p<=a.Op.zPe&&
k.push({...l,startUs:p});return k},[]);f=a.XDa.document.audio.tracks.uda(void 0,d);c.mb().addEvent("content_added");__c.Fde(a.selection,f)});return e};
Fzs=function(a,b,c,d,e){var f;b=Dzs(b,{width:d,height:e,units:4},a.gb.Zk(c.page),a.viewport.jz().transform(a.viewport.Ol(c)),Ezs(a,c));d=__c.Ki(b,l=>Math.min(...Vj(l).oh().map(m=>m.y)));const g=Vj(d);d=l=>c.page.elements.some(m=>{m=Vj(m);const p=g.transform(Kj(l,l));return m.approximatelyEquals(p)});let h=0;for(;d(h);)h+=__c.Gk;if((f=a.timing)===null||f===void 0?0:f.Hs){f=a.timing.zG;var k;d=(k=__c.Ki(b,m=>{var p;return(p=m.startUs)!==null&&p!==void 0?p:0}).startUs)!==null&&k!==void 0?k:0;const l=
f-d;b=b.map(m=>{var p;const q=((p=m.startUs)!==null&&p!==void 0?p:0)+l;p=m.durationUs!=null?m.durationUs:m.type!=="rect"&&m.type!=="layout"||m.fill.video==null?5E6:a.qd.AVb(m.fill.video)||5E6;return{...m,startUs:q,durationUs:p}})}return b.map(l=>__c.tw(l,Kj(h,h)))};Ezs=function(a,b){const c=a.SLa.store.H_;if((c===null||c===void 0?void 0:c.page)===b.page)return a.viewport.Ol(b).transformPoint(c.position)};
Gzs=function(a,b,c,d){var e,f,g,h;c={width:c,height:d,units:4};c=b.dimensions||c;d=a.XDa.document.dimensions;return((f=a.XDa.doctype)===null||f===void 0?0:(e=f.Qc)===null||e===void 0?0:e.AMa)||((h=a.XDa.doctype)===null||h===void 0?0:(g=h.Qc)===null||g===void 0?0:g.Web)?(e=d.width/c.width,e=zg(c)?d:{width:c.width*e,height:c.height*e,units:4},__c.Xne(c,e,e,b,a.Gb)):a.G2c&&zg(c)||b.sheet!=null?{...b,dimensions:c}:__c.Une(c,d,b,a.Gb)};
Dzs=function(a,b,c,d,e){if(!a.length)return[];const f=Zj(0,a.map(Vj));b=zg(b)?f:Vj({left:0,top:0,...xg(4,b)});const g=!zg(c),h=g?Vj({left:0,top:0,...xg(4,c)}):void 0;c=f;!h||h.approximatelyEquals(b)||__c.bk(h,f)||(c=__c.tde(f.transform(Oj(f.tl,h.tl)),h.tl,h));if(!g)c=c.transform(e?Oj(c.c,e):Oj(c.c,d.c));else if(h&&!Yj(c,d)){var k;e=(k=Yj(h,d))!==null&&k!==void 0?k:d;c=c.transform(Oj(c.c,e.c))}const l=Jj().then(Oj(f.tl,c.tl)).then(__c.Qj(c.tl,c.width/f.width));return a.map(m=>__c.tw(m,l))};
xzs=function(a){return a.map(b=>new Hzs({value:b&&Izs.serialize(b)}))};Jzs=function(a){switch(a){case "solid":return __c.age([]);case "dotted":return __c.age([1,1]);case "dashed":return __c.age([3,1]);default:throw new v(a);}};Kzs=function(a){const b=[];a.cells.qpa===1&&a.forEach({item:c=>b.push(c)});return b};Lzs=function(a){return a<=0?"solid":a===1?"dotted":"dashed"};
Mzs=function(a,b,c){const d=cV.element("td");(a=c===null||c===void 0?void 0:c.getContent(a,b.row,b.column))&&d.setContent(a.zR);return d};Nzs=function(a,b){const c=new Map;for(const {row:d,column:e}of b)(b=__c.xde(__c.vId,a,e,d))&&c.set(dps(e,d),b);return c};Ozs=function(a){const b=new Map;for(const c of a.layout.rows)for(const d of a.layout.cols){const e=__c.xde(__c.vId,a,d,c);e&&b.set(dps(d,c),e)}return b};
Pzs=function(a){if(a.udf){var b=a.udf.transform();if(b.cells.Ya().trim().length!==0){var c=__c.xQb(a.Pi,b,1,"em-square"),d=__c.Un(c,a.container.width);c.destroy();b={...__c.Is,id:a.Gb.Cg.generate(),top:a.Ulc,left:0,width:d.width,height:d.height,text:b,Vn:1,Xu:1,Jf:{Xh:d.Xh}};a.elements.push(b);a.Ulc+=d.height}}};sV=function(a){a.F$==null||a.Pen(a.F$)||a.LLa("\n")};
Qzs=function(a,b,c){const d={},e=()=>{vV(kss(c,a),h=>{d["font-size"]=h});var g=xss(c,a);vV(g?g*1E3:void 0,h=>{d.leading=h});g=Bss(c,a);vV(g?g*1E3:void 0,h=>{d.tracking=h});vV(rss(c,a),h=>{d["text-transform"]=h});g=tss(c,a);vV(g,h=>{d.direction=h});vV(mss(c,a,g),h=>{d["text-align"]=h});g=nss(a);vV(g,h=>{d["list-level"]=h});vV(g?g*1700:void 0,h=>{d["head-indent"]=h});vV(oss(a),h=>{h!=="checked"&&h!=="unchecked"&&(d["list-marker"]=h)});vV(Css(a),h=>{d.semantics=h})},f=()=>{vV(lss(c,a),g=>{d["font-weight"]=
g});vV(pss(c,a),g=>{d["font-style"]=g});vV(dss(c,a),g=>{d.color=g});vV(qss(c,a),g=>{d.decoration=g});vV(sss(c,a),g=>{d.strikethrough=g});vV(Nps(a),g=>{d.link=g})};switch(b){case "block":e();f();break;case "inline":f();break;default:throw new v(b);}return d};vV=function(a,b){a!=null&&b(a)};Rzs=function(a){a.seb&&(a.CWa.push(a.seb),a.seb=void 0)};Szs=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};
Uzs=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":d=Lg.MI.deserialize(d.text);const k=cV.element("div");(new Tzs(d)).transform().forEach(q=>{k.appendChild(q)});return k;case "GROUP":const l=cV.element("div");Uzs(a,d.nb).forEach(q=>l.appendChild(q));return l;case "TABLE":return d=Zg.wxe(d),Dps(a.tPa,d,q=>{const r=cV.element("td");(new Tzs(q)).transform().forEach(t=>r.appendChild(t));return r});case "SHEET":d=__c.oBa(Zg,d);const m=BMb.create(d),p=c===null||c===void 0?void 0:c.sheets[d.id];
d=p?p.cells?Nzs(p.sheet,p.cells):Ozs(p.sheet):Ozs(m.config);return(new Vzs(m.config,(q,r)=>{switch(q.type){case "text2":const t=cV.element("td");r=Lg.snapshot(q.value);(new Tzs(r)).transform().forEach(w=>t.appendChild(w));return t;default:q=(p===null||p===void 0?void 0:p.sheet)||m.config;const u=n(q.s0b(r.row.id));r=n(q.SSb(r.column.id));return Mzs(q,{row:u,column:r},a.Vc)}},d)).transform();case "SHAPE":var e;if(!d.ed.length)break;var f=__c.Ln.create(Zg.dFc(d)),g=n(f.ed.first());d=g.text.Ya.trim();
if(!d)break;var h;f=gk(f)?(h=(e=f.ed.next(g))===null||e===void 0?void 0:e.text.Ya.trim())!==null&&h!==void 0?h:"":"";if(!f)return f=cV.element("p"),f.setContent(d),f;e=cV.element("table");g=e.appendChild(cV.element("tr"));h=g.appendChild(cV.element("td"));g=g.appendChild(cV.element("td"));h.setContent(d);g.setContent(f);return e;case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new v(d);}}).filter(ub)};
Wzs=function(a,b,c){return b.map(d=>{switch(d.type){case "TEXT":return Lg.MI.deserialize(d.text).cells.Ya().trim();case "GROUP":return Wzs(a,d.nb);case "TABLE":var e=Zg.wxe(d);return Cps(a.tPa,e);case "SHEET":e=__c.oBa(Zg,d);var f=BMb.create(e);d=c===null||c===void 0?void 0:c.sheets[e.id];const h=(d===null||d===void 0?void 0:d.sheet)||f.config;return a.Poh.serialize(e.config,l=>l(h));case "SHAPE":if(!d.ed.length)break;var g=__c.Ln.create(Zg.dFc(d));const k=n(g.ed.first());d=k.text.Ya.trim();if(!d)break;
g=gk(g)?(f=(e=g.ed.next(k))===null||e===void 0?void 0:e.text.Ya.trim())!==null&&f!==void 0?f:"":"";return d+(g?` \u2014 ${g}`:"");case "EMBED":case "RECT":case "CHART":case "GRID":case "LAYOUT":case "LINE":case "CONTROLLED":break;default:throw new v(d);}}).filter(ub).join("\n")};
Zzs=function(a,b){const c=a.grid.Wv;var d=b.map(l=>Xzs(l,c));const e=Yzs(d.map(l=>l.gridColumnStart)),f=Yzs(d.map(l=>l.gridRowStart));var g=a.grid.gridTemplateColumns.filter((l,m)=>e.includes(m+1));d=a.grid.gridTemplateRows.filter((l,m)=>f.includes(m+1));g=g.map(l=>parseFloat(l));const h=Math.min(...g),k=h<1?1/h:1;g=g.map(l=>`${l*k}fr`);return{Cp:a.Cp,grid:{gridTemplateColumns:g,gridTemplateRows:d,columnGap:a.grid.columnGap,rowGap:a.grid.rowGap,Wv:new Map(b.map(l=>{const m=Xzs(l,c),p=e.indexOf(m.gridColumnStart)+
1,q=f.indexOf(m.gridRowStart)+1;__c.ua(m.gridColumnStart+1,m.gridColumnEnd);__c.ua(m.gridRowStart+1,m.gridRowEnd);return[l,{...__c.wn,alignSelf:m.alignSelf,padding:m.padding,gridColumnStart:p.toString(),gridColumnEnd:(p+1).toString(),gridRowStart:q.toString(),gridRowEnd:(q+1).toString()}]}))}}};
Xzs=function(a,b){a=b.get(a);b=d=>{d=parseInt(d!==null&&d!==void 0?d:"1",10);ta(!isNaN(d),"Invalid placement position");return isNaN(d)?1:d};var c;return{alignSelf:a===null||a===void 0?void 0:a.alignSelf,padding:(c=a===null||a===void 0?void 0:a.padding)!==null&&c!==void 0?c:__c.dYc,gridColumnStart:b(a===null||a===void 0?void 0:a.gridColumnStart),gridRowStart:b(a===null||a===void 0?void 0:a.gridRowStart),gridColumnEnd:b(a===null||a===void 0?void 0:a.gridColumnEnd),gridRowEnd:b(a===null||a===void 0?
void 0:a.gridRowEnd)}};
bAs=function(a,b,c,d,e){const f=[];b.forEach({item:m=>{f.push($zs(m));if(m.type==="sheet"&&!c.has(m.id)){var p=WUc.create(m);p=a.Vc?Hys(p.config,p.config.layout.cells.map((q,r)=>({row:r.Zb,column:r.dc})),a.Vc):new Map;c.set(m.id,{t0b:0,TSb:0,VEe:p})}}});var g=__c.sLr(a.Xa),h=a.wM&&g?__c.qKf(a.wM,[...g.items.values()]):[];g===null||g===void 0||g.disconnect();g=h.map(m=>new Hzs({value:m&&Izs.serialize(m)}));const {media:k,zc:l}=__c.Jf({FH:[b]});h={contentType:"richtext3",cZb:f.length,oD:f.join(", "),
FD:[...k.map(m=>m.id),...l]};b=Zg.u5a(b);return{PSb:new aAs({...e,Oc:b,cbe:g,Awc:c}),Nte:h,pDc:d}};eAs=function(a,b,c,d,e,f,g,h,k){b.type==="table"?a.CB.tri(d,e,f,b,!0,"clipboard"):b.type==="sheet"?(c=c!=null?h===null||h===void 0?void 0:h.get(c):void 0,b=cAs(a,b,c),a.CB.tri(d,e,f,b,!0,"clipboard")):dAs(a,b,g,k)};
gAs=function(a,b,c,d,e,f,g,h){c=c!=null?e===null||e===void 0?void 0:e.get(c):void 0;b.type==="sheet"?vys(a.kWa,b,c,f,g,h):b.type==="table"?(b=(new fAs(a.Gb,k=>zys(a.pR.config.FFg(k)),__c.qAa,k=>{if(!a.Vc)return k;const l=__c.VUc.create(k);Cz(a.Vc,m=>{l.layout.cells.forEach((p,q)=>{p.content.ref&&p.content.ref.type==="text3"&&m.Xec(l,{column:q.dc,row:q.Zb},p.content.ref.value)})});return __c.VUc.snapshot(l)},b)).transform(),b={...ZYc,id:a.Gb.Ai.generate(),config:b},vys(a.kWa,b,c,f,g,h)):dAs(a,b,d,
f)};dAs=function(a,b,c,d){b=hAs(a,b);const e=cl.ld();for(f of b)e.append(f);var f=cl.zvb(e.build());iAs(a,f.slice(0,f.length-1),c,d)};
iAs=function(a,b,c,d){var e,f,g;const h=((e=a.selection.La)===null||e===void 0?void 0:e.type)==="pages"&&((f=a.selection.La.Nd)===null||f===void 0?void 0:f.type)==="responsive"?a.selection.La.Nd:void 0;h&&a.Xa.Ru(h.text,Qw.end());b=Ays(a.kWa,b,d);(b=b===null||b===void 0?void 0:b.uHj())&&b.items.size>0&&((g=a.wM)===null||g===void 0||__c.oKf(g,[...b.items],c));b===null||b===void 0||b.disconnect()};kAs=function(a,b,c){return jAs(a)&&!c.marker.Jg.ref&&b.width==="100cqw"};
hAs=function(a,b){switch(b.type){case "table":return[...b.cells.values()].filter(({content:{text:d}})=>d.cells.qpa>1||d.cells.qB>0).map(d=>d.content.text);case "sheet":const c=WUc.create(b);return c.config.layout.cells.map((d,e)=>d.content.ref?lAs(a,c.config,d.content.ref,e):void 0).filter(ub);case "layout":return[...b.cells.values()].filter(({text:d})=>d.cells.qpa>1||d.cells.qB>0).map(d=>d.text);default:throw new v(b);}};
lAs=function(a,b,c,d){var e,f,g=__c.me(Ke,b.layout.attrs.get(Ke.Gs,d.Zb,d.dc)||{});const h=(e=a.Vc)===null||e===void 0?void 0:e.getContent(b,d.Zb,d.dc);b=__c.LUb(g.textAlign,c.type,h===null||h===void 0?void 0:(f=h.Bb)===null||f===void 0?void 0:f.type,h?()=>h.VC.type:void 0);f={...__c.Qy(g),textAlign:b};g=h===null||h===void 0?void 0:h.zR;if(b=h===null||h===void 0?void 0:h.Bb)switch(b.type){case "date":if(c.type==="number"&&(b=__c.ryb(c.value)))return cl.ld().attrs(f).item(mAs(b,g,a.XDa.document.language)).Xb("\n").build();
break;case "select":if(g)return cl.ld().attrs(f).item(nAs(g,b.options)).Xb("\n").build()}switch(c.type){case "number":case "formula":case "boolean":case "plaintext":return g&&g.length>0?cl.ld().attrs(f).Xb(`${g}\n`).build():void 0;case "media":if(c.value.count()===0)break;const k=cl.ld().attrs(f);c.value.forEach(p=>k.item(oAs(p)));return k.Xb("\n").build();case "mention":if(c.value.count()===0)break;const l=cl.ld().attrs(f);c.value.forEach(p=>l.item({...__c.eZc,fi:{type:"mention",...p}}));return l.Xb("\n").build();
case "embed":if(c.value.count()===0)break;const m=cl.ld().attrs(f);c.value.forEach(p=>m.item({...__c.eZc,fi:{type:"embed",...p.embed}}));return m.Xb("\n").build();case "text3":return a=cl.snapshot(c.value),a.cells.qpa>1||a.cells.qB>0?cl.ld().attrs(f).append(a).build():void 0;default:throw new v(c);}};cAs=function(a,b,c){b=WUc.create(b);c=(new pAs(Kys(b,c,(d,e,f)=>lAs(a,d,e,f)),b.config)).transform();return{...__c.YYc,...c}};
jAs=function(a){const b=a.selection.Jb;if(!b||b.container.type!=="body"&&b.container.type!=="responsive-page")return!1;switch(b.type){case 0:return a.Xa.Jma(b.container.text,b.range,Qw.start()).intersects;case 1:return!!b.only&&!a.Xa.USd(b.container.text,b.only);default:return!1}};
qAs=function(a,b,c){switch(b.type){case "controlled":case "rect":case "chart":case "design":case "embed":case "pill":case "break":case "separator":case "sheet":return b;case "shape":throw new __c.Fv;case "table":return{...b,cells:pd(b.cells,d=>({...d,content:{...d.content,text:a.ZTf(d.content.text,c)}}))};case "layout":return{...b,cells:pd(b.cells,d=>({...d,text:a.ZTf(d.text,c)}))};default:throw new v(b);}};rAs=function(a){let b;a.cells.qB===1&&a.cells.qpa===0&&a.forEach({item:c=>{b=c}});return b};
sAs=function(a){const b=[];a.cells.qpa===0&&a.forEach({item:c=>b.push(c)});return b};$zs=function(a){switch(a.type){case "pill":return`${a.fi.type}_${a.type}`.toLowerCase();default:return a.type.toLowerCase()}};oAs=function(a){var b,c;const {width:d,height:e}=n(a.Ex||((b=a.fill.image.ref)===null||b===void 0?void 0:b.ub)||((c=a.fill.video.ref)===null||c===void 0?void 0:c.ub));return{...__c.WYc,eb:d,Ub:e,fill:as.snapshot(a.fill)}};
mAs=function(a,b,c){return{...__c.eZc,fi:{type:"date",text:b!==null&&b!==void 0?b:a.toString(),date:{day:a.getUTCDate(),month:(a.getUTCMonth()+1)%12,year:a.getUTCFullYear()},language:c!==null&&c!==void 0?c:"en",style:2}}};nAs=function(a,b){let c="0";b=b.map((d,e)=>{d.label===a&&(c=e.toString());return{id:e,label:d.label,fill:{...ps,color:d.fill.color}}});return{...__c.eZc,fi:{type:"select",text:a,options:b,WG:c}}};
vAs=function(a,b,c){const d=Qb("cf27dcb6",!1),e=Qb("73c869d2",!1),f={},g=()=>{var k=tss(c,a);wV(k,l=>{f.direction=l});wV(mss(c,a,k),l=>{f.textAlign=l});wV(nss(a),l=>{f.Ek=l});wV(oss(a),l=>{f.Fk=l});wV(xss(c,a),l=>{f.lineHeight=l});k=tAs(a,k);wV(k,l=>{f.marginInlineStart=l});wV(uAs(a,k),l=>{f.textIndent=l});wV(Css(a),l=>{e&&(f.nCa=l)})},h=()=>{wV(kss(c,a),k=>{if(!d||a.tagName!=="SUB"&&a.tagName!=="SUP")f.fontSize=k});wV(lss(c,a),k=>{f.fontWeight=k});wV(pss(c,a),k=>{f.fontStyle=k});wV(dss(c,a),k=>{f.color=
k});wV(ass(c,a),k=>{k!=="#ffffff"&&(f.backgroundColor=k,f.Ava=__c.Lag.Ava,f.zva=__c.Lag.zva)});wV(qss(c,a),k=>{f.decoration=k});wV(sss(c,a),k=>{f.tv=k});wV(Nps(a),k=>{f.link=k});wV(Bss(c,a),k=>{f.letterSpacing=k});wV(Dss(c,a),k=>{if(d)switch(k){case "super":f.verticalAlign=__c.vB.verticalAlign;f.OJ=__c.vB.OJ;break;case "sub":f.verticalAlign=__c.Yyg.verticalAlign;f.OJ=__c.Yyg.OJ;break;default:throw new v(k);}})};switch(b){case "block":g();h();break;case "inline":h();break;default:throw new v(b);}return f};
uAs=function(a,b){a=ess(qV(a.style.textIndent));b=a!=null&&a>0?24+((b||0)===0?8:0):0;return b>0?b:void 0};tAs=function(a,b){b=b==="rtl"?a.style.marginRight:a.style.marginLeft;return(a=ess(qV(a.style.marginInlineStart||b)))?Qps(a):void 0};wV=function(a,b){a!=null&&b(a)};
wAs=function(a,b){const {width:c,height:d}=Ji(a.files,g=>g.width);ta(c>0&&d>0);const e=Sj(0,0,c,d).Mb();let f;b?f="100%":b=a.type===2?"50%":c<d?"50%":"100%";return{...__c.WYc,width:b,maxWidth:f,fill:{...ps,image:{...__c.os,media:{id:a.id,version:a.version},ub:e}},eb:void 0,Ub:void 0}};yAs=function(a,b){return Dps(a.tPa,b,c=>{const d=cV.element("td");(new xAs(c,a.Vc,a.tPa)).transform().forEach(e=>d.appendChild(e));return d})};
zAs=function(a,b){var c;const d=WUc.create(b),e=(c=a.pDc)===null||c===void 0?void 0:c.sheets[b.id];b=e?e.cells?Nzs(e.sheet,e.cells):Ozs(e.sheet):Ozs(d.config);return(new Vzs(d.config,(f,g)=>{switch(f.type){case "text3":return g=cl.snapshot(f.value),g=(new xAs(g,a.Vc,a.tPa)).transform(),f=cV.element("td"),f.setContent(g.join("")),f;default:f=(e===null||e===void 0?void 0:e.sheet)||d.config;const h=n(f.s0b(g.row.id));g=n(f.SSb(g.column.id));return Mzs(f,{row:h,column:g},a.Vc)}},b)).transform()};
BAs=function(a,b){const c=cV.element("table"),d=cV.element("tr");c.appendChild(d);c.setStyle("padding-block-start",`${b.padding.rd}px`);c.setStyle("padding-block-end",`${b.padding.Ge}px`);b.fill.color&&c.setStyle("background-color",b.fill.color);b.cells.forEach(e=>{e=AAs(a,e);d.appendChild(e)});return c};AAs=function(a,b){const c=cV.element("td");(new xAs(b.text,a.Vc,a.tPa)).transform().forEach(d=>c.appendChild(d));b.fill.color&&c.setStyle("background-color",b.fill.color);return c};
CAs=function(a){return a==="decimal"||a==="lower-alpha"||a==="lower-roman"?"ol":"ul"};EAs=function(a,b,c,d,e){var f;const g=new Fss(b.getElementsByTagName("style"));e=new DAs(()=>({...a.awd(),...d}),{QWd:h=>a.QWd(h,c),PWd:h=>a.PWd(h,g,c)},g,a.Gb,c,()=>Ry,e,(f=a.Ua)===null||f===void 0?void 0:f.FZc,a.Wwl);return Mps(b,e).transform()};
GAs=function({mCr:a,XCr:b,gIs:c,uIs:d,vIs:e,kh:f,la:g,ka:h,Ec:k}){const l=gV(()=>k.Iv=void 0),m=gV(()=>k.Iv=()=>dV(__c.cvr,{closeDialog:l})),p=gV(()=>k.Iv=()=>dV(FAs,{closeDialog:l})),q=Symbol("ContextualMenuCopyPaste"),r=A=>{h.layout===2&&g.Ib({Cb:A,group:q})},t=A=>{A&&r(L("l7+Eng"))},u=()=>{h.layout===2?p():m()},w=()=>a().then(()=>r(L("hQep9g"))).catch(u),x=()=>b().then(t).catch(u),y=()=>b({Did:!0}).then(t).catch(u),z=()=>b({kCg:!0}).then(t).catch(u);f.kc(()=>({CJs:c(),iLs:d(),jLs:e()}),(A,{CJs:B,
iLs:D,jLs:G})=>{A.Ejd=B?{Button:I=>dV(I.fl,{Icon:OD,label:L("y+PwqQ"),onClick:w,oa:I.oa,im:bl("c")})}:void 0;A.pkd=D?{Button:I=>{const K=hV(()=>{var N,M;(N=I.oa)===null||N===void 0||N.call(I);(M=I.Ng)===null||M===void 0||M.clear()},[I]);return dV(I.fl,{Icon:__c.rhr,label:L("mvO3fA"),onClick:x,oa:K,im:bl("v")})}}:void 0;A.tgj=G?{Button:I=>dV(I.fl,{...I,Icon:__c.rhr,label:L("iV8+cw")})}:void 0;A.N8f=G?{Button:I=>dV(I.fl,{...I,Icon:__c.rhr,label:L("JQ7LxA"),onClick:y,im:bl(Vo("v"))})}:void 0;A.M8f=G?
{Button:I=>dV(I.fl,{...I,Icon:__c.rhr,label:L("RBZgMg"),onClick:z,im:bl(Xo("v"))})}:void 0},{equals:lV.shallow})};
KAs=function(a,b,c,d){const e=a.selection,f=a.Vc,g=a.Gb,h=a.hh,k=new HAs(c,a.uLd,f,a.Kn,g,(h===null||h===void 0?void 0:h.Aaa)||d.Aaa,{FZc:()=>{var r;return((r=e.Jb)===null||r===void 0?void 0:r.type)===4}},IAs);if(a.Ja==="responsive")return k;const l=a.session,m=a.viewport,p=new JAs(b,()=>{const r=m.mh;if(r.type==="responsive-page")throw Error("Cannot get the target box for a responsive page");const t=xg(4,r.page.dimensions||l.document.dimensions);return zg(t)?m.jz().transform(m.Ol(r)).scale(.85):
Vj({top:0,left:0,...t}).translate(t.width*.075,t.height*.075).scale(.85)},a.Pi,a.AZi,f,g,(h===null||h===void 0?void 0:h.Aaa)||d.Aaa,{FZc:()=>{var r,t;return((t=e.La)===null||t===void 0?void 0:(r=t.inner)===null||r===void 0?void 0:r.type)!=="table"}}),q=()=>{var r,t;return e.Jb||((r=e.La)===null||r===void 0?void 0:r.type)==="pages"&&((t=e.La.Nd)===null||t===void 0?void 0:t.type)==="responsive"?k:p};return{JWh(r){return q().JWh(r)},NWd(r){return q().NWd(r)},Nnf(r){return q().Nnf(r)},serialize(r){return q().serialize(r)}}};
QAs=function(a,b,c,d,e,f){const g=a.alert,h=a.Bc;var k=a.session;const l=a.Ma,m=a.viewport,p=a.la,q=a.Xa,r=a.selection;var t=a.Ng;const u=a.N;var w=a.oc;const x=a.Ep,y=a.qc;var z=a.lU;const A=a.Np;var B=a.uLd,D=a.fja,G=a.uxc;const I=a.timing,K=a.Gb,N=a.IB;var M=a.jba;const S=a.Vi,Q=a.Vc;var W=a.BJ,X=a.hS,ba=a.Xr;const da=a.C8a,la=a.zIa,ka=a.hwa,oa=()=>{const qa=g.Bq(()=>dV(Pk,{dismissible:!0,Lc:qa,tone:"warn",GH:!1,children:L("1qqN6w")}))},{kUf:ja}=new LAs({session:0,ja:"",domain:"",width:0,height:0});
d=new MAs(r,a.Ja!=="responsive"?a.jc:void 0,m,p,K,w,q,d,e,a.Ja!=="responsive"?a.rPa:void 0,N,M,S,Q,W,X,ba,da.lsb,da.ksb,da.Bfe);const fa=new NAs(b,d,c,oa,qa=>{ka.HKb&&[...qa.values()].find(ra=>!__c.umf(ka,ra))&&p.Ib({Cb:L("Y1SDvw"),rr:{buttonText:L("0MD9lQ"),onClick:()=>la.z_k()},group:OAs})},ja,qa=>!(h===null||h===void 0||!h.rules.find(ra=>{var sa;return((sa=ra.kd)===null||sa===void 0?void 0:sa.brand)===qa})),document.location.hostname,k,Date.now(),l,q,r,t,u,f,w,y,x,z,A===null||A===void 0?void 0:
A.wM,B,D,G,N,S,Q,K);if(a.Ja==="responsive")return fa;k=new __c.Yi(Math.round(Math.random()*1E4).toString(36)+Date.now().toString(36));t=a.SLa;w=a.xPb;z=a.rPa;B=a.Hb;D=a.gb;G=a.RV;e=a.wr;M=a.AZi;W=a.Sga;X=a.ME;ba=a.Ng;const aa=a.qd,ca=new PAs(fa,b,d,a.oc,c,oa,ja,k,document.location.hostname,a.session,Date.now(),l,q,B,u,f,r,ba,A===null||A===void 0?void 0:A.wM,m,t,D,G,e,w,z,M,I,aa,N,S,Q,K,W,y,x,p,X,da.G2c,da.RE);return{copy(qa,ra){return(r.Jb?fa:ca).copy(qa,ra)},cut(qa,ra,sa,wa){return(r.Jb?fa:ca).cut(qa,
ra,sa,wa)},paste(qa,ra,sa,wa,za){return(r.Jb?fa:ca).paste(qa,ra,sa,wa,za)},sod(){return(r.Jb?fa:ca).sod()},Jhg(){return(r.Jb?fa:ca).Jhg()},Ckc(){return(r.Jb?fa:ca).Ckc()},l_f(qa){return(r.Jb?fa:ca).l_f(qa)}}};
SAs=function(a,b,c,d,e,f){const g=a.Ja,h=a.Ma,k=a.errorService,l=a.N,m=a.selection,p=a.Xa,q=a.la,r=a.wBb,t=a.jqd,u=I=>{k.hu({level:"info",category:"clipboard",message:I})},w=async(I,K,N)=>{u("cut");I=b.sb(I,{Fb:{name:"editor.cut"}});const M=await c.cut(N,K,I,void 0);M?(I.mb().nG(M.PSb.type.toLowerCase()),I.mb().addEvent("copied"),I.mb().nk(({Ii:S})=>{l.track(Jjf,{...M.Nte,action:"cut",kb:K,Rb:S()})}),I.ne()):(I.mb().nG("no_data"),I.end())},x=I=>{h.mode>=30?I=p.focused:I!==null&&I!==void 0&&I.target?
I.target instanceof Element&&__c.NTb(I.target)!=null?I=!0:(I=I.target,I=I instanceof Node?I.parentElement:null,I=(I===null||I===void 0?void 0:I.closest(".a5dsSw"))!=null):I=!1;return I},y=async I=>{if(!(h.mode<=20)&&(x(I)||document.activeElement&&Ips()!=null||!__c.Jba(I)&&!z()))return w("editor_clipboard_cut_shortcut_used","shortcut",I)},z=()=>{var I;return((I=document.getSelection())===null||I===void 0?void 0:I.type)==="Range"},A=async(I,K,N)=>{u("copy");I=b.sb(I,{Fb:{name:"editor.copy"}});const M=
await c.copy(N,void 0);M?(I.mb().nG(M.PSb.type.toLowerCase()),I.mb().addEvent("copied"),I.mb().nk(({Ii:S})=>{l.track(Jjf,{...M.Nte,action:"copy",kb:K,Rb:S()})}),I.ne()):(I.mb().nG("no_data"),I.end())},B=async I=>{(x(I)||document.activeElement&&Ips()!=null||!__c.Jba(I)&&!z())&&await A("editor_clipboard_copy_shortcut_used","shortcut",I)},D=async(I,K,N,M)=>{u("paste");const S=b.sb(I,{Fb:{name:"editor.paste",attrs:new Map([["control_context",K]])}});N===null||N===void 0||N.preventDefault();I=await d.paste(N,
void 0,m.Jb&&(M===null||M===void 0?0:M.YSn)?new Set(["text/plain"]):void 0);if(!I)return q.Ib({Cb:L("xsdoFQ")}),S.mb().nG("no_data"),S.end(),!1;S.mb().addEvent("clipboard_data_read");S.mb().nG(Yps(I.type));await c.paste(I,S,K,(f===null||f===void 0?void 0:f.Aaa)||e.Aaa,M).catch(Q=>{if(Q instanceof __c.fpe)S.abort(),q.Ib({Cb:L("d6WIJg"),group:__c.epe});else throw S.end("error"),Q;});return!0},G=async(I,K)=>{h.mode<=30||!(x(I)||document.activeElement&&Ips()!=null)&&__c.Jba(I)||await D("editor_clipboard_paste_shortcut_used",
"shortcut",I,K)};GAs({mCr:()=>A("editor_clipboard_copy_menu_used","menu"),XCr:I=>D("editor_clipboard_paste_menu_used","menu",void 0,I),gIs:()=>c.sod(),uIs:()=>c.Jhg(),vIs:()=>c.Ckc(),kh:a.kh,ka:a.ka,Ec:a.Ec,la:q});if(g==="responsive")document.addEventListener("cut",y),document.addEventListener("copy",B),document.addEventListener("paste",G);else if(RAs()){const I=[bl("x"),()=>y(),L("EtFtgQ"),["edit"]],K=[bl("c"),()=>B(),L("y+PwqQ"),["edit"]],N=[bl("v"),()=>G(),L("mvO3fA"),["edit"]];a.W_d.register(I);
a.W_d.register(K);a.W_d.register(N)}else document.addEventListener("cut",y),document.addEventListener("copy",B),document.addEventListener("paste",G,{capture:!0});r.register([bl(Vo("v")),()=>{D("editor_clipboard_paste_shortcut_used","shortcut",void 0,{Did:c.Ckc(),YSn:!c.Ckc()})},L("mvO3fA"),["edit","suggest"]],[bl(Xo(Vo("v"))),()=>{D("editor_clipboard_paste_shortcut_used","shortcut",void 0,{Did:c.Ckc(),YSn:!c.Ckc()})},L("mvO3fA"),["edit","suggest"]],[bl(Xo("v")),()=>{!t.i$a&&c.Ckc()&&D("editor_clipboard_paste_shortcut_used",
"shortcut",void 0,{kCg:!0})},L("mvO3fA"),["edit","suggest"]]);g!=="responsive"&&a.W_d.register([bl(Vo("v")),()=>{c.Ckc()&&G(void 0,{Did:!0})},L("mvO3fA"),["edit"]],[bl(Xo(Vo("v"))),()=>{c.Ckc()&&G(void 0,{Did:!0})},L("mvO3fA"),["edit"]],[bl(Xo("v")),()=>{!t.i$a&&c.Ckc()&&G(void 0,{kCg:!0})},L("mvO3fA"),["edit"]])};RAs=function(){var a=navigator;return a!=null&&/iPad|Macintosh/i.test(a.userAgent)&&a.maxTouchPoints!=null&&a.maxTouchPoints>2};
WAs=function(a){const b=a.mNp;a=a.fY;const c=new TAs;a=new UAs(c,a);b.azh=fV(()=>c.eae==null?null:dV(VAs,{bounds:c.eae}));return{uNp:a}};XAs=function(a,b){return __c.Eo.I2j&&lk(a.gb,b,c=>!(c===null||c===void 0||!c.Oxg))};YAs=function(a){return a.every(b=>!!b.fill.image.ref)};ZAs=function(a){return a.every(b=>!!b.fill.video.ref)};$As=function(a){return a.every(b=>!!b.fill.image.ref)};aBs=function(a){return a.every(b=>!!b.fill.video.ref)};
bBs=function(a,b,c,d){switch(b.type){case "group":case "grid":case "table":case "sheet":var e,f;a.Eta(c,d,1,b.container.container);(e=(f=a.Ep).awa)===null||e===void 0||e.call(f,[b.container.ia],b.container.container);return!0;case "sheet-cell-media":var g,h;a.Eta(c,d,1,b.container.container.container);(g=(h=a.Ep).awa)===null||g===void 0||g.call(h,[b.sheet],b.container.container.container);return!0;case "shape":var k,l;a.Eta(c,d,1,b.container.container);(k=(l=a.Ep).awa)===null||k===void 0||k.call(l,
[b.shape],b.container.container);return!0;case "layout":case "layout-cell":return!1;default:throw new v(b);}};
cBs=function(a,b,c,d){var e,f;if(c.length===b.layout.cells.size)switch(c=b.container,c.type){case "fixed-page":var g,h;(g=(h=a.Ep).awa)===null||g===void 0||g.call(h,[b.layout],c);break;case "group-element":case "controlled-element":throw Error("Deleting layout in these containers not supported");case "layout-element-cell":cBs(a,c.container,[c.rb],d);break;default:throw new v(c);}else(e=(f=a.Ep).Gwm)===null||e===void 0||e.call(f,b.layout,c),a.og.x9c(b,b.layout.cells.values().next().value)};
dBs=function(a,b){const c={type:a};if(a!=="page"&&a!=="row"&&a!=="column")return c;const d={};switch(b===null||b===void 0?void 0:b.type){case "page":d.BBs=b.pages.length;break;case "table-element":case "table-item":a==="column"?(a=bNe(b.table,b.cells),d.zib=a[a.length-1]-a[0]+1):a==="row"&&(a=aNe(b.table,b.cells),d.N0b=a[a.length-1]-a[0]+1);break;case "sheet-page-content":case "sheet-element":case "sheet-item":a==="column"?d.zib=b.columns.length:a==="row"&&(d.N0b=b.rows.length)}c.oKk=d;return c};
gBs=function(a,b){switch(a.type){case "background":a={message:L("AYGgyw"),Icon:Ux,mode:"inner",im:"Delete"};break;case "page":var c,d;a={message:J("JwjLTA",[(d=(c=a.oKk)===null||c===void 0?void 0:c.BBs)!==null&&d!==void 0?d:1]),Icon:Ux,im:"Delete"};break;case "scrollable-design":case "element":a={message:L("eLUEGw"),Icon:Ux,mode:"outer",im:"Delete"};break;case "grid":a={message:L("9p4Z5w"),Icon:__c.szr,mode:"outer"};break;case "table-element":case "table-item":a={message:L("Kj4xeQ"),Icon:__c.U$g,
mode:"outer"};break;case "controlled":case "group":a={message:L("IBNQDA"),Icon:KHp,mode:"inner"};break;case "image":a={message:L("8gZNXQ"),Icon:__c.Uu,mode:"inner"};break;case "video":a={message:L("jOQ+DQ"),Icon:__c.vD,mode:"inner"};break;case "shape":a={message:L("4iOUcQ"),Icon:__c.GXi,mode:"outer"};break;case "layout-element":case "layout-item":a={message:L("nMb99Q"),Icon:__c.iWi,mode:"outer"};break;case "column":var e,f;a={message:J("78BjBg",[(f=(e=a.oKk)===null||e===void 0?void 0:e.zib)!==null&&
f!==void 0?f:1]),Icon:eBs,mode:"column"};break;case "row":var g,h;a={message:J("F6TSbw",[(h=(g=a.oKk)===null||g===void 0?void 0:g.N0b)!==null&&h!==void 0?h:1]),Icon:fBs,mode:"row"};break;case "sheet-element":case "sheet-item":a={message:L("V1ylcQ"),Icon:__c.gG,mode:"outer"};break;case "sheet-element-cell-media":case "sheet-item-cell-media":a={message:L("eLUEGw"),Icon:Ux,mode:"inner"};break;case "sheet-page-content":throw Error("Sheet page content cannot be deleted directly");default:throw new v(a.type);
}return{...a,message:b?L("eLUEGw"):a.message,Icon:b?Ux:a.Icon}};hBs=function(a){switch(a){case "section":return J("/g1arw",[1]);case "page":return J("JwjLTA",[1]);default:throw new v(a);}};
lBs=function(a,b,c,d,e){var f=iBs(a,b);f&&(f.count()===c.length||f.some(g=>!g.draft&&!c.includes(g)))&&(f=__c.HXe(a.document,c,a.No),!f||a.ePn.Vhq?(jBs(a,b,c),kBs(a,d,e)):a.eLs({zje:g=>{if(g){var h=a.ePn;h.storage?h.storage.setItem("E2DontShowPageDeleteWarningWithLink",JSON.stringify(g)):h.lzm=g}},onCancel:()=>e.abort(),onClose:()=>e.abort(),lp:()=>{jBs(a,b,c);kBs(a,d,e)},UYg:f,hC:c.length}))};
iBs=function(a,b){switch(b.type){case "fixed-document":return a.document.pages;case "concatenated-fixed-page":var c;return(a=iBs(a,b.container))?(c=b.Fha(a))===null||c===void 0?void 0:c.pages:void 0;default:throw new v(b);}};jBs=function(a,b,c){var d,e;const f=iBs(a,b);if(f){var g=mBs(f,c);g==null&&(g=n(f.last()),ta(a.f6h.LL!=null),{ia:g}=a.f6h.LL(g,{location:"delete_all_pages",Wc:"delete_all_pages"},{template:"default"}));a.og.DU(b,g);(d=(e=a.Ep).rWh)===null||d===void 0||d.call(e,c,f)}};
kBs=function(a,b,c){var d,e;const f=(e=(d=a.og.La)===null||d===void 0?void 0:d.pages)!==null&&e!==void 0?e:[],g=new Map;for(const [k,l]of a.document.pages.toArray().entries())g.set(l,k);d=f.map(k=>g.get(k)).filter(ub);c.mb().addEvent("deleted");const h={action:"delete",uTc:d.map(String),kb:b,location:b};c.mb().nk(({Ii:k})=>{a.N.track(__c.Ojf,{...h,Rb:k(),Ey:0})});c.ne()};
mBs=function(a,b){var c=a.first(e=>b.includes(e)),d=a.last(e=>b.includes(e));c=c&&a.previous(c);d=d&&a.next(d);a=a.first(e=>!b.includes(e));return d||c||a};qBs=function({X:a,Qa:b}){const c=new nBs,d=new oBs(c,a,b);d.init();return fV(()=>d.Jla?dV(pBs,{Lc:d.Lc}):null)};
xV=function(a,b,c){const d=a.map(({label:f,values:g,type:h,Bb:k})=>{let l;h.binding!=="unused"&&(l=h.id);return{...__c.rs,label:f,values:g,Bb:k,id:l,Lb:void 0}}),e=__c.Yhj(d,b);return{LQa:"state",mediaId:`_gc${b.type.toLowerCase().replace(/_/g,"")}`,config:e,data:d,Ob:void 0,Upa:f=>{var g=`_gc${b.type.toLowerCase().replace(/_/g,"")}`,h={...__c.vs,title:c&&rBs.NFm?{...__c.gXc,text:c}:__c.vs.title};a:switch(e.type){case "LINE":case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "BUBBLEPLOT":case "DOTPLOT":case "STACKED_AREA":case "GROUPED_DOTPLOT":case "RADAR":var k=
__c.Lw.Vpa(n(e.Lb)).length<=5;break a;case "BAR_RACE":case "PIE":case "DONUT":case "SCATTERPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "HISTOGRAM":case "FUNNEL":k=!1;break a;default:throw new v(e);}return{...__c.Oz,LQa:"state",mediaId:g,jo:h,data:d,config:e,Ob:void 0,Tn:k,style:__c.Jw(f)}}}};sBs=function(a,b,c){switch(a.type){case "COLUMN":return a.header;case "BLOCK_HEADER":return b;case "BLOCK_VALUE":return c;default:throw new v(a);}};
vBs=function(a,b,c){const d=new Set(Wps(c));if(!b.every(f=>d.has(f)))return Ka({jFe:"LABELLED_SERIES_FROM_ROWS",binding:"labels"});var e=tBs(c.data());c=[];for(const [f,g]of e){e={binding:"unused"};a&&d.has(a)&&f===a?e={binding:"labelBy",id:Uy()}:b.includes(f)&&(e={binding:"valueBy",id:Uy()});const {values:h,Bb:k}=uBs([...g],e.binding);c.push({label:f,values:h,type:e,Bb:k})}return Ia(c)};
wBs=function(a,b){var c=Wps(b),d=c.indexOf(a.label);const e=c.indexOf(a.group);c=c.indexOf(a.value);if(d<0)return Ka({jFe:"PIVOT",binding:"label"});if(e<0)return Ka({jFe:"PIVOT",binding:"groupBy"});if(c<0)return Ka({jFe:"PIVOT",binding:"valueBy"});var f=new Set,g=new Set;for(var h of b.raw.slice(1))f.add(h[e]),g.add(h[d]);h=Array.from(f);const k=Array.from(g);g=new Map;for(f=0;f<h.length;f++)g.set(h[f],f);const l=new Map;for(const q of b.raw.slice(1))b=q[d],g=q[e],f=q[c],l.has(b)||l.set(b,new Map),
n(l.get(b)).set(g,f);const {values:m,Bb:p}=uBs(k,"labelBy");a=[{label:a.label,values:m,type:{binding:"labelBy",id:Uy()},Bb:p}];d=h.map(q=>{const r=k.map(x=>{if(!l.has(x))return"";x=n(l.get(x));return x.has(q)?n(x.get(q)):""}),t={binding:"valueBy",id:Uy()},{values:u,Bb:w}=uBs(r,"valueBy");return{label:q,values:u,type:t,Bb:w}});return Ia(a.concat(d))};tBs=function(a){const b=new Map;for(const c of a)for(const [d,e]of c)__c.qj(b,d,e);return b};
zBs=function(a,b){const c=b.raw[0],d=xBs(c),e=xBs([...c,d]),f=a.map(g=>c.indexOf(g));ta(f.every(g=>g>=0),"not all datablock headers are defined in the csv");a=[[...c.filter((g,h)=>!f.includes(h)),d,e]];for(const g of b.raw.slice(1))for(const h of f)a.push([...g.filter((k,l)=>!f.includes(l)),c[h],g[h]]);return{Ipr:d,Cid:e,J5s:new yBs(a)}};xBs=function(a){let b=1,c;do c=J("rlYolQ",[b++]);while(a.includes(c));return c};
uBs=function(a,b){let c=a,d;switch(b){case "valueBy":case "sizeBy":const [e,f]=__c.Uge(a,{QBe:!1});f.ok?(c=e.map(k=>{const l=__c.Pge(k,f.value[0]);return l.ok?l.value.toString():k}),d=__c.AQe({kind:"number",format:f.value[0]},{uuc:!1})):d=__c.AQe({kind:"number",format:__c.iZg},{uuc:!1});break;case "xValueBy":case "yValueBy":const [g,h]=__c.Uge(a,{QBe:!1});h.ok?(c=g.map(k=>{const l=__c.Pge(k,h.value[0]);return l.ok?l.value.toString():k}),d=__c.AQe({kind:"number",format:h.value[0]},{uuc:!1})):d=__c.yQe;
break;case "labelBy":case "groupBy":case "colorBy":d=__c.yQe;break;case "unused":break;default:throw new v(b);}return{values:c,Bb:d}};
CBs=function(a,b){switch(a.type){case "WIDE_DATA":if(a.group.type==="BLOCK_HEADER"&&a.value.type==="BLOCK_VALUE"&&a.label.type==="COLUMN")a=vBs(a.label.header,[...a.FOj],b);else{const {J5s:c,Ipr:d,Cid:e}=zBs([...a.FOj],b);a=wBs({group:sBs(a.group,d,e),label:sBs(a.label,d,e),value:sBs(a.value,d,e)},c)}break;case "LONG_DATA":a=wBs({label:a.V5d,group:a.m_q,value:a.Cid},b);break;case "SCATTERPLOT":case "DOT_PLOT":case "GROUPED_DOT_PLOT":a=ABs(a.V5d,a.LTl,[a.TTl],a.QFj,a.Iwl,b);break;case "HIERARCHY_CHART":a=
BBs([...a.DZm],a.Cid,b);break;case "SINGLE_SERIES_PART_TO_WHOLE":a=vBs(a.V5d,[a.Cid],b);break;case "HISTOGRAM":a=vBs(void 0,[a.Cid],b);break;default:throw new v(a);}return a};
FBs=function(a,b){b=CBs(a,b);if(!b.ok)return b;b=b.value;if(!b.length)throw Error("Error getting chart series");const c={RT:b.length,rowCount:b[0].values.length+1},{Min:d,bindings:e}=DBs(b);var f=e.valueBy,g=e.labelBy;const h=e.groupBy;var k=e.sizeBy,l=e.colorBy,m=e.xValueBy;const p=e.yValueBy;switch(a.type){case "WIDE_DATA":case "LONG_DATA":switch(a.Yc){case 1:return Ia({Cab:xV(b,{...__c.v1g,rh:f,Zf:g[0]},a.title),yqa:c});case 10:return Ia({Cab:xV(b,{...__c.C1g,rh:f,Zf:g[0]},a.title),yqa:c});case 2:case 8:return Ia({Cab:xV(b,
{...__c.q1g,rh:f,Zf:g[0]},a.title),yqa:c});case 3:return Ia({Cab:xV(b,{...__c.r1g,rh:f,Zf:g[0]},a.title),yqa:c});case 9:return Ia({Cab:xV(b,{...__c.u1g,rh:f,Zf:g[0]},a.title),yqa:c});case 4:return Ia({Cab:xV(b,{...__c.A1g,rh:f,Zf:g[0]},a.title),yqa:c});case 6:return Ia({Cab:xV(b,{...__c.t1g,rh:f,Zf:g[0]},a.title),yqa:c});case 5:case 7:return Ia({Cab:xV(b,{...__c.s1g,rh:f,Zf:g[0]},a.title),yqa:c});default:throw new v(a);}case "SCATTERPLOT":f=g[0];l=l[0];ta(m.length===1,`xValueBy does not exist for ${a.type}`);
ta(p.length===1,`yValueBy does not exist for ${a.type}`);g=n(b.find(r=>r.type.binding==="xValueBy"),`xSeries does not exist for ${a.type}`);var q=n(b.find(r=>r.type.binding==="yValueBy"),`ySeries does not exist for ${a.type}`);g=g.Bb===__c.yQe;q=q.Bb===__c.yQe;return g&&q?Ia({Cab:xV(b,{...z1g,Zf:f,Io:l,HN:m[0],IM:[p[0]],nf:EBs(z1g.nf,d.get(m[0])),ve:EBs(z1g.ve,d.get(p[0]))},a.title),yqa:c}):g||q?(k=g?"x":"y",Ia({Cab:xV(b,{...y1g,Zf:f,Io:l,s6:g?"X":"Y",HN:m[0],IM:[p[0]],T9:EBs(y1g.T9,k==="x"?d.get(m[0]):
d.get(p[0])),o5:EBs(y1g.o5,k==="x"?d.get(p[0]):d.get(m[0]))},a.title),yqa:c})):Ia({Cab:xV(b,{...__c.x1g,Zf:f,Io:l,Bu:k[0],HN:m[0],IM:p,nf:EBs(__c.x1g.nf,d.get(m[0])),ve:EBs(__c.x1g.ve,d.get(p[0]))},a.title),yqa:c});case "DOT_PLOT":return ta(m.length===1,`xValueBy does not exist for ${a.type}`),ta(p.length===1,`yValueBy does not exist for ${a.type}`),k=n(b.find(r=>r.type.binding==="xValueBy"),`xSeries does not exist for ${a.type}`).label===a.FSp,Ia({Cab:xV(b,{...y1g,Zf:g[0],Io:l[0],s6:k?"X":"Y",HN:m[0],
IM:[p[0]],T9:EBs(y1g.T9,k?d.get(m[0]):d.get(p[0])),o5:EBs(y1g.o5,k?d.get(p[0]):d.get(m[0]))},a.title),yqa:c});case "GROUPED_DOT_PLOT":return ta(m.length===1,`xValueBy does not exist for ${a.type}`),ta(p.length===1,`yValueBy does not exist for ${a.type}`),Ia({Cab:xV(b,{...z1g,Zf:g[0],Io:l[0],HN:m[0],IM:[p[0]],nf:EBs(z1g.nf,d.get(m[0])),ve:EBs(z1g.ve,d.get(p[0]))},a.title),yqa:c});case "HIERARCHY_CHART":switch(m=a.DZm.map(r=>h.find(t=>d.get(t)===r)).filter(ub),a.Yc){case 1:return Ia({Cab:xV(b,{...__c.IXc,
groupBy:m,Bu:f,sG:m.length},a.title),yqa:c});case 2:return Ia({Cab:xV(b,{...__c.HXc,groupBy:m,Bu:f,sG:m.length},a.title),yqa:c});default:throw new v(a);}case "HISTOGRAM":return ta(f.length===1,`valueBy does not exist for ${a.type}`),Ia({Cab:xV(b,{...__c.B1g,rh:f[0]},a.title),yqa:c});case "SINGLE_SERIES_PART_TO_WHOLE":switch(ta(f.length===1,`valueBy does not exist for ${a.type}`),a.Yc){case 1:return Ia({Cab:xV(b,{...__c.zXc,Zf:g.length===1?g[0]:void 0,rh:f[0]},a.title),yqa:c});case 2:return Ia({Cab:xV(b,
{...__c.AXc,Zf:g.length===1?g[0]:void 0,rh:f[0]},a.title),yqa:c});case 3:return Ia({Cab:xV(b,{...__c.D1g,Zf:g.length===1?g[0]:void 0,rh:f[0]},a.title),yqa:c});default:throw new v(a);}default:throw new v(a);}};EBs=function(a,b){return b?{...a,title:{...a.title,text:b}}:a};
DBs=function(a){return a.reduce((b,c)=>{const d=c.type;switch(d.binding){case "unused":return b;case "valueBy":case "labelBy":case "groupBy":case "sizeBy":case "colorBy":case "xValueBy":case "yValueBy":return b.Min.set(d.id,c.label),b.bindings[d.binding].push(d.id),b;default:throw new v(d);}},{Min:new Map,bindings:{valueBy:[],labelBy:[],groupBy:[],sizeBy:[],colorBy:[],xValueBy:[],yValueBy:[]}})};
HBs=function(a){var b=a.zR;const c=a.VC;a=a.Bb;if(c&&c.type){var d=c.type;switch(d){case 1:return b=GBs(a),new __c.d7c({value:c.value,s7h:b});case 2:return new __c.d7c({value:c.value,s7h:new __c.b7c});case 3:return new __c.e7c({value:c.value});case 4:return new __c.f7c({value:b});case 6:return new __c.g7c;case 7:return new __c.h7c({name:b});case 8:return new __c.i7c({title:b});case 9:break;default:throw new v(d);}}};
GBs=function(a){if(a===void 0)return new __c.Y6c;const b=a.type;switch(b){case "plain_number":return new __c.Z6c({Yv:a.xj.Yv,Gq:a.xj.Gq});case "percentage":return new __c.a7c({Yv:a.xj.Yv,Gq:a.xj.Gq});case "currency":return new __c.$6c({Yv:a.xj.Yv,Gq:a.xj.Gq,cka:a.xj.symbol,locale:a.xj.locale});case "date":return new __c.b7c;case "select":case "mention":case "embed":case "checkbox":return new __c.Y6c;default:throw new v(b);}};
IBs=function(a,b){const c=b.sheet,d=new Map;b=b.cells.reduce((f,{row:g,column:h})=>{const k=a.Vc.getContent(c,g,h);if(!k||!k.Mr)return f;switch(k.Mr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":f.push({reference:Wm({row:g,column:h},c),value:k.zR.trim(),vJ:void 0});break;case "number":var l;if(!k.Bb){f.push({reference:Wm({row:g,column:h},c),value:k.Mr.value.toString().trim(),vJ:void 0});break}switch((l=k.Bb.xj)===null||l===
void 0?void 0:l.type){case "date":var m;f.push({reference:Wm({row:g,column:h},c),value:k.zR,vJ:k.Mr.value.toString()});g=n((m=k.Bb.xj)===null||m===void 0?void 0:m.format);var p;d.set(g,((p=d.get(g))!==null&&p!==void 0?p:0)+1);break;case "currency":case "percentage":case "plain":case void 0:f.push({reference:Wm({row:g,column:h},c),value:k.Mr.value.toString().trim(),vJ:void 0});break;default:throw new v(k.Bb.xj);}break;default:throw new v(k.Mr);}return f},[]);const e=d.size>0?Array.from(d.entries()).reduce(([f,
g],[h,k])=>k>g?[h,k]:[f,g])[0]:void 0;return{data:b,yqa:{dateFormat:e}}};
JBs=function(a,b){const c=b.cells,d=b.sheet;pa(c.length>0);let e=0,f=0;const g=c[0].row,h=c[0].column;c.forEach(l=>{const m=d.fK(l.row)-d.fK(g);l=d.sK(l.column)-d.sK(h);e=Math.max(e,m);f=Math.max(f,l)});const k=Array.from({length:e+1},()=>Array(f+1).fill(""));c.forEach(l=>{var m;const p=d.fK(l.row)-d.fK(g),q=d.sK(l.column)-d.sK(h);if((l=(m=a.Via.Z$h(d,l.column,l.row))===null||m===void 0?void 0:m.content)&&l.Mr)switch(l.Mr.type){case "text2":case "text3":case "plaintext":case "mention":case "formula":case "media":case "embed":case "boolean":k[p][q]=l.zR.trim();
break;case "number":k[p][q]=l.Mr.value.toString().trim();break;default:throw new v(l.Mr);}else k[p][q]=""});return k};
KBs=function(a){var b=a.rKa.findSheet();if(!b)return Ka({errorMessage:L("lGc67g"),lCa:void 0,Dmd:"no_selection"});const c=b.sheet;b=b.sheetName;const d=c.layout.rows.toArray(),e=c.layout.cols.toArray(),f=d.flatMap(l=>e.map(m=>({row:l,column:m})));b={sheet:c,cells:f,range:`A1:${Wm({row:d[d.length-1],column:e[e.length-1]},c)}`,sheetName:b};const {data:g,yqa:h}=IBs(a,b);if(g.length<2)return Ka({errorMessage:L("Xi2QLg"),lCa:b,Dmd:"too_few_cells"});const k=new Map;c.layout.cells.forEach((l,m)=>{if(l.content.ref){l=
m.dc;var p=m.Zb;m=Wm({column:l,row:p},c);if(l=a.Vc.getContent(c,p,l))l=HBs(l),l!==void 0&&k.set(m,l)}});return Ia({lCa:b,Bma:g,yqa:h,qu:k})};MBs=async function(a){try{const b=await a.IS.gfk(new LBs),c=Date.now();oV(()=>{a.store.quota={kind:"loaded",Iue:b.quota.Iue,gF:b.quota.gF,Bcd:b.quota.Bcd?new Date(c+b.quota.Bcd):void 0}})}catch(b){a.errorService.pa(b),oV(()=>{a.errorService.pa(b,"Error fetching credits.");a.store.jsd=L("ldPNNQ")})}};
NBs=function(a){switch(a){case 1:case 5:return{XFf:L("q0uMCg"),vsh:L("kC6nPg"),Jd:1};case 4:return{XFf:L("SbbsuQ"),vsh:L("yaFQLA"),Jd:1};case 2:return{XFf:L("E9w/qw"),vsh:L("j7cy7A"),Jd:0};case 3:return{XFf:L("qLeuiA"),vsh:L("/mPGOg"),Jd:1};case 6:return{XFf:L("ldPNNQ"),vsh:L("rtuM4A"),Jd:0};default:throw new v(a);}};
OBs=function(a){switch(a){case 1:return"no_valid_insights";case 5:return"unsupported_functionality";case 4:return"unrelated_query";case 2:return"insufficient_data";case 3:return"dangerous_content";case 6:return"internal_error";default:throw new v(a);}};
PBs=function(a){switch(a.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":case "SUNBURST":return a.type;case "POPULATION_PYRAMID":case "DUMBBELL":case "LOLLIPOP":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":throw Error("Unsupported chart type");
default:throw new v(a);}};QBs=function(a){switch(a){case void 0:break;case "stacked":return"STACKED";case "proportional-stacked":return"PROPORTIONAL_STACKED";case "stacked":return"STACKED";case "proportional":return"PROPORTIONAL";case "unstacked":return"UNSTACKED";case "stream":return"STREAM";default:throw new v(a);}};
RBs=function(a){if(a){if(a===L("/15meQ"))return{type:"spot_trends",index:0};if(a===L("WdBwUg"))return{type:"visualize",index:1};if(a===L("JLfw8A"))return{type:"summarize",index:2};if(a===L("l8zS1w"))return{type:"find_outliers",index:3}}};
SBs=function(a){var b;if(a=a.selection.La){if(((b=a.pages)===null||b===void 0?void 0:b.length)===1&&(b=a.pages[0],rf(b)&&b.id))return{sheet:b.sheet,sheetId:b.id};switch(a.type){case "elements":var c,d;if(((c=a.inner)===null||c===void 0?void 0:c.type)==="sheet")return{sheet:a.inner.sheet.config,sheetId:a.inner.sheet.id};if(((d=a.Nd)===null||d===void 0?void 0:d.type)==="sheet")return{sheet:a.Nd.config,sheetId:a.Nd.id};break;case "pages":var e;if(((e=a.inner)===null||e===void 0?void 0:e.type)==="sheet"&&
a.inner.page.id)return{sheet:a.inner.page.sheet,sheetId:a.inner.page.id};if(a.pages.length===1&&(c=a.pages[0],rf(c)&&c.id))return{sheet:c.sheet,sheetId:c.id}}}};TBs=function({root:a=null,onChange:b}){const c=jV(null);iV(()=>{if(c.current){var d=new __c.Ok,e=d.LY(a,"0px");d.observe(c.current,f=>{b(f)});return e}},[b,a]);return{Qbb:c}};
XBs=function({X:a,Qa:b,Tb:c,Aa:d,K1d:e}){if(a){var f=new UBs,g=new VBs(f,a,b,c,d,e);return{Bej:fV(()=>{iV(()=>{g.rIq()},[]);return f.Sfe?dV(WBs,{onClose:g.Lc,onClick:g.uXr}):null}),USr:g.Lc}}};
YBs=function(a,b){if(b.type==="fixed-page"){var c;ta(a.session.document.Ja==="fixed");var d;return(d=(c=b.container)===null||c===void 0?void 0:c.tb(b.page))!==null&&d!==void 0?d:Ff(a.session.document).tb(b.page)}if(b.container!=null&&b.container.type!=="fixed-document"&&b.container.type!=="responsive-document")return YBs(a,b.container)};
ZBs=function(a,b,c){switch(a){case 5:return{Icon:__c.zu,hb:void 0,label:L("ZK0snA")};case 2:return{Icon:__c.NCg,hb:L("KkfI8w"),label:void 0};case 3:return{Icon:__c.NCg,hb:L("eCV9Kg"),label:void 0};case 1:return{Icon:__c.zqg,hb:L("SSbFKQ"),label:void 0};case 6:return{Icon:__c.QB,hb:void 0,label:L("LtzRdg")};case 4:return{Icon:__c.QB,hb:void 0,label:L("YLfGCA")};case 0:return{Icon:void 0,hb:void 0,label:L("FXfIUQ")};case "view":return{Icon:c==="compact"?lu:__c.zv,label:c==="compact"?void 0:L("shxLEA"),
hb:b===2?L("nOK04Q"):L("shxLEA"),variant:"secondary"};case "comment":return{Icon:c==="compact"?lu:__c.dI,label:c==="compact"?void 0:L("REoikw"),hb:b===4?L("nOK04Q"):L("REoikw"),variant:"secondary"};case "playground":throw Error(`${a} mode is not supported`);default:throw new v(a);}};$Bs=function(a){function b(){a(...(d!==null&&d!==void 0?d:[]));e=d=void 0}function c(...f){d=f;e||(e=setTimeout(b,1100))}let d,e;c.cancel=()=>{clearTimeout(e);e=d=void 0};return c};
cCs=function(a){const b=yV.box(a(),{deep:!1});let c;const d=gV(g=>b.set(g)),e=$Bs(d),f=()=>{c===null||c===void 0||c();c=void 0;e.cancel()};aCs(b,()=>{f();c=eV(a,g=>{g===1?(e.cancel(),d(g)):e(g)},{fireImmediately:!0})});bCs(b,f);return b};eCs=function(a){const b=yV.box(),c=eV(()=>a.YP===1,d=>{b.set(d?void 0:dCs())},{fireImmediately:!0});return{PBk:mV(()=>{var d;return(d=b.get())!==null&&d!==void 0?d:dCs()}),dispose:c}};
fCs=function(a){const b=a.layout.direction!==2?2:void 0;return a.layout.direction=b};gCs=function(a){const b=a.direction!=="rtl"?"rtl":"ltr";return a.direction=b};hCs=function(a){const b=a.direction!==2?2:1;return a.direction=b};jCs=function(a,b){a=a.B_a.cId;return b.direction?{value:iCs[b.direction],selection:"table"}:a?{value:"ltr",selection:"table"}:void 0};lCs=function(a,b){a=a.B_a.cId;return b.direction==="rtl"?{value:kCs[b.direction],selection:"sheet"}:a?{value:"ltr",selection:"sheet"}:void 0};
nCs=function(a,b){a=a.B_a.cId;return b.direction===2?{value:mCs[b.direction],selection:"layout"}:a?{value:"ltr",selection:"layout"}:void 0};oCs=function(a,b,c,d){pa(c!==0);if(c<0){const e=b.x;b=b.y;b=a==="horizontal"?new xj(e+c,b):new xj(e,b+c);c=-c}return{dir:a,start:b,length:c,type:d}};
pCs=function(a){const b=a.image.ref;a=a.video.ref;a=a===null||a===void 0?void 0:a.video;return{mediaId:(b===null||b===void 0?void 0:b.media.id)||a||"",zE:(b===null||b===void 0?void 0:b.media.version.toString())||""}};
rCs=function(a){const b=a.Hhr,c=a.onClick,d=a.onMouseEnter,e=a.onMouseLeave,f=a.onDragStart,g=a.pe,h=a.onDragEnd;return({direction:k})=>{const l=k==="top"||k==="bottom"?"right":"bottom";return dV(__c.cvh,{onClick:()=>c(k),onMouseEnter:()=>d===null||d===void 0?void 0:d(k),onMouseLeave:e,onDragStart:m=>f(k,new xj(m.clientX,m.clientY)),pe:m=>g(k,new xj(m.clientX,m.clientY)),onDragEnd:m=>h(k,new xj(m.clientX,m.clientY)),Hwd:qCs(b?k:"plus"),mob:"floating",fixedRotation:b,hb:b?L("kZxMcQ"):L("QLoPdg"),hk:l})}};
qCs=function(a){switch(a){case "plus":return __c.Z3d;case "top":return __c.P5g;case "bottom":return __c.M5g;case "left":return __c.Ezc;case "right":return __c.lEd;default:throw new v(a);}};
wCs=function(a,b,c,d,e,f,g,h,k){var l=__c.Khe(b),m=__c.Khe(c);l=sCs(d,l);m=sCs(tCs(d),m);f=uCs(b,f,d);const p={...f,...(k===null||k===void 0?void 0:k.etr)};g={...__c.JYc,...p,...__c.cWa({Sb:l,r:m,height:f.weight}).Mb(),id:g.Cg.generate(),start:{...p.start,position:{left:l.x,top:l.y}},end:{...p.end,position:{left:m.x,top:m.y}}};a=a.elements.append(g);e.connect(a.start,b,{dea:1,anchorPoint:vCs(d)});e.connect(a.end,c,{dea:h,anchorPoint:(k===null||k===void 0?0:k.aKm)?k.aKm:h===1?vCs(tCs(d)):new xj(.5,
.5)});return a};
uCs=function(a,b,c){const d=b.a5c(a);if(d.length){var e;const g=vCs(c);var f=[...d].sort(l=>{const m=b.ESa.get(l.start)===a,p=b.ESa.get(l.end)===a;return m&&xCs(g,l.start)||p&&xCs(g,l.end)?-1:m?0:1});[f]=f;const {XCk:h,XEf:k}=yCs(b,f,a,g);switch((e=f.geometry.ref)===null||e===void 0?void 0:e.type){case void 0:e=void 0;break;case "elbowed":e={...__c.KYc,pb:f.geometry.ref.pb};break;case "curved":e={...__c.LYc,depth:0,skew:0};break;default:throw new v(f.geometry.ref);}c=n(f.color||f.fill.gradient.ref);return{end:{...k,
anchor:void 0},start:{...h,anchor:void 0},geometry:e,weight:f.weight,color:c.type!=null?void 0:c,fill:{...ps,gradient:c.type!=null?c:void 0},xa:f.xa,sg:f.sg,Nl:f.Nl}}return(e=(f=a.paths.first())===null||f===void 0?void 0:f.stroke.ref)&&e.weight>0?(f=n(e.color||e.fill.gradient.ref),{...zCs,weight:Math.max(Math.round(e.weight),1),color:f.type!=null?void 0:f,fill:{...ps,gradient:f.type!=null?f:void 0},sg:e.sg,Nl:e.Nl,xa:a.xa,geometry:__c.KYc}):{...zCs,xa:a.xa,geometry:__c.KYc}};
yCs=function(a,b,c,d){const e=[2,3];var f=b.end.marker;if(f&&e.includes(f))return{XCk:b.start,XEf:b.end};if((f=b.start.marker)&&e.includes(f))return{XCk:b.end,XEf:b.start};const [g,h]=a.ESa.get(b.start)===c?[b.start,b.end]:[b.end,b.start],[k,l]=xCs(d,g)?[g,h]:[h,g];return{XCk:k,XEf:l}};sCs=function(a,[b,c,d,e]){switch(a){case "top":return d;case "right":return c;case "bottom":return e;case "left":return b;default:throw new v(a);}};
tCs=function(a){switch(a){case "top":return"bottom";case "right":return"left";case "bottom":return"top";case "left":return"right";default:throw new v(a);}};vCs=function(a){switch(a){case "top":return{x:.5,y:0};case "right":return{x:1,y:.5};case "bottom":return{x:.5,y:1};case "left":return{x:0,y:.5};default:throw new v(a);}};xCs=function(a,b){if(!b.anchor)return!1;const c=b.anchor.left;return b.anchor.top===a.y&&c===a.x};
ACs=function(a){var b,c,d,e;a.KNf&&(clearTimeout(a.KNf),a.KNf=void 0);(b=a.Dga)===null||b===void 0||b.call(a);a.Dga=void 0;(c=a.plq)===null||c===void 0||c.call(a);(d=a.mRh)===null||d===void 0||d.onDragEnd();a.mRh=void 0;document.body.classList.toggle("_1Nlzlw",!1);a.store.Wih=!1;a.store.mTi=!1;a.store.isDragging=!1;a.store.zHe=void 0;a.store.Ixf=void 0;a.store.connectTarget=void 0;a.dje=void 0;a.from=void 0;(e=a.store.Hxf)===null||e===void 0||e.pages.Ar()};
GCs=function(a,b,c,d){const e=a.Uj.sTc;d=BCs(CCs(d),b.rotation);const f=DCs(c,b),{position:g,MLb:h,jmc:k}=ECs(b,d,f,e,xg(4,c.dimensions||a.document.dimensions));return{gJr:FCs(b,g),MLb:h,jmc:k}};
HCs=function(a,b,c,d,e){c=xg(4,c.dimensions||a.document.dimensions);c=n(a.store.Hxf).pages.set(0,{...__c.Ls,id:a.Gb.qh.generate(),dimensions:c});e=FCs(b,e);e=c.elements.append(e);a.pbb.iVg(e);const f=c.elements.append(is.snapshot(b));b=uCs(b,a.se,d);a=wCs(c,f,e,d,a.VX,n(a.EYm),a.Gb,1,{etr:b});f.xa=1;gk(e)&&(a.xa=1);return{Fwd:c,zHe:e,Ixf:a,kWi:f}};
ICs=function(a,b){a.plq=eV(()=>Vj(b).Mb(),c=>{const d=n(a.store.kWi),e=n(a.store.zHe);d.top=c.top;d.left=c.left;d.width=c.width;d.height=c.height;d.rotation=c.rotation;e.width=c.width;e.height=c.height;e.rotation=c.rotation})};JCs=function(a,b,c){b=Vj({...b,left:a.x,top:a.y});switch(c){case "top":c=b.b;break;case "bottom":c=b.t;break;case "left":c=b.r;break;case "right":c=b.Sb;break;default:throw new v(c);}return Oj(c,a).transformPoint(a)};
CCs=function(a){switch(a){case "top":return{x:0,y:-1};case "right":return{x:1,y:0};case "bottom":return{x:0,y:1};case "left":return{x:-1,y:0};default:throw new v(a);}};BCs=function(a,b){a=Pj(new xj(0,0),wj(b)).transformPoint(a);return{x:a.x,y:a.y}};DCs=function(a,b){const c=Vj(b);return a.elements.filter(d=>{d.type!=="shape"||!fFd(d)&&!gk(d)?d=!1:Vj(d).intersects(c)?(d=Vj(d),d=Math.max(Math.abs(d.width-c.width),Math.abs(d.height-c.height))<=Number.EPSILON):d=!0;return d})};
ECs=function(a,b,c,d,e){const f=Vj(a);var g=KCs(f,f,b,b.x!==0?d:void 0,b.y!==0?d:void 0);const h=Vj({top:g.y,left:g.x,width:f.width,height:f.height,rotation:f.rotation});var k=LCs(h,c);if(!k)return MCs(g,a,e)?{position:g,MLb:1,jmc:!0}:(g=NCs(f,c),{position:new xj(a.left+g,a.top+g),MLb:1,jmc:!1});k=Vj(k);a=OCs(k,f,BCs(b,90),c,d);k=OCs(k,f,BCs(b,-90),c,d);b=k.MLb+a.MLb+1;d=a.position;a=k.position;k=MCs(d,f,e);e=MCs(a,f,e);e=k||e?k?e?Bj(d,g)<=Bj(a,g)?d:a:d:a:void 0;return e?{position:e,MLb:b,jmc:!0}:
(c=NCs(h,c),{position:new xj(g.x+c,g.y+c),MLb:b,jmc:!1})};KCs=function(a,b,c,d,e){const f=PCs(a,c),g=PCs(b,c);c=__c.Fj(f/2+g/2+80,c);a={x:c.x+a.center().x-b.width/2,y:c.y+a.center().y-b.height/2};b.rotation===0&&(d&&(a.x=Math.round(a.x/d)*d),e&&(a.y=Math.round(a.y/e)*e));return a};PCs=function(a,b){a=a.oh().map(c=>__c.Ij(c,b));return Math.max(...a)-Math.min(...a)};
OCs=function(a,b,c,d,e,f=0){a=KCs(a,b,c,e,e);const g=LCs(Vj({top:a.y,left:a.x,width:b.width,height:b.height,rotation:b.rotation}),d);return g?OCs(Vj(g),b,c,d,e,f+1):{position:a,MLb:f+1}};LCs=function(a,b){for(const c of b)if(a.intersects(Vj(c)))return c};FCs=function(a,b){const c={ed:n(a.ed).map(d=>{const e={...d.text.Gz(0),link:void 0};return{...__c.URc.snapshot(d),text:Lg.ld().attrs(e).$W().build()}})};return{...__c.ide(qu,__c.Ln.snapshot(a)),...c,link:void 0,left:b.x,top:b.y}};
NCs=function(a,b){const c=f=>b.some(g=>{g=Vj(g);const h=a.translate(f,f);return g.approximatelyEquals(h)});let d=0,e=0;for(;c(d)&&e<100;)d+=__c.Gk,e+=1;return d};
QCs=function(a,b){var c=a.oh();a=Math.round(Math.min(...c.map(k=>k.x)));var d=Math.round(Math.max(...c.map(k=>k.x))),e=Math.round(Math.min(...c.map(k=>k.y)));c=Math.round(Math.max(...c.map(k=>k.y)));var f=b.oh();b=Math.round(Math.min(...f.map(k=>k.x)));var g=Math.round(Math.max(...f.map(k=>k.x))),h=Math.round(Math.min(...f.map(k=>k.y)));f=Math.round(Math.max(...f.map(k=>k.y)));return!(a>=g||d<=b||e>=f||c<=h)};
MCs=function(a,b,c){if(zg(c))return!0;a=Vj({...b,top:a.y,left:a.x});return QCs(Sj(0,0,c.width,c.height),a)};TCs=function({update:a,getValue:b,FJb:c,Zxb:d,label:e,FHh:f=!0}){const g=new RCs,h=new SCs(g,a,f);a=fV(()=>dV(uws,{value:g.value,disabled:c===null||c===void 0?void 0:c(),Fx:b(),focused:g.focused,onChange:h.onChange,onFocus:h.onFocus,onBlur:h.onBlur,label:e,unit:d===null||d===void 0?void 0:d()}));return{store:g,IX:a}};
ZCs=function({document:a,viewport:b,Df:c,la:d}){const e=new UCs(a,b);a=new VCs(e,d);b=()=>` ${WCs[e.dimensions.units]}`;const {IX:f}=TCs({update:a.mDs,label:L("gPUe1Q"),getValue:()=>e.columns,FHh:!1}),{IX:g}=TCs({update:a.RRi,label:L("JE/qcA"),getValue:()=>e.rows,FHh:!1}),{IX:h}=TCs({update:a.lDs,getValue:()=>e.yDc,FJb:()=>e.knm,Zxb:b,label:L("zKi7Hw")}),{IX:k}=TCs({update:a.EEs,getValue:()=>e.foa,FJb:()=>e.E5n,Zxb:b,label:L("zKi7Hw")}),{IX:l}=TCs({update:a.kDs,getValue:()=>e.u_c,Zxb:b,label:L("8bavyQ")}),
{IX:m}=TCs({update:a.DEs,getValue:()=>e.vdd,Zxb:b,label:L("8bavyQ")}),p=()=>kV(rV,{children:[dV(f,{}),dV(h,{}),dV(l,{})]}),q=()=>kV(rV,{children:[dV(g,{}),dV(k,{}),dV(m,{})]});return{yaj:()=>dV(XCs,{G$i:p,jij:q}),xZo:r=>dV(YCs,{Df:c,G$i:p,jij:q,onClose:r.onClose}),store:e}};
fDs=function({viewport:a,document:b,header:c,ka:d,Df:e,P:f,la:g,ikk:h,pHg:k}){const {yaj:l,xZo:m,store:p}=ZCs({document:b,viewport:a,Df:e,la:g}),q=new $Cs(p,d,a,b),r=new aDs(b,q,d,h,k,f,g),t=()=>{r.Uzn();c.d8()},u=new __c.i8d,w=()=>({rg:bDs,get eDa(){return d.layout===2?()=>dV(cDs,{onClick:t}):void 0},Bwc:!1}),x=()=>u.Xg({df:()=>dV(m,{onClose:r.rts}),options:w()}),y=A=>{r.ffo(A);q.xq==="custom"&&x()},z=fV(A=>dV(dDs,{options:eDs,xq:q.xq,Oe:A.Oe,Rc:r.OEn,ki:r.PEn,Ty:y,oa:A.oa}));return{$bp:fV(A=>d.layout===
2?dV(z,{...A}):dV(dDs,{options:eDs,xq:q.xq,Oe:A.Oe,Rc:r.OEn,ki:r.PEn,Ty:r.ffo,onSubmit:r.Uzn,onCancel:A.oa,oa:A.oa,yaj:q.$oo?l:void 0})),LXq:w,hGi:mV(()=>q.hGi),navigation:u}};hDs=function(a,b){const c=b.position;b=b.direction===1;const d=pk(a.ya,a.document.dimensions),{width:e}=xg(4,d);return gDs(d.units,(a.Ti&&!b?e-c:c)/Ov(d.units)).toString()};iDs=function(a,b,c){if(a.store.qVe==="viewable")return!0;c=a.ya===c;return!(a.store.cbk.has(b)||a.canvas.z4a==="none"&&b.direction===1&&!c)};
jDs=function(a,b){return a.viewport.Ol(a.viewport.mh).transformPoint(b)};lDs=function(a,b,c){a.N.track(kDs,{previous:c.toString(),value:b.position.toString(),direction:b.direction===1?"horizontal":"vertical",Wp:0,Qr:0,Ey:0})};nDs=function(a,b,c){var d=b.filter(e=>e.direction===2);b=b.filter(e=>e.direction===1).length;d=d.length;a.N.track(mDs,{Q_q:-1,direction:b&&d?"mixed":d?"vertical":b?"horizontal":"none",kb:c,OYg:b,bZg:d,Wp:0,Qr:0,Ey:0})};
oDs=function(a){const b=a.filter(c=>c.direction===2);a=a.filter(c=>c.direction===1);return{direction:b.length&&a.length?"mixed":b.length?"vertical":a.length?"horizontal":"none",bZg:b.length,OYg:a.length}};gDs=function(a,b){const c=d=>{const e=Math.pow(10,d);return(Math.round(b*e)/e).toFixed(d)};switch(a){case 1:return c(1);case 2:return c(3);case 3:case 4:return c(0);default:throw new v(a);}};
pDs=function({onClick:a}){const b=hV(c=>{c.preventDefault()},[]);return dV("div",{className:"xlB9Gg",onPointerDown:a,onMouseDown:b})};
sDs=function(a){const b=new qDs(a.iNe,a.Xwa,a.fd,a.Xa,a.Ma,a.Kn),c=a.Ja!=="responsive"&&a.ozb?new rDs(a.Itg,a.ozb):void 0;a.kh.kc(()=>{const d=c===null||c===void 0?void 0:c.F0a;return d&&Object.keys(d).length!==0?{actions:d,flf:c}:{actions:b.F0a,flf:b}},(d,{actions:e,flf:f})=>{d.sej=e["add-column"]?{Button:m=>dV(m.fl,{Icon:Qu,label:L("gQ2wmg"),onClick:f.jwi,oa:m.oa})}:void 0;d.tej=f.MRk&&e["add-row"]?{Button:m=>dV(m.fl,{Icon:Qu,label:L("yR5v2g"),onClick:f.MRk,oa:m.oa})}:void 0;const g=vb.direction===
2,h=g?wr:vr,k=g?vr:wr,l=f.$jn;d.wej=e["move-column-before"]?{Button:fV(m=>dV(m.fl,{Icon:l===2?k:h,label:l===2?L("AbZWJg"):L("GsrOSg"),onClick:f.bCn,oa:m.oa}))}:void 0;d.vej=e["move-column-after"]?{Button:fV(m=>dV(m.fl,{Icon:l===2?h:k,label:l===2?L("GsrOSg"):L("AbZWJg"),onClick:f.aCn,oa:m.oa}))}:void 0;d.yej=f.dCn&&e["move-row-up"]?{Button:fV(m=>dV(m.fl,{Icon:__c.LB,label:L("rLHohQ"),onClick:f.dCn,oa:m.oa}))}:void 0;d.xej=f.cCn&&e["move-row-down"]?{Button:fV(m=>dV(m.fl,{Icon:__c.au,label:L("SnU4qQ"),
onClick:f.cCn,oa:m.oa}))}:void 0},{equals:lV.shallow});return{Hor:b}};
wDs=function({fd:a,iNe:b,Xwa:c,YA:d,JNe:e,XDf:f,Kn:g,T$b:h}){function k(q,r){l.Ioe&&c.Yfb(l.Ioe,g,q,r)}const l=new tDs(b,a,e,f,h),m=new uDs(l),p=q=>d.ON.transformPoint(q);return fV(()=>{const q=l.RFh,r=l.Ioe,t=l.h4l,u=l.Zjn,w=l.eb;if(l.Y5c||!(q&&t&&u&&w&&r))return null;var x;return dV(vDs,{Aca:u,oj:r,eb:w,gridTemplateColumns:t.grid.gridTemplateColumns,direction:(x=q===null||q===void 0?void 0:q.direction)!==null&&x!==void 0?x:1,Yfb:k,MEj:p,Tui:m.Tui,Swi:m.Swi,QFh:m.QFh})})};
ADs=function(a){if(a.Ja!=="responsive"){const r=a.viewport,t=a.Itg,u=a.Xbj;a.canvas.kc(()=>t.selected.OYn,(w,x)=>{w.yg.LPd=x?y=>y.page.page!==r.ya?null:dV(xDs,{nqp:()=>dV(yDs,{viewport:r,Pc:y.Pc,context:x,Zmp:u})}):void 0})}const b=a.canvas,c=a.iNe,d=a.fd,e=a.iej,f=a.jfp,g=a.sAh,h=a.Qor,k=a.XDf,l=a.gfp,m=mV(()=>h.dgn),p=mV(()=>h.uSa),q=mV(()=>k.EXb);b.kc(r=>r===40&&(c.selected.hw||c.focused.hw||c.UD.hw),(r,t)=>{r.wn.cM.LPd=t?()=>dV(zDs,{wI:c,fd:d,Thj:f,Shj:e,Ahj:g,Qmr:m,xyk:p,EXb:q,nQo:l}):void 0})};
BDs=function(a,b,c){return Lj(b).transformPoint(__c.Nj(wj(-c)).transformPoint(a))};HDs=function(a){var b=a.Xa;const c=a.viewport;var d=a.Xwa;const e=a.ih,f=a.T$b,g=new CDs(a.iNe,a.Arr,a.fd,f);b=new DDs(g,d,b,e,c);if(a.Ja==="responsive"||!a.YYd)return{sAh:EDs(g,b),XDf:g};d=a.ozb;a=new FDs(a.Itg,f);return{Xbj:EDs(a,new GDs(a,d,e,c)),bqq:a,sAh:EDs(g,b),XDf:g}};
EDs=function(a,b){return fV(({$c:c=1})=>{const d=a.orientation,e=a.direction,f=a.gap,g=a.YCo,h=a.tyj,k=a.eb,l=a.ihi,m=a.a6a,p=a.Sed,q=a.padding;return d&&l!=null&&f!=null&&g&&h&&k&&!p?dV(IDs,{orientation:d,width:h.ZSd*c,height:h.Chf*c,onClick:b.onClick,padding:{paddingTop:q.paddingTop*c,paddingRight:q.paddingRight*c,paddingBottom:q.paddingBottom*c,paddingLeft:q.paddingLeft*c},eb:k*c,c_q:g.map(r=>(r*c).toString()+"px"),gap:f*c,ihi:l,onDragStart:b.onDragStart,pe:b.pe,onDragEnd:b.onDragEnd,QXd:m===null||
m===void 0?void 0:m.QXd,Fwb:m===null||m===void 0?void 0:m.Fwb,h$b:m===null||m===void 0?void 0:m.h$b,direction:e,$c:c}):null})};JDs=function(a,b){const c=a.oj.zoom;if(!(a.rto<a.oj.BWg)){b=b.x-a.kyl.x;a.zlc==="right"&&(b*=-1);var d=a.oj.width/c;const e=a.oj.zoom;__c.nce(a.hw,d,Math.max(a.oj.BWg*e,Math.min((a.rto-b*2)/c,d)),a.oj.tp.width,e)}};KDs=function(a,b){const c=(a.width-a.eb)/2;return Sj(b.tl.x+c,b.tl.y+a.padding.paddingTop,b.tr.x-c,b.br.y-a.padding.paddingBottom)};
LDs=function(a,b){const c=a.ypa,d=a.dHb,e=a.k6l;if(c){var f=c.grid.gridTemplateColumns;b/=a.T_p;if(!(d>=f.length||e>=f.length)){a=f.map(k=>parseFloat(k));var g=f.reduce((k,l)=>k+parseFloat(l),0);a=a[d]+a[e];var h=.1*g;b=Math.max(h,Math.min(a-h,b*g));f=[...f];f[d]=`${b}fr`;f[e]=`${a-b}fr`;c.grid.gridTemplateColumns=f}}};
ODs=function(a,b,c,d,e){const f=new MDs(a,c,d,g=>n(b.wP).transformPoint(g),e);return fV(()=>{var g,h;const {oj:k,M5d:l}=(h=e.selected)!==null&&h!==void 0?h:{},{width:m,height:p}=l!==null&&l!==void 0?l:{};return m!=null&&p!=null&&k&&(g=sA(k))!==null&&g!==void 0&&g.cLc?dV(NDs,{cT:m,aBa:p,paddingTop:k.padding.paddingTop,paddingBottom:k.padding.paddingBottom,eb:k.eb,onDragStart:f.ORr,pe:f.NRr,onDragEnd:f.MRr,zlc:e.zlc,T$b:e.T$b}):null})};
RDs=function({selection:a,Zo:b,JNe:c}){const d=gV(()=>{c.bQg=!0}),e=gV(()=>{c.bQg=!1});b.Lu(()=>{var f,g,h,k,l,m;return{zlc:c.zlc,cLc:(m=((f=c.selected)===null||f===void 0?void 0:f.oj)!=null&&((g=sA(c.selected.oj))===null||g===void 0?void 0:g.cLc))!==null&&m!==void 0?m:!1,Nkr:((h=a.Jb)===null||h===void 0?void 0:h.type)===1&&((l=a.Jb)===null||l===void 0?void 0:(k=l.only)===null||k===void 0?void 0:k.type)==="layout"}},(f,{zlc:g,cLc:h,Nkr:k})=>{f.layout.g7f=k?g||!h?()=>null:fV(({onDragStart:l,onDragEnd:m,
...p})=>{const q=c.selected.hw;var r=c.selected.oj;const t=c.selected.NHa;var u=c.selected.M5d;const {width:w,height:x}=u!==null&&u!==void 0?u:{},y=q&&r!=null?PDs(r):!1;r=hV((z,A,B,D,G)=>{l(z,A,B,D,G);y&&d()},[l,y]);u=hV(()=>{e();m()},[m]);return q&&t&&w!=null&&x!=null?dV(QDs,{width:w,height:x,HJs:y||c.bQg,onDragStart:r,onDragEnd:u,...p}):null}):void 0})};
UDs=function(a,b,c,d,e){const f=new SDs(a,b,c,d,e);return{iej:fV(()=>{const g=e.focused.hw,h=e.focused.oj,k=e.focused.M5d,l=e.focused.oBf;return k&&g&&h&&l!=null&&!e.DHs?dV(TDs,{hw:g,M5d:k,oj:h,oBf:l,onDragStart:f.rRr,pe:f.qRr,onDragEnd:f.pRr,onMouseEnter:f.onMouseEnter,onMouseLeave:f.onMouseLeave,onClick:f.onClick,wyk:e.wyk}):null})}};
ZDs=function({Cd:a,Kr:b,P:c,flf:d,wI:e}){const f=new VDs(e,d),g=new WDs(f,c);a.plugins.cic=()=>({Qd:()=>!!f.GTd,Button:h=>dV(XDs,{...h}),Vu:{rg:()=>{L("BtDtuQ")}},ma:fV(h=>{var k,l,m,p,q,r;return dV(YDs,{...h,Oh:b,qRk:((k=f.GTd)===null||k===void 0?0:k.cellPadding)?g.fQi:void 0,cellPadding:((l=f.GTd)===null||l===void 0?0:l.cellPadding)?f.eum:void 0,oRr:((m=f.GTd)===null||m===void 0?0:m.columnGap)?g.jDs:void 0,columnGap:((p=f.GTd)===null||p===void 0?0:p.columnGap)?f.columnGap:void 0,c0r:((q=f.GTd)===
null||q===void 0?0:q.rowGap)?g.CEs:void 0,rowGap:((r=f.GTd)===null||r===void 0?0:r.rowGap)?f.rowGap:void 0})})})};
$Ds=function(a,b,c,d,e,f,g){const h=gV((q,r,t,u)=>{b.fIb==null&&(a.UD.qyb={NHa:r,hw:q,QZc:t&&u?{rb:t,id:u}:void 0})}),k=gV((q,r,t)=>{b.fIb==null&&(a.UD.qyb=t!==void 0?{NHa:r,hw:q,QZc:void 0}:void 0)}),l=gV((q,r,t,u)=>{switch(u){case "padding":c.rOi(r,q,[t]);break;case "before_text":c.Ru(t.text,Qw.start());c.focus();break;case "after_text":c.Ru(t.text,Qw.end());c.focus();break;default:throw new v(u);}}),m=d({}),p=(q,r)=>e.wta(q,r);f.yma.tzh=fV(q=>{const r=q.Pc,t=q.item,u=q.tp,w=zV(()=>new __c.ZIb(t,
u,r),[t,u,r]);return dV(__c.$Ib,{...q,A9:m,oj:w,jte:g.trr,wta:p,onMouseEnter:h,onMouseLeave:k,QBn:l})})};
aEs=async function(a){var b,c;const d=(c=a.selection.La)===null||c===void 0?void 0:(b=c.pages)===null||b===void 0?void 0:b.at(0);if(d&&a.ja){d.id?c=new __c.Ht({selection:new __c.Vvd({Yxd:d.id})}):(b=a.session.document.pages.toArray().indexOf(d)+1,c=new __c.Ht({c_:b}));b=!(!a.ee||!__c.aVe(a.ee))&&a.fwg&&!!a.q6d.fVk;c=__c.Gt.RVb({id:a.ja,extension:a.session.extension,Cc:__c.si(new __c.ti({wa:c}))});try{await a.DO(c),b&&a.P.track(__c.Okk,{ja:a.ja,reason:"private_link_copied",errorMessage:"Private link copied to clipboard",
Zib:"copy_page_link",location:"toast_message"}),a.la.Ib({Cb:b?L("jjR/oQ"):L("dYyNFQ"),media:{content:b?dV(gu,{size:"medium"}):dV(ey,{size:"medium"})},rr:b&&a.q6d.fVk?{buttonText:L("dxl/gA"),onClick:a.q6d.fVk}:void 0}),a.P.track(Jjf,{action:"copy",contentType:"page_link",kb:"menu"}),a.P.track(__c.Mkk,{medium:"link",location:"page_menu",fsb:a.document&&a.ee?__c.xkk(a.document.Bc.extension,a.ee.pna,a.ee.NW):void 0})}catch(e){a.errorService.pa(e)}}};
cEs=function(a){const b=a.Cd,c=a.kh,d=a.la,e=a.P,f=a.session,g=a.ka,h=__c.gp();if(a.Ja!=="responsive"){var k=Ff(f.document),l=new bEs(a.q6d,a.selection,d,e,f,a.ja,h,a.errorService,a.document,a.ytd,a.fwg,a.ee);if(l.SEp){const m=()=>aEs(l),p={Button:fV(r=>{var t,u;return dV(r.fl,{label:L("J3oYlg"),disabled:((u=a.selection.La)===null||u===void 0?void 0:(t=u.pages)===null||t===void 0?void 0:t.length)!==1,onClick:m,Icon:Ao,oa:r.oa})})};c.kc(()=>{var r;return((r=a.selection.La)===null||r===void 0?void 0:
r.type)==="pages"&&(!a.selection.La.inner||g.layout===2&&a.selection.La.inner.type==="background")},(r,t)=>{r.Tzc=t?p:void 0});const q={Button:({zi:r,onClick:t,...u})=>{const w=hV(()=>{t&&t();aEs(l)},[t]);return dV(r,{...u,icon:Ao,yh:"icon-and-label",onClick:w,children:L("J3oYlg")})}};b.plugins.Tzc=()=>({Qd:()=>{var r,t;return((r=a.selection.La)===null||r===void 0?void 0:r.type)==="pages"&&!((t=a.selection.La)===null||t===void 0?0:t.inner)},...q});a.fYd&&eV(()=>{var r,t,u;return(u=a.fYd)===null||
u===void 0?void 0:(t=u.get())===null||t===void 0?void 0:(r=t.selection)===null||r===void 0?void 0:r.Yxd},r=>{if(r){const t=k.ia.pages.first(u=>u.id===r);t&&a.selection.DU(k,t)}})}}};
dEs=function(a,b){if(b.startsWith(location.origin)){var c=AJa(b);if(c&&c.id===a.ja)try{var d,e,f;const g=(f=(new URL(b)).searchParams.get("ui"))!==null&&f!==void 0?f:void 0,h=__c.KJa(g),k=h===null||h===void 0?void 0:(e=h.wa)===null||e===void 0?void 0:(d=e.selection)===null||d===void 0?void 0:d.Yxd;return k?a.document.pages.first(l=>l.id===k):void 0}catch(g){}}};
fEs=function(a,b){const c=a.store.y$n;if(c){var d=!!a.store.link;c.forEach(({xtr:e})=>{e.set(b)});a.store.vmb&&eEs(a,b);b&&a.la.Ib({Cb:d?L("vgGQGQ"):L("wStY/A")});a.Pie({type:c[c.length-1].wMa.ia.type})}};
gEs=function(a,b){var c;if(a.store.vmb){var d=((c=a.jc.state)===null||c===void 0?void 0:c.type)==="multi-config"?__c.AB(a.jc.state):a.jc.state;c=!!a.store.link;a.jc.select(a.store.vmb);a.jc.setContext({[4]:void 0});eEs(a,b);d||a.jc.deselectAll();b&&a.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});a.Pie({type:"text",ttj:!0})}};
iEs=async function(a,b){var c,d,e=a.store.dz;const f=!!a.store.link;if(e){var g=e.sheet;e=e.anchor;b?await ((c=a.BJ)===null||c===void 0?void 0:hEs(c,g,[e],b)):(d=a.BJ)===null||d===void 0||d.hKi(g,e);b&&a.la.Ib({Cb:f?L("vgGQGQ"):L("wStY/A")});a.Pie({type:"sheet-cell",ttj:!1})}};eEs=function(a,b){var c,d;const e=b==="";a.store.FMi&&(a.store.FMi.set(b),((d=a.store.G1a)===null||d===void 0?void 0:(c=d.inner)===null||c===void 0?void 0:c.type)==="sheet"&&a.jc.setAttributes({color:e?void 0:Ry.color}))};
jEs=function(a){var b;a.y4b=a.selection.La;a.ldf=((b=a.jc.state)===null||b===void 0?void 0:b.type)==="multi-config"?__c.AB(a.jc.state):a.jc.state;a.ldf&&a.eUj==null&&(a.eUj=eV(()=>({jc:a.ldf,Ji:a.store.Czk,link:a.store.VDl}),({jc:c,Ji:d,link:e})=>{a.jc.state===c&&(a.Gmj=d,a.Hmj=e)},{equals:lV.structural,fireImmediately:!0}))};
lEs=async function(a,b){try{const c=await a.Th.pqa(new __c.Ood({user:a.X.user.id,brand:a.X.zb.brand.id,types:[1],query:b,Uy:3,limit:5})),d=kEs(a,c),e=(d===null||d===void 0?void 0:d.map(a.f5l))||[];return await Promise.all(e)}catch(c){a.errorService.pa(c,{Ka:`Failed to search for designs with query: ${b}`})}};
kEs=function(a,b){if(b.items&&b.items.length){var c=Math.min(b.items.length,4);return b.items.map(d=>{var e,f;return{id:d.id,title:d.name,href:__c.Gt.RVb({id:d.id,extension:(f=d.document)===null||f===void 0?void 0:(e=f.extensions)===null||e===void 0?void 0:e.default}),fs:d.thumbnail&&d.thumbnail.url,width:d.thumbnail&&d.thumbnail.width||40,height:d.thumbnail&&d.thumbnail.height||40,Cr:d.Cr}}).filter(d=>d.id!==a.ja).slice(0,c)}};
mEs=async function(a,b){const c=__c.nif(a.Xa),d=a.undo.startBuffering();try{const f=a.ox.wgb,g=a.ox.link,h=a.ox.fFf;if(f&&g!==null&&g!==void 0&&g.href){var e=await a.Hu.oK(g.href);await oV(async()=>{var k;if(((k=a.Xa.state)===null||k===void 0?void 0:k.type)==="RANGE"&&c!==null&&c!==void 0&&c.Oc){(k=a.Xa.state.wz)?a.Xa.Uv(c.Oc,k):(a.Xa.Ru(c.Oc,c),a.Xa.OGf(g.href));a.Xa.jQ();var l=AJa(g.href);l=h&&g.href&&g.href===h&&l?L("PwCL7w"):h;await b(f,g.href,e.title||l,k===null||k===void 0?void 0:k.width)}})}}finally{oV(()=>
{d.stop();c===null||c===void 0||c.disconnect()})}};nEs=function(a){switch(a){case "iframe":case "pill":return"item";case "link":return"text";default:throw new v(a);}};oEs=function(a,b,c){c=c(b).then(gV(d=>{a.oxb.delete(b);a.store.cfl.set(b,d);return d})).catch(gV(d=>{a.oxb.delete(b);d instanceof __c.km&&a.PMm.add(b);throw d;}));a.oxb.set(b,c)};rEs=function(a){const b=new pEs,c=new qEs(b,d=>a.BDj({url:d,maxWidth:void 0,maxHeight:void 0}));return{dfl:b,Hts:c}};
sEs=async function(a,b){b=(new URL(b)).pathname;b=AJa(b);if(!b)return[];try{const {document:c}=await a.Db.getDocument(new __c.ft({id:b.id,extension:b.extension,NEa:!0}));return c.draft.content.pages}catch(c){return[]}};
tEs=function(a){var b;if(((b=a.ox.link)===null||b===void 0?void 0:b.type)==="url"&&a.ox.link.href){var c=a.ox.link.href;sEs(a,c).then(gV(d=>{c.includes("include_page_ids")?a.E3i({pages:d,ZEd:null,zVe:__c.tLr(c)}):a.E3i({pages:d,ZEd:null,zVe:null});a.store.YEm=a.store.ZEd.slice().sort().join(",");a.store.zwe=a.store.ZEd}))}};
uEs=async function(a,b,c){var d;const e=__c.nif(a.Xa),f=(d=a.ox.gMa)===null||d===void 0?void 0:d.wz,g=a.undo.startBuffering();try{if((f===null||f===void 0?void 0:f.type)==="embed"){var h=f.url;h&&(await a.Hu.oK(h),await oV(async()=>{e!==null&&e!==void 0&&e.Oc&&(f&&a.Xa.Uv(e.Oc,f),a.Xa.jQ(),await b(c,{width:f.width,maxWidth:f.maxWidth}))}))}}finally{oV(()=>{g.stop();e===null||e===void 0||e.disconnect()})}};
zEs=function({ja:a,m$a:b,No:c,oc:d,P:e,Hu:f,GR:g,Db:h,Vm:k,errorService:l,Th:m,X:p,la:q,g$r:r,K0g:t,V:u,undo:w,...x}){const {Z6f:y,aof:z}=vEs({ja:a,Vm:k,errorService:l,Th:m,X:p}),A=new __c.OLr(x.ox,c,f,r===null||r===void 0?void 0:r.pPc,z),B=new __c.MLr(A,b,t,z),{h1o:D}=wEs({...x,ztr:B,Db:h,la:q,Hu:f,oc:d,P:e,GR:g,V:u,undo:w}),{Ybf:G,tPc:I,Z1k:K}=xEs({...x,Db:h,la:q,Hu:f,oc:d,P:e,undo:w}),{fgp:N}=yEs(),M=r?fV(()=>dV(r.Xme,{frd:A.Lt,c_:A.c_,V8:B.V8})):void 0,S=fV(()=>dV(y,{Gk:A.Gk,Xwd:A.Xwd,AYf:A.AYf,
aZa:B.aZa})),Q=fV(ja=>dV(N,{...ja,Z6f:A.Xwd?S:void 0,Xme:M,iTr:B.J_m})),W=fV(ja=>dV(__c.TLr,{...ja,value:A.qgc,error:A.wAd!=="none",bOe:A.bOe,onChange:B.mTk,onSubmit:B.nTk})),X=fV(ja=>{const fa=ja.oa,aa=ja.osb,ca=hV(()=>{B.onSubmit();fa===null||fa===void 0||fa()},[fa]),qa=hV(()=>{B.onRemove();fa===null||fa===void 0||fa()},[fa]);return dV(aa?__c.YLr:__c.XLr,{...ja,oob:A.oob,hzd:I.hzd,link:A.link,Cac:A.Cac,loading:A.Kqc,T8:ca,onCopy:b.onCopy,$bc:B.$bc,onRemove:qa})}),ba=fV(()=>dV(__c.VLr,{onClick:b.onCopy,
disabled:A.link.type==="page"||!A.oob})),da=fV(()=>dV(__c.WLr,{onClick:B.onRemove,disabled:!A.oob})),la=fV(ja=>dV(__c.ULr,{...ja,disabled:A.Kqc,rDa:A.rDa,value:A.Lt,error:A.zUi,Cac:A.Cac,ida:A.ida,Isd:A.Isd,Pw:A.Pw,onSubmit:B.onSubmit,onChange:B.LZb,fj:B.fhb,onFocus:B.GBi,tzf:B.tzf,s1e:B.s1e})),ka=()=>{B.Lba();tEs(K)},oa=()=>{B.LV();K.iym()};return{i8f:fV(ja=>{const fa=!!M||A.Xwd,aa=mV(()=>x.ox.ASg);return dV(__c.RLr,{...ja,osb:A.osb,pRe:A.pRe,open:A.open,Bac:A.aDk,wAd:A.wAd,oob:A.oob,Kqc:A.Kqc,Cye:A.Cye,
k3e:A.k3e,onBlur:B.dkg,Lba:ka,LV:oa,CE:B.CE,selection:aa,Buttons:X,Zp:la,wca:fa?Q:void 0,h8f:W,Ljd:D,Ybf:G,Tyh:ba,XBh:da})})}};CEs=function({document:a,ke:b}){const c=new AEs(a);a=fV(({frd:d,c_:e,V8:f})=>{d=c.ZWm(d);return dV(BEs,{pages:d,c_:e,mpc:c.mpc,onSelect:f,ke:b})});return{store:c,Xme:a}};
hEs=async function(a,b,c,d,e){c=c.filter(k=>a.Olb(b,[k],k));var f;const g=(f=e===null||e===void 0?void 0:e.grq)!==null&&f!==void 0?f:!1,h=c.filter(k=>{const l=a.contentType(b,k);return l===1||l===2||g&&a.isEmpty(b,k)});a.Ded(b,c,d,void 0);if(!(h.length<0))try{const k=await a.Hu.fetch(d);oV(()=>{DEs(a,b,h,k)})}catch(k){oV(()=>{a.Ded(b,h,d,void 0)})}};EEs=function(a,b,c,d){const e=a.link(b,c);(e===null||e===void 0?void 0:e.type)===0&&Cz(a.Vc,f=>{f.rGa(b,c,d)})};
FEs=async function(a,b,c){const d=a.OO(b,c);if(!d)throw Error("Cell has no URL to embed");const e=await a.Hu.fetch(d);oV(()=>{DEs(a,b,[c],e)})};DEs=function(a,b,c,d){Cz(a.Vc,e=>{for(const l of c){var f=e,g=b,h=l,k=d;f.setAttributes(g,h,{link:void 0,decoration:void 0,color:void 0});f.kaa(g,h,__c.yhe([{embed:{text:k.text?k.text:k.url,url:k.url}}]));f.q0(g,h,{type:"embed",xj:void 0})}})};
GEs=function(a,b,c){Cz(a.Vc,d=>{for(const g of c){var e=d,f=b;a.isEmpty(f,g)&&(e.setAttributes(f,g,{link:void 0,decoration:void 0,color:void 0}),e.q0(f,g,{type:"embed",xj:void 0}),e.kaa(f,g,__c.FQd))}})};HEs=function(a,b){return(a=AJa((new URL(a)).pathname))?b?b.Xpa(new __c.Pn(a)):Promise.reject(Error("DocumentService not provided")):Promise.reject(Error("Invalid document path"))};LEs=function(a,b,c){const d=new IEs(c);b=new JEs(b,d,c);return{BJ:a&&new KEs(a,b),y2e:d}};
PEs=function(a){const b=a.y2e,c=a.jc,d=a.Uj,e=a.kh,f=a.ka,g=a.u3a,h=a.i8f,k=new MEs(a.BJ,b,a.xGs,a.ox,a.selection),l=new NEs(k,b,e),m=OEs(k,l,g,h);d.wn.kc(p=>{if(p===40&&f.layout!==2)return k.selection},(p,q)=>{q?(l.open(q.link),p.cM.p4b=fV(r=>dV(m,{selection:q,page:r.page.type==="responsive-page"?r.page.ia:void 0}))):(l.close(),p.cM.p4b=void 0)});d.kc(p=>{var q;if(p===40&&(c===null||c===void 0?void 0:(q=c.state)===null||q===void 0?void 0:q.type)!=="focused"&&f.layout!==2)return k.selection},(p,q)=>
{q?(l.open(q.link),p.yg.p4b=fV(r=>dV(m,{selection:q,page:r.page.ia}))):(l.close(),p.yg.p4b=void 0)});return{LGs:l}};OEs=function(a,b,c,d){const e=QEs(a,b,c,d);return fV(f=>{const g=f.selection;return dV(__c.vA,{nz:g.ED,page:f.page,Ijc:g.anchor,overflow:!0,children:dV(REs,{anchorPoint:g.anchorPoint,children:dV(e,{selection:g})})})})};
QEs=function(a,b,c,d){const e=fV(()=>dV(d,{oa:b.Pte,Oe:"fixed"})),f=fV(()=>dV(SEs,{open:a.rw,onClick:b.jMd,oa:b.Pte,Fbj:e}));return fV(g=>{g=g.selection;if(g.link.type===2)return dV(TEs,{rw:a.rw,Fbj:e});const h=c(g.link.url);if(!h)return null;g=fV(()=>dV(UEs,{vSg:h,Hyo:a.kni}));const k=a.aie,l=a.thumbnail;if(k&&l){const m=fV(()=>dV(VEs,{thumbnail:l,vSg:h}));return dV(WEs,{title:k,kbf:m,t$f:g,n7f:f})}return k?dV(XEs,{title:k,t$f:g,n7f:f}):dV(YEs,{t$f:g,n7f:f})})};
nFs=function(a){var b,c=a.selection;const d=a.Ma,e=a.No;var f=a.zSg;const g=a.Hu,h=a.GR,k=a.Db,l=a.P,m=a.keyboardShortcuts,p=a.J3n,q=a.KGa,r=a.toolbar,t=a.Cd,u=a.iba,w=a.kh,x=a.oc;var y=a.Vc;const z=a.Uj,A=a.viewport;var B=a.gb;const D=a.fd,G=a.la,I=a.we,K=a.session,N=a.X;var M=a.ja;const S=a.Th,Q=a.errorService,W=a.ka,X=a.Vm,ba=K.undo;let da,la;const ka=a.Ga.Ud("editor.editing.linking");var oa=new __c.NNb(k);const ja=__c.gp(),{BJ:fa,y2e:aa}=LEs(y,g,k);y=a.Xa;B=new ZEs(B,A);const ca=new $Es(c,y,fa,
B,d,W,e,oa,N);var qa=new aFs(x,g,oa,y,G,ba);const ra=new bFs(ca,qa,fa,y,G,l,M,ja);if(a.Ja!=="responsive"){const Xa=a.viewport;B=a.selection;const bb=a.jc,ob=a.ke,mb=new cFs(a.session),{store:nb,Xme:qb}=CEs({document:a.session.document,ke:ob});oa=new dFs(f,B,d,bb,ca,fa,r,W,nb,e,oa,N);qa=new eFs(a.session.document,oa,qa,B,g,G,ba,ka,x);M=new fFs(f,oa,qa,ra,fa,mb,B,bb,Xa,G,l,M,ja,ba,a.session.document);f={pPc:nb,Xme:qb};da=oa;la=M;y={Ja:a.Ja,N7b:qa,selection:B,document:a.session.document,ox:oa,BJ:fa,
jc:bb,Xa:y}}else da=ca,la=ra,f=void 0,y={Ja:a.Ja,N7b:qa,ox:ca,BJ:fa,Xa:y};const {i8f:sa}=zEs({...y,ja:K.id,m$a:la,No:e,oc:x,P:l,Db:k,Hu:g,GR:h,Vm:X,errorService:Q,Th:S,X:N,la:G,g$r:f,K0g:()=>{setTimeout(()=>{if(da.m1b&&Ra&&w.BZ(Ra)&&da.Iua){var Xa;(Xa=r.sE)===null||Xa===void 0||Xa.vB(da.Iua);w.xpd()}})},V:ka,undo:ba}),wa={Button:fV(Xa=>{const bb=Xa.onClick,ob=Xa.open,mb=hV(()=>{bb===null||bb===void 0||bb();!ob&&la.rLf("link")},[bb,ob]);return dV(gFs,{...Xa,onClick:mb,state:da.eFf,selected:da.KHi})}),
Vu:{rg:()=>L("vcZEOw")},ma:sa};t.plugins.Link=gV(()=>{da.Iua={Qd:()=>da.l3e,...wa};return da.Iua});const za={Button:fV(Xa=>{const bb=Xa.onClick,ob=Xa.open,mb=hV(()=>{bb===null||bb===void 0||bb();!ob&&la.rLf("link")},[bb,ob]);return dV(gFs,{...Xa,onClick:mb,state:da.eFf,selected:!1})}),ma:sa};u?u.Link=()=>{da.Iua={Qd:()=>da.m1b,...za};return da.Iua}:(b=r.sE)===null||b===void 0||b.kc(()=>da.m1b,(Xa,bb)=>{da.Iua=bb?za:void 0;Xa.Link=()=>da.Iua});const Ba=Xa=>({Button:fV(bb=>dV(hFs,{...bb,link:Xa,label:da.fFf||
"",tooltip:da.eni||"",icon:da.wSg,layout:W.layout,onClick:la.$bc,disabled:da.dFf}))}),Aa={Button:fV(Xa=>dV(iFs,{...Xa,onClick:la.onCopy}))};t.plugins.Wcb=()=>({Qd:()=>da.o3e,...Ba(da.link)});t.plugins.Dkb=()=>({Qd:()=>da.b3e,...Aa});if(u)u.Wcb=()=>({Qd:()=>da.o3e,...Ba(da.link)}),u.Dkb=()=>({Qd:()=>da.b3e,...Aa});else{var Fa,Ea;(Fa=r.sE)===null||Fa===void 0||Fa.kc(()=>da.o3e?da.link:void 0,(Xa,bb)=>{Xa.Wcb=bb?()=>Ba(bb):void 0});(Ea=r.sE)===null||Ea===void 0||Ea.kc(()=>da.b3e,(Xa,bb)=>{Xa.Dkb=bb?
()=>Aa:void 0})}b=jFs(e,la);const La=new kFs(c,A,D,d),{LGs:Ja}=fa?PEs({jc:a.Ja!=="responsive"?a.jc:void 0,selection:c,BJ:fa,xGs:La,y2e:aa,kh:w,Uj:z,ka:W,u3a:b,ox:da,i8f:sa}):{};let Ra;const Va=Xa=>()=>{var bb,ob,mb,nb;if(r.sE&&!r.sE.hidden&&da.Iua&&((bb=(ob=da.Iua).Qd)===null||bb===void 0?0:bb.call(ob)))r.sE.vB(da.Iua);else if((mb=wa.Qd)===null||mb===void 0?0:mb.call(wa))(nb=r.sE)===null||nb===void 0||nb.vB(wa);else if(Ja===null||Ja===void 0?0:Ja.isOpen)Ja.DJa();else if(Ra)da.dz&&La.GEj&&w.sMb(La.GEj,
"sheet","right_click"),w.M5(Ra);else return;la.rLf(Xa)},Ya=Xa=>()=>{fa&&da.dz&&GEs(fa,da.dz.sheet,da.dz.cells);Va(Xa)()},Sa=bl("k");c=[Sa,gV(Ya("link_keyboard_shortcut")),L("vcZEOw"),["edit","suggest"]];m===null||m===void 0||m.register(c);p.register(c);q.register(c);w.kc(()=>({$ed:da.$ed,Eo:W.layout===2}),(Xa,{$ed:bb,Eo:ob})=>{Ra=bb?{Button:mb=>{const nb=ob?()=>{var qb;return(qb=mb.Ng)===null||qb===void 0?void 0:qb.Xg({df:sa,options:{rg:()=>L("vcZEOw")}})}:Va("link_context_menu");return dV(lFs,{...mb,
state:da.eFf,im:Sa,onClick:nb})},ma:sa}:void 0;Xa.Link=Ra},{equals:lV.structural,zYn:!0});I===null||I===void 0||I.ym(()=>da.y3e,{type:"simple",key:"link",name:L("vcZEOw"),Icon:Ao,execute:async()=>{Va("quick_actions")()}});I===null||I===void 0||I.ym(()=>da.Rjh,{type:"simple",key:"link-insert",name:L("vcZEOw"),Icon:Ao,execute:async()=>Ya("quick_actions")()});a.Uj.Xj=b;a.Uj.$ca.Xj=b;a.Ja!=="responsive"&&eV(()=>d.mode,Xa=>{switch(Xa){case 30:case 40:a.Uj.dEa.CAh=void 0;break;case 20:a.Uj.dEa.CAh=new mFs(a.selection);
break;case 10:a.Uj.dEa.CAh={OYf:()=>!0};break;default:throw new v(Xa);}},{fireImmediately:!0});return{BJ:fa}};oFs=function(a){eV(()=>a.Mt,b=>{b&&(a.store.gki=!0)});eV(()=>a.selection.La,()=>{a.store.gki=a.Mt})};pFs=function(a,{action:b,IL:c,POe:d,location:e,mb:f}){b={ja:"",action:b,IL:c,POe:d,location:e};f?(f.addEvent("actioned"),bp({mb:f,P:a.N,event:__c.Ayh,props:b})):a.N.track(__c.Ayh,b)};
qFs=function(a){return a.map(b=>{switch(b){case am.Ps:return"content";case am.mLa:return"text_formatting";case am.COLOR:return"color";case am.Pjd:return"effects";default:throw new v(b);}})};
rFs=function(a,{selection:b,locked:c,IL:d,location:e,mb:f}){const g=[];switch(b.type){case "audio":break;case "pages":if(!b.inner){b=b.pages.filter(h=>h.type!=="responsive");b.forEach(h=>a.vc.MSc(h,c,d));b.length>1&&g.push("page");break}switch(b.inner.type){case "pages":if(!b.inner.inner){b.inner.pages.forEach(k=>a.vc.MSc(k,c,d));g.push("page");break}switch(b.inner.inner.type){case "background":b.inner.inner.Jc.forEach(k=>{a.vc.zRi(k,c)});g.push("background");break;default:throw new v(b.inner.inner.type);
}break;case "background":const h=b.inner.page;if(h.type==="responsive")return;if(zg(h.dimensions||a.document.dimensions))break;b.inner.Jc.forEach(k=>{a.vc.zRi(k,c)});g.push("background");break;case "sheet":case "sheet-cell-media":break;default:throw new v(b.inner);}break;case "elements":b.elements.forEach(h=>{a.vc.tnl(h,c,d);g.push(h.type)});break;default:throw new v(b);}pFs(a,{action:c?"locking":"unlocking",IL:d!=null?qFs(d).join(","):"",POe:g.join(","),location:e,mb:f})};
sFs=function({document:a,viewport:b,ke:c}){var d=c&&__c.gyr(({zd:f,nd:g,sf:h,Lof:k})=>{f=[...a.pages][f-1];return dV(__c.dOm,{w4a:!k&&f.draft,children:dV(c,{nd:g,sf:h,page:Ff(a).tb(f)})})});const e=mV(()=>{const f=b.ya;return f!=null&&a.pages.has(f)?[...a.pages].indexOf(f):0});d=__c.Ogq({Twg:!1,Roa:d,So:e});return __c.r7p({Pzc:d,gAc:__c.t7p()})};tFs=function(a){const b=new Map;b.set("pages",Array.from(a).join(","));return b};
uFs=function(a){switch(a){case 0:return"CX3XCQ";case 1:return"r4r9MA";case 2:return"HJl02Q";case 3:return"GuWP5w";default:throw Error("indentation not supported");}};vFs=function(a){a.store.Fti&&(a.store.Fti.selected=!1,a.store.Fti=void 0);a.store.nYg&&(a.store.nYg.selected=!1,a.store.nYg=void 0)};
AFs=function(a,b){if(!a[0])return{tree:[],P$n:void 0};b=b[0];let c;var d=wFs(a);const e={};__c.ASb(d,4).forEach((k,l)=>{k.forEach(m=>{m=Math.round(__c.BSb({fontSize:m.attrs["font-size"],fontWeight:m.attrs["font-weight"]}));e[m]=l})});d=new __c.Yi("outline-tree-");const f=new xFs(d.next(),-1,void 0);let g=f;for(const k of a){var h=(a=k.X8j)?Math.round(__c.BSb({fontSize:a.fontSize,fontWeight:a.fontWeight})):0;const l=e[h];a=b===k;if(l==null||l>=3||h<yFs||zFs(()=>k.duc.get().trim()===""))g.selected=
g.selected||a,a&&(c=g);else{h=new xFs(d.next(),l,k);for((h.selected=a)&&(c=h);g.level>=h.level&&g.parent;)g=g.parent;h.parent=g;g.children.push(h);g=h}}return{tree:f.children,P$n:c}};wFs=function(a){a=a.map(c=>__c.rSb(c.X8j));const b=new Map;a.forEach(c=>{const d=__c.sSb(c),e=b.get(d);e?e.frequency++:b.set(d,{attrs:c,frequency:1})});return[...b.values()]};BFs=function(a,b){return a.Ma.mode<40?!0:b.draft?!1:a.document.pages.filter(c=>!c.draft).length<=1};
CFs=function(a,b){return a.Ma.mode<40?!0:b.ia.draft?!1:b.container.pages.filter(c=>!c.draft).length<=1};EFs=function(a,b,c){const d=a.V.sb("unhide_pages",{Fb:{name:`editor.page_drafting.${b}_unhide_pages`}});DFs(a,c,!1);a.KH("unhide",b,d,c);d.ne()};
FFs=function(a,b){const c=a.V.sb("unhide_sections",{Fb:{name:"editor.page_drafting.page_controls_unhide_sections"}});b.forEach(d=>{d.ia.draft=!1});b=b.map(d=>{var e;return(e=d.container)===null||e===void 0?void 0:e.ia});a.KH("unhide","page_controls",c,b);c.ne()};
GFs=function(a,b){const c=a.V.sb("hide_sections",{Fb:{name:"editor.page_drafting.page_controls_hide_sections"}});b.forEach(d=>{d.ia.draft=!0});b=b.map(d=>{var e;return(e=d.container)===null||e===void 0?void 0:e.ia});a.KH("hide","page_controls",c,b);c.ne()};DFs=function(a,b,c){b.forEach(d=>{d.draft=c;d.type!=="responsive"&&HFs(a,d)})};
HFs=function(a,b){var c,d;if(b.draft)switch(a=e=>{e.elements.Ar(f=>kw(f))},b.type){case "fixed":a(b);break;case "concatenated-fixed":b.pages.forEach(a);break;default:throw new v(b);}else(c=(d=a.oc).hpe)===null||c===void 0||c.call(d,b)};IFs=__c.IFs=function(a,b){a.N.track(__c.R$g,b)};JFs=function(a,{J8m:b,cPm:c,kb:d,Rb:e}){a.N.track(__c.Ojf,{action:"reorder",kb:d,Rb:e,uTc:b.map(String),NZi:c.map(String),location:"page_navigator",Ey:0})};
LFs=function(a,{action:b,previous:c,current:d,kb:e,Rb:f}){a.N.track(KFs,{action:b,Qbd:c,jOj:d,kb:e,Rb:f})};NFs=function(a,{UJ:b,Rb:c,kb:d}){a.N.track(MFs,{J_s:b?"fixed":"scaled",Rb:c,kb:d})};PFs=function(a,{c7k:b,KNj:c,WOk:d,Rb:e}){a.N.track(OFs,{action:"resize",c7k:b,KNj:c,WOk:d,Rb:e})};
QFs=function(a,b){const c=Math.round(b.width),d=Math.round(b.height);if(a){if(c<=0||d<=0)return a;switch(b.units){case 1:return J("5fKDgA",[a,c,d]);case 3:return J("XW7xhg",[a,c,d]);case 2:return J("I87Viw",[a,c,d]);case 4:return J("E2FYXw",[a,c,d]);default:throw Error("Invalid unit type");}}};UFs=function({ifa:a,xS:b}){return{gWc:fV(({page:c,QCd:d,className:e})=>{const f=hV(()=>{a.Qtl(c)},[c]);return dV(RFs,{className:e,onClick:f,SOk:d.Iea,xIe:d.xIe})}),$Vc:b?c=>dV(SFs,{...c,xS:b}):void 0,btt:TFs}};
VFs=function(a,b){const c=xKe(a,b);a=mps(a,b)/c*100;var d;b=(((d=b.transition.ref)===null||d===void 0?void 0:d.durationUs)||0)/1E6;return{ryl:a,F2h:b/c*100}};XFs=function({zy:a,JFa:b,Bw:c,lN:d,document:e,qG:f}){const g=k=>e.pages.previous(k),h=k=>e.pages.previous(k,l=>!l.draft);return({page:k,mc:l})=>dV(WFs,{zy:a,JFa:b,lN:d,Bw:c,qG:f,bXq:g,ZWq:h,page:k,mc:l})};YFs=function(a,b){const c=a.props.hZb,d=a.props.durationUs;return{type:b,U3d:b==="end"?c+d:c,Ojn:void 0,wLg:a.props.Xo.scrollLeft,deltaX:0}};
$Fs=function(a,{HAf:b}){return(a=__c.Ki(a.targets.get(),c=>Math.abs(b-c.BCa)))&&ZFs(a,b)?a===null||a===void 0?void 0:a.BCa:void 0};cGs=function(a,{BCa:b,HAf:c,tEf:d,z8d:e}){return aGs(a,{BCa:b,HAf:c,tEf:d})||bGs(a,{z8d:e})};aGs=function(a,{BCa:b,HAf:c,tEf:d}){if(a.xEf==null||d==null)return!1;d=Math.abs(b-c)>Math.abs(b-d);return a.xEf.rOs===b-c>0&&d};bGs=function(a,{z8d:b}){const c=n(a.xEf);return b-c.UB>a.qOs};
dGs=function({Rhl:a,Nhl:b,a4:c,page:d}){if(d.type==="responsive-page"||d.type==="concatenated-fixed-page")return{left:0,top:0,width:a,height:b};d=c.width/c.height;if(d<.9)return b=a*.6/c.width,d=c.width*b,{left:(a-d)/2,top:8,width:d,height:c.height*b};if(d>1.1)return a/=c.width,d=c.height*a,{left:0,top:(b-d)/2,width:c.width*a,height:d};const e=Math.max(a/c.width,b/c.height);d=c.width*e;c=c.height*e;return{left:d>a?-((d-a)/2):0,top:c>b?-((c-b)/2):0,width:d,height:c}};
fGs=function(a,b){var c;if(!b.UJ&&eGs(b,a))return(c=a.Jc.first())===null||c===void 0?void 0:c.color};gGs=function({r:a,g:b,b:c}){return`radial-gradient(100% 120% at 0% 120%, rgba(${a}, ${b}, ${c}, 0.8) 55%, rgba(0, 0, 0, 0))`};hGs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};iGs=function({r:a,g:b,b:c}){return`drop-shadow(0 0 5px rgb(${a} ${b} ${c} / 60%)) drop-shadow(0 0 8px rgb(${a} ${b} ${c}))`};
kGs=function(a){switch(a.type){case "fixed":return jGs(a);case "concatenated-fixed":return{gradient:{background:gGs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};case "responsive":return{gradient:{background:gGs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};default:throw new v(a);}};
jGs=function(a){var b,c,d,e;if(a.draft||((b=a.Jc.first())===null||b===void 0?0:b.image.ref)||((c=a.Jc.first())===null||c===void 0?0:c.video.ref)||((d=a.Jc.first())===null||d===void 0?0:d.gradient.ref))return{gradient:{background:"radial-gradient(100% 120% at 0 120%, rgba(13, 18, 22, 0.8), rgba(0, 0, 0, 0))"},text:{color:"#ffffff",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"},icon:{color:"#ffffff",filter:"drop-shadow(0 0 5px rgb(13 18 22 / 60%)) rgb(13 18 22 / 70%))"}};a=(e=
a.Jc.first())===null||e===void 0?void 0:e.color;if(!a)return{gradient:{background:gGs({r:255,g:255,b:255})},text:{color:"#000000",textShadow:void 0},icon:{color:"#000000",filter:void 0}};const f=bi(a);e=Ji(["#000000","#ffffff"],g=>__c.uj(g,f))==="#000000";return{gradient:{background:gGs(f)},text:{color:e?"#000000":"#ffffff",textShadow:hGs(f)},icon:{color:e?"#000000":"#ffffff",filter:iGs(f)}}};
lGs=function(a,b,c){var d;b=a.type==="fixed"&&b.o5d(a)&&!rf(a)&&(!zg(b.document.dimensions)||c.d4>1);if(rf(a))return __c.gG;if(b)return __c.eAf;if(a.type==="concatenated-fixed")return __c.iO;if(((d=a.Fe)===null||d===void 0?void 0:d.type)==="inline")return __c.FJh;if(a=lk(c,a,__c.JRj))switch(a){case 9:return AV.Muq?__c.yo:__c.jMp;case 1:return __c.jMp;case 2:return __c.tfk;case 3:return __c.eAf;case 4:return __c.I8j;case 5:return __c.COp;case 6:return __c.vD;case 7:return __c.iO;case 8:return __c.gG;
default:throw new v(a);}};mGs=function(a,b){b=a.pnd.cai(b);if(b===-1)throw Error("Audio track not found in audio timeline");const c=a.iGc>0?Wc:0,d=a.pnd.height.get()>0?Wc:0;return{top:a.GRc+a.iGc+c+a.hUf.height+d+b*a.pnd.rowHeight.get(),rowHeight:a.pnd.rowHeight.get()}};oGs=function(a){const b={hUf:{height:BV}};a=new nGs(b,a);return{rac:b,Bda:a}};
pGs=function(a,b,c){if(c&&(c=lk(a.gb,c,__c.JRj),a=a.gb.d4>1,AV.Utq&&b.data.type==="searchMedia"&&(b.data.kind==="searchImageMedia"||b.data.kind==="searchPrivateMedia")&&(a||c!==6))){b=b.data.media.files.filter(f=>f.quality<=7).sort((f,g)=>g.quality-f.quality);const {height:d,width:e}=b[0];if(e&&d)return{type:"fixed",dimensions:{width:e,height:d,units:4},Fe:{type:"inline",BG:void 0}}}};
rGs=function(a,b,c){a.PFc===void 0&&a.store.ya!==c&&qGs(b)&&(a.PFc=window.setTimeout(()=>{a.store.VG(c);a.Vcd()},750))};
sGs=function(a,b,c){a.PFc===void 0&&a.store.ya!==c&&(a.PFc=window.setTimeout(()=>{switch(b.data.type){case "editingElements":a.CG.zZh(c);a.store.ii&&a.store.VG(c);a.Vcd();break;case "searchMedia":case "video":case "audio":case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "datasetFieldPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.store.VG(c);a.Vcd();
break;default:throw new v(b.data);}},750))};
qGs=function(a){switch(a.data.type){case "chart":const b=a.data.Yb.config;a=a.data.Yb.LQa==="state"?b.type:__c.pne(b.type);return __c.yfk(a,"responsive");case "table":case "video":case "searchMedia":case "embed":case "layout":case "sheet":case "template":case "design":return!0;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":return!1;default:throw new v(a.data);
}};
uGs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.Vcd();b.data.type!=="editingElements"&&a.store.viewport.EG(c);a:switch(c.type){case "fixed-page":var e=c;break a;case "concatenated-fixed-page":e=c.tb(c.pages.first());break a;case "responsive-page":throw new __c.Vw;default:throw new v(c);}switch(b.data.type){case "editingElements":a.CG.zZh(c.page,"to-origin");a.store.ii&&(await na(0),a.store.viewport.EG(c));break;case "searchMedia":switch(b.data.kind){case "futureSearchMedia":case "searchImageMedia":case "searchPrivateMedia":d=tGs(a,
e);b=b.data;b.kind!=="futureSearchMedia"?b={type:"image",image:Lif(b.media)}:(b=await b.future,b=b.type==="static"?{type:"image",image:Lif(b.media)}:{type:"video",video:b.video});d&&a.yl.RZa(d,b);break;default:a.Hxa.rze(e,b,{location:"page_navigator",wsc:d})}break;case "video":c=await b.data.video;if(c.contentType==="STICKER"){a.Hxa.rze(e,b,{location:"page_navigator",wsc:d});break}d=tGs(a,e);b={type:"video",video:c};d&&a.yl.RZa(d,b);break;case "audio":a.Hxa.rze(e,b,{location:"page_navigator",wsc:d});
break;case "template":case "pageView":case "generatedDesign":case "searchShape":case "line":case "table":case "grid":case "layout":case "design":case "embed":case "chart":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "sheet":case "file":a.Hxa.rze(e,b,{location:"page_navigator",wsc:d});break;case "datasetFieldPlaceholder":break;default:throw new v(b.data);}};
vGs=async function(a,b,c,d){b={data:b.data,positions:void 0};a.Vcd();b.data.type!=="editingElements"&&a.store.viewport.EG(c);switch(b.data.type){case "chart":case "table":case "video":case "searchMedia":case "embed":case "layout":case "template":case "design":case "sheet":await a.Hxa.rze(c,b,{location:"page_navigator",wsc:d});break;case "editingElements":case "audio":case "pageView":case "generatedDesign":case "searchShape":case "line":case "grid":case "appElement":case "textParagraph":case "textPlaceholder":case "pageNumbers":case "widget":case "file":case "datasetFieldPlaceholder":break;
default:throw new v(b.data);}};tGs=function(a,b){const c=a.AUq(b,b.page.elements.toArray());return c.length?c.reduce((d,e)=>d.Vr.width*d.Vr.height>e.Vr.width*e.Vr.height?d:e):__c.Oy.kba(b,__c.jk(a.Fh,b.page))};wGs=async function(a,b,c,d,e){c=a.mqj(d,c,e);if(!c)return null;if(a.timing.Hs)return c;b.IF==="command"?await b.DRd(c):await b.sra(c);__c.Eo.owg&&b.ii&&setTimeout(()=>a.selection.deselectAll());return c};
xGs=function(a,b,c){a.gum=eV(()=>c.jh?c.ya:void 0,d=>{d&&b.wSa&&b.IF==="single"&&!b.mc(d)&&b.wea(d)})};yGs=async function(a,b){a.mc(b)?await a.ZEc(b):await a.DRd(b)};zGs=async function(a,b,c){if(b&&b!==c){if(a.YJ===a.hC){var d=a.document.pages.first();const f=a.document.pages.last();if(a.ya===d&&b===f&&c===d||a.ya===f&&b===d&&c===f){await a.sra(c);return}}var e=!1;d=a.document.pages.flatMap(f=>{const g=e;if(f===b||f===c)e=!e;return e||g?[f]:[]});await a.DU(nd([...a.Ag,...d]));a.Woa=c}else await a.sra(c)};
AGs=function(a){a.R3k!=null&&(cancelAnimationFrame(a.R3k),a.R3k=void 0);a.Y5g==null&&(a.Y5g=a.V.sb("scroll",{Fb:{name:"page_navigator.scroll",performance:{jT:!0}}}),a.Y5g.mb().nk(({Ii:b})=>{a.N.c2i({Rb:b()})}))};
DGs=function(a,b,c){const d=n(a.OUa),e=a.Xo.clientWidth,f=a.Xo.scrollTo;if(d.Cwa(c)){var g=n(__c.WRd(a.qd,c.Jc).find(l=>l.fill===b));c=g.startUs;var h=c+g.durationUs;g=d.LIa(c);var k=d.LIa(h);d.z_f&&BGs(a.timing.zG,{startUs:c,endUs:h})||!CGs(a,g,k)||(a=g,k-g<e&&(a=Math.max(0,(g+k)/2-e/2)),f({left:a,behavior:"smooth"}))}};
EGs=function(a,b){var c=n(a.OUa);const d=a.Xo.clientWidth,e=a.Xo.clientHeight,f=a.Xo.scrollTo,g=a.Xo.scrollHeight;b=a.W0a.LO(b);const h=b.startUs,k=h+b.durationUs,l=c.LIa(h),m=c.LIa(k);let p;c.z_f&&BGs(a.timing.zG,{startUs:h,endUs:k})||!CGs(a,l,m)||(p=l,m-l<d&&(p=Math.max(0,(l+m)/2-d/2)));const {top:q,rowHeight:r}=mGs(a.Bda,b);c=q+r;let t;q<a.Xo.scrollTop+a.Bda.GRc?t=Math.max(q-a.Bda.GRc,0):c>a.Xo.scrollTop+a.Xo.clientHeight&&(t=Math.max(c-a.Xo.clientHeight,0));a=()=>f({left:p,top:t,behavior:"smooth"});
t&&t+e>g?requestAnimationFrame(a):(p!=null||t!=null)&&a()};BGs=function(a,b){return b.startUs<=a&&b.endUs>=a};CGs=function(a,b,c){const d=n(a.OUa),e=a.Xo.scrollLeft;a=e+a.Xo.clientWidth-d.geb-d.q1f;return c<=e||b>=a};FGs=function(a,b,c="smooth"){const d=a.Xo.scrollLeft,e=a.Xo.scrollTo;a=a.Xo.offsetWidth;b<d?e({left:b-200,behavior:c}):(a=a!==null&&a!==void 0?a:0,b>d+a&&e({left:b+200-a,behavior:c}))};GGs=function(a){a.SHf!=null&&(cancelAnimationFrame(a.SHf),a.SHf=null);a.VPb=null;a.wUc=[]};
HGs=function(a,b,c,d){if(a.yu){var e=b,f=c,g=()=>{if(a.yu)if(e*=.95,f*=.95,Math.sqrt(e*e+f*f)<=1)a.SHf=null;else{var h={};if(d==="horizontal"||d==="diagonal")h.left=a.yu.scrollLeft-e;if(d==="vertical"||d==="diagonal")h.top=a.yu.scrollTop-f;a.Xo.scrollTo(h);a.SHf=requestAnimationFrame(g)}};a.SHf=requestAnimationFrame(g)}};MGs=function({timing:a,lN:b,V:c,N:d,Bda:e,W0a:f,qd:g}){c=new IGs(c,d);e=new JGs(c,a,e,f,g);a=new KGs(c,e,b,a);b=Vb()&&AV.cCq?new LGs(c):void 0;return{Weg:a,Xo:c,Zab:e,CGl:b}};
QGs=function(a,b,c){const d=NGs(async()=>{const {R$p:e}=await __webpack_require__.me(106146).then(()=>({R$p:__c.OGs}));return{default:await e(a,b,c)}});return e=>dV(PGs,{fallback:null,children:dV(d,{...e})})};
SGs=function(a){const b=a.Uz;return fV(c=>{var d;const e=jV(null),f=(d=__c.iga(e,{Zbh:"--17LfHw"}))===null||d===void 0?void 0:d.Zbh;iV(()=>{f&&b.uio(f)},[f]);return kV("div",{className:CV("ni1AiA",{hFmqkA:b.isLinear}),ref:e,children:[dV(RGs,{...a,...c}),b.x5b&&dV(a.T1o,{}),!!a.Kne&&dV(a.Kne,{})]})})};
TGs=function(a,b,c={}){let d=nps(a.wr,b);if(!d)return[];c.gfi||(d=d.filter(g=>c.gfi?!0:g.position===1));const e=a.Lw.LIa,f=e(b.startUs);return d.map(({He:g,position:h})=>{g=Math.floor(g*1E6+b.startUs-b.trim.startUs);return{BCa:g,Ies:h,uac:e(g,{withTrim:!0,wgc:!0})-f}})};
UGs=function(a,b,c,d,e){const f=b.hT,g=b.track.volume,h=d+b.startUs,k=h+b.durationUs,l=b.IHc&&!f,m=Math.round(h-b.trim.startUs);return a.Lw.Q1c.map((p,q)=>{var r=p.page,t=p.Pda;const u=p.paddingRight;var w=p.durationUs;p=p.width;const x=t+w;var y=Math.round(Math.max(t,Math.min(h,x)));t=(l?x:Math.round(Math.max(t,Math.min(k,x))))-y;if(t===0||!DV(a.Lw,r))return null;r=y-m;w=p-p/w*(w-t);p=a.Lw.Q1c;y=0;for(q+=1;q<p.length&&!DV(a.Lw,p[q].page);)y+=p[q].width+p[q].paddingRight,q++;q=q<p.length?y:0;return{state:{startUs:r,
durationUs:t,width:w,height:c,RXi:e,volume:g},draft:q>0,paddingRight:u+q}}).filter(ub)};VGs=function(a,b){const c=a.trim.startUs,d=b/a.durationUs;return{Hto:c?d*c:0,P8g:e=>1/d*e}};WGs=function(a){a.store.AJh="max"};
XGs=function(a,b,c,d){const e=a.Lla.Dfd;if(a.timing.Hs){b=a.ii.get()?[]:a.Lla.Ptg.get();const h=a.Lla.xJh.get(),k=a.Lla.kdh.get();return nd([...b,...h,...k]).map(l=>({BCa:l,Yfd:e,q3c:e}))}const f=[{BCa:0,Yfd:a.Lla.Dfd*5,q3c:a.Lla.Dfd}],g=a.wr.Uma==="trim"&&a.wr.H2e(b.track)?TGs(a,b,{gfi:a.GTi}).map(h=>h.BCa):[];d.forEach((h,k)=>{const l=h.Pda,m=l+h.durationUs;f.push({BCa:m,Yfd:e,q3c:d[k+1]?e:a.Lla.Dfd*5});c.forEach(p=>{l<p&&p<m&&f.push({BCa:p,Yfd:e,q3c:e})});g.forEach(p=>{l<p&&p<m&&f.push({BCa:p,
Yfd:p===0?0:e,q3c:e})})});return f};YGs=function(a,b){var c;const d=a.store,e=a.gJp;a=a.vbt;const f=b.track,g=b.ixa,h=b.Uzk;if(g&&g!==6&&g!==5||h)return d.Zbh;if(((c=b.audio)===null||c===void 0?void 0:c.y5b)===2)return a;if(b=d.yvj.get(f.audio))return b;const k=e[d.Njn%e.length];oV(()=>{d.yvj.set(f.audio,k);d.Njn++});return k};ZGs=function(a,b){a.wr.select(...a.jR.filter(c=>c!==b))};
aHs=function({positions:a,data:b}){if(a)return{box:{top:a.hy.y-(a.start?a.start.CCa.y:0),left:a.hy.x-(a.start?a.start.CCa.x:0)+(b.LK-$Gs),width:$Gs/b.LK*b.HI,height:$Gs,rotation:0}}};
dHs=function(a,b,c){const d=a.XFi.map(k=>k.map(l=>{var m;return(m=b.find(p=>p!==l&&p.track.id!=null&&p.track.id===l.track.id))!==null&&m!==void 0?m:l})),e=new Set(d.flat());var f=b.filter(k=>!e.has(k));const g=f.filter(k=>{var l;return((l=k.audio)===null||l===void 0?void 0:l.y5b)===2});f=f.filter(k=>{var l;return((l=k.audio)===null||l===void 0?void 0:l.y5b)!==2});g.length>0&&d.unshift(g);f.length>0&&d.push(f);const h=bHs(c);a.XFi=d.reduce((k,l)=>{l.filter(m=>b.includes(m)).sort(h).forEach(m=>{const p=
cHs(a,m,k);k[p]||(k[p]=[]);k[p].push(m)});return k},[]);a.RHl.clear();return a.XFi};cHs=function(a,b,c){a=a.RHl.get(b);var d;if(a&&!eHs(b,(d=c[a])!==null&&d!==void 0?d:[]))return a;d=c.findIndex(e=>!eHs(b,e!==null&&e!==void 0?e:[]));return d>=0?d:c.length};eHs=function(a,b){const c=a.IHc&&!a.durationUs?Infinity:a.startUs+a.durationUs;return b.some(d=>d===a?!1:d.track.loop===2||a.track.loop===2?!0:(d.IHc&&!d.durationUs?Infinity:d.startUs+d.durationUs)>a.startUs&&c>d.startUs)};
gHs=function(a){return b=>dV(fHs,{...a,...b})};hHs=function(a){const b=jV(null),[c,d]=nV(!0);iV(()=>{if(b.current)return a.observe(b.current,d)},[d,a]);return[c,b]};jHs=function(a){return b=>dV(iHs,{...a,...b})};
lHs=function({omc:a,selection:b,kh:c,wr:d,Uz:e,uA:f,PUa:g,Lw:h,wSq:k}){const l=r=>{const t=ny(d,r);e.jpb(t)||__c.Fde(b,[r])},m=r=>{r.stopPropagation();e.w0c&&(r=ny(e.wr,e.w0c),e.Jph(r))},p=()=>{e.Grn("contextual_menu")},q=()=>{e.Lrn()};c.kc(()=>{var r,t;return{qQp:((r=b.La)===null||r===void 0?void 0:r.type)==="audio",Mmr:((t=d.LRa)===null||t===void 0?void 0:t.loop)===2}},(r,{qQp:t,Mmr:u})=>{t?(r.vxh=u?void 0:{Button:w=>dV(w.fl,{label:L("LNMQvg"),onClick:m,Icon:__c.iEg,disabled:!e.uAj||e.jR.length>
1,oa:w.oa})},r.Xyh={Button:w=>dV(w.fl,{label:J("Pd364g",[e.jR.length]),onClick:p,Icon:Ux,oa:w.oa,im:"Delete"})},r.j7f={Button:w=>dV(w.fl,{label:J("ksDiTw",[e.jR.length]),onClick:q,Icon:__c.oPe,oa:w.oa,im:bl("d")})},r.vca=u?void 0:{Button:w=>dV(w.fl,{label:L("0GYwog"),onClick:()=>{d.akc.j6&&d.toolbar.vB(d.akc.j6)},Icon:__c.b$g,oa:w.oa,disabled:e.jR.length>1})},a||(r.Vra={Button:w=>dV(w.fl,{label:L("dqBWeQ"),onClick:()=>{d.JMf()},Icon:__c.GKe,oa:w.oa,disabled:e.jR.length>1})})):(r.vxh=void 0,r.Xyh=
void 0,r.j7f=void 0,r.fld=void 0,r.vca=void 0,r.Vra=void 0)},{equals:lV.structural});return{onContextMenu:(r,t,u)=>{r.preventDefault();const w=__c.yj({x:r.clientX||0,y:r.clientY||0});l(t);t=w.x;var x=k();!x||t<x||!f||!g||u!==null&&u!==void 0&&u.Nsu||(u=t-x,t=h.uGg(u)/1E6,x=h.LIa(g.currentTime*1E6,{wgc:!1}),Math.abs(x-u)>kHs&&(f.xsb=t));c.sMb(w,"audio_timeline","right_click","bottom-start");r.stopPropagation()},SYa:(r,t)=>{r.stopPropagation();l(t)}}};
xHs=function({omc:a,Dc:b,oc:c,viewport:d,Ma:e,wr:f,W0a:g,D8b:h,selection:k,kh:l,Ro:m,Lw:p,Lla:q,timing:r,uA:t,PUa:u,Xo:w,errorService:x,ka:y,Ima:z,tgc:A,JFa:B,Lk:D,k2b:G,GEl:I,rac:K,yug:N,Mxg:M,Fys:S}){const Q=mV(()=>A.h3c),W=mV(()=>y.layout===2);x=QGs(x,m,N);const X=new mHs(f,g,k,new nHs,oHs,pHs,p,q,z,B,W,G,I,Q,r,M,h,t,D),ba=parseInt("28px",10);K.pnd={cai:ja=>X.LYc.findIndex(fa=>fa.some(aa=>aa===ja)),height:mV(()=>{const ja=X.Rfm,fa=B.Une&&B.ndi.get()?ba:0;return ja+fa}),rowHeight:mV(()=>X.vvj),
VYg:mV(()=>X.LYc.length)};f.Jai=ja=>{if(!p.lgb)return p.Cwa(ja!==null&&ja!==void 0?ja:d.ya).Pda;if(ja)return p.Cwa(ja).Pda;var fa;ja=(fa=u===null||u===void 0?void 0:u.currentTime)!==null&&fa!==void 0?fa:0;return Math.max(Math.min(ja*1E6,f.zPe),0)};const da=gHs({Uz:X,tAc:x,Ro:m});g=qHs({Lw:p,wr:f,Uz:X});const {onContextMenu:la,SYa:ka}=lHs({selection:k,wr:f,Uz:X,kh:l,omc:a,uA:t,PUa:u,Lw:p,wSq:()=>w.getBoundingClientRect().left+p.geb+rHs-w.scrollLeft});a=jHs({Ma:e,Ro:m,wr:f,Uz:X,p3b:da,tAc:x,t9i:g,onContextMenu:la,
SYa:ka,Kza:l,Lw:p,ii:W,Xo:w});__c.Zce(b,"audio",ja=>{X.GDn(ja.id);A.h3c&&setTimeout(S)});k=async({data:ja,positions:fa})=>{if(ja.type==="audio"&&fa&&p.sze!=null&&c.SFb!=null){fa=Math.max(Math.min(p.sze*1E6,f.zPe),0);ja=await ja.audio;if(!ja)throw Error("The Audio object could not be found.");c.SFb(ja,{Wc:"object_panel_drag",startUs:fa});t===null||t===void 0||t.seek(p.sze);p.onDrop()}};l={canDrop(){return!0},Ht:ja=>{if(ja.positions)return sHs(p,{scrollLeft:w.scrollLeft,left:w.getBoundingClientRect().left},
ja.positions.hy.x),X.vZb(ja.data.result.jd.Tq),aHs(ja)}};a=lc(b,["audio"],async({data:ja,positions:fa},{AC:aa})=>{if(ja.type==="audio"&&fa&&p.sze){ja=await ja.audio;if(!ja)throw Error("The Audio object could not be found.");t===null||t===void 0||t.seek(p.sze);f.Lcd(aa.track,ja,"audio_timeline_replace");p.onDrop()}},a,l);e=lc(b,["audio"],k,fV(ja=>dV(tHs,{children:ja.children,connectDropTarget:ja.connectDropTarget,drag:ja.drag,Uz:X,p3b:da})),l);k=lc(b,["audio"],k,fV(ja=>dV(uHs,{connectDropTarget:ja.connectDropTarget,
drag:ja.drag,Dc:b,Uz:X,Lw:p,p3b:da})),l);const oa=ja=>{var fa;ja.stopPropagation();(fa=B.h_k)===null||fa===void 0||fa.call(B,"audio_timeline")};l=fV(()=>X.kqa?dV(vHs,{onClick:oa,label:L("hrciHQ")}):null);A.CUl=SGs({hvj:new wHs,Uz:X,f9i:a,Kne:l,p3b:da,T1o:k,e9i:e,ii:W});return{Uz:X,tJp:ja=>{if(ja.data.type==="audio")return X.vZb(ja.data.result.jd.Tq),aHs(ja)}}};yHs=function(a,b){a.Tmo.add(b)};
zHs=function({tf:a,wpa:b,rw:c,onChange:d,onSubmit:e}){const f=jV(null),g=hV(k=>{d(!1);e(k)},[d,e]),h=hV(k=>{k.key==="Escape"&&d(!1);k.key!=="Enter"&&k.key!=="Escape"||setTimeout(()=>{var l;return(l=f.current)===null||l===void 0?void 0:l.focus()},0)},[d]);return c?kV(jr,{spacing:"0",Fa:"center",children:[dV(ir,{width:"content",children:dV(__c.Ru,{className:"FmO3ug",nM:a<10?"NxXA5w":a<100?"RzFpKA":"_3ZP36A",ariaLabel:L("8aYwqA"),placeholder:b===null||b===void 0?void 0:b.toString(),Zg:g,onKeyDown:h,
autoFocus:"on-desktop",min:1,max:a,maximumFractionDigits:0,maxLength:a.toString().length})}),dV(ir,{width:"content",children:dV(P,{size:"medium",weight:"bold",className:"S9lMNA",children:J("bw8g6Q",[a])})})]}):dV(bj,{ref:f,className:"vZB9Zg",variant:"tertiary",size:"small",hb:L("8aYwqA"),onClick:()=>d(!0),children:b!=null?J("q6CACQ",[b,a]):J("plwCKA",[a])})};
CHs=function({keyboardShortcuts:a,document:b,viewport:c,gb:d,N:e,V:f}){const g=new AHs(c,b,d,e,f),h=l=>g.gol(l),k=l=>g.Nfa(l);b=fV(l=>dV(BHs,{...l,rw:g.rw,onChange:h,onSubmit:k}));a.register([bl(Xo("g")),()=>g.gol(!0),L("8aYwqA"),["edit","view","comment"]]);return{E0o:b}};
GHs=function({tgc:a,rac:b,Bda:c,onDragEnd:d,onDragStart:e,N:f,V:g,od:h=vb.od}){b.Y1c={height:mV(()=>a.h3c?DHs:0)};const k=new EHs,l=new FHs(c,f,g);b=gV(p=>{l.onDragStart(k,p);e===null||e===void 0||e()});c=gV(()=>{l.onDragEnd(k);d===null||d===void 0||d()});f=gV(p=>{l.pe(k,p)});const m=new dr({SHa:mV(()=>"k1UFGA"),onDragStart:b,pe:f,onDragEnd:c});return{f7f:fV(function({disabled:p}){return dV("div",{className:CV("rRLseg k1UFGA",{QdeuaQ:k.isDragging,_7N0f3Q:h,hzE_6A:p}),onMouseDown:p?void 0:m.onMouseDown,
onTouchStart:p?void 0:m.onTouchStart,children:dV("div",{className:"y8mVQA"})})}),isDragging:mV(()=>k.isDragging)}};HHs=function(a){a.Rxl=void 0;a.H_=void 0;a.lze=void 0;a.JW=void 0;a.xZh=!1;a.Vqc=!1;a.NPg=!1};
MHs=function({Y1a:a,Xo:b,Ll:c,ii:d,timing:e}){const f=new __c.h4g;f.zhb=b;Ats(()=>{f.gVc({RUg:d.get()?400:void 0,gVg:400,bKg:d.get()?60:void 0,vvh:30})});b=new __c.f4g(f);const g=new IHs(c,d);c=new JHs(g,b);const h=__c.kc(a,"timelineItems"),k=__c.$ce(h,"timelineItems",c.onDragStart,c.pe,c.onDragEnd,c.Gw,{d3a:{enabled:"touch-only"}});a=fV(({item:l,onDragStart:m,children:p})=>e.Hs?dV(KHs,{item:l,onDragStart:m,Clq:k,Mnq:g,children:p}):p);eV(()=>h.isDragging,l=>{l||HHs(g)});c=fV(()=>dV(__c.ed,{open:h.isDragging,
level:1,children:dV(LHs,{store:g})}));return{Y1a:h,Hga:g,Kzc:a,M1o:c}};PHs=function(a,b,c=d=>d.timing){return a.EOq.get()?NHs(b,c):OHs(b,c)};QHs=function(a,b,c){var d,e;if(((d=a.muc.get(b))===null||d===void 0?void 0:d.VMi)!==c.VMi||((e=a.muc.get(b))===null||e===void 0?void 0:e.bPb)!==c.bPb)c.VMi||c.bPb?a.muc.set(b,c):a.muc.has(b)&&a.muc.delete(b)};RHs=function(a,b){const c=a.startUs,d=a.endUs;return c===0&&d===Infinity?b.length>0:b.some(e=>e.endUs>c&&d>e.startUs)};
THs=function(a,b,c,d,e=f=>f.timing){d=b<0?!1:b>=c.length?!0:d==="above";b=Math.max(0,Math.min(c.length-1,b));let f=SHs(a,c[b],e);if(f==null){if(d){b++;if(b>=c.length)return{rowIndex:c.length,rbe:0,BHd:!0};f=SHs(a,c[b],e);return f==null?{rowIndex:b,rbe:0,BHd:!0}:{rowIndex:b,rbe:f,BHd:!1}}a=b>0?SHs(a,c[b-1],e):void 0;if(a==null)return{rowIndex:b,rbe:0,BHd:!0};--b;f=a}return{rowIndex:b,rbe:f,BHd:!1}};
SHs=function(a,b,c=f=>f.timing,d=0,e=b.length-1){if(!b.length)return 0;const f=a.startUs,g=a.endUs;if(f!==0||g!==Infinity){d=Math.max(0,d);e=Math.max(d,Math.min(b.length-1,e));if(f>=c(b[e]).endUs)return e+1;if(g<=c(b[d]).startUs)return d;if(d!==e){var h=d+Math.floor((e-d)/2),k=c(b[h]);if(f>=k.endUs)return SHs(a,b,c,h+1,e);if(g<=k.startUs)return SHs(a,b,c,d,h-1)}}};VHs=function(a,b){return new UHs(mV(()=>b.yXj(a)),mV(()=>b.timing.Hs))};
XHs=function(a,b){const c=a.Qlf(a.page),d=n(b.parent),e=b.elements.map(f=>n(c.items.find(g=>g.element===f)));return{type:1,data:b,group:d,IBb:c,items:e,...WHs(a,c,e)}};YHs=function(a,b){const c=a.Qlf(a.page),d=b.elements.flatMap(e=>{if(e.type==="group"){const f=c.items.filter(g=>g.parent===e);if(f.length)return f}return[n(c.items.find(f=>f.element===e))]});return{type:0,data:b,IBb:c,items:d,...WHs(a,c,d)}};
ZHs=function(a,b){const c=a.Qlf(a.page);let d=c.axa;const e=b.uh.map(f=>{const g=a.qd.zK(f)||5E6,h=d;d+=g;return{timing:{startUs:h,endUs:h+g,durationUs:g},fill:f}});for(const f of e)c.Ml(f);return{type:2,data:b,IBb:c,items:e,...WHs(a,c,e)}};
WHs=function(a,b,c){const d=n(c[0]),e=n(b.D1d(d)).rowIndex,f=d.timing.startUs,g=c.slice(1);let h=Infinity,k=Infinity;for(const l of c)c=n(b.D1d(l)),h=Math.min(h,l.timing.startUs),k=Math.min(k,c.rowIndex);a=new $Hs(a.CTa,a.TOb,f,e,d.timing.durationUs,Math.max(0,f-h),Math.max(0,e-k));b=new aIs(b,a,d,g);return{Xlg:d,Q5d:a,m7m:b}};
bIs=async function(a,b){var c=5E6;if(b.type==="video"){var d=await b.video;(d=d.xv||d.Lmc)&&(c=d*1E6)}d=a.Qlf(a.page);c={timing:{startUs:d.axa,endUs:d.axa+c,durationUs:c}};d.Ml(c);c=[c];return{type:3,data:b,IBb:d,items:c,...WHs(a,d,c)}};
cIs=function(a,b){if(a.page.locked)return!1;switch(b.type){case "timelineItems":case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":return!0;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":return!0;case "searchElementGroupMedia":case "searchTemplate":return!1;default:throw new v(b);}default:throw new v(b);}};
gIs=function(a,b){const c=a.page;var d=b.IBb;const e=b.Q5d;b=b.items;const f=dIs(b);if(e.enk){var g=[],h=new Set;for(const l of d.items){d=l.parent||l.element;if(b.includes(l)){if(d.type==="group"){if(h.has(d))continue;h.add(d)}c.elements.gxa(k,d);g.push(d)}var k=d}e.bPb?(eIs(a.o2c,g,void 0,e.bPb,void 0,Infinity),fIs(a.o2c,g,f)):fIs(a.o2c,[],f)}else fIs(a.o2c,[],f)};
hIs=function(a,b){const c=a.page,d=b.IBb,e=b.Q5d,f=b.items;b=b.group;const g=dIs(f);if(e.enk){var h,k=!1,l=[];for(const p of d.items){f.includes(p)&&(k||(c.elements.gxa(h,b),k=!0),b.nb.gxa(m,p.element),l.push(p.element));if(p.parent===b)var m=p.element;k||(h=p.parent||p.element)}e.bPb?(eIs(a.o2c,l,b,e.bPb,void 0,Infinity),fIs(a.o2c,l,g)):fIs(a.o2c,[],g)}else fIs(a.o2c,[],g)};
iIs=function(a,b){const c=a.page;a=xg(4,a.gb.Zk(c));const d=b.IBb;b=b.items;const e=new Map(b.map(g=>[g,n(d.D1d(g)).startUs]));let f;for(const g of d.items)if(b.includes(g)){const h=e.get(g),k=g.fill,l={...as.snapshot(k),durationUs:void 0,transition:void 0};f=c.elements.AI(f,{...Fs,fill:l,startUs:h,durationUs:g.timing.durationUs,top:0,left:0,width:a.width,height:a.height});c.Jc.has(k)&&c.Jc.delete(k)}else f=g.parent||g.element};
jIs=async function(a,{data:b,IBb:c,Q5d:d,items:e}){var f,g=(f=c.items.find((r,t)=>c.items[t+1]===e[0]))===null||f===void 0?void 0:f.element;d={Wc:"object_panel_drag",startUs:d.startUs};g=g?{XKa:{type:"ref",after:g}}:{XKa:{type:"absolute",value:"bottom"}};switch(b.type){case "video":b=await b.video;a.oc.LD(b,d,g);break;case "chart":a.oc.Xga(__c.Iif(b.Yb),d,g);break;case "searchShape":var h,k;(h=(k=a.oc).C9)===null||h===void 0||h.call(k,b.shape,b.ref,d,g);break;case "table":b=b.table;a.oc.addTable(b.data.STc,
b.ref,d,g);break;case "line":var l,m;(l=(m=a.oc).mQa)===null||l===void 0||l.call(m,b.line.data,d,g);break;case "grid":var p,q;const {cells:r,layout:t}=__c.tie(b.grid);(p=(q=a.oc).epe)===null||p===void 0||p.call(q,r,t,d,g);break;case "textParagraph":a.oc.addText(b.I6e.label,{...d,g_:b.I.g_},void 0,void 0,void 0);break;case "searchMedia":switch(b.kind){case "futureSearchMedia":case "searchImageMedia":case "searchVectorMedia":case "searchPrivateMedia":if(b.kind==="futureSearchMedia"){b=await b.future;
switch(b.type){case "static":b=Lif(b.media);a.oc.addImage(b,d,g);break;case "animated":a.oc.LD(b.video,d,g);break;default:throw new v(b);}return}b=Lif(b.media);a.oc.addImage(b,d,g);break;case "searchElementGroupMedia":throw Error("element groups not supported");case "searchTemplate":throw Error("templates not supported");default:throw new v(b);}break;default:throw new v(b);}};
kIs=async function(a,b){switch(b.type){case "timelineItems":return a=a.GAm,b.elements.length?b.parent?XHs(a,b):YHs(a,b):ZHs(a,b);case "video":case "chart":case "searchShape":case "table":case "line":case "grid":case "textParagraph":case "searchMedia":return bIs(a.GAm,b);default:throw new v(b);}};
dIs=function(a){const {LNa:b,axa:c}=a.reduce((d,e)=>{const f=e.timing.startUs;e=e.timing.durationUs;d.LNa=Math.min(d.LNa,f);d.axa=Math.max(d.axa,f+e);return d},{LNa:Infinity,axa:0});return Number.isFinite(b)?c-b:0};
nIs=function({element:a,page:b,Icon:c,isActive:d,Hs:e,e8c:f,tcn:g,Gdn:h,cno:k,uRd:l,width:m,trim:p}){a:switch(a.type){case "text":var q="fjN3Rg";break a;default:q="_5U_EXA"}d=CV("KFVziA",{v1Zhxg:f,Mztdbw:e&&!g,IytRuQ:g,A_OCpw:!e&&d,[q]:e});e=zV(()=>{if(!f)return null;const r=CV("_8XK3EQ",{parHvw:k});switch(a.type){case "text":return dV(__c.oA,{size:"small",tone:"primary",className:r});case "rect":if(a.fill.video.ref)return null;if(a.fill.image.ref)return dV(__c.Uu,{size:"small",tone:"primary",className:CV(r,
"qGJ1eQ")});default:return dV(lIs,{size:"small",tone:"primary",className:r})}},[f,k,a]);return kV("div",{className:d,children:[e,h&&dV(c,{width:m,height:mIs,kja:l,element:a,page:b,trim:p})]})};
oIs=function({vXj:a,qd:b,F$f:c}){return fV(({page:d,element:e})=>{const {startUs:f,durationUs:g}=pXa(e,d.ia,b.tb(d.ia),void 0),h=a.QNd(g);return dV("div",{className:"VzBqkA",style:{width:h,height:a.rowHeight},children:dV(nIs,{element:e,page:d.ia,Icon:c,isActive:!1,Hs:!0,e8c:!0,tcn:!1,Gdn:!0,cno:!1,width:h,trim:{startUs:f,endUs:f+g}})})})};
wIs=function({oc:a,Y1a:b,gb:c,qd:d,uA:e,og:f,Xo:g,Hga:h,vXj:k,iqq:l,o2c:m,Qlf:p,jJc:q,F$f:r}){const t=EV(w=>{var x=q(w);const y=new pIs(g,k,x);x=new qIs(y);w=new rIs(w,c,a,f,g,x,new sIs(w,d,y,l,p),l,h,m);return{t8a:x,J1c:w}}),u=fV(({connectDropTarget:w,drag:x,page:y})=>{const {t8a:z,J1c:A}=t(y);iV(()=>{if(x===null||x===void 0?0:x.F3)A.onDragEnter(x.data);else A.onDragLeave()},[A,x]);iV(()=>eV(()=>b.isDragging,B=>{B?A.wUb():A.XSj()}),[A]);iV(()=>eV(()=>h.isDragging,B=>{B?e.P1e():e.pZe()}),[A]);return dV(tIs,
{connectDropTarget:w,t8a:z,children:dV(uIs,{store:z,zGa:k})})});h.RWl=oIs({vXj:k,qd:d,F$f:r});return{Ybj:lc(b,vIs,(w,{page:x})=>{const {J1c:y,t8a:z}=t(x);w=n(z.qze);y.onDrop(w)},u,{Ht:({positions:w},x)=>t(x.page).J1c.onDragOver(n(w)),canDrop:(w,x)=>cIs(t(x.page).J1c,w.data)})}};yIs=function(a){return FV(b=>dV(xIs,{...a,...b}))};zIs=function(a,b,c,d){return a.Lw.LIa(c,{...d,y$g:b,mvb:a.Hdn})};
AIs=function(a,b,c){if(!a.ii.get()){a.jd.djh=!1;c=a.Lw.uGg(c);var {Pda:d,durationUs:e}=a.Lw.Cwa(b);b=d+e;c=Math.min(b,Math.max(c,d));a.jd.SMc(c/1E6,c<b?"start":"end");a.jd.stop();requestAnimationFrame(()=>a.jd.djh=!0)}};BIs=function(a,b){return a.scrollHeight-Math.max(0,(b+1)*a.rowHeight)};
DIs=function(a,b,c,d,e,f,g){const h=EV(m=>c.Cwa(m).ZPk),k=mV(()=>{const m=b.x_h;var p=b.twa;const q=f.mh;p=g.Hs&&q.type==="fixed-page"?q.ia:p;if(p==null)return[];const r=h(p);return m(p).filter(t=>b.yAa!==t.element).reduce((t,{element:u,parent:w})=>{const {startUs:x,durationUs:y}=w==null?u:__c.nXa(w,u);x&&t.push(x+r);(u=y&&(x||0)+y)&&t.push(u+r);return t},[])});a.Ptg=k;const l=mV(()=>{var m=b.twa;if(!m)return[];var p=g.Hs;const q=h(m),{durationUs:r}=c.Cwa(m);m=p&&e.get()?null:a.xbd.get();m=m!=null?
[m]:[];const t=a.kdh.get(),u=a.Ptg.get(),w=p&&e.get()?[]:a.xJh.get();p=p?[]:a.qKh.get();const x=a.Dfd;return nd([...m,...t,...u,...w.filter(y=>y>q&&y<q+r),...p]).map(y=>({BCa:y-q,Yfd:x,q3c:x}))});return{TOb:new CIs(l,a.rJe,d),Ptg:k}};FIs=function({element:a,parent:b},c){const {startUs:d,endUs:e}=EIs({element:a,parent:b});return!!d||e<c||a.type==="group"&&a.nb.some(f=>FIs({element:f,parent:a},c))};
EIs=function({parent:a,element:b}){const {startUs:c=0,durationUs:d=Infinity}=a?__c.nXa(a,b):b;return{startUs:c,endUs:c+d}};eIs=function(a,b,c,d,e,f){b.forEach(g=>{const {startUs:h=0,durationUs:k=f-h}=c?__c.nXa(c,g):g,l=__c.Bm({startUs:h+d,endUs:h+d+k},f);c?GIs(c,g,l,f):(g.startUs=l.startUs||void 0,__c.oKe(g,f,l))});e&&HIs(a,e,f);a.wfe=0};
fIs=function(a,b,c,d=c){var e,f,g;(e=a.lNd)===null||e===void 0||e.addEvent("trimming");(f=a.lNd)===null||f===void 0||f.mb().nk(({Ii:h})=>a.P.track(IIs,{action:"trim",oD:b.map(k=>k.type),E0k:Math.floor(d/1E3),uNj:Math.floor(c/1E3),Rb:h()}));(g=a.lNd)===null||g===void 0||g.ne()};HIs=function(a,b,c){b.durationUs==null&&isFinite(c)&&c!==a.qd.tb(b)&&(b.durationUs=c)};
GIs=function(a,b,c,d){const {startUs:e=0,durationUs:f=d-e}=a,g=a.nb.toArray(),h=g.map(p=>{if(p===b)return{startUs:c.startUs,durationUs:c.endUs-c.startUs};const {startUs:q=0,durationUs:r=f-q}=p;return{startUs:q+e,durationUs:Math.min(r,f-q)}});var k=__c.Sfe(h,d);const l=k.startUs;k=k.endUs-k.startUs;e!==l&&(a.startUs=l||void 0);f!==k&&__c.pKe(a,d,{startUs:l,durationUs:k});for(a=0;a<g.length;++a){d=g[a];var m=h[a];const {startUs:p=0,durationUs:q=k-p}=d,r=Math.max(m.startUs-l,0);m=Math.min(m.durationUs,
k-r);p!==r&&(d.startUs=r||void 0);q!==m&&__c.pKe(d,k,{startUs:r,durationUs:m})}};
KIs=function(a,b){const c=gV(()=>{var d;a._open=!a._open;if(a._open){a.RXr();var e=a.selection.La;(e===null||e===void 0?void 0:(d=e.inner)===null||d===void 0?void 0:d.type)==="group"&&e.inner.group.type==="group"&&a.e_d.add(e.inner.group)}else a.e_d.clear();b.track(JIs,{action:a.open?"open":"close"})});return fV(d=>{const e=d.Ng,f=d.oa,g=hV(()=>{f===null||f===void 0||f();e===null||e===void 0||e.clear()},[e,f]);return dV(d.fl,{Icon:__c.kA,label:a.open?L("vATgeQ"):L("V59lIw"),onClick:c,oa:g})})};
LIs=function({store:a,P:b,kh:c}){const d=KIs(a,b);c.kc(()=>a.$jh,(e,f)=>{e.tWc=f?{Button:d}:void 0})};MIs=function(a,b,c){if((a=a.jp(b.media))&&a.images.length){var d=c*__c.HYa();return Ji(a.images,e=>e.height>d?-e.height:e.height).url}};NIs=function(a,b){const c=b.Awd(a);if(c.length)return{frames:c};if(a=b.u5c(a))return{url:a}};
TIs=function(a,b,c,d,e,f,g,h){return fV(function({element:k,page:l,width:m,height:p,kja:q}){switch(k.type){case "text":return dV(OIs,{element:k,page:l,KE:e,e8c:g});case "group":if(!PIs(k))break;k=k.nb.first();return dV(OIs,{element:k,page:l,KE:e,e8c:g});case "rect":var r=k.fill.image.ref;if(g&&r){m=MIs(c,r,QIs);if(!m)break;return dV(RIs,{url:m})}const t=k.fill.video.ref;if(t&&f.Hs){r=NIs(t,d);if(r===null||r===void 0?0:r.frames)return dV(SIs,{fill:t,xJb:r.frames,Cf:d,width:m,height:p,kja:q,T5i:h});
if(r===null||r===void 0?0:r.url)return dV(RIs,{url:r.url})}}l=a.tb(l);return dV("div",{className:CV(["iQioCA"],{hCGVwg:g}),children:dV(b,{element:k,page:l,nd:QIs,sf:QIs})})})};
ZIs=function({document:a,viewport:b,Uj:c,Ll:d,Pa:e,oc:f,Lw:g,$M:h,timing:k,uA:l,k2b:m,gb:p,Dc:q,Xo:r,Sqg:t,Hga:u,Kzc:w,selection:x,QR:y,kh:z,KE:A,vc:B,qd:D,tgc:G,rac:I,Bda:K,Lla:N,Ma:M,$4d:S,ii:Q,Lk:W,P:X,Ga:ba}){ba=ba.Ud("editor.editing.page_navigator.timeline.element_timing");const da=new UIs(a,S,Q,D,x,g,p,k,()=>{c.mq="thumbnail";Q.get()&&b.zoom.mode==null&&b.Ly(b.ya,"fit")});t.add(()=>!da.open);({TOb:t}=DIs(N,da,g,W,Q,b,k));W=new VIs(l,D,X,ba,W);const la=EV(oa=>VHs(oa,da));N=mV(()=>G.h3c||AV.J$g);
const ka=new WIs(b,a,da,g,la,Q,N);I.B_h={jUq:(oa,ja)=>{oa=la(oa).ewf(ja);if(!oa)throw Error("Element position not found");return BIs(ka,oa.rowIndex)},height:mV(()=>ka.iGc),rowHeight:ka.rowHeight,VYg:mV(()=>ka.JHk)};m=new XIs(a,da,D,l,g,B,x,ka,la,m,M,X,t,ba,Q);B=Ff(a);d=TIs(B,d,e,h,A,k,!!m.e8c,(oa,ja)=>YIs.factory(mV(()=>g.JBa),D)(oa,ja));({Ybj:f}=wIs({oc:f,Y1a:q,gb:p,qd:D,uA:l,og:x,Xo:r,Hga:u,vXj:ka,iqq:t,o2c:W,Qlf:oa=>VHs(oa,da),jJc:la,F$f:d}));G.QWl=yIs({ii:Q,document:a,viewport:b,L:m,store:da,
zGa:ka,Bda:K,jJc:la,Hga:u,Lw:g,A8e:W,QR:y,kh:z,F$f:d,Kzc:w,Ybj:f,YSj:N,Xo:r});LIs({store:da,P:X,kh:z});return{Qtg:da}};$Is=function({wr:a,kh:b}){b.kc(()=>({FQp:a.Hgm,WQp:a.Zgm}),(c,{FQp:d,WQp:e})=>{c.Lgj=d||e?{Button:f=>{const g=hV(h=>{h.stopPropagation();d?a.MSn():a.CGo()},[]);return dV(f.fl,{label:d?L("NH7+Vw"):L("6vk0bw"),onClick:g,Icon:Ao,oa:f.oa})}}:void 0})};
iJs=function({V:a,c2a:b,$4d:c,ii:d,G0c:e,Lla:f,Uz:g,uA:h,PUa:k,Lw:l,qG:m,Xo:p,timing:q,Ebq:r}){const t=mV(()=>h.xsb!=null?l.LIa(h.xsb*1E6):null),u=mV(()=>{var S;return(S=h.Ajc)!==null&&S!==void 0?S:!1}),w=mV(()=>{const S=r===null||r===void 0?void 0:r.get();return S!=null?S/1E6:k.currentTime}),x=mV(()=>q.Hs||(r===null||r===void 0?void 0:r.get())!=null?!1:!0),y=yV.box(!1);let z=!1,A;const B=gV(()=>{aJs(h);(A===null||A===void 0?0:A.isRecording())||(A=a.sb("playhead_drag",{performance:{jT:!0}}));y.set(!0);
(z=k.If)&&h.pause({seeking:!0,ended:!1});h.qnl(!0);h.Ajc=!1}),D=gV(()=>{y.set(!1);const S=l.lwd(k.currentTime,u.get());h.VG(S);h.qnl(!1);z&&h.play();bJs(h);A===null||A===void 0||A.ne({qx:({Ii:Q})=>{Q=Q();b.track(cJs,{action:"seek",kb:"click",Rb:Q});A=void 0}})}),G={top:Wc*2.5,height:mV(()=>p.clientHeight)},I=fV(({brc:S})=>dV(dJs,{Lw:l,Ovc:h.seek,currentTime:w,onDragStart:B,onDragEnd:D,playing:k.If,scrolling:!!S,hidden:c.get(),rEo:h.wMe||!(g===null||g===void 0||!g.HRd)||g.mmk,nph:G,Eo:d.get(),uHh:u,
Xo:p,mvb:x})),K=new eJs,N=new fJs(K,l,e,w,gJs,q),M=fV(()=>!Wb()||d.get()||m.UJ?null:dV(hJs,{store:K,L:N,Lgc:f.xbd.get()!=null||l.eir||!!g.HRd||c.get()||t.get()!=null||K.Lgc,nph:G}));return{ZYq:N,Wkp:fV(({brc:S})=>!l.lgb||l.J2e&&m.UJ&&!k.If&&!y.get()?null:kV(rV,{children:[dV(M,{}),dV(I,{brc:S})]}))}};kJs=function({Lw:a,uA:b,$f:c,Ez:d}){const e=new jJs(a,b,d);c.rEn=()=>{setTimeout(()=>{e.hfo(!0)},18E4)}};
oJs=function({rac:a,Bw:b,qG:c,Xo:d,Q4j:e}){a.Nws={height:mV(()=>b.isLinear?lJs:0)};const f=new mJs(b,c,d,e);return{Tkj:fV(()=>b.isLinear?dV(nJs,{store:f,Bw:b}):null)}};
qJs=function(a,b){if(a.kFa.page.ia.locked)return!1;switch(b.type){case "timelineItems":return b.elements.length===1?pJs(a,b.elements):b.uh.length===1?a.kFa.Jjr(b.uh[0]):!1;case "video":return b.kind==="futureVideo"?!1:b.video.contentType==="VIDEO";case "searchMedia":a:switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":a=!0;break a;case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":a=!1;break a;default:throw new v(b);}return a;case "file":return!!a.hh;
default:throw new v(b);}};pJs=function(a,b){return b.every(c=>rJs(a,c))};rJs=function(a,b){return b.type!=="rect"?!1:b.fill.video.ref?(a=(b=b.fill.video.ref.video)?a.$b.oda(b):void 0,!(a==="VECTOR_STICKER"||a==="STICKER"||a==="CLIP")):b.fill.image.ref?__c.gh(a.Pa,b.fill.image.ref)===1:!!b.fill.gradient.ref||!!b.fill.color};
vJs=function(a,b){const c=a.hdh,d=a.kFa;switch(b.type){case "timelineItems":return[...b.uh.map(e=>d.R5h(e)).filter(ub),...b.elements.filter(e=>rJs(a,e)).map(e=>sJs(c,e.fill))];case "video":return[tJs(c,b.video)];case "searchMedia":switch(b.kind){case "searchImageMedia":case "searchPrivateMedia":return[uJs(c)];case "futureSearchMedia":case "searchVectorMedia":case "searchElementGroupMedia":case "searchTemplate":throw Error("Unsupported drag type");default:throw new v(b);}case "file":return[uJs(c)];
default:throw new v(b);}};BJs=function(a,b,c){var d;if((d=a.hh)!==null&&d!==void 0&&d.Aaa){var e=a.kFa.scenes[c.index],{zc:f,images:g}=a.hh.Aaa(b,"canvas");b.filter(h=>wJs.includes(h.type)).length!==0&&(f.then(h=>{oV(()=>{for(const k of h)c.type==="replace"?xJs(a.$wa,e,k):yJs(a.$wa,k,e,"drag_file")})}),g.then(h=>{oV(()=>{for(const k of h){const l=Mif(k);c.type==="replace"?zJs(a.$wa,e,l):AJs(a.$wa,l,e,"drag_file")}})}))}};
sJs=function(a,b){return b.video.ref?a.LKj(b):b.image.ref?CJs(a,b):b.gradient.ref?DJs(a,b):b.color?EJs(a,b):FJs(a,b)};tJs=function(a,b){const c=GJs(Promise.resolve(b));return HJs({type:4,key:a.generateKey(),get durationUs(){return c.case({pending:()=>5E6,rejected:()=>5E6,fulfilled:d=>{var e;const f=(e=d.xv)!==null&&e!==void 0?e:d.Lmc;return f==null?5E6:f*1E6}})},get hT(){return this.durationUs},get trim(){return{startUs:0,endUs:this.durationUs}}},{durationUs:mV,hT:mV,trim:mV})};
uJs=function(a){return{type:4,key:a.generateKey(),durationUs:5E6,hT:5E6,trim:{startUs:0,endUs:5E6}}};CJs=function(a,b){const c=n(b.image.ref),d=a.qd;return HJs({type:1,key:a.generateKey(),fill:b,Kx:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.zK(this.fill)||5E6},hT:Infinity},{trim:mV,durationUs:mV})};
DJs=function(a,b){const c=n(b.gradient.ref),d=a.qd;return HJs({type:3,key:a.generateKey(),fill:b,ZRa:c,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return d.zK(this.fill)||5E6},hT:Infinity},{trim:mV,durationUs:mV})};
EJs=function(a,b){const c=a.qd;return HJs({type:2,key:a.generateKey(),fill:b,get color(){var d;return(d=b.color)!==null&&d!==void 0?d:"#ffffff"},get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.zK(this.fill)||5E6},hT:Infinity},{color:mV,trim:mV,durationUs:mV})};FJs=function(a,b){const c=a.qd;return HJs({type:5,key:a.generateKey(),fill:b,get trim(){return{startUs:0,endUs:this.durationUs}},get durationUs(){return c.zK(this.fill)||5E6},hT:Infinity},{trim:mV,durationUs:mV})};
IJs=function(a){a.Zwc=void 0;a.zTc=void 0;a.CTa=void 0;a.D6g=void 0;a.Cde=void 0};
NJs=function({Pa:a,$b:b,Y1a:c,Xo:d,Hga:e,Kzc:f,kFa:g,$wa:h,hdh:k,Avc:l,ppp:m,hh:p}){const q=new JJs(d,g,e,l),r=new KJs(a,b,d,q,k,e,g,h,p);a=fV(w=>{const x=hV(()=>r.j4p(w.scene.fill),[w.scene.fill]);return dV(f,{item:w.scene.fill,onDragStart:x,children:dV(m,{...w})})});const t=fV(({scene:w})=>{var x;const y=jV(null),z=((x=q.gMg)===null||x===void 0?void 0:x.type)==="replace";x=w.fill!=null&&h.Xyb(w);iV(()=>{const A=y.current;if(A)return eV(()=>q.gUq(w),B=>{A.style.transform=B?`translateX(${B}px)`:""},
{fireImmediately:!0})});return dV("div",{ref:y,className:CV("nvSIEQ",z?"Lmgmmw":"ChvVrA",z&&!x&&"QLhSLg"),style:{width:l.dyb(w),height:BV},children:z&&dV(R,{background:"contrast",borderRadius:"elementRound",padding:"1u",children:dV(__c.I4f,{size:"small",className:"qlLLfw"})})})}),u=fV(()=>{var w;return(w=q.bWj)!==null&&w!==void 0&&w.length?q.bWj.map(x=>dV(t,{scene:x},x.key)):null});b=fV(({connectDropTarget:w,drag:x})=>{iV(()=>{if(x===null||x===void 0?0:x.F3)r.onDragEnter(x.data);else r.onDragLeave()},
[x]);iV(()=>eV(()=>c.isDragging,y=>{y?r.wUb():r.XSj()}),[]);return dV(LJs,{connectDropTarget:w,store:q,children:dV(u,{})})});return{cWj:q,hfj:lc(c,MJs,w=>{const x=q.gMg,y=(x===null||x===void 0?void 0:x.type)==="replace"||q.v2m;if(x!=null&&y){if(!qJs(r,w.data))throw Error("Unacceptable drag data provided on drop");r.onDrop(w.data,x)}},b,{canDrop:w=>qJs(r,w.data),Ht:({positions:w})=>{r.onDragOver(n(w))}}),rbj:a}};
PJs=function(){const a=new OJs,b=({children:c,RLq:d,drr:e,s6i:f=20})=>{iV(()=>{a.fKo(d,e)},[d,e]);iV(()=>{a.$Io(f)},[f]);return c};return{Hfp:({itemSizes:c,xn:d,children:e,WQl:f,XQl:g,s6i:h})=>dV(__c.LC,{xn:d,itemSizes:c,Uta:f,fzo:g,children:k=>dV(b,{RLq:(k===null||k===void 0?void 0:k.l$)||0,drr:(k===null||k===void 0?void 0:k.G$)||0,s6i:h,children:e})}),Nrr:a}};
QJs=function({uhb:a,kFa:b,hfj:c,Avc:d,opp:e,Lde:f,ORc:g}){const {Hfp:h,Nrr:k}=PJs(),l=fV(({index:q,scene:r})=>k.RYq(q).NHs?dV(e,{scene:r}):null),m=fV(()=>b.scenes.map((q,r)=>dV(l,{index:r,scene:q},q.key))),p=fV(({xn:q,WQl:r,XQl:t,s6i:u})=>{const w=jV(null);iV(()=>{const x=w.current;if(x)return eV(()=>d.EWq(b.scenes),y=>{x.style.paddingLeft=y?`${y}px`:""})},[]);return dV("div",{ref:w,className:"awPkZA",style:{height:BV},children:dV(h,{itemSizes:d.AYm(b.scenes),xn:q,WQl:r,XQl:t,s6i:u,children:dV(m,
{})})})});return fV(({xn:q,Kne:r})=>kV("div",{className:"XV0shQ",children:[dV(p,{xn:q,WQl:f,XQl:g}),r?dV(r,{}):a.jle&&dV(a.jle,{size:"m",shape:"square"}),dV(c,{})]}))};RJs=function(a,b,c){a.page.Jc.CYa(c===null||c===void 0?void 0:c.fill,b.map(d=>d.fill))};TJs=async function(a,b){return Promise.all(b.map(c=>SJs(a,c)))};xJs=function(a,b,c){return a.yl.RZa(new UJs(a.N4g,b.fill,a.Pe),{type:"video",video:c},{e6i:b.durationUs})};
yJs=function(a,b,c,d){const e=a.page.Jc.toArray();a.oc.XAc({type:"video",video:b},{Wc:d},{Tq:b.xv,placement:{Pe:a.Pe}});b=a.page.Jc.filter(f=>!e.includes(f));a.page.Jc.CYa(c===null||c===void 0?void 0:c.fill,b)};zJs=function(a,b,c){return a.yl.RZa(new UJs(a.N4g,b.fill,a.Pe),{type:"image",image:c})};AJs=function(a,b,c,d){const e=a.page.Jc.toArray();a.oc.XAc({type:"image",image:b},{Wc:d},{placement:{Pe:a.Pe}});b=a.page.Jc.filter(f=>!e.includes(f));a.page.Jc.CYa(c===null||c===void 0?void 0:c.fill,b)};
VJs=function(a,b){a.uA.stop();const c=a.store.hm;(c===null||c===void 0?0:c.mc(a.page,b.fill))||(a.k2b.get()==="single"||!c||c.isEmpty?__c.d2a(a.og,a.Pe,b.fill):c.l7d(a.page,b.fill))};SJs=async function(a,b){if(b.fill.video.ref)return WJs(a,b);if(b.fill.image.ref)return XJs(a,b);if(b.fill.color||b.fill.gradient.ref)return{...as.snapshot(b.fill),durationUs:b.durationUs||a.qd.zK(b.fill)||5E6};throw Error("Unknown fill type");};
WJs=async function(a,b){const c=as.snapshot(b.fill),d=n(c.video);var e=await __c.AXi(a.$b,d.video);(e===null||e===void 0?0:e.length)?(e=Ji(e,f=>f.width),e=ln(a.fFe,e)):e=ln(a.fFe,d.ub);return{...c,durationUs:b.durationUs||a.qd.zK(b.fill)||5E6,video:{...d,ub:e.Mb()}}};
XJs=function(a,b){const c=as.snapshot(b.fill),d=n(c.image);var e=a.Pa.getImages(d.media);e.length?(e=Ji(e,f=>f.width),e=ln(a.fFe,e)):e=d.ub?ln(a.fFe,d.ub):Sj(0,0,a.fFe.width,a.fFe.height);return{...c,durationUs:b.durationUs||a.qd.zK(b.fill)||5E6,image:{...d,ub:e.Mb()}}};
YJs=function({kFa:a,$wa:b,Avc:c,cWj:d,rbj:e,kh:f,Bde:g,zle:h}){const k=EV(q=>gV(()=>{var r=b.Xyb(q);if(b.store.I0e.length!==1||!r){var t=b.k2b.get();switch(t){case "single":VJs(b,q);break;case "command":case "shift":r?(r=b.store.hm,r!==null&&r!==void 0&&r.mc(b.page,q.fill)&&r.r7d(b.page,q.fill)):VJs(b,q);break;default:throw new v(t);}}})),l=gV(()=>a.Dzf=void 0),m=gV(q=>a.Dzf=q),p=EV(q=>gV(r=>{r.preventDefault();r.stopPropagation();if(!Hc.vba&&!Hc.izd){VJs(b,q);var t,u,w=__c.yj({x:(t=r.clientX)!==
null&&t!==void 0?t:0,y:(u=r.clientY)!==null&&u!==void 0?u:0});f.sMb(w,"element_timeline","right_click","bottom-start")}}));return fV(({scene:q})=>{const r=c.dyb(q);var t=Vb()?g.FHp(a.scenes):g.EHp(a.scenes)||g.Zmr(a.scenes);t=a.scenes[a.scenes.length-1]!==q&&!t;return kV("div",{className:CV("_5mXa1w",{b3FjcQ:b.Xyb(q)}),style:{minWidth:r},onClick:k(q),onContextMenu:p(q),children:[dV(e,{scene:q,width:r,height:BV}),t&&dV("div",{className:CV("lVaHbQ",{vMdKkQ:d.wUb}),onMouseEnter:()=>m(q.fill),onMouseLeave:l,
children:dV(h,{fill:q.fill})})]})})};ZJs=function({r:a,g:b,b:c}){return`rgba(${a}, ${b}, ${c}, 0.6) 0px 0px 5px, rgb(${a}, ${b}, ${c}) 0px 0px 8px`};
$Js=function(a){switch(a.type){case 5:return{textColor:"black",textShadow:void 0};case 0:case 1:case 3:return{textColor:"white",textShadow:"0 0 5px rgb(13 18 22 / 60%), 0 0 8px rgb(13 18 22 / 70%)"};case 2:const b=bi(a.color);return{textColor:Ji(["#000000","#ffffff"],c=>__c.uj(c,b))==="#000000"?"black":"white",textShadow:ZJs(b)};default:throw new v(a);}};
cKs=function({lN:a,$wa:b,Bde:c,tij:d,qpp:e,alj:f}){return fV(({scene:g,width:h,height:k})=>{const l=b.Xyb(g),m=c.aHe(g).ktb;var p=m!=null;const q=h>50,r=!a.ii&&c.aHe(g).Wla.isVisible;p=!q||p||!l||r;return dV(d,{scene:g,Eo:a.ii,children:kV("div",{className:CV("FlISGw",{_Tgftw:l}),style:{width:h-aKs/2,height:k},children:[dV(e,{scene:g,width:h,height:k,kja:m}),dV(f,{fill:g.fill,mc:l}),dV(bKs,{scene:g,hidden:p})]})})})};
eKs=function({qd:a,JFa:b,kFa:c,page:d}){const e=d.ia.Jc,f=k=>e.last()===k,g=k=>e.previous(k),h=k=>{var l,m,p;const q=a.zK(k),r=(((m=e.previous(k))===null||m===void 0?void 0:(l=m.transition.ref)===null||l===void 0?void 0:l.durationUs)||0)/q*100;k=((k===null||k===void 0?void 0:(p=k.transition.ref)===null||p===void 0?void 0:p.durationUs)||0)/q*100;return{ryl:r,F2h:k}};return({fill:k,mc:l})=>dV(dKs,{HYq:h,JFa:b,kFa:c,$Wq:g,fill:k,mc:l,Ikr:f})};
iKs=function({Cf:a,Pa:b,T5i:c}){return fV(({scene:d,width:e,height:f,kja:g})=>{switch(d.type){case 0:const h=NIs(d.K7,a);return(h===null||h===void 0?0:h.frames)?dV(SIs,{fill:d.K7,xJb:h.frames,Cf:a,width:e,height:f,kja:g,T5i:c}):(h===null||h===void 0?0:h.url)?dV(RIs,{url:h.url}):dV(fKs,{zI:a.zI(d.K7),isPending:a.jzd(d.K7)});case 1:return b.contains(d.Kx.media)||__c.Ev(b,[d.Kx.media]),(e=MIs(b,d.Kx,f))?dV(RIs,{url:e}):dV(fKs,{zI:b.Qha(d.Kx.media),isPending:b.isPending(d.Kx.media)});case 2:return dV(gKs,
{color:d.color});case 3:return(d=__c.v0f(d.ZRa))?dV(hKs,{gradient:d,width:e,height:f}):dV(fKs,{});default:return dV(fKs,{})}})};jKs=function(a,b,c,d){const e=mV(()=>{if(d.get())return[];var f=b.xbd.get();f=f!=null?[f]:[];const g=b.Ptg.get(),h=b.xJh.get(),k=b.Dfd;return nd([...f,...g,...h]).map(l=>({BCa:l,Yfd:k,q3c:k}))});return{kdh:mV(()=>{const f=[];let g=0;a.scenes.forEach(h=>{f.push(g);g+=h.durationUs});f.push(g);return f}),TOb:new CIs(e,b.rJe,c)}};
oKs=function({Xo:a,$wa:b,OUa:c,uA:d,qd:e,J8e:f,Lla:g,Lk:h,ii:k}){const l=(r,t)=>r+f.A4k(t),m=EV(r=>{const t=new kKs(r,b,c,f,k);r=new lKs(e,r,t,d);return{store:t,L:r}}),{kdh:p,TOb:q}=jKs(b,g,h,k);g.kdh=p;g=new mKs(r=>m(r).store);return{tij:fV(({scene:r,Eo:t,children:u})=>{const {store:w,L:x}=m(r);return dV(nKs,{Xo:a,hZb:w.O6n,durationUs:w.durationUs,Bfb:l,LNa:w.LNa,axa:w.axa,I7d:1E5,hT:r.hT,sia:x.sia,IBa:x.IBa,Jna:x.WKn,CFa:x.CFa,xqb:x.xqb,yqb:x.yqb,captureEvents:!0,disabled:w.isDisabled,Eo:t,Q8b:w.z9j,
Wla:w.Wla,kNd:q,children:u})}),Bde:g}};
uKs=function({di:a,page:b,gb:c,Pa:d,$b:e,qd:f,$M:g,og:h,oc:k,yl:l,k2b:m,uA:p,OUa:q,Lla:r,Lk:t,ii:u,Y1a:w,Xo:x,Hga:y,Kzc:z,lN:A,uhb:B,Lde:D,ORc:G,kh:I,zle:K,hh:N}){const M=new pKs(f);a=new qKs(a,b,c,M,h);h=new rKs(a,f,k,l,d,e,h,m,p);k=new sKs(q);const {tij:S,Bde:Q}=oKs({qd:f,uA:p,Lla:r,Lk:t,ii:u,Xo:x,$wa:h,J8e:k,OUa:q});p=new tKs(k,Q);g=iKs({Cf:g,Pa:d,T5i:(da,la)=>YIs.factory(mV(()=>q.JBa),f)(da,la)});b=cKs({lN:A,$wa:h,Bde:Q,tij:S,qpp:g,alj:eKs({qd:f,JFa:B,kFa:a,page:b})});const {cWj:W,hfj:X,rbj:ba}=
NJs({Pa:d,$b:e,Y1a:w,Xo:x,Hga:y,Kzc:z,kFa:a,$wa:h,hdh:M,Avc:p,ppp:b,hh:N});d=YJs({kFa:a,$wa:h,Avc:p,cWj:W,rbj:ba,kh:I,Bde:Q,zle:K});return QJs({uhb:B,kFa:a,hfj:X,Avc:p,opp:d,Lde:D,ORc:G})};
BKs=function({Ia:a,$f:b,zy:c,Xo:d,Bw:e,uA:f,qG:g,FEl:h,J4g:k,Nqb:l,lN:m,kkd:p,Lde:q,ORc:r,UWa:t,RE:u,onContextMenu:w}){const x=Ff(a),y=fV(I=>{const K=hV(()=>vKs(e,m,I.page,f),[I.page]);return dV(wKs,{store:m,document:a,N:k,V:h,sws:m.JWq(I.page),M0a:K,Gdd:m.ii?60:void 0,WBg:!0,UWa:t,gVa:e.isLinear,...I,children:I.children})}),z=fV(I=>{const K=jV(d);return dV(xKs,{Ia:a,lN:m,cRk:f===null||f===void 0?void 0:f.stop,Lgh:e.Lgh,qtl:e.qtl,mMp:e.qri,sMe:m.sMe(I.page.page),mzh:y,gVa:e.isLinear,pil:K,...I})}),
A=fV(I=>dV(yKs,{zd:I.zd,Z0k:g.UJ?"pageNumber":"pageDuration",page:I.page,lN:m,Nqb:l,zy:c,wea:I.wea,gVa:e.isLinear})),B=fV(I=>dV(zKs,{Ztp:z,tpp:A,Ia:a,onContextMenu:m.hN?w:void 0,YQg:!!e.jab,sMe:m.sMe(I.page.page),RE:u,$f:b,Bw:e,qG:g,kkd:p,store:m,UWa:t,...I})),D=fV(({Mhd:I,xn:K,Hg:N,Fjb:M,Qzc:S,tzc:Q,XNa:W,l5a:X})=>{const ba=jV({KFk:Number.MAX_VALUE,apk:a.pages.count()<=20?a.pages.count()-1:-1}),da=e.Shl;return dV(__c.LC,{xn:K,itemSizes:da,Uta:q,fzo:r,children:la=>{let ka=-1;const oa=(la===null||
la===void 0?void 0:la.l$)||0,ja=(la===null||la===void 0?void 0:la.G$)||0,fa=Math.min(oa,ba.current.KFk),aa=Math.min(da.length-1,Math.max(ja,ba.current.apk));ba.current.KFk=Math.min(fa,ba.current.KFk);ba.current.apk=Math.max(aa,ba.current.apk);return dV(rV,{children:a.pages.map((ca,qa)=>{ka++;const ra=ka>=fa&&ka<=aa,sa=ka===0?da[ka]-e.geb:da[ka];return dV(B,{Xo:d,page:x.tb(ca),Wb:ka,E9r:sa,Mhd:I,Fjb:M,l5a:X,OHs:ra,GAb:oa<=ka&&ka<=ja?"visible":"hidden",xn:K,Hg:N,Qzc:S,tzc:Q,XNa:W},qa)})})}})}),G=fV(({O3b:I,
etc:K,r3b:N})=>dV(AKs,{O3b:I,etc:K,IGg:{width:e.ibi,height:BV},r3b:N,kkd:p,lN:m,Nqb:l,uA:f,Bw:e,RE:u}));return fV(({Mhd:I,xn:K,Hg:N,Fjb:M,Qzc:S,r3b:Q,tzc:W,XNa:X,O3b:ba,etc:da,l5a:la})=>{const ka=e.geb;return kV(rV,{children:[dV("div",{className:"_AhXog",style:{width:ka,marginLeft:-ka},children:dV(p,{page:a.pages.first(),KCm:"full",WBg:!0,J4q:!0})}),dV(D,{Mhd:I,xn:K,Hg:N,Fjb:M,Qzc:S,tzc:W,XNa:X,l5a:la}),ba&&da&&dV(G,{O3b:ba,etc:da,r3b:Q})]})})};
CKs=function({Ia:a,viewport:b,$f:c,Pa:d,$b:e,gb:f,qd:g,$M:h,oc:k,yl:l,zy:m,og:p,k2b:q,Y1a:r,Weg:t,Xo:u,Hga:w,Kzc:x,Yxh:y,zle:z,rph:A,Uz:B,tgc:D,Bw:G,uA:I,qG:K,FEl:N,J4g:M,Nqb:S,lN:Q,uhb:W,kkd:X,Lde:ba,ORc:da,UWa:la,RE:ka,onContextMenu:oa,kh:ja,Lla:fa,Lk:aa,ii:ca,hh:qa}){let ra=()=>{};const sa=BKs({Ia:a,$f:c,zy:m,Xo:u,Bw:G,uA:I,qG:K,FEl:N,J4g:M,Nqb:S,lN:Q,kkd:X,Lde:ba,ORc:da,UWa:la,RE:ka,onContextMenu:oa});c=fV(wa=>{ra();var za=b.mh;if(A.Hs&&za.type==="fixed-page"){const Ba=Ff(a);za=uKs({di:Ba,page:Ba.tb(za.ia),
gb:f,Pa:d,$b:e,qd:g,$M:h,oc:k,yl:l,og:p,k2b:q,uA:n(I),OUa:G,Lla:fa,Lk:aa,ii:ca,Y1a:r,Xo:u,Hga:w,Kzc:x,lN:Q,uhb:W,Lde:ba,ORc:da,kh:ja,Yxh:y,zle:z,hh:qa});return dV(za,{...wa})}ra=t.KSj.add(()=>!!G.jab||!!G.Wfb||!!B.w0c||G.lTj);return dV(sa,{...wa})});D.V_l=c};EKs=function(a){const b=new DKs;eV(()=>b.trim&&!a.pages.has(b.trim.page),c=>{c&&(b.trim=void 0)});return b};
FKs=function(a,b,c){var d;c=c||((d=a.store.trim)===null||d===void 0?void 0:d.direction);({durationUs:d}=a.GEg(Am.zs(b),c));a=xKe(a.zy,b);return d?Math.max(a,d/1E6):Math.max(a,600)};IKs=function(a,b,c,d,e,f,g,h,k,l){return g?new GKs(a,b,c,d,e,g,h,k,l):new HKs(a,b,c,d,e,f,h,l)};
JKs=function(a,b,c){if(a.Qse(b,c)){var d=a.ya;a.aah(d);var e=Am.zs(d),f=e.indexOf(b);f!==-1&&c.forEach((g,h)=>{h>0&&(h=qu.wQ(In.snapshot(d),{RFa:!0}),d=a.document.pages.AI(d,h));e=Am.zs(d);h=e[f];a.SRi(d,g.endUs/1E6-g.startUs/1E6,"end");h.trim={startUs:g.startUs,endUs:g.endUs}})}};LKs=function({c4e:a,zy:b,Cf:c,viewport:d,document:e,Ch:f}){const g=new KKs(a,b,c,d,e,f);eV(()=>a.QBb.length&&a.CIh,h=>{h&&a.Hk&&JKs(g,a.Hk,a.QBb)})};
NKs=function(a){var b;if(a.Ma.mode<40||a.Lw.UJ)return!1;const c=(b=a.wr.jR)===null||b===void 0?void 0:b.filter(e=>{e=ny(a.wr,e);return!!MKs(e,a.xsb)});var d;b=(d=c===null||c===void 0?void 0:c.length)!==null&&d!==void 0?d:0;d=a.document.audio.tracks.count();return b>0&&d+b<=a.wr.zvj};OKs=function(a,b){a=a.Lw.GFg(b,!0);if(a!==null&&a!==void 0&&a.page){b-=a.Pda/1E6;var c=a.durationUs/1E6-b;if(!(b<.1||c<.1))return{...a,qPs:b}}};
PKs=function(a,b,c){let d=0;for(const e of b)if(b=a.qd.zK(e)||5E6,d+=b,b>0&&c<d)return a=d-c,c=b-a,c<1E5||a<1E5?void 0:{fill:e,rJq:c,uJq:a}};MKs=function(a,b){b=b*1E6-a.startUs;a=a.durationUs-b;if(!(b<1E5||a<1E5))return b};
QKs=function(a,b,c){const d=ny(a.wr,b);b=a.Uz.LYc.findIndex(k=>k.some(l=>l===d));var e=MKs(d,c);if(e){var f=__c.kde(qu,__c.GEc.snapshot(d.track));c=d.trim.startUs+e;var g={startUs:c,endUs:d.trim.endUs},h=(g.endUs-g.startUs)/2;e=a.document.audio.tracks.append({...f,startUs:Math.floor(d.startUs+e),trim:g,fadeIn:f.fadeIn!=null&&f.fadeIn.durationUs>h?{...f.fadeIn,durationUs:h}:f.fadeIn,fadeOut:f.fadeOut!=null&&f.fadeOut.durationUs>h?{...f.fadeOut,durationUs:h}:f.fadeOut});f=ny(a.wr,e);a.Uz.tcg(f,b);a.Uz.tcg(d,
b);a.wr.Bsb(d,"trim");a.wr.nfe(d,d.trim.startUs,c);a.wr.yCb(d,"shortcut");return e}};
VKs=function({Ch:a,kh:b,Uj:c,Cd:d,selection:e,document:f,timing:g,zy:h,wr:k,Lw:l,qd:m,V:p,PUa:q,uA:r,Uz:t,ii:u,Ec:w,Ma:x}){const y=mV(()=>c.mq==="thumbnail"&&!w.iLa),z=new RKs(f,x,h,k,t,l,g,m,p,a,r,q,y);d.plugins.FFb=()=>({Qd:()=>{var A,B;return((A=e.La)===null||A===void 0?void 0:A.type)==="pages"&&c.mq==="thumbnail"&&!l.UJ&&((B=e.La)===null||B===void 0?void 0:B.Ji())},Button:fV(A=>dV(SKs,{...A,disabled:!z.pNh,s4e:z})),onClose:r.Xce});b.kc(()=>z.pNh,(A,B)=>{B?A.OCh={Button:D=>{const G=hV(()=>{var I;
(I=D.onClick)===null||I===void 0||I.call(D);z.HWi()},[D]);return dV(D.fl,{label:L("GiOiNA"),onClick:G,Icon:TKs,im:"s",oa:D.oa})},onClose:r.Xce}:(A.OCh=void 0,r.Xce())});d.plugins.eEb=()=>({Qd:()=>{var A,B;return x.mode===40&&((A=e.La)===null||A===void 0?void 0:A.type)==="audio"&&!((B=k.jR)===null||B===void 0||!B.length)},Button:fV(A=>dV(UKs,{...A,disabled:!NKs(z),Eo:u.get(),s4e:z})),onClose:r.Xce});b.kc(()=>NKs(z),(A,B)=>{A.xjj=B?{Button:D=>{const G=hV(I=>{var K;(K=D.onClick)===null||K===void 0||
K.call(D);I.stopPropagation();z.GWi()},[D]);return dV(D.fl,{label:L("W417Fg"),onClick:G,Icon:TKs,im:"s",oa:D.oa})},onClose:r.Xce}:void 0});return z};WKs=function({ii:a,onClick:b}){a=a?L("OEWZcA"):L("8pJsaQ");return dV(bj,{variant:"tertiary",icon:vr,onClick:b,children:a})};
YKs=function({onClick:a,playState:b,isDisabled:c}){const d=()=>b.zG/1E6,e=()=>b.t7e/1E6;return fV(()=>{var f;return dV(XKs,{onClick:a,currentTime:d,totalTime:e,If:b.If,va:b.va,isDisabled:(f=c===null||c===void 0?void 0:c.get())!==null&&f!==void 0?f:!1})})};
XKs=function({onClick:a,currentTime:b,totalTime:c,If:d,va:e,isDisabled:f}){return kV(jr,{spacing:"1u",Fa:"center",children:[dV(ir,{width:"content",children:dV(ZKs,{currentTime:b,totalTime:c})}),dV(ir,{width:"content",children:dV(sr,{onClick:a,variant:"tertiary",icon:e?__c.gr:d?__c.Mu:__c.Nu,disabled:e||f,size:"small",Nc:"medium",hb:d?L("8Pbkhg"):L("Y/SEvA"),lUb:!0})}),dV(ir,{width:"content",children:dV($Ks,{totalTime:c})})]})};aLs=function({uSm:a}){return dV("time",{dir:"ltr",className:"Nbtq6A",children:a})};
fLs=function({rac:a,Avg:b,D8b:c,ii:d,timing:e,Bw:f,uA:g,PUa:h,qG:k,ikq:l,igg:m,p2h:p}){let q=bLs,r=mV(()=>null);a.Yhe={height:mV(()=>b&&f.lgb?cLs:0)};if(!g||!h)return{Yhe:r,Vcf:q};const t=()=>{g.xPa({kb:"click"})};if(b){const u=YKs({onClick:t,isDisabled:l,playState:h}),w=gV(()=>{e.Hs=!1;g.stop();k.xJd(!0)});r=mV(()=>f.lgb?dV(dLs,{$ds:dV(u,{}),bFq:m&&p&&e.Hs?dV(WKs,{ii:d.get(),onClick:w}):void 0}):null)}else q=fV(()=>{if(!f.lgb)return null;var u=g.wMe||!!f.jab||!!f.Wfb||k.xE;u=l.get()||d.get()&&u;
return dV(eLs,{onClick:t,If:h.If,va:h.va||!(c===null||c===void 0||!c.gOd.size),FG:u})});return{Yhe:r,Vcf:q}};
iLs=function({Bw:a,qG:b,k_j:c,Ec:d,keyboardShortcuts:e,g$:f,Xd:g,Uj:h,ii:k}){const l=Xo("d");c&&e.register([l,()=>{a.J2e&&b.xJd(!b.UJ,"shortcut")},L("VH6WcA"),["edit","comment","view"]]);g.Lu(()=>k.get()&&a.J2e,({iM:p},q)=>{p&&(p.Skj=q?{Button:fV(r=>dV(gLs,{...r,Uj:h,qG:b}))}:void 0)});const m=()=>{b.xJd(!b.UJ,"click")};f.q_a.install("timeline_mode",{Qd:()=>!k.get()&&h.mq==="thumbnail"&&!d.iLa&&a.J2e,Component:fV(()=>dV(hLs,{active:!b.UJ,onClick:m,OI:c?l:void 0,hb:c?b.UJ?L("JOx0bg"):L("vr2BIw"):void 0}))});
Ats(()=>{a.J2e||a.UJ||b.xJd(!0)},{scheduler:requestAnimationFrame})};kLs=function({tgc:a,uhb:b,timing:c,document:d,viewport:e,ii:f}){eV(()=>c.Hs&&e.mh.type==="fixed-page"&&e.mh.ia.elements.empty&&e.mh.ia.Jc.empty&&d.audio.tracks.count()===0,g=>{a.Kne=g?fV(()=>dV(jLs,{jle:b.jle,ii:f})):void 0},{fireImmediately:!0})};DV=function(a,b){return rvb(b,a.I.document)};eGs=function(a,b){a=a.I.gb;return b.type!=="fixed"||zg(a.Zk(b))?!1:lk(a,b,c=>!!c&&!c.AMa&&!c.Web)};
sHs=function(a,b,c){b=a.Y1d(c+b.scrollLeft-(b.left+lLs+a.geb));a.sze=Math.round(b*100)/100};nLs=function(a,b){return a.Q1c.slice(b,b+2).some(({width:c})=>c<mLs)};vKs=function(a,b,c,d){a.cAn();if(d)if(b.ii){const e=Sqs(()=>!b.gxd,()=>{d.djh=!0;d.VG(c);oLs(d,c,"start");e()})}else oLs(d,c,"start")};pLs=function(a,b,{offsetWidth:c,width:d,Pda:e,durationUs:f}){b-=e;if(b<=0)return c;e=b-f;return e<=0?c+(f?b/f:1)*d:c+d+e/1E6*a.JBa};
qLs=function(a,b,{wgc:c,y$g:d,withTrim:e}={}){if(d){const {ZPk:f}=a.Cwa(d);b+=f}c=(d===null||d===void 0?0:d.draft)?a.Cwa(d):a.GFg(b/1E6,c,e)||a.tmi||{offsetWidth:0,width:a.f0i,Pda:0,durationUs:a.ehd};return a.Gch(Math.max(pLs(a,b,c),0))};rLs=function(a,b){const c=a.B7b.find(({width:d,offsetWidth:e})=>b<=e+d);return c&&!DV(a,c.page)?{offsetWidth:c.offsetWidth,width:c.width,Pda:c.Pda,durationUs:0}:c||a.tmi||{offsetWidth:0,width:a.f0i,Pda:0,durationUs:a.ehd}};
sLs=function(a,b,{offsetWidth:c,width:d,Pda:e,durationUs:f}){b-=c;if(b<=0)return e;c=b-d;return c<=0?e+b/d*f:e+f+c/a.JBa*1E6};tLs=function(a,b,{y$g:c}={}){if(c){const {Dzn:d}=a.Cwa(c);b+=d}c=(c===null||c===void 0?0:c.draft)?a.Cwa(c):rLs(a,b);return Math.max(sLs(a,b,c),0)};uLs=function(a){clearTimeout(a.Zdh);a.Zdh=setTimeout(()=>{a.controller.Mba();a.Zdh=void 0},20)};vLs=function(a,b=a.XLh){clearInterval(b);clearTimeout(b)};
wLs=function(a,b,c=0){const d=n(a.effect),e=c>0,f=()=>{var g=a.Hf,h=b-a.Ebo+c*a.heartbeatInterval;const k=n(a.Unc);let l=a.JEk;oV(k)&&(l+=Date.now()-a.Syl);d({Hf:g,hml:h,R0s:l,VOp:e?"heartbeat":a.isBuffering?"start":"end"})};e?a.jok=window.setTimeout(f,a.kzj):f()};oLs=function(a,b,c){const {Pda:d,durationUs:e}=a.Lw.Cwa(b);a.SMc((c==="end"?d+e:d)/1E6,c)};
aJs=function(a,b){var c;const d=a.wMe?"trim":"playhead_drag";if(b===null||b===void 0?0:b.xEm){var e;if((e=a.DY)!==null&&e!==void 0){a={Dv:d};e.Bii=!0;var f;e.sXj=(f=a===null||a===void 0?void 0:a.Dv)!==null&&f!==void 0?f:e.sessionType==="non-editing"?"playhead_drag":void 0}}else(c=a.DY)===null||c===void 0||__c.n5p(c,{Ze:a.WMa(),Dv:d})};bJs=function(a){var b;(b=a.DY)===null||b===void 0||__c.o5p(b,{Ze:a.WMa(),oZ:"ended"})};xLs=function(a){a.oH.mC&&a.oH.configuration!==a.oH.hCe&&(a.stop(),a.create())};
yLs=function(a){const b=a.viewport.ya;if(b.type==="fixed"){var c=a.qd.Foc(a.document,b);const e=a.qd.tb(b),f=a.store.zG-c;c=__c.QFd(b);var d=__c.WRd(a.qd,b.Jc);let g;if(b.Jc.count()>1&&(d=d.find(h=>a.store.zG>=h.startUs&&a.store.zG<h.startUs+h.durationUs))){const h=a.store.zG-d.startUs;g=h>=0&&h<d.durationUs?h:void 0}c.forEach(({element:h,parent:k,fill:l})=>{if(!h&&g)__c.eee(a.$M,l,g/1E6);else{const {startUs:m,durationUs:p}=h?pXa(h,b,e,k):{startUs:0,durationUs:e};h=f-m;h>=0&&h<p&&__c.eee(a.$M,l,h/
1E6)}})}};zLs=function(a,b){b==="COMPOSITE"&&(a.store.iii?a.pyk=!1:b="ANIMATE");if(a.oH.qef!==b&&!(b==="COMPOSITE"&&a.store.hIg||b==="ANIMATE"&&!a.pyk&&!a.store.hIg)){var c=a.store.currentTime;if(a.oH.setActive(b)){var d;if((d=a.DY)!==null&&d!==void 0){b=a.WMa();var e;(e=d.IOa)!==null&&e!==void 0&&e.isRecording()&&d.IOa.mb().addEvent("document_engine_updated",new Map([["type",b]]))}a.seek(c);a.stop()}}};
ALs=function(a,b,c){const {height:d,width:e}=xg(4,pk(b,a.document.dimensions)),{height:f,width:g}=xg(4,pk(c,a.document.dimensions));return d===f&&e===g};BLs=function(a,b){if(a.oH.ya){var c=a.store.If,d=a.oH.ya,e=a.oH.GGe(d);a.stop();e!=null&&b.includes(d)&&(b=a.store.zG-e*1E3,{Pda:d}=a.Lw.Cwa(d),a.F2e=c,a.create(),a.seek((d+b)/1E6))}};
JLs=function({P:a,Ga:b,Iga:c,Ma:d,canvas:e,viewport:f,toolbar:g,document:h,qd:k,sc:l,timing:m,Lw:p,Op:q,hsa:r,QZ:t,$M:u,PT:w,VCa:x,selection:y,Zo:z,TOa:A,mfa:B,Xxa:D,la:G,Yca:I,Lla:K,ii:N,BLe:M,WBe:S,$f:Q,cya:W,Gv:X,aTb:ba}){var da,la=b.Ud("editor.editing.page_navigator.timeline_preview");la=new __c.Bvr(0,a,la,X);b=__c.rXb({Ga:b,sessionType:"editing",N:a,Gv:X});X=Ff(h);const ka=new CLs(I.$ja,h,X,D,q,t,k);I=fV(()=>f.jh&&f.ya&&ka.MFd&&ka.XY&&S.get()?dV(DLs,{vlb:__c.kXb(),sc:ra,XY:ka.XY,lxh:aa,L:fa,
store:ja,cya:W}):null);const oa=new ELs(ka,I),ja=new FLs(h,X,f,k,m,oa),fa=new GLs(ja,h,k,f,y,p,oa,ba,u,a,K,N,M,Q,la,b,w,mV(()=>m.Hs));c.init(fa,ja);a=mV(()=>({r_b:oa.qef==="COMPOSITE"&&ba&&ba.GDc?ba.GDc:ka.mC,Cf:oa.qef==="COMPOSITE"&&ba&&ba.zue?ba.zue:t}));q=new __c.w5p(h,a,q,__c.Ql.Nv);w=new __c.eYh({PT:w,osa:q,yGc:!0,LPk:!0});const aa=__c.vXb(w);ba&&HLs({hsa:r,$M:u,aTb:ba,store:ja,Lw:p,DZs:oa,lxh:aa,WBe:S,L:fa});ba&&eV(()=>ja.If,sa=>{sa&&ba.jwo.Mao()});ba&&__c.yvr({aTb:ba,Evb:ja,LIs:()=>!(ja===
null||ja===void 0||!ja.iii||(ja===null||ja===void 0?0:ja.hIg)||(ja===null||ja===void 0?void 0:ja.vNj)!=="ANIMATE"&&((ja===null||ja===void 0?0:ja.If)||(ja===null||ja===void 0?0:ja.va))||(ja===null||ja===void 0?0:ja.yii)),JIs:()=>!(ja===null||ja===void 0||!ja.iii||(ja===null||ja===void 0?0:ja.hIg))});const ca=(sa,{page:wa,element:za})=>{const Ba=za.container;switch(Ba.type){case "group-element":fa.VG(wa.ia);fa.stop();if(__c.iDe(Ba.group)){oV(()=>y.Il(Ba.container,Ba.group));break}y.LPe(Ba,za.ia);sa.stopPropagation();
break;case "fixed-page":fa.VG(wa.ia);fa.stop();oV(()=>y.Il(Ba,za.ia));break;case "layout-element-cell":case "chart-element":case "controlled-element":break;default:throw new v(Ba);}},qa={onTouchStart:(sa,wa)=>{ca(sa,wa)},onMouseDown:(sa,wa)=>{ca(sa,wa)},qBc:({page:sa,element:wa})=>{if(d.mode<=10||wa.ia.type==="group")return!1;const za=wa.container;if(A&&za.type!=="layout-element-cell"&&za.type!=="chart-element"&&!__c.Nhg(A,wa))return!1;switch(za.type){case "group-element":case "controlled-element":case "fixed-page":case "chart-element":break;
case "layout-element-cell":return!0;default:throw new v(za);}return __c.qXa(wa.ia,ja.zG-(m.Hs?0:k.Foc(h,sa.ia)),sa.ia,za)}},ra=FV(sa=>{const wa=sa.page,za=hV(()=>{if(!A||__c.Khg(A,wa))d.mode>10&&wa.container&&wa.container.type!=="design-item"&&y.uT(wa.container,wa.ia),fa.VG(wa.ia),fa.stop()},[wa]);return dV(l,{...sa,wA:{...sa.wA,Ygc:()=>!0},H8a:qa,FZg:za})});e.kc(()=>({isEnabled:p.lgb||ja.If,Overlay:oa.Overlay}),(sa,{isEnabled:wa,Overlay:za})=>{sa.TLa.pQd=wa?za:void 0});Qb("c25bfe2b",!1)&&e.kc(()=>
ja.vNj==="COMPOSITE",(sa,wa)=>{sa.TLa.z$f=wa?ILs:void 0});e=()=>oa.Overlay!=null;m.Jzk=e;m.Kzk=()=>{var sa;return((sa=oa.mC)===null||sa===void 0?void 0:sa.paused)===!1};(da=g.sE)===null||da===void 0||da.UQ(e);sy(z.controls,e);eV(e,sa=>{sa&&(B.isActive&&B.EDc("timeline_preview"),x.W4e())});eV(()=>({XU:f.jh?f.ZN(f.ya):1,ya:f.ya}),(sa,wa)=>{sa.ya&&wa.ya&&sa.ya.type===wa.ya.type&&ALs(fa,sa.ya,wa.ya)&&sa.XU!==wa.XU&&fa.stop()},{scheduler:requestAnimationFrame});eV(()=>N.get()&&g.f5,sa=>sa&&fa.stop());
eV(()=>ja.If,sa=>{sa&&(D===null||D===void 0||!D.Qti)&&(D===null||D===void 0?0:D.isEnabled)&&(G.Ib({Cb:L("bnV+qg")}),D.Qti=!0)});return{uA:fa,PUa:ja}};HLs=async function({aTb:a,hsa:b,$M:c,Lw:d,store:e,DZs:f,lxh:g,WBe:h,L:k}){if(await a.isSupported()){var {LQh:l,Evb:m,Myh:p,GDc:q,zue:r}=a.nTh({dimensions:mV(()=>e.box)});b=new KLs(l,m,b,c,d);c=fV(()=>h.get()?dV(LLs,{Myh:p,store:e,lxh:g,L:k}):null);a.GDc=q;a.zue=r;f.VGj=b;f.RVo=c}};
RLs=function({V:a,N:b,qnf:c,Xo:d}){const e=new MLs,f=new NLs(e,d),g=new OLs(a,b,c,f);a=new PLs(g);return{L:g,config:e,Y$e:a,Huh:()=>QLs({ket:g,Mys:f})}};
aMs=function({sS:{Uh:a,UWa:b,qnf:c,VBq:d,Jyq:e,Avg:f,sJm:g,jHc:h,omc:k,k_j:l,Mxg:m,yug:p},errorService:q,P:r,Ga:t,Iga:u,eIa:w,Z2b:x,rac:y,Bda:z,J4g:A,FAb:B,wr:D,W0a:G,hsa:I,k_:K,QZ:N,$M:M,PT:S,D8b:Q,Xxa:W,KE:X,Ebc:ba,c4e:da,XP:la,zy:ka,Xo:oa,Zab:ja,Weg:fa,Dc:aa,gb:ca,timing:qa,oc:ra,yl:sa,Xd:wa,Pa:za,$b:Ba,Ma:Aa,Ec:Fa,keyboardShortcuts:Ea,la:La,document:Ja,Uj:Ra,Ll:Va,viewport:Ya,qd:Sa,$gj:Xa,kkd:bb,mfa:ob,selection:mb,Zo:nb,TOa:qb,QR:pb,Ro:lb,JFa:yb,lN:Cb,Nqb:Eb,g$:Fb,ka:Rb,whc:Ab,Df:$b,toolbar:ic,
Cd:Rc,vc:Jc,kh:jc,Zqa:Ac,Ca:zb,Ch:gc,$f:Gc,Ez:uc,Ima:zc,Lk:Ec,Yca:yc,onContextMenu:ld,Lde:Od,ORc:Ad,WBe:Bc,RE:Sc,Gv:od,aTb:vd,hh:he}){const cf=EKs(Ja),Je=d||c!==2,Vc=__c.a7q(),hd=zb&&Ac?Vc.ddg.has(zb)||Vc.fCf(Ac,zb):!1,xd=mV(()=>Cb.ii),Fd=mV(()=>Cb.BLe),lf=mV(()=>Cb.IF),Ig=t.Ud("editor.editing.page_navigator.timeline"),{L:ve,config:jg,Y$e:ke,Huh:Qd}=RLs({V:Ig,N:A,qnf:c,Xo:oa}),Oe=()=>hd?!1:Ra.mq==="thumbnail"&&(Je||!ve.UJ);qa.bli=()=>f&&Oe();qa.lhn=()=>Oe()&&!ve.UJ;const ge=new SLs({RE:Sc,Avg:f,jHc:h,
UWa:b,timing:qa,viewport:Ya,document:Ja,zy:ka,Xo:oa,qd:Sa,Peu:hd,ii:xd,bli:Oe,qG:ve,M2i:cf,gb:ca,Lk:Ec,Ma:Aa});x.Izk=mV(()=>qa.Hs||ge.J2e);ja.setup(ge);w.zmr=()=>Ra.mq==="scroll"?void 0:!ve.UJ;const ne=new TLs(mV(()=>ge.JBa)),{uA:Bd,PUa:qe}=u!=null&&JLs({P:r,Ga:t,Iga:u,document:Ja,Ma:Aa,canvas:Ra,viewport:Ya,toolbar:ic,qd:Sa,sc:Xa,timing:qa,Lw:ge,Op:G,hsa:I,QZ:N,$M:M,PT:S,VCa:K,Xxa:W,la:La,Yca:yc,mfa:ob,selection:mb,Zo:nb,TOa:qb,Lla:ne,$f:Gc,ii:xd,BLe:Fd,WBe:Bc,cya:a.atd,Gv:od,aTb:vd})||{},Of=Ya.mh;
qa.Hs=g&&Ja.pages.count()===1&&rvb(Of.ia)&&!!Bd&&!ve.UJ;const Ed=__c.uk();jg.yil={get scrollLeft(){var Vf;return(Vf=oa.scrollLeft)!==null&&Vf!==void 0?Vf:0},get clientWidth(){var Vf;return(Vf=oa.clientWidth)!==null&&Vf!==void 0?Vf:0},get z0b(){return ge.geb+ULs},scrollTo:Vf=>oa.scrollTo({left:Vf})};jg.timeline={ILq:mV(()=>{var Vf;return(((Vf=Ed.current)===null||Vf===void 0?void 0:Vf.zzo)||0)+ULs}),MGe:ge.MGe,Y1d:ge.Y1d,zYq:()=>ge.Cwa(Cb.ya).Pda/1E6,XWq:()=>{var Vf;return((Vf=qa.Amf)!==null&&Vf!==
void 0?Vf:0)/1E6}};jg.YYq={hide:()=>pe===null||pe===void 0?void 0:pe.ZYq.hide()};const ag=IKs(cf,Sa,ka,M,Ig,K,Bd,mb,ba,Ec),{Y1a:Pd,Hga:Dd,Kzc:Xc,M1o:wd}=MHs({Y1a:aa,Xo:oa,Ll:Va,ii:xd,timing:qa}),Vd=mV(()=>!!Cb.hOa),le=new VLs,{Qtg:Sf}=Bd&&ZIs({P:r,Ga:t,document:Ja,oc:ra,viewport:Ya,Uj:Ra,Ll:Va,Pa:za,$4d:Vd,ii:xd,vc:Jc,Lk:Ec,kh:jc,KE:X,qd:Sa,selection:mb,QR:pb,Ma:Aa,tgc:le,rac:y,Bda:z,Lw:ge,Sqg:fa.Sqg,timing:qa,$M:M,uA:Bd,k2b:lf,gb:ca,Lla:ne,Dc:Pd,Xo:oa,Hga:Dd,Kzc:Xc})||{};yHs(le,()=>(!ge.UJ||!(Sf===
null||Sf===void 0||!Sf.open))&&(!xd.get()||AV.Ozq));y.h3c=mV(()=>le.h3c);__c.Xyf(yb,()=>AV.Gxq);const {Uz:Hd,tJp:Fe}=xHs({omc:k,Dc:aa,oc:ra,viewport:Ya,Ma:Aa,tgc:le,rac:y,JFa:yb,wr:D,W0a:G,D8b:Q,Xo:oa,selection:mb,kh:jc,Ro:lb,Lw:ge,Lla:ne,timing:qa,uA:Bd,PUa:qe,errorService:q.vf("audio_timeline"),ka:Rb,Ima:zc,Lk:Ec,k2b:lf,GEl:mV(()=>ve.XU),Fys:()=>{var Vf;const Ch=((Vf=Ed.current)===null||Vf===void 0?void 0:Vf.AZs)||0;oa.scrollTop<Ch&&oa.scrollTo({behavior:"smooth",top:Ch-z.GRc})},yug:p,Mxg:m});Ra.kc(()=>
Aa.mode===40,(Vf,Ch)=>Vf.timeline=Ch?{d8:()=>{Hd.mode!=="max"||Hd.mode!=="max"||Hd.uhb.dSm||(Hd.store.AJh="min",Hd.G5.stop());Sf===null||Sf===void 0||Sf.x2n()}}:void 0);const {Yhe:rd,Vcf:Xe}=fLs({rac:y,Avg:f,D8b:Q,ii:xd,timing:qa,lN:Cb,Bw:ge,uA:Bd,PUa:qe,qG:ve,ikq:mV(()=>yb.tTj),igg:g,p2h:AV.p2h}),{Tkj:wf}=oJs({rac:y,Bw:ge,qG:ve,Xo:oa,Q4j:mV(()=>yb.F6i.get())}),fe=WLs(),pe=Bd&&qe&&iJs({V:Ig,c2a:r,Ia:Ja,$4d:Vd,ii:xd,G0c:fe,Lla:ne,Uz:Hd,uA:Bd,PUa:qe,Lw:ge,qG:ve,Xo:oa,timing:qa,Ebq:mV(()=>yb.F6i.get())});
pe&&(le.Z0l=pe.Wkp);e&&$Is({wr:D,kh:jc});const Gf=qe&&Bd?VKs({Ch:gc,kh:jc,Uj:Ra,Cd:Rc,selection:mb,document:Ja,zy:ka,wr:D,Lw:ge,timing:qa,qd:Sa,V:Ig,PUa:qe,uA:Bd,Uz:Hd,ii:xd,Ma:Aa,Ec:Fa}):void 0;da&&LKs({c4e:da,zy:ka,Cf:M,viewport:Ya,document:Ja,Ch:gc});const mg=mV(()=>!hd&&Vb()),{Yxh:$f,zle:Jh}=XLs({lN:Cb,config:yb,Df:$b,XP:la});CKs({Ia:Ja,viewport:Ya,$f:Gc,qd:Sa,Pa:za,$b:Ba,gb:ca,$M:M,oc:ra,yl:sa,Y1a:Pd,Weg:fa,Xo:oa,Hga:Dd,Kzc:Xc,zy:ka,og:mb,k2b:lf,rph:qa,Uz:Hd,tgc:le,Bw:ge,uA:Bd,qG:ve,FEl:Ig,J4g:A,
Nqb:Eb,lN:Cb,uhb:yb,kkd:bb,Lla:ne,Lk:Ec,ii:xd,Lde:Od,ORc:Ad,UWa:b,RE:Sc,onContextMenu:ld,kh:jc,Yxh:$f,zle:Jh,hh:he});kLs({timing:qa,tgc:le,uhb:yb,document:Ja,viewport:Ya,ii:xd});const gj=()=>{ja.pId()},Ik=fV(()=>{const Vf=parseInt("28px",10);return yb.Une?dV(yb.Une,{VGa:Vf,ehk:Ch=>ge.LIa(Ch,{withTrim:!0,mvb:!1}),GGg:(Ch,nj)=>ge.dyb(Ch,nj,{withTrim:!0,mvb:!1}),Pys:gj}):null}),$i=()=>{const {top:Vf,rowHeight:Ch}={top:z.GRc+z.iGc+(z.iGc>0?Wc:0),rowHeight:z.hUf.height};oa.scrollTo({top:Vf+Ch/2-z.aMd/
2})},kg=fV(Vf=>{iV(()=>{le.h3c&&requestAnimationFrame($i)},[]);iV(()=>{let nj;const mh=eV(()=>qa.Hs,hk=>{nj!=null&&(nj(),nj=void 0);hk&&(nj=YLs(ne))},{fireImmediately:!0});return()=>{mh();nj===null||nj===void 0||nj()}},[]);const Ch=ZLs(oa,Cb.Wam,Cb.Yam);return kV(rV,{children:[dV($Ls,{...Vf,G0c:fe,ref:Ed,Df:$b,store:Cb,xc:La,Uz:Hd,tgc:le,Bw:ge,uA:Bd,PUa:qe,qG:ve,Tkj:wf,Xo:oa,Huh:Qd,Dct:ke.yq,DPs:Ch,mIm:mg,UWa:b,timing:qa,Une:Ik}),dV(wd,{})]})}),{E0o:mj}=CHs({Ec:Fa,keyboardShortcuts:Ea,document:Ja,
viewport:Ya,gb:ca,N:A,V:Ig});!AV.Uym&&iLs({Bw:ge,qG:ve,k_j:l,Ec:Fa,keyboardShortcuts:Ea,g$:Fb,Xd:wa,Uj:Ra,ii:xd});Fb.q_a.install("document_duration",{Qd:()=>(Ya.jh||Ya.FF)&&!(B===null||B===void 0?0:B.isActive),Component:fV(function(){const Vf=Cb.Ag.length===1?Cb.So+1:void 0;return dV(mj,{currentTime:Math.floor(((qe===null||qe===void 0?void 0:qe.zG)||0)/1E6),totalTime:(qa.Hs?Sa.tb(Ya.mh.ia):Sa.Gxb(Ja))/1E6,tf:Cb.hC,wpa:Vf,fLs:Ra.mq==="scroll"||ve.UJ})})});const Zl={get active(){return ve.isActive},
get zoom(){return ve.XU},get OF(){return ve.UJ||!ge.lgb?"fixed":void 0},set OF(Vf){ve.xJd(Vf==="fixed")},Ly(Vf){ve.Ly(Vf)},setActive:Vf=>{ve.$Bb(Vf)},RZb:()=>{ve.RZb({r6g:"playhead_or_center"})},d0:Vf=>{ve.d0(Vf)},xhc:ve.min,kzc:ve.max},hn=GHs({tgc:le,rac:y,Bda:z,onDragStart:()=>{ge.Xfo(!0)},onDragEnd:()=>{ge.Xfo(!1)},N:A,V:Ig}),Ye={r_e:ag,Bw:ge,Zab:ja,qG:ve,uA:Bd,PUa:qe,CZs:(Vf,Ch,nj)=>{if(Vf.data.type==="audio"&&Vf.positions)return sHs(ge,nj,Vf.positions.hy.x),Fe(Vf)},Rkj:kg,Yhe:rd,Vcf:Xe,e0i:hn,
tgc:le,s4e:Gf,mIm:mg,h0i:ne,hh:he};eV(()=>Ra.mq==="thumbnail"&&!ve.UJ,Vf=>{Ab.timeline=Vf?Zl:void 0},{fireImmediately:!0});eV(()=>ve.UJ&&yb.xOq,()=>{ve.xJd(!1)},{fireImmediately:!1});Bd&&(eV(()=>z.CEl,()=>Bd.stop()),yb.FZs=()=>{Bd.VG();Bd.stop()},eV(()=>(D.Uma==="fade_in"||D.Uma==="fade_out")&&!!D.Jze,Vf=>Vf&&Bd.pause()));Bd&&Gc&&uc&&kJs({Lw:ge,uA:Bd,$f:Gc,Ez:uc});return Ye};
eMs=function({selection:a,Iga:b}){const c=new bMs(a,b),d=YKs({onClick:c.X0f,playState:b}),e=fV(()=>dV(cMs,{Sda:c.Sda,Mba:c.Mba,MV:c.MV,va:b.va,currentTime:b.zG/1E6,totalTime:b.t7e/1E6}));a=fV(()=>dV(dMs,{GXi:c.GXi,Ytp:d,aqp:e}));return{Hgs:c,rlp:a}};__c.gMs=function(a,{action:b,kb:c,mb:d,Dge:e,Z5e:f}){bp({mb:d,P:a.N,event:fMs,props:{ja:"",action:b,kb:c,Dge:e.toString(),Z5e:f?f.toString():""}})};
jMs=function({document:a,di:b,Dbb:c,viewport:d}){const e=new hMs(a,b,d);a=fV(()=>dV(iMs,{jr:e.jr,TGa:e.TGa,onNext:e.$Ym,wTe:e.cZm}));c.Xbf=a};
lMs=function(a){switch(a.type){case "line":case "rect":case "text":return!1;case "embed":const b=a.url;return kMs.some(c=>b.startsWith(c));case "group":case "chart":case "table":case "controlled":case "layout":return!0;case "grid":return a.cells.size>1;case "shape":return a.paths.reduce((c,d)=>c+(d.fill.dropTarget?1:0),0)>1;case "sheet":return __c.ef("PublishingPresenter",!1);default:throw new v(a);}};
oMs=function({region:a,P$r:b,ih:c,Ol:d,I1g:e,H1g:f,G1g:g,e3r:h,d3r:k,c3r:l}){const m=zV(()=>a.transform(Lj(b)),[a,b]),p=zV(()=>new __c.cd([new __c.dd({Js:x=>Zk(c,y=>{h(d().transformPoint(new xj(x.Hi,x.yj)),y)}),NG:x=>k(d().transformPoint(new xj(x.Hi,x.yj))),qx:()=>l()})]),[c,d,l,k,h]),[q,r]=nV(void 0),t=hV((x,y)=>{r(x);e(x,new xj(y.clientX,y.clientY),y.shiftKey)},[e]),u=hV(x=>f(d().transformPoint(new xj(x.clientX,x.clientY))),[d,f]),w=hV(()=>{r(void 0);g()},[g]);return kV(mMs,{className:"VsAudw",
box:m,children:[dV("div",{ref:p.yq,className:"_3DzJMg"}),dV(nMs,{handle:"top-left",isActive:q==="top-left",className:"GW55Og",r0b:-45,onDragStart:t,pe:u,onDragEnd:w}),dV(nMs,{handle:"top-right",isActive:q==="top-right",className:"HdZiQQ",r0b:45,onDragStart:t,pe:u,onDragEnd:w}),dV(nMs,{handle:"bottom-left",isActive:q==="bottom-left",className:"DSLsKQ",r0b:-135,onDragStart:t,pe:u,onDragEnd:w}),dV(nMs,{handle:"bottom-right",isActive:q==="bottom-right",className:"NbZpbw",r0b:135,onDragStart:t,pe:u,onDragEnd:w})]})};
nMs=function({handle:a,isActive:b,className:c,r0b:d,onDragStart:e,pe:f,onDragEnd:g}){const h=zV(()=>mV(()=>__c.iy(new __c.n9g(d))),[d]),k=zV(()=>new dr({onDragStart:l=>e(a,l),pe:f,onDragEnd:g,SHa:h}),[h,a,g,f,e]);return dV("div",{className:CV("aZSx8w",vb.od&&"nS73hw",b&&"_9JheGg",h.get(),c),onMouseDown:k.onMouseDown,onTouchStart:k.onTouchStart,role:"button","aria-label":L("OD+MQQ"),children:dV("div",{"aria-hidden":"true",className:"_0h_AEw",dangerouslySetInnerHTML:{__html:pMs}})})};
mMs=function({box:a,className:b,style:c={},...d}){const {top:e,left:f,width:g,height:h,rotation:k}=a.Mb();return dV("div",{...d,className:CV("aGkcFA",b),style:{width:g,height:h,transform:`translate(${f}px, ${e}px) rotate(${k}deg)`,...c}})};sMs=function(a){return new qMs(()=>__webpack_require__.me(268367).then(()=>__c.rMs).then(gV(({yfr:b})=>b(a))))};
tMs=function(a,{GUf:b,Y_e:c,YEa:d,lYg:e,eId:f}){b*=c;if(d||e||a.canvas.z4a==="space-between")return b;const {width:g,height:h}=xg(4,f),{x:k,y:l}=Lj(f.zoom).transform(g,h);return Math.min(d?k:l,b)};uMs=function(a,b,c,d,e,f){const g=f?d.left:d.top;return d.TOg?-((g-e)*d.zoom)*(a.Ti?-1:1):a.getPosition(b,c,f)+g};wMs=function(a,b){a.Q9b.d7e(b);a.N.track(vMs,{kb:b,previous:a.store.enabled?"hidden":"shown",value:a.store.enabled?"shown":"hidden",Wp:0,Qr:0,Ey:0})};
yMs=function(a,b,c){if(a.viewport.ya!==b)return{width:0,height:0,units:c.units,top:0,left:0,zoom:a.viewport.zoom.scale,TOg:!0};b=xMs(a,b);b=a.viewport.jz().transform(b);return{width:b.width,height:b.height,units:c.units,top:b.tl.y,left:b.tl.x,zoom:a.viewport.zoom.scale,TOg:!0}};xMs=function(a,b){var c=a.viewport.ZN(b);b=a.viewport.jz().center();c=new xj(a.viewport.Rr.x*c*(a.Ti?-1:1),a.viewport.Rr.y*c);return Kj(-b.x,-b.y).then(Lj(1/a.viewport.zoom.scale)).then(Kj(c.x,c.y))};
zMs=function(a,b){return a.Ti?({width:a}=xg(4,b.dimensions||a.document.dimensions),Kj(-a,0)):Jj()};AMs=function(a){const b=a.view.freeze.jKa;b!=null&&(a.view.freeze.jKa=void 0,a.layout.HF.delete(b))};BMs=function(a){const b=a.view.freeze.Hza;b!=null&&(a.view.freeze.Hza=void 0,a.layout.yG.delete(b))};
EMs=function(a,b){const c=a.V.sb("freeze_clicked",{Fb:{name:"editor.editing.tabulating.freezing"}});switch(b.type){case "row":const f=b.sheet,g=b.qCl;for(var d of f.layout.cols){var e=f.layout.cells.get(g,d);({Ue:e}=e?e.span:{Ue:g});if(e!==g){const l=`${f.fK(g)+1}`,m=Xm(f.sK(d)),p=a.alert.Bq(()=>dV(CMs,{Lc:p,Oig:`${m}:${l}`}));c===null||c===void 0||c.ne();return}}AMs(f);d=a.Gb.qoa.generate();f.view.freeze.jKa=d;f.layout.HF.create(d,g);c===null||c===void 0||c.mb().nk(({Ii:l})=>{a.P.track(__c.Lah,{action:"frozen",
type:"row",j$c:f.fK(g)+1,xwc:{qt:f.layout.rows.count(),IK:f.layout.cols.count()},kb:"click",location:"context_menu",Rb:l()})});c===null||c===void 0||c.ne();break;case "column":const h=b.sheet,k=b.hCl;for(e of h.layout.rows)if(d=h.layout.cells.get(e,k),{Xe:d}=d?d.span:{Xe:k},d!==k){const l=`${h.fK(e)+1}`,m=Xm(h.sK(k)),p=a.alert.Bq(()=>dV(DMs,{Lc:p,Oig:`${m}:${l}`}));c===null||c===void 0||c.ne();return}BMs(h);d=a.Gb.qoa.generate();h.view.freeze.Hza=d;h.layout.yG.create(d,k);c===null||c===void 0||c.mb().nk(({Ii:l})=>
{a.P.track(__c.Lah,{action:"frozen",type:"column",j$c:h.sK(k)+1,xwc:{qt:h.layout.rows.count(),IK:h.layout.cols.count()},kb:"click",location:"context_menu",Rb:l()})});c===null||c===void 0||c.ne();break;default:throw new v(b);}};FMs=function(a){const b=a.sheet;switch(a.type){case "row":AMs(b);break;case "column":BMs(b);break;default:throw new v(a);}};HMs=function(a,b,c,d){if(b.rd(c)+c.height>d.hA.height){const e=a.alert.Bq(()=>dV(GMs,{Lc:e}))}};
JMs=function(a,b,c,d){if(b.Bd(c)+c.width>d.hA.width){const e=a.alert.Bq(()=>dV(IMs,{Lc:e}))}};KMs=function(a){pa(a.type==="row","Must be a row Freezable");return`${a.sheet.fK(a.qCl)+1}`};LMs=function(a){pa(a.type==="column","Must be a column Freezable");return Xm(a.sheet.sK(a.hCl))};
MMs=function(a,b,c,d,e,f){if(b.size>=1&&c.size===0){if(f=b.map(g=>g),f=f[f.length-1],!(e&&a.layout.rows.Yi(f,e)<=0))return[{type:"row",sheet:a,qCl:f}]}else if(c.size>=1&&b.size===0){if(e=c.map(g=>g),e=e[e.length-1],!(f&&a.layout.cols.Yi(e,f)<=0))return[{type:"column",sheet:a,hCl:e}]}else if(d.size>=1)return b=d.map(g=>g),c=b[b.length-1],b=c.row,c=c.column,d=[],e&&a.layout.rows.Yi(b,e)<=0||d.push({type:"row",sheet:a,qCl:b}),f&&a.layout.cols.Yi(c,f)<=0||d.push({type:"column",sheet:a,hCl:c}),d;return[]};
NMs=function(a,b,c){const d=[];b&&d.push({type:"row",sheet:a});c&&d.push({type:"column",sheet:a});return d};
RMs=function(a){const b=a.Ma,c=a.selection,d=a.vc,e=a.viewport,f=a.fd,g=a.P,h=a.alert,k=a.kh,l=a.Gb;a=a.Ga.Ud("editor.editing.tabulating.freezing");const m=new __c.xu,p=new OMs(c,d,e,f,b),q=new PMs(l,m,g,a,h);eV(()=>{var r;return((r=p.a_a)===null||r===void 0?0:r.sheet)?p.g5c(p.a_a.sheet):void 0},r=>{const t=p.a_a;t!=null&&r!=null&&HMs(q,t.sheet,r,t.nz)});eV(()=>{var r;return((r=p.a_a)===null||r===void 0?0:r.sheet)?p.f5c(p.a_a.sheet):void 0},r=>{const t=p.a_a;t!=null&&r!=null&&JMs(q,t.sheet,r,t.nz)});
k.kc(()=>b.mode===40&&(p.wCg&&p.wCg.length>0||p.Fsh&&p.Fsh.length>0),(r,t)=>{r.Tcj=t?{Button:fV(u=>dV(u.fl,{...u,label:L("4PewAQ"),Icon:QMs}))}:void 0});k.kc(()=>b.mode===40&&p.y5n,(r,t)=>{r.J7f=t?{Button:fV(u=>{const w=hV(()=>{oV(()=>EMs(q,t))},[]);return dV(u.fl,{...u,label:J("9f/slg",[KMs(t)]),onClick:w})})}:void 0});k.kc(()=>b.mode===40&&p.hmm,(r,t)=>{r.I7f=t?{Button:fV(u=>{const w=hV(()=>{oV(()=>EMs(q,t))},[]);return dV(u.fl,{...u,label:J("YzDnVw",[LMs(t)]),onClick:w})})}:void 0});k.kc(()=>b.mode===
40&&p.F5n,(r,t)=>{r.$$f=t?{Button:fV(u=>{const w=hV(()=>{oV(()=>FMs(t))},[]);return dV(u.fl,{...u,label:L("UfZC+Q"),onClick:w})})}:void 0});k.kc(()=>b.mode===40&&p.jmm,(r,t)=>{r.Z$f=t?{Button:fV(u=>{const w=hV(()=>{oV(()=>FMs(t))},[]);return dV(u.fl,{...u,label:L("ODcpjQ"),onClick:w})})}:void 0})};
UMs=function(a){const b=a.Ma,c=a.alert,d=a.Vi,e=a.kh,f=new SMs(a.selection,a.vc,d),g=new TMs(d,c);e.kc(()=>b.mode===40&&f.aun,(h,k)=>{h.w8f=k?{Button:fV(l=>dV(l.fl,{...l,Icon:__c.jrg,label:L("gFelzw"),onClick:()=>g.mergeCells(k)}))}:void 0});e.kc(()=>b.mode===40&&f.vGo,(h,k)=>{h.aag=k?{Button:fV(l=>dV(l.fl,{...l,Icon:__c.krg,label:L("maahjw"),onClick:()=>g.Yhd(k)}))}:void 0});return{cun:f}};
VMs=function(a){let b;switch(a.type){case "row":switch(a.direction){case "up":a=J("+dxZxg",[a.content.rows.length]);b=__c.LB;break;case "down":a=J("/cSxfw",[a.content.rows.length]);b=__c.au;break;default:throw new v(a);}break;case "column":switch(a.direction){case "left":a=J("JDPjyQ",[a.content.columns.length]);b=__c.vr;break;case "right":a=J("966Bew",[a.content.columns.length]);b=__c.wr;break;default:throw new v(a);}break;default:throw new v(a);}return{label:a,icon:b}};
WMs=function(a,b,c,d){if(d!=null){if(b.size>=1&&c.size===0){b=b.map(g=>g);c=a.rows.previous(b[0]);var e=a.rows.next(b[b.length-1]),f=c&&d.Dod(a,b,c,"before");d=e&&d.Dod(a,b,e,"after");return[f?{type:"row",direction:"up",content:{sheet:a,rows:b,target:c}}:null,d?{type:"row",direction:"down",content:{sheet:a,rows:b,target:e}}:null].filter(ub)}if(c.size>=1&&b.size===0)return b=c.map(g=>g),c=a.cols.previous(b[0]),e=a.cols.next(b[b.length-1]),f=c&&d.Bod(a,b,c,a.direction==="rtl"?"after":"before"),d=e&&
d.Bod(a,b,e,a.direction==="rtl"?"before":"after"),[f?{type:"column",direction:"left",content:{sheet:a,columns:b,target:c}}:null,d?{type:"column",direction:"right",content:{sheet:a,columns:b,target:e}}:null].filter(ub)}};
ZMs=function(a){const b=a.Ma,c=a.selection,d=a.vc,e=a.Vi,f=a.kh;a=a.Ga.Ud("editor.editing.tabulating.moving");const g=new XMs(c,d,e),h=new YMs(e,a);f.kc(()=>b.mode===40&&g.Avn,(k,l)=>{k.WWc=l?{Button:fV(m=>{const {label:p,icon:q}=VMs(l);return dV(m.fl,{...m,label:p,Icon:q,onClick:()=>h.uVk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.zvn,(k,l)=>{k.VWc=l?{Button:fV(m=>{const {label:p,icon:q}=VMs(l);return dV(m.fl,{...m,label:p,Icon:q,onClick:()=>h.uVk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.wvn,(k,l)=>
{k.UWc=l?{Button:fV(m=>{const {label:p,icon:q}=VMs(l);return dV(m.fl,{...m,label:p,Icon:q,onClick:()=>h.tVk(l)})})}:void 0});f.kc(()=>b.mode===40&&g.xvn,(k,l)=>{k.TWc=l?{Button:fV(m=>{const {label:p,icon:q}=VMs(l);return dV(m.fl,{...m,label:p,Icon:q,onClick:()=>h.tVk(l)})})}:void 0});return{Gsi:g}};
$Ms=function(a,b,c){if(c==null)return{type:5};const d=c.type;switch(d){case "number":return{type:0,value:c.value};case "boolean":return{type:2,value:c.value};case "plaintext":return{type:1,value:c.value.toString()};case "media":return{type:5};case "mention":return{type:1,value:c.value.map(f=>f.text).join(" ")};case "embed":return{type:1,value:c.value.map(f=>f.embed.text).join(" ")};case "text2":return{type:1,value:c.value.Ya};case "text3":const e=[];c.value.forEach({Ya:f=>e.push(f),item:()=>{throw Error();
},Al:()=>{}});return{type:1,value:e.join("")};case "formula":switch(c=a.vka.evaluate(b,c.value),c.type){case 0:return{type:0,value:c.value};case 2:return{type:1,value:c.value.toString()};case 1:return{type:2,value:c.value};case 3:return{type:4};case 15:return{type:5};case 4:return{type:3};case 16:return $Ms(a,b,c.value.f1b);default:throw new v(c);}default:throw new v(d);}};
cNs=function(a,b,c,d,e){const f=[],g=[];for(var h=c.Zb;h!=null&&b.rows.Yi(h,c.Ue)<=0;h=b.rows.next(h))g.push(h);for(h=c.dc;h!=null&&b.cols.Yi(h,c.Xe)<=0;h=b.cols.next(h))f.push(h);if(g.length===0||f.length===0)return{type:"success"};for(var k of g){var l;c=f[0];if((((l=b.layout.cells.get(k,c))===null||l===void 0?void 0:l.span)||{Zb:k,dc:c}).dc!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"};c=f[f.length-1];h=b.layout.cells.get(k,c);if(h!=null&&h.span.Xe!==c)return{type:"error",error:"MERGED_CELL_OUTSIDE_RANGE"}}let m=
[];const p=new __c.IB;l=new __c.IB;for(const z of g){var q;k=b.layout.cells.get(z,d);k=$Ms(a,b,k===null||k===void 0?void 0:(q=k.ref)===null||q===void 0?void 0:q.content.ref);c=[];for(const A of f){var r;if((h=b.layout.cells.get(z,A))&&h.span.Zb!==h.span.Ue){l.add([h.span.Zb,h.span.dc]);continue}p.add([z,A]);if(h&&(h.span.Zb!==z||h.span.dc!==A))continue;const B=b.layout.attrs.get(Ke.Gs,z,A)||{},D={};Ce(Ke,B,"all",(G,I)=>{aNs[I]||(D[I]=G)});c.push({rb:{content:(h===null||h===void 0?0:h.ref.content.ref)?
a.kqd(h.ref.content.ref):void 0,Bb:(h===null||h===void 0?0:(r=h.ref)===null||r===void 0?0:r.Bb.ref)?__c.LNc.snapshot(h.ref.Bb.ref):void 0,Hj:(h===null||h===void 0?void 0:h.ref.Hj)||[]},attrs:D,span:(h===null||h===void 0?void 0:h.span)||{Zb:z,dc:A,Ue:z,Xe:A}})}m.push({...k,X7r:{column:d,row:z},jTp:c})}if(l.size>0)return{type:"error",error:"CONTAINS_VERTICALLY_MERGED_CELL",fWa:l.map(([z,A])=>({row:z,column:A}))};const t=e==="asc"?1:-1;m.sort((z,A)=>bNs[z.type]<bNs[A.type]?-1*t:bNs[z.type]>bNs[A.type]?
1*t:z.type===1&&A.type===1?a.gn.compare(z.value,A.value,{numeric:!0})*t:z.type===0&&A.type===0?z.value===A.value?0:z.value>A.value?1*t:-1*t:z.type===2&&A.type===2?z.value===A.value?0:z.value?1*t:-1*t:0);d=m.filter(z=>z.type!==5);e=m.filter(z=>z.type===5);m=d.concat(e);const u=new Map,w=[],x=new Map;Cz(a.Vc,z=>{for(let N=0;N<g.length;N++){const M=g[N];for(const W of f){var A=b.layout.cells.get(M,W);(!A||A.span.Zb===M&&A.span.dc===W)&&A&&A.span.dc!==A.span.Xe&&a.Vi.Yhd(b,{column:W,row:M})}const {jTp:S,
X7r:Q}=m[N];for(const W of S){var B;A=W.rb;var D=W.attrs,G=W.span,I=G.dc;if(G.dc!==G.Xe){var K=[];for(const da of Kk(G.dc,G.Xe,b.layout.cols))K.push({column:da,row:M});w.push(K)}if((G=b.layout.cells.get(M,I))&&(G.span.Zb!==M||G.span.dc!==I))continue;K=A.content;const X={column:I,row:Q.row};G={column:I,row:M};let ba={};I=b.layout.attrs.get(Ke.Gs,M,I)||{};Ce(Ke,I,"all",(da,la)=>{ba[la]=aNs[la]?da:void 0});ba={...ba,...D};z.setAttributes(b,G,ba);D=a.AOb.qUc(A.Bb?__c.LNc.create(A.Bb):void 0);((B=A.content)===
null||B===void 0?void 0:B.type)==="formula"?(I=a.JCc(b,X,G))?(D=__c.D6q(a.IB,b,A.content.value),D=a.jba.kSd(b,D,I),u.set(G,D)):(z.XBb(b,G,K),z.q0(b,G,D)):(z.XBb(b,G,K),z.q0(b,G,D));x.set(G,[...A.Hj])}}},{A1b:z=>p.has([z.row,z.column])});Cz(a.Vc,z=>{for(const [A,B]of u.entries())z.kaa(b,A,__c.xhe(B.Pka))});for(var y of w)a.Vi.mergeCells(b,y);for(const [z,A]of x.entries())(y=b.layout.cells.get(z.row,z.column))&&y.span.dc===y.span.Xe&&y.span.Zb===y.span.Ue&&(A.length>0||y.ref.Hj.length>0)&&(y.ref.Hj=
A);return{type:"success"}};
fNs=function(a,b,c){if(c!=null)switch(c.type){case "success":break;case "error":switch(c.error){case "CONTAINS_VERTICALLY_MERGED_CELL":var d;const f=c.fWa;if(f.length===0)return;if(f.length>1){const m=a.alert.Bq(()=>dV(dNs,{Lc:m}));return}const {row:g,column:h}=c.fWa[0];var e;c=(e=(d=b.layout.cells.get(g,h))===null||d===void 0?void 0:d.span)!==null&&e!==void 0?e:{Zb:g,dc:h,Ue:g,Xe:h};d=`${b.fK(c.Zb)+1}`;let k=`${Xm(b.sK(c.dc))}${d}`;c.Zb!==c.Ue&&(d=`${b.fK(c.Ue)+1}`,b=Xm(b.sK(c.Xe)),k+=`:${b}${d}`);
const l=a.alert.Bq(()=>dV(eNs,{Lc:l,Oig:k}));break;case "MERGED_CELL_OUTSIDE_RANGE":break;default:throw new v(c);}break;default:throw new v(c);}};
gNs=function(a,b){switch(b.type){case 4:var c=b.cells;const d=b.rows,e=b.columns;return{type:"sheet",sheet:b.container.sheet.config,nz:new wA(b.container.container.Fw(b.container.sheet),a.fd,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case 1:if(((c=b.only)===null||c===void 0?void 0:c.type)==="sheet"&&(b.container.type==="body"||b.container.type==="responsive-page")){c=b.only.config.layout.rows;const f=b.only.config.layout.cols;return{type:"sheet",sheet:b.only.config,nz:new wA(b.container.Fw(b.only),
a.fd,a.viewport),rows:c.map(g=>g),cols:f.map(g=>g),cells:c.flatMap(g=>f.map(h=>({row:g,column:h})))}}break;case 0:if(b.container.type!=="sheet-item-cell-richtext")break;return{type:"sheet",sheet:b.container.container.sheet,nz:new wA(b.container.container.container.container.Fw(b.container.container.container.sheet),a.fd,a.viewport),rows:[],cols:[],cells:[{column:b.container.container.column,row:b.container.container.row}]};case 2:case 3:case 5:break;default:throw new v(b);}};
hNs=function(a,b){var c;const d=a.Voe;if(d==null)return"default";var e=(c=a.Vi.zwa(d.sheet))===null||c===void 0?void 0:c.range;if(e==null)return"default";c=d.sheet;if(!c.layout.rows.has(e.Zb)||!c.layout.rows.has(e.Ue))return"default";let f;var g;for(const h of Kk((g=c.layout.rows.next(e.Zb))!==null&&g!==void 0?g:e.Zb,e.Ue,c.layout.rows))if(e=c.layout.cells.get(h,b),e!=null&&e.span.Zb===h&&e.span.dc===b){a:if(e=a.Wya.getContent(c,e.span.Zb,e.span.dc),e==null)e="default";else switch(e=e.VC,e.type){case 1:e=
"number";break a;case 2:e="date";break a;case 3:case 4:case 0:case 9:case 6:case 7:case 8:e="default";break a;default:throw new v(e);}if(f&&e!==f){f="default";break}f=e}return f!==null&&f!==void 0?f:"default"};
kNs=function(a,b){const c=b.container;if(!b.elements.some(d=>a.vc.Wq({element:d,container:c}))){if(!b.inner)return iNs(a,b);switch(b.inner.type){case "sheet":return jNs(a,b.inner);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(b.inner);}}};
lNs=function(a,b){if(b.inner&&!$l(a.vc,b.container.tb(b.inner.page)))switch(b.inner.type){case "sheet":const c=b.inner.cells,d=b.inner.rows,e=b.inner.columns;return{type:"sheet",sheet:b.inner.page.sheet,nz:new uA(b.container.tb(b.inner.page),a.viewport,a.Ma),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)};case "background":case "pages":case "sheet-cell-media":break;default:throw new v(b.inner);}};
iNs=function(a,b){var c;if(((c=b.Nd)===null||c===void 0?void 0:c.type)==="sheet"){c=b.Nd.config.layout.rows;var d=b.Nd.config.layout.cols;return{type:"sheet",sheet:b.Nd.config,nz:new tA(b.container.Sf(b.Nd),a.viewport),cells:c.flatMap(e=>d.map(f=>({row:e,column:f}))),rows:c.toArray(),cols:d.toArray()}}};jNs=function(a,b){const c=b.cells,d=b.rows,e=b.columns;return{type:"sheet",sheet:b.sheet.config,nz:new tA(b.container,a.viewport),cells:c.map(f=>f),rows:d.map(f=>f),cols:e.map(f=>f)}};
mNs=function(a){if(!a)return"#000000";const b=bi(a);return Ji(["#000000","#ffffff"],c=>__c.uj(c,b))};
tNs=function(a){const b=a.Ma,c=a.gn,d=a.selection,e=a.canvas,f=a.vc,g=a.viewport,h=a.fd,k=a.kh,l=a.Cd,m=a.alert,p=a.P,q=a.Vc,r=a.AOb,t=a.Vi,u=a.Wya,w=a.vka,x=a.IB,y=a.jba;a=a.Ga.Ud("editor.editing.tabulating.sorting");const z=new nNs(new oNs(c,w,x,y,q,r,t),t,m,p,a),A=fV(({column:K})=>{var N,M;const S=B.Voe,Q=S?(N=t.zwa(S.sheet))===null||N===void 0?void 0:N.range:void 0;N=hV(()=>{Q&&S&&oV(()=>{z.bWi({type:"sheet",sheet:S.sheet,vdg:K,range:Q},{c4j:!0});B.yEf=K})},[K,Q,S]);const W=hV(()=>{Q&&S&&oV(()=>
{z.cWi({type:"sheet",sheet:S.sheet,vdg:K,range:Q},{c4j:!0});B.yEf=K})},[K,Q,S]),X=hV(()=>hNs(B,K),[K]),ba=hV((la,ka)=>{oV(()=>z.Gnl(B,la,ka))},[]);if(Q!=null){var da=S===null||S===void 0?void 0:(M=S.sheet.layout.attrs.get(Ke.Gs,Q.Zb,K))===null||M===void 0?void 0:M.B_;return dV(pNs,{Vki:B.yEf===K,bgColor:da,DOq:B.yEf===K,DVq:X,NFh:B.NFh,Gnl:ba,hQr:N,nQr:W})}}),B=new qNs(d,f,g,h,b,t,u),D=new rNs(B,t);e.kc(()=>b.mode===40,(K,N)=>{K.yg.$ua=N?fV(M=>{const S=B.Voe;if(S!=null){var Q=D.gZf;if(Q!=null)return dV(sNs,
{gZf:Q,nz:S.nz,t0a:A,page:M.page.page})}}):void 0});e.kc(K=>K===40,(K,N)=>{K.wn.cM.$ua=N?fV(()=>{const M=B.Voe;if(M!=null){var S=D.gZf;if(S!=null)return dV(sNs,{gZf:S,nz:M.nz,t0a:A,page:void 0})}}):void 0});k.kc(()=>b.mode===40?B.Sue:void 0,(K,N)=>{K.U9f=N?{Button:fV(M=>{const S=hV(()=>oV(()=>{z.E0i(B,{Q4m:!0})}),[]);return dV(M.fl,{...M,label:L("5vDH2g"),Icon:__c.ubr,onClick:S})})}:void 0});const G=mV(()=>B.Sue!=null&&t.zwa(B.Sue.sheet)!=null),I={Qd:()=>b.mode===40?B.Sue!=null:!1,Button:fV(K=>{const N=
K.onClick,M=hV(()=>oV(()=>{N===null||N===void 0||N();z.E0i(B,{Q4m:!0})}),[N]);return dV(K.zi,{...K,onClick:M,yh:"icon",selected:G.get(),icon:__c.ubr,tooltip:L("5vDH2g"),ECa:L("5vDH2g")})})};l.plugins.$ua=()=>I};vNs=function(a,b,c){c&&(a.D_i=Sb());a.N.track(uNs,{source:b,Ulr:c,D_i:a.D_i})};xNs=function(a,{qui:b,tki:c,pui:d,vui:e,uui:f,sui:g,tui:h,GCf:k,UKi:l},m){bp({mb:m,P:a.N,event:wNs,props:{qui:b,tki:c,pui:d,vui:e,uui:f,sui:g,tui:h,GCf:k,UKi:l}})};
yNs=function(a){const b={text:new Set,shape:new Set,table:new Set,line:new Set,"responsive-table-text":new Set,"responsive-layout-text":new Set,"responsive-text":new Set,"responsive-inline-item":new Set};a.filter(c=>c.type==="richtext2"||c.type==="richtext3").forEach(({item:c})=>b[c.type].add(c.Oc));return{XDl:b.text.size+b["responsive-text"].size,Tbu:b["responsive-inline-item"].size,UBl:b.table.size+b["responsive-table-text"].size,grl:b.shape.size,uih:a.filter(c=>c.type==="sheet-cell").length}};
zNs=function(a,b,c,d){b=b.map(e=>({index:e,length:c}));a.Pab(b,d)};BNs=function(a,b,c,d){if(!b.length)return a;b=[...b].sort((k,l)=>k-l);ANs(a.length,b,c);let e=0,f="";const g=k=>{f+=k;e+=k.length};let h;for(;(h=b.shift())!=null;)g(a.slice(e,e+(h-e))),f+=d,e+=a.slice(e,e+c).length;g(a.slice(e,e+(a.length-e)));ta(e===a.length);return f};
CNs=function(a,b,c,d){if(!b.length)return a;a=Lg.zvb(a);ta(!d.includes("\n"));b=[...b].sort((m,p)=>m-p);ANs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=Lg.ld(),h={...de,Ya:(m,p)=>{g.attrs(p);g.Xb(m);e+=m.length}},k={...de,Ya:(m,p)=>{ta(!m.includes("\n"));g.attrs(p);e+=m.length}};let l;for(;(l=b.shift())!=null;)f.nt(l-e,h),f.nt(1,k),g.Xb(d),f.nt(c-1,k);f.nt(a.length-e,h);f.finish();return g.build()};
DNs=function(a,b,c,d){if(!b.length)return a;a=cl.zvb(a);ta(!d.includes("\n"));b=[...b].sort((m,p)=>m-p);ANs(a.length,b,c);let e=0;const f=a.cursor(a.length),g=cl.ld(),h={item:(m,p)=>{g.attrs(p);g.item(m);e+=1},Ya:(m,p)=>{g.attrs(p);g.Xb(m);e+=m.length}},k={item:(m,p)=>{g.attrs(p);ta(m.display!==1);e+=1},Ya:(m,p)=>{ta(!m.includes("\n"));g.attrs(p);e+=m.length}};let l;for(;(l=b.shift())!=null;)f.nt(l-e,h),f.nt(1,k),g.Xb(d),f.nt(c-1,k);f.nt(a.length-e,h);f.finish();return g.build()};
ANs=function(a,b,c){const d=[...b].sort((e,f)=>e-f);pa(c>0);pa(d.slice(0,-1).every((e,f)=>e+c<=d[f+1]));pa(d[0]>=0);pa(d[d.length-1]+c<=a)};ENs=function(a,b){switch(b.type){case "formula":case "media":case "mention":case "embed":break;case "boolean":case "number":case "plaintext":return(c,d,e,f)=>{d=BNs(a.duc,d,e,f);c.rGa(a.sheet,{row:a.container.row,column:a.container.column},d,{MRe:"merge",xRe:!1})};default:throw new v(b);}};FNs=function(a){return a.type==="sheet-cell"&&a.item.mZa.type==="responsive-page"};
GNs=function(a){return a.type==="sheet-cell"&&a.item.mZa.type==="fixed-page"};HNs=function(a){let b;return(...c)=>{b==null&&(b=new Map,setTimeout(()=>b=void 0,0));const d=c[0];let e=b.get(d);if(e!=null)return e;e=a(...c);b.set(d,e);return e}};INs=function(a){if(a.container.type==="fixed-page")return __c.aWa(a.ia);var b=a.container.ia;b=Lj(b.width/b.eb).then(dk(Vj(b)));return Vj(a.ia).transform(b).Mb()};JNs=function(a){const b=dk(a.DAa());a=dk(Vj(a.el.ia));return b.then(a)};
MNs=function(a){return new KNs(new LNs(a.yGd,a.viewport),{pvm:100})};NNs=function(a,b){return a==null||b==null?!1:a.type==="sheet-cell"?b.type==="sheet-cell"&&a.item.equals(b.item):b.type==="sheet-cell"?!1:a.item.Oc===b.item.Oc&&a.startIndex===b.startIndex};ONs=function(a){if(a.Rae!=null){var b=a.Rae.match;a.Rae=void 0;var c=a.now();a.iog={match:b,wDq:c+a.mph(b)};a.wwn.navigateTo(b);a.setTimeout(()=>{var d;NNs((d=a.iog)===null||d===void 0?void 0:d.match,b)&&(a.iog=void 0)},a.mph(b))}};
PNs=function(a){var b=a.store;const c=a.matches;if(c.length===0)return b.t6h=void 0,0;var d=a.now();d=b.t6h==null||d-b.t6h.BEf>1E4?{BEf:d,Pe:a.viewport.mh}:{Pe:b.t6h.Pe,BEf:d};b.t6h=d;a=a.document.pages.flatMap(g=>{switch(g.type){case "fixed":return[g];case "concatenated-fixed":return g.pages.toArray();case "responsive":return[g];default:throw new v(g);}});a=new Map(a.map((g,h)=>{pa(g.id!=null);return[g.id,h]}));d=a.get(n(d.Pe.ia.id));if(d==null)return 0;let e;b=!1;for(let g=0;g<c.length;g++){var f=
c[g];FNs(f)?(pa(f.item.mZa.type==="responsive-page"),f=n(f.item.mZa.ia.id)):f.type==="richtext3"?(f=__c.yf(f.container),pa(f.type==="responsive-page"),f=n(f.ia.id)):f=n(f.item.type==="sheet-cell"?f.item.mZa.ia.id:f.item.page.ia.id);f=a.get(f);if(!(f==null||f<d-1))if(f===d-1)b||(e=g,b=!0);else if(f===d){e=g;break}else if(f>=d+1){e==null&&(e=g);break}}return e!==null&&e!==void 0?e:0};RNs=function(a,b){var c;const d=(c=a.store.Hx)!==null&&c!==void 0?c:0;a.mBg(b);a.uy.N.track(QNs,{Epi:a.pJa,zqn:d,Aqn:b})};
SNs=function(a,b,c,d){switch(b.type){case "text":var e=INs(b.el);e={x:e.left,y:e.top};break;case "table":e=JNs(b).transformPoint({x:0,y:0});break;case "shape":e=INs(b.el);b=b.el.ia.ed.first().box;e={x:e.left+b.left,y:e.top+b.top};break;case "line":e=INs(b.el);b=new __c.Qn(a.se,b.el.ia);b=n(b.textBox);e={x:e.left+b.tl.x,y:e.top+b.tl.y};break;case "sheet-cell":e=Zj(0,[b.Lig]).tl;break;default:throw new v(b);}return e.y*c+(d?c-e.x:e.x)};
TNs=function(a){let b=0;return a.Ya.slice(0,-1).split("\n").map(c=>{const d=a.jJ(b)["text-transform"];b+=c.length+1;switch(d){case "uppercase":return c.toUpperCase();case "lowercase":return c.toLowerCase();case "capitalize":return c;case "none":case void 0:return c;default:throw new v(d);}}).join("\n")+"\n"};
UNs=function(a,b,c){if(a.length===b.length)return a;a=[...a];const d=[];for(;a.length;){if(!b.length)throw Error("More CharacterItems than grapheme clusters");var e=n(a.shift());const f=b.shift();if(e.character===f)d.push(e);else{let g=e.character;for(e=[e];g!==f;){const h=n(a.shift());g+=h.character;e.push(h)}d.push(c(e,g))}}return d};
VNs=function(a,b){if(b.every(f=>f.length===1))return a;let c,d,e=0;for(let f=0;f<b.length;f++){const g=e+b[f].length;a.from>=e&&a.from<g&&(c=f);if(a.to>=e&&a.to<=g){d=f;break}e=g}return{from:n(c),to:n(d)+1}};WNs=function(a,b,c=jm(b)){b=Array.from(b).map((e,f)=>({box:a.get(f),character:e}));c=UNs(b,c,(e,f)=>{e=e.map(g=>g.box).filter(ub);return{character:f,box:e.length?Zj(e[0].rotation,e):void 0}});const d=new Map;c.forEach((e,f)=>{e.box&&d.set(f,e.box)});return d};
bOs=function({item:a,BTp:b,mEp:c}){var d=a.Oc.Ya;if(!(b.to-b.from<=0)){var e=jm(d);b=VNs(b,e);var f=XNs(e,c,b);if(f!=null&&f.length!==0){var g=UNs([...d].map((q,r)=>({character:q,indices:new Set([r])})),e,(q,r)=>{const t=new Set;for(const {indices:u}of q)for(const w of u)u.add(w);return{character:r,indices:t}});if(f.length!==b.to-b.from)throw Error("number of character boxes should be equal to the grapheme slice range length");d=[];e=[];for(let q=b.from,r=0;q<b.to;q++,r++){const t=a.Oc.jJ([...g[q].indices][0]),
u=f[r];if(u!=null){d.push(u);var h;e.push((h=t.direction)!==null&&h!==void 0?h:"ltr")}var k;var l=(k=t["font-size"])!==null&&k!==void 0?k:l}if(d.length!==0&&(h=new YNs,k=new ZNs(h),h=a.V4d?k.zkf(d,a,e):h.zkf(d,a.writingMode,e))){switch(a.type){case "text":var m,p;k={width:(m=a.el.ia.eb)!==null&&m!==void 0?m:a.el.ia.width,height:(p=a.el.ia.Ub)!==null&&p!==void 0?p:a.el.ia.height};break;case "table":m=a.DAa();k={width:m.width,height:m.height};break;case "shape":m=a.el.ia.ed.first();k={width:m.box.width,
height:m.box.height};break;case "line":m=a.el.ia.ed.first();k={width:m.width,height:m.height};break;default:throw new v(a);}return{path:h,transform:$Ns(a,()=>Zj(0,[...c.values()]).height),viewBoxSize:k,fontSize:aOs(l!==null&&l!==void 0?l:He.Ff["font-size"],a.el)}}}}};aOs=function(a,b){const c=b.ia;b=b.container;b=b.type==="fixed-page"?void 0:b.ia;return a*(c.type==="shape"||c.type==="line"?c.width:c.eb?c.width/c.eb:1)*(b?b.width/b.eb:1)};
$Ns=function(a,b){switch(a.type){case "text":b=a.el.ia;var c=a.el.container,d=c.type==="fixed-page"?void 0:c.ia;c=b.eb?b.width/b.eb:1;a=d?d.width/d.eb:1;b=dk(Vj(b));d=d?dk(Vj(d)):Jj();return Lj(c).then(b).then(Lj(a)).then(d);case "table":c=a.rb.ia;b=b();d=a.DAa().height;var e=Jj();c.$i===2?e=Kj(0,d/2-b/2):c.$i===3&&(e=Kj(0,d-b));return e.then(JNs(a));case "shape":c=a.el.ia;a=a.el.container;e=a.type==="fixed-page"?void 0:a.ia;a=dk(Vj(c));d=e?e.width/e.eb:1;e=e?dk(Vj(e)):Jj();const f=c.ed.first(),g=
f.box,h=c.width/g.width;let k=Jj();f.$i===2?k=Kj(0,c.height/2-b()/2):f.$i===1?k=Kj(0,g.top*h):f.$i===3&&(k=Kj(0,c.height-b()-g.top*h));return k.then(Kj(g.left*h,0)).then(a).then(Lj(d)).then(e);case "line":return b=a.el.container,b=(c=b.type==="fixed-page"?void 0:b.ia)?c.width/c.eb:1,a=dk(Vj(a.el.ia)),c=c?dk(Vj(c)):Jj(),Lj(b).then(a).then(c);default:throw new v(a);}};XNs=function(a,b,c){const d=[];for(let e=c.from;e<c.to;e++){const f=b.get(e);if(f==null&&!cOs.has(a[e]))return;d.push(f)}return d};
eOs=function(a,b,c){const d=[[a[0]]];for(let e=1;e<a.length;e++){const f=d[d.length-1],g=a[e],h=dOs(g,b),k=dOs(f[f.length-1],b),l=c[e]==="ltr";c[e]!==c[e-1]||l&&h<k||!l&&h>k?d.push([g]):f.push(g)}return d.map(e=>Zj(0,e))};fOs=function(a){return __c.te(a.map(b=>[new __c.Wk(0,b.tl),new Xk(0,b.En),new Xk(0,b.br),new Xk(0,b.tr),new __c.Fn(0)]).flat())};dOs=function(a,b){return b===1?a.tl.x:a.tl.y};
gOs=function(a,b,c){const d=(g,h)=>{g=Aj(g,h);return g.y/g.x},e=__c.Fj(.5,Dj(a,b));a=-1/d(a,b);const f=__c.Fj(.5,Dj(b,c));b=-1/d(b,c);if(!Number.isFinite(a)||!Number.isFinite(b)){if(Number.isFinite(a)&&Number.isFinite(b))throw Error("points are on a straight line");throw Error("two points are not unique");}b=(b*f.x-a*e.x+e.y-f.y)/(b-a);return{x:b,y:a*(b-e.x)+e.y}};hOs=function(a,b){return Math.atan2(a.y-b.y,a.x-b.x)};
jOs=function(a,b){let c=0;var d=iOs(hOs(a[0].c,b)*180/vj);for(let e=1;e<a.length;e++){const f=iOs(hOs(a[e].c,b)*180/vj),g=Math.min(f,d);d=Math.max(f,d);c+=Math.abs(Math.min(d-g,g+360-d));d=f}return c};iOs=function(a){a=TVa(a);return a<0?360-Math.abs(a):a};kOs=function(a){var b,c;if(a=(c=a.Sk)===null||c===void 0?void 0:(b=c.Kc)===null||b===void 0?void 0:b.first(d=>d.type==="curved"))return Number(a.parameters.get("curvature"))};
mOs=function(a,b,c,d){var e=(c<0?360+c:c)%360;if(e%90<.01)return Math.abs(e-0)<.01?b:Math.abs(e-180)<.01?Wj({center:b.c,width:b.width,height:b.height,rotation:e}):Wj({center:b.c,width:b.height,height:b.width,rotation:e});var f=e-90;f=a.jPf((f<0?360+f:f)%360);a=a.jPf(e);if(Math.abs(e%45)<.01&&Math.abs(b.width-b.height)<.1)if(d===null||d===void 0?0:d.XKm)f=d.XKm(),e=wj(45+e%45),e={width:Math.abs((b.height-Math.sin(e)*f)/Math.cos(e)),height:f};else if(d===null||d===void 0?0:d.YKm)f=d.YKm(),e=wj(45+e%
45),e={width:f,height:Math.abs((b.width-Math.sin(e)*f)/Math.cos(e))};else throw Error("expected a sizeHint");else{d=b.width/2;const g=b.height/2;e=Math.abs(Math.floor(e/90))%2===1?{width:Math.abs(lOs(f,a,g,d)),height:Math.abs(lOs(f,a,d,g))}:{width:Math.abs(lOs(f,a,-g,d)),height:Math.abs(lOs(f,a,-d,g))}}return Wj({center:b.c,width:e.width,height:e.height,rotation:c})};lOs=function(a,b,c,d){const e=b.y;b=-b.x;return(-b*d/e+c)/(-b*a.y/e+a.x)*2};
nOs=function(a,b){return UNs(a,b,(c,d)=>{const e=Zj(0,c.map(f=>f.boundingBox));return{character:d,boundingBox:e,V3j:c[0].V3j}})};oOs=function(a,b){b.innerHTML="";a.forEach(({i5q:c,focused:d})=>{const e=window.document.createElementNS("http://www.w3.org/2000/svg","svg");Object.assign(e.style,{position:"absolute",top:0,left:0,overflow:"visible"});const f=c.viewBoxSize;e.setAttribute("viewBox",`0 0 ${f.width} ${f.height}`);e.innerHTML=`<path fill="${d?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)"}"
    d="${c.path}"></path>`;b.appendChild(e)})};rOs=function({canvas:a,Wba:b,store:c,L:d,viewport:e,Jjh:f,errorService:g}){pOs({Wba:b,store:c,L:d,viewport:e,Jjh:f,errorService:g});const h=fV(({page:{page:k},Pc:{scale:l}})=>dV(qOs,{matches:d.Fpi.filter(m=>GNs(m)).filter(m=>m.item.mZa.ia===k),scale:l}));a.kc(()=>f.get(),(k,l)=>{k.yg.Tcf=l?h:void 0})};
sOs=function(a){a=[...a].sort((d,e)=>d-e);const b=[];let c=[a[0]];for(let d=1,e,f;d<a.length;d++)e=a[d],f=c[c.length-1],f===e-1?c[1]=e:(b.push(c),c=[e]);b.push(c);return b};xOs=function({store:a,document:b,h2b:c,undo:d,errorService:e,uy:f,V:g,la:h,Vc:k}){return new tOs(a,c,b,void 0,d,e,f,g,uOs(h),vOs({Vc:k}),wOs({$dc:c,Vc:k}))};
yOs=function({Zc:a,Pi:b}){return({item:c,o9c:d,tNb:e,VZ:f})=>{zNs(c.Oc,d,e,f);switch(c.type){case "text":d=c.el.ia;c=c.el.container;c.type==="fixed-page"?a.GY(c,d):a.M3(c.container,c.ia,[d]);break;case "table":c=c.el.ia;d=__c.eo(b,c.cells.values());a.R_b(c,d);d.destroy();break;case "shape":d=c.el.ia;c=c.el.container;c.type==="fixed-page"?a.Fia(d):a.M3(c.container,c.ia,[d]);break;case "line":d=c.el.ia;c=c.el.container;(e=d.ed.first())&&e.text.charLength<=1&&d.ed.delete(e);c.type==="fixed-page"?a.BNb(d):
a.M3(c.container,c.ia,[d]);break;default:throw new v(c);}}};
zOs=function({vdl:a,Vc:b}){return({match:c,tNb:d,VZ:e})=>{if(c.type==="richtext3"||FNs(c))if(c.type==="sheet-cell"){const f=c.item,g=c.o9c;b===null||b===void 0||Cz(b,h=>{var k;return(k=f.replace)===null||k===void 0?void 0:k.call(f,h,g,d,e)})}else ta(c.item.type!=="responsive-inline-item"),c.item.replace(e);else if(c.type==="sheet-cell"){const f=c.item,g=c.o9c;b===null||b===void 0||Cz(b,h=>{var k;return(k=f.replace)===null||k===void 0?void 0:k.call(f,h,g,d,e)})}else a({item:c.item,o9c:[c.startIndex],
tNb:d,VZ:e})}};
AOs=function({vdl:a,Vc:b,$dc:c}){return({matches:d,tNb:e,VZ:f})=>{ta(d.length>0);const g=d.filter(l=>l.type==="richtext2"),h=d.filter(l=>GNs(l));[...__c.rj(g,({item:l})=>l.Oc).values()].forEach(l=>a({item:l[0].item,o9c:l.map(m=>m.startIndex),tNb:e,VZ:f}));h.length>0&&(b===null||b===void 0||Cz(b,l=>{for(const p of h){var m;const q=p.item,r=p.o9c;(m=q.replace)===null||m===void 0||m.call(q,l,r,e,f)}}));c.replaceAll(f);const k=d.filter(l=>FNs(l));k.length>0&&(b===null||b===void 0||Cz(b,l=>{for(const p of k){var m;
const q=p.item,r=p.o9c;(m=q.replace)===null||m===void 0||m.call(q,l,r,e,f)}}))}};vOs=function({Vc:a}){return({match:b,tNb:c,VZ:d})=>{if(b.type==="sheet-cell"){const e=b.item,f=b.o9c;a===null||a===void 0||Cz(a,g=>{var h;return(h=e.replace)===null||h===void 0?void 0:h.call(e,g,f,c,d)})}else ta(b.item.type!=="responsive-inline-item"),b.item.replace(d)}};
wOs=function({$dc:a,Vc:b}){return({matches:c,tNb:d,VZ:e})=>{a.replaceAll(e);const f=c.filter(g=>g.type==="sheet-cell");f.length>0&&(b===null||b===void 0||Cz(b,g=>{for(const k of f){var h;const l=k.item,m=k.o9c;(h=l.replace)===null||h===void 0||h.call(l,g,m,d,e)}}))}};uOs=function(a){return b=>{switch(b.type){case "replace-all":b=b.rqh===1?L("tjFCqA"):J("8IJfUQ",[b.rqh]);break;case "replace-some":b=J("KysOJA",[b.rqh,b.rqh-b.YBo,b.YBo]);break;default:throw new v(b);}a.Ib({SV:!1,Cb:b})}};
COs=function(a,b,c){const d=[];for(const f of b.wCj)switch(f.type){case "indices":d.push({...f,zUf:b,Gsk:void 0,mZa:c});break;case "inline-item-indices":d.push({...f,type:"indices",zUf:b,Gsk:f.item,mZa:c});break;case "table-item":var e=f.container.ia;for(const h of BOs(e))(e=a.Z8g.Xob(h.content.text))&&d.push(...COs(a,e,c));break;case "layout-item":const g=f.container.ia;e=__c.pXd(g).map(h=>n(g.cells.get(h)));for(const h of e)(e=a.Z8g.Xob(h.text))&&d.push(...COs(a,e,c));break;case "sheet-cell":d.push(f);
break;default:throw new v(f);}return d};
EOs=function(a){const b=[];if(a.type==="sheet-cell")return b.push(a),b;for(const e of a.indices){var c,d;const f=h=>a.zUf.replace(e,h);let g;g=a.Gsk?{type:"responsive-inline-item",Ja:"responsive",item:a.Gsk,replace:void 0,Oc:a.zUf.$Ni}:((c=a.container)===null||c===void 0?void 0:c.type)==="table-item-cell"?{type:"responsive-table-text",Ja:"responsive",item:a.container.table,replace:f,Oc:a.zUf.$Ni}:((d=a.container)===null||d===void 0?void 0:d.type)==="layout-item-cell"?{type:"responsive-layout-text",
Ja:"responsive",item:a.container.layout,replace:f,Oc:a.zUf.$Ni}:{type:"responsive-text",Ja:"responsive",item:DOs,replace:f,Oc:a.zUf.$Ni};b.push({type:"richtext3",startIndex:e,length:g.type==="responsive-inline-item"?1:void 0,container:a.container,item:g,mZa:a.mZa})}return b};FOs=function(a,b){return!a.LTf.vah&&Object.entries(b).some(([c,d])=>__c.Re(c)&&d==="add")};
BOs=function(a){const b=[...a.layout.columns];a.layout.direction===2&&b.reverse();const c=new Set;for(const e of a.layout.rows)for(const f of b){var d=e.sp.get(f.id);(d=d&&a.cells.get(d))&&c.add(d)}return[...c]};
HOs=function({store:a,canvas:b,viewport:c,VLq:d,$dc:e}){const f=fV(g=>{let h=[];g.page.type==="responsive-page"&&(c.FF||c.jh)&&d?h=d.pHk(g.page):g.page.type==="body"&&c.FF&&(h=e.pPe);return kV(rV,{children:[dV(GOs,{matches:h.filter(k=>k.type==="richtext3")}),dV(qOs,{matches:h.filter(k=>k.type==="sheet-cell"),scale:b.wn.zoom})]})});b.kc(()=>a.isMounted,(g,h)=>{g.wn.cM.aDh=h?f:void 0})};
KOs=function({store:a,L:b,nAr:c,errorService:d,Rc:e,Nhj:f,Rej:g}){const h=u=>b.BB(u),k=()=>b.P9j(),l=()=>b.T9j(),m=fV(()=>{const u=b.pJa,w=u>1,x=a.Hx,y=zV(()=>{if(u!==0)return x!=null?x+1:"?"},[u,x]);return dV(IOs,{fzs:y,mMr:b.pJa,search:a.query,GEs:h,kbi:k,tZq:l,Mbd:!w,ysc:!w})}),p=mV(()=>b.pJa>0&&a.isMounted),q=fV(()=>{iV(()=>{e();b.Rc();c.Rc();return()=>{b.ki();c.ki()}},[]);const u=b.tkh?g===null||g===void 0?void 0:g.get():void 0;return kV(rV,{children:[dV(m,{}),b.tkh&&f&&dV(f,{}),u&&dV(u,{})]})}),
r=u=>d.error(u),t=FV(()=>dV(__c.iu,{Uu:r,children:dV(q,{})}));return{Form:fV(({mode:u,onClose:w,source:x})=>{iV(()=>{b.oHl(x,!0);return()=>b.oHl(x,!1)},[x]);return dV(JOs,{T$i:t,onClose:w,mode:u,title:b.tkh?L("TP6Mzw"):L("+MHgZQ")})}),Jjh:p}};
POs=function({store:a,L:b,locale:c,ka:d}){const e=(l,m)=>b.ugo(m),f=LOs.includes(c)?void 0:fV(()=>dV(MOs,{checked:a.wYb,onChange:e})),g=l=>b.mio(l),h=()=>b.p1n(),k=()=>b.replaceAll();c=fV(()=>dV(NOs,{replace:a.replaceWith,$Ya:h,xzi:k,wEs:g,Lhp:d.layout===1?f:void 0,Drs:b.n1n,zrs:b.k1n}));return{Rej:mV(()=>{const l=b.onn;if(l!=null)return FV(()=>dV(OOs,{state:l,GUg:a.query}))}),Nhj:c}};
QOs=function({L:a,o_e:b,tas:c,viewport:d}){var e=()=>a.fPb();const f={SN:mV(()=>a.SN),Amb:mV(()=>a.Amb),Vmd:mV(()=>a.Vmd),Wed:mV(()=>a.Wed),kge:mV(()=>a.kge),hpb:k=>a.hpb(k),iAi:k=>{a.nG(c.MUc,k);a.Shb(a.ya,k)},R$c:k=>a.Shb(a.ya,k),$$c:e,qqe:()=>a.qqe(d.ya),kJn:()=>oV(()=>a.Vmd=!a.Vmd),lJn:k=>{a.nG(c.MUc,k.type);var l;a.Vmd&&a.qqe((l=a.ya)===null||l===void 0?void 0:l.page);a.Shb(a.ya,k.type)}};e={SN:mV(()=>b.SN),Amb:mV(()=>b.Amb),Vmd:mV(()=>!1),Wed:mV(()=>!1),kge:mV(()=>b.kge),hpb:()=>!1,iAi:k=>b.nG(c.p8e,
k),R$c:k=>{b.Shb(k)},$$c:e,qqe:()=>{},kJn:()=>{},lJn:k=>{b.nG(c.p8e,k.type);b.Shb(k.type)}};const g={SN:mV(()=>a.SN),directions:mV(()=>a.directions),origins:mV(()=>a.origins),ra:mV(()=>a.ra),z9a:()=>{var k;return a.z9a((k=a.ya)===null||k===void 0?void 0:k.page)},eCb:k=>a.Gko(c.MUc,k),idc:k=>a.idc(a.ya,k),kdc:k=>a.kdc(a.ya,k),Shb:k=>a.Shb(a.ya,k),fPb:()=>a.fPb()},h={SN:mV(()=>b.SN),directions:mV(()=>b.directions),origins:mV(()=>b.origins),ra:mV(()=>b.ra),z9a:()=>b.z9a(b.ura),eCb:k=>b.Fko(c.p8e,k),
idc:k=>b.idc(b.ura,k),kdc:k=>b.kdc(b.ura,k),Shb:k=>b.Shb(k),fPb:()=>a.fPb()};return{Geq:f,yZs:e,hFs:g,zZs:h}};$Os=function(a){switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "chop":return ROs;case "color-wipe":return SOs;case "cross-dissolve":return TOs;case "flow":return UOs;case "match":return VOs;case "slide":return WOs;case "stack":return XOs;case "wipe-circle":return YOs;case "wipe-line":return ZOs;default:throw new v(a);}};
fPs=function(a){switch(a){case "chop":return[{name:"clockwise",label:L("7OUI9Q"),icon:aPs,value:1},{name:"anticlockwise",label:L("tDA4Pg"),icon:bPs,value:2}];case "color-wipe":return[{name:"left",label:L("jukJIg"),icon:yr,value:2},{name:"right",label:L("ON4niA"),icon:Yt,value:4},{name:"up",label:L("lIXrbw"),icon:OC,value:1},{name:"down",label:L("Nbt2Wg"),icon:O5g,value:3},{name:"up_left",label:L("xA+43A"),icon:cPs,value:5},{name:"up_right",label:L("wDxSNg"),icon:__c.m7g,value:6},{name:"down_right",
label:L("S6doUg"),icon:dPs,value:8},{name:"down_left",label:L("cU2POw"),icon:ePs,value:7}];case "flow":return[{name:"left",label:L("jukJIg"),icon:yr,value:2},{name:"right",label:L("ON4niA"),icon:Yt,value:4},{name:"up",label:L("lIXrbw"),icon:OC,value:1},{name:"down",label:L("Nbt2Wg"),icon:O5g,value:3}];case "slide":return[{name:"left",label:L("jukJIg"),icon:yr,value:2},{name:"right",label:L("ON4niA"),icon:Yt,value:4},{name:"up",label:L("lIXrbw"),icon:OC,value:1},{name:"down",label:L("Nbt2Wg"),icon:O5g,
value:3}];case "stack":return[{name:"left",label:L("jukJIg"),icon:yr,value:2},{name:"right",label:L("ON4niA"),icon:Yt,value:4},{name:"up",label:L("lIXrbw"),icon:OC,value:1},{name:"down",label:L("Nbt2Wg"),icon:O5g,value:3}];case "wipe-circle":return[{name:"inwards",label:L("iovCXw"),value:1},{name:"outwards",label:L("xSSSwg"),value:2}];case "wipe-line":return[{name:"left",label:L("jukJIg"),icon:yr,value:2},{name:"right",label:L("ON4niA"),icon:Yt,value:4},{name:"up",label:L("lIXrbw"),icon:OC,value:1},
{name:"down",label:L("Nbt2Wg"),icon:O5g,value:3}];case "cross-dissolve":case "match":case void 0:break;default:throw new v(a);}};kPs=function(a){switch(a){case "chop":return[{name:"topleft",label:L("6+a4Pg"),icon:gPs,value:1},{name:"topright",label:L("Q0GM2g"),icon:hPs,value:2},{name:"bottomleft",label:L("h9zn0Q"),icon:iPs,value:3},{name:"bottomright",label:L("PIvAww"),icon:jPs,value:4}]}};
mPs=function(a,b){if(a.Ia.pages.has(b)){var c,d=(c=a.Ia.pages.next(b,e=>!e.draft))!==null&&c!==void 0?c:a.Ia.pages.next(b);if(d&&lPs(a,b,d))return a.di.tb(d)}};lPs=function(a,b,c){var d;if(d=a.qSa(b)&&c.type==="fixed"&&a.qSa(c))b=pk(b,a.Ia.dimensions),a=pk(c,a.Ia.dimensions),d=b.width===a.width&&b.height===a.height&&b.units===a.units;return d};nPs=function(a,b,c){a=n(a.gr.get().find(d=>d.type===b));return Math.min(c,a.ufa)};
pPs=function({type:a,durationUs:b,uqd:c,options:d}){switch(a){case "chop":var e,f;return{type:"chop",durationUs:b,origin:(e=d===null||d===void 0?void 0:d.origin)!==null&&e!==void 0?e:3,direction:(f=d===null||d===void 0?void 0:d.direction)!==null&&f!==void 0?f:1};case "color-wipe":var g,h,k;return{type:"color-wipe",durationUs:b,ra:(h=(g=d===null||d===void 0?void 0:d.ra)!==null&&g!==void 0?g:c(4))!==null&&h!==void 0?h:oPs,direction:(k=d===null||d===void 0?void 0:d.direction)!==null&&k!==void 0?k:2};
case "cross-dissolve":return{type:"cross-dissolve",durationUs:b};case "flow":var l;return{type:"flow",durationUs:b,direction:(l=d===null||d===void 0?void 0:d.direction)!==null&&l!==void 0?l:2};case "match":return{type:"match",durationUs:b};case "slide":var m;return{type:"slide",durationUs:b,direction:(m=d===null||d===void 0?void 0:d.direction)!==null&&m!==void 0?m:2};case "stack":var p;return{type:"stack",durationUs:b,direction:(p=d===null||d===void 0?void 0:d.direction)!==null&&p!==void 0?p:3};case "wipe-circle":var q;
return{type:"wipe-circle",durationUs:b,direction:(q=d===null||d===void 0?void 0:d.direction)!==null&&q!==void 0?q:1};case "wipe-line":var r;return{type:"wipe-line",durationUs:b,direction:(r=d===null||d===void 0?void 0:d.direction)!==null&&r!==void 0?r:2};default:throw new v(a);}};rPs=function(a,b,c,d,e=!1){a.P.track(qPs,{W1f:c===null||c===void 0?void 0:c.type,vhs:d===null||d===void 0?void 0:d.type,zd:a.mwd(b),Yhq:e})};
sPs=function(a){switch(a.type){case "chop":return{type:a.type,direction:a.direction,origin:a.origin};case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return{type:a.type,direction:a.direction};case "color-wipe":return{type:a.type,direction:a.direction,ra:a.ra};case "cross-dissolve":case "match":break;default:throw new v(a);}};
vPs=function(a,b){if(b&&b.Ji())switch(b.type){case "audio":break;case "elements":if(b.inner)switch(b.inner.type){case "sheet-cell-media":const d=b.inner.container;return new tPs(b.inner.media.map(g=>eqs(a.controller,d.$sa(g).zK(g.fill))).filter(ub));case "sheet":const e=b.inner.container;var c=uPs(b.inner.sheet.config,b.inner.cells);return c.length===0?void 0:new tPs(c.map(({media:g,location:h})=>eqs(a.controller,e.qY(h.column,h.row).$sa(g).zK(g.fill))).filter(ub));case "grid":return dqs(a.controller,
b.inner.container);case "group":const f=b.inner.container;return new tPs(b.inner.nb.map(g=>dqs(a.controller,f.Sf(g))).filter(ub));case "layout":case "layout-cell":return dqs(a.controller,b.container.Sf(b.inner.layout));case "shape":return dqs(a.controller,b.container.Sf(b.inner.shape));case "table":return dqs(a.controller,b.inner.container);default:throw new v(b.inner);}return new tPs((b.zg?[b.zg]:b.elements).map(d=>dqs(a.controller,b.container.Sf(d))).filter(ub));case "pages":switch((c=b.inner)===
null||c===void 0?void 0:c.type){case "background":return b.inner.container.type!=="fixed-page"?void 0:eqs(a.controller,b.inner.container.zK(b.inner.background));case "sheet-cell-media":const d=b.inner.container;return new tPs(b.inner.media.map(f=>eqs(a.controller,d.$sa(f).zK(f.fill))).filter(ub));case "sheet":const e=b.inner.container;c=uPs(b.inner.page.sheet,b.inner.cells);return c.length===0?void 0:new tPs(c.map(({media:f,location:g})=>eqs(a.controller,e.qY(g.column,g.row).$sa(f).zK(f.fill))).filter(ub));
case "pages":case void 0:return;default:throw new v(b.inner);}default:throw new v(b);}};uPs=function(a,b){const c=[];for(const e of b){var d;b=a.layout.cells.get(e.row,e.column);(b===null||b===void 0?void 0:(d=b.ref.content.ref)===null||d===void 0?void 0:d.type)==="media"&&b.ref.content.ref.value.forEach(f=>c.push({media:f,location:e}))}return c};
zPs=function(a){const b=a.Qc,c=a.Ec,d=a.qa,e=a.Hb,f=a.N,g=a.session,h=yV.box(void 0,{deep:!1}),k=gV(p=>{c.cld=p}),l=gV(()=>{c.cld=void 0}),m=gV(()=>{var p,q;(p=(q=e.Rd).Lzr)===null||p===void 0||p.call(q);p=h.get();if(p==null||p.state==="rejected")p=GJs(wPs({...a,Qc:b,closeDialog:l})),h.set(p);return xPs(p).then(r=>k(r))});return{Sne:fV(({source:p,render:q})=>{const r=h.get();return q({onClick:()=>{f.track(yPs,{ja:g.id,source:p});return m()},loading:r!=null&&r.state==="pending",disabled:d.status===
2&&r==null})}),open:m}};wPs=async function(a){const b=a.Ri,c=a.closeDialog,[{D$p:d},e]=await Promise.all([__webpack_require__.me(51530).then(()=>__c.APs),b()]),f=d({...a,Dk:e});return()=>dV(__c.ur,{className:"mZjong",children:dV(f,{onClose:c})})};xPs=async function(a){return await a};BPs=H(()=>({data:Qa(1,__c.X6c),prompt:U(2),qu:F(3,__c.k7c)}));__c.ztg.prototype.elh=ia(1038,function(a,b){return cps(this.pR,a,b)});
__c.ztg.prototype.xxe=ia(1037,function(a){var b;const c=__c.Iqg(a);let d=this.csv.parse(a,c);const e=d.length,f=((b=d[0])===null||b===void 0?void 0:b.length)||0;b=f>0&&d.every(h=>h.length===f);let g=!1;switch(c.field){case ",":g=e>=2&&f>=4;break;case ";":case "|":g=e>=2&&f>=2||f>=4;break;default:g=!0}b&&g||(d=a.split(c.row).map(h=>[h]));a=d.map(h=>h.map(k=>k.trim()));return bps(this.pR,a)});
__c.xvf.prototype.hbc=ia(983,function(a,b,c){a=xk.$P(a);if(c!==b&&a){a.grid.Wv.forEach(f=>{var g=n(f.gridColumnStart);g=parseInt(g,10)-1;if(g===b)f.gridColumnStart=(c+1).toString(),f.gridColumnEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridColumnStart=(g+1+h).toString();f.gridColumnEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateColumns],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateColumns=d}});
__c.yvf.prototype.hbc=ia(982,function(a,b,c){var d;a=a!=null?__c.uvf(a):void 0;const {ypa:e,fbc:f}=a!==null&&a!==void 0?a:{};if(c!==b&&e&&f){e.grid.Wv.forEach(h=>{var k=n(h.gridColumnStart);k=parseInt(k,10)-1;if(k===b)h.gridColumnStart=(c+1).toString(),h.gridColumnEnd=(c+2).toString();else if(k>=Math.min(c,b)&&k<=Math.max(c,b)){const l=b<c?-1:1;h.gridColumnStart=(k+1+l).toString();h.gridColumnEnd=(k+2+l).toString()}});a=e.grid.gridTemplateColumns;var g=[...a];g.splice(b,1);g.splice(c,0,a[b]);e.grid.gridTemplateColumns=
g;f.grid.Wv.forEach(h=>{var k=n(h.gridRowStart);k=parseInt(k,10)-1;if(k===b)h.gridRowStart=(c+1).toString(),h.gridRowEnd=(c+2).toString();else if(k>=Math.min(c,b)&&k<=Math.max(c,b)){const l=b<c?-1:1;h.gridRowStart=(k+1+l).toString();h.gridRowEnd=(k+2+l).toString()}});(d=this.P)===null||d===void 0||d.track(__c.Soh,{action:"columns_reordered",IK:e.grid.gridTemplateColumns.length,qt:e.grid.gridTemplateRows.length})}});
__c.xvf.prototype.ZHf=ia(981,function(a,b,c){a=xk.$P(a);if(c!==b&&a){a.grid.Wv.forEach(f=>{var g=n(f.gridRowStart);g=parseInt(g,10)-1;if(g===b)f.gridRowStart=(c+1).toString(),f.gridRowEnd=(c+2).toString();else if(g>=Math.min(c,b)&&g<=Math.max(c,b)){const h=b<c?-1:1;f.gridRowStart=(g+1+h).toString();f.gridRowEnd=(g+2+h).toString()}});var d=[...a.grid.gridTemplateRows],e=d.splice(b,1)[0];d.splice(c,0,e);a.grid.gridTemplateRows=d}});Jy.prototype.bxe=ia(888,function(a){return this.Tbh.bxe(a)});
QXe.prototype.bxe=ia(887,function(a){__c.Rxf(a)});Jy.prototype.zBb=ia(886,function(){return this.Tbh.zBb()});QXe.prototype.zBb=ia(885,function(){this.Xa.jQ()});Jy.prototype.Qpg=ia(884,function(a,b){return this.Tbh.Qpg(a,b)});QXe.prototype.Qpg=ia(883,function(a,b){this.Xa.Uv(b,a);this.zBb()});Jy.prototype.pif=ia(882,function(a,b,c){return this.Tbh.pif(a,b,c)});QXe.prototype.pif=ia(881,function(a,b){a=__c.wvf(this.Xwa,a,b);b=a!=null?sA(a):void 0;return a!=null?!!b&&b.cLc&&b.yqg>1:!1});
Jy.prototype.NMh=ia(880,function(a,b){if(this.o8)return!1;const c=a.ia.pages;return!c.has(b)||$l(this.vc,a.tb(b))?!1:c.count()-1>=1});QXe.prototype.NMh=ia(879,function(){return!1});Jy.prototype.FWd=ia(878,function(a,b,c,d){a=a.layout.cells.get(b,c);a=a===null||a===void 0?void 0:a.ref.content.ref;if((a===null||a===void 0?void 0:a.type)==="media")for(const e of d)a.value.delete(e)});
QXe.prototype.FWd=ia(877,function(a,b,c,d){a=a.layout.cells.get(b,c);a=a===null||a===void 0?void 0:a.ref.content.ref;if((a===null||a===void 0?void 0:a.type)==="media")for(const e of d)a.value.delete(e)});Jy.prototype.qQj=ia(876,function(a){for(const b of a)a=b.fill,a.image.ref?a.image.set(void 0):a.video.ref?a.video.set(void 0):a.gradient.ref?a.gradient.set(void 0):a.color&&(a.color=void 0)});
Jy.prototype.yQj=ia(875,function(a){let b=!1;for(const c of a)c.content.text.charLength>1&&(c.content.text.uua("\n"),c.content.Jf={Xh:[]},b=!0);return b});Jy.prototype.Kkm=ia(874,function(a){let b=!1;for(const c of a)a=c.fill,a.image.ref?(a.image.set(void 0),b=!0):a.video.ref?(a.video.set(void 0),b=!0):a.gradient.ref?(a.gradient.set(void 0),b=!0):a.color&&(a.color=void 0,b=!0);return b});
Jy.prototype.xhg=ia(873,function(a){return a.Jc.count()===1?(a=a.Jc.first(),this.Z2a(a)||this.Dyf(a)||!!a.color):a.Jc.count()>1});QXe.prototype.xhg=ia(872,function(){return!1});Jy.prototype.Qhg=ia(871,function(a){if(a.Jc.count()===1){a=a.Jc.first();const b=a.color!=null&&a.color!=="#ffffff";return this.Z2a(a)||this.Dyf(a)||b}return a.Jc.count()>1});QXe.prototype.Qhg=ia(870,function(){return!1});
Jy.prototype.aQj=ia(868,function(a,b,c,d){for(const f of b)if(a.Jc.has(f)){var e;if(((e=this.timing)===null||e===void 0?0:e.Hs)||a.Jc.count()!==1)a.Jc.delete(f),d===null||d===void 0||d();else{if(f.image.ref)f.image.set(void 0);else if(f.video.ref)f.video.set(void 0);else if(f.gradient.ref!=null||f.color!=="#ffffff"||!c&&f.color)f.gradient.set(void 0),f.color=c?"#ffffff":void 0;f.durationUs=void 0}}});Jy.prototype.CJi=ia(867,function(a,b){__c.OXe(this.Zpg,a,b)});QXe.prototype.CJi=ia(866,function(){});
__c.bre.prototype.aBc=ia(831,async function(a,b,c){if(a==="")return Promise.resolve(void 0);this.hu({message:"Add URL"});var d=this.Xa.state;if((d===null||d===void 0?void 0:d.type)==="RANGE"&&d.isCollapsed){var e=Qw.SIb(d.range);d=this.Xa.cmb(d.Oc,e);e=d.attributes.Ek.size===1?d.attributes.Ek.values().next().value:0;d=d.collapsed&&!(e&&e>0);({connect:e}=this.Xa.QAa(a,{...Ry,link:a}));const f=e();if(c==="link")return"link";if(d){const h=this.undo.startBuffering();return __c.aoe(this,a).then((0,__c.uw)(k=>
{const {t2c:l,access:m}=__c.boe(this,k);f.Oc&&(this.Xa.Ru(f.Oc,f),this.Xa.jQ());this.Ml(l,b);return m})).catch(k=>{if(k instanceof __c.$ne)return"link";throw k;}).finally((0,__c.uw)(()=>{f.disconnect();h.stop()}))}const g=this.undo.startBuffering();return $os(this,a).then((0,__c.uw)(h=>{f.Oc&&(this.Xa.Ru(f.Oc,f),this.Xa.jQ());this.$ea(h,b);return"public"})).catch(h=>{if(h instanceof __c.$ne)return"link";throw h;}).finally((0,__c.uw)(()=>{f.disconnect();g.stop()}))}aps(this,a);return Promise.resolve("link")});
__c.Zqe.prototype.aBc=ia(830,function(a,b,c){if(this.aqa().type==="responsive-page")return this.mk.aBc(a,b,c);throw Error("Unimplemented");});__c.Y_g.prototype.sQi=ia(827,function(a){var b,c;return __c.Lie(this,{text:(c=(b=this.target.altText)===null||b===void 0?void 0:b.text)!==null&&c!==void 0?c:"",sz:a})});__c.Ede.prototype.Hxk=ia(812,function(a,b){const c=this.y1k.get(a);return!!c&&c.mc(a,b)});
__c.XZd.prototype.xif=ia(770,function(a){if(a.width<this.minWidth||a.height<this.minHeight)return!1;const b=__c.yOb(this.Zc,a,void 0,void 0,{Aga:!0});return Math.abs(b.Y3.width-a.width)<1E-10&&Math.abs(b.Y3.height-a.height)<1E-10});
__c.eOa.prototype.BDj=ia(257,async function(a){const b=__c.lh([__c.BXi,"url","resolve","check"]);__c.ih(b,{url:n(a.url),maxWidth:a.maxWidth,maxHeight:a.maxHeight});a=__c.oh(b);const [c,{KUo:d}]=await Promise.all([this.Da.get(a,{Ra:"checkembedresolvability"}),__webpack_require__.me(576875).then(()=>({KUo:__c.CPs}))]);return d.deserialize(c)});
__c.TNa.prototype.gfk=ia(183,async function(){const a=__c.oh(__c.lh([__c.kTg,"insights","quota"])),[b,{C$o:c}]=await Promise.all([this.Da.get(a,{Ra:"getinsightsquota"}),__webpack_require__.me(415643).then(()=>({C$o:__c.DPs}))]);return c.deserialize(b)});
__c.TNa.prototype.ffk=ia(182,async function(a){const b=__c.lh([__c.kTg,"insights"]);__c.ih(b,{id:n(a.id)});a=__c.oh(b);const [c,{D$o:d}]=await Promise.all([this.Da.get(a,{Ra:"getinsights"}),__webpack_require__.me(415643).then(()=>({D$o:__c.EPs}))]);return d.deserialize(c)});
__c.TNa.prototype.$Kj=ia(181,async function(a){const b=__c.oh(__c.lh([__c.kTg,"insights"])),[c,{eYo:d}]=await Promise.all([this.Da.post(b,BPs.serialize(a),{Ra:"createinsights"}),__webpack_require__.me(415643).then(()=>({eYo:__c.FPs}))]);return d.deserialize(c)});
var cV=class{get H$l(){const a=[],b=[];for(const [c,d]of this.styles.entries())b.push(`${c}: ${d};`);b.length&&a.push(`style="${b.join(" ")}"`);for(const [c,d]of this.attributes.entries())a.push(`${c}="${d}"`);return`${a.length>0?" "+a.join(" "):""}`}static element(a,b){return new cV(a,b)}appendChild(a){this.children.push(a);return a}setContent(a){this.content=a}setAttribute(a,b){this.attributes.set(a,b)}getStyle(a){return this.styles.get(a)}setStyle(a,b){this.styles.set(a,b)}toString(){if(this.jYg)return`<${this.tagName}${this.H$l}>`;
n(!(this.children.length>0&&this.content.length>0));const a=this.children.length>0?this.children.map(b=>b.toString()).join(""):this.content;return`<${this.tagName}${this.H$l}>${a}</${this.tagName}>`}constructor(a,b){this.tagName=a;this.children=[];this.content="";this.styles=new Map;this.attributes=new Map;this.jYg=(b===null||b===void 0?void 0:b.jYg)||!1}},GPs={eventType:"editor_page_view_list_scrolled",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:
uf(a.Rb),location:a.location})}},OFs={eventType:"editor_page_navigator_resize_interacted",Oa(a){return sf({action:a.action,previous_page_navigator_height:a.c7k,current_page_navigator_height:a.KNj,num_current_layers:a.WOk,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}},fMs={eventType:"editor_pagemanager_page_altered",Oa(a){return sf({doctype_id:a.Ca,document_id:a.ja,category_id:a.$a,action:a.action,control_context:a.kb,source_position:a.Dge,target_position:a.Z5e,
performance_context:a.Rb==null?void 0:uf(a.Rb),editing_context:a.Ba==null?void 0:tf(a.Ba)})}},HPs=class{Lu(a,b,c={}){(0,__c.Ib)(()=>a(),d=>b(this.IDm,d),{fireImmediately:!0,...c})}kc(a){(0,__c.Jb)(()=>{a(this.IDm)})}constructor(a,b){this.uhb=a;this.y9k=b;this.IDm={YNf:this.uhb,JQf:this.y9k}}},IPs={eventType:"preview_buffered",Oa(a){return sf({analytics_correlation_id:a.Hf,editing_context:a.Ba==null?void 0:tf(a.Ba),buffering_phase:a.VOp,location:a.location,total_buffering_duration_ms:a.R0s,session_duration_ms:a.hml})}},
IIs={eventType:"editor_element_timing_altered",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),action:a.action,element_types:a.oD,original_duration_ms:a.E0k,current_duration_ms:a.uNj,performance_context:a.Rb==null?void 0:uf(a.Rb)})}},JIs={eventType:"editor_alter_element_timing_view",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),action:a.action,performance_context:a.Rb==null?void 0:uf(a.Rb)})}},cJs={eventType:"editor_timeline_interacted",Oa(a){return sf({editing_context:a.Ba==
null?void 0:tf(a.Ba),action:a.action,control_context:a.kb,performance_context:a.Rb==null?void 0:uf(a.Rb)})}},KFs={eventType:"editor_timeline_zoom",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),action:a.action,control_context:a.kb,current_zoom_level:a.jOj,previous_zoom_level:a.Qbd,performance_context:a.Rb==null?void 0:uf(a.Rb)})}},MFs={eventType:"editor_timeline_view_mode_changed",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),to_view_mode:a.J_s,performance_context:a.Rb==
null?void 0:uf(a.Rb),control_context:a.kb})}},sts=()=>L("2PGUeA"),lts=class{async cLj(a,b){this.Qe.JJ({});const {eCk:c,xLq:d}=__c.One(a.map(g=>({size:g})),this.Kn,this.Qk,this.Ti);a=await this.$6a(c,{Wc:"quick_actions"});this.Qe.close({trigger:"insert"});if(a){b=b.Fw(a);var e=a.cells.get(d);if(e){var f=__c.Xra(b,d,e);window.requestAnimationFrame(()=>this.og.Ru(f,e.text,Qw.start()))}}}constructor(a,b,c,d,e,f){this.Qe=a;this.Kn=b;this.$6a=c;this.Qk=d;this.Ti=e;this.og=f}},JPs={eventType:"editor_media_flipped",
Oa(a){return sf({direction:a.direction,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,media_id:a.mediaId,media_ids:a.VJ,media_version:a.zE,media_versions:a.nHf,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},KPs=class{xOd(a,b){b()}VDb(){}ct(a,b,c){c()}Cke(a,b){b()}f0a(a,b,c){c()}v6a(a,b){b()}w6a(a,b){b()}Gke(a,b){b()}e0a(a,b){b()}Eke(a,b){b()}UKa(){}Hke(){}Fke(){}},Lps=class{msh(a){this.Hoa(a.body)}Hoa(a){for(const b of a.childNodes)this.xOd(b)}xOd(a){this.acc.xOd(a,
()=>{a.nodeType===a.TEXT_NODE?this.VDb(a):a.nodeType===a.ELEMENT_NODE&&this.C$e(a)})}VDb(a){this.acc.VDb(a)}C$e(a){switch(a.tagName){case "DIV":this.ct(a,"block");break;case "UL":this.f0a(a,!1);break;case "OL":this.f0a(a,!0);break;case "LI":this.v6a(a);break;case "SPAN":case "B":case "STRONG":case "I":case "EM":case "U":case "S":case "DEL":case "FONT":case "SUP":case "SUB":this.ct(a,"inline");break;case "A":this.Cke(a);break;case "P":this.w6a(a);break;case "PRE":this.Gke(a);break;case "H1":case "H2":case "H3":case "H4":case "H5":case "H6":this.e0a(a);
break;case "BLOCKQUOTE":this.Eke(a);break;case "TABLE":this.UKa(a);break;case "BR":this.Hke(a);break;case "IMG":this.Fke(a);break;case "STYLE":break;default:this.Hoa(a)}}ct(a,b){this.acc.ct(a,b,()=>this.Hoa(a))}Cke(a){this.acc.Cke(a,()=>this.Hoa(a))}f0a(a,b){this.acc.f0a(a,b,()=>this.Hoa(a))}v6a(a){this.acc.v6a(a,()=>this.Hoa(a))}w6a(a){this.acc.w6a(a,()=>this.Hoa(a))}Gke(a){this.acc.Gke(a,()=>this.Hoa(a))}e0a(a){this.acc.e0a(a,()=>this.Hoa(a))}Eke(a){this.acc.Eke(a,()=>this.Hoa(a))}UKa(a){this.acc.UKa(a,
b=>this.xOd(b))}Hke(a){this.acc.Hke(a)}Fke(a){this.acc.Fke(a)}constructor(a){this.acc=a}},LPs=a=>({H1:a*2,H2:a*1.5,H3:a*1.17,H4:a*1,H5:a*.83,H6:a*.67}),MPs=class extends KPs{async gT(a){const b=[...this.urls],c=(await Promise.all(b.map(Pps))).filter(ub).map((f,g)=>new File([f],`${g}.${__c.Rz(f.type)}`));a=await a(c,"canvas",{m6a:"background",kb:"clipboard"}).images;a=new Map(a.flatMap(f=>f.uD?[[f.uD,f]]:[]));const d=new Map;for(let f=0;f<c.length;f++){var e=a.get(c[f].name);e&&(e=this.Myr(e),d.set(b[f],
e))}return d}UKa(a,b){for(const c of a.rows)for(const d of c.cells)b(d)}Fke(a){this.urls.add(a.src)}constructor(){super();this.Myr=__c.Mif;this.urls=new Set}},NPs=(a,b,...c)=>{for(const d of c)if(c=d(a))return c;return b(a)},Tws=a=>{switch(a){case 4:return L("eY1d0Q");case 1:return L("WL2xxQ");case 3:return L("nAKgzA");case 2:return L("SJUMrg");default:throw new v(a);}},vus=class{static G(a){O(a,{Tcg:__c.eG,zeh:__c.eG.struct})}get Tcg(){var a=this.selection.Jb;if(a&&!(this.Ma.mode<=20)&&(a=a.type===
1?a.only:void 0)&&a.display!==2)switch(a.type){case "controlled":case "chart":case "rect":case "embed":case "design":case "layout":case "shape":return a;case "break":case "separator":case "pill":case "table":case "sheet":break;default:throw new v(a);}}get zeh(){const a=this.Tcg;if(a&&a.width!=="100%"&&a.width!=="100cqw"&&(!a.width.endsWith("px")||a.maxWidth!=="100cqw"))switch(a.alignment||"50%"){case "0%":return"left";case "50%":return"center";case "100%":return"right"}}constructor(a,b){this.Ma=a;
this.selection=b;vus.G(this)}},OPs={eventType:"editor_elements_aligned",Oa(a){return sf({anchor:a.anchor,control_context:a.kb,num_elements_selected:a.l$c,element_types:a.oD,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},PPs={eventType:"editor_element_z_index_changed",Oa(a){return sf({direction:a.direction,control_context:a.kb,num_elements_selected:a.l$c,element_types:a.oD,
design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}},QPs={eventType:"editor_toolbar_position_menu_opened",Oa(a){return sf({design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_elements_selected:a.l$c,element_types:a.oD,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,editing_context:a.Ba==
null?void 0:tf(a.Ba),tab:a.ue})}},RPs={eventType:"editor_element_aspect_lock_clicked",Oa(a){return sf({action:a.action,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},oxs={eventType:"editor_element_rotated",Oa(a){return sf({element_types:a.oD,original_rotation:a.H0k,rotation:a.rotation,x:a.x,y:a.y,width:a.width,height:a.height,control_context:a.kb,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},SPs={eventType:"editor_elements_swapped",Oa(a){return sf({primary_element_type:a.Xhs,secondary_element_type:a.Hzs,
swap_type:a.sPb,total_elements_moved:a.Y0s,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}},TPs={eventType:"presentation_navigator_initial_rendered",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb),num_pages:a.hC,num_elements:a.zBa,num_embeds:a.Hou,num_static_thumbnails:a.mui})}},oPs=["#7900ff","#548cff","#93ffd8","#cfffdc"],Tps=a=>{const b=a.layout,c=a.Hx,d=a.AQ,e=a.Hy,f=a.TSf,g=a.xua;(0,__c.tcr)(()=>
()=>{const h=g?null:f;h===null||h===void 0||h()},[f,g]);return mcr(__c.Kcr,{layout:b,className:"jWnHiw",children:__c.Lcr.map((h,k)=>mcr(__c.Ncr,{gRs:k,Hx:c,AQ:d,fRs:h,Hy:e,mpe:a.mpe,a1f:a.a1f,oa:a.oa,xua:a.xua},h))})},Sps=class{static G(a){O(a,{a1f:wcr.bound,eeh:wcr.bound,TSf:wcr.bound,mpe:wcr.bound,EZf:__c.ycr,AQ:wcr})}a1f(a){this.store.Hy===a?this.TSf():this.eeh(a)}eeh(a){this.store.Hy=a}TSf(){this.store.Hy=void 0}mpe(a,b){const {dimensions:c}=this.EZf||{},{top:d,left:e}=b||{};b=c&&d&&e?Vj({top:d,
left:e,width:c.width,height:c.height}):void 0;a=__c.lcr(a);this.oc.C9(a,"sticky_note",{Wc:"tools_tab_click"},{box:b,XKa:{type:"absolute",value:"top"}});this.Kya()}get EZf(){if(this.store.iD&&this.store.Hy){var a=__c.lcr(this.store.Hy);a=__c.Upe(this.oc,this.store.iD,a);return{dimensions:{width:a.width,height:a.height},paths:a.paths,viewBox:a.viewBox}}}Kya(){this.P.track(Uug,{elementType:"shape",kb:"click",esa:"add",ELc:!1})}constructor(a,b,c,d){this.store=a;this.jc=b;this.oc=c;this.P=d;this.F$q=(Sps.G(this),
(e,f)=>{var g;const h=((g=e.zg)===null||g===void 0?void 0:g.type)==="shape"?e.zg:void 0;h&&(f&&(f=h.slice,g=h.ed,h.viewBox&&f&&g&&this.jc.WOa("font-size",Math.round(.08*Math.max(h.width,h.height)*.75)*fu)),rA(this.jc,e,"all"))});this.own=e=>{this.AQ((this.store.Hx+(e==="prev"?-1:1)+__c.Mcr)%__c.Mcr)};this.AQ=e=>{this.store.Hx=e}}},Rps=class{static G(a){O(a,{isActive:__c.zcr.ref,$Bb:wcr,Hy:__c.zcr.ref,iD:__c.ycr,Hx:__c.zcr.ref})}$Bb(a){this.isActive=a!==null&&a!==void 0?a:!1}get xua(){return this.i2a&&
Hc.igb}get iD(){const a=this.viewport.mh.ia;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.i2a=b;this.isActive=(Rps.G(this),!1);this.Hx=0}},yBs=class{data(){if(this.raw.length<2)return[];const a=Wps(this);return this.raw.slice(1).map(b=>{const c=new Map;b.forEach((d,e)=>c.set(a[e],d));return c})}constructor(a){this.raw=a}},UPs=class extends __c.DLr{static G(a){O(a,{onChange:__c.$T.bound,options:__c.aU})}onChange(a){const b=this.props.GC,c=this.props.GZb,d=this.props.yTr,e=
this.props.oa,f=this.props.XSr;if(this.props.current!==a)switch(f(),e(),a){case "iframe":d();break;case "pill":c();break;case "link":b();break;default:throw new v(a);}}get options(){const a=this.props.YE,b=this.props.FEi;return[Xps("iframe",this.props.S_h,L("R/eZ7Q")),Xps("pill",b,L("rrRYsA")),Xps("link",a,L("O2cT4A"))].filter(ub)}render(){const a=this.props.current,b=this.props.disabled;return(0,__c.bU)(eD,{label:L("IQVG9w"),Ev:"small",control:()=>(0,__c.bU)(__c.Gz,{value:a,stretch:!0,onChange:this.onChange,
disabled:b,options:this.options,className:"_6fXk2A"})})}constructor(...a){super(...a);UPs.G(this)}},VPs=(a,b)=>{a=new URL(a);const c=new URLSearchParams(a.search);c.delete("include_page_indexes");c.set("include_page_ids",b.join(","));return`${a.origin}${a.pathname}?${c}`},WPs=class{encode(a){a=this.serializer.serialize(a);return{...a,html:this.yfh(a)}}yfh(a){var b=a.rOa;a=a.html;const c=cV.element("div"),d=c.appendChild(cV.element("span"));b=Zps(b);d.setAttribute("data-canva-clipboard",b);a.forEach(e=>
c.appendChild(e));return c.toString()}async parse({text:a,html:b,rOa:c},d){if(c)return this.serializer.NWd(c);b=b?b.replace(/\r\n|\r/g,"\n"):void 0;if(c=$ps(this,{html:b},d))return c;a=a?a.replace(/\r\n|\r/g,"\n"):void 0;return(b=await this.serializer.JWh({html:b,text:a}))?b:this.Nnf({text:a})}Nnf({text:a}){if(a){const b=this.serializer.NWd(a);return b!==null&&b!==void 0?b:this.serializer.Nnf(a)}}constructor(a,b){var c=aqs;this.H7=a;this.Gae=c;this.serializer=b}},XPs=__webpack_require__(31968),rV=
XPs.Fragment,dV=XPs.jsx,kV=XPs.jsxs;var YPs,Ats,lV,mV,HJs,yV,ZPs,$Ps,bCs,aCs,Sqs,aQs;YPs=__webpack_require__(400770);gV=__c.gV=YPs.action;Ats=YPs.autorun;lV=YPs.comparer;mV=YPs.computed;HJs=YPs.makeObservable;yV=YPs.observable;ZPs=YPs.ObservableMap;$Ps=YPs.observe;bCs=YPs.onBecomeUnobserved;eV=__c.eV=YPs.reaction;oV=__c.oV=YPs.runInAction;aCs=YPs.tC;Sqs=YPs.when;aQs=YPs.yy;var bQs=__webpack_require__(813494),fV=bQs.observer,cQs=bQs.useLocalObservable;var GV=__webpack_require__(845212),HV=GV.Component,dQs=GV.createElement,IV=GV.createRef,eQs=GV.forwardRef,bLs=GV.Fragment,NGs=GV.lazy,FV=GV.memo,fQs=GV.PureComponent,PGs=GV.Suspense,hV=GV.useCallback,gQs=GV.useDeferredValue,iV=GV.useEffect,hQs=GV.useId,iQs=GV.useImperativeHandle,jQs=GV.useLayoutEffect,zV=GV.useMemo,jV=GV.useRef,nV=GV.useState;var kQs=__webpack_require__(27950);var lQs=__webpack_require__,mQs=lQs(208463),CV=lQs.n_x(mQs)();var JV=__webpack_require__(277049)._;var KV=__webpack_require__(269018)._;var nQs=__webpack_require__(206928),EV=nQs.Aj,LV=nQs.iB,GJs=nQs.Sx,dCs=nQs.tB,zFs=nQs.uP;var oQs=__webpack_require__(13851);var pQs=__webpack_require__(921885).createPortal;var qQs=__webpack_require__(316620);var rQs=__webpack_require__(294462);var sQs=__webpack_require__(388909).t;var tQs=class{constructor(a){this.iJa=a}};var mqs=["color","typography","alt_text","links"],uQs={typography:{label:L("A9rBrQ"),icon:dV(__c.Uxg,{size:"medium",tone:"primary"}),eWa:"typography"},color:{label:L("/hr0NQ"),icon:dV(__c.ihr,{size:"medium",tone:"primary"}),eWa:"color"},alt_text:{label:L("RsRlBQ"),icon:dV(__c.Uu,{size:"medium",tone:"primary"}),eWa:"alt_text"},links:{label:L("+jE5WA"),icon:dV(Ao,{size:"medium",tone:"primary"}),eWa:"links"}},$qs=class{static G(a){O(a,{Mx:yV.deep,view:yV.ref,iUd:yV.ref,K5d:yV.ref,aPi:yV.ref,YKb:mV,sli:mV,
EU:mV,POh:mV,WCc:mV,aie:mV,Isi:mV,AHh:mV})}get vCj(){return mqs.filter(a=>!(a==="links"&&!this.F2c))}get XCc(){const a={};this.n8m>=100&&(a.color="page_limit");return a}get YKb(){return mqs.includes(this.view)?this.Mx.filter(a=>a.category===this.view):this.view==="issue"?this.EU?[this.EU]:[]:this.Mx}get sli(){return this.YKb.reduce((a,b)=>{var c,d;(d=a[c=b.Wb])!==null&&d!==void 0?d:a[c]=[];a[b.Wb].push(b);return a},[])}get EU(){return this.Mx.find(a=>a.selected)}get POh(){return this.Mx.filter(a=>
a.checked)}get WCc(){const a={};this.vCj.forEach(b=>{a[b]=0});this.Mx.forEach(b=>{a[b.category]++});return a}get aie(){switch(this.view){case "home":return L("DJFkPQ");case "alt_text":return L("RsRlBQ");case "color":return L("/hr0NQ");case "typography":return L("A9rBrQ");case "links":return L("+jE5WA");case "issue":var a;return((a=this.EU)===null||a===void 0?void 0:a.rule)==="alt_text"?L("eNTSgg"):L("DJFkPQ");default:throw new v(this.view);}}get Isi(){switch(this.view){case "alt_text":return L("7juaHg");
case "typography":return L("aKY15g")}}get AHh(){switch(this.view){case "home":return L("BmFrqA");case "alt_text":return L("8+4O5g");case "color":return L("ZERETA");case "typography":return L("YN9VAw");case "links":return L("GMn6WA");case "issue":return"";default:throw new v(this.view);}}constructor(a=!1){this.F2c=a;this.n8m=($qs.G(this),1);this.Mx=yV.array();this.view="home";this.iUd="loading";this.K5d=void 0}},crs=class extends $qs{get XCc(){return{}}constructor(a=!1){super(a)}};var vQs=parseInt("200ms",10),wQs=fV(({icon:a,title:b,description:c,ouf:d,SLq:e,selected:f,checked:g,gj:h,TQb:k,eTa:l,WPr:m,xxi:p,locked:q})=>{const r=jV(null),t=jV(null),u=!(!p||!d||q),w=!!m&&u&&!h;iV(()=>{const x=setTimeout(()=>{var y,z;f&&r.current&&((y=(z=r.current).scrollIntoView)===null||y===void 0||y.call(z,{block:"nearest",behavior:"smooth"}))},300);return()=>clearTimeout(x)},[f]);return kV("div",{className:"SM3Rnw",ref:r,children:[dV(Ro,{onClick:l,FE:"primary",selected:f,SC:J("MnQJ8A",[b.toLowerCase()]),
Wr:w&&dV(__c.AZg,{location:"top-start",visibility:g?"always":"on-hover",label:g?J("dYbh9Q",[b.toLowerCase()]):J("eUkheA",[b.toLowerCase()]),selected:g,onSelect:m}),thumbnail:dV(__c.ev,{children:dV(R,{padding:"2u",width:"full",height:"unset",children:kV(Uc,{spacing:"1u",children:[kV(jr,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[dV(ir,{children:kV(lr,{spacing:"1u",children:[a,dV(P,{className:"P84zWw",weight:"bold",size:"medium",children:b})]})}),q?dV(ir,{width:"content",children:dV(Xu,
{text:L("KAcVpg"),tone:"neutralLow",icon:dV(fy,{size:"small"})})}):void 0]}),dV(k,{}),(f||u)&&kV(Uc,{spacing:"2u",children:[f&&(typeof c==="string"?dV(P,{className:"B7DQ5Q",size:"medium",children:c}):dV("div",{className:"B7DQ5Q",children:c})),u&&dV(bj,{className:"nCQDgg",disabled:e,variant:f?"primary":"secondary",stretch:!0,onClick:()=>{p()},children:d})]})]})})}),layout:"vertical",Cmb:"thumbnail"}),dV(kQs["default"],{in:h,mountOnEnter:!0,timeout:vQs,nodeRef:t,classNames:{enter:"xkwLeQ",enterActive:"zo9sdQ"},
children:dV("div",{className:"eBJmtA",ref:t,children:dV(ey,{className:"_2Rxe4Q",size:"medium"})})})]})});var xQs=fV(({description:a,$Nk:b,Cbq:c,qRp:d,TQb:e,eTa:f,locked:g,xxi:h,...k})=>{const l=!(!h||g);return dV(wQs,{description:dV(()=>kV(Uc,{spacing:"2u",children:[dV(P,{size:"medium",children:a}),kV(jr,{Fa:"start",spacing:"1u",align:"start",children:[dV(ir,{width:"content",children:kV(R,{className:"rmlZHQ",display:"flex",padding:"0",alignItems:"center",justifyContent:"center",children:[dV(__c.SIh,{size:"medium"}),dV("div",{className:"ZFGjHg","aria-hidden":!0,children:dV(__c.XA,{fill:c,stretch:!0,aspectRatio:4.5})})]})}),
kV(ir,{children:[dV(P,{size:"medium",weight:"bold",children:L("7G74Yw")}),dV(P,{size:"small",tone:"tertiary",children:c.length>1?L("5ctgQg"):c[0]})]})]}),d.length>0&&l?kV(rV,{children:[dV(P,{size:"medium",tone:"tertiary",children:L("VtIjMg")}),dV("div",{className:"gYMxhQ",children:dV(lr,{spacing:"1u",children:d.map((m,p)=>dV(__c.XA,{fill:[m],size:"small",onClick:()=>h(m)},p))})})]}):l&&dV(Pk,{tone:"info",size:"small",children:b})]}),{}),TQb:e,eTa:f,locked:g,...k})});var xqs=fV(function({AHh:a,sli:b,EU:c,xvl:d,TQb:e,WXk:f,FUk:g,VTk:h,V3r:k,n3g:l,zYd:m}){return b.flat().length===0?dV(R,{height:"full",width:"full",display:"flex",Kb:"2u",alignItems:"center",children:kV(Uc,{spacing:"1u",align:"center",children:[dV(nr,{tagName:"h3",size:"medium",alignment:"center",children:L("lBTWrQ")}),kV(Uc,{spacing:"2u",align:"center",children:[dV(P,{size:"medium",alignment:"center",children:a}),dV(bj,{variant:"primary",onClick:k,children:L("L6tUpw")})]})]})}):dV(Uc,{spacing:"2u",
children:b.map((p,q)=>p.length>0&&kV(Uc,{spacing:"1u",children:[dV(nr,{tagName:"h3",size:"xxsmall",children:J("7l3o/A",[q+1])}),p.map((r,t)=>kV("div",{children:[d&&dV(ej,{shape:"rectangle"}),dV("div",{className:CV({qyPrNw:d}),children:dV(yQs,{yE:r,selected:r===c,xvl:d,TQb:e,WXk:f,FUk:g,VTk:h,n3g:l,zYd:m})})]},`${r.id}:${t}`))]},q))})}),yQs=fV(({yE:a,selected:b,xvl:c,TQb:d,WXk:e,FUk:f,VTk:g,n3g:h,zYd:k})=>{var l=a.category;const m=a.messages,p=m.icon,q=a.state,r=a.vyf;b={icon:p!==null&&p!==void 0?
p:uQs[l].icon,title:m.title,description:m.description,ouf:m.ouf,SLq:q!=="ready"||c,selected:b,checked:a.checked,WPr:k&&r?()=>f(a):void 0,gj:q==="resolved",eTa:()=>e(a),locked:a.locked};c=()=>dV(d,{u6:a.u6});if(a.rule==="insufficient_text_contrast"){const t=a.JNd;k=a.Lvd;l=t?u=>{t(u);g(a)}:void 0;return dV(xQs,{...b,$Nk:a.messages.$Nk,Cbq:a.erd,qRp:k(),TQb:c,xxi:l})}return a.rule==="alt_text"?dV(wQs,{...b,TQb:c,xxi:()=>h===null||h===void 0?void 0:h(a)}):dV(wQs,{...b,TQb:c,xxi:a.Y2m?()=>g(a):void 0})});var fqs=({page:a,element:b,Ll:c,sf:d,nd:e})=>dV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:dV(R,{className:"MNaxkA",children:dV(c,{page:a,element:b,sf:d,nd:e})})});var iqs=({item:a,context:b,sf:c,nd:d,Ykd:e})=>dV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:dV(R,{className:"MNaxkA",children:dV(e,{item:a,context:b,nd:d,sf:c,X8r:"1u"})})});var hqs=({page:a,MT:b,sf:c,nd:d})=>dV(R,{padding:"1u",borderRadius:"baseUnit",background:"canvas",display:"flex",justifyContent:"center",children:dV(R,{className:"MNaxkA",children:dV(b,{page:a,fit:"contain",sf:c,nd:d})})});var zQs=({type:a})=>"page element grid_element shape_element table_element item".split(" ").includes(a),gqs={sf:parseInt("48px",10),nd:parseInt("264px",10)};var Cqs=({Isi:a,ULi:b,T0s:c,layout:d})=>{const e=kV(R,{className:"_3fBluA",background:"surface",padding:"2u",display:"flex",width:"full",flexDirection:"row",borderRadius:d===1?"container":void 0,justifyContent:"spaceBetween",alignItems:"center",children:[dV(P,{children:J("TOnKVA",[c])}),dV(bj,{variant:"primary",onClick:()=>{b()},children:a})]}),f=dV(R,{className:"ImFKRg",padding:"2u",display:"flex",children:e});return a&&c>0?d===1?f:e:null};var AQs={page_limit:{title:J("WNW1KQ",[100]),description:L("YvwwWA")}},BQs=fV(function({icon:a,YNh:b,YSp:c,eWa:d,NXb:e,N$a:f}){const g=hV(()=>f(d),[d,f]),h=e>0,k=c!==void 0;return dV(__c.Zt,{className:"DqxJtA",display:"block",width:"full",padding:"2u",border:"standard",borderRadius:"element",color:{disabled:"var(--3YOFOw)"},backgroundColor:{disabled:"var(--oqurdw)"},disabled:!h||k,onClick:g,children:dV(R,{width:"full",Mc:"0.5u",children:kV(jr,{Fa:"center",align:"spaceBetween",spacing:"1u",children:[dV(ir,
{children:kV(jr,{Fa:"start",spacing:"1u",children:[dV(ir,{width:"content",children:a}),kV(ir,{children:[dV(P,{size:"medium",tone:mr,children:b}),k&&kV(rV,{children:[dV(jd,{direction:"vertical",size:"1u"}),dV(Pk,{tone:"info",title:AQs[c].title,children:AQs[c].description})]})]})]})}),dV(ir,{width:"content",children:kV(jr,{Fa:"center",spacing:"1u",children:[dV(ir,{width:"content",children:!k&&dV(Xu,{text:h?J("fEtOCg",[e]):void 0,tone:h?"contrast":"positive",icon:h?void 0:dV(__c.Cr,{size:"tiny"})})}),
h&&!k&&dV(ir,{width:"content",children:dV(wr,{size:"medium"})})]})})]})})})}),CQs=({WCc:a,XCc:b,N$a:c})=>dV(R,{className:"Nx5i0Q",children:dV(Uc,{spacing:"1u",children:Object.values(uQs).filter(({eWa:d})=>a.hasOwnProperty(d)).map(({label:d,icon:e,eWa:f},g)=>dV(BQs,{icon:e,YNh:d,eWa:f,YSp:b[f],NXb:a[f],N$a:c},g))})});var DQs=Object.values(uQs).length,Dqs=fV(({title:a,Rib:b,Oo:c,KV:d})=>dV(__c.id,{title:dV(nr,{className:"g6xQ3A",size:"xsmall",tagName:"h2",ariaLabel:a,children:a}),padding:"1.5u",start:b?dV(__c.zr,{className:"TTJO9w",onClick:c}):dV(RAj,{size:"medium",tone:"primary"}),end:dV(__c.gd,{onClick:d})})),Eqs=fV(({va:a,view:b,WCc:c,XCc:d,N$a:e,rAh:f,Ffj:g,EU:h,PPh:k,YVc:l,TQb:m,$F:p,zYd:q,X1h:r})=>{const t=hV(()=>{switch(b){case "home":return dV(yqs,{va:a,WCc:c,XCc:d,N$a:e,AUl:dV(zqs,{X1h:r})});case "issue":return h?
dV(Bqs,{yE:h,YVc:l,TQb:m,PPh:k,$F:p,zYd:q}):null;default:return kV(rV,{children:[dV(R,{className:"dEAxJA",children:dV(Aqs,{rAh:f})}),dV(g,{})]})}},[a,b,c,d,e,f,g,h,l,m,k,p,q,r]);return dV(ao,{children:t()})}),yqs=fV(({va:a,WCc:b,XCc:c,N$a:d,AUl:e})=>dV(R,{padding:"2u",children:a?dV(Uc,{spacing:"1u",children:Array.from({length:DQs}).map((f,g)=>dV("div",{className:"_8cGwhw",children:dV(ej,{shape:"rectangle",index:g})},g))}):kV(rV,{children:[e,dV(CQs,{WCc:b,XCc:c,N$a:d})]})})),Aqs=({rAh:a})=>dV(R,{className:"nx_GSQ",
padding:"2u",height:"full",children:dV(a,{})}),Bqs=fV(({yE:{rule:a,locked:b,u6:c},YVc:d,TQb:e,PPh:f,$F:g,zYd:h})=>{const k=zV(()=>h&&zQs(c),[c,h]);return a==="alt_text"?(b&&f("alt_text"),kV(Uc,{spacing:"0",children:[k&&dV(R,{paddingTop:"2u",Kb:"2u",children:dV(e,{u6:c})}),dV(d,{Oe:"fill",ki:()=>{f("alt_text")},oa:()=>{f("alt_text")},kb:"accessibility_checker",$F:g})]})):null});var EQs={eventType:"editor_a11y_checker_opened",Oa(a){var b;return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),impression_id:a.$F,issue_counts:(b=a.nAk)===null||b===void 0?void 0:b.map(c=>kqs(c)),control_context:a.kb})}},FQs={eventType:"editor_a11y_checker_closed",Oa(a){var b;return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),impression_id:a.$F,interaction_trigger:a.cgb,issue_counts:(b=a.nAk)===null||b===void 0?void 0:b.map(c=>kqs(c))})}},GQs={eventType:"editor_a11y_checker_navigated",Oa(a){return sf({editing_context:a.Ba==
null?void 0:tf(a.Ba),impression_id:a.$F,view_type:a.tS,view_name:a.C4f,interaction_trigger:a.cgb,initial_issue_selected:a.oAf==null?void 0:lqs(a.oAf)})}},rqs={eventType:"editor_a11y_checker_issue_interacted",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),impression_id:a.$F,issue_info:a.RDf==null?void 0:lqs(a.RDf),interaction_type:a.Dv,interaction_trigger:a.cgb})}},tqs={eventType:"editor_a11y_checker_multiple_issues_interacted",Oa(a){var b;return sf({editing_context:a.Ba==null?void 0:
tf(a.Ba),impression_id:a.$F,issues_info:(b=a.Qhn)===null||b===void 0?void 0:b.map(c=>lqs(c)),interaction_type:a.Dv,interaction_trigger:a.cgb,bulk_edit_impression_id:a.Nem})}};var wqs=class{static G(a){O(a,{jC:gV.bound,lD:gV.bound,views:mV,m0d:mV,sjg:mV})}jC(){this.store.$F=Sb();this.store.layout===2&&this.navigation.Xg({df:this.views.IPd,options:this.mti});this.store.layout===1&&(this.skeleton.Cx=this.views.qej);this.store.isAlive=!0}n3g(){this.store.layout===2&&this.navigation.Xg({df:this.views.qAh,options:this.mti})}lD(){this.store.isAlive=!1;const a=this.views.IPd,b=this.views.Category,c=this.views.qAh,d=this.views.qej;this.navigation.screen&&[a,b,c].includes(this.navigation.screen.df)&&
this.navigation.clear();this.skeleton.Cx===d&&(this.skeleton.Cx=void 0)}get views(){return n(this.store.views)}get m0d(){return n(this.store.m0d)}get sjg(){return this.store.isAlive}bpc(){const a=this.fNe.WCc;return[{tP:"all",NXb:this.fNe.Mx.length},{tP:"alt_text",NXb:a.alt_text},{tP:"color_contrast",NXb:a.color,RNs:this.fNe.XCc.color?"page_count_over_100":void 0},{tP:"typography",NXb:a.typography}]}KMd(a){const b={$F:this.store.$F,kb:a};this.klq=Sqs(()=>this.fNe.iUd!=="loading"&&!this.store.va,()=>
{setTimeout(()=>{b.nAk=this.bpc();this.P.track(EQs,b)},3E3)})}L7e(a){a={$F:this.store.$F,cgb:a,nAk:this.bpc()};this.P.track(FQs,a);this.store.$F=void 0}Qie(a){this.P.track(GQs,{$F:this.store.$F,...a})}constructor(a,b,c,d,e,f,g,h){this.store=a;this.fNe=b;this.navigation=c;this.skeleton=d;this.tjg=e;this.Gxe=f;this.P=h;this.tAm=(wqs.G(this),void 0);this.qQn=-1;this.P_s=()=>{this.sjg?this.nmh():this.Wxl()};this.nmh=()=>{var k,l,m,p;this.sjg&&(this.Gxe.U4e(),Gqs(this.tjg),this.lD(),(k=this.tAm)===null||
k===void 0||k.call(this),(l=this.vlq)===null||l===void 0||l.call(this),(m=this.nlq)===null||m===void 0||m.call(this),(p=this.klq)===null||p===void 0||p.call(this),oV(()=>this.store.va=!0),clearTimeout(this.qQn))};this.Wxl=()=>{this.tjg.wJk(this.Gxe);this.Gxe.Hlh();this.jC();pqs(this);oqs(this);qqs(this);this.qQn=setTimeout(()=>{Hqs(this.tjg);oV(()=>this.store.va=!1)},2E3)};this.mti={Bwc:!1,A3k:"collapsed",rg:g}}};var vqs=class{static G(a){O(a,{isAlive:yV.ref,va:yV.ref,z3l:yV.ref,I2l:yV.ref,views:mV,Tko:gV.bound,m0d:mV,Seo:gV.bound,layout:mV})}get views(){return n(this.z3l)}Tko(a,b,c,d){this.z3l={qej:a,IPd:b,Category:c,qAh:d}}get m0d(){return n(this.I2l)}Seo(a){this.I2l={Ffj:a}}get layout(){return this.ka.layout}constructor(a){this.ka=a;this.isAlive=(vqs.G(this),!1);this.va=!0;this.$F=void 0}};var zqs=fV(({X1h:a})=>a.get()?dV(R,{paddingBottom:"2u",children:dV(Pk,{tone:"warn",title:L("i46F7A"),children:L("2lJl1Q")})}):null);var HQs=Symbol("a11y_witch"),brs=class{static G(a){O(a,{yib:gV.bound,qOi:gV.bound,U2f:gV.bound,Nco:gV.bound,LId:gV.bound,s3n:gV.bound,ULi:gV.bound,Kjg:gV.bound,Nkm:gV.bound})}wJk(a){this.Y8e||Iqs(this,a)}yib(a,b=!1){const c=this.store.EU;c!==a&&(c&&(c.selected=!1),a&&(a.selected=!0,Lqs(this,a,b)))}qOi(a){var b=this.store.Mx;const c=this.store.view,d=this.store.EU;if((d===null||d===void 0?void 0:d.u6.target)!==a||(d===null||d===void 0?void 0:d.category)!==c)b=a?b.find(e=>e.target===a&&(e.category===
c||!mqs.includes(c))):void 0,d&&(d.selected=!1),b?(b.selected=!0,this.store.K5d||(this.store.K5d="selected_on_canvas"),this.store.view!==b.category?(this.LId(b.category),this.onNavigate&&this.onNavigate()):this.Wxi&&this.Wxi(),this.store.K5d=void 0):this.store.view==="issue"&&(this.LId("home"),this.onNavigate&&this.onNavigate())}G0m(a,b){this.uZd||(a.state="resolved",b.push(a),Mqs(this,a))}U2f(a,b){const c=[];let d=0,e=!1;this.store.Mx.forEach(f=>{var g=a.findIndex(h=>h.equals(f));g<0?(this.G0m(f,
c),e=!0):g<d?(g=c.findIndex(h=>h.equals(f)),f.update(c[g]),c.splice(g,1,f)):(g>d&&(c.push(...a.slice(d,g)),d=g),d++,f.update(a[g]),c.push(f))});d<a.length&&c.push(...a.slice(d));this.store.Mx.replace(c);this.Nco(b,e)}Nco(a,b){a?b?(this.store.iUd="resolving",setTimeout(()=>{this.store.iUd==="resolving"&&oV(()=>{this.store.iUd="ready"})},this.store.view==="home"?0:1E3)):this.store.iUd="ready":this.store.iUd="loading"}LId(a){if(a!=="issue"||this.store.EU)this.store.view=a,Nqs(this)}s3n(a,b){this.yib(a);
a.resolve();this.la.Ib({Cb:J("YwO4QQ",[a.messages.title]),media:{content:dV(ey,{size:"medium"})},group:HQs,rr:{buttonText:L("sdrEcg"),onClick:gV(()=>{b(a);this.da.undo.undo()})}})}ULi(a,b){const c=this.store.POh,d=new Map,e=this.da.undo.startBuffering();try{c.forEach(f=>{if(!f.locked&&f.resolve){const g=this.store.YKb.findIndex(h=>h===f);d.set(g,f);f.resolve()}})}finally{e.stop()}d.size&&(a(Array.from(d.values())),this.la.Ib({Cb:J("GdVpIQ",[d.size]),media:{content:dV(ey,{size:"medium"})},group:HQs,
rr:{buttonText:L("sdrEcg"),onClick:gV(()=>{b(d);this.da.undo.undo()})}}))}Kjg(){this.store.view="home";this.yib(void 0);Nqs(this)}Nkm(){var a,b;this.store.view=(b=(a=this.store.EU)===null||a===void 0?void 0:a.category)!==null&&b!==void 0?b:"home";this.yib(void 0);Nqs(this)}async cJk(a,b){return a.type==="item"||a.type==="table_item"||a.type==="computed_range"||a.type==="body"||a.type==="responsive_page"?Qqs(this,a,b):Rqs(this,a,b)}yka(a){var b=a.type;const c=a.context;var d=a.item;const e=a.inner;
a=a.mD;switch(b){case "body":case "responsive_page":break;case "computed_range":return this.fd.FEa(c.text,a.range);case "item":return this.fd.vE(d);case "table_item":if(!e)return this.fd.vE(d);if(e.item)return this.fd.URa(e.item);b=this.fd.vE(d);if(b==null)break;d=this.fd.spc(d,e.rb);return d===null||d===void 0?void 0:d.transform(dk(b));default:throw new v(b);}}hyl(){this.dJe=this.OIa.rBd({uxd:(a,b)=>Tqs(this,b),szf:(a,b,c)=>Tqs(this,c),cJe:a=>Tqs(this,a.ia),iOc:gV((a,b)=>{switch(b.type){case "grid":case "shape":case "table":Oqs(this,
b)||(a=this.store.YKb.find(({u6:c})=>c.element===b))&&Lqs(this,a);break;case "rect":case "line":case "chart":case "embed":case "sheet":case "text":case "group":case "controlled":case "layout":break;default:throw new v(b);}this.store.K5d="dot_clicked"}),d6c:(a,b)=>{const c=this.store.EU;return this.store.YKb.find(d=>d.u6.item===b)?{Cld:(c===null||c===void 0?void 0:c.u6.item)===b,type:"warning",container:a}:void 0},G9d:gV((a,b)=>{b.type!=="table"||Oqs(this,b)||(a=this.store.YKb.find(({u6:c})=>c.item===
b))&&Lqs(this,a);this.store.K5d="dot_clicked"}),e6c:()=>{},o$d:()=>{},upc:()=>this.upc(),r$d:()=>{}})}upc(){const a=this.store.EU;var b=this.store.YKb;const c=[];for(const e of b){var d;b=e.u6;const f=e.target;b.type!=="computed_range"||this.viewport.ya&&((d=b.page)===null||d===void 0?void 0:d.ia)!==this.viewport.ya||c.push({range:b.mD.range,$Jc:{Cld:(a===null||a===void 0?void 0:a.target)===f,type:"warning",container:b.context}})}return c}Nto(){Uqs(this);Vqs(this)}Juo(){var a,b;(a=this.q9j)===null||
a===void 0||a.call(this);this.q9j=void 0;(b=this.Vbh)===null||b===void 0||b.call(this);this.Vbh=void 0}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.store=a;this.OIa=b;this.da=c;this.selection=d;this.viewport=e;this.la=f;this.Xa=g;this.fd=h;this.errorService=k;this.uZd=l;this.onNavigate=m;this.Wxi=p;this.dJe=(brs.G(this),void 0)}},ers=class extends brs{G0m(){}Nto(){Vqs(this)}Juo(){var a;(a=this.Vbh)===null||a===void 0||a.call(this);this.Vbh=void 0}};var IQs=class{static G(a){O(a,{state:yV.ref,clb:yV.ref,selected:yV.ref,checked:yV.ref,locked:yV.ref,Wb:mV,Y2m:mV})}get u6(){return this.s2l}get target(){return this.hva}get Wb(){return this.clb}Mt(){switch(this.u6.type){case "fixed_page":case "element":case "grid_element":case "shape_element":case "table_element":var a,b,c,d,e;return!!(((c=this.u6)===null||c===void 0?0:(b=c.page)===null||b===void 0?0:(a=b.ia)===null||a===void 0?0:a.locked)||((e=this.u6)===null||e===void 0?0:(d=e.element)===null||
d===void 0?0:d.locked));case "body":case "responsive_page":case "item":case "table_item":case "computed_range":return!1;default:throw new v(this.u6);}}get Y2m(){return this._resolve!==void 0}resolve(){if(this.state!=="resolved"){this.state="fixing";try{var a;(a=this._resolve)===null||a===void 0||a.call(this);this.checked=!1}catch(b){this.state="ready"}}}equals(a){var b=this.target===a.target;if(this.u6.type==="computed_range"&&a.u6.type==="computed_range"){b=this.u6.context;const c=this.u6.mD;({equals:b}=
n(this.Xa).Jma(b.text,c===null||c===void 0?void 0:c.range,a.u6.mD.range));b=b&&this.Wb===a.Wb}return this.state!=="resolved"&&a.state!=="resolved"&&b&&this.rule===a.rule}update(a){this.state="ready";this.clb=a.clb;this._resolve=a._resolve;if(this.locked=a.locked)this.checked=!1;this.u6.type==="computed_range"&&(this.s2l=a.u6,this.hva=a.target)}constructor({TR:a,XF:b,Wb:c,u6:d,Xa:e}){this.Xa=(IQs.G(this),void 0);this.vyf=!1;this.state="ready";this.locked=this.checked=this.selected=this.WXn=!1;const f=
b.id;b=b.nQ;this.id=a;this.ASj=f;this.clb=c;this._resolve=b;this.s2l=d;this.hva=d.target;this.locked=this.Mt();this.Xa=e}};var JQs=class extends IQs{constructor(a){super(a);this.category=this.rule="alt_text";this.messages={title:L("p3y+ug"),description:L("5JvrxA"),ouf:L("f4PKHg")};this.vyf=!0;this._resolve=()=>a.XF.jsj.sQi(!0)}};var KQs=class extends IQs{constructor(...a){super(...a);this.rule="template_font_size_readable";this.category="typography";this.messages={title:L("+UXqTw"),description:L("lRq0hg"),ouf:L("f7d/qQ")};this.vyf=!0}};var LQs=class extends IQs{constructor(...a){super(...a);this.rule="insufficient_link_visibility";this.category="links";this.messages={title:L("GQC92Q"),description:L("udZgEQ"),ouf:L("k3YJlQ")};this.vyf=!1}};var MQs=class extends IQs{get Lvd(){return this.L2l}get JNd(){return this.x3l}get erd(){return this.x2l}update(a){super.update(a);this.u6.type==="computed_range"&&a.rule==="insufficient_text_contrast"&&(this.L2l=a.Lvd,this.x3l=a.JNd,this.x2l=a.erd)}constructor(a){super(a);this.rule="insufficient_text_contrast";this.category="color";this.vyf=!1;const b=a.XF.Lvd,c=a.XF.JNd,d=a.XF.erd;this.messages={title:L("Dc660A"),description:L("ULNaRw"),$Nk:a.yO?L("wNS5yQ"):L("BB0E1Q")};this.L2l=()=>b().slice(0,
3);this.x3l=c;this.x2l=d}};var NQs=class extends IQs{equals(a){return super.equals(a)&&a.rule==="no_justified_or_center_aligned_text_block"&&this.variant===a.variant}constructor(a){super(a);this.rule="no_justified_or_center_aligned_text_block";this.category="typography";this.vyf=!1;var b=a.XF;a=b.variant;b=b.direction==="ltr"?L("veOtUA"):L("8ZGe+g");const c=a==="center"?L("VRXCAg"):L("CuImzg"),d=a==="center"?L("BXqtxg"):L("z+DlIA");this.variant=a;this.messages={title:c,description:d,ouf:b,icon:dV(__c.jxg,{size:"medium",tone:"primary"})}}};var OQs=["insufficient_text_contrast","alt_text","template_font_size_readable","insufficient_link_visibility","no_justified_or_center_aligned_text_block"];var ars=class{static G(a){O(a,{Yaa:yV.ref,Rvk:yV.ref,Mx:mV.struct})}get rules(){ta(this.document.Ja==="fixed");const a=[];this.document.pages.count()<100&&a.push({rule:"insufficient_text_contrast"});a.push({rule:"template_font_size_readable",config:{fI:12}});a.push({rule:"alt_text"});this.F2c&&a.push({rule:"insufficient_link_visibility"});this.Kug&&a.push({rule:"no_justified_or_center_aligned_text_block"});return a}async Hlh(){var a;if(!this.Yaa){const b=await __c.d2e(this.Zaa);oV(()=>{this.Yaa=b})}(a=
this.Yaa)===null||a===void 0||a.WOb(this.rules);this.Rvk=!0}U4e(){var a;(a=this.Yaa)===null||a===void 0||a.Tfc()}get Mx(){var a;return(a=this.Yaa)!==null&&a!==void 0&&a.uK?this.eUg(this.Yaa.uK):[]}eUg(a){return a.flatMap((b,c)=>b.filter(d=>d.rule==="no_justified_or_center_aligned_text_block"&&d.variant==="center"||!this.uZd&&(d.gf.type==="responsive_page"||(d.gf.type==="computed_range"||d.gf.type==="item"||d.gf.type==="table_cell")&&d.gf.context.type==="responsive-page")?!1:OQs.includes(d.rule)).map(d=>
{const e=d.rule,f=Yqs(d.gf),g=(this.pAk++).toString(),h=f.type==="computed_range"?this.Xa:void 0;switch(e){case "alt_text":return new JQs({TR:g,XF:d,u6:f,Wb:c,Xa:h});case "template_font_size_readable":return new KQs({TR:g,XF:d,u6:f,Wb:c,Xa:h});case "insufficient_link_visibility":return new LQs({TR:g,XF:d,u6:f,Wb:c,Xa:h});case "insufficient_text_contrast":return new MQs({TR:g,XF:d,u6:f,Wb:c,yO:this.Ac.yO,Xa:h});case "no_justified_or_center_aligned_text_block":return new NQs({TR:g,XF:d,u6:f,Wb:c,Xa:h});
default:throw new v(e);}}))}constructor(a,b,c,d,e,f,g){this.Zaa=b;this.F2c=c;this.Kug=d;this.uZd=e;this.document=f;this.Xa=g;this.pAk=(ars.G(this),0);this.Rvk=!1;this.Ac=a("none").Ac}},drs=class extends ars{get rules(){const a=[];a.push({rule:"template_font_size_readable",config:{fI:12}});a.push({rule:"insufficient_text_contrast"});a.push({rule:"alt_text"});this.F2c&&a.push({rule:"insufficient_link_visibility"});return a}};var Zqs={get uZd(){return Qb("1aee4160",!1)}};var mrs=FV(a=>{const b=a.NE,c=a.onClick,d=a.oa,e=a.MKf;a=hV(()=>{c===null||c===void 0||c();d===null||d===void 0||d();e()},[c,d,e]);return dV(b,{onClick:a,children:L("WpXa3A")})});var lrs=class{static G(a){O(a,{MKf:gV.bound,OGn:gV.bound,TDn:gV.bound,JKf:gV.bound,T9d:gV.bound})}MKf(){this.ka.layout;2;this.ka.layout===1&&this.nn.open(this.wro)}OGn(){this.nn.close(this.wro)}TDn(a){const b=this.store.Dh;b&&this.selection.Il(b,a.ia)}JKf(a,b){this.M6e.FQi(a.ia,a.container,b)}T9d(a,b){this.M6e.Mhh(a.text,a.range,b)}constructor(a,b,c,d,e,f){this.store=a;this.selection=b;this.ka=c;this.nn=d;this.wro=e;this.M6e=f;lrs.G(this)}};var PQs=class extends __c.ls{SI(a){a.M7(this.Fd,b=>{const c=b.Ya;var d=0,e=0;for(let f=0;f<c.length;f++)e++,c[f]==="\n"&&(e>1&&(d={index:d,length:e},e=b.jwd(d,"semantics","list-level","list-marker"),this.yPc.push({text:a,Ya:c.slice(d.index,d.index+d.length),range:d,attributes:{semantics:e.semantics.values().next().value,"list-level":e["list-level"].values().next().value,"list-marker":e["list-marker"].values().next().value}})),d=f+1,e=0)})}TKa(a,b){if(gk(a)){const c=b==null?b:b.Sf(a);a.paths.forEach(d=>
this.e3b(d,c));this.SI(n(a.ed.first()).text)}else super.TKa(a,b)}i6(a){this.HOa.push(a)}Wid(){}R4f(){}kwh(){}K$e(){}l4(){}constructor(a){super();this.Fd=a;this.yPc=[];this.HOa=[]}};var krs=class{static G(a){O(a,{Dh:mV,page:mV,X7c:mV,RMe:mV,U7c:mV,v_h:mV,vm:mV})}get Dh(){var a=this.viewport.ya;if(a.type==="fixed")return a=this.viewport.mh.container.tb(a),a.type==="fixed-page"?a:void 0}get page(){var a;return(a=this.Dh)===null||a===void 0?void 0:a.ia}get X7c(){return!!this.Dh&&__c.xf(this.Dh)}get RMe(){return!!this.Dh&&!this.X7c}get U7c(){const a=this.viewport;return a.jh&&!a.sQ}get v_h(){const a=this.Dh,b=this.page;if((b===null||b===void 0?void 0:b.type)!=="fixed"||!a)return[];
const c=[];b.elements.toArray().forEach(d=>{const e=new PQs(this.Fd);e.ct(d,a);e.yPc.length&&c.push({element:a.Sf(d),Mt:b.locked||d.locked,yPc:e.yPc})});return c}get vm(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"?[...this.selection.La.elements]:[]}constructor(a,b,c){this.viewport=a;this.selection=b;this.Fd=c;krs.G(this)}};var QQs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.842 8.889c-1.91 0-3.17-1.026-3.287-2.537l-.006-.076h1.693l.006.064c.076.656.68 1.125 1.594 1.125.902 0 1.494-.504 1.494-1.219v-.011c0-.809-.603-1.254-1.629-1.254H17.9v-1.26h.944c.89 0 1.465-.469 1.465-1.154v-.012c0-.703-.487-1.137-1.319-1.137s-1.388.451-1.459 1.154l-.006.053h-1.628l.005-.07c.123-1.512 1.313-2.496 3.088-2.496 1.817 0 2.989.914 2.989 2.261v.012c0 1.055-.774 1.74-1.764 1.946v.035c1.26.117 2.08.843 2.08 1.992v.012c0 1.535-1.318 2.572-3.293 2.572Z"/></svg>';var RQs=er({medium:QQs});var SQs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.604 8.701v-1.552H15.62v-1.39a103.982 103.982 0 0 1 3.346-5.513h2.484v5.485h1.102v1.418H21.45v1.552h-1.687Zm-2.55-2.924H19.8v-4.189h-.094a73.06 73.06 0 0 0-2.49 4.096v.093Z"/></svg>';var TQs=er({medium:SQs});var UQs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm7.889 8.918c-1.81 0-3.006-1.078-3.106-2.49l-.005-.082h1.605l.012.04c.123.622.703 1.12 1.5 1.12.908 0 1.54-.639 1.54-1.547v-.012c0-.902-.638-1.529-1.534-1.529-.428 0-.791.123-1.073.363a1.512 1.512 0 0 0-.392.47h-1.518l.393-5.005h5.285v1.407h-3.908l-.211 2.408h.105c.34-.569.996-.92 1.805-.92 1.576 0 2.713 1.16 2.713 2.771v.012c0 1.781-1.313 2.994-3.211 2.994Z"/></svg>';var VQs=er({medium:UQs});var WQs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M11.16 10.326V4.75h2.236v14.277H11.16V12.24H4.246v6.787H2V4.75h2.246v5.576h6.914Zm8.053 8.918c-1.963 0-3.492-1.389-3.492-4.365v-.012c0-2.83 1.336-4.512 3.498-4.512 1.634 0 2.853.967 3.111 2.291l.012.06h-1.729l-.023-.054c-.2-.527-.68-.884-1.365-.884-1.225 0-1.758 1.2-1.823 2.736-.006.064-.006.129-.006.193h.118c.304-.656 1.013-1.236 2.18-1.236 1.646 0 2.76 1.172 2.76 2.771v.012c0 1.729-1.337 3-3.241 3Zm-1.553-2.976c0 .89.68 1.576 1.541 1.576.856 0 1.541-.674 1.541-1.541v-.012c0-.885-.644-1.53-1.53-1.53-.872 0-1.552.628-1.552 1.5v.007Z"/></svg>';var XQs=er({medium:WQs});var YQs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.331 6.851a6.036 6.036 0 0 0-1.364.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144ZM8.33 6.851a6.036 6.036 0 0 0-1.365.563c-.398.27-.736.605-1.006.981a1.34 1.34 0 0 0-.286.853c0 .742.562 1.305 1.302 1.358 2.25.16 4.024 1.975 4.024 4.191 0 2.321-1.946 4.203-4.347 4.203-2.312 0-3.821-1.678-4.406-3.928-.96-3.696 1.001-7.541 3.792-9.264.74-.456 1.218-.585 1.822-.761.604-.176.98.162 1.11.66a.937.937 0 0 1-.64 1.144Z" fill="currentColor"/></svg>';var jts=er({medium:YQs});var ZQs={p:{Icon:__c.gxg,label:L("ngh+zA")},h1:{Icon:__c.Ssf,label:L("Zlbecw")},h2:{Icon:__c.Usf,label:L("2hxuYg")},h3:{Icon:RQs,label:L("q9XNpA")},h4:{Icon:TQs,label:L("e/pNFw")},h5:{Icon:VQs,label:L("Ak3EXw")},h6:{Icon:XQs,label:L("DlxQWg")},blockquote:{Icon:jts,label:L("e+rlNA")}};var $Qs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m12.74 8.22-2.507-4.318a1.202 1.202 0 0 0-2.079 0l-5.85 10.075a1.202 1.202 0 0 0 1.039 1.805H9.96l-.69 3.484c-.198.996.859 1.769 1.749 1.279l3.334-1.836 3.334 1.836c.89.49 1.946-.283 1.749-1.28l-.73-3.686 2.768-2.546c.751-.69.346-1.945-.667-2.066l-3.764-.452-1.608-3.427c-.43-.916-1.734-.916-2.164 0l-.53 1.131ZM9.194 5.1 3.86 14.281h4.73l-1.358-1.249c-.751-.69-.347-1.945.667-2.066l3.764-.452.302-.644L9.194 5.1Zm5.159 3.213 1.686 3.593 3.932.471-2.9 2.668.767 3.87-3.485-1.918-3.485 1.919.767-3.87-2.9-2.669 3.932-.471 1.686-3.593Z" fill="currentColor"/></svg>';var lIs=er({medium:$Qs});var bRs=({Sze:a,IKb:b})=>{if(!b&&a.yPc[0])return dV(aRs,{iOf:a.yPc[0]});switch(a.element.type){case "table-element":a=__c.U$g;break;case "text-element":a=__c.oA;break;case "group-element":a=__c.KHp;break;case "shape-element":a=gk(a.element.ia)?__c.oA:lIs;break;case "line-element":a=__c.Nwf;break;default:a=__c.Uu}return dV(a,{size:"medium"})},aRs=({iOf:a})=>{var b;a=(a=a.attributes.semantics)?(b=ZQs[a])===null||b===void 0?void 0:b.Icon:__c.oA;return dV(a,{size:"medium"})};var cRs=({selected:a})=>dV("div",{"aria-hidden":"true",className:CV("Eo4riA",{XFp1Xw:a})});var dRs=parseInt("34px",10),eRs=parseInt("184px",10),hRs=FV(a=>{const {Vkf:b,selected:c,role:d,ariaLabel:e,onClick:f,onContextMenu:g,end:h,...k}=a;return dV(fRs,{Vkf:b,role:d,selected:c,onClick:f,onContextMenu:g,ariaLabel:e,end:h,children:dV(gRs,{...k})})}),gRs=FV(a=>{const b=a.jd,c=a.icon;return kV("div",{className:"lBJuRw",children:[dV("div",{className:CV(a.Ggs,"BziGlA"),children:b}),dV("div",{className:"JgQKxA",children:c})]})}),fRs=fV(a=>{const {Vkf:b,selected:c,role:d,ariaLabel:e,children:f,
end:g,onContextMenu:h,...k}=a;a=!Hc.vba&&Wb();return kV("div",{role:d,className:CV("e6Tqqw",{IYbWNQ:a,XFp1Xw:c}),onContextMenu:h,children:[dV(rr,{className:CV(b,"zCfkxw"),ariaLabel:e,hk:"right",...k,children:f}),dV("div",{className:"E1ca_Q",children:g})]})});var iRs=a=>{const b=a.Mt,c=a.Z$n,d=a.WIn;a=zV(()=>dV(rV,{children:__c.POc.map(f=>{const {Icon:g,label:h}=ZQs[f];return dV(__c.vv,{start:dV(g,{}),end:c.has(f)?dV(__c.Cr,{}):null,onClick:()=>d(f),children:h},f)})}),[d,c]);const e=hV(({IO:f,...g})=>dV(bj,{ref:f,...g,variant:"tertiary",size:"small"}),[]);return b?dV(R,{padding:"0.5u",children:dV(fy,{})}):dV(__c.uv,{icon:__c.iv,trigger:e,children:a})};var kRs=a=>{const {iOf:b,T9d:c,icon:d,Mt:e,...f}=a;return dV(hRs,{...f,jd:dV(P,{size:"small",lineClamp:1,children:b.Ya}),icon:d,end:dV(jRs,{Mt:e,iOf:b,T9d:c})})},jRs=FV(a=>{const b=a.Mt,c=a.iOf,d=a.T9d;a=new Set;c.attributes.semantics&&a.add(c.attributes.semantics);return dV(iRs,{Mt:b,Z$n:a,WIn:e=>{d(c,e)}})});var lRs=({selected:a,IZp:b})=>dV("div",{"aria-hidden":"true",className:CV("Q6TvXg",{QTwIyQ:b,alt0MA:a})});var grs=fV(a=>{const b=a.page,c=a.Sze,d=a.selected,e=a.FQr,f=a.JKf,g=a.T9d;a=a.Ll;const h=hQs(),[k,l]=nV(!1),m=hV(()=>{e(c.element)},[e,c]),p=c.yPc.length>1;!p&&k&&l(!1);return kV(rV,{children:[kV("li",{children:[dV(hRs,{role:"group",Vkf:p?"V9ODmA":"Ryv6KQ",selected:d,ariaLabel:L("n97ugg"),onClick:m,icon:dV(bRs,{Sze:c,IKb:p}),jd:dV(a,{element:c.element.ia,page:b,nd:eRs,sf:dRs}),end:c.yPc.length>0?dV(mRs,{oFq:h,hwk:k,Sze:c,vTr:l,JKf:f}):null}),p&&!k&&dV(cRs,{selected:d})]}),dV("div",{id:h,className:"jShvtg",
children:k&&dV(Uc,{spacing:"1u",children:c.yPc.map((q,r)=>kV("li",{className:"JTzkBw",children:[dV(lRs,{selected:d,IZp:r===0}),dV(kRs,{role:"group",Vkf:"Ryv6KQ",Ggs:"CWppGQ",selected:!1,Mt:c.Mt,ariaLabel:L("n97ugg"),onClick:()=>{},iOf:q,T9d:g,icon:dV(aRs,{iOf:q})})]},r))})})]})}),mRs=({oFq:a,hwk:b,Sze:c,vTr:d,JKf:e})=>{const f=new Set;c.yPc.forEach(h=>{h.attributes.semantics&&f.add(h.attributes.semantics)});const g=()=>{d(!b)};return kV(rV,{children:[c.yPc.length>1&&dV(bj,{variant:"tertiary",size:"small",
jk:!0,pressed:b,ariaLabel:b?L("5aXSNA"):L("Yu3QyA"),Qg:a,icon:b?__c.au:wr,onClick:g}),dV(iRs,{Mt:c.Mt,Z$n:f,WIn:h=>{e(c.element,h)}})]})};var irs=a=>{const b=a.vm,c=a.w2o;return dV(R,{height:"full",padding:"2u",flexDirection:"column",paddingTop:"0",children:dV(ao,{children:dV(R,{minHeight:"minTouchableArea",children:dV(Uc,{spacing:"1u",tagName:"ul",children:a.v_h.map((d,e)=>dV(c,{Sze:d,mc:b.includes(d.element.ia)},e))})})})})},hrs=({title:a,content:b})=>kV(R,{paddingTop:"12u",className:"KTaopA",children:[dV(jd,{size:"8u",direction:"vertical"}),kV(Uc,{spacing:"1u",children:[dV(nr,{alignment:"center",tone:"secondary",size:"small",children:a}),
dV(P,{alignment:"center",tone:"tertiary",children:b})]})]});var Ers=FV(({onClick:a,oa:b,fl:c})=>dV(c,{Icon:RAj,label:L("2kDi/A"),onClick:a,oa:b})),Frs=FV(({zi:a,...b})=>dV(a,{...b,yh:"icon-and-label",icon:RAj,children:L("2kDi/A")}));var nRs={eventType:"editor_alt_text_panel_opened",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),initial_char_count:a.Crk,marked_decorative:a.QGk,impression_id:a.$F,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.ELo,control_context:a.kb,media_type:a.mediaType,is_multiple_fill:a.nMe,control_context_impression_id:a.Xue})}},oRs={eventType:"editor_alt_text_panel_closed",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),end_char_count:a.jDq,marked_decorative:a.QGk,
impression_id:a.$F,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.ELo,interaction_trigger:a.cgb,media_type:a.mediaType,is_multiple_fill:a.nMe,text_is_exactly_generated:a.bYs,control_context_impression_id:a.Xue})}},pRs={eventType:"editor_alt_text_panel_char_limit_reached",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),impression_id:a.$F,element_type:a.elementType,resource_id:a.resourceId,user_uploaded_media:a.ELo,max_char_count:a.GAr,media_type:a.mediaType,is_multiple_fill:a.nMe,
control_context_impression_id:a.Xue})}},ors={eventType:"editor_alt_text_panel_generated",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),impression_id:a.$F,initial_char_count:a.Crk,element_type:a.elementType,resource_id:a.resourceId,media_type:a.mediaType,is_multiple_fill:a.nMe,control_context_impression_id:a.Xue})}};var Brs=class{static G(a){O(a,{NFb:yV.ref,kb:yV.ref,i0e:mV,Xdd:mV,G$n:mV,x$n:mV,vog:mV,placeholder:mV,Ahg:mV,Wva:mV,Yqd:mV,wog:mV,pkl:mV,YAj:mV})}get i0e(){var a=this.Yqd;if(a)return this.H2.qRg.Wwf(a,this.Xdd);if(this.selection.La){a=this.selection.La.container;var b=this.selection.La.zg,c=this.selection.La.inner,d=this.selection.La.hp,e=this.selection.La.type,f=["group","layout","layout-cell","sheet-cell-media"];if(b&&d&&e==="elements"&&!f.includes(c===null||c===void 0?void 0:c.type))switch(b.type){case "rect":case "shape":case "grid":case "line":case "chart":case "table":case "sheet":case "text":case "embed":return this.H2.lXj.Wwf(b,
a,d,this.pkl);case "group":case "controlled":case "layout":break;default:throw new v(b);}}}get Xdd(){if(this.selection.La!=null)return this.x$n;if(this.selection.Jb!=null)return this.G$n}get G$n(){var a=this.Yqd;if(a)switch(a.type){case "rect":return qRs(a.fill)?a.fill:void 0;case "shape":a=a.paths.filter(b=>b.fill.dropTarget===!0);if(a.length!==1)break;a=n(a[0]).fill;return qRs(a)?a:void 0;case "controlled":case "chart":case "design":case "embed":case "pill":case "layout":case "break":case "separator":case "table":case "sheet":break;
default:throw new v(a);}}get x$n(){const a=this.pkl;return a&&qRs(a)?a:void 0}yci(a){return a.filter(b=>b.fill.dropTarget===!0).length>1}get vog(){const a=this.Wva,b=this.Yqd;if(!a&&!b)return!1;if((b===null||b===void 0?void 0:b.type)==="shape")return this.yci(b.paths);if(!a)return!1;switch(a.type){case "shape":return this.yci(a.paths);case "grid":return a.cells.size>1;case "rect":case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":return!1;
default:throw new v(a);}}get placeholder(){var a,b,c;const d=this.i0e;if((d===null||d===void 0?void 0:d.fill)!=null){var e=(a=d.fill.image.ref)===null||a===void 0?void 0:a.media;return(a=d.fill.video.ref)&&((b=this.$b.TRc(a))===null||b===void 0?void 0:b.altText)||e&&((c=__c.OCa(this.Pa.jp(e)))===null||c===void 0?void 0:c.text)}}get Ahg(){var a,b;return(b=(a=this.i0e)===null||a===void 0?void 0:a.editable)!==null&&b!==void 0?b:!1}get Wva(){var a;return(a=this.selection.La)===null||a===void 0?void 0:
a.zg}get Yqd(){const a=this.selection.Jb;if((a===null||a===void 0?0:a.only)&&a.type===1)return a.only.type==="break"&&a.only.marker.Jg.ref?a.only.marker.Jg.ref:a.only}get wog(){var a,b,c;return(c=(a=this.Wva)===null||a===void 0?void 0:a.type)!==null&&c!==void 0?c:(b=this.Yqd)===null||b===void 0?void 0:b.type}get pkl(){var a;let b;const c=(a=this.selection.La)===null||a===void 0?void 0:a.inner;if(c==null){a=this.Wva;if(!a)return;switch(a.type){case "rect":b=a.fill;break;case "shape":a=a.paths.filter(d=>
d.fill.dropTarget===!0);a.length===1&&(b=a[0].fill);break;case "grid":a.cells.size===1&&(b=a.cells.values().next().value.fill);break;case "line":case "chart":case "embed":case "group":case "controlled":case "table":case "sheet":case "text":case "layout":break;default:throw new v(a);}b&&!qRs(b)&&(b=void 0)}else switch(c.type){case "grid":b=c.cells[0].fill;break;case "shape":b=c.paths[0].fill;break;case "table":case "sheet":case "sheet-cell-media":case "group":case "background":case "layout":case "layout-cell":case "pages":break;
default:throw new v(c);}return b}get YAj(){var a=this.Yqd;if(this.selection.Jb!=null&&a!=null)return(a===null||a===void 0?void 0:a.type)==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!0;if(this.selection.La==null)return!1;a=this.selection.La.zg;return this.selection.La.inner==null?!0:(a===null||a===void 0?void 0:a.type)==="grid"?a.cells.size===1:(a===null||a===void 0?void 0:a.type)==="shape"?a.paths.filter(b=>b.fill.dropTarget===!0).length===1:!1}constructor(a,b,c,d){this.selection=
a;this.H2=b;this.Pa=c;this.$b=d;this.NFb=(Brs.G(this),void 0);this.kb=void 0;this.Wch=!1;this.lwe=this.A0c=void 0}},qRs=a=>{const b=a.video;return a.image.ref!=null||b.ref!=null};var rRs={get Gvq(){return Qb("c13bdd7e",!1)}};var sRs=class{static G(a){O(a,{Nkk:gV,e0m:gV,ylk:gV,modified:mV})}Nkk(a,b){a.type==="SUCCESS"?(xrs(this.JO,a.altText),b.end()):(yrs(this.JO),b.end("error"))}e0m(a,b){a.type==="SUCCESS"?(xrs(this.JO,a.description),b.end()):(yrs(this.JO),b.end("error"))}Ib(){this.la.Ib({Cb:this.JF.i0e?L("6iK/DQ"):L("pfadYQ"),media:{content:dV(ey,{size:"medium"})},rr:{buttonText:L("/rk4jg"),onClick:gV(()=>this.undo.undo())}})}ylk(a,b){this.JO.state="magic_error";this.errorService.pa(a,{Ka:"generateMagicAltText: "+b})}GHd(a){var b=
this.JF.i0e,c=this.JO,d=this.JF.Xdd,e=this.qkr();c.GHd(b);d!==null&&d!==void 0&&d.image.ref&&e?(b=c.unj.get(d))?(__c.Yr.domain.lm(__c.Yr.snapshot(d.image.ref),b.DOm)||(b.yTj=!1,b.DOm=__c.Yr.snapshot(d.image.ref)),c.xAc=b):(b={DOm:__c.Yr.snapshot(d.image.ref),yTj:!1},c.xAc=b,c.unj.set(d,c.xAc)):c.xAc=void 0;this.JF.Wch=!1;this.JF.A0c=Sb();this.JF.lwe=a}A7e(a){const b=this.JF.Xdd;this.P.track(pRs,{$F:this.JF.A0c,Xue:this.JF.lwe,elementType:this.JF.wog,resourceId:qrs(b),GAr:a,nMe:this.JF.vog,mediaType:prs(b)})}get fill(){return n(this.JF.Xdd)}get modified(){const a=
this.JF.i0e,b=this.JO.text,c=this.JO.sz;return a?b!==a.text||c!==a.sz:b!==""||c!==!1}constructor(){this.Vag=(sRs.G(this),void 0);this.setText=a=>{a.length>=250&&this.A7e(250);this.JO.text=a;this.JO.state="user_modified"};this.sQi=a=>{this.JO.sz=a;this.JO.state="user_modified"};this.fRq=async()=>{const a=this.V.dFh.sb("suggest_alt_text",{Fb:{name:"editor.editing.alt_text.suggest_alt_text"}});this.JO.state="generating_magic";rrs(this);let b;try{b=await this.ZQq()}catch(c){this.ylk(c,"fillRasterizer fail");
a.end("error");return}if(b)if(b===this.JO.Soi&&this.JO.Kfa!=null)setTimeout(()=>{this.Nkk({altText:n(this.JO.Kfa),type:"SUCCESS"},a)},500);else try{this.JO.Soi=b;const c=await this.Ufa();if(rRs.Gvq){const d=new __c.D$r({V5m:b}),e=await c.vTm(d);this.Nkk(e,a)}else{const d=new __c.Fos({t6c:b}),e=await c.e$h(d);this.e0m(e,a)}}catch(c){this.ylk(c,"getMagicDescription fail"),a.end("error")}};this.xX=()=>{this.JF.Wch=!0;const a=this.JF.i0e;this.modified&&a&&__c.Lie(a,this.JO.altText)!==!1&&this.Ib()};this.onFormOpen=
a=>{this.GHd(a);a=this.JF.Xdd;this.P.track(nRs,{$F:this.JF.A0c,elementType:this.JF.wog,Crk:this.JO.text.length,QGk:this.JO.sz,resourceId:a?qrs(a):void 0,kb:this.JF.kb,Xue:this.JF.lwe,nMe:this.JF.vog,mediaType:a?prs(a):void 0})};this.onFormClose=a=>{this.JF.lwe=a;a=this.JF.Xdd;const b=this.JO.text;this.P.track(oRs,{$F:this.JF.A0c,Xue:this.JF.lwe,elementType:this.JF.wog,jDq:b.length,QGk:this.JO.sz,resourceId:qrs(a),cgb:this.JF.Wch?"save_button_clicked":void 0,nMe:this.JF.vog,mediaType:prs(a),bYs:b===
this.JO.Kfa});this.JF.A0c=void 0;this.JF.lwe=void 0;this.JF.Wch=!1}}},Crs=class extends sRs{get ztn(){const a=this.JF.Xdd;return{type:"image",fill:n(a===null||a===void 0?void 0:a.image.ref)}}constructor(a,b,c,d,e,f,g,h,k,l){super();this.JF=a;this.JO=b;this.Ufa=c;this.la=d;this.undo=e;this.P=f;this.V=g;this.errorService=h;this.iJb=k;this.Uf=l;this.qkr=()=>{var m=this.JF.Wva;const p=this.JF.Xdd;if(!p)return!1;if(this.JF.Yqd!=null){var q,r=p===null||p===void 0?void 0:(q=p.image.ref)===null||q===void 0?
void 0:q.ub;return!!r&&r.height>1&&r.width>1}if(!m)return!1;let t;switch(m.type){case "grid":var u;r=Array.from(__c.kn(m).entries());t=n((u=r.find(([w])=>w.fill===p))===null||u===void 0?void 0:u[1]);break;case "rect":t=m;break;case "shape":q=n(m.paths.filter(w=>w.fill===p).at(0));u=__c.An(m.viewBox,m.slice)/m.width;m=__c.Dn(q.d,m.slice);m=__c.fCb(m,q.pb*u);m=__c.te(m);t=n((r=__c.mn(m))===null||r===void 0?void 0:r.Mb());break;case "group":case "controlled":case "chart":case "layout":case "table":case "sheet":case "line":case "text":case "embed":break;
default:throw new v(m);}return!!t&&t.height>1&&t.width>1};this.tCp=m=>{m.resetTransform();m.globalCompositeOperation="destination-over";m.fillStyle="#ffffff";m.fillRect(0,0,Math.round(m.canvas.width),Math.round(m.canvas.height));return m};this.ZQq=async()=>{var m=this.JF.Wva;const p=this.JF.Yqd;if(m&&this.Uf!=null)return ta(m.type==="grid"||m.type==="rect"||m.type==="shape"),await this.Vag,m=__c.DMg(this.Uf,m,this.fill,262144),ta(m.canvas.width>1&&m.canvas.height>1,`rasterized canvas height (${m.canvas.height}) or width (${m.canvas.width}) were too small`),
this.tCp(m).canvas.toDataURL();if(p!=null)return await this.Vag,m=this.iJb.Fxd(this.ztn),ta(!!m&&"toDataURL"in m,"fillRasterizer.imageFor returned non canvas image source"),ta(m.width>1&&m.height>1,`rasterized canvas height (${m.height}) or width (${m.width}) were too small`),m.toDataURL()}}},qrs=a=>{if(a){if(a.image.ref)return a.image.ref.media.id;if(a.video.ref)return a.video.ref.video}},prs=a=>{if(a){if(a.video.ref)return"video";if(a.image.ref)return"image"}};var tRs,uRs,vRs,Drs;new (tRs=class extends JV{constructor(){super(Drs);uRs()}},(()=>{class a extends(vRs=HV){static G(b){O(b,{R9l:mV})}get R9l(){return this.props.Oe==="fill"?{}:{role:"dialog","aria-label":L("2kDi/A")}}render(){return dV("div",{tabIndex:-1,...this.R9l,children:dV(__c.ur,{preventScroll:"always",children:this.props.children})})}constructor(...b){super(...b);a.G(this)}}({c:[Drs,uRs]}=KV(a,[],[Ob],vRs))})(),tRs);var wRs,xRs,yRs,urs;
new (wRs=class extends JV{constructor(){super(urs);xRs()}},(()=>{class a extends(yRs=HV){static G(b){O(b,{Ina:gV.bound,Vwi:gV.bound,onSubmit:gV.bound,componentDidMount:gV.bound,componentWillUnmount:gV.bound})}Ina(b){this.props.Ina(b)}Vwi(b,c){this.props.Vwi(c)}onSubmit(){var b,c;this.props.onSubmit();(b=(c=this.props).oa)===null||b===void 0||b.call(c)}componentDidMount(){var b,c,d,e;(b=this.dUc.current)===null||b===void 0||b.setSelectionRange(this.dUc.current.value.length,this.dUc.current.value.length);(c=
this.dUc.current)===null||c===void 0||c.focus();(d=(e=this.props).Rc)===null||d===void 0||d.call(e)}componentWillUnmount(){var b,c;(b=(c=this.props).ki)===null||b===void 0||b.call(c)}render(){const b=this.props.Hoh,c=this.props.TVh,d=this.props.xvc,e=this.props.Oe;return dV(__c.fp,{onSubmit:this.onSubmit,children:dV(R,{padding:"2u",className:CV("TeFiIw",{_3HJrgw:e==="fixed"}),children:kV(Uc,{spacing:"2u",children:[dV(eD,{...b,label:L("ZWXgnQ"),control:this.ztp,children:e==="fill"?this.l4o:void 0}),
dV(__c.Er,{...c,label:L("23N7Lw"),description:L("33lzww"),onChange:this.Vwi,className:"_6i0ZkQ"}),dV(bj,{...d,type:"submit",variant:"primary",alignment:"center",stretch:!0,className:"_8cqUoQ",children:L("vuvBJw")})]})})})}constructor(...b){super(...b);this.dUc=(urs.G(this),IV());this.ztp=c=>{const {Hoh:{error:d,...e},nhp:f,placeholder:g}=this.props;return dV(__c.rD,{...c,...e,maxLength:250,Qn:3,maxRows:8,onChange:this.Ina,placeholder:f?void 0:g,className:"_3J08Bg",ref:this.dUc,footer:dV(R,{padding:"1.5u",
children:kV(jr,{spacing:"0",Fa:"end",align:"end",children:[f&&dV(ir,{children:dV(f,{})}),dV(ir,{width:"content",children:dV(__c.yv,{count:e.value.length||0,max:250,margins:"none"})})]})})})};this.l4o=({label:c,description:d,error:e,control:f})=>kV(rV,{children:[dV(__c.Oc,{children:c}),kV(Uc,{spacing:"0.5u",children:[f,d,e]})]})}}({c:[urs,xRs]}=KV(a,[],[Ob],yRs))})(),wRs);var trs=({magic:a,onClick:b})=>dV(__c.kxh,{size:"small",icon:__c.LD,...a,onClick:gV(b)}),zRs=({XWk:a})=>dV(__c.nk,{message:L("S0T8aQ"),lf:a}),ARs=({uWk:a})=>dV(__c.nk,{message:L("N7FjZA"),lf:a});var Ars=class{static G(a){O(a,{text:yV.ref,sz:yV.ref,unj:yV.shallow,xAc:yV.shallow,_state:yV.ref,Kfa:mV,Soi:mV,altText:mV,Hoh:mV,Roi:mV,TVh:mV,xvc:mV,fEh:mV})}set state(a){this._state=a}GHd(a){this.state="initial";var b;this.text=(b=a===null||a===void 0?void 0:a.text)!==null&&b!==void 0?b:"";var c;this.sz=(c=a===null||a===void 0?void 0:a.sz)!==null&&c!==void 0?c:!1}get Kfa(){var a;return(a=this.xAc)===null||a===void 0?void 0:a.Kfa}set Kfa(a){n(this.xAc).Kfa=a}get Soi(){var a;return(a=this.xAc)===
null||a===void 0?void 0:a.E7q}set Soi(a){n(this.xAc).E7q=a}get altText(){return this.text||this.sz?{text:this.text,sz:this.sz}:void 0}get Hoh(){return{value:this.text,disabled:this.sz||this._state==="generating_magic",description:this.text!==this.Kfa||this.sz?L("h8UR7Q"):dV(zRs,{XWk:this.XWk}),error:this.mAp}}get Roi(){if(this.O2c&&this.xAc){var a=this.Nzp;return{children:this.text===this.Kfa?L("Ff5I3g"):L("SEajlQ"),disabled:a,loading:this._state==="generating_magic",hb:this._state!=="magic_error"&&
this.fEh?L("PG8Mog"):void 0}}}get TVh(){return{checked:this.sz,disabled:this._state==="generating_magic"}}get xvc(){return{disabled:this._state==="generating_magic"}}get fEh(){var a,b;return(b=(a=this.xAc)===null||a===void 0?void 0:a.yTj)!==null&&b!==void 0?b:!1}get mAp(){if(this._state==="magic_error")return this.fEh?dV(ARs,{uWk:this.uWk}):L("eK5DjQ")}get Nzp(){return this.fEh||this.sz||this.text===this.Kfa}constructor(a,b,c){this.XWk=a;this.uWk=b;this.O2c=c;this.text=(Ars.G(this),"");this.sz=!1;
this.unj=new Map;this._state="initial"}};var zrs=class{get V(){return this.dFh}get Y5r(){return this.Cnj}constructor(a){this.dFh=a.Ud("editor.editing.alt_text")}};var Lrs=class{get Vkl(){return this.store.Vkl}get VMh(){return this.store.VMh}Mhh(a,b,c){this.L.RWf(a,b,c)}FQi(a,b,c){this.L.FQi(a,b,c)}Hpl(a){this.L.Hpl(a)}constructor(a,b){this.store=a;this.L=b}};var BRs=class extends __c.ls{RWf(a,b){a.M7(this.Fd,c=>{c.WOa("semantics",this.nCa,b)})}SI(a){this.RWf(a,{index:0,length:a.charLength})}TKa(a,b){if(gk(a)){const c=b==null?b:b.Sf(a);a.paths.forEach(d=>this.e3b(d,c));this.SI(n(a.ed.first()).text)}else super.TKa(a,b)}Wid(){Hrs()}R4f(){Hrs()}kwh(){Hrs()}K$e(){Hrs()}constructor(a,b){super();this.nCa=a;this.Fd=b}};var Krs=class{static G(a){O(a,{RWf:gV,FQi:gV,Hpl:gV})}RWf(a,b,c){(new BRs(c,this.Fd)).RWf(a,b)}FQi(a,b,c){(new BRs(c,this.Fd)).ct(a,b)}Hpl(a){if(this.store.VMh){var b=this.store.hm;pa(b!=null);var c=new BRs(a,this.Fd);b.type==="focused"&&c.RWf(b.Oc,b.range);b.type==="multi-config"&&[...Irs(b,0),...Irs(b,1),...Irs(b,4),...Irs(b,3),...Irs(b,2)].forEach(d=>{c.SI(d)})}}constructor(a,b){this.store=a;this.Fd=b;Krs.G(this)}};var Jrs=class{static G(a){O(a,{hm:mV,VMh:mV,Vkl:mV})}get hm(){var a;return(a=this.TEh)===null||a===void 0?void 0:a.state}get VMh(){var a;return this.hm!=null&&((a=this.TEh)===null||a===void 0?void 0:a.Ji())===!0}get Vkl(){return this.TEh==null?new Set:this.TEh.attributes.semantics}constructor(a){this.TEh=a;Jrs.G(this)}};var CRs,DRs,ERs,FRs;
new (CRs=class extends JV{constructor(){super(FRs);DRs()}},(()=>{class a extends(ERs=HV){static G(b){O(b,{H_:yV.ref,rWe:yV.ref,Qld:yV.ref,iNg:yV.ref,Jtg:yV.ref,pe:yV.ref,onDragEnd:yV.ref,Gw:yV.ref,onPointerMove:gV.bound,onPointerDown:gV.bound,onPointerUp:gV.bound,onPointerLeave:gV.bound,onPointerCancel:gV.bound,onTouchStart:gV.bound,reset:gV.bound,rMe:mV,Sno:mV,Sza:mV,TTn:mV,O1f:mV,iD:mV,cJa:mV})}componentDidMount(){this.props.selection.deselectAll();this.addEventListeners();Kb(this,[eV(()=>this.cJa,
b=>{b?this.removeEventListeners():this.addEventListeners()}),Ats(()=>{this.ref.current!=null&&this.rMe&&this.Vel()})])}componentWillUnmount(){this.reset();this.removeEventListeners()}render(){const b=this.props.dr;return dV("div",{ref:this.ref,className:CV("bIzkSw",this.Sza),children:this.Sno&&b&&dV("div",{className:"_3CeqYg",style:this.TTn,children:dV(b,{})})})}onPointerMove(b){this.Qld===b.pointerId&&b.currentTarget instanceof HTMLElement&&!b.currentTarget.hasPointerCapture(b.pointerId)&&this.setPointerCapture(b);
this.H_=new xj(b.clientX,b.clientY);if(b.pointerId===this.Qld&&this.rWe&&!this.iNg)if(this.Jtg){var c;(c=this.pe)===null||c===void 0||c.call(this,b)}else if(b.pointerType==="mouse"&&(b.buttons&1)===0)this.reset(),this.oa();else{c=this.O1f.transformPoint(this.rWe);var d=this.O1f.transformPoint(this.H_),{top:e,left:f,width:g,height:h}=__c.Tj(c,d).Mb();this.sfn(g,h)&&(this.o2=this.props.undo.startBuffering(),this.iNg=!0,Promise.resolve(this.props.ppe({top:e,left:f,dPl:!0})).then(k=>{if(k&&this.props.BZh!==
"none"){this.Jtg=k;var {onDragStart:l,pe:m,onDragEnd:p,Gw:q}=this.eUq(k)||{};l===null||l===void 0||l(b);this.pe=m;this.onDragEnd=p;q&&(this.Gw=q,document.addEventListener("keydown",this.Gw))}else this.reset(),this.oa()}).catch(()=>{}).finally(()=>{this.iNg=!1}))}}eUq(b){var c,d;const e=this.props.Zo,f=this.props.nKj,g=this.props.selection.La;if((g===null||g===void 0?void 0:g.type)==="elements"&&(g===null||g===void 0?void 0:g.Nd)===b){var h=this.dUq(b),k=(c=(d=e.controls).j2e)===null||c===void 0?void 0:
c.call(d,h);if(k){var l=f===null||f===void 0?void 0:f(g);return{onDragStart:m=>{k.onDragStart(m);l===null||l===void 0||l.onDragStart(h,m)},pe:m=>{k.pe(m);l===null||l===void 0||l.pe()},onDragEnd:()=>{try{l===null||l===void 0||l.onDragEnd()}finally{k.onDragEnd()}},Gw:l===null||l===void 0?void 0:l.Gw}}}}dUq(b){switch(b.type){case "shape":return"bottom-right";case "line":return"right";case "text":return"right";default:throw new v(b);}}onPointerDown(b){b.preventDefault();if(b.pointerType!=="mouse"||b.button===
0){if(b.pointerType==="pen"||b.pointerType==="touch")if(this.Ohb++,this.Ohb>1){this.Qld&&(this.releasePointerCapture(b),this.Qld=void 0);return}this.Qld=b.pointerId;this.setPointerCapture(b);this.H_=new xj(b.clientX,b.clientY);this.rWe=new xj(b.clientX,b.clientY)}}onPointerUp(b){if(b.pointerType==="pen"||b.pointerType==="touch")this.Ohb=Math.max(0,this.Ohb-1);if(b.pointerId===this.Qld){if(this.rWe&&this.H_){const d=this.O1f.transformPoint(this.rWe),e=this.O1f.transformPoint(this.H_),{top:f,left:g,
width:h,height:k}=__c.Tj(d,e).Mb();if(!this.sfn(h,k)){var c;this.o2=this.props.undo.startBuffering();Promise.resolve(this.props.ppe({top:f,left:g})).then(l=>{var m;l&&((m=this.props.selection.La)===null||m===void 0?void 0:m.Nd)===l&&this.props.L6c&&this.props.L6c(this.props.selection.La)}).catch(()=>{});(c=this.o2)===null||c===void 0||c.stop()}this.oa()}this.releasePointerCapture(b);this.reset()}}onPointerLeave(){this.reset()}onPointerCancel(b){this.Ohb=Math.max(0,this.Ohb-1);b.pointerId===this.Qld&&
this.reset()}onTouchStart(b){b.preventDefault();var c;Array.from((c=b.touches)!==null&&c!==void 0?c:[]).forEach(d=>{d.identifier!=null&&this.N4b.add(d.identifier)});this.N4b.size<2&&(b.stopPropagation(),setTimeout(()=>{var d,e;this.N4b.size>1&&((e=this.ref.current)===null||e===void 0||(d=e.parentElement)===null||d===void 0||d.dispatchEvent(b))},120))}oa(){setTimeout(()=>{this.props.oa()},0)}setPointerCapture(b){if(b.currentTarget instanceof HTMLElement)try{b.currentTarget.setPointerCapture(b.pointerId)}catch(c){}}releasePointerCapture(b){if(b.currentTarget instanceof
HTMLElement&&b.currentTarget.hasPointerCapture(b.pointerId))try{b.currentTarget.releasePointerCapture(b.pointerId)}catch(c){}}get rMe(){return this.props.viewport.jh&&!this.props.viewport.hU}Vel(){var b;if(((b=this.ref)===null||b===void 0?void 0:b.current)!=null&&this.rMe){b=this.props.viewport.jz();var {width:c,height:d}=b.Mb(),{top:e,left:f}=b.transform(this.O1f).Mb();Object.assign(this.ref.current.style,{width:`${c}px`,height:`${d}px`,top:`${e*this.props.Pc.scale}px`,left:`${f*this.props.Pc.scale}px`})}}get Sno(){return!this.cJa&&
this.H_!=null&&!this.rWe}sfn(b,c){return b>5||c>5}get Sza(){return this.cJa?"tAyUIw":this.props.BZh==="none"?"XVr5aA":"uGIU_Q"}get TTn(){if(this.H_){var b=this.bje(this.H_);return{transform:`translate(${b.x}px, ${b.y}px) scale(${this.props.Pc.scale})`}}}bje(b){return this.props.viewport.hU?this.props.viewport.Ol(this.props.page).then(Lj(this.props.Pc.scale)).transformPoint(b):this.props.viewport.Mha().transformPoint(b)}get O1f(){return this.props.viewport.Ol(this.props.page)}get iD(){return this.props.page.ia}get cJa(){return this.iD.locked===
!0}constructor(...b){super(...b);this.ref=(FRs.G(this),IV());this.iNg=!1;this.Ohb=0;this.N4b=new Set;this.addEventListeners=()=>{this.ref.current==null||this.cJa||(this.ref.current.addEventListener("pointermove",this.onPointerMove),this.ref.current.addEventListener("pointerdown",this.onPointerDown),this.ref.current.addEventListener("pointerup",this.onPointerUp),this.ref.current.addEventListener("pointerleave",this.onPointerLeave),this.ref.current.addEventListener("pointercancel",this.onPointerCancel),
this.ref.current.addEventListener("touchstart",this.onTouchStart),this.ref.current.addEventListener("touchend",this.onTouchEnd),this.ref.current.addEventListener("touchcancel",this.onTouchCancel),this.ref.current.addEventListener("lostpointercapture",this.onLostPointerCapture))};this.removeEventListeners=()=>{this.ref.current!=null&&(this.ref.current.removeEventListener("pointermove",this.onPointerMove),this.ref.current.removeEventListener("pointerdown",this.onPointerDown),this.ref.current.removeEventListener("pointerup",
this.onPointerUp),this.ref.current.removeEventListener("pointerleave",this.onPointerLeave),this.ref.current.removeEventListener("pointercancel",this.onPointerCancel),this.ref.current.removeEventListener("touchstart",this.onTouchStart),this.ref.current.removeEventListener("touchend",this.onTouchEnd),this.ref.current.removeEventListener("touchcancel",this.onTouchCancel),this.ref.current.removeEventListener("lostpointercapture",this.onLostPointerCapture))};this.onTouchEnd=c=>{var d;Array.from((d=c.changedTouches)!==
null&&d!==void 0?d:[]).forEach(e=>{e.identifier!=null&&this.N4b.delete(e.identifier)})};this.onTouchCancel=c=>{c.touches&&c.touches.length!==0||this.N4b.clear()};this.reset=()=>{var c,d;this.Gw&&(document.removeEventListener("keydown",this.Gw),this.Gw=void 0);(c=this.onDragEnd)===null||c===void 0||c.call(this);if(this.Jtg){var e;if(((e=this.props.selection.La)===null||e===void 0?void 0:e.Nd)===this.Jtg&&this.props.L6c){var f;this.props.L6c(this.props.selection.La,!0);(f=this.o2)===null||f===void 0||
f.stop()}this.oa()}this.rWe=this.H_=void 0;this.Ohb=0;this.Qld=void 0;this.N4b.clear();this.iNg=!1;this.onDragEnd=this.pe=this.Jtg=void 0;(d=this.o2)===null||d===void 0||d.stop();this.o2=void 0};this.onLostPointerCapture=c=>{if(c.pointerId===this.Qld)this.onPointerUp(c)}}}({c:[FRs,DRs]}=KV(a,[],[Ob],ERs))})(),CRs);var GRs=class{static G(a){O(a,{aqf:yV.ref})}constructor(){this.aqf=(GRs.G(this),void 0)}};var HRs=({canvas:a,viewport:b,selection:c,Zo:d,undo:e})=>{const f=new GRs,g=fV(h=>{if(h.page.ia!==b.mh.ia)return null;var k;const {dr:l,ppe:m,L6c:p,nKj:q,oa:r,BZh:t}=(k=f.aqf)!==null&&k!==void 0?k:{};return m&&r?dV(FRs,{...h,viewport:b,selection:c,Zo:d,undo:e,dr:l,ppe:m,L6c:p,nKj:q,oa:r,BZh:t}):null});a.kc(h=>h===40,(h,k)=>{h.yg.xbf=k?g:void 0});return{gmd:f}};var Nrs=({Jle:a,IK:b,qt:c=2,spacing:d,Bua:e,CGa:f})=>dV(kr,{columns:b,spacing:d,Bua:e,CGa:f,children:Array(c*Number(b)).fill(0).map((g,h)=>dV("div",{children:dV(a,{})},h))});var Qrs=class{static G(a){O(a,{activeIndex:yV.ref,options:mV,ldb:mV})}get options(){return this._options.get()}get ldb(){if(!(this.activeIndex<0||this.activeIndex>=this.options.length))return this.options[this.activeIndex]}constructor(a,b){this.IK=a;this._options=b;this.activeIndex=(Qrs.G(this),-1)}},Rrs=class{onKeyDown(a){switch(a){case "ArrowDown":this.store.activeIndex<0?Prs(this,0):Prs(this,this.store.activeIndex+this.store.IK);break;case "ArrowLeft":vb.direction===2?Prs(this,this.store.activeIndex+
1):Prs(this,this.store.activeIndex-1);break;case "ArrowRight":vb.direction===2?Prs(this,this.store.activeIndex-1):Prs(this,this.store.activeIndex+1);break;case "ArrowUp":Prs(this,this.store.activeIndex-this.store.IK);break;case "Enter":var b;this.store.ldb&&((b=this.onSelect)===null||b===void 0||b.call(this,this.store.ldb))}}constructor(a,b){this.store=a;this.onSelect=b}};var Trs=()=>dV("div",{}),Urs=()=>dV("div",{});var Xrs=()=>dV("div",{className:"M4UWZw",role:"alert",children:dV(P,{alignment:"center",tone:"tertiary",children:L("ua8pKA")})});var Wrs=class{static G(a){O(a,{status:yV.ref})}constructor(){this.status=(Wrs.G(this),"none")}};var IRs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm9.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-6.25v-15Zm-1.5 0H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h6.25v-15Z" fill="currentColor"/></svg>';var rts=er({medium:IRs});var [zss,Ass]=[-.2,.8],[vss,wss]=[.5,2.5],Fss=class{constructor(a){this.styles=a;var b;if(a){const c=new Map;for(const d of a){a=document.implementation.createHTMLDocument("");const e=document.createElement("style");e.textContent=d.textContent;a.body.appendChild(e);a=(b=e.sheet)===null||b===void 0?void 0:b.cssRules;if(!a)break;for(const f of a)f instanceof CSSStyleRule&&c.set(f.selectorText.toLowerCase(),f.style)}b=c}else b=new Map;this.Cmh=b}},Ess=/var\(--[^,]+,\s*([^)]+)\)/;var Lss=new Map([["B",{fontWeight:"bold"}],["STRONG",{fontWeight:"bold"}],["I",{fontStyle:"italic"}],["EM",{fontStyle:"italic"}],["U",{decoration:"underline"}],["S",{tv:"strikethrough"}],["DEL",{tv:"strikethrough"}]]),Gss=class{finish(){Iss(this);this.builder.Xb("\n");return{backgroundColor:this.backgroundColor,Z3:this.builder.build()}}xOd(a,b){b()}VDb(a){a.textContent&&Kss(this,a.textContent)}ct(a,b,c){switch(b){case "inline":Nss(this,a,c);break;case "block":this.backgroundColor==null&&(this.backgroundColor=
ass(this.nfa,a));Nss(this,a,c);this.BOf.endsWith("\u2028")||Kss(this,"\u2028");break;default:throw new v(b);}}Cke(a,b){this.ct(a,"inline",b)}f0a(a,b,c){this.ct(a,"block",c)}v6a(a,b){this.ct(a,"block",b)}w6a(a,b){this.ct(a,"block",b)}Gke(a,b){this.ct(a,"block",b)}e0a(a,b){this.ct(a,"block",b)}Eke(a,b){this.ct(a,"block",b)}UKa(){}Hke(){Kss(this,"\u2028")}Fke(){}constructor(a,b){this.nfa=a;this.builder=b;this.Rtm={};this.BOf=""}};var Oss=10*fu,Wss=class{static G(a){O(a,{$Mh:mV,xIj:mV,ugm:mV})}get $Mh(){return this.xIj!=null}get xIj(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===0&&KVc(a.container)?a.container:null}get ugm(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===0&&(KVc(a.container)||a.container.type==="layout-item-cell")}showNotification(a){this.la.Ib({Cb:a})}constructor(a,b,c,d,e,f,g=Uss,h=Hss){this.selection=a;this.Xa=b;this.$6a=c;this.nzb=d;this.la=e;this.Xr=f;
this.eVq=g;this.Ebs=h;Wss.G(this)}};var pts=({active:a,option:b})=>kV(rV,{children:[dV("div",{className:"T6TgDw",children:dV(Ro,{FE:"primary",selected:a,Hn:"scaleThumbnail",thumbnail:kV("div",{className:"_37wJ8w",children:[dV(hv,{src:b.chf,height:"8u"}),dV("div",{className:"LRwe4g VnXh5Q",children:dV(P,{size:"large",weight:"bold",children:dV("span",{className:"hS4paQ",children:b.oJf})})})]}),layout:"vertical",Ym:"thumbnail"})}),dV(P,{size:"small",alignment:"center",children:b.label})]});var JRs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.5h16a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H4a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM2 8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8Zm4.5 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0ZM8 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm4.75.75a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Zm0 3a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z" fill="currentColor"/></svg>';var hts=er({medium:JRs});var KRs=__c.zxc("8u"),fts=({active:a,option:b})=>dV(rV,{children:dV(Ro,{FE:"secondary",selected:a,title:b.label&&dV(rV,{children:dV(P,{alignment:"center",size:"small",children:b.label})}),thumbnail:dV(hv,{alt:b.T6k,borderRadius:"element",src:b.vn,height:KRs}),Hn:"scaleThumbnail",layout:"vertical",Ym:"thumbnail"})}),LRs=()=>dV("div",{className:"I1C5KQ",children:dV(R,{border:"low",borderRadius:"baseUnit",display:"flex",flexDirection:"column",height:"full",justifyContent:"center",paddingBottom:"1.5u",
hq:"1.5u",paddingTop:"1.5u",children:kV(jr,{Fa:"center",spacing:"1u",children:[dV(ir,{width:"content",children:dV("div",{className:"K2IwOQ",children:dV(ej,{shape:"circle"})})}),dV(ir,{width:"fluid",children:kV(__c.hr,{end:"1u",children:[dV(__c.du,{size:"xsmall"}),dV(__c.du,{size:"xsmall"})]})})]})})}),gts=()=>kV(rV,{children:[dV(LRs,{}),dV(jd,{size:"1u"}),dV("div",{className:"TQZXfg",children:dV(__c.du,{size:"small"})})]}),its=()=>dV(LRs,{});var ets=class{constructor(a,b,c,d,e,f,g){this.store=a;this.Vf=b;this.og=c;this.Kn=d;this.ja=e;this.Qk=f;this.$6a=g}};var dts=class{static G(a){O(a,{Zdi:yV.ref,iPg:yV.ref,mPg:yV.ref,rzf:yV.ref,TQf:yV.ref,oIi:yV.ref})}constructor(){this.Zdi=(dts.G(this),!1);this.mPg=this.iPg=!1;this.rzf=[];this.TQf=[];this.oIi=!1}};var MRs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm12.75-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-3.25v-15Zm-1.5 0h-4.5v15h4.5v-15Zm-6 15v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h3.25Z" fill="currentColor"/></svg>';var NRs=er({medium:MRs});var ORs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm14.25-.5H19a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5h-1.75v-15Zm-1.5 0h-3v15h3v-15Zm-4.5 15v-15h-3v15h3Zm-4.5 0v-15H5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h1.75Z" fill="currentColor"/></svg>';var PRs=er({medium:ORs});var QRs=__webpack_require__.p+"images/1c94ede555e1ed73446b74f58315ea42.png";var RRs=__webpack_require__.p+"images/769a83ee7f42d86165825e026d9b790d.png";var SRs=__webpack_require__.p+"images/53b4489844d165e5a4227068d658cd58.png";var TRs=__webpack_require__.p+"images/07f9c993ae9ff47b1fdcd5705c8d82a2.png";var URs=__webpack_require__.p+"images/9c140b37bedca0b2a2ec5d4b189c82d7.png";var VRs=__webpack_require__.p+"images/5c14b727e99b3aa0d9b90ada6623ad7e.png";var mts={keyName:"two-col",YEe:["1fr","1fr"],label:J("OqFv8A",[2]),oJf:J("6Iw8IQ",[2]),chf:QRs,icon:rts},nts={keyName:"three-col",YEe:["1fr","1fr","1fr"],label:J("OqFv8A",[3]),oJf:J("6Iw8IQ",[3]),chf:RRs,icon:NRs},ots={keyName:"four-col",YEe:["1fr","1fr","1fr","1fr"],label:J("OqFv8A",[4]),oJf:J("6Iw8IQ",[4]),chf:TRs,icon:PRs},qts=[mts,nts,ots,{keyName:"submenu-right-sidebar",YEe:["2fr","1fr"],label:L("k9WJeg"),oJf:J("6Iw8IQ",[2]),chf:VRs},{keyName:"submenu-left-sidebar",YEe:["1fr","2fr"],label:L("CphetQ"),
oJf:J("6Iw8IQ",[2]),chf:URs},{keyName:"submenu-left-right-sidebar",YEe:["1fr","2fr","1fr"],label:J("q7aD9g",[3]),oJf:J("6Iw8IQ",[3]),chf:SRs}];var WRs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.76 20.363a.661.661 0 0 1-.466-1.13L18.808 4.72a.661.661 0 0 1 .936.935L5.228 20.169a.661.661 0 0 1-.467.194Z" fill="#138EFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20.56 3.94a1.5 1.5 0 0 1 0 2.12l-15 15a1.5 1.5 0 0 1-2.12-2.12l15-15a1.5 1.5 0 0 1 2.12 0Z" fill="#138EFF"/></svg>';var xts=er({medium:WRs});var wts=fV(a=>{const b=a.Xvc,c=a.layout,d=a.Hx,e=a.AQ,f=a.b1f,g=a.USf,h=a.mQa,k=a.oa,l=a.xua;iV(()=>()=>{const m=l?null:g;m===null||m===void 0||m()},[g,l]);return dV(__c.Kcr,{layout:c,className:"_3hJ2ww",children:XRs.map(({value:m,Icon:p},q)=>dV(YRs,{ctr:q,Hx:d,AQ:e,Xvc:b,b1f:f,mQa:h,oa:k,VNe:m,Icon:p,xua:l},m))})}),YRs=fV(a=>{const b=a.Xvc,c=a.b1f,d=a.mQa,e=a.oa,f=a.VNe,g=a.Icon,h=a.ctr,k=a.Hx,l=a.AQ,m=a.xua,p=jV(null);iV(()=>{var r;k!==h||(r=p.current)!==null&&r!==void 0&&r.focus()},[k,h,p]);a=
hV(()=>{vc.mJ&&l(h)},[l,h]);const q=hV(()=>{c(f);m||(d(f),e())},[d,c,f,e,m]);return dV(bj,{ref:p,variant:"tertiary",size:"medium",icon:g,onFocus:a,active:f===b,onClick:q})}),XRs=[{Icon:__c.Nwf,value:1},{Icon:__c.Owf,value:2},{Icon:__c.Pwf,value:3}],ZRs=XRs.length;var vts=class{static G(a){O(a,{b1f:gV.bound,USf:gV.bound,mQa:gV.bound,AQ:gV})}b1f(a){this.store.Xvc===a?this.USf():this.store.Xvc=a}USf(){this.store.Xvc=void 0}Kya(){this.P.track(Uug,{elementType:"line",kb:"click",esa:"add",ELc:!1})}constructor(a,b,c){this.store=a;this.oc=b;this.P=c;this.mQa=(vts.G(this),(d,e)=>{if(this.store.iD){const {width:m,height:p}=__c.Qpe(this.oc,this.store.iD,{VNe:d},{Wc:"tools_tab_click"});var f={dimensions:{width:m,height:p}}}else f=void 0;({dimensions:f}=f||{});let g;const {top:h,
left:k,dPl:l}=e||{};f&&h&&k&&(g=l?Vj({top:h,left:k,width:5,height:f.height/f.width*5}):Vj({top:h,left:k,width:f.width,height:f.height}));d=this.oc.mQa({VNe:d},{Wc:"tools_tab_click"},{box:g,XKa:{type:"absolute",value:"top"}});this.P.track(Uug,{elementType:"line",kb:"click",esa:"add",ELc:!1});return d});this.mwn=d=>{this.AQ((this.store.Hx+(d==="prev"?-1:1)+ZRs)%ZRs)};this.AQ=d=>{this.store.Hx=d}}};var uts=class{static G(a){O(a,{isActive:yV.ref,$Bb:gV,Xvc:yV.ref,iD:mV,Hx:yV.ref})}$Bb(a){this.isActive=a!==null&&a!==void 0?a:!1}get xua(){return this.i2a&&Hc.igb}get iD(){const a=this.viewport.mh.ia;return a.type==="fixed"?a:void 0}constructor(a,b){this.viewport=a;this.i2a=b;this.isActive=(uts.G(this),!1);this.Hx=0}};var $Rs=class{static G(a){O(a,{Ag:mV,pac:mV})}get Ag(){var a;return((a=this.og.La)===null||a===void 0?void 0:a.pages)||[]}get pac(){return this.document.pages.last(a=>this.Ag.includes(a))}qK(){return this.oc.MLa(1)}y$d(){var a,b;const c=this.pac||n(this.document.pages.first());ta(this.oc.LL!=null);const {page:d,container:e}=this.oc.LL(c,{Wc:"toolbar",location:"toolbar",q7:"none"},{b4d:this.pac==null,template:void 0});(b=this.Lk)===null||b===void 0||(a=b.nN)===null||a===void 0||a.call(b,new hp);(a=
(e===null||e===void 0?void 0:e.type)==="concatenated-fixed-page"?e.Fha(this.document.pages):d)&&this.og.DU(e,a)}Pvl(){var a;return!(!this.og.La||this.og.La.type!=="pages"||((a=this.og.La)===null||a===void 0?0:a.inner)||!this.og.La.Ji())}constructor(a,b,c,d){this.oc=a;this.og=b;this.document=c;this.Lk=d;$Rs.G(this)}};var aSs=fV(a=>{const b=a.disabled;return dV(a.zi,{onClick:a.onClick,disabled:b(),icon:__c.cAf,yh:"icon",tooltip:L("Ae7Bjg"),children:L("Ae7Bjg")})});var bSs=(a,b,c,d)=>{d=d.document;if(d.Ja==="fixed"){var e=new $Rs(c,b,d),f={Qd:()=>e.Pvl(),Button:fV(g=>dV(aSs,{...g,onClick:()=>e.y$d(),disabled:()=>!e.qK()})),Vu:{rg:()=>"Add Page"}};a.plugins.Tra=()=>f}};var Dts=class{static G(a){O(a,{lRk:gV.bound})}lRk(a){if(this.selection.La&&(a===null||a===void 0?0:a.currentTarget))return this.Qe.Uph(a.currentTarget,{type:"fixed",direction:"right",anchor:"top"});this.selection.Jb&&(this.Qe.gyc({type:"responsive",box:mV(()=>{const b=this.viewport.wP,c=this.Xa.zQ;if(this.viewport.FF&&b&&c)return c.transform(b.invert())})}),this.Qe.open({trigger:"add_button"}))}constructor(a,b,c,d,e){this.store=a;this.Xa=b;this.viewport=c;this.selection=d;this.Qe=e;Dts.G(this)}},
Fts=class{static G(a){O(a,{onMouseUp:gV.bound,o1e:gV.bound,q1e:gV.bound,Kml:gV.bound,CAn:gV.bound,onFocus:gV.bound,onBlur:gV.bound,onMouseDown:gV.bound})}onMouseUp(){this.Kml(!1);document.removeEventListener("mouseup",this.onMouseUp,{capture:!0})}o1e(a){this.store.Tnd=a}q1e(a){this.store.jse=a}Kml(a){this.store.Vem=a}nql(a){this.store.qo=a}CAn(){clearTimeout(this.store.qo);if(!(this.Ma.mode<=20))if(this.Xa.focused)this.o1e(!0);else{var a=setTimeout(gV(()=>this.o1e(!1)),250);this.nql(a)}}onFocus(){this.q1e(!0)}onBlur(){this.q1e(!1)}onMouseDown(){this.Kml(!0);
document.addEventListener("mouseup",this.onMouseUp,{capture:!0})}constructor(a,b,c){this.store=a;this.Xa=b;this.Ma=c;Fts.G(this)}};var Cts=class{static G(a){O(a,{eqh:mV,NLc:mV})}get eqh(){return this.Ma.mode<30?!1:this.selection.Jb&&this.ka.layout===2?!0:this.WFl}get WFl(){return this.NLc}get Zul(){return this.NLc&&!this.selection.Jb}get NLc(){var a=this.selection.Jb;const b=this.selection.La;let c=!1;switch(a===null||a===void 0?void 0:a.type){case void 0:case 2:case 3:case 5:break;case 0:c=a.container.type==="sheet-item-cell-richtext";break;case 1:var d;c=((d=a.only)===null||d===void 0?void 0:d.type)==="sheet";break;case 4:c=
!0;break;default:throw new v(a);}a=!1;switch(b===null||b===void 0?void 0:b.type){case void 0:case "audio":break;case "pages":var e;a=((e=b.inner)===null||e===void 0?void 0:e.type)==="sheet";break;case "elements":var f,g;a=((f=b.inner)===null||f===void 0?void 0:f.type)==="sheet"||((g=b.Nd)===null||g===void 0?void 0:g.type)==="sheet";break;default:throw new v(b);}return c||a}constructor(a,b,c){this.selection=a;this.Ma=b;this.ka=c;Cts.G(this)}},Ets=class{static G(a){O(a,{Tnd:yV.ref,jse:yV.ref,Vem:yV.ref,
qo:yV.ref,BQ:mV,Dhm:mV})}get BQ(){return this.jse||this.Tnd}get Dhm(){var a;const b=this.selection;return this.Ma.mode<30||this.ka.layout!==1?!1:((a=b.Jb)===null||a===void 0?void 0:a.type)===0&&__c.Pra(b.Jb.container)}constructor(a,b,c,d){this.Ma=a;this.selection=b;this.ka=c;this.Xa=d;this.Tnd=(Ets.G(this),void 0);this.Vem=this.jse=!1;this.qo=void 0;this.Tnd=this.Xa.focused}};var cSs={enter:"q29WYw",enterActive:"JqJVCA",exit:"crpmLQ",exitActive:"HIuJnA"},dSs=parseInt("250ms",10),Hts=({onClick:a,top:b,show:c,lne:d,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h})=>{const k=jV(null);a=dV(sr,{variant:"tertiary",lUb:!0,onClick:a,onFocus:e,onBlur:f,onMouseDown:g,onMouseUp:h,size:"tiny",icon:Qu,Nc:"small",hb:L("yFLjFw"),OI:"/",className:"vgc1dg"});return dV(kQs["default"],{in:c,timeout:dSs,unmountOnExit:!0,mountOnEnter:!0,classNames:cSs,nodeRef:k,children:dV("div",{className:"lQmhtA",
style:{top:b},ref:k,children:d?dV(d,{children:a}):a})})};var Jts=Qb("8862db4f",!1),Gts=FV(a=>{const b=a.zi,c=a.onClick,d=a.Icon,e=a.Oj,f=a.cBk==="gradient"?dV("span",{className:"V4Xpkw",children:L("M0/rWw")}):L("M0/rWw");return kV("div",{children:[dV(b,{tooltip:L("yFLjFw"),onClick:c,icon:d,yh:"icon-and-label",className:"vgc1dg",...a,children:f}),e&&dV(e,{})]})});var eSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.367 8.609A2.08 2.08 0 0 0 17.9 8H7.006v.5h-.002V18.9c0 1.143.935 2.078 2.078 2.078H17.9a2.084 2.084 0 0 0 2.078-2.078v-8.825a2.08 2.08 0 0 0-.61-1.466Z" fill="#11171D"/><path d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#6B6F73"/></svg>';var fSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 17 8.473 17a7.396 7.396 0 0 1-1.465-.155l.004 2.07a2.084 2.084 0 0 0 2.082 2.073l8.818-.018a2.083 2.083 0 0 0 2.074-2.082l-.018-8.825a2.08 2.08 0 0 0-2.082-2.07l-2.045.004c.101.486.154.981.157 1.478l.002.027A7.5 7.5 0 0 1 8.5 17Z" fill="#fff" fill-opacity=".9"/><path opacity=".5" d="M8.478 16H8.5A6.5 6.5 0 0 0 15 9.5L15 9.479a6.504 6.504 0 0 0-.186-1.5A6.496 6.496 0 0 0 2.21 7.856a6.497 6.497 0 0 0 4.767 7.958c.482.116.983.184 1.5.186Z" fill="#fff" fill-opacity=".9"/></svg>';var Qts=__c.Yxc({medium:eSs},{medium:{light:eSs,dark:fSs}});var Ots=fV(a=>{const b=a.layout,c=a.bca,d=a.Hx,e=a.AQ,f=a.VSf,g=a.xua;iV(()=>()=>{const h=g?null:f;h===null||h===void 0||h()},[f,g]);return dV(__c.Kcr,{layout:b,className:"j2S_rw",children:c.map((h,k)=>dV(gSs,{IFs:k,Hx:d,AQ:e,oa:a.oa,shape:h,kSc:a.kSc,C9:a.C9,nMd:a.nMd,xua:a.xua},h.key))})}),gSs=fV(a=>{const b=a.shape,c=a.IFs,d=a.Hx,e=a.AQ,f=a.kSc,g=a.C9,h=a.oa,k=a.nMd,l=a.xua,m=jV(null);iV(()=>{var r;d!==c||(r=m.current)!==null&&r!==void 0&&r.focus()},[d,c,m]);a=hV(()=>{vc.mJ&&e(c)},[e,c]);const p=
er({medium:()=>dV(__c.fig,{shape:b})}),q=hV(()=>{k(b.key);l||(g(b),h())},[g,k,b,h,l]);return dV(bj,{ref:m,variant:"tertiary",size:"medium",icon:p,onFocus:a,active:b.key===f,onClick:q})}),Pts=fV(({shape:a,CFs:b})=>{const c=b.color;var d;return dV("div",{className:"CFGd6w",style:{...b.dimensions},children:dV("svg",{className:"bnNaZg",viewBox:`0 0 ${a.viewBox.width} ${a.viewBox.height}`,stroke:c,fill:c,children:dV("path",{d:(d=a.jd)!==null&&d!==void 0?d:a.path})})})});var Nts=class{static G(a){O(a,{nMd:gV.bound,heh:gV.bound,VSf:gV.bound,C9:gV.bound,mGa:mV,AQ:gV})}nMd(a){this.store.kSc===a?this.VSf():this.heh(a)}heh(a){this.store.kSc=a}VSf(){this.store.kSc=void 0}C9(a,b){const c=this.store.iD?this.MXm(a,this.store.iD):void 0,{dimensions:d,color:e}=c||{};let f;const {top:g,left:h,dPl:k}=b||{};d&&g&&h&&(f=k?Vj({top:g,left:h,width:5,height:d.height/d.width*5}):Vj({top:g,left:h,width:d.width,height:d.height}));b=this.Pve(a,e);a=this.oc.C9(b,a.vk||"shape",{Wc:"tools_tab_click"},
{box:f,XKa:{type:"absolute",value:"top"}},{PPf:this.store.xua?!0:void 0,Ags:!!k});this.Kya();return a}get mGa(){if(this.store.SBb&&this.store.iD)return this.MXm(this.store.SBb,this.store.iD)}Kya(){this.P.track(Uug,{elementType:"shape",kb:"click",esa:"add",ELc:!1})}Pve(a,b="#000000"){const c=a.slice,d=a.textBox,e=a.pb;return new __c.pv({viewBox:a.viewBox,paths:[new __c.ov({d:a.path,fill:{...ps,color:b},pb:e!==null&&e!==void 0?e:0})],slice:{source:c,Jp:c.width,zp:c.height,horizontal:1,vertical:1},ed:[{box:d,
KJ:4,$i:2}],pq:{FR:!1,n8:!1}})}constructor(a,b,c,d){this.store=a;this.jc=b;this.oc=c;this.P=d;this.MXm=(Nts.G(this),(e,f)=>{e=this.Pve(e);f=__c.Upe(this.oc,f,e);return{dimensions:{width:f.width,height:f.height},color:f.paths[0].fill.color||"#000000"}});this.E$q=(e,f)=>{var g;const h=((g=e.zg)===null||g===void 0?void 0:g.type)==="shape"?e.zg:void 0;h&&(f&&(f=h.slice,g=h.ed,h.viewBox&&f&&g&&this.jc.WOa("font-size",Math.round(.08*Math.max(h.width,h.height)*.75)*fu)),rA(this.jc,e,"all"))};this.nwn=e=>
{const f=this.store.AFs;this.AQ((this.store.Hx+(e==="prev"?-1:1)+f)%f)};this.AQ=e=>{this.store.Hx=e}}};var Mts=class{static G(a){O(a,{isActive:yV.ref,$Bb:gV,kSc:yV.ref,SBb:mV,iD:mV,Hx:yV.ref})}$Bb(a){this.isActive=a!==null&&a!==void 0?a:!1}get SBb(){if(this.kSc)return this.bca.find(a=>a.key===this.kSc)}get xua(){return this.i2a&&Hc.igb}get iD(){const a=this.viewport.mh.ia;return a.type==="fixed"?a:void 0}get AFs(){return this.bca.length}constructor(a,b,c){this.bca=a;this.viewport=b;this.i2a=c;this.isActive=(Mts.G(this),!1);this.Hx=0}};var Uts=class{addRow(a){const b=this.store.sheet;var c=this.store.iF;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.V.sb("sheets_insert_row_menu_used",{Fb:{name:"editor.editing.sheet.adding",type:"row"}});this.Vi.addRows(b,d,a,c,e,"contextual_menu");e===null||e===void 0||e.ne()}}addColumn(a){const b=this.store.sheet;var c=this.store.C0b;if(b&&!(c.length<=0)){var d=a==="after"?c[c.length-1]:c[0];c=c.length;var e=this.V.sb("sheets_insert_column_menu_used",{Fb:{name:"editor.editing.sheet.adding",
type:"column"}});this.Vi.CRb(b,d,a,c,e,"contextual_menu");e===null||e===void 0||e.ne()}}constructor(a,b,c){this.store=a;this.Vi=b;this.V=c}};var hSs=class{static G(a){O(a,{sheet:mV,QNg:mV,iF:mV,C0b:mV,uXf:mV,QCj:mV,PCj:mV,kgn:mV,Ocn:mV})}get sheet(){var a;return(a=this.TK)===null||a===void 0?void 0:a.sheet}get QNg(){const a=this.TK;if(!(a&&a.cells.size>0&&a.rows.length===0&&a.cols.length===0))return!1;var b=this.QCj;for(var c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;b=this.PCj;for(c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}get iF(){const a=this.TK;return a&&(this.QNg||this.kgn)?
this.QNg?this.QCj:a.rows:[]}get C0b(){const a=this.TK;return a&&(this.QNg||this.Ocn)?this.QNg?this.PCj:a.cols:[]}get uXf(){if(this.TK){var a=this.iF.length>0,b=this.C0b.length>0;return{wqj:a,xqj:a,Qpj:b,Rpj:b}}}get QCj(){const a=this.TK;return a?nd(a.cells.map(b=>b.row)):[]}get PCj(){const a=this.TK;return a?nd(a.cells.map(b=>b.column)):[]}get kgn(){const a=this.TK;if(!a)return!1;const b=a.rows;for(let c=1;c<b.length;c++)if(a.sheet.rows.previous(b[c])!==b[c-1])return!1;return!0}get Ocn(){const a=
this.TK;if(!a)return!1;const b=a.cols;for(let c=1;c<b.length;c++)if(a.sheet.cols.previous(b[c])!==b[c-1])return!1;return!0}constructor(){hSs.G(this)}},Tts=class extends hSs{static G(a){O(a,{TK:mV})}get TK(){const a=this.selection.La;var b=this.selection.Jb;if(!(this.Ma.mode<=30)){if(b&&b.type===4)return{sheet:b.container.sheet.config,rows:b.rows.map(c=>c),cols:b.columns.map(c=>c),cells:b.cells};if(a&&a.Ji(am.Ps)&&a.inner&&a.inner.type==="sheet"&&(a.type==="elements"||a.type==="pages")){switch(a.type){case "pages":b=
a.inner.page.sheet;break;case "elements":b=a.inner.sheet.config;break;default:throw new v(a);}return{sheet:b,rows:a.inner.rows.map(c=>c),cols:a.inner.columns.map(c=>c),cells:a.inner.cells}}}}constructor(a,b){super();this.selection=a;this.Ma=b;Tts.G(this)}};var Wts=class{static G(a){O(a,{activeCell:yV.ref,Yba:mV})}get Yba(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=(Wts.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},iSs={ArrowUp:-1,ArrowDown:1},jSs={ArrowRight:1,ArrowLeft:-1},Xts=class{static G(a){O(a,{select:gV,enter:gV,dXg:gV,reset:gV})}select(a,b){this.Qe.JJ({});
this.VFb(a.col+1,a.row+1);this.Qe.b6a({uNb:`${a.col+1}x${a.row+1}`,sue:!0,A_c:!0,kb:b});this.Qe.close({trigger:"insert"})}enter(a,b){a.activeCell=b}dXg(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+iSs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.Ti?-1:1)*jSs[b];(c=a.cells.find(e=>e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&
(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}Pyk(a,b){return!!a.Yba.find(c=>b.row===c.row&&b.col===c.col)}constructor(a,b,c){this.Qe=a;this.VFb=b;this.Ti=c;Xts.G(this)}};var kSs=({id:a,ariaLabel:b,active:c,rb:d,onMouseEnter:e,onSelect:f})=>{const g=hV(()=>e(d),[d,e]),h=hV(()=>f(d),[d,f]);return dV("button",{tabIndex:-1,"aria-label":b,id:a,className:CV("q8e2xQ",{hd2lkg:c}),onMouseEnter:g,onClick:h})},Yts=fV(({controller:a,SAb:b,vGs:c,L:d})=>{const e=c.activeCell,f=hV(h=>d.enter(c,h),[d,c]),g=hV(h=>d.select(h,"click"),[d]);return dV("div",{className:"KHPSjw",children:dV("div",{role:"grid",id:b,className:"hM8_pw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return dV(kSs,{id:l?a.z4:void 0,ariaLabel:l?J("Yc0w1g",[h.col+1,h.row+1]):void 0,rb:h,active:d.Pyk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var lSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm-.5 10.75V9.5h4v4.25h-4Zm5.5 0V9.5h4v4.25h-4Zm-5.5 1.5h4v4.25H5a.5.5 0 0 1-.5-.5v-3.75Zm5.5 0v4.25h4v-4.25h-4Zm5.5 4.25v-4.25h4V19a.5.5 0 0 1-.5.5h-3.5Zm0-5.75V9.5h4v4.25h-4Z" fill="currentColor"/></svg>';var mSs=lSs.replace(/currentColor/g,"hsla(221,  62%, 30%, 1)"),nSs=lSs.replace(/currentColor/g,"rgba(255, 255, 255, 0.9)"),bus=__c.Yxc({medium:mSs},{medium:{light:mSs,dark:nSs}});var oSs=({id:a,ariaLabel:b,active:c,rb:d,onMouseEnter:e,onSelect:f})=>{const g=hV(()=>e(d),[d,e]),h=hV(()=>f(d),[d,f]);return dV("button",{tabIndex:-1,"aria-label":b,id:a,className:CV("HcyofA",{_5ejCMw:c}),onMouseEnter:g,onClick:h})},cus=fV(({controller:a,SAb:b,aVs:c,L:d})=>{const e=c.activeCell,f=hV(h=>d.enter(c,h),[d,c]),g=hV(h=>d.select(h,"click"),[d]);return dV("div",{className:"dEypTw",children:dV("div",{role:"grid",id:b,className:"_TF0Tw",style:{gridTemplateRows:`repeat(${c.rows}, 1fr)`,gridTemplateColumns:`repeat(${c.columns}, 1fr)`},
children:c.cells.map(h=>{const k=`${h.col}:${h.row}`,l=h===e;return dV(oSs,{id:l?a.z4:void 0,ariaLabel:l?J("LmyhDA",[h.col+1,h.row+1]):void 0,rb:h,active:d.Pyk(c,h),onMouseEnter:f,onSelect:g},k)})})})});var $ts=class{static G(a){O(a,{activeCell:yV.ref,Yba:mV})}get Yba(){return this.cells.filter(a=>a.row<=this.activeCell.row&&a.col<=this.activeCell.col)}constructor(a=8,b=8){this.columns=a;this.rows=b;this.cells=($ts.G(this),Array.from(Array(this.rows)).flatMap((c,d)=>Array.from(Array(this.columns)).map((e,f)=>({row:d,col:f}))));this.activeCell=this.cells[0]}},pSs={ArrowUp:-1,ArrowDown:1},qSs={ArrowRight:1,ArrowLeft:-1},aus=class{static G(a){O(a,{select:gV,enter:gV,dXg:gV,reset:gV})}select(a,b){var c,
d,e;(c=this.Qe)===null||c===void 0||c.JJ({});this.addTable(a.col+1,a.row+1);(d=this.Qe)===null||d===void 0||d.b6a({uNb:`${a.col+1}x${a.row+1}`,sue:!0,A_c:!0,kb:b});(e=this.Qe)===null||e===void 0||e.close({trigger:"insert"})}enter(a,b){a.activeCell=b}dXg(a,b){if(b==="ArrowUp"||b==="ArrowDown"){var c=a.cells.find(d=>d.col===a.activeCell.col&&d.row===Math.max(0,Math.min(a.activeCell.row+pSs[b],a.rows)));c&&(a.activeCell=c)}else if(b==="ArrowLeft"||b==="ArrowRight"){const d=(this.Ti?-1:1)*qSs[b];(c=a.cells.find(e=>
e.row===a.activeCell.row&&e.col===Math.max(0,Math.min(a.activeCell.col+d,a.columns))))&&(a.activeCell=c)}}reset(a){a.activeCell=a.cells[0]}Pyk(a,b){return!!a.Yba.find(c=>b.row===c.row&&b.col===c.col)}Kya(){this.P.track(Uug,{elementType:"table",kb:"click",esa:"add",ELc:!1})}constructor(a,b,c,d){this.Qe=a;this.P=b;this.addTable=c;this.Ti=d;aus.G(this)}};var rSs='<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.022 6.518a.502.502 0 0 0-.502.501v.789a1.254 1.254 0 0 1-2.508 0V6.016c0-1.108.898-2.006 2.007-2.006h12.037c1.108 0 2.006.898 2.006 2.006v1.765a1.254 1.254 0 1 1-2.507 0v-.762a.502.502 0 0 0-.502-.501h-3.762V16.8c0 .415.337.752.753.752h.752a1.254 1.254 0 0 1 0 2.508H9.279a1.254 1.254 0 0 1 0-2.508h.752a.752.752 0 0 0 .752-.752V6.518H7.022Z" fill="#992BFF"/></svg>';var gus=er({medium:rSs});var fus=class{static G(a){O(a,{addText:gV.bound})}Kya(){this.P.track(Uug,{elementType:"line",kb:"click",esa:"add",ELc:!1})}constructor(a,b,c,d,e){this.store=a;this.jc=b;this.Zc=c;this.oc=d;this.P=e;this.addText=(fus.G(this),f=>{const g=this.store.iD?this.cYm(this.store.iD):void 0,{dimensions:h,attributes:k,g_:l,text:m=""}=g||{};let p;const {top:q,left:r,dPl:t}=f||{};h&&q&&r&&(p=t?{box:Vj({top:q,left:r,width:5,height:h.height/h.width*5})}:{box:Vj({top:q,left:r,width:h.width,height:h.height})});f=this.store.xua?
t?"":m:L("7D/4Bg");return this.oc.addText(f,{Wc:"tools_tab_click",g_:l||"default"},l?{type:"v2",attrs:{...k,"text-align":"start"}}:void 0,{PPf:this.store.xua},{...p}).then(u=>{this.P.track(Uug,{elementType:"text_box",kb:"click",esa:"add",ELc:!1});return u})});this.L6c=f=>{var g;if(this.store.Pe){var h=((g=f.zg)===null||g===void 0?void 0:g.type)==="text"?f.zg:void 0;h&&(h.text.Ya.trim().length===0&&(h.text.uua(`${L("WPMnRQ")}\n`),this.Zc.GY(this.store.Pe,h)),rA(this.jc,f,"all"))}};this.cYm=f=>{const g=
L("WPMnRQ"),{attributes:h,g_:k,dimensions:l}=__c.ype(this.oc,f,g);return{attributes:h,g_:k,dimensions:l,text:g}}}};var eus=class{static G(a){O(a,{isActive:yV.ref,$Bb:gV,Pe:mV,iD:mV})}$Bb(a){this.isActive=a!==null&&a!==void 0?a:!1}get xua(){return this.i2a&&Hc.igb}get Pe(){const a=this.viewport.mh;return a.type==="fixed-page"?a:void 0}get iD(){if(this.Pe)return this.Pe.ia}constructor(a,b){this.viewport=a;this.i2a=b;this.isActive=(eus.G(this),!1)}};var kus=new __c.pv({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.ov({d:"M32 0A32 32 0 1 0 32 64A32 32 0 1 0 32 0Z",fill:{...ps,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},Jp:64,zp:64,horizontal:1,vertical:1},ed:[{box:{top:6,left:6,width:52,height:52},KJ:4,$i:2}],pq:{FR:!1,n8:!1}}),jus=new __c.pv({viewBox:{top:0,left:0,height:64,width:64},paths:[new __c.ov({d:"M0 0H64V64H0z",fill:{...ps,color:"#777777"}})],slice:{source:{top:0,left:0,height:64,width:64},Jp:64,zp:64,
horizontal:1,vertical:1},ed:[{box:{top:0,left:0,width:64,height:64},KJ:4,$i:2}],pq:{FR:!1,n8:!1}});var Aus=FV(a=>dV(a.fl,{Icon:__c.v8g,label:a.KVa==="page"?L("Jtb4MA"):L("WikA8g")})),Bus=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.v8g,label:L("l7115Q")})}),Cus=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.t8g,label:L("PatQHw")})}),Dus=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.z8g,label:L("etlgHg")})}),Eus=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.B8g,label:L("Iwm8FQ")})}),Fus=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.x8g,label:L("m9R5rA")})}),
Gus=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.r8g,label:L("b6YrlQ")})});var zus=class{static G(a){O(a,{qJa:gV.bound,AFn:gV.bound})}qJa(a,b){const c=this.selection.La;c&&c.type==="elements"&&c.Ji()&&(sus(this,a),this.KH(a,b))}AFn(){const a=this.selection.La;if((a===null||a===void 0?0:a.elements)&&a.box&&a.Ji()){var b=a.elements;if(!(b.some(k=>k.type==="group")&&b.length>1)){var c=b[0].type==="group"?b[0]:void 0;b=c?c.nb.toArray():b;var d=c?Sj(0,0,c.eb,c.Ub):a.box;b=b.filter(k=>k.type==="text").filter(k=>k.rotation===d.rotation);var e=uus(new Set(b.map(k=>k.writingMode||
1)));if(e!=null){e=__c.Tn(e);var f=dk(d),g=ak(d);for(const k of b){var h=Vj(k).transform(g).Mb();e?(h.left=0,h.width=d.width):(h.top=0,h.height=d.height);const l=k.eb&&k.eb/k.width,m=k.Ub&&k.Ub/k.height;h=Vj(h).transform(f).Mb();k.top=h.top;k.left=h.left;k.width=h.width;k.height=h.height;k.eb=l&&h.width*l;k.Ub=m&&h.height*m}if(c)this.Zc.M3(a.container,c,b);else for(const k of b)this.Zc.GY(a.container,k)}}}}KH(a,b){var c;const d=this.selection.La,e=this.store.Bjc;e&&d&&d.type==="elements"&&((c=this.N)===
null||c===void 0||c.track(OPs,{$D:d.container.page.elements.count(),l$c:e.length,oD:e.map(f=>f.type).join(", "),Wp:0,Qr:0,anchor:a,kb:b}))}constructor(a,b,c,d,e){this.store=a;this.Fr=b;this.Zc=c;this.selection=d;this.N=e;zus.G(this)}},wus=class{static G(a){O(a,{Itl:mV})}get Itl(){return this.store.Tcg!=null}constructor(a,b){this.store=a;this.Xa=b;this.qJa=(wus.G(this),c=>{this.Xa.UU(()=>{const d=this.store.Tcg;d&&tus(d,c)})});this.ecq=()=>{this.Xa.UU(()=>{const c=this.store.zeh,d=this.store.Tcg;if(d&&
c)switch(c){case "center":tus(d,"left");break;case "left":tus(d,"right");break;case "right":tus(d,"center");break;default:throw new v(c);}})}}};var sSs=FV(a=>{const b=a.disabled,c=a.label,d=a.im,e=a.Icon;a=a.onClick;const f=d&&!__c.Zb();return dV(bj,{alignment:"start",variant:"secondary",disabled:b,onClick:a,icon:e,stretch:!0,children:kV(jr,{Fa:"start",tagName:"span",spacing:"1u",children:[dV(ir,{children:dV(P,{tone:mr,lineClamp:1,children:c})}),f&&dV(ir,{width:"content",children:dV(__c.Pc,{Gma:d,compact:!0})})]})})});var tSs=FV(a=>dV(R,{className:"_6NSm3Q RX4d5g SX2FBg",children:dV(nr,{size:"xsmall",tone:"primary",id:a.id,children:a.text})}));var uSs=FV(a=>{var b=a.display;const c=a.title,d=a.pTc,e=a.children;a=(0,__c.rc)();b=dV(kr,{columns:2,Bua:b==="compact"?"0":"1u",CGa:"1u",role:"group",tagName:"section",Of:a,children:e});return c&&d?kV(Uc,{spacing:"1u",children:[dV(tSs,{text:c,id:a}),b]}):b});var Hus=FV(a=>{const b=a.display;var c=a.KVa;const d=a.pTc,e=a.qJa,f=a.nXd,g=a.hXd,h=a.iXd,k=a.cXd,l=a.bXd;a=a.lXd;const m=hV(()=>e("top","toolbar"),[e]),p=hV(()=>e("left","toolbar"),[e]),q=hV(()=>e("middle","toolbar"),[e]),r=hV(()=>e("center","toolbar"),[e]),t=hV(()=>e("bottom","toolbar"),[e]),u=hV(()=>e("right","toolbar"),[e]);c=c?c==="page"?L("Jtb4MA"):L("WikA8g"):L("s8R+mQ");return kV(uSs,{display:b,title:c,pTc:d,children:[dV(sSs,{onClick:m,disabled:f,Icon:__c.B8g,label:L("Iwm8FQ")}),dV(sSs,{onClick:p,
disabled:g,Icon:__c.v8g,label:L("l7115Q")}),dV(sSs,{onClick:q,disabled:h,Icon:__c.x8g,label:L("m9R5rA")}),dV(sSs,{onClick:r,disabled:k,Icon:__c.t8g,label:L("PatQHw")}),dV(sSs,{onClick:t,disabled:l,Icon:__c.r8g,label:L("b6YrlQ")}),dV(sSs,{onClick:u,disabled:a,Icon:__c.z8g,label:L("etlgHg")})]})});var vSs,wSs,xSs,ySs,zSs,ASs,xus;
new (vSs=class extends JV{constructor(){super(xus);xSs()}},(()=>{class a extends(ySs=HV){static G(b){O(b,{onClick:gV.bound})}onClick(){var b,c;(b=(c=this.props).onClick)===null||b===void 0||b.call(c)}getIcon(b){switch(b){case "left":return __c.Sar;case "center":return __c.Qar;case "right":return __c.Uar;default:throw new v(b);}}render(){const {zi:b,alignment:c,children:d,...e}=this.props,f=this.getIcon(c||"center");return dV(b,{...e,disabled:c==null,onClick:this.onClick,icon:f,yh:"icon",tooltip:L("V/DN5w"),
children:L("V/DN5w")})}constructor(...b){super(...b);a.G(this)}}({c:[xus,xSs]}=KV(a,[],[Ob],ySs))})(),vSs);var yus;
new (wSs=class extends JV{constructor(){super(yus);zSs()}},(()=>{class a extends(ASs=HV){static G(b){O(b,{onChange:gV.bound})}onChange(b){this.props.qJa(b)}render(){return dV(R,{padding:"3u",paddingTop:"0",children:dV(__c.Jx,{value:this.props.alignment,onChange:this.onChange,options:[{label:dV(__c.Sar,{size:"medium"}),value:"left",ariaLabel:L("l7115Q")},{label:dV(__c.Qar,{size:"medium"}),value:"center",ariaLabel:L("PatQHw")},{label:dV(__c.Uar,{size:"medium"}),value:"right",ariaLabel:L("etlgHg")}]})})}constructor(...b){super(...b);
a.G(this)}}({c:[yus,zSs]}=KV(a,[],[Ob],ASs))})(),wSs);var BSs=class{static G(a){O(a,{Iua:yV.ref,JC:yV.ref,qod:mV,XT:mV,Nzk:mV,Lno:mV})}get qod(){if(this.Ma.mode<40)return!1;const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "elements":var b;const c=a===null||a===void 0?void 0:(b=a.inner)===null||b===void 0?void 0:b.type;return c==="sheet"||c==="sheet-cell-media"?!1:this.ka.layout===1?!0:a.Ji();case "pages":return this.ka.layout===2||a.Nd&&rf(a.Nd)?!1:a.pages.length===1&&a.pages.every(d=>d.type!=="responsive");case "audio":return!1;
case void 0:return this.Nzk;default:throw new v(a);}}get XT(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="elements"&&a.elements.every(b=>b.type==="line")?"start-and-end-points":"size-and-position"}get Nzk(){const a=this.Iua,b=this.toolbar;return a!=null&&b.BZ(a)}get Lno(){const a=this.qod,b=this.JC,c=this.Nzk;return this.ka.layout===1&&a&&!(b==="layers"&&c)}constructor(a,b,c,d){this.selection=a;this.ka=b;this.toolbar=c;this.Ma=d;this.Iua=(BSs.G(this),void 0);this.JC="arrange"}};var CSs=class{static G(a){O(a,{e0e:gV.bound,jOi:gV.bound,bac:mV,BUc:gV.bound})}e0e(){this.store.JC="layers"}jOi(){this.store.JC="arrange"}get bac(){return this.store.Iua==null?!1:this.toolbar.BZ(this.store.Iua)}jC(){if(this.store.Iua!=null)return this.toolbar.vB(this.store.Iua)}lD(){if(this.store.Iua!=null)return this.toolbar.RX(this.store.Iua)}BUc(){const a=this.selection.La;this.N.track(QPs,{$D:(a===null||a===void 0?void 0:a.type)==="elements"?a.container.page.elements.count():0,l$c:(a===null||
a===void 0?0:a.elements)?a.elements.length:0,oD:(a===null||a===void 0?0:a.elements)?a.elements.map(b=>b.type).join(", "):"",Wp:0,Qr:0,ue:this.store.JC})}constructor(a,b,c,d){this.store=a;this.selection=b;this.toolbar=c;this.N=d;CSs.G(this)}};var DSs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.035 8.341c-.857-.257-1.356-.67-1.528-1.527a.187.187 0 1 0-.373 0c-.258.857-.67 1.356-1.528 1.527a.187.187 0 0 0 0 .374c.857.257 1.356.67 1.528 1.528a.187.187 0 0 0 .373 0c.258-.857.67-1.356 1.528-1.528a.187.187 0 1 0 0-.374ZM22.983 4.16c-2.034-.406-2.911-1.386-3.318-3.369a.25.25 0 0 0-.24-.188.25.25 0 0 0-.242.19c.004-.007-.005.004 0 0-.407 2.034-1.334 2.961-3.317 3.368a.254.254 0 1 0 0 .508c2.033.407 2.907 1.366 3.313 3.349a.25.25 0 0 0 .245.21.25.25 0 0 0 .243-.197c.003-.004-.003.005 0 0 .406-2.034 1.333-2.955 3.316-3.362a.254.254 0 1 0 0-.508Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.063 3H7a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h6.116a4 4 0 0 0 2.838-1.182l3.885-3.912A4 4 0 0 0 21 13.088V9.563h-1.5v2.224a1.25 1.25 0 0 1-1.25 1.23h-1.5a3.75 3.75 0 0 0-3.75 3.75v1.483c0 .69-.56 1.25-1.25 1.25H7A2.5 2.5 0 0 1 4.5 17V7A2.5 2.5 0 0 1 7 4.5h7.063V3Zm.827 15.761a2.5 2.5 0 0 1-.551.42c.104-.291.161-.604.161-.931v-1.483a2.25 2.25 0 0 1 2.25-2.25h1.5c.314 0 .616-.053.898-.15a2.493 2.493 0 0 1-.374.482l-3.884 3.912Z" fill="currentColor"/></svg>';var ESs=er({medium:DSs});var Avs=a=>{const {fl:b,Yf:c,...d}=a;return dV(b,{...d,Icon:c?ESs:__c.Efk,label:L("j0l+TQ")})},zvs=class extends HV{static G(a){O(a,{vtc:gV.bound,Tsc:gV.bound,yD:gV.bound,JZb:gV.bound})}vtc(){this.props.vtc();this.props.oa()}Tsc(){this.props.Tsc();this.props.oa()}yD(){this.props.yD();this.props.oa()}JZb(){this.props.JZb();this.props.oa()}render(){return kV(Yo,{role:"menu",className:"kiVd2Q",children:[this.props.VJd?dV(bu,{onClick:this.vtc,start:dV(__c.PGi,{size:"medium"}),children:L("OIpCMA")}):null,
dV(bu,{onClick:this.Tsc,start:dV(__c.Mzh,{size:"medium"}),children:L("fiROpg")}),dV(bu,{onClick:this.yD,start:dV(__c.ajg,{size:"medium"}),children:L("RLWDLA")}),dV(bu,{onClick:this.JZb,start:dV(__c.$Lr,{size:"medium"}),children:L("v++iLQ")})]})}constructor(...a){super(...a);zvs.G(this)}};var xvs=a=>dV(a.zi,{pressed:a.open,icon:a.Yf?ESs:void 0,yh:a.Yf?"icon-and-label":"label",onClick:a.onClick,children:L("j0l+TQ")}),yvs=class extends HV{static G(a){O(a,{Tsc:gV.bound,yD:gV.bound,vtc:gV.bound,JZb:gV.bound})}Tsc(){this.props.Tsc();this.props.oa()}yD(){this.props.yD();this.props.oa()}vtc(){this.props.vtc();this.props.oa()}JZb(){this.props.JZb();this.props.oa()}render(){return kV(Yo,{role:"menu",className:this.props.ka.layout===1?"_3gcOhg":void 0,children:[this.props.VJd?dV(this.b1l,{children:dV(bu,
{onClick:this.vtc,start:dV(__c.PGi,{size:"medium"}),children:L("OIpCMA")})}):null,dV(this.CVo,{children:dV(bu,{onClick:this.Tsc,start:dV(__c.Mzh,{size:"medium"}),children:L("fiROpg")})}),dV(bu,{onClick:this.yD,start:dV(__c.ajg,{size:"medium"}),children:L("RLWDLA")}),dV(bu,{onClick:this.JZb,start:dV(__c.$Lr,{size:"medium"}),children:L("v++iLQ")})]})}constructor(a){super(a);this.b1l=(yvs.G(this),void 0);const b=this.props.nW;this.b1l=(a=this.props.VJd)&&b?c=>dV(b,{children:c.children}):c=>c.children;
this.CVo=!a&&b?c=>dV(b,{children:c.children}):c=>c.children}};var FSs={eventType:"magic_sort_interacted",Oa(a){return sf({control_context:a.kb,sort_type:a.C1b,status:a.status,failure_code:a.$Ib,failure_reason:a.Gn,num_elements_selected:a.l$c,element_types:a.oD,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}};var GSs,HSs,ISs,svs=({title:a,message:b})=>{a=a!==null&&a!==void 0?a:L("TSfhVA");return dV(__c.md,{title:a,explanation:dV(()=>dV(P,{tone:"secondary",children:dV(__c.mk,{message:b})}),{}),button:{children:L("21qtHA")}})},nvs;
new (GSs=class extends JV{constructor(){super(nvs);HSs()}},(()=>{class a extends(ISs=HV){static G(b){O(b,{aee:yV.ref})}componentDidMount(){this.handle=window.setInterval(gV(()=>this.aee++),1E3)}componentWillUnmount(){window.clearInterval(this.handle)}render(){const {Zhb:b=this.Zhb,iPr:c}=this.props,d=1-Math.pow(1.5,-this.aee);return dV(__c.Br,{open:!0,children:dV(R,{padding:"2u",children:kV(Uc,{spacing:"2u",align:"center",children:[dV(nr,{alignment:"center",children:L("dT7lrw")}),kV(Uc,{spacing:"1u",
children:[dV(__c.SC,{value:d*100}),dV(P,{alignment:"center",tone:"secondary",margins:"legacy",children:dV(__c.awm,{Zhb:b})})]}),dV(bj,{variant:"secondary",onClick:c,children:L("iIww4Q")})]})})})}constructor(...b){super(...b);this.Zhb=(nvs.G(this),Math.floor(Math.random()*23));this.aee=0}}({c:[nvs,HSs]}=KV(a,[],[Ob],ISs))})(),GSs);var JSs=class{get(a,b){if(b.length&&!b.some(e=>!this.Rtg.has(e))){var c=b.map(e=>this.Rtg.get(e)).filter(ub),d=c.map(e=>new Set(e));c=new Set(c.flatMap(e=>e));for(const e of c)if(e.tqq===b.length&&d.every(f=>f.has(e)))if(Xus(e,a))Uus(this,b,e);else return e}}constructor(){this.Rtg=new WeakMap}},Vus=class{get zNn(){return this.Uyo}get bMd(){return this.Ozo.map(a=>a.deref()).filter(ub)}set bMd(a){this.Ozo=a.map(Yus)}update(a,b){this.Uyo=a;this.bMd=b;this.wph=new WeakMap;b.forEach(c=>this.wph.set(c,
c.text.Ya))}constructor(a,b,c,d){this.page=a;this.tqq=b;this.wph=new WeakMap;this.Ozo=[];this.Uyo=d;this.bMd=c;c.forEach(e=>this.wph.set(e,e.text.Ya))}};var uvs=class{static G(a){O(a,{state:yV.ref,mFj:yV.ref,hm:mV,vm:mV,Leh:mV,ejh:mV,VJd:mV,Cee:mV,ZPh:mV})}get mh(){const a=this.ya.nw.mh;ta(a.type!=="responsive-page");return a}get hm(){const a=this.selection.La;if(a&&a.type==="elements"&&a.Ji())return a}get vm(){return this.hm&&this.hm.elements?this.hm.elements:[]}get Leh(){const a=[],b=c=>{gk(c)?a.push(c):c.type==="group"&&c.nb.forEach(b)};this.vm.forEach(b);return a}get ejh(){return this.Leh.length>=1}get VJd(){return this.X!=null}get Cee(){var a;
return(a=this.selection.La)===null||a===void 0?void 0:a.box}get ZPh(){if(this.Leh.length===0)return{x:0,y:0};const a=this.Leh.flatMap(b=>Vj(b).oh());return __c.Tj(...a).tl}constructor(a,b,c){this.selection=a;this.ya=b;this.X=c;this.state=(uvs.G(this),0)}};var dvs=18*fu,bvs=dvs+16;var ovs={ps:3E4},ivs=["#252627","#f6f7f8"],rvs=["#ffffff","#0e1318"],wvs=class{static G(a){O(a,{eSg:gV})}dOa(){this.store.mFj&&this.toolbar.vB(this.store.mFj)}async eSg(a,b,c){var d,e=(d=this.selection.La)===null||d===void 0?void 0:d.container;if((e===null||e===void 0?void 0:e.type)==="fixed-page"){d=e.page;c=c.map(k=>k.$fd);var f=this.Vlm.get(d,c);if(f&&this.document.pages.has(f.page)){var g,h;e=f.page.elements.filter(l=>f.bMd.some(m=>m===l));const k=Ff(this.document).tb(f.page);e.length>0&&((g=
(h=this.Ep).awa)===null||g===void 0||g.call(h,e,k))}g=(f===null||f===void 0?0:f.zNn)?Aj(this.store.ZPh,f.zNn):this.store.ZPh;hvs(b,g);a=await kvs(this,a,b,g);Wus(this.Vlm,c,a,Aj(this.store.ZPh,g),d)}}get bxc(){const a=[],b=c=>{if(gk(c))c.rotation=0,a.push({$fd:c,c6n:[]});else if(c.type==="group"&&c.nb.filter(gk).length>0){const h=this.store.mh;var d=c.rotation;c=h.Sf(c);if(c=__c.auf(this.EXa,[c])){({elements:c}=c.pNd());var e=[],f=[];c.forEach(k=>{gk(k)?e.push(k):f.push(k)});if(f.length){c=f.map(k=>
h.Sf(k));c=__c.$tf(this.EXa,c,d);if(!c)return;c=c.group();if(c===null||c===void 0||!c.ia)return;e.push(c===null||c===void 0?void 0:c.ia)}this.store.selection.Qdd(h,...e);e.forEach(b)}}else{var g=0;for(const h of a){const k=Vj(h.$fd),l=Vj(c),m=Pus(k,l);Lus(k,l,m)&&g<=m&&(d=h,g=m)}d!=null&&d.c6n.push(c)}};this.store.vm.forEach(b);return a}Cjh(){this.la.Ib({Cb:L("Of29Hg"),SV:!1})}nmb(a){return this.V.sb("cluster_elements",{Fb:{name:"editor.editing.arrangement.clustering",type:a}})}KH(a,b){const c=this.store.hm,
d=this.N;if(c!=null&&d!=null){var e={};c.elements.map(f=>{f=f.type;e[f]=(e[f]||0)+1});bp({mb:a.mb(),P:d,event:FSs,props:{...b,l$c:c.elements.length,oD:e.toString()}});a.ne()}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A){this.document=a;this.store=b;this.toolbar=c;this.selection=d;this.oc=e;this.Ep=f;this.EXa=g;this.OXe=h;this.gb=k;this.undo=l;this.rf=m;this.Uf=p;this.errorService=q;this.la=r;this.N=t;this.V=u;this.yVg=w;this.Ea=x;this.alert=y;this.d4d=z;this.rAi=A;this.XNj=(wvs.G(this),
new Map);this.Vlm=new JSs;this.Tsc=gV(async B=>{var D;if(this.store.state!==1){var G=this.nmb("color"),I=this.undo.startBuffering(),K=this.bxc,N=await mvs(this,"color",K);N=avs("color",this.rf,N,(D=this.store.Cee)===null||D===void 0?void 0:D.width);try{this.eSg("color",N,K),this.KH(G,{kb:B,C1b:"color",status:"succeeded"})}catch(M){this.KH(G,{kb:B,C1b:"color",status:"failed"}),this.errorService.pa(M,"Error sorting elements by color")}finally{oV(()=>I.stop())}}});this.yD=gV(async B=>{var D;if(this.store.state!==
1){var G=this.nmb("author"),I=this.undo.startBuffering(),K=this.bxc,N=await mvs(this,"author",K);N=avs("author",this.rf,N,(D=this.store.Cee)===null||D===void 0?void 0:D.width);try{await this.eSg("author",N,K),this.KH(G,{kb:B,C1b:"author",status:"succeeded"})}catch(M){this.KH(G,{kb:B,C1b:"author",status:"failed"}),this.errorService.pa(M,"Error sorting elements by author")}finally{oV(()=>I.stop())}}});this.vtc=gV(async B=>{if(this.store.state!==1){var D=this.nmb("topic"),G=this.undo.startBuffering();
try{const I=await pvs(this);await oV(async()=>{if(I)switch(I.type){case "SUCCESS":var K,N,M=I.Ulm,S=I.Txn;const W=I.RMm;var Q=I.Uxn;const X=[];for(const ba of M)M=qvs(this,ba.DKr),X.push({key:ba.pWp,bxc:M});S=qvs(this,[...S,...(W||[])]);S.length!==0&&X.push({key:Q,bxc:S});Q=avs("topic",this.rf,X,(K=this.store.Cee)===null||K===void 0?void 0:K.width);await this.eSg("topic",Q,this.bxc);this.KH(D,{kb:B,C1b:"topic",status:"succeeded"});(N=this.rAi)===null||N===void 0||N.call(this);await this.yVg();break;
case "FAILURE":tvs(this,I);this.KH(D,{kb:B,C1b:"topic",status:"failed",$Ib:I.error,Gn:I.message});break;default:throw new v(I);}})}catch(I){this.KH(D,{kb:B,C1b:"topic",status:"failed"}),this.Cjh(),this.errorService.pa(I,"Error sorting elements by topic")}finally{oV(()=>{G.stop();this.store.state=0}),this.XNj.clear()}}});this.JZb=gV(async B=>{var D;if(this.store.state!==1){var G=this.nmb("reaction"),I=this.undo.startBuffering(),K=this.bxc,N=await mvs(this,"reaction",K);N=avs("reaction",this.rf,N,(D=
this.store.Cee)===null||D===void 0?void 0:D.width);try{await this.eSg("reaction",N,K),this.KH(G,{kb:B,C1b:"reaction",status:"succeeded"})}catch(M){this.KH(G,{kb:B,C1b:"reaction",status:"failed"}),this.errorService.pa(M,"Error sorting elements by reaction")}finally{oV(()=>I.stop())}}})}};var KSs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m19.48 10.82 1.7.83a1 1 0 0 1 0 1.8L15 16.49V14.8l4.6-2.26-1.82-.9 1.7-.83zm-14.96 0-1.7.83a1 1 0 0 0 0 1.8L9 16.49V14.8l-4.6-2.26 1.82-.9-1.7-.83zm8.23 9.5L15 18.07a.75.75 0 0 1 1.06 1.06l-2.83 2.83c-.68.68-1.79.68-2.47 0l-2.83-2.83a.75.75 0 0 1 1.06-1.06l2.26 2.26V6.9a.75.75 0 1 1 1.5 0v13.43zM15 11.35V9.68l4.6-2.27L12.66 4c-.42-.2-.9-.2-1.32 0L4.4 7.4 9 9.68v1.67L2.82 8.3a1 1 0 0 1 0-1.8l7.86-3.86a3 3 0 0 1 2.64 0l7.86 3.87a1 1 0 0 1 0 1.79L15 11.35z"/></svg>';var kws=er({medium:KSs});var LSs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 3.82v9.43a.75.75 0 1 1-1.5 0V3.81L8.99 6.07A.75.75 0 1 1 7.93 5l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 5A.75.75 0 0 1 15 6.07l-2.25-2.25zM15 8.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 8.49v1.67L4.4 12.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26V8.48zm4.48 7.34 1.7.83a1 1 0 0 1 0 1.8l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8l1.7-.83 1.7.83-1.82.9 6.94 3.41c.42.2.9.2 1.32 0l6.94-3.41-1.82-.9 1.7-.83z"/></svg>';var mws=er({medium:LSs});var MSs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12.75 5.82v8.43a.75.75 0 1 1-1.5 0V5.81L8.99 8.07A.75.75 0 1 1 7.93 7l2.83-2.83a1.75 1.75 0 0 1 2.47 0L16.06 7A.75.75 0 0 1 15 8.07l-2.25-2.25zM15 10.48l6.18 3.04a1 1 0 0 1 0 1.79l-7.86 3.86a3 3 0 0 1-2.64 0l-7.86-3.86a1 1 0 0 1 0-1.8L9 10.49v1.67L4.4 14.4l6.94 3.42c.42.2.9.2 1.32 0l6.94-3.42-4.6-2.26v-1.67z"/></svg>';var lws=er({medium:MSs});var NSs=Xo("1"),fws=FV(a=>dV(a.fl,{Icon:__c.dbr,label:L("T1qMzw")})),gws=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:lws,label:L("Pxfk5A")})}),hws=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:mws,label:L("pbaLlQ")})}),jws=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:kws,label:L("t3ZWGw")})}),iws=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.ibr,label:L("u+2kVg")})}),OSs=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.dbr,label:L("1PXGVQ"),im:NSs})});var $vs=class{static G(a){O(a,{Ujc:gV.bound})}Ujc(a,b,c){if(this.store.NN){var d=this.selection.La;if(d&&d.type==="elements"){var e=this.V.sb("element_z_index_changed",{Fb:{name:"editor.element_z_index_changed"}});switch(a){case "forward":if(c)Cvs(d,c);else{var f,g=d.elements;(c=(f=this.store.Utg)===null||f===void 0?void 0:f.next(g[g.length-1]))?Cvs(d,c):Evs(this,d)}break;case "backward":c?Dvs(d,c):(f=d.elements,(c=(g=this.store.Utg)===null||g===void 0?void 0:g.previous(f[0]))?Dvs(d,c):Fvs(this,d));
break;case "front":Evs(this,d);break;case "back":Fvs(this,d);break;default:throw new v(a);}this.KH(d,a,b,e)}}}KH(a,b,c,d){const e=a.elements,f={$D:a.container.page.elements.count(),l$c:e.length,oD:e.map(g=>g.type).join(", "),Wp:0,Qr:0,direction:b,kb:c};d.mb().nk(({Ii:g})=>{this.N.track(PPs,{...f,Rb:g()})});d.ne()}constructor(a,b,c,d){this.store=a;this.selection=b;this.N=c;this.V=d;$vs.G(this)}};var bws=bl("]"),cws=bl("["),dws=bl(Xo("]")),ews=bl(Xo("[")),aws=FV(a=>{const b=a.viq,c=a.ekq,d=a.dkq,e=a.iXr;return kV(uSs,{display:a.display,children:[dV(sSs,{className:"CLbnnA",onClick:()=>e("forward"),disabled:a.Yiq,Icon:lws,label:L("Y8Drbw")}),dV(sSs,{className:"_4CQkCw",onClick:()=>e("backward"),disabled:b,Icon:__c.ibr,label:L("LypM5g")}),dV(sSs,{onClick:()=>e("front"),disabled:c,Icon:mws,label:L("SOg37g")}),dV(sSs,{onClick:()=>e("back"),disabled:d,Icon:kws,label:L("r/JBnA")})]})});var Zvs=class{static G(a){O(a,{NN:mV,Utg:mV,h3h:mV,g3h:mV,Dhg:mV,grg:mV,Tqg:mV,WXf:mV,HNf:mV})}get NN(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"&&this.selection.La.Ji()}get Utg(){const a=this.selection.La;if(a&&a.type==="elements"){var b=a.box;return a.container.page.elements.IRa(c=>!!b&&b.intersects(Vj(c)))}}get h3h(){const a=this.HNf,b=this.selection.La;if(!b||b.type!=="elements")return!1;const c=b.elements.length;return a.indexOf(b.elements[0])===a.length-
c}get g3h(){const a=this.selection.La;if(!a||a.type!=="elements")return!1;const b=a.elements.length;return this.HNf.lastIndexOf(a.elements[b-1])===b-1}get Dhg(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ji()}get grg(){return!this.Dhg||this.h3h}get Tqg(){return!this.Dhg||this.g3h}get WXf(){const a=this.selection.La;if(this.Ma.mode!==40||this.ka.layout!==2)return!1;switch(a===null||a===void 0?void 0:a.type){case "pages":return a.pages.every(b=>b.type!=="responsive");case "elements":return!0;
case "audio":case void 0:return!1;default:throw new v(a);}}get HNf(){const a=this.selection.La;if(!a||a.type!=="elements")return[];const b=a.box;return b?a.container.page.elements.filter(c=>b.intersects(Vj(c))):[]}constructor(a,b,c){this.selection=a;this.Ma=b;this.ka=c;Zvs.G(this)}};var PSs=FV(a=>dV(a.zi,{yh:"icon-and-label",icon:a.icon,pressed:a.open,disabled:a.disabled,onClick:a.onClick,children:a.label})),nws=FV(a=>dV(PSs,{...a,icon:lws,label:L("Y8Drbw")})),ows=FV(a=>dV(PSs,{...a,icon:mws,label:L("SOg37g")})),pws=FV(a=>dV(PSs,{...a,icon:__c.ibr,label:L("LypM5g")})),qws=FV(a=>dV(PSs,{...a,icon:kws,label:L("r/JBnA")}));var Vvs=FV(a=>dV(a.zi,{yh:"icon-and-label",icon:__c.dbr,pressed:a.open,onClick:a.onClick,children:L("rx7oXA")}));var QSs,RSs,SSs,TSs={type:"fixed",scale:1,wA:{COa:0}},Ovs;
new (QSs=class extends JV{constructor(){super(Ovs);RSs()}},(()=>{class a extends(SSs=HV){static G(b){O(b,{b$a:mV,Hg:mV})}get b$a(){const b=this.props.gb.Zk(this.props.page);return!zg(b)}get Hg(){const b=this.props.gb.Zk(this.props.page);ta(!zg(b));return xg(4,b)}render(){var b=this.props.page,c=this.props.nd;const d=this.props.k6;var e=c;if(this.b$a){e=this.Hg.width;c=this.Hg.height;const f=this.$c.get();e*=f;c*=f}b=b.Jc.first();return dV("div",{style:{width:e,height:c},className:"U4ZyRw",children:this.b$a&&
b?dV(d,{fill:b,Fq:void 0,NRb:!0,Pc:TSs,nd:this.Hg.width,sf:this.Hg.height,$c:this.$c,Kwc:!1}):dV(__c.MFb,{origin:this.origin,zoom:this.zoom})})}constructor(...b){super(...b);this.origin=(Ovs.G(this),mV(()=>new xj(0,0)));this.zoom=mV(()=>1);this.$c=mV(()=>this.props.nd/this.Hg.width)}}({c:[Ovs,RSs]}=KV(a,[],[Ob],SSs))})(),QSs);var USs=fV(a=>{const {selected:b,ariaLabel:c,hb:d,children:e,badge:f,onContextMenu:g,...h}=a;a=!Hc.vba&&Wb();return dV("div",{className:CV("hiyW1Q","_7g14zg",{F00yww:a}),onContextMenu:g,children:kV(__c.Yu,{DAb:"compact",children:[dV(rr,{className:CV("TTS2mw",{F00yww:a,qJ7DdQ:b}),ariaLabel:c,hb:d,hk:"right",...h,children:e}),f]})})});var VSs,WSs,XSs,YSs,ZSs,$Ss,aTs,bTs=parseInt("36px",10)+2*parseInt("8px",10)+2*parseInt("2px",10),cTs=parseInt("8px",10)/2,dTs=parseInt("8px",10)*1.5,eTs=parseInt("8px",10)*2,Uvs,fTs=class extends HV{componentDidMount(){Kb(this,[eV(()=>this.props.QUe.get(),a=>this.props.opl(a),{fireImmediately:!0}),eV(()=>this.props.vm.get(),()=>this.props.Jqi(),{fireImmediately:!0})])}render(){const a=this.props.layout;var b=this.props.TRo;const c=this.props.Ljp,d=this.props.s9i,e=this.props.xpp,f=a===2?`${cTs}px ${dTs}px ${__c.bd().bottom+
dTs}px`:`${cTs}px ${eTs}px ${eTs}px`,g=this.k3p(f);b=this.props.zu?dV(d,{Ebb:{j$a:"1u"},EC:bTs,ug:this.props.zu,Bkb:g,children:b&&dV(b,{})}):dV(e,{Ebb:{j$a:"1u",mDk:f},EC:bTs,children:b&&dV(b,{})});return kV("div",{className:CV("spuUow",{_2rV2dQ:a===2}),children:[dV(R,{padding:a===2?"1.5u":"2u",paddingTop:a===2?"0":"2u",children:dV(c,{})}),dV("div",{className:"_0M3pDA",children:b})]})}constructor(...a){super(...a);this.k3p=b=>FV(({children:c})=>dV("div",{style:{padding:b},children:dV(Uc,{spacing:"1u",
children:c})}))}};({c:[Uvs,XSs]}=KV(fTs,[],[Ob],HV));XSs();var Pvs;
new (VSs=class extends JV{constructor(){super(Pvs);YSs()}},(()=>{class a extends(ZSs=HV){static G(b){O(b,{onClick:gV.bound,onMouseEnter:gV.bound,SYa:gV.bound,ariaLabel:mV,hb:mV,Icon:mV,oPg:mV,Ywk:mV})}onClick(b){this.props.onClick(b,this.props.element)}onMouseEnter(){this.props.onMouseEnter(this.props.element)}SYa(b){this.props.SYa(b,this.props.element)}get ariaLabel(){const b=this.props.element,c=this.props.B9h;return b.type==="text"&&b.text.Ya?b.text.Ya:c(b)}get hb(){const b=this.props.element;
if(this.oPg)return L("riMK7g");if(b.type==="group")return b.xd?void 0:L("ZjDhTQ")}get Icon(){const b=this.props.element;if(this.oPg){var c;return((c=b.IL)===null||c===void 0?0:c.R_c)?gbr:fy}switch(b.type){case "group":return b.xd||this.Ywk?void 0:KHp}}get oPg(){const b=this.props.element;return this.props.page.ia.locked||b.locked}get Ywk(){const b=this.props.element;return b.type==="group"&&b.nb.count()>10}render(){const b=this.Icon,c=this.Ywk,d=this.props.page,e=this.props.element,f=this.props.Ll,
g=this.props.Thc;return dV(this.props.rej,{selected:this.props.selected,ariaLabel:this.ariaLabel,hb:this.hb,OUk:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.onContextMenu,icon:b&&dV(b,{size:"medium"}),Xfd:this.oPg?null:dV(__c.D4g,{size:"medium"}),jd:c?gTs:e.width>0?dV(f,{element:e,page:d}):void 0,badge:this.oPg||!g?null:dV(g,{ariaLabel:L("dfZFMw"),zh:this.SYa})})}constructor(...b){super(...b);a.G(this)}}({c:[Pvs,YSs]}=KV(a,[],[Ob],ZSs))})(),
VSs);var gTs=dV("div",{className:"fCx1PA",children:dV("div",{className:"Kp8FKg VnXh5Q",children:dV(KHp,{size:"medium"})})}),Svs;
new (WSs=class extends JV{constructor(){super(Svs);$Ss()}},(()=>{class a extends(aTs=HV){static G(b){O(b,{onMouseEnter:gV.bound,SYa:gV.bound})}onMouseEnter(){this.props.onMouseEnter()}SYa(b){this.props.SYa(b)}render(){const b=this.props.page,c=this.props.onClick,d=this.props.onMouseLeave,e=this.props.onContextMenu,f=this.props.VRo,g=this.props.Thc;return dV(this.props.rej,{selected:this.props.selected,ariaLabel:L("AThZtQ"),hb:L("AThZtQ"),OUk:c,onMouseEnter:this.onMouseEnter,onMouseLeave:d,onContextMenu:e,
jd:dV(f,{page:b}),icon:dV(__c.nB,{size:"medium"}),badge:b.locked||!g?null:dV(g,{ariaLabel:L("dfZFMw"),zh:this.SYa})})}constructor(...b){super(...b);a.G(this)}}({c:[Svs,$Ss]}=KV(a,[],[Ob],aTs))})(),WSs);
var Tvs=class extends HV{static G(a){O(a,{onChange:gV.bound})}onChange(){return this.props.onChange()}get cSh(){return[{label:L("AlHQ5Q"),value:"all"},{label:L("kf4slw"),value:"overlapping"}]}render(){return dV(__c.Jx,{options:this.cSh,onChange:this.onChange,value:this.props.Es})}constructor(...a){super(...a);Tvs.G(this)}},Qvs=FV(a=>{const b=a.jd,c=a.icon,d=a.Xfd;return dV(USs,{selected:a.selected,onClick:a.OUk,children:kV("div",{className:"_veUSQ",children:[dV("div",{className:CV("_8gxVPQ","kVC8Fw"),
children:d}),dV("div",{className:"tBy2_g",children:b}),c&&dV("div",{className:CV("_8gxVPQ","VYPvfg"),children:c})]})})}),Rvs=FV(a=>{const b=a.jd,c=a.icon,d=a.Xfd;return dV(USs,{selected:a.selected,onClick:a.OUk,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,badge:a.badge,onContextMenu:a.onContextMenu,ariaLabel:a.ariaLabel,hb:a.hb,children:kV("div",{className:CV("h79xOQ","aOe0NQ"),children:[dV("div",{className:CV("_8gxVPQ","kVC8Fw"),children:d}),dV("div",{className:"tBy2_g",children:b}),c&&
dV("div",{className:CV("_8gxVPQ","VYPvfg"),children:c})]})})});var Wvs=FV(a=>dV(__c.A8d,{onClick:a.onClick,children:a.IF==="single"?L("aAUSrg"):L("fFnlJA")})),Xvs=FV(a=>dV(rV,{children:a.IF==="single"?L("rx7oXA"):a.vm.length>0?J("VHLDwQ",[a.vm.length]):J("VHLDwQ",[1])}));var Ivs={eventType:"editor_layers_panel_shown",Oa(a){return sf({action:a.action,control_context:a.kb,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},Gvs={eventType:"editor_layers_interacted",Oa(a){return sf({action:a.action,element_types:a.oD,num_layers_selected:a.MLr,selected_tab:a.JC,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var Lvs=class extends __c.s4g{static G(a){O(a,{zTk:gV.bound,VAo:gV.bound,dGn:gV.bound,PUk:gV.bound,rvi:gV.bound})}zTk(a,b){const c=this.store.Pe,d=this.store.vm,e=this.store.BQe;if(c.type!=="responsive-page"){if(this.ka.layout===2&&e==="multi-select"&&d.length>0)return this.vGh(b);if(this.ka.layout===2||d.length===0||!a.shiftKey&&!a.ctrlKey&&!a.metaKey)return this.selection.Il(c,b),this.store.whn&&a.detail===2&&this.eUl(),Hvs(this,"selected");if(a.shiftKey)return this.kqj(b);if(a.ctrlKey||a.metaKey)return this.vGh(b)}}PUf(a){const b=
this.store.Pe;b.type!=="responsive-page"&&this.selection.Il(b,a)}VAo(){this.store.BQe=this.store.BQe==="single"?"multi-select":"single"}dGn(){Jvs(this,"shown")}PUk(a,b){a.preventDefault();b?this.store.vm.includes(b)||this.PUf(b):this.rvi();requestAnimationFrame(()=>this.kh.onContextMenu(a,"layers_panel","right_click"));Hvs(this,"contextual_menu_opened")}kqj(a){const b=this.store.Pe,c=this.store.QUe;var d=this.store.vm;if(b.type!=="responsive-page"){var e=c.indexOf(a),f=Math.max(...d.map(h=>c.indexOf(h))),
g=new Set(c.slice(Math.min(f,e),Math.max(f,e)+1));this.selection.mc(b.page,a)?(d=d.filter(h=>h===a||!g.has(h)),this.selection.Il(b,...d)):this.selection.Qdd(b,...g);Hvs(this,"selected")}}vGh(a){var b=this.store.Pe;b.type!=="responsive-page"&&(b=b.page,this.selection.mc(b,a)?this.selection.w9c(b,a):this.selection.mBd(b,a),Hvs(this,"selected"))}rvi(){const a=this.store.Pe;a.type!=="responsive-page"&&(this.selection.uT(a.container,a.page),Hvs(this,"selected"))}eUl(){const a=this.store.Pe;if(a.type!==
"responsive-page"){var b=this.store.vm;if(b.length!==0){var c=this.viewport.jz();b=Zj(0,b.map(Vj));var d=this.viewport.zoom.scale/this.viewport.YU("fit");d*=this.viewport.YU("fit");this.viewport.Ly(a.page,Math.min(c.width*.6/b.width,c.height*.6/b.height,d),{center:b.center(),animate:!0})}}}constructor(a,b,c,d,e,f,g,h){super(a);this.store=a;this.viewport=b;this.Jmi=c;this.ka=d;this.selection=e;this.QR=f;this.kh=g;this.P=h;this.g0s=(Lvs.G(this),()=>{this.store.Es=this.store.Es==="overlapping"?"all":
"overlapping";this.Jqi();Hvs(this,this.store.Es==="overlapping"?"see_overlapping":"see_all")});this.opl=k=>{this.store.ehs=k};this.SYa=(k,l)=>{l&&k?this.store.vm.includes(l)||this.zTk(k,l):this.rvi();Hvs(this,"contextual_menu_opened")};this.UTb=k=>{var l,m=this.store.Pe;if(m.type==="responsive-page")return!0;m=m.page;return m.locked?!0:this.selection.mc(m,k)?!((l=this.selection.La)===null||l===void 0?0:l.Ji()):k.locked};this.K2=k=>{const l=this.store.Pe;l.type!=="responsive-page"&&(this.selection.mc(l.page,
k)||this.selection.Il(l,k))};this.onDrop=({item:k,trailing:l})=>{l?this.Jmi.Ujc("backward","drag",k):this.Jmi.Ujc("forward","drag",k);Hvs(this,"rearranged")};this.iei=k=>{const l=this.store.Pe;l.type!=="responsive-page"&&this.QR.e_a({page:l.page,element:k})};this.Z2i=()=>{this.QR.e_a({page:void 0,element:void 0})};this.Jqi=()=>{const k=this.store.yGi,l=this.store.vm;var m=this.store.QUe;this.store.eKh?(m.length>0&&this.gJk(m[m.length-1]),this.store.yGi=l):k===l?this.gJk(l[l.length-1]):((m=[...l].reverse().find(p=>
!k.includes(p)))&&this.gJk(m),this.store.yGi=l)}}};var Kvs=class extends __c.t4g{static G(a){O(a,{BQe:yV.ref,Es:yV.ref,Pe:mV,g6h:mV,whn:mV,vm:mV,eKh:mV,QUe:mV,HNf:mV,items:mV,RK:mV.struct,Hfc:mV})}get Pe(){return this.ya.nw.mh}get g6h(){return this.Pe.page.type==="responsive"?[]:this.Pe.page.elements.toArray()}get whn(){if(this.Pe.page.type==="responsive")return!1;const a=this.gb.Zk(this.Pe.page);return zg(a)}get vm(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"?this.selection.La.elements:[]}get yGi(){return this.c3l}set yGi(a){this.c3l=
a}get eKh(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="pages"&&!!this.selection.La.inner}set ehs(a){this.b3l=a}get QUe(){return this.isDragging||this.$vk()?this.b3l:[...(this.Es==="overlapping"?this.HNf:this.g6h)].reverse()}get HNf(){if(this.eKh)return this.g6h;const a=this.selection.La;if(!a||a.type!=="elements")return[];const b=a.box;return this.g6h.filter(c=>!!b&&b.intersects(Vj(c)))}get items(){return this.QUe}get RK(){return this.vm}get Hfc(){return!this.isDragging&&
!this.O2d}constructor(a,b,c,d){super("vertical");this.ya=a;this.selection=b;this.gb=c;this.$vk=d;this.BQe=(Kvs.G(this),"single");this.Es="all";this.b3l=[];this.c3l=[]}};var Nvs=parseInt("36px",10),Mvs=parseInt("196px",10);var hTs=FV(a=>{const b=a.onClick,c=a.open,d=a.BUc;a=a.zi;const e=hV(()=>{b&&(b(),!c&&d())},[b,c,d]);return dV(a,{pressed:c,onClick:e,icon:__c.kbr,yh:"label",children:L("AXgBkw")})}),iTs=FV(a=>{const b=a.S5f,c=a.Bne,d=a.P5f;return dV(ao,{children:dV(R,{padding:"2u",className:"lvD6KQ",children:kV(Uc,{spacing:"2u",children:[dV(a.c8f,{}),b&&dV(b,{}),c&&dV(c,{}),dV(d,{})]})})})}),jTs=FV(a=>{const b=a.Df;var c=a.c8f;const d=a.S5f,e=a.Bne;a=a.P5f;const f=(g,h)=>({xo:()=>g,ma:()=>dV(R,{Kb:"2u",children:h})});
c=[f(L("6nsfUw"),dV(c,{})),d?f(L("V/DN5w"),dV(d,{})):null,e?f(L("2cZnyg"),dV(e,{})):null,f(L("Y2VUFg"),dV(a,{pTc:!1}))].filter(ub);return dV(b.B9,{items:c})}),kTs=a=>{const {pmj:b,wdj:c,Qej:d,wmj:e,xmj:f,Ejj:g,Fjj:h,fcj:k,gcj:l,gij:m,XT:p,pTc:q=!0}=a;return kV(Uc,{spacing:"1u",children:[q&&dV(tSs,{text:L("Y2VUFg")}),kV(kr,{spacing:"1u",columns:3,Fa:"end",children:[p==="size-and-position"?dV(b,{}):dV(g,{}),p==="size-and-position"?dV(c,{}):dV(h,{}),dV(d,{}),p==="size-and-position"?dV(e,{}):dV(k,{}),
p==="size-and-position"?dV(f,{}):dV(l,{}),dV(m,{})]})]})},lTs=FV(({zi:a,...b})=>dV(a,{...b,yh:"icon-and-label",icon:__c.kbr,tooltip:L("Y2VUFg"),children:L("Y2VUFg")})),mTs=FV(({P5f:a})=>dV(rV,{children:a&&dV(R,{padding:"2u",paddingTop:"0",children:dV(a,{pTc:!1})})})),nTs=FV(a=>{const b=a.e0e,c=a.zu,d=a.flp,e=a.d8f;return dV("div",{className:"GxR1sw",children:kV(__c.PA,{height:"fill",I0a:a.JC,onSelect:a.BUc,children:[dV("div",{className:"rrwBLA",children:kV(__c.QA,{align:"stretch",children:[dV(__c.RA,
{id:"arrange",onClick:a.jOi,children:L("u+o8qg")}),dV(__c.RA,{id:"layers",onClick:b,children:L("upLrUg")})]})}),dV(__c.SA,{children:kV("div",{className:"LKB_7Q",children:[dV(__c.TA,{id:"arrange",children:dV(d,{})}),dV(__c.TA,{id:"layers",children:dV(e,{zu:c})})]})})]})})});var uws=class extends HV{static G(a){O(a,{NDn:gV.bound,onChange:gV.bound,onBlur:gV.bound,onKeyDown:gV.bound})}NDn(){var a;const b=this.props.Fx,c=this.props.onFocus;c((b===null||b===void 0?void 0:b.toString())||"");(a=this.ref.current)===null||a===void 0||a.select()}onChange(a){this.props.onChange(a)}onBlur(){this.props.onBlur()}onKeyDown(a){if(a.key==="Enter"){var b;this.props.onBlur();(b=this.ref.current)===null||b===void 0||b.blur()}}render(){const a=this.props.value,b=this.props.Fx,c=this.props.focused,
d=this.props.disabled,e=this.props.unit,f=typeof b!=="undefined"?`${b===null||b===void 0?void 0:b.toString()}${e||""}`:"--";return dV(eD,{label:this.props.label,Ev:"small",control:g=>dV(__c.Pu,{...g,type:"text",inputMode:"decimal",ref:this.ref,disabled:d,value:c?a:f,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onFocus:this.NDn})})}constructor(...a){super(...a);this.ref=(uws.G(this),IV())}};var tws=class{constructor(a,b,c){this.store=a;this.selection=b;this.update=c;this.onFocus=d=>{this.store.Jqb=d;this.store.value=d;this.store.focused=!0;this.store.vm=[];(d=this.selection.La)&&d.type==="elements"&&(this.store.vm=d.elements)};this.onBlur=()=>{const d=this.store.value,e=this.store.vm;this.Axk(d)&&e&&e.length>0&&this.store.Jqb!==d&&(this.update(Number.parseFloat(d),e),this.store.Jqb="");this.store.focused=!1;this.store.vm=[]};this.onChange=d=>{d=d.trim();d!=="-"&&isNaN(Number(d))||(this.store.value=
d)};this.Axk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d))}};var sws=class{static G(a){O(a,{Jqb:yV.ref,value:yV.ref,focused:yV.ref,vm:yV.ref})}constructor(){this.Jqb=(sws.G(this),"");this.value="";this.focused=!1;this.vm=[]}};var oTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v12.818l-1.5-1.5V13.75h-2.568l-1.5-1.5H19.5v-2.216l-2.448-2.811a.544.544 0 0 0-.684-.085.46.46 0 0 0-.101.087l-2.707 3.153-1.005-1.005 2.53-2.89c.115-.134.251-.252.406-.351.865-.552 2.09-.4 2.735.34L19.5 7.89V5a.5.5 0 0 0-.5-.5H7.682L6.182 3H19a2 2 0 0 1 2 2ZM9.068 12.25l1.5 1.5H4.5V19a.5.5 0 0 0 .5.5h11.318l1.5 1.5H5a2 2 0 0 1-2-2V6.182l1.5 1.5v4.568h.603l1.859-2.106.892.892-1.188 1.214h2.402Zm4.597 4.597-1.097-1.097H7a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 .665-.403ZM5.53 4.47a.75.75 0 0 0-1.06 1.06l15 15a.75.75 0 1 0 1.06-1.06l-15-15Z" fill="currentColor"/></svg>';var Qws=er({medium:oTs});var Fws={eventType:"editor_element_line_positioned",Oa(a){return sf({start_x:a.uoa,start_y:a.Csb,end_x:a.xnb,end_y:a.ynb,original_start_x:a.l8r,original_start_y:a.m8r,original_end_x:a.G7r,original_end_y:a.H7r,units:a.units,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}};var Rws=class{static G(a){O(a,{position:mV.struct,fNh:mV,w5k:mV})}get position(){var a=this.selection.La;if(a&&a.type==="elements"){var b=a.elements;if(b.length!==0&&!b.some(c=>c.type==="line"))return a=this.gb.Zk(a.container.page),wws(a,b,xws)}}get fNh(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ji()}get w5k(){var a,b;return!this.fNh||!!((b=this.selection.La)===null||b===void 0?0:(a=b.elements)===null||a===void 0?0:a.some(c=>c.type==="line"))}constructor(a,b){this.selection=a;this.gb=
b;Rws.G(this)}};var Wws=class{static G(a){O(a,{v7:mV.struct,m2a:mV.struct,uyl:mV,n3j:mV,kNh:mV})}get v7(){return Aws(this,"start")}get m2a(){return Aws(this,"end")}get uyl(){var a;if(!this.kNh)return!0;const b=(a=this.selection.La)===null||a===void 0?void 0:a.elements;return(a=b===null||b===void 0?void 0:b.filter(yws))&&a.length!==0?a.some(c=>Bws(this,c,"start")):!0}get n3j(){var a;if(!this.kNh)return!0;const b=(a=this.selection.La)===null||a===void 0?void 0:a.elements;return(a=b===null||b===void 0?void 0:b.filter(yws))&&
a.length!==0?a.some(c=>Bws(this,c,"end")):!0}get kNh(){const a=this.selection.La;return!!a&&a.type==="elements"&&a.Ji()}constructor(a,b,c){this.selection=a;this.gb=b;this.se=c;Wws.G(this)}};var Jws=class{static G(a){O(a,{rGn:gV.bound})}rGn(a,b,c){var d,e;const f=this.selection.La;if(f&&f.type==="elements"&&f.box&&this.store.VAj){var g=f.box.tl,h=f.box,k=f.elements,l=f.container,m=this.Fr.E1a(k);this.store.JPg=!0;var p=h.tl;(d=this.store.soa)===null||d===void 0||d.close();var {delta:q,XVi:r}=Ews(this.gb.Zk(l.page).units,h.tl,a,b,this.Uj.sTc);r!=null&&this.l9?(a=new __c.hsg(h,p),this.store.soa=__c.Pkg(this.l9,a,l,k,()=>r)):this.store.soa=void 0;k={type:"translate",kj:Math.abs(q.x)>0,Bj:Math.abs(q.y)>
0};l=Dj(p,q);a=t=>{const {x:u,y:w}=Aj(t,p);m.translate(u,w);return h};a(l);(e=this.store.soa)===null||e===void 0||e.Kw(k,l,h,!1,a);this.CXr();this.P0g();Cws(this,g,f,c)}}constructor(a,b,c,d,e,f,g,h=750){this.store=a;this.selection=b;this.Fr=c;this.gb=d;this.Uj=e;this.l9=f;this.P=g;this.VGf=h;this.CXr=(Jws.G(this),Hb(gV(()=>{var k;(k=this.store.soa)===null||k===void 0||k.close();this.store.soa=void 0}),this.VGf));this.P0g=Hb(gV(()=>{this.store.JPg=!1}),this.VGf);this.Rrc=()=>{var k,l;const m=this.selection.La;
m&&m.type==="elements"&&((l=this.P)===null||l===void 0||l.track(__c.wph,{$D:m.container.page.elements.count(),kGa:(k=m.elements)===null||k===void 0?void 0:k.map(p=>p.type),menu:"nudge",Wp:0,Qr:0,Ey:0}))}}},Dws={[1]:{small:Ov(1,.1),large:Ov(1,1)},[2]:{small:Ov(2,.0625),large:Ov(2,1)},[3]:{small:Ov(3,1),large:Ov(3,10)},[4]:{small:1,large:10}};var Xws=class{constructor(a,b,c,d,e,f){var g=Ews;this.Uj=a;this.store=b;this.selection=c;this.gb=d;this.Fr=e;this.N=f;this.qWq=g;this.Xrs=(h,k)=>{Hws(this,h,k,"start","x")};this.Yrs=(h,k)=>{Hws(this,h,k,"start","y")};this.Vrs=(h,k)=>{Hws(this,h,k,"end","x")};this.Wrs=(h,k)=>{Hws(this,h,k,"end","y")};this.QKr=(h,k,l,m)=>{if(!Bws(this.store,k,"end")){var p=zws(this.store,k,"end");h=this.gb.Zk(h).units;var {delta:q}=this.qWq(h,p,l,m,this.Uj.sTc);m=zws(this.store,k,"start");var r=Dj(p,q);if(__c.Cj(m,
r)>=25)l=r;else{var t=Kj(-m.x,-m.y);q=t.invert();r=t.transformPoint(r);l==="left"||l==="right"?(t=Math.sqrt(25-r.y*r.y),l=q.transformPoint(new xj(l==="left"?-t:t,r.y))):(t=Math.sqrt(25-r.x*r.x),l=q.transformPoint(new xj(r.x,l==="up"?-t:t)))}k=new __c.xZd(k,this.Fr.se);k.setEndPoint(l);k.complete();Gws(this,h,m,p,m,l)}}}};var Kws=FV(a=>dV(a.zi,{pressed:a.open,onClick:()=>{const b=a.onClick,c=a.open,d=a.Rrc;b&&(b(),!c&&d())},icon:__c.Eos,yh:a.Yf?"icon-and-label":"label",children:L("aYsObw")})),Lws=FV(a=>{const b=a.NG;a=hV(()=>b("left"),[b]);const c=hV(()=>b("up"),[b]),d=hV(()=>b("down"),[b]),e=hV(()=>b("right"),[b]);return dV(R,{children:kV(kr,{spacing:"1u",columns:4,children:[dV(__c.pie,{onClick:a,speed:"fast",children:f=>dV(bj,{ariaLabel:L("qpV6YA"),icon:yr,stretch:!0,variant:"secondary",...f})}),dV(__c.pie,{onClick:c,
speed:"fast",children:f=>dV(bj,{ariaLabel:L("B5NX3g"),icon:OC,stretch:!0,variant:"secondary",...f})}),dV(__c.pie,{onClick:d,speed:"fast",children:f=>dV(bj,{ariaLabel:L("SzdIhw"),icon:O5g,stretch:!0,variant:"secondary",...f})}),dV(__c.pie,{onClick:e,speed:"fast",children:f=>dV(bj,{ariaLabel:L("1v1q7g"),icon:Yt,stretch:!0,variant:"secondary",...f})})]})})});var Iws=class{static G(a){O(a,{JPg:yV.ref,VAj:mV})}get VAj(){const a=this.selection.La;return a==null||a.type!=="elements"?!1:!(!a.Ji()&&!a.elements.some(b=>__c.fGg(this.VX,b)))}constructor(a,b){this.selection=a;this.VX=b;this.JPg=(Iws.G(this),!1);this.soa=void 0}};var Sws=class{constructor(a,b,c,d){this.store=a;this.selection=b;this.gb=c;this.N=d;this.kj=(e,f)=>{if(this.store.fNh){var g=this.selection.La;if(g&&g.type==="elements"&&g.Ji()){var h=vb.direction===2,k=this.gb.Zk(g.container.page);g=k.units;e=Ov(g,h?k.width-e:e);k=this.store.position;for(const l of f)f=Vj(l),f=f.translate(e-(h?f.tr.x:f.tl.x),0),l.left=f.Mb().left;Nws(this,g,k)}}};this.Bj=(e,f)=>{if(this.store.fNh){var g=this.selection.La;if(g&&g.type==="elements"&&g.Ji()){g=this.gb.Zk(g.container.page).units;
var h=Ov(g,e);e=this.store.position;f.forEach(k=>{var l=Vj(k);l=l.translate(0,h-l.tl.y);k.top=l.Mb().top});Nws(this,g,e)}}}}},Pws=class{static G(a){O(a,{URk:gV.bound,XRk:gV.bound,NXj:mV,zVf:mV})}URk(){const a=this.selection.Jb;if((a===null||a===void 0?void 0:a.container.type)==="body"||(a===null||a===void 0?void 0:a.container.type)==="responsive-page"){var b=this.NXj;if(b){var c=this.Xa.USd(a.container.text,b,{Twl:!0}),d=this.undo.startBuffering();try{const q=gif(this.Xa);this.Xa.jQ();const r=()=>
{q&&this.Xa.b_a(q);this.Ng.MR()},t=a.container.type==="responsive-page"&&a.container.marker.Jg.ref;if(c||t){var e=(c===null||c===void 0?void 0:c.type)==="item"&&c.item.type==="break",f=e&&c.item.marker.Jg.ref;if(e&&!f){var g;const u=this.lU.owc(__c.XUc.snapshot(b),c.item.marker);(g=this.N)===null||g===void 0||g.track(k0g,{iEc:"page_break",GVd:"cover_set",elementType:u.type,Wc:"contextual_menu"});this.selection.Uv(a.container,c.item);r()}else{var h=this.oc.addPageBreak({Wc:"contextual_menu"});if(h){var k;
const u=this.lU.owc(__c.XUc.snapshot(b),h.marker);(k=this.N)===null||k===void 0||k.track(k0g,{iEc:"page_break",GVd:"cover_set",elementType:u.type,Wc:"contextual_menu"});this.selection.Uv(a.container,h);r()}}}else{var l;const u=a.container.marker,w=this.lU.owc(__c.XUc.snapshot(b),u);(l=this.N)===null||l===void 0||l.track(k0g,{iEc:"document",GVd:"cover_set",elementType:w.type,Wc:"contextual_menu"});this.selection.Uv(a.container.zVb(u),w);r()}}finally{var m,p;d.stop();(m=(p=this.Hb.Rd).Gzr)===null||
m===void 0||m.call(p)}}}}XRk(){const a=this.selection.Jb;var b=Ows(a);if(b){var c=b.iEc,d=b.zSa,e=b.ref;b=b.text;var f=this.undo.startBuffering();try{var g;const m=gif(this.Xa);__c.Rxf(e);switch(c){case "body":var h;(h=this.N)===null||h===void 0||h.track(k0g,{iEc:"document",GVd:"cover_unset",elementType:d.type,Wc:"contextual_menu"});this.Xa.Ru(b,Qw.start());break;case "break":var k;if((a===null||a===void 0?void 0:a.type)===1&&((k=a.only)===null||k===void 0?void 0:k.type)==="break"){var l;(l=this.N)===
null||l===void 0||l.track(k0g,{iEc:"page_break",GVd:"cover_unset",elementType:d.type,Wc:"contextual_menu"});const p=__c.aVc.snapshot(a.only);this.Xa.jQ();this.Xa.xKc(p)}break;default:throw new v(c);}this.Xa.xKc({...d,width:d.type==="design"&&((g=d.Vw)===null||g===void 0?void 0:g.type)==="sticky-scroll"?"100cqw":"100%"});m&&this.Xa.b_a(m)}finally{f.stop()}}}get NXj(){var a=this.selection.Jb;if((a===null||a===void 0?void 0:a.type)===1&&(a=a.only))return __c.Qxf(a)?a:void 0}get zVf(){if(!(this.Ma.mode<
40)){var a=this.selection.Jb;if((a===null||a===void 0?void 0:a.type)===1){if(Ows(a))return"unset";var b=this.NXj;if(b&&a.container.text&&(b=this.Xa.USd(a.container.text,b,{Twl:!0}),a.container.type==="body"||a.container.type==="responsive-page")&&(Qb("38fa0627",!1)||!a.container.marker.Jg.ref&&!b||this.bHc&&(b===null||b===void 0?void 0:b.type)==="item"&&b.item.type==="break"&&!b.item.marker.Jg.ref))return"set"}}}constructor(a,b,c,d,e,f,g,h,k,l){this.oc=a;this.selection=b;this.Xa=c;this.Ng=d;this.lU=
e;this.Ma=f;this.undo=g;this.Hb=h;this.bHc=k;this.N=l;Pws.G(this)}};var pTs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.318 7.758a.75.75 0 0 0-1.06 1.06l2.431 2.432H3a.75.75 0 0 0 0 1.5h5.69l-2.432 2.432a.75.75 0 0 0 1.06 1.06l3.359-3.358a1.25 1.25 0 0 0 0-1.768L7.318 7.758ZM17.742 7.758a.75.75 0 0 0-1.06 0l-3.359 3.358a1.25 1.25 0 0 0 0 1.768l3.359 3.358a.75.75 0 1 0 1.06-1.06l-2.433-2.434H21a.75.75 0 0 0 0-1.5h-5.688l2.43-2.43a.75.75 0 0 0 0-1.06Z" fill="currentColor"/></svg>';var mxs=er({medium:pTs});var qTs=(a,b)=>{try{b(a),a.complete()}catch(c){a.reset()}finally{a.destroy()}},kxs=class{static G(a){O(a,{mvi:gV.bound,pAi:gV.bound,nAi:gV.bound,qAi:gV.bound,oAi:gV.bound,Mph:gV.bound})}mvi(){this.store.Vjc=!this.store.Vjc;this.store.tgf||this.N.track(RPs,{action:this.store.Vjc?"lock":"unlock"})}pAi(){bxs(this.store.e0b,this.rPa,this.Vi)}nAi(){cxs(this.store.e0b,this.rPa,this.Vi)}qAi(){dxs(this.store.e0b,this.rPa,this.Vi)}oAi(){exs(this.store.e0b,this.rPa,this.Vi)}Mph(){this.selection.Jb&&this.n0.Mph()}adh(a,
b,c){var {diagonal:d}=__c.qee(this.daa,[b]),e=this.selection.La;if(e&&e.type==="elements"){var f=e.container.page;if(d&&f){var g=Vj(b);d=Yws(this,g);e=g.width;var h=g.height,k=g.c,l=g.tl;g=this.qe.$7a([b]);k=__c.Kfg(b,this.Vbb)==="center"?k:l;f=this.viewport.ZN(f);const {width:m,height:p}=Vj(b);b=b.type!=="group"||__c.vqa(b)?8:30;a=Math.max(Math.max(Math.min(1,b/(Math.min(m,p)*f)),1E-14),a/(c==="x"?e:h));try{g.scale(__c.Qj(d.transformPoint(k),a))}finally{g.destroy()}}}}Ycd(a,b,c){const d=c==="x",
e=c==="y";var f=Vj(b);const g=dk(f),h=Yws(this,f);c=__c.Kfg(b,this.Vbb);const k=h.transformPoint(c==="center"?f.c:d?f.Sb:f.t),l=h.transformPoint(d?f.r:f.b),m=g.then(h).transformPoint({x:d?a:f.width,y:e?a:f.height});switch(b.type){case "text":f=this.qe.wEc(b);const p=c==="center"?"center":axs(b.writingMode);qTs(f,q=>q.qOb(p,a,{Aga:!1}));break;case "rect":b=this.qe.i0c(b);qTs(b,q=>q.sv(k,l,m,d,e));break;case "grid":b=this.qe.Glf(b);qTs(b,q=>q.sv(k,l,m,d,e));break;case "line":break;case "table":b=this.qe.Slf(b);
qTs(b,q=>{q.sv(k,l,m,d,e)});break;case "shape":b=this.qe.Llc(b);qTs(b,q=>q.sv(k,l,m,d,e));break;case "chart":if(c=this.qe.umg(b))qTs(c,q=>q.sv(k,l,m,d,e));else{c=Vj(b).sv(k,l,m,d,e,5,5);const {top:q,left:r,width:t,height:u}=c.Mb();b.top=q;b.left=r;b.width=t;b.height=u}break;case "group":if(f=__c.gce(b)){b=this.qe.ung(b);const q=c==="center"?"center":axs(f);qTs(b,r=>r.qOb(q,a,{Aga:!1}))}else b=this.qe.Hlf(b),qTs(b,q=>q.sv(k,l,m,d,e));break;case "embed":b=this.qe.Img(b);qTs(b,q=>q.sv(k,l,m,d,e));break;
case "sheet":b=this.qe.qng(b);qTs(b,q=>q.sv(k,l,m,d,e));break;case "layout":b=this.qe.Jlf(b);qTs(b,q=>q.sv(k,l,m,d,e));break;case "controlled":b=this.qe.zlf(b);qTs(b,q=>q.sv(k,l,m,d,e));break;default:throw new v(b);}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r=750){this.store=a;this.n0=b;this.selection=c;this.qe=d;this.daa=e;this.rPa=f;this.Vi=g;this.gb=h;this.Vbb=k;this.N=l;this.Uj=m;this.viewport=p;this.fud=q;this.VGf=r;this.aWr=(kxs.G(this),(t,u)=>{var w=this.selection.La;if(w&&w.box&&w.Ji()&&w.type===
"elements"&&w.Nd){if(w.Nd.type==="line")this.store.f5d=!0,this.fud.QKr(w.container.page,w.Nd,t,u);else{var x=w.box,y=w.container.page,z=w.Nd;w=w.elements;var A=this.store.size,B=t==="down"||t==="up"?"y":"x",D=B==="x"?x.r:x.b;this.store.f5d=!0;x=x.rotation===0?D:ak(x).transformPoint(D);y=this.gb.Zk(y).units;({delta:t}=Ews(y,x,t,u,this.Uj.sTc));u=B==="x"?z.width:z.height;Zws(this,z,B)&&(this.Ycd(u+t[B],z,B),$ws(this,w,y,A===null||A===void 0?void 0:A.width,A===null||A===void 0?void 0:A.height))}this.P0g()}});
this.resizeTo=(t,u,w)=>{var x=this.selection.La;if(x&&x.Ji()&&x.type==="elements"){x=this.gb.Zk(x.container.page).units;t=Ov(x,t);var y=this.store.size;if(this.store.rSd)for(const z of u)this.adh(t,z,w);else for(const z of u)Zws(this,z,w)?this.Ycd(t,z,w):this.adh(t,z,w);$ws(this,u,x,y===null||y===void 0?void 0:y.width,y===null||y===void 0?void 0:y.height)}};this.P0g=Hb(gV(()=>{this.store.f5d=!1}),this.VGf)}},ixs=class{static G(a){O(a,{Mph:gV.bound,pAi:gV.bound,nAi:gV.bound,qAi:gV.bound,oAi:gV.bound})}Mph(){var a=
this.store.e0b;if(a!==null&&a!==void 0&&a.item){a=a.item;var b=__c.hce(a);if(b){var c={oD:[a.type],Wc:"contextual_menu",NNn:a.width,MNn:a.maxWidth};if(a.width==="100cqw"){if(a.width="100%",a.minWidth=void 0,a.maxWidth=void 0,a.oBa=void 0,a.alignment="50%",a.type==="layout")switch(a.eb){case "100%":break;case "100cqw":a.eb="100%";break;default:a.X0!=="100%"&&(a.eb="100%",a.X0=void 0,a.Pca=void 0,a.oBa=void 0)}}else a.width="100cqw",a.minWidth=b==="inset"?"100%":void 0,a.maxWidth=b==="inset"?"100cqw":
void 0,a.oBa=b==="inset"?"48px":void 0,a.alignment="50%";this.N.track(__c.GOh,{...c,pKm:a.width,oKm:a.maxWidth})}}}pAi(){bxs(this.store.e0b,void 0,this.Vi)}nAi(){cxs(this.store.e0b,void 0,this.Vi)}qAi(){dxs(this.store.e0b,void 0,this.Vi)}oAi(){exs(this.store.e0b,void 0,this.Vi)}constructor(a,b,c){this.store=a;this.N=b;this.Vi=c;ixs.G(this)}};var lxs=a=>{const b=a.rSd,c=a.tgf,d=a.mvi;return dV(Uc,{spacing:"0.5u",children:dV(eD,{label:a.label,Ev:"small",control:e=>dV(bj,{...e,variant:"secondary",alignment:"center",stretch:!0,icon:b?fy:XJh,active:b,disabled:c,onClick:d})})})};var jxs=class{static G(a){O(a,{f5d:yV.ref,Vjc:yV.ref,size:mV.struct,aspectRatio:mV,aog:mV,ddh:mV,edh:mV,g4m:mV,zOo:mV,rSd:mV,xif:mV,tgf:mV,AOo:mV,h4m:mV,e0b:mV,dre:mV})}get size(){var a=this.selection.La;if(a&&a.type==="elements"&&a.elements.length!==0){var b=a.elements,c=b[0].height,d=b[0].width,e=b.every(f=>pTi(f.height,c));b=b.every(f=>pTi(f.width,d));a=this.gb.Zk(a.container.page).units;return{height:e?rTi(wg(4,a,c),a):void 0,width:b?rTi(wg(4,a,d),a):void 0}}}get aspectRatio(){if(this.size){var a=
this.size.height,b=this.size.width;if(a&&b)return a/b}}get aog(){var a,b;if((a=this.kok)===null||a===void 0?0:a.focused)return"height";if((b=this.eTl)===null||b===void 0?0:b.focused)return"width"}get ddh(){var a=this.selection.La;if(this.eTl&&a&&a.type==="elements"){a=this.gb.Zk(a.container.page).units;var b=Number.parseFloat(this.eTl.value);if(this.aog==="width"&&this.aspectRatio!=null&&!isNaN(b))return rTi(b*this.aspectRatio,a)}}get edh(){var a=this.selection.La;if(this.kok&&a&&a.type==="elements"){a=
this.gb.Zk(a.container.page).units;var b=Number.parseFloat(this.kok.value);if(this.aog==="height"&&this.aspectRatio!=null&&!isNaN(b))return rTi(b/this.aspectRatio,a)}}get g4m(){var a;return this.Vjc&&this.aog==="width"?this.ddh:(a=this.size)===null||a===void 0?void 0:a.height}get zOo(){var a;return this.Vjc&&this.aog==="height"?this.edh:(a=this.size)===null||a===void 0?void 0:a.width}get rSd(){return this.dre.diagonal?this.tgf||this.Vjc:!1}get xif(){const a=this.selection.La;return!!a&&a.type==="elements"&&
a.Ji()}get tgf(){if(!this.xif)return!0;const a=this.dre.horizontal,b=this.dre.diagonal;return!this.dre.vertical&&!a||!b}get AOo(){if(!this.xif)return!1;const a=this.dre.horizontal;return this.rSd||a}get h4m(){if(!this.xif)return!1;const a=this.dre.vertical;return this.rSd||a}get e0b(){if(this.selection.Jb)return this.o0.e0b;var a=this.selection.La;if(a&&(a.type==="elements"||a.type==="pages")&&a.inner)switch(a.inner.type){case "sheet":switch(a.type){case "elements":var b=a.inner.sheet.config;break;
case "pages":b=a.inner.page.sheet;break;default:throw new v(a);}return gxs(b,a.inner.rows,a.inner.columns);case "table":b=a.inner.cells;var c=a.inner.container.container.Sf(a.inner.table);const d=c.ia;a=new Set(aNe(d,b));b=new Set(bNe(d,b));c={type:"table",table:d,rows:a,columns:b,BZi:c};return{wdd:a.size>1?c:void 0,w_c:b.size>1?c:void 0,xdd:c,x_c:c};case "sheet-cell-media":case "grid":case "layout":case "layout-cell":case "shape":case "group":case "background":case "pages":break;default:throw new v(a.inner);
}}get dre(){var a;const b=((a=this.selection.La)===null||a===void 0?void 0:a.elements)||[];if(b.length===0)return{vertical:!1,horizontal:!1,diagonal:!1};if(b.length>1)return a=b.map(f=>__c.qee(this.daa,[f])),{diagonal:a.some(f=>f.diagonal!=null),vertical:a.some(f=>f.vertical!=null),horizontal:a.some(f=>f.horizontal!=null)};const {vertical:c,horizontal:d,diagonal:e}=__c.qee(this.daa,b);return{vertical:!!c,horizontal:!!d,diagonal:!!e}}constructor(a,b,c,d,e,f){this.o0=a;this.selection=b;this.gb=c;this.daa=
d;this.kok=e;this.eTl=f;this.f5d=(jxs.G(this),!1);this.Vjc=!1}},hxs=class{static G(a){O(a,{e0b:mV})}get e0b(){var a=this.selection.Jb;if(!(this.Ma.mode<=30)&&a)switch(a.type){case 1:if(!a.only||a.container.type==="marker"||a.container.type==="section-marker")break;if(a=fxs(a.only))return{item:a};break;case 4:return gxs(a.container.sheet.config,a.rows,a.columns);case 2:if(a=fxs(a.container.table))return{item:a};break;case 3:if(a=fxs(a.container.layout))return{item:a};break;case 0:case 5:break;default:throw new v(a);
}}constructor(a,b){this.Ma=a;this.selection=b;hxs.G(this)}};var rxs=class{constructor(a,b,c,d){this.store=a;this.nua=b;this.selection=c;this.N=d;this.VGf=750;this.rws=(e,f)=>{var g=this.selection.La;if(g&&g.Ji()){g=f.slice().sort(h=>h.type==="line"?-1:1);f=this.store.rotation;for(const h of g){const k=__c.Iee(this.nua,[h]),l=Vj(h),m=wj(e-l.rotation);try{k.rotate(Pj(l.c,m))}finally{k.destroy()}}e=g.map(h=>h.type);pxs(this,f,e,"position_panel")}};this.bWr=(e,f)=>{this.store.jQg=!0;this.pws((f==="small"?1:15)*(e==="right"?1:-1));this.P0g()};this.pws=e=>{var f=
this.selection.La;if(f&&f.box&&f.elements&&f.Ji()){var g=__c.Iee(this.nua,f.elements),h=wj(e);e=this.store.rotation;try{g.rotate(Pj(f.box.c,h))}finally{g.destroy()}f=f.elements.map(k=>k.type);pxs(this,e,f,"shortcut")}};this.P0g=Hb(gV(()=>{this.store.jQg=!1}),this.VGf)}};var qxs=class{static G(a){O(a,{jQg:yV.ref,rotation:mV,disabled:mV})}get rotation(){var a,b=((a=this.selection.La)===null||a===void 0?void 0:a.elements)||[];if(b.length!==0){var c=b[0].rotation;a=b.every(d=>pTi(d.rotation,c));b=TVa(c);return a?__c.qTi(b,1):void 0}}get disabled(){const a=this.selection.La;return a!=null&&a.type==="elements"&&a.Ji()?a.elements.some(b=>b.type==="line"&&b.geometry.ref!=null||__c.fGg(this.VX,b)):!0}constructor(a,b){this.selection=a;this.VX=b;this.jQg=(qxs.G(this),!1)}};var rTs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3.75 5.25h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 0 1 0-1.5zm0 12h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5zM9 9h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm.5 1.5v3h5v-3h-5z"/></svg>';var sTs=er({medium:rTs});var Ixs=class extends fQs{get Icon(){var a=this.props.hZs;switch(a){case "horizontal":a=__c.J6q;break;case "vertical":a=__c.SBj;break;case "grid":case void 0:a=__c.szr;break;default:throw new v(a);}return a}render(){return dV(this.props.fl,{Icon:this.Icon,label:L("8xqoHg")})}},Jxs=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:sTs,label:L("sQreSg")})}),Kxs=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.Eir,label:L("uYksAA")})});var Hxs=class{static G(a){O(a,{XTe:gV.bound})}XTe(a,b){var c=this.store.tlh;if(c&&!(c.length<3)){var {dEe:d,middle:e,spacing:f}=zxs(c,a);c=d;for(const {element:g,box:h}of e)switch(a){case "vertical":c=Bxs(this,g,"top",c+f-(h.t.y-g.top));c=Uj(c).b.y;break;case "horizontal":c=Bxs(this,g,"left",c+f-(h.Sb.x-g.left));c=Uj(c).r.x;break;default:throw new v(a);}}this.KH(a,b)}KH(a,b){var c,d=this.selection.La;if(d&&d.type==="elements"){var e=d.elements;d=d.container.page;(c=this.N)===null||c===void 0||c.track(__c.VWi,
{$D:d.elements.count(),l$c:e.length,oD:e.map(f=>f.type).join(", "),Wp:0,Qr:0,axis:a,kb:b})}}constructor(a,b,c,d){this.store=a;this.Fr=b;this.selection=c;this.N=d;Hxs.G(this)}};var Lxs=class extends fQs{static G(a){O(a,{YEn:gV.bound,kLn:gV.bound})}YEn(){return this.props.XTe("horizontal")}kLn(){return this.props.XTe("vertical")}render(){const a=this.props.pTc,b=this.props.Qkj,c=this.props.Xjq,d=this.props.Yjq;return kV(uSs,{display:this.props.display,title:L("8xqoHg"),pTc:a,children:[dV(sSs,{onClick:this.kLn,disabled:d,Icon:sTs,label:L("sQreSg")}),dV(sSs,{onClick:this.YEn,disabled:c,Icon:__c.Eir,label:L("uYksAA")}),dV(b,{})]})}constructor(...a){super(...a);Lxs.G(this)}};var Gxs=class{static G(a){O(a,{tlh:mV({equals:lV.shallow}),Wdi:mV,afh:mV.struct})}get tlh(){const a=this.qmd.Bjc;if(a&&!(a.length<3))return a}get Wdi(){return this.tlh==null}get afh(){if(this.tlh){var a=this.tlh;if(a.length<3)var b={Mwk:!0,gAk:!0};else{var {dEe:c,middle:d,Emi:e,spacing:f}=zxs(a,"vertical");b=d[d.length-1].box.b.y-e;b=Axs(c-d[0].box.t.y+f)&&Axs(b+f);for(var g=1;g<d.length&&b;g++)b=Axs(d[g-1].box.b.y-d[g].box.t.y+f);var {dEe:h,middle:k,Emi:l,spacing:m}=zxs(a,"horizontal");a=k[k.length-
1].box.r.x-l;a=Axs(h-k[0].box.Sb.x+m)&&Axs(a+m);for(g=1;g<k.length&&a;g++)a=Axs(k[g-1].box.r.x-k[g].box.Sb.x+m);b={gAk:b,Mwk:a}}return b}}constructor(a){this.qmd=a;Gxs.G(this)}};var Mxs=FV(({zi:a,...b})=>dV(a,{...b,yh:"icon-and-label",icon:__c.SBj,tooltip:L("8xqoHg"),children:L("8xqoHg")})),Nxs=FV(({Bne:a})=>dV(rV,{children:a&&dV(R,{padding:"2u",paddingTop:"0",children:dV(a,{})})}));var Dxs=Xo(Vo("t")),Exs=class extends fQs{static G(a){O(a,{onClick:gV.bound})}onClick(){return this.props.onClick()}get Vtp(){var a=this.props.type;switch(a){case "horizontal":a=__c.J6q;break;case "vertical":a=__c.SBj;break;case "grid":case void 0:a=__c.szr;break;default:throw new v(a);}return a}render(){return dV(sSs,{onClick:this.onClick,disabled:this.props.disabled,Icon:this.Vtp,label:L("WLw+ig")})}constructor(...a){super(...a);Exs.G(this)}};var Cxs=class extends fQs{get Icon(){var a=this.props.type;switch(a){case "horizontal":a=__c.J6q;break;case "vertical":a=__c.SBj;break;case "grid":case void 0:a=__c.szr;break;default:throw new v(a);}return a}render(){const {fl:a,...b}=this.props;return dV(a,{...b,Icon:this.Icon,label:L("WLw+ig")})}};var tTs='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.992 6.564 3.697 7.859a.2.2 0 0 0 0 .282l1.295 1.295a.2.2 0 0 0 .341-.141v-2.59a.2.2 0 0 0-.341-.141ZM9.436 4.992 8.141 3.697a.2.2 0 0 0-.282 0L6.564 4.992a.2.2 0 0 0 .141.341h2.59a.2.2 0 0 0 .141-.341ZM6.564 11.008l1.295 1.295a.2.2 0 0 0 .282 0l1.295-1.295a.2.2 0 0 0-.141-.341h-2.59a.2.2 0 0 0-.141.341ZM11.008 9.436l1.295-1.295a.2.2 0 0 0 0-.282l-1.295-1.295a.2.2 0 0 0-.341.141v2.59a.2.2 0 0 0 .341.141Z" fill="currentColor"/></svg>';var uTs=parseInt("24px",10)/2,vTs=mV(()=>"_3EfNLg"),wTs=FV(({eGc:a,isVisible:b,Js:c,NG:d,qx:e})=>{var f=a.left+a.width/2;a=a.top+a.height/2;const g=zV(()=>{let h;return{onDragStart:k=>{h={x:k.clientX,y:k.clientY};c()},pe:k=>{d(Aj({x:k.clientX,y:k.clientY},h))},onDragEnd:()=>{h=void 0;e()},focusable:!0}},[c,d,e]);return dV("div",{className:CV("_8QFrRw",{rYmI2Q:b===!1}),style:{top:a-uTs,left:f-uTs},children:dV(__c.cvh,{onDragStart:g.onDragStart,pe:g.pe,onDragEnd:g.onDragEnd,mob:"floating",hk:"top",
Hwd:tTs,SHa:vTs,size:"small"})})}),yTs=FV(({eGc:a,isVisible:b})=>dV(xTs,{eGc:a,className:b?"NGbfTA":"MiQ9kA"})),zTs=FV(({eGc:a,isVisible:b})=>dV(xTs,{eGc:a,className:b?"_2lVj2Q":"MiQ9kA"})),xTs=FV(({eGc:a,className:b})=>{const c=zV(()=>a.Mb(),[a]);return dV("div",{className:b,style:{...c,transformOrigin:"center",transform:`rotate(${c.rotation}deg)`}})}),ATs=FV(a=>{const b=a.hUs,c=a.sPb,d=a.Asp,e=a.scale,f=a.container;a=zV(()=>f===null||f===void 0?void 0:f.Mb(),[f]);return dV("div",{className:"jNA72g",
style:{height:a===null||a===void 0?void 0:a.height,width:a===null||a===void 0?void 0:a.width,transformOrigin:"center",transform:`rotate(${-1*((a===null||a===void 0?void 0:a.rotation)||0)}deg)`},children:b.map((g,h)=>dV(d,{el:g,sPb:c,scale:e,container:f},h))})});var BTs=class{static G(a){O(a,{hmi:yV.ref,eMl:gV})}bZi(a){if(a.elements.length===0)this.eMl(void 0,"");else{var b=Txs(a);if(this.hmi&&this.S2l===b)return this.hmi;var c=Zj(0,[Vj(a.elements[0])]),d=Kj(-c.tl.x,-c.tl.y);a=a.elements.map(e=>Zj(0,[Vj(e)]).transform(d));this.eMl(a,b);return a}}eMl(a,b){this.hmi=a;this.S2l=b}constructor(){this.hmi=(BTs.G(this),void 0);this.S2l=""}};var CTs=class{static G(a){O(a,{Kbb:yV.ref})}set GEd(a){this.g8r=a;a!=null?(this.F0k=pd(a,b=>b.container),this.GNn=[...this.F0k.values()]):this.GNn=this.F0k=void 0}get GEd(){return this.g8r}get eCi(){return this.GNn}get F7r(){return this.F0k}constructor(){this.Kbb=(CTs.G(this),void 0);this.glg=new Map}},DTs=class{static G(a){O(a,{nhe:mV,bZi:mV,sPb:mV,$gn:mV,QEn:gV.bound,onDragStart:gV,S_s:gV.bound,pe:gV,onDragEnd:gV.bound})}setState(a){this.store.Kbb=a}get nhe(){const a=this.selection.La;this.span&&
(this.span.end(),this.span=void 0,this.sCe=0);if((a===null||a===void 0?void 0:a.type)==="elements"&&!(a.elements.length<=1||a.elements.find(b=>b.rotation%90!==0||this.vc.Wq({element:b,container:a.container})||b.type==="line")))return a}get bZi(){const a=this.nhe;if(a!=null)return this.Ges.bZi(a)}get sPb(){var a,b=this.bZi;const c=this.store.Kbb;if(b!=null){if((c===null||c===void 0?void 0:c.sPb)!==void 0)return c.sPb;this.span&&(this.span.end(),this.span=void 0,this.sCe=0);this.span=this.V.sb("swap_elements");
b=this.Jhq(b);(a=this.span)===null||a===void 0||a.addEvent("compute-swap-type");return b}}get $gn(){return this.store.Kbb!=null}Dga(){var a,b;(a=(b=this.store).Dga)===null||a===void 0||a.call(b);this.store.Dga=void 0}QEn(a){var b;a===((b=this.store.Kbb)===null||b===void 0?void 0:b.yuc)&&this.Dga()}onDragStart(a,b){Zk(this.ih,c=>eys(this,a,b,c))}S_s({className:a,enabled:b}){b?this.canvas.Sza=a:this.canvas.Sza===a&&(this.canvas.Sza=void 0)}Bje(a){const b=this.store.Kbb;if(b!=null)try{for(const [c,d]of b.$Xg)if(c===
b.yuc&&a!=null)fys(this,c,a.y-c.height/2,a.x-c.width/2);else{const e=d.Mb();fys(this,c,e.top,e.left)}}catch(c){this.xL()}}vBa(){const a=this.store.Kbb,b=a===null||a===void 0?void 0:a.dragOffset;if(a!=null&&b!=null)try{const c=[...a.$Xg.keys()];this.Fr.E1a(c).translate(b.x,b.y)}catch(c){this.xL()}}pe(a,b,c){var d;const e=this.store.Kbb,f=this.store.HNn;var g=this.store.GEd;if((e===null||e===void 0?void 0:e.yuc)==null)this.Dga(),this.xL();else if((e===null||e===void 0?void 0:e.yuc)===a){b=Lj(1/c).transformPoint(b);
g=Dj(g.get(a).Ubg.c,b);c=f.indexOf(a);if(c===-1)throw Error();var h=this.sgk(this.store.eCi,g),k=!this.store.glg.has(h);k&&((d=this.span)===null||d===void 0||d.addEvent(`compute-swap-start-${this.sCe}`));var l;d=(l=this.store.glg.get(h))!==null&&l!==void 0?l:dys(this,c,h!==null&&h!==void 0?h:c,f,e.sPb);this.store.glg.set(h,d);this.setState({key:h,sPb:e.sPb,yuc:a,$Xg:d,dragOffset:b});this.Bje(g);if(k){var m;(m=this.span)===null||m===void 0||m.addEvent(`update-elements-${this.sCe}`);this.sCe+=1}}}onDragEnd(){var a,
b,c,d,e;const f=this.store.Kbb;this.Dga();if(f!=null){this.Bje();if(f.dragOffset&&this.store.GEd&&this.store.eCi){var g=Dj(n(this.store.GEd.get(f.yuc)).Ubg.c,f.dragOffset);g=this.sgk(this.store.eCi,g);g=g!=null?[...this.store.GEd.keys()].at(g):void 0}f.key==null&&this.vBa();var h=((b=this.selection.La)===null||b===void 0?void 0:(a=b.container)===null||a===void 0?void 0:a.type)==="fixed-page"?(c=this.selection.La)===null||c===void 0?void 0:c.container.page:void 0;if(h&&g){b=h.elements.toArray();a=
b.indexOf(f.yuc);b=b.indexOf(g);const [l,m]=a<b?[f.yuc,g]:[g,f.yuc];h.elements.Eba(l,m);h.elements.count()>2&&(a=Math.max(a,b),(a=h.elements.toArray().at(a))&&h.elements.gxa(a,l))}var k=0;(d=this.store.GEd)===null||d===void 0||d.forEach((l,m)=>{l=l.Ubg.Mb();m.top===l.top&&m.left===l.left||k++});this.N.track(SPs,{Xhs:hys(f.yuc),Hzs:g&&hys(g),sPb:f.sPb,Y0s:k,Rb:(e=this.span)===null||e===void 0?void 0:e.end().Ii()});this.xL()}}xL(){var a;this.setState(void 0);this.store.HNn=void 0;this.store.GEd=void 0;
this.store.glg=new Map;(a=this.o2)===null||a===void 0||a.stop();this.span=this.o2=void 0;this.sCe=0}constructor(a,b,c,d,e,f,g,h,k,l=$xs,m=Sxs,p=Wxs){this.store=a;this.undo=b;this.Fr=c;this.vc=d;this.selection=e;this.canvas=f;this.N=g;this.V=h;this.ih=k;this.sgk=l;this.xYp=m;this.Jhq=p;this.o2=(DTs.G(this),void 0);this.Ges=new BTs;this.Uak=LV(q=>Lj(q));this.tBl=LV(q=>{var r,t;const u=(t=this.store)===null||t===void 0?void 0:(r=t.Kbb)===null||r===void 0?void 0:r.$Xg.get(this.store.Kbb.yuc);return u===
null||u===void 0?void 0:u.transform(this.Uak(q))});this.eoq=LV(q=>{const r=this.tBl(q);var t=this.store.Kbb;if(t!=null&&r!=null)return t=[...t.$Xg.values()].map(u=>u.transform(this.Uak(q))),t===null||t===void 0?void 0:t.filter(u=>!u.equals(r))});this.sCe=0}},cys=class{constructor(a){this.Ubg=a;this.container=Zj(0,[a])}};var ETs=({canvas:a,undo:b,Fr:c,vc:d,selection:e,Zo:f,ih:g,ghc:h,toolbar:k,Whe:l,isDragging:m,P:p,Ga:q})=>{var r;q=q.Ud("editor.editing.arrangement.swapping");const t=new CTs,u=new DTs(t,b,c,d,e,a,p,q,g);sy(f.controls,()=>t.Kbb!=null);(r=k.sE)===null||r===void 0||r.UQ(()=>t.Kbb!=null);lps(h,()=>!!u.nhe);const w=fV(({el:z,sPb:A,scale:B,container:D})=>{var G;const I=hV(()=>u.onDragStart(z,A),[z,A]),K=hV(S=>u.pe(z,S,B),[z,B]);iV(()=>()=>u.QEn(z),[z]);const N=D===null||D===void 0?void 0:D.Mb();D=zV(()=>
Vj(z).transform(u.Uak(B)).transform(Kj(-1*((N===null||N===void 0?void 0:N.left)||0),0)).transform(Kj(0,-1*((N===null||N===void 0?void 0:N.top)||0))),[z,B,N]);if(ays(u,z))return null;const M=u.tBl(B)==null||((G=t.Kbb)===null||G===void 0?void 0:G.key)!=null;return dV(wTs,{eGc:D.Mb(),Js:I,NG:K,qx:u.onDragEnd,isVisible:M})}),x=fV(({$c:z,box:A})=>{const B=u.nhe,D=u.sPb;return B==null||D==null?null:(A=A===null||A===void 0?void 0:A.get())&&z*Math.max(A.width,A.height)>=32?dV(ATs,{sPb:D,hUs:B.elements,scale:z,
Asp:w,container:A}):null}),y=fV(({page:z,Pc:A})=>{var B,D,G;if(z.page!==((B=u.nhe)===null||B===void 0?void 0:B.container.page))return null;z=A.scale;A=u.tBl(z);return kV(rV,{children:[A&&dV(yTs,{eGc:A,isVisible:((D=t.Kbb)===null||D===void 0?void 0:D.key)!=null}),(G=u.eoq(z))===null||G===void 0?void 0:G.map((I,K)=>{var N;return dV(zTs,{eGc:I,isVisible:((N=t.Kbb)===null||N===void 0?void 0:N.key)!=null},K)})]})});f.Lu(()=>u.nhe,(z,A)=>{z.g$f=A?x:void 0});a.kc(()=>u.nhe,(z,A)=>{z.yg.Qcf=A!=null?y:void 0});
l===null||l===void 0||hps(l,()=>!m()&&!(u===null||u===void 0?0:u.$gn))};var FTs=/android/i.test(navigator.userAgent),GTs=new Set(["text/plain","text/html","application/x-canva"]),HTs=class{async copy(a,b,c){var d=this.parser.encode(a);({text:a}=d);const e=d.html;d=d.rOa;!a&&(e||d)&&FTs&&(a=" ");(c=c||(b===null||b===void 0?void 0:b.clipboardData))?(c.setData("text/plain",a),c.setData("text/html",e),c.setData("application/x-canva",d),b&&(b===null||b===void 0||b.preventDefault())):await this.clipboard.write(navigator.clipboard,{"text/plain":new Blob([a],{type:"text/plain"}),
"text/html":new Blob([e],{type:"text/html"}),"application/x-canva":new Blob([d],{type:"application/x-canva"})})}async paste(a,b,c){if(a=b||(a===null||a===void 0?void 0:a.clipboardData))return this.parser.parse(this.getData(a,c),a.items);a=new DataTransfer;b=await this.clipboard.read(navigator.clipboard);for(const [e,f]of Object.entries(b||{}))f&&(this.H7.images.includes(e)||this.H7.zc.includes(e)?a.items.add(new File([f],"",{type:e})):a.setData(e,await __c.aXi(f)));c=await this.parser.parse(this.getData(a,
c),a.items);b=(c===null||c===void 0?void 0:c.type)===2;a=a.items.length>1;const d=b&&c.text.length<256&&/^[~\w -]+\.\w{3,4}$/.test(c.text);if(!b||a||!d)return c;throw Error("Pasting plaintext via Clipboard API is disabled");}getData(a,b=GTs){const c=b.has("text/plain")?a.getData("text/plain"):void 0,d=b.has("text/html")?a.getData("text/html"):void 0;a=b.has("application/x-canva")?a.getData("application/x-canva"):void 0;return{text:c,html:d,rOa:a}}constructor(a,b){this.parser=a;this.clipboard=__c.nMr;
this.H7=b}};var zys=a=>{var b=jys(a);if(b)return{...Es,...pys(b)};b=lys(a);if(b.length>0)return{...Es,...oys(b)};const c=cl.ld();a.forEach({Ya:(d,e)=>{c.attrs(e).Xb(d)},item:(d,e)=>{switch(d.type){case "pill":c.attrs(e).Xb(d.fi.text);break;case "rect":d.fill.image?c.attrs(e).Xb(`<${L("OOUSAw")}>`):d.fill.video?c.attrs(e).Xb(`<${L("+tg4/g")}>`):c.attrs(e).Xb(`<${L("Po4g+Q")}>`);break;case "controlled":case "table":case "shape":case "break":case "design":case "layout":case "sheet":case "embed":case "chart":case "separator":c.attrs(e).Xb(`<${nys(d.type)}>`);
break;default:throw new v(d);}}});a=c.build();b=a.jrc(a.length-1);a=typeof b==="string"&&b!=="\n"?cl.ld().append(a).Xb("\n").build():a;return{...Es,content:{...__c.rYc,value:a}}};var MAs=class{static G(a){O(a,{TK:mV})}async Sef(a,b,c){var d,e=this.selection.La;if(e&&e.type==="elements"&&((d=e.inner)===null||d===void 0?void 0:d.type)==="table"&&this.rPa){const f=e.inner;e=f.anchor;d=f.container;a=this.rPa.tri(f.table,d.container,f.cells,a,!(c===null||c===void 0?0:c.Did),"clipboard");a.length&&(c=e&&a.includes(e)?e:a[0],this.selection.OOa(d,c,a))}else a=Zg.hwc(a),a=new __c.Lv({kg:1,element:a}),await this.oc.addTable(a,void 0,{Wc:"paste",span:b});b.mb().addEvent("content_added")}async addImage(a,
b){await this.oc.addImage(a,{Wc:"paste",span:b}).loaded;b.mb().addEvent("content_added")}async aBc(a,b){var c,d,e,f;if(a==="")return Promise.resolve(void 0);const g=this.selection.La,h=this.selection.Jb;if(this.TK&&this.BJ)return await hEs(this.BJ,this.TK.sheet,this.TK.cells,a,{grq:!0}),b.mb().addEvent("content_added"),"link";if(((d=this.jc)===null||d===void 0?void 0:(c=d.state)===null||c===void 0?void 0:c.type)==="focused"&&((e=this.jc.state)===null||e===void 0?void 0:e.range.length)>0&&((f=this.jc.state)===
null||f===void 0?void 0:f.Oc.charLength)>1){var k,l;this.jc.setAttributes({decoration:Ry.decoration,link:a});((l=this.selection.La)===null||l===void 0?void 0:(k=l.inner)===null||k===void 0?void 0:k.type)==="sheet"&&this.jc.setAttributes({color:Ry.color});b.mb().setAttribute("content_type","text_link");b.mb().addEvent("content_added");return Promise.resolve("link")}if(g===null||g===void 0?0:g.elements)return g.elements.forEach(m=>{var p;m.link=a;(p=this.jc)===null||p===void 0||p.setAttributes({decoration:Ry.decoration,
link:a})}),b.mb().setAttribute("content_type","element_link"),b.mb().addEvent("content_added"),Promise.resolve("link");if(h!=null)return c=await this.oc.aBc(a,{Wc:"paste_url",span:b},(h===null||h===void 0?void 0:h.type)===0&&h.container.type==="sheet-item-cell-richtext"?"link":void 0),c!=null&&(b.mb().setAttribute("content_type",`${c}_embed`),b.mb().addEvent("content_added")),c;try{const m=await this.oc.oK(a,{Wc:"paste_url",span:b});b.mb().setAttribute("content_type",`${m}_embed`);b.mb().addEvent("content_added");
return m}catch(m){}finally{b.mb().addEvent("embed_resolved")}await this.oc.addText(a,{Wc:"paste_url",g_:"default",span:b},{type:"v2",attrs:{decoration:Ry.decoration,link:a}});b.mb().setAttribute("content_type","text_element");b.mb().addEvent("content_added");return Promise.resolve("link")}get TK(){var a;const b=this.selection.La,c=this.selection.Jb;if((c===null||c===void 0?void 0:c.type)===4)return{sheet:c.container.sheet.config,cells:Array.from(c.cells)};if((b===null||b===void 0?void 0:(a=b.inner)===
null||a===void 0?void 0:a.type)==="sheet")return{sheet:b.type==="elements"?b.inner.sheet.config:b.inner.page.sheet,cells:Array.from(b.inner.cells)}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z){this.selection=a;this.jc=b;this.viewport=c;this.la=d;this.Gb=e;this.oc=f;this.Xa=g;this.GXq=k;this.rPa=l;this.IB=m;this.jba=p;this.Vi=q;this.Vc=r;this.BJ=t;this.hS=u;this.Xr=w;this.lsb=x;this.ksb=y;this.Bfe=z;MAs.G(this)}};var ITs=ee(He.Ff,()=>{}),Eys=class extends __c.UWc{Lac(a){return{...a,image:a.image&&Bys(this,a.image),video:a.video&&Cys(this,a.video)}}nBa(a){if(a.type==="embed"&&this.RLc&&this.RLc(a.url)){const {url:b,eb:c,Ub:d,...e}=a;return{...e,...Fs,fill:ps}}return a}EMc(a){const b=this.RLc;if(!b)return a;const c=Lg.ld();a.text.forEach({...de,Ya:(d,e)=>{let f;var g=e["font-family"];(g=g&&__c.isa(g))&&b(g)&&(f={"font-family":this.Oeq});c.attrs({...e,...f}).Xb(d)}});return{...a,text:c.build()}}X6d(a){const b=
this.RLc,c={fontFamily:(d,e,f)=>{const g=e&&__c.isa(e);return g&&b&&b(g)?this.bWh==null?void 0:[this.bWh,Ge.encode(d,this.bWh)]:[e,f]}};return a.dUg(d=>d in c,(d,e,f)=>c[d](d,e,f))}ZAd(a){const b=this.RLc;var c=a.xe.fontFamily;let d=c;b&&(c=c&&__c.isa(c))&&b(c)&&(d=this.bWh);return{...a,xe:{...a.xe,fontFamily:d}}}iUg(a){return a.type==="embed"&&this.RLc&&this.RLc(a.url)?{...__c.WYc,eb:void 0,Ub:void 0,fill:ps}:a}tpn(a){var b;(b=super.tpn)===null||b===void 0||b.call(this,a);return a.type==="media"?
(b=Array.from(a.value).filter(ub).filter(c=>{const d=c.fill.image&&Bys(this,c.fill.image);c=c.fill.video&&Cys(this,c.fill.video);return d||c}),{...a,value:b}):a}constructor(a,b,c){super();this.Oeq=a;this.bWh=b;this.RLc=c}},Dys=class extends __c.UWc{EMc(a){const b=Lg.ld();a.text.forEach({...de,Ya:(c,d,e)=>{var f,g;d=(g=(f=this.Zi.get(__c.je(He,e,"style")))===null||f===void 0?void 0:f.attributes)!==null&&g!==void 0?g:new Map;f=__c.Ie(d);b.attrs({...ITs,...f,...e}).Xb(c)}});return{...a,text:b.build()}}constructor(a){super();
this.Zi=a}};var JTs=class{oCf(a){return this.wq.oCf(a)}constructor(a,b,c){this.wq=a;this.ITq=b;this.JTq=c}};var KTs=H(()=>({a8:op(1),Hha:op(2)}));var mzs=H(()=>({brightness:op(1),contrast:op(2),highlights:op(3),shadows:op(4),k0a:op(5),yQa:op(6),saturation:op(7),lP:op(8),oS:op(9),hE:op(10),sharpness:op(11),QT:op(12),QI:op(13)}));var Lys=H(()=>({selection:T(1),vYa:op(2),iWa:op(3),hue:op(4)}));var Pys=H(()=>({top:op(1),left:op(2),width:op(3),height:op(4)}));var LTs=H(()=>({top:op(1),left:op(2),width:op(3),height:op(4),rotation:op(5)}));var Oys=H(()=>({width:op(1),height:op(2)}));var Nys=H(()=>({On:F(1,Pys),ub:F(2,LTs),aspectRatio:F(3,Oys)}));var MTs=H(()=>({vertical:op(1),horizontal:op(2)}));var NTs=H(()=>({id:T(1),Ad:op(2)}));var OTs=H(()=>({Ad:op(1),un:U(2)}));var PTs=H(()=>({Ad:op(1),xM:T(2),PR:T(3),shadowColor:T(4)}));var QTs=H(()=>({opacity:op(1),spread:op(2),blur:op(3),angle:op(4),distance:op(5),color:T(6),curve:op(7),rotation:op(8),Apa:op(53)}));var Tys=H(()=>({top:op(1),left:op(2),width:op(3),height:op(4)}));var Uys=H(()=>({Ad:op(1),n9c:op(3),K5:__c.wp(2)}));var Sys=H(()=>({boundingBox:E(1,Tys),naa:E(2,Uys)}));var Rys=H(()=>({Mpa:Qa(1,Sys)}));var bzs=H(()=>({type:C("A?",1,"MASK_SELECTION"),un:T(1)}));var RTs=H(()=>({xs:T(1),ys:T(2)}));var STs=__c.ab(()=>[1,2]);var ozs=H(()=>({type:C("A?",2,"SEGMENTATION_MASK"),points:F(1,RTs),jud:U(2),nKa:__c.Ta(3,STs),UTa:V(5)}));var TTs=__c.ab(()=>[1,2]);var qzs=H(()=>({type:C("A?",4,"FGBG_MASK"),region:__c.Ta(5,TTs)}));var pzs=H(()=>({type:C("A?",6,"ADAPTIVE_BRUSH_MASK"),un:T(7)}));var UTs=__c.$a(()=>({type:[1,bzs,2,ozs,4,qzs,6,pzs]}),()=>({}));var Wys=H(()=>({type:C("A?",1,"INPAINTING"),mask:E(1,UTs)}));var VTs=H(()=>({text:T(1),locale:T(2)}));var WTs=__c.ab(()=>[1,2,3]);var Yys=H(()=>({type:C("A?",2,"PROMPT_INPAINTING"),mask:E(1,UTs),prompt:E(2,VTs),seed:pp(3),Vhb:__c.Ta(4,WTs)}));var Zys=H(()=>({type:C("A?",6,"TEXT_BREAKOUT_INPAINTING"),un:T(1)}));var $ys=H(()=>({type:C("A?",4,"BG_REMOVER"),un:U(1)}));var azs=H(()=>({type:C("A?",12,"ERASE_RESTORE"),mask:E(1,bzs)}));var czs=H(()=>({type:C("A?",5,"PROMPT_EDITING"),mask:F(1,UTs),prompt:E(2,VTs),seed:pp(3),wQf:__c.rp(4),Rzf:__c.rp(5),AQf:__c.rp(6)}));var dzs=H(()=>({type:C("A?",7,"OUTPAINTING"),qCi:op(1),pCi:op(2),c1i:op(3),d1i:op(4),seed:pp(5)}));var ezs=H(()=>({type:C("A?",8,"SEGMENTATION_BG_REMOVER"),mask:E(2,UTs)}));var hzs=H(()=>({Hi:op(1),yj:op(2),BHb:op(3),Olc:op(4),rotation:op(5),flipX:V(6),flipY:V(7)}));var gzs=H(()=>({hn:E(1,__c.Eq),DB:F(2,hzs),Hi:op(3),yj:op(4),rotation:op(5),scale:op(6)}));var fzs=H(()=>({type:C("A?",9,"IMAGE_MERGE"),Z3a:E(1,gzs),H$b:op(2),seed:pp(3),Bui:(0,__c.Ap)(4),aHd:V(5)}));var izs=H(()=>({type:C("A?",10,"BG_GENERATION"),prompt:E(1,VTs),seed:pp(2),H$b:op(3),aHd:V(4)}));var jzs=H(()=>({type:C("A?",11,"STYLE_TRANSFER"),b6e:E(1,__c.Eq),seed:pp(2),c6e:(0,__c.Ap)(3)}));var XTs=__c.$a(()=>({type:[1,Wys,2,Yys,6,Zys,4,$ys,12,azs,5,czs,7,dzs,8,ezs,9,fzs,10,izs,11,jzs]}),()=>({}));var lzs=H(()=>({mask:E(1,UTs),Li:F(2,mzs),DK:Qa(3,Lys)}));var YTs=H(()=>({autoFocus:E(11,KTs),Li:E(4,mzs),DK:Qa(20,Lys),k7c:V(18),DB:E(5,Nys),pbd:E(19,MTs),filter:E(6,NTs),blur:E(7,OTs),tha:E(8,PTs),shadows:E(10,QTs),f9a:E(16,Rys),dj:Qa(14,XTs),qM:Qa(21,lzs)}));var Hzs=H(()=>({value:F(1,YTs)}));var ZTs=H(()=>({t0b:pp(1),TSb:pp(2),VEe:(0,__c.Ap)(3)}));var $Ts=()=>({kUf:pp(27,5),domain:U(34),ja:T(29),Pf:U(35),session:pp(28),Zi:(0,__c.Cp)(31,__c.nua),cbe:Qa(36,Hzs),Awc:(0,__c.Cp)(37,ZTs)});var yzs=H(()=>({...$Ts(),type:C("A?",1,"PAGE_BACKGROUND"),fill:E(1,__c.Xl),uh:Qa(6,__c.Xl),width:pp(2),height:pp(3)}));var LAs=H(()=>({...$Ts(),type:C("A?",2,"ELEMENTS"),elements:Qa(1,__c.vac),width:pp(2),height:pp(3)}));var aUs=H(()=>({...$Ts(),type:C("A?",3,"PAGES"),pages:Qa(1,__c.Gbc),width:pp(2),height:pp(3)}));var bUs=H(()=>({...$Ts(),type:C("A?",4,"AUDIOTRACKS"),tracks:Qa(1,__c.u$b)}));var aAs=H(()=>({...$Ts(),type:C("A?",5,"RICHTEXT3"),Oc:E(1,__c.zbc)}));var cUs=__c.$a(()=>({type:[1,yzs,2,LAs,3,aUs,4,bUs,5,aAs]}),$Ts);var pAs=class{transform(){const a=new Map([]),b=new Map;this.sheet.layout.cells.forEach((e,f)=>{const g=`${__c.sta(this.sheet.sK(f.dc))}${this.sheet.fK(f.Zb)+1}`;e=this.zGs(e.content.ref,f);a.set(g,e);for(e=this.sheet.fK(f.Zb);e<=this.sheet.fK(f.Ue);e++)for(let h=this.sheet.sK(f.dc);h<=this.sheet.sK(f.Xe);h++){const k=`${__c.sta(h)}${e+1}`;b.set(k,g)}});const c=Array.from({length:this.sheet.layout.cols.count()},(e,f)=>({id:__c.sta(f),width:1})),d=Array.from({length:this.sheet.layout.rows.count()},
(e,f)=>({sp:new Map(c.map(g=>{const h=`${g.id}${f+1}`;var k;return[g.id,(k=b.get(h))!==null&&k!==void 0?k:h]})),height:1,minHeight:1}));return{cells:a,layout:{...__c.aYc,columns:c,rows:d}}}constructor(a,b){this.zGs=a;this.sheet=b}};var fAs=class{transform(){const a=[],b=[],c=new Map([]),d=new Map([]),e=new Map([]),f=new Map([]),g=new Map;this.table.layout.columns.forEach(k=>{const l=this.Gb.qoa.generate();b.push({id:l,width:k.width});this.table.layout.rows.forEach((m,p)=>{if(!c.has(p)){var q=this.Gb.qoa.generate();c.set(p,q);a.push({id:q,height:m.height,minHeight:m.minHeight})}p=n(c.get(p));p=`${l}:${p}`;q=n(m.sp.get(k.id));if(g.has(q))m=n(g.get(q)),f.set(p,m);else{m=this.Gb.qoa.generate();g.set(q,m);f.set(p,m);const K=n(this.table.cells.get(q)),
N=this.OUs(K);var r,t,u,w,x,y,z,A,B,D,G,I;q={Kja:`${(x=K.Ak.rd)!==null&&x!==void 0?x:this.table.layout.borderStyle.weight}px`,Jja:`${(y=K.Ak.Ge)!==null&&y!==void 0?y:this.table.layout.borderStyle.weight}px`,Mja:`${(z=K.Ak.Bd)!==null&&z!==void 0?z:this.table.layout.borderStyle.weight}px`,Lja:`${(A=K.Ak.yf)!==null&&A!==void 0?A:this.table.layout.borderStyle.weight}px`,jpa:(B=(r=K.borderColor.rd)===null||r===void 0?void 0:r.color)!==null&&B!==void 0?B:this.table.layout.borderStyle.color,ipa:(D=(t=K.borderColor.Ge)===
null||t===void 0?void 0:t.color)!==null&&D!==void 0?D:this.table.layout.borderStyle.color,lpa:(G=(u=K.borderColor.Bd)===null||u===void 0?void 0:u.color)!==null&&G!==void 0?G:this.table.layout.borderStyle.color,kpa:(I=(w=K.borderColor.yf)===null||w===void 0?void 0:w.color)!==null&&I!==void 0?I:this.table.layout.borderStyle.color};r=K.fill.color;a:switch(t=K.$i,t){case 1:t="start";break a;case 2:t="middle";break a;case 3:t="end";break a;default:throw new v(t);}a:{switch(this.table.layout.direction){case 1:u=
"ltr";break a;case 2:u="rtl";break a;case void 0:break;default:throw new v(this.table.layout.direction);}u=void 0}e.set(p,{...q,B_:r,$i:t,direction:u});d.set(m,N)}})});const h={...__c.FYc,zt:{...__c.qke(this.JGs.domain.cells,{Voa:d,CAc:f,cols:b,rows:a,_attributes:e})},direction:"ltr",VT:__c.tId};return this.pfi(h)}constructor(a,b,c,d,e){this.Gb=a;this.OUs=b;this.JGs=c;this.pfi=d;this.table=e}};var dUs=class{serialize({Li:a,DK:b,k7c:c,autoFocus:d,blur:e,DB:f,pbd:g,tha:h,filter:k,shadows:l,f9a:m,dj:p,qM:q}){return new YTs({Li:new mzs(a),DK:Mys(b),k7c:c,blur:new OTs(e),DB:Qys(this,f),pbd:new MTs(g),tha:new PTs(h),filter:new NTs(k),autoFocus:new KTs(d),shadows:new QTs(l),f9a:Vys(m),dj:kzs(p),qM:nzs(q)})}SVf(a){return new LTs(a)}deserialize({Li:a,DK:b,k7c:c,autoFocus:d,blur:e,DB:f,pbd:g,tha:h,filter:k,shadows:l,f9a:m,dj:p,qM:q}){return{Li:{...a},blur:{...e},DB:rzs(this,f),pbd:{...g},tha:{...h},
filter:{...k},autoFocus:{...d},DK:szs(b),k7c:c,shadows:{...l},f9a:tzs(m),dj:vzs(p),qM:wzs(q)}}Mnf(a){return{...a}}},Izs=new dUs;var PAs=class{static G(a){O(a,{copy:gV,cut:gV,jQ:gV,paste:gV,cRn:gV,hRn:gV,fRn:gV,eRn:gV,gRn:gV,QDi:gV,iRn:gV,dRn:gV})}async copy(a,b){var c=this.domain,d=this.XDa;const e=d.id,f=d.extension;d=d.document;const g=this.session,h=this.selection.La;var k;if(k=h){if(!(k=h.type==="pages")){var l,m,p;h.zg&&__c.qf(h.zg)?k=!0:((l=h.inner)===null||l===void 0?void 0:l.type)==="group"||((m=h.inner)===null||m===void 0?void 0:m.type)==="layout"||((p=h.inner)===null||p===void 0?void 0:p.type)==="layout-cell"?({element:l}=
__c.al(h.inner.container),k=__c.qf(l)):k=!1}k=k||h.Ji()}if(k&&(l=this.Zk(h),c=this.E5a(h,{domain:c,ja:e,Pf:f,session:g,...xg(4,l||d.dimensions)})))return await this.dzj.copy(c,a,b),c}Zk(a){if(a.type==="elements")return a.container.ia.dimensions;if(a.type==="pages"){var b;if(a=(b=this.selection.state)===null||b===void 0?void 0:b.Yz)switch(a.type){case "body":case "concatenated-fixed-page":case "responsive-page":break;case "fixed-page":return a.page.dimensions;default:throw new v(a);}}}E5a(a,b){switch(a.type){case "audio":return this.iSh(a,
b);case "pages":var c;switch((c=a.inner)===null||c===void 0?void 0:c.type){case void 0:return this.emg(a,b);case "background":return zzs(this,a.inner.Jc,b);case "sheet":a=a.inner;const {sheet:e,metadata:f}=Azs(this,a.cells,a.page.sheet,new xj(0,0),n(a.page.id));return this.eEc([],[e],{...b,Awc:new Map([[e.id,f]]),pDc:{sheets:{[e.id]:{sheet:a.page.sheet,cells:a.cells}}}});case "sheet-cell-media":return this.ilf(a.inner,b);case "pages":return a.inner.inner?zzs(this,a.inner.inner.Jc,b):this.emg(a.inner,
b);default:throw new v(a.inner);}case "elements":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":const e=[],f={sheets:{}},g=new Map;a.elements.forEach(l=>{e.push(Gys(l));if(l.type==="sheet"&&!g.has(l.id)){const m=this.Vc?Hys(l.config,l.config.layout.cells.map((p,q)=>({row:q.Zb,column:q.dc})),this.Vc):new Map;g.set(l.id,{t0b:0,TSb:0,VEe:m})}l.type==="sheet"&&(f.sheets[l.id]={sheet:l.config})});return this.eEc(a.elements,
e,{...b,Awc:g,pDc:f});case "table":return c=[this.tPa.elh(a.inner.table,a.inner.cells)],this.eEc(a.elements,c,b);case "sheet":c=a.inner;const {sheet:h,metadata:k}=Azs(this,c.cells,c.sheet.config,new xj(c.sheet.left,c.sheet.top),c.sheet.id);return this.eEc(a.elements,[h],{...b,Awc:new Map([[h.id,k]]),pDc:{sheets:{[h.id]:{sheet:c.sheet.config,cells:c.cells}}}});case "sheet-cell-media":return this.ilf(a.inner,b);default:throw new v(a.inner);}default:throw new v(a);}}iSh(a,b){a=a.tracks.map(c=>Zg.yPi(__c.GEc.snapshot(c)));
return{PSb:new bUs({...b,tracks:a}),Nte:{contentType:"audio_tracks",cZb:1}}}ilf(a,b){const c={contentType:"elements",cZb:a.media.size},d=a.media.map(e=>{var f,g;const {width:h,height:k}=n(e.Ex||((f=e.fill.image.ref)===null||f===void 0?void 0:f.ub)||((g=e.fill.video.ref)===null||g===void 0?void 0:g.ub));e=Zg.R3(as.snapshot(e.fill));return new __c.pq({...Fs,id:this.Gb.Cg.generate(),top:0,left:0,width:h,height:k,rotation:0,fill:e})});a=a.media.map(e=>{var f;return(f=this.wM)===null||f===void 0?void 0:
f.ZCe(e.fill.image.ref)});a=xzs(a);return{PSb:new LAs({...b,elements:d,cbe:a}),Nte:c}}emg(a,b){const c={contentType:"pages",cZb:a.pages.length};var d=a.pages.map(f=>{a:{var g=In.snapshot(f);switch(f.type){case "fixed":const h=this.gb.Zk(f);f=zg(h)?f.Fe:this.gb.VFg(f);g={...g,dimensions:h,Fe:f};break a;case "concatenated-fixed":case "responsive":g={...g,Fe:this.gb.VFg(f)};break a;default:throw new v(f);}}return g});const e=this.wM;a=e?xzs(a.pages.flatMap(f=>wps(e,f))):[];d=d.map(f=>Zg.wSc(f));return{PSb:new aUs({...b,
pages:d,cbe:a}),Nte:c}}eEc(a,b,c){var d,e;b=b.map(g=>Zg.pUa(g));const f=xzs(((d=this.wM)===null||d===void 0?void 0:__c.pKf(d,a))||[]);a=__c.eua(__c.ktb.snapshot(this.XDa.document.Zi));d={contentType:"elements",cZb:b.length,oD:b.map(g=>g.type.toLowerCase()).join(", "),FD:__c.Ejf(((e=this.selection.La)===null||e===void 0?void 0:e.elements)||[])};return{PSb:new LAs({...c,elements:b,Zi:a,cbe:f}),Nte:d,pDc:c.pDc}}async cut(a,b,c,d){a=await this.copy(a,d);d=this.selection.La;if(a&&d&&d.Ji())return this.jQ(d,
b,c),a}jQ(a,b,c){c=this.V.startSpan("delete_element_cut",c);a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new v(b);}c.setAttribute("controlContext",b);switch(a.type){case "audio":this.Op.GWd(a.tracks,b);this.selection.deselectAll();break;case "pages":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case void 0:a=a.pages;this.RV.uSb(a)&&this.RV.bZe(a,{kb:"shortcut",location:"clipboard"});this.selection.deselectAll();
break;case "sheet":var e;a=a.inner;var f=a.page.sheet;(e=this.Vi)===null||e===void 0||Aps(e,f,a.cells.map(A=>A));break;case "sheet-cell-media":var g;e=a.inner.media;a=a.inner.container;(f=(g=this.Ep).FWd)===null||f===void 0||f.call(g,a.sheet,a.row,a.column,e);break;case "pages":var h,k,l;ta(((h=a.inner.inner)===null||h===void 0?void 0:h.type)==="background");(k=(l=this.Ep).unf)===null||k===void 0||k.call(l,a.inner.inner.page,a.inner.inner.Jc);break;case "background":var m,p;if(a.inner.page.type===
"responsive")return;(m=(p=this.Ep).unf)===null||m===void 0||m.call(p,a.inner.page,a.inner.Jc);break;default:throw c.end("error"),new v(a.inner);}break;case "elements":var q;switch((q=a.inner)===null||q===void 0?void 0:q.type){case void 0:case "grid":case "group":case "shape":case "layout":case "layout-cell":var r,t;(r=(t=this.Ep).awa)===null||r===void 0||r.call(t,a.elements,a.container);break;case "table":var u,w;this.CB.pel(a.inner.cells);(u=(w=this.Ep).yQj)===null||u===void 0||u.call(w,a.inner.cells);
break;case "sheet":var x;a=a.inner;e=a.sheet;(x=this.Vi)===null||x===void 0||Aps(x,e.config,a.cells.map(A=>A));break;case "sheet-cell-media":var y,z;e=a.inner.media;a=a.inner.container;(y=(z=this.Ep).FWd)===null||y===void 0||y.call(z,a.sheet,a.row,a.column,e);break;default:throw c.end("error"),new v(a.inner);}break;default:throw c.end("error"),new v(a);}c.ne()}fyc(a,b){a.mb().addEvent("pasted");a.mb().nk(({Ii:c})=>{this.N.track(Jjf,{...b,action:"paste",Rb:c()})});a.ne()}sod(){var a=this.selection.La;
if(this.selection.Jb)return this.gMi.sod();if(a===null||a===void 0||!a.Ji())return!1;switch(a===null||a===void 0?void 0:a.type){case "pages":if(a.inner!=null)a:{var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "sheet":case "sheet-cell-media":a=!0;break a;case "pages":case "background":case void 0:var c;a=!zg(((c=a.hp)===null||c===void 0?void 0:c.dimensions)||this.XDa.document.dimensions);break a;default:throw new v(a.inner);}}else a=!0;return a;case "audio":case "elements":case void 0:return!!a;
default:throw new v(a);}}Jhg(){var a;const b=this.selection.La;if(this.selection.Jb)return this.gMi.Jhg();if(b===null||b===void 0||!b.Ji())return!1;if((b===null||b===void 0?void 0:b.type)==="pages")switch((a=b.inner)===null||a===void 0?void 0:a.type){case "sheet":case "sheet-cell-media":return!0;case "pages":case "background":case void 0:var c;return this.viewport.jh&&(!this.viewport.hU||!zg(((c=b.hp)===null||c===void 0?void 0:c.dimensions)||this.XDa.document.dimensions))||this.viewport.ya.type===
"responsive";default:throw new v(b.inner);}return!!b}Ckc(){var a;const b=this.selection.La;return b?b.Ji()&&((a=b.inner)===null||a===void 0?void 0:a.type)==="sheet":!1}async paste(a,b,c,d,e){if((a.type!==1||a.rOa.type!=="PAGES"&&a.rOa.type!=="AUDIOTRACKS")&&this.viewport.mh.ia.locked)throw new __c.fpe;switch(a.type){case 0:return this.a3k(a.file,b,c,d);case 1:return this.PDi(a.rOa,b,c,e);case 2:return this.tOf(a.text,b,c,e);case 3:return this.NDi(a.content,b,c,e);default:throw new v(a);}}async a3k(a,
b,c,d){d==null?b.end("error"):(a=await d([a],"canvas",{m6a:"background",kb:"clipboard"}).images,b.mb().addEvent("image_uploaded"),[a]=a,b.mb().setAttribute("uploaded",!!a),a?(await this.kWa.addImage(Mif(a),b),this.fyc(b,{kb:c,contentType:"image",FD:[a.id]})):b.end("error"))}async tOf(a,b,c,d){a=await xys(this.kWa,a,b,c,d);this.fyc(b,{kb:c,contentType:"text",YIj:a})}async PDi(a,b,c,d){if(a.kUf!==this.QEj||a.domain!=null&&a.domain!==this.domain)b.abort();else{b.mb().setAttribute("content_type",a.type.toLowerCase());
var e=!1;switch(a.type){case "PAGE_BACKGROUND":e=await Bzs(this,a,b);a={kb:c,contentType:"page_backgrounds",cZb:a.uh.length,BCg:a.ja===this.XDa.id,CCg:a.session===this.session};break;case "ELEMENTS":var f;e=this.viewport.mh;if(e.type==="responsive-page")return;var g=__c.jde(qu,a.elements.map(k=>Zg.ITb(k)),{Lsd:this.bqf.next(),btg:a.ja===this.XDa.id?void 0:a.ja});b.mb().addEvent("proto_deserialized");e=await this.cRn(e,a,g,b,c,d);d=__c.Ejf(((f=this.selection.La)===null||f===void 0?void 0:f.elements)||
[]);a={kb:c,contentType:"elements",cZb:g.length,oD:g.map(k=>k.type).join(", ").toLowerCase(),BCg:a.ja===this.XDa.id,CCg:a.session===this.session,FD:d};break;case "PAGES":var h;e=await this.ODi(a,c,b);a={kb:c,contentType:"pages",cZb:a.pages.length,BCg:a.ja===this.XDa.id,CCg:a.session===this.session};(g=(h=this.Hb).HDd)===null||g===void 0||g.call(h);break;case "AUDIOTRACKS":e=await Czs(this,a,b);a={kb:c,contentType:"audio_tracks",cZb:a.tracks.length,BCg:a.ja===this.XDa.id,CCg:a.session===this.session};
break;case "RICHTEXT3":await this.gMi.PDi(a,b,c,d);return;default:throw new v(a);}b.mb().setAttribute("resources_loaded",e);this.fyc(b,a);e||this.Uvl()}}async NDi(a,b,c,d){switch(a.type){case "richtext3":await this.gMi.NDi(a,b,c,d);break;case "elements":if(a.elements.length!==1)break;a=a.elements[0];a.type!=="table"||rf(this.viewport.ya)||(await this.kWa.Sef(a,b,{Did:!0}),this.fyc(b,{kb:c,contentType:"elements"}));a.type==="sheet"&&(tys(this.kWa,a,void 0,b,c,{...d,dTc:"wrap"}),this.fyc(b,{kb:c,contentType:"elements"}));
a.type==="text"&&((d===null||d===void 0?0:d.Did)?await xys(this.kWa,a.text.cells.Ya(),b,c,d):(d===null||d===void 0?0:d.kCg)||await yys(this.kWa,a.text,b),this.fyc(b,{kb:c,contentType:"elements"}));break;case "media":d=await this.qc.Znb(new __c.vz({id:a.media.id,version:a.media.version}));d={...Mif(d),pending:!1,ey:!0,c4:d.c4,iA:d.Qb.iA};await this.kWa.addImage(d,b);this.fyc(b,{kb:c,contentType:"elements",oD:"rect",cZb:1,FD:[a.media.id],correlationId:a.Hf});break;default:throw new v(a);}}async cRn(a,
b,c,d,e,f){var g,h,k,l;if(((h=this.selection.La)===null||h===void 0?void 0:(g=h.inner)===null||g===void 0?void 0:g.type)==="table"&&c.length===1){if(c[0].type==="table")return this.hRn(b,c[0],d);if(c[0].type==="sheet")return this.fRn(b,c[0],d)}else if(((l=this.selection.La)===null||l===void 0?void 0:(k=l.inner)===null||k===void 0?void 0:k.type)==="sheet"){if(c.length===1)switch(g=c[0],g.type){case "sheet":return this.eRn(b,g,d,e,f);case "table":return this.gRn(b,g,d,e,f);case "text":return this.iRn(b,
g,d);case "embed":return this.dRn(b,g,d)}if(c.every(r=>r.type==="rect"))return this.QDi(b,c,d)}const m=b.cbe.map(({value:r})=>r&&Izs.deserialize(r));d.mb().addEvent("proto_deserialized");g=!0;b.session!==this.session&&({a5b:g,elements:c}=await Fys(this.uBb,b,{elements:c},d));d.mb().addEvent("content_normalized");rf(a.ia)&&(c=c.filter(r=>r.type!=="table"&&r.type!=="sheet"));const p=a.ia;if(!Jps(p,this.gb)||a.container.type==="concatenated-fixed-page"||p.draft||__c.The(p)!=null)c=c.filter(r=>!__c.Rhe(r));
if(c.length===0)return g;let q=Fzs(this,c,a,b.width,b.height);d.mb().addEvent("content_scaled_to_page");q=await Promise.all(q.map(this.FVg));q=q.map(r=>r.type==="controlled"?{...r,id:this.Gb.Cg.generate()}:r);oV(()=>{var r;let t=[];var u=q.length===1?q[0]:void 0;if((u===null||u===void 0?void 0:u.type)==="sheet"){const w=b.elements[0];ta(w.type==="SHEET");(u=tys(this.kWa,u,b.Awc.get(w.id),d,e,{...f,dTc:"wrap"}))&&t.push(u)}else t=p.elements.uda(void 0,q);for(const w of t)w.type==="chart"&&this.ME(w);
(r=this.wM)===null||r===void 0||__c.mKf(r,t,m);d.mb().addEvent("content_added");this.selection.Il(a,...t);d.mb().addEvent("content_selected");this.Ng.MR()});return g}async hRn(a,b,c){let d=!0;a.session!==this.session&&({a5b:d,elements:[b]}=await Fys(this.uBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");await oV(async()=>{await this.kWa.Sef(b,c)});return d}async fRn(a,b,c){pa(a.elements.length===1);pa(a.elements[0].type==="SHEET");let d=!0;a.session!==this.session&&({a5b:d,elements:[b]}=
await Fys(this.uBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");a=a.Awc.get(a.elements[0].id);b=BMb.create(b);b=(new pAs(Jys(b,a,this.Vc),b.config)).transform();const e={...__c.$Xc,...b,id:this.Gb.Cg.generate(),top:0,left:0,width:1,height:1,eb:1,Ub:1};await oV(async()=>{await this.kWa.Sef(e,c)});return d}async eRn(a,b,c,d,e){pa(a.elements.length===1);pa(a.elements[0].type==="SHEET");let f=!0;a.session!==this.session&&({a5b:f,elements:[b]}=await Fys(this.uBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");
const g=a.Awc.get(a.elements[0].id);oV(()=>{tys(this.kWa,b,g,c,d,e)});return f}async gRn(a,b,c,d,e){let f=!0;a.session!==this.session&&({a5b:f,elements:[b]}=await Fys(this.uBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");a=(new fAs(this.Gb,h=>({...Es,content:{...__c.qYc,value:this.pR.config.FFg(h)}}),__c.mBa,h=>{if(!this.Vc)return h;const k=__c.CSc.create(h);Cz(this.Vc,l=>{k.layout.cells.forEach((m,p)=>{(m===null||m===void 0?0:m.content.ref)&&m.content.ref.type==="text2"&&l.YBb(k,{column:p.dc,
row:p.Zb},m.content.ref.value)})});return __c.CSc.snapshot(k)},b)).transform();const g={...GYc,id:this.Gb.Cg.generate(),top:0,left:0,width:0,height:0,config:a};oV(()=>{tys(this.kWa,g,void 0,c,d,e)});return f}async QDi(a,b,c){var d;let e=!0;a.session!==this.session&&({a5b:e,elements:b}=await Fys(this.uBb,a,{elements:b},c));c.mb().addEvent("content_normalized");a=this.selection.La;if((a===null||a===void 0?void 0:(d=a.inner)===null||d===void 0?void 0:d.type)==="sheet"){const f=a.inner.cells,g=a.type===
"elements"?a.inner.sheet.config:a.inner.page.sheet,h=b.map(k=>({fill:k.fill,Ex:{width:k.width,height:k.height}}));oV(()=>{var k;(k=this.Vc)===null||k===void 0||Cz(k,l=>{f.forEach(m=>{var p;const q=g.layout.cells.get(m.row,m.column),r=(q===null||q===void 0?void 0:(p=q.ref.content.ref)===null||p===void 0?void 0:p.type)==="media"?q.ref.content.ref.value.map(t=>__c.jNc.snapshot(t)):[];l.kaa(g,m,{type:6,value:[...r,...h]})})})})}return e}async iRn(a,b,c){let d=!0;a.session!==this.session&&({a5b:d,elements:[b]}=
await Fys(this.uBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");await oV(async()=>{await yys(this.kWa,b.text,c)});return d}async dRn(a,b,c){let d=!0;a.session!==this.session&&({a5b:d,elements:[b]}=await Fys(this.uBb,a,{elements:[b]},c));c.mb().addEvent("content_normalized");await oV(async()=>{await this.kWa.aBc(b.url,c)});return d}async gvc(a,b,c){switch(a.type){case "fixed":var d;if(this.RE){var e,f=(e=a.dimensions)!==null&&e!==void 0?e:{height:c,width:b,units:4};b=a.Fe;zg(f)&&!a.Fe&&
(b=a.sheet?void 0:await __c.tzf(this.RV));zg(f)||b||(b={type:"inline",BG:void 0});a={...a,dimensions:f,Fe:b}}else a=Gzs(this,{...a,Fe:void 0},b,c);b=(await Promise.all(a.elements.map(this.FVg))).filter(ub);if(!this.RE&&((d=this.XDa.doctype)===null||d===void 0?void 0:d.SO[0].type)==="CONCATENATED_FIXED"){var g,h;return{...__c.RYc,id:this.Gb.qh.generate(),Fe:{...__c.SYc,Ca:(g=this.XDa.doctype)===null||g===void 0?void 0:g.id,QD:(h=this.XDa.doctype)===null||h===void 0?void 0:h.version,BG:void 0},pages:[{...a,
Fe:void 0,id:this.Gb.qh.generate(),elements:b}]}}return{...a,elements:b};case "concatenated-fixed":var k;if(!(((f=a.Fe)===null||f===void 0?void 0:f.type)==="reference"&&a.Fe.Ca===((k=this.XDa.doctype)===null||k===void 0?void 0:k.id)||this.RE))break;d=await Promise.all(a.pages.map(async l=>{const m=await Promise.all(l.elements.map(this.FVg));return{...l,elements:m.filter(ub)}}));return{...a,pages:d.filter(ub)};case "responsive":return{...a};default:throw new v(a);}}async ODi(a,b,c){var d,e;if(a.pages.length===
0)return c.abort(),!1;let f=a.pages.map(l=>qu.wQ(Zg.d7b(l)));const g=a.cbe.map(({value:l})=>l&&Izs.deserialize(l));c.mb().addEvent("proto_deserialized");let h=!0;a.session!==this.session&&({a5b:h,pages:f}=await Fys(this.uBb,a,{pages:f},c));c.mb().addEvent("content_normalized");f=(await Promise.all(f.map(async l=>this.gvc(l,a.width,a.height)))).filter(ub);c.mb().addEvent("content_scaled_to_page");const k=((d=this.selection.La)===null||d===void 0?void 0:d.type)==="pages"?this.selection.La.pages[this.selection.La.pages.length-
1]:this.viewport.ya;d=this.oc.MLa(f);switch(d.type){case 4:return c.abort(),!1;case 2:return c.abort(),this.N.track(__c.Mjf,{designId:this.XDa.id,kb:b}),this.la.Ib({Cb:J("ejP+Tw",[a.pages.length,d.Ch])}),!1;case 3:return c.abort(),this.la.Ib({Cb:J("0RVqFA",[d.psg])}),!1;case 1:break;default:throw new v(d);}b=oV(()=>this.oc.HRb(k,f,{span:c,Wc:"paste",location:"clipboard",q7:"none"}));(e=this.wM)===null||e===void 0||vps(e,b.map(l=>l.page),g);c.mb().addEvent("content_added");await na(0);this.viewport.EG(b[0]);
this.selection.deselectAll();this.selection.DU(b[0].container,...b.map(l=>l.page));c.mb().addEvent("content_selected");return h}l_f(){return{items:new Set}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,N,M,S,Q,W,X,ba,da,la,ka,oa,ja,fa,aa){this.gMi=a;this.uBb=b;this.kWa=c;this.oc=d;this.dzj=e;this.Uvl=f;this.QEj=g;this.bqf=h;this.domain=k;this.XDa=l;this.session=m;this.Ma=p;this.Xa=q;this.Hb=r;this.N=t;this.V=u;this.selection=w;this.Ng=x;this.wM=y;this.viewport=z;this.SLa=A;this.gb=
B;this.RV=D;this.Op=G;this.pR=I;this.CB=K;this.tPa=N;this.timing=M;this.qd=S;this.IB=Q;this.Vi=W;this.Vc=X;this.Gb=ba;this.Sga=da;this.qc=la;this.Ep=ka;this.la=oa;this.ME=ja;this.G2c=fa;this.RE=aa;this.FVg=(PAs.G(this),async ca=>{if(__c.uqa(ca)&&this.Sga)try{var qa;const ra=await ((qa=this.Sga)===null||qa===void 0?void 0:qa.ILg(ca.xd.app.id,ca.Vl,{QXf:!1}));return{...ca,Vl:ra}}catch(ra){}return ca})}};var eUs=class{transform(){let a=0,b=0,c=1;const d=[],e=this.table.getElementsByTagName("col");for(const Ja of this.table.rows){const Ra=Ja.rowIndex;let Va=0;for(const Ya of Ja.cells){var f;const Sa=Ya.cellIndex,Xa=Ya.rowSpan,bb=Ya.colSpan;for(;(f=d[Ra])===null||f===void 0?0:f[Sa+Va];)Va++;const ob=Xa+Ra-this.sheet.rows.length;if(ob>0)for(let Gc=0;Gc<ob;Gc++){const uc={},zc=ess(Ja.style.height);zc!=null&&(uc.height=Math.max(1,zc));const Ec=ass(this.nfa,Ja);Ec&&(uc.backgroundColor=Ec);const yc=uc;this.u5n.set(a,
yc);var g,h;this.sheet.rows.push({id:this.Gb.qoa.generate(),height:Math.max((g=yc.height)!==null&&g!==void 0?g:mu.height,mu.height),minHeight:Math.max((h=yc.height)!==null&&h!==void 0?h:mu.minHeight,mu.height)});a++}const mb=bb+Sa+Va-this.sheet.cols.length;if(mb>0)for(let Gc=0;Gc<mb;Gc++){const uc=e.item(b);if(uc){const Ec=uc.style,yc={},ld=uss(uc.width)||ess(Ec.width);ld!=null&&(yc.width=Math.max(1,ld));const Od=ass(this.nfa,uc);Od&&(yc.backgroundColor=Od);var k=yc}else k={};const zc=k;this.fnm.set(b,
zc);var l;this.sheet.cols.push({id:this.Gb.qoa.generate(),width:Math.max((l=zc.width)!==null&&l!==void 0?l:__c.rId.width,__c.rId.width)});b++}const nb=this.config.Uzo(Ya);nb&&this.sheet.Voa.set(`${c}`,nb);for(let Gc=0;Gc<bb;Gc++){const uc=Sa+Va+Gc,zc=n(this.sheet.cols[uc]).id;for(let Ec=0;Ec<Xa;Ec++){var m,p;const yc=Ra+Ec,ld=n(this.sheet.rows[yc]).id;this.sheet.CAc.set(`${zc}:${ld}`,`${c}`);var q;(q=(m=d)[p=yc])!==null&&q!==void 0?q:m[p]=[];d[yc][uc]=!0}}c++;const qb=Sa+Va,pb=Ra;var r=this.sheet._attributes,
t=r.set,u=`${n(this.sheet.cols[qb]).id}:${n(this.sheet.rows[pb]).id}`,w=void 0,x=void 0,y=Ya,z=qb,A=pb;const lb={},yb=ass(this.nfa,y)||((x=this.u5n.get(A))===null||x===void 0?void 0:x.backgroundColor)||((w=this.fnm.get(z))===null||w===void 0?void 0:w.backgroundColor);yb&&(lb.B_=yb);const Cb=this.direction==="rtl";{var B=void 0,D=void 0,G=this.nfa,I=y;const Gc=I.style.borderTopWidth||((D=pV(G,I))===null||D===void 0?void 0:D.borderTopWidth)||I.style.borderBlockStartWidth||((B=pV(G,I))===null||B===void 0?
void 0:B.borderBlockStartWidth);var K=Gc?ess(qV(Gc)):void 0}const Eb=K;{var N=void 0,M=void 0,S=this.nfa,Q=y;const Gc=Q.style.borderBottomWidth||((M=pV(S,Q))===null||M===void 0?void 0:M.borderBottomWidth)||Q.style.borderBlockEndWidth||((N=pV(S,Q))===null||N===void 0?void 0:N.borderBlockEndWidth);var W=Gc?ess(qV(Gc)):void 0}const Fb=W,Rb=Cb?gss(this.nfa,y):fss(this.nfa,y),Ab=Cb?fss(this.nfa,y):gss(this.nfa,y);Eb!=null&&(lb.Kja=`${Eb}px`);Fb!=null&&(lb.Jja=`${Fb}px`);Rb!=null&&(lb.Mja=`${Rb}px`);Ab!=
null&&(lb.Lja=`${Ab}px`);{var X=void 0,ba=void 0,da=this.nfa,la=y;const Gc=la.style.borderTopColor||((ba=pV(da,la))===null||ba===void 0?void 0:ba.borderTopColor)||la.style.borderBlockStartColor||((X=pV(da,la))===null||X===void 0?void 0:X.borderBlockStartColor);var ka=Gc?$rs(Gc):void 0}const $b=ka;{var oa=void 0,ja=void 0,fa=this.nfa,aa=y;const Gc=aa.style.borderBottomColor||((ja=pV(fa,aa))===null||ja===void 0?void 0:ja.borderBottomColor)||aa.style.borderBlockEndColor||((oa=pV(fa,aa))===null||oa===
void 0?void 0:oa.borderBlockEndColor);var ca=Gc?$rs(Gc):void 0}const ic=ca,Rc=Cb?css(this.nfa,y):bss(this.nfa,y),Jc=Cb?bss(this.nfa,y):css(this.nfa,y);$b&&(lb.jpa=$b);ic&&(lb.ipa=ic);Rc&&(lb.lpa=Rc);Jc&&(lb.kpa=Jc);{var qa=void 0,ra=void 0,sa=this.nfa,wa=y;const Gc=wa.style.borderTopStyle||((ra=pV(sa,wa))===null||ra===void 0?void 0:ra.borderTopStyle)||wa.style.borderBlockStartStyle||((qa=pV(sa,wa))===null||qa===void 0?void 0:qa.borderBlockStartStyle);var za=Gc?hss(Gc):void 0}const jc=za;{var Ba=void 0,
Aa=void 0,Fa=this.nfa,Ea=y;const Gc=Ea.style.borderBottomStyle||((Aa=pV(Fa,Ea))===null||Aa===void 0?void 0:Aa.borderBottomStyle)||Ea.style.borderBlockEndStyle||((Ba=pV(Fa,Ea))===null||Ba===void 0?void 0:Ba.borderBlockEndStyle);var La=Gc?hss(Gc):void 0}const Ac=La,zb=Cb?jss(this.nfa,y):iss(this.nfa,y),gc=Cb?iss(this.nfa,y):jss(this.nfa,y);jc!=null&&(lb.BQa=Jzs(jc));Ac!=null&&(lb.AQa=Jzs(Ac));zb!=null&&(lb.DQa=Jzs(zb));gc!=null&&(lb.CQa=Jzs(gc));t.call(r,u,lb)}}return this.config.pfi({zt:__c.qke(this.descriptor.domain.cells,
this.sheet),yr:new Map,C6:[],direction:this.direction,VT:__c.tId,dqa:!1,view:__c.EYc})}constructor(a,b,c,d,e){this.descriptor=a;this.table=b;this.nfa=c;this.config=d;this.Gb=e;this.sheet={Voa:new Map,CAc:new Map,_attributes:new Map,cols:[],rows:[]};this.direction="ltr";this.fnm=new Map;this.u5n=new Map}},fUs=class{pfi(a){if(!this.Vc)return a;const b=__c.CSc.create(a);Cz(this.Vc,c=>{b.layout.cells.forEach((d,e)=>{(d===null||d===void 0?0:d.content.ref)&&d.content.ref.type==="text2"&&c.YBb(b,{column:e.dc,
row:e.Zb},d.content.ref.value)})});return __c.CSc.snapshot(b)}Uzo(a){a=this.v_s(a);if(a.length===1&&a[0].type==="text")return{...Es,content:{...__c.qYc,value:a[0].text}};if(a.length&&a.every(b=>b.type==="rect"))return{...Es,content:{...__c.nYc,value:a.map(b=>({fill:b.fill,Ex:void 0}))}}}constructor(a,b){this.Vc=a;this.v_s=b}},gUs=class{pfi(a){if(!this.Vc)return a;const b=__c.VUc.create(a);Cz(this.Vc,c=>{b.layout.cells.forEach((d,e)=>{d.content.ref&&d.content.ref.type==="text3"&&c.Xec(b,{column:e.dc,
row:e.Zb},d.content.ref.value)})});return __c.VUc.snapshot(b)}Uzo(a){a=this.D_s(a);const b=Kzs(a);return b.length>0&&b.every(c=>c.type==="rect")?{...Es,content:{...__c.nYc,value:b.map(c=>({fill:c.fill,Ex:void 0}))}}:{...Es,content:{...__c.rYc,value:a}}}constructor(a,b){this.Vc=a;this.D_s=b}};var MV={fontFamily:()=>{},fontSize:(a,b)=>{a.setStyle("font-size",`${b.toString()}px`)},fontWeight:(a,b)=>{b=__c.gOh.ebi(b);b!=null&&a.setStyle("font-weight",b.toString())},fontStyle:(a,b)=>a.setStyle("font-style",b),fontKerning:()=>{},vIc:()=>{},uIc:()=>{},tIc:()=>{},OJ:(a,b)=>{const c=parseFloat(a.getStyle("font-size")||"");b=parseFloat(b);Number.isNaN(c)||Number.isNaN(b)||b===1||a.setStyle("font-size",`${(c*b).toString()}px`)},verticalAlign:()=>{},color:(a,b)=>a.setStyle("color",b),k9a:()=>{},
backgroundColor:(a,b)=>{b!=="transparent"&&a.setStyle("background-color",b)},Ava:()=>{},zva:()=>{},decoration:(a,b)=>{if(b!=="none"){var c=a.getStyle("text-decoration");a.setStyle("text-decoration",c?c+` ${b}`:b)}},tv:(a,b)=>{b!=="none"&&(b=a.getStyle("text-decoration"),a.setStyle("text-decoration",b?b+" line-through":"line-through"))},link:(a,b)=>{b.length>0&&a.setAttribute("href",b)},letterSpacing:(a,b)=>a.setStyle("letter-spacing",`${b}em`),lineHeight:(a,b)=>a.setStyle("line-height",b.toString()),
direction:(a,b)=>a.setStyle("direction",b),textAlign:(a,b,c)=>{switch(b){case "start":a.setStyle("text-align",c.direction==="rtl"?"right":"left");break;case "end":a.setStyle("text-align",c.direction==="rtl"?"left":"right");break;default:a.setStyle("text-align",b)}},Fk:(a,b)=>{["checked","unchecked"].includes(b)||a.setStyle("list-style",b)},Ek:()=>{},jBa:()=>{},marginInlineStart:(a,b,c)=>{c.direction==="rtl"?a.setStyle("margin-right",`${b}px`):a.setStyle("margin-left",`${b}px`)},textIndent:(a,b)=>
a.setStyle("text-indent",`${b}px`),textTransform:(a,b)=>a.setStyle("text-transform",b),nCa:()=>{}};var Vzs=class{transform(){const a=cV.element("table"),b=a.appendChild(cV.element("colgroup"));this.sheet.layout.cols.forEach(c=>{b.appendChild(cV.element("col",{jYg:!0})).setStyle("width",`${c.width}px`)});this.sheet.layout.rows.forEach(c=>{const d=a.appendChild(cV.element("tr"));d.setStyle("height",`${c.height}px`);this.sheet.layout.cols.forEach(e=>{const f=this.sheet.layout.cells.get(c,e);if(f==null||f.span.Zb===c&&f.span.dc===e){var g=(f===null||f===void 0?0:f.ref.content.ref)?this.iTp(f===null||
f===void 0?void 0:f.ref.content.ref,{row:c,column:e}):cV.element("td");d.appendChild(g);f&&f.span.Zb!==f.span.Ue&&g.setAttribute("rowspan",[...Kk(f.span.Zb,f.span.Ue,this.sheet.layout.rows)].length.toString());f&&f.span.dc!==f.span.Xe&&g.setAttribute("colspan",[...Kk(f.span.dc,f.span.Xe,this.sheet.layout.cols)].length.toString());var h=this.sheet.direction==="rtl",k=this.sheet.layout.attrs.get(Ke.Gs,c,e)||{};g.setStyle("background-color",__c.me(Ke,k).B_);Ce(__c.PNc,k,"all",(p,q)=>{if(p!=null)MV[q](g,
p,{direction:h?"rtl":"ltr"})});var l,m;k=this.Wlo.get(dps((l=f===null||f===void 0?void 0:f.span.dc)!==null&&l!==void 0?l:e,(m=f===null||f===void 0?void 0:f.span.Zb)!==null&&m!==void 0?m:c));!f||f.span.Zb===f.span.Ue&&f.span.dc===f.span.Xe||(e=this.Wlo.get(dps(f.span.Xe,f.span.Ue)),k?(k.Ge=e===null||e===void 0?void 0:e.Ge,k.yf=e===null||e===void 0?void 0:e.yf):k=e);if((k===null||k===void 0?void 0:k.rd)!=null){const {color:p="transparent",weight:q,DC:r}=k.rd;g.setStyle("border-top",`${q}px ${Lzs(r)} ${p}`)}if((k===
null||k===void 0?void 0:k.Ge)!=null){const {color:p="transparent",weight:q,DC:r}=k.Ge;g.setStyle("border-bottom",`${q}px ${Lzs(r)} ${p}`)}if((k===null||k===void 0?void 0:k.Bd)!=null){const {color:p="transparent",weight:q,DC:r}=k.Bd;e=`${q}px ${Lzs(r)} ${p}`;h?g.setStyle("border-right",e):g.setStyle("border-left",e)}if((k===null||k===void 0?void 0:k.yf)!=null){const {color:p="transparent",weight:q,DC:r}=k.yf;k=`${q}px ${Lzs(r)} ${p}`;h?g.setStyle("border-left",k):g.setStyle("border-right",k)}}})});
return a}constructor(a,b,c){this.sheet=a;this.iTp=b;this.Wlo=c}};var hUs=class{serialize(a,b){a=this.bmo.serialize(a,b);return this.csv.encode(a,{field:"\t"})}deserialize(a){var b,c=__c.Iqg(a);let d=this.csv.parse(a,c);const e=d.length,f=((b=d[0])===null||b===void 0?void 0:b.length)||0;b=f>0&&d.every(h=>h.length===f);let g=!1;switch(c.field){case ",":g=e>=2&&f>=4;break;case ";":case "|":g=e>=2&&f>=2||f>=4;break;default:g=!0}b&&g||(d=a.split(c.row).map(h=>[h]));a=d.length;c=Math.max(0,...d.map(h=>h.length));if(!(a<=1||c<=1))return this.bmo.deserialize(d)}constructor(a){var b=
new __c.ttg;this.bmo=a;this.csv=b}};var iUs=class{serialize(a,b){const c=__c.Ios(a.zt),d=new Set;return __c.Lib.TX(c.rows).map(e=>__c.Oib.TX(c.cols).map(f=>{var g=c.CAc.get(`${f.id}:${e.id}`);g=g!=null?c.Voa.get(g):void 0;if(!g||!g.content||d.has(g))return"";d.add(g);g=b(k=>{var l;const m=n(k.s0b(e.id)),p=n(k.SSb(f.id));return(l=this.Vc)===null||l===void 0?void 0:l.getContent(k,m,p)});var h;return(h=g===null||g===void 0?void 0:g.zR)!==null&&h!==void 0?h:""}))}deserialize(a){const b={Voa:new Map,CAc:new Map,_attributes:new Map,cols:[],
rows:[]};a=a.map(f=>f.map(g=>g.trim()));const c=a.length,d=Math.max(0,...a.map(f=>f.length));for(var e=0;e<c;e++)b.rows.push({id:this.Gb.qoa.generate(),height:mu.height,minHeight:mu.height});for(e=0;e<d;e++)b.cols.push({id:this.Gb.qoa.generate(),width:__c.rId.width});e=1;for(let f=0;f<c;f++)for(let g=0;g<d;g++)a[f][g]!=null&&(b.Voa.set(`${e}`,{...Es,content:{...__c.mYc,value:a[f][g]}}),b.CAc.set(`${b.cols[g].id}:${b.rows[f].id}`,`${e}`),e++);return{zt:__c.qke(__c.bOc.domain.cells,b),yr:new Map,C6:[],
direction:"ltr",VT:__c.tId,dqa:!1,view:__c.EYc}}constructor(a,b){this.Vc=a;this.Gb=b}};var jUs=()=>({Hf:U(21)});var kUs=H(()=>({...jUs(),type:C("A?",1,"MEDIA"),id:T(1),version:pp(2)}));var lUs=__c.$a(()=>({type:[1,kUs]}),jUs);var mUs=class{get cKc(){return this.udf?this.udf:this.udf=this.A5p()}transform(){Pzs(this);return this.elements}xOd(a,b){this.cKc.xOd(a,b)}VDb(a){this.cKc.VDb(a)}ct(a,b,c){this.cKc.ct(a,b,c)}Cke(a,b){this.cKc.Cke(a,b)}f0a(a,b,c){this.cKc.f0a(a,b,c)}v6a(a,b){this.cKc.v6a(a,b)}w6a(a,b){this.cKc.w6a(a,b)}Gke(a,b){this.cKc.Gke(a,b)}e0a(a,b){this.cKc.e0a(a,b)}Eke(a,b){this.cKc.Eke(a,b)}UKa(a){Pzs(this);this.udf=void 0;if(this.r_h.QWd&&!this.FZc())a={...this.r_h.QWd(a),top:this.Ulc},this.elements.push(a),
this.Ulc+=a.height;else if(this.r_h.PWd){var b=this.r_h.PWd(a);const c=b.zt.cols.reduce((d,e)=>d+e.width,0);a=b.zt.rows.reduce((d,e)=>d+e.height,0);b={...GYc,config:b,top:this.Ulc,left:0,width:c,height:a,id:this.Gb.Cg.generate()};this.elements.push(b);this.Ulc+=a}}Hke(a){this.cKc.Hke(a)}Fke(a){var b,c=(b=this.resources)===null||b===void 0?void 0:b.get(a.src);if(c){var {width:d,height:e}=Ji(c.files,f=>f.width);ta(d>0&&e>0);a=Sj(0,0,d,e).Mb();c={...Fs,id:this.Gb.Cg.generate(),top:this.Ulc,left:0,width:d,
height:e,fill:{...ps,image:{...__c.os,media:{id:c.id,version:c.version},ub:a}}};this.elements.push(c);this.Ulc+=e}}constructor(a,b,c,d,e,f,g=()=>!1){this.container=a;this.r_h=b;this.A5p=c;this.Pi=d;this.Gb=e;this.resources=f;this.FZc=g;this.elements=[];this.Ulc=0}};var nUs=LPs(He.Ff["font-size"]),oUs={B:{"font-weight":"bold"},STRONG:{"font-weight":"bold"},I:{"font-style":"italic"},EM:{"font-style":"italic"},U:{decoration:"underline"},S:{strikethrough:"strikethrough"},DEL:{strikethrough:"strikethrough"}},pUs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,qUs=class{transform(){var a;((a=this.I)===null||a===void 0?0:a.o_i)&&!this.G4e&&this.LLa("\n");
return this.builder.build()}LLa(a){const b={...this.awd(),...this.vO},c=ee(this.vO,()=>{});this.Sea(b,c,()=>{this.builder.Xb(a)});this.F$=a}Sea(a,b,c){const d={...this.vO};this.vO={...this.vO,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.vO={...this.vO,...b,...d}}xOd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.cNb;switch(qV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.cNb=!0}b();this.cNb=c}}VDb(a){if(a.textContent){let b=a.textContent;
this.cNb||(this.wtl(a)&&(b=b.trimStart()),this.vtl(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.LLa(b)}}N$b(a){return a!=null&&pUs.test(a.tagName)}wtl(a){return this.nrj||this.N$b(a.previousElementSibling)||this.N$b(a.nextElementSibling)||a.previousSibling==null&&this.N$b(a.parentElement)}vtl(a){return this.N$b(a.previousElementSibling)||this.N$b(a.nextElementSibling)||a.nextSibling==null&&this.N$b(a.parentElement)}Cke(a,b){const {cDb:c,RUa:d}=this.lxb(a,"inline"),e={color:c.color,decoration:c.decoration};
a=He.pick(f=>__c.Ee(He,e,f)!=null,e);Object.keys(a).length===0&&Ce(He,Ry,"all",(f,g)=>{c[g]=f;d[g]=void 0});this.Sea(c,d,b)}ct(a,b,c){b==="block"&&sV(this);const {cDb:d,RUa:e}=this.lxb(a,b);(a=oUs[a.tagName])&&Ce(He,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.Sea(d,e,c);b==="block"&&sV(this)}f0a(a,b,c){sV(this);a=this.xba;this.xba=b?"ordered":"unordered";c();this.xba=a}v6a(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{b();sV(this)})}w6a(a,b){sV(this);const {cDb:c,
RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{b();sV(this)})}Gke(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{const e=this.cNb;this.cNb=!0;b();this.cNb=e;sV(this)})}e0a(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");c["font-size"]==null&&(c["font-size"]=nUs[a.tagName],d["font-size"]=void 0);this.Sea(c,d,()=>{b();sV(this)})}Eke(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{b();sV(this)})}UKa(){}Hke(){this.LLa("\n")}Fke(){}lxb(a,b){a=Qzs(a,
b,this.nfa);return{cDb:a,RUa:ee(a,()=>{})}}get nrj(){return typeof this.F$==="string"&&this.F$.endsWith(" ")}$ki(a){return a.endsWith("\n")}Pen(a){return a.endsWith("\n")||a.endsWith("\u2028")}get G4e(){return this.F$!=null&&this.$ki(this.F$)}constructor(a,b){this.awd=a;this.nfa=b;this.I={o_i:!0};this.vO={};this.cNb=!1;this.builder=Lg.ld()}};var Tzs=class{transform(){if(this.elements.length)return this.elements;this.Oc.forEach({...de,Ya:(a,b)=>{this.v6b(b);a=a.split("\n");for(const [c,d]of a.entries())d.length>0&&(this.Y$b&&this.seb==null?(this.seb=cV.element("a"),this.tva({link:this.lSa.link},this.seb)):!this.Y$b&&this.seb&&(this.CWa.push(this.seb),this.seb=void 0),b=this.tva({...this.lSa,link:void 0},cV.element(this.rzk?"sup":this.ozk?"sub":"span")),b.setContent(d),this.seb?this.seb.appendChild(b):this.CWa.push(b)),c<a.length-1&&(Rzs(this),
this.zRd(),this.yRd())}});Rzs(this);this.zRd();this.yRd();return this.elements}v6b(a){const b=__c.me(He,a),c=(d,e,f)=>{var g;a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:(g=d[e])!==null&&g!==void 0?g:d[e]=f};Ce(He,b,"block",(d,e)=>c(this.bha,e,d));Ce(He,b,"inline",(d,e)=>c(this.lSa,e,d))}get rzk(){const a=this.lSa["vertical-align"];return a!=null&&parseInt(a,10)>0}get ozk(){const a=this.lSa["vertical-align"];return a!=null&&parseInt(a,10)<0}get Y$b(){const a=this.lSa.link;return a!=null&&a.length>
0}get kYb(){const a=this.bha["list-level"],b=this.bha["list-marker"];return{uXb:a!=null&&a>0||b!=null&&b!=="none",ESg:Szs(b)}}ndk(){return this.kYb.uXb?"li":"p"}zRd(){if(this.CWa.length!==0){var a=cV.element(this.ndk());this.CWa.forEach(b=>a.appendChild(b));this.smb.push(a);this.CWa=[]}}yRd(){if(this.smb.length!==0){var a={...this.bha},b=a["list-level"],c=a["list-marker"];delete a["list-level"];delete a["list-marker"];var d=cV.element(this.kYb.uXb?this.kYb.ESg:"div");this.tva(a,d);a=d;var e=b!=null&&
b>0;if(e)for(let f=0;f<Math.abs(b)-1;f++){const g=cV.element("li");g.setStyle("list-style","none");const h=cV.element(Szs(c));g.appendChild(h);d.appendChild(g);d=h}for(const f of this.smb)this.kYb.uXb&&this.tva({"list-marker":c,"list-level":b},f),d.appendChild(f);if(e)if(c=this.elements[this.elements.length-1],!c||c.tagName!=="ul"&&c.tagName!=="ol")this.elements.push(a);else{c=zps(c);const {node:f,indent:g}=this.zAg(c,b);b=[zps(a)];for(a=0;a<g;a++)b=b.map(h=>[...h.childNodes]).flat();for(const h of b)f.appendChild(h);
this.elements[this.elements.length-1]=yps(c)}else this.elements.push(d);this.smb=[]}}zAg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}tva(a,b){var c;const d={direction:(c=this.bha.direction)!==null&&c!==void 0?c:"ltr"};Ce(He,a,"all",(e,f)=>{if(e!=null)rUs[f](b,e,d)});return b}constructor(a){this.Oc=a;this.elements=[];this.bha={};this.lSa={};this.CWa=[];this.smb=[]}},rUs={"font-family":MV.fontFamily,
"font-size":MV.fontSize,"font-weight":MV.fontWeight,"font-style":MV.fontStyle,"font-kerning":MV.fontKerning,"font-feature-liga":MV.vIc,"font-feature-clig":MV.uIc,"font-feature-calt":MV.tIc,"font-size-modifier":MV.OJ,"vertical-align":MV.verticalAlign,color:MV.color,"fill-id":MV.k9a,decoration:MV.decoration,strikethrough:MV.tv,link:MV.link,"start-us":()=>{},tracking:(a,b,c)=>MV.letterSpacing(a,b/1E3,c),leading:(a,b,c)=>MV.lineHeight(a,b/1E3,c),direction:MV.direction,"text-align":MV.textAlign,"list-marker":MV.Fk,
"text-transform":MV.textTransform,"list-level":MV.Ek,"list-number-set":MV.jBa,semantics:MV.nCa,"head-indent":()=>{},spacing:()=>{},style:()=>{},kerning:()=>{}};var JAs=class{serialize(a){return{rOa:this.Pll(a.PSb),html:this.yfh(a),text:this.Zll(a)}}Pll(a){return JSON.stringify(cUs.serialize(a))}yfh(a){const b=a.PSb;return b.type!=="ELEMENTS"?[]:Uzs(this,b.elements,a.pDc)}Zll(a){const b=a.PSb;return b.type!=="ELEMENTS"?"":Wzs(this,b.elements,a.pDc)}NWd(a){return NPs(a,b=>this.eRj(b),b=>this.cRj(b))}cRj(a){try{const b=cUs.deserialize(JSON.parse(a));switch(b.type){case "ELEMENTS":return{type:1,rOa:b};case "RICHTEXT3":const {Oc:c,...d}=b,e=Zg.cFc(c),f=this.sik(),
g=new Map,h=(new __c.aki(e,f,k=>{const l=this.Gb.Cg.generate();(k=k!=null?d.Awc.get(k):void 0)&&g.set(l,k);return l})).transform();return e.length>0&&h.length===0?void 0:{type:1,rOa:new LAs({...d,width:f.width,height:f.height,Awc:g,elements:h.map(k=>Zg.pUa(k))})};case "PAGES":case "PAGE_BACKGROUND":case "AUDIOTRACKS":return{type:1,rOa:b};default:throw new v(b);}}catch(b){}}eRj(a){try{const b=lUs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},
Hf:b.Hf}}}catch(b){}}async JWh({html:a}){var b,c;if(a){a=this.Gae(a);var d=(b=a.querySelector("[data-canva-clipboard]"))===null||b===void 0?void 0:b.getAttribute("data-canva-clipboard");if(b=(b=d?bqs(d):void 0)?this.NWd(b):void 0)return b;var e=new Fss(a.getElementsByTagName("style")),f=this.Aaa?await Mps(a,new MPs).gT(this.Aaa):void 0;b=new mUs(this.sik(),{QWd:g=>this.QWd(g),PWd:g=>this.PWd(g,e,f)},()=>new qUs(()=>this.awd(),e),this.Pi,this.Gb,f,(c=this.Ua)===null||c===void 0?void 0:c.FZc);c=Mps(a,
b).transform();if(c.length===1)return{type:3,content:{type:"elements",elements:c}}}}Nnf(a){return NPs(a,b=>({type:2,text:b}),b=>this.DRj(b),b=>this.xxe(b))}constructor(a,b,c,d,e,f,g,h){this.Gae=aqs;this.awd=a;this.sik=b;this.Pi=c;this.tPa=d;this.Vc=e;this.Gb=f;this.Aaa=g;this.Ua=h;this.Poh=new hUs(new iUs(this.Vc,this.Gb));this.QWd=k=>Eps(this.tPa,k,l=>Lg.ld().Xb(l.textContent+"\n").build());this.PWd=(k,l,m)=>(new eUs(__c.mBa,k,l,new fUs(this.Vc,p=>{var q;const r=this.Gae(p.innerHTML),t=Qzs(p,"block",
l);p=new mUs(this.sik(),{},()=>new qUs(()=>({...this.awd(),...__c.D_e(uId),...t}),l),this.Pi,this.Gb,m,(q=this.Ua)===null||q===void 0?void 0:q.FZc);return Mps(r,p).transform()}),this.Gb)).transform();this.xxe=k=>{k=this.tPa.xxe(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return{type:3,content:{type:"elements",elements:[k]}}};this.DRj=k=>{var l,m;if((l=this.Ua)!==null&&l!==void 0&&l.FZc()&&(k=this.Poh.deserialize(k))){k={...GYc,config:k,id:this.Gb.Cg.generate(),top:0,left:0,width:k.zt.cols.reduce((q,
r)=>q+r.width,0),height:k.zt.rows.reduce((q,r)=>q+r.height,0)};if(!this.Vc)return{type:3,content:{type:"elements",elements:[k]}};var p=BMb.create(k);(m=this.Vc)===null||m===void 0||Cz(m,q=>{p.config.layout.cells.forEach((r,t)=>{r.content.ref&&(ta(r.content.ref.type==="plaintext"),r=Lg.ld().Xb(r.content.ref.value).Xb("\n").build(),r=Lg.create(r),q.YBb(p.config,{row:t.Zb,column:t.dc},r))})});return{type:3,content:{type:"elements",elements:[BMb.snapshot(p)]}}}}}};var sUs=class{elh(a,b){const c=__c.rXd(a),d=new Set(b);b=new Map;for(const [f,g]of a.cells)d.has(g)&&b.set(f,__c.IUc.snapshot(g));const e=[...b.keys()];a=__c.MUc.snapshot(a);return{...a,cells:b,behavior:{...a.behavior,rules:c.map(f=>Zzs(f.cjd,e))}}}},Yzs=a=>nd(a).sort((b,c)=>b-c);var NAs=class{static G(a){O(a,{cut:gV.bound,jQ:gV,paste:gV.bound,b3k:gV.bound})}async copy(a,b){var c=this.selection.Jb;if(c){var d=this.XDa;if(c=this.E5a(c,{domain:this.domain,ja:d.id,Pf:d.extension,session:this.session}))return await this.dzj.copy(c,a,b),c}}E5a(a,b){const c=new Map,d={sheets:{}};switch(a.type){case 1:case 0:if(a.container.type==="section-marker"&&a.only)return a=__c.aVc.snapshot(a.only),this.bve(a,c,d,b);a=n(this.Xa.E5a(),"state snapshot does not exist");return bAs(this,a,c,d,b);
case 2:return a=this.tPa.elh(a.container.table,a.map(l=>l)),this.bve(a,c,d,b);case 3:return a=this.Crr.elh(a.container.layout,a.map(l=>l)),this.bve(a,c,d,b);case 4:const e=a.container.sheet.config,f=a.container.sheet.id,{sheet:g,metadata:h}=Iys(__c.qAa,this.IB,e,a.cells,l=>__c.RUc.snapshot(l)),k=this.Vc?Hys(e,a.cells,this.Vc):new Map;d.sheets[f]={sheet:e,cells:a.cells};c.set(f,{...h,VEe:k});return this.bve({...ZYc,id:f,config:g},c,d,b);case 5:return this.ilf(a.media,c,d,b);default:throw new v(a);
}}bve(a,b,c,d){a=cl.ld().item(a).build();return bAs(this,a,b,c,d)}ilf(a,b,c,d){const e=cl.ld();a.forEach(f=>e.item(oAs(f)));a=e.build();return bAs(this,a,b,c,d)}async cut(a,b,c,d){if(c=this.selection.Jb)return a=await this.copy(a,d),this.jQ(c,b),a}jQ(a,b){const c=this.V.sb("delete_element_cut",{Fb:{name:"editor.delete_element"}});var d=c.setAttribute;a:switch(b){case "menu":b="cut_contextual_menu";break a;case "shortcut":b="cut_keyboard_shortcut";break a;default:throw new v(b);}d.call(c,"controlContext",
b);switch(a.type){case 0:case 1:case 5:this.Ep.zBb();break;case 2:a=a.map(f=>f);this.CB.pel(a);this.Ep.zBb();break;case 4:var e;(e=this.Vi)===null||e===void 0||Aps(e,a.container.sheet.config,a.cells.map(f=>f));break;case 3:throw c.end("error"),Error("Layout Items are currently not supported");default:throw c.end("error"),new v(a);}c.ne()}fyc(a,b){a.mb().addEvent("pasted");a.mb().nk(({Ii:c})=>{this.N.track(Jjf,{...b,action:"paste",Rb:c()})});a.ne()}sod(){var a;if(this.selection.Jb){if(a=this.Ma.mode>=
20){var b,c,d;a=!((((c=this.selection.Jb)===null||c===void 0?void 0:c.container.type)!=="marker"&&((d=this.selection.Jb)===null||d===void 0?void 0:d.container.type)!=="section-marker"||this.selection.Jb.type!==1)&&((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="RANGE"&&this.Xa.state.isCollapsed)}}else a=!1;return a}Jhg(){return this.selection.Jb?this.Ma.mode>=30:!1}Ckc(){const a=this.selection.Jb;return a?this.Ma.mode>=30&&a.type===4:!1}async paste(a,b,c,d,e){switch(a.type){case 0:return this.a3k(a.file,
b,c,d);case 1:return this.PDi(a.rOa,b,c,e);case 2:return this.tOf(a.text,b,c,e);case 3:return this.NDi(a.content,b,c,e);default:throw new v(a);}}async PDi(a,b,c,d){let e=!0;if(a.kUf!==this.QEj||a.domain!=null&&a.domain!==this.domain)b.abort();else if(b.mb().setAttribute("content_type",a.type.toLowerCase()),a.type==="RICHTEXT3"&&a.Oc){var f=Zg.cFc(a.Oc),g=__c.Kde(f,{RFa:a.ja===this.XDa.id,btg:a.ja===this.XDa.id?void 0:a.ja}),h=a.cbe.map(({value:l})=>l&&Izs.deserialize(l));b.mb().addEvent("proto_deserialized");
a.session!==this.session&&({a5b:e,FH:[g]}=await Fys(this.uBb,a,{FH:[g]},b));var k=new tUs;await this.b3k(this.ZTf(g,{...d,oKr:a.ja!==this.XDa.id,A$j:k}),h,a.Awc,b,c,{...a,wz:rAs(f)},d);e||this.Uvl();this.ntn(k.fontFamilies)}}async NDi(a,b,c,d){switch(a.type){case "richtext3":const e=new tUs;await this.b3k(this.ZTf(a.HOa,{...d,A$j:e}),[],void 0,b,c,void 0,{...d,dTc:"wrap"});this.ntn(e.fontFamilies);break;case "elements":b.abort();break;case "media":d=await this.qc.Znb(new __c.vz({id:a.media.id,version:a.media.version}));
d={...Mif(d),pending:!1,ey:!0,c4:d.c4,iA:d.Qb.iA};await this.oc.addImage(d,{Wc:"paste",span:b}).loaded;this.fyc(b,{kb:c,contentType:"elements",oD:"rect",cZb:1,FD:[a.media.id],correlationId:a.Hf});break;default:throw new v(a);}}async b3k(a,b,c,d,e,f,g){var h;const k=this.selection.Jb,l=rAs(a),m=(f===null||f===void 0?void 0:(h=f.wz)===null||h===void 0?void 0:h.type)==="sheet"?f.wz.id:void 0;let p;switch(l===null||l===void 0?void 0:l.type){case "layout":case "table":case "sheet":if(!k)return;switch(k.type){case 0:case 1:switch(k.container.type){case "body":case "responsive-page":this.xKc(l,
m,b,c,d,e,g);break;case "section-marker":this.Xa.Ru(k.container.container.text,Qw.start());break;case "marker":this.xKc(l,m,b,c,d,e,g);break;case "table-item-cell":eAs(this,l,m,k.container.table,k.container.container.container,[k.container.rb],b,c,d);break;case "sheet-item-cell-richtext":gAs(this,l,m,b,c,d,e,g);break;case "layout-item-cell":dAs(this,l,b,d);break;default:throw new v(k.container);}break;case 2:eAs(this,l,m,k.container.table,k.container.container,k.map(u=>u),b,c,d);break;case 4:gAs(this,
l,m,b,c,d,e,g);break;case 5:break;case 3:dAs(this,l,b,d);break;default:throw new v(k);}break;case void 0:case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "pill":case "chart":case "design":c=a.cells.Ya().trim();g=this.Xa.state;h=sAs(a);if((k===null||k===void 0?void 0:k.type)===4&&h.length>0&&h.every(u=>u.type==="rect"))this.QDi(k.container.sheet.config,k.cells,h);else if((k===null||k===void 0?void 0:k.container.type)==="section-marker")l!=null&&__c.Qxf(l)?
this.owc(l,k.container):(this.Xa.Ru(k.container.container.text,Qw.start()),iAs(this,a,b,d));else if(k!=null&&l!=null&&__c.Qxf(l)&&(k.container.type==="body"||k.container.type==="responsive-page")&&kAs(this,l,k.container)){b=d.setAttribute;a:switch(e){case "drag":c="drag";break a;case "menu":c="contextual_menu";break a;case "shortcut":c="keyboard_shortcut";break a;default:throw new v(e);}b.call(d,"controlContext",c);this.Ep.zBb();this.owc(l,k.container.zVb(k.container.marker))}else k!=null&&em(c).ok&&
a.cells.qB===0&&(g===null||g===void 0?void 0:g.type)==="RANGE"&&g.cSa?p=await this.kWa.aBc(Yv(c),d):iAs(this,a,b,d);break;default:throw new v(l);}const q=[];a.forEach({item:u=>q.push($zs(u))});const {media:r,zc:t}=__c.Jf({FH:[a]});this.fyc(d,{kb:e,contentType:"richtext3",YIj:p,cZb:q.length,oD:q.join(", "),BCg:f?f.ja===this.XDa.id:void 0,CCg:f?f.session===this.session:void 0,FD:[...r.map(u=>u.id),...t]});d.mb().addEvent("content_added")}xKc(a,b,c,d,e,f,g){b=b!=null?d===null||d===void 0?void 0:d.get(b):
void 0;a.type==="sheet"?vys(this.kWa,a,b,e,f,{...g,dTc:"wrap"}):iAs(this,cl.ld().item(a).build(),c,e)}owc(a,b){a=this.lU.owc(a,b.marker);this.N.track(k0g,{iEc:"document",GVd:"cover_set",elementType:a.type,Wc:"paste"});this.selection.Uv(b,a);this.Ng.MR()}QDi(a,b,c){var d;const e=c.map(f=>({fill:f.fill,Ex:f.eb!=null&&f.Ub!=null?{width:f.eb,height:f.Ub}:void 0}));(d=this.Vc)===null||d===void 0||Cz(d,f=>{b.forEach(g=>{var h;const k=a.layout.cells.get(g.row,g.column),l=(k===null||k===void 0?void 0:(h=
k.ref.content.ref)===null||h===void 0?void 0:h.type)==="media"?k.ref.content.ref.value.map(m=>__c.jNc.snapshot(m)):[];f.kaa(a,g,{type:6,value:[...l,...e]})})})}async tOf(a,b,c,d){a=await xys(this.kWa,a,b,c,d);this.fyc(b,{kb:c,contentType:"text",YIj:a})}async a3k(a,b,c,d){d?(a=await d([a],"canvas",{m6a:"background",kb:"clipboard"}).images,b.mb().addEvent("image_uploaded"),[a]=a,b.mb().setAttribute("uploaded",!!a),a?({loaded:d}=this.oc.addImage(Mif(a),{Wc:"paste"}),await d,b.mb().addEvent("content_added"),
this.fyc(b,{kb:c,contentType:"image",FD:[a.id]})):b.end("error")):b.end("error")}ZTf(a,b){const c=cl.ld();a.forEach({Ya:(d,e)=>{var f;e=Kps(e);e.fontFamily&&(b===null||b===void 0||(f=b.A$j)===null||f===void 0||f.Wlb(e.fontFamily));c.attrs(e).Xb(d)},item:(d,e)=>{var f;e=Kps(e);e.fontFamily&&(b===null||b===void 0||(f=b.A$j)===null||f===void 0||f.Wlb(e.fontFamily));(b===null||b===void 0?0:b.oKr)&&d.type==="pill"&&d.fi.type==="mention"&&!this.kir(d.fi.brand)?c.attrs(e).Xb(d.fi.text):c.attrs(e).item(qAs(this,
d,b))},Al:(d,e)=>c.attrs(Kps(e))});return c.build()}l_f(a){return{items:new Set(a.type===1&&a.rOa.type==="RICHTEXT3"?a.rOa.Oc.chunks.map(b=>b.nb.type==="ITEM"?__c.dAa(Zg,b.nb.state).type:void 0).filter(ub):[])}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,N,M){this.uBb=a;this.kWa=b;this.dzj=c;this.Uvl=d;this.ntn=e;this.QEj=f;this.kir=g;this.domain=h;this.XDa=k;this.session=l;this.Ma=m;this.Xa=p;this.selection=q;this.Ng=r;this.N=t;this.V=u;this.oc=w;this.qc=x;this.Ep=y;this.lU=z;
this.wM=A;this.tPa=B;this.pR=D;this.CB=G;this.IB=I;this.Vi=K;this.Vc=N;this.Gb=M;this.Crr=(NAs.G(this),new sUs)}},tUs=class{Wlb(a){this.fontFamilies.add(a)}constructor(){this.fontFamilies=new Set}};var uUs=LPs(Ge.Ff.fontSize),vUs={B:{fontWeight:"bold"},STRONG:{fontWeight:"bold"},I:{fontStyle:"italic"},EM:{fontStyle:"italic"},U:{decoration:"underline"},S:{tv:"strikethrough"},DEL:{tv:"strikethrough"}},wUs=/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i,xUs=["table","sheet"],DAs=class{transform(){var a;((a=this.I)===null||a===void 0?0:a.o_i)&&!this.G4e&&this.LLa("\n");return this.builder.build()}LLa(a){const b=
{...this.awd(),...this.vO},c=ee(this.vO,()=>{});this.Sea(b,c,()=>{this.builder.Xb(a)});this.F$=a}ACc(a){this.Aba();this.builder.attrs(ee(this.vO,()=>{}));this.builder.item(a);this.builder.attrs(this.vO);this.F$=a}Aba(){this.F$==null||this.$ki(this.F$)||this.LLa("\n")}Sea(a,b,c){const d={...this.vO};this.vO={...this.vO,...a};this.builder.attrs(a);c();this.builder.attrs({...b,...d});this.vO={...this.vO,...b,...d}}xOd(a,b){if(a.nodeType!==a.ELEMENT_NODE)b();else{var c=this.cNb;switch(qV(a.style.whiteSpace)){case "pre":case "pre-wrap":case "break-spaces":this.cNb=
!0}b();this.cNb=c}}VDb(a){if(a.textContent){let b=a.textContent;this.cNb||(this.wtl(a)&&(b=b.trimStart()),this.vtl(a)&&(b=b.trimEnd()),b=b.replace(/\s+/g," "));b&&this.LLa(b)}}N$b(a){return a!=null&&wUs.test(a.tagName)}wtl(a){return this.nrj||this.N$b(a.previousElementSibling)||this.N$b(a.nextElementSibling)||a.previousSibling==null&&this.N$b(a.parentElement)}vtl(a){return this.N$b(a.previousElementSibling)||this.N$b(a.nextElementSibling)||a.nextSibling==null&&this.N$b(a.parentElement)}Cke(a,b){const {cDb:c,
RUa:d}=this.lxb(a,"inline");if(this.Adk){const e={color:c.color,decoration:c.decoration};a=Ge.pick(f=>__c.Ee(Ge,e,f)!=null,e);Object.keys(a).length===0&&Ce(Ge,this.Adk(),"all",(f,g)=>{c[g]=f;d[g]=void 0})}this.Sea(c,d,b)}ct(a,b,c){b==="block"&&sV(this);const {cDb:d,RUa:e}=this.lxb(a,b);(a=this.TJr[a.tagName])&&Ce(Ge,a,b,(f,g)=>{d[g]==null&&(d[g]=f,e[g]=void 0)});this.Sea(d,e,c);b==="block"&&sV(this)}f0a(a,b,c){sV(this);a=this.xba;this.xba=b?"ordered":"unordered";c();this.xba=a}v6a(a,b){sV(this);const {cDb:c,
RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{b();sV(this)})}w6a(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{b();sV(this)})}Gke(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");this.Sea(c,d,()=>{const e=this.cNb;this.cNb=!0;b();this.cNb=e;sV(this)})}e0a(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");c.fontSize==null&&(c.fontSize=uUs[a.tagName],d.fontSize=void 0);this.Sea(c,d,()=>{b();sV(this)})}Eke(a,b){sV(this);const {cDb:c,RUa:d}=this.lxb(a,"block");this.Sea(c,
d,()=>{b();sV(this)})}UKa(a){if(!xUs.some(d=>{var e,f;return(f=this.I)===null||f===void 0?void 0:(e=f.LGo)===null||e===void 0?void 0:e.has(d)})){var {cDb:b,RUa:c}=this.lxb(a,"block");this.Sea(b,c,()=>{if(this.FZc()){var d=this.Xhn.PWd(a);d={...ZYc,config:d,id:this.Gb.Ai.generate()};this.ACc(d)}else d=this.Xhn.QWd(a),this.ACc(d)})}}Hke(){this.LLa("\u2028")}Fke(a){var b,c;var d=a.style.width||((c=pV(this.nfa,a))===null||c===void 0?void 0:c.width);c=d?ess(qV(d)):void 0;if(d=(b=this.resources)===null||
b===void 0?void 0:b.get(a.src))a=wAs(d,c&&c<this.Wwl?`${c}px`:void 0),this.ACc(a)}lxb(a,b){a=vAs(a,b,this.nfa);return{cDb:a,RUa:ee(a,()=>{})}}get nrj(){return typeof this.F$==="string"&&this.F$.endsWith(" ")}$ki(a){return typeof a==="string"&&a.endsWith("\n")}Pen(a){return typeof a==="string"&&(a.endsWith("\n")||a.endsWith("\u2028"))}get G4e(){return this.F$!=null&&this.$ki(this.F$)}constructor(a,b,c,d,e,f,g,h=()=>!1,k=0){this.awd=a;this.Xhn=b;this.nfa=c;this.Gb=d;this.resources=e;this.Adk=f;this.I=
g;this.FZc=h;this.Wwl=k;this.vO={};this.cNb=!1;this.builder=cl.ld();this.TJr=Qb("cf27dcb6",!1)?{...vUs,SUP:{verticalAlign:__c.vB.verticalAlign,OJ:__c.vB.OJ},SUB:{verticalAlign:__c.Yyg.verticalAlign,OJ:__c.Yyg.OJ}}:vUs}};var xAs=class{transform(){if(this.elements.length)return this.elements;this.Oc.forEach({Ya:(a,b)=>{this.v6b(b);a=a.split("\n");for(const [c,d]of a.entries()){b=d.split("\u2028");for(const [e,f]of b.entries())e>0&&this.CWa.push(cV.element("br",{jYg:!0})),f.length>0&&(this.Y$b&&this.seb==null?(this.seb=cV.element("a"),this.tva({link:this.lSa.link},this.seb)):!this.Y$b&&this.seb&&(this.CWa.push(this.seb),this.seb=void 0),b=this.tva({...this.lSa,link:void 0},cV.element(this.rzk?"sup":this.ozk?"sub":"span")),
b.setContent(f),this.seb?this.seb.appendChild(b):this.CWa.push(b));c<a.length-1&&(Rzs(this),this.zRd(),this.yRd())}},item:(a,b)=>{this.v6b(b);switch(a.display){case 2:(a=this.aje(a))&&this.CWa.push(a);break;case 1:case void 0:(a=this.N1f(a))&&this.smb.push(a);break;default:throw new v(a.display);}},Al:()=>{}});Rzs(this);this.zRd();this.yRd();return this.elements}N1f(a){switch(a.type){case "table":return yAs(this,a);case "sheet":return zAs(this,a);case "layout":return BAs(this,a);case "break":case "separator":return cV.element("hr",
{jYg:!0});case "embed":var b;const c=cV.element("a");c.setContent(((b=a.altText)===null||b===void 0?void 0:b.text)||a.url);return this.tva({link:a.url},c);case "pill":break;case "controlled":case "rect":case "chart":case "design":break;case "shape":throw new __c.Fv;default:throw new v(a);}}aje(a){switch(a.type){case "pill":switch(a.fi.type){case "embed":var b=cV.element("a");b.setContent(a.fi.text?a.fi.text:"");return this.tva({...this.lSa,link:a.fi.url},b);case "date":case "mention":case "select":return b=
cV.element("span"),b.setContent(a.fi.text?a.fi.text:""),this.tva(this.lSa,b);default:throw new v(a.fi);}case "controlled":case "rect":case "table":case "break":case "separator":case "embed":case "chart":case "design":case "layout":case "sheet":break;case "shape":throw new __c.Fv;default:throw new v(a);}}v6b(a){const b=__c.me(Ge,a),c=(d,e,f)=>{var g;a[e]!=null?d[e]=a[e]:a.hasOwnProperty(e)?d[e]=f:(g=d[e])!==null&&g!==void 0?g:d[e]=f};Ce(Ge,b,"block",(d,e)=>c(this.bha,e,d));Ce(Ge,b,"inline",(d,e)=>
c(this.lSa,e,d))}get Y$b(){const a=this.lSa.link;return a!=null&&a.length>0}get rzk(){const a=this.lSa.verticalAlign;return a!=null&&parseInt(a,10)>0}get ozk(){const a=this.lSa.verticalAlign;return a!=null&&parseInt(a,10)<0}get kYb(){const a=this.bha.Ek,b=this.bha.Fk;return{uXb:a!=null&&a>0||b!=null&&b!=="none",ESg:CAs(b)}}ndk(){var a;return(a=this.bha.nCa)!==null&&a!==void 0?a:"p"}zRd(){if(this.CWa.length!==0){var a=cV.element(this.ndk());this.CWa.forEach(b=>a.appendChild(b));this.CWa=[];if(this.kYb.uXb){const b=
cV.element("li");b.appendChild(a);this.smb.push(b)}else this.smb.push(a)}}yRd(){if(this.smb.length!==0){var {Fk:a,Ek:b,...c}=this.bha,d=cV.element(this.kYb.uXb?this.kYb.ESg:"div"),e=d;this.tva(c,e);var f=b!=null&&b>0;if(f)for(let g=0;g<Math.abs(b)-1;g++){const h=cV.element("li");h.setStyle("list-style","none");const k=cV.element(CAs(a));h.appendChild(k);d.appendChild(h);d=k}for(const g of this.smb)this.kYb.uXb&&this.tva({Fk:a,Ek:b},g),d.appendChild(g);if(f)if(d=this.elements[this.elements.length-
1],!d||d.tagName!=="ul"&&d.tagName!=="ol")this.elements.push(e);else{d=zps(d);const {node:g,indent:h}=this.zAg(d,b);e=[zps(e)];for(f=0;f<h;f++)e=e.map(k=>[...k.childNodes]).flat();for(const k of e)g.appendChild(k);this.elements[this.elements.length-1]=yps(d)}else this.elements.push(d);this.smb=[]}}zAg(a,b){let c=1;for(;c<Math.abs(b)*2-1;){const d=a.lastElementChild;if(!d||!["OL","UL","LI"].includes(d.tagName))break;a=d;c++}return{node:a,indent:c}}tva(a,b){var c;const d={direction:(c=this.bha.direction)!==
null&&c!==void 0?c:"ltr"};Ce(Ge,a,"all",(e,f)=>{if(e!=null)yUs[f](b,e,d)});return b}constructor(a,b,c,d){this.Oc=a;this.Vc=b;this.tPa=c;this.pDc=d;this.elements=[];this.bha={};this.lSa={};this.CWa=[];this.smb=[]}},yUs=new Proxy({...MV,eQb:()=>{},fQb:()=>{},H2b:()=>{}},{get:(a,b)=>{var c;return(c=a[b])!==null&&c!==void 0?c:()=>{}}});var HAs=class{serialize(a){return{rOa:this.Pll(a.PSb),html:this.yfh(a),text:this.Zll(a)}}Pll(a){return JSON.stringify(cUs.serialize(a))}yfh(a){var b=a.PSb;a=a.pDc;if(b.type!=="RICHTEXT3")return[];b=Zg.cFc(b.Oc);return(new xAs(b,this.Vc,this.tPa,a)).transform()}Zll(a){const b=a.PSb,c=a.pDc;if(b.type!=="RICHTEXT3")return"";const d=[];Zg.cFc(b.Oc).forEach({Ya:e=>{d.push(e)},item:e=>{switch(e.type){case "table":d.push(Cps(this.tPa,e),"\n");break;case "sheet":const f=WUc.create(e),g=c===null||c===void 0?
void 0:c.sheets[e.id],h=(g===null||g===void 0?void 0:g.sheet)||f.config;d.push(this.Poh.serialize(e.config,k=>k(h)));break;case "layout":e.cells.forEach(k=>{k=k.text.cells.Ya();k.length>0&&d.push(k,"\n")});break;case "embed":d.push(e.url,"\n");break;case "pill":switch(e.fi.type){case "embed":d.push(e.fi.url);return;case "date":case "mention":case "select":d.push(e.fi.text);return;default:throw new v(e.fi);}case "controlled":case "rect":case "break":case "separator":case "chart":case "design":break;
case "shape":throw new __c.Fv;default:throw new v(e);}},Al:()=>{}});return __c.Wji(d.join(""))}NWd(a){return NPs(a,b=>this.eRj(b),b=>this.cRj(b))}cRj(a){try{const b=cUs.deserialize(JSON.parse(a));switch(b.type){case "RICHTEXT3":return{type:1,rOa:b};case "ELEMENTS":const {elements:c,...d}=b,e=c.map(h=>Zg.ITb(h)),f=new Map,g=(new __c.vji(e,h=>{const k=this.Gb.Ai.generate();(h=h!=null?d.Awc.get(h):void 0)&&f.set(k,h);return k})).transform();return e.length>0&&g.length===0?void 0:{type:1,rOa:new aAs({...d,
Awc:f,Oc:Zg.u5a(g)})};case "PAGES":return{type:1,rOa:b};case "PAGE_BACKGROUND":case "AUDIOTRACKS":break;default:throw new v(b);}}catch(b){}}eRj(a){try{const b=lUs.deserialize(JSON.parse(a));if(b.type==="MEDIA")return{type:3,content:{type:"media",media:{id:b.id,version:b.version},Hf:b.Hf}}}catch(b){}}async JWh({html:a}){var b;if(a){a=this.Gae(a);var c=(b=a.querySelector("[data-canva-clipboard]"))===null||b===void 0?void 0:b.getAttribute("data-canva-clipboard");if(b=(b=c?bqs(c):void 0)?this.NWd(b):
void 0)return b;b=this.Aaa?await Mps(a,new MPs).gT(this.Aaa):void 0;return{type:3,content:{type:"richtext3",HOa:EAs(this,a,b)}}}}Nnf(a){return NPs(a,b=>({type:2,text:b}),b=>this.DRj(b),b=>this.xxe(b))}constructor(a,b,c,d,e,f,g,h=0){this.Gae=aqs;this.awd=a;this.tPa=b;this.Vc=c;this.Kn=d;this.Gb=e;this.Aaa=f;this.Ua=g;this.Wwl=h;this.Poh=new hUs(new iUs(this.Vc,this.Gb));this.QWd=(k,l)=>Eps(this.tPa,k,m=>{m=this.Gae(m.innerHTML);return EAs(this,m,l,void 0,{LGo:new Set(["table","sheet"]),o_i:!0})});
this.PWd=(k,l,m)=>(new eUs(__c.qAa,k,l,new gUs(this.Vc,p=>{const q=this.Gae(p.innerHTML);p=vAs(p,"block",l);return EAs(this,q,m,{...__c.Qy(uId),...p},{LGo:new Set(["table","sheet"]),o_i:!0})}),this.Gb)).transform();this.xxe=k=>{k=this.tPa.xxe(k);if(!(k.layout.rows.length<=1||k.layout.columns.length<=1))return k={...k,cells:pd(k.cells,l=>({...l,content:{...l.content,...__c.bYc,text:cl.ld().attrs(this.Kn.J3||{}).Xb(l.content.text.cells.Ya()).build()}}))},{type:3,content:{type:"richtext3",HOa:cl.ld().item(k).build()}}};
this.DRj=k=>{var l,m;if((l=this.Ua)!==null&&l!==void 0&&l.FZc()&&(k=this.Poh.deserialize(k))){k={...ZYc,config:k,id:this.Gb.Ai.generate()};if(!this.Vc)return{type:3,content:{type:"richtext3",HOa:cl.ld().item(k).build()}};var p=WUc.create(k);(m=this.Vc)===null||m===void 0||Cz(m,q=>{p.config.layout.cells.forEach((r,t)=>{r.content.ref&&(ta(r.content.ref.type==="plaintext"),r=cl.ld().Xb(r.content.ref.value).Xb("\n").build(),r=cl.create(r),q.Xec(p.config,{row:t.Zb,column:t.dc},r))})});m=WUc.snapshot(p);
return{type:3,content:{type:"richtext3",HOa:cl.ld().item(m).build()}}}}}};var FAs=a=>{const b=(0,__c.rc)(),c=(0,__c.rc)(),d=a.closeDialog;return dV(__c.Br,{mode:a.mode,open:!0,oa:d,Of:b,gi:c,children:kV("div",{className:"dIfFsA",children:[dV(nr,{id:b,margins:"legacy",children:L("NSWGJA")}),dV(P,{id:c,margins:"legacy",children:L("nfjy+g")}),dV("div",{className:"CKm0aQ",children:dV(bj,{variant:"primary",onClick:d,children:L("MGKfPA")})})]})})};var IAs=.25*parseInt("var(--jBkZgw)",10),OAs=Symbol("Clipboard.NonEmailSafeFontWarning");var VAs=FV(({bounds:a})=>dV("div",{className:"PIS4dA",style:a.Mb(),children:dV("div",{className:"BO26GQ"})}));var UAs=class{static G(a){O(a,{Yfh:gV.bound,fPh:gV.bound})}Yfh(a){if(a.eae)this.store.eae=a.eae;else switch(a.type){case "column":var b;(b=this.fY.zgd)===null||b===void 0||b.PJg();break;case "row":var c;(c=this.fY.zgd)===null||c===void 0||c.QJg()}}fPh(){var a;this.store.eae=void 0;(a=this.fY.zgd)===null||a===void 0||a.oPh()}constructor(a,b){this.store=a;this.fY=b;UAs.G(this)}};var TAs=class{static G(a){O(a,{eae:yV.ref})}constructor(){this.eae=(TAs.G(this),void 0)}};var zUs=class{static G(a){O(a,{sie:mV,clf:mV,$Pj:mV,OMh:mV,Tpg:mV,kwb:mV,i8a:mV,b3g:mV,jQ:gV})}get sie(){if(this.og.Jb)return this.n0.sie;if(!this.OMh)return[];const a=this.kwb.map(c=>c.type),b=this.kwb.find(c=>c.type==="image"||c.type==="video");return a.includes("background")?b||this.iG.layout===2?[{type:"background"}]:[]:a.includes("page")||a.includes("sheet-page-content")?[]:a.includes("grid")||a.includes("shape")?b?this.kwb:[]:this.kwb}get clf(){if(this.og.Jb)return this.n0.clf;if(!this.OMh)return[];
if(this.kwb.map(b=>b.type).includes("background"))return[{type:"background"}];const a=this.kwb.find(b=>b.type==="shape");return a?[a]:this.kwb.filter(b=>b.type!=="sheet-page-content")}get Aul(){if(this.og.Jb)return this.n0.Aul;var a=this.clf;if(a.length!==1)return!1;a=a[0];return["page","background"].includes(a.type)&&this.iG.layout===1||a.type==="row"||a.type==="column"?!1:!0}get hod(){var a;return this.og.Jb?this.n0.hod:!((a=this.og.La)===null||a===void 0?0:a.Ji())}get $Pj(){var a,b;const c=this.og.La;
if(c!=null&&c.type==="pages"&&this.Tpg==="background"){if(((a=c.inner)===null||a===void 0?void 0:a.type)==="pages"){var d;return((d=c.inner.inner)===null||d===void 0?void 0:d.type)!=="background"?void 0:this.Ep.NMh(c.inner.inner.container.container,c.inner.inner.container.ia)?"section":void 0}if(((b=c.inner)===null||b===void 0?void 0:b.type)==="background"&&(a=c.inner.page,a.type!=="responsive"))return this.Ep.uSb([a])?"page":void 0}}get OMh(){var a;const b=this.og.La,c=((a=this.jc.state)===null||
a===void 0?void 0:a.type)==="focused";if(!b||!b.Ji()||c||b.type!=="elements"&&b.type!=="pages")return!1;a=b.inner;switch(this.Tpg){case "background":var d;if((a===null||a===void 0?void 0:a.type)==="background")return a.page.type==="responsive"?!1:XAs(this,a.page)?this.Ep.xhg(a.page):this.Ep.Qhg(a.page);if((a===null||a===void 0?void 0:a.type)==="pages"&&((d=a.inner)===null||d===void 0?void 0:d.type)==="background")return XAs(this,a.inner.page)?this.Ep.xhg(a.inner.page):this.Ep.Qhg(a.inner.page);throw Error("An inner selection is required to delete a page background");
case "page":return b.pages?this.Ep.uSb(b.pages):!1;case "table-element":case "table-item":var e;return!((e=this.fY.zgd)===null||e===void 0||!e.WPj());case "shape":case "element":case "scrollable-design":case "grid":case "group":case "controlled":case "sheet-element":case "sheet-item":case "sheet-page-content":case "sheet-item-cell-media":case "sheet-element-cell-media":case "layout-element":case "layout-item":return!0;case "image":case "video":case "column":case "row":case void 0:return!1;default:throw new v(this.Tpg);
}}get Tpg(){const a=this.og.La;if(a!=null&&(a.type==="elements"||a.type==="pages"))switch(a.type){case "pages":var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "pages":var c;return((c=a.inner.inner)===null||c===void 0?void 0:c.type)==="background"?"background":"page";case "sheet":return"sheet-page-content";case "sheet-cell-media":return"sheet-element-cell-media";case "background":return a.inner.type;case void 0:return"page";default:throw new v(a.inner);}case "elements":var d;if(this.b3g.length)return"shape";
switch((d=a.inner)===null||d===void 0?void 0:d.type){case "table":return"table-element";case "sheet":return"sheet-element";case "sheet-cell-media":return"sheet-element-cell-media";case "layout":case "layout-cell":return"layout-element";default:var e,f;return(f=(e=a.inner)===null||e===void 0?void 0:e.type)!==null&&f!==void 0?f:"element"}default:throw new v(a);}}get kwb(){var a=this.og.La;let b=!1;var c=!1,d=!1,e=!1;if((a===null||a===void 0?0:a.inner)&&a.inner.type)switch(a.inner.type){case "grid":c=
a.inner.cells;b=YAs(c);c=ZAs(c);break;case "table":var f;e=(f=this.fY.zgd)===null||f===void 0?void 0:f.WPj();d=!(e===null||e===void 0||!e.deleteRow);e=!(e===null||e===void 0||!e.UEc);break;case "sheet":d=a.type==="pages"?a.inner.page.sheet:a.inner.sheet.config;e=this.fY.pfc;var g=a.inner.cells.map(l=>l);f=a.inner.rows.map(l=>l);a=a.inner.columns.map(l=>l);f=(e===null||e===void 0?void 0:e.TDg(d,f,g).length)||0;e=(e===null||e===void 0?void 0:e.SDg(d,a,g).length)||0;d=f>0;e=e>0;break;case "layout":case "layout-cell":a=
a.inner.type==="layout"?a.inner.container.layout:a.inner.container.container.layout;if(f=(g=this.fY.hkn)===null||g===void 0?void 0:g.Ipg(a))d=f.hgm,e=f.ggm;break;case "background":const {image:h,video:k}=a.inner.Jc[0];b=!!h.ref;c=!!k.ref;break;case "shape":a=a.inner.paths;a.length&&(b=$As(a),c=aBs(a));break;case "group":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}else(a===null||a===void 0?void 0:a.type)==="elements"&&(a=this.b3g,a.length&&(b=$As(a),c=aBs(a)));return[e?
"column":null,d?"row":null,b?"image":null,c?"video":null,this.Tpg].filter(ub).map(h=>dBs(h,this.i8a))}get i8a(){var a;if(this.og.Jb)return this.n0.i8a;var b=this.og.La;if(b&&b.Ji()&&(b.type==="elements"||b.type==="pages")){if(this.b3g.length)return{type:"shape",paths:this.b3g};switch((a=b.inner)===null||a===void 0?void 0:a.type){case "sheet":a=b.type==="pages"?"sheet-page-content":"sheet-element";var c=b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config,d=this.fY.pfc,e=b.inner.cells.map(g=>g),
f=b.inner.rows.map(g=>g);b=b.inner.columns.map(g=>g);f=(d===null||d===void 0?void 0:d.TDg(c,f,e))||[];b=(d===null||d===void 0?void 0:d.SDg(c,b,e))||[];return{type:a,sheet:c,cells:e,rows:f,columns:b};case "sheet-cell-media":return e=b.inner.container,a=e.row,c=e.column,e=e.sheet,b=b.inner.media.map(g=>g),{type:"sheet-element-cell-media",sheet:e,rb:{row:a,column:c},media:b};case "layout":return{type:"layout-element",xrc:b.inner.container,cells:[...b.inner.cells]};case "table":return a=b.inner.container,
c=a.ia,b=b.inner.cells,e=bNe(c,b),d=aNe(c,b),{type:"table-element",table:c,parent:a.container,cells:b,iR:[e[0],e[e.length-1]],iF:[d[0],d[d.length-1]]};case "background":case "grid":case "group":case "shape":case "layout-cell":case "pages":case void 0:break;default:throw new v(b.inner);}return b.type==="pages"?{type:"page",pages:b.pages}:b.Nd&&b.Nd.type==="table"?(a=b.Nd,c=bNe(a,[]),e=aNe(a,[]),{type:"table-element",table:a,parent:b.container,cells:[],iR:[c[0],c[c.length-1]],iF:[e[0],e[e.length-1]]}):
b}}get b3g(){var a=this.og.La;if(!a||!a.Ji()||a.type!=="elements")return[];ta(a.Ji());return(a=(a=a.Nd)&&a.type==="shape"&&a.paths.filter(b=>!!b.fill.dropTarget))&&a.length===1&&($As(a)||aBs(a))?[a[0]]:[]}yhg(){return this.og.Jb?this.n0.yhg():this.OMh}fQj(a,b){if(this.og.Jb)return this.n0.fQj(a,b);if((b=this.og.La)&&b.Ji())switch(b.type){case "audio":var c,d;(c=(d=this.fY).YSk)===null||c===void 0||c.call(d,b,a);break;case "pages":if(b=b.inner)switch(b.type){case "background":var e,f;if(b.page.type===
"responsive")return;a=!XAs(this,b.page);(e=(f=this.Ep).aQj)===null||e===void 0||e.call(f,b.page,b.Jc,a,()=>this.og.deselectAll());break;case "sheet":case "sheet-cell-media":e=this.V.sb("delete_element",{Fb:{name:"editor.delete_element"}});this.jQ(a,e,"inner");break;case "pages":if(b.inner){var g,h;(g=(h=this.Ep).aQj)===null||g===void 0||g.call(h,b.inner.page,b.inner.Jc,!1,()=>this.og.deselectAll());break}e=this.V.sb("delete_page",{Fb:{name:"editor.delete_page",type:a}});this.jQ(a,e);break;default:throw new v(b);
}else e=this.V.sb("delete_page",{Fb:{name:"editor.delete_page",type:a}}),this.jQ(a,e);break;case "elements":e=this.V.sb("delete_element",{Fb:{name:"editor.delete_element"}});f=b.Nd;if(!b.inner){f&&f.type==="shape"?this.jQ(a,e):this.jQ(a,e,"outer");break}this.jQ(a,e,"inner");break;default:throw new v(b);}}jQ(a,b,c){if(this.og.Jb)this.n0.jQ(a,b,c),b.abort();else{var d=this.og.La;if(!d||!d.Ji()||d.type!=="elements"&&d.type!=="pages")b.abort();else{var e=this.i8a;if(d.type==="pages"){var f;switch((f=
d.inner)===null||f===void 0?void 0:f.type){case "background":var g,h;if(d.inner.page.type==="responsive")break;e=!XAs(this,d.inner.page);this.Eta(a,b,1);(g=(h=this.Ep).unf)===null||g===void 0||g.call(h,d.inner.page,d.inner.Jc,e,()=>this.og.deselectAll());break;case "sheet":if((e===null||e===void 0?void 0:e.type)!=="sheet-page-content")break;d=e.sheet;var k=e.rows,l=e.columns;e=e.cells;switch(c){case "row":var m;this.Eta(a,b,1);(m=this.fY.pfc)===null||m===void 0||m.deleteRows(d,k,b,a);break;case "column":var p;
this.Eta(a,b,1);(p=this.fY.pfc)===null||p===void 0||p.deleteColumns(d,l,b,a);break;case "inner":var q;this.Eta(a,b,1);(q=this.fY.pfc)===null||q===void 0||q.Ukc(d,e);this.Ng.MR()}break;case "sheet-cell-media":if((e===null||e===void 0?void 0:e.type)!=="sheet-element-cell-media")break;this.Eta(a,b,1);a=e.media;b=e.sheet;e=e.rb;(k=(l=this.Ep).FWd)===null||k===void 0||k.call(l,b,e.row,e.column,a);this.Ng.MR();break;case void 0:case "pages":var r;if(((r=d.inner)===null||r===void 0?void 0:r.inner)!=null){var t,
u;this.Eta(a,b,1);(t=(u=this.Ep).unf)===null||t===void 0||t.call(u,d.inner.inner.page,d.inner.inner.Jc);break}const {pages:Ea,container:La}=d.inner||d;lBs(this.E1k,La,Ea,a,b);break;default:throw new v(d.inner);}}else{if((m=d.Nd)&&m.type==="rect"&&m.fill.image.ref!=null){var w,x;__c.gh(this.Pa,m.fill.image.ref)===2||(w=(x=this.yUe).JWk)!==null&&w!==void 0&&w.call(x)}switch(c){case "outer":var y,z;if(d.inner&&bBs(this,d.inner,a,b))return;this.Eta(a,b,d.elements.length);(y=(z=this.Ep).awa)===null||y===
void 0||y.call(z,d.elements,d.container);return;case "column":switch(e===null||e===void 0?void 0:e.type){case "sheet-page-content":case "sheet-element":var A;this.Eta(a,b,1);d=e.sheet;e=e.columns;(A=this.fY.pfc)===null||A===void 0||A.deleteColumns(d,e,b,a);break;case "table-element":var B,D;this.Eta(a,b,1);(D=this.fY.zgd)===null||D===void 0||(B=D.ufq)===null||B===void 0||B.call(D,e.table,e.parent,e.iR,a);break;case "layout-element":cBs(this,e.xrc,e.cells,d.container.page);break;default:b.abort()}return;
case "row":switch(e===null||e===void 0?void 0:e.type){case "sheet-page-content":case "sheet-element":var G;this.Eta(a,b,1);d=e.sheet;e=e.rows;(G=this.fY.pfc)===null||G===void 0||G.deleteRows(d,e,b,a);break;case "table-element":var I,K;this.Eta(a,b,1);(K=this.fY.zgd)===null||K===void 0||(I=K.vfq)===null||I===void 0||I.call(K,e.table,e.parent,e.iF,a);break;case "layout-element":cBs(this,e.xrc,e.cells,d.container.page);break;default:b.abort()}return}if(d.inner)switch(d.inner.type){case "grid":var N,
M,S,Q;if((N=(M=this.Ep).Kkm)===null||N===void 0?0:N.call(M,d.inner.cells)){this.Eta(a,b,1);break}this.Eta(a,b,1,d.inner.container.container);(S=(Q=this.Ep).awa)===null||S===void 0||S.call(Q,[d.inner.grid],d.inner.container.container);break;case "table":var W,X,ba,da;if((W=(X=this.Ep).yQj)===null||W===void 0?0:W.call(X,d.inner.cells)){this.Eta(a,b,1);break}this.Eta(a,b,1,d.inner.container.container);(ba=(da=this.Ep).awa)===null||ba===void 0||ba.call(da,[d.inner.table],d.inner.container.container);
break;case "sheet":var la;this.Eta(a,b,1);a=d.inner.sheet;b=d.inner.cells.map(Ea=>Ea);(la=this.fY.pfc)===null||la===void 0||la.Ukc(a.config,b);this.Ng.MR();break;case "sheet-cell-media":var ka,oa;this.Eta(a,b,1);a=d.inner.media;b=d.inner.container;(ka=(oa=this.Ep).FWd)===null||ka===void 0||ka.call(oa,b.sheet,b.row,b.column,a);this.Ng.MR();break;case "shape":var ja,fa;this.Eta(a,b,1);(ja=(fa=this.Ep).qQj)===null||ja===void 0||ja.call(fa,d.inner.paths);break;case "group":var aa,ca,qa,ra;this.Eta(a,
b,d.inner.nb.length,d.inner.container);a=d.inner.Nd;(aa=(ca=this.Ep).awa)===null||aa===void 0||aa.call(ca,d.inner.nb,d.inner.container);a&&a.type==="rect"&&a.fill.image.ref!=null&&((qa=(ra=this.yUe).JWk)===null||qa===void 0||qa.call(ra));break;case "layout":this.Eta(a,b,1);cBs(this,d.inner.container,[...d.inner.cells],d.container.page);break;case "layout-cell":this.Eta(a,b,1);cBs(this,d.inner.container.container,[d.inner.container.rb],d.container.page);break;default:throw new v(d.inner);}else if(this.i8a)switch(e=
this.i8a,e===null||e===void 0?void 0:e.type){case "shape":var sa,wa;this.Eta(a,b,1);(sa=(wa=this.Ep).qQj)===null||sa===void 0||sa.call(wa,e.paths);break;case "table-element":case "sheet-element":case "sheet-element-cell-media":case "layout-element":var za,Ba;this.Eta(a,b,d.elements.length);(za=(Ba=this.Ep).awa)===null||za===void 0||za.call(Ba,d.elements,d.container);break;case "elements":var Aa,Fa;a!=="shape_detector"&&this.Eta(a,b,d.elements.length);(Aa=(Fa=this.Ep).awa)===null||Aa===void 0||Aa.call(Fa,
d.elements,d.container);break;case "page":break;case "sheet-page-content":break;case "item":case "table-item":case "sheet-item":case "sheet-item-cell-media":case "layout-item":case "cover-item":case "page-break-item":break;default:throw new v(e);}}}}}Nwm(a,b){const c=this.og.La;if(c&&c.Ji())switch(c.type){case "pages":var d;const {container:e,pages:f}=((d=c.inner)===null||d===void 0?void 0:d.type)==="pages"?c.inner:c;lBs(this.E1k,e,f,a,b);break;case "elements":lBs(this.E1k,c.container.container,[c.container.ia],
a,b);break;case "audio":throw Error("page deletion not supported from audio selection");default:throw new v(c);}else b.abort()}Eta(a,b,c,d){var e;if(!this.og.Jb){var f=this.og.La;if(f!==null&&f!==void 0&&f.hp){if((d===null||d===void 0?void 0:d.type)==="group-element"){var g=c>1?"multiple_elements":"single_element_in_group";var h=d.group.km}c=c>1?"multiple_elements":"single_element";d=f.hp.elements.count();var k=(e=f.elements)===null||e===void 0?void 0:e.map(m=>{if(m.type==="shape"){if(__c.Qfe(m))return"stroke";
if(__c.pWa(__c.nWa(m)))return"recognized_stroke";if(gk(m))return"sticky_note"}return m.type});b.mb().addEvent("deleted");var l={$D:d,kGa:k,kb:a,FQj:g||c,FD:__c.Ejf(f.elements||[]),km:h};b.mb().nk(({Ii:m})=>{this.N.track(__c.u$g,{...l,Rb:m(),Wp:0,Qr:0,Ey:0})});b.ne()}else b.abort()}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.n0=a;this.Ep=b;this.fY=c;this.E1k=d;this.jc=e;this.og=f;this.Ng=g;this.Pa=h;this.gb=k;this.yUe=l;this.V=m;this.N=p;this.iG=q;zUs.G(this);this.Ep.CJi("deleting_ui",{hrj:r=>{switch(r.container.type){case "chart-element":break;
case "layout-element-cell":case "fixed-page":case "group-element":case "controlled-element":this.og.Il(r.container,r.ia);break;default:throw new v(r.container);}}})}},AUs=class{static G(a){O(a,{kwb:mV,i8a:mV})}get sie(){return this.kwb}get clf(){return this.kwb}get Aul(){var a=this.clf;if(a.length!==1)return!1;a=a[0];return a.type==="row"||a.type==="column"?!1:!0}get hod(){return!1}get $Pj(){}get kwb(){var a;if(this.Ma.mode<=20||((a=this.og.Jb)===null||a===void 0?void 0:a.type)===0)return[];a=this.i8a;
switch(a===null||a===void 0?void 0:a.type){case "item":var b,c;return a.item.type==="design"&&((c=a.item.Vw)===null||c===void 0?void 0:(b=c.ref)===null||b===void 0?void 0:b.type)==="sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "cover-item":var d,e,f,g;if(this.Ma.mode<=30)break;return((d=a.marker.Jg.ref)===null||d===void 0?void 0:d.type)==="design"&&((g=a.marker.Jg.ref)===null||g===void 0?void 0:(f=g.Vw)===null||f===void 0?void 0:(e=f.ref)===null||e===void 0?void 0:e.type)===
"sticky-scroll"?[{type:"scrollable-design"}]:[{type:"element"}];case "page-break-item":return[{type:"element"}];case "layout-item":var h=a.VPj;return h?[{type:"column",eae:sps(this.Xwa,a.hw,a.NHa,h)},{type:"layout-item"}]:[{type:"layout-item"}];case "table-item":a=(h=this.fY.zgd)===null||h===void 0?void 0:h.WPj();if(!a)break;return[a.UEc?"column":null,a.deleteRow?"row":null,"table-item"].filter(ub).map(k=>dBs(k,this.i8a));case "sheet-item":return[a.columns.length>0?"column":null,a.rows.length>0?"row":
null,"sheet-item"].filter(ub).map(k=>dBs(k,this.i8a));case "sheet-item-cell-media":return[dBs("sheet-item-cell-media",this.i8a)];case void 0:break;default:throw new v(a);}return[]}get i8a(){const a=this.og.Jb;var b=this.Xa.state;if(b){switch(b.type){case "LAYOUT_CELL":var c,d;const [h,k]=b.cells;return h&&!k?{type:"layout-item",hw:b.layout,VPj:((c=(d=this.Ep).pif)===null||c===void 0?0:c.call(d,b.layout,b.Oc,h))?h:void 0,NHa:b.Oc}:void 0;case "RANGE":var e,f;return b.wz!=null?b.wz.type==="break"?{type:"page-break-item",
kVe:b.wz}:{type:"item",item:b.wz}:(a===null||a===void 0?void 0:a.container.type)==="layout-item-cell"&&b.isCollapsed?{type:"layout-item",hw:a.container.layout,VPj:((e=(f=this.Ep).pif)===null||e===void 0?0:e.call(f,a.container.layout,b.Oc,a.container.rb))?a.container.rb:void 0,NHa:a.container.container.container.text}:void 0}switch(a===null||a===void 0?void 0:a.type){case 0:if(a.container.type==="table-item-cell")return b=a.container.table,c=[a.container.rb],d=bNe(b,c),e=aNe(b,c),{type:"table-item",
table:b,cells:c,parent:a.container.container.container,iR:[d[0],d[d.length-1]],iF:[e[0],e[e.length-1]]};break;case 1:var g;if(((g=a.only)===null||g===void 0?void 0:g.type)==="table"&&a.container)return ta(__c.LVc(a.container)),b=a.only,c=[...a.only.cells.values()],d=bNe(b,c),e=aNe(b,c),{type:"table-item",table:b,cells:c,parent:a.container,iR:[d[0],d[d.length-1]],iF:[e[0],e[e.length-1]]};break;case 2:return b=a.container.table,c=a.map(h=>h),d=bNe(b,c),e=aNe(b,c),{type:"table-item",parent:a.container.container,
table:b,cells:c,iR:[d[0],d[d.length-1]],iF:[e[0],e[e.length-1]]};case 4:return b=a.container.sheet,d=this.fY.pfc,c=a.cells.map(h=>h),f=a.rows.map(h=>h),e=a.columns.map(h=>h),f=(d===null||d===void 0?void 0:d.TDg(b.config,f,c))||[],d=(d===null||d===void 0?void 0:d.SDg(b.config,e,c))||[],{type:"sheet-item",parent:a.container.container.text,sheet:b,cells:c,rows:f,columns:d};case 5:return b=a.container,c={row:b.row,column:b.column},d=a.media.map(h=>h),{type:"sheet-item-cell-media",parent:a.container.container.container.text,
sheet:b.poa,rb:c,media:d};case 3:case void 0:break;default:throw new v(a);}}else if((a===null||a===void 0?void 0:a.container.type)==="marker"||(a===null||a===void 0?void 0:a.container.type)==="section-marker")return{type:"cover-item",marker:a.container.marker}}yhg(){return this.i8a!=null}fQj(a,b){var c;if(!b)this.Ep.zBb();else if(!this.qHs){var d=this.i8a;if((d===null||d===void 0?void 0:d.type)==="cover-item"){var e,f;(e=(f=this.Ep).bxe)===null||e===void 0||e.call(f,d.marker);this.og.deselectAll()}else if((d===
null||d===void 0?void 0:d.type)==="page-break-item")this.jQ(a,new __c.vf);else if((d===null||d===void 0?void 0:d.type)==="sheet-item")(c=this.fY.pfc)===null||c===void 0||c.Ukc(d.sheet.config,d.cells);else{var g;a=((g=this.Xa.state)===null||g===void 0?void 0:g.type)!=="TABLE_CELL"||this.Xa.state.cells.length!==1||this.Xa.state.cells[0].content.text.isEmpty?void 0:this.Xa.state.cells[0];this.Ep.zBb();a&&(this.Xa.Ru(a.content.text,Qw.end()),this.Xa.focus())}b.preventDefault()}}jQ(a,b,c){var d=this.i8a;
switch(d===null||d===void 0?void 0:d.type){case "layout-item":a=d.hw;b=d.VPj;d=d.NHa;if(b!=null)if(c==="outer"){var e,f;(e=(f=this.Ep).Qpg)===null||e===void 0||e.call(f,a,d);this.Xa.Uv(d,a)}else{var g,h;(g=(h=this.Ep).qWh)===null||g===void 0||g.call(h,a,b,d);this.Xa.deselectAll()}else this.Xa.Uv(d,a),this.Ep.zBb();break;case "table-item":b=d.parent;var k=d.table,l=d.iR;d=d.iF;switch(c){case "column":var m,p;(p=this.fY.zgd)===null||p===void 0||(m=p.wfq)===null||m===void 0||m.call(p,k,b,l,a);break;
case "row":var q,r;(r=this.fY.zgd)===null||r===void 0||(q=r.xfq)===null||q===void 0||q.call(r,k,b,d,a);break;case "outer":this.Xa.Uv(b.text,k);this.Ep.zBb();break;case "inner":case void 0:this.Ep.zBb();break;default:throw new v(c);}break;case "sheet-item":m=d.sheet;p=d.parent;q=d.columns;r=d.rows;d=d.cells;switch(c){case "column":(k=this.fY.pfc)===null||k===void 0||k.deleteColumns(m.config,q,b,a);break;case "row":(l=this.fY.pfc)===null||l===void 0||l.deleteRows(m.config,r,b,a);break;case "outer":this.Xa.Uv(p,
m);this.Ep.zBb();break;case "inner":case void 0:var t;(t=this.fY.pfc)===null||t===void 0||t.Ukc(m.config,d);break;default:throw new v(c);}break;case "sheet-item-cell-media":var u,w;c=d.sheet;a=d.rb;d=d.media;(u=(w=this.Ep).FWd)===null||u===void 0||u.call(w,c.config,a.row,a.column,d);this.Xa.deselectAll();break;case "cover-item":var x,y;(x=(y=this.Ep).bxe)===null||x===void 0||x.call(y,d.marker);break;case "page-break-item":var z,A;if(d.kVe.marker.Jg.ref&&a!=="cut_contextual_menu"&&a!=="cut_keyboard_shortcut"){var B,
D;(B=(D=this.Ep).bxe)===null||B===void 0||B.call(D,d.kVe.marker);break}(z=(A=this.Ep).zBb)===null||z===void 0||z.call(A);break;case "item":case void 0:this.Ep.zBb();break;default:throw new v(d);}}Nwm(){}get qHs(){var a,b,c;return this.Xa.focused&&((a=this.Xa.state)===null||a===void 0?void 0:a.type)==="RANGE"&&(((b=this.Xa.state.wz)===null||b===void 0?void 0:b.type)!=="break"||!((c=this.Xa.state.wz)===null||c===void 0?0:c.marker.Jg.ref))}Eta(){throw Error("logDeletedAnalytics is not implemented");
}constructor(a,b,c,d,e,f){this.Ep=a;this.fY=b;this.og=c;this.Xa=d;this.Xwa=e;this.Ma=f;AUs.G(this)}};var BUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 4.5h5.25v15H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5Zm12 0h-5.25v15H17a.5.5 0 0 0 .5-.5v-1H19v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1h-1.5V5a.5.5 0 0 0-.5-.5Zm-.97 4.47a.75.75 0 1 0-1.06 1.06L16.94 12l-1.97 1.97a.75.75 0 1 0 1.06 1.06L18 13.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L19.06 12l1.97-1.97a.75.75 0 1 0-1.06-1.06L18 10.94l-1.97-1.97Z" fill="currentColor"/></svg>';var eBs=er({medium:BUs});var CUs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.5 5v5.25h-15V5a.5.5 0 0 1 .5-.5h14a.5.5 0 0 1 .5.5Zm0 12v-5.25h-15V17a.5.5 0 0 0 .5.5h1V19H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-1v-1.5h1a.5.5 0 0 0 .5-.5Zm-9.47-2.03a.75.75 0 1 0-1.06 1.06L10.94 18l-1.97 1.97a.75.75 0 1 0 1.06 1.06L12 19.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L13.06 18l1.97-1.97a.75.75 0 1 0-1.06-1.06L12 16.94l-1.97-1.97Z" fill="currentColor"/></svg>';var fBs=er({medium:CUs});var DUs=FV(a=>{const b=a.onClick,c=a.disabled;return dV(a.zi,{tooltip:L("eLUEGw"),yh:"icon",icon:Ux,className:"_6n_L7A",onClick:b,disabled:c,children:L("eLUEGw")})});FV(a=>{const b=a.onClick,c=a.oa,d=a.disabled;return dV(a.fl,{Icon:Ux,label:L("eLUEGw"),disabled:d,onClick:b,oa:c,im:"Delete"})});var EUs=FV(a=>dV(a.zi,{icon:Ux,className:"_6n_L7A",pressed:a.open,yh:"icon",onClick:a.onClick,tooltip:L("eLUEGw"),children:L("eLUEGw")}));
FV(a=>{const b=a.oa;return dV(__c.BD,{margins:"flow",children:a.items.map((c,d)=>dV(FUs,{item:c,oa:b},d))})});
var GUs=FV(a=>{const b=a.V,c=a.disabled,d=a.BSe,e=a.onMouseEnter,f=a.onMouseLeave,g=a.onFocus,h=a.onBlur,k=a.oa;a=a.kwb.map(l=>{const m=gBs(l);return{...m,disabled:c,onClick:gV(()=>d(b.sb("delete_element_dropdown",{Fb:{name:"editor.delete_element"}}),m.mode)),onMouseEnter:gV(()=>e(l)),onMouseLeave:gV(()=>f(l)),onFocus:gV(()=>g(l)),onBlur:gV(()=>h(l))}});return dV(__c.BD,{margins:"flow",children:a.map((l,m)=>dV(FUs,{item:l,oa:k},m))})}),FUs=FV(a=>{const b=a.oa,{message:c,Icon:d,onClick:e,onFocus:f,
onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l=!1}=a.item;return kV(__c.nA,{onClick:()=>{e===null||e===void 0||e();b===null||b===void 0||b()},onFocus:f,onBlur:g,onMouseEnter:h,onMouseLeave:k,disabled:l,children:[dV(__c.zD,{className:"Roid7g",children:dV(d,{size:"medium"})}),c]})}),HUs=fV(a=>{const b=a.disabled,c=a.Ag;return dV(a.zi,{onClick:a.onClick,icon:Ux,yh:"icon",disabled:b(),tooltip:J("JwjLTA",[c]),children:J("fk0LcQ",[c])})});var IUs=class{static G(a){O(a,{Ag:mV})}get Ag(){var a;return((a=this.og.La)===null||a===void 0?void 0:a.pages)||[]}Pvl(){var a;return!(!this.og.La||this.og.La.type!=="pages"||((a=this.og.La)===null||a===void 0?0:a.inner)||!this.og.La.Ji())}constructor(a,b,c,d,e,f,g,h){this.document=a;this.og=b;this.Ep=c;this.f6h=d;this.No=e;this.N=f;this.ePn=g;this.eLs=h;IUs.G(this)}};var JUs,KUs,LUs,MUs;
new (JUs=class extends JV{constructor(){super(MUs);KUs()}},(()=>{class a extends(LUs=HV){static G(b){O(b,{open:yV.ref})}render(){const b=this.props.hC,c=this.props.UYg,d=this.props.onClose;return dV(__c.md,{open:this.open,title:J("CMqjrQ",[b]),explanation:J("phFzTA",[c,b]),dG:"critical",buttons:this.buttons,JSb:L("lVGe+Q"),mj:d})}get buttons(){return[{children:L("JTju5w"),onClick:gV(b=>{this.props.zje(b.$Zc);this.props.lp();this.open=!1})},{children:L("Xw0Txg"),onClick:gV(b=>{this.props.zje(b.$Zc);this.props.onCancel();
this.open=!1})}]}constructor(...b){super(...b);this.open=(MUs.G(this),!0)}}({c:[MUs,KUs]}=KV(a,[],[Ob],LUs))})(),JUs);var NUs=class{get Vhq(){return this.storage?!!this.storage.getItem("E2DontShowPageDeleteWarningWithLink"):this.lzm}constructor(){this.lzm=!1;this.storage=__c.dc()}};var pBs=({Lc:a})=>dV(Pk,{tone:"info",dismissible:!0,Lc:a,children:L("F+UiAA")});var oBs=class{static G(a){O(a,{init:gV,Lc:gV.bound})}init(){var a,b;this.store.Jla=!this.F2q(715,(b=this.X)===null||b===void 0?void 0:(a=b.Qi)===null||a===void 0?void 0:a.ep)}Lc(){this.store.Jla=!1;this.X&&this.Qa.Pj(new __c.pt({user:this.X.user.id,types:[715]}))}get Jla(){return this.store.Jla}constructor(a,b,c,d=__c.oy){this.store=a;this.X=b;this.Qa=c;this.F2q=d;oBs.G(this)}};var nBs=class{static G(a){O(a,{Jla:yV.ref})}constructor(){this.Jla=(nBs.G(this),!0)}};var OUs=({quota:a,eOl:b,cAk:c})=>{if(a.kind==="loading")return dV(__c.du,{size:"small"});const d=a.Bcd?dV(P,{size:"small",children:J("3ExZKg",[a.Bcd])}):null;return kV(R,{display:"flex",justifyContent:"center",alignItems:"center",children:[c?dV(__c.Nx,{}):dV(__c.Mx,{}),"\u00a0",kV(P,{alignment:"center",size:"small",children:[J("Tst+Tw",[a.Iue,a.gF]),"\u00a0"]}),c?d:dV(P,{size:"small",children:dV(__c.nk,{message:L("I17TjQ"),lf:b,Nx:"subtle"})})]})};var PUs=({HHs:a=!1,onCancel:b})=>{const [c,d]=nV(0);iV(()=>{const e=Math.floor(Math.random()*501+500);setTimeout(()=>{c>=1E4||d(f=>f+e)},e)},[c]);a=a?1:1-Math.pow(1.3,-(c/1E3));return dV("div",{className:"wenq4Q",children:kV(Uc,{align:"center",spacing:"1.5u",children:[dV(P,{children:L("VwPLIQ")}),dV(__c.SC,{ariaLabel:L("SzclBg"),stretch:!0,pmc:!0,value:a*100}),dV(bj,{variant:"secondary",stretch:!0,onClick:b,children:L("JDk5tg")})]})})};var RUs=({input:a,LEc:b,Htk:c,Bak:d,jSo:e,Bej:f,error:g,ctk:h,FXe:k,$Kf:l,n0g:m,zul:p})=>kV(rV,{children:[e&&dV(R,{Kb:"2u",paddingBottom:"2u",children:dV(e,{})}),f&&dV(R,{Kb:"2u",children:dV(f,{})}),dV(R,{paddingBottom:"2u",Kb:"2u",height:"full",display:h?"flex":void 0,alignItems:h?"center":void 0,children:kV(Uc,{spacing:"2u",children:[a,dV(QUs,{ctk:h,FXe:k,LEc:b,Htk:c,Bak:d,error:g,$Kf:l,n0g:m,zul:p})]})})]}),QUs=({ctk:a,FXe:b,LEc:c,Htk:d,Bak:e,error:f,$Kf:g,n0g:h,zul:k})=>{const [l,m]=nV(!0),p=
()=>{m(!0);g()};iV(()=>{a&&m(!1)},[a]);return a?dV(PUs,{onCancel:p}):l?f?f:kV(rV,{children:[dV(SUs,{FXe:b}),c,e,d,k&&dV(TUs,{n0g:h})]}):(m(!0),dV(PUs,{HHs:!0,onCancel:p}))},SUs=FV(({FXe:a})=>a?kV(P,{weight:"bold",children:[dV(__c.fA,{}),dV(jd,{direction:"horizontal",size:"0.5u"}),J("pVv2cw",[a])]}):null),TUs=FV(({n0g:a})=>{const b=hV(()=>{a===null||a===void 0||a()},[a]);return dV(R,{background:"canvas",borderRadius:"baseUnit",Kb:"2u",Mc:"1.5u",border:"none",children:kV(P,{children:[dV(__c.bpr,{}),
dV(__c.nk,{message:L("9pud7Q"),lf:b})]})})}),UUs=FV(({Y6:a})=>a?kV(lr,{spacing:"1u",Fa:"center",children:[dV(__c.Hzc,{children:L("J7PIrQ")}),dV(Xu,{tone:"neutralLow",text:L("Hv1Kng")})]}):dV(__c.Hzc,{children:L("J7PIrQ")}));var VUs=__webpack_require__.p+"images/12cac2d71496e7941348c7ea6e2d56f1.png";var WUs=__webpack_require__.p+"images/43b2a0458b604ba992d1cf8d2374b9ef.png";var XUs=({Jd:a,alt:b})=>a===1?dV(__c.cv,{src:WUs,alt:b,border:"none"}):dV(__c.cv,{src:VUs,alt:b,border:"none"});var YUs=({error:a})=>dV(R,{padding:"2u",children:kV(Uc,{spacing:"1.5u",children:[dV(XUs,{Jd:a.Jd,alt:a.XFf||""}),dV(nr,{alignment:"center",size:"xsmall",children:a===null||a===void 0?void 0:a.XFf}),dV(P,{alignment:"center",children:a===null||a===void 0?void 0:a.vsh})]})});var rBs={get NFm(){return Qb("f62bdbf5",!1)},get $sq(){return Qb("1337609c",!1)},get Owq(){return Qb("67d49c82",!1)},get rkn(){return Qb("fb3552ee","")},get sCk(){return Qb("11da8253","")},get Pwq(){return Qb("bc7d14a5",!1)},get wsq(){return Qb("8c7e6060",!1)},get Nuq(){return Qb("42dc6e6c",!1)}};var ZUs=__webpack_require__.p+"images/cedd6f1881f2e6c967a69cc8e0678814.svg";var $Us=__webpack_require__.p+"images/6ba3afe7a63dc79585765f2493a7585c.svg";var aVs=__webpack_require__.p+"images/f166701c9801db56ad4508fb96c451d1.svg";var bVs=__webpack_require__.p+"images/6433e4a9a0eb074221d54830396fd558.svg";var dVs=({stc:a})=>kV(Uc,{spacing:"1.5u",children:[dV(nr,{size:"xsmall",children:L("13k7+g")}),dV(kr,{columns:2,spacing:"1.5u",STf:"equal",children:cVs.map((b,c)=>dV(Ro,{onClick:()=>a(b.text,b.id,c),content:kV(R,{height:"full",display:"flex",flexDirection:"column",borderRadius:"containerLarge",className:"_0ybf2Q",border:"low",padding:"2u",children:[kV(Uc,{spacing:"0.5u",children:[dV(P,{size:"small",weight:"bold",className:"_0LZC8Q",children:b.label}),dV(__c.Lo,{size:"small",lineClamp:3,children:b.text})]}),
dV(R,{paddingTop:"0.5u",height:"full",display:"flex",alignItems:"end",children:dV(hv,{aspectRatio:1.25,src:b.image})})]})},b.id))})]}),cVs=[{id:"spot_trends",text:L("/15meQ"),label:L("l6sRWQ"),image:$Us},{id:"visualize",text:L("WdBwUg"),label:L("7fXBqw"),image:bVs},{id:"summarize",text:L("JLfw8A"),label:L("P6WuTA"),image:aVs},{id:"find_outliers",text:L("l8zS1w"),label:L("LOom5w"),image:ZUs}];var eVs=({w8h:a,lCa:b,raq:c,NUr:d,lXe:e,BZr:f,jsd:g,fxi:h,DLq:k,SUi:l,vQg:m,stc:p})=>kV(Uc,{spacing:"1u",children:[b,g&&dV(Pk,{tone:"critical",dismissible:!0,Lc:h,GH:!0,children:g}),dV(__c.rD,{placeholder:L("94xB5A"),value:e,onChange:f,Qn:k?5:2,maxRows:5,KLa:0,IJ:!0,maxLength:280,ariaLabel:L("m5uzaQ"),footer:!k&&dV(R,{padding:"1u",children:dV(Uc,{spacing:"0",align:"end",children:dV(bj,{variant:"primary",icon:l?__c.I4f:Yt,onClick:d,disabled:a})})})}),m&&rBs.Nuq&&dV(Pk,{tone:"info",GH:!0,size:"small",
Og:!0,children:dV(__c.mk,{message:L("xxsYsQ")})}),k&&dV(bj,{variant:"primary",icon:Yt,xp:"end",stretch:!0,onClick:d,disabled:a,ariaLabel:L("m5uzaQ"),children:L("m5uzaQ")}),c,k&&rBs.$sq&&dV(dVs,{stc:p})]});var fVs={eventType:"magic_insights_interacted",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),action:a.action,num_attempt:a.Jta,had_prompt:a.lta,panel_session_id:a.AY,generation_id:a.sY,range_selection:a.CD,time_since_requested_ms:a.j2b,results_id:a.yBb,error_type:a.Jd,insight_type:a.w$b,index_position:a.mM,entity_id:a.Rsa,chart_type:a.Yc,chart_type_variant:a.dm,card_prompt_suggestion_type:a.KQa,card_prompt_suggestion_index:a.JQa})}},gVs={eventType:"magic_insights_results_generated",
Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),num_attempt:a.Jta,had_prompt:a.lta,panel_session_id:a.AY,generation_id:a.sY,range_selection:a.CD,time_since_requested_ms:a.j2b,results_id:a.yBb,summary_generated:a.KYi,num_formulas_generated:a.hui,num_charts_generated:a.cui,error_type:a.Jd,summary_error_type:a.hwo})}},hVs={eventType:"magic_insights_results_viewed",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),num_attempt:a.Jta,had_prompt:a.lta,panel_session_id:a.AY,generation_id:a.sY,
range_selection:a.CD,time_since_requested_ms:a.j2b,results_id:a.yBb,summary_generated:a.KYi,num_formulas_generated:a.hui,num_charts_generated:a.cui,summary_viewed:a.HTs,num_formulas_viewed:a.DLr,num_charts_viewed:a.fLr})}};var LBs=H(()=>({}));var BBs=(a,b,c)=>{const d=new Set(Wps(c));if(!a.every(f=>d.has(f)))return Ka({jFe:"GROUPED_SERIES_FROM_ROWS",binding:"groupBy"});const e=[];c=tBs(c.data());for(const [f,g]of c){c={binding:"unused"};f===b?c={binding:"valueBy",id:Uy()}:a.includes(f)&&(c={binding:"groupBy",id:Uy()});const {values:h,Bb:k}=uBs([...g],c.binding);e.push({label:f,values:h,type:c,Bb:k})}return Ia(e)},ABs=(a,b,c,d,e,f)=>{const g=new Set(Wps(f));if(!c.every(k=>g.has(k)))return Ka({jFe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"yAxisLabels"});
if(!g.has(b))return Ka({jFe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"xAxisLabel"});if(a&&!g.has(a))return Ka({jFe:"SCATTERPLOT_SERIES_FROM_ROWS",binding:"labelHeader"});const h=[];f=tBs(f.data());for(const [k,l]of f){f={binding:"unused"};k===b?f={binding:"xValueBy",id:Uy()}:a&&k===a?f={binding:"labelBy",id:Uy()}:c.includes(k)?f={binding:"yValueBy",id:Uy()}:d&&k===d?f={binding:"colorBy",id:Uy()}:e&&k===e&&(f={binding:"sizeBy",id:Uy()});const {values:m,Bb:p}=uBs([...l],f.binding);h.push({label:k,values:m,
type:f,Bb:p})}return Ia(h)};var iVs=a=>{let b=0;for(let c=0;c<a.length;c++)b=b*26+(a.charCodeAt(c)-65)+1;return b-1},jVs=a=>{if(a.length===0)return[];let b=0,c=0;a.forEach(({reference:e})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,f,g]=e;e=iVs(f);b=Math.max(b,parseInt(g,10)-1);c=Math.max(c,e)}});const d=Array.from({length:b+1},()=>Array(c+1).fill(""));a.forEach(({reference:e,value:f})=>{if(e=e.match(/^([A-Z]+)(\d+)$/)){const [,g,h]=e;e=iVs(g);d[parseInt(h,10)-1][e]=f}});return d};var kVs=class{static G(a){O(a,{history:yV.shallow,WVe:yV.ref,lXe:yV.ref,jsd:yV.ref,error:yV.ref,quota:yV.ref,TK:yV.ref,XAa:mV,oGd:mV,current:mV})}get cAk(){return this.Wmf.status===Vx.Zh}get XAa(){return this.WVe!=null}get oGd(){var a;return(a=this.lXe)===null||a===void 0?void 0:a.trim()}get current(){if(!(this.history.length<1))return this.history[this.history.length-1]}get wJb(){var a;return(a=this.current)===null||a===void 0?void 0:a.wJb}get LEc(){var a;return(a=this.current)===null||a===void 0?
void 0:a.LEc}get epd(){var a;return(a=this.current)===null||a===void 0?void 0:a.epd}get QRg(){var a;return(a=this.current)===null||a===void 0?void 0:a.ARq}get Hjn(){var a;return(a=this.current)===null||a===void 0?void 0:a.TK}constructor(a){this.Wmf=a;this.Oln=(kVs.G(this),void 0);this.history=[];this.error=this.jsd=this.lXe=this.WVe=void 0;this.quota={kind:"loading"};this.session={id:Sb(),attempt:0}}};var lVs=14*fu,mVs=class{static G(a){O(a,{w8h:mV,Zl:gV,$Kf:gV.bound,SUi:mV,vQg:mV})}get w8h(){if(this.vQg)return!0;const a=this.store.quota;switch(a.kind){case "loading":return!0;case "loaded":return a.gF===0;default:throw new v(a);}}Ank(){var a;const b=this.xwd(),c=(a=this.store.QRg)===null||a===void 0?void 0:a.wGs;if(!b.ok||!c)return!0;a=b.value.Bma;return a.length!==c.length?!0:a.every(d=>{c.find(e=>d.reference===e.reference&&d.value!==e.value)})}Zl(a){this.store.error=a}xwd(){const a=this.ofc.lCa;
if(!a)return Ka({errorMessage:L("lGc67g"),lCa:a,Dmd:"no_selection"});const {data:b,yqa:c}=IBs(this,a);if(b.length<=1)return Ka({errorMessage:L("Xi2QLg"),lCa:a,Dmd:"too_few_cells"});var d=a.cells;if(d.length!==0&&d[0].row.id===d[d.length-1].row.id)return Ka({errorMessage:L("bWTxvA"),lCa:a,Dmd:"too_few_rows"});d=JBs(this,a);d=n(d.at(0)).filter(e=>e.length);return(new Set(d)).size!==d.length?Ka({errorMessage:L("Z3LgIw"),lCa:a,Dmd:"duplicate_headers"}):Ia({lCa:a,Bma:b,yqa:c})}KJj(a){const b=a.Tn,c=a.config,
d=a.data;a=a.Ob;var e=new Map;e.set("font-size",lVs.toString());e.set("color","#000000");ta(this.OD.Ja!=="responsive");e=__c.ZPe(this.OD,e);return{...__c.HYc,id:void 0,top:0,left:0,width:810,height:810,eb:810,Ub:810,Rm:{top:0,left:0,width:810,height:810},config:c,data:d,Ob:a,Tn:b,xe:e,nb:[],labels:[]}}BSh(a){const b=a.Tn,c=a.config,d=a.data;a=a.Ob;ta(this.OD.Ja==="responsive");const e=__c.XPe(this.OD);return __c.zUc.create({...__c.gZc,id:void 0,config:c,data:d,Ob:a,Tn:b,xe:e})}get SUi(){var a;return this.store.oGd!=
null&&this.store.oGd.length>0&&this.store.oGd===((a=this.store.QRg)===null||a===void 0?void 0:a.prompt)&&!this.Ank()}get vQg(){var a=this.rKa.findSheet();if(!a)return!0;a=a.sheet;var b=a.layout.rows.toArray();const c=a.layout.cols.toArray();for(const d of b)for(const e of c)if((b=this.Vc.getContent(a,d,e))&&b.Mr)return!1;return!0}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y,z,A,B,D,G,I,K,N,M,S){this.store=a;this.navigation=b;this.ka=c;this.nn=d;this.Qe=e;this.oc=f;this.HOj=g;this.OD=h;this.selection=
k;this.rKa=l;this.ofc=m;this.Vc=p;this.IS=q;this.N=r;this.Wmf=t;this.LG=u;this.Via=w;this.Jxb=x;this.IB=y;this.errorService=z;this.la=A;this.Ez=B;this.iS=D;this.clipboard=G;this.viewport=I;this.Xg=K;this.j5l=N;this.Ac=M;this.Gkq=S;this.cMn=(mVs.G(this),gV(async()=>{var Q;this.store.session={id:Sb(),attempt:0};this.store.Oln=this.OD.fJa();this.ka.layout===1?this.nn.open(this.HOj,{Eaa:"start"}):(Q=this.Qe)===null||Q===void 0||Q.WMf(this.navigation,{height:"auto"});this.Xg(L("J7PIrQ"));await MBs(this)}));
this.UVp=()=>{this.nn.close(this.HOj)};this.CNm=async()=>{var Q;oV(()=>{this.store.error=void 0;this.store.jsd=void 0});(Q=this.Gkq)===null||Q===void 0||Q.call(this);const W=KBs(this);Q=RBs(this.store.oGd);Q={Jta:this.store.session.attempt,lta:this.store.oGd!=null&&this.store.oGd.length>0,AY:this.store.session.id,sY:void 0,yBb:void 0,w$b:void 0,mM:void 0,Rsa:void 0,Yc:void 0,dm:void 0,j2b:void 0,KQa:Q===null||Q===void 0?void 0:Q.type,JQa:Q===null||Q===void 0?void 0:Q.index};this.store.session.attempt+=
1;if(W.ok){var X=W.value.lCa;await this.pIq(X,W.value.Bma,W.value.yqa,W.value.qu,{Jta:Q.Jta,lta:Q.lta,AY:Q.AY,CD:X.range,KQa:Q.KQa,JQa:Q.JQa})}else oV(()=>{this.store.history.length>0?this.store.error=NBs(2):this.store.jsd=W.error.errorMessage}),this.N.track(fVs,{...Q,action:"generate",CD:(X=W.error.lCa)===null||X===void 0?void 0:X.range,Jd:W.error.Dmd})};this.pIq=async(Q,W,X,ba,{Jta:da,lta:la,AY:ka,CD:oa,KQa:ja,JQa:fa})=>{var aa,ca;const qa=this.rKa.kJc(),ra=this.store.oGd,sa=Date.now(),wa={dtk:void 0,
Jta:da,lta:la,sY:void 0,CD:oa,gZe:sa,KQa:ja,JQa:fa};oV(()=>{this.store.WVe=wa;this.store.lXe=ra;this.store.TK=qa});X=await this.xIq(W,X,ba,wa,ka);if(this.store.XAa)if(ba=Date.now()-sa,ka=this.nn.isOpen(this.HOj)?this.store.session.id:void 0,X.resultType===1)this.Zl(X.error),oV(()=>{this.store.WVe=void 0}),X.Jd==="generation"&&this.N.track(gVs,{Jta:da,lta:la,AY:ka,sY:wa.sY,CD:oa,j2b:ba,yBb:void 0,KYi:!1,hui:void 0,cui:void 0,Jd:X.Dmd,hwo:void 0});else{var za={wJb:X.results.wJb,epd:X.results.LQ,LEc:X.results.summary,
ARq:{prompt:ra,FXe:`${Q.sheetName}`,wGs:W},TK:qa,Jta:da,lta:la,sY:X.sY,CD:oa,gZe:sa,ROj:!1,tDj:X.results.LQ.map(()=>!1),Fak:X.results.wJb.map(()=>!1),KQa:wa.KQa,JQa:wa.JQa};oV(()=>{this.store.history.push(za);this.store.WVe=void 0});this.N.track(gVs,{Jta:za.Jta,lta:za.lta,AY:ka,sY:za.sY,CD:za.CD,j2b:ba,yBb:void 0,KYi:za.LEc!=null,hui:za.wJb.length,cui:za.epd.length,Jd:void 0,hwo:void 0});(aa=(ca=this.Ez).Osn)===null||aa===void 0||aa.call(ca)}};this.xIq=async(Q,W,X,ba,da)=>{let la,ka;X=new __c.k7c({content:X});
try{({id:la}=await this.IS.$Kj({data:Q,prompt:this.store.oGd||void 0,qu:X}))}catch(oa){ka=oa instanceof __c.Tb&&oa.statusCode===403?"permissions_error":"internal_error",this.errorService.pa(oa)}if(!la)return this.N.track(fVs,{action:"generate",CD:ba.CD,Jta:ba.Jta,lta:ba.lta,AY:da,sY:void 0,yBb:void 0,w$b:void 0,mM:void 0,Rsa:void 0,Yc:void 0,dm:void 0,j2b:void 0,KQa:ba.KQa,JQa:ba.JQa,Jd:ka!==null&&ka!==void 0?ka:"sent_empty_data_set"}),{resultType:1,Jd:"interaction",error:NBs(6)};ba.sY=la;this.N.track(fVs,
{action:"generate",CD:ba.CD,Jta:ba.Jta,lta:ba.lta,AY:da,sY:ba.sY,yBb:void 0,w$b:void 0,mM:void 0,Rsa:void 0,Yc:void 0,dm:void 0,j2b:void 0,KQa:ba.KQa,JQa:ba.JQa,Jd:void 0});try{const oa=__c.Vh(()=>this.pes(la),nVs,{ps:6E4});ba.dtk=oa;const ja=await oa.result;ba.dtk=void 0;if(ja.type==="FAILURE")return{resultType:1,Jd:"generation",error:NBs(ja.reason),Dmd:OBs(ja.reason)};oV(()=>{if(ja.quota){const aa=Date.now();this.store.quota={kind:"loaded",Iue:ja.quota.Iue,gF:ja.quota.gF,Bcd:ja.quota.Bcd?new Date(aa+
ja.quota.Bcd):void 0}}else this.store.jsd=L("ldPNNQ")});const fa=ja.LQ.map(aa=>{try{const ca=this.Ers([...aa.dataset],W.dateFormat),qa=new yBs(jVs(ca)),ra=FBs(aa.rDj,qa);if(ra.ok)return{Yb:ra.value.Cab,message:aa.message,Wa:aa.id};this.errorService.pa(ra.error,"Error processing chart insight")}catch(ca){this.errorService.pa(ca,"Error processing chart insight")}}).filter(aa=>{if(!aa)return!1;switch(aa.Yb.config.type){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":return!0;
case "DUMBBELL":case "LOLLIPOP":case "SUNBURST":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":case "POPULATION_PYRAMID":return!1;default:throw new v(aa.Yb.config);}}).filter(ub);await this.store.Oln;return{resultType:0,results:{LQ:fa.map(this.Yyr),wJb:this.LUq(ja.wJb),summary:ja.summary},sY:la}}catch(oa){return this.errorService.pa(oa),{resultType:1,Jd:"generation",error:NBs(6),Dmd:OBs(6)}}};this.pes=async Q=>{Q=await this.IS.ffk({id:Q});switch(Q.type){case "SUCCESS":case "FAILURE":return Q}};
this.xLs=Q=>{const W=this.selection.La,X=this.selection.Jb;if(W&&W.Ji())switch(W.type){case "audio":return!1;case "elements":switch(Q){case "data-insights":var ba,da;return((ba=W.inner)===null||ba===void 0?void 0:ba.type)==="sheet"?this.ICj(W.inner.sheet.config,W.inner.cells):((da=W.Nd)===null||da===void 0?void 0:da.type)==="sheet"?!0:!1;case "data-insights-action":var la,ka;return((la=W.inner)===null||la===void 0?void 0:la.type)==="sheet"||((ka=W.Nd)===null||ka===void 0?void 0:ka.type)==="sheet";
default:throw new v(Q);}case "pages":switch(Q){case "data-insights":var oa;return((oa=W.inner)===null||oa===void 0?void 0:oa.type)==="sheet"&&this.ICj(W.inner.page.sheet,W.inner.cells);case "data-insights-action":var ja;return((ja=W.inner)===null||ja===void 0?void 0:ja.type)==="sheet";default:throw new v(Q);}default:throw new v(W);}if(X)switch(X.type){case 4:switch(Q){case "data-insights":return this.ICj(X.container.sheet.config,X.cells);case "data-insights-action":return!0;default:throw new v(Q);
}case 1:switch(Q){case "data-insights":var fa;return((fa=X.only)===null||fa===void 0?void 0:fa.type)==="sheet";case "data-insights-action":var aa;return((aa=X.only)===null||aa===void 0?void 0:aa.type)==="sheet";default:throw new v(Q);}case 3:case 5:case 2:case 0:break;default:throw new v(X);}return!1};this.ICj=(Q,W)=>W?Array.from(W).some(X=>{var ba;return(X=this.Vc.getContent(Q,X.row,X.column))?X.VC.type===4&&((ba=X.hAa)===null||ba===void 0?void 0:ba.type)!=="select"||X.VC.type===1:!1}):!1;this.L_a=
Q=>{this.N.track(__c.d1f,{Ed:Q,Fs:"charts",source:"other",location:"magic_insights",action:"design",hGb:void 0,PE:void 0,Ai:void 0,Cua:void 0})};this.cpe=async(Q,W)=>{const X=n(this.store.current,"Should be current results when adding chart to page"),ba=Date.now()-X.gZe;try{var da;const {config:la,id:ka}=await this.oc.Xga(Q,{Wc:"data_insights"},void 0,{xU:!0});this.N.track(fVs,{action:"add_chart_to_page",Jta:X.Jta,lta:X.lta,AY:this.store.session.id,sY:X.sY,CD:X.CD,j2b:ba,mM:W,yBb:n(X.epd.at(W)).Wa,
w$b:"chart",Yc:PBs(la.ref),dm:QBs(__c.jw(la.ref)),Rsa:ka,Jd:void 0,KQa:X.KQa,JQa:X.JQa});const oa=(da=this.Ac.Ic)===null||da===void 0?void 0:da.id;oa&&this.Ac.CJc&&this.L_a(oa)}catch(la){this.errorService.pa(la,{Ka:"Failed to add to chart to page"})}};this.jGh=async(Q,W)=>{ta(this.j5l!=null);const X=n(this.store.current,"Should be current results when adding chart to page"),ba=this.j5l(this.viewport.ya);if(ba){this.selection.uT(ba.container,ba.ia);var da=Date.now()-X.gZe;try{var la;const {config:ka,
id:oa}=await this.oc.Xga(Q,{Wc:"data_insights"},{Pe:ba},{xU:!0});this.N.track(fVs,{action:"add_chart_to_new_page",Jta:X.Jta,lta:X.lta,AY:this.store.session.id,sY:X.sY,CD:X.CD,j2b:da,mM:W,yBb:n(X.epd.at(W)).Wa,w$b:"chart",Yc:PBs(ka.ref),dm:QBs(__c.jw(ka.ref)),Rsa:oa,Jd:void 0,KQa:X.KQa,JQa:X.JQa});const ja=(la=this.Ac.Ic)===null||la===void 0?void 0:la.id;ja&&this.Ac.CJc&&this.L_a(ja)}catch(ka){this.errorService.pa(ka,{Ka:"Failed to add to chart to new page"})}}};this.Ers=(Q,W)=>W?Q.map(X=>{if(X.vJ){const ba=
__c.ryb(Number.parseFloat(X.vJ));if(ba)return{...X,value:__c.Hyb(this.iS,ba,{format:W,type:"date"})}}return X}):Q;this.K0p=async Q=>{await this.clipboard.writeText(Q);this.la.Ib({Cb:L("AxOOOg")});Q=n(this.store.current,"Should be current results when adding chart to page");this.N.track(fVs,{action:"copy_summary",Jta:Q.Jta,lta:Q.lta,AY:this.store.session.id,sY:Q.sY,CD:Q.CD,j2b:Date.now()-Q.gZe,yBb:void 0,w$b:"summary",Jd:void 0,mM:void 0,Yc:void 0,dm:void 0,Rsa:void 0,KQa:Q.KQa,JQa:Q.JQa})};this.Aqm=
async(Q,W,X)=>{await this.clipboard.writeText(Q);switch(W){case "formulaText":this.la.Ib({Cb:L("1DT6sg")});break;case "formula":this.la.Ib({Cb:L("nDCdqw")});break;case "chartTitle":this.la.Ib({Cb:L("WUKA7A")});break;default:throw new v(W);}Q=n(this.store.current,"Should be current results when adding chart to page");switch(W){case "formulaText":W={action:"copy_formula_text",w$b:"formula",dm:void 0,Yc:void 0,Rsa:void 0,yBb:n(Q.wJb.at(X)).Wa};break;case "formula":W={action:"copy_formula",w$b:"formula",
dm:void 0,Yc:void 0,Rsa:void 0,yBb:n(Q.wJb.at(X)).Wa};break;case "chartTitle":W=n(Q.epd.at(X),"Chart should exist when copying title").Yb;W={action:"copy_chart_title",w$b:"chart",dm:QBs(__c.jw(W.config.ref)),Yc:PBs(W.config.ref),Rsa:W.id,yBb:n(Q.epd.at(X)).Wa};break;default:throw new v(W);}this.N.track(fVs,{...W,Jta:Q.Jta,lta:Q.lta,AY:this.store.session.id,sY:Q.sY,CD:Q.CD,j2b:Date.now()-Q.gZe,mM:X,Jd:void 0,KQa:Q.KQa,JQa:Q.JQa})};this.LUq=Q=>{const W=this.ofc.lCa;return W?Q.reduce((X,ba)=>{if(!ba.vHf)return X;
let da;const la=this.MUq(ba);if(la==null)return X;try{var ka=__c.G6q(this.Jxb,W.sheet,la);da=this.EYq(ka,ba.z7h)}catch(ja){return X}if(!da)return X;ka=ba.vHf.split("%s");const oa=ba.vHf.replace("%s",da);X.push({formula:`=${la.Pka}`,Eak:{prefix:ka[0],suffix:ka[1],l5q:da},ySm:oa,Wa:ba.id});return X},[]):[]};this.MUq=Q=>{Q=Q.formula.startsWith("=")?Q.formula.slice(1):Q.formula;return __c.fee(this.IB,{type:0,ppa:Q})};this.EYq=(Q,W)=>{switch(Q.type){case 0:if(W===3)return __c.Dyb(this.iS,Q.value,{Yv:2,
Gq:!1});if(Q.Bb==null)return Q=Q.value,Math.abs(Q)<1?Q=Q.toPrecision(2):(Q=(Math.round(Q*100)/100).toString(),W=parseFloat(Q),Q=!isNaN(W)&&W>9999?__c.cJ(W):Q),Q;switch(Q.Bb.type){case "date":return(W=__c.ryb(Q.value))?__c.Hyb(this.iS,W,Q.Bb.xj):"";case "embed":case "mention":case "select":return Q.value.toString();case "plain_number":case "percentage":case "currency":return __c.Gyb(this.iS,Q.value,Q.Bb.xj);case "checkbox":return Q.value.toString();default:throw new v(Q.Bb);}case 2:return Q.value.toString();
case 16:return Q=Q.value.JUd(),Q.type===2?Q.value:"";case 1:case 4:case 3:case 15:return"";default:throw new v(Q);}};this.Yyr=(Q,W)=>{if(this.OD.Ja!=="responsive"){var X=Q.Yb.Upa(void 0);X=__c.Jn.create({...__c.Ls,id:void 0,elements:[this.KJj(X)]});const da=X.elements.toArray()[0];ta(da.type==="chart");const la=__c.Hf({pages:[X]}).tb(X);X=this.OD.nrm(()=>({Yb:da,Dh:la}));this.OD.wAf({Yb:da,xU:!0});return{Vui:()=>this.cpe(Q.Yb,W),DJf:()=>this.jGh(Q.Yb,W),dr:X,type:"fixed",Yb:da,description:Q.message,
Wa:Q.Wa}}X=Q.Yb.Upa(void 0);const ba=this.BSh(X);return{Vui:()=>this.cpe(Q.Yb,W),DJf:()=>this.jGh(Q.Yb,W),dr:this.OD.LJj(()=>ba),type:"responsive",Yb:ba,description:Q.message,Wa:Q.Wa}};this.$Kf=()=>{var Q;const W=this.store.WVe;W!=null&&((Q=W.dtk)===null||Q===void 0||Q.cancel(),this.store.WVe=void 0,this.N.track(fVs,{action:"cancel",Jta:W.Jta,lta:W.lta,AY:this.store.session.id,sY:W.sY,CD:W.CD,j2b:Date.now()-W.gZe,yBb:void 0,w$b:void 0,Rsa:void 0,Yc:void 0,dm:void 0,mM:void 0,Jd:void 0,KQa:W.KQa,JQa:W.JQa}),
this.store.TK=this.store.history.length===0?void 0:this.store.Hjn)};this.Tho=gV(Q=>{this.store.lXe=Q});this.WDa=gV(()=>{this.store.jsd=void 0});this.eOl=()=>{this.Wmf.Pd("magic_insights","paywall")};this.SNl=Hb(()=>{const Q=this.store.current;Q&&this.N.track(hVs,{Jta:Q.Jta,lta:Q.lta,AY:this.store.session.id,sY:Q.sY,CD:Q.CD,j2b:Date.now()-Q.gZe,yBb:void 0,KYi:Q.LEc!=null,hui:Q.wJb.length,cui:Q.epd.length,HTs:Q.ROj,DLr:Q.Fak.filter(Boolean).length,fLr:Q.tDj.filter(Boolean).length})},500,{leading:!1});
this.vSr=()=>{const Q=this.store.current;Q&&!Q.ROj&&(Q.ROj=!0,this.SNl())};this.bUk=Q=>{const W=this.store.current;W&&!W.Fak[Q]&&(W.Fak[Q]=!0,this.SNl())};this.UPr=Q=>{const W=this.store.current;W&&!W.tDj[Q]&&(W.tDj[Q]=!0,this.SNl())};this.stc=(Q,W,X,ba)=>{this.Tho(W);this.N.track(fVs,{action:"click_card_prompt_suggestion",KQa:X,JQa:ba,Jta:Q.session.attempt,yBb:void 0,lta:!0,AY:this.store.session.id,CD:void 0,j2b:void 0,w$b:void 0,Rsa:void 0,Yc:void 0,dm:void 0,mM:void 0,Jd:void 0,sY:void 0});rBs.wsq&&
this.CNm()}}},nVs=a=>{switch(a){case 0:return 3E3;case 1:return 2E3;default:return 1E3}};var oVs=class{constructor(a,b,c,d,e,f){this.selection=a;this.ofc=b;this.Ma=c;this.viewport=d;this.fd=e;this.aTc=f;this.kJc=()=>{var g,h=this.selection.La,k=(g=this.ofc)===null||g===void 0?void 0:g.lCa;if(k){if(h)switch(h.type){case "elements":var l;if(((l=h.inner)===null||l===void 0?void 0:l.type)!=="sheet")return;var m=k.cells;return m?{type:"element",sheet:k.sheet,Yba:m.map(q=>q),element:h.inner.container,page:h.Yz,ED:new tA(h.inner.container,this.viewport)}:void 0;case "pages":var p;return h.inner&&
((p=h.inner)===null||p===void 0?void 0:p.type)==="sheet"?(m=k.cells)&&h.pages.length===1?{type:"sheet",sheet:k.sheet,Yba:m.map(q=>q),page:h.inner.container,ED:new uA(h.inner.container,this.viewport,this.Ma)}:void 0:void 0}if(h=this.selection.Jb)switch(h.type){case 4:if(k=(m=this.ofc)===null||m===void 0?void 0:m.lCa,(g=k===null||k===void 0?void 0:k.cells)&&k!==null&&k!==void 0&&k.sheet)return m=h.container.container.Fw(h.container.sheet),{type:"item",sheet:k.sheet,Yba:g,item:m,page:h.Yz,ED:new wA(m,
this.fd,this.viewport)}}}};this.findSheet=()=>{var g=(g=this.viewport.ya)&&rf(g)?{sheet:g.sheet,sheetId:g.id}:void 0;if(!(g=g||SBs(this)))a:{if(g=this.selection.Jb)switch(g.type){case 4:g={sheet:g.container.sheet.config,sheetId:g.container.sheet.id};break a;case 1:var h;if(((h=g.only)===null||h===void 0?void 0:h.type)==="sheet"){g={sheet:g.only.config,sheetId:g.only.id};break a}}g=void 0}if(h=g)return g="",h.sheetId&&(g=(g=this.aTc.Med().get(h.sheetId))?__c.Mos(g):""),{sheet:h.sheet,sheetName:g}}}},
pVs=class{constructor(a,b,c,d,e){this.selection=a;this.ofc=b;this.fd=c;this.viewport=d;this.aTc=e;this.kJc=()=>{const f=this.selection.Jb;if(f)switch(f.type){case 4:var g;const h=(g=this.ofc)===null||g===void 0?void 0:g.lCa,k=h===null||h===void 0?void 0:h.cells;if(k&&h!==null&&h!==void 0&&h.sheet)return g=f.container.container.Fw(f.container.sheet),{type:"item",sheet:h.sheet,Yba:k,item:g,page:f.Yz,ED:new wA(g,this.fd,this.viewport)}}};this.findSheet=()=>{var f=this.selection.Jb;if(f)switch(f.type){case 4:var g=
f.container.sheet.config;f=f.container.sheet.id;f=this.aTc.Med().get(f);return{sheet:g,sheetName:f?__c.Mos(f):void 0};case 1:if(((g=f.only)===null||g===void 0?void 0:g.type)==="sheet")return g=f.only.config,f=f.only.id,f=this.aTc.Med().get(f),{sheet:g,sheetName:f?__c.Mos(f):void 0}}}}};var rVs=FV(({LEc:a,lia:b,BJa:c})=>{const {Qbb:d}=TBs({onChange:e=>e&&c()});return a?dV(qVs,{ref:d,content:dV(P,{children:a}),XRr:()=>b(a)}):null}),qVs=eQs(function({content:a,XRr:b},c){return dV(Ro,{Si:c,onClick:b,ariaLabel:L("ou/phw"),thumbnail:dV(__c.ev,{children:dV(R,{padding:"2u",borderRadius:"element",children:a})}),Wr:dV(__c.DC,{location:"top-end",children:dV(__c.k7d,{onClick:b,icon:OD,ariaLabel:L("EnJA7g")})}),layout:"vertical",Cmb:"thumbnail"})});var sVs=({YRr:a,zSe:b})=>kV(Yo,{role:"menu",children:[dV(bu,{onClick:a,children:kV(lr,{spacing:"1u",Fa:"center",children:[dV(OD,{}),dV(P,{children:L("mMYI6A")})]})}),dV(bu,{onClick:b,children:kV(lr,{spacing:"1u",Fa:"center",children:[dV(OD,{}),dV(P,{children:L("P6Z+vg")})]})})]});var tVs=({jPq:a,Pr:b,index:c,lia:d,BJa:e,iol:f,$dj:g,ii:h})=>{const k=hV(()=>{d(a.formula,"formula",c);f(c,!1)},[a.formula,c,d,f]),l=hV(()=>{d(a.ySm,"formulaText",c);f(c,!1)},[a.ySm,c,d,f]),{Qbb:m}=TBs({onChange:r=>r&&e()}),[p,q]=nV(!1);return dV("div",{onMouseEnter:()=>{q(!0)},onMouseLeave:()=>{q(!1)},ref:m,children:dV(R,{border:"standard",display:"flex",justifyContent:"spaceBetween",alignItems:"start",borderRadius:"element",className:h?null:"YzN_aA",children:dV(Ro,{Wr:dV(__c.DC,{location:"top-end",
children:dV(__c.l7d,{pS:r=>{r&&r.stopPropagation();f(c,!b)},dDa:__c.Po,$_d:dV(sVs,{YRr:k,zSe:l}),isOpen:b})}),content:dV(R,{border:"none",Kb:"2u",Mc:"2u",children:kV(Uc,{spacing:p||h?"1u":"0",children:[kV(P,{children:[a.Eak.prefix,dV("span",{className:"ZzIDKA",children:a.Eak.l5q}),a.Eak.suffix]}),dV(__c.Tc,{light:"light",Im:"light",dark:"light",rK:"light",children:r=>dV(R,{className:CV(r.className,{T7k36g:!h}),background:"page",borderRadius:"baseUnit",children:dV(R,{background:"neutralLow",children:dV(Ro,
{content:dV(ao,{direction:"horizontal",children:dV(R,{padding:"0.5u",children:dV("div",{className:"HDHnAg",onClick:k,children:dV(g,{formula:a.formula})})})})})})})})]})}),padding:"0",layout:"horizontal",Ym:"card"})})})};var uVs=({wJb:a,lia:b,bUk:c,$dj:d,ii:e})=>{const [f,g]=nV(null),h=hV((k,l)=>{g(l?k:null)},[]);return a&&a.length!==0?dV(Uc,{spacing:"2u",children:a.map((k,l)=>dV(tVs,{jPq:k,Pr:f===l,index:l,lia:b,iol:h,$dj:d,ii:e,BJa:()=>c(l)},l))}):null};var vVs=({zSe:a,DJf:b})=>dV(R,{Mc:"1u",children:kV(Yo,{role:"menu",children:[b&&dV(bu,{onClick:b,children:kV(lr,{spacing:"1u",Fa:"center",children:[dV(__c.cAf,{}),dV(P,{children:L("jBio7A")})]})}),!rBs.NFm&&dV(bu,{onClick:a,children:kV(lr,{spacing:"1u",Fa:"center",children:[dV(OD,{}),dV(P,{children:L("oJqySA")})]})})]})});var xVs=({GOj:a,index:b,Vui:c,DJf:d,zSe:e,BJa:f,VZo:g})=>{const [h,k]=nV(!1),{Qbb:l}=TBs({onChange:t=>t&&f()}),m=hV(()=>{a&&(e(a,b),k(!1))},[a,b,e]),p=d&&(()=>{d();k(!1)}),q=()=>{k(t=>!t)},r=FV(t=>dV(__c.Po,{...t,width:"40u"}));return dV("div",{className:"is0Txw",children:dV(Ro,{Si:l,onClick:c,ariaLabel:L("ou/phw"),thumbnail:dV(__c.ev,{children:kV(R,{display:"flex",flexDirection:"column",justifyContent:"spaceBetween",flex:"auto",width:"full",children:[a&&dV(wVs,{GOj:a}),g]})}),Wr:a&&dV(__c.DC,{location:"top-end",
children:dV(__c.l7d,{dDa:r,$_d:dV(vVs,{zSe:m,DJf:p}),isOpen:h,pS:q})}),layout:"vertical",Cmb:"thumbnail"})})},wVs=({GOj:a})=>dV("div",{children:dV(R,{padding:"2u",display:"flex",alignItems:"center",height:"full",children:dV(P,{weight:"regular",size:"medium",children:a})})});var yVs={min:1,max:1.64,default:1.64},zVs=({jQp:a,MTp:b,zSe:c,BJa:d})=>{if(!b||b.length===0)return null;const e=(f,g)=>{c(f,"chartTitle",g)};return dV("div",{className:"gLfxmA",children:dV(Uc,{spacing:"2u",align:"center",children:b.map((f,g)=>dV(xVs,{GOj:f.description,index:g,Vui:f.Vui,DJf:a?f.DJf:void 0,VZo:dV(f.dr,{aspectRatio:yVs}),zSe:e,BJa:()=>d(g)},g))})})};var AVs=__webpack_require__.p+"images/5d67cfff929a5b190f01798fcfd1dfde.svg";var WBs=({onClose:a,onClick:b})=>dV(R,{paddingBottom:"2u",children:dV(Ro,{layout:"horizontal",title:L("qnlK8Q"),description:L("7wkHMw"),thumbnail:dV(hv,{borderRadius:"element",src:AVs,objectFit:"contain",height:"8u"}),Wr:dV(__c.DC,{location:"top-end",visibility:"always",children:dV(__c.k7d,{onClick:a,icon:__c.xr,ariaLabel:L("ymQmsA"),variant:"subtleLinkButton",size:"small"})}),padding:"1u",background:"neutralLow",Cmb:"card",onClick:b})});var VBs=class{static G(a){O(a,{Lc:gV.bound})}constructor(a,b,c,d,e,f){this.store=a;this.X=b;this.Qa=c;this.Tb=d;this.Aa=e;this.K1d=f;this.rIq=(VBs.G(this),async()=>{if(rBs.Pwq)oV(()=>{this.store.Sfe=!0});else{var g=await this.Qa.gda({brand:this.X.zb.brand.id,user:this.X.user.id,components:[],types:[716],jkb:[]});oV(()=>{this.store.Sfe=!__c.oy(716,g.actions)})}});this.Lc=()=>{this.store.Sfe=!1;this.Qa.Pj(new __c.pt({user:this.X.user.id,types:[716]}))};this.uXr=()=>{this.Lc();this.Aa.track(fVs,{action:"click_learn_and_play",
AY:this.K1d()});__c.ui(this.Tb,{id:rBs.rkn,title:L("qnlK8Q"),extensions:{view:void 0,default:rBs.sCk,ewa:void 0,zrb:rBs.sCk},to:void 0,$a:void 0,revision:void 0,Cc:void 0,qj:[],Hf:void 0})}}};var UBs=class{static G(a){O(a,{Sfe:yV.ref})}constructor(){this.Sfe=(UBs.G(this),!1)}};var BVs=class{static G(a){O(a,{jym:gV})}jym(a){var b,c;ta(this.session.document.Ja==="fixed");var d=a.fill,e=a.Fq;a=YBs(this,e);if(a!=null){var f=a.page,{xa:g,flipY:h,flipX:k,image:l,video:m}=as.snapshot(d),p=d.image.ref;p=(m===null||m===void 0?void 0:m.ub)||(l===null||l===void 0?void 0:l.ub)||p&&((b=this.Pa.jp(p.media))===null||b===void 0?void 0:b.dimensions);var {width:q,height:r}=n(p);zg(f.dimensions||this.session.document.dimensions)?(b=this.viewport.jz().transform(this.viewport.Ol(a)).center(),
b=Wj({center:b,width:1080,height:1080})):(b=n(__c.Vbe(f,this.session.document)),b=__c.Ube(b));p=b.center();b=__c.sne(f,Wj({center:p,width:q,height:r}).w0b(p,b));p=ln(b,{width:q,height:r}).Mb();var t,u,w=(u=(t=m===null||m===void 0?void 0:m.ub.rotation)!==null&&t!==void 0?t:l===null||l===void 0?void 0:(c=l.ub)===null||c===void 0?void 0:c.rotation)!==null&&u!==void 0?u:0;c=f.elements.append({...Fs,...b.Mb(),xa:g,rotation:k!==h?-w:w,fill:{...ps,dropTarget:!0,flipX:k,flipY:h,image:l&&{...l,xa:0,ub:p},
video:m&&{...m,xa:0,ub:p}}});if(e.type==="sheet-cell-media"){var x;d=e.ia;e=e.container;e=e.sheet.layout.cells.get(e.row,e.column);e=e===null||e===void 0?void 0:e.ref.content;(e===null||e===void 0?void 0:(x=e.ref)===null||x===void 0?void 0:x.type)==="media"&&e.ref.value.delete(d)}else d.image.set(void 0),d.video.set(void 0);this.selection.Il(a,c)}}constructor(a,b,c,d,e,f){this.Fi=a;this.vc=b;this.session=c;this.Pa=d;this.viewport=e;this.selection=f;BVs.G(this)}};var DVs=FV(a=>{const {Button:b,active:c,Tf:d,ATc:e,Es:f,...g}=a,{Icon:h,hb:k,label:l,variant:m="tertiary"}=ZBs(e,d,f);return b?dV("div",{className:"Bk3Nug",children:dV(b,{...g,active:c,icon:h,yh:h?"icon":"label",hb:k,variant:m,children:l})}):dV("div",{className:"Bk3Nug",children:dV(CVs,{Icon:h,hb:k,label:l})})}),EVs=FV(a=>{const b=a.Icon;var c=a.hb;a=a.label;const {mode:d}=(0,__c.eb)(__c.hga).data;c=a!==null&&a!==void 0?a:c;return dV("div",{children:kV("div",{className:CV("_0Y_1Xw aWBg0w",{_MaqSA:d===
"classic"}),"aria-label":c,children:[b&&dV(b,{size:"medium"}),a&&dV("span",{className:"mfT2KA",children:a})]})})}),CVs=FV(a=>{const b=a.hb;return b?dV(or,{label:b,placement:"bottom",children:dV(EVs,{...a})}):dV(EVs,{...a})}),FVs=FV(()=>dV("div",{className:"iMjRPg aWBg0w",children:dV("span",{className:"oO9YHA",children:L("WfLTdw")})}));var GVs=()=>({Sne:__c.nc()});var HVs=fV(({Sne:a,PBk:b,oa:c,Oe:d})=>kV("div",{className:CV({QAlW9Q:d==="fixed"}),children:[dV(__c.id,{title:L("foA7WA"),description:b?J("FUGhcw",[__c.IXi(new Date(b),new Date(dCs()))]):void 0,end:d==="fill"?dV(__c.gd,{onClick:c}):void 0}),dV(R,{padding:"2u",children:dV(a,{})})]}));var IVs=class{static G(a){O(a,{eDm:mV})}get ATc(){return this.ffq.get()}get eDm(){if(this.bda.YP===5)return this.bda.YP;if(!(this.Ma.mode<=20&&this.v1h)){if(this.Ma.mode===20)return"comment";if(this.Tf===2||this.Ma.mode===10)return"view";if(!this.A2c)return this.nBe?"playground":this.bda.YP}}constructor(a,b,c,d,e,f){this.bda=a;this.Tf=b;this.Ma=c;this.nBe=d;this.A2c=e;this.v1h=f;this.ffq=(IVs.G(this),cCs(()=>this.eDm))}};var JVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5H10v1.5a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.427 16.97a.75.75 0 0 0 0 1.06l1.97 1.97-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.146-2.145a1.253 1.253 0 0 0 0-1.77l-2.146-2.145a.75.75 0 0 0-1.06 0z" fill="currentColor"/><path d="M5.207 19.25h12.5a.75.75 0 0 1 0 1.5h-12.5a.75.75 0 0 1 0-1.5z" fill="currentColor"/></svg>';var KVs=er({medium:JVs});var LVs='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12.25a.75.75 0 0 1-1.5 0v-1.5h-4v1.5a.75.75 0 0 1-1.5 0v-1.5H4.5v1.5a.75.75 0 0 1-1.5 0V5zm2-.5h14a.5.5 0 0 1 .5.5v3.25h-15V5a.5.5 0 0 1 .5-.5zm-.5 9.75v-4.5h4v4.5h-4zm15 0v-4.5h-4v4.5h4zm-5.5 0h-4v-4.5h4v4.5z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.03 16.97a.75.75 0 0 1 0 1.06L6.06 20l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.146-2.145a1.255 1.255 0 0 1-.272-1.364 1.25 1.25 0 0 1 .272-.406L6.97 16.97a.75.75 0 0 1 1.06 0zm-2.146 2.853z" fill="currentColor"/><path d="M18.25 19.25H5.75a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5z" fill="currentColor"/></svg>';var MVs=er({medium:LVs});var NVs=class{},OVs=class extends NVs{static G(a){O(a,{t9d:gV.bound})}t9d(){const a=this.store.mFc;if(a)switch(a.type){case "page":var b=gCs(a.page.sheet);this.f4i(a.page.sheet,b);break;case "element":switch(a.element.type){case "table":b=fCs(a.element);this.FNl(a.element,b);break;case "sheet":b=gCs(a.element.config);this.f4i(a.element.config,b);break;case "layout":b=hCs(a.element);this.TMl(a.element,b);break;default:throw new v(a.element);}break;default:throw new v(a);}}FNl(a,b){const c=b===2?"rtl":
void 0;a.cells.forEach(d=>{d=d.content;d.text.Ya.trim().length||d.text.WOa("direction",c)})}f4i(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>{const f=a.layout.cells.get(d,e);f==null||f.span.Zb!==d||f.span.dc!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text2"||f.ref.content.ref.value.Ya.trim().length||f.ref.content.ref.value.WOa("direction",c)})})}TMl(a,b){a.direction=b!==null&&b!==void 0?b:1}constructor(a){super();this.store=a;OVs.G(this)}},PVs=
class extends NVs{static G(a){O(a,{t9d:gV.bound})}t9d(){const a=this.store.mFc;if(a)switch(a.item.type){case "table":var b=fCs(a.item);this.FNl(a.item,b);break;case "sheet":b=gCs(a.item.config);this.f4i(a.item.config,b);break;case "layout":b=hCs(a.item);this.TMl(a.item,b);break;default:throw new v(a.item);}}FNl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d=d.content;d.text.isEmpty&&__c.oif(this.Xa,[d.text],{direction:c})})}f4i(a,b){const c=b==="rtl"?"rtl":void 0;a.layout.rows.forEach(d=>{a.layout.cols.forEach(e=>
{const f=a.layout.cells.get(d,e);f==null||f.span.Zb!==d||f.span.dc!==e||f.ref.content.ref==null||f.ref.content.ref.type!=="text3"||f.ref.content.ref.value.isEmpty||__c.oif(this.Xa,[f.ref.content.ref.value],{direction:c})})})}TMl(a,b){const c=b===2?"rtl":void 0;a.cells.forEach(d=>{d.text.isEmpty&&__c.oif(this.Xa,[d.text],{direction:c})})}constructor(a,b){super();this.store=a;this.Xa=b;PVs.G(this)}},QVs=class extends NVs{static G(a){O(a,{t9d:gV.bound})}t9d(){this.selection.La?this.fixed.t9d():this.selection.Jb&&
this.mk.t9d()}constructor(a,b,c){super();this.selection=a;this.fixed=b;this.mk=c;QVs.G(this)}};var RVs=class{static G(a){O(a,{Abb:mV})}get Abb(){return!!this.direction}constructor(a){this.B_a=a;RVs.G(this)}},SVs=class extends RVs{static G(a){O(a,{mFc:mV,direction:mV})}get mFc(){const a=this.selection.La;if(a&&a.Ji())switch(a.type){case "pages":if(a.inner){var b=a.inner.type;switch(b){case "sheet":case "sheet-cell-media":return this.Zrf?{type:"page",page:a.inner.page}:void 0;case "background":case "pages":return;default:throw new v(b);}}break;case "elements":if(a.Nd)switch(b=a.Nd.type,b){case "table":case "layout":return{type:"element",
element:a.Nd};case "sheet":return this.Zrf?{type:"element",element:a.Nd}:void 0;case "group":case "controlled":case "chart":case "grid":case "line":case "rect":case "shape":case "text":case "embed":return;default:throw new v(b);}if(a.inner)switch(b=a.inner.type,b){case "table":return{type:"element",element:a.inner.table};case "sheet":case "sheet-cell-media":return this.Zrf?{type:"element",element:a.inner.sheet}:void 0;case "layout":case "layout-cell":return{type:"element",element:a.inner.container.layout};
case "group":case "grid":case "shape":return;default:throw new v(b);}break;case "audio":break;default:throw new v(a);}}get direction(){const a=this.mFc;if(a)switch(a.type){case "element":switch(a.element.type){case "table":return jCs(this,a.element.layout);case "sheet":return lCs(this,a.element.config);case "layout":return nCs(this,a.element);default:throw new v(a.element);}case "page":return lCs(this,a.page.sheet);default:throw new v(a);}}constructor(a,b,c){super(c);this.selection=a;this.Zrf=b;SVs.G(this)}},
TVs=class extends RVs{static G(a){O(a,{mFc:mV,direction:mV})}get mFc(){const a=this.selection.Jb;if(!(this.Ma.mode<40)&&a)switch(a.type){case 0:switch(a.container.type){case "table-item-cell":return{type:"item",item:a.container.table};case "sheet-item-cell-richtext":return{type:"item",item:a.container.container.poa};case "layout-item-cell":return{type:"item",item:a.container.layout};case "body":case "responsive-page":return;default:throw new v(a.container);}case 1:var b;const c=(b=a.only)===null||
b===void 0?void 0:b.type;if(!c)break;switch(c){case "table":case "layout":return{type:"item",item:a.only};case "sheet":return this.Zrf?{type:"item",item:a.only}:void 0;case "controlled":case "chart":case "pill":case "break":case "separator":case "design":case "embed":case "rect":case "shape":return;default:throw new v(c);}case 2:return{type:"item",item:a.container.table};case 4:case 5:return this.Zrf?{type:"item",item:a.type===4?a.container.sheet:a.container.poa}:void 0;case 3:return{type:"item",
item:a.container.layout};default:throw new v(a);}}get direction(){const a=this.mFc;if(a)switch(a.item.type){case "table":return jCs(this,a.item.layout);case "sheet":return lCs(this,a.item.config);case "layout":return nCs(this,a.item);default:throw new v(a.item);}}constructor(a,b,c,d){super(d);this.Ma=a;this.selection=b;this.Zrf=c;TVs.G(this)}},UVs=class extends RVs{static G(a){O(a,{mFc:mV,direction:mV})}get mFc(){if(this.selection.La)return this.fixed.mFc;if(this.selection.Jb)return this.mk.mFc}get direction(){if(this.selection.La)return this.fixed.direction;
if(this.selection.Jb)return this.mk.direction}constructor(a,b,c,d){super(d);this.selection=a;this.fixed=b;this.mk=c;UVs.G(this)}},iCs={[1]:"ltr",[2]:"rtl"},kCs={ltr:"ltr",rtl:"rtl"},mCs={[1]:"ltr",[2]:"rtl"};var VVs={table:L("dFZ7Mg"),sheet:L("QtNYag"),layout:L("TJwZxw")};var WVs,XVs,YVs,ZVs;
new (WVs=class extends JV{constructor(){super(ZVs);XVs()}},(()=>{class a extends(YVs=HV){static G(b){O(b,{sAo:mV})}render(){const b=this.props.page.page,c=this.props.Pc,d=this.props.gb,e=this.props.L;if(b!==e.ya||!e.lines.length)return null;const f=this.sAo,g=n(e.rxl).transform(f),h=n(e.Y3).transform(f),k=d.Zk(b).units;return kV("div",{className:"_70bAIQ",children:[dV("div",{className:"HOF9xQ",style:g.Mb()}),dV("div",{className:"HOF9xQ",style:h.Mb()}),e.lines.map((l,m)=>{let p;switch(k){case 4:p=
Math.round(l.length);break;case 2:p=parseFloat((l.length/Ov(k)).toFixed(3));break;default:p=parseFloat((l.length/Ov(k)).toFixed(1))}if(p===0)return null;var q=f.transformPoint(l.start);const r=l.length*c.scale,t=l.type==="primary"?"SaAMnQ":"FVN8Cg";q={top:q.y,left:q.x};let u;switch(l.dir){case "horizontal":u="gUGHVQ";q.width=r;break;case "vertical":u="_8cXdSA";q.height=r;break;default:throw new v(l.dir);}return dV("div",{className:CV("AwVwHw",t,u),style:q,children:l.type==="primary"&&dV("div",{className:"xPdc6w nbfwjw",
children:J("G2Se2A",[p])})},m)})]})}get sAo(){return Lj(this.props.Pc.scale)}constructor(...b){super(...b);a.G(this)}}({c:[ZVs,XVs]}=KV(a,[],[Ob],YVs))})(),WVs);var $Vs=class{static G(a){O(a,{lines:mV.struct,rxl:mV.struct,Y3:mV.struct,gPi:mV})}get ya(){const a=this.gPi;return a&&a.page}get lines(){if(!this.DKs.get())return[];var a=this.rxl,b=this.Y3;if(!a||!b||a.equals(b))return[];var c=Yj(a,b);if(c){var d=Zj(0,[a,b]);b=c.t;a=c.r;var e=c.b;c=c.Sb;var f=d.tl;d=d.br;const m=[],p=(q,r,t)=>{Math.round(t)!==0&&m.push(oCs(q,r,t,"primary"))};p("vertical",b,f.y-b.y);p("vertical",e,d.y-e.y);p("horizontal",c,f.x-c.x);p("horizontal",a,d.x-a.x);return m}e=[];c=a.t;f=
a.r;d=a.b;a=a.Sb;const [g,h,k,l]=b.oh();l.y<c.y?(e.push(oCs("vertical",c,l.y-c.y,"primary")),k.x>c.x?e.push(oCs("horizontal",k,c.x-k.x,"secondary")):l.x<c.x&&e.push(oCs("horizontal",l,c.x-l.x,"secondary"))):g.y>d.y&&(e.push(oCs("vertical",d,g.y-d.y,"primary")),g.x>d.x?e.push(oCs("horizontal",g,d.x-g.x,"secondary")):h.x<d.x&&e.push(oCs("horizontal",h,d.x-h.x,"secondary")));l.x<a.x?(e.push(oCs("horizontal",a,l.x-a.x,"primary")),h.y>a.y?e.push(oCs("vertical",h,a.y-h.y,"secondary")):l.y<a.y&&e.push(oCs("vertical",
l,a.y-l.y,"secondary"))):g.x>f.x&&(e.push(oCs("horizontal",f,g.x-f.x,"primary")),g.y>f.y?e.push(oCs("vertical",g,f.y-g.y,"secondary")):k.y<f.y&&e.push(oCs("vertical",k,f.y-k.y,"secondary")));return e}get rxl(){var a=this.CG.qvb;if(a)return Zj(0,a.from.map(Vj));if((a=this.gPi)&&a.selection.box){var b=Uj(a.selection.box);return a.Exa?Yj(b,a.Exa):b}}get Y3(){var a=this.CG.qvb;if(a)return Zj(0,a.to.map(Vj));var b=this.gPi;if(b){a=b.Exa;var c=this.QR.M9a;if(c&&c.type!=="item"&&c.type!=="sheet-item-cell"){if(!c.page)return a;
if(c.page===b.page){if(!c.element)return a;b=Uj(Vj(c.element));return a?Yj(b,a):b}}}}get gPi(){const a=this.selection.La;if(a&&a.type==="elements"){var b=a.container;if(b){b=b.page;var c=this.gb.Zk(b);if(!zg(c)){const {width:e,height:f}=xg(4,c);var d=Sj(0,0,e,f)}return{selection:a,page:b,Exa:d}}}}constructor(a,b,c,d,e){this.gb=a;this.selection=b;this.CG=c;this.DKs=d;this.QR=e;$Vs.G(this)}};var aWs=FV(a=>{const b=a.Oj;return kV("div",{children:[dV(a.zi,{className:"OF7TTQ",pressed:a.open,yh:"label",icon:__c.P8g,onClick:a.onClick,children:L("09kiuA")}),b&&dV(b,{})]})}),bWs=FV(({Oe:a,hWg:b,mUr:c,nUr:d})=>{a=CV("MK0pAg",{DyWS_g:a==="fixed",JPaDJw:b==="horizontal"});return kV(Yo,{role:"list",direction:b!==null&&b!==void 0?b:"vertical",variant:b==="horizontal"?"rounded":"regular",className:a,children:[dV(bu,{className:CV("kpJ30w",{tS8VHQ:b==="horizontal"}),onClick:c,start:dV(__c.N8g,{size:"medium"}),
children:L("+k16yw")}),dV(bu,{className:CV("phOkGA",{tS8VHQ:b==="horizontal"}),onClick:d,start:dV(__c.P8g,{size:"medium"}),children:L("d1wsgA")})]})});var cWs=class{static G(a){O(a,{z4c:mV})}get z4c(){const a=this.LVm();return(a===null||a===void 0?0:a.every(b=>!!qps(this.cvd,b)))?a:void 0}Y_d(a){a.map(b=>qps(this.cvd,b)).filter(ub).forEach(b=>{b=b.v5q;b.set(!b.get())});this.Vvb.qSh();this.mFk("horizontal",a)}Z_d(a){a.map(b=>qps(this.cvd,b)).filter(ub).forEach(b=>{b=b.N$s;b.set(!b.get())});this.Vvb.qSh();this.mFk("vertical",a)}constructor(a,b,c){this.Vvb=a;this.cvd=b;this.Pa=c;cWs.G(this)}},dWs=class extends cWs{LVm(){const a=this.selection.La;if(a&&
a.Ji(am.Ps))switch(a.type){case "audio":break;case "pages":var b;switch((b=a.inner)===null||b===void 0?void 0:b.type){case "background":return a.inner.container.type!=="fixed-page"?void 0:[a.inner.container.zK(a.inner.Jc[0])];case "sheet-cell-media":const f=a.inner.container;return a.inner.media.map(h=>f.$sa(h).zK(h.fill));case "sheet":var c=a.inner.page;b=a.inner.cells;const g=[];for(const h of b){var d;b=c.sheet.layout.cells.get(h.row,h.column);if((b===null||b===void 0?void 0:(d=b.ref.content.ref)===
null||d===void 0?void 0:d.type)!=="media")return;b.ref.content.ref.value.forEach(k=>{var l;pa(((l=a.inner)===null||l===void 0?void 0:l.type)==="sheet");k=a.inner.container.qY(h.column,h.row).$sa(k).zK(k.fill);g.push(k)})}return g.length?g:void 0;default:return}case "elements":var e;if(a.elements.length===0)break;switch((e=a.inner)===null||e===void 0?void 0:e.type){case void 0:d=a.elements;break;case "group":d=a.inner.Nd?[a.inner.Nd]:a.inner.nb;break;case "table":return;case "grid":d=a.inner.Nd;if(!d)return;
c=d.fill;return[a.inner.container.X8b(d).zK(c)];case "shape":d=a.inner.Nd;if(!d)return;c=d.fill;return[a.inner.container.Y8b(d).zK(c)];case "sheet-cell-media":const f=a.inner.container;return a.inner.media.map(h=>f.$sa(h).zK(h.fill));case "sheet":d=a.inner.sheet;b=a.inner.cells;const g=[];for(const h of b){b=d.config.layout.cells.get(h.row,h.column);if((b===null||b===void 0?void 0:(c=b.ref.content.ref)===null||c===void 0?void 0:c.type)!=="media")return;b.ref.content.ref.value.forEach(k=>{var l;pa(((l=
a.inner)===null||l===void 0?void 0:l.type)==="sheet");k=a.inner.container.qY(h.column,h.row).$sa(k).zK(k.fill);g.push(k)})}return g.length?g:void 0;case "layout":case "layout-cell":return __c.uo("FillPresenter");default:throw new v(a.inner);}d=d.flatMap(f=>{var {container:g}=n(a);f=g.Sf(f);switch(f.type){case "rect-element":return f.zK(f.ia.fill);case "shape-element":if(g=f.ia.paths.filter(h=>!!h.fill.dropTarget),g.length===1)return g=n(g[0]),f.Y8b(g).zK(g.fill)}});return d.every(ub)?d:void 0;default:throw new v(a);
}}mFk(a,b){var {Yz:c}=n(this.selection.La);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(pa(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+d,0)),b=b.map(({ia:d})=>pCs(d)),this.N.track(JPs,{direction:a,mediaId:"",VJ:b.map(d=>d.mediaId),zE:"",nHf:b.map(d=>d.zE),$D:c,Wp:0,Qr:0,Ey:0}))}Rrc(a,b){var {Yz:c}=n(this.selection.La);this.N&&c&&(c.type==="fixed-page"?c=c.page.elements.count():(pa(c.type==="concatenated-fixed-page"),c=c.pages.reduce((d,e)=>e.elements.count()+
d,0)),b=b.map(({ia:d})=>pCs(d)),this.N.track(__c.hlf,{menu:a,mediaId:"",VJ:b.map(d=>d.mediaId),zE:"",nHf:b.map(d=>d.zE),$D:c,Wp:0,Qr:0,Ey:0}))}constructor(a,b,c,d,e){super(a,b,c);this.N=d;this.selection=e}},eWs=class extends cWs{LVm(){if(!(this.Ma.mode<40)){var a=this.selection.Jb;if(a)switch(a.type){case 1:if(!a.only)break;switch(a.only.type){case "rect":var b=a.only;if(a.container.type==="responsive-page"||a.container.type==="body")return[a.container.Fw(b).zK(b.fill)];return;case "shape":return __c.lge("ResponsiveFillPresenter::getFlippableFills");
case "break":var c;switch((c=a.only.marker.Jg.ref)===null||c===void 0?void 0:c.type){case "rect":if(b=a.only,c=a.only.marker.Jg.ref,a.container.type==="responsive-page"||a.container.type==="body")return[__c.Vra(a.container.Fw(b),b.marker).Fw(c).zK(c.fill)]}break;case "controlled":case "separator":case "embed":case "pill":case "chart":case "design":case "layout":case "table":case "sheet":break;default:throw new v(a.only);}break;case 5:return b=a.media.map(f=>a.container.$sa(f).zK(f.fill)).filter(ub),
b.length?b:void 0;case 4:c=a.container;var d=a.cells;const e=[];for(b of d){const f=c.qY(b.column,b.row);d=f.content;if((d===null||d===void 0?void 0:d.type)!=="media")return;d.value.forEach(g=>{const h=f.$sa(g);e.push(h.zK(g.fill))})}return e.length?e:void 0;case 0:case 2:case 3:break;default:throw new v(a);}}}mFk(a,b){this.N&&(b=b.map(({ia:c})=>pCs(c)),this.N.track(JPs,{direction:a,mediaId:"",VJ:b.map(c=>c.mediaId),zE:"",nHf:b.map(c=>c.zE),Ey:0,Wp:0,Qr:0,$D:0}))}Rrc(a,b){this.N&&(b=b.map(({ia:c})=>
pCs(c)),this.N.track(__c.hlf,{menu:a,mediaId:"",VJ:b.map(c=>c.mediaId),zE:"",nHf:b.map(c=>c.zE),Ey:0,Wp:0,Qr:0,$D:0}))}constructor(a,b,c,d,e,f){super(a,b,c);this.N=d;this.Ma=e;this.selection=f}},fWs=class{Eu(){return this.selection.La!==void 0?this.fixed:this.mk}Y_d(a){this.Eu().Y_d(a)}Z_d(a){this.Eu().Z_d(a)}get z4c(){return this.Eu().z4c}Rrc(a,b){return this.Eu().Rrc(a,b)}constructor(a,b,c){this.selection=a;this.fixed=b;this.mk=c}};var gWs=parseInt("32px",10)||32,hWs=gWs+(parseInt("8px",10)||8)*2-30,iWs=({bWo:a})=>kV(rV,{children:[dV("div",{className:"qfxQmA",children:dV(a,{direction:"top"})}),dV("div",{className:"UAATYw",children:dV(a,{direction:"bottom"})}),dV("div",{className:"PZ5MoA",children:dV(a,{direction:"left"})}),dV("div",{className:"hmZ7Ig",children:dV(a,{direction:"right"})})]});var jWs,kWs,mWs=class extends HV{componentDidMount(){Kb(this,this.props.PH.track(()=>[this.props.Fwd.ia,0]))}render(){return dV("div",{style:{opacity:.25},children:this.props.Fwd.ia.elements.map((a,b)=>dV(this.Njp,{element:a},b))})}constructor(...a){super(...a);this.dmb=mV(()=>this.props.Pc.scale);this.Njp=({element:b})=>{if(b.xa===1)return null;const c=this.props.mB,d=this.props.Pc,e=this.props.se,f=this.props.Fwd;switch(b.type){case "shape":return dV(__c.on,{config:c,page:f,Pc:d,element:f.Sf(b),
$c:this.dmb});case "line":return dV(lWs,{se:e,Pc:d,element:f.Sf(b)});default:return null}}}};({c:[kWs,jWs]}=KV(mWs,[],[Ob],HV));jWs();
var lWs=fV(a=>{const b=a.se,c=a.Pc;a=a.element;const d=a.ia,{Umc:e}=new __c.Qn(b,d);return dV("div",{className:"mnBDoQ",style:{width:e.width,height:e.height,transform:`scale(${c.scale}) translate(${d.geometry.ref?d.left:e.left}px, ${d.geometry.ref?d.top:e.top}px)`},children:dV("div",{style:{width:"100%",height:"100%",transform:`rotate(${e.rotation}deg)`},children:dV(__c.MYd,{element:a,se:b})})})});var nWs={eventType:"editor_connect_clicked",Oa(a){return sf({resource_hash:a.ede,side:a.side,control_context:a.kb,num_positions_checked:a.MLb,did_find_position:a.jmc,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}},oWs={eventType:"editor_connect_previewed",Oa(a){return sf({resource_hash:a.ede,side:a.side,num_positions_checked:a.MLb,did_find_position:a.jmc,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}},pWs=
{eventType:"editor_connect_toggled",Oa(a){return sf({action:a.action,editing_context:a.Ba==null?void 0:tf(a.Ba),control_context:a.kb,performance_context:a.Rb==null?void 0:uf(a.Rb)})}};var zCs={start:{...__c.IYc},end:{...__c.IYc,marker:2},weight:4,color:"#acb8c0"};var qWs=class extends __c.pxf{Som(a){var b,c;const d=a.target,e=a.dragEnd,f=a.dea;a=a.anchorPoint;const g=n(this.store.Fwd),h=n(this.store.zHe),k=n(this.store.Ixf),l=h.xa;this.HZn=()=>{this.HZn=void 0;h.xa=l};h.xa=1;k.xa=0;this.KZi=g.ia.elements.append({...is.snapshot(d.element),xa:1});this.connections.connect(e,this.KZi,{dea:f,anchorPoint:a});(c=this.Lk)===null||c===void 0||(b=c.nN)===null||b===void 0||b.call(c,new __c.Bsd({style:1}));this.store.connectTarget={target:d,dea:f,anchorPoint:a}}Krg(a){var b;
const c=n(this.store.Fwd),d=n(this.store.zHe),e=n(this.store.Ixf);(b=this.HZn)===null||b===void 0||b.call(this);gk(d)&&(e.xa=1);this.connections.connect(a,d,{dea:1,anchorPoint:vCs(tCs(this.r0q))});this.KZi&&c.ia.elements.delete(this.KZi);this.KZi=void 0;this.store.connectTarget=void 0}DAj(a,b,c){return super.DAj(a,b,c)&&c!==this.TOs}constructor(a,b,c,d,e,f,g){super(void 0,a,b,c);this.store=d;this.r0q=e;this.TOs=f;this.Lk=g}};var rWs=class{static G(a){O(a,{DCn:gV,HCn:gV,ICn:gV.bound,GCn:gV,FCn:gV,ECn:gV,tHn:gV.bound,vHn:gV.bound,uHn:gV.bound})}DCn(a,b,c){var d,e;const f=b.page,g=this.V.sb("connect_new_shape",{Fb:{name:"editor.connect_new_shape"}});ACs(this);(e=this.Lk)===null||e===void 0||(d=e.nN)===null||d===void 0||d.call(e,new hp);const {gJr:h,MLb:k,jmc:l}=GCs(this,a,f,c);d=f.elements.append(h);this.pbb.iVg(d);fFd(a)&&wCs(f,a,d,c,this.VX,this.se,this.Gb,1);b=this.selection.Il(b,d);rA(this.jc,b,"all");const m={ede:__c.Ofe(a.paths.map(p=>
p.d),a.paths.some(p=>!!p.pb)),side:c,kb:"click",MLb:k,jmc:l};g.mb().nk(({Ii:p})=>{this.P.track(nWs,{...m,Rb:p()})});g.ne()}HCn(a,b,c){const d=b.page;this.KNf&&clearTimeout(this.KNf);this.KNf=window.setTimeout(gV(()=>{this.KNf=void 0;if(!this.store.isDragging){this.store.Wih=!0;var e=this.Uj.sTc,f=BCs(CCs(c),a.rotation),g=DCs(d,a),{position:h,MLb:k,jmc:l}=ECs(a,f,g,e,xg(4,d.dimensions||this.document.dimensions));e=this.V.sb("connect_preview_shape",{Fb:{name:"editor.connect_preview_shape"}});HCs(this,
a,d,c,h);var m={ede:__c.Ofe(a.paths.map(p=>p.d),a.paths.some(p=>!!p.pb)),side:c,MLb:k,jmc:l};e.mb().nk(({Ii:p})=>{this.P.track(oWs,{...m,Rb:p()})});e.ne()}}),150)}ICn(){this.store.isDragging||ACs(this)}GCn(a,b,c,d){const e=b.page;Zk(this.ih,f=>{var g,h;this.Dga=f;(h=this.Lk)===null||h===void 0||(g=h.nN)===null||g===void 0||g.call(h,new hp);this.store.isDragging=!0;this.store.Wih=!0;document.body.classList.toggle("_1Nlzlw",!0);f=this.viewport.Ol(b).transform(d.x,d.y);this.from=f=JCs(f,a,c);const {zHe:k,
Ixf:l,kWi:m}=HCs(this,a,e,c,f);this.store.zHe=k;this.store.Ixf=l;this.store.kWi=m;this.dje=this.Fr.E1a([k]);this.mRh=(new qWs(this.VX,n(this.EYm),this.Uj,this.store,c,a,this.Lk)).jMj(e,l);this.mRh.onDragStart("right",{metaKey:!1,ctrlKey:!1,shiftKey:!1});ICs(this,a)})}FCn(a,b,c,d){var e;const f=b.page;b=this.viewport.Ol(b).transform(d.x,d.y);c=JCs(b,a,c);b=n(this.dje);d=n(this.from);b.translate(c.x-d.x,c.y-d.y);(e=this.mRh)===null||e===void 0||e.pe();this.store.mTi=!MCs(c,a,xg(4,f.dimensions||this.document.dimensions))}ECn(a,
b,c,d){const e=this.store.connectTarget?"drag_connect":"drag_shape";var f=this.store.connectTarget?"connect_drag_connect":"connect_drag_shape";f=this.V.sb(f,{Fb:{name:`editor.${f}`}});const g=b.page;d=this.viewport.Ol(b).transform(d.x,d.y);d=JCs(d,a,c);const h=xg(4,g.dimensions||this.document.dimensions);this.store.connectTarget?wCs(g,a,this.store.connectTarget.target.element,c,this.VX,this.se,this.Gb,this.store.connectTarget.dea,{aKm:this.store.connectTarget.anchorPoint}):MCs(d,a,h)&&(d=FCs(a,d),
d=g.elements.append(d),this.pbb.iVg(d),fFd(a)&&wCs(g,a,d,c,this.VX,this.se,this.Gb,1),b=this.selection.Il(b,d),rA(this.jc,b,"all"));ACs(this);const k={ede:__c.Ofe(a.paths.map(l=>l.d),a.paths.some(l=>!!l.pb)),side:c,kb:e,MLb:0,jmc:!1};f.mb().nk(({Ii:l})=>{this.P.track(nWs,{...k,Rb:l()})});f.ne()}tHn(){const a=this.V.sb("quick_flow_context_menu_clicked",{Fb:{name:"editor.quick_flow_context_menu_clicked"}});this.store.Zed=!this.store.Yed;const b={action:this.store.Zed?"enabled":"disabled",kb:"context_menu"};
a.mb().setAttributes(new Map([["action",b.action]]));a.mb().nk(({Ii:c})=>{this.P.track(pWs,{...b,Rb:c()})});a.ne()}vHn(){const a=this.V.sb("quick_flow_toolbar_button_clicked",{Fb:{name:"editor.quick_flow_toolbar_button_clicked"}});this.store.Zed=!this.store.Yed;const b={action:this.store.Zed?"enabled":"disabled",kb:"floating_toolbar"};a.mb().setAttributes(new Map([["action",b.action]]));a.mb().nk(({Ii:c})=>{this.P.track(pWs,{...b,Rb:c()})});a.ne()}uHn(){const a=this.V.sb("quick_flow_toolbar_clicked",
{Fb:{name:"editor.quick_flow_toolbar_clicked"}});this.store.Zed=!1;a.mb().nk(({Ii:b})=>{this.P.track(pWs,{action:"disabled",kb:"floating_toolbar",Rb:b()})});a.ne()}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u){this.store=a;this.document=b;this.Gb=c;this.viewport=d;this.selection=e;this.Fr=f;this.pbb=g;this.VX=h;this.se=k;this.jc=l;this.ih=m;this.Uj=p;this.V=q;this.P=r;this.Lk=t;this.EYm=u;this.Dga=(rWs.G(this),void 0)}};var sWs=class{static G(a){O(a,{Zed:yV.ref,Hxf:yV.ref,mTi:yV.ref,Wih:yV.ref,isDragging:yV.ref,connectTarget:yV.ref,kWi:yV.ref,zHe:yV.ref,Ixf:yV.ref,ZBf:mV,Fwd:mV,iNh:mV,Yed:mV})}get ZBf(){return!ok(this.viewport.mh.page,this.document.dimensions)}get Fwd(){if(this.Hxf){var a=Ff(this.Hxf),b=this.Hxf.pages.first();if(b&&b.type==="fixed")return a.tb(b)}}get iNh(){const a=this.selection.La;return!!a&&a.type==="elements"&&!!a.Nd&&a.Nd.type==="shape"&&(fFd(a.Nd)||gk(a.Nd))&&a.Ji()}get Yed(){var a,b;return!this.iNh||
((a=this.jc.state)===null||a===void 0?void 0:a.type)==="focused"&&this.ka.layout===2||((b=this.selection.La)===null||b===void 0?0:b.box)&&(this.selection.La.box.width*this.viewport.zoom.scale<gWs||this.selection.La.box.height*this.viewport.zoom.scale<gWs)?!1:this.Zed!=null?this.Zed:this.ZBf}constructor(a,b,c,d,e,f,g){this.document=a;this.viewport=b;this.selection=c;this.jc=d;this.ka=e;this.Zed=(sWs.G(this),void 0);this.isDragging=this.Wih=this.mTi=!1;oV(()=>{this.Zed=f});this.Hxf=g}};var tWs={eventType:"editor_element_grouping_changed",Oa(a){return sf({selected_element_types:a.kGa,action:a.action,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,page_index:a.Wb,editing_context:a.Ba==null?void 0:tf(a.Ba),performance_context:a.Rb==null?void 0:uf(a.Rb)})}};var uWs=class{static G(a){O(a,{lHg:gV.bound,Gsh:gV.bound})}lHg(a){const b=this.V.sb("elements_grouped",{Fb:{name:"editor.elements_grouped"}});var c=this.store.Zjk;if(c){var d=c.group();if(d)return c=d.ia,d=this.selection.Il(d.container,c),this.P&&b&&(c=c.nb.map(e=>e.type),bp({mb:b.mb(),P:this.P,event:tWs,props:{kb:a,action:"group",kGa:c,$D:0,Wp:0,Qr:0,Ey:0}}),b.ne()),d}}Gsh(a){const b=this.V.sb("elements_ungrouped",{Fb:{name:"editor.elements_ungrouped"}});var c=this.store.kLl;if(c){var d=c.rotation,
{elements:e,container:f}=c.j5s.pNd();c=this.selection.Il(f,...e);c.rotation=d;this.P&&b&&(d=e.map(g=>g.type),bp({mb:b.mb(),P:this.P,event:tWs,props:{kb:a,action:"ungroup",kGa:d,$D:0,Wp:0,Qr:0,Ey:0}}),b.ne());return c}}constructor(a,b,c,d){this.store=a;this.selection=b;this.V=c;this.P=d;uWs.G(this)}};var vWs=class{static G(a){O(a,{ITd:mV,PTd:mV,Zjk:mV,kLl:mV})}get ITd(){return!!this.Zjk}get PTd(){return!!this.kLl}get Zjk(){var a=this.selection.La;if(a&&a.type==="elements"&&a.Ji()){var b=a.container,c=a.rotation;a=a.elements.map(d=>b.Sf(d));return __c.$tf(this.EXa,a,c)}}get kLl(){var a,b=this.selection.La;if(b&&b.type==="elements"&&b.Ji()&&((a=this.jc.state)===null||a===void 0?void 0:a.type)!=="focused"){var c=b.container;a=b.rotation;b=b.elements.map(d=>c.Sf(d));return(b=__c.auf(this.EXa,b))?
{j5s:b,rotation:a}:void 0}}constructor(a,b,c){this.selection=a;this.EXa=b;this.jc=c;vWs.G(this)}};var wWs=bl("g"),xWs=bl(Vo("g")),yWs=FV(a=>{const {zi:b,...c}=a;return dV(b,{...c,yh:"label",icon:KHp,children:L("nW6zQA")})}),zWs=FV(a=>{const {zi:b,...c}=a;return dV(b,{...c,yh:"label",icon:__c.FB,children:L("YyQiPQ")})}),AWs=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:KHp,label:L("bUJF+g"),im:wWs})}),BWs=FV(a=>{const {fl:b,...c}=a;return dV(b,{...c,Icon:__c.FB,label:L("BK2j6g"),im:xWs})});var CWs=class{static G(a){O(a,{c_m:mV,EZc:mV})}get c_m(){return this.store.enabled}get EZc(){return this.store.EZc}pe(a){this.L.pe(a)}onDragEnd(){this.L.onDragEnd()}Gw(a){this.L.Gw(a)}d7e(a){this.L.d7e(a)}constructor(a,b){this.store=a;this.L=b;CWs.G(this)}};var DWs=FV(a=>dV(a.fl,{label:L("PgMJpw"),Icon:__c.bbr})),EWs=FV(a=>{const b=a.NE,c=a.CDa,d=a.onClick;a=a.Oe;const e=hV(()=>{c===null||c===void 0||c();d===null||d===void 0||d()},[c,d]);return dV(b,{onClick:e,Rhc:a==="fill"?wr:void 0,children:L("YPUigA")})}),FWs=FV(a=>{const b=a.fl,c=a.oa,d=a.coordinates,e=a.onClick;a=hV(()=>e(d),[e,d]);return dV(b,{label:L("c80IQw"),Icon:__c.Yar,onClick:a,oa:c})}),GWs=FV(a=>{const b=a.fl,c=a.coordinates,d=a.oa,e=a.onClick;a=hV(()=>e(c),[e,c]);return dV(b,{label:L("3d4gCQ"),
Icon:__c.lWr,onClick:a,oa:d})}),HWs=FV(a=>{const b=a.fl,c=a.coordinates,d=a.oa,e=a.onClick;a=hV(()=>e(c),[e,c]);return dV(b,{label:L("llxXHA"),Icon:__c.$ar,onClick:a,oa:d})}),IWs=class extends HV{static G(a){O(a,{onClick:gV.bound})}onClick(){this.props.onClick()}render(){const a=this.props.oa,b=this.props.locked;return dV(this.props.fl,{label:b?L("oeLIAg"):L("ON7FDg"),Icon:b?XJh:fy,onClick:this.onClick,oa:a})}constructor(...a){super(...a);IWs.G(this)}},JWs=FV(a=>{const b=a.oa,c=a.NE,d=hV(()=>{var e;
(e=a.onClick)===null||e===void 0||e.call(a);b===null||b===void 0||b()},[b,a]);return dV(c,{onClick:d,children:L("llxXHA")})}),KWs=class extends HV{static G(a){O(a,{onClick:gV.bound})}onClick(){const a=this.props.oa,b=this.props.onClick;b===null||b===void 0||b();a===null||a===void 0||a()}render(){return dV(this.props.NE,{onClick:this.onClick,dB:this.props.dB,im:this.props.im,children:L("ON7FDg")})}constructor(...a){super(...a);KWs.G(this)}},LWs=bl(Xo(";")),MWs=class extends HV{static G(a){O(a,{onClick:gV.bound})}onClick(){const a=
this.props.oa,b=this.props.onClick;b===null||b===void 0||b();a===null||a===void 0||a()}render(){return dV(this.props.NE,{onClick:this.onClick,dB:this.props.dB,children:L("vGSJsA")})}constructor(...a){super(...a);MWs.G(this)}};var NWs,OWs,PWs,RWs=class extends HV{render(){const a=this.props.S_,b=this.props.position,c=this.props.Fx,d=this.props.FG,e=this.props.Tii,f=this.props.canDrag,g=this.props.isActive,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l={[this.SHa.get()]:f&&e};return dV(__c.SSf,{onDragStart:this.onDragStart,pe:this.pe,onDragEnd:this.onDragEnd,canDrag:this.canDrag,Gw:this.Gw,Tue:!0,SHa:f?this.SHa:void 0,children:({onTouchStart:m,onMouseDown:p})=>dV(QWs,{S_:a,position:b,Fx:c,FG:d,isActive:g,Tii:e,u1c:!f,
HHb:l,onMouseEnter:h,onMouseLeave:k,onTouchStart:m,onMouseDown:p})})}constructor(...a){super(...a);this.onDragStart=b=>{this.props.onDragStart(b,this.props.S_)};this.pe=b=>{this.props.pe(b)};this.onDragEnd=()=>{this.props.onDragEnd()};this.canDrag=()=>this.props.canDrag;this.Gw=b=>{this.props.Gw(b,this.props.S_)};this.SHa=mV(()=>__c.iy(new __c.n9g(this.props.S_.direction===1?0:90)))}};({c:[PWs,NWs]}=KV(RWs,[],[Ob],HV));NWs();
var SWs=a=>{var b=a.position;const c=a.direction===1,d=c?b:0;b=c?0:b;return dV("div",{className:CV("mNd67g",{FZmaNg:a.FG,_tRmOg:c,_8i_7tg:!c}),style:{transform:`translate(${b}px, ${d}px)`}})},QWs,TWs=class extends HV{render(){const a=this.props.position,b=this.props.Fx,c=this.props.onTouchStart,d=this.props.onMouseDown,e=this.props.FG,f=this.props.Tii,g=this.props.u1c;var h=this.props.S_.direction===1;const k=CV("dCYK4Q",{FZmaNg:e,_tRmOg:h,_8i_7tg:!h,lAxGWQ:this.props.isActive,jCbK0g:vc.iU,...this.props.HHb}),
l=CV("tuN9aA",{LAeprA:f});h=h?J("+p11Hw",[b]):J("9xVN3w",[b]);return kV("button",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTouchStart:c,onMouseDown:d,className:k,style:a,"aria-label":h,children:[f&&!e&&dV("span",{className:"_EMcsA",children:dV("span",{className:"ALc6Yg nbfwjw",children:b})}),dV("span",{className:CV("_0uzLrQ",{_87VYUA:g}),children:dV("span",{className:l})})]})}constructor(...a){super(...a);this.onMouseEnter=()=>{this.props.onMouseEnter(this.props.S_)};this.onMouseLeave=
()=>{this.props.onMouseLeave(this.props.S_)}}};({c:[QWs,OWs]}=KV(TWs,[],[Ob],HV));OWs();var UWs=fV(a=>{const b=a.L,c=a.store;return dV(rV,{children:[...c.cbk].map((d,e)=>{var f=PWs,g=c.OFh.has(d),h=hDs(b,d),k=d.position;const l=d.direction===2;var m=l?k:0;k=l?0:k;m=b.viewport.Ol(b.viewport.mh).invert().then(b.viewport.Mha()).transform(m,k);b.viewport.Rr;var p=b.viewport.Mha().invert().transformPoint(b.Ti?b.viewport.rXa().tr:b.viewport.rXa().tl);const q=b.Ti?b.viewport.jz().tr:b.viewport.jz().tl;k=q.x-p.x;p=q.y-p.y;return dV(f,{S_:d,FG:!1,Tii:!0,isActive:g,Fx:h,position:l?{top:p,left:m.x}:
b.Ti?{top:m.y,right:-k}:{top:m.y,left:k},onMouseEnter:b.onMouseEnter,onMouseLeave:b.onMouseLeave,Gw:b.Gw,onDragStart:b.onDragStart,onDragEnd:b.onDragEnd,pe:b.pe,canDrag:c.Xsg.has(d)},e)})})}),VWs=fV(a=>{const b=a.store,c=a.L;var d=a.viewport;const e=a.page,f=a.scale;if(!d.jh||b.qVe==null)return null;d=d.mh.page===e;return a.canvas.z4a!=="space-between"||d?dV(rV,{children:b.b_m.map((g,h)=>{h={key:h,S_:g,Tii:!1,FG:!iDs(c,g,e),position:g.direction===1?{top:g.position*f,left:0}:{top:0,left:g.position*
f},onMouseEnter:c.onMouseEnter,onMouseLeave:c.onMouseLeave,Fx:hDs(c,g)};return b.qVe==="viewable"?dV(QWs,{...h,isActive:b.OFh.has(g),u1c:!0}):dV(PWs,{...h,isActive:!1,canDrag:b.Xsg.has(g),Gw:c.Gw,onDragStart:c.onDragStart,onDragEnd:c.onDragEnd,pe:c.pe})})}):null}),WWs=fV(a=>{const b=a.L;var c=a.viewport;const d=a.page;if(!c.jh)return null;c=c.mh.page===d;return a.canvas.z4a!=="space-between"||c?dV(rV,{children:a.Ix.map((e,f)=>dV(SWs,{position:e.position,direction:e.direction,FG:!iDs(b,e,d)},f))}):
null});var UCs=class{static G(a){O(a,{columns:yV.ref,u_c:yV.ref,yDc:yV.ref,rows:yV.ref,foa:yV.ref,vdd:yV.ref,dimensions:mV,E5n:mV,knm:mV,rCb:mV})}get dimensions(){return pk(this.viewport.mh.page,this.document.dimensions)}get E5n(){return this.rows===0}get knm(){return this.columns===0}get rCb(){return{columns:this.columns,u_c:this.u_c,yDc:this.yDc,rows:this.rows,vdd:this.vdd,foa:this.foa}}constructor(a,b){this.document=a;this.viewport=b;this.columns=(UCs.G(this),6);this.vdd=this.foa=this.rows=this.yDc=this.u_c=
0;this.yDc=XWs(a.dimensions.width/(this.columns*10),a.dimensions.units)}},XWs=(a,b)=>{switch(b){case 1:case 2:case 3:return YWs(a,2);case 4:return YWs(a,1);default:throw new v(b);}},YWs=(a,b=0)=>{b=Math.pow(10,b);return Math.round(a*b*(1+Number.EPSILON))/b};var VCs=class{constructor(a,b){this.store=a;this.la=b;this.mDs=c=>{const d=this.store.u_c,e=this.store.yDc;this.Isf(this.store.dimensions.width,c,d,e)?(c=L("GWfiAQ"),d&&e?c=L("ZM7rPQ"):d?c=L("oNh6Aw"):e&&(c=L("fJoN0g")),this.la.Ib({Cb:c})):this.store.columns=YWs(c)};this.kDs=c=>{const d=this.store.columns,e=this.store.yDc;this.Isf(this.store.dimensions.width,d,c,e)?(c=L("g3IJgw"),d&&e?c=L("8vK9pw"):d&&(c=L("g2Fc4Q")),this.la.Ib({Cb:c})):this.store.u_c=this.UMi(c)};this.lDs=c=>{const d=this.store.columns,
e=this.store.u_c;this.Isf(this.store.dimensions.width,d,e,c)?(c=L("edKzEQ"),d&&e?c=L("+i7TbA"):d&&(c=L("pGFysw")),this.la.Ib({Cb:c})):this.store.yDc=this.UMi(c)};this.RRi=c=>{const d=this.store.vdd,e=this.store.foa;this.Isf(this.store.dimensions.height,c,d,e)?(c=L("yQHe2Q"),d&&e?c=L("HQYf5w"):d?c=L("ujBoWw"):e&&(c=L("NLcolA")),this.la.Ib({Cb:c})):this.store.rows=YWs(c)};this.DEs=c=>{const d=this.store.rows,e=this.store.foa;this.Isf(this.store.dimensions.height,d,c,e)?(c=L("g3IJgw"),d&&e?c=L("HVPx4A"):
d&&(c=L("EIY5FA")),this.la.Ib({Cb:c})):this.store.vdd=this.UMi(Math.min(c,this.store.dimensions.height/2))};this.EEs=c=>{const d=this.store.rows,e=this.store.vdd;this.Isf(this.store.dimensions.height,d,e,c)?(c=L("edKzEQ"),d&&e?c=L("6+spuw"):d&&(c=L("u2fUdA")),this.la.Ib({Cb:c})):this.store.foa=this.UMi(c)};this.Isf=(c,d,e,f)=>wg(4,this.store.dimensions.units,1)*d+f*Math.max(d-1,0)+e*2>c;this.UMi=c=>XWs(c,this.store.dimensions.units)}};var XCs=a=>kV(kr,{spacing:"1u",columns:3,children:[dV(a.G$i,{}),dV(a.jij,{})]}),YCs=FV(a=>{const b=a.Df;var c=a.G$i;const d=a.jij;iV(()=>gV(a.onClose),[a.onClose]);const e=hV((f,g)=>({xo:()=>dV(rV,{children:f}),ma:()=>dV(kr,{spacing:"1u",columns:3,children:g})}),[]);c=[e(L("gPUe1Q"),dV(c,{})),e(L("JE/qcA"),dV(d,{}))];return dV(R,{padding:"2u",paddingTop:"0",children:dV(b.B9,{items:c})})});var SCs=class{constructor(a,b,c){this.store=a;this.update=b;this.FHh=c;this.onFocus=d=>{this.store.value=d;this.store.focused=!0};this.onBlur=()=>{const d=this.store.value;this.Axk(d)&&this.update(Number.parseFloat(d));this.store.focused=!1};this.onChange=d=>{d=d.trim();isNaN(Number(d))||(this.store.value=this.sanitize(d))};this.Axk=d=>!isNaN(Number(d))&&!isNaN(parseFloat(d));this.sanitize=d=>{const e=this.FHh?/^[0-9.]$/:/^[0-9]$/;return d.split("").filter(f=>e.test(f)).join("")}}};var RCs=class{static G(a){O(a,{value:yV.ref,focused:yV.ref})}constructor(){this.value=(RCs.G(this),"");this.focused=!1}};var WCs={[4]:L("eY1d0Q"),[1]:L("WL2xxQ"),[3]:L("nAKgzA"),[2]:L("SJUMrg")};var ZWs=__webpack_require__.p+"images/44d262aa046efce329308241ad58e99d.png";var $Ws=__webpack_require__.p+"images/457fb16c040f7d4ffed30f8729561fcf.png";var aXs=__webpack_require__.p+"images/79762f8af6d55aefb16784fa24d6e2f5.png";var bXs=__webpack_require__.p+"images/7a3e97c45cb0eb116bb173d7f394b839.png";var cXs=__webpack_require__.p+"images/0d00475b150fc001612e5c8ee10dee45.png";var dXs=__webpack_require__.p+"images/d4139edd693a21ad459834f6afb64807.png";var eXs=__webpack_require__.p+"images/20a96e0c263ffa6d6e499fac04f986e5.png";var fXs=__webpack_require__.p+"images/fc4dfa7a2acff3686ff78a955b096acd.png";var gXs=__webpack_require__.p+"images/b8a93816eade047b457bdb12aea8d4a2.png";var hXs=__webpack_require__.p+"images/f2c7f5130edf84de91499a5bfc79611a.png";var iXs=__webpack_require__.p+"images/cb70f2436005001a8d43e2284c6d95ed.png";var jXs=__webpack_require__.p+"images/504a73b622512562029f809c41023878.png";var kXs=__webpack_require__.p+"images/0da201d460492dc4a316071769e7cd43.png";var lXs=__webpack_require__.p+"images/5a79332e5782275e8239bbf743b1431e.png";var mXs=__webpack_require__.p+"images/e7bb2ef8561f592c76cc0d54efa9b11b.png";var nXs=__webpack_require__.p+"images/c933f33218571b8e0b4d1fe48921c16a.png";var oXs={key:"12col",title:L("xG1z4A"),gk:{light:aXs,qSg:bXs,dark:ZWs,Vog:$Ws}},pXs={key:"3col",title:L("pznYiA"),gk:{light:eXs,qSg:fXs,dark:cXs,Vog:dXs}},qXs={key:"3x3grid",title:L("+dYOyw"),gk:{light:mXs,qSg:nXs,dark:kXs,Vog:lXs}},rXs={key:"custom",title:L("EYSP3g"),gk:{light:iXs,qSg:jXs,dark:gXs,Vog:hXs}},eDs=[oXs,pXs,qXs,rXs];var dDs=fV(a=>{const b=a.options,c=a.xq,d=a.Oe,e=a.onCancel,f=a.onSubmit,g=a.yaj,h=a.Rc,k=a.Ty,l=a.oa,m=a.ki;iV(()=>{oV(()=>h());return gV(()=>m())},[h,m]);a=hV(q=>{oV(()=>k(q))},[k]);const p=hV(()=>{oV(()=>{f===null||f===void 0||f();l()})},[f,l]);return dV(R,{padding:"2u",paddingTop:d==="fill"?"0":void 0,className:CV("_1s_6uw",{O9Ff7A:d==="fixed"}),children:kV(Uc,{spacing:"1u",children:[dV(sXs,{options:b,xq:c,onClick:a}),g&&dV(g,{}),f&&dV(bj,{variant:"primary",onClick:p,children:L("6r3rJQ")}),e&&
dV(bj,{variant:"secondary",onClick:e,children:L("uZee/w")})]})})}),sXs=FV(a=>{const b=a.onClick,c=a.options,d=a.xq,e=hV(f=>()=>b(f),[b]);return dV(kr,{columns:4,Bua:"2u",children:c.map(f=>dQs(tXs,{...f,key:f.key,active:f.key===d,onClick:e(f.key)}))})}),tXs=FV(a=>{var b;const c=a.active,d=a.title,e=a.gk;a=a.onClick;var f=zV(()=>({Lx:{light:c?e.qSg:e.light,dark:c?e.Vog:e.dark}}),[c,e.dark,e.Vog,e.light,e.qSg]),g;f=(g=(b=__c.Lc(f))===null||b===void 0?void 0:b.Lx)!==null&&g!==void 0?g:e.light;return dV(Ro,
{title:dV(__c.Ko,{className:"_79_T9g",lineClamp:2,size:"small",children:d}),onClick:a,FE:"primary",selected:c,Hn:"scaleThumbnail",thumbnail:dV(hv,{src:f,alt:"Image description"}),layout:"vertical",Ym:"thumbnail"})}),bDs=()=>dV(rV,{children:L("6r3rJQ")}),cDs=FV(a=>{const b=a.onClick;a=hV(()=>oV(b),[b]);return dV(__c.A8d,{onClick:a,children:L("0icR6A")})});var uXs={eventType:"editor_grid_layout_menu_toggled",Oa(a){return sf({action:a.action,source:a.source,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},vXs={eventType:"editor_grid_layout_added",Oa(a){return sf({grid_layout_category:a.a_q,direction:a.direction,num_horizontal_guides:a.OYg,horizontal_gap_px:a.f$t,horizontal_margin_px:a.g$t,horizontal_gap:a.w5q,horizontal_margin:a.x5q,num_vertical_guides:a.bZg,vertical_gap_px:a.wVu,vertical_margin_px:a.xVu,vertical_gap:a.K5i,vertical_margin:a.O$s,units:a.units,
editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var aDs=class{constructor(a,b,c,d,e,f,g){this.document=a;this.store=b;this.ka=c;this.ikk=d;this.pHg=e;this.N=f;this.la=g;this.ffo=h=>{this.store.xq=h};this.aqj=()=>{this.document.Ix.Ar();this.pHg.aqj(this.store.jkk);this.ka.layout===1&&this.la.Ib({Cb:L("4VTm9A"),rr:{buttonText:L("GDZ7sw"),onClick:gV(this.pHg.sGo)}})};this.OEn=()=>{this.N.track(uXs,{action:"open"});this.eBo()};this.PEn=()=>{this.N.track(uXs,{action:"close"});this.eBo()};this.Uzn=()=>{this.aqj();const h=this.store.rCb.columns,k=this.store.rCb.rows;
h===0&&k===0||this.N.track(vXs,{a_q:this.store.xq==="custom"?"custom":"default",direction:h===0?"horizontal":k===0?"vertical":"mixed",OYg:k||void 0,w5q:this.store.rCb.foa||void 0,x5q:this.store.rCb.vdd||void 0,bZg:h||void 0,K5i:this.store.rCb.yDc||void 0,O$s:this.store.rCb.u_c||void 0,units:__c.Qv(__c.Pv(this.store.dimensions.units))})};this.eBo=()=>{this.ikk.enabled||this.pHg.d7e("guides_panel");this.store.nGi=!this.store.nGi};this.rts=()=>{this.store.xq="12col"}}};var $Cs=class{static G(a){O(a,{xq:yV.ref,nGi:yV.ref,dimensions:mV,$oo:mV,rCb:mV,jkk:mV,hGi:mV})}get dimensions(){const a=this.viewport.mh.page;if(a.type==="responsive")throw new __c.Vw;return a.dimensions||this.document.dimensions}get $oo(){return this.xq==="custom"&&this.ka.layout===1}get rCb(){if(this.xq==="custom")return this.acq.rCb;const a=this.dimensions.width,b=this.dimensions.units,{columns:c,rows:d}=wXs[this.xq];return{...wXs[this.xq],u_c:0,yDc:c&&XWs(a/(c*10),b),vdd:0,foa:d&&XWs(a/(d*10),
b)}}get jkk(){const a=this.rCb.columns,b=this.rCb.rows,c=this.rCb.u_c,d=this.rCb.yDc,e=this.rCb.vdd,f=this.rCb.foa,g=[];(a||c)&&g.push(...this.fsm(a,2,d,c));(b||e)&&g.push(...this.fsm(b,1,f,e));return g}get hGi(){return this.nGi?this.jkk.map(({position:a,...b})=>({...b,position:a*this.viewport.zoom.scale})):void 0}constructor(a,b,c,d){this.acq=a;this.ka=b;this.viewport=c;this.document=d;this.xq=($Cs.G(this),"12col");this.nGi=!1;this.fsm=(e,f,g=0,h=0)=>{var k=this.dimensions.height;const l=this.dimensions.width;
var m=this.dimensions.units;k=Ov(m,f===1?k:l);const p=Ov(m,g);g=Ov(m,h);m=k/2;if(h>=m)return[{position:m,direction:f,locked:!0}];const q=[];g&&(q.push({position:g,direction:f,locked:!0}),q.push({position:k-g,direction:f,locked:!0}));const r=(k-2*g-(e-1)*p)/e;let t=g;qc(1,e).forEach(()=>{t+=r;q.push({position:t,direction:f,locked:!0});p&&(t+=p,q.push({position:t,direction:f,locked:!0}))});return q}}},wXs={"12col":{columns:12,rows:0},"3col":{columns:3,rows:0},"3x3grid":{columns:3,rows:3},custom:{columns:6,
rows:0}};var xXs={eventType:"editor_guide_view_toggled",Oa(a){return sf({previous:a.previous,value:a.value,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},kDs={eventType:"editor_guide_moved",Oa(a){return sf({previous:a.previous,value:a.value,direction:a.direction,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,
editing_context:a.Ba==null?void 0:tf(a.Ba)})}},mDs={eventType:"editor_guide_deleted",Oa(a){return sf({guides_count:a.Q_q,direction:a.direction,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_horizontal_guides:a.OYg,num_vertical_guides:a.bZg,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},yXs={eventType:"editor_guide_locking_toggled",Oa(a){return sf({action:a.action,control_context:a.kb,direction:a.direction,
num_horizontal_guides:a.OYg,num_vertical_guides:a.bZg,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},zXs={eventType:"editor_guide_added",Oa(a){return sf({position:a.position,direction:a.direction,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var BXs=class{static G(a){O(a,{d7e:gV.bound,onMouseEnter:gV.bound,onMouseLeave:gV.bound,Oyl:gV.bound,onDragStart:gV.bound,pe:gV.bound,onDragEnd:gV.bound,Gw:gV.bound,Wzn:gV.bound,$zn:gV.bound,oEj:gV.bound,sGh:gV.bound})}get ya(){const a=this.viewport.mh.page;if(a.type==="responsive")throw new __c.Vw;return a}d7e(a){this.store.enabled?(this.store.iJe.clear(),this.store.enabled=!1):this.store.enabled=!0;this.N.track(xXs,{previous:this.store.enabled?"hidden":"shown",value:this.store.enabled?"shown":"hidden",
kb:a,Wp:0,Qr:0,Ey:0})}onMouseEnter(a){this.store.Jh||this.store.iJe.add(a)}onMouseLeave(a){this.store.Jh||this.store.iJe.delete(a)}Oyl(){return this.undo.startBuffering()}onDragStart(a,b,c){var d;this.onMouseEnter(b);const e=jDs(this,new xj(a.clientX,a.clientY));var f=new __c.hsg(this.Cwf(b),e);f=Bps(this.Bra,f,this.ya);a=a.metaKey||a.ctrlKey;(d=this.store.Jh)===null||d===void 0||d.close();this.store.Jh&&lDs(this,this.store.Jh.S_,this.store.Jh.Wak);c||(c=this.Oyl());this.store.Jh=new AXs(c,e,b,a,
f,g=>this.Cwf(g))}pe(a){this.store.Jh&&(this.store.Jh.to=jDs(this,new xj(a.clientX,a.clientY)))}onDragEnd(){if(this.store.Jh){var a=this.store.Jh.S_;lDs(this,a,this.store.Jh.Wak);{var b=this.Txb(this.ya);const c=this.Cwf(a);__c.bk(b,c)?b=!1:(this.document.Ix.delete(a),nDs(this,[a],"out_of_bounds"),b=!0)}this.store.Jh.close();this.store.Jh=void 0;b&&this.onMouseLeave(a);this.store.Ycg&&this.store.iJe.clear()}}Gw(a){this.store.Jh&&(this.store.Jh.Mvc=a.metaKey||a.ctrlKey)}Wzn(a){a&&this.sGh(a,1,"contextual_menu",
!1)}$zn(a){a&&this.sGh(a,2,"contextual_menu",!1)}oEj(a){const b=this.document.Ix,c=b.toArray();b.Ar();nDs(this,c,a)}sGh(a,b,c,d=!0){this.store.enabled||this.d7e(c);const {x:e,y:f}=jDs(this,a);a=b===1?f:e;const g=this.document.Ix.append({position:a,direction:b,locked:this.store.Ycg});d&&this.onMouseEnter(g);this.N.track(zXs,{position:a,direction:b===1?"horizontal":"vertical",kb:c,Wp:0,Qr:0,Ey:0});return g}aqj(a){this.document.Ix.U6(void 0,a)}Cwf(a){const b=a.position;a=a.direction===1;const c=pk(this.ya,
this.document.dimensions),{width:d,height:e}=xg(4,c||this.document.dimensions);return a?Sj(0,b,d,b):Sj(b,0,b,e)}Txb(a){const {width:b,height:c}=xg(4,a.dimensions||this.document.dimensions);return Sj(0,0,b,c)}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.undo=d;this.store=e;this.N=f;this.Ti=g;this.la=h;this.Bra=k;this.yFl=(BXs.G(this),l=>{if(this.store.Kul){this.store.iJe.clear();var m=this.document.Ix,p=this.store.Xsg.size===0;if(p)this.sGo();else{for(const q of this.store.Xsg)q.locked=
!0;this.la.Ib({Cb:L("0iK69Q")})}m=m.toArray();this.N.track(yXs,{kb:l,action:p?"unlock":"lock",...oDs(m)})}});this.sGo=()=>{for(const l of this.document.Ix)l.locked=!1;this.la.Ib({Cb:L("XzwAMA")})}}},AXs=class{close(){this.w7a.stop();this.soa.close()}set Mvc(a){this.voe!==a&&(this.voe=a,this.update())}set to(a){this.Aoe=a;this.update()}update(){this.LIo(this.Aoe);this.voe?this.soa.close():this.soa.Kw({type:"translate",kj:this.S_.direction===2,Bj:this.S_.direction===1},this.Aoe,this.Cwf(this.S_),!1,
this.LIo)}constructor(a,b,c,d,e,f){this.w7a=a;this.from=b;this.S_=c;this.voe=d;this.soa=e;this.Cwf=f;this.LIo=g=>{g=Aj(g,this.from);this.S_.position=this.Wak+(this.S_.direction===1?g.y:g.x);return this.Cwf(this.S_)};this.Aoe=b;this.Wak=c.position}};var CXs=class{static G(a){O(a,{enabled:yV.ref,qVe:mV,oIe:mV,NTd:mV,UMh:mV,EZc:mV,Pgm:mV,Epo:mV,aVi:mV,RTi:mV,$Ti:mV,Kul:mV,Ycg:mV,iJe:yV.shallow,Jh:yV.ref,Xsg:mV.struct,OFh:mV.struct,cbk:mV.struct,b_m:mV.struct})}get qVe(){switch(this.ka.layout){case 1:return"draggable";case 2:return"viewable";default:throw new v(this.ka.layout);}}get oIe(){return!this.document.Ix.empty}get NTd(){return!!this.qVe&&this.viewport.jh&&this.viewport.hU}get UMh(){return this.Ma.mode===40}get EZc(){return this.UMh&&this.qVe===
"draggable"}get Pgm(){return this.enabled&&this.NTd}get Epo(){var a,b,c;const d=((b=this.selection.La)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="pages"?this.selection.La.inner.inner:(c=this.selection.La)===null||c===void 0?void 0:c.inner;return this.enabled&&this.NTd&&(d===null||d===void 0?void 0:d.type)==="background"&&d.page.type==="fixed"&&(!d.page.dimensions||!zg(d.page.dimensions))}get aVi(){return this.oIe&&this.NTd&&this.qVe==="viewable"}get RTi(){return this.NTd&&
this.UMh}get $Ti(){return this.oIe&&this.enabled&&this.NTd&&this.UMh}get Kul(){return this.oIe&&this.enabled&&this.NTd&&this.EZc}get Ycg(){return!this.document.Ix.empty&&this.document.Ix.every(a=>a.locked)}get Xsg(){return this.EZc?new Set(this.document.Ix.filter(a=>!a.locked)):new Set}get OFh(){if(this.Jh)return new Set(this.k9.targets.length?[this.Jh.S_]:[]);const a=this.k9.targets.map(b=>b.type==="rule-x"||b.type==="rule-y"?b.S_:null).filter(ub);return new Set(a||[])}get cbk(){const a=[...this.iJe].filter(b=>
this.document.Ix.has(b));return new Set([...this.OFh,...a])}get b_m(){const {width:a,height:b,units:c}=pk(this.viewport.mh.page,this.document.dimensions),d=Ov(c,a),e=Ov(c,b);return this.document.Ix.filter(f=>{const g=f.direction===1?e:d;return f.position>=0&&f.position<=g})}constructor(a,b,c,d,e,f,g=!1){this.Ma=a;this.viewport=b;this.document=c;this.selection=d;this.k9=e;this.ka=f;this.enabled=(CXs.G(this),void 0);this.iJe=new Set;this.enabled=g}};var DXs=(a,b,c,d,e)=>{const f=gV(()=>c.yFl("shortcut"));b.register([LWs,f,L("ON7FDg"),["edit"]]);const g=()=>c.d7e("file_menu"),h=()=>c.yFl("file_menu"),k=()=>c.oEj("file_menu");a.Lu(()=>({RTi:d.RTi,IKs:d.Kul,$Ti:d.$Ti,aVi:d.aVi}),({iM:l},{RTi:m,IKs:p,$Ti:q,aVi:r})=>{l&&(l.t8i=m?e:void 0,l.Gme=p?{Button:fV(t=>dV(KWs,{...t,onClick:h,dB:d.Ycg,im:LWs}))}:void 0,l.kPd=q?{Button:t=>dV(JWs,{...t,onClick:k})}:void 0,l.fjj=r?{Button:fV(t=>dV(MWs,{...t,onClick:g,dB:d.enabled}))}:void 0)},{equals:lV.structural})},
EXs=(a,b,c)=>{const d=b.Wzn,e=b.$zn,f=()=>b.yFl("contextual_menu"),g=()=>b.oEj("contextual_menu");a.kc(()=>({kKs:c.Epo,oIe:c.oIe}),(h,{kKs:k,oIe:l})=>{k?(h.P3b={Button:m=>dV(DWs,{...m})},h.oxh={Button:m=>dV(FWs,{...m,onClick:d})},h.txh={Button:m=>dV(GWs,{...m,onClick:e})},h.kPd=l?{Button:m=>dV(HWs,{...m,onClick:g})}:void 0,h.Gme=l?{Button:fV(m=>dV(IWs,{...m,onClick:f,locked:c.Ycg}))}:void 0):(h.P3b=void 0,h.oxh=void 0,h.txh=void 0,h.kPd=void 0)})},FXs=(a,b,c)=>{a.R_q=mV(()=>c.NTd?b.Ix.map(d=>d.direction===
1?{type:"rule-y",y:d.position,S_:d}:{type:"rule-x",x:d.position,S_:d}):[])};var qDs=class{static G(a){O(a,{F0a:mV,jwi:gV.bound})}get F0a(){var a,b=this.wI.focused,c=this.wI.selected,d=b.hw!=null?b:c;c=d.hw;var e=d.NHa;const f=d.oj;d=b.Yba;var g=b.xuf;const h=b.tra;g=h!==null&&h!==void 0?h:g;e=e&&((a=this.fd.GEa(e))===null||a===void 0?void 0:a.width);if(this.Ma.mode<40||!c||e==null||!f)return{};a=sA(f);var k;e=(k=a===null||a===void 0?void 0:a.cLc)!==null&&k!==void 0?k:!1;k=(b=b.hw===c)&&a&&d.length>0;c={};c["add-column"]=k&&e&&!!a&&a.yqg<4;c["change-cell-padding"]=b;c["change-column-gap"]=
e;c["change-row-gap"]=!e;c["move-column-before"]=k&&e&&g!=null&&g>0;c["move-column-after"]=k&&e&&g!=null&&!!a&&g<a.yqg-1;return c}jwi(){var a=this.wI.focused;const b=a.oj;var c=a.xuf;a=a.tra;c=a!==null&&a!==void 0?a:c;b&&c!=null&&this.Xwa.Yfb(b,this.Kn,c+1,c)}hbc(a){const b=this.wI.focused.oj;var c=this.wI.focused.xuf;const d=this.wI.focused.tra;c=d!==null&&d!==void 0?d:c;b!=null&&c!=null&&this.Xwa.hbc(b,c,c+a)}get $jn(){var a=this.wI.focused.hw;const b=this.wI.selected.hw;a=a!==null&&a!==void 0?
a:b;var c;return(c=a===null||a===void 0?void 0:a.direction)!==null&&c!==void 0?c:1}constructor(a,b,c,d,e,f){this.wI=a;this.Xwa=b;this.fd=c;this.Xa=d;this.Ma=e;this.Kn=f;this.aCn=(qDs.G(this),gV(()=>this.hbc(1)));this.bCn=gV(()=>this.hbc(-1))}},rDs=class{static G(a){O(a,{F0a:mV,MRk:gV.bound,jwi:gV.bound})}get F0a(){var a=this.wI.selected.spb;const b=this.wI.selected.bkl,c=this.wI.selected.o0e,d=this.wI.selected.tzd,e=this.wI.selected.Oyd,f={};if(!a||!b||c==null)return f;a=xk.$P(a);f["add-column"]=
e&&c!=null;f["add-row"]=d&&c!=null;f["move-column-before"]=e&&c!=null&&c>0;f["move-column-after"]=e&&c!=null&&c<a.grid.gridTemplateColumns.length-1;f["move-row-up"]=d&&c!=null&&c>0;f["move-row-down"]=d&&c!=null&&c<a.grid.gridTemplateRows.length-1;return f}MRk(){const a=this.wI.selected.qYa,b=this.wI.selected.o0e;a!=null&&b!=null&&this.ozb.addRow(a,b+1,b)}jwi(){const a=this.wI.selected.qYa,b=this.wI.selected.o0e;a!=null&&b!=null&&this.ozb.addColumn(a,b+1,b)}hbc(a){const b=this.wI.selected.spb,c=this.wI.selected.o0e;
b!=null&&c!=null&&this.ozb.hbc(b,c,c+a)}ZHf(a){const b=this.wI.selected.spb,c=this.wI.selected.o0e;b!=null&&c!=null&&this.ozb.ZHf(b,c,c+a)}get $jn(){const a=this.wI.selected.spb;var b;return(b=a===null||a===void 0?void 0:a.direction)!==null&&b!==void 0?b:1}constructor(a,b){this.wI=a;this.ozb=b;this.aCn=(rDs.G(this),gV(()=>this.hbc(1)));this.bCn=gV(()=>this.hbc(-1));this.cCn=gV(()=>this.ZHf(1));this.dCn=gV(()=>this.ZHf(-1))}};var GXs,HXs,IXs,JXs;
new (GXs=class extends JV{constructor(){super(JXs);HXs()}},(()=>{class a extends(IXs=HV){static G(b){O(b,{hyc:yV.ref})}componentDidMount(){if(this.EUc.current!=null&&typeof IntersectionObserver!=="undefined"&&Wb()){var b=new IntersectionObserver(c=>{this.hyc&&c.forEach(d=>{const e=this.controls.get(d.target);if(e!=null){var f=e.index;d.isIntersecting?(e.bIe=!0,this.props.Nsc(f)):e.bIe&&this.props.tZb(f)}})},{root:this.EUc.current});this.controls.forEach((c,d)=>b.observe(d));this.QMg=b;document.addEventListener("mousemove",
this.onMouseMove,{passive:!0});Kb(this,eV(()=>this.hyc,this.l4i))}}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove)}render(){const b=this.props.children;return dV("div",{ref:this.EUc,className:"MXQnbw",children:dV("div",{ref:this.U7e,className:"v3K2TQ",children:b(this.UKj)})})}constructor(...b){super(...b);this.hyc=(JXs.G(this),void 0);this.controls=new Map;this.EUc=IV();this.U7e=IV();this.onMouseMove=c=>{requestAnimationFrame(gV(()=>{this.hyc=new xj(c.clientX,c.clientY)}))};
this.l4i=()=>{var c=this.hyc;c&&this.hyc&&this.EUc.current&&(c=this.props.MEj(c),this.EUc.current.style.transform=`translate(${c.x}px, ${c.y}px)`,this.U7e.current&&(this.U7e.current.style.transform=`translate(${-c.x}px, ${-c.y}px)`))};this.UKj=LV(c=>{let d;return e=>{var f;if(e==null){if(d!=null){var g;(g=this.QMg)===null||g===void 0||g.unobserve(d);e=this.controls.get(d);e!=null&&e.bIe&&this.props.tZb(e.index);this.controls.delete(d)}}else d=e,(f=this.QMg)===null||f===void 0||f.observe(d),this.controls.set(d,
{index:c,bIe:!1})}})}}({c:[JXs,HXs]}=KV(a,[],[Ob],IXs))})(),GXs);var vDs=fV(a=>{const b=a.Aca,c=a.oj,d=a.eb,e=a.gridTemplateColumns,f=a.direction,g=a.QFh,h=a.Yfb,k=c.padding;return dV(JXs,{Nsc:a.Tui,tZb:a.Swi,MEj:a.MEj,children:l=>dV("div",{style:{...b,...k},className:"A_NQjw",children:kV("div",{className:CV("w3zvMw",{KOhH2w:f!==2,poDbpw:f===2}),style:{width:d,gridTemplateColumns:e.join(" "),columnGap:c.columnGap,height:b.height-k.paddingTop-k.paddingBottom},children:[dV(KXs,{j3d:l(-1),UD:g===-1,Yfb:h,dHb:-1,columnGap:c.columnGap}),e.map((m,p)=>dV("div",{className:"_6p8piw",
children:dV(KXs,{j3d:l(p),UD:g===p,Yfb:h,dHb:p,columnGap:c.columnGap})},`add-control-${p}`))]})})})}),KXs=class extends HV{render(){const a=this.props.dHb,b=this.props.j3d,c=this.props.columnGap;return dV("div",{className:"kMUyMg",style:{width:c,insetInlineStart:a===-1?-c:void 0,insetInlineEnd:a!==-1?-c:0},children:dV("div",{className:CV("i8mzIQ",{_6dAisg:this.props.UD}),ref:b,children:dV("div",{className:"yAMchA",children:dV(sr,{variant:"tertiary",className:"xk7iWw",icon:Qu,Nc:"small",size:"tiny",
onClick:this.handleClick,hb:L("gQ2wmg")})})})})}constructor(...a){super(...a);this.handleClick=gV(()=>this.props.Yfb(this.props.dHb+1,this.props.dHb>=0?this.props.dHb:0))}};var uDs=class{static G(a){O(a,{Tui:gV.bound,Swi:gV.bound,QFh:mV})}Tui(a){this.mGh.activeIndex=a}Swi(a){this.mGh.activeIndex===a&&(this.mGh.activeIndex=void 0)}get QFh(){return this.mGh.activeIndex}constructor(a){this.mGh=a;uDs.G(this)}};var tDs=class{static G(a){O(a,{activeIndex:yV.ref,RFh:mV,Ioe:mV,Zjn:mV,h4l:mV,Y5c:mV})}get RFh(){const a=this.wI.selected,b=this.wI.focused;return b.hw?b.hw:a.hw}get Ioe(){const a=this.wI.selected;var b;return(b=this.wI.focused.oj)!==null&&b!==void 0?b:a.oj}get Zjn(){var a;const b=this.RFh;if(b)return(a=this.fd.vE(b))===null||a===void 0?void 0:a.Mb()}get h4l(){var a=this.Ioe;if(a)return a=sA(a),(a===null||a===void 0?0:a.cLc)?a.ypa:void 0}get eb(){var a;return(a=this.Ioe)===null||a===void 0?void 0:
a.eb}get Y5c(){const a=this.Ioe;if(!a)return!0;var b;const c=(b=sA(a))!==null&&b!==void 0?b:{};return this.RFh&&a.$P.grid.gridTemplateColumns.length>=4||!c||this.JNe.uSa||this.P$k.EXb||this.T$b()}constructor(a,b,c,d,e){this.wI=a;this.fd=b;this.JNe=c;this.P$k=d;this.T$b=e;this.activeIndex=(tDs.G(this),void 0)}};var xDs=fV(a=>dV("div",{className:"_aoqnA",children:dV(a.nqp,{})})),zDs=fV(a=>{const b=a.wI,c=b.focused,d=b.selected,e=a.fd,f=a.Thj,g=a.Shj,h=a.Ahj,k=a.Qmr,l=a.xyk,m=a.EXb;a=a.nQo;return kV("div",{className:"_aoqnA",children:[dV(LXs,{UD:b.UD,fd:e,focused:c,selected:d}),dV(MXs,{selected:d,fd:e,Thj:f,yyk:k}),dV(NXs,{focused:c,fd:e,Shj:g,xyk:l,EXb:m,Ahj:h}),dV(a,{})]})}),yDs=fV(a=>{const b=a.Pc;var c=a.context;a=a.Zmp;c=Vj(c.layout).transform(__c.vk(c.container));return dV("div",{style:{...c.scale(b.scale).Mb(),
transform:`rotate(${c.rotation}deg)`},className:"RG4NVA",children:dV(a,{$c:b.scale})})}),MXs=fV(({selected:{hw:a,oj:b},fd:c,Thj:d,yyk:e})=>{const f=hV(()=>!1,[]),g=a&&c.vE(a);return a&&g&&b?kV("div",{style:g.Mb(),className:CV("fRULfA","gg402Q"),children:[dV(OXs,{fd:c,hw:a,isFocused:f}),dV(d,{}),dV(PXs,{hw:a,oj:b,yyk:e})]}):null}),NXs=fV(({focused:a,fd:b,Shj:c,xyk:d,EXb:e,Ahj:f})=>{const g=hV(l=>{var m;return((m=a.QZc)===null||m===void 0?void 0:m.rb)===l},[a]),h=a.hw,k=h&&b.vE(h);return k&&h?kV("div",
{style:k.Mb(),className:CV("fRULfA","MxqZyA",{i2kpZg:d.get(),co5Mjw:e.get()}),children:[dV("div",{className:"_8XBw7Q"}),dV(QXs,{focused:a}),dV(OXs,{fd:b,hw:h,isFocused:g}),dV(c,{}),dV(f,{})]}):null}),QXs=fV(a=>{var b=a.focused,c=b.hw;a=b.oj;b=b.tra;if(!c||!a||b==null)return null;c=c.direction;return kV("div",{className:"RBG0bg",style:a.padding,children:[dV("div",{className:"_8XBw7Q"}),dV("div",{className:CV("_5brsHQ",{KzPd0w:c!==2,CLZE_w:c===2}),style:{width:a.eb,gridTemplateColumns:a.$P.grid.gridTemplateColumns.join(" "),
columnGap:a.columnGap},children:dV("div",{className:"b0uIuw",style:{gridColumnStart:b+1,gridColumnEnd:b+2},children:dV("div",{className:"CVVcPQ"})})})]})}),LXs=fV(a=>{const b=a.UD,c=a.fd,d=a.selected;a=a.focused;const e=b.hw,f=b.QZc,g=hV(()=>!1,[]),h=hV(l=>{var m;return((m=b.QZc)===null||m===void 0?void 0:m.rb)===l},[b]),k=e&&c.vE(e);return k?kV("div",{style:k.Mb(),className:CV("fRULfA","_9RoMsw",{ICcROg:!(f===null||f===void 0||!f.rb),TEomtQ:a.hw!=null&&a.Yba.length===0,_4i1_pQ:d.hw!=null}),children:[dV("div",
{className:"_8XBw7Q"}),dV(OXs,{fd:c,hw:e,rv:h,isFocused:g})]}):null}),OXs=fV(({hw:a,fd:b,rv:c,isFocused:d})=>dV(rV,{children:[...a.cells.entries()].map(([e,f])=>{const g=mV(()=>b.CEg(a,f),{equals:__c.tk(Xj)});var h;return dV(RXs,{cOh:g,rv:(h=c===null||c===void 0?void 0:c(f))!==null&&h!==void 0?h:!1,isFocused:d(f)},e)})})),RXs=fV(({cOh:a,rv:b,isFocused:c})=>(a=a.get())?dV("div",{className:CV("lV3NGg",{_9RoMsw:b,_8LSeEQ:c}),style:a.Mb(),children:dV("div",{className:"JGja2g"})}):null),PXs=fV(({hw:a,
yyk:b,oj:c})=>{if(!b.get())return null;b=c.padding;return kV(rV,{children:[b.paddingTop>=24&&dV(SXs,{value:a.padding.rd,height:b.paddingTop,top:0}),b.paddingBottom>=24&&dV(SXs,{value:a.padding.Ge,height:b.paddingBottom,bottom:0})]})}),SXs=FV(({value:a,height:b,bottom:c,top:d})=>dV("div",{className:"OA3nYw",style:{height:b,bottom:c,top:d},children:dV("div",{className:"HnFUtw",children:dV(P,{size:"xsmall",tone:mr,children:J("TFO24A",[Math.round(a)])})})}));var TXs=class{static G(a){O(a,{qYa:mV,spb:mV,bkl:mV,o0e:mV,tzd:mV,Oyd:mV,HEf:mV,OYn:mV})}get qYa(){const a=this.selection.La;if(a!==null&&a!==void 0&&a.Ji()){if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout")return a.inner.container;if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout-cell")return a.inner.container.container}}get spb(){var a;return(a=this.qYa)===null||a===void 0?void 0:a.layout}get bkl(){const a=this.selection.La;if(a!==null&&a!==void 0&&a.Ji()){if((a===null||a===
void 0?0:a.inner)&&a.inner.type==="layout")return a.inner.cells[0];if((a===null||a===void 0?0:a.inner)&&a.inner.type==="layout-cell")return a.inner.container.rb}}get o0e(){var a=this.spb,b=this.bkl;if(a&&b&&(b=(new Map(a.cells.map((e,f)=>[e,f]))).get(b))){a=xk.$P(a).grid.Wv.get(b);var c,d;if(this.tzd)return parseInt((c=a===null||a===void 0?void 0:a.gridRowStart)!==null&&c!==void 0?c:"-1",10)-1;if(this.Oyd)return parseInt((d=a===null||a===void 0?void 0:a.gridColumnStart)!==null&&d!==void 0?d:"-1",
10)-1}}get tzd(){const a=this.spb;return a?xk.$P(a).grid.gridTemplateColumns.length===1:!1}get Oyd(){const a=this.spb;return a?xk.$P(a).grid.gridTemplateRows.length===1:!1}get HEf(){if(this.tzd&&!this.Oyd)return"row";if(this.Oyd&&!this.tzd)return"column"}get OYn(){return this.HEf==="row"||this.HEf==="column"?this.qYa:void 0}constructor(a){this.selection=a;TXs.G(this)}},UXs=class{constructor(a){this.selection=a;this.selected=new TXs(this.selection)}};var VXs=class{static G(a){O(a,{hw:mV,NHa:mV,oj:mV,QZc:mV,Yba:mV,xuf:mV})}get w6h(){const a=this.selection.Jb;if(((a===null||a===void 0?void 0:a.type)===0||(a===null||a===void 0?void 0:a.type)===1)&&a.container.type==="layout-item-cell")return a.container}get ekl(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===3?a.container:void 0}get hw(){var a;const b=(a=this.w6h)!==null&&a!==void 0?a:this.ekl;return b===null||b===void 0?void 0:b.layout}get NHa(){var a;const b=this.w6h,c=
this.ekl;var d;return(a=(d=b===null||b===void 0?void 0:b.container)!==null&&d!==void 0?d:c)===null||a===void 0?void 0:a.container.text}get oj(){return this.Ynd(this.hw,this.NHa)}get QZc(){const a=this.w6h;return a?{rb:a.rb,id:a.WF}:void 0}get Yba(){const a=this.selection.Jb;return(a===null||a===void 0?void 0:a.type)===3?[...a.map(b=>b)]:[]}get xuf(){const a=this.oj,b=this.w6h;if(b&&a){var [c,d]=a.qim({rb:b.rb,id:b.WF});return c!=null&&d===c+1?c-1:void 0}}get tra(){var a;const b=this.selection.Jb,
c=this.oj,d=(a=this.ekl)===null||a===void 0?void 0:a.layout;if((b===null||b===void 0?void 0:b.type)===3&&d&&c){var e=c.$P,f=new Map(d.cells.map((g,h)=>[g,h]));a=b.map(g=>{g=n(f.get(g));const {gridColumnStart:h,gridColumnEnd:k}=n(e.grid.Wv.get(g));if(h==null||k==null)return[];const l=parseInt(h,10);return Array.from({length:parseInt(k,10)-l},(m,p)=>l-1+p)});a=new Set(a.flat(1));return a.size===1?[...a][0]:void 0}}constructor(a,b){this.selection=a;this.Ynd=b;VXs.G(this)}},WXs=class{static G(a){O(a,
{qyb:yV.ref,hw:mV,NHa:mV,oj:mV,QZc:mV})}get hw(){var a;return(a=this.qyb)===null||a===void 0?void 0:a.hw}get NHa(){var a;return(a=this.qyb)===null||a===void 0?void 0:a.NHa}get oj(){return this.Ynd(this.hw,this.NHa)}get QZc(){var a;return(a=this.qyb)===null||a===void 0?void 0:a.QZc}constructor(a){this.Ynd=a;this.qyb=(WXs.G(this),void 0)}},XXs=class{static G(a){O(a,{hw:mV,container:mV,oj:mV})}get hw(){var a;const b=this.selection.Jb;if((b===null||b===void 0?void 0:b.type)===1&&((a=b.only)===null||a===
void 0?void 0:a.type)==="layout")return b.only}get NHa(){var a;return(a=this.container)===null||a===void 0?void 0:a.text}get container(){var a;const b=this.selection.Jb;if((b===null||b===void 0?void 0:b.type)===1&&((a=b.only)===null||a===void 0?void 0:a.type)==="layout")return b.container}get oj(){return this.Ynd(this.hw,this.NHa)}constructor(a,b){this.selection=a;this.Ynd=b;XXs.G(this)}},YXs=class{constructor(a,b,c){this.selection=a;this.fd=b;this.njd=c;this.Ynd=(d,e)=>{var f=this.fd;const g=this.njd;
f=e!=null?f.GEa(e):void 0;if(e!=null&&d!=null&&f!=null)return new __c.ZIb(d,f,g)};this.focused=new VXs(this.selection,this.Ynd);this.UD=new WXs(this.Ynd);this.selected=new XXs(this.selection,this.Ynd)}};var ZXs=5*Wc,$Xs=class{static G(a){O(a,{Vlg:mV,ON:mV})}get Vlg(){const a=this.wI.focused.hw,b=a&&this.fd.vE(a);return b?[Vj({top:b.tl.y+a.padding.rd-ZXs,left:b.tl.x,width:b.width,height:ZXs})]:[]}get ON(){return this.viewport.wP||Jj()}constructor(a,b,c){this.wI=a;this.fd=b;this.viewport=c;$Xs.G(this)}};var aYs=class{constructor(a,b){this.fd=a;this.njd=b;this.yek=c=>{const d=__c.pXd(c.layout)[0];c=c.layout.cells.get(d);return[d,c]};this.b9h=(c,d)=>{for(const [e,f]of d.cells.entries())if(f===c)return e};this.p$h=(c,d,e)=>{var f=d.layout,g=__c.pXd(d.layout);c=g.indexOf(c);if(c==null)return[void 0,void 0];const h=d.layout.direction===1;d=d.layout.direction===2;e=e==="next"||e==="down"||h&&e==="right"||d&&e==="left"?c+1:c-1;return(f=(g=e>=0?g[e]:void 0)?f.cells.get(g):void 0)&&g?[f,g]:[void 0,void 0]}}};var IDs=FV(({orientation:a,height:b,width:c,onClick:d,padding:e,eb:f,c_q:g,gap:h,ihi:k,h$b:l,onDragStart:m,pe:p,onDragEnd:q,QXd:r,Fwb:t,direction:u,$c:w=1})=>{const x=a==="column"?u===1?h/2:-h/2:0,y=-1*x,z=a==="row"?h/2:0,A=-1*z;return dV("div",{className:CV("LXcOeQ",{smp5Fg:a==="column",DuBvGw:a==="row"}),style:{width:c,height:b,padding:`${e.paddingTop}px ${e.paddingRight}px ${e.paddingBottom}px ${e.paddingLeft}px`},children:kV("div",{style:{width:f,gridTemplateColumns:a==="column"?g.join(" "):"none",
gridTemplateRows:a==="row"?g.join(" "):"none",columnGap:a==="column"?h:"none",rowGap:a==="row"?h:"none"},className:CV("D5zYZQ",{gHnwHQ:u!==2,ON6A0w:u===2}),children:[g.map((B,D)=>dV(bYs,{orientation:a,sHl:D,X_:D===k,onClick:d,onDragStart:m,pe:p,onDragEnd:q,Fwb:t,$c:w},D)),r&&dV("div",{className:"MApa6w",style:r.Mb(),children:dV("div",{className:"LUDnXA"})}),l&&k!=null&&dV("div",{className:CV({SpPSQQ:a==="column",kJYp5A:a==="row",wpCz2A:l.index<k,XRPiCQ:l.index>k}),style:{...l.bounds.translate(l.index<
k?y:x,l.index<k?A:z).Mb()}})]})})}),bYs=class extends fQs{componentWillUnmount(){var a;(a=this.K5a)===null||a===void 0||a.call(this)}render(){const a=this.props.orientation,b=this.props.sHl,c=this.props.X_,d=this.props.Fwb;return dV("div",{className:CV("Y7ISsw",{VQ2gPA:a==="column",G9GP3A:a==="row",P_zEuA:c}),style:{gridColumnStart:a==="column"?b+1:"auto",gridColumnEnd:a==="column"?b+2:"auto",gridRowStart:a==="row"?b+1:"auto",gridRowEnd:a==="row"?b+2:"auto"},children:dV("div",{className:CV("S7hrgg",
{tMmKeg:a==="column",_4bvhgg:a==="row"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,style:{left:c&&a==="column"?d:void 0,top:c&&a==="row"?d:void 0},children:dV(bj,{variant:"tertiary",className:"ALM0Rw",icon:__c.Isg,Nc:"small",size:"small",ariaLabel:a==="column"?L("JuaJHw"):L("iz71mA"),onClick:this.onClick})})})}constructor(...a){super(...a);this.draggable=new dr({onDragStart:gV((b,c)=>{this.props.onDragStart(this.props.sHl,new xj(b.clientX,b.clientY),this.props.$c);
this.K5a=c}),pe:gV(b=>this.props.pe(new xj(b.clientX,b.clientY))),onDragEnd:()=>{requestAnimationFrame(gV(()=>{this.K5a=void 0;this.props.onDragEnd()}))},SHa:mV(()=>"W74d3A")});this.onClick=gV(()=>this.props.onClick(this.props.sHl))}};var cYs=class{static G(a){O(a,{x8a:yV.ref,Fwb:mV,nA:mV,oBc:mV,h$b:mV,QXd:mV})}set hy(a){this.x8a=BDs(this.viewport.Ol(this.viewport.mh).transform(a.x,a.y),this.wVe,this.nA.rotation)}get Fwb(){return this.dragStart!=null&&this.x8a!=null?this.x8a.x-this.dragStart.x:void 0}get nA(){return Vj(this.qYa.layout).transform(__c.vk(this.qYa.container))}get oBc(){const a=this.qYa,b=this.Wmc,c=this.wVe,d=[...xk.ECj(a.layout).values()].sort((f,g)=>f.Sb.x-g.Sb.x),e=xk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,
-e.paddingBlockStart).scale(b*c))}get h$b(){var a=this.x8a,b=this.qYa;const c=this.wVe,d=this.oBc;if(this.Fwb!=null&&d&&a!=null){var e=BDs(this.nA.Sb,c,this.nA.rotation);b=xk.padding(b.layout);var f=a.x-e.x-b.paddingInlineStart*c;a=d.findIndex(g=>g.Sb.x<=f&&f<g.r.x);return a!==-1?{index:a,bounds:d[a]}:void 0}}get QXd(){var a;const b=n(this.dHb),c=(a=this.oBc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate((d=this.Fwb)!==null&&d!==void 0?d:0,0):void 0}}close(){var a;const b=(a=this.h$b)===
null||a===void 0?void 0:a.index;b!=null&&this.ozb.hbc(this.qYa.layout,this.dHb,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.ozb=b;this.qYa=c;this.dHb=d;this.Wmc=e;this.wVe=f;this.onClose=h;this.dragStart=(cYs.G(this),void 0);this.dragStart=BDs(a.Ol(a.mh).transform(g.x,g.y),f,this.nA.rotation)}},dYs=class{static G(a){O(a,{x8a:yV.ref,Fwb:mV,nA:mV,oBc:mV,h$b:mV,QXd:mV})}set hy(a){this.x8a=BDs(this.viewport.Ol(this.viewport.mh).transform(a.x,a.y),this.wVe,this.nA.rotation)}get Fwb(){return this.dragStart!=
null&&this.x8a!=null?this.x8a.y-this.dragStart.y:void 0}get nA(){return Vj(this.qYa.layout).transform(__c.vk(this.qYa.container))}get oBc(){const a=this.qYa,b=this.Wmc,c=this.wVe,d=[...xk.ECj(a.layout).values()].sort((f,g)=>f.t.y-g.t.y),e=xk.padding(a.layout);return d.map(f=>f.translate(-e.paddingInlineStart,-e.paddingBlockStart).scale(b*c))}get h$b(){var a=this.x8a,b=this.qYa;const c=this.wVe,d=this.oBc;if(this.Fwb!=null&&d&&a!=null){var e=BDs(this.nA.t,c,this.nA.rotation);b=xk.padding(b.layout);
var f=a.y-e.y-b.paddingBlockStart*c;a=d.findIndex(g=>g.t.y<=f&&f<g.b.y);return a!==-1?{index:a,bounds:d[a]}:void 0}}get QXd(){var a;const b=n(this.rowIndex),c=(a=this.oBc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate(0,(d=this.Fwb)!==null&&d!==void 0?d:0):void 0}}close(){var a;const b=(a=this.h$b)===null||a===void 0?void 0:a.index;b!=null&&this.ozb.ZHf(this.qYa.layout,this.rowIndex,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){this.viewport=a;this.ozb=b;this.qYa=c;this.rowIndex=
d;this.Wmc=e;this.wVe=f;this.onClose=h;this.dragStart=(dYs.G(this),void 0);this.dragStart=BDs(a.Ol(a.mh).transform(g.x,g.y),f,this.nA.rotation)}},eYs=class{static G(a){O(a,{x8a:yV.ref,Fwb:mV,oBc:mV,h$b:mV,QXd:mV})}set hy(a){var b;this.x8a=(b=this.viewport.wP)===null||b===void 0?void 0:b.transform(a.x,a.y)}get Fwb(){return this.dragStart!=null&&this.x8a!=null?this.x8a.x-this.dragStart.x:void 0}get oBc(){var a=this.hw;const b=this.oj,c=a&&this.fd.vE(a);if(c){a=b.padding;var d=a.paddingTop,e=a.paddingBottom;
return b.Vcg.map(f=>Sj(f.left,0,f.left+f.width,c.height-d-e))}}get h$b(){var a=this.fd,b=this.x8a,c=this.Fwb;const d=this.hw,e=this.oBc,f=this.oj;a=d&&a.vE(d);b=b===null||b===void 0?void 0:b.x;if(c!=null&&e&&b!=null&&a){var g=b-a.Sb.x-(a.width-f.eb)/2;c=e.findIndex(h=>h.Sb.x<=g&&g<h.r.x);return c!==-1?{index:c,bounds:e[c]}:void 0}}get QXd(){var a;const b=n(this.dHb),c=(a=this.oBc)===null||a===void 0?void 0:a[b];if(c){var d;return c?c.translate((d=this.Fwb)!==null&&d!==void 0?d:0,0):void 0}}close(){var a;
const b=(a=this.h$b)===null||a===void 0?void 0:a.index;b!=null&&this.Xwa.hbc(this.oj,this.dHb,b);this.onClose()}constructor(a,b,c,d,e,f,g,h){var k;this.viewport=a;this.fd=b;this.Xwa=c;this.hw=d;this.dHb=e;this.onClose=g;this.oj=h;this.dragStart=(eYs.G(this),void 0);this.dragStart=(k=a.wP)===null||k===void 0?void 0:k.transform(f.x,f.y)}},GDs=class{constructor(a,b,c,d){this.store=a;this.ozb=b;this.ih=c;this.viewport=d;this.onClick=()=>{};this.onDragStart=(e,f,g)=>{const h=this.store.qYa;if(h&&xk.$P(h.layout)){var k=
this.store.Wmc;Zk(this.ih,l=>{var m;(m=this.store.a6a)===null||m===void 0||m.close();this.store.Oyd&&(m=new cYs(this.viewport,this.ozb,h,e,k,g,f,()=>{l()}),this.store.a6a=m);this.store.tzd&&(m=new dYs(this.viewport,this.ozb,h,e,k,g,f,()=>{l()}),this.store.a6a=m)})}};this.pe=e=>{this.store.a6a&&(this.store.a6a.hy=e)};this.onDragEnd=()=>{if(this.store.a6a){var e;(e=this.store.a6a)===null||e===void 0||e.close();this.store.a6a=void 0}}}},DDs=class{a0e(a){const b=this.store.hw,c=this.store.NHa;var d=this.store.$P;
b&&c&&d&&(d=[...d.grid.Wv.entries()].map(([e,f])=>{var g=f.gridColumnStart;f=f.gridColumnEnd;g&&f?(f=parseInt(f,10)-1,g=parseInt(g,10)-1<=a&&f>a):g=!1;return g?e:void 0}).filter(ub).map(e=>b.cells.get(e)).filter(ub),this.Xa.rOi(c,b,d))}constructor(a,b,c,d,e){this.store=a;this.Xwa=b;this.Xa=c;this.ih=d;this.viewport=e;this.onClick=f=>{this.a0e(f)};this.onDragStart=(f,g)=>{const h=this.store.hw,k=this.store.$P,l=this.store.oj;h&&k&&l&&Zk(this.ih,m=>{var p;this.a0e(f);(p=this.store.a6a)===null||p===
void 0||p.close();const q=new eYs(this.viewport,this.store.fd,this.Xwa,h,f,g,()=>{q.h$b&&this.a0e(q.h$b.index);m()},l);this.store.a6a=q})};this.pe=f=>{this.store.a6a&&(this.store.a6a.hy=f)};this.onDragEnd=()=>{var f;(f=this.store.a6a)===null||f===void 0||f.close();this.store.a6a=void 0}}};var FDs=class{static G(a){O(a,{a6a:yV.ref})}get EXb(){return this.a6a!=null}get tzd(){return this.wI.selected.tzd}get Oyd(){return this.wI.selected.Oyd}get orientation(){if(this.tzd)return"row";if(this.Oyd)return"column"}get qYa(){return this.wI.selected.qYa}get spb(){return this.wI.selected.spb}get direction(){const a=this.spb;return a&&a.direction}get tyj(){var a=this.qYa;if(a){var b=a.layout;a=Vj({...b,width:b.eb,height:b.Ub}).transform(__c.vk(a));return{ZSd:a.width,Chf:a.height}}}get Wmc(){const a=
this.spb,b=this.tyj;return a==null||b==null?1:b.ZSd/a.eb}get gap(){var a=this.spb;const b=this.Wmc,c=this.orientation;if(a&&c)return a=c==="row"?xk.rowGap(a):xk.columnGap(a),b*a}get ihi(){return this.wI.selected.o0e}get YCo(){const a=this.spb,b=this.Wmc,c=this.orientation;if(a&&c)return(c==="row"?xk.Ui(a):xk.$lb(a)).map(d=>d*b)}get eb(){const a=this.spb;return a&&a.width-this.padding.paddingRight-this.padding.paddingLeft}get padding(){var a=this.spb;a=a&&xk.padding(a);var b,c,d,e;return{paddingTop:(b=
a===null||a===void 0?void 0:a.paddingBlockStart)!==null&&b!==void 0?b:0,paddingRight:(c=a===null||a===void 0?void 0:a.paddingInlineEnd)!==null&&c!==void 0?c:0,paddingBottom:(d=a===null||a===void 0?void 0:a.paddingBlockEnd)!==null&&d!==void 0?d:0,paddingLeft:(e=a===null||a===void 0?void 0:a.paddingInlineStart)!==null&&e!==void 0?e:0}}get Sed(){return!this.spb||this.T$b()}constructor(a,b){this.wI=a;this.T$b=b;this.a6a=(FDs.G(this),void 0)}},CDs=class{static G(a){O(a,{a6a:yV.ref,EXb:mV})}get EXb(){return this.a6a!=
null}get orientation(){return this.hw?"column":void 0}get hw(){return this.wI.focused.hw}get direction(){const a=this.hw;return a===null||a===void 0?void 0:a.direction}get NHa(){return this.wI.focused.NHa}get oj(){return this.wI.focused.oj}get tyj(){var a=this.hw;return(a=a&&this.fd.vE(a))&&{ZSd:a.width,Chf:a.height}}get gap(){const a=this.oj;return a===null||a===void 0?void 0:a.columnGap}get ihi(){var a=this.wI.focused;const b=a.xuf;a=a.tra;return b!==null&&b!==void 0?b:a}get ypa(){var a;return this.oj!=
null?(a=sA(this.oj))===null||a===void 0?void 0:a.ypa:void 0}get $P(){var a;return(a=this.oj)===null||a===void 0?void 0:a.$P}get YCo(){var a;return(a=this.oj)===null||a===void 0?void 0:a.tQh}get eb(){var a;return(a=this.oj)===null||a===void 0?void 0:a.eb}get padding(){var a,b,c,d;return{paddingTop:(c=(a=this.oj)===null||a===void 0?void 0:a.padding.paddingTop)!==null&&c!==void 0?c:0,paddingRight:0,paddingBottom:(d=(b=this.oj)===null||b===void 0?void 0:b.padding.paddingBottom)!==null&&d!==void 0?d:0,
paddingLeft:0}}get Sed(){var a;const b=this.oj;return!this.hw||!b||!((a=sA(b))===null||a===void 0?0:a.cLc)||this.JNe.uSa||this.T$b()}constructor(a,b,c,d){this.wI=a;this.JNe=b;this.fd=c;this.T$b=d;this.a6a=(CDs.G(this),void 0)}};var fYs=class{set hy(a){this.strategy.apply(a)}close(){var a,b;this.w7a.stop();(a=(b=this.strategy).close)===null||a===void 0||a.call(b);this.onClose()}constructor(a,b,c){this.strategy=a;this.w7a=b;this.onClose=c}},gYs=class{static G(a){O(a,{Jh:yV.ref,zlc:yV.ref,bQg:yV.ref,aQg:yV.ref,vki:yV.ref,uSa:mV,dgn:mV})}get selected(){const a=this.wI.selected,b=a.hw;return{hw:b,oj:a.oj,container:a.container,NHa:a.NHa,M5d:b&&this.fd.vE(b)}}get focused(){var a=this.wI.focused;const b=a.hw,c=a.oj,d=a.NHa,e=a.xuf;
a=a.tra;return{hw:b,M5d:b&&this.fd.vE(b),oBf:e!==null&&e!==void 0?e:a,oj:c,NHa:d}}get DHs(){var a;const b=this.wI.focused.oj;var c=this.selection.Jb;c=(c===null||c===void 0?void 0:c.type)===1&&c.only!=null&&c.container.type==="layout-item-cell";return!b||!((a=sA(b))===null||a===void 0?0:a.cLc)||c}get T$b(){return this.Fjr()}get uSa(){return this.bQg||this.zlc!=null||this.aQg}get dgn(){const a=this.Zo.controls.cJ;return a==="top"||a==="bottom"}get wyk(){return this.vki||this.aQg}constructor(a,b,c,
d,e){this.selection=a;this.wI=b;this.fd=c;this.Zo=d;this.Fjr=e;this.Jh=(gYs.G(this),void 0);this.zlc=void 0;this.vki=this.aQg=this.bQg=!1}};var hYs=class{apply(a){JDs(this,a);const b=this.DAa();a=this.transformPoint(a);this.soa.Kw(this.W4c,a,b,!0,c=>{JDs(this,c);return b})}close(){this.soa.close()}constructor(a,b,c,d,e,f,g,h){this.zlc=a;this.kyl=b;this.hw=c;this.oj=d;this.handle=e;this.soa=f;this.DAa=g;this.transformPoint=h;this.W4c={type:"resize",handle:this.handle};this.rto=this.oj.eb}},MDs=class{constructor(a,b,c,d,e){this.undo=a;this.ih=b;this.Bra=c;this.transformPoint=d;this.store=e;this.ORr=(f,g)=>{const h=this.store.selected.container,
k=this.store.selected.hw,l=this.store.selected.M5d,m=this.store.selected.oj;h&&k&&l&&m&&Zk(this.ih,p=>{var q;this.store.zlc=f;(q=this.store.Jh)===null||q===void 0||q.close();q=KDs(m,l);q=__c.Lkg(this.Bra,new __c.rph(q,g),k,h,m.tp);this.store.Jh=new fYs(new hYs(f,g,k,m,f,q,()=>KDs(m,l),this.transformPoint),this.undo.startBuffering(),p)})};this.NRr=f=>{this.store.Jh&&(this.store.Jh.hy=f)};this.MRr=()=>{var f;this.store.zlc=void 0;(f=this.store.Jh)===null||f===void 0||f.close();this.store.Jh=void 0}}};var iYs=class{apply(a){this.$lh!=null&&this.umi.x!==a.x&&(a=a.x-this.kyl.x,this.hw.direction!==2?this.pwl==="inlineStart"&&(a*=-1):this.pwl==="inlineEnd"&&(a*=-1),LDs(this,this.$lh+a),this.X2m=!0)}close(){if(this.X2m){var a=this.ypa;this.P.track(__c.Soh,{action:"column_width_resized",IK:a===null||a===void 0?void 0:a.grid.gridTemplateColumns.length,qt:a===null||a===void 0?void 0:a.grid.gridTemplateRows.length})}}constructor(a,b,c,d,e,f){var g,h;this.P=a;this.hw=b;this.oj=c;this.dHb=d;this.pwl=e;this.kyl=
f;this.X2m=!1;this.k6l=this.pwl==="inlineEnd"?d+1:d-1;ta(this.dHb>=0&&this.k6l>=0);this.$lh=(g=this.oj.Vcg[this.dHb])===null||g===void 0?void 0:g.width;this.ypa=(h=this.oj!=null?__c.uvf(this.oj):void 0)===null||h===void 0?void 0:h.ypa;this.T_p=c.eb-(this.ypa?c.ewo:0);this.umi=f}},SDs=class{static G(a){O(a,{onMouseEnter:gV.bound,onMouseLeave:gV.bound,onClick:gV.bound})}onMouseEnter(){this.store.vki=!0}onMouseLeave(){this.store.vki=!1}onClick(){const a=this.store.focused.hw,b=this.store.focused.NHa;
a&&b&&this.Xa.Uv(b,a)}constructor(a,b,c,d,e){this.undo=a;this.Xa=b;this.ih=c;this.P=d;this.store=e;this.rRr=(SDs.G(this),(f,g,h)=>{const k=this.store.focused.hw,l=this.store.focused.oj,m=this.store.focused.M5d;k&&m&&l&&Zk(this.ih,p=>{var q;this.store.aQg=!0;(q=this.store.Jh)===null||q===void 0||q.close();this.store.Jh=new fYs(new iYs(this.P,k,l,f,g,h),this.undo.startBuffering(),p)})});this.qRr=f=>{this.store.Jh&&(this.store.Jh.hy=f)};this.pRr=()=>{var f;this.store.aQg=!1;(f=this.store.Jh)===null||
f===void 0||f.close();this.store.Jh=void 0}}};var jYs,TDs,lYs=class extends HV{get Mjr(){return this.props.oBf===0}get Hkr(){var a;const {ypa:b}=(a=sA(this.props.oj))!==null&&a!==void 0?a:{};return b&&this.props.oBf===b.grid.gridTemplateColumns.length-1}render(){const a=this.props.hw,b=this.props.oj,c=this.props.M5d,d=this.props.pe,e=this.props.onDragEnd;var f=this.props.oBf;const g=this.props.wyk,h=this.props.onMouseEnter,k=this.props.onMouseLeave,l=this.props.onClick;var m=b.padding;const p=m.paddingTop,q=m.paddingBottom;m=b.Vcg.map(r=>Sj(r.left,
0,r.left+r.width,c.height-p-q));return(f=f!=null?m===null||m===void 0?void 0:m[f]:void 0)?kV("div",{className:"_2qe7aw",style:{paddingTop:p,paddingBottom:q},children:[dV("div",{className:CV("vb8OZg",{y1tB4g:g})}),kV("div",{className:CV("BSPXOg",{vBa_SA:a.direction!==2,q4lpmA:a.direction===2}),style:{width:b.eb},children:[g&&(m===null||m===void 0?void 0:m.map((r,t)=>dV("div",{className:"_22NqHw",style:{...r},children:dV("div",{className:"vb8OZg"})},t))),dV(kYs,{bounds:f.Mb(),Enr:!this.Mjr,tjr:!this.Hkr,
onDragStart:this.onDragStart,pe:d,onDragEnd:e,onMouseEnter:h,onMouseLeave:k,onClick:l})]})]}):null}constructor(...a){super(...a);this.onDragStart=(b,c)=>{const d=this.props.oBf;if(d!=null)this.props.onDragStart(d,b,c)}}};({c:[TDs,jYs]}=KV(lYs,[],[Ob],HV));jYs();
var kYs=FV(({bounds:a,Enr:b,tjr:c,onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})=>kV("div",{className:CV("ox1XRA"),style:a,children:[b&&dV(mYs,{side:"inlineStart",onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k}),c&&dV(mYs,{side:"inlineEnd",onDragStart:d,pe:e,onDragEnd:f,onMouseEnter:g,onMouseLeave:h,onClick:k})]})),mYs=class extends fQs{render(){const a=this.props.side,b=this.props.onMouseEnter,c=this.props.onMouseLeave;return dV("div",{className:CV("pa2PwA",
{Ga8mEw:a==="inlineEnd",_4ePfAA:a==="inlineStart"}),onMouseDown:this.onMouseDown,onTouchStart:this.draggable.onTouchStart,onClick:this.onClick,onMouseEnter:b,onMouseLeave:c})}constructor(...a){super(...a);this.gIe=!1;this.draggable=new dr({onDragStart:gV(b=>{this.gIe=!0;this.props.onDragStart(this.props.side,new xj(b.clientX,b.clientY))}),pe:gV(b=>this.props.pe(new xj(b.clientX,b.clientY))),onDragEnd:gV(()=>this.props.onDragEnd()),SHa:mV(()=>"KQSIwQ")});this.onMouseDown=b=>{this.gIe=!1;this.draggable.onMouseDown(b)};
this.onClick=()=>{if(!this.gIe)this.props.onClick()}}};var NDs=FV(a=>{const b=a.aBa,c=a.paddingTop,d=a.onDragStart,e=a.pe,f=a.onDragEnd,g=a.zlc;return dV("div",{style:{width:a.cT,height:b},children:dV("div",{style:{marginTop:`${c}px`,width:`${a.eb}px`,height:`${b-c-a.paddingBottom}px`},className:CV("aPwIdw",{uyaqmw:!!g,ifl7dA:a.T$b}),children:["left","right"].map(h=>dV(nYs,{side:h,onDragStart:d,pe:e,onDragEnd:f,uSa:g===h},h))})})}),nYs=class extends fQs{render(){const a=this.props.side;return dV("div",{className:CV("y_6bUQ",{__x9Ig:a==="left",OjZzNQ:a===
"right",Q_bC3w:this.props.uSa}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:dV("div",{className:"c9fvmg"})})}constructor(...a){super(...a);this.draggable=new dr({onDragStart:gV(b=>this.props.onDragStart(this.props.side,new xj(b.clientX,b.clientY))),pe:gV(b=>this.props.pe(new xj(b.clientX,b.clientY))),onDragEnd:gV(()=>this.props.onDragEnd()),SHa:mV(()=>"_7WfdmA")})}};var QDs=fV(a=>{const b=a.onDragStart,c=a.onDragEnd,d=a.pe,e=a.Gw,f=a.width,g=a.height,h=a.HJs,k=a.Jec,{n_o:l,...m}=a;a=m.t4d;const p=a.Hfb;return kV(rV,{children:[dV(l,{...(h?{...m,t4d:{...a,Hfb:{...p,left:void 0,right:void 0}}}:m)}),h&&dV(oYs,{width:f,height:g,Jec:k,onDragStart:b,pe:d,onDragEnd:c,Gw:e})]})}),oYs=fV(({height:a,width:b,Jec:c,onDragStart:d,pe:e,onDragEnd:f,Gw:g})=>kV("div",{className:"Vx6WjA",style:{width:b,height:a},children:[c.Sb&&dV(pYs,{side:"left",lCm:c.Sb,onDragStart:d,pe:e,onDragEnd:f,
Gw:g}),c.r&&dV(pYs,{side:"right",lCm:c.r,onDragStart:d,pe:e,onDragEnd:f,Gw:g})]})),pYs=class extends fQs{render(){const a=this.props.side;return dV("div",{className:CV("DuTSAQ",{bM_mBA:a==="left",X4n9ZA:a==="right"}),onMouseDown:this.draggable.onMouseDown,onTouchStart:this.draggable.onTouchStart,children:dV("div",{className:"LZc7cQ"})})}constructor(...a){super(...a);this.onDragStart=(b,c,d)=>{this.props.onDragStart(this.props.side,this.props.lCm,b,c,d)};this.draggable=new dr({onDragStart:gV(this.onDragStart),
pe:gV(this.props.pe),Gw:gV(this.props.Gw),onDragEnd:gV(this.props.onDragEnd)})}};var qYs=parseInt("24px",10),PDs=LV(function(a){return Math.abs(a.width-a.eb)<qYs});var WDs=class{constructor(a,b){this.store=a;this.P=b;this.fQi=c=>{var d=this.store.Kmi;if(d){var e=d.hw;d=d.cells;var f=new Map(e.cells.map((g,h)=>[g,h]));d.forEach(g=>{const h=f.get(g);e.behavior.rules.forEach(k=>{if(k=k.grid.Wv.get(h))k.padding.all=c,k.padding.rd=void 0,k.padding.Ge=void 0,k.padding.Bd=void 0,k.padding.yf=void 0,this.mdq()})})}};this.jDs=c=>{const d=this.store.oj!=null?__c.uvf(this.store.oj):void 0;d&&(d.fbc&&(d.fbc.grid.columnGap=c),d.ypa&&(d.ypa.grid.columnGap=c),this.odq())};
this.CEs=c=>{const d=this.store.oj!=null?__c.uvf(this.store.oj):void 0;d&&(d.fbc&&(d.fbc.grid.rowGap=c),d.ypa&&(d.ypa.grid.rowGap=c),this.Edq())};this.dPj=c=>Hb(()=>{var d=this.store.oj,e;({ypa:d}=(e=d!=null?sA(d):void 0)!==null&&e!==void 0?e:{});this.P.track(__c.Soh,{action:c,IK:d===null||d===void 0?void 0:d.grid.gridTemplateColumns.length,qt:d===null||d===void 0?void 0:d.grid.gridTemplateRows.length})},1E3);this.mdq=this.dPj("cell_spacing_resized");this.odq=this.dPj("column_spacing_resized");this.Edq=
this.dPj("row_spacing_resized")}};var VDs=class{static G(a){O(a,{Kmi:mV,oj:mV,eum:mV,GTd:mV})}get Kmi(){var a,b=(a=this.wI.selected)===null||a===void 0?void 0:a.hw;if(b)return a=b.cells.map(d=>d),{hw:b,cells:a};b=this.wI.focused.hw;a=this.wI.focused.QZc;const c=this.wI.focused.Yba;if(b&&a)return{hw:b,cells:[a.rb]};if(b&&c)return{hw:b,cells:c}}get oj(){var a;return(a=this.wI.selected.oj)!==null&&a!==void 0?a:this.wI.focused.oj}get eum(){var a=this.Kmi;const b=this.oj;if(a&&b){var c=a.cells,d=b.$P,e=new Map(a.hw.cells.map((f,g)=>[f,
g]));a=c.map(f=>{var g;f=e.get(f);return f!=null?(g=d.grid.Wv.get(f))===null||g===void 0?void 0:g.padding:void 0}).map(f=>f!=null?__c.NIb(f,1).paddingBlockStart:0);a=[...(new Set(a))];return a.length===1?a[0]:void 0}}get GTd(){var a=this.flf.F0a;const b=a===null||a===void 0?void 0:a["change-cell-padding"],c=a===null||a===void 0?void 0:a["change-column-gap"];a=a===null||a===void 0?void 0:a["change-row-gap"];if(this.Kmi&&(b||c||a))return{cellPadding:b,columnGap:c,rowGap:a}}get columnGap(){var a;return(a=
this.oj)===null||a===void 0?void 0:a.$P.grid.columnGap}get rowGap(){var a;return(a=this.oj)===null||a===void 0?void 0:a.$P.grid.rowGap}constructor(a,b){this.wI=a;this.flf=b;VDs.G(this)}};var XDs=FV(a=>dV(a.zi,{icon:__c.B$g,pressed:a.open,yh:"icon",onClick:a.onClick,tooltip:L("BtDtuQ"),children:L("BtDtuQ")})),YDs=FV(a=>{const b=a.Oh,c=a.Oe,d=a.cellPadding,e=a.qRk,f=a.columnGap,g=a.oRr,h=a.rowGap;a=a.c0r;return dV(R,{padding:c==="fill"?"2u":"0",className:CV({u9Sfdw:c==="fixed"}),children:kV(Uc,{spacing:"2u",children:[e&&dV(b,{label:L("BHtCqg"),min:0,max:40,step:1,Kw:0,value:d!=null?Math.round(d*1E3)/1E3:void 0,onChange:gV(e)}),g&&dV(b,{label:L("aT6ZSA"),min:0,max:40,step:1,Kw:0,value:f!=
null?Math.round(f*1E3)/1E3:void 0,onChange:gV(g)}),a&&dV(b,{label:L("HFpIpQ"),min:0,max:40,step:1,Kw:0,value:h!=null?Math.round(h*1E3)/1E3:void 0,onChange:gV(a)})]})})});var rYs=a=>a.every(b=>!!b.id),bEs=class{get SEp(){return this.ytd||rYs(this.session.document.pages.toArray())}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.q6d=a;this.selection=b;this.la=c;this.P=d;this.session=e;this.ja=f;this.DO=g;this.errorService=h;this.document=k;this.ytd=l;this.fwg=m;this.ee=p}};var cFs=class{next(){let a;do a=`${this.prefix}${(this.nJe++).toString(36)}`.slice(-8);while(this.BLm.has(a));return a}constructor(a){this.nJe=0;this.BLm=new Set;this.prefix=(a.clientId||a.id).toLowerCase().replace(/[^a-z0-9]/g,"");const b=c=>{for(const d of c)switch(d.anchor&&this.BLm.add(d.anchor),d.type){case "fixed":case "responsive":break;case "concatenated-fixed":b(d.pages);break;default:throw new v(d);}};b(a.document.pages)}};var eFs=class{async cid(a,b,c){if(this.selection.Jb)return this.qus.cid(a,b);if(c&&c.zg){var d=c.zg,e=c.container.page;if(a){var f=this.V.sb("link_embed_to_href",{Fb:{name:"editor.element_convert",type:"link_to_embed"}}),g=!!this.ox.link,h=this.undo.startBuffering();try{await this.Hu.oK(a),f.mb().addEvent("embed_resolved"),oV(()=>{if(e.elements.has(d)){g&&this.la.Ib({Cb:L("vgGQGQ")});const k=this.B$h(d,e);this.oc.oK(a,{Wc:"switch_display_mode",span:f},{placement:k});e.elements.delete(d)}})}catch(k){this.la.Ib({Cb:L("F7W1Qg")})}finally{oV(()=>
{h.stop();f.end()})}}else e.elements.delete(d)}}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.ox=b;this.qus=c;this.selection=d;this.Hu=e;this.la=f;this.undo=g;this.V=h;this.oc=k;this.B$h=(l,m)=>{if(this.selection.Jb)return{};const p=__c.Vbe(m,this.document),q=p?!__c.ck(p,new xj(l.left,l.top)):!1;var r=Vj(l);r=(p?r.oh().filter(t=>!__c.ck(p,t)).length:0)>=2;return q||r?{page:m}:{topLeftCorner:{top:l.top,left:l.left}}}}},aFs=class{async cid(a,b){const c=__c.nif(this.Xa),d=this.undo.startBuffering();
try{const e=await this.Hu.oK(a),f=AJa(a)&&await this.tsd.Gzg(a)||e.title||a;await oV(()=>{this.la.Ib({Cb:L("vgGQGQ")});(c===null||c===void 0?0:c.Oc)&&this.Xa.Ru(c.Oc,c);this.Xa.OGf(a);this.Xa.jQ();switch(b){case "iframe":return this.oc.oK(a,{Wc:"switch_display_mode"});case "pill":return this.oc.$ea({type:"embed",url:a,text:f},{Wc:"switch_display_mode"});case void 0:break;default:throw new v(b);}})}catch(e){this.la.Ib({Cb:L("F7W1Qg")})}finally{oV(()=>{d.stop();c===null||c===void 0||c.disconnect()})}}constructor(a,
b,c,d,e,f){this.oc=a;this.Hu=b;this.tsd=c;this.Xa=d;this.la=e;this.undo=f}};var gFs=FV(a=>{const b=a.state==="edit"?L("R3xUrg"):L("vcZEOw");return dV("div",{children:dV(a.zi,{tooltip:b,disabled:a.disabled,pressed:a.open,selected:a.selected,yh:"icon",onClick:a.onClick,icon:a.state==="edit"?lu:Ao,className:"pmsg5w",children:b})})}),hFs=FV(({zi:a,link:b,label:c,tooltip:d,icon:e,layout:f,disabled:g,onClick:h})=>dV(a,{tooltip:d,onClick:h,icon:e,yh:"icon-and-label",disabled:g,href:(b===null||b===void 0?void 0:b.type)!=="page"?__c.uLr(b===null||b===void 0?void 0:b.href):void 0,
target:"_blank",children:!e&&dV("span",{className:CV("U_t2yg",g&&"GedLzA",f===2&&(b===null||b===void 0?void 0:b.type)==="page"&&"_5zrp5w"),children:c})})),iFs=FV(({zi:a,onClick:b})=>dV(a,{tooltip:L("C3XJ5w"),onClick:b,icon:OD,yh:"icon"})),lFs=FV(({im:a,state:b,onClick:c,oa:d,fl:e})=>dV(e,{Icon:b==="edit"?lu:Ao,label:b==="edit"?L("R3xUrg"):L("vcZEOw"),im:a,onClick:c,oa:d}));var sYs={eventType:"editor_element_link_changed",Oa(a){return sf({type:a.type,action:a.action,link:__c.qh(a.link),design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,page_index:a.Wb,applied_to_text_range:a.ttj,control_context:a.kb,session_id:a.sessionId,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var tYs={eventType:"document_external_link_clicked",Oa(a){return sf({design_id:a.designId,access_role:a.Tf,link:__c.qh(a.link),element_type:a.elementType,editing_context:a.Ba==null?void 0:tf(a.Ba),trackable_link_id:a.x2b,resource_id:a.resourceId})}};var fFs=class{static G(a){O(a,{jqe:gV.bound,Qjc:gV.bound,$bc:gV.bound,Lba:gV.bound,LV:gV.bound,Hxi:gV.bound,lHd:gV.bound,onCopy:gV.bound,mEe:gV.bound})}jqe(a,b){if(this.selection.Jb){var c,d=(c=a.anchor)!==null&&c!==void 0?c:a.anchor=this.WRd.next();return this.n0.jqe(a,b,d)}c=this.store.target;switch(c){case "element":b=(d=a.anchor)!==null&&d!==void 0?d:a.anchor=this.WRd.next();fEs(this,`${"#page-"}${b}`);break;case "text":var e;b=(e=a.anchor)!==null&&e!==void 0?e:a.anchor=this.WRd.next();gEs(this,
`${"#page-"}${b}`);break;case "sheet-cell":this.bDk(a,b);break;case "embed":this.la.Ib({Cb:L("F7W1Qg")});break;case void 0:break;default:throw new v(c);}}async Qjc(a){if(this.selection.Jb)return this.n0.Qjc(a);const b=this.store.target,c=this.store.G1a,d=dEs(this,a);if(d)this.jqe(d);else switch(b){case "element":fEs(this,a);break;case "text":gEs(this,a);break;case "sheet-cell":await iEs(this,a);break;case "embed":await this.N7b.cid(a,void 0,c);break;case void 0:break;default:throw new v(b);}}$bc(){const a=
this.store.link;if(a){var b=a.type;switch(b){case "url":this.Y_g(a.href);break;case "page":a.Dh&&this.Hxi&&this.Hxi(a.Dh);break;default:throw new v(b);}}}Lba(){var a;if(this.selection.Jb)return this.n0.Lba();(a=this.store.V_d)===null||a===void 0||jEs(a)}LV(){var a;this.store.Hki=!1;if(this.selection.Jb)return this.n0.LV();if((a=this.store.V_d)!==null&&a!==void 0){var b;(b=a.eUj)===null||b===void 0||b.call(a);a.eUj=void 0;a.y4b=void 0;a.ldf=void 0;a.Gmj=void 0;a.Hmj=void 0}}Hxi(a){switch(a.type){case "fixed-page":this.selection.uT(a.container,
a.ia);break;case "concatenated-fixed-page":this.selection.uT(a,a.pages.first());break;case "responsive-page":__c.Eo.Zwg?__c.d2a(this.selection,a.zVb(a.ia.marker),a.ia.marker.background):this.selection.DU(a.container,a.page);break;default:throw new v(a);}this.viewport.jh&&this.viewport.EG(a)}rLf(a){if(this.selection.Jb)return this.n0.rLf(a);this.mEe();const b=this.selection.La;if(b&&b.type==="elements"){var c=new Set(b.elements.map(d=>d.type));this.P.track(__c.wph,{menu:a,kGa:Array.from(c),$D:b.container.elements.size,
Wp:0,Qr:0,Ey:0})}}Y_g(a){if(this.selection.Jb)return this.n0.Y_g(a);this.ja&&this.P.track(tYs,{designId:this.ja,link:a})}lHd(a){if(this.selection.Jb)return this.n0.lHd(a);var b=this.store.dz;if(this.store.target==="sheet-cell"&&b){var c,d=b.sheet,e=b.anchor;(c=this.BJ)===null||c===void 0||EEs(c,d,e,a);this.la.Ib({Cb:L("rLQCQA")})}else if(c=this.store.vmb,(c===null||c===void 0?void 0:c.type)==="focused"){b=c.range.index;var f=c.range.length,g=c.Oc.Ya.slice(b,b+f);if(g!==a){var h=this.undo.startBuffering();
try{e=Array.from(c.Oc.Tpa({index:b,length:f},"link").link).find(ub);let k=a;g.endsWith("\n")&&!a.endsWith("\n")&&(k=a+"\n");c.Oc.Pab([{index:b,length:f}],k);this.jc.Mz();(d=this.store.V_d)===null||d===void 0||d.SHo({index:b,length:a.length});this.store.vmb&&(this.jc.deselectAll(),this.jc.select(this.store.vmb));e&&eEs(this,e)}finally{oV(()=>h.stop())}this.la.Ib({Cb:L("rLQCQA")})}}}onCopy(){if(this.selection.Jb)return this.n0.onCopy();this.store.link&&this.store.link.type!=="page"&&(this.DO(__c.uLr(this.store.link.href)),
this.la.Ib({Cb:L("xcEZcQ")}))}bDk(a,b){var c,d,e,f,g,h=(g=a.anchor)!==null&&g!==void 0?g:a.anchor=this.WRd.next();if(g=this.store.dz){a=g.sheet;g=g.anchor;h=`${"#page-"}${h}`;var k=(c=this.BJ)===null||c===void 0?void 0:c.link(a,g);c=!!k;((d=this.BJ)===null||d===void 0?0:d.isEmpty(a,g))||(k===null||k===void 0?void 0:k.type)===2?(e=this.BJ)===null||e===void 0||e.Ded(a,[g],h,b!==null&&b!==void 0?b:h):(f=this.BJ)===null||f===void 0||hEs(f,a,[g],h);this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});this.Pie({type:"sheet-cell",
ttj:!1})}}Pie(a){const b=this.selection.La;b&&b.type==="elements"&&this.P.track(sYs,{...a,$D:b.hp.elements.count(),link:"",Wp:0,Qr:0,Ey:0})}mEe(){var a;if((a=this.store.link)===null||a===void 0?0:a.href){a=this.store;{var b,c,d;const f=this.jc,g=this.selection;if(((b=f.state)===null||b===void 0?void 0:b.type)==="focused")var e=f.OGf(g.La,this.store.link.href);else(b=((e=g.La)===null||e===void 0?void 0:e.type)==="elements"&&((d=g.La)===null||d===void 0?void 0:(c=d.elements)===null||c===void 0?void 0:
c.length)===1&&g.La.elements[0])&&b.type==="text"&&b.text.sD("link").link.size===1?(rA(f,g.La,"all"),e=!0):e=!1}a.Hki=e}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t){this.controller=a;this.store=b;this.N7b=c;this.n0=d;this.BJ=e;this.WRd=f;this.selection=g;this.jc=h;this.viewport=k;this.la=l;this.P=m;this.ja=p;this.DO=q;this.undo=r;this.document=t;fFs.G(this)}},bFs=class{static G(a){O(a,{Qjc:gV.bound,$bc:gV.bound,Lba:gV.bound,LV:gV.bound,lHd:gV.bound,onCopy:gV.bound,mEe:gV.bound})}jqe(a,b,c){c=`${"#page-"}${n(c)}`;
this.store.dz?this.bDk(c,b!==null&&b!==void 0?b:a.title):this.Qjc(c)}bDk(a,b){var c,d,e,f,g=this.store.dz;if(g){var h=g.sheet;g=g.anchor;var k=(c=this.BJ)===null||c===void 0?void 0:c.link(h,g);c=!!k;((d=this.BJ)===null||d===void 0?0:d.isEmpty(h,g))||(k===null||k===void 0?void 0:k.type)===2?(e=this.BJ)===null||e===void 0||e.Ded(h,[g],a,b!==null&&b!==void 0?b:a):(f=this.BJ)===null||f===void 0||hEs(f,h,[g],a);this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});this.Pie(c?"edit":"add")}}async Qjc(a){var b;const c=
this.Xa.state,d=this.store.gMa;if(d&&((c===null||c===void 0?void 0:c.type)!=="RANGE"||d.wz===(c===null||c===void 0?void 0:c.wz))||((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="SHEET_CELL")a?await this.UMl(a)&&this.Pie(this.p3h?"edit":"add"):(this.VEc(),this.Pie("delete"))}$bc(){const a=this.store.link;a&&this.Y_g(a.href)}get p3h(){if(this.store.dz){var a;const b=this.store.dz.sheet,c=this.store.dz.anchor;return(a=this.BJ)===null||a===void 0?void 0:a.OO(b,c)}a=gif(this.Xa);return a===null||
a===void 0?void 0:a.link}Lba(){var a;this.store.gMa=__c.sLr(this.Xa);(a=this.store.Ubh)!==null&&a!==void 0&&(a.y4b=a.selection.state)}LV(){var a,b;(a=this.store.gMa)===null||a===void 0||a.disconnect();this.store.gMa=void 0;(b=this.store.Ubh)!==null&&b!==void 0&&(b.y4b=void 0);this.Xa.focus()}rLf(a){var b,c;this.mEe();const d=((b=this.Xa.state)===null||b===void 0?void 0:b.type)==="RANGE"?(c=this.Xa.state)===null||c===void 0?void 0:c.wz:void 0;this.P.track(__c.wph,{menu:a,kGa:d&&[d.type],$D:-1,Wp:0,
Qr:0,Ey:0})}Y_g(a){this.ja&&this.P.track(tYs,{designId:this.ja,link:a})}lHd(a){const b=this.store,c=this.Xa;if(b.dz){var d;var e=b.dz.sheet;var f=b.dz.anchor;(d=this.BJ)===null||d===void 0||EEs(d,e,f,a)}else{var g;if(d=c.E5a())d.forEach({Ya:(h,k,l)=>{var m;g||l.link!==((m=b.link)===null||m===void 0?void 0:m.href)||(g={...l})},item:()=>{}}),a=c.QAa(a,g).connect(),((e=c.state)===null||e===void 0?0:e.Oc)&&this.Xa.Ru(c.state.Oc,a),(f=this.store.gMa)===null||f===void 0||f.disconnect(),this.store.gMa=__c.sLr(this.Xa),
a.disconnect()}}onCopy(){this.store.link&&this.store.link.type!=="page"&&(this.DO(__c.uLr(this.store.link.href)),this.la.Ib({Cb:L("xcEZcQ")}))}Pie(a){var b;const c=(b=this.store.gMa)===null||b===void 0?void 0:b.wz;this.P.track(sYs,{type:c?"item":"text",action:a,$D:-1,link:"",Wp:0,Qr:0,Ey:0})}mEe(){this.Xa.focus();this.p3h&&this.Xa.OGf(this.p3h)}async UMl(a){var b=this.store.wgb;const c=!!this.p3h;if(this.store.dz){b=this.store.dz.sheet;var d=this.store.dz.anchor;try{var e;await ((e=this.BJ)===null||
e===void 0?void 0:hEs(e,b,[d],a));this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});return!0}catch(f){return this.la.Ib({Cb:L("F7W1Qg")}),!1}}switch(b){case void 0:case "link":if(this.store.gMa==null||this.store.gMa.wz==null&&((d=this.store.gMa)===null||d===void 0||!d.cSa))break;this.store.gMa.setAttributes({...Ry,link:a});this.la.Ib({Cb:c?L("vgGQGQ"):L("wStY/A")});return!0;case "iframe":try{return await this.N7b.cid(a,b),!0}catch(f){this.la.Ib({Cb:L("F7W1Qg")})}break;case "pill":try{return await this.N7b.cid(a,
b),!0}catch(f){this.la.Ib({Cb:L("9vRlyg")})}break;default:throw new v(b);}return!1}VEc(){var a=this.store.wgb;if(this.store.dz){var b;a=this.store.dz.sheet;const c=this.store.dz.anchor;(b=this.BJ)===null||b===void 0||b.hKi(a,c)}else switch(a){case void 0:case "link":if(!this.store.gMa)break;this.store.gMa.setAttributes({decoration:"none",link:"",color:void 0});break;case "iframe":case "pill":this.Xa.jQ();break;default:throw new v(a);}}constructor(a,b,c,d,e,f,g,h){this.store=a;this.N7b=b;this.BJ=c;
this.Xa=d;this.la=e;this.P=f;this.ja=g;this.DO=h;bFs.G(this)}};var uYs='<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M3 5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v13.5A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V14.5h1.5v4.25c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75H5.25a.75.75 0 0 0-.75.75V9.5H3z"/><path d="M1.75 12a.75.75 0 0 1 .75-.75h9.69L8.97 8.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H2.5a.75.75 0 0 1-.75-.75z"/></g></svg>';var vYs=er({medium:uYs},!0);var wYs=class{static G(a){O(a,{y4b:yV.ref,ldf:yV.ref,Gmj:yV.ref,Hmj:yV.ref,SHo:gV.bound,HCc:mV,chg:mV,vfm:mV,wfm:mV})}SHo(a){this.ldf={...this.chg,range:a}}get HCc(){return this.y4b}get chg(){return this.ldf}get vfm(){return this.jc.state!==this.chg?this.Gmj:void 0}get wfm(){return this.jc.state!==this.chg?this.Hmj:void 0}constructor(a,b,c){this.store=a;this.selection=b;this.jc=c;this.y4b=(wYs.G(this),void 0)}},xYs=class{static G(a){O(a,{y4b:yV.ref,HCc:mV})}get HCc(){return this.y4b}constructor(a){this.selection=
a;this.y4b=(xYs.G(this),void 0)}};var dFs=class{static G(a){O(a,{Iua:yV.ref,Hki:yV.ref,G1a:mV,y$n:mV,Ztm:mV,vmb:mV,dz:mV,pvk:mV,Olb:mV,linkText:mV,link:mV,hYb:mV,hPg:mV,target:mV,ii:mV,l3e:mV,m1b:mV,KHi:mV,$ed:mV,o3e:mV,b3e:mV,y3e:mV,Rjh:mV,R2d:mV,T5c:mV,Czk:mV,FMi:mV,VDl:mV,fFf:mV,eni:mV,eFf:mV,dFf:mV,wgb:mV,K1h:mV,K0h:mV,Bse:mV,ASg:mV,Zmc:mV,wSg:mV})}get G1a(){var a;return(a=this.V_d.HCc)!==null&&a!==void 0?a:this.selection.La}get y$n(){var a;if(((a=this.G1a)===null||a===void 0?void 0:a.type)!=="elements")return[];const b=this.G1a.container;
return this.G1a.elements.map(c=>{c=b.Sf(c);const d=tps(this.controller,c);return d?{wMa:c,xtr:d}:void 0}).filter(ub)}get Ztm(){var a;if(((a=this.G1a)===null||a===void 0?void 0:a.type)==="elements")return(a=this.G1a.zg)?tps(this.controller,this.G1a.container.Sf(a)):void 0}get vmb(){var a;return this.V_d.HCc?this.V_d.chg:((a=this.jc.state)===null||a===void 0?void 0:a.type)==="multi-config"?__c.AB(this.jc.state):this.jc.state}get dz(){var a;if(this.selection.Jb)return this.o0.dz;var b=this.G1a;if((b===
null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="sheet"&&b.Ji()){a=b.type==="pages"?b.inner.page.sheet:b.inner.sheet.config;var c=Array.from(b.inner.cells);if(b=b.inner.anchor)return{sheet:a,cells:c,anchor:b}}}get pvk(){var a;const b=(a=this.G1a)===null||a===void 0?void 0:a.zg;return(b===null||b===void 0?void 0:b.type)==="embed"&&__c.LDb(b.url).name==="Codelet"}get Olb(){if(this.selection.Jb)return this.o0.Olb;const a=this.G1a;var b=this.dz;if(!this.X||!a||!a.Ji(am.Ps))return!1;
if(b){var c;var d=b.sheet;const f=b.cells;b=b.anchor;var e;return(e=(c=this.BJ)===null||c===void 0?void 0:c.Olb(d,f,b))!==null&&e!==void 0?e:!1}return((d=a.inner)===null||d===void 0?void 0:d.type)==="sheet-cell-media"||!a.elements||this.pvk?!1:this.T5c||a.elements.length===1&&a.elements[0].type==="embed"?!0:a.elements.every(f=>{const g=tps(this.controller,a.container.Sf(f));f=f.type==="table"&&a.inner;return g&&!f})}get linkText(){var a=this.target;switch(a){case "text":var b,c;return(c=(b=this.V_d.wfm)!==
null&&b!==void 0?b:this.VDl)!==null&&c!==void 0?c:"";case "embed":var d,e;return(e=(d=this.Zmc)===null||d===void 0?void 0:d.href)!==null&&e!==void 0?e:"";case "element":case void 0:var f,g;return(g=(f=this.Ztm)===null||f===void 0?void 0:f.get())!==null&&g!==void 0?g:"";case "sheet-cell":if(this.dz){var h;a=this.dz.sheet;b=this.dz.anchor;var k;return(k=(h=this.BJ)===null||h===void 0?void 0:h.OO(a,b))!==null&&k!==void 0?k:""}return"";default:throw new v(a);}}get link(){if(this.selection.Jb)return this.o0.link;
if(this.linkText){if(this.Zmc)return this.Zmc;var a=this.No.IMb(this.linkText);return a.type==="url"?(a=Yv(this.linkText),em(a).ok&&__c.LDb(a).name!=="Codelet"?{type:"url",href:a}:void 0):a.href?a:void 0}}get hYb(){if(this.selection.Jb)return this.o0.hYb;const a=this.target,b=this.link;var c=this.vmb,d=this.dz;if(a==="sheet-cell"&&d){var e;var f=d.sheet;c=d.anchor;return(e=this.BJ)===null||e===void 0?void 0:e.Lt(f,c)}if(b&&a==="text"&&c&&(c===null||c===void 0?void 0:c.type)==="focused")return e=c.range.index,
d=c.range.length,(f=c.Oc)===null||f===void 0?void 0:f.Ya.slice(e,e+d)}get hPg(){var a,b=this.vmb;if(this.target==="text"&&b&&b.type==="focused"){if(this.Hki)return!0;var c=b.range.index,d=b.range.length;b=(a=b.Oc)===null||a===void 0?void 0:a.Ya;a=b.lastIndexOf("\n",b.length-2)+1;return c!==a?!1:b.length-(c+d)===1}}get target(){return this.R2d?"text":this.Zmc?"embed":this.dz?"sheet-cell":"element"}get ii(){return this.ka.layout===2}get l3e(){return this.selection.Jb?this.o0.l3e:this.m1b}get m1b(){var a,
b,c;if(this.selection.Jb)return this.o0.m1b;const d=((a=this.vmb)===null||a===void 0?void 0:a.type)==="focused"&&this.vmb.range.length>0&&!this.vmb.Oc.isEmpty;a=this.dz?!!this.link&&((b=this.vmb)===null||b===void 0?void 0:b.type)==="focused":!!this.link;return this.Olb&&(this.ka.layout===2&&this.Iua&&((c=this.toolbar.sE)===null||c===void 0?void 0:c.BZ(this.Iua))||a||d)}get KHi(){return!!this.link&&this.ka.layout===2}get $ed(){return this.Olb}get o3e(){var a;return this.selection.Jb?this.o0.o3e:this.dz?
!!this.link&&((a=this.vmb)===null||a===void 0?void 0:a.type)==="focused":this.ka.layout===2?!!this.link&&this.Ma.mode===20&&this.target==="embed":!!this.link}get b3e(){return this.selection.Jb?this.o0.b3e:!!this.link&&this.Ma.mode===20}get y3e(){var a,b,c;return this.selection.Jb?this.o0.y3e:((b=this.G1a)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="group"&&!this.m1b||(c=this.G1a)===null||c===void 0||!c.Ji()?!1:this.$ed||this.m1b||this.l3e}get Rjh(){return this.selection.Jb?
this.o0.Rjh:!!this.dz}get R2d(){var a,b;if(!this.G1a||!this.vmb)return!1;const c=(a=this.G1a.zg)===null||a===void 0?void 0:a.type;if(((b=this.G1a.inner)===null||b===void 0?void 0:b.type)==="group"||c==="group")switch(c){case "chart":case "embed":case "grid":case "layout":case "rect":case "table":case "group":case "controlled":case "line":case "sheet":case void 0:return!1;case "text":case "shape":break;default:throw new v(c);}a=this.vmb;return!a||a.type==="multi"&&a.FH.every(d=>d.charLength<=1)?!1:
a.type==="multi"&&a.FH.length===1||a.type==="focused"}get T5c(){var a;return((a=this.V_d.vfm)!==null&&a!==void 0?a:this.Czk)?this.R2d:!1}get Czk(){return this.jc.state?this.jc.Ji(am.Ps):void 0}get FMi(){return this.controller.iln&&this.controller.iln()}get VDl(){var a;return(a=this.FMi)===null||a===void 0?void 0:a.get()}get fFf(){var a,b;if(this.dFf)return L("K6kKeg");if(((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&this.link.Dh&&this.pPc)return this.pPc.h9h(this.link.Dh);a=this.link&&
this.getTitle(this.link.href);return a!=null?a:(b=this.link)===null||b===void 0?void 0:b.href}get eni(){var a,b;return this.dFf?L("K6kKeg"):((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&this.link.Dh&&this.pPc?this.pPc.h9h(this.link.Dh):(b=this.link)===null||b===void 0?void 0:b.href}get eFf(){return this.ka.layout!==2&&this.m1b&&this.link?"edit":"link"}get dFf(){var a;return((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&!this.link.Dh}get wgb(){if(this.selection.Jb)return this.o0.wgb;
if(this.target==="sheet-cell"&&this.dz){var a;const b=this.dz.sheet,c=this.dz.anchor;switch((a=this.BJ)===null||a===void 0?void 0:a.contentType(b,c)){case 1:case 2:return"pill";case 0:return"link";default:return}}if(this.Zmc)return"iframe";if(this.link)return"link"}get K1h(){return this.selection.Jb?this.o0.K1h:this.target==="sheet-cell"?!0:!1}get K0h(){return this.selection.Jb?this.o0.K0h:!this.dz}get Bse(){var a;if(this.selection.Jb)return this.o0.Bse;if(this.dz){var b;var c=((b=this.vmb)===null||
b===void 0?void 0:b.type)==="focused";return!!this.link&&!c}b=this.G1a;return(b===null||b===void 0?void 0:(c=b.zg)===null||c===void 0?void 0:c.type)==="text"||(b===null||b===void 0?void 0:(a=b.zg)===null||a===void 0?void 0:a.type)==="embed"}get ASg(){var a;return this.selection.Jb?this.o0.ASg:{selection:this.selection.La,range:((a=this.jc.state)===null||a===void 0?void 0:a.type)==="focused"?this.jc.state.range:void 0}}get Zmc(){var a;const b=(a=this.G1a)===null||a===void 0?void 0:a.zg;if(b&&b.type===
"embed"&&!this.pvk)return{type:"url",href:b.url}}get wSg(){if(this.selection.Jb)return this.o0.wSg}getTitle(a){const b=this.tsd.dMd.get(a);switch(b===null||b===void 0?void 0:b.status){case 0:case 2:break;case 1:return b.title;case void 0:this.tsd.Gzg(a);break;default:throw new v(b);}}get Ubh(){var a;if(this.selection.Jb)return(a=this.o0)===null||a===void 0?void 0:a.Ubh}get gMa(){if(this.selection.Jb)return this.o0.gMa}constructor(a,b,c,d,e,f,g,h,k,l,m,p){this.controller=a;this.selection=b;this.Ma=
c;this.jc=d;this.o0=e;this.BJ=f;this.toolbar=g;this.ka=h;this.pPc=k;this.No=l;this.tsd=m;this.X=p;this.Iua=(dFs.G(this),void 0);this.Hki=!1;this.V_d=new wYs(this,this.selection,this.jc)}},$Es=class{static G(a){O(a,{Iua:yV.ref,Olb:mV,linkText:mV,link:mV,ii:mV,l3e:mV,m1b:mV,KHi:mV,$ed:mV,o3e:mV,b3e:mV,y3e:mV,Rjh:mV,fFf:mV,eni:mV,wgb:mV,eFf:mV,dFf:mV,Bse:mV,Zmc:mV,OLg:mV,wSg:mV,hYb:mV,ASg:mV,dz:mV})}get Olb(){if(this.Ma.mode<=20||!this.X)return!1;if(this.gMa){var a,b=this.gMa.cSa,c=this.gMa.wz,d=!!this.link,
e=!this.gMa.collapsed,f;const g=(f=c!=null&&((a=this.din)===null||a===void 0?void 0:a.Olb(c)))!==null&&f!==void 0?f:!1;return d||e&&(b||g)}a=this.Xa.state;if(!a)return!1;switch(a.type){case "RANGE":return f=!!this.link,d=!a.isCollapsed&&a.cSa&&a.wz==null,e=a.wz!=null&&((c=(b=this.din)===null||b===void 0?void 0:b.Olb(a.wz))!==null&&c!==void 0?c:!1),f||d||e;case "TABLE_CELL":case "LAYOUT_CELL":const [g,h]=a.cells;return!!this.link&&g&&!h;case "SHEET_CELL":return this.dz?(a=this.dz.sheet,f=this.dz.cells,
b=this.dz.anchor,(e=(d=this.BJ)===null||d===void 0?void 0:d.Olb(a,f,b))!==null&&e!==void 0?e:!1):!1;case "SHEET_CELL_MEDIA":return!1;default:throw new v(a);}}get linkText(){if(this.Zmc)return this.Zmc.href;if(this.OLg)return this.OLg.href;if(this.dz){var a,b=this.dz.sheet;const d=this.dz.anchor;var c;return(c=(a=this.BJ)===null||a===void 0?void 0:a.OO(b,d))!==null&&c!==void 0?c:""}a=[...((b=this.gMa)!==null&&b!==void 0?b:this.Xa).attributes.link].filter(d=>d!=="");return a.length===1?a[0]:""}get link(){var a=
this.No.IMb(this.linkText);return a.type==="url"?(a=Yv(this.linkText),em(a).ok&&__c.LDb(a).name!=="Codelet"?{type:"url",href:a}:void 0):a.href?a:void 0}get ii(){return this.ka.layout===2}get l3e(){return this.ka.layout===1?this.m1b:this.Olb}get m1b(){const a=this.wgb;if(!this.Olb||this.dz)return!1;switch(a){case void 0:case "link":return this.ka.layout===1;case "iframe":case "pill":return!0;default:throw new v(a);}}get KHi(){return!!this.link&&this.ka.layout===2}get $ed(){return this.Olb}get o3e(){return this.ka.layout===
2&&(this.Ma.mode!==20||this.wgb==="link")||this.dz?!1:!!this.link}get b3e(){return!!this.link&&this.Ma.mode===20}get y3e(){return this.$ed||this.m1b||this.l3e}get Rjh(){return!!this.dz}get fFf(){var a;const b=this.link&&this.getTitle(this.link.href);return b!=null?b:(a=this.link)===null||a===void 0?void 0:a.href}get eni(){var a;return(a=this.link)===null||a===void 0?void 0:a.href}get wgb(){if(this.dz){var a;const b=this.dz.sheet,c=this.dz.anchor;switch((a=this.BJ)===null||a===void 0?void 0:a.contentType(b,
c)){case 1:case 2:return"pill";case 0:return"link";default:return}}if(this.Zmc)return"iframe";if(this.OLg)return"pill";if(this.link)return"link"}get eFf(){return this.ka.layout===2?"link":this.m1b&&this.link?"edit":"link"}get dFf(){var a;return((a=this.link)===null||a===void 0?void 0:a.type)==="page"&&!this.link.Dh}get K0h(){return!this.dz}get K1h(){return!0}get Bse(){var a=this.selection.Jb;if((a===null||a===void 0?void 0:a.type)===0&&a.container.type==="sheet-item-cell-richtext")return!1;var b;
a=(b=this.gMa)!==null&&b!==void 0?b:this.Xa;return this.Zmc||this.OLg||this.dz?!0:a.attributes.link.size===1}get Zmc(){var a;const b=this.Xa.state;if(b&&b.type==="RANGE"&&((a=b.wz)===null||a===void 0?void 0:a.type)==="embed")return{type:"url",href:b.wz.url}}get OLg(){var a=this.Xa.state;if(a&&a.type==="RANGE"&&(a=a.wz)&&a.type==="pill"&&a.fi.type==="embed")return{type:"url",href:a.fi.url}}get wSg(){var a;if(this.ka.layout===2&&this.wgb==="link")return((a=this.link)===null||a===void 0?void 0:a.type)===
"page"?vYs:__c.Ut}get hYb(){var a=this.link;const b=this.Xa.state;var c=this.dz;if(c){var d;a=c.sheet;c=c.anchor;return(d=this.BJ)===null||d===void 0?void 0:d.Lt(a,c)}if(a&&(b===null||b===void 0?void 0:b.type)==="RANGE"){var e="";n(this.Xa.E5a()).forEach({Ya:f=>e+=f,item:()=>{}});return e||void 0}}get ASg(){}getTitle(a){const b=this.tsd.dMd.get(a);switch(b===null||b===void 0?void 0:b.status){case 0:case 2:break;case 1:return b.title;case void 0:this.tsd.Gzg(a);break;default:throw new v(b);}}get dz(){var a;
const b=(a=this.Ubh.HCc)!==null&&a!==void 0?a:this.Xa.state;if((b===null||b===void 0?void 0:b.type)==="SHEET_CELL")return{sheet:b.sheet.config,anchor:b.anchor,cells:[...b.cells]}}constructor(a,b,c,d,e,f,g,h,k){this.selection=a;this.Xa=b;this.BJ=c;this.din=d;this.Ma=e;this.ka=f;this.No=g;this.tsd=h;this.X=k;this.gMa=($Es.G(this),void 0);this.Ubh=new xYs(this.Xa)}};var ZEs=class{static G(a){O(a,{hum:mV})}Olb(a){if(!this.hum)return!1;switch(a.type){case "rect":case "shape":case "chart":case "design":return!0;case "controlled":case "embed":case "layout":case "break":case "pill":case "separator":case "sheet":case "table":return!1;default:throw new v(a);}}get hum(){return this.viewport.mh==null?!1:lk(this.gb,this.viewport.mh.ia,a=>a?a.Reb:!1)}constructor(a,b){this.gb=a;this.viewport=b;ZEs.G(this)}};var mFs=class{OYf({page:a,element:b}){const c=b.container,d=this.selection.La;if(!d||d.type!=="elements"||d.container.ia!==a.ia)return!1;if(c.type!=="fixed-page"){switch(c.type){case "group-element":a=c.group;break;case "layout-element-cell":a=c.layout;break;case "chart-element":a=c.Yb;break;case "controlled-element":a=c.ia;break;default:throw new v(c);}return!!d.inner&&d.inner.type==="group"&&d.inner.group===a&&d.inner.nb.includes(b.ia)}return d.elements.includes(b.ia)}constructor(a){this.selection=
a}};var yYs=class{static G(a){O(a,{NNi:yV.ref,sla:yV.ref})}load(){this.sla=GJs(this.v6j())}K9k(a){this.NNi=a?GJs(lEs(this,a)):void 0}async v6j(){try{const a=await this.Th.pqa(new __c.Fod({Uy:3,user:this.X.user.id,brand:this.X.zb.brand.id,limit:4})),b=kEs(this,a),c=(b===null||b===void 0?void 0:b.map(this.f5l))||[];return await Promise.all(c)}catch(a){this.errorService.pa(a,{Ka:"Failed to load recent designs"})}}constructor(a,b,c,d,e){this.ja=a;this.Th=b;this.Vm=c;this.errorService=d;this.X=e;this.NNi=
(yYs.G(this),void 0);this.f5l=async f=>{var g;if(!f.Cr)return f;const h=await this.Vm.lec(new __c.GKh({query:f.Cr,limit:1}));return{...f,icon:(g=h.results.find(ub))===null||g===void 0?void 0:g.gh}}}};var BYs=fV(a=>{const b=a.Gk,c=a.aZa;return a.Xwd?kV(rV,{children:[dV(__c.pzj,{children:a.AYf?L("RgPpVw"):L("JwD2+A")}),b.length>0?b.map((d,e)=>dQs(zYs,{...d,key:e,onSelect:c})):Array.from({length:4}).map((d,e)=>dV(AYs,{},e))]}):null}),zYs=FV(a=>{const {title:b=L("jbbBUA"),href:c,icon:d,onSelect:e}=a;a=d?dV("img",{className:"_0qX3hA",src:d,alt:b}):dV(__c.dqr,{size:"medium"});a=dV("span",{className:"ALDE4g",children:a});const f=hV(()=>e(c),[e,c]);return dV(__c.nzj,{start:a,onClick:f,label:dV(P,{tagName:"span",
tone:mr,lineClamp:2,children:b}),ariaLabel:b})}),AYs=FV(()=>{const a=dV("span",{className:CV("ALDE4g","KnRKeg"),children:dV(__c.mMp,{size:"medium"})});return dV(__c.nzj,{start:a,disabled:!0,label:dV(__c.eu,{}),ariaLabel:L("Usq4rQ")})});var vEs=({ja:a,Th:b,Vm:c,errorService:d,X:e})=>({aof:e?new yYs(a,b,c,d,e):void 0,Z6f:BYs});var CYs={eventType:"editor_element_link_display_mode_changed",Oa(a){return sf({element_type:a.elementType,start_mode:a.Qlh,end_mode:a.pyg,page_index:a.Wb,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var DYs=class{static G(a){O(a,{gSh:gV,bmg:gV.bound})}async bmg(){if(this.selection.Jb)return this.zfl.bmg();if(this.ox.dz&&this.BJ)return FEs(this.BJ,this.ox.dz.sheet,this.ox.dz.anchor).catch(()=>{this.la.Ib({Cb:L("9vRlyg")})});this.la.Ib({Cb:L("9vRlyg")})}constructor(a,b,c,d,e,f,g,h,k,l,m){this.ox=a;this.N7b=b;this.BJ=c;this.zfl=d;this.la=e;this.selection=f;this.jc=g;this.P=h;this.V=k;this.Hu=l;this.oc=m;this.fSh=(DYs.G(this),()=>{var p;if(this.selection.Jb)return this.zfl.fSh();if(this.ox.dz)this.la.Ib({Cb:L("F7W1Qg")});
else{var q=(p=this.ox.link)===null||p===void 0?void 0:p.href;if(q)if(p=this.selection.La,(p===null||p===void 0?0:p.zg)&&p.zg.type==="text"&&p.Ji()&&q){var r=p.container.page,t=p.zg,u=this.V.sb("text_to_embed",{Fb:{name:"editor.element_convert",type:"text_to_embed"}});this.Hu.oK(q).then(gV(()=>{var w,x;u.mb().addEvent("embed_resolved");this.P.track(CYs,{elementType:"text",Qlh:"link",pyg:"iframe"});const y=(w=(x=this.N7b).B$h)===null||w===void 0?void 0:w.call(x,t,r);this.oc.oK(q,{Wc:"switch_display_mode",
span:u},{placement:y});r.elements.delete(t);u.end()})).catch(()=>{this.la.Ib({Cb:L("F7W1Qg")});u.end("error")})}else this.la.Ib({Cb:L("F7W1Qg")})}});this.gSh=()=>{var p;if(this.selection.Jb)return this.zfl.gSh();const q=(p=this.ox.link)===null||p===void 0?void 0:p.href;if(q){var r=this.selection.La;if(this.ox.dz&&this.BJ){var t=this.ox.dz.sheet;var u=this.ox.dz.anchor;p=this.BJ.link(t,u);return this.BJ.Ded(t,[u],q,(p===null||p===void 0?void 0:p.type)===1?p.title:q)}if((r===null||r===void 0?0:r.zg)&&
r.zg.type==="embed"&&r.Ji()&&q){p=r.container.page;r=r.zg;var w=this.V.sb("embed_to_link",{Fb:{name:"editor.element_convert",type:"embed_to_text"}});this.P.track(CYs,{elementType:"item",Qlh:"iframe",pyg:"link"});p.elements.delete(r);var x=(t=(u=this.N7b).B$h)===null||t===void 0?void 0:t.call(u,r,p);return this.oc.addText(q,{Wc:"switch_display_mode",g_:"default",span:w},{type:"v2",attrs:{link:q,decoration:"underline"}},{PPf:!0},x).then(gV(()=>{this.jc.Mz();w.ne()}))}}}}},EYs=class{static G(a){O(a,
{fSh:gV.bound,bmg:gV.bound})}async fSh(){if(this.ox.dz)this.la.Ib({Cb:L("F7W1Qg")});else try{await mEs(this,async(a,b)=>{await this.oc.oK(b,{Wc:"switch_display_mode"});this.P.track(CYs,{elementType:nEs(a),Qlh:a,pyg:"iframe"})})}catch(a){this.la.Ib({Cb:L("F7W1Qg")})}}async bmg(){if(this.ox.link){if(this.ox.dz&&this.BJ)return FEs(this.BJ,this.ox.dz.sheet,this.ox.dz.anchor).catch(()=>{this.la.Ib({Cb:L("9vRlyg")})});try{await mEs(this,async(a,b,c)=>{var d;b=await this.oc.$ea({type:"embed",text:c||b,url:b},
{Wc:"switch_display_mode"});a==="iframe"&&this.Xa.QAa("\n");((d=this.Xa.state)===null||d===void 0?0:d.Oc)&&this.Xa.Uv(this.Xa.state.Oc,b);this.P.track(__c.uEh,{type:"embed",source:"display_mode_switch"});this.P.track(CYs,{elementType:nEs(a),Qlh:a,pyg:"pill"})})}catch(a){this.la.Ib({Cb:L("9vRlyg")})}}}constructor(a,b,c,d,e,f,g,h){this.ox=a;this.la=b;this.Xa=c;this.BJ=d;this.P=e;this.Hu=f;this.oc=g;this.undo=h;this.gSh=(EYs.G(this),()=>{const k=this.ox.link;var l=this.ox.wgb;if(l&&k!==null&&k!==void 0&&
k.href){if(this.ox.dz&&this.BJ){l=this.ox.dz.sheet;const m=this.ox.dz.anchor,p=this.BJ.link(l,m);return this.BJ.Ded(l,[m],k.href,(p===null||p===void 0?void 0:p.type)===1?p.title:k.href)}this.Xa.QAa(k.href,{...Ry,link:k.href});l==="iframe"&&this.Xa.QAa("\n");this.P.track(CYs,{elementType:nEs(l),Qlh:l,pyg:"link"})}else this.la.Ib({Cb:L("dKo2FQ")})})}};var FYs=class{static G(a){O(a,{YE:mV,FEi:mV,S_h:mV,Wtm:mV,ksl:mV})}get YE(){return"enabled"}get FEi(){return this.ox.K1h?this.ksl?"disabled":"enabled":"hidden"}get S_h(){return this.ox.K0h?this.ksl?"disabled":"enabled":"hidden"}get Wtm(){return this.ox.wgb||"link"}get ksl(){if(!this.ox.wgb||!this.ox.link||this.ox.wgb!=="link")return!1;if(this.ox.link.type==="page"||!this.ox.Bse)return!0;const a=this.dfl.cfl.get(this.ox.link.href);return a?!a.egn:!1}constructor(a,b){this.ox=a;this.dfl=b;FYs.G(this)}};var pEs=class{constructor(){this.cfl=new ZPs}},qEs=class{getStatus(a){return this.store.cfl.get(a)!=null?2:this.oxb.has(a)?1:this.PMm.has(a)?3:0}constructor(a,b){this.store=a;this.$3c=b;this.oxb=new ZPs;this.PMm=new aQs}};var wEs=({ztr:a,Db:b,GR:c,la:d,P:e,V:f,Hu:g,oc:h,undo:k,...l})=>{const {dfl:m,Hts:p}=rEs(c),q=new FYs(l.ox,m);let r;b=new EYs(l.ox,d,l.Xa,l.BJ,e,g,h,k);r=l.Ja!=="responsive"?new DYs(l.ox,l.N7b,l.BJ,b,d,l.selection,l.jc,e,f,g,h):b;d=fV(t=>dV(UPs,{...t,current:q.Wtm||"link",YE:q.YE,GC:r.gSh,FEi:q.FEi,GZb:r.bmg,S_h:q.S_h,yTr:r.fSh,disabled:!!t.disabled,XSr:a.glm}));eV(()=>l.ox.link,t=>{l.ox.wgb==="link"&&t!=null&&(t=t.href,p.getStatus(t)===0&&oEs(p,t,p.$3c))});return{h1o:d}};var GYs=FV(({osb:a,onWheel:b,onKeyDown:c,Z6f:d,Xme:e})=>{const f=jV(null);return dV(R,{paddingTop:"1u",children:dV("div",{ref:f,className:CV("_3YiM0g",{PqOt4A:!a}),onWheel:b,onKeyDown:g=>c(g,f),children:kV(__c.mzj,{role:"list",ariaLabel:L("88IVkg"),children:[d&&dV(d,{}),e&&dV(e,{})]})})})});var HYs=class{constructor(){this.onWheel=a=>{a.stopPropagation()};this.onKeyDown=(a,b,c)=>{var d;c&&(b=(d=b.current)===null||d===void 0?void 0:d.querySelectorAll("button"))&&a.key==="Tab"&&a.target===b[b.length-1]&&c()}}};var yEs=()=>{const a=new HYs;return{fgp:fV(({osb:b,Z6f:c,Xme:d,iTr:e})=>dV(GYs,{osb:b,Z6f:c,Xme:d,onWheel:a.onWheel,onKeyDown:(f,g)=>a.onKeyDown(f,g,e)}))}};var IYs=({hzd:a,pages:b,uk:c,evl:d,onChange:e,onClose:f,Ybf:g})=>d?dV(eD,{label:L("Ye2XeQ"),Ev:"small",control:()=>dV(g,{errorMessage:a?void 0:L("L9zVzg"),pages:b,uk:c,onChange:e,aSk:f})}):null;var JYs={eventType:"editor_element_link_page_changed",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),num_pages_selected:a.YJ,all_pages_selected:a.ORd})}};var KYs=class{static G(a){O(a,{iym:gV.bound,yho:gV.bound,E3i:gV.bound,e3j:mV})}iym(){this.store.zwe=null}yho(a){this.store.zwe=[...a].map(b=>b-1);this.E3i({pages:this.store.aAe,ZEd:this.store.zwe,zVe:null})}get e3j(){return this.store.kDi.reduce((a,b)=>b.disabled?a:a+1,0)}constructor(a,b,c,d){this.store=a;this.ox=b;this.Db=c;this.rm=d;this.E3i=(KYs.G(this),({pages:e,ZEd:f,zVe:g})=>{const h=[];e.forEach((k,l)=>{let m;m=f?f.includes(l):g?k.id?g.includes(k.id):!1:!0;h.push({id:k.id,index:l,o3a:m,draft:k.draft,
title:k.title})});this.store.aAe=h})}},LYs=class extends KYs{static G(a){O(a,{Cth:gV.bound})}Cth(){var a;if(this.selection.Jb)return this.n0.Cth();if(this.store.E2m){var b=(a=this.ox.link)===null||a===void 0?void 0:a.href,c=this.store.zVe;if(!b)this.rm.Ib({Cb:L("fazCYw")});else if(c.length!==0){var d=this.selection.La,e=this.ox.G1a,f=VPs(b,c);this.Hu.oK(f).then(gV(()=>{var g,h;if(e!==null&&e!==void 0&&e.zg&&e.zg.type==="embed"&&e.Ji()){var k=e.container.page,l=e.zg,m={width:l.width,height:l.height},
p=(g=(h=this.N7b).B$h)===null||g===void 0?void 0:g.call(h,l,k);this.oc.oK(f,e===d?{Wc:"paste_url"}:{Wc:"paste_url",q7:"none"},{placement:p,dimensions:m});k.elements.delete(l);this.N.track(JYs,{YJ:c.length,ORd:c.length===this.e3j})}else this.rm.Ib({Cb:L("fazCYw")})})).catch(()=>{this.rm.Ib({Cb:L("fazCYw")})})}}}constructor(a,b,c,d,e,f,g,h,k,l){super(a,d,b,c);this.ox=d;this.n0=e;this.Hu=f;this.N7b=g;this.selection=h;this.oc=k;this.N=l;LYs.G(this)}},MYs=class extends KYs{static G(a){O(a,{Cth:gV.bound})}async Cth(){var a;
if(this.store.E2m){var b=this.ox.gMa;if((b===null||b===void 0?void 0:(a=b.wz)===null||a===void 0?void 0:a.type)==="embed")if(a=b.wz.url,b=this.store.zVe,!a)this.rm.Ib({Cb:L("fazCYw")});else if(b.length!==0)try{const c=VPs(a,b);await uEs(this,async(d,e)=>{await this.oc.oK(d,{Wc:"paste_url"},{placement:e})},c);this.P.track(JYs,{YJ:b.length,ORd:b.length===this.e3j})}catch(c){this.rm.Ib({Cb:L("fazCYw")})}}}constructor(a,b,c,d,e,f,g,h,k){super(a,d,b,c);this.store=a;this.Db=b;this.rm=c;this.ox=d;this.Hu=
e;this.Xa=f;this.oc=g;this.P=h;this.undo=k;MYs.G(this)}};var NYs=class{static G(a){O(a,{aAe:yV.ref,zwe:yV.ref,hzd:mV,kDi:mV,ZEd:mV,sPn:mV,zVe:mV,Ccn:mV})}get E2m(){var a;return this.YEm!==((a=this.ZEd)===null||a===void 0?void 0:a.slice().sort().join(","))}get hzd(){return this.zwe&&this.aAe.length!==0?this.zwe.length>0:!0}get kDi(){return this.aAe.map(a=>({disabled:a.draft,zd:a.index+1,g0:a.title}))}get ZEd(){return this.aAe.reduce((a,b)=>{b.o3a&&!b.draft&&a.push(b.index);return a},[])}get sPn(){return this.ZEd.map(a=>a+1)}get zVe(){return this.aAe.reduce((a,
b)=>{b.o3a&&!b.draft&&b.id&&a.push(b.id);return a},[])}get evl(){return this.Ccn}get Ccn(){return this.ox.link&&this.ox.wgb==="iframe"?AJa(this.ox.link.href)!=null:!1}constructor(a){this.ox=a;this.YEm=(NYs.G(this),void 0);this.aAe=[];this.zwe=null}};var xEs=({Db:a,la:b,Hu:c,oc:d,P:e,undo:f,...g})=>{const h=new NYs(g.ox);let k;f=new MYs(h,a,b,g.ox,c,g.Xa,d,e,f);k=g.Ja!=="responsive"?new LYs(h,a,b,g.ox,f,c,g.N7b,g.selection,d,e):f;const l=__c.r7p({Pzc:__c.u6p(),gAc:__c.t7p()});return{Ybf:fV(()=>h.kDi.length>0&&dV(IYs,{hzd:h.hzd,pages:h.kDi,uk:new Set(h.sPn),evl:h.evl,onChange:k.yho,onClose:k.Cth,Ybf:l})),tPc:h,Z1k:k}};var jFs=(a,b)=>c=>{if(a.YMe(c)){var d=c.startsWith("#")?f=>{if(!(f.target instanceof HTMLElement&&f.target.isContentEditable)){var g=a.IMb(c);g.type==="page"&&g.Dh&&(pa(b instanceof fFs),b.Hxi(g.Dh),f.preventDefault())}}:void 0,e=__c.DDb(c);if(e)return{...e,onClick:d}}};var OYs,PYs,QYs,RYs=parseInt("32px",10),SYs=parseInt("26px",10),BEs;
new (OYs=class extends JV{constructor(){super(BEs);PYs()}},(()=>{class a extends(QYs=HV){static G(b){O(b,{Z_i:yV.ref,increment:gV})}componentDidMount(){requestAnimationFrame(this.increment)}componentDidUpdate(){this.Z_i<this.props.pages.length&&requestAnimationFrame(this.increment)}render(){const b=this.props.pages,c=this.props.c_,d=this.props.onSelect,e=this.props.ke,f=this.props.mpc;let g=0;return b.length!==0?kV(rV,{children:[dV(__c.pzj,{children:L("hgOeRA")}),b.map((h,k)=>dV(TYs,{index:g++,thumbnail:this.Z_i>=
g?"pageView":"placeholder",page:h,mpc:f,c_:c,onSelect:d,ke:e},k))]}):null}constructor(...b){super(...b);this.Z_i=(BEs.G(this),0);this.increment=()=>{this.Z_i++}}}({c:[BEs,PYs]}=KV(a,[],[Ob],QYs))})(),OYs);
var TYs=fV(({page:a,...b})=>{var c=b.index,d=b.mpc;const e=b.onSelect;var f=b.c_,g=b.ke;c=dV("span",{className:"ALDE4g",children:b.thumbnail==="pageView"?dV(UYs,{ke:g,page:a}):dV(ej,{shape:"square",index:c})});d=d(a);g=f!=null&&a.equals(f);f=f!=null&&a.equals(f.container);const h=hV(()=>e(a),[e,a]),k=a.type==="concatenated-fixed-page"?a.page.pages.map(l=>dV(TYs,{page:a.tb(l),...b},l.id)):void 0;return dV(__c.nzj,{start:c,onClick:h,selected:g,label:d,ariaLabel:d,children:k,dY:f})}),VYs={COa:0},UYs=
FV(a=>dV(a.ke,{page:a.page,wA:VYs,nd:RYs,sf:SYs}));var AEs=class{static G(a){O(a,{qj:mV})}get qj(){return new Map(this.document.pages.toArray().map((a,b)=>[a,b+1]))}constructor(a){this.document=a;this.di=(AEs.G(this),void 0);this.mpc=EV(b=>{switch(b.container.type){case "fixed-document":const c=n(this.qj.get(b.page));return b.page.title?J("Bt5ung",[c,b.page.title]):J("NJD05g",[c]);case "concatenated-fixed-page":return ta(b.page.type==="fixed","Only fixed pages can be contained by concatenated pages"),b=b.container.pages.toArray().indexOf(b.page)+
1,J("rEOJPA",[b]);default:throw new v(b.container);}});this.h9h=EV(b=>{switch(b.container.type){case "fixed-document":return this.mpc(b);case "concatenated-fixed-page":var c=this.mpc(b.container);b=this.mpc(b);return J("UoaLaA",[c,b]);default:throw new v(b.container);}});this.ZWm=b=>this.document.pages.IRa(c=>this.mpc(this.di.tb(c)).toLocaleLowerCase().includes(b.toLocaleLowerCase())).map(c=>this.di.tb(c));this.di=Ff(a)}};var WYs=[void 0,"boolean","number","plaintext","text2","text3","embed"],XYs=[void 0,"plain_number","currency","percentage","embed"],KEs=class{Olb(a,b,c){var d,e,f;if(b.length!==1||!c)return!1;b=(d=this.Vc)===null||d===void 0?void 0:d.getContent(a,c.row,c.column);a=WYs.includes(b===null||b===void 0?void 0:(e=b.Mr)===null||e===void 0?void 0:e.type);e=XYs.includes(b===null||b===void 0?void 0:(f=b.hAa)===null||f===void 0?void 0:f.type);return a&&e}OO(a,b){if((a=this.link(a,b))&&a.type!==2)return a.url}link(a,
b){var c,d=this.Vc.getContent(a,b.row,b.column);if((d===null||d===void 0?void 0:(c=d.hAa)===null||c===void 0?void 0:c.type)==="embed"&&d.isEmpty)return{type:2};if(d!==null&&d!==void 0&&d.Mr)switch(d.Mr.type){case "boolean":case "number":case "plaintext":case "text2":case "text3":var e;return(a=(e=a.layout.attrs.get(__c.Le({link:void 0}),b.row,b.column))===null||e===void 0?void 0:e.link)?{type:0,url:a,text:d.zR}:void 0;case "embed":return(d=this.fwf(a,b))&&d!==null&&d!==void 0&&d.url?{type:1,url:d.url,
title:d.text}:{type:2};case "mention":case "media":case "formula":break;default:throw new v(d.Mr);}}hKi(a,b){const c=this.link(a,b);Cz(this.Vc,d=>{(c===null||c===void 0?void 0:c.type)===1&&d.kaa(a,b,__c.FQd);d.setAttributes(a,b,{link:void 0,decoration:void 0,color:void 0})})}isEmpty(a,b){if(this.link(a,b))return!1;a=this.Vc.getContent(a,b.row,b.column);var c;return(c=a===null||a===void 0?void 0:a.isEmpty)!==null&&c!==void 0?c:!0}Lt(a,b){a=this.link(a,b);if((a===null||a===void 0?void 0:a.type)===0)return a.text}contentType(a,
b){var c;return(c=this.link(a,b))===null||c===void 0?void 0:c.type}Ded(a,b,c,d){Cz(this.Vc,e=>{for(const p of b){var f=void 0,g=e,h=a,k=p,l=c,m=d;const q=this.Vc.getContent(h,k.row,k.column);g.q0(h,k,void 0);const r=(q===null||q===void 0?void 0:(f=q.Mr)===null||f===void 0?void 0:f.type)==="embed";m?g.rGa(h,k,m):(!q||q.isEmpty||r)&&g.rGa(h,k,l);g.setAttributes(h,k,{link:l,decoration:Ry.decoration,color:Ry.color})}})}fwf(a,b){var c;a=this.Vc.getContent(a,b.row,b.column);if((a===null||a===void 0?void 0:
(c=a.Mr)===null||c===void 0?void 0:c.type)==="embed")return a.Mr.value.map(d=>d.embed).at(0)}constructor(a,b){this.Vc=a;this.Hu=b}};var YYs=class{static G(a){O(a,{set:gV.bound})}get(a){return this.store.get(a)}set(a,b){this.store.set(a,b)}fetch(a){var b=this.store.get(a);if(b)return Promise.resolve(b);if(b=this.yw.get(a))return b;b=this.RNm(a).then(c=>{this.store.set(a,c);return c}).finally(()=>this.yw.delete(a));this.yw.set(a,b);return b}constructor(){this.store=(YYs.G(this),new ZPs);this.yw=new Map}},JEs=class extends YYs{async RNm(a){var b=await this.Hu.oK(a);if(b.title)return{url:a,text:b.title};b=await HEs(a,this.Db);const c=
b.document.draft.EK.thumbnail.images.at(0);c&&c.page!==0&&this.WYs.set(a,c);var d;b=(d=b.document.draft.content.title)!==null&&d!==void 0?d:"";return{url:a,text:b}}constructor(a,b,c){super();this.Hu=a;this.WYs=b;this.Db=c}},IEs=class extends YYs{async RNm(a){return(a=(await HEs(a,this.Db)).document.draft.EK.thumbnail.images.at(0))&&a.page!==0?a:Promise.reject(Error("No thumbnail found"))}constructor(a){super();this.Db=a}};var kFs=class{static G(a){O(a,{GEj:mV,ipm:mV,ED:mV,gte:mV,config:mV})}get GEj(){var a=this.ED;const b=this.gte;if(a&&b)return a=b.transform(a.ON.invert()),new xj(a.En.x,a.En.y+8)}get ipm(){var a=this.ED;const b=this.gte;if(a&&b)return a=b.scale(a.$c),new xj(a.En.x,a.En.y+8)}get ED(){const a=this.config;if(a)switch(a.container.type){case "fixed-page":return new uA(a.container,this.viewport,this.Ma);case "sheet-element":return new tA(a.container,this.viewport);case "sheet-item":return new wA(a.container,
this.fd,this.viewport);default:throw new v(a.container);}}get gte(){if(this.config){var a=this.config.anchor;return __c.Nk(this.config.sheet,a.column,a.row)}}get config(){const a=this.selection.Jb,b=this.selection.La;if((a===null||a===void 0?void 0:a.type)===4){var c=a.container.sheet;return a.anchor?{sheet:c.config,anchor:a.anchor,container:a.container.container.Fw(c)}:void 0}if((b===null||b===void 0?void 0:(c=b.inner)===null||c===void 0?void 0:c.type)==="sheet")return b.inner.anchor?{sheet:b.type===
"pages"?b.inner.page.sheet:b.inner.sheet.config,anchor:b.inner.anchor,container:b.inner.container}:void 0}constructor(a,b,c,d){this.selection=a;this.viewport=b;this.fd=c;this.Ma=d;kFs.G(this)}};var YEs=fV(a=>dV("div",{className:"WDsHvg",children:dV(R,{background:"surface",borderRadius:"elementRound",shadow:"surface",width:"full",padding:"0",hq:"1.5u",children:kV(jr,{spacing:"0.5u",Fa:"center",align:"spaceBetween",children:[dV(ir,{children:dV(a.t$f,{})}),dV(ir,{width:"content",children:dV(a.n7f,{})})]})})})),XEs=fV(a=>dV("div",{className:"WDsHvg",children:dV(R,{background:"surface",shadow:"surface",width:"full",borderRadius:"container",padding:"1u",hq:"1.5u",pu:"0.5u",children:kV(jr,{spacing:"0.5u",
Fa:"center",align:"spaceBetween",children:[dV(ir,{children:kV(Uc,{spacing:"0",children:[dV(P,{size:"medium",weight:"bold",lineClamp:1,children:a.title}),dV(a.t$f,{})]})}),dV(ir,{width:"content",children:dV(a.n7f,{})})]})})})),WEs=fV(a=>dV("div",{className:"EiyiZg",children:dV(R,{background:"surface",shadow:"surface",width:"full",borderRadius:"container",children:kV(Uc,{spacing:"0.5u",align:"center",children:[dV(R,{padding:"2u",paddingBottom:"0",width:"full",children:dV(a.kbf,{})}),dV(R,{hq:"2u",pu:"1u",
paddingBottom:"1u",children:kV(jr,{spacing:"0.5u",Fa:"center",align:"spaceBetween",children:[dV(ir,{children:kV(Uc,{spacing:"0",children:[dV(P,{size:"medium",weight:"bold",lineClamp:1,children:a.title}),dV(a.t$f,{})]})}),dV(ir,{width:"content",children:dV(a.n7f,{})})]})})]})})})),TEs=fV(a=>a.rw&&dV(R,{background:"surface",borderRadius:"elementRelaxed",padding:"0.5u",shadow:"surface",children:dV(a.Fbj,{})})),REs=fV(a=>dV("div",{className:"_2OvirQ",style:{left:a.anchorPoint.x,top:a.anchorPoint.y},children:a.children})),
VEs=fV(a=>{var b,c;return kV(__c.Jo,{fit:"coverCrop",border:"low",aspectRatio:4/3,children:[dV(__c.cv,{src:a.thumbnail.url,aspectRatio:((b=a.thumbnail.width)!==null&&b!==void 0?b:1)/((c=a.thumbnail.height)!==null&&c!==void 0?c:1)}),dV("div",{className:"P4_mlA",children:dV(__c.qr,{variant:"contrast",icon:__c.Ut,...a.vSg})})]})}),UEs=fV(a=>{var b;return dV(or,{label:a.vSg.href,children:dV("div",{className:"eKZKbg",children:dV(P,{size:"small",children:dV(__c.aj,{...a.vSg,variant:"semiBold",children:(b=
a.Hyo)!==null&&b!==void 0?b:a.vSg.href})})})})}),SEs=fV(a=>dV("div",{className:"h12JLw",children:dV(__c.Oo,{open:a.open,oa:a.oa,reference:b=>dV(sr,{...b,size:"small",Nc:"medium",icon:lu,onClick:a.onClick,variant:"tertiary",ariaLabel:L("S/iSMg")}),placement:"bottom-center",children:dV(R,{background:"surface",borderRadius:"elementRelaxed",padding:"0.5u",shadow:"surface",children:dV(a.Fbj,{})})})}));var NEs=class{static G(a){O(a,{isOpen:mV,DJa:gV.bound,Pte:gV.bound,jMd:gV.bound})}get isOpen(){return this.store.isOpen}open(a){this.QSb();this.store.isOpen=!0;a.type===2&&(this.store.rw=!0);this.k4i()}close(){this.store.rw=!1;this.store.isOpen=!1}DJa(){this.QSb();this.store.rw=!0}Pte(){this.store.rw=!1}jMd(){this.store.rw=!this.store.rw}k4i(){const a=this.store.selection;(a===null||a===void 0?void 0:a.link.type)!==1||this.store.thumbnail||this.y2e.fetch(a.link.url).catch(()=>{})}QSb(){var a;(a=this.kh)===
null||a===void 0||a.xpd()}constructor(a,b,c){this.store=a;this.y2e=b;this.kh=c;NEs.G(this)}};var MEs=class{static G(a){O(a,{rw:yV.ref,isOpen:yV.ref,kni:mV,aie:mV,thumbnail:mV,selection:mV,TK:mV})}get kni(){const a=this.selection;if(a&&a.link.type!==2){var b;return a.link.type===0?(b=this.ox.fFf)!==null&&b!==void 0?b:a.link.url:a.link.url}}get aie(){const a=this.selection;if((a===null||a===void 0?void 0:a.link.type)===1)return a.link.title}get thumbnail(){const a=this.selection;if((a===null||a===void 0?void 0:a.link.type)===1)return this.y2e.get(a.link.url)}get selection(){var a;const b=this.rOn.ED,
c=this.rOn.ipm;if(b&&c&&this.TK){var d=this.TK.sheet,e=this.TK.anchor;if(this.BJ.Olb(d,this.TK.cells,e)){var f=(a=this.BJ)===null||a===void 0?void 0:a.link(d,e);if(f)return{link:f,sheet:d,anchor:e,ED:b,anchorPoint:c}}}}get TK(){var a;const b=this.JF.Jb,c=this.JF.La;return b&&b.type===4?b.anchor?{sheet:b.container.sheet.config,anchor:b.anchor,cells:Array.from(b.cells)}:void 0:c&&c.Ji()&&((a=c.inner)===null||a===void 0?void 0:a.type)==="sheet"?c.inner.anchor?{sheet:c.type==="pages"?c.inner.page.sheet:
c.inner.sheet.config,cells:Array.from(c.inner.cells),anchor:c.inner.anchor}:void 0:this.TK}constructor(a,b,c,d,e){this.BJ=a;this.y2e=b;this.rOn=c;this.ox=d;this.JF=e;this.rw=(MEs.G(this),!1);this.isOpen=!1}};var ZYs=class{static G(a){O(a,{gki:yV.ref})}constructor(){this.gki=(ZYs.G(this),!1)}},$Ys=class{static G(a){O(a,{nnn:mV,sul:mV,LOb:mV,ero:mV,kOb:mV,Mt:mV,Hqc:mV,Afn:mV,vEi:mV,DZc:mV,GVe:mV,jPk:mV,Tmf:gV.bound,DZk:gV.bound,cUk:gV.bound})}get nnn(){const a=this.selection.La;if(!(this.Ma.mode<40)&&a)switch(a.type){case "pages":var b,c,d,e;if(((b=a.inner)===null||b===void 0?void 0:b.type)==="background"||((c=a.inner)===null||c===void 0?void 0:c.type)==="pages"&&((d=a.inner.inner)===null||d===void 0?void 0:
d.type)==="background")return 2;if(((e=a.Yz)===null||e===void 0?void 0:e.type)==="responsive-page")break;return 1;case "elements":return 3}}get sul(){const a=this.selection.La;return this.Ma.mode<40||!a?!1:this.kOb?this.kOb.locked:this.Mt}get LOb(){var a,b,c=this.selection.La;if(this.Ma.mode<40||!c)return!1;if(((a=c.inner)===null||a===void 0?void 0:a.type)==="sheet")switch(c.type){case "audio":case "pages":return!1;case "elements":var d,e;return((e=this.jc)===null||e===void 0?void 0:(d=e.state)===
null||d===void 0?void 0:d.type)!=="focused";default:throw new v(c);}if(((b=c.inner)===null||b===void 0?void 0:b.type)==="sheet-cell-media")return!1;switch(c.type){case "audio":return!1;case "pages":var f,g,h;if(((f=c.Yz)===null||f===void 0?void 0:f.type)==="responsive-page")return!1;if(((g=c.inner)===null||g===void 0?void 0:g.type)==="pages"){var k;return((k=c.inner.inner)===null||k===void 0?void 0:k.type)==="background"?(a=c.inner.inner.page.Jc,c.inner.inner.page.locked||a.some(l=>!__c.CVa(l)||l.locked)):
c.inner.pages.every(l=>!__c.zVa(l)||l.locked)}if(((h=c.inner)===null||h===void 0?void 0:h.type)==="background"){c=c.inner.page;if(c.type==="responsive"||zg(c.dimensions||this.document.dimensions))return!1;a=c.Jc;return c.locked||a.some(l=>!__c.CVa(l)||l.locked)}return c.pages.some(l=>l.type!=="responsive")&&c.pages.every(l=>!__c.zVa(l)||l.locked);case "elements":return this.kOb?this.kOb.locked:!0;default:throw new v(c);}}get ero(){const a=this.selection.La;return this.Ma.mode<40||!a?!1:a.type==="pages"&&
a.inner==null&&this.Mt}get kOb(){var a=this.selection.La;if(a&&a.type==="elements"&&a.inner!=null&&(a.inner.type==="group"||a.inner.type==="layout"||a.inner.type==="layout-cell")&&({element:a}=__c.al(a.inner.container),__c.qf(a)))return a}get Mt(){const a=this.selection.La;return!(a===null||a===void 0?0:a.Ji())}get Hqc(){const a=this.selection.La;return!(a===null||a===void 0?0:a.Ji(am.Ps))}get Afn(){return this.Mt&&!this.Hqc}get vEi(){const a=this.selection.La;if(!a)return!1;switch(a.type){case "audio":return!1;
case "elements":return a.elements.every(c=>__c.xfk(this.vc,a.container.Sf(c))!=null);case "pages":if(a.inner)switch(a.inner.type){case "background":var b=a.inner.container;return b.type==="section-marker"?!1:__c.vfk(this.vc,b.zK(a.inner.background))!=null;case "sheet":return __c.Mde(this.vc,a.inner.container);case "sheet-cell-media":return b=a.inner.container.container,b.container&&__c.Mde(this.vc,b.container.tb(b.page))!=null;case "pages":if(a.inner.inner)switch(a.inner.inner.type){case "background":return __c.vfk(this.vc,
a.inner.inner.container.zK(a.inner.inner.background))!=null;default:throw new v(a.inner.inner.type);}const c=a.inner;return c.pages.every(d=>__c.Mde(this.vc,c.container.tb(d))!=null);default:throw new v(a.inner);}return a.pages.every(c=>__c.Mde(this.vc,a.container.tb(c))!=null);default:throw new v(a);}}get DZc(){const a=this.selection.La;if(!a||!this.vEi)return!1;switch(a.type){case "audio":return!1;case "elements":return!$l(this.vc,a.container,this.GVe?am.Ps:void 0);case "pages":var b;if(((b=a.Yz)===
null||b===void 0?void 0:b.type)==="responsive-page"&&!a.Yz.page.locked)return!1;if(!a.inner)return!0;switch(a.inner.type){case "sheet":case "sheet-cell-media":return!0;case "background":return a.inner.container.type!=="fixed-page"?!1:!$l(this.vc,a.inner.container,am.Ps);case "pages":if(!a.inner.inner)return!$l(this.vc,a.inner.container,am.Ps);switch(a.inner.inner.type){case "background":return!$l(this.vc,a.inner.inner.container,am.Ps);default:throw new v(a.inner.inner.type);}default:throw new v(a.inner);
}default:throw new v(a);}}get GVe(){const a=this.selection.La;if(!this.$Wa||!a||!a.type)return!1;switch(a.type){case "audio":return!1;case "pages":var b,c;if(((b=a.Yz)===null||b===void 0?void 0:b.type)==="responsive-page")return!1;const {inner:d,Nd:e}=((c=a.inner)===null||c===void 0?void 0:c.type)==="pages"?a.inner:a;return(d===null||d===void 0?void 0:d.type)==="background"?!1:!!e;case "elements":return!!a.zg&&__c.Yqb(this.vc,a.zg,am.Ps);default:throw new v(a);}}get jPk(){var a,b;return((b=this.selection.La)===
null||b===void 0?void 0:(a=b.pages)===null||a===void 0?void 0:a.filter(c=>c.type!=="responsive").length)||0}Tmf(a){const b=this.V.sb("change_element_locking",{Fb:{name:"editor.change_element_locking"}});var c=this.selection.La;if(c&&this.DZc){var d=this.Mt&&!this.Hqc;if(this.GVe){var e=c.zg;switch(c.type){case "audio":break;case "pages":var f;const {Nd:g,inner:h}=((f=c.inner)===null||f===void 0?void 0:f.type)==="pages"?c.inner:c;if(g&&!h&&!this.Mt){c=b.mb();this.vc.MSc(g,!0,[am.Ps]);pFs(this,{action:"locking",
IL:qFs([am.Ps]).join(","),POe:"page",location:a,mb:c});break}rFs(this,{selection:c,locked:d||!this.Mt,location:a,mb:b.mb()});break;case "elements":if(e&&!this.Mt){d=__c.Yqb(this.vc,e,am.Ps)?[am.Ps]:void 0;rFs(this,{selection:c,locked:!0,IL:d,location:a,mb:b.mb()});break}rFs(this,{selection:c,locked:d||!this.Mt,location:a,mb:b.mb()});break;default:throw new v(c);}}else rFs(this,{selection:c,locked:d||!this.Mt,location:a,mb:b.mb()});b.ne()}else b.end("error")}DZk(a){const b=this.V.sb("click_floating_toolbar_unlock",
{Fb:{name:"editor.click_floating_toolbar_unlock"}}),c=this.selection.La;c&&this.DZc&&this.Mt?(rFs(this,{selection:c,locked:!1,mb:b.mb(),location:a}),b.ne()):b.end("error")}cUk(a){const b=this.V.sb("click_context_menu_full_lock",{Fb:{name:"editor.click_context_menu_full_lock"}}),c=this.selection.La;c&&this.DZc&&!this.Mt?(rFs(this,{selection:c,locked:!0,mb:b.mb(),location:a}),b.ne()):b.end("error")}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.document=b;this.Ma=c;this.selection=d;this.jc=e;this.vc=
f;this.N=g;this.V=h;this.$Wa=k;$Ys.G(this)}};var aZs,bZs,cZs,dZs,eZs,fZs,gZs,hZs,iZs,jZs;
new (aZs=class extends JV{constructor(){super(jZs);dZs()}},(()=>{class a extends(eZs=HV){static G(b){O(b,{icon:mV,label:mV,tooltip:mV})}render(){var b=this.props.L;const c=b.Mt;b=b.DZc;return dV(this.props.zi,{tooltip:this.tooltip,disabled:c&&!b,selected:c,yh:"icon",icon:this.icon,onClick:this.props.onClick,children:this.label})}get icon(){return kZs(this.props.L)}get label(){return lZs(this.props.L)}get tooltip(){var b=this.props.L;const c=b.Mt,d=b.vEi,e=b.DZc;return c&&!d?L("rQJdVg"):c&&!e?L("rnCrIw"):
!c&&b.GVe?L("ou4BGA"):mZs(b)}constructor(...b){super(...b);a.G(this)}}({c:[jZs,dZs]}=KV(a,[],[Ob],eZs))})(),aZs);var nZs;
new (bZs=class extends JV{constructor(){super(nZs);fZs()}},(()=>{class a extends(gZs=HV){static G(b){O(b,{icon:mV})}render(){const b=this.props.onClick;var c=this.props.L;const d=this.props.zi;var e=c.vEi;const f=c.DZc;c=c.Hqc?L("X5CkxQ"):L("416rFw");e=e?f?c:L("rnCrIw"):L("rQJdVg");return dV(d,{tooltip:e,disabled:!f,selected:!0,yh:"icon",icon:this.icon,onClick:b,children:c})}get icon(){return kZs(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[nZs,fZs]}=KV(a,[],[Ob],gZs))})(),bZs);var oZs;
new (cZs=class extends JV{constructor(){super(oZs);hZs()}},(()=>{class a extends(iZs=HV){static G(b){O(b,{icon:mV,label:mV})}render(){const b=this.props.L,c=b.DZc;return dV(this.props.fl,{disabled:b.Mt&&!c,Icon:this.icon,onClick:this.props.onClick,oa:this.props.oa,label:this.label,im:this.props.im})}get icon(){var b=this.props.L;const c=b.Mt;return c&&!b.Hqc?gbr:c?XJh:fy}get label(){return this.props.ePl?lZs(this.props.L):mZs(this.props.L)}constructor(...b){super(...b);a.G(this)}}({c:[oZs,hZs]}=KV(a,
[],[Ob],iZs))})(),cZs);
var pZs=fV(a=>{const b=a.oa,c=a.L;a=a.fl;const d=c.Mt,e=c.DZc,f=hV(()=>c.cUk("context_menu"),[c]);return dV(a,{disabled:d&&!e,Icon:fy,onClick:f,oa:b,label:L("7Dt6hg")})}),qZs=fV(a=>{const b=a.oa,c=a.im,d=a.L;a=a.fl;const e=d.Mt,f=d.DZc,g=hV(()=>d.Tmf("context_menu"),[d]);return dV(a,{disabled:e&&!f,Icon:gbr,onClick:g,oa:b,label:L("ou4BGA"),im:c})}),kZs=a=>{const b=a.Mt;return b&&!a.Hqc?gbr:b?fy:XJh},lZs=a=>{const b=a.Mt;a=b&&!a.Hqc;return b&&!a?L("X5CkxQ"):L("7Dt6hg")},mZs=a=>{const b=a.Mt,c=b&&!a.Hqc,
d=a.nnn;if(!d)return b&&!c?L("X5CkxQ"):L("7Dt6hg");switch(d){case 1:return b&&!c?J("M6hjLQ",[a.jPk]):J("ZUCbLw",[a.jPk]);case 2:return b&&!c?L("l2Wnow"):L("pLKZpA");case 3:return b&&!c?L("X5CkxQ"):L("7Dt6hg");default:throw new v(d);}};var rZs='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="m16.099 15.745-.075.088a.711.711 0 0 1-.283.202c-.125.051-.26.085-.4.102l-.22.025v.99l.268-.02a1.743 1.743 0 0 0 .487-.11v2.223h1.048v-3.5h-.825Z"/><g fill="currentColor"><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/><path d="M13 15.25h6a.76.76 0 0 1 .75.75v3a.76.76 0 0 1-.75.75h-6a.76.76 0 0 1-.75-.75v-3a.76.76 0 0 1 .75-.75M13 14c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-6ZM4 3h12a2 2 0 0 1 1.975 1.75h-1.277a.756.756 0 0 0-.698-.5H4a.76.76 0 0 0-.75.75v8c0 .319.213.592.5.698v1.277A2 2 0 0 1 2 13V5c0-1.1.9-2 2-2Z"/><path d="M7 6h12c1.1 0 2 .9 2 2v5.458a3.22 3.22 0 0 0-1.25-.612V8a.76.76 0 0 0-.75-.75H7a.76.76 0 0 0-.75.75v8c0 .407.343.75.75.75h2.75V18H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2Z"/></g></svg>';var sZs=er({medium:rZs});var tZs=fV(({T$i:a,qb:b})=>kV("div",{className:"_6ykBxw",children:[dV(a,{}),dV(b,{})]})),uZs=({W7o:a,Nq:b,lsp:c,Yf:d})=>dV(R,{padding:"2u",height:"full",paddingTop:d?"0":"2u",children:kV(Uc,{spacing:"2u",children:[dV(P,{size:"medium",weight:"bold",children:L("5VY+6Q")}),dV(a,{}),dV(P,{size:"medium",weight:"bold",children:L("Wz4zjQ")}),dV(b,{}),dV(c,{})]})}),vZs=({onClick:a})=>kV(rV,{children:[dV(P,{size:"medium",weight:"bold",children:L("GtlHpg")}),dV(bj,{variant:"secondary",stretch:!0,onClick:a,
children:L("VMCXkA")})]}),wZs=({onClick:a})=>dV("div",{className:"eOO2Pw",children:dV(Uc,{align:"start",spacing:"2u",children:dV(bj,{variant:"secondary",icon:Ux,xp:"start",stretch:!0,onClick:a,children:L("NWQG1w")})})});var xZs=class{static G(a){O(a,{Abb:mV,zm:mV,Ag:mV,Mwm:gV.bound,pBn:gV.bound,m9l:gV.bound,nsn:gV.bound,LV:gV.bound,PGn:gV,lgm:mV})}get Abb(){return!!this.store.QEe||this.lgm}get zm(){return[...this.document.pages].map((a,b)=>({zd:b+1,g0:a.title,disabled:a.draft}))}get o$r(){var a;switch((a=this.document.Q$)===null||a===void 0?void 0:a.text.Ya){case "${pageNumberOnly}\n":return"${pageNumberOnly}";case "${pageNumber}\n":return"${pageNumber}";case "${pageNumberOfTotal}\n":return"${pageNumberOfTotal}";
default:return"${pageNumberOnly}"}}get Ag(){const a=[...this.document.pages],b=this.document.pages.filter(c=>!c.draft&&Jps(c,this.gb)&&c.elements.filter(d=>kw(d)).length>0);return new Set(b.map(c=>a.indexOf(c)+1))}Mwm(){const a=Ff(this.document);this.document.pages.forEach(b=>{if(Jps(b,this.gb)){const c=a.tb(b);b.elements.forEach(d=>{var e,f;return kw(d)&&((e=(f=this.Ep).awa)===null||e===void 0?void 0:e.call(f,[d],c))})}});this.Fsc.Lwm("edit_panel")}pBn(a){const b=this.Ag,c=[...this.document.pages].filter((e,
f)=>a.has(f+1)),d=Ff(this.document);this.document.pages.forEach(e=>{if(!e.draft&&Jps(e,this.gb))if(c.includes(e)){var f,g;if(!e.elements.first(l=>kw(l))&&(f=(g=this.oc).hpe)!==null&&f!==void 0&&f.call(g,e)){var h=e.elements.first(l=>kw(l)),k=Ff(this.document).tb(e);h&&this.selection.Il(k,h);setTimeout(gV(()=>{this.viewport.ya===e&&(this.store.QEe=void 0)}))}}else e===this.viewport.ya&&(this.selection.deselectAll(),this.store.QEe=e,this.selection.cOb(this.viewport.ya)),f=d.tb(e),g=e.elements.filter(l=>
kw(l)),(h=(k=this.Ep).awa)===null||h===void 0||h.call(k,g,f)});__c.Wje(this.RCd,"page_numbers_properties_applied_to_all_pages",{Wh:"page_numbers_shown",nla:tFs(b),rbc:tFs(this.Ag),location:"edit_panel"})}m9l(){var a;const b=(a=this.selection.La)===null||a===void 0?void 0:a.zg;b&&kw(b)&&(a=__c.fke(this.Fsc,b,this.selection.La.container.page))&&this.Fsc.dNl(a,{location:"edit_panel",rbc:__c.Yje(a)})}nsn(a){this.store.rae&&(this.toolbar.vB(this.store.rae),this.RCd.KMd(a))}LV(){this.store.QEe=void 0}get lgm(){const a=
this.selection.La;return a!==null&&a!==void 0&&a.Ji()?!(a===null||a===void 0||!a.zg)&&kw(a.zg):!1}constructor(a,b,c,d,e,f,g,h,k,l){this.store=a;this.document=b;this.viewport=c;this.selection=d;this.gb=e;this.Ep=f;this.oc=g;this.Fsc=h;this.RCd=k;this.toolbar=l;this.PGn=(xZs.G(this),()=>{this.store.rae&&this.toolbar.vB(this.store.rae)})}};var yZs=class{static G(a){O(a,{QEe:yV.ref,rae:yV.ref,ts:mV})}get ts(){return this.ka.layout===2}constructor(a){this.ka=a;this.QEe=(yZs.G(this),void 0)}};var zZs={eventType:"editor_outline_panel_toggled",Oa(a){return sf({action:a.action,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},AZs={eventType:"editor_outline_navigation_interacted",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var BZs=class{open(){this.P.track(zZs,{action:"opened"})}close(){this.P.track(zZs,{action:"closed"})}constructor(a){this.P=a}};var CZs=FV(a=>dV(a.A0a,{icon:__c.Rzj,active:a.active,onClick:a.onClick,jk:!0,className:"_9VOALA",children:L("Ex0Ltw")})),DZs=FV(a=>dV(a.NE,{onClick:a.onClick,ZY:__c.Rzj,children:L("saxtEw")}));var EZs=[{src:__webpack_require__.p+"images/4f0fade581fa0df5092428513149dd75.png",Iq:1},{src:__webpack_require__.p+"images/2b94f461e58f5fc5a2225e718bde79ec.png",Iq:2},{src:__webpack_require__.p+"images/2864846bc0151d3608cc8219e63ffcf0.png",Iq:3}],FZs=fV(a=>{const b=jV(null),c=a.node,d=a.Z0g,e=hV(()=>d(c),[c,d]);iV(()=>{if(c.selected){var f,g;const h=a.layout===2?"start":"center";(g=b.current)===null||g===void 0||(f=g.scrollIntoView)===null||f===void 0||f.call(g,{behavior:"smooth",block:h})}},[c.selected,
a.layout]);return dV(bu,{onClick:e,active:c.selected,children:dV("div",{ref:b,className:CV("GbUzEA",uFs(c.level),{Xu0QtA:c.selected}),children:dV(__c.pr,{tone:mr,children:c.title})})})}),GZs=fV(a=>{const b=a.node,c=a.layout;return b.children.length>0?kV(bLs,{children:[dV(FZs,{...a}),b.children.map(d=>dV(GZs,{node:d,Z0g:a.Z0g,layout:c},d.key))]}):dV(FZs,{...a})}),HZs=a=>dV(R,{height:"full",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:"JXDRdg",children:dV(a.layout===
2?ao:bLs,{children:kV(R,{display:"flex",alignItems:"center",justifyContent:a.layout===2?"start":"center",flexDirection:"column",padding:"2u",minHeight:"minTouchableArea",children:[dV(R,{paddingBottom:"4u",className:"uAIpuQ",children:dV(__c.Qc,{alt:"",sources:EZs,className:"aibHcw"})}),kV(R,{paddingBottom:"2u",children:[dV(P,{size:"large",weight:"bold",alignment:"center",children:L("GUi1aA")}),dV(P,{alignment:"center",children:L("ma9AgA")})]}),a.OIs&&a.Vzn&&dV(bj,{variant:"primary",onClick:a.Vzn,children:L("0hiCVA")})]})})}),
IZs=a=>{const b=a.nodes.length===0,c=b?dV(HZs,{...a}):dV(R,{height:"full",padding:"2u",paddingTop:"0",className:"XkLBwQ",children:kV(ao,{children:[dV(Yo,{role:"navigation",variant:"rounded",children:a.nodes.map(d=>dV(GZs,{node:d,Z0g:a.Z0g,layout:a.layout},d.key))}),dV(R,{minHeight:"minTouchableArea"})]})});return dV(__c.hqh,{duration:350,oWj:0,dca:"fill-height",keyFrame:b?0:1,direction:b?"back":"forward",children:c})};var JZs=Wc*5,MZs=class{static G(a){O(a,{nBo:gV.bound,Vte:gV.bound,Tal:gV.bound,focusNode:gV.bound,ozj:gV,$Ml:gV})}Dxj(){this.HYh();this.wAm=eV(()=>this.viewport.scrollTop,this.ySr);this.$of=eV(()=>({blocks:this.iKa.blocks,Sdd:this.iKa.Sdd}),({blocks:a,Sdd:b})=>this.ozj(a,b),{equals:lV.structural})}HYh(){var a,b;(a=this.wAm)===null||a===void 0||a.call(this);(b=this.$of)===null||b===void 0||b.call(this)}nBo(){if(this.store.F7d)this.Vte();else{var a,b;this.nn.open(this.fBh,{Eaa:"start"});this.$Nn.open();
(a=(b=this.Hb.roa).Spn)===null||a===void 0||a.call(b);this.Tal()}}Vte(){this.nn.close(this.fBh);this.$Nn.close()}Tal(){this.ozj(this.iKa.blocks,this.iKa.Sdd);this.$Ml(this.viewport.scrollTop)}focusNode(a){const b=a.Oc;if(b){var c=Qw.collapseToStart(a.range);a=KZs(this.fd,a);var d=()=>this.Xa.Ru(b,c),e=this.viewport.scrollingContainer;if(e){var f=e.scrollHeight,g=e.scrollTop;e=e.clientHeight;Math.abs(Math.ceil(g)-Math.ceil(a))<2||g<a&&g+e>=f?d():this.viewport.noa(a,__c.Zm()?"auto":"smooth").then(d)}else d()}}ozj(a,
b){if(this.store.F7d){vFs(this);var {tree:c,P$n:d}=AFs(a,b);this.store.nodes=c;this.store.Fti=d}}$Ml(a=0){if(this.store.F7d){vFs(this);a+=JZs;var b=LZs(this.store.nodes,a,this.fd,!1);b&&(a=LZs([b],a,this.fd,!0))&&(a.selected=!0,this.store.nYg=a)}}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.nn=b;this.Xa=c;this.iKa=d;this.fd=e;this.viewport=f;this.$Nn=g;this.fBh=h;this.Hb=k;this.wAm=(MZs.G(this),void 0);this.ySr=Hb(l=>this.$Ml(l),250);eV(()=>this.store.F7d,l=>l?this.Dxj():this.HYh(),{equals:lV.structural})}},
LZs=(a,b,c,d)=>{let e;for(const f of a)if((a=KZs(c,f)<=b)&&d)e=LZs(f.children,b,c,d)||f;else if(a)e=f;else break;return e},KZs=(a,b)=>{var c,d;return b.Oc?Math.floor((d=(c=a.FEa(b.Oc,b.range))===null||c===void 0?void 0:c.tl.y)!==null&&d!==void 0?d:1):1};var xFs=class{static G(a){O(a,{selected:yV.ref,title:mV})}get title(){var a,b;return(b=(a=this.block)===null||a===void 0?void 0:a.duc.get().trim())!==null&&b!==void 0?b:""}get Oc(){var a;return(a=this.block)===null||a===void 0?void 0:a.Oc}get range(){var a,b;return(b=(a=this.block)===null||a===void 0?void 0:a.range)!==null&&b!==void 0?b:Qw.start()}constructor(a,b,c){this.key=a;this.level=b;this.block=c;this.parent=(xFs.G(this),void 0);this.children=[];this.selected=!1}},yFs=Math.round(__c.BSb({fontSize:15*
fu,fontWeight:"normal"})),NZs=class{static G(a){O(a,{nYg:yV.ref,Fti:yV.ref,nodes:yV.shallow,vwn:mV,Ikh:mV})}get F7d(){return this.layout===2?this.vwn:this.Ikh}get vwn(){return this.Ng.stack.length>0}get Ikh(){return this.nn.isOpen(this.fBh)}constructor(a,b,c,d){this.layout=a;this.Ng=b;this.nn=c;this.fBh=d;this.nYg=(NZs.G(this),void 0);this.nodes=[]}};var OZs=a=>{const {fl:b,whb:c,...d}=a;return dV(b,{...d,Icon:__c.Av,label:J("v26itA",[c])})},PZs=a=>{const {fl:b,whb:c,...d}=a;return dV(b,{...d,Icon:__c.zv,label:J("8KUvdQ",[c])})},QZs=a=>{const b=a.Dh.page,c=a.disabled,d=a.onClick;a=a.oic;const e=hV(()=>{d(b)},[d,b]);return dV(a,{disabled:c,hb:b.draft?J("8KUvdQ",[1]):J("v26itA",[1]),icon:b.draft?__c.jph:__c.kph,onClick:e})},RZs=a=>{const b=a.Dh,c=a.disabled,d=a.onClick;a=a.Button;const e=hV(()=>{d(b)},[d,b]),f=b.ia;return dV(a,{disabled:c,hb:f.draft?
J("PXv+rw",[1]):J("gmBRhA",[1]),icon:f.draft?__c.jph:__c.kph,onClick:e})},SZs=a=>{const b=a.onClick,c=a.vo;return dV(a.fl,{disabled:a.disabled,label:c?J("PXv+rw",[1]):J("gmBRhA",[1]),Icon:c?__c.jph:__c.kph,onClick:b})},TZs=a=>{const b=a.zi,c=a.Enq,d=a.h5s,e=a.active;a=a.onClick;const f=e?__c.zv:__c.Av,g=e?J("a2RjPQ",[d]):J("+/GZ3Q",[c]);return dV(b,{onClick:a,icon:f,yh:"icon",disabled:c===0&&d===0,selected:e,tooltip:g,children:g})};var UZs=class{static G(a){O(a,{wSa:mV,U1m:mV,p3m:mV,y2m:mV,ynk:mV,Y$n:mV,V1m:mV,LXd:mV,oNd:mV,NCn:gV.bound,OCn:gV.bound,JGn:gV.bound,GXk:gV.bound,MKn:gV.bound})}get wSa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}get U1m(){var a;return!((a=this.LXd)===null||a===void 0||!a.length)&&this.wSa}get p3m(){var a;return!((a=this.oNd)===null||a===void 0||!a.length)&&this.wSa}get y2m(){return this.document.pages.count()!==1}get ynk(){var a,b=this.selection.La;
b=b===null||b===void 0?void 0:(a=b.Yz)===null||a===void 0?void 0:a.ia;return(b===null||b===void 0?void 0:b.type)!=="concatenated-fixed"?!1:b.pages.count()>1}get Y$n(){var a;const b=this.selection.La,c=b===null||b===void 0?void 0:(a=b.Yz)===null||a===void 0?void 0:a.ia;if((c===null||c===void 0?void 0:c.type)==="concatenated-fixed"&&(b===null||b===void 0?void 0:b.type)==="pages"&&b.hp)return b.container.tb(c).tb(b.hp)}get V1m(){var a,b,c;return!((a=this.FAb)===null||a===void 0||!a.isActive)&&this.wSa&&
(!((b=this.LXd)===null||b===void 0||!b.length)||!((c=this.oNd)===null||c===void 0||!c.length))}get LXd(){if(!(this.Ma.mode<40)){var a=this.selection.La;if(a&&a.type==="pages"){var b=a.pages;if(!this.document.pages.every(c=>c.draft||b.includes(c)))return b.some(c=>!c.draft)?b:void 0}}}get oNd(){if(!(this.Ma.mode<40)){var a=this.selection.La;if(a&&a.type==="pages")return a=a.pages,a.every(b=>b.draft)?a:void 0}}NCn(){const a=this.LXd;a&&this.wZh("contextual_menu",a)}OCn(){const a=this.oNd;a&&EFs(this,
"contextual_menu",a)}JGn(a){var b=a.draft?void 0:[a];a=a.draft?[a]:void 0;b?this.wZh("page_controls",b):a&&EFs(this,"page_controls",a)}GXk(a){a.ia.draft?FFs(this,[a]):GFs(this,[a])}MKn(){var a=this.LXd,b=this.oNd;a?this.wZh("toolbar",a):b&&EFs(this,"toolbar",b)}wZh(a,b){const c=this.V.sb("hide_pages",{Fb:{name:`editor.page_drafting.${a}_hide_pages`}});DFs(this,b,!0);this.KH("hide",a,c,b);c.ne()}KH(a,b,c,d){c.mb().nk(({Ii:e})=>{c.mb().addEvent("rendered");this.P.track(__c.Ojf,{action:a,kb:b,Rb:e(),
location:"",uTc:this.sU(d).map(String),Ey:0})});c.ne()}sU(a){let b=0;return this.document.pages.flatMap(c=>{c=a.includes(c)?[b]:[];b++;return c})}constructor(a,b,c,d,e,f,g){this.document=a;this.Ma=b;this.selection=c;this.oc=d;this.FAb=e;this.P=f;this.V=g;UZs.G(this)}};var VZs=class{constructor(a){this.N=a}};var WZs=class{static G(a){O(a,{Pbd:yV.ref,bQf:yV.ref,qhh:gV})}constructor(){this.Pbd=(WZs.G(this),0);this.bQf=0;this.qhh=(a,b)=>{this.Pbd=a;this.bQf=b}}};var XZs,YZs,ZZs,$Zs=class extends HV{getSnapshotBeforeUpdate(){var a=this.Ona.current;a&&(a=a.getBoundingClientRect(),this.store.Pbd=a.left,this.store.bQf=a.top);return null}componentDidUpdate(a){const b=this.props.hC;a=a.hC;const c=this.Ona.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.Pbd-d.left,f=this.store.bQf-d.top;this.store.qhh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>
{c.style.transform="";c.style.transition=""})})}else this.store.qhh(d.x,d.y)}}render(){var a=this.props.dimensions;const b=a.width;a=a.height;const c=this.props.transition,d=this.props.Ch;return dV(or,{disabled:this.props.isDragging,label:this.props.qK?L("XvT4OA"):J("ChI8GQ",[d]),placement:"top",children:dV("div",{style:{width:b,height:a,transition:c},className:"tKehZw",ref:this.Ona,children:dV(this.Button,{})})})}constructor(...a){super(...a);this.Ona=IV();this.store=new WZs;this.Button=()=>{const b=
this.props.qK,c=this.props.Ch,d=this.props.V8d,e=this.props.WEa,f=this.props.floating;return dV(rr,{className:CV("u2AKZQ","TkK1YA",{Umw1pw:Wb(),"g_Uopg usZ96Q":f,MJ1VvA:e}),icon:Qu,disabled:!b,onClick:d,ariaLabel:b?L("XvT4OA"):J("ChI8GQ",[c]),stretch:!0})}}},d_s;({c:[ZZs,XZs]}=KV($Zs,[],[Ob],HV));XZs();
d_s=class extends HV{getSnapshotBeforeUpdate(){var a=this.Ona.current;a&&(a=a.getBoundingClientRect(),this.store.Pbd=a.left,this.store.bQf=a.top);return null}componentDidUpdate(a){const b=this.props.hC;a=a.hC;const c=this.Ona.current;if(c){var d=c.getBoundingClientRect();if(b<a){const e=this.store.Pbd-d.left,f=this.store.bQf-d.top;this.store.qhh(d.x,d.y);e===0&&f===0||requestAnimationFrame(()=>{c.style.transform=`translate(${e}px, ${f}px)`;c.style.transition="none";requestAnimationFrame(()=>{c.style.transform=
"";c.style.transition=""})})}else this.store.qhh(d.x,d.y)}}render(){const a=this.props.qK,b=this.props.Ch,c=this.props.V8d,d=this.props.WEa,e=this.props.floating,f=this.props.isDragging,g=this.props.aLa,h=this.props.dimensions;return dV("div",{style:{transition:this.props.transition},className:"tKehZw",ref:this.Ona,children:g?dV(b_s,{dimensions:h,qK:a,Ch:b,WEa:d,floating:e,isDragging:f,V8d:c,aLa:g}):dV("div",{style:{width:h.width,height:h.height},children:dV(c_s,{qK:a,Ch:b,WEa:d,floating:e,isDragging:f,
Mgn:!0,V8d:c})})})}constructor(...a){super(...a);this.Ona=IV();this.store=new WZs}};({c:[__c.a_s,YZs]}=KV(d_s,[],[Ob],HV));YZs();
var c_s=({qK:a,Ch:b,WEa:c,floating:d,isDragging:e,Mgn:f,V8d:g})=>dV(rr,{className:CV("u2AKZQ","TkK1YA",{_9wtJ_Q:!f,Umw1pw:Wb(),"g_Uopg usZ96Q":d,MJ1VvA:c}),icon:Qu,disabled:!a,onClick:g,hb:a?L("XvT4OA"):J("ChI8GQ",[b]),hk:"top",Zw:e,ariaLabel:a?L("XvT4OA"):J("ChI8GQ",[b]),stretch:!0}),b_s=({dimensions:{width:a,height:b},qK:c,Ch:d,WEa:e,floating:f,isDragging:g,V8d:h,aLa:k})=>{const [l,m]=nV(!1),p=hV(()=>m(!1),[]);return kV(__c.oha,{children:[dV("div",{style:{width:Math.max(a-40,40),height:b},children:dV(c_s,
{qK:c,Ch:d,WEa:e,floating:f,isDragging:g,Mgn:!1,V8d:h})}),dV("div",{style:{width:40,height:b},children:dV(k,{reference:dV(rr,{className:CV("u2AKZQ","TkK1YA","_36DSqQ",{Umw1pw:Wb(),"g_Uopg usZ96Q":f,MJ1VvA:e,Ta0Vdg:l}),disabled:!c,onClick:q=>{m(!l);q.preventDefault();q.stopPropagation()},hb:c?L("VXpw8g"):J("ChI8GQ",[d]),hk:"top",Zw:g,ariaLabel:c?L("VXpw8g"):J("ChI8GQ",[d]),active:l,stretch:!0,children:dV(__c.au,{className:CV("lYCBUw",{PInLWQ:l})})}),open:l,onClose:p,location:"page_manager"})})]})};var e_s=class{c2i({Rb:a}){this.N.track(GPs,{Rb:a,location:"page_navigator"})}JMd(a,b,c,d){c.mb().addEvent("page_selected");c.mb().nk(({Ii:e})=>{this.N.track(__c.vGd,{...d,location:"page_navigator",Rb:e(),Ey:0})});if(b){const e=__c.I1a(this.m0,f=>{a===f&&(c.mb().addEvent("rendered"),c.ne(),e())})}else setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{c.mb().addEvent("rendered");c.end()})})})}GHl(){this.N.track(__c.eZg,{location:"page_navigator"})}constructor(a,b){this.N=a;this.m0=
b;this.UCo=({Rb:c,vBm:d,mui:e})=>{this.N.track(TPs,{Rb:c,...d,mui:e})}}};var g_s=({items:a})=>dV("div",{className:"F9EiJA",children:a.map((b,c)=>dV(f_s,{item:b},c))}),f_s=({item:a})=>{const b=hV(()=>dV(a.ma,{rq:!0}),[a]);return dV(sr,{variant:"secondary",icon:b,size:"large",onClick:a.onClick,disabled:a.disabled,children:a.label})};var h_s,i_s,j_s,k_s;
new (h_s=class extends JV{constructor(){super(k_s);i_s()}},(()=>{class a extends(j_s=HV){static G(b){O(b,{hb:yV.ref,gXa:yV.ref,tud:yV.ref,onFocus:gV.bound,onClick:gV.bound,kOc:gV.bound,onMouseLeave:gV.bound,uq:gV.bound,vFn:gV.bound,jAb:gV.bound})}get rq(){const b=this.props.rq;return b!=null?b:this.tud}componentDidMount(){Kb(this,[eV(()=>this.gXa,b=>{b=b&&this.VLc.get(b);b===null||b===void 0||b.focus()}),eV(()=>this.props.rq,b=>{b||(this.tud=!1)}),eV(()=>this.tud,b=>{var c,d;return(c=(d=this.props).lZk)===
null||c===void 0?void 0:c.call(d,{rq:b,immediate:!0})})])}jK(b){this.hb=b;this.BN.open=!0}qQ(){this.BN.open=!1}onFocus(){const b=this.props.items;this.props.ii||(this.tud=!0,this.gXa=b[0])}onMouseDown(b){b.preventDefault()}onClick(b){b.stopPropagation();b=this.props.items;const c=this.props.ii,d=this.props.BGn,e=this.props.FPj;if(this.props.xmo&&e!=null)return b[e].onClick();if(c){if(b.length===1)return b[0].onClick();d(()=>this.props.label,()=>dV(g_s,{items:this.props.items}))}else this.tud=!0,this.gXa=
b[0]}kOc(){const b=this.props.lZk;this.rq&&(b===null||b===void 0||b({rq:!1,immediate:!0}));this.tud=!1;this.gXa=void 0;this.qQ()}onMouseLeave(){this.qQ()}uq(b){var c;b.disabled||(b.onClick(),this.tud=!1,this.gXa=void 0,(c=this.I2i.current)===null||c===void 0||c.focus(),this.qQ())}vFn(b){this.tud=!0;this.jK(b.label)}jAb(b){this.jK(b.label)}render(){const {FPj:b=0,items:c,label:d,ii:e,hidden:f=!1}=this.props;pa(b>=0&&b<=c.length);const g=c[b];if(!g)return null;const h=!e,k=this.rq?c.length:Math.min(1,
c.length),l=!h||c.length>1;return dV(__c.Dph,{h9g:["onFocus","onMouseDown","onTouchStart"],Nsg:["focusin","mousedown","touchstart"],kOc:this.kOc,children:kV("div",{tabIndex:-1,className:f?"QxRpbg":void 0,children:[l&&dV("div",{className:CV("_5VbDXg HiQ94A",{YaEJQQ:this.rq}),onMouseEnter:Wb()?this.l3r:void 0,children:dV("button",{ref:this.I2i,"aria-label":d,"aria-haspopup":h,tabIndex:this.rq?-1:void 0,className:CV("NB__NQ",{QxRpbg:this.rq}),onMouseDown:this.onMouseDown,onFocus:this.onFocus,onClick:this.onClick,
children:dV(g.ma,{rq:!1})})}),h&&dV(__c.Qyc,{label:this.hb,placement:"top",state:this.BN,Ugf:!1,children:dV("div",{role:"menu","aria-expanded":this.rq,className:CV("HiQ94A",{YaEJQQ:l&&!this.rq}),onMouseLeave:this.onMouseLeave,style:{borderRadius:`${k*50}% / 50%`},children:c.map((m,p)=>dV(l_s,{ref:this.sRs,item:m,hidden:l&&!this.rq,Dji:this.rq,onClick:this.uq,onFocus:this.vFn,Ht:this.jAb,U4i:this.props.U4i},p))})})]})})}constructor(...b){super(...b);this.BN=(k_s.G(this),new __c.zC);this.hb="";this.I2i=
IV();this.VLc=new Map;this.tud=!1;this.sRs=c=>{c&&this.VLc.set(c.item,c.element)};this.l3r=()=>{var c,d;(c=(d=this.props).lZk)===null||c===void 0||c.call(d,{rq:!1,immediate:!1})}}}({c:[k_s,i_s]}=KV(a,[],[Ob],j_s))})(),h_s);
var l_s=fV(eQs(({item:a,hidden:b,Dji:c,onClick:d,onFocus:e,Ht:f,U4i:g},h)=>{const k=jV(null);iQs(h,()=>({item:a,element:n(k.current)}),[a,k]);h=hV(p=>{p.stopPropagation();d(a)},[a,d]);const l=hV(()=>e(a),[a,e]),m=hV(()=>f(a),[a,f]);return dV("div",{className:CV(g?"v5n5LQ":"JYppLg",{QxRpbg:b}),children:dV("button",{ref:k,role:"menuitem",className:CV("NB__NQ",{_zjbeQ:a.disabled}),"aria-label":a.label,onClick:h,onMouseOver:m,onFocus:l,children:dV(a.ma,{rq:c})})})}));var m_s=({lN:a,config:{Ifg:b},Df:c,XP:d,Ia:e})=>{const f=c.Lkb,g=m=>{m.stopPropagation()},h=()=>d.clear();c=fV(()=>dV("div",{onClick:g,children:dV(f,{navigation:d,open:!!d.screen,oa:h})}));const k=(m,p)=>{d.Xg({df:()=>dV(p,{}),options:{rg:m}})},l=fV(({page:m,pL:p,ZVk:q})=>{if(e.pages.last()===m||a.hOa)return null;var r=[b.rxh,b.bag].filter(ub);const t=b.bag||b.rxh;var u=(t===null||t===void 0?void 0:t.isActive(m))||!1;const w=(t===null||t===void 0?void 0:t.isDisabled(m))||!1,x=t&&r.indexOf(t);r=r.map(z=>
({get label(){return z.getLabel(m)},get disabled(){return z.isDisabled(m)||!a.hN},onClick:()=>z.onClick(m),ma:({rq:A})=>dV(z.ma,{page:m,rq:A,Sir:z===t})}));const y=!u&&!p&&!Vb();u=!a.hN&&!u;return dV(k_s,{hidden:y||u,xmo:!w&&t===b.bag&&m.transition.ref!==void 0,ii:a.ii,label:L("v4jmbQ"),BGn:k,items:r,FPj:x,rq:p,lZk:q})});return{Xea:c,oI:l}};var n_s=fV(({pages:a,label:b,iWe:c,language:d,EBa:e,disabled:f,description:g})=>{const [h,k]=nV(!1),l=__c.e0b({disabled:f}),m=jV(null),p=jV(null),q=hV(z=>{a.forEach(A=>e(A,z))},[e,a]),r=hV(()=>{var z;(z=p.current)===null||z===void 0||z.rec();k(!0)},[]),t=hV(()=>{k(!1);setTimeout(()=>{var z;return(z=m.current)===null||z===void 0?void 0:z.focus()})},[]),u=hV(()=>{var z,A;(z=p.current)===null||z===void 0||z.focus();(A=p.current)===null||A===void 0||A.rec()},[]),w=[["Enter",hV(z=>{z.preventDefault();
u()},[u])]];var x=a.map(z=>z.title||"");x=[...(new Set(x))];const y=x.length>1?"":x[0];return dV(__c.Ep,{map:w,mr:!0,children:({ref:z})=>dV("div",{className:CV("xLOtiw"),children:dV(__c.id,{title:kV("li",{ref:(0,oQs["default"])(m,l,z),tabIndex:0,className:CV("CVtD_Q",{xR5BiA:f}),children:[dV("span",{className:CV("_6EevIg",{yUfh5w:f}),children:dV(__c.Twh,{ref:p,label:b,value:y,defaultValue:c,mH:d,rxa:q,onFocus:r,onBlur:t,disabled:f,tabIndex:-1,className:"hzzX3w",nM:CV("hl_3wg _5Gynyg",{KFP_SQ:f})})}),
!f&&dV("div",{className:CV("_DbJ8A",{lfizNA:h}),children:dV(bj,{variant:"tertiary",tabIndex:-1,ariaLabel:b,onClick:u,size:"small",icon:lu})})]}),description:g,padding:"1.5u",uu:!1})})})});var o_s=({document:a,N:b,V:c,L:d,store:e,kh:f,gb:g,RE:h})=>{const k=(p,q)=>{p.stopPropagation();e.mc(q)&&e.wSa||(p=c.sb("create_contextual_menu.on_context_menu",{Fb:{name:"editor.page.navigate",type:"create_contextual_menu"}}),e.sra(q),b.JMd(q,e.ya!==q,p,{Wb:e.Wb(q),YJ:e.YJ,Hzd:e.o5d(q),kb:"click"}))},l=gV((p,q)=>{p.preventDefault();k(p,q);f.sMb(new xj(p.clientX||0,p.clientY||0),"page_navigator","right_click","bottom-start")}),m=fV(({page:p})=>{const q=hV(r=>k(r,p),[p]);return f.Thc?dV(f.Thc,{zh:q,
visibility:"always",ariaLabel:L("zEseqg")}):null});f.kc(()=>({hN:e.hN,wSa:e.wSa}),(p,{hN:q,wSa:r})=>{p.mgj=!e.ii&&q&&r?{Button:fV(()=>{var t=e.Ag,u=J("WIOFPA",[e.YJ]),w=J("2nAH+A",[e.YJ]),x=a.language,y=d.EBa,z=!e.hN;if(e.Ag.length===1){var A=e.Ag[0];if(h){var B=g.NR(A);A=A.type==="responsive"?__c.zs:pk(A,a.dimensions);B=QFs(B==="inline"?L("DGuhpg"):B===null||B===void 0?void 0:B.name,A)}else B=void 0}else B=void 0;return dV(n_s,{pages:t,label:u,iWe:w,language:x,EBa:y,disabled:z,description:B})})}:
void 0});return{onContextMenu:l,y3b:m}};var TFs=a=>{const b=a.className;a=a.onClick;const c=L("FsEKBw");return dV("div",{role:"none",onClick:a,children:dV(or,{label:c,placement:"top",children:dV(Xu,{tone:"contrast",shape:"circle",className:b,icon:dV(__c.eAf,{size:"tiny"}),ariaLabel:c})})})},p_s=({qTl:a})=>a?dV(__c.DMr,{size:"tiny"}):dV(__c.dI,{size:"tiny"}),RFs=a=>{const b=a.className;var c=a.SOk;const d=a.xIe;a=a.onClick;c=d?L("wvn6JA"):J("UrRvRw",[c]);return dV("div",{role:"none",onClick:a,children:dV(or,{label:c,placement:"top",children:dV(Xu,
{tone:"contrast",shape:"circle",className:b,icon:dV(p_s,{qTl:d}),ariaLabel:c})})})},SFs=a=>dV("div",{className:a.className,role:"none",onClick:a.onClick,children:dV(__c.ddh,{Gg:a.Gg,QHk:3,size:"xxsmall",Nug:!1,hk:"top",vVh:!0,xS:a.xS})});var q_s,r_s,s_s,t_s=parseInt("40px",10)||38,u_s=parseInt("54px",10)||38,v_s=parseInt("116px",10)||38,w_s=parseInt("50px",10)||50,x_s=parseInt("4px",10)*2||16,y_s;
new (q_s=class extends JV{constructor(){super(y_s);r_s()}},(()=>{class a extends(s_s=HV){static G(b){O(b,{hac:mV,onContextMenu:gV.bound,onMouseEnter:gV,jK:gV.bound,onMouseLeave:gV,qQ:gV,hb:mV,Szk:mV,u4m:mV,gWc:mV,$Vc:mV})}get hac(){return this.props.Bw.jab===this.props.page.page||!1}componentDidMount(){Kb(this,eV(()=>this.hac,b=>b&&this.qQ()))}jK(){this.BN.open=!0;this.Zha.set(!0);this.Qvl=void 0}get hb(){var b=this.props.page.page;const c=this.props.zd,d=this.props.zy;return this.u4m?(b=xKe(d,b),
wo(b,"short")):b.title?J("KJG2Uw",[c,b.title]):J("l4WRPg",[c])}get Szk(){const b=this.props.page.page,c=this.props.Bw.z8e;return!this.props.Eo&&!(Hc.vba||Hc.izd)&&c===b}get u4m(){if(this.Szk)return!0;const b=this.props.dimensions.width;return this.props.dimensions.height<=t_s?b<v_s:b<u_s}get gWc(){const b=this.props.page.page,c=this.props.QCd,d=this.props.gWc,e=this.props.Ma;if(d&&!(c.Iea<1)&&e.mode!==10)return()=>dV(d,{page:b,QCd:c,className:"_mMCTA"})}get $Vc(){const b=this.props.Gg,c=this.props.$Vc;
if(c)return()=>dV(c,{Gg:b,className:"Ez2eyw",onClick:this.onClick})}render(){const b=this.props.xn,c=this.props.mH,d=this.props.page,e=this.props.zd,f=this.props.dimensions,g=this.props.Bw,h=this.props.lN,k=this.props.gb,l=this.props.zy,m=this.props.kul,p=this.props.visible,q=this.props.lSb,r=this.props.Xyb,t=this.props.isDragging,u=this.props.y3b,w=this.props.rpp,x=this.props.spp;var y=this.props.dimensions.width;const z=this.props.dimensions.height,A=DV(g,d.page)&&!g.UJ;y=y>=w_s;return kV(rV,{children:[this.Zha.get()&&
dV(__c.Qyc,{state:this.BN,label:this.hb,lineClamp:1,placement:"top",arrow:!0,children:dV("div",{})}),dV("div",{style:{height:z+x_s},className:"TJVsng",onContextMenu:this.onContextMenu,onMouseEnter:this.fha?this.onMouseEnter:void 0,onMouseLeave:this.fha?this.onMouseLeave:void 0,onMouseDown:this.qQ,children:kV("div",{className:CV("pO8x8A",{k_v2zQ:h.Tyd(d.page),_0a3n7A:h.G7c(d.page),_bzJOg:r,FmnYyQ:g.isLinear}),children:[kV("button",{onClick:this.onClick,className:CV("ta67Cg",{k_v2zQ:h.Tyd(d.page),Zxq53g:g.isLinear,
xxfxlQ:vc.iU}),"aria-label":this.hb,children:[dV(w,{lSb:q,page:d,dimensions:f,hCb:p,xn:b,yuh:g.isLinear}),dV("div",{className:CV("mf3LMw","Q_iqdQ",m&&"_68Z_zQ")})]}),p&&y&&dV(x,{isDragging:!!t,hac:this.hac||this.Szk,Zha:this.Zha.get(),Xyb:r,Z0k:A?"pageDuration":"pageNumber",iHp:q!=="none",uQp:r,gVa:g.isLinear,zd:e,mH:c,Dh:d,wea:this.onClick,lN:h,gb:k,zy:l,gWc:this.gWc,$Vc:this.$Vc,y3b:u})]})})]})}constructor(...b){super(...b);this.BN=(y_s.G(this),new __c.zC);this.Zha=yV.box(!1);this.onContextMenu=
c=>{const d=this.props.page.page,e=this.props.onContextMenu;e===null||e===void 0||e(c,d)};this.onClick=()=>{const c=this.props.onClick;return c(this.props.page.page)};this.fha=Wb();this.onMouseEnter=()=>{clearTimeout(this.Qvl);this.Qvl=setTimeout(this.jK,150)};this.onMouseLeave=()=>{clearTimeout(this.Qvl);this.qQ();this.Zha.set(!1)};this.qQ=()=>this.BN.open=!1}}({c:[y_s,r_s]}=KV(a,[],[Ob],s_s))})(),q_s);var BV=Wc*8,z_s=parseInt("20px",10)*2||40;var B_s=class{static G(a){O(a,{a4:yV.ref,Ifn:mV,UAk:mV,dko:gV,fEf:mV.struct,lgn:mV,xEl:mV,VAk:mV,WAk:mV,kzo:mV,Tzk:mV})}get Ifn(){const a=this.Bw.u$(this.page);return a.width<a.height}get UAk(){return this.Ifn?this.U6e/100:1}dko(a){this.a4=a}get fEf(){return{width:Math.floor(this.a4.width*this.UAk),height:Math.floor(this.a4.height*this.UAk)}}get lgn(){const a=this.lN,b=this.Bw.jab,c=this.page;return a.mcn?!0:a.ii&&b!=null&&b!==c}get xEl(){const a=this.fEf,b=this.Bw.zTd(this.page);return this.Tzk?
b%a.width-a.width:0}get VAk(){const a=this.Bw.Cwa(this.page);return[this.Bw.geb+a.offsetWidth,...Array(this.WAk.length).fill(this.fEf.width)]}get WAk(){const a=this.Bw;var b=this.xEl,c=this.fEf.width,d=this.qG;const e=this.page;b=(a.zTd(e,!0)-b)/c;b=b>1.07?Math.ceil(b):1;if(d.xE&&this.Hbe.length===b||a.kja&&this.Hbe.length>=b)return this.Hbe;d=a.Cwa(e).durationUs/1E6;const f=b===1?d:c/a.JBa;var g;const h=(g=this.Hbe[0])!==null&&g!==void 0?g:0;c=this.Tzk?Array.from({length:b-this.Hbe.length},(l,m)=>
h-f*(m+1)).reverse().concat(this.Hbe):Array.from({length:b},(l,m)=>f*(m+.5));var k;c[c.length-1]=Math.min(c[c.length-1],(k=a.Nmf)!==null&&k!==void 0?k:d);return this.Hbe=c.map(A_s)}get kzo(){return this.qG.UJ?"fill":"repeat"}get Tzk(){const a=this.Bw,b=this.page;return a.kja==="start"&&a.jab===b}constructor(a,b,c,d,e){this.lN=a;this.Bw=b;this.qG=c;this.page=d;this.U6e=e;this.a4=(B_s.G(this),{width:z_s,height:BV,scale:1});this.Hbe=[]}},A_s=a=>Math.floor(a*10)/10;var C_s=vb.od,D_s=parseInt("200ms",10)||0,WFs=fV(({zy:a,JFa:b,Bw:c,qG:d,lN:e,bXq:f,ZWq:g,page:h,mc:k})=>{var l;if(d.UJ)return null;var m=e.G7c(h);d=!(h===null||h===void 0||!h.draft);const {ryl:p,F2h:q}=VFs(a,h),r=f(h);f=!(r===null||r===void 0||!r.draft);a=(g=g(h))&&VFs(a,g);b=((l=b.dli)===null||l===void 0?0:l.get())&&e.Ag.length>0?e.Ag:void 0;e=c.Apk?c.Apk:void 0;e=[...(b?b:[]),e];l=r&&e&&!f?e.includes(r):!1;h=!m&&e?e===null||e===void 0?void 0:e.includes(h):!1;m=f?e.includes(g):!1;return kV(rV,{children:[dV(E_s,
{position:"end",width:q,isVisible:d?!1:h,mc:k,gVa:c.isLinear}),dV(E_s,{position:"start",width:f?(a===null||a===void 0?void 0:a.F2h)||0:p,isVisible:d?!1:m||l,mc:k,gVa:c.isLinear})]})}),E_s=FV(({position:a,width:b,isVisible:c,mc:d,gVa:e})=>{const f=jV(null);return dV(kQs["default"],{in:c,timeout:C_s?D_s:0,classNames:{enter:"_9mnZcg",enterActive:"_56SXBg",exit:"_9mnZcg"},nodeRef:f,unmountOnExit:!0,children:dV("div",{className:CV("zgx9yQ",{dlwChA:e,kOiXVQ:d&&a==="start",kkOmYQ:a==="end",Ia3Oog:d&&a===
"end"}),"aria-hidden":!0,children:dV("div",{className:CV("LDPjUw",{dlwChA:e,duh49g:a==="end",CQRHEA:d&&a==="start",_65_ZFQ:a==="end",DGU0aw:d&&a==="end"}),ref:f,style:{width:b+"%"}})})})});var F_s=parseInt("250ms",10)||0,H_s=fV(eQs(({isOpen:a,children:b},c)=>{const d=jV(null),e=jV(!1),[f]=nV(()=>({el:null,spm:!1})),[g]=nV(()=>{const l=document.createElement("div");l.classList.add("uSqASw");l.anchor=null;return l}),h=cQs(()=>({visible:a,tXd:a})),k=hV((l=!1)=>{const m=()=>{const p=d.current;if(p){var {left:q,top:r}=p.getBoundingClientRect();g.style.top=`${r}px`;g.style.left=`${q}px`}};l?m():e.current||(requestAnimationFrame(()=>{m();e.current=!1}),e.current=!0)},[g]);jQs(()=>oV(()=>{if(h.tXd!==
a){if(a){h.tXd=!0;var l=window.setTimeout(gV(()=>{h.visible=!0}))}else h.visible=!1,l=window.setTimeout(gV(()=>{h.tXd=!1}),F_s);return()=>{clearTimeout(l)}}}),[h,a]);jQs(()=>{if(h.tXd){var l=d.current;if(l)return document.body.appendChild(g),g.anchor=l,()=>{g.remove();g.anchor=null}}},[h.tXd,g]);jQs(()=>{if(a&&h.tXd){var l=d.current;if(l){var m=q=>{q.target&&(f.el!==q.target&&(f.el=q.target,f.spm=f.el.contains(l)),f.spm&&k())},p=()=>k();window.addEventListener("scroll",m,!0);window.addEventListener("resize",
p,!0);k();return()=>{window.removeEventListener("scroll",m,!0);window.removeEventListener("resize",p,!0)}}}},[h.tXd,a,f,k]);iQs(c,()=>({ckb:k}));return h.tXd?dV("div",{ref:d,children:pQs(kV("div",{className:CV("HL00tw",{awHXiw:h.visible}),children:[dV(G_s,{children:b}),dV("div",{className:"_6imlDA",children:dV(__c.bha,{})})]}),g)}):null}));H_s.displayName="Tooltip";var G_s=fV(a=>{a=a.children.get();return dV("div",{className:"TUXi6A",children:dV(__c.aha,{label:a,lineClamp:1})})});
G_s.displayName="TooltipContent";var I_s,J_s,K_s,L_s=a=>a==="ArrowRight"||a==="ArrowUp",M_s;
new (I_s=class extends JV{constructor(){super(M_s);J_s()}},(()=>{class a extends(K_s=HV){static G(b){O(b,{overlay:yV.ref,componentWillUnmount:gV,onDragStart:gV.bound,onDragEnd:gV.bound,onDrag:gV.bound,onKeyDown:gV.bound,onKeyUp:gV.bound})}componentWillUnmount(){this.hha()}onDragStart(b){var c,d;this.agi=b.clientX;this.U3d=this.props.time;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}onDragEnd(b){var c,d;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b);this.hha()}onDrag(b){if(this.agi!=
null&&this.U3d!=null){const c=b.clientX-this.agi;this.HLj();this.props.onDrag(this.U3d,c,b)}}onKeyDown(b){var c,d,e=b.key;if(L_s(e)||e==="ArrowLeft"||e==="ArrowDown"){b.preventDefault();b.stopPropagation();if(this.DRg==null||this.U3d==null){var f,g;this.U3d=this.props.time;this.DRg=0;(f=(g=this.props).pLf)===null||f===void 0||f.call(g)}this.DRg+=(b.shiftKey?10:1)*(L_s(b.key)?1:-1);(c=(d=this.props).onKeyDown)===null||c===void 0||c.call(d,this.U3d,this.DRg)}}onKeyUp(b){var c,d,e=b.key;if(L_s(e)||e===
"ArrowLeft"||e==="ArrowDown")b.preventDefault(),b.stopPropagation(),(c=(d=this.props).onKeyUp)===null||c===void 0||c.call(d),this.hha()}HLj(){if(!this.overlay){ta(this.ECi==null);var b=document.createElement("div");b.className="Z0qCkg";b.onclick=this.stopPropagation;document.body.appendChild(b);this.ECi=eV(()=>this.props.cursor,c=>{c&&(b.style.cursor=c)},{fireImmediately:!0});this.overlay=b}}hha(){this.ECi&&(this.ECi(),this.ECi=void 0);this.overlay&&(document.body.removeChild(this.overlay),this.overlay=
void 0);this.agi=this.DRg=void 0}get label(){const b=this.props.Wla;switch(b.type){case "touch":case "pointer":return b.W2a==="start"?L("UVWWzw"):L("T8SbVw");case "fullWidth":return L("QkbWIw");default:throw new v(b);}}get style(){const b=this.props.Wla,c=this.props.cursor,d=this.props.Tpc;switch(b.type){case "touch":return{cursor:c,paddingLeft:b.W2a==="start"?b.xzf:void 0,paddingRight:b.W2a==="end"?b.xzf:void 0};case "pointer":const e=b.rRa==="inside"&&b.xzf||void 0,f=b.rRa==="inside"&&b.L5i||0;
return{cursor:c,marginLeft:b.W2a==="start"?e:void 0,marginRight:b.W2a==="end"?e:void 0,top:f?f:void 0,height:`calc(100% - ${f*2}px)`,width:b.rRa==="inside"?d:void 0};case "fullWidth":return{cursor:c};default:throw new v(b);}}get classNames(){const b=this.props.Wla,c=this.props.Tpc;switch(b.type){case "touch":return{LWH67A:b.W2a==="start",el4EEg:b.W2a==="end",i_lWBA:b.isVisible};case "pointer":return{LWH67A:b.W2a==="start",el4EEg:b.W2a==="end",VpCh7A:b.rRa==="outside",_2XPgIQ:b.rRa==="inside"&&c!=
null,_Hb7xw:b.Guh&&b.rRa==="inside"};case "fullWidth":return{VDu60Q:!0,JvDQ2g:!0};default:throw new v(b);}}get JYs(){const b=this.props.Wla;switch(b.type){case "touch":return b.isVisible?dV("div",{className:"yf4DQA"}):null;case "pointer":const c={LWH67A:b.W2a==="start",el4EEg:b.W2a==="end"},d={borderTopLeftRadius:b.W2a==="start"?b.borderRadius:void 0,borderBottomLeftRadius:b.W2a==="start"?b.borderRadius:void 0,borderTopRightRadius:b.W2a==="end"?b.borderRadius:void 0,borderBottomRightRadius:b.W2a===
"end"?b.borderRadius:void 0};return dV("div",{"aria-hidden":!b.isVisible,className:CV("_9hMGtQ",b.rRa==="outside"?{...c,vt__Jw:!0}:{...c,I18UiQ:!b.isVisible,cMDicQ:b.mzg,LWH67A:b.W2a==="start",el4EEg:b.W2a==="end"}),style:d});case "fullWidth":return null;default:throw new v(b);}}render(){var b,c=this.props.time;const d=this.props.Wla;c={onPointerEnter:this.props.xqb,onPointerLeave:this.props.yqb,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":c,"aria-valuetext":J("UrWtuQ",
[Math.round(c/1E6*10)/10])};const e=dV("div",{role:"slider",tabIndex:0,"aria-label":this.label,className:CV("sAs_qg",this.classNames),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onKeyDownCapture:this.onKeyDown,onKeyUpCapture:this.onKeyUp,style:this.style,...c,"data-role":"trim-thumb",children:this.JYs});return d.type==="fullWidth"&&(b=d.Q8b)!==null&&b!==void 0&&b.show?dV(__c.Yc,{open:!0,level:1,reference:e,placement:"top-center",children:dV("div",{"aria-label":L("QkbWIw"),onMouseDown:this.onMouseDown,
onTouchStart:this.onTouchStart,className:CV("HkOD8A",{Q_WLHg:d.Q8b.appearance==="light",a0VUCg:d.Q8b.appearance==="dark"}),style:this.style,...c,children:dV(__c.$Xp,{size:"medium"})})}):e}constructor(...b){super(...b);this.agi=(M_s.G(this),void 0);this.draggable=new dr({d3a:this.props.d3a?{enabled:this.props.d3a}:void 0,onDragStart:this.onDragStart,pe:this.onDrag,onDragEnd:this.onDragEnd});this.onMouseDown=c=>{this.Zsn(c);this.draggable.onMouseDown(c)};this.onTouchStart=c=>{this.Zsn(c);this.draggable.onTouchStart(c)};
this.stopPropagation=c=>c.stopPropagation();this.Zsn=c=>{this.props.captureEvents&&c.stopPropagation()}}}({c:[M_s,J_s]}=KV(a,[],[Ob],K_s))})(),I_s);var N_s,O_s,P_s,Q_s;
new (N_s=class extends JV{constructor(){super(Q_s);O_s()}},(()=>{class a extends(P_s=HV){static G(b){O(b,{isDragging:yV.ref,onDrag:gV.bound,onDragEnd:gV.bound,onDragStart:gV.bound,pLf:gV.bound,onKeyDown:gV.bound,onKeyUp:gV.bound,position:mV,VEo:mV,Nuj:mV,Muj:mV,HHb:mV,$0i:mV})}componentDidMount(){this.rhd.current&&(this.j9e=this.rhd.current.ckb);Kb(this,[Ats(()=>{if(this.isDragging){var b=wo(this.VEo/1E6,"short");oV(()=>{this.currentTime.set(b);this.j9e()})}})])}componentWillUnmount(){oV(()=>this.isDragging=
!1)}j9e(){}onDrag(b,c,d){if(this.isDragging){var e=this.props.duration,f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.Bfb,l=this.props.kNd,m=this.props.Wla;b=Math.floor(k(b,c,this.position));var p;e=(p=l===null||l===void 0?void 0:l.BCa(b,m.type==="fullWidth"?e:void 0))!==null&&p!==void 0?p:b;g=Math.max(g,Math.min(e,h));if(g!==f)this.props.onDrag(g,d)}}onDragEnd(b){var c,d,e;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b);(e=this.props.kNd)===null||e===void 0||e.onDragEnd();
this.isDragging=!1}onDragStart(b){var c,d;this.isDragging=!0;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}pLf(){var b,c;this.isDragging=!0;(b=(c=this.props).pLf)===null||b===void 0||b.call(c)}onKeyDown(b,c){var d,e;if(this.isDragging){var f=this.props.time,g=this.props.min,h=this.props.max,k=this.props.Bfb;b=Math.floor(k(b,c,this.position));g=Math.max(g,Math.min(b,h));g===f||(d=(e=this.props).onKeyDown)!==null&&d!==void 0&&d.call(e,g)}}onKeyUp(){var b,c;(b=(c=this.props).onKeyUp)===
null||b===void 0||b.call(c);this.isDragging=!1}get position(){const b=this.props.Wla;return b.type!=="fullWidth"?b.W2a:void 0}get VEo(){const b=this.props.time,c=this.props.duration;switch(this.position){case "start":return n(c);case "end":return n(c);case void 0:return b;default:throw new v(this.position);}}get Nuj(){return this.props.time<=this.props.min}get Muj(){return this.props.time>=this.props.max}get HHb(){return this.props.Wla.type==="fullWidth"?this.isDragging?"grabbing":"pointer":this.Nuj?
"e-resize":this.Muj?"w-resize":"ew-resize"}get $0i(){const b=this.props.hb;return b?yV.box(b):this.currentTime}render(){var b;const c=this.props.Wla;return this.Nuj&&this.Muj&&c.type!=="fullWidth"&&!c.isVisible?null:kV(rV,{children:[dV(M_s,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,pLf:this.pLf,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,d3a:this.position?void 0:"touch-only",time:this.props.time,min:this.props.min,max:this.props.max,cursor:this.HHb,Wla:c,xqb:this.props.xqb,
yqb:this.props.yqb,captureEvents:this.props.captureEvents,Tpc:this.props.Tpc}),dV("div",{className:c.type==="fullWidth"&&((b=c.Q8b)===null||b===void 0?0:b.show)?"yOdD4w":"QmeGkA",style:{left:this.position==="start"?0:void 0,right:this.position==="end"?0:void 0},children:dV(H_s,{isOpen:this.isDragging,ref:this.rhd,children:this.$0i})})]})}constructor(...b){super(...b);this.currentTime=(Q_s.G(this),yV.box(""));this.rhd=IV();this.isDragging=!1}}({c:[Q_s,O_s]}=KV(a,[],[Ob],P_s))})(),N_s);
var gJs=a=>a.classList.contains("sAs_qg")&&!a.classList.contains("VDu60Q");var R_s,S_s,T_s,U_s;
new (R_s=class extends JV{constructor(){super(U_s);S_s()}},(()=>{class a extends(T_s=HV){static G(b){O(b,{endUs:mV,fak:mV,UEo:mV})}get endUs(){return Math.max(0,this.props.hZb+this.props.durationUs)}pMj(b){return{onDragStart:c=>{var d,e;return(d=(e=this.props).sia)===null||d===void 0?void 0:d.call(e,{type:b,kb:"drag",nativeEvent:c})},onDragEnd:c=>{var d,e;return(d=(e=this.props).Jna)===null||d===void 0?void 0:d.call(e,{type:b,kb:"drag",nativeEvent:c})},pLf:()=>{var c,d;return(c=(d=this.props).sia)===
null||c===void 0?void 0:c.call(d,{type:b,kb:"shortcut"})},onKeyUp:()=>{var c,d;return(c=(d=this.props).Jna)===null||c===void 0?void 0:c.call(d,{type:b,kb:"shortcut"})}}}get fak(){const b=this.props.Wla,c=this.props.disabled;return b.type==="pointer"&&b.rRa==="outside"&&(!b.isVisible||c)}get UEo(){if(this.props.disabled)return null;const b=this.props.EWg,c=this.props.I7d,d=this.props.LNa,e=this.props.dVg,f=this.props.axa,g=this.props.hZb,h=this.props.durationUs,k=this.props.$$a,l=this.props.Wla,m=
this.props.Q8b,p=this.props.xqb,q=this.props.yqb,r={Bfb:this.props.Bfb,kNd:this.props.kNd,captureEvents:this.props.captureEvents,hb:this.props.hb,Tpc:this.props.Tpc},t=l.type==="pointer"?{rRa:this.fak?"inside":l.rRa}:{};return kV(rV,{children:[e&&k?dV(Q_s,{...r,...this.uQq,time:g,min:b!==null&&b!==void 0?b:0,max:e,Wla:{type:"fullWidth",Q8b:m},duration:h}):null,dV(Q_s,{...r,...this.BQs,time:g,min:d,max:this.endUs-c,duration:h,Wla:{...l,...t,W2a:"start"},xqb:p,yqb:q}),dV(Q_s,{...r,...this.uDq,time:this.endUs,
min:g+c,max:f,duration:h,Wla:{...l,...t,W2a:"end"},xqb:p,yqb:q})]})}render(){const b=this.props.children,c=this.props.Wla,d=this.props.disabled;return kV("div",{className:CV("HxvUnQ i1mS2A",{g_Wv1w:c.type==="pointer"&&c.rRa==="outside"&&!this.fak,Hmp0bg:c.type==="touch"&&c.isVisible&&!d}),children:[dV("div",{className:"x3tMUw i1mS2A",children:b}),this.UEo]})}constructor(...b){super(...b);this.BQs=(U_s.G(this),{...this.pMj("start"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).IBa)===null||e===void 0||
e.call(f,c,{type:"start",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).IBa)===null||d===void 0||d.call(e,c,{type:"start",kb:"shortcut"})}});this.uDq={...this.pMj("end"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).CFa)===null||e===void 0||e.call(f,c,{type:"end",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).CFa)===null||d===void 0||d.call(e,c,{type:"end",kb:"shortcut"})}};this.uQq={...this.pMj("fullWidth"),onDrag:(c,d)=>{var e,f;(e=(f=this.props).$$a)===null||
e===void 0||e.call(f,c,{type:"fullWidth",kb:"drag",nativeEvent:d})},onKeyDown:c=>{var d,e;(d=(e=this.props).$$a)===null||d===void 0||d.call(e,c,{type:"fullWidth",kb:"shortcut"})}}}}({c:[U_s,S_s]}=KV(a,[],[Ob],T_s))})(),R_s);var V_s=a=>class extends HV{componentDidMount(){const b=this.Xba.hof;this.Eio();this.store.zhb=this.props.Xo;addEventListener("touchstart",b,{passive:!1})}componentDidUpdate(){this.Eio()}componentWillUnmount(){removeEventListener("touchstart",this.Xba.hof)}render(){return dV(a,{...this.props,RGj:this.store.$$,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,onScroll:this.onScroll,TRi:this.TRi})}constructor(...b){super(...b);this.store=new __c.h4g;this.Xba=new __c.f4g(this.store,
this.props.OSe);this.Eio=()=>{const c=this.props.Eo;this.store.gVc({drn:c?400:void 0,Gdd:c?60:void 0,oId:"x"})};this.onScroll=()=>{var c,d;this.props.TPp&&HEe(this.Xba);(c=(d=this.props).onScroll)===null||c===void 0||c.call(d)};this.onDragStart=c=>{this.Xba.CLc=!0;HEe(this.Xba);__c.FEe(this.Xba,{x:c.clientX,y:c.clientY});this.props.onDragStart&&this.props.onDragStart(c)};this.onDrag=c=>{const d={x:c.clientX,y:c.clientY};this.props.TPp&&HEe(this.Xba);__c.FEe(this.Xba,d);this.props.onDrag&&this.props.onDrag(c)};
this.onDragEnd=()=>{this.Xba.CLc=!1;HEe(this.Xba);this.props.onDragEnd&&this.props.onDragEnd()};this.TRi=c=>{c&&!this.Xba.iec?this.Xba.Lsr():!c&&this.Xba.iec&&(this.Xba.iec=void 0)}}};var W_s=class extends fQs{componentWillUnmount(){var a;(a=this.h7n)===null||a===void 0||a.call(this)}render(){return dV(U_s,{hZb:this.props.hZb,durationUs:this.props.durationUs,EWg:this.props.EWg,I7d:this.props.I7d,hT:this.props.hT,LNa:this.props.LNa,dVg:this.props.dVg,axa:this.props.axa,Bfb:this.Bfb,kNd:this.props.kNd,IBa:this.IBa,CFa:this.CFa,$$a:this.$$a,sia:this.sia,Jna:this.Jna,captureEvents:this.props.captureEvents,disabled:this.props.disabled,Wla:this.props.Wla,Q8b:this.props.Q8b,hb:this.props.hb,
xqb:this.props.xqb,yqb:this.props.yqb,Tpc:this.props.Tpc,children:dV("div",{ref:this.props.RGj,className:"JFv1rQ",children:this.props.children})})}constructor(...a){super(...a);this.sia=b=>{const c=this.props.sia,d=this.props.onDragStart,e=this.props.Xo;c(b);b.kb==="drag"&&d&&d(b.nativeEvent);this.h7n=eV(()=>e.scrollLeft,this.onScroll);this.xn=YFs(this,b.type)};this.IBa=(b,c)=>{const d=this.props.IBa,e=this.props.onDrag;d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.CFa=(b,c)=>{const d=this.props.CFa,
e=this.props.onDrag;d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.$$a=(b,c)=>{const d=this.props.$$a,e=this.props.onDrag;d&&d(b);c.kb==="drag"&&e&&e(c.nativeEvent)};this.Jna=b=>{var c;const d=this.props.Jna,e=this.props.onDragEnd,f=this.props.TRi;d(b);f&&f(!0);(c=this.h7n)===null||c===void 0||c.call(this);this.xn=void 0;e&&e()};this.onScroll=gV(()=>{const b=this.props.onScroll;var c=this.props.TRi,d=this.props.hZb,e=this.props.durationUs;const f=this.props.LNa,g=this.props.axa,h=this.props.I7d;var k=
this.props.hT;const l=this.xn;if(l){l.deltaX=this.props.Xo.scrollLeft-l.wLg;var m=l.deltaX;var p=m===0?void 0:m>0?"forwards":"backwards";m=this.props.Bfb(l.U3d,l.deltaX);var q=l.Ojn;l.Ojn=m;m-=q||l.U3d;if(!(q=!p)&&(q=l.type!=="fullWidth")){{q=l.type;const u=this.props.durationUs,w=this.props.I7d,x=this.props.hZb;q==="start"&&p==="forwards"||q==="end"&&p==="backwards"?p=u>w:(p=u<this.props.hT,p=q==="end"?p:p&&x>0)}q=!p}k=q||e===k||e===h;c&&c(k);if(!k){switch(l.type){case "fullWidth":var r,t;c=d+m;
d=this.props.dVg;e=this.props.EWg;c=d?Math.max(e!==null&&e!==void 0?e:0,Math.min(c,d)):c;(r=(t=this.props).$$a)===null||r===void 0||r.call(t,c);break;case "start":this.props.IBa(d+m);break;case "end":this.props.CFa(Math.max(f+h,Math.min(d+e+m,g)));break;default:throw new v(l.type);}b&&b()}}});this.Bfb=(b,c,d)=>{var e;c+=((e=this.xn)===null||e===void 0?void 0:e.deltaX)||0;return this.props.Bfb(b,c,d)}}},nKs=V_s(W_s);var CIs=class{get gno(){return this.IIi||this.rJe.get()}onDragEnd(){this.reset()}BCa(a,b){const c=this.tEf;this.tEf=a;let d=$Fs(this,{HAf:a});if(d==null&&b!=null){var e=$Fs(this,{HAf:a+b});e!=null&&(d=e-b)}if(d==null)return this.reset(),a;b=this.Pb.now();e=d-a;if(this.xEf==null||this.xEf.BCa!==d){var f,g;(g=this.Lk)===null||g===void 0||(f=g.nN)===null||f===void 0||f.call(g,new __c.Bsd({style:1}));this.xEf={UB:b,rOs:e>0,BCa:d};this.IIi=!1}else!this.gno&&cGs(this,{BCa:d,HAf:a,tEf:c,z8d:b})&&(this.IIi=
!0);return this.gno?a:d}reset(){this.xEf=void 0;this.IIi=!1;this.tEf=void 0}constructor(a,b,c){this.targets=a;this.rJe=b;this.Lk=c;this.Pb=__c.Ub;this.qOs=1E3;this.IIi=!1}},ZFs=(a,b)=>{const c=a.BCa+a.q3c;return a.BCa-a.Yfd<=b&&b<=c};var X_s,Y_s,Z_s,$_s=parseInt("50px",10),a0s=parseInt("2px",10)||2,b0s=parseInt("1px",10)||1,c0s=parseInt("7px",10)||7,d0s=parseInt("4px",10)||5,e0s=parseInt("4px",10)||3,f0s=parseInt("5px",10)||5,g0s=parseInt("3px",10)||3,h0s=parseInt("7px",10)||7,i0s=parseInt("5px",10)||5,k0s=a=>({page:b,children:c})=>dV(j0s,{...a,page:b,children:c}),j0s;
new (X_s=class extends JV{constructor(){super(j0s);Y_s()}},(()=>{class a extends(Z_s=HV){static G(b){O(b,{Nsf:yV.ref,n4g:yV.ref,sia:gV,IBa:gV,OSe:gV,CFa:gV,Jna:gV,pwe:mV,tPe:mV,DWg:mV,LNa:mV,axa:mV,rib:mV,trim:mV({equals:lV.shallow}),width:mV,e2f:mV({equals:lV.shallow}),Hzm:mV,n5d:mV,hb:mV})}get pwe(){const b=this.props.zy,c=this.props.page,d=this.props.Bw;return d.jab===c&&d.Nmf!==void 0?d.Nmf:xKe(b,c)}get tPe(){return FKs(this.props.r_e,this.props.page)}get DWg(){return.1}get LNa(){return this.rib.durationUs+
this.rib.Pda-this.tPe*1E6}get axa(){return this.tPe*1E6+this.rib.Pda}get rib(){return this.props.Bw.Cwa(this.props.page)}get trim(){var b=this.props.Bw,c=this.rib;b.kja==="start"?(c=c.Pda+b.W3g*1E6,b=c-this.pwe*1E6):(b=c.Pda,c=c.Pda+this.pwe*1E6);return{startUs:b,endUs:c}}get width(){const b=this.props.lN,c=this.props.Bw;return this.props.qG.UJ?this.rib.width:!this.props.UWa&&b.hOa?Math.min(this.rib.width,c.yCm.width):c.jab===this.props.page?this.rib.width+c.B8e:this.rib.width}get e2f(){var b=this.props.Bw;
const c=b.isLinear;var d=this.props.qG.UJ;const e=this.props.lN,f=b.z8e===this.props.page;if(b.zWe)return{type:"touch",isVisible:f&&!d};b=this.width>=$_s;d=this.n4g==null?!b:this.n4g==="outside";return c&&d?{type:"pointer",rRa:"outside",isVisible:this.n5d&&e.wSa&&e.YJ===1&&!e.isDragging,mzg:!0,Guh:c}:{type:"pointer",rRa:"inside",isVisible:b&&f,mzg:!b,xzf:this.n5d?c?e0s:f0s:b0s,L5i:this.n5d?c?e0s:g0s:b0s,borderRadius:this.n5d?c?d0s:i0s:c?c0s:h0s,Guh:c}}get Hzm(){var b;const c=this.props.lN,d=this.props.Bw,
e=this.props.qG,f=this.props.page;return!c.hN||e.UJ||e.xE||!DV(d,f)?!0:c.ii&&!((b=this.e2f)===null||b===void 0?0:b.isVisible)}get n5d(){return this.props.lN.mc(this.props.page)}get hb(){return this.props.page.locked?L("lFd1Vg"):void 0}render(){const b=this.props.lN,c=this.props.Bw,d=this.props.children;var e=this.props.page;const f=this.props.Xo,g=c.isLinear?a0s:0,h=b.Tyd(e);e=b.G7c(e);return dV(nKs,{Xo:f,hZb:this.trim.startUs,durationUs:this.pwe*1E6,Bfb:this.Bfb,I7d:this.DWg*1E6,hT:this.tPe*1E6,
LNa:this.LNa,axa:this.axa,IBa:this.IBa,CFa:this.CFa,sia:this.sia,Jna:this.Jna,kNd:this.TOb,OSe:this.OSe,captureEvents:!0,disabled:this.Hzm,Wla:this.e2f,hb:this.hb,xqb:c.zWe?void 0:this.I3e,yqb:c.zWe?void 0:this.Yok,onScroll:this.onScroll,Tpc:c.isLinear?36:void 0,Eo:b.ii,children:dV("div",{style:{width:this.width-(h&&e?0:h||e?g/2:g)},children:d})})}constructor(...b){var c,d;super(...b);this.Nsf=(j0s.G(this),0);this.n4g=void 0;this.sia=e=>{const f=this.props.lN,g=this.props.r_e,h=this.props.uA,k=this.props.page;
if(e.kb==="drag"&&e&&(f.eAi(e.nativeEvent),f.IF!=="single"))return;k.locked||(this.n4g=this.width<$_s?"outside":"inside",e=e.type==="end"?"end":"start",h===null||h===void 0||h.stop(),h===null||h===void 0||h.P1e({direction:e}),g.sia(k,e))};this.IBa=e=>{this.props.page.locked||this.props.r_e.NAi(Math.min(this.tPe,Math.max(this.DWg,(this.rib.Pda+this.rib.durationUs-e)/1E6)))};this.OSe=()=>{const e=this.props.Bw,f=this.props.lN;e.kja==="start"&&e.B8e>0&&f.ii&&(this.IBa(this.trim.startUs-1E4),this.Nsf-=
1E4,e.O2i=this.Nsf/1E6*e.JBa)};this.CFa=e=>{this.props.page.locked||this.props.r_e.NAi(Math.min(this.tPe,Math.max(this.DWg,(e-this.rib.Pda)/1E6)))};this.Jna=e=>{const f=this.props.r_e,g=this.props.Bw,h=this.props.uA,k=this.props.page;if(g.jab===k){const l=g.kja;f.Jna(this.DWg,this.tPe,e.kb);h===null||h===void 0||h.pZe(l);h===null||h===void 0||oLs(h,k,l);this.n4g=void 0}this.Nsf=0;g.O2i=0};this.I3e=()=>this.props.Bw.IYf(this.props.page);this.Yok=()=>this.props.Bw.IYf(void 0);this.TOb=new CIs(mV(()=>
{var e=this.props.uA,f=this.props.h0i;e=(e=e===null||e===void 0?void 0:e.bFi())?[e]:[];if(!f)return e;const g=f.Dfd;f=f.qKh?f.qKh.get().map(h=>({BCa:h,Yfd:h===0?0:g,q3c:g})):[];return e.concat(f)}),(d=(c=this.props.h0i)===null||c===void 0?void 0:c.rJe)!==null&&d!==void 0?d:yV.box(!1),this.props.Lk);this.Bfb=(e,f)=>e+this.Nsf+f/this.props.Bw.JBa*1E6;this.onScroll=this.props.lN.ii?()=>{const e=this.props.uA;e===null||e===void 0||e.pZe()}:void 0}}({c:[j0s,Y_s]}=KV(a,[],[Ob],Z_s))})(),X_s);var l0s={COa:0},m0s=fV(({page:a,ke:b,lej:c,Y4g:d,kja:e,xn:f,o_e:g})=>dV("div",{className:"_9yfyrQ",style:{right:e==="start"?g.xEl:void 0,left:e==="start"?void 0:0},children:dV(__c.LC,{xn:f,itemSizes:g.VAk,children:h=>dV(rV,{children:g.WAk.map((k,l)=>{var m;if(m=h!=null){var p;m=(p=h===null||h===void 0?void 0:h.l$)!==null&&p!==void 0?p:0;var q;p=(q=h===null||h===void 0?void 0:h.G$)!==null&&q!==void 0?q:g.VAk.length-1;q=l+1;m=m<=q&&q<=p}return dV(c,{oUc:k,page:a,o_e:g,ke:b,Y4g:d,sah:m},l)})})})})),
o0s=({sah:a,oUc:b,...c})=>{b=gQs(b);a=gQs(a);return dV(n0s,{...c,oUc:b,sah:a})},n0s=fV(({o_e:a,sah:b,oUc:c,page:d,ke:e,Y4g:f})=>{const g=a.fEf.width;a=a.fEf.height;return dV("div",{style:{width:g,height:a},children:b&&dV(e,{page:d,nd:g,sf:a,fit:f,jah:c*1E6,wA:{COa:c}})})}),r0s=fV(({page:a,document:b,lSb:c,dimensions:d,hCb:e,ke:f,Rup:g,lej:h,Bw:k,lN:l,xn:m,o_e:p,alj:q})=>{const r=zV(()=>({...d,width:ok(a.page,b.dimensions)?xg(4,pk(a.page,b.dimensions)).width*d.scale:d.width}),[a.page,b.dimensions,
d]);p.dko(r);const t=k.jab===a.page?k.kja:void 0;let u;a.type==="responsive-page"?u="cover":l.o5d(a.page)&&!rf(a.page)&&(u="contain");const w=l.o5d(a.page)&&a.type!=="responsive-page"?"dashed":"solid",x=!l.mc(a.page)||k.z8e===a.page&&l.ii&&DV(k,a.page)?"thin":"thick",y=!k.UJ&&DV(k,a.page);return dV("div",{className:CV("J7ZnOw",{lKgehQ:l.mc(a.page)&&l.wSa}),children:kV(p0s,{lSb:c,AGb:x,borderStyle:w,gVa:k.isLinear,children:[q&&dV(q,{page:a.page,mc:c!=="none"}),kV(g,{page:a.page,children:[dV(__c.dOm,
{w4a:a.page.draft,children:dV("div",{className:CV("CdMl_Q","ohABhA",{EQOZLw:c==="selected"||c==="focused",e1lb_g:e,T5Fk1g:!e,_5BqSaw:vb.od,TglptA:k.isLinear}),style:{height:d.height,opacity:p.lgn?.5:1,background:y?fGs(a.ia,k):void 0},children:e&&(p.kzo==="repeat"?dV(m0s,{ke:f,lej:h,Y4g:u,page:a,kja:t,xn:m,o_e:p}):dV(q0s,{page:a,a4:r,Rhl:k.zTd(a.page,!0),Nhl:d.height,Y4g:u,ke:f}))})}),dV("div",{className:"JkY5pQ"})]})]})})}),p0s=fV(a=>{const b=a.lSb;return dV(__c.$Oo,{borderRadius:"round",AGb:a.AGb,
lSb:b==="none"?"default":b,borderStyle:a.borderStyle,yuh:a.gVa,children:a.children})}),q0s=a=>{const b=a.page,c=a.Y4g,d=a.ke,{left:e,top:f,width:g,height:h}=dGs({Rhl:a.Rhl,Nhl:a.Nhl,a4:a.a4,page:b});return dV("div",{style:{transform:`translateX(${e}px) translateY(${f}px)`},children:dV(d,{page:b,nd:g,sf:h,fit:c,wA:l0s})})},s0s=a=>{const b=XFs(a),c=a.document,d=a.ke,e=a.lN,f=a.Bw,g=a.qG,h=a.U6e,k=a.gxg?o0s:n0s,l=k0s(a);return m=>{const p=m.page,q=zV(()=>new B_s(e,f,g,p.page,h),[p.page]);return dV(r0s,
{...m,document:c,ke:d,lN:e,Bw:f,Rup:l,lej:k,alj:b,o_e:q})}};var AV={get dZj(){return Qb("2cd44d17",!1)},get euq(){return Qb("4a9296e3",!1)},get Ozq(){return Qb("ba8fccc0",!1)},get Utq(){return Qb("a4addff",!1)},get FIm(){return Qb("f79ce147",!1)},get WBq(){return Qb("742e4c6d",!1)},get Gxq(){return Qb("f9933a63",!1)},get J$g(){return Qb("1b9427a5",!1)},get p2h(){return Qb("51bdcf59",!1)},get Muq(){return Qb("c94df7cf",!1)},get cCq(){return Qb("164ecc96",!1)},get Uym(){return Qb("8a334b08",!1)}};var t0s=FV(a=>{const b=a.ilc,c=a.text,d=a.FDf;return dV("p",{className:CV("s_2lEg JYIidw",a.className,{ejxV1w:d,"ptMFSw _2a6tNg":a.Xyb}),style:d?void 0:b.text,children:c})}),u0s=({onClick:a})=>dV(bj,{size:"small",icon:lu,variant:"contrast",onClick:a}),yKs=fV(({zd:a,Z0k:b,page:c,lN:d,Nqb:e,zy:f,wea:g,gVa:h})=>{const k=kGs(c);return dV("div",{className:"D9QD7A",children:dV("div",{className:"_43qVUg",children:dV("div",{className:"fQqEWA",children:kV("div",{className:"OM5KyQ",children:[dV(v0s,{mode:b,
tna:!0,zd:a,page:c,ilc:k,lN:d,zy:f,gVa:h}),dV(w0s,{isDisabled:!0,tna:!0,cpo:d.hN,page:c,wea:g,ilc:k,Nqb:e,lN:d,gVa:h})]})})})})}),y0s=a=>b=>dV(x0s,{...b,...a}),x0s=fV(a=>{const b=a.isDragging;var c=a.hac;const d=a.Zha,e=a.Xyb,f=a.Z0k,g=a.iHp,h=a.uQp,k=a.gVa,l=a.zd,m=a.mH,p=a.Dh,q=a.wea,r=a.Nqb,t=a.lN,u=a.gb,w=a.zy;var x=a.kh;const y=a.vc,z=a.sTr;var A=a.igg;const B=a.gWc,D=a.$Vc;a=a.y3b;const G=p.ia;var I=Hc.vba||Hc.izd;x=e&&(d||x.Pr||I);const K=kGs(G);c=c||b;const N=f==="pageDuration"&&k&&!e&&!d;
I=lk(u,G,__c.JRj)===6;A=A&&AV.p2h&&I&&e;return kV("div",{className:CV("CObwCg",{w7Fxyw:g,VUsLCQ:c,X6jsHg:t.Tyd(G),dOiHrw:k,gTH6_Q:e&&t.wSa}),children:[A&&dV("div",{className:"_5JoP7Q",children:dV(u0s,{onClick:z})}),kV("div",{className:"_0_t1hg",children:[dV("div",{className:"_7I1ALw",children:B&&dV("div",{className:"a00RqQ",children:dV(B,{})})}),kV("div",{className:"KwRevw",children:[a&&dV("div",{className:CV("cpLrIw",{JtZbcA:vc.mJ,PykVOA:x}),onWheel:z0s,children:dV(a,{page:G})}),(!a||!x)&&D&&dV("div",
{className:CV("cpLrIw",{OmuVVg:vc.mJ,PykVOA:!x}),children:dV(D,{})})]})]}),dV(__c.Tc,{children:M=>dV("div",{className:CV(M.className,"_43qVUg",{uLhNeg:g}),children:dV("div",{className:CV("XeYKNA",{XWR8Jw:g}),style:N?void 0:K.gradient,children:kV("div",{className:"OM5KyQ",children:[dV(A0s,{Dh:p,gb:u,ilc:K,store:t,vc:y}),!N&&dV(v0s,{mode:f,tna:!1,zd:l,page:G,ilc:K,lN:t,zy:w,gVa:k}),!N&&dV(w0s,{isDisabled:!h||b,tna:!1,cpo:t.hN&&d,mH:m,page:G,wea:q,ilc:K,Nqb:r,lN:t,gVa:k})]})})})})]})}),v0s=fV(a=>{var b=
a.mode;const c=a.tna,d=a.zd,e=a.page,f=a.ilc,g=a.lN,h=a.zy;a=a.gVa;const k=hV(()=>{ta(e.type==="fixed");h.CF(e)},[h,e]),l=g.mc(e);if(b==="pageNumber"||e.type!=="fixed")return dV(t0s,{ilc:f,text:`${d}`,FDf:c,Xyb:l});b=dV(t0s,{ilc:f,text:wo(xKe(h,e),"short"),FDf:c,Xyb:l});return!g.hN||c||a?b:dV(rr,{tabIndex:-1,ariaLabel:L("zci4Fg"),onClick:k,size:"small",className:"rPSykQ",Q8:!0,disabled:g.ii,children:b})}),A0s=fV(({Dh:a,ilc:b,store:c,gb:d,vc:e})=>{{const g=a.ia;if(c.hN){var f=$l(e,a);a=f&&!$l(e,a,
am.Ps)?gbr:f?fy:lGs(g,c,d)}else a=lGs(g,c,d)}return a?dV("div",{style:b.icon,children:dV(a,{className:"zRkFXw",size:"small"})}):null}),w0s=fV(a=>{var b=a.isDisabled;const c=a.tna,d=a.cpo,e=a.mH,f=a.page,g=a.wea,h=a.ilc,k=a.Nqb;var l=a.lN,m=a.gVa,p=zV(()=>Vb(),[]);const [q,r]=nV(!1);a=hV(x=>{k.EBa(f,x)},[f,k]);const t=jV(null),u=b||!l.hN||p||m;b=hV(x=>{!q&&(x.altKey||x.metaKey||x.shiftKey||x.ctrlKey)&&(g(),x.preventDefault())},[q,g]);m=hV(()=>{var x;u||(r(!0),(x=t.current)===null||x===void 0||x.rec())},
[u]);p=hV(()=>{r(!1)},[]);const w=f.title||"";l=l.mc(f);return kV(rV,{children:[dV(t0s,{ilc:h,className:"OqCypA",text:"-",FDf:!q&&!w&&!d||c,Xyb:l}),c?dV(t0s,{ilc:h,className:"_7LcFVQ",text:w,FDf:!0,Xyb:l}):dV(__c.Twh,{ref:t,label:L("RW8WWQ"),value:w,defaultValue:"",mH:e,rxa:a,onMouseDown:b,onFocus:m,onBlur:p,disabled:u,tabIndex:-1,className:CV("_7LcFVQ",{KDSYFg:u}),nM:CV("Ra_6tA","s_2lEg JYIidw",{"ptMFSw _2a6tNg":l,_5bT_Aw:h.text.color==="#ffffff",Isldmg:h.text.color==="#000000"}),har:h.text})]})}),
z0s=a=>{a.stopPropagation()};var B0s=({F0f:a,viewport:b,document:c,Ma:d,ke:e,xS:f,y3b:g,L:h,store:k,timing:l,vc:m,gb:p,zy:q,ifa:r,Xo:t,kh:u,JFa:w,$f:x,Lk:y,onContextMenu:z,igg:A,UWa:B,gxg:D,U6e:G=100,hmr:I})=>{const K=a.Bw,{$Vc:N,gWc:M}=UFs({store:k,ifa:r,xS:f}),S=s0s({ke:W=>dV(e,{...W,bCa:"static-with-placeholder-fallback"}),r_e:a.r_e,Xo:t,Bw:K,uA:a.uA,qG:a.qG,h0i:a.h0i,Nqb:h,lN:k,zy:q,gxg:D,JFa:w,$f:x,document:c,Lk:y,UWa:B,U6e:G});f=gV(()=>{var W,X;b.mh.type==="fixed-page"&&(l.Hs=!0,(W=a.uA)===null||W===void 0||W.stop(),(X=
a.uA)===null||X===void 0||X.configure({page:b.mh}),a.qG.xJd(!1))});const Q=y0s({Nqb:h,vc:m,kh:u,sTr:f,igg:A});return fV(W=>{var X=y_s,ba=W.xn,da=c.language,la=W.page,ka=W.zd,oa=W.dimensions,ja=W.kul,fa=W.visible;var aa=W.page.page;var ca;aa=k.Hxk(aa)?"page_audio_selected":!k.mc(aa)||K.z8e===aa&&k.ii&&DV(K,aa)?"none":!k.wSa||(ca=a.PUa)!==null&&ca!==void 0&&ca.If?"focused":"selected";return dV(X,{lN:k,Bw:K,zy:q,gb:p,Ma:d,xn:ba,mH:da,page:la,zd:ka,dimensions:oa,kul:ja,visible:fa,lSb:aa,Eo:k.ii,Xyb:k.mc(W.page.page),
isDragging:W.isDragging,QCd:k.xgk(W.page.page),Gg:k.Rai(W.page.page),onClick:W.onClick,onContextMenu:k.ii||!I&&!k.hN?void 0:z,y3b:k.ii||!I&&!k.hN?void 0:g,$Vc:N,gWc:M,rpp:S,spp:Q})})};var C0s=({L:a,lgb:b,uA:c,s4e:d,qG:e,store:f,keyboardShortcuts:g,N:h,V:k})=>{const l=(r,t)=>{const u=r.shiftKey;t=t.direction;const w=k.sb("keyboard_shortcuts.select_page",{Fb:{name:"editor.page.navigate",type:"keyboard_shortcut"}});let x;switch(t){case "last":x=u?f.Y9n():f.x9n();break;case "first":x=u?f.X9n():f.mOi();break;case "next":c&&e&&!e.UJ?c.hJk(u?.5:.1,"forwards","shortcut"):x=u?f.Z9n():f.D9n();break;case "previous":c&&e&&!e.UJ?c.hJk(u?.5:.1,"backwards","shortcut"):x=u?f.$9n():f.L9n()}x==
null?w.abort():(r.stopPropagation(),h.JMd(x,f.ya!==x,w,{Wb:f.Wb(f.ya||x),YJ:f.YJ,Hzd:f.o5d(f.ya||x),kb:"key_press"}))},m=(r,t)=>{const u=t.direction;t=t.K0f;r.stopPropagation();u==="forwards"?a.oXg(f,{RLk:t}):a.nXg(f,"key_press",{QLk:t})},p=()=>{f.T2n()};var q=["view","comment"];g.register(["ArrowRight",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],["PageDown",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["PageUp",r=>l(r,{direction:"previous"}),
L("Nm51vA"),q]);g=new __c.l1b({nRa:!1});q=["edit","view","comment"];c&&g.register([" ",()=>{b()&&c.xPa({kb:"shortcut"})},"Toggle timeline preview",q]);g.register(["End",r=>l(r,{direction:"last"}),L("iUDjEw"),q],[bl("ArrowRight"),r=>l(r,{direction:"last"}),L("iUDjEw"),q],[bl("ArrowDown"),r=>l(r,{direction:"last"}),L("iUDjEw"),q],[Vo("End"),r=>l(r,{direction:"last"}),L("0A1FZQ"),q],[bl(Vo("ArrowRight")),r=>l(r,{direction:"last"}),L("0A1FZQ"),q],[bl(Vo("ArrowDown")),r=>l(r,{direction:"last"}),L("0A1FZQ"),
q],["Home",r=>l(r,{direction:"first"}),L("tfzZYg"),q],[bl("ArrowLeft"),r=>l(r,{direction:"first"}),L("tfzZYg"),q],[bl("ArrowUp"),r=>l(r,{direction:"first"}),L("tfzZYg"),q],[Vo("Home"),r=>l(r,{direction:"first"}),L("9wjTBw"),q],[bl(Vo("ArrowLeft")),r=>l(r,{direction:"first"}),L("9wjTBw"),q],[bl(Vo("ArrowUp")),r=>l(r,{direction:"first"}),L("9wjTBw"),q],["ArrowRight",r=>l(r,{direction:"next"}),L("CYTgXw"),q],["PageDown",r=>l(r,{direction:"next"}),L("CYTgXw"),q],[Vo("ArrowRight"),r=>l(r,{direction:"next"}),
L("s7WncQ"),q],[Vo("PageDown"),r=>l(r,{direction:"next"}),L("s7WncQ"),q],["ArrowLeft",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],["PageUp",r=>l(r,{direction:"previous"}),L("Nm51vA"),q],[Vo("ArrowLeft"),r=>l(r,{direction:"previous"}),L("qcHaOA"),q],[Vo("PageUp"),r=>l(r,{direction:"previous"}),L("qcHaOA"),q],[bl("a"),r=>{r.stopPropagation();f.c9n()},L("KojSUg"),q]);q=["edit"];d&&g.register(["s",r=>{r.stopPropagation();d.Ysn()},"Split",q]);g.register([bl("Enter"),r=>{f.hN&&(r.stopPropagation(),wGs(a,
f,"shortcut",f.pac))},L("kMIn0w"),["edit"]],[bl("]"),r=>m(r,{direction:"forwards",K0f:!1}),L("Xv/c6w"),q],[bl("PageDown"),r=>m(r,{direction:"forwards",K0f:!1}),L("Xv/c6w"),q],[bl(Vo("PageDown")),r=>m(r,{direction:"forwards",K0f:!0}),L("Y2/pJg"),q],[bl("["),r=>m(r,{direction:"backwards",K0f:!1}),L("oW2pdQ"),q],[bl("PageUp"),r=>m(r,{direction:"backwards",K0f:!1}),L("oW2pdQ"),q],[bl(Vo("PageUp")),r=>m(r,{direction:"backwards",K0f:!0}),L("Vb3tiQ"),q],["Backspace",p,L("HIVQ3g"),q],["Delete",p,L("HIVQ3g"),
q]);return g};var D0s=21*Wc,E0s=parseInt("96px",10)||96,F0s=15*Wc,G0s=27*Wc,H0s=19*Wc,nGs=class{static G(a){O(a,{sdh:yV.ref,iGc:mV,Pxs:mV,GRc:mV,CEl:mV,Exn:mV,aMd:mV,yzo:mV,xzo:mV})}get hUf(){return n(this.config.hUf,"sceneTimeline is not configured correctly")}get pnd(){return n(this.config.pnd,"audioTimeline is not configured correctly")}get VYg(){var a,b;return((b=(a=this.config.B_h)===null||a===void 0?void 0:a.VYg.get())!==null&&b!==void 0?b:0)+this.pnd.VYg.get()+1}ewf(a,b){var c,d,e,f;return{top:this.GRc+
((e=(c=this.config.B_h)===null||c===void 0?void 0:c.jUq(a,b))!==null&&e!==void 0?e:0),rowHeight:(f=(d=this.config.B_h)===null||d===void 0?void 0:d.rowHeight)!==null&&f!==void 0?f:0}}get iGc(){var a,b;return(b=(a=this.config.B_h)===null||a===void 0?void 0:a.height.get())!==null&&b!==void 0?b:0}get Pxs(){return this.hUf.height}get GRc(){return n(this.config.Nws).height.get()}get CEl(){const a=n(this.config.Yhe),b=n(this.config.Y1c);return this.aMd+a.height.get()+b.height.get()}get Exn(){return(this.ii.get()?
H0s:G0s)+this.GRc}get aMd(){return n(this.config.h3c).get()?this.sdh:Math.max(E0s,Math.min(this.yzo,AV.J$g?this.Exn:Infinity))}get yzo(){const a=this.iGc>0?Wc:0,b=this.pnd.height.get()>0?Wc:0;return this.xzo+this.iGc+this.hUf.height+this.pnd.height.get()+a+b+this.GRc}get xzo(){return this.GRc?0:Wc*4}constructor(a,b){this.config=a;this.ii=b;this.sdh=(nGs.G(this),D0s);this.eko=c=>{var d=__c.Yb();var e;d=(e=d===null||d===void 0?void 0:d.height)!==null&&e!==void 0?e:window.innerHeight;this.sdh=Math.max(F0s,
Math.min(d*.6,c))}}};var I0s=a=>{const b=(e,f)=>e+(f.type==="group"?f.nb.count():1),c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new v(f);}};return a.pages.reduce((e,f)=>d(e,f),0)},J0s=a=>{const b=(e,f)=>{switch(f.type){case "group":return e+f.nb.filter(g=>g.type==="embed").length;case "embed":return e+
1;default:return e}},c=(e,f)=>{switch(f.type){case "design":return e+f.pages.reduce(d,e);case "embed":return e+1;default:return e}},d=(e,f)=>{switch(f.type){case "fixed":return f.elements.reduce(b,e);case "concatenated-fixed":return f.pages.reduce(d,e);case "responsive":return[...f.text.items].reduce(c,e);default:throw new v(f);}};return a?d(0,a):0},K0s=(a,b)=>{const c=I0s(b);return{numPages:a.hC,numElements:c,numEmbeds:J0s(a.ya||b.pages.first())}};var L0s=(a,b,c)=>class extends HV{render(){!this.YIg&&this.Ezr();return dV(c,{...this.props})}Ezr(){var d,e;if((d=this.span)===null||d===void 0?0:d.isRecording())(e=this.span)===null||e===void 0||e.mb().addEvent("rendered");this.YIg=!0}componentDidMount(){var d;if((d=this.span)===null||d===void 0?0:d.isRecording())this.span.mb().addEvent("mounted"),this.span.mb().nk(({Ii:e})=>{a(e())}),this.span.end(),this.span=void 0}constructor(d){super(d);this.YIg=!1;this.span=b.sb("initial_render",{Fb:{name:"page_navigator.initial_render"}})}};var M0s=({XP:a,JFa:b,Nqb:c,lN:d})=>{const e={getLabel(){return c.qK()?d.ii?L("y1K5cA"):L("PAB4WQ"):L("TYQVbA")},onClick(f){a.clear();wGs(c,d,"add_page_button",f)},ma:({rq:f})=>dV(Qu,{size:f&&d.ii?"medium":"small"}),isActive(){return!1},isDisabled(){return!1}};eV(()=>d.hN,f=>{b.Ifg.rxh=f?e:void 0},{fireImmediately:!0})};var N0s,O0s,P0s,Q0s,R0s,S0s,T0s=parseInt("4px",10)*2||8,wKs;
new (N0s=class extends JV{constructor(){super(wKs);P0s()}},(()=>{class a extends(Q0s=HV){static G(b){O(b,{canDrag:mV,Dgm:mV,tTi:mV,w7l:gV,K2:gV,onDragStart:gV,FHg:gV,ma:mV})}get canDrag(){return this.props.store.hN}get Dgm(){const b=this.props.store;return b.mc(this.props.page)&&b.hOa&&b.mc(b.hOa)}get tTi(){const b=this.props.store,c=this.props.page;return b.hOa!==c&&(!b.gxd||!b.mc(c))}get ma(){const b=this.props.sws;return dV("div",{className:"Q_BqMA",style:{transform:this.canDrag&&b?`rotate(${b}deg)`:
void 0},children:this.props.children})}render(){const b=this.props.UWa,c=this.props.pil,d=this.props.dimensions,e=this.props.Hfc,f=this.props.Jnq,g=this.props.Gdd,h=this.props.rId,k=this.props.store.eJc(this.props.page);return dV("div",{role:"none",className:"jBWQkA",style:{transform:k&&this.tTi?this.JPp(k):void 0,height:d.height+T0s},children:this.canDrag?dV(__c.j4g,{eD:c,K2:this.K2,onDragStart:this.onDragStart,onDragEnd:this.FHg,M0a:this.M0a,KRd:this.w7l,Ffe:this.Dgm,Hfc:e,height:f,Gdd:g,rId:h,
oId:"x",eYh:b,focusable:!0,Mgj:this.cv,children:this.ma}):this.ma})}constructor(...b){super(...b);this.w7l=(wKs.G(this),()=>{this.props.store.gxd=!1});this.K2=c=>{const d=this.props.page,e=this.props.K2,f=this.props.store,g=this.props.V;f.apl(d);f.ysd=g.sb("drag_and_drop",{Fb:{name:"page_navigator.drag_and_drop"}});e&&e(d,c)};this.M0a=()=>{const c=this.props.page,d=this.props.M0a,e=this.props.store;d===null||d===void 0||d(c);e.ysd=null};this.onDragStart=(c,d)=>{c=this.props.N;var e=this.props.store;
const f=this.props.page,g=this.props.V.sb("on_drag_start",{Fb:{name:"page_navigator.draggable_page.on_drag_start"}});e.gxd=!0;e.Tml(d);(d=e.mc(f))?g.abort():(e.wea(f),e={Wb:e.Wb(f),YJ:e.YJ,Hzd:e.o5d(f)},c.JMd(f,!d,g,{...e,kb:"click"}))};this.FHg=()=>{const c=this.props.store,d=this.props.page,e=this.props.onDragEnd;c.hOa===d&&(c.apl(void 0),c.Tml(!1),e&&e(d))};this.JPp=c=>{const d=this.props.WBg||vb.direction===1?1:-1;return c!=="none"?c.direction==="left"?`translateX(${-c.distance*Wc*d}px)`:`translateX(${c.distance*
Wc*d}px)`:c};this.cv=()=>{var c=this.props.store;const d=this.props.page,e=this.props.children,f=this.props.dimensions,g=this.props.gVa;c=c.Clm&&c.mc(d);return dV("div",{className:CV("H_zteA",{Zne_8A:!c,QySrtA:g}),style:{width:f.width,height:f.height},children:c&&e})}}}({c:[wKs,P0s]}=KV(a,[],[Ob],Q0s))})(),N0s);var U0s;
new (O0s=class extends JV{constructor(){super(U0s);R0s()}},(()=>{class a extends(S0s=HV){static G(b){O(b,{Ljh:yV.ref,$ci:yV.ref,PEd:mV,Tyd:mV,onDragEnter:gV,onDragLeave:gV,onMouseUp:gV})}get PEd(){const b=this.props.page,c=this.props.document;return b?c.pages.previous(b):c.pages.last()}get Tyd(){const b=this.props.page,c=this.props.store;return b&&c.Tyd(b)}render(){const {store:b,WEa:c,udn:d,KCm:e="percentage",koq:f,WBg:g,J4q:h,gVa:k}=this.props;return kV(rV,{children:[!h&&dV("div",{className:CV("_7J9QjQ",
{CMdJpA:g,_1jWbtA:c||b.hOa&&this.Ljh,_3_sLiw:this.Tyd&&e==="percentage",dvPhVQ:k})}),dV("div",{className:CV("t9v9Qw",{ciyrvA:e==="full",HoeKdQ:e==="percentage",_k6JOQ:e==="fixed",_1jWbtA:d||b.hOa,nSS_Fg:d}),style:d?void 0:f,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onMouseUp:this.onMouseUp,onContextMenu:this.preventDefault})]})}constructor(...b){super(...b);this.Ljh=(U0s.G(this),!1);this.$ci=!1;this.onDrop=async()=>{var c=this.props.WEa;const d=this.props.store,
e=this.props.L,f=this.props.page;if(this.props.udn||c)this.PEd&&d.KYe(this.PEd),f&&d.KYe(f),this.Ljh=!1;else if(!this.$ci&&d.hOa)if(d.Clm&&e.MLa(d.YJ))e.D7b(d,"drag",f,!1);else{e.fCd(d,"drag",f);c=d.hOa;this.$ci=!0;var g=d.Ag;await na(0);this.$ci=!1;d.ya!==c&&d.VG(c);this.forceUpdate(()=>{d.setSelection(g)})}};this.onDragEnter=()=>{const c=this.props.store,d=this.props.page;this.PEd&&c.qqj(this.PEd,{direction:"left",distance:1});d&&c.qqj(d,{direction:"right",distance:1});this.Ljh=!0};this.onDragLeave=
()=>{const c=this.props.store,d=this.props.page;this.PEd&&c.KYe(this.PEd);d&&c.KYe(d);this.Ljh=!1};this.onMouseUp=()=>{const c=this.props.store,d=this.props.page;this.PEd&&c.KYe(this.PEd);d&&c.KYe(d)};this.preventDefault=c=>c.preventDefault()}}({c:[U0s,R0s]}=KV(a,[],[Ob],S0s))})(),O0s);var V0s=Wc/2,W0s=parseInt("96px",10)||96,X0s=fV(({Xo:a,lN:b,BZs:c,Bda:d})=>{const e=zV(()=>Math.floor(a.scrollLeft)>V0s,[a.scrollLeft]),f=zV(()=>Math.ceil(a.scrollLeft+a.offsetWidth+V0s)<c,[a.scrollLeft,a.offsetWidth,c]),g=a.offsetWidth<c;return b.ii||!g?null:kV("div",{className:"mffvfg",children:[dV("div",{className:CV("Jjqy1Q Jd2ccA",{_2njASw:e}),style:{height:d.aMd}}),dV("div",{className:CV("x6qgng Jd2ccA",{_2njASw:f}),style:{height:d.aMd,left:a.offsetWidth-W0s}})]})});var Y0s=class{static G(a){O(a,{positions:mV})}get positions(){return{i9:this.Xo.scrollLeft,Vr:this.Xo.clientWidth}}constructor(a){this.Xo=a;this.layout=(Y0s.G(this),"horizontal")}},Z0s=fV(({children:a,Xo:b})=>{const c=zV(()=>new Y0s(b),[b]);return AV.dZj?a({xn:c}):dV(__c.VEe,{layout:"horizontal",RAm:!0,children:({zl:d,xn:e})=>a({xn:e,zl:d})})});__c.$0s=16/9;__c.a1s=parseInt("24px",10)||24;__c.b1s=parseInt("28px",10)||20;__c.c1s=parseInt("24px",10)||24;__c.d1s=parseInt("176px",10)||176;__c.e1s=parseInt("224px",10)||224;__c.f1s=__c.b1s*2;__c.g1s=parseInt("72px",10)||28;__c.h1s=100/15;var i1s={width:8.5/11*BV,height:BV,scale:1},j1s=LV(a=>{const b=xg(4,a);a=zg(a)?__c.$0s:b.width/b.height;return{width:BV*a,height:BV,scale:BV/b.height}});var k1s,l1s,m1s,n1s=Wc*75||600,o1s=parseInt("300ms",10)||300,p1s=window.CSS&&window.CSS.supports&&CSS.supports("(-webkit-overflow-scrolling: touch)"),q1s;
new (k1s=class extends JV{constructor(){super(q1s);l1s()}},(()=>{class a extends(m1s=HV){static G(b){O(b,{eb:yV.ref,Hg:mV.struct,BF:gV.bound,$4d:mV,f7n:mV,W_j:mV})}componentDidMount(){const b=this.props.store,c=this.props.Ro,d=this.props.Rc,e=n(this.zu.current);Kb(this,c.LY(e,"50%"));e.addEventListener("focusout",this.KCn);document.addEventListener("mousedown",b.eAi,{capture:!0});document.addEventListener("drop",this.stopPropagation);window.addEventListener("resize",this.vvm);d()}componentWillUnmount(){const b=
this.props.ki;document.removeEventListener("mousedown",this.props.store.eAi,{capture:!0});document.removeEventListener("drop",this.stopPropagation);window.removeEventListener("resize",this.vvm);this.yJn();n(this.zu.current).removeEventListener("focusout",this.KCn);b()}Cfm(){return this.props.Bzm&&this.dJ.innerWidth<=n1s}get Hg(){return j1s(this.props.Ia.dimensions)}get $4d(){return!!this.props.store.hOa}get f7n(){if(!this.W_j){var b=this.props.Bda;return{height:this.props.Nat.rNg?0:b.aMd}}}get W_j(){return p1s&&
!this.props.F0f.BDf.get()&&this.$4d}render(){var b;const c=this.props.config,d=this.props.store,e=this.props.kSo,f=this.props.F0f,g=this.props.O3b,h=this.props.$f,k=this.props.Xo,l=this.props.CGl,m=this.props.Bda,p=this.props.l$r,q={Qzc:this.props.Qzc,tzc:this.props.tzc,r3b:c.r3b,Hg:this.Hg,XNa:this.XNa,zu:this.zu,...(d.hN?{O3b:g,etc:this.etc}:{})},r=f.Yhe.get(),t=this.f7n,u=this.W_j;var w;const x=(w=(b=h.Rkg)===null||b===void 0?void 0:b.Um)!==null&&w!==void 0?w:bLs,y=f.BDf.get(),z=y||f.bxk.get(),
A=f.ADf.get(),B=this.eb,D=this.props.Xtp;return dV(qQs["default"],{bounds:!0,onResize:this.yJn,children:({measureRef:G})=>kV("div",{ref:G,className:CV("_xAWuA",{sJdpWg:!f.bxk.get()}),onClick:this.Lbc,children:[dV(__c.Fp,{map:p.map,mr:!1,children:dV(__c.KB,{BF:this.BF,children:kV("div",{children:[r,z&&dV(f.e0i.f7f,{disabled:!y}),kV("div",{className:CV("S8qQCA",{m29yeA:!f.e0i.isDragging.get()&&d.od&&vb.od,XbJiZg:A}),style:t,ref:this.ug,children:[dV(D,{}),dV(x,{children:dV("div",{className:"IRDJFw"})}),
dV("span",{tabIndex:-1,ref:this.Vro}),dV(__c.jDd,{onClick:this.Zro,children:L("Rz/bng")}),dV(f.Vcf,{}),dV(Z0s,{Xo:k,children:({xn:I,zl:K})=>kV("div",{ref:(0,oQs["default"])(k.yq,l===null||l===void 0?void 0:l.yq,this.zu,K),className:CV("LGNDdw",{sr7Jsw:this.Cfm(),ogIqug:Wb()&&!this.Cfm(),xE8XcA:u}),style:t,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onWheel:this.gXr,tabIndex:-1,children:[dV(qQs["default"],{client:!0,offset:!0,onResize:this.r9d,children:({measureRef:N})=>kV(rV,{children:[dV(f.Rkj,
{xn:I,measureRef:N,...q}),e&&dV(e,{})]})}),dV(X0s,{Xo:k,lN:d,BZs:B,Bda:m})]})}),dV(__c.jDd,{onClick:this.$ro,children:L("GxvzFw")}),dV("span",{tabIndex:-1,ref:this.Uro})]})]})})}),dV(r1s,{JFa:c})]})})}constructor(...b){super(...b);this.dJ=(q1s.G(this),this.props.dJ||window);this.zu=__c.uk();this.ug=__c.uk();this.Vro=IV();this.Uro=IV();this.Jsl=!1;this.eb=0;this.$ro=()=>{var c;(c=this.Vro.current)===null||c===void 0||c.focus()};this.Zro=()=>{var c;(c=this.Uro.current)===null||c===void 0||c.focus()};
this.rnk=!1;this.vvm=Hb(gV(()=>{const c=this.props.Bda;c.eko(c.aMd)}),200);this.KCn=()=>{const c=this.props.store;if(c.jNk){var d;(d=this.zu.current)===null||d===void 0||d.focus();c.jNk=!1}};this.stopPropagation=c=>{const d=this.props.store;(d.hOa||d.gxd)&&c.stopPropagation()};this.yJn=Hb(c=>{AV.FIm&&this.props.store.pjo((c===null||c===void 0?0:c.bounds)?Vj(c.bounds):void 0)},200);this.r9d=gV(c=>{var d,e,f,g;this.eb=((f=(d=c.client)===null||d===void 0?void 0:d.width)!==null&&f!==void 0?f:0)+((g=(e=
c.offset)===null||e===void 0?void 0:e.left)!==null&&g!==void 0?g:0)});this.$ns=()=>{if(this.Jsl){var c;(c=this.zu.current)===null||c===void 0||c.focus();this.Jsl=!1}};this.BF=()=>{var c;const d=this.props.config;(c=d.FZs)===null||c===void 0||c.call(d);this.Jsl=!0};this.gXr=c=>{this.props.F0f.BDf.get()||Math.abs(c.deltaX)<Math.abs(c.deltaY)&&!c.ctrlKey&&!c.metaKey&&this.props.Xo.scrollBy({kSg:c.deltaY,behavior:"instant"})};this.onTouchMove=()=>{this.rnk=!0};this.onTouchEnd=()=>{this.rnk=!1};this.Lbc=
c=>{var d;this.props.F0f.BDf.get()||!this.ug.current||c.target instanceof Node&&((d=this.ug.current)===null||d===void 0?0:d.contains(c.target))||this.props.store.ii||this.props.L.rAn()};this.etc=async()=>{var c,d;const e=this.props.store,f=this.props.Xo,g=this.props.$f;await wGs(this.props.L,e,"add_page_end",this.props.Ia.pages.last());(d=g.qxh)===null||d===void 0||(c=d.sh)===null||c===void 0||c.call(d);e.ii||(await na(0),f.scrollTo({left:f.scrollWidth,behavior:"smooth"}),this.$ns())};this.XNa=async c=>
{const d=this.props.store,e=this.props.N;if(!this.rnk&&!d.hOa){var f=c!==d.ya,g=this.props.V.sb("page_click",{Fb:{name:`editor.page.${f?"navigate":"select"}`,type:"page_navigator_click"}});d.BLe=!0;await d.wea(c);e.JMd(c,f,g,{Wb:d.Wb(d.ya||c),YJ:d.YJ,Hzd:d.o5d(d.ya||c),kb:"click"});d.BLe=!1}}}}({c:[q1s,l1s]}=KV(a,[],[Ob],m1s))})(),k1s);var r1s=fV(({JFa:a})=>dV(rV,{children:a.PDh&&dV(a.PDh,{})}));var s1s=class{static G(a){O(a,{HCm:gV,nqb:gV,LEn:gV})}async HCm(a,b){const c=this.undo.startBuffering();try{const d=b?this.document.pages.previous(b):this.document.pages.last(),e=pGs(this,a,d),f=await wGs(this.L,this.store,"drag",d,e);f&&await this.nqb(a,Ff(this.document).tb(f),!0)}finally{oV(()=>c.stop())}}vZb(a,b){return b.type==="responsive"?rGs(this,a,b):sGs(this,a,b)}canDrop(a,b){switch(b.type){case "fixed":return b.dimensions&&zg(b.dimensions)?a.data.type!=="audio":!0;case "responsive":return qGs(a);
case "concatenated-fixed":return a.data.type!=="audio";default:throw new v(b);}}async nqb(a,b,c){switch(b.type){case "fixed-page":return uGs(this,a,b,c);case "concatenated-fixed-page":return uGs(this,a,b.tb(b.pages.first()),c);case "responsive-page":return vGs(this,a,b,c);default:throw new v(b);}}async LEn(a){this.Vcd();const b=this.undo.startBuffering();try{const c=pGs(this,a,this.document.pages.last()),d=this.L.mqj(this.document.pages.last(),"drag",c);d&&await this.nqb(a,Ff(this.document).tb(d),
!0)}finally{oV(()=>b.stop())}}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.document=a;this.viewport=b;this.Dc=c;this.L=d;this.store=e;this.undo=f;this.Hxa=g;this.Fi=h;this.yl=k;this.CG=l;this.Ipf=m;this.Fh=p;this.gb=q;this.PFc=(s1s.G(this),void 0);this.cGi=void 0;this.Vcd=()=>{clearTimeout(this.PFc);this.PFc=void 0};this.vai=r=>r.flatMap(t=>{if(t.type==="rect"||t.type==="grid"||t.type==="shape")return t;if(t.type==="group")return this.vai(t.nb.toArray())});this.AUq=(r,t)=>{let u=[];t=this.vai(t).filter(ub);
for(const w of t)if(w.type==="grid"){t=Array.from(w.cells.rR().values());const x=t.find(y=>!y.fill.image.ref&&!y.fill.video.ref);if(x){u=[__c.Py.Joc(x,w,r)];break}else u=[...u,__c.Py.Joc(t[0],w,r)]}else if(w.type==="shape")if(w.paths.filter(x=>!x.fill.image.ref&&!x.fill.video.ref).length){u=[__c.Py.uvd(w,r)];break}else u.push(__c.Py.uvd(w,r));else w.type==="rect"&&u.push(this.Ipf.FAj(w,r));return u.filter(ub)};this.onMouseMove=r=>{r=new xj(r.clientX,r.clientY);this.rao(r);this.cGi=r};this.onTouchMove=
r=>{r.touches.length===1&&(r=new xj(r.touches[0].clientX,r.touches[0].clientY),this.rao(r),this.cGi=r)};this.rao=r=>{const t=this.store.ya;if(__c.ck(this.viewport.jz(),r))this.Vcd();else{var u=this.cGi&&__c.Wce(this.Dc.e_h,this.cGi);r=__c.Wce(this.Dc.e_h,r);u=(u===null||u===void 0?void 0:u.length)&&u[0].props.page;const w=r.length&&r[0].props.page;w&&t!==w&&u===w?w&&t!==w&&this.PFc===void 0&&(this.PFc=window.setTimeout(()=>{this.CG.zZh(w,"to-origin");this.Vcd()},750)):this.Vcd()}};eV(()=>this.CG.isDragging()&&
!c.isDragging,r=>{r?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)):(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove))},{fireImmediately:!0})}};var t1s=class{static G(a){O(a,{mqj:gV,D7b:gV,QAo:gV,cLi:gV,fCd:gV,nXg:gV,oXg:gV,rAn:gV.bound,EBa:gV.bound})}MLa(a){return this.oc.MLa(a)}qK(){return this.oc.MLa(1)}uSb(a){return a.YJ&&this.b7b.yhg()}mqj(a,b,c){try{var d,e;const f=a||n(this.document.pages.first());ta(this.oc.LL!=null);const {page:g,container:h}=this.oc.LL(f,{Wc:b,location:"page_navigator",q7:"none"},{b4d:a==null,template:c});(e=this.Lk)===null||e===void 0||(d=e.nN)===null||d===void 0||d.call(e,new hp);return(h===null||h===void 0?void 0:
h.type)==="concatenated-fixed-page"?h.Fha(this.document.pages):g}catch(f){if(!(f instanceof __c.W1g))throw f;}}D7b(a,b,c,d=!0){const e=a.Ag,f=this.V.sb("copy_page",{Fb:{name:"page_navigator.copy_page"}}),g=this.document.pages;c=d?c:c?g.previous(c):g.last();const h=this.d2c.PZh(e,c,f,b);h.length&&window.requestAnimationFrame(()=>{a.VG(h[0]);a.setSelection(h)})}QAo(a){const b=!a.H8;b||this.selection.deselectAll();a.sed(b)}cLi(a,b){const c=this.V.sb("delete_page",{Fb:{name:"editor.page_navigator.delete_page",
type:b}});this.b7b.jQ(b,c,"outer");a.jNk=!0;b=a.Ag;(b=b.length?b[0]:void 0)&&a.ii&&a.VG(b)}fCd(a,b,c){var d,e;if(a.YJ!==0){if(b==="drag"){var f=a.ysd;f===null||f===void 0||f.mb().addEvent("dropped")}else f=this.V.sb("move_selection",{Fb:{name:"page_navigator.move_selection"}});var g=a.sU(a.Ag);this.document.pages.CYa(c,a.Ag);a=a.sU(a.Ag);var h={J8m:g,cPm:a,kb:b};f===null||f===void 0||f.mb().nk(({Ii:k})=>{f===null||f===void 0||f.addEvent("rendered");JFs(this.N,{...h,Rb:k()})});f===null||f===void 0||
f.ne();(e=this.Lk)===null||e===void 0||(d=e.nN)===null||d===void 0||d.call(e,new __c.Bsd({style:1}))}}nXg(a,b,c){const d=this.document.pages.first(),e=a.c6h;a.hN&&d&&e&&d!==e&&(c=c.QLk?d:this.document.pages.previous(e),this.fCd(a,b,c))}oXg(a,b){var c=this.document.pages.last();const d=a.pac;a.hN&&c&&d&&c!==d&&(c=b.RLk?c:this.document.pages.next(d),b=a.sU(a.Ag),this.document.pages.S3a(c,a.Ag),a=a.sU(a.Ag),JFs(this.N,{J8m:b,cPm:a,kb:"key_press"}))}rAn(){this.selection.deselectAll()}EBa(a,b){b=this.yRe(a,
b);!a.title&&b&&this.N.GHl();a.title=b||void 0}yRe(a,b){return rf(a)?b.replace(/(^')|[\\/?*:[\]]|('$)/g,"").slice(0,31):b}constructor(a,b,c,d,e,f,g,h,k,l){this.document=a;this.oc=b;this.b7b=c;this.d2c=d;this.N=e;this.V=f;this.selection=g;this.Ch=h;this.timing=k;this.Lk=l;this.gum=(t1s.G(this),void 0);this.Jii=LV((m,p)=>m.c6h===p);this.sMe=LV((m,p)=>m.hOa===p);this.gxd=LV((m,p)=>m.mc(p)&&m.gxd);LV((m,p)=>m.mc(p)&&!!m.hOa);LV((m,p)=>m.mc(p)&&m.wSa)}};__c.u1s=class{static G(a){O(a,{Woa:yV.ref,BAc:yV.ref,loe:yV.ref,dnj:yV.ref,Imj:yV.ref,p3l:yV.ref,pEh:yV.ref,nnj:yV.shallow,LEh:yV.ref,gxd:yV.ref,apl:gV,isDragging:mV,hN:mV,ya:mV,zMb:mV,So:mV,hC:mV,YJ:mV,ii:mV,twa:mV,yAa:mV,hRm:mV,iRm:mV,mcn:mV,wSa:mV,Ag:mV.struct,m2k:mV,c6h:mV,pac:mV,IF:mV,H8:mV,XYq:mV,rj:mV,Tml:gV.bound,pjo:gV.bound,Ofo:gV.bound,yCp:gV.bound,eAi:gV.bound,sed:gV,T2n:gV,qqj:gV.bound,KYe:gV.bound,DRd:gV.bound,c9n:gV.bound,wea:gV.bound,SLk:gV.bound,Z9n:gV.bound,$9n:gV.bound,X9n:gV.bound,
Y9n:gV.bound,mOi:gV.bound,x9n:gV.bound,D9n:gV.bound,L9n:gV.bound,sra:gV.bound,ZEc:gV.bound,setSelection:gV.bound,DU:gV.bound})}get hOa(){return this.LEh}apl(a){this.LEh=a}get isDragging(){return this.LEh!==void 0||this.Dc.isDragging}get hN(){return this.Ma.mode===40}get ya(){return this.viewport.jh||this.viewport.FF?this.viewport.ya:n(this.document.pages.first())}get zMb(){return this.document.pages.toArray()}get So(){return this.zMb.indexOf(this.ya)}get hC(){return this.document.pages.count()}get YJ(){return this.Ag.length}get ii(){return this.ka.layout===
2}get twa(){const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "pages":return a.Nd;case "elements":return a.Yz.ia}}get yAa(){if(this.selection.La){var a=this.selection.La.inner,b=this.selection.La.zg;return(a===null||a===void 0?void 0:a.type)==="group"&&b?{element:b,parent:a.group}:b?{element:b,parent:void 0}:void 0}}get hRm(){if(this.selection.La&&this.selection.La.type==="audio")return this.selection.La.LRa}get iRm(){if(this.selection.La){var a=this.selection.La.inner;if((a===
null||a===void 0?void 0:a.type)==="background")return a.Nd}}get mcn(){var a;return((a=this.selection.La)===null||a===void 0?void 0:a.type)==="audio"}get wSa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}get Ag(){var a;const b=this.nnj||((a=this.selection.La)===null||a===void 0?void 0:a.pages)||[];return b.length===0?[this.ya]:b}get m2k(){return this.hOa?this.Ag.filter(a=>a!==this.hOa).slice(0,2):[]}get c6h(){return this.document.pages.first(a=>this.Ag.includes(a))}get pac(){return this.document.pages.last(a=>
this.Ag.includes(a))}get IF(){return this.BAc}get H8(){return this.loe}get Clm(){return this.Imj}get ENs(){return this.p3l}get Uam(){return this.pEh.includes("start-side-panel")?this.Ma.kD.Bd:0}get Tam(){return this.pEh.includes("end-side-panel")?this.Ma.kD.yf:0}get Wam(){return vb.direction===2?this.Tam:this.Uam}get Yam(){return vb.direction===2?this.Uam:this.Tam}get XYq(){return this.dnj}get rj(){if(this.da.clientId&&this.da.clients){const a=this.da.clients.get(this.da.clientId);if(a)return __c.Ay(a)}return null}G7c(a){return a===
this.document.pages.last()}Tml(a){this.Imj=a}pjo(a){this.p3l=a}Ofo(a){this.pEh=a}yCp(){var a;this.dnj=(a=this.eJc(this.document.pages.last()))!==null&&a!==void 0?a:"none"}VG(a){this.viewport.gw(a)}eAi(a){a.ctrlKey||a.metaKey?this.BAc="command":a.shiftKey?this.BAc="shift":this.ii&&this.H8?!this.wSa&&this.sed(!1):this.BAc="single"}sed(a){this.BAc=(this.loe=a)?"command":"single"}T2n(){this.BAc="single"}qqj(a,b){this.tld.set(a,b)}KYe(a){this.tld.set(a,"none")}async DRd(a){await this.DU([...this.Ag,a]);
this.Woa=a;this.YJ===1&&this.VG(a)}c9n(){this.document.pages.filter(a=>!this.mc(a)).forEach(a=>this.DRd(a))}async wea(a){this.IF==="single"?await this.sra(a):this.IF==="command"?await yGs(this,a):this.IF==="shift"&&await zGs(this,this.Woa,a)}SLk(a,b){for(a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a);a&&this.mc(a);)this.Woa=a,a=b==="next"?this.document.pages.next(a):this.document.pages.previous(a)}Z9n(){if(this.Woa){var a=this.mc(this.Woa),b=this.document.pages.previous(this.Woa),
c=this.document.pages.next(this.Woa),d=c&&this.mc(c);d=a&&d;b=b&&this.mc(b);d&&!b?(this.ZEc(this.Woa),this.Woa=c):a&&c?(this.Woa=c,this.DRd(c),this.SLk(this.Woa,"next")):c&&this.DRd(c);return c}}$9n(){if(this.Woa){var a=this.mc(this.Woa),b=this.document.pages.next(this.Woa),c=this.document.pages.previous(this.Woa),d=c&&this.mc(c);d=a&&d;b=b&&this.mc(b);d&&!b?(this.ZEc(this.Woa),this.Woa=c):a&&c?(this.Woa=c,this.DRd(c),this.SLk(this.Woa,"previous")):c&&this.DRd(c);return c}}X9n(){const a=this.document.pages.first();
a&&zGs(this,this.Woa,a);return a}Y9n(){const a=this.document.pages.last();a&&zGs(this,this.Woa,a);return a}mOi(){const a=this.document.pages.first();a&&this.sra(a);return a}x9n(){const a=this.document.pages.last();a&&this.sra(a);return a}D9n(){const a=this.document.pages.next(this.ya);a&&this.sra(a);return a}L9n(){const a=this.document.pages.previous(this.ya);a&&this.sra(a);return a}async sra(a){this.Woa=a;await this.DU([a]);this.ii&&Promise.resolve().then(()=>this.VG(a))}async ZEc(a){await this.DU(this.Ag.filter(b=>
b!==a))}async setSelection(a){await this.DU(a);this.Woa=a[0]}async DU(a){return new Promise(b=>{this.nnj=[...a];cancelAnimationFrame(this.Wnj);this.Wnj=requestAnimationFrame(()=>{this.Wnj=requestAnimationFrame(()=>{oV(()=>{this.selection.PBb(...a);this.nnj=void 0});b()})})})}constructor(a,b,c,d,e,f,g,h,k){this.document=a;this.da=b;this.viewport=c;this.Dc=d;this.ifa=e;this.ka=f;this.XGb=g;this.Ma=h;this.selection=k;this.Woa=(__c.u1s.G(this),void 0);this.BAc="single";this.loe=!1;this.tld=new ZPs;this.dnj=
"none";this.Imj=!1;this.pEh=[];this.Wnj=0;this.LEh=void 0;this.gxd=this.BLe=!1;this.ysd=null;this.od=this.jNk=!1;this.Hxk=LV(l=>{const m=this.selection.La;return(m===null||m===void 0?void 0:m.type)!=="audio"?!1:l.audio.tracks.some(p=>m.tracks.includes(p))});this.JWq=LV(l=>this.mc(l)&&this.m2k.includes(l)?(this.m2k.indexOf(l)+1)*-3:0);this.sMe=LV(l=>this.hOa===l);this.o5d=LV(l=>!ok(l,this.document.dimensions));this.Tyd=LV(l=>l===this.document.pages.first());this.eJc=LV(l=>this.tld.get(l));this.mc=
LV(l=>this.Ag.includes(l));this.xgk=LV(l=>this.ifa.u$h(l));this.sWq=LV(l=>__c.ju.zs(l).flatMap(m=>m.elements.filter(p=>gk(p))).length);this.rWq=LV(l=>__c.ju.zs(l).flatMap(m=>m.elements.filter(p=>p.type==="shape"&&fFd(p)||p.type==="line")).length);this.Rai=LV(l=>{l=__c.AFd.zs(l).map(m=>this.XGb.V1d(m)).filter(ub);return l.length===0?[]:nd(Array.from(l.flatMap(m=>[...m.ZUe.values()]),m=>{m=__c.Ay(m.client);if(m!==this.rj)return m=this.XGb.getUser(m),m.state==="fulfilled"?m.value:void 0})).filter(ub)});
this.sU=l=>{let m=0;return this.document.pages.flatMap(p=>{p=l.includes(p)?[m]:[];m++;return p})};this.Wb=l=>this.sU([l])[0];this.Woa=this.ya;this.od=f.layout===2;eV(()=>{var l,m;return(m=(l=k.La)===null||l===void 0?void 0:l.pages)!==null&&m!==void 0?m:[]},l=>{if(l.length===0||this.Woa&&!l.includes(this.Woa))this.Woa=this.ya})}};__c.u1s.prototype.yzk=__c.ha(1122);var KGs=class{init(){const a=this.lN,b=this.Ew,c=this.Xo,d=this.Zab,e=this.Sqg,f=this.KSj,g=mV(()=>a.twa||a.ya);d.VG(g.get(),"auto");b.push(eV(()=>({m7a:a.hRm,page:g.get(),element:a.yAa,Ddb:a.iRm}),(h,k)=>{var l=h.m7a,m=h.page,p=h.element;h=h.Ddb;if(p&&p!==(k===null||k===void 0?void 0:k.element)&&m&&m.type==="fixed"&&!e.value){h=p.element;var q=p.parent;l=n(d.OUa);const {Pda:r,durationUs:t}=n(l.Cwa(m));p=d.Xo.clientWidth;k=d.Xo.scrollTo;const {startUs:u,durationUs:w}=pXa(h,m,t,q);q=r+u;const x=q+
w;m=l.LIa(q);h=l.LIa(x);l.z_f&&BGs(d.timing.zG,{startUs:q,endUs:x})||!CGs(d,m,h)||(l=m,h-m<p&&(l=Math.max(0,(m+h)/2-p/2)),k({left:l,behavior:"smooth"}))}else h&&h!==(k===null||k===void 0?void 0:k.Ddb)&&m&&m.type==="fixed"&&this.Gya.Hs?DGs(d,h,m):l&&l!==(k===null||k===void 0?void 0:k.m7a)&&AV.J$g?EGs(d,l):f.value||!m||m===(k===null||k===void 0?void 0:k.page)||this.Gya.Hs||d.VG(m,"smooth")}));b.push(eV(()=>c.clientWidth,(h,k)=>{if(h!==k){h=g.get();const m=n(d.OUa),{offsetWidth:p,width:q}=n(m.Cwa(h)),
r=p+q;if(CGs(d,p,r)){h=k-d.Xo.clientWidth;var l=d.Xo.scrollLeft;k=l+k-m.geb;r>=l&&p<=k&&d.Xo.scrollBy({kSg:h,behavior:"auto"})}}}))}dispose(){this.Ew.forEach(a=>a());this.Ew.splice(0,this.Ew.length)}constructor(a,b,c,d){this.Xo=a;this.Zab=b;this.lN=c;this.Gya=d;this.Sqg=new __c.Hk;this.KSj=new __c.Hk;this.Ew=[];this.Sqg.add(()=>this.KSj.value)}};var IGs=class{static G(a){O(a,{F_e:yV.ref,I_e:yV.ref,PEj:yV.ref,JEj:yV.ref,bQk:yV.ref,onResize:gV,scrollTo:gV.bound,scrollBy:gV.bound})}dispose(){var a,b;this.yu&&((a=this.hR)===null||a===void 0||a.unobserve(this.yu),(b=this.hR)===null||b===void 0||b.disconnect(),this.yu.removeEventListener("scroll",this.onScroll),this.yu=void 0)}scrollTo({left:a,top:b,behavior:c}){!this.yu||a===this.scrollLeft&&b===this.scrollTop||(AGs(this),this.yu.scrollTo({left:a,top:b,behavior:c}),this.F_e=this.yu.scrollLeft,
this.I_e=this.yu.scrollTop,this.bPj())}scrollBy({kSg:a,IBo:b,behavior:c}){this.yu&&(a||b)&&(AGs(this),this.yu.scrollBy({left:a,top:b,behavior:c}),this.F_e=this.yu.scrollLeft,this.I_e=this.yu.scrollTop,this.bPj())}get scrollLeft(){return this.F_e}get scrollTop(){return this.I_e}get clientHeight(){return this.JEj}get clientWidth(){return this.PEj}get offsetHeight(){var a;return(a=this.yu)===null||a===void 0?void 0:a.offsetHeight}get offsetWidth(){return this.bQk}get scrollHeight(){var a,b;return(b=
(a=this.yu)===null||a===void 0?void 0:a.scrollHeight)!==null&&b!==void 0?b:0}get scrollWidth(){var a,b;return(b=(a=this.yu)===null||a===void 0?void 0:a.scrollWidth)!==null&&b!==void 0?b:0}constructor(a,b){this.V=a;this.N=b;this.yu=(IGs.G(this),void 0);this.bQk=this.JEj=this.PEj=this.I_e=this.F_e=0;this.P6e=!1;this.yq=c=>{c?(this.yu=c,(this.F_e||this.I_e)&&this.yu.scrollTo({left:this.F_e,top:this.I_e,behavior:"auto"}),this.yu.addEventListener("scroll",this.onScroll),this.hR=new rQs["default"](this.onResize),
this.hR.observe(this.yu)):this.dispose()};this.onResize=c=>{c=n(c[0]);this.yu===c.target&&(this.PEj=this.yu.clientWidth,this.JEj=this.yu.clientHeight,this.bQk=this.yu.offsetWidth,this.boundingClientRect=this.yu.getBoundingClientRect())};this.onScroll=()=>{AGs(this);this.P6e||(oV(()=>{var c,d,e;this.F_e=(e=(c=this.yu)===null||c===void 0?void 0:c.scrollLeft)!==null&&e!==void 0?e:0;var f;this.I_e=(f=(d=this.yu)===null||d===void 0?void 0:d.scrollTop)!==null&&f!==void 0?f:0}),requestAnimationFrame(()=>
{this.P6e=!1}),this.P6e=!0);this.bPj()};this.bPj=Hb(()=>{this.R3k=requestAnimationFrame(()=>{this.Y5g&&(this.Y5g.end(),this.Y5g=void 0)})},200);this.getBoundingClientRect=()=>{const c=n(this.yu);this.boundingClientRect||(this.boundingClientRect=c.getBoundingClientRect());return this.boundingClientRect}}};var JGs=class{setup(a){this.OUa=a}VG(a,b="auto"){var c=n(this.OUa);const {offsetWidth:d,width:e,Pda:f,durationUs:g}=n(c.Cwa(a)),h=this.Xo.clientWidth,k=this.Xo.scrollTo;if(c=!c.z_f||BGs(this.timing.zG,{startUs:f,endUs:f+g})){c=n(this.OUa);const {offsetWidth:l,width:m}=n(c.Cwa(a));c=!!CGs(this,l,l+m)}c&&(a=d,e<h&&(a=Math.max(0,d+e/2-h/2)),k({left:a,behavior:b}))}pId(){const a=this.Xo.clientWidth,b=this.Xo.scrollWidth,c=this.Xo.scrollTo;b>a&&c({left:b-a,behavior:"auto"})}constructor(a,b,c,d,e){this.Xo=
a;this.timing=b;this.Bda=c;this.W0a=d;this.qd=e}};var LGs=class{dispose(){this.yu&&(this.yu.removeEventListener("touchstart",this.onTouchStart),this.yu.removeEventListener("touchmove",this.onTouchMove),this.yu.removeEventListener("touchend",this.onTouchEnd),this.yu.removeEventListener("touchcancel",this.onTouchEnd),GGs(this),this.yu=void 0)}constructor(a){this.Xo=a;this.wil=this.vil=this.rCo=this.qCo=0;this.VPb=null;this.wUc=[];this.SHf=null;this.yq=b=>{b?(this.yu=b,this.yu.addEventListener("touchstart",this.onTouchStart)):this.dispose()};this.onTouchStart=
b=>{this.yu&&b.touches.length===1&&(GGs(this),this.qCo=b.touches[0].pageX,this.rCo=b.touches[0].pageY,this.vil=this.yu.scrollLeft,this.wil=this.yu.scrollTop,this.wUc=[{x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()}],this.yu.addEventListener("touchmove",this.onTouchMove),this.yu.addEventListener("touchend",this.onTouchEnd,{passive:!0}),this.yu.addEventListener("touchcancel",this.onTouchEnd,{passive:!0}))};this.onTouchMove=b=>{if(this.yu&&b.touches.length===1){var c=b.target;if(c.classList.length===
0||c.closest('[data-role="trim-thumb"]')||c.closest('[data-role="draggable-timeline-item"]'))this.VPb=null;else{this.wUc.push({x:b.touches[0].pageX,y:b.touches[0].pageY,timestamp:Date.now()});this.wUc.length>5&&this.wUc.shift();c=b.touches[0].pageX-this.qCo;var d=b.touches[0].pageY-this.rCo;if(!this.VPb&&(Math.abs(c)>5||Math.abs(d)>5)){const e=Math.abs(Math.atan2(d,c)*180/Math.PI);this.VPb=e>=35&&e<=55||e>=125&&e<=145?"diagonal":e>55&&e<125?"vertical":"horizontal"}b.preventDefault();this.VPb==="horizontal"?
this.Xo.scrollTo({left:this.vil-c}):this.VPb==="vertical"?this.Xo.scrollTo({top:this.wil-d}):this.VPb==="diagonal"&&this.Xo.scrollTo({left:this.vil-c,top:this.wil-d})}}};this.onTouchEnd=()=>{if(this.yu){if(this.VPb&&this.wUc.length>=2&&!(this.wUc.length<2)){var b=this.wUc[0],c=this.wUc[this.wUc.length-1],d=c.timestamp-b.timestamp;if(d!==0){var e=40*(c.x-b.x)/d;b=40*(c.y-b.y)/d;this.VPb==="horizontal"?Math.abs(e)>=5&&HGs(this,e,0,this.VPb):this.VPb==="vertical"?Math.abs(b)>=5&&HGs(this,0,b,this.VPb):
this.VPb==="diagonal"&&(Math.abs(e)>=5||Math.abs(b)>=5)&&HGs(this,e,b,this.VPb)}}this.yu.removeEventListener("touchmove",this.onTouchMove);this.yu.removeEventListener("touchend",this.onTouchEnd);this.yu.removeEventListener("touchcancel",this.onTouchEnd);this.VPb=null;this.wUc=[]}}}};var v1s=({RH:a})=>{const b=jV(null);iQs(a,()=>()=>{var c,d,e,f;return{left:(e=(c=b.current)===null||c===void 0?void 0:c.getBoundingClientRect().left)!==null&&e!==void 0?e:0,top:(f=(d=b.current)===null||d===void 0?void 0:d.getBoundingClientRect().top)!==null&&f!==void 0?f:0}});return dV("div",{ref:b})};var w1s=class{static G(a){O(a,{x:yV.ref,PSk:gV.bound,A_g:gV.bound})}PSk(){this.currentNode=null;this.x=void 0}A_g({clientX:a,target:b}){b instanceof HTMLElement&&(this.currentNode=b);this.cHl&&!this.P6e&&(b=n(this.RH.current)().left,this.x=Math.floor(a-b),requestAnimationFrame(()=>{this.P6e=!1}),this.P6e=!0)}constructor(a,b){this.anchor=a;this.RH=b;this.x=(w1s.G(this),void 0);this.currentNode=null;this.cHl=!1;this.Fjb=null;this.P6e=!1;this.Ew=[];this.yq=c=>{if(c)this.Fjb=c,this.Fjb.addEventListener("pointermove",
this.A_g),this.Fjb.addEventListener("pointerleave",this.PSk),this.Ew.push(aCs(this,"x",()=>this.cHl=!0),bCs(this,"x",()=>{this.cHl=!1;this.x=void 0}));else{var d,e;this.Ew.forEach(f=>f());this.Ew=[];(d=this.Fjb)===null||d===void 0||d.removeEventListener("pointermove",this.A_g);(e=this.Fjb)===null||e===void 0||e.removeEventListener("pointerleave",this.PSk)}}}};var WLs=()=>{const a=IV(),b=dV(v1s,{RH:a});return new w1s(b,a)};var qHs=a=>{const b=LV((c,d)=>{const e=a.Lw.LIa,f=a.Lw.GFg;c=e(c);d=(d+c)/1E6;var g;const {Pda:h,durationUs:k}=(g=f(d,!0,!0))!==null&&g!==void 0?g:{};return h==null||k==null?!1:__c.UXb(d,h/1E6)||__c.UXb(d,(h+k)/1E6)});return c=>dV(x1s,{...a,...c,$hr:b})},y1s=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1.2) translateY(12%)"},{offset:.85,transform:"scaleY(0.8) scaleX(1) translateY(-10%)"},
{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],z1s=[{offset:0,transform:"scaleY(1) scaleX(1) translateY(0)"},{offset:.3,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:.65,transform:"scaleY(1.4) scaleX(1) translateY(12%)"},{offset:1,transform:"scaleY(1) scaleX(1) translateY(0)"}],A1s={duration:300,delay:0,iterations:1,easing:"ease-in-out"},B1s=FV(({uac:a,hidden:b,Q4q:c,eCr:d,variant:e,yUs:f})=>{const g=jV(null);d&&f&&g.current&&g.current.animate(f,A1s);return dV("div",{className:CV("f0aYVA",
{kNIzGQ:!c,I3G7WA:b,MEMgRA:e==="minor",NK_BJA:e==="major"}),style:{left:a},children:dV("div",{ref:g,className:"daN0cw"})})}),x1s=fV(a=>{const b=a.Uz,c=a.wr,d=a.AC,e=a.$hr;var f=__c.$m();const g=jV(null),h=parseInt("9px",10);a=mV(()=>{if(c.H2e(d.track))return TGs(b,d,{gfi:!0})}).get();let k;vb.od&&(k=f?z1s:y1s);f=dV("div",{ref:g,className:"Gx7VhA",children:a&&a.map(({BCa:l,uac:m,Ies:p})=>{p=p===1?"major":"minor";const q=!!g.current&&m>g.current.offsetWidth-h,r=e(d.startUs,l);return dV(B1s,{uac:m,hidden:!b.GTi&&
p==="minor",variant:p,Q4q:q,eCr:r,yUs:k},l)})});return dV("div",{className:"jh1bHw",children:dV(__c.hqh,{duration:250,oWj:50,y3h:"0px",z3h:"6px",dca:"fill-height",keyFrame:a?0:1,direction:a?"back":"forward",children:a&&f})})});var wHs=class{getKey(a){var b=this.dKc.get(a);if(b)return b;b=this.Qk.next();this.dKc.set(a,b);return b}constructor(){this.Qk=new __c.Yi;this.dKc=new WeakMap}};var C1s=parseInt("32px",10),D1s=parseInt("8px",10)-parseInt("2px",10),RGs=fV(({hvj:a,Uz:b,...c})=>{var d=b.isVisible;if(b.tracks.length===0||!d)return null;d=c.l5a;const e=c.f9i,f=c.e9i;return dV(E1s,{height:b.yJh,KLc:b.KLc,ii:c.ii.get(),Uz:b,children:dV(F1s,{hvj:a,Uz:b,f9i:e,e9i:f,l5a:d})})}),E1s=fV(({height:a,children:b,KLc:c,ii:d,Uz:e})=>{const f=hV(h=>{e.nFc||Math.abs(h.deltaX)<Math.abs(h.deltaY)&&c&&h.stopPropagation()},[c,e.nFc]),g=e.Azo;d=e.nFc?void 0:CV("_3yePLA",{BB1YKg:c,Gc_ROA:d});return dV("div",
{className:CV("kEJzaQ",{_26_dsw:!e.nFc&&vb.od}),style:{height:a},children:dV("div",{onWheel:f,style:{minWidth:e.wvj,paddingLeft:g+C1s,marginLeft:-(g+C1s),paddingBottom:e.nFc?void 0:D1s,marginBottom:e.nFc?void 0:-D1s},className:d,children:b})})}),F1s=fV(({hvj:a,Uz:b,f9i:c,e9i:d,l5a:e})=>{const f=jV(null),g=jV(null),h=hV(q=>{const r=b.YHk;switch(b.mode){case "min":r();break;case "max":f.current===q.target&&b.wr.R1a()}},[b]),k=hV(q=>{if(q.key===" "||q.key==="Enter")b.YHk(),q.stopPropagation()},[b]);
iV(()=>{if(!AV.J$g)return eV(()=>b.Ayn,(q,r)=>{q>r&&requestAnimationFrame(()=>{var t;return(t=g.current)===null||t===void 0?void 0:t.scrollIntoView({behavior:"smooth"})})},{fireImmediately:!1})},[b,g]);const l=b.Heg,m=b.LYc,p=m.length-1;return dV("div",{ref:f,className:"_4kOaA",style:{height:b.nFc?"100%":b.yJh},onMouseDown:h,onKeyDown:k,tabIndex:0,children:m.map((q,r)=>dV("div",{ref:r===p?g:void 0,style:{height:l},className:CV("_4EOFyQ","_3dkatg",{_26_dsw:!b.nFc&&vb.od}),children:dV(d,{children:q.map(t=>
dV(c,{AC:t,l5a:e},a.getKey(t)))})},r))})});var G1s=parseInt("16px",10),H1s=(parseInt("2px",10)||2)*2,I1s=parseInt("4px",10)||4,$Gs=parseInt("28px",10)||28,J1s=$Gs+H1s,K1s=class{static G(a){O(a,{AJh:yV.ref,kja:yV.ref,yvj:yV.ref,Zbh:yV.ref})}constructor(a){this.bxk=a;this.AJh=(K1s.G(this),"min");this.yvj=new Map;this.Zbh=new ii(155,155,155,1);this.Njn=0}},mHs=class{static G(a){O(a,{x5b:yV.ref,mmk:yV.ref,svj:yV.ref,ooj:yV.ref,Azo:mV,mode:mV,YHk:gV.bound,w0c:mV,jR:mV,Stm:mV,X3h:mV,tracks:mV,isVisible:mV,V$l:mV,kqa:mV,Heg:mV,vvj:mV,BJh:mV,Rfm:mV,
KLc:mV,nFc:mV,yJh:mV,wvj:mV,GTi:mV,bFi:mV,Feg:mV,I$l:mV,uio:gV.bound,Ieg:mV,LYc:mV,Ayn:mV,ehd:mV,tcg:gV.bound,j2s:gV.bound,Xjl:gV,sia:gV,IBa:gV,CFa:gV,Y9d:gV,$$a:gV,Jna:gV,uAj:mV,Jph:gV,uBj:gV,GDn:gV,vZb:gV,FDn:gV,ts:mV,I3e:gV.bound,HKl:mV,HRd:mV,gli:mV,Grn:gV,Lrn:gV})}HCg({AC:a,width:b,height:c}){return{startUs:0,durationUs:a.hT,width:b,height:c,volume:a.track.volume}}get Azo(){return this.Lw.geb}get mode(){return this.uhb.dSm?"max":this.store.AJh}YHk(){WGs(this);const a=this.LYc[0][0];a&&this.wr.select(a.track)}get w0c(){return this.wr.LRa}get jR(){return this.wr.jR||
[]}get Stm(){return this.w0c?ny(this.wr,this.w0c):void 0}get X3h(){var a,b;if((b=this.D8b)===null||b===void 0?0:(a=b.gOd)===null||a===void 0?0:a.size)return Array.from(this.D8b.gOd.values(),c=>{const d=fps(this.G5,c);d.Y6a=c.trim;return d})}get tracks(){return this.G5.MC.map(a=>a.track)}get isVisible(){var a;return this.G5.ZC||!((a=this.X3h)===null||a===void 0||!a.length)}get V$l(){return{VGa:this.mode==="min"?I1s:$Gs,Mc:H1s}}get kqa(){return this.Mxg&&!this.Lw.UJ&&!this.isVisible&&!this.x5b&&!!this.uhb.h_k&&
!this.uhb.ndi.get()}get Heg(){var a=this.isVisible?this.V$l.VGa:0;if(this.mode==="min")return a;const b=this.zJh/this.LYc.length-H1s;var c=this.ts?$Gs:24;return b<c?(a=this.zJh-8,c=Math.floor(a/c),(a+H1s*c)/c-H1s):Math.min(a,b)}get vvj(){return this.Heg+H1s}get BJh(){return this.LYc.length*this.vvj}get Rfm(){return(this.isVisible?this.yJh:0)+(this.x5b?J1s:0)+(this.kqa?$Gs:0)}get KLc(){return!this.nFc&&this.zJh<this.BJh}get nFc(){return this.BDf.get()||AV.J$g}get yJh(){return this.nFc?this.BJh:Math.min(this.zJh,
this.BJh)}get wvj(){return this.Lw.$Ld+G1s+16}get GTi(){return this.GEl.get()>=2}get isLinear(){return this.Lw.isLinear}get bFi(){const a=this.Lla.xbd.get();if(!(!a||this.timing.Hs&&this.ii.get())){var b=this.Lla.Dfd;return{BCa:a,Yfd:a===0?0:b,q3c:b}}}get Feg(){const a=this.wr.VCa;return this.Ieg.filter(({track:b})=>b!==(a===null||a===void 0?void 0:a.track)).flatMap(b=>[b.startUs,b.startUs+b.durationUs])}get I$l(){return this.Ieg.flatMap(a=>this.wr.H2e(a.track)?TGs(this,a,{gfi:this.GTi}).map(b=>b.BCa):
[])}uio(a){a=__c.hi(a);a instanceof __c.Xh&&(a=__c.ji(a));this.store.Zbh=a}get Ieg(){var a;let b=this.tracks.map(c=>this.G5.LO(c));if((a=this.X3h)===null||a===void 0?0:a.length)b=b.concat(this.X3h);return b}get LYc(){var a=this.Stm;const b=new Set(this.tracks);a=this.wr.VCa?this.Xgl.XFi.map(d=>d.filter(e=>b.has(e.track))):dHs(this.Xgl,this.Ieg,a);const c=this.HRd;return c?a.map(d=>d.includes(c)?[c]:d):a}get Ayn(){return this.Ieg.filter(a=>{var b;return((b=a.audio)===null||b===void 0?void 0:b.y5b)!==
2}).length}get ehd(){return this.Lw.DEl*1E6}tcg(a,b){this.Xgl.tcg(a,b)}j2s(a){return this.LYc.length<1?!1:this.LYc[0].some(b=>b===a)}Xjl({track:a}){switch(this.k2b.get()){case "single":this.wr.mc(a)||this.wr.select(a);break;case "command":this.wr.mc(a)?ZGs(this,a):this.wr.select(...this.jR,a);break;case "shift":this.wr.select(...this.jR,a)}}sia(a,b){var c,d,e,f,g;(c=this.uA)===null||c===void 0||c.pause();this.wr.Bsb(a,b);(d=this.uA)===null||d===void 0||d.P1e();(e=this.uA)===null||e===void 0||aJs(e,
{xEm:!0});(g=this.Lk)===null||g===void 0||(f=g.nN)===null||f===void 0||f.call(g,new hp)}IBa(a,b){var c,d;const e=a.trim,f=a.track,g=a.hT,h=e.startUs+b-a.startUs;if(h!==e.startUs){(c=this.uA)===null||c===void 0||c.seek(Math.max(b,0)/1E6,"start");this.wr.select(a.track);var k;this.wr.nfe(a,h,(k=(d=f.trim)===null||d===void 0?void 0:d.endUs)!==null&&k!==void 0?k:g);this.wr.NLk(a,b);this.store.kja="start"}}CFa(a,b){var c;const d=a.trim,e=b-a.startUs+d.startUs;e!==d.endUs&&((c=this.uA)===null||c===void 0||
c.seek(b/1E6,"end"),this.wr.nfe(a,d.startUs,e),this.store.kja="end")}Y9d(a,b){this.wr.nfe(a,b,b+a.durationUs)}$$a(a,b,c="start"){var d,e;const f=b-((e=a.startUs)!==null&&e!==void 0?e:0);this.jR.forEach(g=>{g=this.G5.LO(g);var h;const k=((h=g.startUs)!==null&&h!==void 0?h:0)+f;this.wr.NLk(g,k)});a=c==="start"?b:b+a.durationUs;(d=this.uA)===null||d===void 0||d.seek(Math.max(a,0)/1E6,c);this.store.kja="start"}Jna(a){var b,c,d;const e=[];(b=this.uA)===null||b===void 0||bJs(b);for(const l of this.jR){var f;
b=this.G5.LO(l);var g;const m=(g=b.startUs)!==null&&g!==void 0?g:0;var h;const p=(h=b.durationUs)!==null&&h!==void 0?h:0;if(m+p<=0||m>this.wr.zPe)e.push(b.track);else{var k;b.SXc!=null&&b.SXc<0&&!b.Y6a&&this.wr.nfe(b,b.trim.startUs-b.SXc,(k=(f=b.track.trim)===null||f===void 0?void 0:f.endUs)!==null&&k!==void 0?k:b.hT);this.wr.yCb(b,a)}}e.length>0&&this.wr.GWd(e,"drag");(c=this.uA)===null||c===void 0||c.pZe(this.store.kja);(d=this.uA)===null||d===void 0||d.VG();this.store.kja=void 0}get uAj(){if(!this.w0c)return!1;
const a=ny(this.wr,this.w0c);return a.hT-a.durationUs>=5E4}Jph(a){var b;(b=this.uA)===null||b===void 0||b.pause();this.HRd||!this.uAj?this.wr.yCb(a,"drag"):this.wr.Bsb(a,"adjust")}uBj(a){this.wr.yCb(a,"drag")}GDn(a){this.wr.R1a();this.x5b=fps(this.G5,__c.GEc.create({...__c.TYc,audio:a,id:void 0,loop:1}))}vZb(a){this.x5b&&(WGs(this),a&&!this.x5b.Y6a&&(this.x5b.Y6a={startUs:0,endUs:Math.min(a*1E6,this.ehd)}),this.x5b.SXc=(this.Lw.sze||0)*1E6)}FDn(){this.x5b=void 0}get ts(){return this.ii.get()||Vb()}I3e(a){this.ooj=
a}get HKl(){return this.wr.VCa||this.ooj}get HRd(){const a=this.wr.Jze;return this.wr.Uma==="adjust"?a:void 0}get gli(){return this.store.kja!==void 0}Grn(a){this.jR.length<1||this.wr.GWd(this.jR,a)}Lrn(){this.jR.length<1||this.wr.sqi(this.jR)}Vhg(a){return this.Ima.status===Vx.Ck&&a.ixa===3}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x,y){this.wr=a;this.G5=b;this.selection=c;this.Xgl=d;this.gJp=e;this.vbt=f;this.Lw=g;this.Lla=h;this.Ima=k;this.uhb=l;this.ii=m;this.k2b=p;this.GEl=q;this.BDf=r;this.timing=
t;this.Mxg=u;this.D8b=w;this.uA=x;this.Lk=y;this.store=(mHs.G(this),void 0);this.x5b=void 0;this.G3m=this.mmk=!1;this.svj=[];this.ooj=void 0;this.jpb=LV(z=>this.wr.mc(z.track));this.shn=LV(z=>{if(z.page==null)return!1;const A=this.selection.La;return(A===null||A===void 0?void 0:A.type)!=="pages"?!1:A.pages.includes(z.page)});this.Q8h=EV(z=>{var A=this.Lw.LIa;A=A(z.startUs);var B=z.durationUs;const D=z.startUs;var G=this.Lw.$Ld;const I=this.Lw.LIa;var K=I(D);B=B?I(D+B,{wgc:!0}):G;G=__c.pLe(this.wr,
z)>1?G-K:B-K;K=YGs(this,z);B=z.durationUs;z=B===0?G:G/B*z.hT;return{xjc:{width:z,NEd:z+A},height:this.Heg,left:A,width:G,color:K}});this.store=new K1s(mV(()=>g.isLinear));eV(()=>c.La,z=>{if(z)switch(z.type){case "audio":return this.mode==="min"&&WGs(this);case "elements":case "pages":break;default:throw new v(z);}});h.xJh=mV(()=>this.Feg);h.qKh=mV(()=>this.I$l);eV(()=>({Feg:this.Feg,tOs:this.bFi,rib:this.Lw.Q1c}),({Feg:z,tOs:A,rib:B})=>{const D=this.wr.VCa;this.svj=D?[...XGs(this,D,z,B),...(A?[A]:
[])]:[]},{equals:lV.shallow});this.TOb=new CIs(mV(()=>this.svj),this.Lla.rJe,this.Lk);eV(()=>{var z;return(z=this.D8b)===null||z===void 0?void 0:z.gOd.size},z=>{z&&this.mode==="min"&&WGs(this)});this.zJh=Math.min(150,window.innerHeight/2)}};var uHs=fV(({Dc:a,Uz:b,Lw:c,connectDropTarget:d,drag:e,p3b:f})=>{c=c.$Ld;iV(()=>eV(()=>!!b.x5b&&a.isDragging,g=>{g||b.FDn();b.mmk=g}),[b,a]);return kV("div",{className:"HpykzQ",children:[kV("div",{className:"QtV_rQ",style:{width:c},children:[dV(__c.Wu,{size:"small",tone:"primary"}),dV(P,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",children:L("kpT/LQ")}),d(dV("div",{className:"h4fQaw"}))]}),!!e&&e.F3&&dV(L1s,{Uz:b,p3b:f})]})}),tHs=fV(({children:a,connectDropTarget:b,
Uz:c,drag:d,p3b:e})=>{const f=c.x5b;return b(kV("div",{style:{height:c.Heg},className:CV("JtDRuw",{a0TxoQ:!f}),children:[a,!!d&&d.F3&&f&&dV(M1s,{Uz:c,AC:f,p3b:e})]}))}),L1s=fV(({Uz:a,p3b:b})=>{const c=a.x5b,d=a.wvj;return dV("div",{className:CV("_4kOaA","wReuwA"),style:{height:J1s,minWidth:d},children:dV("div",{className:"_4EOFyQ",children:dV(M1s,{p3b:b,Uz:a,AC:n(c)})})})}),M1s=fV(({p3b:a,AC:b,Uz:c})=>{const {width:d,left:e,color:f,height:g}=c.Q8h(b);c=g>0?g:$Gs;return dV("div",{className:CV("Jqy7Tg",
"_88diBQ","wfJ8fA","_9bDcDg"),style:{width:d,height:c,transform:`translateX(${e}px)`},children:dV("div",{style:{background:li(f),height:c},className:CV("_vhAag","VFKnig"),children:dV(a,{height:c,AC:b})})})});var nHs=class{tcg(a,b){this.RHl.set(a,b)}constructor(){this.XFi=[];this.RHl=new Map}},bHs=a=>(b,c)=>b===a?-1:c===a?1:b.startUs-c.startUs;var N1s=eQs(({position:a,children:b,u1c:c},d)=>dV("div",{className:CV("XpsM5g",a==="start"?"A5MWRw":"A_It_g",{oa1HGA:c}),ref:d,children:b}));var O1s,P1s,Q1s,R1s;
new (O1s=class extends JV{constructor(){super(R1s);P1s()}},(()=>{class a extends(Q1s=HV){static G(b){O(b,{kH:yV.ref,sVd:yV.ref,hCb:mV,transform:mV,transitionDuration:mV,Zkf:mV,Khm:gV.bound})}get hCb(){return this.Zkf>=8}get transform(){var b;const c=(b=this.kH)===null||b===void 0?void 0:b.scrollWidth;if(c&&!(this.Zkf>=c)&&this.sVd!=="start")return`translateX(${(vb.direction===2?-1:1)*(this.Zkf-c-8)}px`}get transitionDuration(){var b;const c=this.props.pLb,d=(b=this.kH)===null||b===void 0?void 0:b.scrollWidth;
if(!d||this.Zkf>=d||this.sVd==="start")return"0s";b=Math.max(0,d-this.Zkf)*60;return(c?Math.min(b,c):b)+"ms"}get Zkf(){return this.kH?this.kH.clientWidth:0}Khm(b){this.kH=b;na(100).then(()=>{oV(()=>{this.sVd="scrollToEnd"})})}render(){return dV("div",{style:{overflow:"hidden"},children:dV("div",{ref:this.Khm,onTransitionEnd:this.onTransitionEnd,style:this.hCb?{transform:this.transform,transitionDuration:this.transitionDuration,width:"max-content"}:{visibility:"hidden"},children:this.props.children})})}constructor(...b){super(...b);
this.kH=(R1s.G(this),void 0);this.sVd="start";this.onTransitionEnd=async()=>{await na(500);oV(()=>{this.sVd="start"});await na(500);oV(()=>{this.sVd="scrollToEnd"})}}}({c:[R1s,P1s]}=KV(a,[],[Ob],Q1s))})(),O1s);var S1s=fV(({color:a,Hgc:b,width:c,height:d,isVisible:e,BBr:f,jHc:g})=>{var h;const [k,l]=nV(!1),m=c<30;iV(()=>{m?l(e):e&&l(!0)},[e,m]);const p=b.audio,q=b.IHc,r=b.playing,t=zV(()=>(p===null||p===void 0?void 0:p.y5b)===1?dV(__c.jVj,{size:"small",className:"f3EM7Q"}):(p===null||p===void 0?void 0:p.y5b)===2?dV(__c.t$q,{size:"small",className:"f3EM7Q"}):dV(__c.Wu,{size:"small",className:"f3EM7Q"}),[p===null||p===void 0?void 0:p.y5b]);if(!k)return null;const u=p===null||p===void 0?void 0:(h=p.qza[0])===
null||h===void 0?void 0:h.url,w=dV("div",{className:CV("_6wnscQ",{OhKKFQ:vb.od&&r}),style:{backgroundImage:q?void 0:u&&`url('${u}')`,height:d,width:d},children:q?dV(__c.Qgq,{size:"medium",className:"f3EM7Q"}):!u&&t});b=g?" \u2022 "+wo(b.xv,"short"):null;const x=(p===null||p===void 0?void 0:p.title)&&dV("span",{className:"_6Rqrbw",children:kV(P,{size:"small",weight:"bold",className:"_4fk5QQ",children:[p.title,b]})});if(m&&e)return dV(__c.Yc,{placement:"top-center",open:!0,level:7,reference:dV("div",
{className:"y47BuQ",style:{left:c/2}}),children:({mbb:y})=>kV(rV,{children:[dV("div",{ref:y,className:"F92n0Q",children:dV(__c.bha,{inset:!1})}),kV("div",{className:"TIZRTw",children:[w,x]})]})});b=new ii(a.r,a.g,a.b,a.a*.1);a=new ii(a.r,a.g,a.b,a.a*.9);a=`linear-gradient(270deg, ${li(b)}, ${li(a)} 10%)`;return dV("div",{className:CV("_J8ciQ",{F3278A:e}),onTransitionEnd:()=>l(e),children:kV("div",{className:"_2WXYNA",style:{maxWidth:c,background:a},children:[w,dV("div",{className:"S_recA",children:(p===
null||p===void 0?void 0:p.title)&&e&&dV(R1s,{pLb:f,children:x})})]})})});var T1s=({xv:a,position:b})=>dV(N1s,{position:b,u1c:!0,children:dV(Xu,{tone:"contrast",className:"_3N1ong",text:wo(a,"short")})});var V1s=fV(({AC:a,LIa:b,aJp:c,height:d,p_d:e,q_d:f})=>{const g=a.startUs;a=g+a.durationUs;return kV("div",{className:"yzpIbg",style:{width:c},children:[e!=null&&dV(U1s,{position:"in",height:d,width:b(g+e,{wgc:!0})-b(g,{wgc:!1})}),f!=null&&dV(U1s,{position:"out",height:d,width:b(a,{wgc:!0})-b(a-f,{wgc:!1})})]})}),U1s=({position:a,height:b,width:c})=>dV("div",{className:CV("l2mSag",{JlSSfg:a==="in",_8HJtoA:a==="out"}),style:{borderTopWidth:b,borderRightWidth:a==="in"?c:0,borderLeftWidth:a==="out"?c:
0}});var W1s=parseInt("4px",10)||4,X1s=new ii(255,255,255,.7),Y1s=new ii(255,255,255,.4),fHs=fV(({height:a,kvj:b,strokeColor:c,Uz:d,AC:e,tAc:f,Ro:g})=>{const h=mV(()=>UGs(d,e,a,b!==null&&b!==void 0?b:0,X1s)).get(),k=e.buffer,l=e.loading;return dV("div",{className:"eFZIoQ",children:h.map(({state:m,draft:p,paddingRight:q},r,{length:t})=>kV(bLs,{children:[dV(Z1s,{Ro:g,tAc:f,strokeColor:c,buffer:k,loading:l,state:m}),r<t-1&&dV($1s,{draft:p,paddingRight:q,Ro:g,tAc:f,buffer:k,loading:l,state:m})]},r))})}),Z1s=
({Ro:a,buffer:b,loading:c,state:d,strokeColor:e,tAc:f})=>{const [g,h]=hHs(a);return dV("div",{ref:h,className:"_956a7w",style:{width:d.width,height:d.height},children:dV("div",{className:CV({_GsTNw:c}),children:g&&dV(f,{buffer:b,state:d,strokeColor:e})})})},$1s=({draft:a,paddingRight:b,state:c,loading:d,buffer:e,tAc:f,Ro:g})=>{const h=b/(c.width/c.durationUs),k=zV(()=>{if(e&&!(c.width<=0)){a:{if(!(h<=0)){var l=Math.floor(Math.floor(h/1E6*e.sampleRate)/6);var m=l*6,p=Math.floor((c.startUs+c.durationUs)/
1E6*e.sampleRate);if(p){var q=new AudioBuffer({length:m,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate});for(let r=0;r<e.numberOfChannels;r++){const t=e.getChannelData(r).subarray(Math.max(p-l,0),p),u=new Float32Array(m);for(let w=0;w<m;w+=t.length)u.set(t.subarray(0,m-w),w);q.copyToChannel(u,r)}l=q;break a}}l=void 0}return l}},[e,c.width,c.durationUs,c.startUs,h]);return k?dV("div",{className:"eFZIoQ",children:dV(Z1s,{Ro:g,tAc:f,buffer:k,loading:d,state:{...c,startUs:0,width:b,durationUs:h},
strokeColor:Y1s})}):dV("div",{className:CV("SReuxg",{t5Herg:a}),style:{height:c.height},children:dV(a2s,{loading:!e,width:b})})},a2s=({loading:a,width:b,strokeWidth:c=.6})=>dV("div",{className:CV("_FzNpw",{_GsTNw:a}),style:{width:b,transform:`scaleY(${c})`}});var b2s=a=>{const b=a.maxWidth,c=a.ixa,d=a.S0;a=a.onClick;const e=zV(()=>c===6?dV(Xu,{tone:"contrast",className:"OCkX1Q",text:L("BkrRaA")}):c===5?dV(Xu,{tone:"contrast",className:"OCkX1Q",text:L("RySxhA")}):dV(Xu,{tone:"contrast",className:"OCkX1Q",icon:dV(fy,{size:"small"}),text:L("dSA0bg")}),[c]);return dV(N1s,{position:"start",children:dV(or,{placement:"top",label:c===1?L("2dWxvA"):c===4?L("qChmPQ"):c===3&&d?L("UbEuXg"):c===6?L("95DsmA"):c===5?L("YLh62g"):L("Q2vs6g"),children:dV("div",{style:{"--Akz5Cw":`${b}px`},
children:d?kV(__c.vZg,{tone:"primary",className:"OCkX1Q",onClick:a,children:[dV(__c.Nx,{size:"small"})," ",L("dSA0bg")]}):e})})})};var c2s,d2s,e2s,f2s=parseInt("40px",10)||40,g2s=parseInt("96px",10)||96,h2s=parseInt("8px",10)||8,i2s=Qb("399dfcd7",!1),j2s;
new (c2s=class extends JV{constructor(){super(j2s);d2s()}},(()=>{class a extends(e2s=HV){static G(b){O(b,{zza:mV,mc:mV,opacity:mV,vjh:mV,ldi:mV,BTi:mV,Eqo:mV,xoo:mV,zoo:mV,Y3n:mV,Vhg:mV,K1m:mV,yoo:mV,SYa:gV.bound})}get zza(){return this.props.Uz.Q8h(this.props.AC)}get mc(){return this.props.Uz.jpb(this.props.AC)}get opacity(){const b=this.props.Lw.YQg;return this.props.Eo&&b?.5:this.props.Uz.jR.length<1?1:this.mc?1:.5}get vjh(){const b=this.props.Uz,c=this.props.Owc;return this.props.AC.IHc?!0:this.props.Lw.jHc?
this.zza.width<30?c:!(this.ldi||c):c&&(b.ts?this.mc:!this.mc)}get ldi(){return this.props.Uz.HKl===this.props.AC}get BTi(){const b=this.props.wr,c=this.props.Kza,d=this.props.Uz.HRd===this.props.AC;return this.zza.width>f2s&&this.mc&&!d&&(!this.ldi||c.Pr)&&!b.lcn}get Eqo(){return this.props.AC.ixa!=null&&this.BTi&&!this.vjh}get xoo(){const b=this.props.AC;return!this.props.Lw.jHc&&b.ixa==null&&this.BTi&&!this.vjh}get zoo(){const b=this.props.Uz;if(!this.props.cqo)return!1;const c=this.zza.width>g2s;
return!this.props.Eo&&this.BTi&&c&&!b.gli}get Y3n(){const b=this.props.Eo,c=this.zza.width,d=h2s*2;return c<=g2s||b?c-d:c-d-f2s}get Vhg(){return this.props.Uz.Vhg(this.props.AC)}get K1m(){const b=this.props.AC,c=b.q_d;return b.p_d||c}get yoo(){return!this.ldi&&!this.vjh&&this.K1m}get justifyContent(){return this.props.ktb==="start"?"flex-end":"flex-start"}SYa(b){this.props.SYa(b,this.props.AC.track)}render(){const b=this.props.U2q,c=this.props.AC,d=this.props.Uz,e=this.props.Eo;var f=this.props.Lw;
const g=f.LIa;f=f.jHc;const h=this.props.p3b,k=this.props.t9i,l=this.props.kvj,m=this.props.visible,p=this.props.Ymk,q=c.xv,r=c.p_d,t=c.q_d,u=this.zza.height,w=this.zza.width,x=this.zza.color,y=this.props.Kza.Thc,z=u-W1s*2,A=d.shn(c);return dV("div",{style:{opacity:this.opacity,justifyContent:this.justifyContent,background:li(x),width:w,height:u,contain:i2s?"paint":void 0},className:CV("_vhAag",{OlLBHQ:b,VFKnig:this.mc&&!e&&!p,Q7X_1A:A&&!e&&!p,_9YosPg:p}),children:m&&kV(rV,{children:[dV(h,{height:u,
kvj:l,AC:c}),k&&dV(k,{AC:c}),this.yoo&&dV(V1s,{AC:c,LIa:g,aJp:w,p_d:r,q_d:t,height:u}),this.xoo&&dV(T1s,{position:"start",xv:q}),c.ixa&&this.Eqo&&dV(b2s,{maxWidth:this.Y3n,ixa:c.ixa,S0:this.Vhg,onClick:()=>{d.Ima.Pd("editing_commercial_music_upgrade_badge","paywall")}}),!p&&dV(S1s,{color:x,Hgc:c,isVisible:this.vjh,BBr:e?3E3:void 0,width:w,height:z,jHc:f}),this.zoo&&y&&dV(N1s,{position:"end",children:dV(y,{visibility:"always",zh:this.SYa,ariaLabel:L("iQUYNA")})})]})})}constructor(...b){super(...b);
a.G(this)}}({c:[j2s,d2s]}=KV(a,[],[Ob],e2s))})(),c2s);var k2s,l2s,m2s,n2s;
new (k2s=class extends JV{constructor(){super(n2s);l2s()}},(()=>{class a extends(m2s=HV){static G(b){O(b,{onDragEnd:gV.bound,onDragStart:gV.bound,onDrag:gV.bound,HHb:mV})}onDragEnd(b){var c,d;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d,b)}onDragStart(b){var c,d;(c=(d=this.props).onDragStart)===null||c===void 0||c.call(d,b)}onDrag(b,c,d){const e=this.props.P8g;c=e(c);this.props.onDrag(Math.max(this.props.min,Math.min(Math.round(b-c),this.props.max)),d)}get HHb(){const b=this.props.time;
return b===this.props.min?"w-resize":b===this.props.max?"e-resize":"ew-resize"}render(){return dV(M_s,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,Wla:{type:"fullWidth"},time:this.props.time,max:this.props.max,min:this.props.min,cursor:this.HHb})}constructor(...b){super(...b);a.G(this)}}({c:[n2s,l2s]}=KV(a,[],[Ob],m2s))})(),k2s);var o2s=fV(a=>{const b=a.hT,c=a.P8g,d=a.trim,e=a.onDrag,f=a.onDragStart,g=a.onDragEnd,h=d.endUs-d.startUs;return kV("div",{className:"HxvUnQ i1mS2A",children:[dV("div",{className:"x3tMUw i1mS2A",children:a.children}),dV(n2s,{min:0,max:b-h,time:d.startUs,P8g:c,onDrag:e,onDragStart:f,onDragEnd:g})]})});var p2s,q2s,r2s,s2s=parseInt("2px",10)*2||4,t2s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),u2s=parseInt("8px",10)||8,v2s;
new (p2s=class extends JV{constructor(){super(v2s);q2s()}},(()=>{class a extends(r2s=HV){static G(b){O(b,{XQg:yV.ref,jK:yV.ref,ktb:yV.ref,Dkh:mV,HDf:mV,ZIk:gV,sia:gV,Jna:gV,onDoubleClick:gV.bound,bAn:gV.bound,aAn:gV.bound,trn:gV.bound,zza:mV,nNa:mV,LNa:mV,axa:mV,HCg:mV,e2f:mV})}get Dkh(){const b=this.props.jpb,c=this.ktb!=null&&this.ktb!=="fullWidth";this.ktb||(this.Fkh=b&&this.zza.width<50);return!c&&this.Fkh}get HDf(){const b=this.props.Uz;return this.XQg&&b.jR.length===1}onDoubleClick(){this.props.Uz.Jph(this.props.AC)}bAn(){this.jK=
!0}aAn(){this.jK=!1}trn(){return this.nNa?(this.props.Uz.uBj(this.props.AC),!0):!1}get zza(){return this.props.Uz.Q8h(this.props.AC)}get nNa(){return this.props.AC===this.props.Uz.HRd}get LNa(){const b=this.props.AC.trim,c=this.props.AC.startUs;return this.HDf?0:Math.max(0,c-b.startUs)}get axa(){var b=this.props.AC;const c=this.props.Uz.ehd,d=b.trim,e=b.startUs;b=b.hT;return this.HDf?c:Math.min(c,b-d.startUs+e)}componentDidMount(){this.rhd.current&&(this.j9e=this.rhd.current.ckb);Kb(this,[Ats(()=>
{if(this.jK){var b=wo(this.props.AC.trim.startUs/1E6,"short");oV(()=>{this.currentTime.set(b)})}})])}j9e(){}get RVl(){return dV(j2s,{...this.props,ktb:this.ktb})}get HCg(){return this.props.Uz.HCg({AC:this.props.AC,width:this.zza.xjc.width,height:this.zza.height})}get AQo(){const b=this.props.AC,c=this.props.tAc,d=b.buffer,e=b.trim,f=b.hT,g=this.zza.xjc,h=this.zza.color,{Hto:k,P8g:l}=VGs(b,this.zza.width);return kV(rV,{children:[dV("div",{className:"SKenVg",style:{left:-k,width:g.width},children:kV(o2s,
{hT:f,P8g:l,trim:e,onDrag:this.KZr,onDragStart:this.bAn,onDragEnd:this.aAn,children:[dV(c,{buffer:d,state:this.HCg,strokeColor:h}),dV("div",{className:"myOKOg",style:{left:k},children:this.RVl})]})}),dV(H_s,{isOpen:this.jK,children:this.currentTime})]})}get e2f(){const b=this.props.Uz;var c=this.props.jpb;const d=b.shn(this.props.AC);if(b.ts)return{type:"touch",isVisible:!0};const e=b.HKl===this.props.AC,f=this.zza.width>=50;c=c||d;return{type:"pointer",rRa:this.Dkh?"outside":"inside",isVisible:this.Dkh||
f&&e,mzg:!f,Guh:b.isLinear,...(this.Dkh?{}:{xzf:c?b.isLinear?t2s:s2s:0,L5i:c?b.isLinear?t2s:0:0,borderRadius:u2s-(c&&b.isLinear?t2s:0)})}}get Sup(){const b=this.props.Eo;var c=this.props.AC;const d=this.props.Uz,e=this.props.tAc,f=this.props.Xo,g=d.TOb,h=d.ts,k=d.ehd,l=d.w0c,m=c.buffer,p=c.startUs,q=c.hT,r=c.durationUs,t=this.zza.xjc;var {Hto:u}=VGs(c,this.zza.width);u=(c=l===c.track&&!d.gli&&!this.nNa)?u:void 0;return kV("div",{className:CV("Yj83qw","_7EePFQ"),style:{left:u?-u:void 0,width:c?t.width:
void 0},children:[c&&dV("div",{className:"oaQBsQ",children:dV(e,{buffer:m,state:this.HCg})}),dV("div",{className:"myOKOg",style:{left:u},children:dV(nKs,{Xo:f,Eo:b,hZb:p,durationUs:r,EWg:1E5-r,I7d:1E5,kNd:g,Q8b:{show:this.Dkh,appearance:d.ts?"light":"dark"},Bfb:this.Bfb,hT:q,LNa:this.LNa,dVg:k-1E5,axa:this.axa,IBa:this.IBa,CFa:this.CFa,$$a:this.$$a,sia:this.sia,Jna:this.Jna,Wla:this.e2f,xqb:h?void 0:this.I3e,yqb:h?void 0:this.Yok,children:this.RVl})})]})}render(){return dV(__c.Dph,{h9g:["onMouseDown"],
Nsg:["mousedown"],kOc:this.trn,children:dV("div",{onDoubleClick:this.onDoubleClick,children:this.nNa?this.AQo:this.Sup})})}constructor(...b){super(...b);this.currentTime=(v2s.G(this),yV.box(""));this.rhd=IV();this.jK=this.XQg=!1;this.ktb=null;this.Fkh=!1;this.vCr=(c,d,e)=>{d==="trim"&&(d=c.trim,c=e.type==="end"&&(d.endUs==null||d.endUs===c.hT),e.type==="start"&&!d.startUs||c)&&(this.XQg=!0)};this.ZIk=(c,d)=>{var e;this.HDf&&this.props.Uz.$$a(c,(e=c.track.startUs)!==null&&e!==void 0?e:0,d);this.XQg=
!1};this.sia=c=>{const d=this.props.AC,e=this.props.Uz;this.ktb=c.type;a:{var f=c.type;switch(f){case "start":f="trim";break a;case "end":f="trim";break a;case "fullWidth":f="move";break a;default:throw new v(f);}}e.sia(d,f);this.vCr(d,f,c)};this.IBa=c=>{const d=this.props.AC,e=this.props.Uz;c=Math.max(this.LNa,Math.min(c,this.axa-1E5));var f;this.HDf&&c<=((f=d.track.startUs)!==null&&f!==void 0?f:0)?e.$$a(d,c,"start"):(this.ZIk(d,"start"),e.IBa(d,c))};this.CFa=c=>{const d=this.props.AC,e=this.props.Uz;
var f;const g=(f=d.track.startUs)!==null&&f!==void 0?f:0;f=c-(g+d.durationUs);this.HDf&&f>=0&&c<=e.ehd?e.$$a(d,c-d.durationUs,"end"):(this.ZIk(d,"end"),e.CFa(d,c))};this.$$a=c=>{this.props.Uz.$$a(this.props.AC,c)};this.KZr=c=>{this.props.Uz.Y9d(this.props.AC,c)};this.Jna=c=>{const d=this.props.AC,e=this.props.Uz;this.ktb=null;e.Jna(c.kb);this.XQg=!1;!e.G3m&&e.Vhg(d)&&(e.Ima.Pd("editing_commercial_music_upgrade_upon_trimming","paywall"),e.G3m=!0)};this.Bfb=(c,d,e)=>{c=this.props.Lw.LIa(c,e==="end"?
{wgc:!0}:void 0)+d;c=this.props.Lw.uGg(Math.abs(c))*Math.sign(c);return Math.floor(c)};this.I3e=()=>this.props.Uz.I3e(this.props.AC);this.Yok=()=>this.props.Uz.I3e(void 0)}}({c:[v2s,q2s]}=KV(a,[],[Ob],r2s))})(),p2s);var w2s=fV(a=>{const b=a.bxr,c=a.AC;return dV("div",{className:"sNFUtw",children:qc(c.xv?b:1).map((d,e,{length:f})=>dV(j2s,{U2q:d!==f-1,kvj:d*c.durationUs,...a},d))})});var x2s,y2s,z2s,A2s;
new (x2s=class extends JV{constructor(){super(A2s);y2s()}},(()=>{class a extends(z2s=HV){static G(b){O(b,{pL:yV.ref,onMouseEnter:gV.bound,onMouseLeave:gV.bound,backgroundColor:mV,segments:mV})}onMouseEnter(){this.pL=!0}onMouseLeave(){this.pL=!1}get backgroundColor(){const b=this.props.color;return this.pL&&Wb()?li(new ii(Math.max(0,Math.round(b.r*.75)),Math.max(0,Math.round(b.g*.75)),Math.max(0,Math.round(b.b*.75)),b.a)):li(b)}get segments(){return UGs(this.props.Uz,this.props.AC,0,0,new ii(0,0,0,
0))}render(){return kV("div",{className:"WAZQAw",children:[this.segments.map((b,c,{length:d})=>kV(bLs,{children:[dV("div",{style:{background:this.backgroundColor,width:b.state.width}}),c<d-1&&dV("div",{className:CV({wdkUww:b.draft}),style:{background:b.draft?void 0:this.backgroundColor,width:b.paddingRight}})]},c)),dV("div",{className:"mRU4jQ",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})]})}constructor(...b){super(...b);this.pL=(A2s.G(this),!1)}}({c:[A2s,y2s]}=KV(a,[],[Ob],z2s))})(),
x2s);var B2s,C2s,D2s,iHs;
new (B2s=class extends JV{constructor(){super(iHs);C2s()}},(()=>{class a extends(D2s=HV){static G(b){O(b,{Owc:yV.ref,hCb:yV.ref,b2i:yV.ref,nko:gV.bound,MP:gV.bound,onMouseEnter:gV.bound,onMouseDown:gV.bound,onMouseLeave:gV.bound,onKeyDown:gV.bound,zza:mV,jpb:mV,nNa:mV,onContextMenu:gV.bound,too:mV})}componentDidMount(){Kb(this,[eV(()=>this.b2i?this.jpb:!1,b=>{var c;b&&((c=this.b2i)===null||c===void 0||c.focus({preventScroll:!0}))},{fireImmediately:!0}),eV(()=>this.jpb,b=>{b&&this.props.Lw.jHc?this.Owc=
!0:b&&this.props.Uz.ts?(this.Owc=!0,window.clearTimeout(this.gHl),this.gHl=window.setTimeout(()=>{oV(()=>this.Owc=!1)},3E3)):(this.Owc=!1,window.clearTimeout(this.gHl))},{fireImmediately:!0})])}nko(b){var c;this.b2i=b;(c=this.$Ql)===null||c===void 0||c.call(this);b&&(this.$Ql=this.props.Ro.observe(b,this.MP))}MP(b){this.hCb=b}onMouseEnter(){Wb()&&!this.jpb&&(this.Owc=!0)}onMouseDown(){this.props.Uz.Xjl(this.props.AC)}onMouseLeave(){Wb()&&!this.jpb&&(this.Owc=!1)}get zza(){return this.props.Uz.Q8h(this.props.AC)}get jpb(){return this.props.Uz.jpb(this.props.AC)}get nNa(){return this.props.Uz.HRd===
this.props.AC}get too(){const b=this.props.AC.track,c=this.props.Uz.w0c;return this.nNa||c===b}render(){var b=this.props.AC,c=b.audio;b=b.Uzk;const d=this.props.connectDropTarget;var e=this.props.drag;const f=this.props.Xo,g=this.zza.width,h=this.zza.height,k=this.zza.xjc,l=this.zza.left,m=this.zza.color;c=(c===null||c===void 0?0:c.title)?J("avLR6Q",[c.title]):L("78k0WQ");e=!!e&&e.F3;return kV(rV,{children:[dV("div",{role:"button",tabIndex:0,ref:this.nko,className:CV("Jqy7Tg","YAK7xA",{KjB4eQ:vb.od,
_88diBQ:this.props.Uz.mode==="max",wfJ8fA:this.jpb,iB8f7A:b}),style:{width:g,height:h,transform:`translateX(${l}px)`},"aria-label":c,onKeyDown:this.onKeyDown,onMouseEnter:this.onMouseEnter,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onContextMenu:this.onContextMenu,children:d(kV("div",{className:"yCmjww",children:[dV(E2s,{...this.props,color:m,Owc:this.Owc,jpb:this.jpb,Ymk:e||b,visible:this.hCb||this.nNa,Xo:f}),kV("div",{className:CV("ewoWEQ",{AclNdg:b,HTgLsA:e||
b}),style:{height:h},children:[e&&kV(rV,{children:[dV(__c.I4f,{size:"small"}),dV(P,{size:"small",weight:"bold",alignment:"center",tagName:"span",className:"jQln9Q",children:L("txGylQ")})]}),b&&kV(rV,{children:[dV(__c.Wu,{size:"small"}),dV(P,{size:"small",weight:"bold",alignment:"center",tagName:"span",tone:"primary",className:"VFOWng",children:L("0GDd5g")})]})]})]}))}),dV("div",{style:{width:this.too?k.NEd:void 0},"aria-hidden":!0})]})}constructor(...b){super(...b);this.Owc=(iHs.G(this),!1);this.hCb=
!0;this.b2i=null;this.gHl=void 0;this.onKeyDown=c=>{const d=this.props.Uz,e=this.props.AC,f=this.props.Kza;if(c.key===" "||c.key==="Enter")d.Xjl(e),c.stopPropagation();if(c.key==="Escape"){var g;(g=f.xpd)===null||g===void 0||g.call(f);this.nNa?d.uBj(e):d.wr.R1a();c.stopPropagation()}};this.onClick=c=>{const d=this.props.l5a;this.props.ii.get()||d(c)};this.onContextMenu=c=>{const d=this.props.AC,e=this.props.onContextMenu;this.props.Ma.mode<40||(c.preventDefault(),Hc.vba||Hc.izd||e(c,d.track))}}}({c:[iHs,
C2s]}=KV(a,[],[Ob],D2s))})(),B2s);var E2s=fV(a=>{var b=a.ii.get();if(a.Uz.mode==="min")return dV(A2s,{color:a.color,AC:a.AC,Uz:a.Uz});b={AC:a.AC,wr:a.wr,Uz:a.Uz,Eo:b,p3b:a.p3b,tAc:a.tAc,t9i:a.t9i,Lw:a.Lw,Owc:a.Owc,visible:a.visible,Ymk:a.Ymk,SYa:a.SYa,Kza:a.Kza};const c=__c.pLe(a.wr,a.AC);return a.Ma.mode<40||a.Uz.ts&&!a.Uz.jpb(a.AC)||c>1||a.AC.IHc||a.AC.Uzk?dV(w2s,{...b,cqo:!1,bxr:c}):dV(v2s,{...b,Xo:a.Xo,cqo:!0,jpb:a.jpb})});var kHs=parseInt("12px",10)||12;var vHs=a=>{const b=a.label;return dV(R,{paddingTop:"0.5u",paddingBottom:"1u",children:dV("div",{className:"Z_ItSA",children:kV(rr,{onClick:a.onClick,alignment:"start",ariaLabel:b,children:[dV(__c.Wu,{size:"small",tone:"primary",className:"csNU_A"}),dV(P,{size:"small",weight:"bold",alignment:"start",tagName:"span",tone:"primary",children:b})]})})})};var oHs=["#33bfff","#fbbe28","#7fdc42","#00c4cc","#ff6673"].map(a=>__c.fJa(a)),pHs=__c.fJa("#8d39fa"),rHs=parseInt("16px",10)||16;var VLs=class{static G(a){O(a,{QWl:yV.ref,V_l:yV.ref,CUl:yV.ref,Z0l:yV.ref,Kne:yV.ref})}get h3c(){return this.Tmo.value}constructor(){this.Tmo=(VLs.G(this),new __c.Hk)}};var TLs=class{static G(a){O(a,{Dfd:mV})}get Dfd(){return this.JBa.get()<=0?0:10/this.JBa.get()*1E6}constructor(a){this.JBa=a;this.rJe=(TLs.G(this),yV.box(!1));this.xbd=yV.box(void 0);this.kdh=mV(()=>[]);this.Ptg=mV(()=>[]);this.xJh=mV(()=>[]);this.qKh=mV(()=>[])}},YLs=a=>{const b=gV(c=>{({maxTouchPoints:e,userAgent:d}=navigator);var d,e;return a.rJe.set((!/Mac OS/i.test(d)||/iphone|ipad/i.test(d)?0:e<=1)?c.metaKey:c.ctrlKey)});window.addEventListener("keydown",b);window.addEventListener("keyup",b);
return()=>{window.removeEventListener("keydown",b);window.removeEventListener("keyup",b)}};var BHs=FV(function({currentTime:a,totalTime:b,tf:c,wpa:d,fLs:e,rw:f,onChange:g,onSubmit:h}){return e?c>1?dV(zHs,{tf:c,wpa:d,rw:f,onChange:g,onSubmit:h}):dV(P,{size:"medium",weight:"bold",className:"hGeclQ",children:d!=null?J("q6CACQ",[d,c]):J("plwCKA",[c])}):kV(P,{size:"medium",weight:"bold",className:"hGeclQ",children:[dV(__c.bE,{seconds:a})," / ",dV(__c.bE,{seconds:b})]})});var AHs=class{static G(a){O(a,{rw:yV.ref,gol:gV})}gol(a){this.rw=a&&this.document.pages.count()>1}Nfa(a){if(a>0&&a<=this.document.pages.count()){const b=this.V.sb("design_progress.go_to_page",{Fb:{name:"editor.page.navigate",type:"design_progress"}}),c=a-1,d=this.document.pages.toArray()[c],e=this.viewport.ya===d;if(e)b.abort();else{this.viewport.gw(d);switch(d.type){case "fixed":a=zg(this.gb.Zk(d));break;case "concatenated-fixed":a=!1;break;case "responsive":a=!0;break;default:throw new v(d);}this.N.JMd(d,
!e,b,{Wb:c,YJ:1,Hzd:a,kb:"go_to_page",location:"status_bar"})}}}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.gb=c;this.N=d;this.V=e;this.rw=(AHs.G(this),!1)}};var EHs=class{static G(a){O(a,{gAd:yV.ref})}get isDragging(){return this.gAd!=null}constructor(){this.gAd=(EHs.G(this),void 0);this.euo=this.qmf=0}},FHs=class{onDragStart(a,b){var c;const d=((c=a.Yel)===null||c===void 0?0:c.isRecording())?a.Yel:this.V.sb("resize",{Fb:{name:"timeline.resize",performance:{jT:!0}}});a.Yel=d;a.gAd=b.clientY;b=this.Bda.aMd;a.euo=b;a.qmf=b}onDragEnd(a){a.gAd=void 0;const b=a.euo;a=a.Yel;const c=F2s(),d=Math.round(b/c*100),e=Math.round(this.Bda.aMd/c*100);a===null||a===
void 0||a.mb().nk(({Ii:f})=>PFs(this.N,{c7k:d,KNj:e,WOk:this.Bda.VYg,Rb:f()}));a===null||a===void 0||a.ne()}pe(a,b){var c=a.gAd;if(c!=null){c-=b.clientY;var d=c+a.qmf;c!==0&&this.Bda.eko(d);a.gAd=b.clientY;a.qmf=d}}constructor(a,b,c){this.Bda=a;this.N=b;this.V=c}},F2s=()=>{const a=__c.Yb();var b;return(b=a===null||a===void 0?void 0:a.height)!==null&&b!==void 0?b:window.innerHeight};var DHs=parseInt("12px",10)||12;var G2s=Sj(0,0,parseInt("128px",10)||128,parseInt("72px",10)||72),H2s=new xj(0,0),LHs=fV(({store:a})=>{const b=jV(null);iV(()=>eV(()=>a.pCm,c=>{const d=b.current;d&&(c?(d.style.transform=`translate(${c.x}px, ${c.y}px)`,d.style.opacity="1"):d.style.opacity="0")},{scheduler:requestAnimationFrame}),[a]);return dV("div",{ref:b,className:"_FVm1g",children:a.JW&&dV(I2s,{page:a.JW.page,elements:a.JW.elements,y$f:a.AWl,Vqc:a.Vqc})})}),I2s=fV(({page:a,elements:b,y$f:c,Vqc:d})=>dV("div",{className:"Qko23w",
children:b.slice(0,3).map((e,f)=>{const g=CV("vKg3MA",{_4Uxw3A:!d}),h=Sj(0,0,e.width,e.height).w0b(H2s,G2s);return dV("div",{className:g,style:d?void 0:{width:h.width,height:h.height},children:dV(c,{page:a,element:e,nd:h.width,sf:h.height})},f)})}));var KHs=fV(({item:a,onDragStart:b,Clq:c,Mnq:d,children:e})=>{const f=jV(null),g=hV(()=>{d.Rxl=m=>{if(f.current){const {left:p,top:q,width:r,height:t}=f.current.getBoundingClientRect();d.lze={x:Math.max(0,Math.min(r,m.x-p)),y:Math.max(0,Math.min(t,m.y-q))}}return b()}},[d,b]),h=hV(m=>{g();c.onMouseDown(m)},[g,c]),k=hV(m=>{g();c.onTouchStart(m)},[g,c]),l=hV(m=>{if(Hc.vba||Hc.izd)m.preventDefault(),m.stopPropagation()},[]);a=d.tdn(a);return kV("div",{ref:f,className:"UPkX6w",onMouseDown:h,onTouchStart:k,
onContextMenu:l,"data-role":a?"draggable-timeline-item":void 0,children:[dV("div",{className:CV("ztu6Iw",{_NaLug:a}),children:e}),dV("div",{className:CV("GvBgmw",{_NaLug:a})})]})});var JHs=class{lth(a){a={x:a.clientX,y:a.clientY};this.store.H_=a;__c.FEe(this.Xba,a)}constructor(a,b){this.store=a;this.Xba=b;this.onDragStart=c=>{const d=n(this.store.Rxl)({x:c.clientX,y:c.clientY});this.store.JW=d;this.Xba.CLc=!0;HEe(this.Xba);this.lth(c);return d};this.pe=c=>{this.store.xZh=!0;this.lth(c)};this.onDragEnd=()=>{this.Xba.CLc=!1;HHs(this.store)};this.Gw=c=>{this.lth(c)}}};var IHs=class{static G(a){O(a,{H_:yV.struct,lze:yV.struct,JW:yV.ref,xZh:yV.ref,Vqc:yV.ref,NPg:yV.ref,AWl:mV,pCm:mV,isDragging:mV})}get AWl(){return this.Vqc&&this.RWl?this.RWl:this.t_o}get pCm(){if(this.H_){var a=this.Vqc&&this.lze||{x:0,y:0};return{x:this.H_.x-a.x,y:this.H_.y-a.y}}}get isDragging(){return this.JW?this.ii.get()?this.xZh:!0:!1}constructor(a,b){this.t_o=a;this.ii=b;this.Rxl=(IHs.G(this),void 0);this.NPg=this.Vqc=this.xZh=!1;this.tdn=EV(c=>{var d,e;return this.isDragging?c.type!==void 0?
!((d=this.JW)===null||d===void 0||!d.elements.includes(c)):!((e=this.JW)===null||e===void 0||!e.uh.includes(c)):!1})}};var YIs=class{static G(a){O(a,{nd:yV.ref,sf:yV.ref,XZe:mV,dV:mV,Yso:mV.struct,iph:mV.struct,frameWidth:mV,KSm:mV({equals:rk(lV.shallow)}),Cyn:mV,GRe:mV,Vto:mV})}static factory(a,b){return(c,d)=>new YIs(c,d,a,b)}update(a,b,c){var d=this.IKl,e=this.frameWidth,f=this.GRe;d.kja==null&&c==="start"&&(d.Agl=a%e-e);c==="start"?d.GKl=d.WHj-a:d.WHj=a;d.kja=c;d.GRe=f;d.frameWidth=e;this.nd=a;this.sf=b}get XZe(){return this.IKl.XZe}get dV(){return this.xJb.length>0&&this.nd>0&&this.sf>0}get Yso(){let a=0;return this.xJb.reduce((b,
c)=>{const d=c.url,e=c.VR,f=c.qt;a+=c.Cbc;b.push({url:d,qt:f,IK:e,TAp:a});return b},[])}get iph(){const a=this.xJb.reduce((c,d)=>c+d.Cbc,0),b=this.xJb[0];return{l1s:a,x8s:b.RRc*1E6,...b}}get frameWidth(){const a=this.xJb[0];return Math.ceil(this.sf/a.D_a*a.E_a)}get KSm(){const a=this.iph.E_a,b=this.iph.D_a;let c=-1,d=0;return Array.from({length:this.Cyn},(e,f)=>{const g=Math.floor(this.Vto+this.GRe*f);var h=this.Yso.find(m=>g<m.TAp);if(!h)return null;e=h.url;f=h.IK;h=h.qt;const [k,l]=[g%f,Math.floor(g/
f)%h];g!==c?(c=g,d=0):d++;return{key:`${g}-${d}`,url:e,qt:h,IK:f,CIc:l,BIc:k,E_a:a,D_a:b}}).filter(ub)}get Cyn(){return Math.ceil((this.nd-(this.XZe?this.XZe:0))/this.frameWidth)}get GRe(){const a=this.qd.aak(this.K7)/1E6*this.JBa.get()/this.frameWidth;return this.iph.l1s/a}get Vto(){var a;const b=((a=this.K7.trim)===null||a===void 0?0:a.startUs)?this.K7.trim.startUs/this.iph.x8s:0;return this.IKl.pzo+b}constructor(a,b,c,d){this.K7=a;this.xJb=b;this.JBa=c;this.qd=d;this.nd=(YIs.G(this),0);this.sf=
0;this.IKl=new J2s}},J2s=class{static G(a){O(a,{kja:yV.ref,WHj:yV.ref,GKl:yV.ref,GRe:yV.ref,frameWidth:yV.ref,Agl:yV.ref,XZe:mV,pzo:mV})}get XZe(){if(this.kja==="start")return this.Agl}get pzo(){return this.kja!=="start"?0:Math.floor(this.GKl/this.frameWidth)*this.GRe}constructor(){this.kja=(J2s.G(this),void 0);this.Agl=this.frameWidth=this.GRe=this.GKl=this.WHj=0}};var $Hs=class{static G(a){O(a,{enk:mV,bPb:mV,startUs:mV,Kch:mV,rowIndex:mV})}get enk(){return!!this.bPb||!!this.Kch}get bPb(){const a=this.startUs;return a==null?0:a-this.z7r}get startUs(){var a=this.CTa.startUs;if(a!=null)return a=this.TOb.BCa(a,void 0),Math.max(a,this.LNa)}get Kch(){const a=this.rowIndex;return a==null?0:a-this.y7r}get rowIndex(){const a=this.CTa.rowIndex;if(a!=null)return Math.max(a,this.PFr)}constructor(a,b,c,d,e,f,g){this.CTa=a;this.TOb=b;this.z7r=c;this.y7r=d;this.durationUs=
e;this.LNa=f;this.PFr=g;$Hs.G(this)}};var K2s=class{static G(a){O(a,{rpe:yV.shallow,LYe:yV.shallow,items:mV})}get items(){if(!this.rpe.size&&!this.LYe.size)return this.cxj.get();const a=this.cxj.get().filter(b=>!this.LYe.has(b));for(const [b,c]of this.rpe)a.splice(c,0,b);return a}insertBefore(a,b){b=b?this.items.indexOf(b):-1;this.rpe.set(a,b>=0?b:this.items.length)}remove(a){this.rpe.has(a)?this.rpe.delete(a):this.cxj.get().includes(a)&&this.LYe.add(a)}restore(a){this.LYe.has(a)&&this.LYe.delete(a)}reset(){this.rpe.clear();this.LYe.clear()}constructor(a){this.cxj=
a;this.rpe=(K2s.G(this),new Map);this.LYe=new Set}},UHs=class{static G(a){O(a,{IKk:yV.ref,muc:yV.shallow,M6g:yV.ref,axa:mV,YMi:mV({equals:rk(rk())}),K5n:mV({equals:rk(rk())}),f9g:mV({equals:lV.shallow}),r0k:mV({equals:rk()}),rows:mV({equals:rk(rk())}),items:mV,ain:mV({equals:lV.shallow}),dec:mV})}get axa(){return this.items.reduce((a,b)=>{b=this.yEg(b);return Math.max(a,b.endUs)},0)}get YMi(){return PHs(this,this.O3h.items)}get K5n(){return this.YMi.map(a=>a.filter(b=>!this.muc.has(b)))}get f9g(){return new Map(this.YMi.flatMap((a,
b)=>a.map((c,d)=>[c,[b,d]])))}get r0k(){return Array.from(this.muc.entries()).filter(([a])=>this.f9g.has(a)).sort((a,b)=>{const [c,d]=n(this.f9g.get(a[0])),[e,f]=n(this.f9g.get(b[0]));return c===e?d-f:c-e})}get rows(){if(!this.r0k.length)return this.YMi;const a=this.K5n.map(d=>d.slice()),b=new Map;var c=(d,e)=>{let f=b.get(d);f||(f=[],b.set(d,f));f.push(e)};for(const [d,e]of this.r0k){const f=this.yEg(d),[g]=n(this.f9g.get(d)),{rowIndex:h,rbe:k,BHd:l}=THs(f,g+e.VMi,a,this.M6g,this.yEg);l?c(h,d):a[h].splice(k,
0,d)}c=Array.from(b.entries()).sort((d,e)=>e[0]-d[0]);for(const [d,e]of c)a.splice(d,0,...PHs(this,e));return PHs(this,a.flat(),this.yEg)}get items(){return this.rows.flat()}get ain(){return new Map(this.rows.flatMap((a,b)=>{const c=b>=this.rows.length;return a.map((d,e)=>[d,{rowIndex:b,rbe:e,yeu:c,xeu:e>=a.length}])}))}get dec(){return Math.max(this.IKk,this.rows.length)}Ml(a,b){this.O3h.insertBefore(a,b)}removeItem(a){this.O3h.remove(a);this.muc.has(a)&&this.muc.delete(a)}reset(){this.O3h.reset();
this.muc.clear();this.IKk=1;this.M6g="below"}constructor(a,b){this.EOq=b;this.IKk=(UHs.G(this),1);this.muc=new Map;this.M6g="above";this.yEg=EV(c=>{var d=this.muc.get(c);if(d===null||d===void 0||!d.bPb)return c.timing;d=Math.max(0,c.timing.startUs+d.bPb);return{startUs:d,endUs:d+c.timing.durationUs,durationUs:c.timing.durationUs}});this.D1d=EV(c=>{const d=this.ain.get(c);if(d)return c=this.yEg(c),{startUs:c.startUs,endUs:c.endUs,rowIndex:d.rowIndex,rbe:d.rbe}});this.ewf=EV(c=>{const d=this.items.find(e=>
e.element===c);return d&&this.D1d(d)});this.O3h=new K2s(a)}},OHs=(a,b=c=>c.timing)=>{if(!a.length)return[];let c=[];const d=[[]];for(const e of a)a=b(e),RHs(a,c)&&(c=[],d.push([])),d[d.length-1].push(e),c.push(a);return d},NHs=(a,b=c=>c.timing)=>{if(!a.length)return[];const c=[[]];let d;for(const e of a)a=d?b(d).endUs:0,b(e).startUs>=a?c[c.length-1].push(e):c.push([e]),d=e;return c};var aIs=class{static G(a){O(a,{bxn:mV,positions:mV,J5n:mV({equals:rk(rk())}),bSh:mV})}get bxn(){var a;return(a=this.bSh)!==null&&a!==void 0&&a.BHd?[this.bSh.rowIndex]:[]}get positions(){const a=this.bSh;return a?(a.BHd?[]:[{startUs:a.startUs,durationUs:a.durationUs,rowIndex:a.rowIndex}]).concat(this.p8n.map(({bPb:b,Kch:c,durationUs:d})=>({startUs:a.startUs+b,durationUs:d,rowIndex:a.rowIndex+c}))):[]}get J5n(){return this.IBb.rows.map(a=>a.filter(b=>b!==this.Xlg&&!this.Izs.includes(b)))}get bSh(){const a=
this.Q5d.startUs,b=this.Q5d.rowIndex;if(a!=null&&b!=null){var c=this.Xlg.timing.durationUs,{rowIndex:d,BHd:e}=THs({startUs:a,durationUs:c,endUs:a+c},b,this.J5n,this.IBb.M6g);return{startUs:a,durationUs:c,rowIndex:d,BHd:e}}}constructor(a,b,c,d){this.IBb=a;this.Q5d=b;this.Xlg=c;this.Izs=d;this.p8n=(aIs.G(this),void 0);const e=n(a.D1d(c)).rowIndex;this.p8n=d.map(f=>{const g=n(a.D1d(f));return{bPb:f.timing.startUs-c.timing.startUs,Kch:g.rowIndex-e,durationUs:f.timing.durationUs}})}};var sIs=class{constructor(a,b,c,d,e){this.page=a;this.qd=b;this.CTa=c;this.TOb=d;this.Qlf=e}};var L2s=fV(({zGa:a,T_:b})=>{const c=jV(null);iV(()=>{const d=c.current;if(d)return eV(()=>({x:a.QNd(b.startUs),y:BIs(a,b.rowIndex)}),e=>{d.style.transform=e?`translate(${e.x}px, ${e.y}px)`:""},{fireImmediately:!0,scheduler:requestAnimationFrame})});return dV("div",{ref:c,className:"CGPqmw",style:{width:a.QNd(b.durationUs)}})}),M2s=fV(({zGa:a,rowIndex:b})=>{const c=jV(null);iV(()=>{const d=c.current;if(d)return eV(()=>BIs(a,b),e=>{d.style.transform=`translateY(${e}px)`},{fireImmediately:!0,scheduler:requestAnimationFrame})},
[a,b]);return dV("div",{ref:c,className:"_4X5sgA"})}),uIs=fV(({store:a,zGa:b})=>a.qze?kV(rV,{children:[a.qze.m7m.positions.map((c,d)=>dV(L2s,{zGa:b,T_:c},d)),a.qze.m7m.bxn.map((c,d)=>dV(M2s,{zGa:b,rowIndex:c},d))]}):null);var tIs=fV(({connectDropTarget:a,t8a:b,children:c})=>{const d=hV(e=>{b.ctg=e!==null&&e!==void 0?e:void 0},[b]);return a(dV("div",{ref:d,className:CV("_6RM6zQ",{XP7C2w:b.wUb}),children:c}))});var pIs=class{static G(a){O(a,{Zwc:yV.struct,zTc:yV.ref,e9g:yV.struct,Dpf:yV.ref,x:mV,y:mV,startUs:mV,rowIndex:mV,z5n:mV,$gl:mV,RFd:mV,Bsd:mV,$Nb:mV})}get x(){if(this.RFd){var {x:a}=this.RFd;this.Dpf&&(a-=this.Dpf);return Math.max(0,a)}}get y(){if(this.RFd)return this.RFd.y}get startUs(){if(this.x!=null)return this.zGa.A4k(this.x)}get rowIndex(){if(this.y!=null)return Math.max(0,Math.max(0,this.IBb.dec-1)-Math.floor(Math.max(0,this.y/this.zGa.rowHeight)))}get z5n(){if(this.$gl!=null)return this.$gl<
.5?0:1}get $gl(){if(this.y!=null)return Math.min(1,Math.max(0,Math.max(0,this.y/this.zGa.rowHeight)-Math.floor(Math.max(0,this.y/this.zGa.rowHeight))))}get RFd(){if(this.e9g&&this.Bsd)return{x:this.e9g.x-this.Bsd.x,y:this.e9g.y-this.Bsd.y}}get Bsd(){if(this.zTc)return{x:this.zTc.left-this.$Nb.left,y:this.zTc.top-this.$Nb.top}}get $Nb(){return this.Zwc?{top:this.i9.scrollTop-this.Zwc.top,left:this.i9.scrollLeft-this.Zwc.left}:{top:0,left:0}}Ijg(){this.zTc=this.Zwc=this.e9g=void 0;this.Dpf=0}constructor(a,
b,c){this.i9=a;this.zGa=b;this.IBb=c;this.Zwc=(pIs.G(this),void 0);this.Dpf=0}};var rIs=class{static G(a){O(a,{onDragOver:gV.bound,onDragLeave:gV.bound})}wUb(){this.t8a.wUb=!0}XSj(){this.Hga.Vqc=!1;this.t8a.Ijg();this.t8a.wUb=!1}onDragOver(a){this.t8a.CTa.e9g={x:a.hy.x,y:a.hy.y};a.start?this.t8a.CTa.Dpf=a.start.CCa.x:this.Hga.lze&&(this.t8a.CTa.Dpf=this.Hga.lze.x);if(a=this.t8a.qze)a.IBb.M6g=this.t8a.CTa.z5n===0?"above":"below"}onDragLeave(){this.Hga.Vqc=!1;this.t8a.Ijg()}async onDrop(a){this.TOb.onDragEnd();const b=a.IBb;for(const c of a.items)QHs(b,c,{bPb:a.Q5d.bPb,VMi:a.Q5d.Kch});
switch(a.type){case 0:gIs(this,a);break;case 1:hIs(this,a);break;case 2:iIs(this,a);break;case 3:await jIs(this,a);break;default:throw new v(a);}oV(()=>{var c;((c=this.Hga.JW)===null||c===void 0?0:c.elements.length)&&this.og.Il(this.Hga.JW.page,...this.Hga.JW.elements);this.t8a.Ijg()})}constructor(a,b,c,d,e,f,g,h,k,l){this.page=a;this.gb=b;this.oc=c;this.og=d;this.i9=e;this.t8a=f;this.GAm=g;this.TOb=h;this.Hga=k;this.o2c=l;this.onDragEnter=(rIs.G(this),async m=>{const p=this.t8a.ctg;if(cIs(this,m)&&
p){var q=await kIs(this,m);oV(()=>{this.t8a.qze=q;this.t8a.CTa.Zwc={top:this.i9.scrollTop,left:this.i9.scrollLeft};const {top:r,left:t}=p.getBoundingClientRect();this.t8a.CTa.zTc={top:r,left:t};this.Hga.Vqc=!0})}})}};var qIs=class{static G(a){O(a,{wUb:yV.ref,qze:yV.ref})}Ijg(){this.CTa.Ijg();this.qze=void 0}constructor(a){this.CTa=a;this.ctg=(qIs.G(this),void 0);this.wUb=!1}};var mIs=parseInt("28px",10)||28;var vIs="timelineItems searchMedia video searchShape line table chart grid textParagraph".split(" ");var N2s=fV(({element:a,L:b,T0f:c})=>{const d=hV(e=>{c();e.stopPropagation()},[c]);return dV(__c.vZg,{tone:"primary",className:CV("AuGWSA",{XPeZdg:b.hwk(a)}),onClick:d,children:dV(__c.FWh,{size:"small"})})});var O2s=eQs(({children:a},b)=>dV("div",{className:CV("gGmdtw","Eu3fXQ"),ref:b,children:a}));var P2s,Q2s,R2s,S2s=parseInt("96px",10)||96,T2s=(parseInt("2px",10)||2)+(parseInt("1px",10)||1),U2s=parseInt("8px",10)||8,W2s=fV(function(a){const b=a.element,c=a.page,d=a.hT,e=a.timing,f=a.parent,g=a.store,h=a.A8e,k=a.L,l=a.QR,m=a.F$f;var p=a.qao;const q=c.ia,r=jV(null);var t=g.vm;const u=g.yAa===b,w=t.includes(b)||!!f&&t.includes(f);var x=w&&(t.length>1||!!f&&g.yAa===f);t=hV(I=>{I.stopPropagation();oV(()=>{var K;const N=zIs(k,q,(b.startUs||0)+((f===null||f===void 0?void 0:f.startUs)||0)),M=I.clientX-
(((K=r.current)===null||K===void 0?void 0:K.Zrr)||0)+N;AIs(k,q,M);u||k.zg(q,b,f)})},[k,b,f,u,q]);const y=hV(()=>{l.e_a({element:b,page:q})},[b,l,q]),z=hV(()=>{l.PGb({element:b,page:q})},[b,l,q]),A=hV((I,K,N)=>{const M=Math.floor(I.endUs-I.startUs);K=Math.floor(K.endUs-K.startUs);h.Jna(I,N,b,f,q,d);fIs(h,[b],M,K)},[h,b,f,q,d]),B=p.endUs-p.startUs,D=!(x||!f||!b),G=!!(x||(f?u:w));p=hV(()=>{D?(eIs(h,[b],f,h.wfe,q,d),fIs(h,[b],e.durationUs)):(eIs(h,g.vm,void 0,h.wfe,q,d),fIs(h,g.vm,B))},[D,h,e,b,f,q,d,
B,g]);x=hV(()=>{G||k.zg(c.ia,b,f);h.sia("fullWidth");if(D)return{page:c,parent:f,elements:[b],uh:[]};const I=[b,...g.vm.filter(K=>K!==b)];return{page:c,elements:I,uh:[]}},[c,b,f,g,G,D,k,h]);return dV(V2s,{...a,ref:r,$Aq:k.ZLs(b,f),onClick:t,onMouseEnter:y,onMouseLeave:z,focused:u,selected:w,Icon:m,OXf:G,Jna:A,hXr:p,onDragStart:x})}),V2s;
new (P2s=class extends JV{constructor(){super(V2s);Q2s()}},(()=>{class a extends(R2s=HV){static G(b){O(b,{Y6a:yV.shallow,uRd:yV.ref,iPf:yV.ref,E6g:yV.ref,Hs:mV,isDragging:mV,Z$d:mV,trim:mV,J0k:mV,Cun:mV,OHk:mV,Bun:mV,jrn:mV,xqb:gV.bound,yqb:gV.bound,onMouseEnter:gV.bound,onMouseLeave:gV.bound,Wla:mV.struct,Q8b:mV,Ekh:mV,Zud:mV,width:mV,left:mV,transform:mV,dVi:mV,T0f:gV.bound,npo:mV,onContextMenu:gV,xpo:mV,disabled:mV,hidden:mV,jEm:mV,content:mV})}get Hs(){return this.props.store.timing.Hs}get isDragging(){return!!this.props.Hga.isDragging}get Z$d(){return{startUs:this.props.timing.startUs,
endUs:this.props.timing.endUs}}get trim(){if(this.Y6a)return this.Y6a;const b=this.Z$d,c=this.props.OXf?this.props.A8e.wfe:0;return{startUs:b.startUs+c,endUs:b.endUs+c}}seek(b){this.props.L.Ovc(this.props.page.ia,this.props.tPn+b)}get J0k(){const b=this.props.focused;return this.props.parent&&b?this.Z$d:this.props.qao}get Cun(){if(this.uRd==="fullWidth")return this.Z$d.startUs-this.J0k.startUs}get OHk(){const b=this.props.hT;if(this.Hs){const c=this.props.L.Xai(this.props.element);if(c)return c+this.Z$d.startUs}return this.uRd!==
"fullWidth"?b:b-(this.J0k.endUs-this.Z$d.endUs)}get Bun(){if(this.Hs){const b=this.props.L.Xai(this.props.element);if(b)return this.Z$d.endUs-b}return 0}get jrn(){return this.OHk-(this.trim.endUs-this.trim.startUs)}xqb(){this.iPf=!0}yqb(){this.iPf=!1}onMouseEnter(){this.props.ii.get()||(this.E6g=!0,this.props.onMouseEnter())}onMouseLeave(){this.props.ii.get()||(this.E6g=!1,this.props.onMouseLeave())}get Wla(){const b=this.props.focused,c=this.props.Lw,d=this.props.selected;return this.props.vba?{type:"touch",
isVisible:b}:{type:"pointer",rRa:this.Ekh?"outside":"inside",isVisible:(this.Ekh||this.Zud&&(!!this.Y6a||this.iPf))&&!c.xE,mzg:!this.Zud,Guh:!0,...(this.Ekh?{}:{xzf:this.props.OXf?T2s:0,L5i:this.props.OXf?T2s:0,borderRadius:U2s-(b||d?T2s:0)})}}get Q8b(){const b=this.props.Lw;return{show:!(this.Y6a&&this.uRd!=="fullWidth")&&this.Ekh&&!b.xE,appearance:this.props.vba?"light":"dark"}}get Ekh(){this.Y6a||(this.Fkh=this.props.OXf&&!this.Zud);return this.Fkh}get Zud(){return this.width>=50}get width(){return zIs(this.props.L,
this.props.page.ia,this.trim.endUs,{wgc:!0})-this.left}get left(){return zIs(this.props.L,this.props.page.ia,this.trim.startUs)}get transform(){var b=this.props.L;var c=this.props.element;b=(c=b.jJc(this.props.page.ia).ewf(c))?BIs(b.zGa,c.rowIndex):void 0;if(b!=null&&!this.hidden)return`translate(${this.left}px, ${b}px)`}get dVi(){const b=this.props.focused;return this.props.$Aq&&this.width>40&&!this.iPf&&!this.isDragging&&(b||this.E6g)}T0f(){this.props.L.T0f(this.props.page.ia,this.props.element,
this.props.parent)}get npo(){return this.width>70||!this.dVi}get xpo(){const b=this.props.focused,c=this.props.ii,d=this.props.kh,e=this.width,f=this.iPf,g=this.Y6a,h=this.isDragging,k=this.dVi,l=this.E6g||!Wb();return b&&l&&!c.get()&&e>S2s&&(!f||d.Pr)&&!g&&!h&&!k}get disabled(){const b=this.props.focused,c=this.props.vba;return this.props.Lw.xE||c&&!b?!0:this.props.L.kjr(this.props.element,this.props.page.ia)}get hidden(){var b=this.props.element;return!this.props.L.jJc(this.props.page.ia).ewf(b)}get Zrr(){var b;
return((b=this.ref.current)===null||b===void 0?void 0:b.getBoundingClientRect().left)||0}get jEm(){return this.trim.endUs-this.trim.startUs}get content(){const b=this.props.focused;return dV(nIs,{element:this.props.element,page:this.props.page.ia,Icon:this.props.Icon,isActive:this.props.selected||b,Hs:this.Hs,e8c:this.e8c,tcn:!this.props.ii.get()&&this.props.OXf,Gdn:this.npo,cno:this.Wla.isVisible,uRd:this.uRd,width:this.width,trim:this.trim})}render(){const b=this.props.L,c=this.props.Xo,d=this.props.onClick,
e=this.props.element,f=this.props.focused,g=this.props.ii,h=this.props.Kzc,k=this.props.kh.Thc;return kV("div",{ref:this.ref,className:CV("VzBqkA",{HkpnnQ:this.hidden}),style:{width:this.width,transform:this.transform,zIndex:f&&!this.isDragging?1:void 0},onClick:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,children:[dV(h,{item:e,onDragStart:this.props.onDragStart,children:dV(nKs,{Xo:c,hZb:this.trim.startUs,durationUs:this.jEm,Bfb:this.Bfb,LNa:this.Bun,
EWg:this.Cun,dVg:this.Hs?void 0:this.jrn,axa:this.OHk,I7d:1E5,hT:this.props.hT,sia:this.sia,IBa:this.IBa,CFa:this.CFa,$$a:this.Hs?void 0:this.$$a,Jna:this.Jna,xqb:this.xqb,yqb:this.yqb,captureEvents:!0,disabled:this.disabled,Eo:g.get(),Q8b:this.Q8b,Wla:this.Wla,kNd:b.TOb,children:this.content})}),this.xpo&&k&&dV(O2s,{children:dV(k,{visibility:"always",zh:this.onContextMenu,ariaLabel:L("kUnZoQ")})}),this.dVi&&dV(O2s,{children:dV(N2s,{element:e,L:b,T0f:this.T0f})})]})}constructor(...b){super(...b);
this.ref=(V2s.G(this),IV());this.Fkh=this.E6g=this.iPf=!1;this.e8c=this.props.L.e8c;this.Bfb=(c,d,e)=>{const f=this.props.L,g=this.props.page.ia,h=this.props.tPn,k=this.props.p$r;c=zIs(f,g,c,{wgc:e==="end"})-k+d;return f.Lw.uGg(c,{y$g:g,mvb:f.Hdn})-h};this.sia=c=>{this.Y6a=this.trim;const d=this.props.element,e=this.props.parent,f=this.props.L,g=this.props.A8e,h=this.props.page.ia;var k=this.props.OXf;this.uRd=c.type;k=!k;g.sia(c.type);f.sia(k,h,d,e)};this.IBa=c=>{if(this.Hs){const d=this.props.L.Xai(this.props.element);
if(d&&c+d<this.trim.endUs)return}this.props.A8e.IBa(this.trim,c);this.seek(c)};this.CFa=c=>{if(this.Hs){const d=this.props.L.Xai(this.props.element);if(d&&c>this.trim.startUs+d)return}this.props.A8e.CFa(this.trim,c);this.seek(c-1)};this.$$a=c=>{const d=this.trim;var e=this.props.A8e,f=c-d.startUs;d.startUs+=f;d.endUs+=f;e.wfe+=f;this.seek(c)};this.Jna=c=>{const d=this.props.element,e=this.props.L,f=this.props.hXr,g=this.props.Jna,h=this.props.A8e;this.props.store.rVm(this.props.page.ia).includes(d)&&
(c=c.type,c==="fullWidth"?h.wfe&&f():g(this.trim,this.Z$d,c));this.uRd=this.Y6a=void 0;e.Jna()};this.onContextMenu=c=>{c.preventDefault();c.stopPropagation();if(!Hc.vba&&!Hc.izd){var d=this.props.kh,e=this.props.L,f=this.props.element,g=this.props.parent,h=this.props.page;this.props.selected||e.zg(h.ia,f,g);var k,l;e=__c.yj({x:(k=c.clientX)!==null&&k!==void 0?k:0,y:(l=c.clientY)!==null&&l!==void 0?l:0});d.sMb(e,"element_timeline","right_click","bottom-start")}}}}({c:[V2s,Q2s]}=KV(a,[],[Ob],R2s))})(),
P2s);var X2s=(a,b,c,d,e,f)=>{const g=jV(void 0),h=jV(!1);return hV(k=>{if(k){var l=f.get()?e:k;g.current=Ats(()=>{const p=h.current;if(h.current=a.open){var q=[];!p&&a.yAa&&q.push(()=>l.scrollTo({top:l.scrollTop+c.scrollHeight,behavior:"instant"}));a.yAa&&a.twa&&d(a.twa).ewf(a.yAa)&&q.push(()=>{var r=a.twa,t=a.yAa;if(r&&t){var {top:u,rowHeight:w}=b.ewf(r,t);r=u+w;t=l.scrollTop;var x=l.clientHeight;u<t?l.scrollTo({top:u-b.GRc,behavior:"smooth"}):r>t+x&&l.scrollTo({top:r-x,behavior:"smooth"})}});q.length&&
requestAnimationFrame(()=>q.forEach(r=>r()))}else p&&l.scrollTop<c.scrollHeight&&l.scrollTo({top:0,behavior:"instant"})})}else{var m;(m=g.current)===null||m===void 0||m.call(g);g.current=null}},[a,b,c.scrollHeight,d,h,e,f])};var Y2s=parseInt("32px",10)||36,Z2s=fV(({IBb:a,zGa:b})=>qc(a.dec).map((c,d)=>dV("div",{role:"none",className:"PWKo6g",style:{top:BIs(b,d)}},d))),$2s=0,a3s=new WeakMap,b3s=fV(function(a){const b=jV(null),c=a.store,d=a.zGa;var e=a.jJc;const f=a.page.ia,g=a.Ybj,h=c.twa===f;e=e(f);const k=c.timing.Hs;iV(()=>{const l=b.current;if(l&&k)return eV(()=>d.scrollWidth(f),m=>{l.style.minWidth=`${m}px`},{fireImmediately:!0})},[k,f,d]);return kV("div",{ref:b,className:CV("TtlcSA",{_2lZCug:k}),style:{zIndex:h?1:
void 0,height:d.scrollHeight},children:[k?dV(Z2s,{IBb:e,zGa:d}):void 0,c.yXj(f).map(l=>{var m=l.element;let p=a3s.get(m);p==null&&(p=$2s++,a3s.set(m,p));return dV(W2s,{...a,...l},p)}),k&&g&&dV(g,{page:f})]})}),c3s=fV(function(a){const b=a.document,c=a.viewport,d=a.store,e=a.zGa;var f=a.Bda,g=a.jJc;const h=a.L,k=a.Lw,l=a.Tke,m=a.YSj,p=a.Xo,q=m.get(),r=hV(u=>{Math.abs(u.deltaX)<Math.abs(u.deltaY)&&u.stopPropagation()},[]);f=X2s(d,f,e,g,p,m);const t=Ff(b);g=zFs(()=>{const u=c.mh;if(d.timing.Hs&&eGs(k,
u.ia))return[u.ia];let w=-1;return b.pages.filter(x=>{w++;return eGs(k,x)&&l.l$<=w&&w<=l.G$})}).map(u=>{var w=t.tb(u);const x=h.NAr(w.ia),y=__c.Sfe(d.vm,x),z=k.Cwa(w.ia);return dQs(b3s,{...a,page:w,tPn:z.ZPk,p$r:z.Dzn,hT:x,qao:y,vba:!Hc.G8,key:`${d.timing.Hs?"v2":"v1"}-${u.id}`})});return dV("div",{ref:f,className:CV("nXWFCA",{o9_1eQ:!q}),onWheel:q?void 0:r,style:{maxHeight:q?void 0:e.iGc,paddingLeft:Y2s,marginLeft:-Y2s,zIndex:1},children:g})}),xIs=fV(function(a){return a.store.open?dV(__c.LC,{xn:a.xn,
itemSizes:a.Lw.Shl,children:b=>b?dV(c3s,{...a,Tke:b}):null}):null});var XIs=class{get Hdn(){return!this.store.timing.Hs}get e8c(){return this.Lw.jHc}Ovc(a,b){a.draft||this.jd.seek(b/1E6)}sia(a,b,c,d){this.jd.stop();this.eig=this.jd.configure({Ei:[c,d].filter(ub)});this.jd.P1e();aJs(this.jd,{xEm:!0});a&&this.zg(b,c,d)}Jna(){this.jd.stop();bJs(this.jd);this.eig&&(this.eig(),this.eig=void 0,this.jd.pZe())}zg(a,b,c){var d,e,f;this.jd.stop();const g=this.k2b.get(),h=g==="single"||((d=this.selection.La)===null||d===void 0?void 0:d.type)!=="elements"||((e=this.selection.La)===
null||e===void 0?void 0:e.isEmpty)||((f=this.selection.La)===null||f===void 0?void 0:f.container.page)!==a;d=Ff(this.document).tb(a);if(h)c?(d.Sf(c),this.selection.Il(d.Sf(c),b)):this.selection.Il(d,b);else if(g==="command"||g==="shift")b=c||b,this.selection.mc(a,b)?this.selection.w9c(a,b):this.selection.Qdd(d,b)}T0f(a,b,c){const d=this.V.sb("toggle_expanded_elements"),e=this.store;if(c=c!==null&&c!==void 0?c:b.type==="group"?b:void 0)e.e_d.delete(c)||e.e_d.add(c),this.zg(a,c);const f=c===b?"expand":
"collapse";d.ne({qx:({Ii:g})=>this.P.track(JIs,{action:f,Rb:g()})})}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t){this.document=a;this.store=b;this.qd=c;this.jd=d;this.Lw=e;this.iJa=f;this.selection=g;this.zGa=h;this.jJc=k;this.k2b=l;this.Ma=m;this.P=p;this.TOb=q;this.V=r;this.ii=t;this.NAr=u=>this.store.timing.Hs?Infinity:this.qd.tb(u);this.kjr=LV((u,w)=>{const x=this.Ma;w=Ff(this.document).tb(w);return x.mode<40||this.iJa.Wq({element:u,container:w})});this.Xai=u=>{u=Am.mI(u);if(u.length===1)return this.qd.aak(u[0])};
this.hwk=u=>u.type!=="group";this.ZLs=LV((u,w)=>u.type==="group"||!!w)}};var d3s=parseInt("32px",10)||32,WIs=class{static G(a){O(a,{JHk:mV,iGc:mV,scrollHeight:mV})}get rowHeight(){return d3s}get JHk(){if(this.Qtg.timing.Hs){const a=this.viewport.mh;return a.type!=="fixed-page"?0:this.jJc(a.ia).dec}return this.Ia.pages.reduce((a,b)=>{if(b.type!=="fixed")return a;b=this.jJc(b);return Math.max(a,b.dec)},0)}get PAr(){return this.YSj.get()?Infinity:(this.ii.get()?2.5:4.5)*this.rowHeight}get iGc(){return this.Qtg.open?Math.min(this.PAr,this.scrollHeight):0}get scrollHeight(){return Math.max(this.JHk,
this.Qtg.timing.Hs?1:0)*this.rowHeight}QNd(a){return a/1E6*this.OUa.JBa}A4k(a){return a/this.OUa.JBa*1E6}constructor(a,b,c,d,e,f,g){this.viewport=a;this.Ia=b;this.Qtg=c;this.OUa=d;this.jJc=e;this.ii=f;this.YSj=g;this.scrollWidth=(WIs.G(this),EV(h=>{h=this.jJc(h);return this.QNd(h.axa)}))}};var UIs=class{static G(a){O(a,{_open:yV.ref,e_d:yV.shallow,Zze:yV.ref,twa:yV.ref,yAa:mV,vm:mV({equals:lV.shallow}),DXj:mV,$jh:mV,open:mV,sBm:mV})}get yAa(){if(this.selection.La){var a=this.selection.La.inner,b=this.selection.La.zg;return(a===null||a===void 0?void 0:a.type)!=="group"||a.group.type!=="group"||this.e_d.has(a.group)?b:a.group}}get vm(){var a,b;return(b=(a=this.selection.La)===null||a===void 0?void 0:a.elements)!==null&&b!==void 0?b:[]}get DXj(){return this.twa&&this.twa.type==="fixed"?
this.rVm(this.twa):[]}get $jh(){var a,b;return!!this.twa&&((a=this.selection.La)===null||a===void 0?void 0:a.type)==="elements"&&((b=this.selection.La.inner)===null||b===void 0?void 0:b.type)!=="sheet-cell-media"&&!this.xhn(this.twa)&&this.DXj.length>0&&!this.timing.Hs}get open(){if(this.timing.Hs)return!0;const a=this.Lw.isLinear||!this.$4d.get();return this._open&&this.sBm&&a}get sBm(){return this.document.pages.some(a=>a.type==="fixed"&&!!this.x_h(a).length)}constructor(a,b,c,d,e,f,g,h,k){this.document=
a;this.$4d=b;this.ii=c;this.qd=d;this.selection=e;this.Lw=f;this.gb=g;this.timing=h;this.RXr=k;this._open=(UIs.G(this),!1);this.e_d=new Set;this.x2n=()=>{this.Zze=this.twa=void 0;this.e_d.clear()};this.xqq=EV(l=>{const m=this.Zze;if(l===this.twa&&m)return l.elements.filter(r=>m.has(r));const p=l.elements.filter(r=>r.km==null);if(this.timing.Hs)return p;const q=this.qd.tb(l);return p.filter(r=>FIs({element:r},q))});this.x_h=EV(l=>{switch(l.type){case "fixed":if(this.xhn(l))return[];break;case "concatenated-fixed":case "responsive":return[];
default:throw new v(l);}return this.xqq(l).flatMap(m=>m.type==="group"&&m.xd==null&&this.e_d.has(m)?m.nb.map(p=>({element:p,parent:m})):[{element:m}])});this.rVm=EV(l=>this.x_h(l).map(m=>m.element));this.yXj=EV(l=>{const m=this.qd.tb(l),p=this.x_h(l);switch(l.type){case "fixed":return p.map(({element:q,parent:r})=>{const {startUs:t,durationUs:u}=pXa(q,l,m,r);return{timing:{startUs:t,durationUs:u,endUs:t+u},parent:r,element:q}});case "concatenated-fixed":case "responsive":return[];default:throw new v(l);
}});LV((l,m)=>this.yXj(l).find(p=>p.element===m));this.xhn=EV(l=>{l=this.gb.Zk(l);return!!zg(l)});eV(()=>{const l=e.La;if(!l)return{};const m=l.Yz;if(!m)return{};switch(m.type){case "responsive-page":case "concatenated-fixed-page":return{};case "fixed-page":break;default:throw new v(m);}return{hp:m.page,vm:l.elements,Hs:h.Hs}},({hp:l,vm:m,Hs:p})=>{if(l==null&&m==null&&this.DXj.length===0)this.x2n();else if(p)this.Zze=void 0;else if(m!=null||l!==this.twa)if(!l)this.Zze=new Set(m),this.twa=void 0;else if(m===
null||m===void 0||!m.every(r=>{var t;return(t=this.Zze)===null||t===void 0?void 0:t.has(r)}))if(this.twa=l,l.type!=="fixed")this.Zze=new Set;else{var q=this.qd.tb(l);l=l.elements.filter(r=>((m===null||m===void 0?void 0:m.includes(r))||FIs({element:r},q))&&r.km==null);this.Zze=new Set(l)}},{fireImmediately:!0});Sqs(()=>!f.UJ||this._open,()=>this._open=!0)}};var VIs=class{static G(a){O(a,{wfe:yV.ref})}sia(a){var b,c,d;(c=this.Lk)===null||c===void 0||(b=c.nN)===null||b===void 0||b.call(c,new hp);const e=((d=this.lNd)===null||d===void 0?0:d.isRecording())?this.lNd:this.V.sb("trim",{Fb:{name:"element_timing.trim",type:a,performance:{jT:!0}}});setTimeout(()=>e.addEvent("trim_start"));this.lNd=e}IBa(a,b){a.startUs=b}CFa(a,b){a.endUs=b}Jna(a,b,c,d,e,f){a=__c.Bm(a,f);d&&(GIs(d,c,a,f),d.startUs&&(a.startUs=Math.max(a.startUs-d.startUs,0),a.endUs=Math.max(a.endUs-
d.startUs,a.startUs)));d=c.durationUs||f-(c.startUs||0);const g=a.endUs-a.startUs;if(c.type==="group")for(var h of c.nb){var k=Math.min(h.durationUs||Infinity,d-(h.startUs||0));const l=g-k;for(const m of Am.mI(h))sKe({qd:this.qd,SNc:k,fill:m,IWd:l,direction:b,gje:!1});h.startUs=void 0;h.durationUs=void 0}else{h=g-d;for(k of Am.mI(c))sKe({qd:this.qd,SNc:d,fill:k,IWd:h,direction:b,gje:!1})}c.startUs=a.startUs||void 0;__c.oKe(c,f,a);HIs(this,e,f)}constructor(a,b,c,d,e){this.jd=a;this.qd=b;this.P=c;this.V=
d;this.Lk=e;this.lNd=(VIs.G(this),void 0);this.wfe=0}};var RIs=fV(({url:a})=>dV("div",{className:"fk73VQ",style:{backgroundImage:`url(${a})`}}));var SIs=fV(function({fill:a,xJb:b,Cf:c,width:d,height:e,kja:f,T5i:g}){const h=zV(()=>fV(({Nla:l})=>dV(__c.rZh,{filter:c.zwa(a),Y_:c.Y_(a),Nla:l})),[c,a]),k=zV(()=>g(a,b),[a,b,g]);iV(()=>{oV(()=>{k.update(d,e,f)})},[d,e,f,k]);return k.dV?dV("div",{className:"_6zdK6g",children:dV("div",{className:"SFFnlw",style:{right:k.XZe},children:dV(e3s,{Zcf:h,JPq:k})})}):null}),e3s=fV(function({Zcf:a,JPq:b}){const c=b.frameWidth;return b.KSm.map(({key:d,url:e,qt:f,IK:g,CIc:h,BIc:k,E_a:l,D_a:m})=>dV("div",{className:"Z3AqOw",
style:{width:c},children:dV(a,{Nla:{url:e,qt:f,IK:g,CIc:h,BIc:k,frameWidth:l,frameHeight:m}})},d))});var OIs=fV(({element:a,page:b,KE:c,e8c:d})=>{a=a.OR?__c.YWb(c,b,a):a.text.Ya;return dV(P,{weight:"bold",className:CV("wdYnGg",{Jxa4Mw:d}),alignment:"center",children:a})}),PIs=LV(a=>a.nb.every(b=>b.type==="text")),QIs=parseInt("22px",10)||26;var hJs=fV(({Lgc:a,store:b,L:c,nph:{height:d,top:e}})=>{const f=jV(null);iV(()=>c.init(),[c]);iV(()=>eV(()=>b.position,h=>{const k=f.current;k&&(k.style.transform=`translateX(${h}px)`)}),[f,b]);const g=hV(()=>{a&&f.current&&c.hide()},[a,c]);return dV("div",{ref:f,className:CV("PVPWdQ",{Q4Irjw:a,JE0jkg:b.hidden}),onTransitionEnd:g,children:dV("div",{className:"y8k_pA",style:{height:d.get()-e,top:e}})})});var f3s=parseInt("12px",10)||12,eJs=class{static G(a){O(a,{hidden:yV.ref,Lgc:yV.ref,position:yV.ref})}constructor(){this.hidden=(eJs.G(this),!1);this.Lgc=!1}},fJs=class{static G(a){O(a,{hide:gV.bound})}init(){return eV(()=>this.G0c.x,a=>{if(a==null)this.store.Lgc=!0,this.store.position=void 0;else{this.store.Lgc=!1;this.store.position=a;var b=this.currentTime.get();b=this.Lw.LIa(b*1E6);Math.abs(a-b)<=f3s?this.store.hidden=!0:(b=(b=this.G0c.currentNode)&&this.$nr(b),a=this.timing.Hs?!0:!!this.Lw.Qgk(a),
this.store.Lgc=!!b||!a,this.store.hidden=!a)}})}hide(){this.store.hidden=!0}constructor(a,b,c,d,e,f){this.store=a;this.Lw=b;this.G0c=c;this.currentTime=d;this.$nr=e;this.timing=f;fJs.G(this)}};var g3s=__webpack_require__.p+"images/f95f17d681b98bd710922cc9a3554ed0.svg";var h3s,i3s,j3s,k3s,l3s,m3s,n3s=parseInt("8px",10),o3s;
new (h3s=class extends JV{constructor(){super(o3s);j3s()}},(()=>{class a extends(k3s=HV){static G(b){O(b,{Ojb:mV,suo:mV})}componentDidMount(){Kb(this,[eV(()=>({currentTime:this.props.currentTime.get(),uHh:this.props.uHh.get()}),()=>this.scrollTimeline(),{scheduler:requestAnimationFrame,equals:lV.structural})])}get Ojb(){const b=this.props.uHh;return this.props.Lw.LIa(this.props.currentTime.get()*1E6,{wgc:b.get()})}get suo(){var b=this.props.nph;const c=b.height;b=b.top;return{height:mV(()=>c.get()+
n3s),top:b}}render(){const b=this.props.RGj,c=this.props.rEo,d=this.props.hidden,e=this.suo,f=this.props.nph.height.get();return dV("div",{ref:b,className:CV("HktVqg",{_84KnnQ:c,JE0jkg:d}),style:{left:`${__c.bc().width/2}px`,height:f},children:dV(p3s,{className:"_hDk6Q",...e})})}constructor(...b){super(...b);this.scrollTimeline=(o3s.G(this),()=>{this.props.scrolling||this.props.Xo.scrollTo({left:this.Ojb,behavior:this.props.playing?void 0:"smooth"})})}}({c:[o3s,j3s]}=KV(a,[],[Ob],k3s))})(),h3s);var q3s;
new (i3s=class extends JV{constructor(){super(q3s);l3s()}},(()=>{class a extends(m3s=HV){static G(b){O(b,{WIf:yV.ref,UMe:yV.ref,Ojb:mV,vMe:mV,onDragStart:gV,onDrag:gV,onDragEnd:gV})}componentDidMount(){this.rhd.current&&(this.j9e=this.rhd.current.ckb);Kb(this,[eV(()=>({playing:this.props.playing,vMe:this.vMe}),Hb((b,c)=>{c!==null&&c!==void 0&&c.playing||!b.playing?this.oil&&b.playing&&b.vMe&&this.til():(this.oil=!0,b.vMe&&this.til())})),eV(()=>this.props.playing&&this.props.Xo.scrollLeft,()=>this.oil=
!this.vMe),Ats(()=>{if(this.UMe){var b=wo(this.props.currentTime.get(),"detailed");oV(()=>{this.currentTime.set(b);this.j9e()})}}),this.Gjg,this.bPh])}componentWillUnmount(){var b;(b=this.rCm)===null||b===void 0||b.call(this)}get Ojb(){var b=this.props.Lw,c=this.props.uHh;if(this.WIf!=null)return this.WIf;c=b.LIa(this.props.currentTime.get()*1E6,{wgc:c.get(),mvb:this.props.mvb.get()});const d=b.YQg;b=b.Qgk(c);return d&&!b?0:c}j9e(){}Qfm(b){return this.props.Lw.uGg(this.OXd-b,{mvb:this.props.mvb.get()})/
1E6}SPp(b){const c=this.props.Lw,d=this.OXd-b;if((b=c.Q1c.find(({width:e,offsetWidth:f})=>d<=f+e))&&!DV(c,b.page))return Math.min(Math.max(d,b.offsetWidth),c.$Ld)}get vMe(){const b=this.props.Xo.scrollLeft,c=this.props.Lw.Bzo;return c==null?!1:this.Ojb<b||this.Ojb>b+c}render(){var b=this.props.nph;const c=b.top;b=b.height;return kV("div",{ref:this.props.RGj,className:CV("XxN1Zw",{JE0jkg:this.props.hidden,_84KnnQ:this.props.rEo}),style:{transform:`translateX(${this.Ojb}px)`},children:[dV("div",{className:"DkIUnw",
children:dV(H_s,{isOpen:this.UMe,ref:this.rhd,children:this.currentTime})}),dV("div",{className:"aORW0w",onPointerDown:this.onDragStart,onClick:this.onClick,children:dV("img",{className:"tlvoag",src:g3s,alt:"",draggable:!1})}),dV(p3s,{top:c,height:b,className:"y8k_pA"})]})}constructor(...b){super(...b);this.overlay=(q3s.G(this),void 0);this.currentTime=yV.box("");this.rhd=IV();this.tCm=void 0;this.$Nb=this.Oui=this.n7n=this.OXd=0;this.WIf=void 0;this.UMe=!1;this.oil=!0;this.til=()=>{const c=this.props.Xo,
d=c.offsetWidth;d!=null&&c.scrollTo({left:this.Ojb-(d-200)/2,behavior:"smooth"})};this.onDragStart=c=>{const d=this.props.onDragStart,e=this.props.Xo;this.oKj();this.tCm=c.clientX;this.OXd=this.Ojb;this.n7n=e.scrollLeft;this.UMe=!0;d===null||d===void 0||d(c.nativeEvent);document.addEventListener("pointermove",this.onDrag);document.addEventListener("pointerup",this.onDragEnd);this.rCm=eV(()=>e.scrollLeft,this.CYr)};this.oKj=()=>{this.overlay=document.createElement("div");this.overlay.className="cG5xBQ";
document.body.appendChild(this.overlay)};this.bPh=()=>{this.overlay&&document.body.removeChild(this.overlay);this.overlay=void 0};this.onClick=c=>{c.stopPropagation();c.nativeEvent.stopImmediatePropagation()};this.CYr=()=>{this.$Nb=this.n7n-this.props.Xo.scrollLeft;const c=this.Qfm(this.Oui+this.$Nb);this.props.Ovc(c)};this.onDrag=c=>{this.Oui=(this.tCm||c.clientX)-c.clientX;var d=this.Oui+this.$Nb;const e=this.SPp(d);d=this.Qfm(d);this.props.onDrag&&this.props.onDrag(c);e?(this.WIf=e,this.UMe=!1):
(this.WIf=void 0,this.props.Ovc(d),this.UMe=!0)};this.onDragEnd=()=>{var c,d;this.bPh();this.$Nb=this.Oui=0;this.WIf=void 0;this.UMe=!1;(c=(d=this.props).onDragEnd)===null||c===void 0||c.call(d);this.vMe&&this.til();this.Gjg()};this.Gjg=()=>{var c;document.removeEventListener("pointermove",this.onDrag);document.removeEventListener("pointerup",this.onDragEnd);(c=this.rCm)===null||c===void 0||c.call(this)}}}({c:[q3s,l3s]}=KV(a,[],[Ob],m3s))})(),i3s);
var p3s=fV(a=>dV("div",{className:a.className,style:{top:a.top,height:a.height.get()-a.top}})),r3s=V_s(q3s),dJs=a=>a.Eo?dV(o3s,{...a}):dV(r3s,{...a});var jJs=class{static G(a){O(a,{L2i:yV.ref,d8i:yV.ref,g0i:yV.ref,qmk:yV.ref,hfo:gV.bound})}hfo(a){this.qmk=a}constructor(a,b,c){this.Lw=a;this.uA=b;this.Ez=c;this.L2i=(jJs.G(this),0);this.g0i=this.d8i=0;this.qmk=!1;this.Ew=[eV(()=>this.Lw.xE,d=>{this.d8i>=2||d||this.d8i++}),eV(()=>this.Lw.xki,d=>{this.g0i>=2||d||this.g0i++}),eV(()=>this.uA.wMe,d=>{this.L2i>=2||d||this.L2i++}),Sqs(()=>{const d=this.L2i>=2||this.g0i>=2||this.d8i>=2;return this.qmk&&d},()=>{var d,e,f;(d=(e=this.Ez).nro)===null||d===void 0||
d.call(e);(f=this.Ew)===null||f===void 0||f.forEach(g=>g());this.Ew=void 0})]}};var s3s=parseInt("2px",10)||4,t3s=FV(({offset:a})=>dV("div",{className:"iFVm7g",style:{left:a-s3s/2}})),u3s=FV(({offset:a,$Pk:b})=>dV("div",{className:"iFVm7g",style:{left:a-s3s/2,width:b-a}})),v3s=FV(({offset:a,label:b})=>dV("div",{className:"_8ONx2g",style:{left:a},children:dV(P,{size:"small",tone:"tertiary",children:b})})),w3s=fV(({store:a})=>a.TBm.map((b,c)=>dV(t3s,{...b},`dot-${c}`))),x3s=fV(({store:a})=>a.rzo.map((b,c)=>dV(v3s,{...b},`time-${c}`))),y3s=fV(({store:a})=>a.Ukn.map((b,c)=>dV(u3s,
{...b},`line-${c}`))),nJs=fV(({store:a,Bw:b})=>dV("div",{className:"aPu08w",style:{paddingLeft:b.geb,marginLeft:-b.geb},children:kV("div",{className:"vYMgIg",children:[dV(w3s,{store:a}),dV(x3s,{store:a}),dV(y3s,{store:a})]})}));var z3s=[{XU:{from:0,to:.15},cPb:3E7,WMb:4},{XU:{from:.15,to:.2},cPb:3E7,WMb:3},{XU:{from:.2,to:.3},cPb:15E6,WMb:2},{XU:{from:.3,to:.35},cPb:15E6,WMb:3},{XU:{from:.35,to:.45},cPb:15E6,WMb:4},{XU:{from:.45,to:.55},cPb:1E7,WMb:3},{XU:{from:.55,to:.75},cPb:1E7,WMb:4},{XU:{from:.75,to:1.15},cPb:5E6,WMb:3},{XU:{from:1.15,to:1.45},cPb:5E6,WMb:4},{XU:{from:1.45,to:1.55},cPb:4E6,WMb:3},{XU:{from:1.55,to:1.85},cPb:4E6,WMb:4},{XU:{from:1.85,to:3.05},cPb:2E6,WMb:3},{XU:{from:3.05,to:3.75},cPb:2E6,WMb:4},{XU:{from:3.75,
to:5},cPb:1E6,WMb:3}],mJs=class{static G(a){O(a,{rOd:mV,Rch:mV,K6n:mV({equals:lV.shallow}),kKm:mV,FBk:mV,hMm:mV,vjl:mV.struct,MEl:mV.struct,marks:mV,Ukn:mV({equals:rk(lV.shallow)}),rzo:mV({equals:rk(lV.shallow)}),TBm:mV({equals:rk(lV.shallow)})})}get rOd(){return AV.WBq?this.Bw.rOd:{start:-Infinity,end:Infinity}}get Rch(){const a=this.qG.XU;return z3s.find(({XU:b})=>b.from<=a&&a<b.to)||z3s.at(-1)}get K6n(){const a=[],b=this.rOd.start,c=this.rOd.end;for(let d=0;d<this.Bw.B7b.length;d++){const e=this.Bw.B7b[d];
if(!(e.offsetWidth+e.width<b)){if(e.offsetWidth>c)break;a.push(e)}}return a}get kKm(){const a=this.Bw.B7b;for(let b=a.length-1;b>-1;b--){const {Pda:c,durationUs:d,page:e}=a[b];if(DV(this.Bw,e))return c+d}return 0}get FBk(){return n(this.Bw.B7b.at(-1))}get hMm(){var a;const b=(a=this.Q4j.get())!==null&&a!==void 0?a:0;a=this.Rch.cPb/(this.Rch.WMb+1);return Math.ceil(b/a)*a}get vjl(){var a=c=>c/this.Bw.JBa*1E6;const b=a(this.FBk.offsetWidth+this.FBk.width);a=Math.max(a(this.Xo.clientWidth-this.Bw.geb-
40)-b,a(this.Bw.ibi),this.hMm-b);return{jbg:b,U4k:this.kKm,durationUs:a,x6i:!0}}get MEl(){const a=[],b=e=>e/this.Bw.JBa*1E6,c=this.K6n.map(({page:e,offsetWidth:f,Pda:g,durationUs:h})=>({jbg:b(f),U4k:g,durationUs:h,x6i:DV(this.Bw,e)})),d=b(this.rOd.end);this.vjl.jbg<d&&c.push(this.vjl);c.forEach(e=>{const f=a.at(-1);f?f.x6i!==e.x6i?a.push(e):Math.abs(f.jbg+f.durationUs-e.jbg)<1E-4?f.durationUs+=e.durationUs:a.push(e):a.push(e)});return a}get marks(){var a;const b=[],c=[],d=[],e=this.Bw.JBa,f=this.rOd.start,
g=this.rOd.end,h=this.Rch.cPb,k=h/(this.Rch.WMb+1);var l,m=-((l=(a=this.MEl[0])===null||a===void 0?void 0:a.U4k)!==null&&l!==void 0?l:0)%k;for(const w of this.MEl){a=w.jbg;l=w.durationUs;const x=w.U4k;if(w.x6i){if(p){p.$Pk=Math.min(p.$Pk,a*e-10);var p=void 0}for(;m<l+1;m+=k){const y=Math.round((a+m)/1E6*e);if(y<f)continue;if(y>g)break;const z=(x+m)/1E6;Math.round(x+m)%h===0?b.push({type:"time",offset:y,second:z,label:wo(Math.round(z*100)/100,"shorter")}):c.push({type:"dot",offset:y,second:z})}m=k-
(x+l)%k}else{var q,r;p=x/1E6;l=(a+l)/1E6;var t,u;a=Math.max(a/1E6*e,((t=(q=c.at(-1))===null||q===void 0?void 0:q.offset)!==null&&t!==void 0?t:0)+10,((u=(r=b.at(-1))===null||r===void 0?void 0:r.offset)!==null&&u!==void 0?u:0)+10);p={type:"line",second:p,offset:a,$Pk:l*e};d.push(p)}}return{line:d,time:b,dot:c}}get Ukn(){return this.marks.line}get rzo(){return this.marks.time}get TBm(){return this.marks.dot}constructor(a,b,c,d){this.Bw=a;this.qG=b;this.Xo=c;this.Q4j=d;mJs.G(this)}};var lJs=parseInt("24px",10)||24;var XLs=({lN:a,config:b,Df:c,XP:d,U4i:e=!0})=>{const f=b.Ifg,g=c.Lkb,h=()=>d.clear();c=fV(()=>dV(g,{navigation:d,open:!!d.screen,oa:h}));const k=(m,p)=>{d.Xg({df:()=>dV(p,{}),options:{rg:m}})},l=fV(({fill:m})=>{const [p,q]=nV({pL:!1,Yxk:!1,E2e:!1}),r=jV(void 0);iV(()=>()=>{r.current&&clearTimeout(r.current)},[]);const t=hV(()=>{r.current&&(clearTimeout(r.current),r.current=void 0);p.E2e||q(K=>({...K,pL:!0}))},[p.E2e]),u=hV(()=>{r.current||p.E2e||(r.current=setTimeout(()=>{q(K=>({...K,pL:!1}));r.current=
void 0},250))},[p.E2e]),w=hV(K=>{q(N=>K?{...N,Yxk:!0,E2e:!0}:{...N,Yxk:!1,E2e:!1,pL:!1})},[]),x=Vb()||p.pL||p.E2e||p.Yxk,y=[f.Dlj].filter(ub),z=y.length>0,A=b.jle;if(!z&&!A)return null;let B=[],D=null;var G=!1;if(z){var I;D=y[0];G=(D===null||D===void 0?void 0:D.isDisabled(m))||!1;B=y.map(K=>({get label(){return K.getLabel(m)},get disabled(){return K.isDisabled(m)||!a.hN},onClick:()=>K.onClick(m),ma:({rq:N})=>dV(K.ma,{fill:m,rq:N,Sir:K===D})}));G=!G&&(m===null||m===void 0?void 0:(I=m.transition)===
null||I===void 0?void 0:I.ref)!==void 0}return kV("div",{className:"grI1Wg",onMouseEnter:t,onMouseLeave:u,children:[x&&A&&dV("div",{className:"e3804w",children:dV(A,{size:"s",shape:"round",fill:m,vWk:w})}),x&&z&&dV("div",{className:"e3804w",children:dV(k_s,{hidden:!1,xmo:G,ii:!1,label:L("v4jmbQ"),BGn:k,items:B,FPj:0,rq:p.pL,U4i:e})})]})});return{Yxh:c,zle:l}};var LJs=fV(({connectDropTarget:a,store:b,children:c})=>{const d=hV(e=>{b.ctg=e!==null&&e!==void 0?e:void 0},[b]);return a(dV("div",{ref:d,className:CV("rFk8Ow",{buvpww:b.wUb}),style:{minWidth:b.minWidth},children:c}))});var wJs="image/jpeg image/png image/heic image/heif image/webp image/svg+xml video/mp4 video/quicktime video/x-m4v video/webm video/x-matroska video/avi video/x-msvideo video/mpeg".split(" "),KJs=class{static G(a){O(a,{onDragEnter:gV.bound,onDragOver:gV.bound,onDragLeave:gV.bound,onDrop:gV.bound})}wUb(){this.store.wUb=!0}XSj(){IJs(this.store);this.store.wUb=!1;this.Hga.NPg=!1}onDragEnter(a){const b=this.store.ctg;if(qJs(this,a)&&b){this.store.Cde=vJs(this,a);this.store.Zwc={top:this.Xo.scrollTop,
left:this.Xo.scrollLeft};var {top:c,left:d}=b.getBoundingClientRect();this.store.zTc={top:c,left:d};this.Hga.NPg=!0}}onDragOver(a){this.store.CTa={x:a.hy.x,y:a.hy.y};a.start?this.store.D6g=a.start.CCa.x:this.Hga.lze&&(this.store.D6g=this.Hga.lze.x)}onDragLeave(){this.Hga.NPg=!1;IJs(this.store)}async onDrop(a,b){const c=this.kFa.scenes[b.index];switch(a.type){case "timelineItems":if(a.uh.length){var d=a.uh.map(f=>this.kFa.R5h(f)).filter(ub);RJs(this.$wa,d,c);break}if(!a.elements.every(f=>rJs(this,
f)))throw Error("Received unsupported elements on drop");const e=await TJs(this.$wa,a.elements);oV(()=>{if(b.type==="replace"){__c.ua(e.length,1);var f=this.$wa,g,h=c.durationUs,k=f.page.Jc.replace(c.fill,e[0]);f=f.qd.zK(k);h=k.video.ref?Math.min(f,h):h;f!==h&&(k.durationUs=h,k=k.video.ref)&&(f=((g=k.trim)===null||g===void 0?void 0:g.startUs)||0,k.trim={startUs:f,endUs:f+h})}else this.$wa.page.Jc.uda(c===null||c===void 0?void 0:c.fill,e);g=this.kFa.page;for(const l of a.elements)g.ia.elements.has(l)&&
g.ia.elements.delete(l)});break;case "video":return b.type==="replace"?xJs(this.$wa,c,a.video):yJs(this.$wa,a.video,c,"object_panel_drag");case "searchMedia":return d=Lif(a.media),b.type==="replace"?zJs(this.$wa,c,d):AJs(this.$wa,d,c,"object_panel_drag");case "file":BJs(this,a.files,b);break;default:throw new v(a);}}constructor(a,b,c,d,e,f,g,h,k){this.Pa=a;this.$b=b;this.Xo=c;this.store=d;this.hdh=e;this.Hga=f;this.kFa=g;this.$wa=h;this.hh=k;this.j4p=(KJs.G(this),l=>{l=n(this.kFa.R5h(l));this.$wa.Xyb(l)||
VJs(this.$wa,l);this.store.Cde=this.kFa.I0e;return{page:this.kFa.page,elements:[],uh:[l.fill]}})}};var pKs=class{LKj(a){const b=n(a.video.ref),c=this.qd;return HJs({type:0,key:this.generateKey(),fill:a,K7:b,get trim(){return __c.Bm(b.trim,this.hT)},get durationUs(){return c.zK(this.fill)},get hT(){return c.aak(b)||c.zK(this.fill)||5E6}},{trim:mV,durationUs:mV,hT:mV})}generateKey(){return this.tJr++}constructor(a){this.qd=a;this.tJr=0}};var JJs=class{static G(a){O(a,{Zwc:yV.struct,zTc:yV.ref,CTa:yV.struct,D6g:yV.ref,Cde:yV.ref,wUb:yV.ref,rRa:mV,RFd:mV,Bsd:mV,$Nb:mV,UAd:mV,sti:mV,m2m:mV,minWidth:mV,gMg:mV,DIf:mV,v2m:mV,bWj:mV})}get rRa(){if(this.RFd){var {x:a,y:b}=this.RFd;this.D6g&&(a-=this.D6g);return{x:Math.max(0,a),y:b}}}get RFd(){if(this.CTa&&this.Bsd)return{x:this.CTa.x-this.Bsd.x,y:this.CTa.y-this.Bsd.y}}get Bsd(){if(this.zTc)return{x:this.zTc.left-this.$Nb.left,y:this.zTc.top-this.$Nb.top}}get $Nb(){return this.Zwc?{top:this.Xo.scrollTop-
this.Zwc.top,left:this.Xo.scrollLeft-this.Zwc.left}:{top:0,left:0}}get DEc(){return this.kFa.scenes}get UAd(){if(this.Hga.JW)return this.DEc.filter(a=>this.Hga.tdn(a.fill))}get sti(){var a;return(a=this.Cde)===null||a===void 0?void 0:a.filter(b=>{var c;return b.type===4||!((c=this.UAd)===null||c===void 0?0:c.includes(b))})}get m2m(){var a;return!((a=this.sti)===null||a===void 0||!a.length)}get minWidth(){var a;const b=this.Avc.Nik(this.DEc),c=((a=this.sti)===null||a===void 0?0:a.length)?this.Avc.Nik(this.sti):
0;return b+c+50}get gMg(){var a;const b=(a=this.rRa)===null||a===void 0?void 0:a.x;if(b!=null){var c=this.Avc.LWm(this.DEc),d=this.Avc.Nik(this.DEc),e=0;a="insertBefore";b>=d?e=this.DEc.length:(e=c.findIndex(f=>f>b),e=e<0?c.length-1:Math.max(0,e-1),c=c[e],d=this.Avc.dyb(this.DEc[e]),c=(b-c)/d,this.m2m?c>.2&&c<.8?a="replace":c>=.8&&e++:c>.5&&e++);return{index:e,type:a}}}get DIf(){var a,b;if(this.Hga.Vqc&&((a=this.UAd)===null||a===void 0?0:a.length))return this.DEc.filter(d=>{var e;return!((e=this.UAd)===
null||e===void 0?0:e.includes(d))});a=this.gMg;if(a==null||a.type==="replace")return this.DEc;var c=a.index;a=this.DEc.slice(0,c);c=this.DEc.slice(c);if((b=this.UAd)===null||b===void 0?0:b.length)a=a.filter(d=>{var e;return!((e=this.UAd)===null||e===void 0?0:e.includes(d))}),c=c.filter(d=>{var e;return!((e=this.UAd)===null||e===void 0?0:e.includes(d))});return[...a,...(this.Cde||[]),...c]}get v2m(){var a;return(a=this.DIf)!==null&&a!==void 0&&a.length&&this.kFa.scenes!==this.DIf?this.kFa.scenes.length!==
this.DIf.length?!0:!this.kFa.scenes.every((b,c)=>{var d;return b===((d=this.DIf)===null||d===void 0?void 0:d[c])}):!1}get bWj(){var a;const b=this.gMg;if((b===null||b===void 0?void 0:b.type)==="replace")return[this.DEc[b.index]];if(this.Cde)return this.Cde;if(((a=this.UAd)===null||a===void 0?0:a.length)&&!this.Hga.Vqc)return this.UAd}constructor(a,b,c,d){this.Xo=a;this.kFa=b;this.Hga=c;this.Avc=d;this.ctg=(JJs.G(this),void 0);this.wUb=!1;EV(e=>{var f;return!((f=this.Cde)===null||f===void 0||!f.includes(e))});
this.gUq=EV(e=>this.Avc.r$h(this.DIf,e))}};var MJs=["video","searchMedia","file","timelineItems"];var OJs=class{static G(a){O(a,{KKk:yV.ref,VHk:yV.ref,Nri:yV.ref,CGf:yV.ref,fKo:gV,$Io:gV})}fKo(a,b){this.Nri=Math.min(a,this.Nri);this.CGf=Math.max(b,this.CGf);this.KKk=a;this.VHk=b}$Io(a){this.CGf=Math.max(a,this.CGf)}constructor(){this.KKk=(OJs.G(this),0);this.VHk=0;this.Nri=Number.MAX_VALUE;this.CGf=20;this.RYq=EV(a=>({isVisible:a>=this.KKk&&a<=this.VHk,NHs:a>=this.Nri&&a<=this.CGf}))}};var rKs=class{static G(a){O(a,{N4g:mV,fFe:mV({equals:lV.structural})})}get page(){return this.store.page.ia}get Pe(){return this.store.page}get scenes(){return this.store.scenes}get I0e(){return this.store.I0e}get N4g(){return xg(4,this.store.Hg)}get fFe(){return Vj({top:0,left:0,width:this.N4g.width,height:this.N4g.height})}constructor(a,b,c,d,e,f,g,h,k){this.store=a;this.qd=b;this.oc=c;this.yl=d;this.Pa=e;this.$b=f;this.og=g;this.k2b=h;this.uA=k;this.Xyb=(rKs.G(this),EV(l=>{var m;return!((m=this.store.hm)===
null||m===void 0||!m.mc(this.page,l.fill))}))}},UJs=class{constructor(a,b,c){this.Vr=a;this.fill=b;this.Fq=c;this.type=0;this.allow={background:!0,NUd:!0};this.bleed=0}};var qKs=class{static G(a){O(a,{Dzf:yV.ref,scenes:mV,I0e:mV({equals:lV.shallow}),ura:mV({equals:lV.shallow}),hm:mV})}get Hg(){return xg(4,this.gb.Zk(this.page.ia))}get scenes(){return this.page.ia.Jc.map(this.H8p)}get I0e(){const a=this.hm;return a?this.scenes.filter(b=>a.mc(this.page.ia,b.fill)):[]}get ura(){return this.I0e.map(a=>a.fill)}get hm(){var a;const b=(a=this.og.La)===null||a===void 0?void 0:a.inner;if((b===null||b===void 0?void 0:b.container.type)!=="section-marker"&&(b===null||b===void 0?
void 0:b.type)==="background"&&b.container.ia===this.page.ia)return b}constructor(a,b,c,d,e){this.di=a;this.page=b;this.gb=c;this.hdh=d;this.og=e;this.Dzf=(qKs.G(this),void 0);this.R5h=EV(f=>this.scenes.find(g=>g.fill===f));this.Jjr=EV(f=>!!this.R5h(f));this.H8p=EV(f=>sJs(this.hdh,f))}};var bKs=fV(({scene:a,hidden:b})=>{const c=$Js(a);return dV(R,{display:"flex",flexWrap:"wrap",justifyContent:"start",alignItems:"end",position:"absolute",inset:"0",Kb:"1u",Mc:"0.5u",className:CV("D1oVlw",{_0DR3Cg:b,qtAvWg:c.textColor==="white"}),Oog:{"--5EXqpQ":c.textShadow},children:dV(P,{size:"small",weight:"bold",tone:mr,children:dV(__c.bE,{seconds:a.durationUs/1E6,format:"short"})})})});var aKs=parseInt("2px",10)||2;var tKs=class{constructor(a,b){this.J8e=a;this.Bde=b;this.dyb=EV(c=>{if(c.type===4)return this.J8e.QNd(c.durationUs);c=this.Bde.aHe(c);return this.J8e.QNd(c.durationUs)});this.AYm=EV(c=>c.map(d=>this.dyb(d)));this.Nik=EV(c=>this.AYm(c).reduce((d,e)=>d+e,0));this.LWm=EV(c=>{const d=[0];for(let e=0;e<c.length-1;++e)d.push(d[e]+this.dyb(c[e]));return d});this.r$h=LV((c,d)=>{const e=this.LWm(c);c=c.indexOf(d);return e[c]||0});this.EWq=EV(c=>{c=c.reduce((d,e)=>{const f=this.Bde.aHe(e).trim;return d+Math.max(0,
f.startUs-e.trim.startUs)},0);return this.J8e.QNd(c)})}};var dKs=fV(({JFa:a,kFa:b,$Wq:c,HYq:d,fill:e,Ikr:f,mc:g})=>{const {ryl:h,F2h:k}=d(e),[l,m]=nV(!1),[p,q]=nV(!1);iV(()=>{var r,t=((r=a.dli)===null||r===void 0?0:r.get())&&b.ura.length>0?b.ura:void 0;r=b.Dzf?b.Dzf:void 0;t=[...(t?t:[]),r];r=c(e);m(r?t.includes(r):!1);q(f(e)?!1:t===null||t===void 0?void 0:t.includes(e))},[a,b.ura,b.Dzf,e,f,c]);return kV(rV,{children:[dV(E_s,{position:"end",width:k,isVisible:p,mc:g,gVa:!1}),dV(E_s,{position:"start",width:h,isVisible:l,mc:g,gVa:!1})]})});var gKs=({color:a})=>dV("div",{className:"_1Uh6vA",style:{backgroundColor:a}});var fKs=({isPending:a=!1,zI:b=!1})=>a?dV("div",{className:"rPORHQ",children:dV(__c.uZb,{tone:"primary",background:"secondary",Icon:__c.gr,size:"small"})}):b?dV("div",{className:"rPORHQ",children:dV(__c.uZb,{tone:"critical",background:"secondary",Icon:gu,size:"small"})}):dV("div",{className:"rPORHQ"});var hKs=({gradient:a,height:b,width:c})=>dV(__c.s5g,{className:"o9ZNbg",uh:[a],height:b,width:c});var mKs=class{constructor(a){this.aHe=a;this.Zmr=EV(b=>b.some(c=>this.aHe(c).hac));this.FHp=EV(b=>b.some(c=>this.aHe(c).Wla.isVisible));this.EHp=EV(b=>b.some(c=>this.aHe(c).z9j.show))}};var lKs=class{static G(a){O(a,{sia:gV.bound,IBa:gV.bound,CFa:gV.bound,WKn:gV.bound,xqb:gV.bound,yqb:gV.bound})}sia({type:a}){var b;a!=="fullWidth"&&((b=this.uA)===null||b===void 0||b.P1e({direction:a}),this.mcb.lLb={startUs:this.scene.trim.startUs,endUs:this.scene.trim.endUs},this.mcb.ktb=a,this.mcb.cmh=this.mcb.rRa)}IBa(a){this.mcb.lLb&&(this.mcb.lLb.startUs=a-this.mcb.p_e+this.scene.trim.startUs)}CFa(a){this.mcb.lLb&&(this.mcb.lLb.endUs=a-this.mcb.p_e+this.scene.trim.startUs)}WKn(){var a;if(this.mcb.lLb&&
this.mcb.ktb){(a=this.uA)===null||a===void 0||a.pZe();a=this.mcb.lLb;a.endUs=Math.max(a.startUs+1E5,a.endUs);a=a.endUs-a.startUs;var b=this.scene.fill.video.ref;if(b){const c=this.qd.AVb(b);sKe({qd:this.qd,SNc:c,fill:b,IWd:a-c,direction:this.mcb.ktb,gje:!1});this.scene.fill.durationUs=this.qd.AVb(b)}else this.scene.fill.durationUs=a;this.mcb.lLb=void 0;this.mcb.ktb=void 0;this.mcb.cmh=void 0}}xqb(){this.mcb.pL=!0}yqb(){this.mcb.pL=!1}constructor(a,b,c,d){this.qd=a;this.scene=b;this.mcb=c;this.uA=
d;lKs.G(this)}};var kKs=class{static G(a){O(a,{lLb:yV.shallow,ktb:yV.ref,pL:yV.ref,cmh:yV.ref,hac:mV,trim:mV,p_e:mV,O6n:mV,LNa:mV,axa:mV,durationUs:mV,isDisabled:mV,Wla:mV,z9j:mV,rRa:mV,width:mV,Zud:mV,tul:mV,mc:mV})}get hac(){return!!this.ktb&&!!this.lLb}get trim(){var a;return(a=this.lLb)!==null&&a!==void 0?a:this.scene.trim}get p_e(){let a=0;for(const b of this.$wa.scenes){if(b===this.scene)break;a+=b.durationUs}return a}get O6n(){var a,b;const c=((b=(a=this.lLb)===null||a===void 0?void 0:a.startUs)!==null&&b!==
void 0?b:0)-this.scene.trim.startUs;return this.ktb==="start"?this.p_e+c:this.p_e}get LNa(){return this.scene.hT<Infinity?this.p_e-this.scene.trim.startUs:-Infinity}get axa(){return this.p_e+this.scene.hT-this.scene.trim.startUs}get durationUs(){return this.lLb?this.lLb.endUs-this.lLb.startUs:this.scene.durationUs}get isDisabled(){return this.OUa.xE||this.ii.get()&&(!this.mc||this.$wa.I0e.length>1)}get Wla(){if(Hc.G8){const a=this.hac&&this.cmh?this.cmh:this.rRa;return{type:"pointer",rRa:a,isVisible:!this.isDisabled&&
(a==="outside"||this.Zud&&(this.pL||this.hac)),mzg:this.cmh!==a||!this.Zud,L5i:this.mc?2:void 0,xzf:this.mc?2:void 0,borderRadius:this.mc?6:void 0,Guh:!0}}return{type:"touch",isVisible:this.mc}}get z9j(){return{show:!this.isDisabled&&this.tul,appearance:Hc.G8?"dark":"light"}}get rRa(){return this.tul?"outside":"inside"}get width(){return this.J8e.QNd(this.durationUs)}get Zud(){return this.width>50}get tul(){return this.$wa.Xyb(this.scene)&&!this.Zud}get mc(){return this.$wa.Xyb(this.scene)}constructor(a,
b,c,d,e){this.scene=a;this.$wa=b;this.OUa=c;this.J8e=d;this.ii=e;this.lLb=(kKs.G(this),void 0);this.pL=!1}};var sKs=class{A4k(a){return a/this.OUa.JBa*1E6}QNd(a){return a/1E6*this.OUa.JBa}constructor(a){this.OUa=a}};var A3s,B3s,C3s,AKs;
new (A3s=class extends JV{constructor(){super(AKs);B3s()}},(()=>{class a extends(C3s=HV){static G(b){O(b,{Pim:mV,etc:gV})}get Pim(){return __c.bc().width/2}render(){const b=this.props.O3b,c=this.props.kkd,d=this.props.lN,e=this.props.Nqb,f=this.props.IGg,g=this.props.Bw,h=this.props.RE;return kV("div",{className:CV("tVFZ0A",{CHptUg:vb.od}),style:{width:d.ii&&g.lgb?this.Pim:"auto"},children:[dV("div",{className:CV("M0SWqA",{AehUnQ:g.isLinear}),onClick:k=>k.stopPropagation(),children:dV(b,{isDragging:!!d.hOa,
transition:vb.od?"height 300ms":void 0,dimensions:f,qK:e.qK(),Ch:e.Ch,r3b:this.props.r3b,V8d:this.etc,hC:d.hC,RE:h})}),dV(c,{page:void 0,KCm:"fixed",WBg:!0})]})}constructor(...b){super(...b);this.etc=(AKs.G(this),()=>{const c=this.props.etc,d=this.props.uA;c();d&&(d.stop(),d.Ajc=!1)})}}({c:[AKs,B3s]}=KV(a,[],[Ob],C3s))})(),A3s);var D3s,E3s,F3s,G3s=parseInt("24px",10),xKs;
new (D3s=class extends JV{constructor(){super(xKs);E3s()}},(()=>{class a extends(F3s=HV){static G(b){O(b,{G7c:mV,Eji:mV,wAn:gV,vAn:gV,xAn:gV,QOg:mV})}get G7c(){const b=this.props.Ia,c=this.props.page.page;return!!b.pages.last()&&b.pages.last()===c}get Eji(){const b=this.props.zOq;return this.G7c||!!b}get QOg(){return this.props.mMp===this.props.Wb}render(){const b=this.props.lN,c=this.props.xn,d=this.props.page,e=this.props.Wb,f=this.props.tzc,g=this.props.Lgh,h=this.props.qtl,k=this.props.Qzc,l=
this.props.sMe,m=this.props.onContextMenu,p=this.props.XNa,q=this.props.p3e,r=this.props.Ade,t=this.props.gVa,u=()=>g(void 0),w=()=>g(d.page);return kV("div",{className:"m_zkbg",children:[dV(this.props.mzh,{pil:this.props.pil,page:d.page,K2:this.props.K2,dimensions:r,Jnq:r.height,rId:this.props.rId,Hfc:q?h(d.page):!0,children:dV(k,{page:d,zd:e+1,isDragging:l,visible:q,$4t:l,dimensions:r,onClick:p,onContextMenu:m,xn:c})}),f&&kV("div",{className:CV("deszfw",{iQZevg:this.Eji}),onMouseLeave:this.vAn,
style:{width:this.QOg?void 0:0},children:[dV("div",{className:CV("_2mudww",{JMhm4Q:this.QOg,_3sjdIg:q&&b.isDragging,ca0eiA:t}),onMouseEnter:this.wAn}),dV("div",{onMouseDown:this.cRk,onMouseEnter:w,onMouseLeave:u,className:CV({_1ZO3Mg:!this.Eji,u1Xjlw:!this.Eji&&vb.od}),style:{width:!t&&this.QOg?G3s:0},children:dV(f,{page:d.page,pL:this.QOg,ZVk:this.xAn})})]})]})}constructor(...b){super(...b);this.cRk=(xKs.G(this),()=>{const c=this.props.cRk,d=this.props.Lgh;c===null||c===void 0||c();d(this.props.page.page)});
this.wAn=()=>{const c=this.props.iWf;c(this.props.Wb)};this.vAn=()=>{const c=this.props.iWf;c(void 0)};this.xAn=c=>{const d=this.props.iWf,e=this.props.Wb;d(c.rq?e:void 0,c.immediate)}}}({c:[xKs,E3s]}=KV(a,[],[Ob],F3s))})(),D3s);var H3s,I3s,J3s,zKs;
new (H3s=class extends JV{constructor(){super(zKs);I3s()}},(()=>{class a extends(J3s=HV){static G(b){O(b,{Ade:mV.struct,Dzo:mV,A7n:mV.struct,dno:mV,XNa:gV,iWf:gV,Dfm:mV.struct,Jii:mV,Nsl:mV,J8f:mV,I8f:mV,OVl:mV,I6f:mV,p3e:mV})}get Ade(){this.props.YQg&&this.Ejn||(this.Ejn=this.iAj(this.props.page.page));return this.Ejn}get Dzo(){const b=this.props.Bw,c=this.props.Hg;return this.props.UWa||!b.Wfb?0:b.Q1c.reduce((d,{width:e,paddingRight:f})=>d+Math.min(e,c.width)+f,0)}get A7n(){const b=this.props.Bw;
if(!this.props.UWa&&b.Wfb)return Vj({top:0,left:this.props.Mhd-(this.props.Xo.clientWidth||0)/2,width:this.Dzo,height:0})}get dno(){const b=this.props.Bw;var c=this.props.Ia;const d=this.props.page.page,e=this.props.Wb,f=this.props.qG;if(b.isLinear&&nLs(b,e))return!0;c=b.z8e===d||b.z8e===c.pages.next(d);return b.zWe&&!f.UJ&&c}get Dfm(){var b=this.props.page.page,c=this.props.Ia.pages.previous(b);c=c&&this.iAj(c);b=this.iAj(b);return{left:c?-c.width/2:-b.width/2,right:b.width/2}}get Jii(){return this.props.store.c6h===
this.props.page.page}get Nsl(){const b=this.props.store,c=this.props.page.page;return!b.o5d(c)&&this.Jii&&b.Rai(c).length>=1&&b.sWq(c)+b.rWq(c)>4}get J8f(){const b=this.props.$f;return this.props.qG.UJ&&this.Jii&&b.J8f||bLs}get I8f(){const b=this.props.store,c=this.props.page,d=this.props.$f;return this.props.qG.UJ&&b.Tyd(c.page)&&d.I8f||bLs}get OVl(){const b=this.props.$f;return this.Nsl&&b.PVl||bLs}get I6f(){const b=this.props.$f;return this.Nsl&&b.I6f||bLs}get p3e(){const b=this.props.sMe;return this.props.GAb===
"visible"||b}render(){const b=this.props.store,c=this.props.Ztp,d=this.props.tzc,e=this.props.Qzc,f=this.props.kkd,g=this.props.tpp,h=this.props.xn,k=this.props.Bw,l=this.props.page,m=this.props.Wb,p=this.props.E9r,q=this.props.OHs;return kV("div",{ref:this.Ona,className:"KyZmNQ",style:!q&&p||k.isLinear?{width:p,height:"100%"}:{},children:[q&&kV(rV,{children:[dV(this.J8f,{}),dV(this.I8f,{}),dV(this.I6f,{}),dV(this.OVl,{}),dV(c,{page:l,Wb:m,tzc:this.p3e?d:void 0,zOq:this.dno,xn:h,iWf:this.iWf,Qzc:e,
onContextMenu:this.onContextMenu,K2:this.K2,p3e:this.p3e,XNa:this.XNa,Ade:this.Ade,rId:b.mc(l.page)?this.A7n:void 0}),this.p3e&&(!b.ii||k.Wfb)&&dV(f,{page:l.page,koq:this.Dfm,WBg:!0})]}),!this.p3e&&dV(g,{page:l.page,zd:m+1,wea:this.XNa})]})}constructor(...b){super(...b);this.Ona=(zKs.G(this),IV());this.iAj=c=>{const d=this.props.Hg,e=this.props.Bw,f=this.props.UWa,g=e.wXd,h=this.props.qG.UJ,k=e.u$(c).scale;c=e.zTd(c,!0);return{width:h||g==null||f?c:Math.min(c,d.width),height:BV,scale:k}};this.onContextMenu=
c=>{const d=this.props.onContextMenu,e=this.props.uA,f=this.props.page,g=this.props.l5a;d&&(e===null||e===void 0||e.pause(),g(c,!0),d(c,f.page))};this.K2=(c,d)=>{const e=this.props.Hg,f=this.props.Bw,g=this.props.uA,h=this.props.store.ii,k=this.props.Fjb.current.getBoundingClientRect();f.tAn(c,d.x-k.x,e.width);g===null||g===void 0||g.stop();h&&g&&(g.djh=!1)};this.XNa=async()=>{const c=this.props.XNa,d=this.props.store,e=this.props.Bw,f=this.props.page.page;e.zWe?d.mc(f)&&d.wSa?e.IYf(f):e.Hql(!0):
this.props.uA&&e.tgh(!0);await (c===null||c===void 0?void 0:c(f))};this.hover=gV(c=>{this.props.Bw.Lol(this.props.store.hOa?void 0:c)});this.adq=Hb(this.hover,500);this.bdq=Hb(this.hover,200);this.iWf=(c,d)=>{const e=this.props.Bw;var f=this.props.store;f.hN&&!f.ii&&(f=this.props.Ia.pages.count(),c!=null&&c>=f-1||(d?e.Lol(c):e.isLinear?this.bdq(c):this.adq(c)))}}}({c:[zKs,I3s]}=KV(a,[],[Ob],J3s))})(),H3s);var K3s=class{constructor(a,b,c,d,e,f){this.page=a;this.direction=b;this.E7r=c;this.$wr=d;this.$4s=e;this.eig=f}},DKs=class{static G(a){O(a,{trim:yV.ref})}constructor(){this.trim=(DKs.G(this),void 0)}},L3s=class{static G(a){O(a,{Boe:yV.ref,Nyl:gV.bound,u3j:gV.bound})}get lNd(){return this.Boe}Nyl(a){var b;((b=this.Boe)===null||b===void 0?0:b.isRecording())&&this.Boe.end("unset");this.Boe=this.V.sb("trim_scene",{Fb:{name:"editor.editing.page_navigator.timeline.trim_scene",performance:{jT:!0},type:a}})}u3j(){var a;
(a=this.Boe)===null||a===void 0||a.end("ok");this.Boe=void 0}GEg(a,b){var c=b==null;const {uh:d,durationUs:e}=__c.vKe(this.zy,a,c);if(!d.length||c)return{fill:d[0],durationUs:e};a=f=>this.qd.AVb(f.trim?{...f,trim:b?{startUs:b==="start"?0:f.trim.startUs,endUs:b==="end"?Infinity:f.trim.endUs}:void 0}:f);c=Ji(d,a);return{fill:c,durationUs:a(c)}}constructor(a,b,c,d,e){this.store=a;this.qd=b;this.zy=c;this.Cf=d;this.V=e;this.Boe=(L3s.G(this),void 0)}},HKs=class extends L3s{static G(a){O(a,{sia:gV.bound,
NAi:gV.bound,Jna:gV.bound})}sia(a,b){var c,d;this.Nyl(b);const e=xKe(this.zy,a);this.selection.PBb(a);const f=Am.zs(a);this.store.trim=new K3s(a,b,e,this.GEg(f,b).fill,0,()=>{});this.zy.EJd(e);this.Cf.kK();this.k_.e9m([a]);this.dee(f);(d=this.Lk)===null||d===void 0||(c=d.nN)===null||c===void 0||c.call(d,new hp)}NAi(a){const b=this.store.trim;b?(this.zy.EJd(a),this.k_.sko(a,b.direction,c=>{if(b.direction==="end")return!0;const d=this.Cf.getDuration(c),e=__c.WDg(this.k_,c);return c===b.$wr||a<=d||e<
d}),this.dee(Am.zs(b.page))):this.u3j()}Jna(a,b,c){const d=this.store.trim;d&&(this.k_.Unm({location:"page_navigator",kb:c}),this.zy.nUd({pages:[d.page],CHf:a,EGf:b,fjf:{location:"page_navigator",kb:c},ua:this.lNd}),this.dee(Am.zs(d.page)),this.store.trim=void 0,this.zy.reset())}dee(a){var b;const c=((b=this.store.trim)===null||b===void 0?void 0:b.direction)==="end"&&this.zy.IUa||0;a.forEach(d=>__c.eee(this.Cf,d,c,this.k_.pGg(d)))}constructor(a,b,c,d,e,f,g,h){super(a,b,c,d,e);this.k_=f;this.selection=
g;this.Lk=h;HKs.G(this)}},GKs=class extends L3s{qTh(a,b,c,d){if(c===d)return __c.Hf({pages:[a]}).tb(a);var e=In.snapshot(a);e=In.create(e);const f=__c.Hf({pages:[e]}).tb(e);switch(f.type){case "fixed-page":return ta(a.type==="fixed"),this.Ebc.addAlias(e,a),__c.tKe({Cf:this.Cf,zy:this.zy,qd:this.qd,page:f.page,direction:b,rZg:c,XXg:d,Shd:!1}),f;case "concatenated-fixed-page":case "responsive-page":return f;default:throw new v(f);}}sia(a,b){var c,d;this.Nyl(b);aJs(this.jd);(d=this.Lk)===null||d===void 0||
(c=d.nN)===null||c===void 0||c.call(d,new hp);this.selection.PBb(a);c=xKe(this.zy,a);d=c*1E6;const e=FKs(this,a,b)*1E6;this.wwe=this.qTh(a,b,d,e);this.store.trim=new K3s(a,b,c,void 0,e,this.jd.configure({Ei:!0,page:this.wwe}));this.zy.EJd(c);this.jd.seek((b==="start"?e-d:d)/1E6)}NAi(a){if(this.store.trim){var b=this.store.trim.$4s,c=a*1E6;this.jd.seek((this.store.trim.direction==="start"?b-c:c)/1E6);this.zy.EJd(a)}}Jna(a,b,c){const d=this.store.trim;if(d){d.eig();var e=d.page;this.zy.nUd({pages:[e],
CHf:a,EGf:b,fjf:{location:"page_navigator",kb:c},direction:d.direction,ua:this.lNd});this.dee(Am.zs(e));this.jd.stop();if(this.wwe)switch(this.wwe.type){case "fixed-page":this.Ebc.store.w4g.delete(this.wwe.page);this.wwe=void 0;break;case "concatenated-fixed-page":case "responsive-page":this.wwe=void 0;break;default:throw new v(this.wwe);}this.store.trim=void 0;this.zy.reset();bJs(this.jd)}else this.u3j()}dee(a){var b;const c=((b=this.store.trim)===null||b===void 0?void 0:b.direction)==="end"&&this.zy.IUa||
0;a.forEach(d=>__c.eee(this.Cf,d,c))}constructor(a,b,c,d,e,f,g,h,k){super(a,b,c,d,e);this.jd=f;this.selection=g;this.Ebc=h;this.Lk=k}};var KKs=class{Qse(a,b){if(a=!!this.Cf.canPlay(a)&&!!this.Cf.getDuration(a))b=b.length,this.document.pages.count()+(b-1)>this.Ch?(b=this.hSa.IE,b.OYa({icon:gu,message:b.Pfa.render(L("PZbDsA")),tone:"critical"}),b=!0):b=!1,a=!b;return a}get ya(){return n(this.viewport.ya)}SRi(a,b,c){this.zy.EJd(b);this.zy.nUd({pages:[a],direction:c,CHf:.1,EGf:Math.max(600,__c.vKe(this.zy,Am.zs(a)).durationUs/1E6),fjf:{location:"highlights",kb:"shortcut"}});this.zy.reset()}aah(a){a.transition.set(void 0)}constructor(a,
b,c,d,e,f){this.hSa=a;this.zy=b;this.Cf=c;this.viewport=d;this.document=e;this.Ch=f}};var M3s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-width="1.5" stroke-linecap="round" d="M8 1.75v12.5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8 3.333H3a2 2 0 0 0-2 2v5.334a2 2 0 0 0 2 2h5v-1.5H3a.5.5 0 0 1-.5-.5V5.333a.5.5 0 0 1 .5-.5h5v-1.5ZM10.334 12.667h2.667a2 2 0 0 0 2-2V5.333a2 2 0 0 0-2-2h-2.667v1.5h2.667a.5.5 0 0 1 .5.5v5.334a.5.5 0 0 1-.5.5h-2.667v1.5Z" fill="currentColor"/></svg>';var N3s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.75a.75.75 0 0 0-1.5 0V6H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h5.5v2.25a.75.75 0 0 0 1.5 0V3.75ZM10.5 16.5v-9H5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h5.5Z" fill="currentColor"/><path d="M14 18h5a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-5v1.5h5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-5V18Z" fill="currentColor"/></svg>';var TKs=er({small:M3s,medium:N3s});var RKs=class{static G(a){O(a,{Ysn:gV.bound,pNh:mV,HWi:gV.bound,Xso:gV.bound,GWi:gV.bound})}get xsb(){var a;const b=((a=this.uA.xsb)!==null&&a!==void 0?a:this.PUa.currentTime).toFixed(6);return Number.parseFloat(b)}Ysn(){try{var a;if(((a=this.wr.jR)===null||a===void 0||!a.length)&&this.pNh)return this.HWi();if(NKs(this))return this.GWi()}catch(b){}}get pNh(){if(!this.dvl.get()||this.Ma.mode<40||!this.Lw.lgb||this.Lw.UJ||this.document.pages.count()>=this.Ch)return!1;var a=OKs(this,this.xsb);a=a===
null||a===void 0?void 0:a.page;var b;if(!(b=!a||a.locked)&&(b=this.timing.Hs)){var c=this.xsb;b=this.Lw.GFg(c,!0);b!==null&&b!==void 0&&b.page&&b.page.type==="fixed"?(c=(c-b.Pda/1E6)*1E6,b=!!PKs(this,b.page.Jc.toArray(),c)):b=!1;b=!b}if(b)return!1;switch(a.type){case "fixed":return!a.dimensions||!zg(a.dimensions);case "concatenated-fixed":case "responsive":return!1;default:throw new v(a);}}HWi(){const a=this.V.sb("split_scene",{Fb:{name:"editor.editing.page_navigator.timeline.split_scene"}});this.uA.stop();
if(this.timing.Hs){const {page:g}=n(OKs(this,this.xsb));if(g.type==="fixed"){var {fill:b,rJq:c,uJq:d}=n(PKs(this,g.Jc.toArray(),this.xsb*1E6)),e=c+d,f={...eps(as.snapshot(b)),durationUs:d};b.durationUs=Math.min(Math.max(Math.max(c),1E5),6E8);f=g.Jc.AI(b,f);b.transition.set(void 0);b.video.ref&&sKe({qd:this.qd,SNc:e,fill:b.video.ref,IWd:-d,direction:"end",gje:!0});f.video.ref&&sKe({qd:this.qd,SNc:e,fill:f.video.ref,IWd:-c,direction:"start",gje:!0});this.uA.seek(this.xsb,"start")}}else this.Xso();this.uA.Xce();
a.ne()}Xso(){const {page:a,durationUs:b,qPs:c}=n(OKs(this,this.xsb)),d=qu.wQ(In.snapshot(a),{RFa:!0});this.aah(a);this.SRi(a,c,"end");const e=this.document.pages.AI(a,d);this.SRi(e,b/1E6-c,"start");requestAnimationFrame(()=>{this.uA.VG(e);this.uA.seek(this.xsb,"start")})}GWi(){var a;const b=this.xsb;this.uA.stop();this.uA.Xce();const c=(a=this.wr.jR)===null||a===void 0?void 0:a.map(d=>QKs(this,d,b)).filter(ub);(c===null||c===void 0?0:c.length)&&this.wr.select(...c);this.uA.seek(b,"start")}SRi(a,b,
c){this.zy.EJd(b);this.zy.nUd({pages:[a],direction:c,CHf:.1,EGf:Math.max(600,__c.vKe(this.zy,Am.zs(a)).durationUs/1E6),fjf:{location:"page_navigator",kb:"shortcut"},Shd:!0})}aah(a){a.transition.set(void 0)}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.document=a;this.Ma=b;this.zy=c;this.wr=d;this.Uz=e;this.Lw=f;this.timing=g;this.qd=h;this.V=k;this.Ch=l;this.uA=m;this.PUa=p;this.dvl=q;RKs.G(this)}};var SKs=fV(({zi:a,s4e:b,disabled:c,onClick:d})=>{const e=hV(()=>{b.HWi();d===null||d===void 0||d()},[b,d]);return dV(a,{tooltip:L("GiOiNA"),icon:TKs,disabled:c,yh:"icon",onClick:e,children:L("nHEHOg")})}),UKs=fV(({zi:a,s4e:b,disabled:c,Eo:d,onClick:e})=>{const f=hV(()=>{b.GWi();e===null||e===void 0||e()},[b,e]);return dV(a,{tooltip:L("W417Fg"),disabled:c,icon:TKs,yh:d?"icon-and-label":"icon",onClick:f,children:L("nHEHOg")})});var O3s,P3s,Q3s,R3s;
new (O3s=class extends JV{constructor(){super(R3s);P3s()}},(()=>{class a extends(Q3s=HV){static G(b){O(b,{YYa:gV.bound,zJa:gV.bound,YNa:gV.bound})}YYa(b){var c,d;const e=this.props.qG;e===null||e===void 0||e.$Bb(!0);e===null||e===void 0||e.RZb({r6g:"pinch_centre",Hi:b.Hi});(c=(d=this.props).Mqu)===null||c===void 0||c.call(d)}zJa(b){const c=this.props.qG,d=this.props.ny;(c===null||c===void 0?void 0:c.U8m)!=null&&(c.Ly(c.U8m*b.scale),d(J("MEzq1g",[c.XU])))}YNa(){const b=this.props.qG;b===null||b===
void 0||b.d0("pinch")}render(){return dV("div",{ref:this.CA.yq,className:"Dx9Tuw",children:this.props.children})}constructor(...b){super(...b);this.Uba=(R3s.G(this),[new __c.Rzc({Js:this.YYa,NG:this.zJa,qx:this.YNa})]);this.CA=new __c.cd(this.Uba)}}({c:[R3s,P3s]}=KV(a,[],[Ob],Q3s))})(),O3s);var S3s=fV(({enabled:a,qG:b,...c})=>{c.Huh();return a.get()&&!b.UJ?dV(R3s,{...c,qG:b}):c.children});var T3s,U3s,V3s,W3s=parseInt("4px",10)*2,X3s=parseInt("16px",10),Y3s=parseInt("8px",10)*2,Z3s=parseInt("12px",10)||12,$Ls;
new (T3s=class extends JV{constructor(){super($Ls);U3s()}},(()=>{class a extends(V3s=HV){static G(b){O(b,{Hde:yV.ref,zzo:mV,IGg:mV,cFo:mV,Mhd:mV,zpm:mV,l5a:gV,Sjg:gV,onTouchStart:gV,onTouchEnd:gV,onScroll:gV,Qzi:gV})}get zzo(){var b,c;return((c=this.Fjb)===null||c===void 0?void 0:(b=c.current)===null||b===void 0?void 0:b.getBoundingClientRect().x)||0}get AZs(){var b;const c=(b=this.Fjb)===null||b===void 0?void 0:b.current;return c?c.offsetTop+c.offsetHeight:0}get IGg(){return{width:this.props.Bw.ibi,
height:BV}}get cFo(){const b=this.props.Bw,c=this.IGg.width+W3s+2*Y3s;return b.kja==="end"?b.aFo+c:this.props.store.ii&&b.kja==="start"?b.bFo+c:b.$Ld+c}get Mhd(){const b=this.props.Bw,c=this.props.store;if(!b.lgb)return 0;const d=b.geb,e=b.kja==="start"?b.B8e+b.O2i:0,f=b.jab?b.Cwa(b.jab).offsetWidth:c.ii?0:d-e;return c.ii?Math.max(d-(Y3s+e),-d-f):b.B8e!==0?Math.max(d-e,-f):d}get zpm(){var b=this.props.Xo;const c=this.props.Bw,d=this.props.store,e={"--aABeBw":`${this.Mhd}px`,"--0ljhFQ":`${d.Wam}px`,
"--5t4xnw":`${d.Yam}px`};return c.kja?{...e,minWidth:this.cFo}:this.props.UWa||d.ii||c.dragOffset===0?this.props.timing.Hs&&d.ii?(b=__c.bc().width/2,{...e,paddingRight:b}):e:{...e,paddingRight:b.clientWidth-(this.IGg.width+Y3s)}}componentDidMount(){const b=this.props.store,c=this.props.Bw,d=this.props.zu;Sqs(()=>!!d.current,()=>{var f;(f=d.current)===null||f===void 0||f.addEventListener("touchstart",this.onTouchStart)});const e=[eV(()=>({Ag:b.Ag,focused:b.wSa}),({Ag:f,focused:g})=>{c.zWe&&(g?(c.IYf(f.length===
1&&c.S6i?f[0]:void 0),c.Hql(!1)):c.S6i||c.IYf(void 0))})];Kb(this,e)}componentWillUnmount(){var b;cancelAnimationFrame(this.VEh);(b=this.props.zu.current)===null||b===void 0||b.removeEventListener("touchstart",this.onTouchStart)}render(){const b=this.props.tzc,c=this.props.r3b,d=this.props.Qzc,e=this.props.Tkj,f=this.props.O3b,g=this.props.etc,h=this.props.XNa,k=this.props.xn,l=this.props.Hg,m=this.props.G0c,p=this.props.tgc,q=p.QWl,r=p.V_l,t=p.CUl,u=p.Z0l,w=p.Kne,x=this.props.Bw,y=this.props.qG,
z=this.props.Dct,A=this.props.DPs,B=this.props.measureRef,D=this.props.Une;return dV(S3s,{enabled:this.props.mIm,qG:y,Huh:this.props.Huh,ny:this.ny,children:kV("div",{className:CV("PLXBxQ",{skT6fg:p.h3c,_4h2Low:x.ADf,_7XBsHg:this.props.timing.Hs}),style:this.zpm,onClick:this.HRr,ref:(0,oQs["default"])(B,m.yq,A,y.UJ?void 0:z),children:[m.anchor,u&&dV(u,{brc:!!this.Hde,l5a:this.l5a}),dV("div",{className:"T5cLig",children:!y.UJ&&dV(e,{})}),kV("div",{className:"_8BtP1w",children:[q&&dV("div",{className:"jyrvhQ",
children:dV(q,{xn:k,l5a:this.l5a,lGt:this.Mhd+X3s})}),dV("div",{ref:this.Fjb,className:"_5peejg",children:r&&dV(r,{Mhd:this.Mhd,xn:k,Hg:l,Fjb:this.Fjb,Qzc:d,tzc:b,r3b:c,O3b:f,etc:g,XNa:h,l5a:this.l5a,Kne:w})}),dV(D,{}),t&&dV("div",{className:CV("lJ_R_Q",{qZEbqg:x.ADf}),children:dV(t,{l5a:this.l5a})})]})]})})}constructor(...b){super(...b);this.M_s=($Ls.G(this),Symbol("TimelineContent"));this.Fjb=IV();this.Hde=void 0;this.touchEnd=!1;this.l5a=(c,d)=>{const e=this.props.uA,f=this.props.PUa,g=this.props.Bw;
var h=this.props.qG,k=this.props.store,l=this.props.Df;k.IF==="single"&&!h.UJ&&e&&f&&this.Fjb.current&&!k.gxd&&!l.isOpen&&(h=this.Fjb.current.getBoundingClientRect(),{clientX:c=0}=c,c<h.left||(c-=h.left,h=g.Y1d(c,{mvb:!this.props.timing.Hs}),k=g.lwd(h),l=g.Qgk(c),d&&l===g.lwd(f.currentTime)?(d=g.MGe(f.currentTime),Math.abs(d-c)>Z3s&&(e.xsb=h)):(e.pause(),this.props.store.ii||e.seek(this.props.timing.Hs?h:Math.min(h,g.DEl-.001)),e.VG(l),k!==l&&e.stop())))};this.Sjg=()=>{this.Hde!=null&&(clearTimeout(this.Hde),
this.Hde=void 0)};this.onTouchStart=()=>{var c;const d=this.props.uA,e=this.props.PUa,f=this.props.store,g=this.props.zu;f.ii&&!f.hOa&&d&&e&&g.current&&(this.props.Bw.tgh(!0),d.pause(),this.Sjg(),this.touchEnd=!1,document.addEventListener("touchend",this.onTouchEnd),(c=g.current)===null||c===void 0||c.addEventListener("scroll",this.onScroll))};this.onTouchEnd=()=>{this.touchEnd=!0;this.Hde||this.Qzi()};this.onScroll=()=>{var c=this.props.store,d=this.props.uA;const e=this.props.PUa,f=this.props.Bw,
g=this.props.qG;var h=this.props.Uz;const k=this.props.Xo;c.hOa||g.xE?(this.Qzi(),this.Sjg()):(h.gli?(c=f.Y1d(k.scrollLeft),d===null||d===void 0||d.P1e({time:c})):f.z_f&&(h=f.Y1d(k.scrollLeft),h=Math.min(h,f.DEl-.001),d===null||d===void 0||d.seek(h),f.lgb&&c.ii&&g.UJ&&(d=f.lwd(h),c.YJ===1&&c.mc(d)||(c.sra(d),f.Bba()))),this.Sjg(),this.Hde=window.setTimeout(()=>{if(this.touchEnd||(e===null||e===void 0?0:e.If))this.Qzi(),this.Sjg();else this.onScroll()},500))};this.Qzi=()=>{var c;const d=this.props.zu;
var e=this.props.Bw;const f=this.props.PUa,g=this.props.uA;this.props.Bw.tgh(!1);if(f&&e.lgb){if(this.Hde){var h;e=e.lwd(f.currentTime,(h=g===null||g===void 0?void 0:g.Ajc)!==null&&h!==void 0?h:!1);g===null||g===void 0||g.VG(e)}document.removeEventListener("touchend",this.onTouchEnd);(c=d.current)===null||c===void 0||c.removeEventListener("scroll",this.onScroll);this.touchEnd=!1}};this.VEh=0;this.HRr=c=>{cancelAnimationFrame(this.VEh);this.VEh=requestAnimationFrame(()=>{this.VEh=requestAnimationFrame(()=>
{const d=this.props.Bw;this.l5a(c);d.tgh(!1)})})};this.ny=c=>{this.props.xc.Ib({Cb:c,group:this.M_s})}}}({c:[$Ls,U3s]}=KV(a,[],[Ob],V3s))})(),T3s);var eLs=FV(({onClick:a,If:b,va:c,FG:d})=>{const e=hV(f=>{a();f.nativeEvent.stopImmediatePropagation()},[a]);return dV("div",{className:CV("OH498g",{EfX0rQ:d}),children:dV(sr,{variant:"tertiary",size:"large",Nc:"medium",lUb:!0,onClick:d?void 0:e,loading:c,icon:b?__c.Mu:__c.Nu,className:"Vb2WBg",ariaLabel:b?L("8Pbkhg"):L("Y/SEvA")})})});var ZKs=fV(function({currentTime:a,totalTime:b}){a=wo(a());b=wo(b());return dV(P,{size:"medium",tone:"primary",weight:"bold",children:dV(aLs,{uSm:a.padStart(b.length,b.replace(/\d/g,"0"))})})}),$Ks=fV(function({totalTime:a}){return dV(P,{size:"medium",tone:"tertiary",children:dV(aLs,{uSm:wo(a())})})});var cLs=.5*Wc+5*Wc,dLs=FV(function({$ds:a,bFq:b}){return dV(R,{padding:"0.5u",children:kV(kr,{columns:b?3:1,spacing:"0",Fa:"center",children:[b&&dV(R,{display:"flex",justifyContent:"start",children:b}),dV(R,{display:"flex",justifyContent:"center",children:a})]})})});var $3s,a4s,b4s,gLs;new ($3s=class extends JV{constructor(){super(gLs);a4s()}},(()=>{class a extends(b4s=HV){static G(b){O(b,{dB:mV,onClick:gV.bound})}get dB(){return!this.props.qG.UJ}render(){return dV(this.props.NE,{onClick:this.onClick,dB:this.dB,children:L("2e2XZw")})}onClick(){const b=this.props.oa,c=this.props.onClick,d=this.props.qG;d.xJd(!d.UJ,"click");d.UJ||(this.props.Uj.mq="thumbnail");c&&c();b&&b()}constructor(...b){super(...b);a.G(this)}}({c:[gLs,a4s]}=KV(a,[],[Ob],b4s))})(),$3s);var hLs=fV(a=>{const b=a.hb;return dV(bj,{variant:"tertiary",size:"small",active:a.active,onClick:a.onClick,icon:__c.vD,jk:!0,OI:a.OI,hb:b,ariaLabel:b,children:L("Jajjyg")})});var jLs=({jle:a,ii:b})=>dV("div",{className:"XsiM7A",children:a&&kV(rV,{children:[dV(a,{size:"m",shape:"square"}),dV(P,{size:"xsmall",tone:mr,children:b.get()?L("fg/MLw"):L("nvHInw")})]})});var c4s=parseInt("8px",10)||8,d4s=parseInt("68px",10)||60,e4s=BV*16/9,f4s=10.5*Wc,lLs=parseInt("16px",10)||16,mLs=parseInt("24px",10)*2,SLs=class{static G(a){O(a,{Wfb:yV.ref,wXd:yV.ref,O2i:yV.ref,lTj:yV.ref,S6i:yV.ref,qri:yV.ref,dmi:yV.ref,Inj:yV.ref,xki:yV.ref,isLinear:mV,J2e:mV,yCm:mV({equals:lV.shallow}),JBa:mV,dragOffset:mV,geb:mV,ibi:mV,$Eo:mV,B8e:mV,rOd:mV,B7b:mV({equals:rk(lV.shallow)}),Q1c:mV({equals:rk(lV.shallow)}),Shl:mV,hPn:mV,$Ld:mV,f0i:mV,tmi:mV,aFo:mV,bFo:mV,Nmf:mV,i7l:mV,tAn:gV.bound,
cAn:gV.bound,zWe:mV,IYf:gV.bound,z8e:mV,YQg:mV,UJ:mV,ADf:mV,z_f:mV,tgh:gV.bound,Hql:gV.bound,Lol:gV.bound,Apk:yV.ref,Lgh:gV,Bzo:mV})}get W3g(){var a;return((a=this.I.M2i.trim)===null||a===void 0?void 0:a.E7r)||0}get jab(){var a;return(a=this.I.M2i.trim)===null||a===void 0?void 0:a.page}get kja(){var a;return(a=this.I.M2i.trim)===null||a===void 0?void 0:a.direction}get jHc(){return this.I.jHc}get q1f(){return this.isLinear?0:c4s*2}get isLinear(){return!this.I.qG.UJ}get ehd(){const a=this.I.viewport.mh;
return this.I.timing.Hs&&DV(this,a.ia)?this.I.qd.tb(a.ia):this.I.qd.Gxb(this.I.document)}get DEl(){return this.ehd/1E6}get J2e(){if(AV.Uym)return!1;const a=this.I.gb;return this.I.document.pages.some(b=>b?!lk(a,b,c=>c===null||c===void 0?void 0:c.qBe)&&eGs(this,b):!1)}get yCm(){const a=xg(4,this.I.document.dimensions);return{width:a.width/a.height*BV,height:BV}}get JBa(){return this.I.qG.XU*40}get dragOffset(){const a=this.I.qG;return this.I.UWa||!this.Wfb||!this.wXd||a.UJ?0:Math.max(this.Wfb-this.wXd,
0)}get geb(){var a=this.I.Avg;if(!this.lgb)return this.dragOffset;a=this.I.ii.get()?__c.bc().width/2:a?0:f4s;return this.dragOffset+a}get ibi(){var a=this.I.document;this.I.qG.UJ?(a=a.pages.last(),a=Math.min(e4s,Math.max(this.u$(a).width,d4s))):a=96;return a}get $Eo(){const a=this.I.zy;return this.jab&&a.IUa?a.IUa-this.W3g:0}get B8e(){const a=this.jab;if(!a)return 0;const b=this.zTd(a,!1);return this.zTd(a,!0)-b}get rOd(){return{start:Math.max(this.I.Xo.scrollLeft-100-this.geb,0),end:this.I.Xo.scrollLeft+
this.I.Xo.clientWidth+100-this.geb}}get B7b(){const a=this.I.viewport.mh;return this.I.timing.Hs&&DV(this,a.ia)?this.yMh([a.ia]):this.yMh(this.I.document.pages.toArray())}get Q1c(){const a=this.I.viewport.mh;return this.I.timing.Hs&&DV(this,a.ia)?this.yMh([a.ia],{withTrim:!0}):this.yMh(this.I.document.pages.toArray(),{withTrim:!0})}get Shl(){const a=this.Q1c.map(!this.I.UWa&&this.wXd?({width:b,page:c})=>Math.min(b,this.u$(c).width)+this.q1f:({width:b})=>b+this.q1f);a.length>0&&(a[0]+=this.geb);return a}get hPn(){return Math.max(this.JBa,
d4s)/this.JBa}u$(a){const b=this.I.document;return a.type==="concatenated-fixed"?i1s:lk(this.I.gb,a,c=>c===null||c===void 0?void 0:c.AMa)?j1s(b.dimensions):a.type==="responsive"?i1s:j1s(a.dimensions||b.dimensions)}get $Ld(){const a=this.B7b[this.B7b.length-1];return(a===null||a===void 0?void 0:a.offsetWidth)+(a===null||a===void 0?void 0:a.width)||0}get f0i(){const a=this.tmi;return((a===null||a===void 0?void 0:a.offsetWidth)||0)+((a===null||a===void 0?void 0:a.width)||0)}get tmi(){var a=this.I.viewport.mh;
return this.I.timing.Hs&&DV(this,a.ia)?this.Cwa(a.ia):(a=this.I.document.pages.IRa(b=>b.type!=="responsive").last(b=>DV(this,b)))&&this.Cwa(a)}get aFo(){return this.$Ld+this.dmi}get bFo(){return this.$Ld+this.B8e}get Nmf(){return this.I.zy.IUa}get i7l(){return this.B7b.reduce((a,{durationUs:b})=>a+b,0)}onDrop(){this.sze=void 0}tAn(a,b,c){this.Wfb=b;b=0;const d=this.I.document.pages.toArray();for(const [f,g]of d.entries()){var e=f===d.length-1||d.length===1?0:this.q1f;e=Math.min(this.zTd(g,!0),c)+
e;if(g===a){b+=e/2;break}else b+=e}this.wXd=b;this.Bba()}cAn(){this.wXd=this.Wfb=void 0}get lgb(){return this.I.bli()}get zWe(){return this.I.ii.get()||Vb()}IYf(a){this.Inj=a}get z8e(){if(!this.I.qG.UJ&&this.Wfb==null)return this.jab||this.Inj}get YQg(){return!!this.jab}get UJ(){return this.I.qG.UJ}get xE(){return this.I.qG.xE}get eir(){return this.qri!=null}get ADf(){return this.UJ&&!this.I.ii.get()}get z_f(){return this.I.ii.get()&&!this.UJ}get Bzo(){const a=this.I.Xo.clientWidth;if(a!=null)return a-
Math.max(this.geb-this.I.Xo.scrollLeft,0)-120}constructor(a){this.I=a;this.Wfb=(SLs.G(this),void 0);this.wXd=void 0;this.O2i=0;this.S6i=this.lTj=!1;this.qri=void 0;this.dmi=0;this.Inj=void 0;this.xki=!1;this.Gch=e=>this.isLinear?Math.round(e*10)/10:Math.round(e);this.Bba=()=>{var e,f;(f=this.I.Lk)===null||f===void 0||(e=f.nN)===null||e===void 0||e.call(f,new hp)};this.yMh=(e,f={})=>{const g=this.I.document,h=this.I.qd;let k=0,l=0,m=0,p=0;return e.map((q,r)=>{var t=r===e.length-1,u=f.withTrim&&q===
this.jab;const w=h.tb(q),x=h.p0d(g,q),y=(DV(this,q)?x:w)+(u?this.$Eo*1E6:0);t=t?0:this.q1f;u=this.zTd(q,u);const z=k,A=l;l+=u+t;DV(this,q)&&(k+=y);const B=z-m;m=w-x-m;r=p?this.Gch(A-p-(r===0?0:this.q1f)):A;p=u/x*m;return{page:q,durationUs:y,width:u,Pda:z,ZPk:B,Dzn:r,offsetWidth:A,paddingRight:t}})};this.zTd=(e,f)=>{var g=this.I.zy;if(this.I.qG.UJ)return Math.min(e4s,Math.max(this.u$(e).width,d4s));e=(f=f&&this.jab===e)&&this.Nmf!==void 0?this.Nmf:xKe(g,e);g=this.Gch(e*this.JBa);if(this.isLinear)return g;
e=Math.max(this.JBa,d4s);g=f&&this.W3g!==0&&this.W3g<this.hPn?g+e-this.Gch(this.W3g*this.JBa):g;return f?g:Math.max(g,e)};this.Cwa=e=>n(this.B7b.find(f=>f.page===e));this.GFg=(e,f,g)=>{const h=(g?this.Q1c:this.B7b).filter(({page:l})=>DV(this,l)),k=Math.round(e*1E6);return h.find(({durationUs:l,Pda:m},p)=>{l=m+l;return f||p===h.length-1?k<=l:k<l})};this.MGe=(e,f={})=>{var g;const h=((g=f.y$g)===null||g===void 0?0:g.draft)?this.$Ld:this.f0i;return this.Gch(Math.min(qLs(this,e*1E6,f),h))};this.Y1d=(e,
{mvb:f=!0,...g}={})=>{var h;const k=(((h=g.y$g)===null||h===void 0?0:h.draft)?this.i7l:this.ehd)/1E6;return f?Math.min(tLs(this,e,g)/1E6,k):tLs(this,e,g)/1E6};this.LIa=(e,{mvb:f=!0,...g}={})=>f?this.MGe(e/1E6,g):qLs(this,e,g);this.dyb=(e,f,{mvb:g=!1,...h}={})=>this.LIa(f,{mvb:g,...h})-this.LIa(e,{mvb:g,...h});this.uGg=(e,{mvb:f=!0,...g}={})=>f?this.Y1d(e,{mvb:f,...g})*1E6:tLs(this,e,g);this.Qgk=e=>{var f;return(f=this.B7b.find(({width:g,offsetWidth:h})=>e>=h&&e<=h+g))===null||f===void 0?void 0:f.page};
this.lwd=(e,f)=>{({page:e}=this.GFg(e,f)||this.B7b[0]);return e};this.tgh=e=>{this.lTj=e};this.Hql=e=>{this.S6i=e};this.Lol=e=>{this.qri=e};this.Lgh=e=>{this.Apk=e};this.qtl=LV(e=>!vb.od||this.jab===e||this.wXd!=null||this.I.qG.xE);this.Xfo=e=>{this.xki=e};const b=a.qG,c=a.M2i,d=a.zy;a=a.Ma;eV(()=>b.UJ,this.Bba);eV(()=>c.trim?Math.max(this.dmi,this.B8e):0,e=>this.dmi=e,{fireImmediately:!0});Sqs(()=>!this.UJ,()=>{d.vYf=!0});a.Aof(()=>this.xki)}};var ILs=({Fwk:a})=>dV("div",{className:CV("pAiVJA",a&&"Xk_37w"),children:dV(or,{label:L("xhtG7g"),children:dV(R,{tagName:"span",background:"neutralLow",borderRadius:"elementSoftest",ariaHidden:!1,className:"VzkBcA",ariaLabel:L("xhtG7g"),children:dV(P,{size:"small",className:"_3ubtlQ",children:L("SI6VaA")})})})});var CLs=class{static G(a){O(a,{mC:yV.ref,MFd:yV.ref,XY:yV.ref,hCe:yV.ref,pages:mV({equals:lV.shallow})})}get pages(){var a;const b=(a=this.hCe)===null||a===void 0?void 0:a.page;if(b&&rvb(b.page))return ta(b.type==="fixed-page"),[b];a=[];for(const c of this.document.pages)rvb(c,this.document)&&a.push(this.di.tb(c));return a}dSj(){var a;(a=this.mC)===null||a===void 0||a.dispose();this.hCe=this.MFd=this.mC=void 0}$ja(){this.hCe=this.configuration;const a=this.pages,{Ze:b,XY:c}=this.lha({u8a:__c.qze(()=>
a,()=>this.document),override:this.WFp,Arb:mV(()=>{var d;return(d=this.Xxa)===null||d===void 0?void 0:d.isEnabled})});this.MFd=b;this.XY=c;return this.mC=new __c.I4g(this.Op,this.Cf,b,this.qd)}get WFp(){const a=this.configuration;if(a&&a.Ei)return a.Ei===!0?{type:"page",animation:"none"}:{type:"element",animation:"static",elements:a.Ei,timing:{startUs:void 0,durationUs:void 0}}}zom(a,b){var c,d;lV.shallow(a.Ei,(c=this.configuration)===null||c===void 0?void 0:c.Ei)&&a.page===((d=this.configuration)===
null||d===void 0?void 0:d.page)||(this.configuration=a,this.mC&&(b(),this.$ja()));const e=this.configuration;return()=>{this.configuration===e&&(this.configuration=void 0)}}constructor(a,b,c,d,e,f,g){this.lha=a;this.document=b;this.di=c;this.Xxa=d;this.Op=e;this.Cf=f;this.qd=g;this.type=(CLs.G(this),"ANIMATE")}};var g4s=class{get currentTime(){return this.store.currentTime}get duration(){return this.store.duration}get hab(){return this.store.volume}get paused(){return!this.store.If}get loading(){return this.store.va}get zI(){return this.store.zI}get errorMessage(){return this.store.errorMessage}get seeking(){return this.store.CI}get playbackRate(){return 1}dispose(){var a;this.pause();this.controller.stop();clearTimeout(this.Zdh);this.Zdh=void 0;(a=this.k3k)===null||a===void 0||a.call(this);this.k3k=void 0}pause(){this.controller.onPause()}play(){this.Cf.kK();
this.hsa.Cga(()=>this.pause());this.k3k||(this.k3k=eV(()=>this.currentTime>=this.duration,()=>this.pause()));this.controller.onPlay()}resume(){}seek(a,b={}){this.store.currentTime===a||b.LCf||(this.Zdh||this.controller.Sda(),this.controller.MV(a),uLs(this))}ved(){}tOb(a){this.controller.onVolumeChange(a)}constructor(a,b,c,d){this.controller=a;this.store=b;this.hsa=c;this.Cf=d}};var KLs=class{static G(a){O(a,{mC:yV.ref,MFd:yV.ref})}zom(){return function(){}}$ja(){this.mC||(this.mC=new g4s(this.LQh,this.Evb,this.hsa,this.Cf),this.rib=[...this.OUa.Q1c]);this.MFd={GGe:a=>{const b=this.rib.find(c=>c.page===a);return b?b.Pda/1E3:0},ya:this.ya,nextPage:void 0};return this.mC}dSj(){var a;(a=this.mC)===null||a===void 0||a.dispose();this.MFd=this.mC=void 0}get Mke(){return this.Evb.Mke}get ya(){const a=this.Evb.currentTime*1E6;var b=this.rib;const c=b.length-1;b=b.find((d,e)=>{const f=
d.Pda;d=f+d.durationUs;e=e===c;return a>=f&&(a<d||e&&a===d)});return b===null||b===void 0?void 0:b.page}constructor(a,b,c,d,e){this.LQh=a;this.Evb=b;this.hsa=c;this.Cf=d;this.OUa=e;this.rib=(KLs.G(this),[]);this.type="COMPOSITE"}};var ELs=class{static G(a){O(a,{gja:yV.ref,Overlay:mV})}get qef(){return this.gja.type}get ya(){var a;return(a=this.gja.MFd)===null||a===void 0?void 0:a.ya}get nextPage(){var a;return(a=this.gja.MFd)===null||a===void 0?void 0:a.nextPage}get mC(){return this.gja.mC}get configuration(){return this.gja.configuration}get hCe(){return this.gja.hCe}get Overlay(){if(this.gja&&this.gja.mC)return this.gja.type==="ANIMATE"?this.SQo:this.RVo}destroy(){this.gja.dSj()}GGe(a){var b;return(b=this.gja.MFd)===null||
b===void 0?void 0:b.GGe(a)}setActive(a){a=a==="COMPOSITE"&&this.VGj?this.VGj:this.RFp;const b=a.type===this.gja.type;b||(this.gja.dSj(),this.gja=a);return!b}constructor(a,b){this.RFp=a;this.SQo=b;ELs.G(this);this.gja=a}};var h4s=fV(({lxh:a,store:b,children:c})=>b.box?kV("div",{className:"fW2NvA",style:{left:b.box.left,top:b.box.top,width:b.box.width,height:b.box.height},children:[c({box:b.box}),a&&dV("div",{className:"_57TYTg",children:dV(a,{})})]}):null),DLs=fV(({sc:a,XY:b,L:c,vlb:d,cya:e,...f})=>{iV(()=>{c.IIk()},[c]);return dV(h4s,{...f,children:({box:g})=>dV(b,{vlb:d,sc:a,aga:g,Abe:1,Hbd:1,cya:e})})}),LLs=fV(({Myh:a,L:b,...c})=>{iV(()=>{b.IIk()},[b]);return dV(h4s,{...c,children:({box:d})=>dV(a,{k1b:!1,width:d.width,
height:d.height})})});var i4s=class{reaction(a,b){ta(!this.ngb,"Cannot call BufferingTracker::reaction() twice");this.ngb=!0;this.Unc=a;this.effect=b;this.Ew.push(eV(a,c=>{c?this.Syl=Date.now():this.JEk+=Date.now()-this.Syl}),eV(a,c=>{if(this.isBuffering!==c){var d=Date.now(),e=this.XLh,f=0,g=()=>{this.isBuffering=c;vLs(this,e);wLs(this,d,f++)};c?(g(),this.XLh=window.setInterval(g,this.heartbeatInterval)):this.XLh=window.setTimeout(()=>{clearTimeout(this.jok);g()},this.kzj)}}));return()=>{this.dispose()}}dispose(){for(const a of this.Ew)a();
vLs(this);clearTimeout(this.jok)}constructor(){this.Dd={};var a;this.Hf=(a=this.Dd.Hf)!==null&&a!==void 0?a:Sb();var b;this.Ebo=(b=this.Dd.Ebo)!==null&&b!==void 0?b:Date.now();var c;this.kzj=(c=this.Dd.kzj)!==null&&c!==void 0?c:1E3;var d;this.heartbeatInterval=(d=this.Dd.heartbeatInterval)!==null&&d!==void 0?d:5E3;this.jok=this.XLh=this.JEk=this.Syl=0;this.ngb=this.isBuffering=!1;this.Ew=[]}},j4s=(a,b)=>{(new i4s).reaction(a,b)};var GLs=class{static G(a){O(a,{Ajc:yV.ref,xsb:yV.ref,stop:gV.bound,xPa:gV.bound,play:gV.bound,IIk:gV.bound,pause:gV.bound,i3k:gV.bound,wMe:mV,P1e:gV.bound,pZe:gV.bound,seek:gV.bound,hJk:gV.bound,SMc:gV.bound,Xce:gV.bound,qnl:gV.bound})}get lpf(){return this.qd.Gxb(this.document)}configure(a={}){return this.oH.gja.zom(a,()=>this.stop())}create(){const a=this.oH.gja.$ja();this.$Gf();this.disposables=[eV(()=>a.currentTime,b=>{const c=this.oH.ya;c&&(ALs(this,c,this.viewport.ya)||this.VG(c));this.SMc(b);
b>a.duration&&(this.Hs.get()||this.i3k({ended:!0}))})];return a}stop(){var a,b;if(this.oH.mC){yLs(this);var c=this.WMa();(a=this.DY)===null||a===void 0||gps(a,{Ze:c});(b=this.Fbe)===null||b===void 0||b.stop(this.store.currentTime,this.oH.mC.duration,2);this.disposables.forEach(d=>d());this.disposables=[];this.Zji=this.F2e=!1;this.oH.destroy()}}VG(a){var b;const c=(b=this.selection.La)===null||b===void 0?void 0:b.Yz;b=a||(c===null||c===void 0?void 0:c.page)||this.Lw.lwd(this.store.currentTime,this.Ajc);
this.viewport.ya===b||a===void 0&&!this.oH.mC||this.viewport.gw(b)}xPa(a,b=!1){this.c2a.track(cJs,{...a,action:this.oH.mC&&this.store.If?"pause":"play"});this.Ajc=!1;if(this.oH.mC)if(this.store.If||this.store.va)this.pause(),b=this.Lw.lwd(this.store.currentTime,this.Ajc),this.VG(b);else{var c;zLs(this,"COMPOSITE");xLs(this);this.$Gf();this.Rol(b);this.play();(c=this.Fbe)===null||c===void 0||c.e9j(this.store.currentTime)}else{var d,e,f;zLs(this,"COMPOSITE");(d=this.DY)===null||d===void 0||__c.d5p(d);
(e=this.DY)===null||e===void 0||__c.h5p(e,{Ze:this.WMa()});this.F2e=!0;a=this.create();this.Rol(b);a.resume();this.oH.mC&&!DV(this.Lw,this.viewport.ya)&&((this.store.currentTime*1E3|0)>=(this.oH.mC.duration*1E3|0)-1?(this.seek(0),this.VG(this.Lw.lwd(0))):this.VG(this.Lw.lwd(this.store.currentTime)));(f=this.Fbe)===null||f===void 0||f.e9j(this.store.currentTime)}}Rol(a){const b=this.oH.gja.mC;b&&b.tOb(a?0:1)}play(){var a,b;const c=this.oH.gja.mC;c&&(this.Hs.get()&&c.currentTime>c.duration&&c.seek(0),
(a=this.DY)===null||a===void 0||__c.d5p(a),this.store.If||(b=this.DY)===null||b===void 0||__c.h5p(b,{Ze:this.WMa()}),c.resume(),c.play(),this.Zji=!1)}$Gf(){var a,b;((a=this.oH.gja.mC)===null||a===void 0?void 0:a.duration)===this.store.currentTime&&this.SMc(0);((b=this.oH.gja.mC)===null||b===void 0?void 0:b.currentTime)!==this.store.currentTime&&this.seek(this.store.currentTime)}IIk(){this.F2e&&(this.F2e=!1,zLs(this,"COMPOSITE"),this.$Gf(),this.play())}pause(a={seeking:!1,ended:!1}){var b;(b=this.oH.mC)===
null||b===void 0||b.pause({seeking:a.seeking});this.F2e=!1;if(!a.seeking){var c,d,e;(c=this.DY)===null||c===void 0||__c.g5p(c,{oZ:a.ended?"ended":"paused",Ze:this.WMa()});(e=this.Fbe)===null||e===void 0||e.stop(this.store.currentTime,((d=this.oH.gja.mC)===null||d===void 0?void 0:d.duration)||0)}this.Zji=a.seeking}i3k(a={ended:!1}){this.seek(this.oH.gja.mC!=null?Math.min(this.oH.gja.mC.currentTime,this.oH.gja.mC.duration):0);this.Ajc=!1;this.pause({ended:a.ended,seeking:!1})}get xbd(){return this.Lla.xbd.get()}get wMe(){return this.Lla.xbd.get()!=
null}P1e(a){var b;this.Lla.xbd.set(Math.floor(((b=a===null||a===void 0?void 0:a.time)!==null&&b!==void 0?b:this.store.currentTime)*1E6));if(a===null||a===void 0?0:a.direction)this.Ajc=a.direction==="end"}pZe(a){this.wMe&&(this.Lla.xbd.set(void 0),this.oH.gja.mC&&this.SMc(this.oH.gja.mC.currentTime,a))}bFi(){const a=this.Lla.xbd.get();if(a){var b=this.Lla.Dfd;return{BCa:a,Yfd:a===0?0:b,q3c:b}}}seek(a,b){var c,d;this.oH.gja.mC&&((c=this.DY)===null||c===void 0||__c.m5p(c,{Ze:this.WMa()}));zLs(this,"ANIMATE");
a=Math.max(a,0);(d=this.Fbe)===null||d===void 0||d.seek(this.store.currentTime,a);xLs(this);this.SMc(a,b);(this.oH.gja.mC||this.create()).seek(a,{LCf:this.F2e})}hJk(a,b,c){const d=this.oH.gja.mC||this.create();this.seek(Math.max(0,Math.min(this.store.currentTime+(b==="forwards"?1:-1)*a,d.duration)));this.c2a.track(cJs,{action:"seek",kb:c})}SMc(a,b){this.wMe||(this.store.zG=a*1E6,b&&(this.Ajc=b==="end"))}Xce(){this.xsb=null}WMa(){return this.oH.qef==="COMPOSITE"?"composite_player":"document_animation_engine"}qnl(a){this.store.yii=
a}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,u,w,x){this.store=a;this.document=b;this.qd=c;this.viewport=d;this.selection=e;this.Lw=f;this.oH=g;this.aTb=h;this.$M=k;this.c2a=l;this.Lla=m;this.ii=p;this.BLe=q;this.$f=r;this.Fbe=t;this.DY=u;this.PT=w;this.Hs=x;this.disposables=(GLs.G(this),[]);this.pyk=this.Zji=this.F2e=!1;this.djh=!0;this.Ajc=!1;this.xsb=null;eV(()=>!a.va&&!a.If,y=>{!this.Zji&&y&&(this.pyk=!0)});eV(()=>!a.va&&a.If,y=>{var z;y&&((z=this.DY)===null||z===void 0||__c.e5p(z))});eV(()=>{var y;
return d.jh&&{zg:(y=e.La)===null||y===void 0?void 0:y.zg,ya:d.ya}},(y,z)=>{if(this.djh&&f.lgb&&y){var A=y.zg;if(A){var B,D;y=(B=e.La)===null||B===void 0?void 0:B.inner;y=(y===null||y===void 0?void 0:y.type)==="group"?y===null||y===void 0?void 0:y.group:void 0;if(B=(D=e.La)===null||D===void 0?void 0:D.Yz)switch(B.type){case "fixed-page":z=y;D=B.page;y=this.store.zG;const {Pda:G,durationUs:I}=this.Lw.Cwa(D);B=G+I;const {startUs:K,durationUs:N}=pXa(A,D,I,z);z=(this.Hs.get()?0:this.qd.Foc(this.document,
D))+K;A=Math.max(G,Math.min(z,B));z=Math.max(G,Math.min(z+N-1,B));if(A>=y||y>=z)A=Math.abs(A-y)<Math.abs(z-y)?A:z,this.SMc(A/1E6,A<B?"start":"end"),this.VG(D);break;case "concatenated-fixed-page":case "responsive-page":break;default:throw new v(B);}}else if(y.ya!==(z&&z.ya)){A=this.store.currentTime;y=this.store.zG;D=this.viewport.ya;const {Pda:G,durationUs:I}=this.Lw.Cwa(D);!(y>=this.lpf&&this.document.pages.last()===D)&&(D=y<G||y>G+I||!this.Ajc&&y===G+I,B=!1,this.ii.get()&&this.BLe.get()&&(D=y<=
G,B=y>=G+I),y=this.oH.ya&&!this.document.pages.has(this.oH.ya),D||B||y)&&(this.stop(),D?this.SMc(G/1E6,"start"):B?this.SMc((G+I)/1E6,"end"):this.SMc(A,"start"))}}});eV(()=>{var y;if((y=this.oH.hCe)===null||y===void 0||!y.page)return this.lpf,a.pages},y=>y&&BLs(this,y.map(z=>z.page)));eV(()=>this.lpf,y=>{if(a.zG>y){const z=this.document.pages.last(A=>DV(this.Lw,A));if(z!=null){const {durationUs:A,Pda:B}=f.Cwa(z);a.zG=Math.min(A+B,y)}this.stop()}});eV(()=>!a.va&&!a.CI||!this.oH.gja.mC,y=>{var z;y&&
((z=this.DY)===null||z===void 0||__c.j5p(z,{Ze:this.WMa(),oZ:this.oH.gja.mC?"ended":"disrupted"}))});eV(()=>a.va,y=>{if(y){var z,A;(z=this.Fbe)===null||z===void 0||z.startBuffering(this.store.currentTime);(A=this.DY)===null||A===void 0||__c.cee(A,{Ze:this.WMa()})}else{var B,D;(B=this.Fbe)===null||B===void 0||B.J5a();(D=this.DY)===null||D===void 0||__c.bee(D)}});eV(()=>a.g$e,y=>{var z,A;if(y){(z=this.Fbe)===null||z===void 0||z.error();z=this.oH.qef==="COMPOSITE";if((A=this.DY)!==null&&A!==void 0){var B=
this.WMa(),D,G,I,K;A.jIg=!0;if(((D=A.IOa)===null||D===void 0?0:D.isRecording())||((G=A.vvc)===null||G===void 0?0:G.isRecording())||((I=A.q0b)===null||I===void 0?0:I.isRecording()))((K=A.IOa)===null||K===void 0?0:K.isRecording())&&A.IOa.mb().addEvent("document_watch_error",new Map([["engine",B],["error_data",y]])),__c.j5p(A,{Ze:B,oZ:"error"}),__c.o5p(A,{Ze:B,oZ:"error"}),z&&__c.g5p(A,{Ze:B,oZ:"error"})}if(z){var N;a.hIg=z;zLs(this,"ANIMATE");xLs(this);this.$Gf();((N=this.oH.VGj)===null||N===void 0?
0:N.Mke)&&this.play()}}});eV(()=>{var y;return(y=this.aTb)===null||y===void 0?void 0:y.isSupported()},async y=>{y=await y;a.iii=!!y},{fireImmediately:!0});j4s(()=>a.va,y=>{this.c2a.track(IPs,{...y,location:"timeline_canvas_preview"})})}};var FLs=class{static G(a){O(a,{yii:yV.ref,zG:mV,mC:mV,If:mV,va:mV,CI:mV,pages:mV({equals:lV.shallow}),box:mV.struct,g$e:mV,vNj:mV})}get currentTime(){return this.zG/1E6}get zG(){return this.timing.Amf}set zG(a){this.timing.Amf=a}get t7e(){const a=this.viewport.mh;return this.timing.Hs&&a.type==="fixed-page"?this.qd.tb(a.ia):this.qd.Gxb(this.document)}get mC(){return this.oH.mC}get If(){var a;return((a=this.mC)===null||a===void 0?void 0:a.paused)===!1}get va(){var a;return!((a=this.mC)===null||a===
void 0||!a.loading)}get CI(){var a;return!((a=this.mC)===null||a===void 0||!a.seeking)}get pages(){var a=this.oH.configuration;if(a===null||a===void 0?0:a.page)return[a.page];a=this.viewport.mh;return this.timing.Hs&&a.type==="fixed-page"?[this.di.tb(a.ia)]:this.document.pages.filter(b=>rvb(b,this.document)).map(b=>this.di.tb(b))}get box(){if(this.viewport.jh&&this.viewport.ya&&this.document.pages.has(this.viewport.ya)){var a=this.viewport.YN(this.viewport.mh);return a&&a.transform(this.viewport.Mha()).Mb()}}get g$e(){var a,
b;return(b=(a=this.mC)===null||a===void 0?void 0:a.errorMessage)!==null&&b!==void 0?b:void 0}get vNj(){return this.oH.qef}constructor(a,b,c,d,e,f){this.document=a;this.di=b;this.viewport=c;this.qd=d;this.timing=e;this.oH=f;this.yii=(FLs.G(this),void 0);this.hIg=this.iii=!1}};var ZLs=(a,b,c)=>{const d=jV(null),e=jV(b),f=jV(c),g=jV(0);jQs(()=>{var h,k=b!==e.current||c!==f.current;e.current=b;f.current=c;if(k){k=g.current;var l,m=((l=(h=d.current)===null||h===void 0?void 0:h.getBoundingClientRect().left)!==null&&l!==void 0?l:0)-k;m!==0&&a.scrollBy({kSg:m,behavior:"instant"})}},[a,b,c]);iV(()=>eV(()=>[a.scrollLeft,a.clientWidth],Hb(()=>{var h,k;g.current=(k=(h=d.current)===null||h===void 0?void 0:h.getBoundingClientRect().left)!==null&&k!==void 0?k:0},50)),[a]);return d};var OLs=class{static G(a){O(a,{xEh:yV.ref,tEh:yV.ref,kFh:yV.ref,GXc:yV.ref,oEh:yV.ref,$Bb:gV.bound,xJd:gV.bound,RZb:gV.bound,Ly:gV.bound,d0:gV.bound})}get XU(){return this.kFh}get U8m(){return this.oEh}get xE(){return this.xEh}get isActive(){return this.GXc}$Bb(a){this.GXc=a}get UJ(){return this.tEh}xJd(a,b){if(a!==this.tEh){var c=this.V.sb("set_fixed_width");this.J5f.RZb({r6g:"current_page"});this.tEh=a;setTimeout(()=>{c.addEvent("timeline_zoomed");this.J5f.zil();this.J5f.d0();c.ne({qx:({Ii:d})=>
NFs(this.N,{UJ:a,Rb:d(),kb:b})})},0)}}RZb(a){var b;if(!this.disabled){this.oEh=this.XU;this.xEh=!0;this.$Bb(!0);a&&this.J5f.RZb(a);var c=((b=this.wkb)===null||b===void 0?0:b.isRecording())?this.wkb:this.V.sb("zoom",{Fb:{name:"timeline.zoom",performance:{jT:!0}}});setTimeout(()=>c.addEvent("zoom_start"));this.wkb=c}}Ly(a){this.kFh=Math.min(Math.max(Math.round(a*100)/100,.1),5);AV.dZj&&this.J5f.zil()}d0(a){var b,c,d;if(!this.disabled){this.xEh=!1;this.J5f.d0();var e=n(this.oEh);this.oEh=void 0;var f=
Math.round(this.kFh*100),g=Math.round(e*100);if(f===g){var h;(h=this.wkb)===null||h===void 0||h.end()}else{var k=f>g?"zoom_in":"zoom_out";(b=this.wkb)===null||b===void 0||b.addEvent("zooming");(c=this.wkb)===null||c===void 0||c.mb().nk(({Ii:l})=>LFs(this.N,{action:k,previous:g,current:f,kb:a,Rb:l()}));(d=this.wkb)===null||d===void 0||d.ne()}}}get disabled(){return this.Omo.value}oMa(a){return this.Omo.add(a)}constructor(a,b,c,d){this.V=a;this.N=b;this.J5f=d;this.xEh=(OLs.G(this),!1);this.kFh=.6;this.GXc=
!1;this.Omo=new __c.Hk;this.min=.1;this.max=5;this.tEh=c===2}};var PLs=class{static G(a){O(a,{hgf:gV.bound})}eyg(){var a;(a=this.container)===null||a===void 0||a.addEventListener("wheel",this.X2g)}Grg(){var a;(a=this.container)===null||a===void 0||a.removeEventListener("wheel",this.X2g)}hgf({delta:a,Hi:b}){const c=this.qG,d=c.Ly,e=c.XU,f=c.RZb;c.xE?d(e*k4s**-Math.min(25,Math.max(-25,a))):f({r6g:"cursor",Hi:b});this.Y2g()}constructor(a){this.qG=a;this.container=(PLs.G(this),void 0);this.uzd=!1;this.yq=b=>{if(b)this.container=b,this.container.addEventListener("wheel",
this.i1g,{passive:!0}),this.eyg();else{var c;(c=this.container)===null||c===void 0||c.removeEventListener("wheel",this.i1g);this.Grg();this.container=void 0}};this.i1g=b=>{if(!b.ctrlKey&&!b.metaKey||this.uzd)this.Grg(),this.uzd=!0,this.iWk()};this.iWk=Hb(()=>{this.uzd=!1;this.eyg()},80);this.X2g=b=>{!b.ctrlKey&&!b.metaKey||this.uzd||(b.preventDefault(),this.hgf({delta:b.deltaY,Hi:b.clientX}))};this.Y2g=Hb(()=>this.qG.d0("scroll"),200)}},k4s=2**.01;var MLs=class{};var QLs=a=>{const b=a.Mys,c=a.ket.XU,[d,e]=nV(c);iV(()=>{d!==c&&(!AV.dZj&&b.zil(),e(c))},[d,c,b])};var NLs=class{constructor(a,b){this.config=a;this.Xo=b;this.s6g=this.y4k=0;this.RZb=c=>{c.r6g==="cursor"&&n(this.config.YYq).hide();var d=n(this.config.yil);const e=n(this.config.timeline);d=d.scrollLeft;a:{const {scrollLeft:g,clientWidth:h,z0b:k}=n(this.config.yil),{XWq:l,Y1d:m,zYq:p,MGe:q,ILq:r}=n(this.config.timeline);switch(c.r6g){case "playhead_or_center":c=l()||0;var f=q(c);c=g<=f&&f<g+h?c:m(g+h/2-k);break a;case "pinch_centre":case "cursor":c=m(c.Hi-r.get())||0;break a;case "current_page":c=
p();f=q(c);c=g<=f&&f<g+h?c:m(g);break a;default:throw new v(c);}}this.s6g=c;this.y4k=e.MGe(this.s6g)-d};this.zil=()=>{if(this.s6g){var c=n(this.config.yil),d=n(this.config.timeline).MGe(this.s6g)-this.y4k,e=Math.abs(d-this.Xo.scrollLeft)>500,f=d+this.Xo.clientWidth>this.Xo.scrollWidth;AV.euq&&e||f?requestAnimationFrame(()=>c.scrollTo(d)):c.scrollTo(d)}};this.d0=()=>{this.y4k=this.s6g=0}}};var ULs=Wc*2;var cMs=({va:a,Sda:b,Mba:c,MV:d,currentTime:e,totalTime:f})=>dV(R,{Kb:"3u",children:dV(__c.Su,{step:"any",onChange:d,onDragStart:b,onDragEnd:c,fillColor:"var(--v7HVIg)",disabled:a,min:0,max:f,value:e,ariaLabel:L("0sE/Rg"),YI:"none"})});var dMs=({GXi:a,Ytp:b,aqp:c})=>kV(__c.Dph,{h9g:["onTouchMove","onClick"],Nsg:["touchmove","click"],kOc:a,children:[dV(R,{display:"flex",justifyContent:"center",width:"full",children:dV(b,{})}),dV(c,{})]});var bMs=class{static G(a){O(a,{A2e:yV.ref,X0f:gV.bound,GXi:gV.bound,MV:gV.bound,Sda:gV.bound,Mba:gV.bound,jlo:gV.bound,WBb:gV.bound,xjf:gV.bound})}X0f(){this.selection.deselectAll();this.Iga.If?this.onPause():this.onPlay()}GXi(){this.Q6k?this.Q6k=!1:(this.Vyf=!0,this.Iga.stop())}MV(a){this.selection.deselectAll();this.Iga.seek(a,"start")}Sda(){this.dAk=!0;this.Iga.hxa(!0);__c.Whj(this.Iga,"pause")}Mba(){this.dAk=!1;this.Iga.hxa(!1);if(!this.Vyf)this.onPlay()}jlo(){var a;(a=this.dwj)===null||a===void 0||
a.call(this);this.dwj=eV(()=>({If:this.Iga.If,A2e:this.A2e,hm:this.selection.La}),({If:b,A2e:c,hm:d})=>{if(!(!(c||Math.abs(this.Iga.t7e-this.Iga.zG)<1E3)||b||this.dAk||this.Vyf||d&&d.type!=="audio"))this.onPlay()},{fireImmediately:!0,delay:200})}WBb(a){__c.Whj(this.Iga,"pause");a&&(this.MV(0),this.dwj?this.Q6k=!0:this.jlo(),this.Vyf=!1);this.A2e=a}xjf(){var a;(a=this.dwj)===null||a===void 0||a.call(this)}onPlay(){this.Vyf=!1;__c.Whj(this.Iga,"play",Math.abs(this.Iga.t7e-this.Iga.zG)<1E3?0:this.Iga.zG/
1E6)}onPause(){this.Vyf=!0;__c.Whj(this.Iga,"pause")}constructor(a,b){this.selection=a;this.Iga=b;this.A2e=(bMs.G(this),!1);this.Q6k=this.dAk=this.Vyf=!1}};var l4s=()=>{const a=hV(b=>{b.stopPropagation();b.preventDefault()},[]);return dV("div",{className:"QTiwOg",onClick:a,onPointerMove:a,onPointerLeave:a,onPointerMoveCapture:a,onTouchMove:a,onTouchStart:a,onTouchEnd:a,onTouchStartCapture:a,onTouchMoveCapture:a,onTouchEndCapture:a})};var m4s=fV(a=>{const b=a.zi,c=a.store,d=a.L;a=c.H8?J("TGjIVQ",[c.YJ]):L("dC44Ug");return dV(b,{onClick:()=>d.QAo(c),icon:__c.ZAj,yh:"icon",disabled:!c.hN,pressed:c.H8,tooltip:a,ECa:a,children:a})});var n4s=({document:a,Cd:b,selection:c,P:d,store:e,L:f,Bw:g,Uj:h,Ec:k})=>{const l=()=>{var p,q;const r=!g.UJ&&h.mq==="thumbnail",t=c.La&&c.La.type==="pages"&&!((p=c.La)===null||p===void 0?0:p.inner)&&((q=c.La)===null||q===void 0?void 0:q.Ji());return(r||e.ii)&&t&&!k.iLa},m={document:a,store:e,P:d,L:f};eV(l,p=>{b.plugins.lFb=p?()=>({Qd:()=>!(!l()||!e.ii),Button:q=>dV(m4s,{...q,...m})}):void 0})};var o4s=fV(({A0a:a,mq:b,$f:c,onClick:d,onMouseDown:e,onMouseUp:f})=>{const g=c.u8i;c=c.q6f;a=kV(rV,{children:[g&&dV(g,{}),dV(a,{active:b==="thumbnail",jk:!0,icon:__c.wbr,onClick:d,hb:b==="thumbnail"?L("L7Dryw"):L("6ds0BA"),onMouseDown:e,onMouseUp:f,children:L("Te3Qhw")})]});return c&&b==="thumbnail"?dV(c.Um,{children:a}):a});var p4s=class{static G(a){O(a,{rNg:yV.ref,isMouseDown:yV.ref,fCn:gV.bound,RBn:gV.bound,iFj:gV,CKn:gV.bound,DKn:gV.bound})}fCn(){var a;const b=this.V.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed"}});this.rNg=!1;this.viewport.EG(this.viewport.mh);this.Uj.mq="thumbnail";this.mCm.set(!0);(a=this.$f.q6f)===null||a===void 0||a.sh();b.mb().nk(({Ii:c})=>{IFs(this.Wyc,{mq:"thumbnail_view",wuc:"scrolling_view",kb:"click",Rb:c()})});vb.od?(b.setAttribute("use_animations",!0),setTimeout(()=>{b.ne()},
o1s)):(b.setAttribute("use_animations",!1),b.ne())}RBn(){var a;const b=this.V.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed",performance:{jT:!0}}});(a=this.$f.q6f)===null||a===void 0||a.sh();b.mb().nk(({Ii:c})=>{IFs(this.Wyc,{mq:"scrolling_view",wuc:"thumbnail_view",kb:"click",Rb:c()})});vb.od?(b.setAttribute("use_animations",!0),this.rNg=!0,setTimeout(()=>{this.iFj();b.ne()},o1s)):(b.setAttribute("use_animations",!1),this.iFj(),b.ne())}iFj(){this.Uj.mq="scroll";this.mCm.set(!0);this.rNg=
!1}CKn(){this.isMouseDown=!0}DKn(){this.isMouseDown=!1}constructor(a,b,c,d,e,f){this.viewport=a;this.Uj=b;this.$f=c;this.Ma=d;this.Wyc=e;this.V=f;this.rNg=(p4s.G(this),!1);this.isMouseDown=!1;this.mCm=yV.box(!1);this.Ma.Aof(()=>this.isMouseDown)}};var q4s=class{dDo({kb:a,mb:b,Dge:c}){__c.gMs(this,{action:"add",kb:a,mb:b,Dge:c,Z5e:c})}GHl(){this.N.track(__c.eZg,{location:"page_manager"})}eDo({Wb:a,kb:b}){this.N.track(__c.Toh,{Wb:a.toString(),kb:b})}constructor(a){this.N=a}};var r4s,s4s,t4s,u4s;
new (r4s=class extends JV{constructor(){super(u4s);s4s()}},(()=>{class a extends(t4s=HV){static G(b){O(b,{onClick:gV.bound})}render(){return dV(this.props.NE,{onClick:this.onClick,dB:this.props.config.active,ZY:__c.szr,children:L("PMajWQ")})}onClick(){const b=this.props.config;var c=this.props.Uj;const d=this.props.onClick,e=this.props.oa,f=this.props.N;d();c=c.mq==="thumbnail"?"thumbnail_view":"scrolling_view";IFs(f,{mq:b.active?c:"grid_view",wuc:b.active?"grid_view":c,kb:"file_menu"});e&&e()}constructor(...b){super(...b);
a.G(this)}}({c:[u4s,s4s]}=KV(a,[],[Ob],t4s))})(),r4s);var v4s,w4s,x4s=class extends HV{componentDidMount(){Kb(this,Ats(()=>{const a=this.props.config.active,b=this.Si.current;a&&(this.pPn=!0);b&&!a&&this.pPn&&b.focus()},{scheduler:requestAnimationFrame}))}render(){const a=this.props.config,b=this.props.$f,c=this.props.A0a,d=this.props.onClick,e=this.props.loading,f=this.props.disabled;return kV("div",{className:"IEWxtg",children:[(b===null||b===void 0?void 0:b.zDh)&&dV(b.zDh,{}),dV(c,{Si:this.Si,hb:a.active?L("uOeEsg"):L("Agz4jg"),className:CV("pnGOPw"),
icon:__c.szr,loading:e,onClick:d,active:a.active,jk:!0,disabled:f})]})}constructor(...a){super(...a);this.Si=IV();this.pPn=!1}};({c:[w4s,v4s]}=KV(x4s,[],[Ob],HV));v4s();var y4s=class{static G(a){O(a,{r3b:yV.ref})}constructor(){this.r3b=(y4s.G(this),void 0)}},z4s=class extends y4s{static G(a){O(a,{active:yV.ref,OEi:yV.ref,Overlay:yV.ref})}constructor(...a){super(...a);this.active=(z4s.G(this),!1);this.OEi=0}};var A4s=class{ogo(a){this.pld=a}constructor(a){this.config=a;this.pld=void 0;this.l6a=async b=>{this.pld&&await this.pld();oV(()=>{this.config.OEi=b})};this.oie=async()=>{const b=!this.config.active;b&&this.pld&&await this.pld();oV(()=>{b&&this.l6a(0);this.config.active=b})}}};var B4s=({isActive:a,wnr:b})=>dV("span",{className:CV("Wo8dEg",{znpHJQ:a,fxZSqw:b})}),iMs=({jr:a,TGa:b,onNext:c,wTe:d})=>{const [e,f]=nV(1);iV(()=>{a<e?f(a):a>=e+5&&f(a-5+1)},[e,a]);const g=zV(()=>Array.from({length:Math.min(e+5-1,b)-e+1},(h,k)=>e+k),[e,b]);return kV(kr,{columns:3,Fa:"center",children:[kV(R,{display:"flex",justifyContent:"start",children:[dV(bj,{variant:"tertiary",icon:vr,onClick:d,disabled:a<=1,size:"small",ariaLabel:L("a9/EUw")}),dV(bj,{variant:"tertiary",icon:wr,onClick:c,disabled:a>=
b,size:"small",ariaLabel:L("OmU55Q")})]}),dV(R,{display:"flex",alignItems:"center",justifyContent:"center",children:g.map((h,k)=>{const l=h===a;k=k===0||k===g.length-1;return dV(B4s,{isActive:l,wnr:!l&&k&&b>5},h)})}),dV(R,{display:"flex",justifyContent:"end",children:dV(P,{size:"small",weight:"bold",children:J("PSmC9g",[a,b])})})]})};var hMs=class{static G(a){O(a,{$Ym:gV.bound,cZm:gV.bound,jr:mV,TGa:mV})}$Ym(){this.Nfa(this.BNj+1)}cZm(){this.Nfa(this.BNj-1)}get jr(){return this.BNj+1}get TGa(){return this.document.pages.toArray().length}Nfa(a){const b=this.document.pages.toArray();a>=0&&a<b.length&&this.viewport.EG(this.di.tb(b[a]))}get BNj(){return this.document.pages.toArray().indexOf(this.viewport.ya)}constructor(a,b,c){this.document=a;this.di=b;this.viewport=c;hMs.G(this)}};var C4s=fV(a=>{const b=a.sc,c=a.page;var d=a.Pc;const e=xg(4,a.gb.Zk(c.page));if(zg(e))return null;a=e.width*d.scale;d=e.height*d.scale;return dV("div",{className:"_4zNepg",children:kV("div",{className:"QqGjMw",children:[dV(b,{page:c,nd:a,sf:d,Nbb:!0}),dV(b,{page:c,nd:a,sf:d,Nbb:!0})]})})});var D4s=class{static G(a){O(a,{fce:yV.ref,NUa:yV.ref,nUc:yV.ref,s$d:yV.ref})}constructor(){this.fce=(D4s.G(this),void 0)}};var E4s=class{async fce(a){var b=a.selection;const c=a.fce;a=Gps(this.document,a.selection.container.page,this.Gb,b.elements,this.nka,this.KE);const {gC:d,ev:e}=await ops(this.INb,b.elements);b=this.document.pages.toArray().indexOf(b.Yz.page);c({Ia:a,gC:d,ev:e},b+1);this.k1c.Jya({Wc:"export_selection",sU:[b]})}constructor(a,b,c,d,e,f,g,h){this.config=a;this.document=b;this.Gb=c;this.selection=d;this.INb=e;this.nka=f;this.KE=g;this.k1c=h}},kMs=["https://app.flourish.studio/","https://public.flourish.studio/",
"https://flourish-user-preview.com/","https://flo.uri.sh/"];var pMs='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><filter id="_1037106200__a" width="250%" height="250%" x="-75%" y="-66.7%" filterUnits="objectBoundingBox"><feMorphology in="SourceAlpha" operator="dilate" radius=".5" result="shadowSpreadOuter1"/><feOffset in="shadowSpreadOuter1" result="shadowOffsetOuter1"/><feColorMatrix in="shadowOffsetOuter1" result="shadowMatrixOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.20 0"/><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"/><feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="2.5"/><feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="shadowMatrixOuter2"/></feMerge></filter><path id="_1037106200__b" d="M10 18.95a2.51 2.51 0 0 1-3-2.45v-7a2.5 2.5 0 0 1 2.74-2.49L10 7h6a3 3 0 0 1 3 3h-9v8.95z"/></defs><use fill="0d1216" filter="url(#_1037106200__a)" xlink:href="#_1037106200__b"/><use fill="currentColor" xlink:href="#_1037106200__b"/></svg>';var F4s=16/9,G4s=class{static G(a){O(a,{region:yV.ref,Dbg:yV.ref,Zoe:yV.ref,k$g:mV,QBd:mV({equals:__c.tk(lV.shallow)}),fBd:mV({equals:__c.tk(lV.shallow)}),aspectRatio:mV})}get k$g(){var a;return(a=this.config.nUc)===null||a===void 0?void 0:a.get(this.viewport.ya)}get QBd(){if(rf(this.viewport.ya))return{x:0,y:0};if(this.k$g)return this.k$g.tl}get fBd(){if(!rf(this.viewport.ya)&&this.k$g)return this.k$g.br}get aspectRatio(){if(rf(this.viewport.ya))return F4s}constructor(a,b){this.config=a;this.viewport=
b;this.region=(G4s.G(this),Sj(0,0,0,0))}},H4s=class{static G(a){O(a,{mzo:mV,F0m:gV.bound,E0m:gV.bound,D0m:gV.bound,a1m:gV.bound,$0m:gV.bound,Z0m:gV.bound})}get mzo(){if(this.config.s$d&&this.config.NUa){var a=this.config.NUa.get(this.viewport.ya);if(a){oV(()=>{this.store.region=a});var b=this.config.s$d;return{s$d:c=>{b(this.viewport.ya,c)},Ol:()=>this.viewport.Ol(this.viewport.mh)}}}}F0m(a){this.store.Dbg=a}E0m(a){if(this.store.Dbg){var [b,c,d,e]=this.store.region.oh(),f=b.x,g=b.y,h=e.x,k=e.y;switch(this.store.Dbg){case "top-left":f=
a.x;g=a.y;a=e;break;case "top-right":h=a.x;g=a.y;a=d;break;case "bottom-left":f=a.x;k=a.y;a=c;break;case "bottom-right":h=a.x;k=a.y;a=b;break;default:throw new v(this.store.Dbg);}this.store.QBd!=null&&(f=Math.max(f,this.store.QBd.x),g=Math.max(g,this.store.QBd.y));this.store.fBd!=null&&(h=Math.min(h,this.store.fBd.x),k=Math.min(k,this.store.fBd.y));h<=f+this.minWidth&&(a===b||a===d?h=f+this.minWidth:f=h-this.minWidth);var l,m=this.minWidth/((l=this.store.aspectRatio)!==null&&l!==void 0?l:1);k<=g+
m&&(a===b||a===c?k=g+m:g=k-m);f=Sj(f,g,h,k);if(this.store.aspectRatio!=null){let r;if(a===d||a===e)r=a.y;g=Math.max(f.width,this.minWidth);var p;h=g/((p=this.store.aspectRatio)!==null&&p!==void 0?p:1);if(r&&h>r){h=r;var q;g=h*((q=this.store.aspectRatio)!==null&&q!==void 0?q:1)}f=f.resizeTo(a,g,h)}this.store.region=f}}D0m(a){this.store.Dbg=void 0;a(this.store.region)}a1m(a,b){this.store.Zoe={toa:a,Dga:b}}$0m(a){if(this.store.Zoe){var b=this.store.Zoe.toa;b=this.store.region.translate(a.x-b.x,a.y-b.y);
var c=b.tl,d=b.br;this.store.QBd!=null&&(c.x<this.store.QBd.x&&(b=b.translate(this.store.QBd.x-c.x,0)),c.y<this.store.QBd.y&&(b=b.translate(0,this.store.QBd.y-c.y)));this.store.fBd!=null&&(d.x>this.store.fBd.x&&(b=b.translate(this.store.fBd.x-d.x,0)),d.y>this.store.fBd.y&&(b=b.translate(0,this.store.fBd.y-d.y)));this.store.region=b;this.store.Zoe.toa=a}}Z0m(a){this.store.Zoe&&(this.store.Zoe.Dga(),this.store.Zoe=void 0,a(this.store.region))}constructor(a,b,c,d=100){this.store=a;this.config=b;this.viewport=
c;this.minWidth=d;H4s.G(this)}};var qMs=class{static G(a){O(a,{swh:yV.shallow,q4a:gV.bound})}async q4a(a){this.swh?this.swh.L.CSk(a):this.vMc||(this.vMc=this.Kvr().then(b=>{oV(()=>{this.swh=b;this.swh.L.CSk(a)})}))}constructor(a){this.Kvr=a;this.swh=(qMs.G(this),void 0)}};var I4s=Qb("51b692ce",!1);var J4s=Qb("5a89daf5",!1),K4s=Qb("2cd7bf1",!1);var L4s,M4s,N4s,O4s,P4s,Q4s,R4s;
new (L4s=class extends JV{constructor(){super(R4s);N4s()}},(()=>{class a extends(O4s=HV){static G(b){O(b,{dhl:yV.ref,YEa:mV,ya:mV,B0c:mV,Pno:mV})}componentDidMount(){const b=this.props.viewport,c=this.props.L;Kb(this,[eV(()=>b.jh&&b.sQ?b.jz():void 0,d=>d&&c.jDc()),eV(()=>b.jh&&b.sQ?b.ya:void 0,d=>{d&&((d=c.fFg(c.viewport.ya))&&c.ckb(c.viewport.ya,d),d=void 0);return d},{scheduler:c.Uhl})])}get YEa(){return this.props.direction==="horizontal"}get ya(){return this.props.viewport.ya}get B0c(){return this.props.L.fFg(this.ya)}get Pno(){return ok(this.ya,this.props.document.dimensions)||
this.props.viewport.sQ&&!rf(this.ya)}render(){const b=this.props.document,c=this.props.viewport,d=this.props.Ro,e=this.props.L,f=this.props.canDrag,g=this.props.m1,h=this.props.Wop;if(!c.jh)return null;const k=this.ya,l=this.B0c,m=`${l}-${this.dhl}`,p=this.props.direction==="horizontal",q=CV("Jenr8g",{L_t7dw:p,aLiuUA:!p,hMlp2g:vc.iU,[this.SHa.get()]:f});return dV(__c.SSf,{canDrag:this.canDrag,onDragStart:this.onDragStart,pe:this.pe,onDragEnd:this.onDragEnd,Gw:this.Gw,Tue:!0,SHa:f?this.SHa:void 0,
children:({onTouchStart:r,onMouseDown:t})=>dV(qQs["default"],{onResize:this.onResize,bounds:!0,children:({measureRef:u})=>kV("button",{ref:u,className:q,onTouchStart:r,onMouseDown:t,children:[p||c.sQ?l&&this.Pno&&dV(S4s,{document:b,viewport:c,L:e,id:l,page:k,YEa:p,lYg:!1,m1:g},m):b.pages.map((w,x)=>{const y=parseInt(x,10)===b.pages.count()-1;return ok(w,b.dimensions)&&dV(S4s,{document:b,viewport:c,Ro:d,L:e,id:x,page:w,YEa:p,lYg:y,m1:g},x)}),h&&dV(h,{})]})})})}constructor(...b){super(...b);this.dhl=
(R4s.G(this),0);this.isDragging=!1;this.onResize=c=>{if(!ok(this.ya,this.props.document.dimensions)){const d=n(c.bounds);oV(()=>{this.dhl=this.YEa?d.width:d.height;this.props.L.jDc()})}};this.onDragStart=c=>{var d=this.props.Q9b,e=this.props.direction==="horizontal"?1:2;const f=d.L.Oyl();e=d.L.sGh(new xj(c.clientX,c.clientY),e,"drag_from_ruler");d.L.onDragStart(c,e,f);this.isDragging=!0};this.canDrag=()=>this.props.canDrag;this.pe=c=>{this.isDragging&&this.props.Q9b.pe(c)};this.Gw=c=>{this.isDragging&&
this.props.Q9b.Gw(c)};this.onDragEnd=()=>{this.isDragging&&this.props.Q9b.onDragEnd();this.isDragging=!1};this.SHa=mV(()=>__c.iy(new __c.n9g(this.YEa?0:90)))}}({c:[R4s,N4s]}=KV(a,[],[Ob],O4s))})(),L4s);var S4s;
new (M4s=class extends JV{constructor(){super(S4s);P4s()}},(()=>{class a extends(Q4s=HV){static G(b){O(b,{visible:yV.ref,MP:gV.bound,eId:mV,increment:mV,HUf:mV({equals:lV.shallow}),O5n:mV,Mbm:mV,Vyl:mV,segments:mV,R4d:mV})}componentDidMount(){const b=this.props.page,c=this.props.id,d=this.props.viewport,e=this.props.document,f=this.props.L,g=ok(b,e.dimensions);Kb(this,[eV(()=>({dimensions:this.eId,tf:e.pages.count(),Rr:d.Rr,qNg:!this.props.m1.get()}),()=>{f.ckb(b,c)},{scheduler:g?f.Uhl:void 0,equals:lV.structural})]);
this.props.Ro?Kb(this,[this.props.Ro.observe(this.N5n.current,this.MP)]):this.MP(!0)}get eId(){var b=this.props.L,c=this.props.page;const d=pk(c,b.document.dimensions);if(ok(c,b.document.dimensions))b={...d,top:0,left:0,zoom:b.viewport.ZN(c),TOg:!1};else if(b.exq)if(b.store.TLg!==void 0){var e,f;const {width:g=0,height:h=0,top:k=0,left:l=0}=(f=(e=b.store.zQ)===null||e===void 0?void 0:e.Mb())!==null&&f!==void 0?f:{};c=b.viewport.zoom.scale;b={width:g/c,height:h/c,units:d.units,top:k,left:l+(b.Ti?g||
0:0),zoom:c,TOg:!1}}else b=yMs(b,c,d);else b=yMs(b,c,d);return b}get increment(){a:{var b=this.eId;var c=b.units;b=b.zoom;for(const d of T4s)if(b*d*Ov(c)>=34){c=d;break a}c=T4s[0]}return c}get HUf(){{var b=this.eId;var c=this.increment,d=b.width,e=b.height;const f=b.units;e=this.props.YEa?d:e;e===0?b={GUf:0,Y_e:0}:(d=Math.floor(e/c),c=d===0?34:c*Ov(f)*b.zoom,b={GUf:Math.max(e*Ov(f)*b.zoom-d*c>c/2?d+1:d,1)+1,Y_e:c})}return b}get O5n(){return tMs(this.props.L,{...this.HUf,YEa:this.props.YEa,eId:this.eId,
lYg:this.props.lYg})}get Mbm(){return this.HUf.Y_e>51?4:1}get Vyl(){var b=this.eId,c=this.increment;const d=this.props.YEa?b.left:b.top;return b.TOg?Math.floor(d/c)*c:0}get segments(){return this.props.L.getSegments(this.Vyl,this.increment,this.HUf.GUf,this.HUf.Y_e)}get R4d(){return this.props.L.R4d}render(){const b=this.Mbm,c=this.O5n,d=this.segments,e=this.props.YEa,f=this.HUf.Y_e;var g=uMs(this.props.L,this.props.page,this.props.id,this.eId,this.Vyl,e);const h=e?g:0;g=e?0:g;const k=CV("_2FlpPA",
{_9gZ9sA:this.R4d,Mfjqtw:this.props.lYg}),l={width:e?f:void 0,height:e?void 0:f};return dV("span",{ref:this.N5n,className:"s_6adA",style:{transform:`translate(${h}px, ${g}px)`,width:e?c:void 0,height:e?void 0:c},children:this.visible&&dV("span",{className:"j_ppcA",children:d.map((m,p)=>kV("span",{className:k,style:l,children:[dV("span",{className:"ZCbumA nbfwjw",style:{visibility:m.visible?"visible":"hidden"},children:dV("span",{className:"Wv5dfA",children:m.label})}),kV("span",{className:"u5M_pQ",
children:[qc(b).map(q=>dV("span",{className:"FrC_Jg"},q)),dV("span",{className:"BN56bQ"}),qc(b).map(q=>dV("span",{className:"FrC_Jg"},q))]})]},p))})})}constructor(...b){super(...b);this.N5n=(S4s.G(this),IV());this.visible=!1;this.MP=c=>this.visible=c}}({c:[S4s,P4s]}=KV(a,[],[Ob],Q4s))})(),M4s);
var U4s=class extends HV{componentDidMount(){Kb(this,[Ats(()=>{var a,b;const c=this.props.zQ,d=this.props.Zeh;var e=this.props.fFg,f=this.props.hFg;const g=this.props.direction==="horizontal";var h,k=(h=(a=this.props.TLg.get())===null||a===void 0?void 0:a.Mb())!==null&&h!==void 0?h:(b=c.get())===null||b===void 0?void 0:b.Mb();e=(a=d.get())?e(a):void 0;k&&a&&e&&(e=f(a,e,g),f=g?k.width:k.height,k=g?e+k.left:e+k.top,e=this.mYd.current)&&(a=g?f:void 0,f=g?void 0:f,a&&(e.style.width=`${a}px`),f&&(e.style.height=
`${f}px`),e.style.transform=g?`translateX(${k}px)`:`translateY(${k}px)`)},{scheduler:requestAnimationFrame})])}render(){return dV("span",{className:"MORSCw",ref:this.mYd})}constructor(...a){super(...a);this.mYd=IV()}};var vMs={eventType:"editor_ruler_view_toggled",Oa(a){return sf({previous:a.previous,value:a.value,control_context:a.kb,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var T4s=[1,2,5,10,20,50,100,200,500,1E3,2E3,5E3],V4s=class{static G(a){O(a,{f_e:yV.deep,jDc:gV.bound,R4d:mV})}jDc(){this.f_e=new Map}get R4d(){return this.store.R4d}fFg(a){return this.document.pages.has(a)?this.document.pages.Rfa(a):void 0}getPosition(a,b,c){var d=this.f_e.get(b);if(d)return c?this.Ti?d.x*-1:d.x:d.y;if(this.viewport.sQ)return this.ckb(a,b),(d=this.f_e.get(b))?c?this.Ti?d.x*-1:d.x:d.y:0;this.Uhl(gV(()=>this.ckb(a,b)));return 0}ckb(a,b){if(this.document.pages.has(a)){if(this.viewport.jh){switch(a.type){case "fixed":case "responsive":var c=
Ff(this.document).tb(a);break;case "concatenated-fixed":c=Ff(this.document).tb(a).tb(n(a.pages.first()));break;default:throw new v(a);}a=(ok(a,this.document.dimensions)?this.viewport.Ol(c).invert():xMs(this,a).invert()).then(this.viewport.Mha()).transform(0,0)}else a=void 0;a&&((c=this.f_e.get(b))&&c.x===a.x&&c.y===a.y||this.f_e.set(b,a))}}getSegments(a,b,c,d){if(c<=0||b<=0||d<=0)return[];const e=Math.max(1,Math.ceil(8*Math.max(`${a}`.length,`${a+b*(c-1)}`.length)/d));return qc(c).map(f=>{f=a+b*f;
return{label:f,visible:Math.round(f/b)%e===0}})}Uhl(a){requestAnimationFrame(()=>setTimeout(a,0))}constructor(a,b,c,d,e,f,g,h){this.store=a;this.canvas=b;this.viewport=c;this.document=d;this.Q9b=e;this.Ti=f;this.N=g;this.exq=h;this.f_e=(V4s.G(this),void 0);this.f_e=new Map}};var W4s=class{static G(a){O(a,{enabled:mV,jtl:mV,EZc:mV,R4d:mV,zQ:mV,TLg:mV,Zeh:mV,Kqo:mV})}get enabled(){return this.Q9b.c_m}get jtl(){return this.ka.layout===1&&this.viewport.jh&&!(this.viewport.sQ&&rf(this.viewport.ya))&&(this.jCq||this.viewport.hU)}get EZc(){return ok(this.viewport.ya,this.document.dimensions)&&this.Q9b.EZc}get R4d(){return this.canvas.z4a==="none"}get zQ(){const a=this.selection.La;if((a===null||a===void 0?void 0:a.type)==="elements"&&a.box)return Uj(a.box).transform(zMs(this,
a.hp)).transform(Lj(this.viewport.zoom.scale))}get TLg(){var a;const b=this.selection.La;if((b===null||b===void 0?void 0:b.type)==="elements"&&this.zQ&&(a=b.inner)!==null&&a!==void 0&&a.box){var c=b.elements.find(f=>f.type==="group"||f.type==="table"||f.type==="grid");if(c){a=c.type==="grid"?1:c.height/c.Ub;var d={x:c.width/2,y:c.height/2},e=c.rotation*Math.PI/180;c=Uj(Vj({top:0,left:0,width:c.width,height:c.height,rotation:0}).transform(Lj(this.viewport.zoom.scale)).transform(Pj(d,e)));return Uj(b.inner.box.transform(Lj(a)).transform(zMs(this,
b.hp)).transform(Lj(this.viewport.zoom.scale)).transform(Pj(d,e)).transform(Kj(-c.tl.x,-c.tl.y)).translate(this.zQ.tl.x,this.zQ.tl.y))}}}get Zeh(){const a=this.selection.La;return a&&a.type==="elements"?a.hp:void 0}get Kqo(){return this.Ma.mode>10&&!!this.Zeh}constructor(a,b,c,d,e,f,g,h,k){this.canvas=a;this.viewport=b;this.document=c;this.Ma=d;this.selection=e;this.Q9b=f;this.ka=g;this.Ti=h;this.jCq=k;W4s.G(this)}};var X4s=class extends HV{static G(a){O(a,{onClick:gV.bound})}onClick(){const a=this.props.oa,b=this.props.CDa,c=this.props.onClick;b===null||b===void 0||b();c();a===null||a===void 0||a()}render(){return dV(this.props.NE,{onClick:this.onClick,im:this.props.im,dB:this.props.isEnabled,children:L("P76q1Q")})}constructor(...a){super(...a);X4s.G(this)}};var Y4s='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 5v5H10v11H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Zm-2-.5h-3.5v4h4V5a.5.5 0 0 0-.5-.5Zm-9 0h4v4h-4v-4Zm-5 0h3.5v4h-4V5a.5.5 0 0 1 .5-.5ZM4.5 14v-4h4v4h-4Zm0 5v-3.5h4v4H5a.5.5 0 0 1-.5-.5Z"/><path d="M20.86 15.498a.75.75 0 0 0-1.014-.31l-1.543.82V14.25a.75.75 0 0 0-1.5 0v1.762l-1.55-.825a.75.75 0 1 0-.704 1.325l1.403.746-1.404.746a.75.75 0 1 0 .704 1.325l1.551-.825v1.746a.75.75 0 0 0 1.5 0v-1.742l1.544.82a.75.75 0 1 0 .704-1.324l-1.404-.746 1.403-.746a.75.75 0 0 0 .31-1.014Z"/></svg>';var QMs=er({medium:Y4s});var IMs=({Lc:a})=>dV(Pk,{tone:"warn",Icon:gu,dismissible:!0,Lc:a,children:L("JYYaOw")}),GMs=({Lc:a})=>dV(Pk,{tone:"warn",Icon:gu,dismissible:!0,Lc:a,children:L("iXG+DQ")}),DMs=({Oig:a,Lc:b})=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:b,children:J("GKdAGA",[a])}),CMs=({Oig:a,Lc:b})=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:b,children:J("Dl7Bhw",[a])});var PMs=class{constructor(a,b,c,d,e){this.Gb=a;this.LG=b;this.P=c;this.V=d;this.alert=e}};var OMs=class{static G(a){O(a,{y5n:mV,hmm:mV,F5n:mV,jmm:mV,wCg:mV,Fsh:mV,a_a:mV})}get y5n(){var a;return(a=this.wCg)===null||a===void 0?void 0:a.find(b=>b.type==="row")}get hmm(){var a;return(a=this.wCg)===null||a===void 0?void 0:a.find(b=>b.type==="column")}get F5n(){var a;return(a=this.Fsh)===null||a===void 0?void 0:a.find(b=>b.type==="row")}get jmm(){var a;return(a=this.Fsh)===null||a===void 0?void 0:a.find(b=>b.type==="column")}g5c(a){return a.view.freeze.jKa?a.layout.HF.get(a.view.freeze.jKa):
void 0}f5c(a){return a.view.freeze.Hza?a.layout.yG.get(a.view.freeze.Hza):void 0}get wCg(){var a=this.selection.La,b=this.selection.Jb;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,MMs(a,b.rows,b.columns,b.cells,this.g5c(a),this.f5c(a)).filter(c=>c.type==="column");case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;
if($l(this.vc,a.container.tb(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,MMs(b,a.inner.rows,a.inner.columns,a.inner.cells,this.g5c(b),this.f5c(b));case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}get Fsh(){var a=this.selection.La;const b=this.selection.Jb;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,NMs(a,this.g5c(a),
this.f5c(a));case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return a=a.inner.page.sheet,NMs(a,this.g5c(a),this.f5c(a));case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}get a_a(){const a=this.selection.La,b=this.selection.Jb;switch(b===null||b===
void 0?void 0:b.type){case void 0:break;case 4:return{sheet:b.container.sheet.config,cells:b.cells,rows:b.rows,cols:b.columns,nz:new wA(b.container.container.Fw(b.container.sheet),this.fd,this.viewport)};case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "pages":var c;switch((c=a.inner)===null||c===void 0?void 0:c.type){case "sheet":return{sheet:a.inner.page.sheet,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,
nz:new uA(a.container.tb(a.inner.page),this.viewport,this.Ma)};case "background":case "pages":case "sheet-cell-media":case void 0:return;default:throw new v(a.inner);}case "elements":var d;switch((d=a.inner)===null||d===void 0?void 0:d.type){case "sheet":return{sheet:a.inner.sheet.config,cells:a.inner.cells,rows:a.inner.rows,cols:a.inner.columns,nz:new tA(a.container.Sf(a.inner.sheet),this.viewport)};case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":case void 0:return;
default:throw new v(a.inner);}case "audio":break;default:throw new v(a);}}constructor(a,b,c,d,e){this.selection=a;this.vc=b;this.viewport=c;this.fd=d;this.Ma=e;OMs.G(this)}};var Z4s=({Lc:a})=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:a,children:L("3qZXBg")}),$4s=({Lc:a})=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:a,children:L("7TGn1w")});var TMs=class{static G(a){O(a,{mergeCells:gV.bound,Yhd:gV.bound})}mergeCells(a){var b;const c=a.sheet;a=a.cells;const d=new __c.IB;for(var e of a){var f,g;const k=(g=(f=c.layout.cells.get(e.row,e.column))===null||f===void 0?void 0:f.span)!==null&&g!==void 0?g:{Zb:e.row,dc:e.column,Ue:e.row,Xe:e.column};d.add([k.Zb,k.dc]);d.add([k.Zb,k.Xe]);d.add([k.Ue,k.dc]);d.add([k.Ue,k.Xe])}f=d.map(([k,l])=>({row:k,column:l}));if(!(f.length<1)){if(g=this.g5c(c)){e=c.layout.rows.Yi(f[0].row,g)>0?"after":"before";
for(var h of f)if((c.layout.rows.Yi(h.row,g)>0?"after":"before")!==e){const k=this.alert.Bq(()=>dV($4s,{Lc:k}));return}}if(h=this.f5c(c)){g=c.layout.cols.Yi(f[0].column,h)>0?"after":"before";for(const k of f)if((c.layout.cols.Yi(k.column,h)>0?"after":"before")!==g){const l=this.alert.Bq(()=>dV(Z4s,{Lc:l}));return}}(b=this.Vi)===null||b===void 0||b.mergeCells(c,a.map(k=>k))}}Yhd(a){var b;const c=a.sheet;a=a.rb;(b=this.Vi)===null||b===void 0||b.Yhd(c,a)}g5c(a){return a.view.freeze.jKa?a.layout.HF.get(a.view.freeze.jKa):
void 0}f5c(a){return a.view.freeze.Hza?a.layout.yG.get(a.view.freeze.Hza):void 0}constructor(a,b){this.Vi=a;this.alert=b;TMs.G(this)}};var SMs=class{static G(a){O(a,{aun:mV,vGo:mV})}get aun(){var a=this.selection.La,b=this.selection.Jb;if(this.Vi){switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,b=b.cells,this.Vi.JTd(a,b.map(c=>c))?{sheet:a,cells:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.vc.Wq({element:d,
container:c})))break;switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,a=a.inner.cells,this.Vi.JTd(b,a.map(d=>d))?{sheet:b,cells:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;if($l(this.vc,a.container.tb(a.inner.page)))break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,a=a.inner.cells,this.Vi.JTd(b,a.map(d=>d))?{sheet:b,cells:a}:
void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}}get vGo(){var a=this.selection.La,b=this.selection.Jb;if(this.Vi){switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return a=b.container.sheet.config,(b=b.anchor)&&__c.Gos(a,b)?{sheet:a,rb:b}:void 0;case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;
switch(a.inner.type){case "sheet":return b=a.inner.sheet.config,(a=a.inner.anchor)&&__c.Gos(b,a)?{sheet:b,rb:a}:void 0;case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;switch(a.inner.type){case "sheet":return b=a.inner.page.sheet,(a=a.inner.anchor)&&__c.Gos(b,a)?{sheet:b,rb:a}:void 0;case "background":case "sheet-cell-media":case "pages":break;default:throw new v(a.inner);
}break;case "audio":break;default:throw new v(a);}}}constructor(a,b,c){this.selection=a;this.vc=b;this.Vi=c;SMs.G(this)}};var YMs=class{static G(a){O(a,{uVk:gV.bound,tVk:gV.bound})}uVk(a){var b;if(a&&a.type==="row"){var c=this.V.sb("move_row_clicked",{Fb:{name:"editor.editing.tabulating.moving"}}),d=a.content.sheet,e=a.content.rows,f=a.content.target;a=a.direction==="up"?"before":"after";(b=this.Vi)===null||b===void 0||b.OQe(d,e,f,a,c,"contextual_menu");c.end()}}tVk(a){var b;if(a&&a.type==="column"){var c=this.V.sb("move_col_clicked",{Fb:{name:"editor.editing.tabulating.moving"}}),d=a.content.sheet,e=a.content.columns,
f=a.content.target;a=d.direction==="rtl"?a.direction==="left"?"after":"before":a.direction==="left"?"before":"after";(b=this.Vi)===null||b===void 0||b.LQe(d,e,f,a,c,"contextual_menu");c.end()}}constructor(a,b){this.Vi=a;this.V=b;YMs.G(this)}};var XMs=class{static G(a){O(a,{Avn:mV,zvn:mV,wvn:mV,xvn:mV,KQe:mV})}get Avn(){var a;return(a=this.KQe)===null||a===void 0?void 0:a.find(b=>b.type==="row"&&b.direction==="up")}get zvn(){var a;return(a=this.KQe)===null||a===void 0?void 0:a.find(b=>b.type==="row"&&b.direction==="down")}get wvn(){var a;return(a=this.KQe)===null||a===void 0?void 0:a.find(b=>b.type==="column"&&b.direction==="left")}get xvn(){var a;return(a=this.KQe)===null||a===void 0?void 0:a.find(b=>b.type==="column"&&b.direction==="right")}get KQe(){const a=
this.selection.La,b=this.selection.Jb;switch(b===null||b===void 0?void 0:b.type){case void 0:break;case 4:return WMs(b.container.sheet.config,b.rows,b.columns,this.Vi);case 0:case 1:case 2:case 3:case 5:break;default:throw new v(b);}switch(a===null||a===void 0?void 0:a.type){case void 0:break;case "elements":if(!a.inner)break;const c=a.container;if(a.elements.some(d=>this.vc.Wq({element:d,container:c})))break;switch(a.inner.type){case "sheet":return WMs(a.inner.sheet.config,a.inner.rows,a.inner.columns,
this.Vi);case "grid":case "table":case "shape":case "group":case "layout":case "layout-cell":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "pages":if(!a.inner)break;if($l(this.vc,a.container.tb(a.inner.page)))break;switch(a.inner.type){case "sheet":return WMs(a.inner.page.sheet,a.inner.rows,a.inner.columns,this.Vi);case "background":case "pages":case "sheet-cell-media":break;default:throw new v(a.inner);}break;case "audio":break;default:throw new v(a);}}constructor(a,b,c){this.selection=
a;this.vc=b;this.Vi=c;XMs.G(this)}};var bNs={[0]:1,[1]:2,[2]:3,[3]:4,[4]:5,[5]:6},aNs={Kja:!0,Jja:!0,Mja:!0,Lja:!0,jpa:!0,ipa:!0,lpa:!0,kpa:!0,BQa:!0,AQa:!0,DQa:!0,CQa:!0},oNs=class{kqd(a){switch(a.type){case "formula":return __c.eNc.snapshot(a);case "boolean":return __c.fNc.snapshot(a);case "number":return __c.hNc.snapshot(a);case "plaintext":return __c.iNc.snapshot(a);case "media":return __c.kNc.snapshot(a);case "mention":return __c.lNc.snapshot(a);case "embed":return __c.nNc.snapshot(a);case "text2":return __c.xSc.snapshot(a);case "text3":return __c.QUc.snapshot(a);
default:throw new v(a);}}JCc(a,b,c){const d=a.fK(b.row);b=a.sK(b.column);const e=a.fK(c.row);a=a.sK(c.column);if(![d,b,e,a].some(f=>f===-1))return{qt:e-d,VR:a-b}}constructor(a,b,c,d,e,f,g){this.gn=a;this.vka=b;this.IB=c;this.jba=d;this.Vc=e;this.AOb=f;this.Vi=g}};var eNs=({Oig:a,Lc:b})=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:b,children:J("4G5hmA",[a])}),dNs=({Lc:a})=>dV(Pk,{tone:"critical",Icon:gu,dismissible:!0,Lc:a,children:L("6PpZ0g")});var nNs=class{Gnl(a,b,c){a.NFh=c?b:void 0}E0i(a,b){var c;const d=a.Sue;if(d!=null){var e=this.Vi.zwa(d.sheet);if(e!=null||d.range.Zb!==d.range.Ue&&d.range.dc!==d.range.Xe)var f=d.range;else{f=d.sheet;var g=d.range;const k=__c.zZa(f,{start:{column:g.dc,row:g.Zb},end:{column:g.Xe,row:g.Ue}});let l,m=-1;for(const p of Kk(k.start.row,k.end.row,f.layout.rows)){let q=0;for(const r of Kk(k.start.column,k.end.column,f.layout.cols)){var h;const t=f.layout.cells.get(p,r);t!=null&&t.span.Zb===p&&t.span.dc===
r&&((h=t.ref)===null||h===void 0?void 0:h.content.ref)!=null&&q++}if(m===q){(h=f.layout.rows.previous(p))&&f.layout.rows.Yi(g.Zb,h)>=0&&(l=h);break}m=q}f={dc:k.start.column,Zb:l!==null&&l!==void 0?l:k.start.row,Xe:k.end.column,Ue:k.end.row}}this.Vi.Tee(d.sheet,e==null?{range:f}:void 0);a.yEf=(b===null||b===void 0?0:b.Q4m)?(c=a.Sue)===null||c===void 0?void 0:c.vdg:void 0}}bWi(a,b){if(a!=null){var c=this.V.sb("sort_asc_clicked",{Fb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=
a.sheet;var d=a.vdg;const f=a.range;if(b===null||b===void 0?0:b.c4j){b=e.rows.next(f.Zb);if(b==null)return;d=cNs(this.XSi,e,{...f,Zb:b},d,"asc")}else d=cNs(this.XSi,e,f,d,"asc");c===null||c===void 0||c.mb().nk(({Ii:g})=>{const h=e.fK(f.Ue)-e.fK(f.Zb)+1,k=e.sK(f.Xe)-e.sK(f.dc)+1;this.P.track(__c.Lah,{action:"sorted",type:"cell",j$c:h*k,xwc:{qt:e.layout.rows.count(),IK:e.layout.cols.count()},kb:"click",Rb:g()})});break;default:throw new v(a.type);}fNs(this,a.sheet,d);c===null||c===void 0||c.ne()}}cWi(a,
b){if(a!=null){var c=this.V.sb("sort_desc_clicked",{Fb:{name:"editor.editing.tabulating.sorting"}});switch(a.type){case "sheet":const e=a.sheet;var d=a.vdg;const f=a.range;if(b===null||b===void 0?0:b.c4j){b=e.rows.next(f.Zb);if(b==null)return;d=cNs(this.XSi,e,{...f,Zb:b},d,"desc")}else d=cNs(this.XSi,e,f,d,"desc");c===null||c===void 0||c.mb().nk(({Ii:g})=>{const h=e.fK(f.Ue)-e.fK(f.Zb)+1,k=e.sK(f.Xe)-e.sK(f.dc)+1;this.P.track(__c.Lah,{action:"sorted",type:"cell",j$c:h*k,xwc:{qt:e.layout.rows.count(),
IK:e.layout.cols.count()},kb:"click",Rb:g()})});break;default:throw new v(a.type);}fNs(this,a.sheet,d);c===null||c===void 0||c.ne()}}constructor(a,b,c,d,e){var f=new __c.xu;this.XSi=a;this.Vi=b;this.LG=f;this.alert=c;this.P=d;this.V=e}};var qNs=class{static G(a){O(a,{yEf:yV.ref,NFh:yV.ref,Voe:mV,Sue:mV})}get Voe(){var a=this.selection.La;const b=this.selection.Jb;if(b)return gNs(this,b);if(a){a:{switch(a.type){case "elements":a=kNs(this,a);break a;case "pages":a=lNs(this,a);break a;case "audio":break;default:throw new v(a);}a=void 0}return a}}get Sue(){var a=this.Voe;if(a!=null)switch(a.type){case "sheet":var b=a.sheet;a=a.cells;a.length!==0&&__c.cge(b,a)?(a={dc:a[0].column,Zb:a[0].row,Xe:a[a.length-1].column,Ue:a[a.length-1].row},
b={type:"sheet",sheet:b,vdg:a.dc,range:a}):b=void 0;return b;default:throw new v(a.type);}}constructor(a,b,c,d,e,f,g){this.selection=a;this.vc=b;this.viewport=c;this.fd=d;this.Ma=e;this.Vi=f;this.Wya=g;this.yEf=(qNs.G(this),void 0)}};var pNs=a=>{const b=a.DOq;var c=a.NFh;const d=a.DVq,e=a.Gnl,f=a.hQr,g=a.nQr,[h,k]=nV(void 0),l=jV(Sb()),[m,p]=nV(()=>d()),q=c===l.current;iV(()=>{b&&e(l.current,!0)},[]);c=hV(()=>{e(l.current,!1)},[e]);const r=hV(z=>{z.stopPropagation();q||p(d());e(l.current,!q)},[d,e,q]),t=hV(()=>{k("asc");f();e(l.current,!1)},[f,e]),u=hV(()=>{k("desc");g();e(l.current,!1)},[g,e]),w=hV(()=>{var z=dV(__c.lXi,{size:"medium"});a:switch(m){case "number":var A=L("mfqxRw");break a;case "date":A=L("O3E9rg");break a;case "default":A=
L("qo5gzA");break a;default:throw new v(m);}z=dV(bu,{start:z,onClick:t,children:A},"asc");A=dV(__c.nXi,{size:"medium"});a:switch(m){case "number":var B=L("sZxJdg");break a;case "date":B=L("o/SCog");break a;case "default":B=L("8IXZeg");break a;default:throw new v(m);}return kV(Yo,{role:"menu",spacing:"0.5u",variant:"rounded",children:[z,dV(bu,{start:A,onClick:u,children:B},"desc")]})},[m,t,u]);let x=dV(__c.ubr,{size:"small"});h==="asc"&&a.Vki?x=dV(__c.lXi,{size:"small"}):h==="desc"&&a.Vki&&(x=dV(__c.nXi,
{size:"small"}));const y=x&&mNs(a.bgColor)==="#000000"?"kfFFEg":"VWiWEA";return dV(__c.xv,{open:q,placement:"bottom-start",padding:"compact",ma:w,oa:c,children:dV(rr,{onMouseDown:r,className:CV(y,"bzZMqA",{SRhh0A:a.Vki}),selected:a.Vki,children:x})})};var sNs=fV(({gZf:a,nz:b,t0a:c,page:d})=>{const e=a.sheet,f=a.columns,g=a.headerRow,{left:h,top:k,width:l,height:m}=a.HOs.Mb(),p=b.$c,q=e.direction==="rtl";return kV(__c.vA,{nz:b,page:d,children:[dV("div",{style:{width:l*p,height:m*p,transform:`translate(${h*p*(q?-1:1)}px, ${k*p}px)`},className:CV("o0A8CA",{_08uVeQ:!q,yzKoag:q})}),f.map(r=>dV(a5s,{scale:p,Pn:q,sheet:e,row:g,column:r,t0a:c},r.id))]})}),a5s=fV(({scale:a,Pn:b,sheet:c,column:d,row:e,t0a:f})=>{const g={_08uVeQ:!b,yzKoag:b};b=c.Bd(d)*a*
(b?-1:1);c=c.rd(e)*a;return dV("div",{style:{width:d.width,height:e.height,transform:`translate(${b}px, ${c}px) scale(${a})`},className:CV("ItYpOA",g),children:dV("div",{style:{paddingInlineEnd:__c.Du},children:dV(f,{column:d})})})});var rNs=class{static G(a){O(a,{gZf:mV})}get gZf(){var a,b=this.JOs.Voe;if(b!=null){var c=(a=this.Vi.zwa(b.sheet))===null||a===void 0?void 0:a.range;if(c!=null&&(a=b.sheet,a.layout.rows.has(c.Zb)&&a.layout.cols.has(c.dc)&&a.layout.rows.has(c.Ue)&&a.layout.cols.has(c.Xe))){b=a.Bd(c.dc);var d=a.rd(c.Zb);b=Vj({left:b,top:d,width:a.Bd(c.Xe)+c.Xe.width-b,height:a.rd(c.Ue)+c.Ue.height-d});d=[];for(let e=c.dc;e!=null&&a.layout.cols.Yi(e,c.Xe)<=0;e=a.layout.cols.next(e))d.push(e);return{sheet:a,columns:d,
headerRow:c.Zb,HOs:b}}}}constructor(a,b){this.JOs=a;this.Vi=b;rNs.G(this)}};var b5s=class{static G(a){O(a,{Vpo:mV})}get Vpo(){return this.Gsi.KQe!=null&&this.Gsi.KQe.length>0}constructor(a,b){this.Gsi=a;this.cun=b;b5s.G(this)}};var c5s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.023 14.057v-.024h6a2 2 0 0 1 2 2V20.5h4a.5.5 0 0 0 .5-.5v-5.525a4.575 4.575 0 0 0 1.5-.092V20a2 2 0 0 1-2 2H9.845a2 2 0 0 1-1.406-.577l-5.821-5.75a2 2 0 0 1-.595-1.423v-.193ZM16.023 4v1.617a4.512 4.512 0 0 0-1.5-.092V4a.5.5 0 0 0-.5-.5h-10a.5.5 0 0 0-.5.5v8.5h-1.5V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2ZM4.611 15.533l3.912 3.865v-3.365a.5.5 0 0 0-.5-.5H4.611Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9 10a6 6 0 1 0 12 0 6 6 0 0 0-12 0Zm10.5 0a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.532 13.47a.75.75 0 0 1 1.06 0l2.94 2.939a.75.75 0 0 1-1.06 1.06l-2.94-2.939a.75.75 0 0 1 0-1.06Z" fill="currentColor"/></svg>';var d5s=er({medium:c5s});var uNs={eventType:"text_find_and_replace_toggled",Oa(a){return sf({source:a.source,is_opened:a.Ulr,text_find_session_id:a.D_i,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},e5s={eventType:"text_find_and_replace_searched",Oa(a){return sf({matches_found:a.Epi,page_index_transitioned_from:a.e$r,page_index_transitioned_to:a.f$r,text_elements_matched:a.UXs,table_elements_matched:a.RUs,shape_elements_matched:a.GFs,sheet_cells_matched:a.uih,is_match_case:a.GCf,performance_context:a.Rb==null?void 0:uf(a.Rb),
editing_context:a.Ba==null?void 0:tf(a.Ba)})}},QNs={eventType:"text_find_and_replace_focus_changed",Oa(a){return sf({matches_found:a.Epi,page_index_transitioned_from:a.e$r,page_index_transitioned_to:a.f$r,match_index_from:a.zqn,match_index_to:a.Aqn,editing_context:a.Ba==null?void 0:tf(a.Ba)})}},wNs={eventType:"text_find_and_replace_text_replaced",Oa(a){return sf({number_of_replacements:a.qui,is_replace_all:a.tki,number_of_elements_replaced:a.pui,number_of_text_elements_replaced:a.vui,number_of_table_cells_replaced:a.uui,
number_of_sheet_cells_replaced:a.tui,number_of_shape_elements_replaced:a.sui,performance_context:a.Rb==null?void 0:uf(a.Rb),is_match_case:a.GCf,replace_string_length:a.UKi,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var f5s=class{constructor({N:a}){this.qvm=Hb((b,c,d,e,f,g,h)=>{bp({mb:h,P:this.N,event:e5s,props:{Epi:b,UXs:c,RUs:d,GFs:e,uih:f,GCf:g}})},300);this.N=a;this.D_i=Sb()}};var g5s=class{static G(a){O(a,{isMounted:yV.ref,wYb:yV.ref,query:yV.ref,replaceWith:yV.ref,Hx:yV.ref})}constructor(){this.isMounted=(g5s.G(this),!1);this.wYb=!1;this.replaceWith=this.query="";this.Hx=void 0}};var LOs="zh ko ar ja th hi mr gu ta bn pa".split(" ");var h5s=class{Rc(){this.Lab==null&&(this.Lab=eV(()=>{const a=this.L.pJa,b=this.store.Hx;return a===0?!1:b==null||b>=a},a=>{a&&this.L.Nal()}))}ki(){var a;(a=this.Lab)===null||a===void 0||a.call(this);this.Lab=void 0}constructor(a,b){this.store=a;this.L=b}};var i5s=a=>{if(a.substring.length===0)return[];let b=a.wYb?a.source:a.source.toLowerCase();b=b.replace(/[\u201c\u201d]/g,'"').replace(/[\u2018\u2019]/g,"'");const c=a.wYb?a.substring:a.substring.toLowerCase(),d=[];for(var e;;){e=b.indexOf(c,e);if(e===-1)break;if(a.Y5s)return[0];d.push(e);e+=c.length}return d};var k5s=class{create(a){const b=this.I.Vc;var c=this.I.Ma;const d=this.I.viewport,e=this.I.vc;switch(a.type){case "sheet-page-cell":return c=new uA(a.container.container.tb(a.container.page),d,c),new j5s(b,e,c,a);case "sheet-element-cell":if(a.container.container.type!=="fixed-page")throw new __c.AJd;c=new tA(a.container.container.Sf(a.poa),d);return new j5s(b,e,c,a);default:throw new v(a);}}constructor(a){this.I=a}},m5s=class{create(a){const b=this.I.Vc;var c=this.I.viewport;const d=this.I.fd;c=
new wA(a.container.container.Fw(a.poa),d,c);return new l5s(b,c,a)}constructor(a){this.I=a}},n5s=class{static G(a){O(a,{duc:mV,DCj:mV({equals:Xj}),Lig:mV({equals:Xj})})}equals(a){return this.container.equals(a.container)}get duc(){var a,b;return(b=(a=this.Vc.getContent(this.sheet,this.container.row,this.container.column))===null||a===void 0?void 0:a.zR)!==null&&b!==void 0?b:""}get DCj(){var a=this.sheet,b=this.container.row,c=this.container.column,d=a.layout.cells.get(b,c);if(d!=null){var e=d.span.Zb;
c=d.span.Xe;b=d.span.Ue;d=a.Bd(d.span.dc);e=a.rd(e);c=a.Bd(c)+c.width;a=a.rd(b)+b.height;return Sj(d,e,c,a)}d=a.Bd(c);a=a.rd(b);return Sj(d,a,d+c.width,a+b.height)}get Lig(){return this.DCj.transform(dk(this.srl))}constructor(){this.type=(n5s.G(this),"sheet-cell")}},j5s=class extends n5s{static G(a){O(a,{sheet:mV,replace:mV,mZa:mV})}get Chn(){const a=this.container;switch(a.type){case "sheet-page-cell":return!$l(this.vc,a.container);case "sheet-element-cell":return!this.vc.Wq({element:a.poa,container:a.container.container});
default:throw new v(a);}}get sheet(){return this.container.sheet}get srl(){return this.ED.AJ}get replace(){var a;const b=(a=this.sheet.layout.cells.get(this.container.row,this.container.column))===null||a===void 0?void 0:a.ref.content.ref;if(b)return b.type==="text2"?(c,d,e,f)=>{const g=Lg.snapshot(b.value);d=CNs(g,d,e,f);d=Lg.create(d);c.YBb(this.sheet,{row:this.container.row,column:this.container.column},d,{MRe:"merge",xRe:!1})}:ENs(this,b)}get mZa(){const a=this.container.container;switch(a.type){case "fixed-page":return a;
case "sheet-element":if(a.container.type!=="fixed-page")throw new __c.AJd;return a.container;default:throw new v(a);}}constructor(a,b,c,d){super();this.Vc=a;this.vc=b;this.ED=c;this.container=d;j5s.G(this)}},l5s=class extends n5s{static G(a){O(a,{srl:mV({equals:Xj}),replace:mV})}get Chn(){return!0}get sheet(){return this.container.sheet}get srl(){try{return this.ED.AJ}catch(a){return Vj({top:0,left:0,width:this.sheet.width,height:this.sheet.height})}}get mZa(){return this.container.container.container}get replace(){var a;
const b=(a=this.sheet.layout.cells.get(this.container.row,this.container.column))===null||a===void 0?void 0:a.ref.content.ref;if(b)return b.type==="text3"?(c,d,e,f)=>{const g=cl.snapshot(b.value);d=DNs(g,d,e,f);d=cl.create(d);c.Xec(this.sheet,{row:this.container.row,column:this.container.column},d,{MRe:"merge",xRe:!1})}:ENs(this,b)}constructor(a,b,c){super();this.Vc=a;this.ED=b;this.container=c;l5s.G(this)}};var DOs=Symbol("responsive-root-text-symbol"),o5s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Oc(){return this.el.ia.text}get writingMode(){var a;return(a=this.el.ia.writingMode)!==null&&a!==void 0?a:1}get V4d(){var a,b;const c=(b=this.el.ia.Sk.ref)===null||b===void 0?void 0:(a=b.Kc)===null||a===void 0?void 0:a.first(d=>d.type==="curved");return c?Number(c.parameters.get("curvature"))!==0:!1}get Sk(){return this.el.ia.Sk.ref}get rotation(){const a=this.el.container;
return TVa((a.type==="fixed-page"?0:a.ia.rotation)+this.el.ia.rotation)}constructor(a){this.el=a;this.type="text";this.Ja="fixed"}},p5s=class{get page(){return this.rb.container.container}get el(){return this.rb.container}get Oc(){return this.rb.ia.content.text}get rotation(){return this.el.ia.rotation}constructor(a,b){this.rb=a;this.DAa=b;this.type="table";this.Ja="fixed";this.V4d=!1;this.writingMode=1;this.group=this.Sk=void 0}},q5s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?
a:a.container}get Oc(){return this.el.ia.ed.first().text}get rotation(){const a=this.el.container;return TVa((a.type==="fixed-page"?0:a.ia.rotation)+this.el.ia.rotation)}constructor(a){this.el=a;this.type="shape";this.Ja="fixed";this.V4d=!1;this.writingMode=1;this.Sk=void 0}},r5s=class{get page(){const a=this.el.container;return a.type==="fixed-page"?a:a.container}get Oc(){return this.el.ia.ed.first().text}get rotation(){var a;const b=this.el.ia;var c=this.el.container;c=c.type==="fixed-page"?0:c.ia.rotation;
var d;const e=(d=(a=(new __c.Qn(this.se,b)).textBox)===null||a===void 0?void 0:a.rotation)!==null&&d!==void 0?d:0;return TVa(c+b.rotation+e)}constructor(a,b){this.se=a;this.el=b;this.type="line";this.Ja="fixed";this.V4d=!1;this.writingMode=1;this.Sk=void 0}};var KNs=class{async navigateTo(a){var b,c;if(!(NNs((b=this.Rae)===null||b===void 0?void 0:b.match,a)||NNs((c=this.iog)===null||c===void 0?void 0:c.match,a)&&this.Rae==null)){if(this.Rae!=null){var d;(d=this.Rae)===null||d===void 0||d.cancel();this.Rae=void 0}b=(this.iog!=null?Math.max(this.iog.wDq-this.now(),0):0)+this.I.pvm;var e=this.setTimeout(()=>{ONs(this)},b);this.Rae={match:a,cancel:()=>this.clearTimeout(e)}}}mph(a){return this.wwn.mph(a)}constructor(a,b,c=()=>Date.now(),d=(f,g)=>window.setTimeout(f,
g),e=f=>window.clearTimeout(f)){this.wwn=a;this.I=b;this.now=c;this.setTimeout=d;this.clearTimeout=e}},s5s=class{static G(a){O(a,{navigateTo:gV.bound})}async navigateTo(a){if(a.type==="richtext3"||FNs(a)){const f=a.type==="richtext3"?__c.yf(a.container):a.item.mZa;pa(f.type==="responsive-page");var b=this.viewport.mh;if(f.ia.id!==b.ia.id){const g=n(this.document.pages.filter(h=>h.id===f.ia.id)[0]);this.viewport.gw(g,{animate:{from:b.page}});await Sqs(()=>this.viewport.ya===g,{timeout:1E3}).catch(()=>
{})}oV(()=>this.rus.navigateTo(a))}else{var c=a.item,d=c.type==="sheet-cell"?c.mZa:c.page;b=this.viewport.ya;var e=d.page;b!==e&&(this.viewport.gw(this.Vvd(d),{animate:{from:b},P5a:e}),await Sqs(()=>this.viewport.ya===e,{timeout:1E3}).catch(()=>{}));oV(()=>{if(!ok(e,this.document.dimensions)){const g=c.type==="sheet-cell"?c.Lig:Vj(INs(c.el));var f=this.viewport.jz();f=Math.min(f.width*.6/g.width,f.height*.6/g.height,this.viewport.ZN(e));this.viewport.Ly(e,f,{center:{x:g.c.x,y:g.c.y},animate:!0})}c.type!==
"sheet-cell"&&this.selection.Il(d,c.el.ia)})}}mph(a){a=a.item;switch(a.type){case "sheet-cell":case "text":case "table":case "shape":case "line":a=a.type==="sheet-cell"?a.mZa:a.page;if(a.type==="responsive-page"||a.type==="body")return 0;a=this.Vvd(a);return ok(a,this.document.dimensions)?0:600;default:return 0}}Vvd(a){var b;return((b=a.container)===null||b===void 0?void 0:b.type)==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e){this.viewport=a;this.document=b;this.selection=
c;this.gb=d;this.rus=e;s5s.G(this)}},LNs=class{async navigateTo(a){this.viewport.FF&&(a=a.type==="sheet-cell"?[a.item.Lig]:this.yGd.IEg(a),a=Zj(0,a),await this.viewport.noa(a.tl.y,"auto"))}mph(){return 600}constructor(a,b){this.yGd=a;this.viewport=b}};var t5s=class{static G(a){O(a,{Rc:gV,ki:gV,BB:gV,pJa:mV,mBg:gV,matches:mV,m7l:mV,Fqn:mV,Fpi:mV})}static create({store:a,document:b,Ma:c,selection:d,jc:e,viewport:f,se:g,Ti:h,rf:k,gb:l,uy:m,V:p,oHk:q,$dc:r}){d=new KNs(new s5s(f,b,d,l,r.Bpi),{pvm:100});return new t5s(a,b,c,e,f,k,l,g,q,h,m,p,d,r)}get tkh(){return this.Ma.mode===40}oHl(a,b){vNs(this.uy,a,b)}Rc(){var a=this.store;a.isMounted=!0;a=a.query;var b=this.jc.state;if((b===null||b===void 0?void 0:b.type)==="focused"){const c=b.range;b=b.Oc.Ya.slice(c.index,
c.index+c.length);b.length&&(a=this.Ti?b.split("").reverse().join(""):b)}this.BB(a)}ki(){var a;this.store.isMounted=!1;(a=this.rMh)===null||a===void 0||a.destroy();this.rMh=void 0}BB(a){var b=this.store;b.query=a;if(a.length===0)this.mBg(PNs(this));else{a=this.V.sb("text.find",{Fb:{name:"editor.text.find",type:"fixed"}});this.mBg(PNs(this));var c=this.matches,{XDl:d,UBl:e,grl:f,uih:g}=yNs(c),h=this.uy;c=c.length;b=b.wYb;var k=a.mb();h.qvm(c,d,e,f,g,b,k);a.ne()}}get pJa(){return this.matches.length}Nal(){this.mBg(PNs(this))}P9j(){const a=
this.store,b=this.pJa;a.Hx!=null&&b>1&&RNs(this,(a.Hx+1)%b)}T9j(){var a=this.store;const b=this.pJa;a.Hx!=null&&b>1&&(a=a.Hx,RNs(this,a===0?b-1:a-1))}mBg(a){const b=this.store,c=this.matches[a];c&&(this.Bpi.navigateTo(c),b.Hx=a)}get matches(){return this.store.query.length===0?[]:this.m7l.flatMap(a=>this.cLq(a))}get m7l(){const a=[],b=Ff(this.document);this.document.pages.forEach(c=>{a.push(...this.eYs(b.tb(c)))});return a}Ifk(){this.rMh||(this.rMh=this.rf.lV());return this.rMh}get Fqn(){const a=
this.viewport.mh.page;return this.Fpi.filter(b=>b.type==="richtext2"||GNs(b)).filter(({item:b})=>b.type==="sheet-cell"?b.mZa.ia===a:b.page.ia===a)}get Fpi(){return this.matches.map((a,b)=>({...a,focused:b===this.store.Hx}))}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q,r,t=()=>Date.now()){this.store=a;this.document=b;this.Ma=c;this.jc=d;this.viewport=e;this.rf=f;this.gb=g;this.se=h;this.oHk=k;this.Ti=l;this.uy=m;this.V=p;this.Bpi=q;this.$dc=r;this.now=t;this.cLq=(t5s.G(this),LV(u=>{if(u.type==="sheet-cell"&&
"item"in u||u.type==="richtext3")return[u];var w=this.store.wYb;const x=this.store.query,y=u.type==="sheet-cell"?u.duc:w?TNs(u.Oc):u.Oc.Ya;w=i5s({source:y,substring:x,wYb:w});return w.length===0?[]:u.type==="sheet-cell"?[{type:"sheet-cell",item:u,o9c:w}]:w.map(z=>({type:"richtext2",item:u,startIndex:z}))}));this.eYs=LV(u=>{switch(u.type){case "fixed-page":return this.KVm(u);case "concatenated-fixed-page":return u.pages.flatMap(w=>this.KVm(u.tb(w)));case "responsive-page":return this.$dc.pHk(u);default:throw new v(u);
}});this.KVm=u=>{const w=[];u.elements.forEach(z=>{if(z.type==="text")w.push(new o5s(u.Sf(z)));else if(z.type==="group"){const A=u.Sf(z);z.nb.forEach(B=>{B.type==="text"?w.push(new o5s(A.Sf(B))):B.type==="shape"?B.ed.first()&&w.push(new q5s(A.Sf(B))):B.type==="line"&&B.ed.first()&&w.push(new r5s(this.se,A.Sf(B)))})}else if(z.type==="table"){const A=u.Sf(z);z.cells.forEach(B=>{B.content.text.charLength>1&&w.push(new p5s(A.WBl.TQ(B),()=>this.CPp(z).get(B).EW))})}else z.type==="shape"?z.ed.first()&&
w.push(new q5s(u.Sf(z))):z.type==="line"?z.ed.first()&&w.push(new r5s(this.se,u.Sf(z))):z.type==="sheet"&&w.push(...this.Gyo(u.Sf(z)))});__c.xf(u)&&w.push(...this.Gyo(u));const x=this.gb.Zk(u.page),y=zg(x)?0:xg(4,x).width;return w.sort((z,A)=>SNs(this,z,y,this.Ti)-SNs(this,A,y,this.Ti))};this.Gyo=u=>{const w=this.oHk;if(w==null)return[];const x=[];(u.type==="fixed-page"?u.page.sheet:u.ia.config).layout.cells.forEach((y,{dc:z,Zb:A})=>{y=u.qY(z,A);x.push(w.create(y))});return x};this.CPp=HNs(u=>__c.nu(__c.oo,
u));this.PWp=LV(u=>this.Fqn.filter(w=>w.type==="richtext2").filter(w=>w.item.Oc===u));this.pHk=LV(u=>this.Fpi.filter(w=>w.type==="richtext3"||FNs(w)).filter(w=>w.type==="richtext3"?w.mZa.equals(u):FNs(w)?w.item.mZa.equals(u):!1).map(w=>({...w,ES:this.$dc.IEg(w)})))}};var qOs=fV(({matches:a,scale:b})=>{a=__c.rj(a,({item:c})=>c.sheet);return dV("div",{className:"m3qpUA",children:[...a.entries()].map(([c,d])=>{const e=d[0].item.mZa;return dV(__c.vA,{nz:d[0].item.ED,page:e.type==="fixed-page"?e.page:void 0,children:d.map(({item:f,focused:g})=>dV(u5s,{box:f.DCj.scale(b),focused:g},v5s.get(f)))},v5s.get(c))})})}),u5s=({box:a,focused:b})=>{const {top:c,left:d,width:e,height:f,rotation:g}=a.Mb();a=`translate(${d}px, ${c}px) rotate(${g}deg)`;return dV("div",{className:CV("wOT31Q",
b&&"NaCHKw"),style:{width:e,height:f,transform:a}})},v5s=class{static get(a){var b=w5s.get(a);if(b)return b;b=`${x5s++}`;w5s.set(a,b);return b}},w5s=new WeakMap,x5s=0;var cOs=new Set([" ","\t","\n","\r"]),YNs=class{zkf(a,b,c){a=eOs(a,b,c);return fOs(a)}},ZNs=class{zkf(a,b,c){var d=a.length-1,e=n(this.tdk(b));if(a.length===1||e===0)return this.K$q.zkf(a,b.writingMode,c);b=c.every(h=>h==="rtl")?[...a].reverse():a;const f=gOs(b[0].tl,b[0].tr,b[2]?b[2].tr:b[1].tr);let g;c=[...b.map(h=>Bj(h.En,f)),...b.map(h=>Bj(h.tl,f))];a=Math.min(...c);c=Math.max(...c);e>0?(e=hOs(b[0].tl,f)*180/vj,g=hOs(b[d].tr,f)*180/vj):(g=hOs(b[0].tl,f)*180/vj,e=hOs(b[d].tr,f)*180/vj);d=(h,k)=>
this.jPf(f,k,h);b=jOs(b,f)>180;return __c.te([new __c.Wk(0,d(e,c)),new Xk(0,d(e,a)),new __c.M0a(0,new __c.A0a(a,a,0,b?1:0,1,this.jPf(f,a,g))),new Xk(0,d(g,c)),new __c.M0a(0,new __c.A0a(c,c,0,b?1:0,0,this.jPf(f,c,e)))])}jPf(a,b,c){c=wj(c);return{x:a.x+b*Math.cos(c),y:a.y+b*Math.sin(c)}}constructor(a){this.tdk=kOs;this.K$q=a}};var A5s=class{sfb(a,b,c){const d=(new y5s).sfb(a);return b===0?d:d.map((e,f)=>{const g=mOs(this.Ldm,e.boundingBox,b,{XKm:()=>{var h=d[f].V3j();h!=null?h*=c:({boundingBox:h}=d[f],h=Math.sqrt(h.width**2+h.height**2)*.7*c);return h}});return{...e,boundingBox:g}})}constructor(){this.Ldm=new z5s}},z5s=class{jPf(a){a=wj(a);return{x:Math.cos(a),y:Math.sin(a)}}},y5s=class{sfb(a){const b=[];for(const d of a){a=document.createRange();a.setStartBefore(d);for(const e of this.H6e(d)){var c;const f=((c=e.textContent)!==
null&&c!==void 0?c:"").length;for(let g=0;g<f;g++){a.setStart(e,g);a.setEnd(e,g+1);const h=a.getClientRects();let k;for(const l of h)if(k==null||l.width>k.width)k=l;b.push({character:a.toString(),boundingBox:Vj(n(k)),V3j:()=>{try{return parseFloat(window.getComputedStyle(e.parentElement).getPropertyValue("font-size"))}catch(l){}}})}}}c=b.map(d=>d.character).join("");c=jm(c);return b.length===c.length?b:nOs(b,c)}*H6e(a){if(a.nodeType===Node.TEXT_NODE)yield a;else if(a.nodeType===Node.ELEMENT_NODE)for(let b=
0;b<a.childNodes.length;b++)yield*this.H6e(a.childNodes[b])}};var B5s=class{constructor(a,b,c){this.IBm=new A5s;this.viewport=a;this.Ifk=b;this.errorService=c;this.zkf=bOs;this.CTq=EV(d=>{const e=d.el.ia;var f,g;return this.Ifk().sfb(d.Oc,d.Sk,d.writingMode,(f=e.eb)!==null&&f!==void 0?f:e.width,(g=e.Ub)!==null&&g!==void 0?g:e.height)});this.USq=LV((d,e,f,g,h,k)=>{const l=d.getBoundingClientRect();let m;try{m=this.IBm.sfb([d],f,k)}catch(t){this.errorService.error(t,{Ka:"Error: failed to measure character boxes via DOM"});return}d=mOs(this.IBm.Ldm,Vj(l),f,{YKm:()=>
h});const p=ak(d).then(Lj(g/d.width)),q=jm(e.Ya);let r=0;return new Map(m.map(t=>{for(;q[0]!==t.character&&q.length>0;)r++,q.shift();q.shift();t=t.boundingBox.transform(p);return[r++,t]}).filter(ub))})}},pOs=({Wba:a,store:b,L:c,viewport:d,Jjh:e,errorService:f})=>{const g=new B5s(d,()=>c.Ifk(),f),h=k=>e.get()?c.PWp(k):[];oV(()=>{a.Scf=fV(({children:k,text:l,enabled:m})=>{const p=h(l),q=jV(null),r=jV(null),t=jV(void 0);iV(()=>{var u;const w=r.current;if(q.current==null||w==null||p.length===0)w!=null&&
(w.innerHTML="");else{var x=()=>{var z=q.current;const A=r.current;var B=h(l);if(z==null||A==null||B.length===0)A!=null&&(A.innerHTML="");else{var D=B[0].item;if(D.V4d)if(ta(D.type==="text"),z=g.CTq(D),z==null)g.errorService.error("could not measure curved text character boxes"),D=void 0;else{D=D.Oc.Ya;var G=jm(D);D=WNs(z,D,G)}else{G=g.viewport.ZN(g.viewport.ya);switch(D.type){case "text":var I=D.el.ia.eb;var K=D.el.ia.width;var N=(I?K/I:1)*G;I=I!==null&&I!==void 0?I:K;G*=K;break;case "table":N=D.el.ia.eb;
I=D.el.ia.width;N=(N?I/N:1)*G;I=D.DAa().width;G*=D.DAa().width;break;case "shape":I=D.el.ia.ed;K=D.el.ia.width;N=G;I=I.first().box.width;G*=K;break;case "line":I=D.el.ia.ed;K=D.el.ia.width;N=G;I=I.first().width;G*=K;break;default:throw new v(D);}D=g.USq(z,l,D.rotation,I,G,N)}if(D==null||D.size===0)A.innerHTML="";else{z=b.query.length;G=[];for(const {item:M,startIndex:S,focused:Q}of B)(B=g.zkf({item:M,BTp:{from:S,to:S+z},mEp:D}))&&G.push({i5q:B,focused:Q});oOs(G,A)}}};x();(u=t.current)===null||u===
void 0||u.call(t);var y=p[0].item.Oc.Nca(sQs).subscribe(()=>setTimeout(x));t.current=()=>y.unsubscribe();return()=>{var z;(z=t.current)===null||z===void 0||z.call(t)}}},[q,r,p,l]);return kV("div",{ref:q,style:{position:"relative"},children:[m&&dV("div",{ref:r}),k]})})})};var C5s=(a,b)=>J("+7TiJw",[a,b]);var JOs=FV(({T$i:a,onClose:b,mode:c})=>{var d=zV(()=>["Escape",e=>{e.stopPropagation();b()}],[b]);({ref:d}=__c.Bb([d],{mr:!0}));return kV("div",{className:CV("hD99Kg",{UkHtoA:c==="canvas-overlay",_6iuQhg:c==="sheet"}),ref:d,tabIndex:0,children:[c==="canvas-overlay"&&dV(D5s,{onClose:b}),kV(R,{Kb:"2u",children:[dV(Uc,{spacing:"2u",children:dV(a,{})}),dV(jd,{direction:"vertical",size:"2u"})]})]})}),D5s=FV(({onClose:a})=>dV("div",{className:"fk8tPA",children:dV(bj,{variant:"tertiary",icon:__c.xr,onClick:a,
ariaLabel:L("ilwjXw")})})),IOs=FV(({fzs:a,mMr:b,search:c,GEs:d,tZq:e,kbi:f,ysc:g,Mbd:h})=>{const k=jV(null),l=jV(!1);iV(()=>{requestAnimationFrame(()=>{var q,r;(q=k.current)===null||q===void 0||q.focus();(r=k.current)===null||r===void 0||r.select()})},[]);const m=hV(q=>{q.key==="Enter"&&(l.current?e===null||e===void 0||e():f===null||f===void 0||f());q.key==="Shift"&&(l.current=!0)},[f,e]),p=hV(q=>{q.key==="Shift"&&(l.current=!1)},[l]);return kV(Uc,{spacing:"1u",children:[dV(P,{size:"small",weight:"bold",
children:L("QeSW7g")}),kV(jr,{Fa:"start",spacing:"0.5u",children:[dV(ir,{children:dV(__c.Bv,{ariaLabel:L("otJcdA"),value:c,end:a!=null&&dV(R,{Kb:"1u",children:dV(P,{size:"small",tone:"tertiary",margins:"legacy",children:kV("span",{className:"i4ICDA",children:[a,"/",b]})})}),onChange:d,ref:k,onKeyDown:m,onKeyUp:p})}),dV(ir,{width:"content",children:dV(bj,{variant:"tertiary",icon:vr,onClick:e,hb:L("EWLe2w"),disabled:h})}),dV(ir,{width:"content",children:dV(bj,{variant:"tertiary",icon:wr,onClick:f,hb:L("dQoayg"),
disabled:g})})]})]})}),NOs=FV(({replace:a,wEs:b,$Ya:c,xzi:d,Lhp:e,Drs:f,zrs:g})=>kV(Uc,{spacing:e==null?"2u":"0",children:[kV(Uc,{align:"start",spacing:"1u",children:[dV(P,{size:"small",weight:"bold",children:L("/ptrSg")}),dV(__c.Bv,{ariaLabel:"replace",value:a,onChange:b})]}),e&&dV(e,{}),kV(jr,{Fa:"start",spacing:"2u",children:[dV(ir,{children:dV(bj,{variant:"secondary",stretch:!0,disabled:g,onClick:d,children:L("+kNphg")})}),dV(ir,{children:dV(bj,{variant:"primary",stretch:!0,disabled:f,onClick:c,
children:L("2CtBAA")})})]})]})),MOs=FV(({checked:a,onChange:b})=>dV(__c.Er,{label:L("WVqlVg"),checked:a,onChange:b,size:"small"})),OOs=FV(({state:a,GUg:b})=>{switch(a.type){case "all-locked":return dV(E5s,{GUg:b});case "some-locked":return dV(F5s,{GUg:b,x4a:a.UPn});default:throw new v(a);}}),E5s=FV(({GUg:a})=>dV(Pk,{tone:"critical",size:"small",children:J("nShGxw",[a])})),F5s=FV(({GUg:a,x4a:b})=>{const c=zV(()=>{var d=b.length;if(d===0)return J("iAnQBA",[a]);if(d===1)return J("ffdFTw",[a,b[0]]);d=
sOs(b).map(e=>e.length>1?J("UzUiGA",[e[0],e[1]]):e[0].toString());d.length>2&&(d=[d.slice(0,d.length-1).join(L("qUEeSw")),d[d.length-1]]);return C5s(a,d.join(L("JFKt9A")))},[b,a]);return dV(Pk,{tone:"warn",size:"small",children:c})});var G5s=FV(a=>{const b=a.label,c=a.im,d=a.NE,e=a.onClick,f=a.oa,g=a.CDa;a=hV(()=>{g===null||g===void 0||g();e();f===null||f===void 0||f()},[f,g,e]);return dV(d,{onClick:a,im:c,ZY:__c.Co,children:b})});var tOs=class{static G(a){O(a,{mio:gV,ugo:gV,p1n:gV,replaceAll:gV,hFk:mV,n1n:mV,k1n:mV,HPn:mV,onn:mV})}static create({store:a,h2b:b,$dc:c,document:d,vc:e,undo:f,errorService:g,uy:h,V:k,Zc:l,Pi:m,la:p,Vc:q}){l=yOs({Zc:l,Pi:m});return new tOs(a,b,d,e,f,g,h,k,uOs(p),zOs({vdl:l,Vc:q}),AOs({vdl:l,Vc:q,$dc:c}))}mio(a){this.store.replaceWith=a}ugo(a){this.store.wYb=a;this.h2b.Nal()}p1n(){const a=this.store,b=this.V.sb("text.replace",{Fb:{name:"editor.text.replace"}}),c=a.Hx!=null?this.h2b.matches[a.Hx]:
void 0;c&&!this.Mt(c)&&(this.Frs({match:c,tNb:a.query.length,VZ:a.replaceWith}),this.h2b.pJa===0&&(a.Hx=void 0),a.Hx!=null&&a.Hx>=this.h2b.pJa&&(a.Hx%=this.h2b.pJa),xNs(this.uy,{qui:1,tki:!1,pui:1,vui:c.item.type==="text"?1:0,uui:c.item.type==="table"?1:0,sui:c.item.type==="shape"?1:0,tui:c.item.type==="sheet-cell"?1:0,GCf:a.wYb,UKi:a.replaceWith.length},b.mb()),b.ne())}replaceAll(){const a=this.store,b=this.V.sb("text.replace_all",{Fb:{name:"editor.text.replace_all"}}),c=this.h2b.matches.filter(t=>
this.uyk(t)),d=this.hFk;if(c.length===d.length)b.abort();else{var e=new Set;c.forEach(t=>{t.type==="sheet-cell"?e.add(t.item):t.item.Ja==="responsive"?e.add(t.item.item):e.add(t.item.el)});var f=c.length,g=new Set(d),h=c.filter(t=>!g.has(t)),k=a.replaceWith,l=this.undo.startBuffering();try{this.Ars({matches:h,tNb:a.query.length,VZ:k}),a.Hx=void 0}catch(t){this.errorService.error(t,{Ka:"Error replacing all matches"});b.end("error");return}finally{l.stop()}d.length===0?this.xzi({type:"replace-all",
rqh:f}):this.xzi({type:"replace-some",YBo:d.length,rqh:f});var {XDl:m,UBl:p,grl:q,uih:r}=yNs(c);xNs(this.uy,{qui:f,tki:!0,pui:e.size,vui:m,uui:p,sui:q,tui:r,GCf:a.wYb,UKi:a.replaceWith.length},b.mb());b.ne()}}get hFk(){return this.h2b.matches.filter(a=>this.Mt(a))}get n1n(){var a=this.h2b.matches;const b=this.store.Hx;if(a.length===0||b==null||b<0||b>=a.length)return!0;a=a[b];return this.Mt(a)||!this.uyk(a)}get k1n(){return!this.h2b.matches.some(a=>!this.Mt(a)&&this.uyk(a))}get HPn(){var a;const b=
this.document;return b.Ja!=="fixed"||b.pages.count()===1&&((a=b.pages.first())===null||a===void 0?void 0:a.type)==="responsive"?new Map:new Map(b.pages.toArray().map((c,d)=>[c,d+1]))}get onn(){const a=this.hFk,b=a.length;if(b!==0){if(b===this.h2b.pJa)return{type:"all-locked"};if(a.some(d=>d.type!=="sheet-cell"&&d.item.Ja==="responsive"))return{type:"some-locked",UPn:[]};var c=this.HPn;return{type:"some-locked",UPn:nd(a.map(({item:d})=>d.type==="sheet-cell"?d.mZa.type==="fixed-page"?d.mZa:void 0:d.Ja===
"fixed"?d.page:void 0).map(d=>d&&c.get(this.Vvd(d))).filter(ub))}}}Vvd(a){var b;return((b=a.container)===null||b===void 0?void 0:b.type)==="concatenated-fixed-page"?a.container.page:a.page}constructor(a,b,c,d,e,f,g,h,k,l,m){this.store=a;this.h2b=b;this.document=c;this.vc=d;this.undo=e;this.errorService=f;this.uy=g;this.V=h;this.xzi=k;this.Frs=l;this.Ars=m;this.uyk=(tOs.G(this),LV(p=>p.item.type==="responsive-inline-item"||p.type==="sheet-cell"&&p.item.replace==null?!1:!0));this.Mt=LV(p=>p.type===
"sheet-cell"?!p.item.Chn:p.item.Ja==="responsive"?!1:this.Tpq(p.item.el));this.Tpq=this.vc!=null?LV(({ia:p,container:q})=>this.vc.Wq({element:p,container:q,aspect:am.Ps})):()=>!1}};var J5s=class{static G(a){O(a,{h6i:mV.struct,pPe:mV.struct,BB:gV,AQ:gV,Rc:gV,ki:gV,Ovs:mV})}static create({store:a,Ma:b,document:c,Xa:d,$V:e,viewport:f,uy:g,V:h,fd:k,Cpi:l}){e=e.kc(m=>new H5s(a,m,l));c=new I5s(a,c,e,k);return new J5s(a,c,b,f,d,g,h,MNs({yGd:c,viewport:f}))}get h6i(){var a;const b=this.viewport.Aca,c=(a=this.viewport.scrollingContainer)===null||a===void 0?void 0:a.getBoundingClientRect();if(c!=null&&b!=null)return a=c.top-b.tl.y,Sj(b.tl.x,Math.round((a-1E3)/400)*400,b.br.x,Math.round((a+
c.height+1E3)/400)*400)}get pPe(){if(this.h6i==null)return[];const a=this.h6i.tl.y,b=this.h6i.br.y;return this.qAr.filter(c=>c.ES.some(d=>d.En.y>a&&d.tl.y<b))}BB(a){var b=this.store;b.query=a;a.length===0&&this.AQ(void 0);a=this.V.sb("text.find",{Fb:{name:"editor.text.find",type:"responsive"}});this.AQ(this.pJa>0?0:void 0);var c=this.matches;const {XDl:d,UBl:e,grl:f,uih:g}=yNs(c);var h=this.uy;c=c.length;b=b.wYb;var k=a.mb();h.qvm(c,d,e,f,g,b,k);a.ne()}AQ(a){var b;const c=(b=this.store.Hx)!==null&&
b!==void 0?b:0;this.store.Hx=a;a!=null&&((b=this.matches[a])&&this.Bpi.navigateTo(b),this.uy.N.track(QNs,{Epi:this.pJa,zqn:c,Aqn:a}))}P9j(){const a=this.store;a.Hx==null||this.pJa===0?this.AQ(void 0):this.AQ((a.Hx+1)%this.pJa)}T9j(){const a=this.store;a.Hx==null||this.pJa===0?this.AQ(void 0):this.AQ(a.Hx===0?this.pJa-1:a.Hx-1)}Nal(){const a=this.store;if(this.pJa===0)this.AQ(void 0);else{var b;(a.Hx==null||a.Hx>=this.pJa)&&this.AQ(((b=a.Hx)!==null&&b!==void 0?b:0)%this.pJa)}}oHl(a,b){vNs(this.uy,
a,b)}Rc(){this.store.isMounted=!0}ki(){this.store.isMounted=!1;this.Xa.focus()}get tkh(){return this.Ma.mode===40}get pJa(){return this.matches.length}get matches(){return this.yGd.pPe}get Ovs(){return this.matches.map((a,b)=>({...a,focused:b===this.store.Hx}))}pHk(a){return this.yGd.rAr(a)}get qAr(){const a=this.store.Hx;return this.yGd.Eqn.map((b,c)=>({...b,focused:c===a}))}IEg(a){return this.yGd.IEg(a)}replaceAll(a){this.yGd.replaceAll(a)}constructor(a,b,c,d,e,f,g,h){this.store=a;this.yGd=b;this.Ma=
c;this.viewport=d;this.Xa=e;this.uy=f;this.V=g;J5s.G(this);this.Bpi=h}},I5s=class{static G(a){O(a,{pJa:mV,eLh:mV,Bqn:mV,pPe:mV,Eqn:mV.struct})}get pJa(){return this.pPe.length}get eLh(){const a=this.document;if(a.Ja==="responsive"){const b=n(a.Cl.first());return __c.Bf(__c.Ef(a),b)}}get Bqn(){if(!this.eLh)return[];const a=this.Z8g.Xob(this.eLh.text);return a?COs(this,a,this.eLh):[]}get pPe(){const a=[];for(const b of this.Bqn)a.push(...EOs(b));return a}get Eqn(){return this.pPe.map(a=>({...a,ES:this.IEg(a)}))}IEg(a){return a.type===
"sheet-cell"?[a.item.Lig]:this.fd.X1d(a.item.Oc,Qw.of({index:a.startIndex,length:a.length||this.store.query.length}))}replaceAll(a){for(const b of this.Z8g.instances)b.LTf.yx.type!=="sheet-item-cell-richtext"&&b.replaceAll(a)}constructor(a,b,c,d){this.store=a;this.document=b;this.Z8g=c;this.fd=d;this.rAr=(I5s.G(this),LV(e=>{var f=this.Z8g.Xob(e.text);if(!f)return[];e=COs(this,f,e);f=[];for(const g of e)f.push(...EOs(g));return f}))}},H5s=class{static G(a){O(a,{Yh:mV.struct,wCj:mV})}get Yh(){const a=
this.LTf,b=a.yx,c=[];let d=0;a.text.forEach({Ya:(e,f,g)=>{FOs(this,g)||((f=c[c.length-1])&&f.type==="characters"&&f.startIndex+f.Ya.length===d?f.Ya+=e:c.push({type:"characters",Ya:e,startIndex:d,container:b}));d+=e.length},item:(e,f,g)=>{if(!FOs(this,g))switch(e.type){case "pill":c.push({type:"inline-item",Ya:e.fi.text,startIndex:d,item:e,container:b});break;case "table":__c.LVc(b)&&c.push({type:"table-item",container:b.Fw(e)});break;case "layout":KVc(b)&&c.push({type:"layout-item",container:b.Fw(e)});
break;case "sheet":__c.MVc(b)&&c.push({type:"sheet-item",container:b.Fw(e)});break;case "controlled":case "rect":case "shape":case "break":case "separator":case "embed":case "chart":case "design":c.push({type:"non-text-item"});break;default:throw new v(e);}d+=1}});return c}get wCj(){const a=this.store.query,b=this.store.wYb;return this.Yh.flatMap(c=>{if(c.type==="non-text-item")return[];if(c.type==="table-item"||c.type==="layout-item")return[c];if(c.type==="sheet-item"){const f=this.Cpi;if(f==null)return[];
const g=[];c.container.ia.config.layout.cells.forEach((h,{dc:k,Zb:l})=>{h=c.container.qY(k,l);h=f.create(h);k=i5s({wYb:b,source:h.duc,substring:a});k.length>0&&g.push({type:"sheet-cell",o9c:k,item:h})});return g}const d=i5s({wYb:b,source:c.Ya,substring:a,Y5s:c.type==="inline-item"}).map(f=>f+c.startIndex),e=c.container;return c.type==="inline-item"?[{type:"inline-item-indices",indices:d,item:c.item,container:e}]:[{type:"indices",indices:d,container:e}]})}get $Ni(){return this.LTf.text}replace(a,b){const c=
this.LTf.jq;a=Qw.of({index:a,length:this.store.query.length});__c.BB(c,a,b)}replaceAll(a){var b=this.wCj.flatMap(e=>e.type==="indices"?e.indices:[]);if(b.length!==0){var c=this.LTf.jq,d=this.store.query.length;b=Qw.list(b.map(e=>({index:e,length:d})));xps(c,b,a)}}constructor(a,b,c){this.store=a;this.LTf=b;this.Cpi=c;H5s.G(this)}};var K5s,L5s,M5s=(L5s=(K5s=window.navigator)===null||K5s===void 0?void 0:K5s.userAgent)!==null&&L5s!==void 0?L5s:"",N5s=M5s.match(/AppleWebKit\//)&&!M5s.match(/(Chrome|Chromium)\//),GOs=FV(({matches:a})=>dV("div",{children:a.flatMap(({ES:b,focused:c})=>b.map(d=>dV(O5s,{box:d,focused:c},d.En.toString())))})),O5s=FV(({box:a,focused:b})=>{const {width:c,height:d,top:e,left:f,rotation:g}=a.Mb();return dV("div",{className:"_4a1KIg",style:{width:c,height:d,transform:`translate(${f}px, ${e}px) rotate(${g}deg)`,
backgroundColor:b?"hsla(262,  94%, 79%, 1)":"hsla(260, 100%, 93%, 1)",opacity:N5s?.5:1}})});var P5s=class extends HV{static G(a){O(a,{onClick:gV})}render(){return dV(this.props.NE,{onClick:this.onClick,dB:this.props.dB,children:L("YSZmvA")})}constructor(...a){super(...a);this.onClick=(P5s.G(this),()=>{const b=this.props.onClick,c=this.props.oa,d=this.props.LFl;d();b&&b();c&&c()})}};var Q5s=class{constructor(a,b,c,d){this.store=a;this.config=b;this.P=c;this.FAb=d;this.LFl=()=>{var e;const f=this.store.mq;this.config.mq=f!=="thumbnail_view"?"thumbnail":"scroll";const g=this.config.mq==="thumbnail"?"thumbnail_view":"scrolling_view";(e=this.FAb)===null||e===void 0||e.gFj();this.P.track(__c.R$g,{mq:g,wuc:f,kb:"file_menu"})}}};var R5s=class{static G(a){O(a,{Ipo:mV,dB:mV,mq:mV})}get Ipo(){return this.ka.layout===2}get dB(){return this.config.mq==="thumbnail"&&!this.Ec.iLa}get mq(){return this.Ec.iLa?"grid_view":this.config.mq==="thumbnail"?"thumbnail_view":"scrolling_view"}constructor(a,b,c){this.config=a;this.Ec=b;this.ka=c;R5s.G(this)}};var S5s=qc(6),T5s=()=>dV("div",{className:"_9G1iSw",children:S5s.map(a=>dV(ej,{shape:"square",index:a},a))}),U5s=({f$b:a})=>kV("div",{children:[a?null:dV("div",{className:"XX4SVA",children:dV(__c.eu,{})}),dV("div",{className:"ysWVVg",children:S5s.map(b=>dV(ej,{index:b,shape:"square"},b))})]});var V5s=__webpack_require__.p+"images/c1d3752055f3dd9727467a61aedbe1af.svg",W5s=__webpack_require__.p+"images/4cae76430b90372678b1e905bdcca3db.svg",X5s=__webpack_require__.p+"images/8176a64e87bfc9e9615e16a102bfc579.svg",Y5s=__webpack_require__.p+"images/74d2b4f0782eb2b75e1650848e9c1644.svg",Z5s=__webpack_require__.p+"images/f92bd9d9003a11a4b6a7f9403088f861.svg",$5s=__webpack_require__.p+"images/d747c381a37b344ebd5e7ccab9924101.svg",a6s=__webpack_require__.p+"images/c149f74cacb6894eb927573b8933ce2c.svg",
b6s=__webpack_require__.p+"images/ebbe273cc23a6791b453e61fd5940c1e.svg",c6s=__webpack_require__.p+"images/fa3bc38ce9b70594b8edaad3cfc61b36.svg",d6s=__webpack_require__.p+"images/116f0695785a0951166ccaf14a21716b.svg";var e6s=[{type:void 0,label:L("9e7qCw"),ufa:0,thumbnail:V5s},{type:"cross-dissolve",label:L("UC2hsg"),ufa:5E5,thumbnail:Z5s},{type:"slide",label:L("nQVX1w"),ufa:5E5,thumbnail:b6s},{type:"wipe-circle",label:L("IsoSzQ"),ufa:5E5,thumbnail:X5s},{type:"color-wipe",label:L("K3o8tQ"),ufa:1E6,thumbnail:Y5s},{type:"wipe-line",label:L("TeLvcQ"),ufa:5E5,thumbnail:a6s},{type:"match",label:L("9eUSmA"),description:L("0LipfA"),ufa:5E5,thumbnail:d6s},{type:"flow",label:L("Y8dVVQ"),ufa:15E5,thumbnail:$5s},{type:"stack",
label:L("XPz/Dw"),ufa:5E5,thumbnail:c6s},{type:"chop",label:L("ghebZg"),ufa:5E5,thumbnail:W5s}],f6s=[{type:void 0,label:L("9e7qCw"),ufa:0,thumbnail:V5s},{type:"cross-dissolve",label:L("UC2hsg"),ufa:5E5,thumbnail:Z5s},{type:"slide",label:L("nQVX1w"),ufa:5E5,thumbnail:b6s},{type:"wipe-circle",label:L("IsoSzQ"),ufa:5E5,thumbnail:X5s},{type:"color-wipe",label:L("K3o8tQ"),ufa:1E6,thumbnail:Y5s},{type:"wipe-line",label:L("TeLvcQ"),ufa:5E5,thumbnail:a6s},{type:"stack",label:L("XPz/Dw"),ufa:5E5,thumbnail:c6s},
{type:"chop",label:L("ghebZg"),ufa:5E5,thumbnail:W5s}];var g6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.75 7.098V4.5a.75.75 0 0 0-1.5 0v4c0 .966.784 1.75 1.75 1.75h4a.75.75 0 0 0 0-1.5H5.517A7.252 7.252 0 0 1 19.25 12a7.25 7.25 0 0 1-13.604 3.495.75.75 0 0 0-1.313.724 8.75 8.75 0 1 0 .417-9.12Z" fill="currentColor"/></svg>';var h6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var i6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 18a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var j6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.25 7.098V4.5a.75.75 0 0 1 1.5 0v4A1.75 1.75 0 0 1 19 10.25h-4a.75.75 0 0 1 0-1.5h3.483A7.252 7.252 0 0 0 4.75 12a7.25 7.25 0 0 0 13.604 3.495.75.75 0 0 1 1.314.724 8.75 8.75 0 1 1-.418-9.12Z" fill="currentColor"/></svg>';var k6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M7.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var l6s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 1.5a.5.5 0 0 0-.5.5v14a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5Z" fill="currentColor"/><path d="M16.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill="currentColor" fill-opacity=".8"/></svg>';var m6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.134 6.673a1.01 1.01 0 0 1 .536-1.315l7.822-3.328a.99.99 0 0 1 1.304.532l2.024 4.865a1.01 1.01 0 0 1-.536 1.315L5.462 12.07a.99.99 0 0 1-1.304-.532L2.134 6.673Z" stroke="currentColor" stroke-width="1.25" stroke-linejoin="round"/><path d="M9.5 13.28h2.861a1 1 0 0 0 1-1v-.53" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var n6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="2.125" stroke="currentColor" stroke-width="1.25"/><circle cx="8" cy="8" r="5.375" stroke="currentColor" stroke-width="1.25"/></svg>';var o6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.993 5.457 9.55 5.9l.442-.442Zm1.992 4.644-6.5-6.5-.884.884 6.5 6.5.884-.884ZM2.75 4.375h1.586v-1.25H2.75v1.25Zm-.375 6.875v-6.5h-1.25v6.5h1.25Zm8.46.375H2.75v1.25h8.086v-1.25Zm-.135-7.25h2.55v-1.25H10.7v1.25Zm2.925.375V7.3h1.25V4.75h-1.25ZM9.551 5.899l2.55 2.55.884-.884-2.55-2.55-.884.884ZM13.625 7.3a.375.375 0 0 1-.64.265l-.884.884c1.024 1.024 2.774.299 2.774-1.149h-1.25Zm-.375-2.925c.207 0 .375.168.375.375h1.25c0-.897-.727-1.625-1.625-1.625v1.25Zm-2.55-1.25c-1.448 0-2.173 1.75-1.15 2.774l.885-.884a.375.375 0 0 1 .265-.64v-1.25ZM1.125 11.25c0 .898.728 1.625 1.625 1.625v-1.25a.375.375 0 0 1-.375-.375h-1.25ZM2.75 3.125c-.897 0-1.625.728-1.625 1.625h1.25c0-.207.168-.375.375-.375v-1.25Zm2.735.476a1.625 1.625 0 0 0-1.15-.476v1.25c.1 0 .196.04.266.11l.884-.884Zm5.616 7.384a.375.375 0 0 1-.265.64v1.25c1.447 0 2.172-1.75 1.149-2.774l-.884.884Z" fill="currentColor"/></svg>';var p6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.496 8.089 3.25 5.924v4.33l3.247-2.165Zm3.007 0 3.247-2.165v4.33L9.503 8.089Zm-2.058.87a1 1 0 0 1 1.11 0l3.89 2.594A1 1 0 0 0 14 10.72V5.457a1 1 0 0 0-1.555-.832L8.555 7.22a1 1 0 0 1-1.11 0L3.554 4.625a1 1 0 0 0-1.555.832v5.264a1 1 0 0 0 1.555.832l3.89-2.594Z" fill="currentColor"/></svg>';var q6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.75 6.5h5.157m-4.157 3H5" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/><path d="M5 3.5h8.408c.549 0 .992.443.992.993v7c0 .555-.452 1.007-1.007 1.007H3.749" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var r6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="5.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><rect x="10.125" y="3.625" width="3.25" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/></svg>';var s6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.25" d="M10.5 6s.608 1.78 1.388 2.645c.78.866 2.612 1.317 2.612 1.317s-1.783.46-2.612 1.419c-.552.64-1.015 1.512-1.388 2.619-.46-1.171-.956-2.044-1.489-2.62-.533-.574-1.37-1.114-2.511-1.618 1.027-.12 1.864-.493 2.511-1.117C9.981 7.71 10.5 6 10.5 6zm-5-4s.531 1.173.927 1.635C6.824 4.097 8 4.45 8 4.45s-1.315.728-1.573 1.02c-.172.194-.472.704-.9 1.53-.238-.662-.521-1.173-.848-1.53C4.35 5.112 3.792 4.772 3 4.45c.647-.198 1.147-.47 1.499-.815C5.026 3.117 5.5 2 5.5 2z"/></svg>';var t6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.625" y="3.625" width="10.75" height="8.75" rx="1.375" stroke="currentColor" stroke-width="1.25"/><path d="M7.675 6.175 9.5 8 7.675 9.825" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>';var u6s='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.25 3.75a1 1 0 0 1 1-1h9.5a1 1 0 0 1 1 1V8.5a1 1 0 0 1-1 1h-9.5a1 1 0 0 1-1-1V3.75Z" stroke="currentColor" stroke-width="1.25"/><path d="M3.5 12v0c0 .531.43.961.962.961h7.077c.53 0 .961-.43.961-.961v0" stroke="currentColor" stroke-width="1.25" stroke-linecap="round"/></svg>';var ROs=er({small:m6s}),YOs=er({small:n6s}),SOs=er({small:o6s}),TOs=er({small:p6s}),UOs=er({small:q6s}),ZOs=er({small:r6s}),VOs=er({small:s6s}),WOs=er({small:t6s}),XOs=er({small:u6s}),bPs=er({medium:g6s}),aPs=er({medium:j6s}),gPs=er({medium:k6s}),hPs=er({medium:l6s}),iPs=er({medium:h6s}),jPs=er({medium:i6s});var v6s=({transition:a,Dji:b,men:c,nr:d})=>{a=$Os(a)||(b?__c.Dos:Qu);return d&&b?dV(__c.Dos,{size:"medium"}):dV(a,{size:"small",className:CV({QinT_w:c})})};var w6s={eventType:"editor_transition_panel_opened",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),page_number:a.zd,location:a.location,control_context:a.kb})}},qPs={eventType:"editor_transition_applied",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),page_number:a.zd,transition_name:a.W1f,previous_transition_name:a.vhs,did_apply_between_all_pages:a.Yhq})}},x6s={eventType:"editor_transition_adjusted",Oa(a){return sf({editing_context:a.Ba==null?void 0:tf(a.Ba),page_number:a.zd,
transition_name:a.W1f,property:a.property,original_value:a.Jqb,current_value:a.Rza})}};var A6s=class{static G(a){O(a,{Xcb:yV.ref,N9f:yV.ref,Ce:yV.ref,title:yV.ref})}constructor(){this.Xcb=(A6s.G(this),void 0);this.title=this.Ce=this.N9f=void 0}},B6s=class{static G(a){O(a,{panel:mV({keepAlive:!0}),Mrl:mV({keepAlive:!0}),A2k:mV,MUc:mV({equals:lV.shallow}),p8e:mV({equals:lV.shallow}),d3g:yV.ref,Bsn:gV,RLn:gV,QLn:gV,close:gV})}get panel(){return{ma:n(this.config.Xcb),header:this.config.title?{title:this.config.title}:void 0}}get Mrl(){return{df:n(this.config.N9f),options:{rg:this.config.Ce}}}get A2k(){const a=
n(this.config.Xcb);return{df:()=>dV(a,{}),options:{rg:this.config.Ce}}}get XP(){return this.Pxl.Xoe}get MUc(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)!=="pages"||a.inner!=null&&a.inner.type!=="background"?[]:a.pages.filter(b=>this.kyc.Odb(b))}get p8e(){var a;const b=this.selection.La;return(b===null||b===void 0?void 0:b.type)!=="pages"||b.inner!=null&&b.inner.type!=="background"?[]:((a=b.inner)===null||a===void 0?void 0:a.Jc.filter(c=>!this.gEo.TKb(c)))||[]}open(a){var b;
const c=a.page,d=this.V.sb("open_transition_panel",{Fb:{name:"editor.editing.transitions.open_transition_panel",type:a.kb}});this.Bsn(a.kKl,c);this.RLn(c!==null&&c!==void 0?c:(b=this.kyc.ya)===null||b===void 0?void 0:b.page,a.kb,a.entryPoint);d.ne()}Bsn(a,b){b&&(this.viewport.gw(b),a.length===0||this.d3g!=null?this.selection.PBb(b):this.selection.KGf(b))}RLn(a,b,c){a&&this.kyc.Odb(a)&&(this.P.track(w6s,{location:"page_navigator",kb:b,zd:this.Ia.pages.toArray().indexOf(a)+1}),b=this.Pxl,b.active!==
c&&b.Xoe.clear(),b.active=c,this.XP.clear(),this.d3g=a,this.ka.layout===2?this.XP.Xg(this.Mrl):c==="toolbar"?this.XP.Xg(this.A2k):this.nn.open(this.panel,{Fa:"top"}))}QLn(a,b,c){this.gEo.TKb(a)||(this.P.track(w6s,{location:"page_navigator",kb:b,zd:1}),a=this.Pxl,a.active!==c&&a.Xoe.clear(),a.active=c,this.XP.clear(),this.ka.layout===2?this.XP.Xg(this.Mrl):c==="toolbar"?this.XP.Xg(this.A2k):this.nn.open(this.panel,{Fa:"top"}))}close(){this.d3g=void 0;this.nn.close(this.panel);this.XP.clear()}constructor(a,
b,c,d,e,f,g,h,k,l,m){this.Ia=a;this.config=b;this.nn=c;this.selection=d;this.viewport=e;this.kyc=f;this.gEo=g;this.P=h;this.Pxl=k;this.V=l;this.ka=m;this.d3g=(B6s.G(this),void 0)}};var C6s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.561 16.5h7.19a.75.75 0 1 1 0 1.5h-8A1.75 1.75 0 0 1 6 16.25v-8a.75.75 0 0 1 1.5 0v7.19l9.2-9.2a.75.75 0 0 1 1.06 1.06l-9.2 9.2z" fill="currentColor"/></svg>';var ePs=er({medium:C6s});var D6s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.48 15.439v-7.19a.75.75 0 1 1 1.5 0v8A1.75 1.75 0 0 1 16.23 18h-8a.75.75 0 0 1 0-1.5h7.19l-9.2-9.2a.75.75 0 0 1 1.06-1.06l9.2 9.2z" fill="currentColor"/></svg>';var dPs=er({medium:D6s});var E6s='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 8.581v7.19a.75.75 0 1 1-1.5 0v-8c0-.967.783-1.75 1.75-1.75h8a.75.75 0 0 1 0 1.5H8.56l9.2 9.2a.75.75 0 0 1-1.06 1.06l-9.2-9.2z" fill="currentColor"/></svg>';var cPs=er({medium:E6s});var F6s=class{static G(a){O(a,{Vmd:yV.ref,animation:yV.ref,ya:mV,SN:mV,pwe:mV,Amb:mV,$Uh:mV,Wed:mV,directions:mV,origins:mV,ra:mV,kge:mV,nG:gV,Gko:gV,BQi:gV,setDirection:gV,Zol:gV,Vml:gV,y5:gV,Shb:gV,idc:gV,kdc:gV,fPb:gV,qqe:gV})}get ya(){var a,b;return((b=this.selection.La)===null||b===void 0?void 0:(a=b.pages)===null||a===void 0?void 0:a.length)===1?this.di.tb(this.selection.La.pages[0]):this.viewport.jh?this.di.tb(this.viewport.ya):void 0}get SN(){var a;return(a=this.ya)===null||a===void 0?void 0:
a.page.transition.ref}get pwe(){var a,b;return(b=this.ya)===null||b===void 0?void 0:(a=b.page.transition.ref)===null||a===void 0?void 0:a.durationUs}get Amb(){var a;return(a=this.SN)===null||a===void 0?void 0:a.type}get $Uh(){if(this.Amb)return this.gr.get().find(a=>a.type===this.Amb)}get Wed(){return this.Ia.pages.count()>2&&this.Ia.pages.filter(a=>!this.TKb(a)).some(a=>{var b;return a.transition.ref&&this.SN?a.transition.ref.type!==this.Amb||a.transition.ref.durationUs!==this.pwe||this.Vpa(a.transition.ref)!==
this.Vpa(this.SN)||this.ufb(a.transition.ref)!==this.ufb(this.SN)||this.uXa(a.transition.ref)!==this.uXa(this.SN):!this.SN&&a.transition.ref?!0:((b=a.transition.ref)===null||b===void 0?void 0:b.type)!==this.Amb})}Vpa(a){switch(a.type){case "color-wipe":return a.ra;case "chop":case "cross-dissolve":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new v(a);}}ufb(a){switch(a.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-circle":case "wipe-line":return a.direction;
case "cross-dissolve":case "match":break;default:throw new v(a);}}uXa(a){switch(a.type){case "chop":return a.origin;case "cross-dissolve":case "color-wipe":case "flow":case "match":case "slide":case "stack":case "wipe-circle":case "wipe-line":break;default:throw new v(a);}}get directions(){var a;return fPs((a=this.SN)===null||a===void 0?void 0:a.type)}get origins(){var a;return kPs((a=this.SN)===null||a===void 0?void 0:a.type)}get ra(){var a;switch((a=this.SN)===null||a===void 0?void 0:a.type){case "color-wipe":return this.fYc(this.SN)}}fYc(a){switch(a.type){case "color-wipe":return a===
null||a===void 0?void 0:a.ra}}init(){$Ps(mV(()=>new Map(this.Ia.pages.map(a=>[a,this.z9a(a)])),{equals:lV.shallow}),a=>{a.newValue.forEach((b,c)=>{var d;c.transition.ref&&b!==((d=a.oldValue)===null||d===void 0?void 0:d.get(c))&&this.BQi(c.transition.ref,this.mwd(c),Math.min(c.transition.ref.durationUs,this.z9a(c)))})});eV(()=>this.Ia.pages.filter(a=>a.type!=="fixed"||this.Ia.pages.last()===a?!1:!!a.transition.ref&&!mPs(this,a)),a=>{a.length!==0&&this.nG(a,void 0)},{equals:lV.shallow})}Odb(a){return!this.TKb(a)}TKb(a){var b;
if(a.type!=="fixed")return!0;const c=(b=mPs(this,a))===null||b===void 0?void 0:b.page;return a.locked||c==null||c.locked||!1}get kge(){var a;return!((a=this.SN)===null||a===void 0||!a.type)}nG(a,b){const c=this.V.sb("select_transition_type",{Fb:{name:"editor.editing.transitions.select_transition_type",type:b}});if(a.length!==0){if(this.aoc){const d=this.gr.get().find(e=>e.type===b);d&&__c.bEe(this.aoc,d)}a.forEach(d=>{var e=d.transition.ref;if((e===null||e===void 0?void 0:e.type)!==b){if(b!=null){var f;
e=e?e.durationUs:nPs(this,b,this.z9a(d));var g=this.Ia;g=K8q({Ia:g,ht:this.ht,pmf:d.Jc.first(),HIf:(f=__c.L8q(d,g))===null||f===void 0?void 0:f.Jc.first()});g=pPs({type:b,durationUs:e,uqd:g})}rPs(this,d,g,d.transition.ref);d.transition.set(g)}});c.ne()}}z9a(a){if(!a||a.type!=="fixed")return 0;const b=this.qd.tb(a);var c=(a=(c=mPs(this,a))===null||c===void 0?void 0:c.page)?Math.min(b,this.qd.tb(a)):b;return Math.min(c/2,5E6)}Gko(a,{durationUs:b,direction:c,ra:d,origin:e}){const f=this.SN;if(f){var g=
sPs(f);this.nG(a,f.type);a.forEach(h=>{b&&this.BQi(f,this.mwd(h),Math.min(b||f.durationUs,this.z9a(h)));if(c)if(g===null||g===void 0?0:g.direction)this.setDirection(f,this.mwd(h),c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g===null||g===void 0?0:g.origin)this.Zol(f,this.mwd(h),e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g===null||g===void 0?0:g.ra)this.Vml(f,this.mwd(h),d||g.ra);else throw Error(`No color for transition type: ${f.type}`);
})}}BQi(a,b,c){pa(c>0);c!==a.durationUs&&(this.P.track(x6s,{zd:b,W1f:a.type,property:"duration_ms",Jqb:String(a.durationUs/1E3),Rza:String(c/1E3)}),a.durationUs=c)}setDirection(a,b,c){switch(a.type){case "chop":case "color-wipe":case "flow":case "stack":case "slide":case "wipe-circle":case "wipe-line":if(c!==a.direction){var d=this.directions||[];const e=d.find(f=>f.value===a.direction);d=d.find(f=>f.value===c);this.P.track(x6s,{zd:b,W1f:a.type,property:"direction",Jqb:e===null||e===void 0?void 0:
e.name,Rza:(d===null||d===void 0?void 0:d.name)||""});a.direction=c}break;case "cross-dissolve":case "match":throw Error(`No direction for transition type: ${a.type}`);default:throw new v(a);}}Zol(a,b,c){a.type==="chop"&&c!==a.origin&&(this.P.track(x6s,{zd:b,W1f:a.type,property:"origin",Jqb:String(a.origin),Rza:String(c)}),a.origin=c)}Vml(a,b,c){switch(a.type){case "color-wipe":lV.structural(c,a.ra)||(a.ra=c,this.P.track(x6s,{zd:b,W1f:a.type,property:"colors",Jqb:c.join(","),Rza:a.ra.join(",")}));
break;default:throw Error(`No colors for transition type: ${a.type}`);}}y5(a){this.animation=a}get hes(){if(this.animation&&this.animation.Ze.If)return this.animation}Shb(a,b){var c;const d=a===null||a===void 0?void 0:a.page;if(d&&this.Odb(d)){ta(a.type==="fixed-page");var e=mPs(this,d);if(b!==void 0&&e){if(((c=d.transition.ref)===null||c===void 0?void 0:c.type)===b)b=d.transition.ref;else{var f;c=this.Ia;c=K8q({Ia:c,ht:this.ht,pmf:d.Jc.first(),HIf:(f=__c.L8q(d,c))===null||f===void 0?void 0:f.Jc.first()});
b=pPs({type:b,durationUs:nPs(this,b,this.z9a(d)),uqd:c})}this.$ja({pages:[a,e],transition:b})}}}idc(a,b){var c=a===null||a===void 0?void 0:a.page;if(c&&this.Odb(c)){ta(a.type==="fixed-page");var d=mPs(this,c);if(d){c={...n(c.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new v(c);}this.$ja({pages:[a,d],transition:c})}}}kdc(a,b){var c=a===
null||a===void 0?void 0:a.page;if(c&&this.Odb(c)){ta(a.type==="fixed-page");var d=mPs(this,c);d&&(c={...n(c.transition.ref)},c.type==="chop"&&(c.origin=b,this.$ja({pages:[a,d],transition:c})))}}fPb(){this.animation&&this.animation.Ze.stop()}$ja({pages:a,transition:b}){const {Ze:c,XY:d}=this.lha({u8a:__c.qze(()=>a,()=>this.Ia),override:{type:"page",animation:"none"},kae:b});var e=c.HGe(a[0].page);e?(b=b.durationUs/1E3,e=e.duration-b,c.seek(e),c.lWe(e+b*2)):c.play();this.animation={Ze:c,XY:d}}qqe(a){if(a&&
this.Odb(a)){var b=this.ht,c=this.Ia;rPs(this,a,this.SN,void 0,!0);c.pages.toArray().forEach(d=>{var e;if(this.Odb(d)){var f=K8q({ht:b,Ia:c,pmf:d.Jc.first(),HIf:(e=__c.L8q(d,c))===null||e===void 0?void 0:e.Jc.first()});e=this.SN?pPs({type:this.SN.type,durationUs:Math.min(this.SN.durationUs,this.z9a(d)),uqd:f,options:sPs(this.SN)}):void 0;d.transition.set(e)}});this.$Is()}}mwd(a){return this.Ia.pages.toArray().indexOf(a)+1}qSa(a){return ok(a,this.Ia.dimensions)}hpb(a){return a.Wyb!=null&&this.Wqd<
a.Wyb&&this.aoc!=null&&!__c.aEe(this.aoc,a)}constructor(a,b,c,d,e,f,g,h,k,l,m,p,q){this.Ia=a;this.ht=b;this.lha=c;this.viewport=d;this.qd=e;this.P=f;this.V=g;this.$f=h;this.selection=k;this.Wqd=l;this.aoc=m;this.$Is=p;this.gr=q;this.Vmd=(F6s.G(this),!1);this.di=Ff(this.Ia);eV(()=>this.Vmd,r=>{var t;return r&&this.qqe((t=this.ya)===null||t===void 0?void 0:t.page)})}};var G6s=class{static G(a){O(a,{ra:mV,origins:mV,directions:mV,fRa:mV,ya:mV,Jc:mV,ura:mV,SN:mV,Amb:mV,kge:mV,nG:gV,Fko:gV,aah:gV,Shb:gV,idc:gV,kdc:gV})}get ra(){var a;switch((a=this.SN)===null||a===void 0?void 0:a.type){case "color-wipe":return this.kyc.fYc(this.SN)}}get origins(){var a;return kPs((a=this.SN)===null||a===void 0?void 0:a.type)}get directions(){var a;return fPs((a=this.SN)===null||a===void 0?void 0:a.type)}get fRa(){const a=this.viewport.jh?this.di.tb(this.viewport.ya):void 0;if((a===
null||a===void 0?void 0:a.type)==="fixed-page")return a}get ya(){const a=this.viewport.jh?this.di.tb(this.viewport.ya):void 0;if((a===null||a===void 0?void 0:a.type)==="fixed-page")return a.ia}get Jc(){var a;return(a=this.ya)===null||a===void 0?void 0:a.Jc}get ura(){var a,b,c;if(((b=this.selection.La)===null||b===void 0?void 0:(a=b.inner)===null||a===void 0?void 0:a.type)==="background")return(c=this.selection.La)===null||c===void 0?void 0:c.inner.Jc[0]}TKb(a){var b;return((b=this.Jc)===null||b===
void 0?void 0:b.last())===a}get SN(){var a;return(a=this.ura)===null||a===void 0?void 0:a.transition.ref}get Amb(){var a;return(a=this.SN)===null||a===void 0?void 0:a.type}get kge(){var a;return!((a=this.SN)===null||a===void 0||!a.type)}nG(a,b){var c;(((c=this.Jc)===null||c===void 0?void 0:c.count())||0)!==0&&a.forEach(d=>{var e=d.transition.ref;if((e===null||e===void 0?void 0:e.type)!==b){if(b!=null&&(e=e?e.durationUs:(e=this.kyc.gr.get().find(h=>h.type===b))?e.ufa:1E6,this.ya)){var f;var g=K8q({Ia:this.Ia,
ht:this.ht,pmf:d,HIf:(f=this.Jc)===null||f===void 0?void 0:f.next(d)});g=pPs({type:b,durationUs:e,uqd:g})}g?d.transition.set(g):d.transition.set(void 0)}})}Fko(a,{durationUs:b,direction:c,ra:d,origin:e}){const f=this.SN;if(f){var g=sPs(f);this.nG(a,f.type);a.forEach(h=>{b&&this.kyc.BQi(f,void 0,Math.min(b||f.durationUs,this.z9a(h)));if(c)if(g===null||g===void 0?0:g.direction)this.kyc.setDirection(f,void 0,c||g.direction);else throw Error(`No direction for transition type: ${f.type}`);if(e)if(g===
null||g===void 0?0:g.origin)this.kyc.Zol(f,void 0,e||g.origin);else throw Error(`No origin for transition type: ${f.type}`);if(d)if(g===null||g===void 0?0:g.ra)this.kyc.Vml(f,void 0,d||g.ra);else throw Error(`No color for transition type: ${f.type}`);})}}aah(a){a.transition.set(void 0)}$ja({transition:a,fill:b}){const c=this.fRa;if(c){var {Ze:d,XY:e}=this.lha({u8a:__c.qze(()=>[c],()=>this.Ia),override:{type:"page",animation:"none"},kae:a}),f=this.Jc&&__c.WRd(this.qd,this.Jc);(f=(f=f&&f.find(g=>g.fill===
b))&&f.startUs+f.durationUs)?(a=a.durationUs/1E3,f=f/1E3-a/2,d.seek(f),d.lWe(f+a*2)):d.play();this.kyc.y5({Ze:d,XY:e})}}Shb(a){var b,c;const d=this.ura;if(d&&!this.TKb(d)){var e=(b=this.Jc)===null||b===void 0?void 0:b.next(d);if(a!==void 0&&e){if(((c=d.transition.ref)===null||c===void 0?void 0:c.type)===a)a=d.transition.ref;else{var f;b=K8q({Ia:this.Ia,ht:this.ht,pmf:d,HIf:(f=this.Jc)===null||f===void 0?void 0:f.next(d)});a=pPs({type:a,durationUs:nPs(this.kyc,a,this.z9a(d)),uqd:b})}this.$ja({transition:a,
fill:d})}}}idc(a,b){if(a&&!this.TKb(a)){var c={...n(a.transition.ref)};switch(c.type){case "chop":case "color-wipe":case "flow":case "slide":case "stack":case "wipe-line":case "wipe-circle":c.direction=b;break;case "cross-dissolve":case "match":break;default:throw new v(c);}this.$ja({fill:a,transition:c})}}kdc(a,b){if(a&&!this.TKb(a)){var c={...n(a.transition.ref)};c.type==="chop"&&(c.origin=b,this.$ja({fill:a,transition:c}))}}z9a(a){var b;if(!a)return 0;const c=this.qd.zK(a),d=(b=this.Jc)===null||
b===void 0?void 0:b.next(a);a=d?Math.min(c,this.qd.zK(d)):c;return Math.min(a/2,5E6)}constructor(a,b,c,d,e,f,g){this.Ia=a;this.ht=b;this.viewport=c;this.selection=d;this.kyc=e;this.lha=f;this.qd=g;this.di=(G6s.G(this),void 0);this.di=Ff(this.Ia)}};var H6s=class{static G(a){O(a,{active:yV.ref,Xoe:mV})}get Xoe(){return n(this.Qxl.get(this.active))}constructor(a,b){this.active=(H6s.G(this),"pageNavigator");this.Qxl=new Map;this.Qxl.set("pageNavigator",a);this.Qxl.set("toolbar",b)}};var I6s=class{static G(a){O(a,{fum:mV,ya:mV,wSa:mV})}get fum(){const a=this.selection.La;switch(a===null||a===void 0?void 0:a.type){case "pages":return this.ya&&this.ya.transition.ref!=null;default:return!1}}get ya(){return this.viewport.jh?this.viewport.ya:void 0}get wSa(){const a=this.selection.La;return(a===null||a===void 0?void 0:a.type)==="pages"&&!a.inner}constructor(a,b){this.selection=a;this.viewport=b;I6s.G(this)}};var J6s={eventType:"editor_element_opacity_changed",Oa(a){return sf({selected_element_types:a.kGa,previous:a.previous,value:a.value,design_id:a.designId,doctype_id:a.Ca,category_id:a.$a,page_width:a.Wp,page_height:a.Qr,num_pages_in_document:a.Ey,num_elements_in_page:a.$D,page_index:a.Wb,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};var K6s={Ey:0,Wp:0,Qr:0},L6s=class{static G(a){O(a,{$Oi:mV,sVf:mV,TKn:gV})}get mL(){return!!this.selection.La}get $Oi(){return vPs(this,this.selection.La)}get sVf(){return this.$Oi?100-Math.round(this.$Oi.get()*100):void 0}constructor(a,b,c){this.controller=a;this.selection=b;this.N=c;this.TKn=(L6s.G(this),d=>{var e;d=(100-Math.round(d))/100;(e=this.$Oi)===null||e===void 0||e.set(d)});this.g3r=d=>{d!=null&&this.sVf&&this.Gwr(d,100-Math.round(this.sVf*100))};this.Rrc=()=>{var d;const e=n(this.selection.La),
f=e.Yz;f&&f.type==="fixed-page"&&this.N.track(__c.wph,{...K6s,$D:f.page.elements.count(),kGa:(d=e.elements)===null||d===void 0?void 0:d.map(g=>g.type),menu:"opacity"})};this.Gwr=(d,e)=>{var f;const g=n(this.selection.La),h=g.Yz;h&&h.type==="fixed-page"&&this.N.track(J6s,{...K6s,$D:h.page.elements.count(),kGa:(f=g.elements)===null||f===void 0?void 0:f.map(k=>k.type),previous:d.toString(),value:e.toString()})}}},tPs=class{get(){return this.objects.reduce((a,b)=>Math.min(a,b.get()),1)}set(a){for(const b of this.objects)b.set(a)}constructor(a){this.objects=
a}};var M6s=a=>{const b=a.open,c=a.zi,d=a.disabled,e=a.onClick,f=a.zh;a=hV(()=>{b||f();e===null||e===void 0||e()},[b,e,f]);return dV(c,{tooltip:L("qwymYg"),className:"pyufWg",pressed:b,disabled:!!d,onClick:a,yh:"icon",icon:__c.sXr,children:L("esjKOA")})},N6s=({Oh:a,value:b,onChange:c,Zg:d,Oe:e,Yf:f})=>{a=dV("div",{className:"_1eG0uQ",children:dV(a,{min:0,max:100,step:1,Kw:0,onChange:c,Zg:d,value:b,label:L("esjKOA")})});return f?a:dV(__c.Wih,{Oe:e,children:a})};var O6s=class{open(){return this._open()}constructor(a){this._open=a}};var yPs={eventType:"editor_version_history_clicked",Oa(a){return sf({document_id:a.ja,source:a.source,editing_context:a.Ba==null?void 0:tf(a.Ba)})}};fC=__c.fC={};fC.MWl=HPs;fC.h$p=function({vc:a}){return{oKl:new tQs(a)}};
fC.U$m=function(a){var b=a.H2,c=a.Qq;const d=a.g3g,e=a.F2c,f=a.Ec,g=a.Ma,h=a.da,k=a.la,l=a.P,m=a.ka,p=a.Xd,q=a.OIa,r=a.viewport,t=a.Zaa;var u=a.Ja;const w=a.we,x=a.selection,y=a.Xa,z=a.fd,A=a.kh,B=a.Cd,D=a.Ga,G=a.Pa,I=a.$b,K=a.Aw,N=a.gW,M=a.ea,S=a.O2c;var Q=a.Qrf;const W=a.I$d,X=h.undo;switch(u){case "fixed":u=a.Fd;const ba=a.nn,da=a.Kug,la=a.Ll,ka=a.MT;({YVc:b}=Grs({H2:b,Ja:"fixed",selection:x,kh:A,Cd:B,ka:m,la:k,P:l,Ga:D,Pa:G,$b:I,Aw:K,gW:N,UHb:a.UHb,undo:X,ea:M,we:w,O2c:S,I$d:W}));frs({Qq:c,g3g:d,
F2c:e,Kug:da,Ja:"fixed",P:l,ka:m,Xd:p,da:h,Ec:f,Ma:g,selection:x,Xa:y,fd:z,viewport:r,la:k,we:w,Zaa:t,OIa:q,ea:M,Qrf:Q,YVc:b,Ll:la,MT:ka});Qb("eb935326",!1)&&({M6e:c}=Mrs({Ja:["fixed","responsive"],jc:a.jc,Fd:u}),nrs({Xd:p,nn:ba,ka:m,Ma:g,selection:x,viewport:r,Fd:u,M6e:c,Ll:la}));break;case "responsive":Q=a.Ykd;a=a.Qrf;({YVc:b}=Grs({H2:b,Ja:"responsive",selection:x,kh:A,Cd:B,ka:m,la:k,P:l,Ga:D,Pa:G,$b:I,Aw:K,gW:N,undo:X,ea:M,O2c:S,I$d:W}));frs({Qq:c,g3g:d,F2c:e,Ja:"responsive",ka:m,Xd:p,Ec:f,Ma:g,
fd:z,da:h,Xa:y,la:k,we:w,Zaa:t,OIa:q,ea:M,selection:x,viewport:r,P:l,YVc:b,Ykd:Q,Qrf:a});break;default:throw new v(u);}p.kc(({iM:ba})=>{ba&&(ba.h8i={Button:fV(da=>dV(da.NE,{ZY:RAj,children:L("u7+XyA")}))})})};
fC.V$m=function(a){if(a.Ja!=="responsive"){var {gmd:b}=HRs({canvas:a.canvas,viewport:a.viewport,selection:a.selection,Zo:a.Zo,undo:a.session.undo});ius(a);lus(a);pus(a);yts({...a,gmd:b});nus(a);mus(a);Rts({ecb:a.ecb,QGa:a.QGa,gmd:b,viewport:a.viewport,jc:a.jc,oc:a.oc,bca:a.bca,ka:a.ka,P:a.P,i2a:a.i2a});Ups({ecb:a.ecb,QGa:a.QGa,gmd:b,viewport:a.viewport,jc:a.jc,oc:a.oc,ka:a.ka,P:a.P,i2a:a.i2a});hus({ecb:a.ecb,QGa:a.QGa,gmd:b,viewport:a.viewport,jc:a.jc,Zc:a.Zc,oc:a.oc,P:a.P,i2a:a.i2a});!a.$Sj&&a.Qe&&
a.we&&Zrs({oc:a.oc,Qe:a.Qe,we:a.we,toolbar:a.toolbar,Xr:a.Xr});bSs(a.Cd,a.selection,a.oc,a.session)}a.g$.dra==null&&Its(a);zts(a);tts(a,(f,g)=>a.oc.$6a(f,g));Vrs(a);b=a.Qe;const c=a.we,d=a.Vi,e=a.oc;dus(a,(f,g,h)=>e.addTable(f,g,h));Zts(a,(f,g)=>e.VFb(f,g));d&&Vts({...a,Vi:d});b&&c&&Yrs({oK:async f=>{await e.oK(f,{Wc:"quick_actions"})},Qe:b,we:c})};fC.W$m=function({eIa:a,DDa:b}){eV(()=>{var c;return(c=b.Ac.Ic)===null||c===void 0?void 0:c.id},c=>a.Ed=c,{fireImmediately:!0})};
fC.X$m=function(a){if(a.Ja==="responsive"){const Ad=a.toolbar,Bc=a.Cd,Sc=a.Ma,od=a.kh,vd=a.oc,he=a.selection,cf=a.O3,Je=a.Ng,Vc=a.lU,hd=a.rPa,xd=a.Vi,Fd=a.da.undo,lf=a.Hb,Ig=a.P,ve=a.bHc;Ius({Ja:"responsive",Cd:Bc,Ma:Sc,O3:cf,ka:a.ka,selection:he});nxs({Ja:"responsive",toolbar:Ad,kh:od,Ma:Sc,selection:he,P:Ig,rPa:hd,Vi:xd});Vws({Ja:"responsive",oc:vd,Ma:Sc,selection:he,O3:cf,Ng:Je,lU:Vc,undo:Fd,kh:od,Cd:Bc,Hb:lf,bHc:ve,P:Ig});return{YPh:void 0}}const b=a.toolbar,c=a.Cd,d=a.$f,e=a.Ma,f=a.Ec,g=a.da,
h=g.document,k=g.undo,l=a.oc,m=a.Ep,p=a.EXa,q=a.keyboardShortcuts,r=a.Uj,t=a.X,u=a.viewport,w=a.selection,x=a.ya,y=a.Df,z=a.kh,A=a.O3,B=a.Ng,D=a.lU,G=a.Hb,I=a.bHc,K=a.we,N=a.d4d,M=a.Qa,S=a.Ij,Q=a.ka,W=a.gb,X=a.P,ba=a.Ga,da=a.Whe,la=a.isDragging,ka=a.qe,oa=a.daa,ja=a.Zc,fa=a.nua,aa=a.Fr,ca=a.errorService,qa=a.vc,ra=a.se,sa=a.VX,wa=a.rf,za=a.Uf,Ba=a.Vbb,Aa=a.Zo,Fa=a.rPa,Ea=a.Vi,La=a.ih,Ja=a.uX,Ra=a.l9,Va=a.OXe,Ya=a.ghc,Sa=a.la,Xa=a.Ea,bb=a.alert,ob=a.VBe,mb=a.Yf,{c8f:nb,d8f:qb}=rws({selection:w,gb:W,
ya:x,ka:Q,P:X,Ga:ba,isDragging:la,keyboardShortcuts:q,Ma:e,viewport:u,Cd:c,kh:z,we:K,wT:a.wT,QR:a.QR,Lk:a.Lk,Ll:a.Ll,yt:a.yt,$f:d}),{qmd:pb,S5f:lb}=Ius({Ja:["fixed","responsive"],selection:w,Ma:e,Fr:aa,Zc:ja,gb:W,se:ra,ka:Q,P:X,kh:z,Cd:c,O3:A,we:K,keyboardShortcuts:q}),{YPh:yb}=Bvs({selection:w,ya:x,X:t,Ec:f,ka:Q,oc:l,Ep:m,EXa:p,gb:W,undo:k,toolbar:b,Cd:c,document:h,kh:z,d4d:N,Qa:M,Ij:S,errorService:ca.vf("clustering"),P:X,Ga:ba,la:Sa,Ea:Xa,alert:bb,$f:d,rf:wa,Uf:za,OXe:Va,Yf:mb}),{Bne:Cb}=Oxs({selection:w,
Fr:aa,keyboardShortcuts:q,ka:Q,P:X,qmd:pb,Cd:c,kh:z,VBe:ob}),{fud:Eb,wmj:Fb,xmj:Rb,Ejj:Ab,Fjj:$b,fcj:ic,gcj:Rc}=Vws({Ja:["fixed","responsive"],Ma:e,selection:w,gb:W,Uj:r,Fr:aa,toolbar:b,Cd:c,se:ra,oc:l,VX:sa,Zo:Aa,O3:A,Ng:B,lU:D,Hb:G,bHc:I,undo:k,kh:z,uX:Ja,l9:Ra,P:X});ETs({canvas:r,undo:k,Fr:aa,vc:qa,selection:w,Zo:Aa,ih:La,ghc:Ya,toolbar:b,Whe:da,isDragging:la,P:X,Ga:ba});const {pmj:Jc,wdj:jc,Qej:Ac}=nxs({Ja:["fixed","responsive"],selection:w,Ma:e,uX:Ja,qe:ka,daa:oa,gb:W,toolbar:b,kh:z,Zo:Aa,rPa:Fa,
Vi:Ea,Vbb:Ba,P:X,Uj:r,viewport:u,fud:Eb}),{gij:zb}=sxs({selection:w,nua:fa,uX:Ja,toolbar:b,Zo:Aa,VX:sa,P:X}),gc=fV(({pTc:Ad})=>dV(kTs,{pmj:Jc,wdj:jc,Qej:Ac,wmj:Fb,xmj:Rb,Ejj:Ab,Fjj:$b,fcj:ic,gcj:Rc,gij:zb,XT:uc.XT,pTc:Ad})),Gc=fV(()=>dV(rV,{children:Q.layout===2?dV(jTs,{Df:y,c8f:nb,S5f:lb.get(),Bne:Cb.get(),P5f:gc}):dV(iTs,{c8f:nb,S5f:lb.get(),Bne:Cb.get(),P5f:gc})})),uc=new BSs(w,Q,b,e),zc=new CSs(uc,w,b,X),Ec=fV(({zu:Ad})=>dV(nTs,{JC:uc.JC,BUc:zc.BUc,jOi:zc.jOi,e0e:zc.e0e,flp:Gc,d8f:qb,zu:Ad})),
yc={Qd:()=>uc.qod,Button:Ad=>{const Bc=Ad.onClick,Sc=Ad.open,od=hV(()=>{Bc===null||Bc===void 0||Bc();if(!Sc&&Q.layout===1){const vd=zc.selection.La;vd&&vd.type==="elements"&&vd.Ji()||zc.e0e()}},[Sc,Bc]);return dV(hTs,{...Ad,onClick:od,BUc:zc.BUc})},Vu:{rg:()=>L("AXgBkw")},ma:fV(({zu:Ad})=>Q.layout===1?dV(Ec,{zu:Ad}):dV(Gc,{}))},ld={Qd:()=>uc.qod&&Q.layout===2,Button:Ad=>dV(lTs,{...Ad}),Vu:{rg:()=>L("Y2VUFg")},ma:()=>dV(mTs,{P5f:gc})};uc.Iua=yc;c.plugins.gFb=()=>yc;c.plugins.W8f=()=>ld;q.register([NSs,
gV(()=>{zc.bac?zc.store.JC==="layers"?zc.lD():(zc.e0e(),zc.BUc()):Jus(zc)}),L("1PXGVQ"),["edit"]]);K===null||K===void 0||K.ym(()=>uc.qod,{type:"simple",key:"layers",name:L("rx7oXA"),Icon:__c.dbr,im:NSs,execute:async()=>Jus(zc)});const Od=()=>Jus(zc);z.kc(()=>uc.Lno,(Ad,Bc)=>{Ad.Poa=Bc?{Button:Sc=>dV(OSs,{...Sc,onClick:Od})}:void 0});return{YPh:yb}};
fC.can=function(a){const b=a.Ja,c=a.wq,d=a.la,e=a.hh,f=a.H7,g=a.Hb,h=a.Xa,k=a.Kn,l=a.TXd,m=a.errorService,p=a.hi,q=a.Ga.Ud(`editor.editing.clipboard.${b==="responsive"?"responsive":"fixed"}`),r={Aaa(){var z;(z=g.GQk)===null||z===void 0||z.call(g);return{audio:Promise.resolve([]),images:Promise.resolve([]),zc:Promise.resolve([])}}},t=()=>b==="responsive"?{}:{"font-family":a.Xr.WT},u=()=>{const z=gif(h);var A;return z?Ge.pick(B=>__c.Ee(Ge,z,B)!=null,z):(A=k.J3)!==null&&A!==void 0?A:{}},w=KAs(a,t,u,
r),x=new HTs(new WPs(f,w),f),y=QAs(a,new JTs(c,()=>t()["font-family"],()=>u().fontFamily),x,t,u,q);l.V4n={o9q:async z=>{iys(z)!=="proto"&&await y.copy(void 0,z)},bHp:async z=>{const A=q.sb("editor_clipboard_paste_drop",{Fb:{name:"editor.paste",attrs:new Map([["control_context","drag"]])}}),B=iys(z);B?(A.mb().nG(B),m.hu({category:"dropping",data:{dataType:B}}),(z=await x.paste(null,z))&&await y.paste(z,A,"drag",(e===null||e===void 0?void 0:e.Aaa)||r.Aaa,void 0)):(A.mb().nG("not_data"),A.end())},canDrop:z=>
iys(z)!=null,l_f:z=>{({rOa:z}=x.getData(z));return(z=z?w.NWd(z):void 0)?y.l_f(z):{items:new Set}}};SAs(a,q,y,x,r,e);p&&(p.xqm=()=>({label:"Copy Clipboard Proto",Icon:OD,Hq:async()=>{const z=await y.copy(void 0,void 0);let A;if(z)try{await window.navigator.clipboard.writeText(JSON.stringify(cUs.serialize(z.PSb))),A="Successfully copied selection to clipboard."}catch(B){A="Failed to copy selection to clipboard."}else A="Failed to copy. Do you have an selection on the page?";d.Ib({Cb:A})}}))};
fC.gan=function(a){const b=a.fd,c=a.X,d=a.viewport,e=a.Ma,f=a.gn,g=a.ka,h=a.nn,k=a.oc,l=a.OD,m=a.Qe,p=a.we,q=a.IS,r=a.errorService,t=a.Qa,u=a.Wmf,w=a.la,x=a.P,y=a.Jxb,z=a.IB,A=a.Via,B=a.Vc,D=a.ofc,G=a.xga,I=a.selection,K=a.Ez,N=a.DDa,M=a.Tb;if(B&&A&&u.status!==Vx.Lr){var S=new __c.Nos(a.session.document);a.oCg.then(Q=>{let W;switch(a.Ja){case "fixed":W=new oVs(I,D,e,d,b,S);break;case "responsive":W=new pVs(I,D,b,d,S);break;default:throw new v(a);}const X=new __c.tv,ba=fV(({formula:wa})=>{var za;const Ba=
(za=ra.Hjn)===null||za===void 0?void 0:za.sheet;return Ba&&dV(Q.PQb,{formula:wa,sheet:Ba,RDj:"xSmall"})});var da=(c===null||c===void 0?void 0:c.user.locale.startsWith("en"))||!1;const la=da?void 0:qBs({X:c,Qa:t}),ka=rBs.Owq&&rBs.rkn!==""&&rBs.sCk!==""?XBs({X:c,Qa:t,Tb:M,Aa:x,K1d:()=>ra.session.id}):void 0,oa=(wa,za,Ba)=>{sa.stc(ra,wa,za,Ba)},ja=fV(()=>{var wa;return dV(RUs,{input:ra.XAa?null:dV(eVs,{jsd:ra.jsd,fxi:sa.WDa,w8h:sa.w8h,NUr:sa.CNm,BZr:sa.Tho,lXe:ra.lXe,SUi:sa.SUi,DLq:ra.QRg==null,lCa:void 0,
raq:dV(OUs,{quota:ra.quota,cAk:ra.cAk,eOl:sa.eOl}),vQg:sa.vQg,stc:oa}),error:ra.error?dV(YUs,{error:ra.error}):void 0,LEc:dV(rVs,{LEc:ra.LEc,lia:sa.K0p,BJa:sa.vSr}),Htk:dV(zVs,{jQp:fa!=null,MTp:ra.epd,zSe:sa.Aqm,BJa:sa.UPr}),Bak:dV(uVs,{wJb:ra.wJb,lia:sa.Aqm,bUk:sa.bUk,$dj:ba,ii:g.layout===2}),Bej:ka===null||ka===void 0?void 0:ka.Bej,jSo:la,zul:ra.QRg!=null,ctk:ra.XAa,FXe:(wa=ra.QRg)===null||wa===void 0?void 0:wa.FXe,$Kf:sa.$Kf,n0g:K.dpo})});da={header:{title:dV(UUs,{Y6:!da})},ma:fV(function(){return dV(__c.wv,
{navigation:X,height:"fill",cQa:({df:wa})=>dV(wa,{Oe:"fill",oa:sa.UVp})})})};const fa=k.LL!=null?wa=>k.LL(wa,{location:"visualize_panel",Wc:"recommended_charts",q7:"none"},{template:{type:"fixed",dimensions:{width:1920,height:1080,units:4},Fe:{type:"inline",BG:void 0}}}):void 0,{Ac:aa}=N.Qq("none"),ca=new __c.THb(f),qa=new __c.xu,ra=new kVs(u),sa=new mVs(ra,X,g,h,m,k,da,l,I,W,D,B,q,x,u,qa,A,y,z,r,w,K,ca,window.navigator.clipboard,d,wa=>{X.Xg({df:()=>dV(ao,{children:dV(ja,{})}),options:{rg:()=>dV(R,
{children:wa})}})},fa,aa,ka===null||ka===void 0?void 0:ka.USr);p&&["data-insights","data-insights-action"].forEach(wa=>p.ym(()=>sa.xLs(wa),{type:"simple",key:wa,name:L("lp4Iiw"),Icon:__c.fYr,tI:!0,execute:async()=>{sa.cMn()}}));G.m_k=()=>sa.cMn()}).catch(Q=>{r.pa(Q,{Ka:"Failed to load data insights"})})}};
fC.han=function(a){var b=a.Ep;const c=a.fY,d=a.DCi;var e=a.Ma,f=a.selection;const g=a.Cd,h=a.kh,k=a.P;var l=a.Xa,m=a.Xwa;const p=a.uX,q=a.Ga.Ud("editor.editing.deleting_ui");let r;e=new AUs(b,c,f,l,m,e);if(a.Ja!=="responsive"){f=a.document;l=a.Pa;m=a.gb;const G=a.$f,I=a.selection,K=a.jc,N=a.Ng,M=a.f6h,S=a.No,Q=a.Ea,W=a.ka,X=new NUs,ba=new IUs(f,I,b,M,S,k,X,la=>{Q(()=>dV(MUs,{...la}))});r=new zUs(e,b,c,ba,K,I,N,l,m,G,q,k,W);const da={Qd:()=>ba.Pvl(),Button:fV(la=>dV(HUs,{...la,onClick:()=>{r.jQ("toolbar",
y("floating_toolbar",{type:"page"}),"outer")},disabled:()=>!r.yhg(),Ag:ba.Ag.length})),Vu:{rg:()=>J("JwjLTA",[ba.Ag.length])}};g.plugins.BEb=()=>da}else r=e;b=gV(G=>r.fQj("keyboard_shortcut",G));a.Ja!=="responsive"&&a.keyboardShortcuts.register(["Backspace",b,L("k6m7gA"),["edit"]],["Delete",b,L("k6m7gA"),["edit"]]);__c.Zo(p,["Backspace",b,L("k6m7gA"),["edit","suggest"]],["Delete",b,L("k6m7gA"),["edit","suggest"]]);const {uNp:t}=WAs({fY:c,mNp:d}),u=G=>t.Yfh(G),w=()=>t.fPh(),x=fV(G=>{const I=G.kb,K=
G.kwb;G=G.oa;const N=hV((M,S)=>{t.fPh();return r.jQ(I,M,S)},[I]);return dV(GUs,{kwb:K,V:q,disabled:r.hod,BSe:N,oa:G,onMouseEnter:u,onMouseLeave:w,onFocus:u,onBlur:w})}),y=(G,I)=>{switch(I.type){case "background":return q.sb(`delete_background_${G}`,{Fb:{name:"editor.delete_background"}});case "page":return q.sb(`delete_page_${G}`,{Fb:{name:"editor.delete_page"}});default:return q.sb(`delete_element_${G}`,{Fb:{name:"editor.delete_element"}})}},z={Button:EUs,Vu:{rg:()=>L("eLUEGw")},ma:G=>dV(x,{...G,
kwb:r.sie}),onClose:w},A={Button:fV(G=>{const I=G.kb,K=G.onClick,N=hV(()=>{oV(()=>{var M=r.sie;if(M.length!==0){K&&K();var S=M[0];M=y("floating_toolbar",S);S=gBs(S);return r.jQ(I,M,S.mode)}})},[I,K]);return dV(DUs,{...G,onClick:N,disabled:r.hod})})},B=mV(()=>r.sie.length);g.plugins.cDa=()=>{const G=B.get();return{Qd:()=>G>0,...(G>1?z:A)}};g.plugins.C3b=()=>{const G=r.sie.filter(I=>I.type==="background");return{Qd:()=>G.length>0,...(G.length>1?z:A)}};g.plugins.Lhc=()=>{const G=r.sie.filter(I=>I.type===
"scrollable-design");return{Qd:()=>G.length>0,...(G.length>1?z:A)}};const D=(G,I)=>{const K=gBs(G,I),N=gV(()=>{t.fPh();const S=y("contextual_menu",G);return r.jQ("contextual_menu",S,K.mode)}),M=()=>t.Yfh(G);return{Button:S=>{iV(()=>w,[]);return dV(S.fl,{Icon:K.Icon,label:K.message,im:K.im,onClick:N,oa:S.oa,onMouseEnter:M,onMouseLeave:w,onFocus:M,onBlur:w})}}};h.kc(()=>r.clf,(G,I)=>{G.C3b=void 0;G.iAc=void 0;G.xAh=void 0;G.mWc=void 0;G.jAc=void 0;G.yAh=void 0;G.nWc=void 0;G.Khc=void 0;I.forEach(K=>
{const N=D(K,r.Aul);switch(K.type){case "background":G.C3b=N;break;case "column":if(!r.i8a)break;switch(r.i8a.type){case "table-element":case "table-item":G.iAc=N;break;case "sheet-element":case "sheet-item":case "sheet-page-content":G.mWc=N;break;case "layout-element":case "layout-item":G.xAh=N}break;case "row":if(!r.i8a)break;switch(r.i8a.type){case "table-element":case "table-item":G.jAc=N;break;case "sheet-element":case "sheet-item":case "sheet-page-content":G.nWc=N;break;case "layout-element":case "layout-item":G.yAh=
N}break;default:G.Khc=N}})});h.kc(()=>r.$Pj,(G,I)=>{G.Paj=I?{Button:K=>dV(K.fl,{label:hBs(I),Icon:Ux,im:"Delete",onClick:gV(()=>r.Nwm("contextual_menu",y("contextual_menu",{type:"page"})))})}:void 0});return{b7b:r}};
fC.jan=function({Tf:a,Xd:b,Ma:c,bda:d,Hb:e,A2c:f,nBe:g,v1h:h,csa:k}){const {Ke:l,Ne:m}=__c.pc(GVs),p=new IVs(d,a,c,g,!!f,h),{PBk:q}=eCs(d),r=k.Hpg(L("nykDAw"),"medium");eV(()=>p.ATc,A=>{switch(A){case 6:k.fGb(L("LtzRdg"),"critical");break;case 5:k.fGb(L("ZK0snA"),"high");break;case 0:k.fGb(L("FXfIUQ"),"high");break;case 4:k.fGb(L("YLfGCA"),"medium")}});const t=fV(({oa:A,Oe:B})=>dV(HVs,{Sne:n(l.Sne),PBk:q.get(),oa:A,Oe:B})),u=mV(()=>{const A=e.dzh,B=e.fzh;if(p.ATc==="view"&&B)return B;if(p.ATc==="comment"&&
A)return A}),w=mV(()=>{const A=u.get();if(A)return A;if(l.Sne)return t}),x=fV(({dH:A,open:B,...D})=>{const G=n(p.ATc),I=w.get();iV(()=>{r()},[]);return dV(DVs,{...D,Button:I?A:void 0,active:B,Tf:a,ATc:G,Es:"comfortable"})}),y=fV(({dH:A,open:B,...D})=>{const G=n(p.ATc);return dV(DVs,{...D,Button:A,active:B,Tf:a,ATc:G,Es:"compact"})}),z=fV(({oa:A,Oe:B})=>{const D=n(w.get());return dV(D,{oa:A,Oe:B})});b.Lu(()=>({ma:w.get(),KVo:u.get(),ATc:p.ATc}),({header:A},{ma:B,KVo:D,ATc:G})=>{G==null||h&&(G==="view"||
G==="comment")?(A.Y6f=void 0,A.ezh=void 0):G==="playground"?A.Y6f={Button:FVs}:(A.Y6f={Button:x,ma:B?z:void 0},D&&(A.ezh={Button:y,ma:z}))},{equals:lV.shallow});return{vqg:m}};
fC.Qbr=function(a){const b=a.kh,c=new BVs(a.Fi,a.vc,a.session,a.Pa,a.viewport,a.selection);b===null||b===void 0||b.kc(()=>{a:{const e=c.Fi.Bkc();if(e&&e.type!==2){var d=YBs(c,e.Fq);if(d==null||!c.vc||!$l(c.vc,d)){d=!e.fill.image.ref&&!e.fill.video.ref||e.type===1&&e.Fq.type==="rect-element"?void 0:e;break a}}d=void 0}return d},(d,e)=>{if(e){var f=e.fill;f=!(f===null||f===void 0||!f.image.ref);var g=e.type===0?f?L("H1K9KQ"):L("1K2IFQ"):f?L("q5+BLg"):L("gkGP9w"),h=()=>{c.jym(e)};d.lbf={Button:k=>dV(k.fl,
{Icon:__c.nB,label:g,onClick:h,oa:k.oa})}}else d.lbf=void 0})};fC.kan=function(a){const b=a.selection;var c=a.Ma;const d=a.Cd;var e=a.B_a,f=a.Ja;let g,h;const k=Qb("920e6751",!1);c=new TVs(c,b,k,e);a=new PVs(c,a.Xa);f==="responsive"?(h=a,g=c):(f=new SVs(b,k,e),e=new UVs(b,f,c,e),f=new OVs(f),h=new QVs(b,f,a),g=e);d.plugins.Ohc=()=>({Qd:()=>!!g.direction,Button:fV(({zi:l})=>{const m=n(g.direction);return dV(l,{icon:m.value==="rtl"?MVs:KVs,yh:"icon",onClick:h.t9d,tooltip:VVs[m.selection]})})})};
fC.Tbr=function({canvas:a,gb:b,selection:c,QR:d,CG:e,hPe:f,Zo:g,lca:h}){var k;const l=yV.box(!1);var m=gV(q=>{l.set(q.altKey);q.key==="Alt"&&q.type==="keyup"&&q.preventDefault()});window.document.addEventListener("keydown",m);window.document.addEventListener("keyup",m);window.addEventListener("blur",gV(()=>l.set(!1)));m=mV(()=>l.get()&&(!e.isDragging()||!!e.qvb)&&!__c.Wxf(f)&&!g.controls.isDragging());const p=new $Vs(b,c,e,m,d);a.kc(q=>q===40,(q,r)=>{q.yg.nbf=r?t=>dV(ZVs,{...t,gb:b,L:p}):void 0});
a=()=>!!p.lines.length;sy(g.controls,a);(k=h.sE)===null||k===void 0||k.UQ(a);d.UIe(a)};
fC.oan=function(a){const b=a.selection,c=a.Ja,d=a.Cd,e=a.Vvb,f=a.cvd,g=a.Pa,h=a.we,k=a.Yf,l=a.ka,m=a.N;let p=new eWs(e,f,g,m,a.Ma,b);if(c!=="responsive"){const r=new dWs(e,f,g,m,a.selection);p=new fWs(b,r,p);h===null||h===void 0||h.ym(()=>!!r.z4c,{type:"simple",key:"flip-vertical",name:L("d1wsgA"),Icon:__c.P8g,execute:gV(async()=>{const t=r.z4c;t&&r.Z_d(t)})});h===null||h===void 0||h.ym(()=>!!r.z4c,{type:"simple",key:"flip-horizontal",name:L("+k16yw"),Icon:__c.N8g,execute:gV(async()=>{const t=r.z4c;
t&&r.Y_d(t)})})}const q=fV(r=>{const t=r.uh;r=r.Oe;const u=gV(()=>p.Y_d(t)),w=gV(()=>p.Z_d(t));return dV(bWs,{mUr:u,nUr:w,Oe:r,hWg:k&&l.layout===2?"horizontal":"vertical"})});d.plugins.LEb=()=>({Qd:()=>!!p.z4c,Button:FV(r=>{var t;return dV(aWs,{...r,onClick:()=>{r.open||p.Rrc("flip",n(p.z4c));r.onClick&&r.onClick()},Oj:(t=a.$f)===null||t===void 0?void 0:t.Ecj})}),Vu:{rg:()=>L("09kiuA")},ma:r=>dV(q,{...r,uh:n(p.z4c)})})};
fC.ocr=function({document:a,Gb:b,viewport:c,PH:d,selection:e,Zo:f,Fr:g,pbb:h,VX:k,se:l,jc:m,ka:p,kh:q,toolbar:r,Cd:t,iba:u,ih:w,Uj:x,Ga:y,P:z,GM:A,Lk:B,Yf:D}){var G;y=y.Ud("editor.editing.flowcharts");const I=__c.dc();var K=I===null||I===void 0?void 0:I.getItem("flowcharts.show_connect_handles");K=K!=null?K==="true"?!0:!1:void 0;const N=__c.js.create({...__c.Ns,dimensions:a.dimensions,doctype:a.doctype}),M=new __c.hrb(N);x.kc(ba=>ba===40?S.Fwd:void 0,(ba,da)=>{ba.yg.Gbf=da?fV(la=>{var ka;return la.page.page!==
c.mh.page||S.mTi?null:kV(rV,{children:[dV(kWs,{PH:d,mB:A,Pc:la.Pc,se:M,Fwd:da}),dV(__c.wxf,{...la,target:(ka=S.connectTarget)===null||ka===void 0?void 0:ka.target})]})}):void 0});(G=r.sE)===null||G===void 0||G.UQ(()=>S.Wih);const S=new sWs(a,c,e,m,p,K,N),Q=new rWs(S,a,b,c,e,g,h,k,l,m,w,x,y,z,B,M);I&&eV(()=>S.Zed,ba=>ba!=null&&I.setItem("flowcharts.show_connect_handles",ba.toString()));const W=()=>{if(S.Yed)return{top:hWs,bottom:hWs,left:hWs,right:hWs}};f.kc(ba=>{ba.shape.EAa=W});f.Lu(()=>{if(S.Yed&&
e.La&&e.La.type==="elements"&&e.La.Nd&&e.La.Nd.type==="shape")return{element:e.La.Nd,Dh:e.La.container}},(ba,da)=>{if(da){const la=rCs({Hhr:!gk(da.element),onClick:ka=>Q.DCn(da.element,da.Dh,ka),onMouseEnter:p.layout===1?ka=>Q.HCn(da.element,da.Dh,ka):void 0,onMouseLeave:p.layout===1?Q.ICn:void 0,onDragStart:(ka,oa)=>Q.GCn(da.element,da.Dh,ka,oa),pe:(ka,oa)=>Q.FCn(da.element,da.Dh,ka,oa),onDragEnd:(ka,oa)=>Q.ECn(da.element,da.Dh,ka,oa)});ba.shape.BPd=()=>dV(iWs,{bWo:la})}else ACs(Q),ba.shape.BPd=
void 0});f.controls.VIe(()=>S.isDragging);q.kc(()=>S.iNh,(ba,da)=>{ba.f4b=da?{Button:fV(la=>dV(la.fl,{Icon:__c.i$p,label:S.Yed?L("muYbPQ"):L("E2C8sA"),onClick:Q.tHn,oa:la.oa}))}:void 0});if(D)t.plugins.f4b=()=>({Qd:()=>S.iNh,Button:fV(({zi:ba,onClick:da,...la})=>{const ka=hV(()=>{da&&da();Q.vHn()},[da]);return dV(ba,{...la,onClick:ka,selected:S.Yed,icon:__c.i$p,yh:"icon",children:S.Yed?L("muYbPQ"):L("E2C8sA")})})});else{var X;const ba={Button:da=>dV(da.zi,{selected:!0,tooltip:L("muYbPQ"),yh:"icon",
icon:__c.i$p,onClick:Q.uHn})};u?u.f4b=()=>({Qd:()=>S.Yed,...ba}):(X=r.sE)===null||X===void 0||X.kc(()=>S.Yed,(da,la)=>{da.f4b=la?()=>ba:void 0})}};
fC.Acr=function({EXa:a,keyboardShortcuts:b,selection:c,jc:d,toolbar:e,Cd:f,iba:g,kh:h,we:k,P:l,Ga:m}){var p,q;m=m.Ud("editor.editing.group");const r=new vWs(c,a,d),t=new uWs(r,c,m,l);b.register([wWs,B=>{t.lHg("keyboard_shortcut");B.preventDefault()},L("4WCqzw"),["edit"]]);b.register([xWs,B=>{t.Gsh("keyboard_shortcut");B.preventDefault()},L("TBBSXA"),["edit"]]);const u=()=>t.lHg("toolbar"),w=()=>t.Gsh("toolbar"),x={Button:B=>dV(yWs,{...B,onClick:u})};f.plugins.gLa=()=>({Qd:()=>r.ITd,...x});g?g.gLa=
()=>({Qd:()=>r.ITd,...x}):(p=e.sE)===null||p===void 0||p.kc(()=>r.ITd,(B,D)=>{B.gLa=D?()=>x:void 0});const y={Button:fV(B=>dV(zWs,{...B,onClick:w}))};f.plugins.nLa=()=>({Qd:()=>r.PTd,...y});g?g.nLa=()=>({Qd:()=>r.PTd,...y}):(q=e.sE)===null||q===void 0||q.kc(()=>r.PTd,(B,D)=>{B.nLa=D?()=>y:void 0});const z=()=>t.lHg("contextual_menu"),A=()=>t.Gsh("contextual_menu");h.kc(()=>r.ITd,(B,D)=>{B.gLa=D?{Button:G=>dV(AWs,{...G,onClick:z})}:void 0});h.kc(()=>r.PTd,(B,D)=>{B.nLa=D?{Button:G=>dV(BWs,{...G,onClick:A})}:
void 0});k===null||k===void 0||k.ym(()=>r.ITd,{type:"simple",key:"group",name:L("bUJF+g"),im:wWs,Icon:KHp,execute:async()=>{t.lHg("quick_actions")}});k===null||k===void 0||k.ym(()=>r.PTd,{type:"simple",key:"ungroup",name:L("BK2j6g"),im:xWs,Icon:__c.FB,execute:async()=>{t.Gsh("quick_actions")}})};
fC.Bcr=function({Ma:a,canvas:b,viewport:c,selection:d,session:{document:e,undo:f},ka:g,header:h,kh:k,Df:l,Eda:m,keyboardShortcuts:p,P:q,dlh:r,l9:t,k9:u,la:w,Ti:x}){var y;const z=new CXs(a,c,e,d,u,g,m===null||m===void 0?void 0:(y=m.initialSettings)===null||y===void 0?void 0:y.eKd);m===null||m===void 0||__c.JWa(m,()=>z.enabled,(M,S)=>M.a1b({eKd:S}));const A=new BXs(b,c,e,f,z,q,x,w,t);b.kc(()=>z.Pgm,(M,S)=>{M.TLa.P3b=S?K:void 0;M.yg.P3b=S?N:void 0});const {$bp:B,LXq:D,navigation:G,hGi:I}=fDs({viewport:c,
document:e,header:h,ka:g,Df:l,P:q,la:w,ikk:z,pHg:A});a={Button:fV(M=>{const S=hV(()=>{var Q;(Q=M.onClick)===null||Q===void 0||Q.call(M);G.Xg({df:B,options:D()})},[M]);return dV(EWs,{...M,onClick:S,Oe:g.layout===2?"fill":"fixed"})}),navigation:G,onClose:G.clear};DXs(h,p,A,z,a);EXs(k,A,z);FXs(r,e,z);const K=()=>dV(UWs,{store:z,L:A}),N=fV(({page:M,Pc:S})=>{const Q=I===null||I===void 0?void 0:I.get();return Q?dV(WWs,{L:A,canvas:b,page:M.page,viewport:c,Ix:Q}):dV(VWs,{canvas:b,store:z,page:M.page,viewport:c,
L:A,scale:S.scale})});return{Q9b:new CWs(z,A)}};fC.uan=function({canvas:a,toolbar:b,Xa:c,ka:d}){const e=gV(()=>{const f=d.layout===2;b.f5&&f&&b.d8()});a.kc(f=>f>=30,(f,g)=>{a.wn.KPd=g?fV(()=>c.A5a?dV(pDs,{onClick:e}):null):void 0})};
fC.van=function(a){var b,c;const d=a.session;var e=a.yrc;const f=a.P;var g=a.Wl;const h=a.QZh;var k=a.ih;const l=a.toolbar,m=a.Cd;var p=a.kh,q=a.selection;const r=a.Ma,t=a.fd,u=a.canvas;var w=a.Gt;const x=a.Zo,y=a.Jpf,z=a.Bra,A=a.o0b,B=a.viewport,D=a.Xa,G=a.Kn,I=a.isDragging,K=a.Ja!=="responsive"?a.YYd:!1,N=new UXs(q),M=new YXs(q,t,u.wn);$Ds(M,y,D,A,q,g,t);g=a.Ja!=="responsive"?a.yrc.element:void 0;const S=e.item;({Hor:e}=sDs({Ja:a.Ja,kh:p,fd:t,iNe:M,Itg:N,Xwa:S,ozb:K?g:void 0,Kn:G,Xa:D,Ma:r}));p=
new aYs(t,u.wn);w.k6d.b9h=p.b9h;w.k6d.yek=p.yek;w.k6d.p$h=p.p$h;const Q=new gYs(q,M,t,x,I);w=ODs(d.undo,B,k,z,Q);RDs({selection:q,Zo:x,JNe:Q,fd:t});({iej:q}=UDs(d.undo,D,k,f,Q));const {bqq:W,XDf:X,Xbj:ba,sAh:da}=HDs({...(a.Ja!=="responsive"?{Ja:["fixed","responsive"],Itg:N,ozb:a.yrc.element,YYd:K}:{Ja:"responsive"}),iNe:M,Xwa:S,Arr:Q,ih:k,Xa:D,viewport:B,fd:t,T$b:I}),la=new $Xs(M,t,B);k=wDs({fd:t,iNe:M,Xwa:S,YA:la,JNe:Q,XDf:X,Kn:G,T$b:I});ADs({...(K&&a.Ja!=="responsive"&&ba?{Ja:["fixed","responsive"],
viewport:a.viewport,Itg:N,Xbj:ba}:{Ja:"responsive"}),canvas:u,iNe:M,fd:t,jfp:w,Qor:Q,iej:q,sAh:da,XDf:X,gfp:k});ZDs({Cd:m,Kr:__c.PMe(d.undo),P:f,flf:e,wI:M});Qb("7f91870e",!1)&&__webpack_require__.me(455054).then(()=>__c.P6s).then(gV(({Ocr:ka})=>{ka({Cd:m,wI:M})}));(b=l.sE)===null||b===void 0||b.MJi(()=>la.Vlg);(c=l.sE)===null||c===void 0||c.UQ(()=>{var ka;return Q.uSa||X.EXb||((ka=W===null||W===void 0?void 0:W.EXb)!==null&&ka!==void 0?ka:!1)});if(a.Ja!=="responsive"&&K){const ka=a.yrc.element;a.fY.hkn=
{deleteRows:ka.deleteRows,deleteColumns:ka.deleteColumns,Ipg:ka.Ipg};h.bkn={IDn:(oa,ja)=>ka.OCm(N.selected.HEf,oa,ja),jgm:()=>N.selected.HEf==="row"||N.selected.HEf==="column"}}h.lTr=(ka,oa,ja)=>rps(S,ka,G,oa,ja);h.wQp=(ka,oa)=>__c.gjf(S,ka,oa);if(a.Ja!=="responsive"){const ka=a.yrc.element;a.canvas.$ca.MPd=fV(fa=>dV(__c.YIb,{...fa,k6:a.yt,lYl:oa}));let oa;class ja extends(b=HV){render(){return dV(__c.XIb,{...this.props,qXa:this.CA.yq,k6:a.yt})}constructor(...fa){super(...fa);this.gWr=aa=>{var ca;
if(!(aa.ctrlKey||aa.altKey||aa.metaKey||aa.shiftKey)){aa=this.props.page;var qa=this.props.container,ra=this.props.WF,sa=this.props.rb,wa=((ca=x.Mgb)===null||ca===void 0?0:ca.H8)?"multi":"single";ka.Gvi(aa.ia,__c.bsa(qa,ra,sa),wa)}};this.CA=new __c.cd([new __c.Stf({onSelect:this.gWr})])}}({c:[oa,b]}=KV(ja,[],[Ob],b));b()}};fC.zan=function(a){const {BJ:b}=nFs(a);cEs(a);return{BJ:b}};
fC.$cr=function({document:a,vc:b,Ma:c,selection:d,jc:e,ka:f,P:g,Ga:h,toolbar:k,Cd:l,iba:m,kh:p,keyboardShortcuts:q,we:r,$Wa:t,Yf:u}){h=h.Ud("editor.editing.locking_ui");const w=new ZYs,x=new $Ys(w,a,c,d,e,b,g,h,t),y=Xo(Vo("l"));q.register([y,()=>x.Tmf("keyboard_shortcut"),L("7Dt6hg"),["edit"]]);const z={Button:D=>{const G=D.onClick,I=hV(()=>{G&&G();x.Tmf("toolbar")},[G]);return dV(jZs,{...D,onClick:I,L:x})}};if(!u){var A;m?m.Lock=()=>({Qd:()=>x.sul,...z}):(A=k.sE)===null||A===void 0||A.kc(()=>x.sul,
(D,G)=>{D.Lock=G?()=>z:void 0});l.plugins.Lock=()=>({Qd:()=>x.LOb&&f.layout===1,...z})}u&&(oFs(x),l.plugins.Lock=()=>({Qd:()=>x.LOb,...z}),l.plugins.WQb=()=>({Qd:()=>x.LOb&&w.gki,...z}),l.plugins.Pic=()=>({Qd:()=>x.ero,...z}));const B=()=>x.Tmf("context_menu");p.kc(()=>({ePl:f.layout===2,LOb:x.LOb&&(f.layout!==2||!t),x3q:x.GVe&&!x.Mt}),(D,{ePl:G,LOb:I,x3q:K})=>{D.Lock=I?{Button:N=>dV(oZs,{...N,onClick:K?void 0:B,L:x,im:y,ePl:G})}:void 0},{equals:lV.structural});r===null||r===void 0||r.ym(()=>!x.Mt&&
x.LOb,{type:"simple",key:"set-lock",name:L("7Dt6hg"),im:y,Icon:fy,execute:async()=>x.cUk("quick_actions")});r===null||r===void 0||r.ym(()=>x.GVe&&!x.Mt&&x.LOb,{type:"simple",key:"set-partial-lock",name:L("ou4BGA"),im:y,Icon:gbr,execute:async()=>x.Tmf("quick_actions")});r===null||r===void 0||r.ym(()=>x.Hqc&&x.LOb,{type:"simple",key:"set-unlock",name:L("X5CkxQ"),im:y,Icon:XJh,execute:async()=>x.DZk("quick_actions")});r===null||r===void 0||r.ym(()=>x.Afn&&x.LOb,{type:"simple",key:"set-partial-unlock",
name:L("416rFw"),im:y,Icon:XJh,execute:async()=>x.DZk("quick_actions")});t&&p.kc(()=>({LOb:x.LOb&&!x.Mt,hLs:x.LOb&&x.GVe&&!x.Mt}),(D,{LOb:G,hLs:I})=>{D.K7f=G?{Button:K=>dV(pZs,{...K,L:x})}:void 0;D.K8f=I?{Button:K=>dV(qZs,{...K,L:x,im:y})}:void 0})};
fC.vdr=function({document:a,Uj:b,viewport:c,toolbar:d,Cd:e,selection:f,ka:g,Ep:h,oc:k,Fsc:l,we:m,Qe:p,P:q,ke:r,gb:t,Yf:u}){const w=new __c.Jyf(q),x=new yZs(g),y=new xZs(x,a,c,f,t,h,k,l,w,d),z=[{value:"${pageNumberOnly}",label:L("v/osVw"),description:L("9rPF5w")},{value:"${pageNumber}",label:L("8Cdj8w"),description:L("KhZwaQ")},{value:"${pageNumberOfTotal}",label:L("tVBkBA"),description:L("w/RsHA")}],A=()=>jps(w,"page_numbers_format"),B=fV(()=>dV(__c.Gz,{value:y.o$r,options:z,zh:A,onChange:l.hJo,stretch:!0,
className:"WvDsqA"})),D=sFs({document:a,viewport:c,ke:r}),G=fV(()=>dV(D,{pages:y.zm,uk:y.Ag,onChange:y.pBn,aSk:()=>jps(w,"page_numbers_shown")})),I=()=>dV(vZs,{onClick:y.m9l}),K=()=>dV(uZs,{W7o:B,Nq:G,lsp:I,Yf:u}),N=()=>dV(wZs,{onClick:y.Mwm});m===null||m===void 0||m.ym(()=>Jps(c.ya,t),{type:"simple",key:"page-numbers",name:L("3WjEsQ"),Icon:sZs,execute:async()=>{var S;p===null||p===void 0||p.JJ({});(S=k.YXc)===null||S===void 0||S.call(k,void 0,{Ctl:!0});p===null||p===void 0||p.close({trigger:"shortcut"})}});
const M={Qd:()=>y.Abb,Button:fV(S=>{const Q=S.zi,W=S.onClick,X=S.open,ba=hV(()=>{W&&W();!X&&w.KMd("toolbar")},[W,X]);return dV(Q,{...S,yh:"icon-and-label",pressed:X,icon:__c.ly,onClick:ba,children:L("Ql1UUg")})}),Vu:{rg:()=>L("3WjEsQ")},ma:()=>dV(tZs,{T$i:K,qb:N}),onClose:y.LV};eV(()=>y.Abb,S=>{!S&&x.rae?(d.RX(x.rae),x.rae=void 0):x.rae=M});e.plugins.eza=()=>M;b.dEa.eza={onDoubleClick(S,Q){kw(Q.element.ia)&&y.nsn("double_click")}};eV(()=>{var S;return!!x.QEe&&(((S=f.La)===null||S===void 0?void 0:
S.type)!=="pages"||f.La.Nd!==x.QEe)},()=>y.LV());kps(l,()=>{setTimeout(y.PGn)})};
fC.Fan=function({Ja:a,ka:b,Ma:c,FAb:d,g$:e,Xd:f,nn:g,Xa:h,iKa:k,GPb:l,P:m,fd:p,viewport:q,Hb:r}){const t=new BZs(m),u=new __c.i8d,w=mV(()=>{if(a==="responsive")return!0;const B=q.jh&&!q.sQ,D=q.ya.type==="responsive";return!(d===null||d===void 0?0:d.isActive)&&!B&&D}),x=fV(()=>{const B=hV(G=>{A.focusNode(G);t.P.track(AZs,{})},[]),D=hV(()=>{const G=q.ya;h.focused||a==="responsive"||G.type!=="responsive"||h.Ru(G.text,Qw.end());l.LBc("heading");u.clear();f.d8()},[]);return dV(IZs,{nodes:z.nodes,layout:b.layout,
Z0g:B,OIs:c.mode===40,Vzn:D})}),y=()=>{u.Xg({df:x,options:{rg:()=>L("uJG1/Q"),A3k:"collapsed"}})};m={ma:x,header:{title:L("uJG1/Q")}};const z=new NZs(b.layout,u,g,m),A=new MZs(z,g,h,k,p,q,t,m,r);e.q_a.install("outline",{Qd:()=>w.get(),Component:fV(({A0a:B})=>{B=dV(CZs,{A0a:B,active:z.F7d,onClick:A.nBo});const D=r.roa.obf;return D?dV(D,{children:B}):B})});eV(()=>w.get(),B=>!B&&z.F7d&&A.Vte());f.Lu(()=>({layout:b.layout,K8r:w.get()}),({iM:B},{layout:D,K8r:G})=>{B&&(B.Wfj=D===2&&G?{navigation:u,onClose:()=>
{u.clear();t.close()},Button:fV(({NE:I,onClick:K})=>{const N=hV(()=>{K===null||K===void 0||K();y();t.open();A.Tal()},[K]);return dV(r.roa.obf?r.roa.obf:bLs,{children:dV(DZs,{NE:I,onClick:N})})})}:void 0)})};
fC.Edr=function({document:a,Ma:b,selection:c,toolbar:d,kh:e,Nna:f,XZa:g,P:h,Ga:k,oc:l,FAb:m}){k=k.Ud("editor.editing.page_drafting");const p=new UZs(a,b,c,l,m,h,k);d.plugins.QQb=()=>({Qd:()=>p.V1m,Button:fV(q=>{var r,t;return dV(TZs,{...q,onClick:p.MKn,active:!!p.oNd,Enq:((r=p.LXd)===null||r===void 0?void 0:r.length)||0,h5s:((t=p.oNd)===null||t===void 0?void 0:t.length)||0})})});e.kc(()=>p.U1m,(q,r)=>{q.S7f=r?{Button:fV(t=>{var u;return dV(OZs,{...t,whb:((u=p.LXd)===null||u===void 0?void 0:u.length)||
0,onClick:p.NCn,disabled:!p.LXd})})}:void 0});e.kc(()=>p.p3m,(q,r)=>{q.Q9f=r?{Button:fV(t=>{var u;return dV(PZs,{...t,whb:((u=p.oNd)===null||u===void 0?void 0:u.length)||0,onClick:p.OCn,disabled:!p.oNd})})}:void 0});e.kc(()=>p.ynk&&p.Y$n,(q,r)=>{q.lbj=r?{Button:fV(t=>dV(SZs,{...t,vo:r.ia.draft,onClick:()=>p.GXk(r),disabled:CFs(p,r)}))}:void 0});f.uPd=()=>({Qd:()=>p.y2m,xo:fV(q=>dV(QZs,{...q,onClick:p.JGn,disabled:BFs(p,q.Dh.page)}))});g.uPd=()=>({Qd:()=>p.ynk,Component:fV(q=>dV(RZs,{...q,onClick:p.GXk,
disabled:CFs(p,q.Dh)}))})};
fC.Gdr=({Ma:a,Ec:b,da:c,ke:d,aLa:e,ya:f,selection:g,RV:h,gb:k,oc:l,b7b:m,vc:p,timing:q,Uj:r,g$:t,keyboardShortcuts:u,lca:w,Cd:x,kh:y,Xd:z,nn:A,$2g:B,ifa:D,yvb:G,u6b:I,whc:K,P:N,Ga:M,ka:S,$f:Q,Lk:W,RE:X})=>{const ba=M.Ud("editor.editing.page_manager");if(c.Ch===1)return{FAb:void 0};const da=c.document,la=new z4s,ka=new q4s(N),oa=new VZs(N),ja=new A4s(la);let fa=!1;const aa=yV.box(!1);N=gV(async()=>{fa||aa.get()||(aa.set(!0),__webpack_require__.me(769518).then(()=>__c.Q6s).then(({Yur:sa})=>{oV(()=>
{sa({config:la,Uj:r,ifa:D,Ma:a,Ec:b,keyboardShortcuts:u,document:da,kh:y,da:c,ke:d,aLa:e,ya:f,selection:g,RV:h,gb:k,oc:l,b7b:m,vc:p,lca:w,Cd:x,Xd:z,nn:A,$2g:B,whc:K,yvb:G,u6b:I,V:ba,i$r:ka,Wyc:oa,ka:S,Lk:W,RE:X});aa.set(!1);fa=!0})}))});ja.ogo(N);N=gV(()=>{const sa=r.mq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.oie();IFs(oa,{mq:"grid_view",wuc:sa,kb:"keyboard_shortcut"})});u.register([bl(Xo("3")),N,L("XWps9g"),["edit"]]);const ca=mV(()=>S.layout===2);z.Lu(()=>ca.get(),({iM:sa},wa)=>{sa&&
(sa.pdj=wa?{Button:fV(za=>dV(u4s,{...za,onClick:()=>{za.onClick&&za.onClick();ja.oie()},config:la,Uj:r,N:oa}))}:void 0)});const qa=gV(()=>{const sa=ba.sb("view_mode_changed",{Fb:{name:"editor.view_mode_changed"}}),wa=r.mq==="thumbnail"?"thumbnail_view":"scrolling_view";ja.oie();const za={mq:la.active?wa:"grid_view",wuc:la.active?"grid_view":wa,kb:"icon_click"};sa.mb().nk(({Ii:Ba})=>{IFs(oa,{...za,Rb:Ba()})});sa.ne()}),ra=gV(()=>{if(!q.Hs){var sa=r.mq==="thumbnail"?"thumbnail_view":"scrolling_view";
ja.oie();IFs(oa,{mq:"grid_view",wuc:sa,kb:"canvas_zoom_out"})}});oV(()=>{r.wUe=sa=>{switch(sa.name){case "progress":var wa;ja.l6a(sa.progress);sa.progress!==1||W!==null&&W!==void 0&&(wa=W.nN)!==null&&wa!==void 0&&wa.call(W,new __c.Bsd({style:3}));break;case "cancel":ja.l6a(0);break;case "confirm":ra();break;default:throw new v(sa);}}});t.q_a.install("page_manager",{Qd:()=>!0,Component:fV(({A0a:sa})=>dV(w4s,{A0a:sa,config:la,$f:Q,onClick:qa,loading:aa.get()}))});return{FAb:{gFj:()=>{la.active=!1},
get isActive(){return la.active}}}};fC.Hdr=function({document:a,di:b,Ec:c,viewport:d}){c.Pla&&jMs({document:a,di:b,Dbb:c.Pla,viewport:d})};
fC.Idr=({da:a,JFa:b,Iga:c,Dc:d,Pa:e,$b:f,timing:g,oc:h,b7b:k,d2c:l,zy:m,FAb:p,wr:q,W0a:r,hsa:t,k_:u,QZ:w,$M:x,PT:y,D8b:z,Xxa:A,Fh:B,c4e:D,sS:G,gb:I,Uj:K,Ll:N,ifa:M,Cd:S,toolbar:Q,kh:W,keyboardShortcuts:X,g$:ba,whc:da,vc:la,RV:ka,Fi:oa,Ipf:ja,yl:fa,CG:aa,KE:ca,Ebc:qa,Ma:ra,Ec:sa,viewport:wa,ka:za,qd:Ba,mfa:Aa,selection:Fa,Zo:Ea,TOa:La,QR:Ja,ke:Ra,$gj:Va,errorService:Ya,Ga:Sa,P:Xa,m0:bb,eIa:ob,Z2b:mb,la:nb,$f:qb,Ez:pb,Ima:lb,Zqa:yb,WBe:Cb,RE:Eb,ytd:Fb,ORc:Rb,cAa:Ab,HGa:$b,Df:ic,u6b:Rc,Xd:Jc,Yca:jc,
Lk:Ac,Gv:zb,aTb:gc,hh:Gc})=>{var uc;const zc=a.document,Ec=Sa.Ud("editor.page_navigator"),yc=Ec.sb("page_navigator_install"),ld=new e_s(Xa,bb),Od=new VZs(Xa),Ad=new __c.u1s(zc,a,wa,d,M,za,Rc.XGb,ra,Fa),Bc=new t1s(zc,h,k,l,ld,Ec,Fa,a.Ch,g,Ac),{onContextMenu:Sc,y3b:od}=o_s({document:zc,N:ld,V:Ec,L:Bc,store:Ad,config:b,kh:W,gb:I,RE:Eb}),vd=new __c.Ok,he=fV(({connectDropTarget:wd,drag:Vd,...le})=>wd(dV("div",{children:dV(U0s,{document:zc,store:Ad,L:Bc,N:ld,udn:!!Vd,WEa:Vd&&Vd.F3,gVa:ve.Bw.isLinear,...le})}))),
cf=lc(d,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers widget sheet".split(" "),(wd,{page:Vd})=>{Qd.HCm(wd,Vd)},he),Je=new __c.tv,{rac:Vc,Bda:hd}=oGs(mV(()=>Ad.ii)),{Zab:xd,Xo:Fd,Weg:lf,CGl:Ig}=MGs({timing:g,lN:Ad,V:Ec,N:ld,Bda:hd,W0a:r,qd:Ba}),ve=aMs({sS:G,Iga:c,errorService:Ya,P:Xa,Ga:Sa,J4g:ld,eIa:ob,Z2b:mb,rac:Vc,Bda:hd,FAb:p,wr:q,W0a:r,hsa:t,k_:u,QZ:w,$M:x,PT:y,Xxa:A,D8b:z,c4e:D,
zy:m,Xo:Fd,Zab:xd,Weg:lf,XP:Je,Dc:d,gb:I,Pa:e,$b:f,timing:g,oc:h,yl:fa,KE:ca,Ebc:qa,Ma:ra,Ec:sa,keyboardShortcuts:X,la:nb,document:zc,Uj:K,Ll:N,viewport:wa,qd:Ba,$gj:Va,kkd:cf,mfa:Aa,selection:Fa,Zo:Ea,TOa:La,QR:Ja,Ro:vd,JFa:b,lN:Ad,Nqb:Bc,g$:ba,ka:za,whc:da,Df:ic,toolbar:Q,Cd:S,vc:la,kh:W,Zqa:yb,Ca:(uc=a.doctype)===null||uc===void 0?void 0:uc.id,Ch:a.Ch,Ima:lb,$f:qb,Ez:pb,Lk:Ac,Yca:jc,onContextMenu:Sc,Xd:Jc,ORc:Rb,WBe:Cb,RE:Eb,Bzm:!Wb(),Gv:zb,aTb:gc,hh:Gc});ve.qG.oMa(()=>b.tTj);if(sa.Pla&&c!=null){const {Hgs:wd,
rlp:Vd}=eMs({selection:Fa,Iga:c});sa.Pla.edf=Vd;sa.Pla.WBb=wd.WBb;sa.Pla.xjf=wd.xjf}g.mjl=wd=>{var Vd;(Vd=ve.uA)===null||Vd===void 0||Vd.seek(wd/1E6,"start");({behavior:Vd="smooth",fEp:le="start"}={behavior:"smooth",fEp:"start"});var le;wd=n(xd.OUa).LIa(wd,{wgc:le==="end"});FGs(xd,wd,Vd)};const jg=C0s({L:Bc,lgb:()=>ve.Bw.lgb&&!(z===null||z===void 0?0:z.gOd.size),uA:ve.uA,s4e:ve.s4e,qG:ve.qG,store:Ad,keyboardShortcuts:X,N:ld,V:Ec});Sqs(()=>Ad.hN,()=>{const wd=ve.Bw,Vd=ve.uA;eV(()=>wd.lgb,le=>{le||
Vd===null||Vd===void 0||Vd.i3k()})});sa.b6b&&(sa.b6b.YNf=()=>K.mq==="thumbnail"?hd.CEl:0);$b.NRf({name:"page-navigator",QGb:()=>Ad.ENs,Uxi:AV.FIm?Ad.Ofo:void 0});const ke=new p4s(wa,K,qb,ra,Od,Ec);ba.q_a.install("view_mode",{Qd:()=>sa.iLa==null,Component:fV(({A0a:wd})=>dV(o4s,{A0a:wd,mq:K.mq,$f:qb,onClick:K.mq==="thumbnail"?ke.RBn:ke.fCn,onMouseDown:ke.CKn,onMouseUp:ke.DKn}))});const Qd=new s1s(zc,wa,d,Bc,Ad,a.undo,ka,oa,fa,aa,ja,B,I),{oI:Oe,Xea:ge}=m_s({lN:Ad,config:b,Df:ic,XP:Je,Ia:zc});M0s({XP:Je,
JFa:b,Nqb:Bc,lN:Ad});n4s({document:zc,L:Bc,store:Ad,Bw:ve.Bw,Cd:S,selection:Fa,P:Xa,Uj:K,Ec:sa});const ne=Fb||rYs(zc.pages.toArray()),Bd=B0s({viewport:wa,F0f:ve,ke:Ra,xS:Rc.xS,kh:W,y3b:od,document:zc,Ma:ra,L:Bc,store:Ad,timing:g,vc:la,gb:I,zy:m,ifa:M,Xo:Fd,JFa:b,$f:qb,Lk:Ac,onContextMenu:Sc,igg:G.sJm,UWa:G.UWa,gxg:G.gxg,U6e:G.U6e,hmr:ne}),qe=fV(({connectDropTarget:wd,...Vd})=>{var le;const Sf=!((le=Vd.drag)===null||le===void 0||!le.F3);iV(()=>{Sf||Qd.Vcd()},[Sf]);return wd(dV("div",{children:dV(Bd,
{...Vd,kul:Sf})}))}),Of=lc(d,"searchMedia video template pageView generatedDesign audio searchShape line table chart appElement grid design embed file textParagraph textPlaceholder datasetFieldPlaceholder pageNumbers editingElements widget sheet layout".split(" "),(wd,{page:Vd})=>{Qd.nqb(wd,Vd,!1)},qe,{Ht:(wd,{page:Vd})=>{Qd.vZb(wd,Vd.page);if(Qd.canDrop(wd,Vd.ia))return ve.CZs(wd,Vd.page,{scrollLeft:Fd.scrollLeft,left:Fd.getBoundingClientRect().left})},canDrop:(wd,{page:Vd})=>Qd.canDrop(wd,Vd.ia)}),
Ed=fV(({connectDropTarget:wd,drag:Vd,...le})=>{var Sf,Hd;const Fe=(Hd=(Sf=qb.qxh)===null||Sf===void 0?void 0:Sf.Um)!==null&&Hd!==void 0?Hd:bLs;return wd(kV("div",{children:[qb.kBh&&dV(qb.kBh,{}),Eb?dV(Fe,{children:dV(__c.a_s,{WEa:Vd===null||Vd===void 0?void 0:Vd.F3,Eo:Ad.ii,floating:!1,aLa:b.aLa,...le})}):dV("div",{style:{width:le.dimensions.width},children:dV(Fe,{children:dV(ZZs,{WEa:Vd===null||Vd===void 0?void 0:Vd.F3,floating:!1,Eo:Ad.ii,...le})})})]}))}),ag=lc(d,"searchMedia video template pageView generatedDesign searchShape line table chart appElement grid layout design embed file textParagraph textPlaceholder pageNumbers editingElements widget sheet".split(" "),
wd=>{Qd.LEn(wd)},Ed,{canDrop:wd=>{var Vd=Qd;const le=Vd.document.pages.last();return le!=null&&Vd.canDrop(wd,le)}}),Pd=fV(()=>b.tTj&&dV(l4s,{})),Dd={Ia:zc,config:b,Bda:hd,Ro:vd,tzc:Oe,kSo:ge,Qzc:Of,O3b:ag,Xtp:Pd,L:Bc,Nat:ke,F0f:{PUa:ve.PUa,jfu:ve.uA!==void 0,qG:ve.qG,Rkj:ve.Rkj,Yhe:ve.Yhe,Vcf:ve.Vcf,e0i:ve.e0i,ADf:mV(()=>ve.Bw.ADf),BDf:mV(()=>ve.tgc.h3c),bxk:mV(()=>ve.Bw.isLinear)},store:Ad,Xo:Fd,CGl:Ig,V:Ec,N:ld,Wyc:Od,Rc:()=>{xGs(Bc,Ad,wa);lf.init()},ki:()=>{var wd;(wd=Bc.gum)===null||wd===void 0||
wd.call(Bc);lf.dispose()},$f:qb,l$r:jg,Bzm:!Wb()};eV(()=>({layout:za.layout,dvl:K.mq==="thumbnail"&&!sa.iLa}),({layout:wd,dvl:Vd})=>{if(Vd){var le=0;Vd=Ab===null||Ab===void 0?void 0:Ab.draft.Pad;var Sf=Ab===null||Ab===void 0?void 0:Ab.draft.EK.thumbnail.images;Sf&&Vd&&Ad.hC===Vd.length&&(le=Vd.reduce((Hd,Fe)=>Sf.find(rd=>rd.SEd===Fe)?++Hd:Hd,0));switch(wd){case 2:sa.B2=void 0;S.B2=L0s(Hd=>ld.UCo({Rb:Hd,vBm:K0s(Ad,zc),mui:le}),Ec,()=>dV(q1s,{...Dd,Tiq:!0}));break;case 1:S.B2=void 0;sa.B2=L0s(Hd=>ld.UCo({Rb:Hd,
vBm:K0s(Ad,zc),mui:le}),Ec,()=>dV(q1s,{...Dd,Tiq:!1}));break;default:throw new v(wd);}}else sa.B2=void 0,S.B2=void 0;yc.end()},{fireImmediately:!0,equals:lV.shallow});const Xc=Ff(zc);eV(()=>K.mq,(wd,Vd)=>{var le,Sf;Vd==="scroll"&&wd==="thumbnail"&&((Sf=Fa.state)===null||Sf===void 0?void 0:(le=Sf.Yz)===null||le===void 0?void 0:le.ia)!==wa.ya&&Fa.DU(Xc,wa.ya)});setTimeout(()=>{Ad.od=!0});return{m$r:Je}};
fC.cer=function(a){const b=a.ka,c=a.session.document,d=a.sc,e=a.viewport,f=a.gb,g=a.ih,h=a.Ga,k=new D4s,l=new E4s(k,c,a.Gb,a.selection,a.INb,a.nka,a.KE,a.k1c),m=mV(()=>a.qa.status===2),p=a.X,q=a.ja;a.kh.kc(()=>{{var u;const x=l.config.fce,y=l.selection.La;var w=x&&(y===null||y===void 0?void 0:y.type)==="elements"&&((u=y.inner)===null||u===void 0?void 0:u.type)!=="table"&&(y.elements.length>1||lMs(y.elements[0]))?{selection:y,fce:x}:void 0}return w},(u,w)=>{u.dXc=w?{Button:fV(x=>{const y=hV(()=>{h.Ud("editor.editing.publishing").sb("editor.publish.click_download_selection",
{Fb:{name:"editor.publish.click_download_selection",attrs:new Map([["location","contextualMenu"]])}}).ne();!p&&q?__c.Tl(a.he,__c.Ul.n0a,"download_selection",{rdd:"pageview"}):l.fce(w)},[]);return dV(x.fl,{label:L("xW6dpg"),Icon:__c.CD,onClick:y,oa:x.oa,disabled:m.get()})})}:void 0});a.canvas.kc(()=>{var u,w;return b.layout===1&&!!((w=a.session.doctype)===null||w===void 0?0:(u=w.Qc)===null||u===void 0?0:u.TYd)},(u,w)=>{u.yg.Fdj=w?x=>dV(C4s,{...x,sc:d,gb:f}):void 0});const r=new G4s(k,e),t=new H4s(r,
k,e);a.canvas.kc(()=>t.mzo,(u,w)=>{u.yg.q$f=w?fV(({Pc:x})=>{const y=hV(()=>t.D0m(w.s$d),[]),z=hV(()=>t.Z0m(w.s$d),[]);return dV(oMs,{region:r.region,P$r:x.scale,Ol:w.Ol,I1g:t.F0m,H1g:t.E0m,G1g:y,e3r:t.a1m,d3r:t.$0m,c3r:z,ih:g})}):void 0});return{y9k:k}};
fC.her=function({document:a,JFa:b,Le:c,ptg:d,selection:e,Iga:f,Avj:g,EX:h,oc:k,timing:l,qd:m,runtime:p,ea:{errorService:q,s1:r,xr:t,P:u},Uj:w,X:x,gb:y}){b!=null&&I4s&&h!=null&&f!=null&&x!=null&&(g=g.filter(z=>window.MediaRecorder!=null&&window.MediaRecorder.isTypeSupported(z)),a=sMs({document:a,JFa:b,Le:c,selection:e,Avj:g,EX:h,oc:k,Iga:f,timing:l,qd:m,runtime:p,errorService:q,s1:r,Uj:w,xr:t,X:x,P:u,gb:y}),ips(d,a.q4a))};
fC.rer=function({canvas:a,viewport:b,Ro:c,document:d,Ti:e,ka:f,keyboardShortcuts:g,P:h,Xd:k,Q9b:l,selection:m,Ma:p}){if(l){var q=new W4s(a,b,d,p,m,l,f,e,J4s),r=new V4s(q,a,b,d,l,e,h,K4s),t=mV(()=>q.zQ),u=mV(()=>q.TLg),w=mV(()=>q.Zeh),x=I=>r.fFg(I),y=(I,K,N)=>r.getPosition(I,K,N),z=I=>fV(()=>dV(U4s,{direction:I,Zeh:w,zQ:t,TLg:u,fFg:x,hFg:y}));e=I=>{const K=z(I);return fV(({m1:N})=>dV(R4s,{direction:I,document:d,L:r,viewport:b,Ro:c,canDrag:q.EZc,m1:N,Q9b:l,Wop:q.Kqo?K:void 0}))};var A=e("vertical"),
B=e("horizontal");a.kc(()=>q.enabled&&q.jtl,(I,K)=>{I.TLa.dld=K?A:void 0;I.TLa.$jd=K?B:void 0});var D=()=>wMs(r,"file_menu");a=gV(()=>wMs(r,"keyboard_shortcut"));var G=Vo("r");g.register([G,a,L("P76q1Q"),["edit","view","comment"]]);k.Lu(()=>q.jtl,({iM:I},K)=>{I&&(I.hjj=K?{Button:fV(N=>dV(X4s,{...N,onClick:D,im:G,isEnabled:q.enabled}))}:void 0)})}};
fC.Uan=function(a){const b=a.Ma,c=a.kh;var d=a.cmo;const e=d.Vc,f=d.AOb;d=d.Vi;const {Gsi:g}=ZMs({...a,Vi:d}),{cun:h}=UMs({...a,Vi:d});e&&d&&f&&tNs({...a,Vc:e,AOb:f,Vi:d});RMs({...a,Vi:d});const k=new b5s(g,h);c.kc(()=>b.mode===40&&k.Vpo,(l,m)=>{l.mfj=m?{Button:fV(p=>dV(p.fl,{...p,Icon:__c.iv,label:L("TuY+Qw")}))}:void 0})};
fC.Van=function(a){function b({Rzd:la,source:ka}){la===null||la===void 0||la.preventDefault();oV(()=>{switch(m.layout){case 2:break;case 1:e.mAc!=null&&Object.values(Q).includes(e.mAc)?e.mAc=void 0:e.mAc=Q[ka];break;default:throw new v(m.layout);}})}const c=a.Xd,d=a.Ma,e=a.Ec,f=a.viewport,g=a.keyboardShortcuts,h=a.p9a,k=a.dya,l=a.we,m=a.ka;var p=a.P,q=a.errorService,r=a.la,t=a.locale,u=a.Ti;const w=a.Ga.Ud("editor.editing.richtext.finding_and_replacing"),x=q.vf("text_finding_and_replacing"),y=new g5s;
p=new f5s({N:p});let z;q=()=>{};if(a.Ja!=="responsive"){const la=a.canvas;q=a.session;var A=q.document,B=q.undo;const ka=a.selection;q=a.jc;const oa=a.rf,ja=a.gb,fa=a.se,aa=a.Vc,ca=aa&&new k5s({...a,Vc:aa}),qa=J5s.create({store:y,Ma:d,document:A,Xa:a.Xa,$V:a.$V,Cpi:aa&&new m5s({...a,Vc:aa}),viewport:f,uy:p,V:w,fd:a.fd}),ra=t5s.create({store:y,document:A,Ma:d,selection:ka,jc:q,viewport:f,se:fa,Ti:u,rf:oa,gb:ja,uy:p,V:w,oHk:ca,$dc:qa});z=ra;HOs({store:y,canvas:la,viewport:f,VLq:ra,$dc:qa});q=(()=>{let wa=
()=>rOs({canvas:la,Wba:sa,store:y,L:ra,viewport:f,Jjh:K,errorService:x});return()=>{wa!=null&&(ka.deselectAll(),wa(),wa=void 0)}})();const sa=a.Wba;r=tOs.create({store:y,h2b:ra,document:A,vc:a.vc,undo:B,Vc:aa,errorService:x,uy:p,V:w,Zc:a.Zc,Pi:a.Pi,la:r,$dc:qa})}else u=a.session,A=a.canvas,B=a.Vc,a=J5s.create({store:y,Ma:d,document:u.document,Xa:a.Xa,$V:a.$V,Cpi:B&&new m5s({...a,Vc:B}),viewport:f,uy:p,V:w,fd:a.fd}),HOs({store:y,canvas:A,viewport:f,$dc:a}),z=a,r=xOs({store:y,h2b:a,document:u.document,
undo:u.undo,errorService:x,uy:p,V:w,la:r,Vc:B});if(z!=null){if(r!=null){t=POs({store:y,L:r,locale:t,ka:m});var D=t.Nhj;var G=t.Rej}var {Form:I,Jjh:K}=KOs({store:y,L:z,nAr:new h5s(y,z),errorService:x,Rc:q,Nhj:D,Rej:G}),N=(la,ka)=>{y.isMounted&&(la.preventDefault(),ka?z.T9j():z.P9j())},M=[[bl("f"),la=>b({Rzd:la,source:"keyboard-shortcut"})],[bl(Vo("g")),la=>N(la,!0)],[bl("g"),la=>N(la,!1)]],S=fV(({source:la})=>{const ka=hV(()=>b({Rzd:void 0,source:la}),[la]);return dV(__c.Fp,{map:M,mr:!0,children:dV("div",
{className:"J_K8Hw",children:dV(I,{mode:"canvas-overlay",onClose:ka,source:la})})})}),Q={"file-menu":FV(()=>dV(S,{source:"file-menu"})),"keyboard-shortcut":FV(()=>dV(S,{source:"keyboard-shortcut"})),"quick-actions":FV(()=>dV(S,{source:"quick-actions"}))},W=bl("f");oV(()=>{g.register([W,la=>b({Rzd:la,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]]);h===null||h===void 0||h.register([W,la=>b({Rzd:la,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]]);
k.register([W,la=>b({Rzd:la,source:"keyboard-shortcut"}),L("B4Kpbw"),["edit","suggest","view","comment"]])});var X=new __c.i8d,ba={df:fV(({oa:la})=>dV(I,{onClose:la,mode:"sheet",source:"file-menu"})),options:{rg:fV(()=>dV(rV,{children:z.tkh?L("TP6Mzw"):L("+MHgZQ")})),Bwc:!1}},da;c.Lu(()=>({mode:d.mode,layout:m.layout}),({iM:la})=>{if(la){const ka=m.layout===1;da={Button:fV(oa=>{const ja=oa.onClick,fa=oa.oa,aa=hV(()=>{ka?b({Rzd:void 0,source:"file-menu"}):(ja===null||ja===void 0||ja(),X.Xg(ba),fa===
null||fa===void 0||fa())},[ja,fa]);return dV(G5s,{...oa,onClick:aa,oa:fa,label:d.mode===40?L("PV2q7g"):L("mQjTGw"),im:ka?W:void 0})}),navigation:ka?void 0:X};la.mAc=da}});l===null||l===void 0||l.install({type:"simple",key:"text-find-and-replace",im:bl("f"),name:L("PV2q7g"),Icon:d5s,execute:async()=>{m.layout===1?b({Rzd:void 0,source:"quick-actions"}):da==null||__c.efe(c,da)||(X.clear(),c.Ctc(da),X.Xg(ba))}})}};
fC.ffr=function({Ch:a,Uj:b,Ec:c,FAb:d,keyboardShortcuts:e,ka:f,Xd:g,P:h}){if(a!==1){a=gV(()=>{b.mq="thumbnail";d===null||d===void 0||d.gFj();h.track(__c.R$g,{mq:"thumbnail_view",wuc:"scrolling_view",kb:"keyboard_shortcut"})});var k=gV(()=>{b.mq="scroll";d===null||d===void 0||d.gFj();h.track(__c.R$g,{mq:"scrolling_view",wuc:"thumbnail_view",kb:"keyboard_shortcut"})});e.register([bl(Xo("1")),k,L("mDtR3A"),["edit"]],[bl(Xo("2")),a,L("ZVsdnw"),["edit"]]);var l=new R5s(b,c,f),m=new Q5s(l,b,h,d);g.Lu(()=>
l.Ipo,({iM:p},q)=>{p&&(p.y$f=q?{Button:fV(r=>dV(P5s,{...r,LFl:m.LFl,dB:l.dB}))}:void 0)})}};
fC.jfr=function({Ia:a,viewport:b,selection:c,qd:d,ka:e,Ma:f,canvas:g,Cd:h,kh:k,JFa:l,P:m,sc:p,Yca:q,Xw:r,Df:t,nn:u,Xxa:w,timing:x,XP:y,$f:z,la:A,Ga:B,Yf:D,G2j:G}){function I(Fa,Ea){eV(Fa,La=>{var Ja;(Ja=l.dli)!==null&&Ja!==void 0&&Ja.get()&&(Ja=Ea(),Ja.length===1&&Ja[0]===La&&ba.close())})}B=B.Ud("editor.editing.transition");var K=__c.dc();K=K&&new __c.pEe(K,"Transition",Fa=>Fa.label.replace(/\s/g,"_"));const N=new I6s(c,b),M=new F6s(a,r.Vwc,q.$ja,b,d,m,B,z,c,new Date,K,()=>{A.Ib({Cb:L("k2JMiA")})},
mV(()=>x.Hs?f6s:e6s));M.init();const S=new G6s(a,r.Vwc,b,c,M,q.$ja,d),Q=new __c.tv,W=new H6s(y,Q),X=new A6s,ba=new B6s(a,X,u,c,b,M,S,m,W,B,e);g.kc(()=>M.hes,(Fa,Ea)=>{if(Ea){var La=Ea.XY;Fa.yg.lDh=fV(Ja=>{var Ra,Va=xg(4,pk(Ja.page.page,a.dimensions));const Ya=Ja.Pc.scale;Va={width:Va.width*Ya,height:Va.height*Ya};return Ja.page.page===((Ra=M.ya)===null||Ra===void 0?void 0:Ra.page)?dV(La,{sc:p,aga:Va,Ofn:!1}):null})}else Fa.yg.lDh=void 0});k.kc(()=>f.mode===40&&N.wSa,(Fa,Ea)=>{const La=()=>ba.open({kb:"contextual_menu",
kKl:ba.MUc,entryPoint:"pageNavigator"});Fa.x8i=Ea?{Button:fV(Ja=>dV(Ja.fl,{label:M.SN?L("zb4Baw"):L("ilHeTQ"),onClick:La,Icon:__c.Dos,oa:Ja.oa,disabled:M.ya?M.TKb(M.ya.page):!0}))}:void 0});const da={getLabel:Fa=>e.layout===2?L("o31hEQ"):M.TKb(Fa)?L("2DF9ug"):Fa.transition.ref?L("zb4Baw"):L("ilHeTQ"),isActive:Fa=>!!Fa.transition.ref,isDisabled:Fa=>M.TKb(Fa),ma:fV(({page:Fa,rq:Ea})=>dV(v6s,{nr:e.layout===2,Dji:Ea,men:M.Odb(Fa)&&ba.MUc.includes(Fa),transition:Fa.transition.ref})),onClick(Fa){ta(M.Odb(Fa));
ba.open({page:Fa,kb:"click",kKl:ba.MUc,entryPoint:"pageNavigator"})}},la={getLabel:Fa=>e.layout===2?L("o31hEQ"):S.TKb(Fa)?L("2DF9ug"):Fa.transition.ref?L("zb4Baw"):L("ilHeTQ"),isActive:Fa=>!!Fa.transition.ref,isDisabled:Fa=>S.TKb(Fa),ma:fV(({fill:Fa,rq:Ea})=>dV(v6s,{nr:e.layout===2,Dji:Ea,men:!S.TKb(Fa)&&ba.p8e.includes(Fa),transition:Fa.transition.ref})),onClick(Fa){S.fRa&&(__c.d2a(c,S.fRa,Fa),ba.QLn(Fa,"click","pageNavigator"))}};eV(()=>f.mode===40,Fa=>{Fa&&(x.Hs?l.Ifg.Dlj=la:l.Ifg.bag=da)},{fireImmediately:!0});
l.dli=mV(()=>ba.d3g!=null);x.Hs?eV(()=>ba.p8e.length===0||f.mode!==40,Fa=>Fa&&ba.close()):eV(()=>ba.MUc.length===0||f.mode!==40,Fa=>Fa&&ba.close());const ka=a.pages.first();x.Hs&&(ka===null||ka===void 0?void 0:ka.type)==="fixed"?I(()=>ka===null||ka===void 0?void 0:ka.Jc.last(),()=>[...ba.p8e]):I(()=>a.pages.last(),()=>ba.MUc);const oa=__c.VFe(r.nTb,W.Xoe),ja=Fa=>dV(__c.BGe,{...Fa,navigation:W.Xoe,ka:e,v9:oa}),fa=fV(()=>(w===null||w===void 0?0:w.isEnabled)?dV(Pk,{tone:"warn",size:"small",dismissible:!1,
children:dV(__c.mk,{message:__c.yDe()})}):null),aa=NGs(async()=>{const {tup:Fa}=await __webpack_require__.me(305908).then(()=>({tup:__c.R6s}));return{default:Fa}}),ca=NGs(async()=>{const {vup:Fa}=await __webpack_require__.me(305908).then(()=>({vup:__c.S6s}));return{default:Fa}}),qa=NGs(async()=>{const {uup:Fa}=await __webpack_require__.me(305908).then(()=>({uup:__c.T6s}));return{default:Fa}}),{Geq:ra,yZs:sa,hFs:wa,zZs:za}=QOs({L:M,o_e:S,viewport:b,tas:ba});X.N9f=fV(()=>{const Fa=x.Hs?sa:ra,Ea=x.Hs?
za:wa;return dV(PGs,{fallback:dV(T5s,{}),children:dV(ca,{gr:M.gr.get(),...Fa,onClick:Fa.lJn,L9f:()=>dV(PGs,{fallback:null,children:dV(aa,{nr:!0,...Ea,Df:t,sja:ja})}),bdb:fa,navigation:W.Xoe})})});X.Xcb=fV(()=>{const Fa=x.Hs?sa:ra,Ea=x.Hs?za:wa;return dV(PGs,{fallback:dV(U5s,{f$b:D}),children:dV(qa,{gr:M.gr.get(),Yf:D,...Fa,L9f:()=>dV(PGs,{fallback:null,children:dV(aa,{...Ea,sja:ja})}),bdb:fa})})});X.Ce=()=>L("gK/oPw");X.title=L("gK/oPw");const Ba=()=>ba.open({kb:"click",kKl:ba.MUc,entryPoint:"toolbar"}),
Aa=()=>{var Fa;return f.mode===40&&!((Fa=ba.MUc)===null||Fa===void 0||!Fa.length)&&M.ya!=null&&!M.TKb(M.ya.page)};eV(Aa,Fa=>{h.dIa.Transition=Fa?()=>({label:{ro:()=>L("o31hEQ"),ma:{navigation:Q},zh:()=>Ba(),dr:fV(()=>M.$Uh&&M.$Uh.type!==void 0?M.$Uh.label:void 0)},ma:{ma:fV(Ea=>(X===null||X===void 0?0:X.N9f)?dV(X.N9f,{...Ea}):null)}}):void 0});h.plugins.Transition=()=>({Qd:()=>G&&Aa()||e.layout===2&&Aa(),Button:fV(Fa=>{const Ea=L("o31hEQ");return dV(Fa.zi,{...Fa,pressed:Fa.open,selected:N.fum,icon:__c.Dos,
yh:"icon-and-label",onClick:()=>{var La;Ba();(La=Fa.onClick)===null||La===void 0||La.call(Fa)},children:Ea})}),navigation:Q})};
fC.kfr=function({oKl:a,selection:b,undo:c,toolbar:d,Cd:e,we:f,P:g,Yf:h}){const k=new L6s(a,b,g),l=__c.PMe(c),m={Qd:()=>k.sVf!=null,Button:fV(p=>dV(M6s,{...p,zh:k.Rrc})),Vu:{rg:()=>L("esjKOA")},ma:fV(p=>dV(N6s,{Oh:l,value:n(k.sVf),onChange:k.TKn,Zg:k.g3r,Oe:p.Oe,Yf:h}))};e.plugins.AFb=()=>m;f===null||f===void 0||f.ym(()=>k.sVf!=null,{type:"simple",key:"transparency",name:L("esjKOA"),aliases:[L("RNACiA")],Icon:__c.sXr,execute:async()=>{var p;if((p=m.Qd)===null||p===void 0?0:p.call(m))d.vB(m),k.Rrc()}})};
fC.Wan=function(a){const b=a.session,c=a.Db,d=a.hi,e=a.Xd,f=a.Ma,g=a.vqg,h=a.Hb,k=a.Qc;if(k.status===Vx.Lr)return{m4f:void 0};const {Sne:l,open:m}=zPs(a),p=k.status===Vx.Zh;e.Lu(()=>f.mode===40,({iM:q},r)=>{q&&(q.cld=r?{Button:fV(t=>{const u=p?h.Rd.Olj:void 0;return dV(l,{source:"file_menu",render:({onClick:w,loading:x,disabled:y})=>dV(t.NE,{ZY:__c.baj,onClick:()=>{var z;w();(z=t.onClick)===null||z===void 0||z.call(t)},lg:x?__c.rv:u,disabled:y,children:L("ETXuvQ")})})})}:void 0)});if(g){const q=p?
__c.nJ:bj,r=()=>dV(l,{source:"design_status",render:({onClick:t,disabled:u,loading:w})=>dV(q,{variant:"primary",onClick:t,disabled:u,loading:w,stretch:!0,children:L("EV/mkA")})});g.Sne=()=>f.mode===40?r:void 0}d&&__webpack_require__.me(885017).then(()=>__c.Ycj).then(gV(({vfr:q})=>{q({hi:d,Db:c,da:b})}));return{m4f:new O6s(m)}};
fC.Efs=function(a){const b=a.Bc,c=a.oc,d=a.alert,e=a.P,f=a.yvb,g=a.Hb,h=a.ya,k=a.Xr,l=a.fm,m=a.Gb,p=a.Tb,q=a.Db,r=a.da,t=a.Sq,u=a.ej,w=a.Kvg,x=a.errorService,y=a.ob,z=a.Ez,A=a.SEe,B=a.mba,D=a.yb,G=a.nL,I=a.Wha,K=a.Ri,N=a.la,M=a.qa,S=a.ka,Q=a.gb,W=a.c4b,X=a.Na,ba=a.Xw,da=a.selection,la=a.tg,ka=a.s0,oa=a.Ma,ja=a.Jsb,fa=a.DWa,aa=a.dvf,ca=a.QLd,qa=a.Ga,ra=a.viewport,sa=a.HM,wa=a.yQb,za=a.XGb,Ba=a.Le,Aa=Promise.all([__webpack_require__.me(301523).then(()=>__c.U6s),G()]).then(gV(([{tcr:Fa},Ea])=>Fa({Ia:r.document,
da:r,Gb:m,Tb:p,Db:q,ka:S,gb:Q,ya:h,Ma:oa,fm:l,Sq:t,designId:r.id,mba:B,Xr:k,selection:da,tg:la,Xw:ba,oc:c,s0:ka,DWa:fa,Ez:z,Bc:b,SEe:A,SOq:Ea,undo:r.undo,alert:d,viewport:ra,la:N,Na:X,errorService:x,Wha:I,ob:y,yb:D,qa:M,P:e,Ga:qa,c4b:W,Kvg:w,QLd:ca,dvf:aa,yvb:f,HM:sa})));wa.then(Fa=>{Fa.register("widget:form",()=>Aa)});__c.ffe(ja.O$m,({ZL:Fa,Rv:Ea})=>{const La=r.document;__c.iRo&&la&&La.Ja==="fixed"&&Promise.all([__webpack_require__.me(308764).then(()=>__c.V6s),G(),K()]).then(([{C7p:Ja},Ra,Va])=>
{Ja=Ja({rs:Ra.rs,ej:u,Na:X,Dk:Va,errorService:x,Rv:Ea,Le:Ba,X:la,Kf:r.extension,ja:r.id,Ia:La,N:Fa.N,xQ:za.q5r,Cv:()=>Fa.Cv(2),TGb:Fa.close,viewport:ra,J0:g.J0,A2:g.A2,x_b:aa,HM:sa});Fa.myd(2,Ja)})})};fC.Mfs=async function(a){return Promise.all([a.eFa,__webpack_require__.me(70971).then(()=>__c.W6s)]).then(([b,{Vcr:c}])=>c({...a,eFa:b}))};
fC.Qfs=function(a){let b=[];const c=yV.box(e=>{b.push(e);if(b.length>1)for(;b.length>10;)b.shift();else __webpack_require__.me(489062).then(()=>__c.X6s).then(gV(({Lfr:f})=>{const {IDr:g}=f(a);b.forEach(h=>g(h));b=[];c.set(g)}))});let d;eV(()=>{const e=a.jc.state;return e&&e.type==="focused"&&e.contentType===0?e.element:void 0},e=>{const f=d===null||d===void 0?void 0:d.text.Ya;f&&c.get()(f);d=e});return c};
}).call(self, self._456c437108d2d2713799e19380be528d);}

}])
//# sourceMappingURL=sourcemaps/0ae4904213fb1fd2.js.map